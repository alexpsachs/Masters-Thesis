{
    "jeffbcross": "The utilities for list types of data are already in place because of the FirebaseList provider.\n. Further implementation discussion in PR #53\n. I'm going to close this since the auth implementation exists, and for now the redirect will have to be handled in the application. We can open a follow-up issue if we come up with ways this library can provide more support for auth-based redirect later on.\n. Closing in favor of #41\n. > The only other thing I think is needed here is guidance on injecting Firebase references into components.\nHere's the unit test for how I have it implemented locally:\n(TL;DR: inject DEFAULT_FIREBASE to get the url, or DEFAULT_FIREBASE_REF to get the ref for the default url).\n``` typescript\nimport {Injector, provide} from 'angular2/core';\nimport {FIREBASE_PROVIDERS, DEFAULT_FIREBASE, DEFAULT_FIREBASE_REF} from './angularfire';\ndescribe('angularfire', () => {\n  describe('DEFAULT_FIREBASE_REF', () => {\n    it('should provide a FirebaseRef for the DEFAULT_FIREBASE_REF binding', () => {\n      var injector = Injector.resolveAndCreate([\n        provide(DEFAULT_FIREBASE, {\n          useValue: 'https://ng2-forum-demo.firebaseio.com'\n        }),\n        FIREBASE_PROVIDERS\n      ]);\n      expect(typeof injector.get(DEFAULT_FIREBASE_REF).on).toBe('function');\n    })\n  });\n});\n```\n\nJust a little question. Is af_unwrap calling .val() on the DataSnapshot?\n\nYeah, it'd essentially be (naive cased to support array. should also support objects):\ntypescript\nclass AfUnwrap {\n  transform(input:Observable<any[]>):Observable<any[]> {\n    return input.map(arr => arr.map(snap => snap.val()));\n  }\n}\nCC @davideast \n. I pushed my branch in all its WIP glory: https://github.com/jeffbcross/indy/tree/experiments\n. Another thing I forgot to include in the proposal was how to manage pagination, or making the query more interactive. I want to make it possible to incorporate scalar or observable values into the query part of the list. And when new values would be pushed to an observable, the query would be re-performed underneath.\nSince the decorator definition object doesn't have access to the class instance, it wouldn't be possible to include direct references to class properties in the annotation. So there needs to be a way to reference the property by name instead of reference. The two ideas that come to mind are a string-based DSL to specify interpolated properties, i.e. query: [['limitToFirst', '{{pageSize}}']] and a more explicit approach using functions to designate dynamic values: query: [['limitToFirst', observableQuery('pageSize')]]. I lean toward the 2nd, explicit option.\n. > What's the advantage of using a @FirebaseList or @FirebaseObject decorator over a service e.g. new Firebase( pathAndOptions ) or getFirebase( pathAndOptions )?\n@TylerEich good question. To answer the \"why a decorator\" part of the question, using a decorator makes code more statically-analyzable for tooling to be built in the future (tooling for refactoring, stubbing out components with Firebase integration, etc).\n\nI noticed that Falcor makes extensive use of Observables, but not by subclassing. They use a Model constructor with methods (getValue, setValue) that return Observables.\n\nI wanted a succinct, flat-as-possible API. And @blesh, maintainer of RxJS 5, has officially told me that he approves of subclassing Observable in this way.\n\nFinally, I'm really excited to see things starting to take shape for Firebase and Angular 2. Looking forward to the future of this project :sunglasses:\n\nMe, too!\n. Achievement unlocked: a comment from @blesh .\n\nWhat I wouldn't do: Subclass Observable and start building a highly stateful type out of it with a bunch of methods that affect that state.\n\nIn this case, the mutation methods are just proxying mutations to the Firebase ref, which persists the change and then emits an event such as child_added once it has satisfactorily persisted the change. So the Observable itself isn't tracking state, other than an array that is internally kept in sync as child_moved, child_added, and child_removed events are emitted from Firebase.\n. Update: I've updated angular/angular issue #6643 to describe how @tbosch recommends we approach this with Dependency Injection instead of a decorator, giving us the same benefits without hacks/side-effects. There's one catch: DI can't do what I need right now, and it may not be easy to convince others on the team that it should. \n. Thx for putting @blesh in his place, @gaearon. I've tried and failed many times.\n. Closing in favor of #39 \n. > Do you want me to submit a PR ?\nyeah\n\nIs there a way to change the hosts file on the CI? Or do we need another workaround there?\n\nYes! It's in .travis.yml\n. @urish if I made the change myself, people would see the commit and say \"Jeff is so smart, he figured that out by himself.\" I couldn't live with the guilt of stealing your credit.\n. @urish awesome!\nClosed by 4a823054dd5ae7438690fd4602fccb3eb8cf4495\n. I've got a branch where I've started exploring a design for this. I haven't finished tying in the FirebaseListFactory with this yet, but I think it's a good start. Currently, only orderBy queries are supported.\nDesign:\n- function called observeQuery that takes in an AngularFireQuery object.\n- FirebaseListFactory calls observeQuery to get an observable of a ScalarAngularFireQuery based on user input.\n- observeQuery subscribes to any observable values inside of the AngularFireQuery object and emits a new ScalarAngularFireQuery anytime one of the observables emits a value.\n- An AngularFireQuery can have multiple conflicting observables. Last one to emit a value wins.\n- When a new query is emitted from observeQuery, FirebaseListFactory disposes of any previously listened-to refs, and creates/listens to a new ref created from the latest query. \n- FirebaseListFactory will also emit an empty array to its outer subscriber when observeQuery emits a new value.\n``` typescript\nfunction FirebaseListFactory (url: string,  {preserveSnapshot, query}): Observable {}\nfunction observeQuery (query: AngularFireQuery): Observable {}\ninterface AngularFireQuery {\norderByKey?: boolean | Observable;\n  orderByPriority?: boolean | Observable;\n  orderByChild?: string | Observable;\n  orderByValue?: boolean | Observable;\n  // others not listed yet\n}\ninterface ScalarAngularFireQuery {\n  orderByKey?: boolean;\n  orderByPriority?: boolean;\n  orderByChild?: string;\n  orderByValue?: boolean;\n  //others not listed yet\n}\n```\n. @mip1983 thanks, I opened #77 to capture accepting a ref. Feel free to open a PR. I'm working on implementing the plain object version right now, so you might want to wait a day or so.\nThe unwrapMapFn should set the key to something that is not a valid Firebase key, like $key. I opened #78 if you'd like to take that on as well.\nAnd the PR for child added order preservation would be welcomed as well!\nLMK if you need help writing tests for these.\nThanks for the help!\n. Any reason why it couldn't just be FirebaseValue, and support any kind of child value?\n. Implemented in 35eba4e9610ebe19be7d4d14f00173d880e63cab\n. Apparently I need to set the typings field of package.json to point to the main entry point of the app.\npackage.json:\njson\n{\n  \"typings\": \"angularfire.d.ts\"\n}\n. FYI I renamed DEFAULT_FIREBASE to FirebaseUrl, and DEFAULT_FIREBASE_REF to FirebaseRef. So the function name defaultFirebase could be improved.\n. Closed by dddd0b3646e5afe7f9e068f6158e3c62c6c3552c\n. Merged 3c8905be5a833882078d1275086a47e618bb695c\nThank you for your contribution\n. Fixed by 9b28d843793312248f25627cb692ac2716934c06\n. Merging!\n. LGTM once feedback is addressed\n. BTW the biggest sore spot with the current API is the required usage of @Inject to get dependencies. That, and the current Provider-based design of FirebaseList requires two steps: declaring the provider in a Component's providers list as providers: [FirebaseList('/path')], and then injecting the configured provider via constructor(@Inject('/path').\n. An additional design goal: have a pipe equivalent of each API, without having to inject the service into the component. I.e. <li *ngFor=\"#question in '/questions' | afList | async\">\n. @blesh it returns an observable\n. An observable of an array for the given path.\n. How about unwrapped by default, with an option to preserve the snapshot:\n``` ts\nclass MyComponent {\n  constructor(private af: AngularFire) {\n    const obj = af.object('/name', {preserveSnapshot: true});\n    obj.subscribe((snap) => {\n      console.log(snap); \n    });\nconst obj = af.object('/other');\nobj.subscribe((pojs) => {\n  console.log(pojs); \n});\n\n}\n}\n```\n. defaultFirebase isn't included yet in any distribution of angularFire2, so the likely cause is that an exception is being hidden for some reason. Here is the README for the latest version of angularFire2 alpha published to npm: https://github.com/angular/angularfire2/blob/0d5f951884567c581d75db102a31d414f0abb661/README.md\n. Merged at 4a823054dd5ae7438690fd4602fccb3eb8cf4495 thanks!\n. This was fixed with 2e856667c790a0cb15c96b065ece7a16c314cc41\nThanks again, @webmaxru!\n. The easiest solution for this would be to wrap ref.off in a closure:\nIn src/utils/firebase_list_factory.ts:\ntypescript\nexport function FirebaseListFactory (absoluteUrl:string): FirebaseObservable<any> {\n// ...\nreturn () => ref.off();\n// ...\n}\nThe test it('should call off on all events when disposed' in firebase_list_factory.spec.ts should be updated, but I'm not sure why the test is passing now while it doesn't actually work in real apps with the async pipe...\n. Hello? Update plz?\n. It seems like a reasonable approach to me.\nRegarding the actual implementation, I would want to use Observable instead of promise, so that it will play nicely with the work I'm doing on interactive querying. Mostly, I want to make sure I can cancel the completion of the promise chain if the query has changed.\n``` typescript\nPromiseObservable.create(ref.once('value'))\n  .map(items => items.map(itemify)\n  .flatMap((initialArray) => {\n    return new FirebaseObservable(observer => {\n      let initialLoad = false;\n      const lastKey = initialArray[initialArray.length - 1]._key;\n      ref.on('child_added', (child, prevKey) => {\n        if(!initialLoad && prevKey === lastKey) {\n          initialLoad = true;\n          // loaded here\n          console.log(initialArray);\n        }\n    // If the initial load has completed, then add to the array\n    if (initialLoad === true) {\n      initialArray.push(itemify(child));\n      console.log(initialArray);\n    }\n  });\n\n  // Add other listeners\n  ...\n\n  return () => ref.off();\n});\n\n});\n```\nWe could obserblify the logic inside of flatMap even further.\n. @katowulf thanks for the idea. I think this would be the best strategy, and we could utilize observable operators to accomplish it pretty easily. We just have to think about the right strategy. I think we should implement #55 before implementing this, since it would make it easier.\n@davideast I'll go ahead and unassign this unless you've started work on it.\n. @jteplitz602 great PR! It brings up some questions of how to best abstract Firebase.\nThe current implementation essentially proxies to Firebase SDK methods, so any component in the app that would want to log in would need to know the right method and configuration to use to log in.\n``` typescript\n// This would probably be imported from a config, or injected\nconst provider:AuthProviders = AuthProviders.Github;\n@Component({\n  selector: 'my-login'\n})\nexport class MyLogin {\n  constructor(private _af:AngularFire) {}\n  login () {\n    this._af.authWithOAuthPopup(provider);\n  }\nlogout () {\n    this._af.unauth()\n  }\n}\n```\nCould you explore moving some of the options to injectable configuration, and make the auth service just have login and logout? The login method should accept options to override defaults of course. For example:\n``` typescript\nbootstrap(App, [\n  FIREBASE_PROVIDERS,\n  defaultFirebase('http://somefirebase'),\n  defaultAuthProvider(AuthProviders.Github),\n  // We could even have a default if we find that one method is far more common than others\n  defaultAuthMethod(AuthMethods.PopUp)\n]);\n@Component({\n  template: <button (click)=\"af.auth.login()\">Login with Github</button>\n    <button (click)=\"twitterLogin()\">Login with Twitter</button>\n})\nclass App {\n  constructor(public af:AngularFire) {}\n  twitterLogin() {\n    // Would still use default method of PopUp\n    this.af.auth.login({provider: AuthProviders.Twitter});\n  }\n}\n```\nMaybe you've already given this approach of \"fewer methods+more configurability\" some thought and have some reasons why it provides a worse user experience.\n. @jteplitz602 +1 I think we could drop the Default from the provider name.\n. LGTM with comments addressed\n. Thanks for the PR @webmaxru! The Travis failure should be fixed after rebase. I'll test this locally and merge.\n. Merged 2e856667c790a0cb15c96b065ece7a16c314cc41\n. Thanks @robwormald. Would you want to have a single Observable for all events for a ref? Would an API like the following make you happy?\ntypescript\nconstructor(af:AngularFire) {\n  af.listen('/questions').subscribe(e => {\n    switch (e.type) {\n      case 'child_added':\n        console.log('added', e.snapshot.val(), e.prevKey);\n        break;\n      default:\n        console.log('unknown event', e.type);\n    }\n  })\n}\nDefault could be to listen to all events, with an options object to specify either include or exclude events:\naf.listen('/questions', { exclude: 'value', query: ... })\nThat brings up another question, would you want the option to suppress child_added events for the initial value like we are planning to do with list() or just leave it up to the reducer to handle such complexity? I'd lean toward leaving heavy lifting to the reducer so this API can be simple.\n. Fixed with 7bb4a47\n. @mip1983 this is a fine place for such questions, since it relates to the design of the library.\n\nI think I'd rather angularfire2 just gave me mapped/synchronized objects and arrays wrapped in an observable rather than things I put directly in a component.\n\nThere's no reason that this library couldn't be used to create providers/services for an app instead of injected into a component. In fact, using services is what will be recommended for many/most use cases. Right now the examples in README show components because it's simpler to understand.\nYou could, for example, create a Navigation service that would look like this:\n``` typescript\nimport {Component, Injectable} from 'angular2/core';\nimport {Observable} from 'rxjs/Observable';\nimport {AngularFire} from 'angularfire2';\n// Navigation Service\n@Injectable()\nexport class Navigation {\n  nav:Observable\n  constructor(af:AngularFire) {\n    this.nav = af.list('/navigation-items');\n  }\n}\n@Component({\n  selector: 'nav-menu',\n  providers: [Navigation],\n  template: <ul><li *ngFor=\"#item of nav.nav | async\">{{item.text}}</li></ul>\n})\nexport class NavMenu {\n  constructor(public nav:Navigation) {\n  }\n}\n```\nYou could even simplify it so the service itself is an Observable, with some syntax tradeoffs.\n\nHow do a write tests for this?\n\nIf injecting the AngularFire service directly into components, you could still use MockFirebase or firebase-server to send mock responses. And of course if you use services, you can just mock the service. I'm still thinking about what the recommendations and best practices for writing tests with AngularFire will be, so any feedback on challenges you see with testing would be welcome.\nDoes that make sense, or did I misunderstand the question?\n. Great! I'll resolve this issue then.\n. I'm going to go ahead and merge this, but a post-submit review would be welcome\n. That file is referring to a generated folder, which gets generated by this https://github.com/angular/angularfire2/blob/master/package.json#L12.\nI should add better comments to angularfire2.ts.\nDid it cause actual problems or compiler errors for you? \n. This project doesn't yet ship bundles like Angular 2 does. I have a branch where I've started creating a System-register-format bundle. \nIn the mean time, Angular 2's non-bundled distribution is the same as this project, CJS+corresponding d.ts files. Since it sounds like you're using System loader to load your project, you just have to add this to your System.config:\njs\nSystem.config({\n  paths: {\n    angularfire2: 'node_modules/angularfire2/'\n  },\n  packages: {\n    angularfire2: {\n      main: 'angularfire2.js',\n      defaultExtension: 'js'\n    }\n  }\n}\n. I updated the issue title and will leave it open as a reminder to ship the bundle.\n. Oops, I guess I already merged the logic that creates the bundles, just haven't incorporated it into the publish process yet: https://github.com/angular/angularfire2/blob/master/package.json#L12\n. Thanks @zgosalvez !\n. Thanks for the PR, I'm sorry I didn't see it before I upgraded the version myself! \n. Closed by b16eebb06452c9d85393b46c0e5feb67bf56f564\n. I'll take care of this.\n. @davideast I'll take care of this one unless you've started work.\n. @jteplitz602 I can't reproduce this. I copied your reproduction into a test, and I'm seeing length 0 and length 1, which are expected since the observable emits an empty array the first time if the path is empty. I'll leave this open in case I'm missing something.\n. @ziaukhan I don't see FIREBASE_PROVIDERS included in your bootstrap, and you're using outdated APIs. The FirebaseProvider has been deprecated. Since this is in an early alpha with many breaking changes, you should lock your npm dependency to a specific version. Please see the readme for the latest docs.\n. You can test this by running npm run build and then checking dist/package.json.\n. FYI I'm working on fixing the tests then will give it a final once-over and merge.\n. Merged at f8127519c072af685b90b8a779189bd909187aa3! \n. Merged it 3aa20fbbc7a417ef398e504ac5a1380adf6397f5\n. Travis is green, I'm going to go ahead and submit this TBR by @davideast \n. Closed with fdc3b4f\n. I updated some of the tests to push objects instead of strings, since now I'm adding a $key property to unwrapped objects.\n. @davideast @katowulf any pitfalls with assigning the $key the way I'm doing in this PR? It requires that all values be objects (i.e. not strings or numbers).\n. @katowulf cool, I'll use that $value strategy in this implementation.\nI'm using an interface instead of a class to represent the unwrapped snapshot, so we still have the benefits of POJS template bindings.\ntypescript\nexport interface AFUnwrappedDataSnapshot {\n  $key: string;\n  $value?: string | number | boolean;\n}\n. Updated PR.\n. This was my fault, I was pointing to a demo environment that doesn't support auth.\n. Thanks for reporting and sorry about the issue. This is a simple fix and I'll publish a new version soon! Related to #98\n. I published alpha.13 to fix this issue 2 days ago, sorry I forgot to update the issue! I published to npm from a train, and my wifi went away before I could update Github :).\nI'm going to close this because there should be no postinstall step now. Please mention me in a new comment on this issue, or open a new issue, if anyone is still experiencing this problem with 2.0.0-alpha.13.\n. It should work fine with latest angular. And the npm install actually\nsucceeds even though it gives a scary error. I'll publish a new version\nwith upgraded angular dep soon.\nOn Thu, Mar 24, 2016 at 4:53 PM Pinal Bhatt notifications@github.com\nwrote:\n\n@jeffbcross https://github.com/jeffbcross thanks but still there seems\nhard dependency on \"angular2\": \"2.0.0-beta.7\".\nis it must to have angular2@2.0.0-beta.7?\n`npm ERR! Darwin 15.4.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\"\n\"angularfire2\" \"--save\"\nnpm ERR! node v4.4.1\nnpm ERR! npm v2.14.20\nnpm ERR! code EPEERINVALID\nnpm ERR! peerinvalid The package angular2@2.0.0-beta.9 does not satisfy\nits siblings' peerDependencies requirements!\nnpm ERR! peerinvalid Peer angularfire2@2.0.0-alpha.13 wants\nangular2@2.0.0-beta.7\n`\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub\nhttps://github.com/angular/angularfire2/issues/100#issuecomment-201076637\n. Looks good to me, thanks!\n. Merged\n. LGTM. I'm going to make one change to alias AngularFire.list and .object to point to the new class instead of re-implementing.\n. Merged!\n. LGTM with a little cleanup!\n. @doovers and @FredMichel which files are you seeing this in? And in what release version?\n. Nevermind, I see the problem.\n. A couple of comments to address, and needs some docs. \n. LGTM except looks like there were tests removed that shouldn't have been\n. Hey folks, @davideast and I have started work on the upgrade, and are getting back into the swing of things today after some time off. We'll be pushing updates to #200 as we go, and upgrading is our top priority. \n.  @thinksdroid yes you can use the SDK directly with Angular 2. We've also just published Firebase 3 support in AngularFire2 to npm at 2.0.0-beta.1.\n. Yes, also FirebaseListObservable should have this.\n. I thought @vicb said he was going to work on it once the upgrade to\nfirebase sdk v3 was done, but maybe I misunderstood.\nOn Fri, Jun 3, 2016 at 1:44 PM Mi\u0161ko Hevery notifications@github.com\nwrote:\n@jeffbcross https://github.com/jeffbcross Why do you think that @vicb\nhttps://github.com/vicb should do this?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/201#issuecomment-223689720,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAcTVzMimV736dYpHzfyAfsz6i_E3oNWks5qIJINgaJpZM4Ir9fB\n.\n. You shouldn't be creating these observables yourself, they are just\nreturned from database.list() and database.object(). List is concerned with\nmany of the same kind of object, and provides mutation method appropriate\nfor lists, whereas object is a single object with methods that make sense\nfor an object.\nOn Wed, Jun 1, 2016 at 7:37 PM Jek Bao CHOO notifications@github.com\nwrote:\nHeyy @davideast https://github.com/davideast and @jeffbcross\nhttps://github.com/jeffbcross\nIt seems to me thhat FirebaseListObservable is more fancy/useful/utility\n(not sure what is best to describe) than FirebaseObjectObservable. it's\nbecause with FB List Obs we can get 'push id'. We can also get entire list\nof items. We can also update and save data just like how we can with FB Obj\nObs.\nIn short, everything we can do with FB Obj Obs can be done with FB List\nObs. So may I understand what is the specific use cases for one to use\nFirebaseObjectObservable?\nCheers,\nJek Bao :)\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/202, or mute the thread\nhttps://github.com/notifications/unsubscribe/AAcTV1DYYVX_cyxJ-ikZQh8fOHv2TbL2ks5qHkHbgaJpZM4IsJzH\n.\n. I'll wait to merge until after #200 lands.\n. @aguzubiaga thanks for the issue. I wonder if Protractor is having an issue with the Web sockets that Firebase is opening. \n\n@juliemr off the top of your head, are there any known issues with stabilization and Web Sockets?\n. Hey @JoshWilliams92 can you open a new issue and provide a full stack trace of the error, or better yet, a link to a github repo with a reproduction of the issue?\n. @davideast I'm going to move the file re-organization into its own issue so we can prioritize bug fixes for the beta.2 release.\n. Opened #253 to discuss re-organization\n. I'm also going to move clang formatting to post-beta.2. I did a dry run and it's a pretty drastic change; don't want to slow people down making PRs for bug fixes and stuff just yet.\n. CC @alfongj @davideast \n. Probably should shorten the module name to be less obnoxious, persistent-credential.\n. > nit: For naming, I would actually prefer \"cached-credential\" or similar, rather than \"persistent\" (which has, for me, more of a connotation that it could be expired).\nFair point.\n\nAre you proposing that, if the developer includes the \"persistent-credential\" module, then the auth listener will always return the cached credential (even after page refreshes), as opposed to the case where that module is not included, in which case the cached credential will be returned only if the page hasn't been reloaded?\n\nYep. If a null user is ever emitted, then the cache would be cleared.\n@alfongj is it possible for a user to be authenticated with multiple providers at the same time? Or would it be safe to say that if a user is authenticated with one provider, all other providers' credentials could be cleared from cache?\n. > I wonder then about possibility to store the credentials in browser storage - which is what I'm doing now on the app side using Ionic.\nThat's certainly a reasonable solution. Once this design is implemented, it'd be just as easy to create an Ionic implementation to persist credentials.\n. Hmm, from @orangesoup 's description, it sounds like the Angular zone isn't picking up the change. I will look into this this afternoon.\n. @orangesoup that does sound like a bug; a new issue would be appreciated! There is definitely some complexity in the onAuth pipeline right now to try to have some consistent behavior with the old API.\n. @th3brink were you getting an npm error? Like a peer dependency issue or something?\n. Yep planning to update to angular rc.2 today. I think the build scripts might have some *nix stuff right now that might break windows, like probably cp. You might be best situated to send a PR to fix that, want to submit one?\n. I believe this issue is in the Firebase SDK itself, since the AngularFire2 codebase doesn't access location at any point.\n@aaronksaunders or @nickkenens can either of you try using the new Firebase SDK without AngularFire2 and see if the problem still occurs?\nI'll see if I can run @aaronksaunders project to repro the issue. \n. Thanks I wasn't able to get the reproduction running before I left the\noffice, could someone post a full stack trace here?\nOn Tue, Jun 21, 2016 at 7:02 PM Aaron K Saunders notifications@github.com\nwrote:\n\n@jeffbcross https://github.com/jeffbcross i just tried it with the just\nthe Firebase SDK and it works fine...\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/243#issuecomment-227623404,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAcTVxBW6bPbmrn5iIHJ1yf3UMdzRCoUks5qOJezgaJpZM4I5A1i\n.\n. Found the issue: https://firebase.google.com/docs/reference/js/firebase.auth.Auth#getRedirectResult\n\nThe error is listed on that page.\nAuth is calling that method to see if the app is being loaded as an oauth redirect. We could add a protocol check before calling the method. \n. @olostan the error occurs as soon as subscribing to auth because AngularFire is calling getRedirectResult() under the covers to check if the request is part of a redirect oauth flow.\n. I've published a preview of the changes I made in #271 to npm. Can folks here please npm install angularfire2@next and check that this issue is resolved?\nNote: this has been published with the next tag on npm, so including the @next is required in order to install the correct version.\n. Thanks for reporting! Would you like to submit a PR?\n. Thanks, I think we need to update the guides to mention installation of the promise typings.\n. You'll need to add a reference to the files array of your tsconfig.json.\nfiles: [\n  \"typings/main.d.ts\"\n]\nmain.d.ts will import any typings that were installed by typings, as long as the --save flag is used.\n. Is uid null, or is the result of af.auth.getAuth() null? If the latter, then sounds like the same issue as #251 \n. Actually, there is currently no way to synchronously get a user object when the page loads. https://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user\nI think the best strategy here is to deprecate getAuth, add a console.warn inside it for now to notify developers that when called when opening the app, the user may show as null.\n@davideast thoughts?\n. > shouldn't all async methods be named with async?\nThat's not a convention we use, particularly because the Observable or Promise return type implies async. And most APIs in this library are async, so sync would be the special case.\n\nalso a synced version would be great.\n\nWe're limited by the SDK, and us providing a getAuth method doesn't add any value over just injecting the FirebaseApp instance and accessing app.auth.currentUser. We want to keep the surface of this library as small and focused as possible, only providing APIs where we can add Angular-specific value.\n. If creating the Observable directly, yes (but not recommended). I think this is something we could add by overloading list() to be optionally generic (also there's been discussion of default generics in TS which would enable this: https://github.com/Microsoft/TypeScript/issues/2175). \ntypescript\nclass Database {\n  list (...): FirebaseListObservable<any[]>;\n  list <T>(...): FirebaseListObservable<T[]> {}\n}\nWant to send a PR?\n. Thanks, this is due to us building with the latest dev version of TypeScript instead of stable. We should be able to switch back to stable, since I don't think we're using any features of 1.9 anymore.\n. > Thank you @jeffbcross, also could you please upgrade Angular version rc1 to rc2?\nYep already in the works.\n. @ohanspace I'm guessing it's because member$ is undefined until it's set inside of the subscriber in your UserService constructor. \nIn this example, if you aren't writing data to the /members/ collection, you could rewrite your service like so:\n``` typescript\nimport { Observable } from 'rxjs/Observable';\nexport class UserService {\n  member$: Observable;\nconstructor(af: AngularFire) {\n    this.member$ = af.auth.map(a => af.database.object('/members/'+a.uid));\n  }\n}\n```\nThen your component could look something like:\n``` typescript\nclass MyComponent {\n  form: ControlGroup;\n  memberPristine: {\n    name: ''\n  };\n  memberSub: Subscription;\n  constructor(private fb: FormBuilder, private userService: UserService) {\n  }\nngOnInit() {\n   this.memberSub = this.userService.member$.subscribe(x=>{\n      this.memberPristine = x;\n   });\n  }\nngOnDestroy() {\n    this.memberSub.dispose();\n  }\n}\n```\nThe reason this pattern doesn't always work is that the type of observable you'll get back won't be a FirebaseObjectObservable, and won't contain the setter methods (update, set, remove), since the source observable from af.auth is just a ReplaySubject from rxjs.\n. CC @davideast \n. Fixed by 1a1ceb9\n. Closing because I forgot @vicb had already started work in #212 \n. Spent a little bit of time trying to get protractor and Travis to play nicely, but no dice. Going to try outside of this PR.\n@davideast mind giving a review?\n. Hi @liangwang320 please open a new issue with a link to a reproduction (Github repo or plunker) that shows the error happening. Thanks!\n. @orangesoup to clarify, you're not editing localStorage directly, right? It's just the Firebase SDK deleting the item? And you're using Email/Password authentication, correct?\n. With number 1, I'm not able to reproduce that. I'm seeing authState.auth.displayName correctly set when I log in with Google.\nNumber 2, I'm also not sure how to reproduce.\nCould you publish a working reproduction somewhere?\n. Hey @yash-dholakia thanks for opening the issue, but we can't help without a link to a full reproduction of the problem. Would you create a plunker or push the app to Github so we can see?\nAlso, please make sure you're including the S at the end of FIREBASE_PROVIDERS.\n. This StackOverflow answer suggests it may be that the app is using 127.0.01 instead of localhost, which hasn't been added to authorized domains for the project: http://stackoverflow.com/questions/37344066/firebase-this-domain-is-not-authorized\nCan you try that and comment back here if it helps?\nI'm closing the issue for now since it doesn't appear to be AngularFire specific.\n. Can you npm install angularfire2@next and make sure the location.protocol\nissue goes away?\nOn Wed, Jun 22, 2016 at 1:51 PM CHAPELLE Quentin notifications@github.com\nwrote:\n\nNew error, after an update to firebase v 3.0.5 i have this error:\nThis operation is not supported in the environment this application is\nrunning on. \"location.protocol\" must be http or https.\nIt seems to be same issue than #243\nhttps://github.com/angular/angularfire2/issues/243\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/270#issuecomment-227872560,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAcTV2DFZoaVdQcP3gKmQjs2r6T2cGG7ks5qOaBhgaJpZM4I8Hwu\n.\n. What version does it say in the package.json of angularfire2 node package?\nOn Wed, Jun 22, 2016 at 1:56 PM CHAPELLE Quentin notifications@github.com\nwrote:\nI tried, on my pc no problem but on my phone it's not working.\nComplete message:\ncode: \"auth/operation-not-supported-in-this-environment\"\nmessage:\"This operation is not supported in the environment this\napplication is running on. \"location.protocol\" must be http or https.\"\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/270#issuecomment-227873909,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAcTV_QaHHD4AyBSwb4neIbGUOg_FtFIks5qOaGMgaJpZM4I8Hwu\n.\n. Changed to Rc.4 but perhaps we should make the version restriction more permissive to accept any RC version. I think we can use || in the version to match current and future versions of RC, according to @samccone who would never lie to me.\n\nSince AngularFire just uses some Dependency Injection from Angular, and DI is stable in Angular, it should be safe to include future versions of RC as acceptable.\n. @davideast this is still WIP, right? Not waiting for review?\n. I'd move the worker entry points inside of worker/ and remove worker from the names so it'll be: worker/angularfire2_app and worker/angularfire2_render. That way all worker stuff is contained, and the worker/ directory matches src/ more closely.\nOther than that and a few comments, LGTM!\n. And you're missing a colon in the commit message for the auth modules.\n. Merged at 1a1ceb9\n. The way we're importing Observable in AngularFire doesn't automatically include operators, in order to reduce library size. There are two ways you can add operators to Observable, \"auto-patching\" or \"standalone.\"\nAuto-patching is most common. At the root of your application (or in the module where the operators are used) add this statement for each of the operators you want to be available: import 'rxjs/add/operator/map';. Then you can call .map() on any observable. It's best to do this at the root of your app since it has a global side effect. Note: TypeScript understands the way we're doing patching, and will now know that map is a function on Observable.\nThe standalone approach is to just import the operator as a function and call it like so:\n``` typescript\nimport {map} from 'rxjs/operator/map';\nmap.call(af.database.list(ref), (items:any[]) => {...});\n```\nThis approach gets hairy when you want to chain lots of operators, but has the benefit of not having a global side effect, and can be tree-shaking friendly if the operator is only used in a lazily-loaded module.\nLeaving this issue open so this can be better documented. \n. We'll probably cut a release today or tomorrow that includes the fix to #243. In the meantime, you can install it using the @next tag: npm install angularfire2@next. \nRegarding your 2nd suggestion: yes, our contributor docs should be up-to-date to tell how to build the project. In your case, you're just missing the step of installing typings (which isn't documented). You can run: ./node_modules/.bin/typings install from the root of the project, and your problems should go away. I'd removed a postinstall script that automatically installs typings so that end-users wouldn't add that time to their install process, but it would be better for me to add the postinstall script back and just strip it out of the package that gets pushed to npm.\nTODO\n- [ ] Add postinstall script to package.json to automatically run typings install\n- [ ] Add step to tools/rewrite-published-package.js to strip scripts from the package.json that gets published to npm.\n. Yikes, seems like signInWithPopup() has the same protocol check as getRedirectResult(). https://firebase.google.com/docs/reference/js/firebase.auth.Auth#signInWithPopup\nI'm a little out of my depth here on what the right way to solve this is...\n. @davideast can you ask around about this?\n. The TS files should not be in the project, and should not be referenced by the sourcemap. It appears there's a bug in the sourcemap configuration. \n. I don't know, but hard to tell without a full reproduction. Please open a new issue with a link to a plunker or a github repo where all of the code can be seen. Thanks!\n. @aaronksaunders or @Cameron637 do either of you have a reproduction on Github or Plunker that we could easily run to see the problem?\n. Yeah, the main problem is that the provider data and credential are separate objects from Firebase, whereas before they were merged. I.e. the accessToken and displayName were together. Currently we're just setting the object to the credential returned from Firebase, ignoring the providerData. And since the credential is only persisted in memory, there is no provider data at all when the page is refreshed.\nFor example, if I log in with Twitter, I get this providerData: \n{\n  displayName: \"Jeff Cross \ufe0f\",\n  email: null,\n  photoURL: \"http://pbs.twimg.com/profile_images/627356983306293249/2r0Y6aNT_normal.jpg\",\n  providerId: \"twitter.com\",\n  uid: \"12345\"\n}\nand this credential:\n{\n  accessToken: 'abc',\n  secret: 'def',\n  provider: 'twitter.com'\nWe need to either merge credential and providerData ourselves for backwards compatibility, or have them as separate properties.\nWhich begs the question, if we're going to have separate properties, i.e. twitterCredential and twitterData, what value are we adding that the existing firebase.User object doesn't already have? For one, we are caching the credential in memory in re-attaching it to the authState object each time it's emitted. And having separate type definitions for different providers makes it easier to serialize auth objects over web worker without using reflection.\nSince it's currently up to the developer/application to check that a user is authenticated AND has credentials, I think it would be best to split the credential into its own property, ${provider}Credential, so that it's simpler to check: \ntypescript\nauth.subscribe(user => {\n  if (user && user.githubCredential) doSomething(user);\n})\nas opposed to \ntypescript\nauth.subscribe(user => {\n  if (user && user.github && user.github.credential) doSomething(user);\n})\nWe should change the existing names from the provider name to ${provider}Data. i.e. authState.github -> authState.githubData.\nWhat do you think, @jteplitz602 ?\n. > So you're proposing caching the credential ourselves and then attaching it to the user object?\nYeah, we already cache them in memory, and I have a proposal to make it easy to persist to disk. https://github.com/angular/angularfire2/issues/230\n\nI feel like adding all these properties to the user object is going to make our docs different from the firebase docs in a somewhat confusing way. \n\nYou're right. I wanted to keep the auth state object similar to pre-Firebase-3 so that upgrading would be simpler, but we shouldn't keep clinging to that. I think having user and credential makes sense, this is consistent with the UserCredential type returned from signInWithPopup() and getRedirectResult().\n. Interesting, I believe the Firebase SDK behavior prior to 3 was to just ignore the properties. \n. I'm not really sure about this one, since I'm not set up to verify that it's correct. Going to unassign it from myself since I'll be out a few days.\nHere's what I'd started adding to Readme:\nNote for Ionic and Cordova Users\nCertain Firebase auth APIs, such as signInWithPopup, require the\nvalue of location.protocol to be http or https, which is\ndifferent from the default protocol of file inside Cordova apps.\nTo work around this issue, please use the InAppBrowser Cordova\nplugin. Ionic users can install this plugin like so:\n$ ionic plugin add cordova-plugin-inappbrowser\n. @davideast care to review?\n. Add a test!\n. Looks good once test added and newline added back to typings.json\n. Assuming you're using an async pipe, you should check authentication before binding this to the view. One way to do this in the template would be:\nhtml\n<div *ngIf=\"fire.auth | async\">\n  <span *ngFor=\"let item of items | async\"></span>\n</div>\nOtherwise, in your component you could add a .catch to the observable, or subscribe to the items observable inside the template and provide an error handler instead of using async pipe.\n. Sounds reasonable to me!\n. Note that this is blocked by Angular RC.5\n. TODOs\n- [ ] Get rid of typings in favor of @types\n- [ ] Get rid of firebase3.d.ts (assuming version published to @types is good)\n- [ ] Add new TS module with NgModule (don't include module in angularfire2.ts yet)\n- [ ] Create a configuration interface for the NgModule that merges defaultFirebase and firebaseAuthConfig configuration objects.\n. @vicb I'm working on addressing the bigger issue with Zone+Rx outside of this. But for now I changed the PR to wrap the subscriber functions at subscribe time.\n. I'm going to make zone a required argument of ZoneScheduler, then will merge once green.\n. This change could be nicely combined with the changes in the object emitted by authState discussed in PR #297. Then we can deprecate two birds with one stone: deprecate the service as being Observable, and deprecate the old FirebaseAuthState type in favor of a simpler type:\ninterface AuthState {\n  user: firebase.User;\n  credential: firebase.auth.AuthCredential;\n}\n@jteplitz602 what do you think?\n. firebase3.d.ts should be in the root of the package that gets published to npm. Is it not?\n. It is on npmcdn for beta.2: https://npmcdn.com/angularfire2@2.0.0-beta.2/firebase3.d.ts\nWhat version are you seeing this behavior?\n. I'll ditch the side-effect operators and observables.\n. Hey folks, I've published a pre-release version of the package behind a tag. It includes some packaging changes introduced in #510 which haven't yet been merged into master. You can get it by npm install angularfire2@next.\nI'd appreciate any feedback if there are issues with the new packaging.\n. Sorry for the inconvenience, I pushed the beta.5 tag to Github as I was preparing to do the release, and then ran into some build issues. As I was correcting the build issue, I wanted to take care of a couple of things to make AngularFire2 AoT-compile-friendly.\n. Thanks, will look into it. We should add an AoT integration test (though\nnot necessarily block this release on it).\nOn Thu, Sep 15, 2016 at 5:51 PM John Smith notifications@github.com wrote:\n\n@jeffbcross https://github.com/jeffbcross Thanks! I've just tried it,\nit's still not working for AoT, but at least it's a new error now.\nPreviously I had Could not resolve 'angularfire2' from\n.../src/app/app.module.js, now it's Could not resolve '_stream_writable'\nfrom .../node_modules/angularfire2/node_modules/firebase/database-node.js\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/511#issuecomment-247493648,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAcTV2q5jLE1EE5NEepMiQgGNMSJl_hQks5qqef0gaJpZM4J-QeS\n.\n. @ivoviz can you add browser: true to nodeResolve options like so?\n\nnodeResolve({jsnext: true, module: true, browser: true})\n. ^^^ that's because Firebase's package.json has a browser field pointing to the correct file for browser use. Rollup-plugin-node-resolve sets browser to false by default.\nIt also may be necessary to add firebase to the include of the commonjs plugin.\n. @ivoviz can you share your complete configuration again?\n. @ivoviz could you try changing the commonjs firebase include line to node_modules/angularfire2/node_modules/firebase/**?\n. @davideast is there a change in packaging with 3.4.0 that might cause this issue?\n. @ivoviz could you share your whole project in a github repository so I could tinker with it?\n. @ivoviz can you hop on Gitter?\n. TL;DR we worked around the rollup issue using namedExports, to work around rollup-commonjs plugin's lack of understanding re-exported symbols.\nnamedExports: {\n        'node_modules/firebase/firebase.js': ['initializeApp', 'auth', 'database']\n      }\nhttps://github.com/rollup/rollup-plugin-commonjs/issues/35\nIn other news, I've pushed the latest release to npm at latest tag, so you can get it by installing angularfire2@latest or angularfire2@2.0.0-beta.5.\n. @asadsahi you're correct, @types/firebase is no longer needed.\nCan you share the whole file where you're trying to access TIMESTAMP? (Even better if you can provide a Github repo with the full project). \n. Hey @bogacg I don't know enough about your project to know what's happening. I'll close this issue, but if you want to open a new issue with a github repo or something where we could inspect more, feel free!\n. Sorry, @441N143G, such questions are not within the scope of this project. StackOverflow might be a better place.\n. @k1ng440 I'm curious, is the firebase package installed in your root node_modules (i.e. your-app/node_modules/firebase), or is it just installed inside your-project/node_modules/angularfire2/node_modules/firebase?\n. @k1ng440 thanks. This might be an issue with AF2 still depending on 3.3.0, and TypeScript might not be resolving the types correctly since there are two instances of firebase.\nAs an experiment, could you delete node_modules/angularfire2/node_modules/firebase and then see if the problem is solved?\n. @alexeagle and I have tracked down the issue. None of our .d.ts files include any imports from firebase, which is causing node_modules/firebase/firebase.d.ts never to be loaded. If firebase.d.ts ever gets loaded, it would add firebase to the ambient typings and make these errors go away. I'm going to refactor all of our modules to properly import from firebase instead of relying on ambient typings.\nIn the meantime, you should be able to work around this problem by adding a reference to your project's entry file pointing directly to firebase.d.ts\n/// <reference path=\"node_modules/firebase/firebase.d.ts\" />\n. @mukesh51 yep!\n. This should be fixed by c3a954cd857fc297438f53d3a1e3bf69b6af01c2\n. @hllink can you change the angularfire2 configuration in SystemJS to this:\n{\n  main: 'index.js',\n  format: 'esm',\n  defaultExtension: 'js'\n}\nThis is due to us changing the module format shipped in the root of the directory to ESM instead of CommonJS to be consistent with the rest of Angular.\n. @LanderBeeuwsaert you're correct; af.list returns a new array and new object references as change events occur. Angular's ngFor allows for a trackBy function to be provided to help Angular know object identity according to your rules. So you could address this issue by adding this function to your component:\nts\nclass MyComponent {\n  trackFbObjects = (idx, obj) => obj.$key;\n}\nand then update your ngFor expression as follows:\nhtml\n<div class=\"save-item\" *ngFor=\"let save of observable | async; let i = index; trackBy: trackFbObjects\">\nWe should consider how we can improve this in AngularFire itself. For example we could create an af-list directive that could delegate to NgFor and automatically add the async pipe and track by.\nLet me know if using trackBy improves the animation.\n. @maxmumford hmm, this is undoubtedly due to the change in the latest release that ships ES modules at the project root instead of CommonJS. But the release does include a UMD bundle, which is referenced from the main field of package.json, so I'm surprised WebPack isn't just resolving automatically. \nSummoning WebPack experts @robwormald @TheLarkInn or @gdi2290 any idea what could be going wrong here?\n. Ahh, yes. I believe @davideast has fixed or is fixing that.\nOn Wed, Sep 21, 2016 at 4:56 PM John Smith notifications@github.com wrote:\n\n@jeffbcross https://github.com/jeffbcross I believe it's because of a\nsimple typo. package.json has \"main\": \"bundles/angularfire2.umd.js\" while\nthe file itself is angularFire2.umd.js.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/543#issuecomment-248777009,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAcTV1crBSBNofdiWvHQdTFSo03k77jMks5qscQ3gaJpZM4KC6mm\n.\n. Yep, namedExports is the solution for now. \n. Thanks for the details and the reproduction!\n. Like @mukesh51 said, those aren't dependencies of AngularFire2 itself. AngularFire2 only has one dependency, Firebase. It also has peer dependencies on angular packages, but even those must be installed by the user. \n. Along the lines of what @cartant said, I don't think authentication errors should affect the auth observable, other than the effects that the error has on the auth state itself. I.e. if an error causes the state to become null, then it's reasonable that the auth observable would emit null. The auth observable is only concerned with the final state after auth operations have succeeded or failed, not with the operations themselves.\n\nWatching the result of login() is the correct approach for non-redirect methods. For redirects, you should just inject the Firebase app and call getRedirectResult().\ntypescript\nimport { FirebaseApp } from 'angularfire2';\nclass MyComponent {\n  constructor(@Inject(FirebaseApp) fbApp: firebase.App) {\n    fbApp.auth().getRedirectResult().then(onSuccess, onError);\n  }\n}\nI agree this isn't ideal. It's a by-product of the fact that your app gets thrown away and re-spawned, with no idea what just happened. It's not yet clear to me if/how AngularFire2 should solve the problem.\n. Working on it in #648\n. Done in 1301437578c191f7059f7458ccb0343ea860b41b\n. Hey Folks, I'm working on a fix for this. It's actually a simple fix that's been fixed already for some of the auth APIs. I've already created a ZoneScheduler to schedule Observable values to be emitted in the correct zone, so I just need to cause the list and object factories to observe on this scheduler.\nThe crux of the problem is that Firebase's WebSocket listeners are being registered before Angular's zone exists, and thus are patched outside of Angular's zone, so change detection doesn't run when the WebSocket delivers new values. This isn't bad behavior from Firebase, more just a challenge with the way zone.js and Angular's zone are designed.\n. @JT-Bruch Yes this is blocking the next release which will contain all fixes that are in master. Do you know of any typings issues that aren't fixed in master?\n. Closing as a duplicate of #637, which I'm working on fixing right now\n. I split out the unrelated commits into #656\n. @vicb would you mind reviewing this commit? https://github.com/angular/angularfire2/pull/648/commits/2a96fa9521a37d7b519775e058c8b6ed34e47815\n. I removed the unrelated commits and rebased against master now, so down to just the zone fix. \n. @vicb all comments addressed. I pushed a separate commit with the changes so you can see what changed: https://github.com/angular/angularfire2/pull/648/commits/41207e38680c51be91ed1cb9f4d500b71d0eae63\nI also updated the commit message with reference to the Angular issue.\n. Merged at e18da0eb76b2ce48a3f38ac86bd9a27a4038e45b !\n. You are creating an infinite loop in your code. You are subscribing to get notified each time data changes, and are changing the data each time it's been changed.\nIf you only want the subscribe callback to get called once, you'll need to use the rxjs take operator.\n``` typescript\nimport { take } from 'rxjs/add/operator/take';\nthis.af.database.object('sections/max_cap')\n.take(1)\n.subscribe((data) => {\n      console.log(\"Setting..\");\n      let newData = data.$value + table.max_seats;\n      this.af.database.object('section/max_cap').set(newData)\n      .then(_ => console.log(\"Updated\"))\n      .catch(err => console.log(err, \"Failed\"));\n    });\n```\nThis tells RxJS to complete the observable once 1 value is emitted.\n. @katowulf yarn.lock is the version-locking file that yarn generates. It's in lieu of npm-shrinkwrap, so we can lock down to exact versions locally and on Travis when we use yarn install. This makes reproducing build or test failures easier between environments. \n. @frankspin89 Which AngularFire API does this apply to?\n. Should be optional, not guaranteed.\n. Also an optional scopes field for additional access the user has granted the app.\n. authData should be typed\n. I think right now we should move away from making this generic, to make it simpler for users to use, and to make it easier to adapt this to some changes we're planning to make (like attaching this to a global AngularFire service: af.auth.subscribe().\nInstead of generic, could you make the AuthState interface have optional fields for the providers? Github is fine for now:\nts\ninterface AuthState {\n  github?: GithubAuthMetadata\n}\n. Need to update to new testing url: localhost.firebaseio.test\n. haha what?\n. Incomplete sentence.\n. It would be good to include the import statements here (and in our other examples going forward) to be clear what is coming from where.\n. Replace all hasOwnProperty instances with something inheritance-friendly.\n. Merge to one call to Object.assign\n. Make inheritance friendly.\n. Let's move away from enums and use string literal types. provider: 'github' | 'twitter'\n. Might as well complete this comment.\n. Since createUser returns a promise, couldn't this be:\ntypescript\ncreateUser(creds) {\n  return this._fbRef.createUser(creds);\n}\n. Same comment as below, should be able to return promise from createUser\n. Please move into the original object assignment:\nlet authState: FirebaseAuthState = { auth, uid, provider: null, expires: authData.expires };\n. Should be renamed something more generic like \"query\"\n. Raise an exception if they also have startAt or endAt\n. Raise an exception if multiple limitTos are used.\n. Newline plz\n. Remove all mock-promises files and symbols\n. Add note to guides that these typings can be manually referenced. \n. And see about publishing to @types.\n. Look into why the auth spec s failing.\n. Should rename to something more appropriate. Something config related. \n. Rename to AngularFireDatabase to be consistent with new naming scheme.\nAdd note about deprecating old name. \n. Same goes for FirebaseRef, FirebaseUrl, FirebaseAuth.\n. Add a todo comment to remove FirebaseAppConfig once it's included in the standard typings.\n. Move into single shared config file. There's one in test/config.ts, it could just be moved to src/config.ts and used by all specs.\n. oops\n. make up mind about naming params. My preference is underscore plus actual var name, so _firebaseApp and _angularFire.\n. Add one more expectation for good measure.\n. Consider renaming firebaseAuthConfig when defaultFirebase gets renamed.\n. Add space before type.\n. Function no longer being used (duplicate of database.ts). Remove.\n. Just use config here dummy. Who wrote this??\n. See note above about changing name of this function.\n. Replace provide with literal.\n. Add back export of FirebaseAuthState.\n. Should get rid of AuthToken type and just use string...unless I remember some reason not to.\n. Use literal instead of provide\n. Use type annotation here.\n. Look into merging the interface and the token. \n. Add comment todo to remove this interface once the main typings for Firebase include a better definition than Object.\n. This will be moved to a shared file, see note in angularfire2.spec.\n. Move FirebaseAuthState import into the angularfire2 imports since its public.\n. Clean up lines a little bit.\n. Not used, remove.\n. Not used, remove.\n. Combine to one line.\n. Remove commented properties\n. Maybe try to make this whole thing less hacky.\n. Use take(2) to dispose and call done.\n. This could use the authSpy object that should be created and shared with all specs.\n. Could just use observer in this spy, never uses a function.\n. Move done() to onComplete position.\n. Move this to global declaration to be used in all specs.\n. Ditto, move to top.\n. Move backend assignment to top.\n. Remove, should be defined at top.\n. Remove app and backend, should be declared at top.\n. Get rid of these once they're declared at top.\n. Shorten since already a spy.\n. Should be moved to beforeEach since most common resolution.\n. Need to be consistent in where the call to authDataToAuthState happens, either here or in auth_backend/firebase_sdk_backend.\n. Break line\n. This method is not tested and not necessary since the service is itself observable.\n. Type is probably not necessary, should be able to use string\n. Add alias type, export const FirebaseUrl = FirebaseConfig\n. Add alias type, export const FirebaseRef = FirebaseApp\n. Done.\n. Done.\n. Done.\n. Nm, not supported in Angular RC.1.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. Done.\n. I think auth.ts is the right place, so that auth_backend can be less opinionated.\n. Newline plz\n. Newline!\n. Newline\n. auth.ts and database/index.ts shouldn't be necessary since they're imported from angularfire2.ts (or from other modules that are already part of the tree. Should just need to list angularfire2.ts, spec files and typings.\n. This code actually doesn't need to be run in a zone. I should fork the zone in the spec that checks the zone to make sure the subscription callback isn't in the <root> zone.\n. I know; I'm saying this code is not actually necessary.\n. Plz add the newline back\n. Why bluebird types? We're not using bluebird library\n. Can SystemJS load the ES modules instead, using the old configuration but adding format: 'esm'?\n. Remove the line\n. Why do we need these types if we're not using Bluebird?\n. NEWLINE!!!!\n. Nevermind\n. lol\n. It happens to fail in this case since the callback-in-question is attached automatically in the root zone. But you're right that it would be better to re-arrange.\n. Actually I'm going to make this check that there is a value of new-data to make sure the data is coming from this spec. And I'll use a better value than new-data.\n. Oops, needs to be moved out of Zone.run\n. I think this should match list_factory stylistically, and assign the observable to a const before calling observeOn. Makes it more readable.\n. ",
    "davideast": "Closing due to inactivity. Will open for discussion later.\n. Closing due to inactivity. Will open for discussion later.\n. These examples looks awesome, Jeff! \nI think exposing collections as an Observable will fit well into Angular 2 architecture, and will solve a lot of problems we had in AngularFire 1.\nThe only other thing I think is needed here is guidance on injecting Firebase references into components.\nJust a little question. Is af_unwrap calling .val() on the DataSnapshot? \n. Closing due to inactivity. Will open for discussion later.\n. Closing due to inactivity. Will open for discussion later.\n. Closing due to inactivity. Will open for discussion later.\n. @Haroenv You can use .equalTo and orderBy by passing in a reference to a list or object. However, now you can use interactive querying. Check out the developer guide in the readme!\n. Unless we're keeping the DataSnapshot around (which isn't a terrible idea), we'll need to transform any primitive into an object to keep the key around.\nTake the following data structure:\njson\n{\n  name: \"Coco\"\n}\nThen in AF2 we would do something like this:\nts\nclass MyComponent {\n  constructor(private af: AngularFire) {\n    const obj = af.object('/name');\n    obj.subscribe((data) => { \n      console.log(data);  // { value: \"Coco\", key: \"name\" }\n    });\n  }  \n}\nSo we'll have to come up with a naming strategy for the value and key properties, but unless we return a DataSnapshot, we'll have to take this approach.\n. We should abstract the tedious setup parts into a unit testing library, so contributors (and maintainers) don't wince every time they write a test \ud83c\udf89 \n. I like the idea of creating a top level API. This will improve the discoverability using TypeScript's code completion.\nAs authentication goes, I'm most concerned with making sure you can inject the currently authenticated user into the component.\nts\n@Component({\n  template: `\n    <h1>Welcome, {{ user.github.username }}</h1>\n  `\n})\nclass Login {\n  constructor(private af:AngularFire, private user: FirebaseUser) {\n  }\n}\nWith the user injected you can depend on it's existence. That means no if checks, and simplifying your component.\nHowever, that work will likely come with the router integration. Otherwise I'm down with this interface.\n. This can be down by using a .once() call to get the initial set of data, and then subscribing to child_added events.\nts\nconst ref = new Firebase(\"<my-firebase-app>/list\");\nref.once(\"value\")\n  .then((data) => {\n    let initialArray = [];\n    data.forEach((item) => arr.push(item));\n    return initialArray;\n  })\n  .then((initialArray) => {\n    const lastKey = initialArray[initialArray.length - 1].key();\n    ref.orderByKey().startAt(lastKey).on(\"child_added\", (snap) => initialArray.push(snap));\n  });\nWow. The new promises library makes that real nice.\n. Okay, after further thought and review, here is my proposal:\nJSBin Demo\n``` js\nconst ref = new Firebase('https:///messages');\n// helper function for placing the key on the object\nconst itemify = (snap) => {\n  let value = snap.val();\n  let item = {};\n  if (typeof value !== 'object') {\n    item.value = value;\n  } else {\n    item = snap.val();\n  }\n  item._key = snap.key();\n  return item;\n};\nref.once('value')\n   // get the initial array one-time with once()\n   .then((snap) => {\n      let initialArray = [];\n      snap.forEach((child) => {\n        initialArray.push(itemify(child));\n      });\n      return initialArray;\n   })\n   .then((initialArray) => {\n     let initialLoad = false;\n     // get the last key in the initialArray\n     const lastKey = initialArray[initialArray.length - 1]._key;\n // listen for children\n // This is not data wasteful because the initial load fires\n // from the cache, not from the network\n ref.on('child_added', (child, prevKey) => {\n\n   // ignore children from the initial load\n   // was the previous child, the last item in the initial load?\n   if(prevKey === lastKey) {\n     initialLoad = true;\n     // loaded here\n     console.log(initialArray);\n   }\n\n   // If the initial load has completed, then add to the array\n   if (initialLoad === true) {\n     initialArray.push(itemify(child));\n     console.log(initialArray);\n   }\n\n });\n\n ref.on('child_removed', (child) => {\n\n });\n\n ref.on('child_changed', (child, prevKey) => {\n\n });\n\n});\n``\n. @jeffbcross I'm working on this and #73 since they are related.\n. I like this idea, but it only makes sense to listen to child events together. There's really no need to use avalueevent with achild_addedevent. And theFirebaseListObservable` is all of the child events munged into one array.\nIf you want granularity on the events, we could pass an event object back in .list(), similar to what @jeffbcross proposed.\nOtherwise we could create a ChildEventObservable that can take in an array of child events.\nThoughts @robwormald and @TylerEich?\n. @shlomiassaf @TylerEich @lokeshjain2008 \nRight now this is on the back burner. We're working on cleaning up the library with the Firebase 3.0 SDK changes, RC3 support, and new Firebase features like storage.\nI do like this idea though. If we can hash out a good solution it would be great addition to the library.\n. Closing due to inactivity. Will open for discussion later.\n. Closing this one as it's merging into the conversation for #55.\n. This is a great idea, but let's table it for now and focus on the shipping this puppy, so closing for now.\n. I think it's fine that credentials is first, as long as we have a check for Password. Both CustomToken and OAuthToken require you to provide a config object as the second parameter, but Password should not.\nPassword currently requires you to provide a config object as the second parameter or it will provide a confusing error of You must include credentials to use this auth method., as seen in #107 . This is because if only one param is provided, login() expects it to be the config, which should not be the case for Password.\nPassword should work with credentials as the only param:\nts\nconstructor(af: AngularFire) {\n  af.login({ email: 'email@email.com', password: 'secret' }).then(auth => console.log(auth));\n}\nTo do this we can provide a PasswordCredentials interface and an extra overload:\nts\nexport interface PasswordCredentials {\n  email: string;\n  password: string;\n}\npublic login(credentials?: PasswordCredentials): Promise<FirebaseAuthState>;\nThen in .login() when we are checking the argument length we can do as simple check on a single argument:\nts\n    if (arguments.length > 2) {\n      return this._reject('Login only accepts a maximum of two arguments.');\n    } else if (arguments.length == 2) {\n      credentials = obj1;\n      config = obj2;\n    } else if (arguments.length == 1) {\n      // Check if obj1 is password credentials\n      if (obj1.password && obj1.email) {\n        credentials = obj1;\n        config = {};\n      } else {\n        config = obj1; \n      }\n    }\n. Closed with #132.\n. Closed\n. @doovers Hmmm... \ud83d\ude15 This shouldn't be the case. Can you provide a code sample to reproduce?\n. #140 will address this \ud83d\udd27 \n. @ansorensen Can you create a plnkr for debugging?. @zaki-arain If you're running into this issue then please create a plnkr replicating it and then open a new issue. We'll be happy to debug :)\nNote: The above goes for anyone who runs into this issue.. The key is to separate both Auth and the Database like in AngularFire 1. But I think we can make the injectable individually, or provided from the main AngularFire class.\n``` ts\ninterface AngularFire {\n  database: FirebaseDatabase;\n  auth: FirebaseAuth;\n}\ninterface FirebaseDatabase {\n  list: FirebaseListObservable;\n  object: FirebaseObjectObservable;\n}\ninterface FirebaseAuth {\n  login(config?: AuthConfiguration): Promise;\n  login(credentials: AuthCredentials, config?: AuthConfiguration): Promise;\n}\n```\nComponent usage:\n``` ts\nimport {FirebaseListObservable} from 'angularfire2/database';\nimport {AuthProviders} from 'angularfire2/auth';\nimport {AngularFire} from 'angularfire2';\n@Component({\n  selector: 'fire-component'\n})\nclass FireComponent {\n   questions: FirebaseListObservable;\n   constructor(public af: AngularFire) {\n      this.questions = af.database.list('/questions');\n   }\n}\n``\n. Closed with #121 \n. I'm not sure what's going on, but can you try again with the latest version? We've made some updates and that may help the situation or at least get us on the same playing field.\n. I think forFirebaseObjectObservablethis will work, but we need names for array methods forFirebaseListObservable`.\nHow does this look?\nts\n// typealias FTW!\ntype FirebaseOperation = key:string | Firebase | FirebaseDataSnapshot | AFUnwrappedDataSnapshot, value:any;\ninterface FirebaseObjectObservable {\n  set(FirebaseOperation) => Promise<void>\n  remove(FirebaseOperation) => Promise<void>\n  update(FirebaseOperation) => Promise<void>\n}\n. typedoc doesn't work with TS 1.8.9 just yet, so closing until it's compatible. \n. I agree there needs to be more details about the other features, but I don't think the quickstart is the place.\nI think tutorial.md that expands upon the setup would provide greater value. What do you think?\n. We are actually working on this doc site that is generated from the repo: https://angularfire2.com/api/.\nI think we should break things out a bit and have this site serve as the short term docs.\nThe longer term goal to get a real docs section into angular.io that has a \"Developer Guide\" and an \"API Reference\".\n. @alexciesielski Right now we don't have an APIs for subscribing to individual events. What would you like to see happen when you subscribe to events with AF2?\nMethods like.list() aggregate all child events to synchronize the data stream into an array. The Firebase JS SDK is still easily used with Angular 2 due to the awesomeness of Zones.\n. @alexciesielski, check out our Developer Guide in the README!\n. Closed with #150.\n. Good call. Will mark it add in a later release.\n. Closed with #132.\n. Are you configuring login in the bootstrap phase?\nts\nimport {bootstrap} from 'angular2/core';\nimport {\n  FIREBASE_PROVIDERS,\n  defaultFirebase,\n  firebaseAuthConfig,\n  AuthProviders,\n  AuthMethods\n} from 'angularfire2';\nbootstrap(MyApp, [\n  FIREBASE_PROVIDERS,\n  defaultFirebase('https://<some-firebase>.firebaseio.com'),\n  firebaseAuthConfig({\n    provider: AuthProviders.Password,\n  })\n]);\n. I'll take a look into this.\n. Yep. This seems to be a bug. Probably an issue with reading the wrong overload. Will queue this up for the next release.\nThanks @imsingh and @LuisOliveiraAlves!\n. Closed with #132.\n. We are working on adding those methods. Check out #41, #95, and #122.\n. I'm not a NativeScript pro, so I'm not exactly sure what needs to be done to get AngularFire included. \n@burkeholland any ideas?\n. @burkeholland and @LuisOliveiraAlves. \nNo hill to tall to climb. There were serious issues with Firebase + ReactNative from day one (RN didn't support web sockets... at all). But we helped sort that out and now it's awesome. We can do the same with {N}!\n. @burkeholland is 100% right. I'm closing this issue right now, but we'll circle back around it once the library is released.\n. This is the FirebaseAuthState I see:\nts\nexport interface FirebaseAuthState {\n  uid: string;\n  provider: AuthProviders;\n  auth: Object;\n  expires?: number;\n  github?: any;\n  google?: any;\n  twitter?: any;\n  facebook?: any;\n  password?: any;\n  anonymous?: any;\n}\nWhere are you not seeing expires showing up? Can you provide some sample code?\n. Closed with #132.\n. FirebaseAuth is a property of AngularFire, so you should inject that instead.\nts\nimport {AngularFire} from 'angularfire2';\n@Component({\n  selector: 'auth-status',\n  template: ....\n})\nclass App {\n  constructor (public af: AngularFire) {\n    af.auth.subscribe(authData => console.log(authData));\n  }\n}\n. Thanks for the PR, Maxim!\n. @euclid1990 Those tricky System configs :angry: \nGlad to see you resolved it. I'm closing the issue, but let me know if you run into any other errors.\n. Fixed.\n. Closed with #132.\n. The docs have been updated, but we haven't cut the release yet.\nUse af.list('/items') for now, the method will be deprecated in the latest release.\n. It looks like you don't have the typings for AngularFire. \nDid you execute the typings install: typings install --save --ambient firebase?\n. There's no need to check if an object exists, because the SDK won't process data that hasn't changed.\nIf you need to know that the item exists, then it has to have a unique characteristic to it, which should be the key. For your case you can use af.database.list() and update object using the full key.\nts\nconstructor(af: AngularFire) {\n  const itemId = 'my-unique-id';\n  const myValue = { updated: true };\n  // /items/my-unique-id is the full key\n  af.database.list(`/items/${itemId}`).update(myValue);\n}\nI'm closing this issue for now, but feel free to comment further if that doesn't work for you.\n. I'd like to see this in action \ud83d\udc4d \n. I've been testing around, and I'm not 100% sure what's going on. But when I authenticate with OAuth or Redirect, I'll get the value form onAuth emitted back, but not from the returned promise. Also, Angular seems to not run change detection because none of the templates will update to the newly authenticated state until I refresh.\nI know that @jeffbcross has used the following Router trick:\n``` ts\nimport {CanActivate} from 'angular2/router';\nimport {Component, ElementRef, ViewChild} from 'angular2/core';\n@Component({ ... })\n@CanActivate(() => !(window).__IS_POST_LOGIN && !(new Firebase(FB_URL).getAuth()))\nexport class MyComponent {\n}\n```\nBut interestingly enough, the regular SDK works just fine.\n. We are working on a declarative querying model, see #16.\nFor now you can query on a ref and pass that into a list or object.\nts\nconstructor(af: AngularFire, @Inject(FirebaseRef) ref: FirebaseRef) {\n  const query = ref.child('items').orderByChild('order').equalTo('1');\n  const list = af.database.list(query);\n}\n. This is a good idea! Our build is currently breaking, but that's not your fault. After I get it fixed I'll merge \ud83d\udc4d \n. All green! Thanks for the PR. \ud83d\ude47 \n. The auth property also works as an observable, so you can subscribe to changes:\nts\nconstructor(af: AngularFire) {\n  af.auth.subscribe(auth => {\n    if(auth) {\n      console.log('logged in');\n    } else {\n      console.log('not logged in');\n    }\n  });\n}\nThere will be a big docs update in the near future so stay tuned :boom:\n. Ah nice catch! We have a broken build right now (not your fault). After it's fixed we'll re-run and merge.\n. Hey @mip1983! There does seem to be an error with your change. Can you try running the tests locally and see what's going on? Thanks \ud83d\ude0e \n. Hey @mip1983! While your fix is 100% right, your PR seems to have added a bunch of files into the repo. \nWe're working on interactive querying (see #145), and this changes the code you've committed a bit. So to avoid merge conflicts I'm going to close this PR. \nWhile this contribution didn't land, I want to thank you so much for taking your time to work on AngularFire. Please do keep checking in and checking out help wanted tags. \ud83d\ude04 \n. Closing because with the update to RC this would be madness at this point.\n. Thanks for the PR @rosslavery! Sorry for the delay, this is \ud83d\udcaf!\n. @kdenz @doczoidberg AF2 is currently in Alpha, and those methods are already available! \ud83c\udf89 \nHere's an example!\nts\nclass MyComp {\n  questions: FirebaseListObservable<any[]>;\n  value: FirebaseObjectObservable<any>;\n  constructor(af: AngularFire) {\n    this.questions = af.database.list('/questions');\n    this.value = af.database.object('/value');\n  } \n  addToList(item: any) {\n    this.questions.push(item);\n  }\n  removeItemFromList(key: string) {\n    this.questions.remove(key).then(_ => console.log('item deleted!'));\n  }\n  deleteEntireList() {\n    this.questions.remove().then(_ => console.log('deleted!'));\n  }\n  setValue(data: any) {\n    this.value.set(data).then(_ => console.log('set!'));\n  }\n  updateValue(data: any) {\n    this.value.update(data).then(_ => console.log('update!'));\n  }\n  deleteValue() {\n    this.value.remove().then(_ => console.log('deleted!'));\n  }\n}\nThe total list of methods are here:\naf.database.list\n- push(newItem: any): PromiseWithFirebase<void>\n- update(value: any): Promise<void>\n- remove(key?: string): Promise<void> (if you all remove with a key, it will remove the item, if you all remove with null or no param it will delete this list)\naf.database.object\n- set(value: any): Promise<void>\n- update(value: any): Promise<void>\n- remove(): Promise<void>\nI'm closing the issue but let me know if you have any questions! I'll be adding TONS more documentation soon. Trying to get a release out first \ud83d\ude04 \nAnd pleassseee leave feedback!\nThanks for taking the time to leave an issue, it's always appreciated! \u270c\ufe0f \n. Will add docs in a separate MEGA-DOC PR.\n. I'm on the case! \ud83d\udd0d \n. Found the \ud83d\udc1b. Fixing. Thanks @aaronksaunders!\n. @aaronksaunders This one was pretty simple, so it was totally fine without a plnkr. But plnkr's are always welcome!\nHave it fixed in #145. Will ping you when it's out!\n. @lricoy Just merged the RC update! Will cut a release soon. \ud83d\udd25 \n. There's a two options here.\n1) You can take the parts of the quickstart that work for existing apps.\n- Install angularfire2 and firebase\n- Setup angularfire2 and firebase for system.js\n- bootstrap\n2) You can use the ng init command to convert an existing app to the Angular CLI. See the reference guide here. https://cli.angular.io/reference.pdf\nI'm closing the issue, but let me know if you have any questions \ud83d\udc4d \n. What version of AngularFire2 and Angular2 are you using?\nAlso are you importing Angular2 in your main.ts?\n. Can you try the latest in beta0? And make sure to upgrade to \"@angular/core\":  \"2.0.0-rc.1\".\n. @rosslavery Thanks for flagging this! I have a fix locally, I'll get it pushed soon.\n. @kylecordes Thanks for being my spell check!\n. Thanks for contributing! \ud83d\ude04\n. And yet again \ud83d\ude03 \n. Hey @redian! These small PRs are not problem, and very much appreciated! \ud83d\udd25 \n. This is usually a typings issue.\nDid you try doing a typings install of Firebase\u2753 \nbash\nnpm install typings -g # only if you don't have typings installed globally already\ntypings install --save --ambient firebase\n. Hey @rahulbats! Can you open this issue in the geofire repository? Thanks :)\n. Those tests were for the removed .object() and .list(), so they duplicate their specific tests in firebase_object_factory.spec.ts and firebase_list_factory.spec.ts.\n. Thanks @redian!\n. Hey @aashirwadgupta!\nYou can't mix AuthMethods.Popup with AuthProviders.Anonymous. The correct combination uses both AuthProviders.Anonymous and AuthMethods.Anonymous. This is because there is no popup mechanism for anonymous authentication.\nts\nbootstrap(AppComponent, [\n  ROUTER_PROVIDERS,\n  FIREBASE_PROVIDERS,\n  defaultFirebase(\"https://.firebaseio.com/\"),\n  firebaseAuthConfig({\n    method: AuthMethods.Anonymous,\n    provider: AuthProviders.Anonymous\n  })\n]);\nWe should however look into creating errors for invalid combinations like we do with queries.\n. Hey @KyDenZ I'm closing this issue, but feel free to respond if you need anymore help.\n. @redian Thanks for all the PRs! Small PRs aren't an issue, but it is easier for us if you could bunch them up if you're doing a similar topic like the docs. No need to re-do anything right now, but in the future can you do a PR after your sweep? Thanks :)\n. Thanks @redian! I really appreciate these PRs so keep them coming \ud83d\ude04 \n. Hey @otherjohn,\nYou need to wrap the async pipes in parens:\nhtml\n{{ (items | async).name }}\nIf you find that cumbersome, you can unwrap the full object in the component.\nts\naf.database.object(`/accounts/${this.account_id}`).subscribe(accounts => {\n  this.items = accounts;\n});\nThen you won't need to pipe to async.\n. Hey @lf-alves, let me check into this myself. I'm super swamped right now so it may take some time.\n. I'll have to look at this deeper, but this type of data structure in the Realtime Database is an anti-pattern, so I'm not sure if we want to support it.\nThe best practice for the Realtime Database is to avoid nested structures like the one above. Everything should be flattened to the root of the tree. Check out the docs for more information.\nI'm closing the issue, but please ping me if you have any more questions.\n. @elevenpath Can you reproduce this in a plnkr? This definitely sounds like a bug.\n. Closing due to inactivity.\n. We should definitely support this. Will look into adding during the 3.0 update.\n. Hey everyone,\nWe will be updating AngularFire2 to the 3.0 SDK! It may take a bit because I'm going on a bit of leave, but we should have it done in about two weeks or so.\n. @sathishvj @matdehaast Is correct! Check out this tutorial http://www.clearlyinnovative.com/integrating-firebase-with-angularfire2-into-angularjs-ionic2\n. Thanks @chrisgriffith! \ud83d\udcaf \n. @josefduran So glad to hear! We're working on upgrading to the newer version soon!\n. Hey everyone, the AngularFire2 is still on the old SDK but we are in the process of upgrading to 3.0. Hold tight :)\n. Hey @ngocnb-2nf. What do your imports look like? You may have to import the do operator from rxjs.\n. @ngocnb-2nf \nCan you create a plnkr? This is usually a problem with the import statement.\n. Thanks, @UzairNouman!\n. Hey everyone! There is an update in progress! I'm about to head on out paternity leave though so it may take a week or two. \n. @pfried Can you create a repro on Plnkr?\n. Thanks for the PR @gallotamas!\n. Right now the best option is to manually delete the $key property. In the future we'll look at supporting this in the library, but right now we are focused on getting it aligned with RC3 and supporting new Firebase features.\nSee #197 for a sample of how to handle it.\n. I'm not a Universal expert so I'll be summoning @jeffwhelpley.\nJeff, is there something we need to do to integrate well with Universal?\n. Good call! Thanks, @rexebin!\n. Hey @kodova I know this is super later, but if you get the merge conflicts working I'll merge it on in! Should be pretty simple.\n. Great idea, @choopage! Thanks for the PR \ud83d\ude04 \n. Hey @julienevano, thanks for the PR!\nWhile the code looks great (tests!), I don't think we'll be able to accept it because we're in the process of upgrading to the 3.0 SDK. The greatest change is on the auth side, so all of the code in your PR would be removed during this upgrade.\nWhile this code won't land, I really do appreciate your time and effort. If you have any other feature requests for AngularFire2 open up an issue and we can coordinate on getting it done.\n. Follow #162, as we are working on this fix.\n. Can you provide a sample of what you're trying to achieve so we're on the same page?\nBut what I think you're running into is the fact that the Realtime Database won't accept $ in keys, which is why we use $key and $value. \nIf you want to use a class I would create a method that drops the $key from the object and saves it to the database. Look at the example below.\nhttp://jsbin.com/cagudocofa/edit?js,output\n``` ts\nclass Item {\n  $key?: string;\n  name?: string;\n/*\n  * Create an Item, with no depencies on a DataSnapshot.\n  /\n  constructor(key: string, data: Item) {\n    this.$key = key;\n    this.name = data.name;\n  }\n/*\n  * Create a reference for the item in the Realtime Database\n  /\n  ref() {\n    return firebase.database().ref().child('items').child(this.$key);\n  }\n/*\n  * Override the toJSON method to delete the $key\n  /\n  toJSON() {\n    const copy = Object.assign({}, this);\n    delete copy.$key;\n    return copy;\n  }\n/*\n  * Write the record in the Realtime Database, without the $key\n  /\n  save() {\n    this.ref().set(this.toJSON());\n  }\n}\nconst item = new Item('1', { name: 'itemOne' });\nitem.save();\n```\n. Unless there's any other items for discussion, I'm going to close this issue. Feel free to keep responding though :)\n. Glad you figured this out @zabojnik! Just a heads up that the authentication stuff is changing with the 3.0 SDK.\n. Hey @choopage!\nYou can generate the unique id, which we call a \"push id\", using the .push() method.\nts\nclass MyCmp\n  constructor(af: AngularFire) {\n    const items = af.database.list('items');\n    items.push('new item');\n  }\n}\n. @vicb This was the first branch that resolved the new library with the test suite.\nI'm going to push @jeffbcross's branch into this one later today.\n. @vicb Are you still up to the task? If not I can handle it \ud83d\udc4d \n. @larssn You should avoid importing all of firebase. There is no harm in importing the app/typings if you have already included the AngularFireModule and/or AngularFireDatabaseModule.\n// imports only typings and app which should already be imported\nimport * as firebase from 'firebase/app';\nYou can also access the App or Database instance off of the AngularFireDatabase service.\nconstructor(afDb: AngularFireDatabase) {\n  const firebaseDb = afDb.database;\n  const firebaseApp = adDb.app;\n}. @markgoho @aaronfrost Would you two be interested in an observable form of this API?. I'll update the docs to specify the tests were deleted.\n. LGTM! \ud83d\udc4d \n. Fixed in the latest version! Thanks for flagging it!\n. Sorry for the delay @jesselpalmer! We were waiting to get the Firebase 3.0 SDK upgrade merged. Appreciate the PR!\n. Hi @shlomiassaf!\nThanks for taking the time with PR! We no longer use typings anymore as the library ships with the Firebase typings. So I'm going to close the PR but thank you for your time and effort!\n. Closing due to the inactivity. Feel free to respond if you still need help.\n. Closing due to the drastic changes in the project.\n. You can use firebase.database.ServerValue.TIMESTAMP\nSee the docs here: https://firebase.google.com/docs/reference/js/firebase.database#.ServerValue\n. Closing due to the drastic changes in the project.\n. Answers\n1) Will direct file storage to Firebase Storage be a part of AngularFire2? \n- Yes! \ud83d\udcaf \n2) If so, when will it be available?\n- No date yet, but it's top on the list after the update.\n3) The process* in the title is referring to processing the images and documents using Google Vision API. Will AngularFire2 have inbuilt connector to perform this?\n- This would be a feature of Firebase Storage and not AngularFire2, so I can't address it here.\n. @EralpB @escobara @choopage \nRight now we're focusing on some bug fixes and \"recipes\" section to help with common questions. After that is done we are going to start looking into Firebase Storage for AngularFire2.\n. @veerni Use the regular Firebase SDK. \nhttps://firebase.google.com/docs/storage/web/start\n. @jtushar53 You do not have to reinitialize if you are already using AngularFire2\n. Thanks @joehalliwell!\n. Hey @cjblomqvist!\nWe're in the middle of upgrading to the Firebase 3.0 SDK, see #200. This is a big undertaking and we won't be able to merge this in just yet.\nCan you provide a plnkr of this problem so we can take a look at it ourselves?\nAlso, in the future please wait until discussion before sending a PR. It's good to have conversation around the issue before writing any code.\n. @cjblomqvist  The 3.0 PR is in! I'd like to come back and address this issue now if you have the time. Let me know if you can create that plnkr so I can reproduce the problem myself.\n. Fixed in #469.\n. There's no support for this within AngularFire2 but it is feasible to write a pipe that filters the result after the async pipe.\nhtml\n<li *ngFor=\"let item of items | async | newOnTop\">\nCheck out the docs on pipes for more info.\n. Can you try this with the latest release? @cjblomqvist \n. Closing due to inactivity, but feel free to respond if you still have this issue.\n. @cjblomqvist Closing due to drastic changes in the project, but I still would like to see this reproduced in a plnkr.\n. Hey @eelcowen!\nWe ship AngularFire with the Firebase 3.0 typings now. Check the getting started guide for more. \nAll you need to do is add the typings to your tsconfig.json file in the files section:\njson\n\"files\": [\n  \"node_modules/angularfire2/firebase3.d.ts\"\n]\n. We are no longer using typings as we have a local typings file for Firebase 3.0. In the future the Firebase SDK will ship the typings in the npm module and we'll use that.\nThank you for taking the time to send a PR though!\n. Hi @udnisap!\nThanks for the PR! However, we no longer use typings as we ship with the firebase.d.ts file now. In the future the firebase sdk will ship with them and we will reference those.\nCheers,\nDavid\n. Thanks @quentinchap!\n. Closing due to inactivity. \n. @nickkenens Can you go into node_modules/firebase/package.json and take a look at the version? Sometimes npm needs a kick or two to update dependencies. If it's less than 3.0 then do a rm -rf node_modules and then npm i again. \n. Hi @th3brink!\nThanks for taking the time to send a PR! There seems to be an issue with our build right now so we can't merge just yet. However, can you open an issue on this first? Our contribution process starts with an issue, discussion, and then leads to PR. Thanks :)\n. Closing due to inactivity.\n. The solution is using the \"files\" array in the tsconfig.json file.\njson\n \"files\": [\n    \"node_modules/angularfire2/firebase3.d.ts\"\n  ],\nThis is stated in the installation and setup section.\n. @doczoidberg I'm not a Hot Module Reloading expert, so I'm not sure if it will or won't work. It's not on our current roadmap, but feel free to take a crack at it  \ud83c\udf89 \n. Hi @DamonGant. There seems to be an issue with our build.\nBut in the mean time can you open up an issue for this? Our contribution process beings with an issue, discussion, and then leads to a PR. Thanks for taking the time for a PR though!\n. The library has changed to a different folder structure. @DamonGant would you like to merge the changes or close the issue?\n. Closing due to inactivity. @DamonGant If you want to make this change still please fix the merge conflicts and send in another PR \ud83d\udc4d \n. You can create another object observable using the key of that nested object.\nts\nconst blogPost = af.database.object('posts/1');\nconst tags = af.database.object('posts/1/tags');\nIdeally though you should keep your data flat to avoid nesting object:\nts\nconst blogPost = af.database.object('posts/1');\nconst tags = af.database.object('postsTags/1');\n. Thanks for the PR @canac!\n. Hi @jnupeter, we will be adding support in the future. Follow #213.\n. This is not about red tape @DamonGant. It's about clear communication. We are actively working on this library. So a PR you send in could easily be worked on or fixed in a branch of ours. Sending an issue first keeps you from wasting your time and lets us discuss the issue with you.\n. @joni8a typings install es6-promise --ambient\n. We'll be adding all the auth methods after we finish some clean up tasks. Right now you can use the vanilla SDK for any unsupported methods and should work just fine.\n. @rahmanusta What Jeff means is that we are working on upgrading the library and it will be ready soon.\n. Love it. Exactly what I was thinking\n. @ciekawy This is a great idea and we do plan on supporting it, but it's not on our short term roadmap.\nI'll be creating a roadmap within the next week or so and I'll put this on the list of future features.\nThanks for the request!\n. @ranjanmadhu No, but it's available in the regular SDK and it works just fine :)\nSee issue #854 for the future of the Auth API.. Follow #162 for updates on this bug. We have a fix in the works right now.\n. See #243. No fix yet, but we're working on it.\n. Thanks for the PR, @rwillmer!\n. Are you using the Angular CLI?\n. Then I'm not sure what's going on because the CLI should generate the tsconfig.json file for you. But you can write tsc --init and that will generate one for you.\nIf you see an issue with tsc make sure to install typescript npm install -g typescript.\n. @mattwilson1024 Good to know! I'll be explicit about this in the quickstart.\n@rwillmer Does this help you?\n. This is fixed in the latest release. Can you try again?\n. We'll be adding more authentication methods later on. But right now you can still use the vanilla SDK to do this.\n. @joaogarin You are right, we currently don't support this but it should be added. \n. @joaogarin\nI'm not an electron user, so I'm not sure if you'll run into any other issues however. Could you try something for me?\nAngularFire let's you initialize a default project with defaultFirebase(configObject), but you can also pass in a reference to a af.database.list(ref) or af.database.object(ref). This reference can be initialized outside of the scope of defaultFirebase(configObject). Can you try initialize the project that uses a service account inside of a component and then passing a reference from that initialized project? This may allow you to move forward until we have a fix and you can also see if they are compatible.\n. Awesome! Thanks @joaogarin!\n. @joaogarin\nTry this\n``` ts\nexport class HomeComponent {\n  name: string;\n  items: FirebaseListObservable;\n  ref: firebase.database.Reference;\nconstructor(af: AngularFire) {\n    this.name = 'Firebase';\n// Initialize ref\nthis.app = firebase.initializeApp({\n  serviceAccount: options.firebase.serviceAccount,\n  databaseURL: options.firebase.databaseURL\n});\n\nconst itemsRef = app.database().ref().child('items');\naf.database.list(itemsRef);\n\n}\n}\n```\n. @joaogarin I don't think AF2 is setup for Electron. We'll have to look into what it will take to support it in the next few releases.\n. @joaogarin I would believe that only authentication with anonymous and password will work out of the box. Doing popop or redirect flows will likely require your own implementation and then passing the token to the the Firebase SDK.\nI'm working on some bug fixes for this release and then hopefully Firebase Storage. If you'd like to create a sample project for setting up AF2 with Electron that would be amazing. Also if you could document your setup process and any problems you encountered in your repo, that too would be amazing.\n. LGTM!\n. Yep! WIP-ing away right now.\n. From your demo it seems like there's something wrong with your project configuration because you're getting a bad request due to a keyExpired error.\n. Hi @jlsuarezs,\nAngularFire2 supports the passing in of references to FirebaseListObservable and FirebaseObjectObservable. This means you can create a GeoFire object and grab the reference.\n``` js\nvar firebaseRef = firebase.database().ref();\nvar geoFire = new GeoFire(firebaseRef);\nvar ref = geoFire.ref();  // ref === firebaseRef\naf.database.list(ref); \n```\n\nRead the GeoFire docs for more info.\n. @dorcilio Like @buoyad said, you need store this information in your database. Authentication and Database are separate but integrated services.\n. Great solution @r-park! @peterwiebe We are looking to integrate with the router in the future so hang tight, this will get easier!\n. @justme1 Make sure to use the firebase.database.ServerValue.TIMESTAMP instead of Date.now()\n. Can you create a plnkr to recreate the problem? @justme1 \n. You can just use a regular database reference. The point of the AngularFireDatabase class is to synchronize collections. If you're need is just to add items without loading any then just call .set() or .push() on a regular reference.\njs\nconst myRef = firebase().database().ref().child(\"items\");\nmyRef.push({ name: 'item' });\n. @ksachdeva @dmastag\nThis is an issue in the way Custom Login provider data has changed in Firebase 3.0. The current code base relies on that provider data existing when it can now be null. We'll work on getting this fix.\n. @hunterleaman Working on it for the next release.\n. Thanks @quentinchap!\n. @nak411 We are not yet on RC3, but we will be soon. Just hold on tight. Angular is a fast changing landscape and we're working hard to build the library while keeping up the changes in the framework.\n. @LanderBeeuwsaert \nYou won't be able to iterate over data/images when using af.database.list('/data') because images will be an object. If you don't want to nest down data/images then you can use a pipe to iterate over an object.\nts\n@Pipe({ name: 'values',  pure: false })\nexport class ValuesPipe implements PipeTransform {\n  transform(value: any, args: any[] = null): any {\n    return Object.keys(value).map(key => value[key]);\n  }\n}\nhtml\n<div *ngFor=\"#value of object | values\"> </div>\nhttp://stackoverflow.com/a/34074484/1373162\n. @dmastag @ksachdeva \nNo provider data is returned for Custom Login as there is no provider data to return. The only cases where provider data is returned is when an existing account with provider data is linked with a custom login account.\n. @sg1705 That PR only worked for custom auth, I've since staged a PR fixing (let's hope) the larger problem. See #420 \n. We have plans to support this in the future, $ref is definitely worth having :)\n. I believe you'll need to look into using a Cordova plugin like the InAppBrowser plugin.\n. Addressing in #420 \n. @buoyad Can you create a plnkr for me to test?\n. Hi @ksachdeva,\nThanks for taking the time to send in the PR. We have a contributing policy of opening up an issue first. As you can see there are merge conflicts because we are actively developing this library. By opening a request first we can communicate what should fixed so there are minimal conflicts.\nCan you give more details about the change you made with typings?\n. Hey @ksachdeva. We are in the middle of another PR to fix the provider data, can you remove that change, fix the spacing in package.json and tsconfig.json, and also fix the merge conflicts (they should be minor)?\nAfter that we'll be able to merge your PR!\n. Closing due to inactivity and other updates.\n. @davidarich Thanks for the PR! In the future can you bunch together the smaller PRs? Thanks!\n. You can only query by one field with the Realtime Database.\nHowever you can restructure your data to help.\njson\n{\n   \"members\": {\n      \"$bloodGroup\": {\n                }\n   }\n}\nThis way you can get items by \naf.database.list('members/A+', {\n  query: {\n      orderBy: 'location',\n      equalTo: 'some place'\n   }\n})\n. We do not support absolute urls for multiple database. The absolute url only works for the configured database in the bootstrap phase.\nYou can initialize a new Firebase App and then create a reference from that and pass it into a list or object.\nts\nconst config = { }; // config here\nconst app = firebase.initializeApp(config);\nconst ref = firebase.database.ref().child('item');\naf.database.object(ref);\n. Closing because it looks like this was solved. @shamrozwarraich Respond if you still need help.\n. @randbrown This is an issue that InAppBrowser doesn't fix unfortunately. \nYou may be able to use a login library and take the resulting token to login. We're going to look at using libraries like this: https://github.com/fuffenz/ionic2-native-facebook-login\nBut we're focused on other issues atm. If you'd like to a take a look at let us know what you've encountered that would be great!\n. We are working on support of these in a future release. In the mean time you can still use the vanilla SDK directly.\n. LGTM \ud83d\udc4d \n. @samirthebti Sorry for the delay on this issue. Can you create a plnkr?\n. Never mind, I just reproduced this myself. This is a bug, we'll get it fixed in the next release.\n. @Ronsku is correct.\nUsing AuthMethods.OAuthToken is an incorrect option.\n. Can you create a plnkr so I can understand more clearly what your situation is?\n. I think this is related to #413. Closing to consolidate to that issue.\n. @filoxo Works great for me! Thanks for the PR!\n. @flowdee To get a single entry you really want an FirebaseObjectObservable\njs\nconst uid = 3;\nthis.item = af.database.object('/items/${uid}');\nAnd if you already have the data loaded in memory, the SDK won't do a network call unless the item has changed remotely.\nIf you want to query for these items you can use the query methods\njs\nthis.itemsUid3 = af.database.list('items', {\n  query: {\n     equalTo: '3'\n   }\n});\n. @flowdee Waiting for the CLA sign and I'll merge.\n. Ping @flowdee to sign the CLA.\n. Thanks @flowdee!\n. Should be fixed. Ping again if not.\n. @ivoviz I need to call upon @jeffbcross's Observable knowledge, but I believe that calling .take() will complete the observable stream and therefore kill the subscription.\n. Closing for now, but feel free to reopen with a comment.\n. @vkniazeu Can you show your bootstrap method? Also try to create a plnkr so I can debug.\n. @vkniazeu There may be two issues you're running into.\nFirstly, Firebase Authentication requires you to whitelist your domains, so plnkr will need to be added in the console.\nSecond, I'm not sure if Firebase Authentication works in plnkr yet due to 'X-Frame-Options' to 'SAMEORIGIN'.\nDo you get this error locally or just in plnkr?\n. While this is the original issue, #413 has a great research trail by @manekinekko.\n. We will be cutting a release soon!\n. AngularFire2 is up to date on Angular RC5.\n. You are missing two parts of your setup.\nFirst, you need to include the defaultExtension key in the SystemJS setup, which is specified in the quickstart.\nSecond, you are using the wrong glob for the firebase entry in the CLI build, use 'firebase/*.js' instead.\n. Thanks for the issue then the PR!\n. We used Typedoc which didn't support our TS version at the time. Typedoc has caught up, and this is a priority in our next release.\n. It's on the near term roadmap, follow #213, the original issue.\n@doczoidberg I love the idea of a roadmap in the docs. I'll work with @jeffbcross on creating something.\n. Fixed!\n. You don't need to use the FirebaseAppConfig.\nJust use the defaultFirebase function in the bootstrap phase.\nbootstrap({\n  apiKey: '',\n  databaseURL: '',\n  authDomain: '',\n  storageBucket: ''\n});\n. We're going to start shipping the official typings with the Firebase npm module soon, so this will clear up on it's own.\n. Thanks @cweidinger!\n. This isn't needed since the Firebase SDK is included when you build AngularFire. If we included it in the library we'd just be wrapping the same placeholder for no benefit.\n. @buoyad Can you provide a plnkr?\n. @buoyad @GerardoLSJ \nYou need to properly configure in the bootstrap phase. Your app specifies Anonymous and then later tries to override using Password, without providing any credentials to the login() method.\nInstead,  pass creds to auth.login(), and there's no need to wrap the call in a promise because it returns a promise.\nts\n  login(email: string, password: string): Promise<any> {\n    var creds: any = {email: email, password: password};\n     return this.auth.login(creds, {\n          method: AuthMethods.Password,\n          provider: AuthProviders.Password\n        });\n  }\n. We will be expanding our docs in a later release, sit tight! \ud83d\ude04 \n. This question should handle it: http://stackoverflow.com/questions/25611356/display-posts-in-descending-posted-order\n. This is definitely a design issue. We scrub over the firebase.User type and we lose the functionality. @jeffbcross We need to consider firebase.User methods when converting to FirebaseAuthState.\n. @smkamranqadri You can actually delete this user using the result of the AuthState.\nts\nconstructor(af: AngularFire) {\n  af.auth.subscribe(authState => {\n     authState.auth.delete()\n        .then(_ => console.log('deleted!'));\n        .catch(e => console.error(e));\n  });\n}\nI'm going to close this issue because we need a better design to accommodate the underlying firebase.User object.\n. Hey @Splaktar! Thanks for the PR we have some minor changes, can you rebase and resend?\n. Thanks @Splaktar!\n. Agreed! We will be expanding our docs in a future release.\n. Thanks for the PR @Chris-crisur!\n. You are on an old version of typings that we do not support. Like the error message states, update to the latest and run the command again.\n. It's still the same behavior just a new API on the firebase object. We don't need to natively support it in AngularFire2 though.\njs\nfirebase.database.ServerValue.TIMESTAMP\nhttps://firebase.google.com/docs/reference/js/firebase.database#.ServerValue\n. @dsummersl It should work without the ambient declaration. Is that not the case?\n. What version of AngularFire, Angular 2, and TypeScript are you using?\n. Yep, what @danielgek said!\n. You need to import Firebase if you want to use the timestamp. Make sure you're on the latest Firebase SDK 3.3 right now.\n. Thanks for the PR! This is a great feature! Let me give it a review and I'll respond/merge in.\n. Thanks for the PR @cartant!\n. Don't unwrap the observable until you're ready to subscribe, which is what the async pipe does.\nSo rather than subscribing in getIndex, you just return the observable. And rather than iterating through the async object, you can use AngularFire to nest down to the key you need and return that value as an observable.\nprivate index = 0;\n``` ts\nindices: FirebaseObjectObservable;\nconstructor(public af: AngularFire) {\n    this.indices = af.database.object('/indices');\n}\ngetIndex( type: string ) {\n    return this.af.database.object(indices/${type});\n}\n```\nThen in your template you can unwrap using the async pipe.\n. @flowdee Using async is just like writing subscribe, so my answer is still the same whether you're using it in your template or not. You still want to defer the subscribe.\n. > Updated : it seems that the problem comes when you use authDomain: \"localhost\" instead of .firebaseapp.com , try to fix that or add this to the documentation\nThis is apart of the official Firebase documentation.\n. \"Headful\" authentication, Google, Facebook, Github, and Twitter are not supported yet with Firebase Authentication. There are work arounds, but we still doing research on the best approaches.\n. Check out our Setup and Install guide.\nWe do not support any version of the Firebase SDK <3.0, so you'll need to change your install statement. Also we provide our own typings for Firebase and we don't use typings.\n. @aderito7 You also need to change the package.json to use RC2 until we upgrade to RC4.\n. Closing due to @lf-alves great work!\n. Thanks for bringing this up @lf-alves. This is a case we missed in the original implementation. We'll work on it fixing it for the upcoming release.\n. Hey @lf-alves, upon further review I'm inclined to not support this feature as it works for priority use cases. While it is something supported by the SDK, I'm not keen on fully supporting priority as it is not the recommended way of doing things for awhile now. Most things priority does is easily achieved using the other querying methods.\nI'm closing this issue, but feel free to respond with comments.\n. Why do you need to join them? Can you show your template for context? Better yet! Can you create a plnkr?\n. I see you've also posted this on Stackoverflow. We try to keep questions in one single place so everyone can benefit from a clear thread. I'm closing this question and I'll follow the SO thread.\nhttp://stackoverflow.com/questions/38421551/joining-flattened-data\n. .push() does not return a Promise rather than a ThenableReference which contains the key value.\n. See #294. We're adding this in a future release.\n. @zabojnik Glad it's all good :)\n. Thanks for these updates @aortyl!\n. Duplicate of #325 \n. See #325.\n. There are many auth methods we need to implement, and I don't think it makes sense to have each one as an issue. We plan on creating a larger issue in the future when we are ready to tackle auth support.\nIn the meantime it's perfectly fine to use firebase.auth().sendPasswordResetEmail(emailAddress) from the regular SDK.\n. LGTM!\n. FirebaseRef is no longer in the API. Use the FirebaseApp token for injecting the initialized app instance:\n```ts\nimport { FirebaseApp } from 'angularfire2/app';\nconstructor(app: FirebaseApp) { }\n```. Can you provide a plnkr example?\n. @bl1861 Our quickstart uses the Angular CLI, which the Tour of Heroes tutorial does not. I would recommend using the CLI and starting over at the beginning with our quickstart to get AngularFire2 up and running.\n. Thanks for the PR @Gillespie59!\n. @LanderBeeuwsaert Can you try the latest version? And if so, create a new issue with a code example?\n. Thanks, @mgechev!\n. Active conversation in #770.. @5amfung We were behind because we were waiting on the changes for RC5. We're all up to date now.\nAnd the typings default to the ones from npm.\n. I think we can build a \"recipes\" section that could handle this.\n. @fisherds This is an old bug that should have been fixed. Can you reproduce in a plnkr?\n. This question is outside of the scope of AngularFire2.\nTry the Firebase Slack community or Firebase Google Groups.\nhttps://firebase-community.appspot.com\nhttps://groups.google.com/forum/#!forum/firebase-talk\n. Use the JS SDK for now. We plan on wrapping those functions later.\n. @jlsantos \nUse the regular SDK\n``` js\nvar auth = firebase.auth();\nvar emailAddress = \"user@example.com\";\nauth.sendPasswordResetEmail(emailAddress).then(function() {\n  // Email sent.\n}, function(error) {\n  // An error happened.\n});\n```\nhttps://firebase.google.com/docs/auth/web/manage-users#send_a_password_reset_email\n. Closing as we are moving to the types in the npm module\n. I have not myself. But this is a question suited for Stackoverflow. Ideally you'll need to find the scope for GA and then use that token after authentication.\n. I'm not a windows user so I'm not sure. However it seems to be a problem with those libraries so I would check their repos for more information.\nHowever, since they are build related, you should still be able to move along. Also, we will have a release soon.\n. @matt-erhart What @lexcaraig said. Getting the user is an async action.\n. @matt-erhart This is a bug we have fixed in master, so hang tight! Working on a big release atm.\n. Closed per @aguzubiaga answer.\nWe are considering adding a .exists() method onto snapshots and authData objects.\n. There is not enough information here to troubleshoot your answer.\nI'm going to close because this is a question that is best for stackoverflow.\n. Can you throw up an example on plnkr so I can debug the heck out of it?\n. Sorry for the delay @manekinekko! Thank you for your hard work on this issue! We will get it fixed for the next release :)\n. I did for one of them, but yes it should be for both.\n. @ubenzer @Zyzle \nCan you try with the latest version? Make sure you aren't using the manual typings.\n. Closing with the fix by @ericjim. The new quickstart reflects these steps as well.\n. @Zyzle You are likely not on TypeScript 2.0. \nInstall both locally and globally for good measure.\nbash\nnpm install -g typescript@next\nnpm install typescript@next --save-dev\n. We are working on the AoT upgrades and will be on the latest when that lands.\n. Hi @aoki-sora! If you check #410, we have this included in that PR, which will be merged and shipped soon.\n. Headful Authentication currently does not work in Ionic. What provider are you using?\n. Thanks for the PR, @aashil!\n. @matt-erhart Can you show an example or a plnkr?\n. We are supporting @NgModules in #410 \n. Updated!\n. Haven't released the RC5 version yet. Should have it out today.\nIt's also worth noting we haven't experimented with AngularFire2 and the Webpack version of the CLI.\n. @lfarroco @DMPS While that will work, installing from master is a risky business. Proceed cautiously :)\n. @lfarroco @DMPS Can you try the pre-release version?\nbash\nnpm install firebase angularfire2@next --save\n. @vladotesanovic What version of Typescript are you on? This requires 2.0+\n. @RedFour Can I see your tsconfig.json file?\n. Can you try using the new pre-release and see if that works for you?\nbash\nnpm install firebase angularfire2@next --save\n. @shamrozwarraich @tomasvio \nActually, thefirebase3.d.ts are the problem. The latest Firebase SDK ships with typings, which we have switched to in the pre-release.\nIf you're using the pre-release (@next) version, remove the firebase3.d.ts from either your tsconfig.json or typings.json file.\n. @danielgek Interesting that works for non 2.0 projects, I'll check that out!\n@yashmurty Try install TypeScript 2.0+ either:\n``` bash\nnpm install -g typescript@2.0\nor\nnpm install -g typscript@next\n```\nI'm going to update the readme/guide to note this.\n. @yashmurty Those npm WARN warnings are because you are on a windows machine, but unless you're running karma in the AF2 project itself you won't run into any issues. There's also a workaround, but that's not necessary now.\nThe namespace issue should have been because you were on <2.0. Are you still getting it with the following import?\njs\nimport * as firebase from 'firebase';\n. We don't create changelogs for pre-releases. Once we get enough feedback on it we will release to main and create a changelog. \n. No there's currently a mismatch between the pre-release and the regular version. I'm updating them today.\n. @locohost I did update the documentation, but we released to main so we didn't need to tell people to use the @next version anymore.\nYour warnings are not the same, because we released the new version which now targets RC5. Change your angular dependencies so they are on RC5 like the warnings suggest.\n. @locohost Ah, you are using Ionic. Ionic has not updated to RC5 yet. Use \"angularfire2\": \"2.0.0-beta.2\" and and Angular RC4 until Ionic upgrades.\n. This is not a failed install, it's only a peer dependency warning and it will work with RC4.\nHowever, we will be updating to RC5 soon and that will cause changes to upgrade from RC4 to RC5.\n. It works the same way :)\nThe .update() operator will work the same way as the .update() method on a reference. It really just calls set anyways.\nts\nconstructor(af: AngularFire) {\n  var updatedUserData = {};\n  updatedUserData[\"user/posts/\" + newPostKey] = true;\n  updatedUserData[\"posts/\" + newPostKey] = {\n    title: \"New Post\",\n    content: \"Here is my new post!\"\n  };\n  af.database.object('path').update(updatedUserData);\n}\n. @wceolin @mikeybyker \nIt performs an update at the first level, but everything below is treated as a set. To get the effects of an update you'll have to go to the deepest level of the path. \nRather than:\njs\nlet update = {};\nupdate['test/objectA'] = {a:10, e:50};\nupdate['test/objectB'] = {x:20};\nDo this:\nlet update = {};\nupdate['test/objectA/a'] = 10;\nupdate['test/objectB/x'] = 20;\nBy specifying deep path level it will only do an update for a and x.\n. @cerealexx The second callback is the error callback, not the done callback. And the done callback will only fire if the listener is removed. To see the done callback fire try using an operator that terminates like .take().\nts\nthis.items = this.af.database.object( 'items' , {preserveSnapshot:true} );\nthis.itemsSub = this.items.take(1).subscribe(\n    snapshot =>{ this.values = snapshot.val(); },\n   (err) => console.log(err),\n   () => console.log('done')\n);\n. I'm not an Ionic pro, is Ionic not yet on RC5? If it is not the current version is still RC4 compatible. The next branch is not. You can freeze at the current version, but it won't get any bug fixes.\nI have no inside info, but Ionic will likely update soon as they are a big beneficiary of the AoT capabilities in in RC5.\nSo I guess the answer is use beta-2 until Ionic is ready. When we release beta-3 in the next day or so it will target RC5.\nLet me know if you have any questions.\n. The problem is with your error and uid parameters.\nts\n  constructor(private af: AngularFire, public error: String, public uid: String) {\n    this.af.auth.subscribe(auth => {this.uid = auth.uid; });\n  }\nYou need to create a way for those to be injected either with a @Inject() or through a Token.\nhttp://blog.thoughtram.io/angular/2016/05/23/opaque-tokens-in-angular-2.html\nhttp://blog.thoughtram.io/angular2/2015/11/23/multi-providers-in-angular-2.html\n. @doczoidberg We aren't working for Angular Universal just yet, but we plan on doing so in a future release.\nTrack #191 for updates as it is the original issue.\n. There is no Crash Reporting for the web, only for Android and iOS.\n. @gencoder25 \nWhile the main release is on RC2, it will work with RC4.\nnpm gives scary errors when there's not always something to worry about.\nIf you want to use RC5 the use the @next tag.\n. The documentation needs to be added for the next tag. The Firebase SDK ships with typings included so we removed our firebase3.d.ts file. It should work out of the box so you can skip that step.\n. Thanks for detailing your files @maxmumford and @ayls!\nAlso thank you so much @danielgek for being so helpful!\n. We will only be supporting npm, as that is the policy for Angular 2.\n. @katowulf The build is failing but it's just a typings issue.\nhttps://travis-ci.org/angular/angularfire2/builds/153088435#L329\nbash\nsrc/database/firebase_list_observable.spec.ts(54,41): error TS2339: Property 'Reference' does not exist on type 'typeof database'.\nsrc/database/firebase_object_observable.spec.ts(54,41): error TS2339: Property 'Reference' does not exist on type 'typeof database'.\nI believe the type is firebase.database.DatabaseReference.\n. @katowulf Fix the merge conflicts and let's merge!\n. LGTM!\n. @sebfag This is a question best suited for Stackoverflow, but here's some info to hold you over.\nThe Firebase Database has a limitation of only one order by query on one field. However, you can set up your data structure to help your queries become more sophisticated. \njson\n{\n   \"completedTasks\": {\n      \"$task_id\": {\n       }\n   },\n   \"incompleteTasks\": {\n      \"$task_id\": {\n       }\n   }\n}\nNow you can do a query depending on which location the data belongs in, either completedTasks or incompleteTasks and then do a query by creationDate.\nCheck out these answers on SO for more info:\nhttp://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase\nhttp://stackoverflow.com/questions/34374816/firebase-how-do-i-write-multiple-orderbychild-for-extracting-data/34375925#34375925\n. @shamrozwarraich You can use the same approach you did for the name field.\nts\n   this.items = af.database.list('/items', {\n      query: {\n        orderByChild: 'status',\n        equalTo: this.Subject\n      }\n    })\n    this.statusSubject.next('solved');\nPlease try to keep these kind of questions to Stackoverflow as they provide a better medium for fielding questions. Ideally the Github repo would contain troubleshooting of issues like setting up and getting the API to work properly. This question is more so \"I need to do ____\" which is best suited for Stackoverflow.\n. Arrays are bad for realtime data. Numeric indexes collide and cause race conditions. Hence we use the generated push id's provided by the Firebase SDK. This is actually a JSON object in the database and not an array. Therefore we use child events to and reconcile the updates into an array so it fits well with Angular's templating. \nDoes that clear things up at all?\n. @DMPS With child events. \nSee the code for FirebaseListObservable here: https://github.com/angular/angularfire2/blob/master/src/database/firebase_list_factory.ts#L103\nIf you are requesting that we use numeric array indexes, we will not be supporting that as it is an anti-pattern in the Firebase Database.\nCheck this blog post for more information: https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html\n. Dupe of #413. Fixing in the next release. \n. Update to RC5 and install using npm install angularfire2@next for RC5 support.\nSorry this is confusing, we're in the middle of a transition on configuring AF and Angular apps in general, we should have it sorted out soon.\n. @dsummersl The docs are updated!\n. Are you using RC5 or RC4? There's a mismatch of our docs that uses RC5, but the default package uses RC4.\nPlease try using the pre-release version for RC5 using npm install angularfire2@next. \n. Should be fixed with the new version and documentation. Ping or reopen if the problem still exists.\n. Use .take(1), which will kill the subscription once the first value has emitted. \nts\nvar team = this.af.database.object('/teams/' , { preserveSnapshot: true }).take(1);\n. @therealdsmart We've updated a docs for the new release, can you try again? And if you're upgrading to the webpack branch make sure to checkout these upgrade steps: https://github.com/angular/angularfire2/issues/414#issuecomment-241588890\nThis should resolve you problems. If you're running into the problem still, open up another issue and we'll take a look at it.\n. See the new quickstart, it removes the need of the manual typings.\n. @5amfung I haven't ran into any issues with Webpack and AF2 yet.\nDo those warnings affect your app, or are the benign? \n. There was a mismatch on the docs.\nCan you check out our quickstart now and see if that helps? Basically you'll need to make sure you're on beta4 on AngularFire2 and remove the firebase3 typings.\n. Sorry there was a typo in the docs, it's actually a lowercase bootstrap not an uppercase one.\nTry again and let me know what happens.\n. @sorcamarian @GitHubish You need to remove firebase3 from your globalDependencies in your tsconfig.json.\nCheck out @ericjim's solution: https://github.com/angular/angularfire2/issues/414#issuecomment-241588890\n. @sorcamarian @GitHubish The problem is that you're likely not on TypeScript 2.0+.\nI cloned @sorcamarian's repo and after fixing the syntax errors in typings.json I was able to ng serve without any errors. You also are omitting the bootstrap from your main.ts. You need to include the kickoff at the end of the file:\nts\nplatformBrowserDynamic().bootstrapModule(MyAppModule);\nPlease upgrade to TypeScript 2.0 locally and globally to be safe, and try again.\nbash\nnpm install -g typescript@next\nnpm install typescript@next --save-dev\n. @GitHubish I don't think you're on all the correct versions.\nCan you run an npm list, and then a tsc -v and show me the output?\n. @paulogr The Firebase typings require TypeScript 2.0+\n. @GitHubish Can you publish your project to Github for me to take a look at? You have the correct versions installed.\n. AngularFire2 is not currently written to work on the server. We are planning integration with Angular Universal, but outside of that there won't be too much of a use-case for server side work.\n. What version of AngularFire2 and what version of Firebase are you running?\n. Using remember is no longer needed as the new Firebase SDK handles it automatically.\nIt seems I inadvertently removed scope, from the AuthConfiguration interface. I'll get it fixed in a release soon. However, it still will work if you don't supply the type here:\n``` ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { platformBrowser } from '@angular/platform-browser';\nimport { enableProdMode, NgModule } from '@angular/core';\nimport { AppComponent, environment } from './app/';\nimport { AngularFireModule, AuthMethods, AuthProviders } from 'angularfire2';\nimport * as firebase from 'firebase';\nif (environment.production) {\n  enableProdMode();\n}\nexport const firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \".firebaseapp.com\",\n  databaseURL: \"https://.firebaseio.com\",\n  storageBucket: \".appspot.com\",\n};\nexport const firebaseAuthConfig = {\n  provider: AuthProviders.Google,\n  method: AuthMethods.Redirect,\n  scope: ['email']\n};\n@NgModule({\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig, firebaseAuthConfig)\n  ],\n  declarations: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class MyAppModule {\n}\nplatformBrowserDynamic().bootstrapModule(MyAppModule);\n```\nAlso look into upgrading using the new @NgModule format. \nhttps://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md\n. Remember is no longer needed as the Firebase SDK handles this automatically now.\nWhat version of AngularFire2 and Firebase are you running? Scope is handled differently as of Firebase 3.0.\nIn Firebase 3.0 you can supply a scope but it won't return to you the data from the provider. The only data it returns by default is from the firebase.User object. It will give you the access token needed to get that data. So you'll have to call the API with that token to retrieve the data. \nWe aware of this issue and we're working towards a better solution.\n. Closing due to auth rewrite.. Upgrading to 0.6.21 and including the proxy library fixes this issue. Will have it in the next release.\n. Fixed with RC7 upgrade.\n. LGTM!\n. Closes #215 as well\n. @jmarlow4 Can you try injecting the AngularFire service? The Auth and Database services are not meant to be injected directly.\nAlso if you could provide a plnkr reproducing your issue that would make it easier for me to debug :)\n. @JerryBels \nYou are installing the Firebase types from typings, which will not work:\nbash\ntypings install --save firebase\n@alejandrocao is installing from the manual_typings folder, which is valid for the beta2 release, but not anymore.\nbash\ntypings install file:node_modules/angularfire2/firebase3.d.ts --save --global\n. @JerryBels When Ionic upgrades to RC5 or greater. The key reason is supporting @NgModule.\n. @caroso1222 Thanks for the PR!\n. @layegning There isn't enough information here for me to help you. This is a basic piece of functionality, so if it's not working it's likely something is wrong with your node installation which is outside the scope of AngularFire2.\nHowever, if your file is named packages.json that may be your problem since it is package.json.\n. @beckmeindia \nHello! I'm going to close your question because it is best suited for another medium like the Firebase Google Group or the Firebase Slack Community. This repo is focused on troubleshooting library centric issues. Thanks for reaching out through, and I can assure you that those mediums are active and will be able to help.\nhttps://firebase-community.appspot.com\nhttps://groups.google.com/forum/#!forum/firebase-talk\nCheers,\nDavid\n. Upgrade to 2.0.0-beta.4 and try again.\nMake sure you are not installing the Firebase types from the manual_typings folder as those are deprecated. The Firebase npm package contains the official typings.\n. > I also fail to see why changing the firebase typings would remove those optional class members statement.\n\nThe typings are different, so it's good to be on the correct version.\n\nI think this is your TypeScript version. Can you do a tsc -v and see what it outputs? If it's less than 2.0 try installing TypeScript 2.0:\nbash\nnpm install -g typescript@2.0\nThen try again.\n. @ykoehler This is a beta library, and we require TypeScript 2.0 as it will be released before we are in production. Please install 2.0 if you want to use the project. You can also use TypeScript as local module if you don't want to upgrade your global module yet.\n. Please refrain from cross posting in multiple issues. The original closed issue says to use the regular SDK.\n``` js\nvar auth = firebase.auth();\nvar emailAddress = \"user@example.com\";\nauth.sendPasswordResetEmail(emailAddress).then(function() {\n  // Email sent.\n}, function(error) {\n  // An error happened.\n});\n``\n. What is your TypeScript version?\nWhat is your AF2 version?\nWhat is your Angular version?\n. You'll need to upgrade your version of TypeScript to 2.0+. The angular2-seed project is on TypeScript 1.8 and AF2 only supports 2.0+. \n. The<>means it's variable. The Angular CLI used to print out your app's name in the file path. Now it's justapp` for the root component. We'll remove this in the upcoming release, but the actual project structure is still the same.\n. @lebsral @rememberlenny \nI think I have discovered the source of the confusion. This is new to the webpack branch of the CLI.\nIf you use that branch it generates the app folder.\nbash\nnpm install angular-cli@webpack -g\n. Unmet peer dependencies are warnings, not errors. \nRight now Angular is working towards releasing and TypeScript is working towards releasing 2.0. This makes it hard for everyone to satisfy the same peer dependencies. You will likely see this until version numbers in all of the libraries and tools start to stabilize.  \nUnless there is an error in your actual setup or project you should be fine.\n. @mafzst You should be using beta2, which targets RC4. Can you give that a go and let me know what happens?\n. @mafzst Sorry, I meant to saybeta2 works with RC4. It targets RC2 but those peer dependency warnings are benign. \nOnce Ionic upgrades to RC5/RC6 we'll have a compatible release for them.\n. Should be fixed awhile ago with the ZoneScheduler change. I'm sorry there was never a response. That is not the kind of treatment we want to give to our users. In the future I'll make sure to be more diligent.. No need to install the manual typings. Use the latest Firebase SDK ^3.3 and it automatically ships with typings. \nAlso please upgrade your AngularFire2 version to beta4 :)\n. @lebsral Your package.json has no AngularFire2 or Firebase dependencies.\nPlease use triple ticks (```) to format your code as it makes it easier to help.\n. @shamrozwarraich Why do you need to reauthenticate? The token will refresh indefinitely.\n. AngularFire2 isn't on RC6 yet. For the time being downgrade to RC5 if you require AngularFire2, but  we are working on the upgrade soon.\n. @ryanlangton This repository is actively being worked on. We have a beta.5 milestone in place here on GitHub. You should see an update sometime this week.\n. RC7 upgrade is merged. Up next 2.0 final (which is the same thing really)\n. Thanks @buoyad!\n. @ix-xerri @baisaksen @rememberlenny It's important to make sure you're on the webpack version of the CLI if you're following that guide.\nbash\nnpm install angular-cli@webpack\n. @ix-xerri Are you saying you don't have an app.module.ts file? If so, it would suggest you are not on the latest webpack branch that targets RC6.\nCan you upload your code to a repo and link it here?\n. @ix-xerri Are you on TypeScript 2.0?\nYou need to be on the Firebase 3.3 SDK, RC5, TypeScript 2.0, and the Webpack branch of the CLI.\n. These are outdated and we're working on updating them. Use the docs in github for now.\n. Closing as we are no longer advertising that site. Once TypeDoc supports TS 2.0 we will update re-publish.\n. Should be fixed with the latest release, provided you are using the webpack branch of the CLI with the instructions.\n. @matt-erhart Can you create a plnkr? We have a template linked in the README now :)\n. @matt-erhart Arg! I will investigate that.\n. Related to #574.\n. @VladimirMakaev Can you show some code to repro? A plnkr would be excellent.\n. @VladimirMakaev There is currently no plnkr template, but we need one!\nCan you provide more concrete parameters for 'anyUrl' and opts? Also, an example of your data structure would be helpful. I'm having hard time grokking what you're trying to accomplish.\nDoing a subscribe inside a subscribe is an anti-pattern. Especially if you need access an inner list, as that data is downloaded in the original list. This nested structure is also considered an anti-pattern.\n. @ivoviz Would really appreciate the template! We would love a PR in the README featuring it.\n. Related to #574.\n. @ggranum Thanks for the PR. The build is currently broken due to a zone issue, but I have a fix and it should be updated soon. Hang tight!\n. Hi @christoferd. To help you I'll need more information.\nWhat versions of AngularFire2, TypeScript, Angular, and Angular CLI are you using? What does your tsconfig.json look like?\n. @daimz While the master branch is on 2.0 final, we have not released yet so you will see some problems until we do so later today. Have you read the updated quickstart? We recommend including \"firebase\" the \"types\" property array if you receive the \"Cannot find namespace 'firebase'\" error.\n. @zakdances Installing @types/firebase will not help as they are not the official typings. The npm package ships with the typings.\nMake sure you are on TypeScript 2.0.2 or above. And you can also try \"skipLibCheck\": true as a compiler option. \nCan you upload your project to a repo and link it here? I'd love to take a look.\n. @LanderBeeuwsaert Thanks for reporting! However, this is something you should report to Firebase support: https://firebase.google.com/support/contact/bugs-features/\n. @asadsahi @jwuliger There's an issue with AoT compilation that we are looking into. Rest assured we are working on it :)\n. @asadsahi @ivoviz It's important that we try not to knowingly release bugs into production. Outside of the AoT issue we have some more testing to do as there were a fair amount of changes to our test setup from the RC7 upgrade.\nWe plan on cutting a next release soon, we'll let you know when it's out.\n. @ivoviz Upgrading to Firebase 3.4.0 this might fix issue. Which we can do now that we're off SystemJS.\n. @cartant There was an issue with loading Firebase 3.4.0 and SystemJS in our test suite. We are resolving that right now.  And yes, we should move Firebase to be a peer dependency.\n. This is amazing @ivoviz! Thank you so much!\n. Thanks @mukesh51!\n. One comment, but otherwise this is great :)\n. @richtera Love it! Can you add a section to the guide about setting up HMR with the Angular CLI? It would be great for others to use as well.\n. @richtera Ah I see. Even docs on getting it to work with the angular2-webpack-starter would be nice too!\nWe can work on the CLI docs later.\n. Hey @richtera. We have some (small) merge conflicts now, can address those or enable edits on your PR?\n. @richtera Thanks for your PR!\n. Hi @mukesh51! Thanks for the PRs! Can you combine all three into one, since they are small changes? Thanks!\n. Closing as it seems to work with the final version.\n. @meDavid  The casing is wrong on our side actually. We'd rather change the casing in the rollup config.\nhttps://github.com/angular/angularfire2/blob/master/rollup.publish.config.js#L5\nhttps://github.com/angular/angularfire2/blob/master/rollup.test.config.js#L7\nWould you like to change those two files and then I'll merge the PR?\n. @meDavid This is awesome! Can you write a unit test to verify the behavior?\n. @katowulf Angular 2 only supports back to IE10. \n. @meDavid Thank you so much! There appears to be a merge conflict, however. Can you get that sorted out and then we'll do a review to merge in?\n. @meDavid Any updates on this? I ran into this recently myself and I just deleted my fork and moved my changes over to the new one. You lose history, but it works.. @appplumbr What @alwaysprep is true. @dmastag's answer will help you as well.\n. Duplicate of #525. See the work around in the thread. We're working on a real solution.\n. @ivoviz Amazing! Thank you so much!\n. Love it! This is really expressive and is possibly the quickest way to bind Firebase data to your template.\nHow do you recommend we handle querying?\n. Related to #574 \n. @momsenmeister We've been through alot being a project that has existed before Angular 2 RC, Firebase 3, the Angular CLI, npm@types, and TypeScript 2. The current goal is to reach stability with the API, so we haven't taken the time to prune all the proper packages. This is no excuse however, and it should happen.\nWould you like to take a look at it?\n. @dowsanjack Give me some time to reproduce, thanks for reporting it :)\n. AngularFire2 no longer provides these auth methods. If this problem still persists open a question on Stackoverflow for Firebase Authentication.. @maxmumford Can you show all of your app.module.ts?\n. @leandroz We do need the ability to provide a name, but it is not meant to mirror the Firebase SDK API. We used the name to bring familiarity to the process.\n. @alizzen This is possible and I recommend looking at https://github.com/mgechev/angular2-seed.\nWe did not document it as Angular 2's setup changed dramatically through beta and RC. If you'd like to send in a PR detailing how to setup without, we'd gladly accept!\n. @JimTheMan Are you still having this problem? It should have been fixed in the last release.\n. AngularFire2 no longer provides these auth methods. If this problem still persists open a question on Stackoverflow for Firebase Authentication.. @mukesh51 Can you add this as a doc, so we can close the issue?\n. @katowulf LGTM!\n. @mukesh51 LGTM! Thanks :)\n. @mukesh51 LGTM! Thanks :)\n. @alejandrocao This is a question that fits best for S/O, but it is best that you restructure your data.\nIt's highly recommended to use a flat data structure in the Firebase Database as it loads all data at and underneath a path.\nRather than items/subitems use a flat structure like both:\n``` json\n{\n   \"items\": {\n      \"item_one\": {\n  }\n\n},\n   {\n   \"subItems\": {\n      \"item_one\": {\n         \"first_item_in_list\": {\n     }\n  }\n\n}\n}\n```\nThen it's simple to get the first item and length.\nts\nthis.subItems = af.database.list('subItems/item_one');\nhtml\n<div> {{ (subItems | async)[0] </div>\n<div> {{ (subItems | async).length }} </div>\n. @maxmumford @DennisSmolek @RaulGarafulic @storatus \nI have found the issue, and it does have something to do with ref.once('value', ....\nWe use ref.once to tell us when the child events are done loading and then we start emitting your values. However, sometimes the Firebase SDK can fire off callbacks synchronously (this is something I somehow always forget). @maxmumford In your case the call is done synchronously. This causes Firebase to tell AngularFire2 that the child events have finished loading even though they have not, hence all of the extra calls.\nThe solution is to put the child events inside of the once call. I'm working on the fix now and should have something out shortly.\nI also apologize for the long delay on this issue. I've been sick and been dealing with sick children for the past month and it's hard to be a functioning human being.\n. @rosslavery Yes. This will be in the next release. I have the fix speced out, now just to implement it without breaking everything \ud83d\udd28 \n. @rosslavery @maxmumford Super sorry about the delay on this issue. I've been slammed since switching roles. I had it fixed awhile back but it broke several tests, so there was a lot of plumbing work involved. \nI just merged this in with #735, will get a @next release out soon. I would love your feedback on it if you have the time.. @shlomiassaf Can you create a plnkr so I can debug?\n. @Znow Can you provide a repro? A github repo or a plnkr would be excellent.\n. Hi @apreg!\nDid you configure your provider in the Main Module?\n. @maxmumford Thanks, Max!\n. Hey @cre8! The export is a requirement of the Angular Compiler for AoT.\n. Hey @stavalfi, I'll be happy to answer your questions!\nComplete will not fire unless you manually terminate the Firebase listener. You can do this by calling dispose on the observable, using an operator that disposes, or calling .off() on the reference yourself.\nIf you're looking to convert to a promise, then I recommend using take:\nts\naf.database.list('users').take(1).toPromise();\n. @adriandurran The access token is not accessible because it is not available in onAuthStateChanged in the underlying Firebase SDK. This is because it is not guaranteed to be a fresh token as it will expire after a few hours. You can keep it around in memory (or localStorage) yourself if needed, but we will not be adding it as it would break functionality with the underlying SDK.\n. Closing due to @cartant's explanation.\n. @nik-ffm We originally started with firebase-server and then switched to the real servers as firebase-server does not do proper ordering and can give unexpected results. \n. @un33k @andlcool We are investigating this now. Hold tight.\n. Fixed in Beta 6 release!\n. @Maistho Right now you're best off using the regular SDK. I'm planning some changes to auth that should simplify things.\n. @Maistho @tonymk Will we be moving to a peerDependency in an upcoming release.\n. @Splaktar Thank you so much! \ud83d\udcaf \n. @Splaktar How about adding a section specific for documentation?\n. Hi @tomaspl! \nThis doesn't fully satisfy the issue template as I have no information about what your debug output is, expected behavior, or actual behavior. Could you please gather more information and open another issue?\n. @johnqiuwan I will answer this question here, but please use the issue template in the future. The template makes it much easier for us to answer. Also, these type of questions are best suited for stackoverflow as it is not an issue with the library itself.\nIn your case you would use FirebaseObjectObservable so you only load the one item.\nts\nconst cachedCart = this.af.database.object(`/cachedCart/${uid}/${restaurantName}`);\ncachedCart.set(items);\nYou should consider creating a shallow structure. Deeply nested structures are anti-pattern in the Firebase Database as all child data is loaded at the parent path.\n. @daslicht @mukesh51 There seems to be a problem with Zones and auth right now. We are investigating. I'll post a workaround as soon as I find a proper one, and then we'll release a fix soon after.\n. @oberoivarun \ud83e\udd14  Writing import * as firebase from 'firebase' should have fixed the trick.\nDo not use the definitions from typings, as the definitions you need are in the firebase node module.\nI'm unfortunately going to have to close this issue because it has not followed the issue template. This may seem tedious, but your issue leaves out what versions of everything you are using. AngularFire2 is a library the depends on Angular2, Firebase, and RxJS so know what version is really important. Not knowing versions, and whether you're on the Angular CLI makes it really hard for us to help solve your problem. Please open an other issue with all of the needed info and we can help you out \ud83d\ude00\n. Hi @alexandrzavalii!\nWe have a policy to close issues that do not follow the issue template. Feel free to create a new issue that follows the format.\n. Hi @doczoidberg! This question doesn't follow the issue template so I'm going to close it. Also, I think you'd find Stackoverflow as a great medium for this type of question.\nBut you might want to check out the throttle and debounce operators.\n. Hi @daslicht!\nWe have a policy to close issues that do not follow the issue template, so I'm unfortunately going to have to close this. Feel free to create a new issue following the template.\n. Hello @clust3rsekt0r! \nCan you please follow the issue template as it makes it much easier for us to answer your questions.\nYour problem is that you're not specifying your orderByChild attribute, which is required.\nts\nthis.customers = af.database.list('customers', {\n        query: {\n            orderByChild: 'childProperty',\n            equalTo: this.searchSubject\n        }\n      });\n. @oberoivarun What are your security rules set to? If they are restricted to auth != null for .read and .write this would be your problem. If that's not the issue can you please provide a plnkr or repo so I can debug?\n. @oberoivarun If your rules are set to auth != true then you won't be able to read the data. You'll need to login or set the rules to true.\n. @oberoivarun Interesting. This may be a Zone issue. We've been dealing with this a lot lately. I'll check your repo out here in a bit.\n. Hi @theunreal, please follow the issue template as it will make helping you much easier. Feel free to open a new issue with the template.\nAlso, make sure your security rules are set so you can read your data.\n. .take() will close the connection after taking the number of items specified in the parameter. If you want one item you will need to query.\nts\nthis.users = af.database.list('users', {\n   query: { \n      limitToFirst: 1\n   }\n});\n. Thanks for your PR, but this should be fixed with #681 :). Hi @daslicht, can you please update your issue to follow the template? There are many fields missing that would be helpful.\nCan you also provide your tsconfig.json?\n. @dabele91 This is my guess as well. @daslicht Let me know if that works.\n. @edoardoVD Have you installed Firebase types from npm install @types/firebase? Because that would provide duplicate typings as the npm package ships with the typings.\nIf not try deleting your node_modules and re-installing.\n. Thanks @toddmotto :)\n. Hey @JavierSaldivarRubio!\nAs of Firebase 3.0 the authentication is automatically refreshed and there is no option to disable remembering the session.\nIf you need guidance on how to make this work for your situation I recommend opening up a Stackoverflow issue. We have quite the active community there :)\n. @jtushar53 Please follow the template :)\nBut Querybase returns a Firebase ref, and object and list can take a Firebase Ref in lieu of key.\nts\nconst list = firebase.database().ref('list');\nconst query = querybase.ref(databaseRef, ['age', 'name']);\nconst firebaseRef = query.where({ name: 10 });\naf.database.list(firebaseRef).subscribe(item => {});\n. @StevenAderson Lists will always auto-generate, which is good thing! If you need to specify your own key in a list, then a use object(key: string).\nts\nthis.af.database.object(`list/myCustomKey`).update({ age: 101 });\n. @coltaemanuela You cannot update keys. You can create a new key with the same content and delete the other one however.. Hey @thegrid22593! Can you please fill out your issue with the issue template? It's really important to know the versions of Firebase, Angular, Angular CLI, and AngularFire upfront, and we can answer much faster and accurately when following the template's format. I'm closing the issue, but feel free to open a new one with the template.\nThanks :)\n. Hey @mohammedgadi5253, thanks for the PR but I believe this note is a bit unnecessary. Also, you'll need to sign the Google CLA to have a PR accepted in the future. \nThanks for taking the time to contribute and don't hesitate to let us know if you'd like to take on another issue \ud83d\udc4d . @fabien0102 Thank you so much and sorry for the delay! This is much appreciated :). @rynclark Thanks for getting this in! . Please follow the issue template so we can better help you. It's important to know what versions of everything you are running. Feel free to open another issue that follows the template :)\n. AngularFire2 no longer provides these auth methods. If this problem still persists open a question on Stackoverflow for Firebase Authentication.. There is not enough information to tell what the problem is. The issue template is also blank. Feel free to open again with the issue template filled out.\n. @lawjar We have a required issue template, which is currently blank. I'm going to close the issue, but feel free to submit this question on Stackoverflow as this repo is designated for troubleshooting library issues rather than general use questions.\nHowever, you should be able to call .facebook on the auth object.. Hello @johnqiuwan. Thank you so much for following the issue template! This is a general Firebase question and it doesn't belong to AngularFire2. This repo is dedicated to troubleshooting library issues. I recommend creating a stackoverflow post.\nThat being said, Zones and Firebase libraries have not always been best friends. Try manually running the zone inside of the state_changed callback and see if that helps. https://angular.io/docs/ts/latest/api/core/index/NgZone-class.html. This should be fixed with #681. The fix is published under the next tag (npm i angularfire2@next). After a few more issues are addressed we'll do a release.. @rosslavery The package is re-written in during a release to set dependencies to peerDependencies, the issue is that they are still being left as dependencies. I've made the change to delete them as dependencies on a release.. @manekinekko Thanks :). We have a plan for this. Closing for now. I think you'll all like it.. @cartant Thanks for cleaning this up!. @patrickr Thanks :). @sabhiyan Hello, we have an issue template that is required for submitting issues. Can you please resubmit this issue following the template?. @hansl @chuckjaz I think I have an easy fix. The second parameter private _webWorkerMode = false is unneeded as we no longer support Web Workers. I'll remove the parameter and test with Stephen's repo.. @hansl @chuckjaz The fix has been published in the next tag. I've sent a PR to @StephenFluin's AOT repo with the working fix too.\nCan you give it a spin and make sure I've gotten everything?\n. @salmanpatnee Hello, we have an issue template that is required for submitting issues. However, questions like these are best suited for Stackoverflow as this repo is designated for troubleshooting library issues and not general use questions. We have an active Stackoverflow community, so there are plenty of people able to help there :). @Blankarsch What is your problem? I just updated the lib, all the tests pass and everything seems to be working just fine.. @raviranjan528 Hello, we have an issue template that is required for submitting issues. However, questions like these are best suited for Stackoverflow as this repo is designated for troubleshooting library issues and not general use questions. We have an active Stackoverflow community, so there are plenty of people able to help there :). @da45 Hello, we have an issue template that is required for submitting issues. However, questions like these are best suited for Stackoverflow as this repo is designated for troubleshooting library issues and not general use questions. We have an active Stackoverflow community, so there are plenty of people able to help there :). @utkukaynar Thanks for the fix :). @JimTheMan Can you provide the AngularFire2 and Firebase versions as well? Does this work in the browser? It's common to see the TypeScript code complete bug out in the editor.. @JimTheMan, I wrote the same code but did not see the same error. Can you create a plnkr or a github repo to demonstrate?. @JimTheMan Please listen to @cartant as he is correct.\nAlso, you're trying to use switchMap on a promise which only works on Observables.\nHope this helps you :). Hello @prithviraju1369! We have an issue template that is required to be followed for us to accurately answer you. I know it may seem tedious and unnecessary to you, but we respond to many issues so it saves us a lot of time.\nAs for your problem, it is a warning and not an error. It still installs the CLI just fine. We have fixed this warning with the latest next build. Installing npm i angularfire2@next --save should fix your issue. Just make sure to get off the next build when we ship the next release.. @asqwrd What version of rxjs were you using?\n@rosslavery @katowulf \nI released a new next that includes the fix for Firebase, Angular, and rxjs as peerDependencies only. \nCan you give it a spin and let me know if works for you?. @katowulf You are the man :). Hi @jiayihu!\nThanks for sending in this PR. However, the API Reference is severely out of date. The reference is generated from TypeDoc and we ran into issues when the TypeScript 2.0 switch happened. That needs to be fixed before we can publicly display it.\nI really appreciate your time sending in the PR! In the future make sure to comment on or open an issue to let us know the PR you'd like to send in :). @raviranjan528 Our issue template is required for us to answer any questions. Questions like these however are best suited for Stackoverflow where we have an active community of people ready to help :). @anivaisu Thanks for filling an issue! However, we do require you to follow the issue template. This is also a known bug that is fixed in the next release. We'll have a major release soon.\nPlease try the next release to see if that works for you.. @antonybudianto Can you try using our next release? It has a fix to work with AOT.\nbash\nnpm install angularfire2@next --save\nLet me know if that helps at all \ud83d\udc4d . @antonybudianto It's a runtime error so it shouldn't have anything to do with the typings since all types are stripped at this point. It's also not an AOT error since it's runtime. It may be the case that there's an incompatibility with AOT and dotenv since the error suggests there's no databaseURL specified in the config.\nYou don't need to npm link to debug locally. You can drop breakpoints and debug with the sourcemaps in the browser.\nCan you test your app without using dotenv? If it works with good old fashioned command line flags then I would think that it's a dotenv issue.. @antonybudianto Is this still a problem? Should be fixed with that latest CLI.. @antonybudianto A lot has changed. Any luck with new versions?. Hi @anivaisu. We have a required issue template, so I'm closing this issue. General \"how to's\" are best suited for Stackoverflow, as this repo is dedicated to troubleshooting library issues.. @sudharsanmit You can create a new app and pass in the reference.\nts\nconst app = firebase.initializeApp({ ... });\nconst ref = app.database().ref('items');\nconst listObs = af.database.list(ref);. @anivaisu Please use Stackoverflow for general Firebase questions.. @richardmarais We require everyone to follow the issue template. For your issue you may want to try using 2.0.0-beta.7.1-pre as that was the version where we fixed the peer dependencies issue.\nIf that doesn't work feel free to open an issue that follows the template :+1: . @jshamley Really? Shallow worked for you? Interesting. I'm going to merge this, but can you create a plnkr of it working and send it to me? . There is likely something incorrect in your SystemJS config. I'm not exactly sure how you're bundling and setting up your project so it's hard for me to help, but your SystemJS config should include:\n'angularfire2/**/*.js',\n'firebase/*.js'\nThis doc is a bit outdated but it may help: https://github.com/angular/angularfire2/blob/master/docs/broccoli-system-js-cli-setup.md. @sunny061 I recommend using the Angular CLI. The setup instructions for AngularFire2 follow this process. Can you give them a try?\nI'm closing this issue because it looks like a setup problem and not an issue related to the library. If you're still having trouble getting setup feel free to create a Stackoverflow question \ud83d\udc4d . @jeremiahgibson91 It's coming in next release. You can use the next tag to try it out npm i angularfire2@next.\nAlso, you can always initialize another Firebase App, it doesn't just happen once at bootstrap.. It's out!. @cartant @tomasklima I would definitely be interested in a PR! This isn't the first time someone has requested this feature. As long as we keep backwards compatibility this would be a great feature.. Hey @rahullsinha! I would love to help. First though, we have a required issue template to follow this makes it easier for us to troubleshoot your problem. Secondly, as far as I know AngularFire2 works with AOT, as I'm currently using it. I'm closing this issue, but feel free to create another issue that follows the issue template.. Fixed in the latest release that went out today. Thank you for following the template too! It was helpful to know that you were on beta.6 :). @anivaisu Please use Stackoverflow for these kind of \"How to\" questions \ud83d\udc4d That community better suited for those type of questions. . @zlodag Thanks for taking the time to send this in! We do require a unit test for these kind of changes though. Can you create one demonstrating the fix and then we can get it merged in!. @zlodag Thank you so much for going the extra mile :)\nI'll give this a review tomorrow, hang tight!. @cartant Thank you so much!\nLet me give this a review and I'll get back to you soon!. @sdebaun From what I understand, Protractor doesn't work great with Web Sockets and therefore the Firebase SDK. Your best option right now is ignoring synchronization. I've spoken with the team about improving things but nothing is planned at the moment. Since this has been awhile, is there anything you have discovered?. Thanks for catching this @cweidinger!. Thank you so much @cweidinger! @mukesh51 can you take a look and review since you are the resident Ionic expert?. @cweidinger Any updates the the changes? Would love to get this in :). Two things. \n\nHave you enabled Google Login in the Firebase Console?\nAvoid using the promise resolution from .login() in favor of the auth observable.\n\nts\nthis.af.auth.subscribe(auth => console.log);\n. @fonzy2013 See #854 for the rc0 proposal. It removes the login feature and relies on the SDK. . @Benny739 I don't think this is an AOT error.\nGo to the Firebase Console. Check the Auth dashboard for the whitelist of domains. Ensure the website you are deploying to is in the whitelist. Let me know if that works.. @Deadsoil Thanks for filing an issue to report this! We do however have a required issue template that includes several pieces of information required for us to help you. I'm closing this issue, but please feel free to open a new one that follows the template. Also, try what @cartant mentioned as well to see if it's not just a version problem.. I don't believe this is needed as the providers are listed in the AngularFireModule.. AngularFire2 no longer provides these auth methods. If this problem still persists open a question on Stackoverflow for Firebase Authentication.. @morninng Install the next tag and inject FirebaseApp\nnpm i angularfire2@next --save. We simply wrap Firebase Authentication. So whatever they support we will.. Hello @HazizKhan! This is a forum to troubleshoot library questions. \"How to\" questions are best suited for Stackoverflow.. Thank you for the detailed write-up! Can I also trouble you for a plnkr? We have a template here: http://plnkr.co/edit/8yY4tH?p=preview\nThis will ensure we're tackling the same problem and make it much easier for me to debug.. @cartant @antti-pyykkonen I'll be cutting a next release soon. I'll update this thread when it's out.. @cartant I'm trying to find your contact info, but you a hard person to find! Send me an email to david@firebase.com, and let's talk about some AF2 :). @antti-pyykkonen Yes it is!. AngularFire2 no longer provides these auth methods. If this problem still persists open a question on Stackoverflow for Firebase Authentication.. Closing this for discussion in #805.. Does this happen consistently?. Closing due to inactivity and auth changes.. Hello @f1k2c! Please use Stackoverflow for these type of questions. This repo is dedicated to troubleshooting bugs or API proposals. We also have a required issue template for all issues.. Hello @AhmerAli! Please use Stackoverflow for these type of questions. This repo is dedicated to troubleshooting bugs or API proposals. We also have a required issue template for all issues.. Hi @bhawin-bigstep. Please use Stackoverflow for these general \"How To\" problems, as this repo is used for troubleshooting library issues.. Hi @IvanLencina! Please use Stackoverflow for general \"How To\" questions as the repo is reserved for troubleshooting library issues.. Hey @KLiFF2606! FirebaseAuthState will be removed in rc0.. Check out #854. It is pretty exhaustive to all the changes and the roadmap. It's implemented already and we are waiting on more community feedback.. Thanks for the PR @lleevvyy!. Your approach is much simpler! Do know though, that the data is still only retrieved once over the network. The second set of listeners retrieve from the cache.. @cartant I went and spoke with a member on the Database team and your suspicions are correct. A once() will force a network call each and every time because internally it calls .off() which \"disconnects\". While on() calls will attempt to read from the cache if available because it is an active listener.\nThis should PR should fix these issues. Thank you :). Apparently even though I have full permissions for the site, @jeffbcross is still the Registrant. His email is invalid now and has caused the site to go down. However, the site is seriously out of date and should not be used. We'll get this fixed but I don't recommend using it until we get our site plan in place.. @anivaisu Please use Stackoverflow for general how to questions as this repo is dedicated for troubleshooting library issues. . Thanks you @tonymk for taking the time for a thoughtful response!\n@front-stream Please consult Stackoverflow for these kind of questions as this repo is dedicated to troubleshooting library issues.. Amazing work again @cartant!. @corentin59 AngularFire2 supports only features from the Firebase SDKs not the REST APIs.. Hi @dannymorales! Please use Stackoverflow for these kind of questions as this repo is dedicated to troubleshooting library issues.. \ud83d\ude0d . Hi @rahulroxx! Please use Stackoverflow for these kind of issues. We have a required issue template this for actual bugs in the library.. Hi @vcrepin! Sorry for the delay in responding. Can you produce a plnkr that demonstrates this problem?. Closing due to inactivity.. Hi @arnobferdous. We have a required issue template to troubleshoot errors. However, I'd check the spelling of your service as AngularFire is misspelled as AngrularFire.. @gabosvk Can you create a plnkr so it's easier to debug?. Hey @jogelin. Angular 4 is still in RC so we're not going to support it until it's in a full release. The fix is simple, but InjectionTokens do not exist in Angular 2.x. . We are working on the change and should have a @next release to try soon.. @jogelin @jakehockey10 @ravivit9 @LanderBeeuwsaert @zero19 \nThe next release should fix this, but it also contains breaking changes from issue #854. \nnpm i angularfire2@next --save. Hey @ix-xerri! Can you create a plnkr showing the problem?. Your question has been answered on SO. This is a Firebase SDK question not an AngularFire2 one.. @AdamJo @cartant This is one of my chief concerns before the release candidate. See #854 for the details we plan on fixing this.. @MarcelCorleone Yes, there will be some work around replacing OpaqueTokens but we're waiting for the release to land first.. @DennisSmolek I'm definitely interested! Are you up for doing some research with an experimental fork?. I'd love to see if there's a way to measure the performance impact it has, so any metrics would be nice.. @AlexZhidkov Thanks :). Hi @PingalaTech! Please us stackoverflow for these kind of questions as this repo is dedicated to troubleshooting library issues.. @cartant I'm definitely interested in this idea. If you'd like to create an issue with a proposal, I'd love to discuss it.\n@jsayol Upon much thought, I'd like to stick to authState as it wraps the authStateChanged method. Using state can be vague and does not immediately tie the two together. Interested in your thoughts though.\nAlso I have given serious thought to scoped packaged, I even own the angularfire npm user account. I've been warned by many people smarter than I to avoid scoping packages unless it's completely necessary. I'm still going to do more research, but I do think the time would be now if we were to make that change.\n@IgorMinar Thanks for the feedback! I neglected to focus on upgrading TypeScript, but I definitely agree it should be a priority with this release. \nYes there will be a clear migration path. For Database users there will be only small changes. For authentication I will provide the analogous methods in the Firebase SDK.\nAs for versioning, we can't change the name to angularfire because the AngularFire for AngularJS follows semver which will make the version numbers collide. But I am giving serious though to scoping the packages so we can use @angularfire/core, @angularfire/database, and etc.... @elekzalan @myspivey The first next release is available for testing and it supports Angular 4.\nnpm i angularfire2@next --save. @martzcodes @Maistho Make sure to only import the typings since you have already configured AF auth in your NgModule.\nts\nimport * as firebase from 'firebase/app'; // app and typings\nI don't think we plan on adding providers to AF as that would provide a duplication between the auth library and AngularFire. I plan to add a documentation section on how to use the SDK with AF that will hopefully clear this up.. It has been merged and released!. @johnqiuwan Server events are triggered by events. @frankspin89 is right in saying we don't have any direct integrations.. @johanchouquet @yejodido Cloud Functions recently implemented a client SDK for \"callable functions\" and we have a PR #1532 to support it. So follow that and wait just a little longer.. Hi @lagmanzaza! This repo is dedicated to troubleshooting library issues. Please use stackoverflow for general how to questions.. Hi @obermoserkitz! Firebase Functions is server-side and has it's own SDK. You trigger functions with client side events. Which means it already is supported \ud83d\ude04 . Hey @doczoidberg! \nYou could try an operator like auditTime() or debounceTime() to decrease the updates. Or you could try breaking your data structure up.\nI'm closing this issue as it's more suited for Stackoverflow. But feel free to open a question there.. Use AngularFireAuth, FirebaseAuth was removed in a previous version.. Hi @rashnk! Please open this issue on Stackoverflow as it's the best medium for help. This repo is dedicated to troubleshooting bugs to library.. Hey @dauledk! Sorry for the delay in my response. I would support this feature, but I don't have time to work on it. I'll accept a PR though!. @lukaselmer Thanks :). AngularFire2 no longer provides these auth methods. If this problem still persists open a question on Stackoverflow for Firebase Authentication.. @albanx Please follow the issue template as it would be good to know your TypeScript version.. Your TypeScript version is local to your machine. Do a tsc -v on your machine. Also, what OS are you on? These are all requirements for us to troubleshoot bugs.. @albanx What OS are you running? Please use the issue template.. @rashnk Thanks for posting your issue! We require everyone to follow the issue template so we can better troubleshoot your problem. I'm closing for now but feel free to open another issue that follows the template.. This is not an issue with AngularFire2. Also, Firebase Auth uses your authDomain as a relay for secure OAuth calls. Somtimes you may see the redirect because a re-authentication is required and other times the credentials are cached so no relay is needed.. @umarov, Your most useful avenues will either be Stackoverflow or official Firebase support.\nhttps://firebase.google.com/support/. Follow #854 for all upgrade tracking.. Please use stackoverflow for these types of questions.. Duplicate of #843.. I want to have only one issue for Angular 4 support. OpaqueToken to InjectToken is also Angular 4 support related. Now this issue will be references in the UI in the main issue.\nAlso, out of curiosity, have you tried running the app? Those errors are from npm and not from anything at compile or runtime. . @seanlail It's actually in the RC0 API which is checked in at master, but not yet released. I plan on doing a next tag release soon. See issue #854 for more details. This isn't actually a new feature it was released sometime back in November and we're just making more noise about it now.. Apologies, I thought you were referring to the module bundling splitting, import 'firebase/auth';\nI'll have to give it a think of how we'd do it, but it would be awesome.. Hi @rashnk! This seems like a issue with the library so this is the correct place to file. However, we have a required issue template. Feel free to open another issue that follows that template and we will do our best to help you out \ud83d\udc4d . First of all, this is not the recommended pattern to use for checking items. The idea is that you push a new record and use the .on() or Observable subscribe callback to indicate that new items have added.\nSecondly, can you provide a plnkr that demonstrates this behavior? There are other factors that could be causing this issue. The code that handles this operation is a simple wrap of the underlying SDK method.. No, it's too much to set up a local project to debug a small issue. If the problem cannot be isolated to a plnkr then it is likely not a problem with the library.. Closing due to inactivity.. @mohitook Can you create a plnkr that demonstrates the problem?. @ovrmrw AngularFire2 re-writes package.json to switch dependencies to peerDependencies when releasing. We are still not v4 compatible as you will get peer deeps warnings and opaque token deprecation warnings. From what I know, everything should still work despite these warnings. We are working on the fix and will have a @next candidate soon. Follow #843 for the main source.. @milocosmopolitan It's released under the `next tag, letting it get some mileage first since there are breaking changes.\nnpm i angularfire2@next. Good catch, @cartant! This was missed in the refactor. Would you like to send in a PR?. I want to pass in the DatabaseReference. I think it missed that the call was always to the default firebase instance. It's an easy fix so I can clean it up, but I'm happy to let you take the PR if you're feeling up to it.. @somombo Thanks for raising this idea! I'm okay with it as long as you follow the implementation of update instead of remove.\nts\n  set(item: FirebaseOperation, value: Object): firebase.Promise<void> {\n    return this._checkOperationCases(item, {\n      stringCase: () => this.$ref.ref.child(<string>item).set(value),\n      firebaseCase: () => (<firebase.database.Reference>item).set(value),\n      snapshotCase: () => (<firebase.database.DataSnapshot>item).ref.set(value),\n      unwrappedSnapshotCase: () => this.$ref.ref.child((<AFUnwrappedDataSnapshot>item).$key).set(value)\n    });\n  }\nThe method should throw if the developer does not provide a FirebaseOperation. Otherwise in your code the null check destructively updates the entire list. \nts\nif (!item) {\n  return this.$ref.ref.set(value);\n}\nIn that case you'd likely want to use a FirebaseObjectObservable since you are now treating treat the list as an object.\nFeel free to create a PR with tests to back it up :+1: \n. I don't agree that having a selector function in a fromDatabase method is more familiar to rxjs or DRYer. I think that that it merges responsibilities together when they should in fact be separate. For example the query option is not applicable to single objects. \nThe goal is to move away from a single API. This provides the benefit that you can tree shake away code you don't need. If you include the AngularFireDatabase service, it will bundle both FirebaseListObservable and FirebaseObjectObservable. However, you still have the option to import their factories and webpack is smart enough to leave behind the code you don't need. \nI'm supportive of this change if it works for a single item in the list. It's okay for the FirebaseObjectObservable.set() to destructively update the object since that is the intended behavior. However, it's confusing and dangerous to destructively update an entire list.. @somombo Send the PR and we can do a code review.. See #854 for the total breaking changes. This is to support tree-shaking.\nInstead you would inject each service independently.\n```ts\nimport { AngularFireDatabase } from 'angularfire2/database';\n...\nconstructor(afDb: AngularFireDatabase) {\n  adDb.list('yay');\n}\n```. Login does not work out of the box with Ionic, please see the Ionic login guide in the README.. That is the guide I was referring you to.. @hackSlanger Would you be interested in working on a V3 guide? I'd be happy to review.. @thegreat7 Thanks for taking the time to do feedback on this PR! However, let's try to be positive in our reviews. Please avoid negative symbols such as your thumbs down emoji. It would be great to see something like \"Hey, great work so far. I noticed there are two missing return statements on lines 598 and 604.\"\nIt is important to provide feedback while being encouraging.. Hi @psingl! This is not the place for Cloud Functions problems. Try posting to Stackoverflow and I'm sure someone will be able to help :). Hi @RezaRahmati! The Firebase Realtime Database does not have aggregation capabilities out of the box. Most people use transactions to an aggregate node or rely on Cloud Functions for Firebase for computations.. See #843.\nWe plan on releasing soon, but for now you can use the next tag.\nnpm i angularfire2@next --save. Follow #854.. Hi @fairydhwen! Please use Stackoverflow for these kind of questions. This repo is dedicated to troubleshooting bugs with the library.. @mark922 Follow #843. \nInstall the next tag which includes 4.0 compatibility.\nnpm i angularfire2@next --save. We have had a change of heart since then. See #854 for the future of the auth API.. @martinjbaker We just released 4.0.0-rc.0. Can you try again and see what it says?. @robindijkhof Can your provide a plnkr reproducing this problem?. @robindijkhof There is one in the README.. @ricardocunha Stackoverflow is also a great place :). @markgoho  You da real champ \ud83e\udd47 . @avanderbergh We changed the API to make it easily tree-shakable. You are now required to explicitly import the features you need as an NgModule. We also removed the pre-configured auth features and defaulted to Firebase Authentication's methods to stick to one API.\nSee #854 for the initial proposal and the migration guide for reference. \n. @sparkoo Very soon :). @sparkoo Checkout #1369!. Thanks @fisherds!. @Sun3 Can you provide a plnkr so it's easier to debug? We have a template in the README.. @WebAddict I think it's just a version issue, which is easily updated in SystemJS config. Would you like to send a PR with the updated template? . @Sun3 Zips are hard to deal with. A plnkr is the best solution, I think you just need to update the version numbers in the SystemJS config. Give that a try and if it blows up, let me know I'll take a look.. @lfxsantos Please upgrade to latest AngularFire2 which has removed these auth methods. See the migration guide in the README for more info.. Thanks again, @markgoho! You're coming in clutch \ud83d\udca5 . @Benny739 FirebaseRef was removed in favor of FirebaseApp which gives you much more power and flexibility.\n```ts\nimport { FirebaseApp } from 'angularfire2';\nconstructor(app: FirebaseApp) {\n  const database = app.database();\n  const ref = database.ref().child('items');\n}\n```\nFor Storage I would import storage first in your main module.\n```ts\nimport { AngularFireModule } from 'angularfire2';\nimport 'firebase/storage'; // only import firebase storage\n@NgModule({\n  imports: [\n    AngularFireModule.initializeApp({ }) // your config here\n  ]\n})\nexport class AppModule { }\n```\nThen in your code you can import the firebase typings from firebase/app and use storage off of FirebaseApp:\n```ts\nimport { FirebaseApp } from 'angularfire2';\nconstructor(app: FirebaseApp) {\n  const database = app.storage();\n  const ref = storage.ref().child('items');\n}\n``\n. Switching to Stackblitz as it's a much better tool for Angular apps.. @michaelspeed As @markgoho said, please use Stackoverflow for How-To kind of questions.. @paramburu Great question! The main resign behind the new API was to put each feature in it's own module. This slims your bundle by giving you only the code you need for your app. If you needAngularFireAuththen import theAngularFireAuthModuleand the same goes for database withAngularFireDatabaseModule`.\n```ts\nimport { NgModule } from '@angular/core';\nimport { AngularFireModue } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire/database';\nimport { AngularFIreAuthModule } form 'angularfire/auth';\n@NgModule({\n  imports: [\n     AngularFireModule.initializeApp({ }), // your config\n     AngularFireDatabaseModule,\n     AngularFireAuthModule\n  ]\n})\nexport class AppModule { }\n``. @fisherds You are creating an observable inside of a getter. Change detection will call this getter over and over again which will lead to your infinite loop. Can you try to remove the getter and create theisSignedInobservable in theconstructororngOnInit`?\nts\nconstructor(afAuth: AngularFireAuth) {\n  this.isSignedIn = afAuth.authState.map<firebase.User, boolean>((user: firebase.User) => {\n      console.log(\"Is signed in stream\", user);\n      return user != null;\n    });\n}. @harrylincoln This is apart of the new API redesign. See the new docs for updates. @WillGeller is correct in that afAuth.authState is an observable of a firebase.User.. @sunilkconsultant Can you show your @NgModule code?. @evanjmg It is documented: https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md#adding-the-firebase-database-and-auth-modules. @evanjmg I'm going to need to see more. Can you show your @NgModule code?. @leotm Can you create a plnkr of this problem so it's easier to debug?. Closing due to 5.0.0 refactor. We will have a better solution in the near future.. See #940. It's not to far away :). @ZuSe Can you create a plnkr reproducing this problem?. @hASVAN Please consult stackoverflow for these type of questions. @michaeI We did identity the new APIs in the CHNAGELOG, however we should have highlighted them as breaking. We did leave the Breaking Change Proposal up for over a month before releasing and encouraged feedback and discussion. See #854.. @jdell64 Admin SDK is for server side only. AngularFire is for client side apps. There are no plans for us to merge the two together.. Should be fixed with the latest version.. @johnqiuwan We decided to not wrap auth methods and instead provide a way to inject Firebase Auth instead, once we upgrade to 4.0 they will be available for injection.. @harshavarun25 We've updated the library to provide better modularity and smaller bundle sizes. Please see the migration guide in the README.. @avilao This is the way it works because you need to reauthenticate the user since they have a new password. . @eric1234463 Please us stackoverflow for these kind of questions.. @Rockforced Two things. Upgrade to the latest version of AngularFire and see if it continues. If so, please create a plnkr for us to debug.\nAlso, you need to unsubscribe when moving from views in Ionic. I'm not an Ionic expert, but I believe there's a lifecycle method somewhere that is being invoked twice and you my not be unsubscribing when leaving.. @prajwalgp We will be upgrading the SDK to 4.0 shortly. But AF does not wrap auth methods, instead you use the injected service to call out to the SDK.. Should be fixed now! Let me if you're still running into any problems.. Please search for issues before submitting as this one has been answered already.. This was an issue with webpack in the @next version. Try upgrading to the latest version without @next and see if that problem persists.. @gharibi The latest version of AngularFire2 is not on Firebase v4. We will release a compatible version today or tomorrow. For now use Firebase <4.0 or wait just a little longer :). We'll have this fixed in the next day or so. Hold tight and watch #999 for updates.. @Leanvitale Please use stackoverflow for these kind of questions as this repo is dedicated to troubleshooting library issues.. Upgrade to rc0 as beta.7 is not 4.0 compatible. Also wait until #999 is merged until upgrading to Firebase 4.0.. Should be fixed in the latest Firebase SDK release.. There was an API change with 4.0. See the migration guide for help and #854 for the reasoning on why.. Hi @morninng! The import syntax you have it a bit off.\nInstead of:\nts\nimport * as messaging from 'firebase/messaging';\nYou first import firebase/app and then naked import the feature needed.\nts\nimport * as firebase from 'firebase/app'; // brings in app in typings\nimport 'firebase/messaging'; // naked import to bring in feature. @jamesamuel Are you importing the operator?\nts\nimport 'rxjs/add/operator/take';. Hey @MvRemmerden! This is how the Firebase Database SDK works. When you go back online that write will be persisted to the database or rolled back due to a security rule violation.\nIf you want to track when it has been persisted you can await the promise .push() returns.\nts\nconst list = this.db.list('items');\nlist.push(() => console.log('server persisted!'));. @Ploppy3 Can you create a plnkr to demonstrate? It makes it much easier for us to troubleshoot. . @Ploppy3 We have this handy dandy plnkr template right here!\nhttp://plnkr.co/edit/8yY4tH?p=preview. @xtazy, If you can create a repro that would be great.. Good eye @robindijkhof!. @gusdevops You're on the pre RC version. The update should fix it, but you'll have to migrate your app past the breaking changes in the API. There's a guide in the README that will help you through the upgrade.. \\o/. Hey @DiedrikDM! Thanks for tackling this issue! I've been swamped and I haven't had enough time to run a proper review. I will get to this soon!. @DiedrikDM After more research I've learned where the problem lies. \nYour fix does get things working, but it also adds each feature into the main UMD bundle and breaks code splitting.\nThe issue is with how the package.json in each feature's folder references the main UMD bundle. Rather, each feature requires its own UMD bundle. I'm looking into using the structure that Angular uses for each of its feature modules. The HTTP module is a good example. \nI'll be working on this later next week, and I'll create an issue the details what needs to happen in-depth. If you're still willing to contribute I'd love to have you onboard!. @DiedrikDM @ZuSe @aamir1995 \nI could merge this in, but it would load 300k of ungzipped code. Also, I'm close to a sending out a PR of the real fix, so I think my time is best focused there. Hold tight, this is my top priority!. @DiedrikDM @tobiaseisenschenk @ZuSe @aamir1995 \nThe next release is out! Try installing npm i angularfire2@next and see if that works.. @ZuSe @tobiaseisenschenk \nI'm not 100% sure, but it may have been this line.\nI needed to import zone.js to bring in the ambient typings. But this may have some ill side-effects for zone users. Can you try removing this line from your local build and see if it works?. @ZuSe Yep. I'm not sure how to fix it the right way, but for now I'll change the Zone types to any because it errors out in the CLI build. If you or anyone knows the real fix, I would love to know it :). @ZuSe @tobiaseisenschenk Can you try installing angularfire2@next again and see if that works for you? If so, I'll cut a main release.. @DiedrikDM too! \u2b06\ufe0f . @tobiaseisenschenk Can you try installing again? I just installed it and I see the database UMD.. @akserg It was released a few days ago.. @jamesamuel What is the issue you are running into? Tack on a .catch() and see if an error appears.. @ZuSe @JunusErgin Cutting a release soon!. Check out this one https://github.com/ionic-team/ionic-app-scripts/issues/1001. It should fix you :). Hi @websystemsoftware! Please use Stackoverflow for these kind of issues. This repo is dedicated to troubleshooting library issues.. Hey @IncognitoCore. Thanks for taking the time to send a PR!\nThe template in this example does not reference the private properties.\nts\n@Component({\n  selector: 'my-app',\n  template: `\n    <div> {{ (items | async)? | json }} </div>\n    <div> {{ (user | async)? | json }} </div>\n    <button (click)=\"login()\">Login</button>\n    <button (click)=\"logout()\">Logout</button>\n  `\n})\nTherefore, I don't think removing their access modifiers makes sense in this example.. @fancyydk This should either be removed from the docs or a PR is welcome to add the feature. The original PR was never finished, so it's up for grabs if you'd like it.. @kobvel AngularFire2 simply gives you a initialize authentication object. If authentication isn't it's highly unlikely it's due to the library since you're using the core Firebase SDK. I recommend posting this on stackoverflow with more code to help the context of the problem. . @dr3x The quickstart doesn't mention anything about running ng test. We want to keep it short and sweet and detailing how to modify the boilerplate test setup goes beyond the scope of a quickstart. I believe what @robindijkhof said will solve your problem.\nIf you'd like to contribute an appendix on testing, I'd be more than happy to review that PR! Open an other issue if you'd like to discuss on how to get started.. @kelle62819 Can you create an github repo that reproduces this? If so I'll be happy to take a look.. @kelle62819 You need to also upgrade to Firebase 4.5.0. Let me know if that works.. Closing but feel free to open a new issue if the problem exists.. @ArthurianX For this kind of issue it's probably best for a Github repo. If you can whip up a repro with some easy build steps I'll be happy to take a look.. Hey @amitsinghv! What @lehrenberg is the cast. You likely have your default rules set to authenticated only. For development you can change it to read true and write true.. Hey @sandeep540! I'm closing because this doesn't follow our issue template. It's especially important for these kind of issues for version information. Feel free to open another issue with the required info and we'll do our best to help!. Hey @derridHeidegger! The recommendation isn't to not import from firebase, but to not import all of firebase.\nUse import * as firebase from firebase/app to get the typings.. Follow #1073 for updates on SSR and AngularFire.. @TheBolmanator Yep this should be fixed. Would you like to send in a PR? :). @sdebaun I recently ran into this myself. I have a fix in the works but I just moved halfway across the country so my schedule is pretty jammed right now. I do expect to get something out next week.\nThere's a big overhaul needed in how we package these modules. We need a UMD bundle for each feature (auth, db) rather than one larger one. I'm looking into mimicking the structure that the main Angular repo uses with their package.json and tsconfig.files. A good example is with the HTTP module.. @justingrayston @sdebaun  I'm close to a next release for this fix. If all goes well I'll be testing an Angular Universal build with the CLI. I'll keep you updated.. @sdebaun @justingrayston @KrGyan \n\ndoes rc2 fixes this issue ?\n\nYes and no. Mostly no. #1088 fixed the problem that @sdebaun ran into. The Angular Compiler used deep imports to import the feature modules, when I needed to use the UMD bundle. I spent a lot of time getting the packaging of each module correct. \nNow, if you use AngularFire2 with Angular Universal, there will be no errors*. However, the data will not render on the server. You'll get back null in your templates. This is because AngularFire2 uses the Firebase SDK which uses websockets. Websockets are long-lived persistent connections. Angular Universal doesn't know when this socket will end. I can fix this by wrapping the calls for Universal, but that will be another PR. I plan on working on that next week.\n*i think. @hamedbaatour This is really cool! I wish you would have contributed to this project however. We plan on adding support for the rest of the Firebase features soon.\nI do have one question, is it actually lighter than AngularFire? AngularFire itself is really small, the DB API is 3kb. The Firestore API is 2.3kb. The Auth API is 950 bytes.. Fixed with the upgrade to 4.1.5!. Hi @ElGecko76! This issue is best suited for Stackoverflow as this repo is dedicated to troubleshooting library issues.. Hi @Leanvitale! Please follow our issue template for any future questions. This repo is dedicated to troubleshooting library issues, questions like this are best suited for stackoverflow. However, in your case you can use the injected auth service for AngularFire.\n```ts\nconstructor(afAuth: AngularFireAuth) {\n  const auth = afAuth.auth;\n  const user = auth().currentUser;\n  const newPassword = getASecureRandomPassword();\nuser.updatePassword(newPassword).then(function() {\n    // Update successful.\n  }).catch(function(error) {\n    // An error happened.\n  });\n}\n``. @zjoh5253 You are on an old version of AngularFire2 where this bug can pop up. Can you upgrade to the latest and see if that fixes it?. Hi @jdk339! There's a difference between the service and the Angular Module. The Angular Module is imported into your application level module and then you have use of services likeAngularFireAuth.. @Kamshak This hasn't been released outside of thenexttag yet and AFAIK, StackBlitz doesn't support pinning versions. I'm still working on a bug and once that is fixed I'll cut the release.. @gmeans I'm open to the feature proposed in #888. Unfortunately, it did not land but if you'd like to revive it, you have my full support.. @sdebaun AFirebaseListObservable` should be able to take in a query. \nI'm going to be really slammed over the next few weeks, but if you'd like to take a stab at this I'll be more than happy to help. \nThe implementation is in src/database/firebase_list_factory.ts.\nAnd the firebaseListObservable() function is where the problem really lies.\nLet me know if you're up to the challenge!. 1) You need tests \ud83d\ude04 \n- database.ts hasn't required tests itself since it's a simple wrapper. But as you can see firebase_list_factory.ts and others have extensive testing. I'd like to create a new database.spec.ts file for this case.\n2) Use npm pack. Once you run the build using npm run build, go ahead and run npm pack dist/packages-dist. That will give you a tarball to use as if it were a published packages. You can then move that tarball into a test project and use it to npm install.. Almost fixed with #1088.. Fixed! And we'll start using Stackblitz from now on.\nhttps://stackblitz.com/edit/angular-2ed5zx. Thanks @Celestz!. Hi @t-p-l-k! Thanks for sending in this PR, just a few hours before you #1098 was sent in, so I'm going to merge that in. Please feel free to send us more PRs like this though! It is always appreciated.. Hi @Ashekfeh! We have a required issue template, it's hard to answer without knowing what versions you are on. I'm closing but feel free to open a new one with the proper information.\nIf you are on RC you will need to import from each feature module.\nAdd these NgModules to your app module.\nts\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database`;\nThen you can import FirebaseListObservable:\nts\nimport { FirebaseListObservable } from 'angularfire2/database`;\n. Hi @saqlainIBA! We have a required issue template. There isn't enough information to provide the right answer in this question. However, I recommend using Stackoverflow rather than this repo.\nYou might want to try changing your firebase import from import firebase from 'firebase' to import * as firebase from 'firebase/app'. The firebase module has no default export and you want to import only from app to get the typings.. Hi @aledg! We have a required issue template for filing issues. However, this question is best suited for Stackoverflow as this repo is dedicated to troubleshooting issues with the library.. Hey @diogokobbi! Thanks for raising this issue. When do you run into this? I haven't encountered this error since the great TypeScript 2.0 update. I'm not sure it's worth adding to the setup as it's not as common and I'd like to keep things brief. However, I'm still able to be convinced depending on how you ran into it \ud83d\ude00 . Hi @darthink! This repo has a required issue template to file bugs and other troubleshooting issues with the library. Stackoverflow is the proper medium for this question.. Perfect! Thanks @exequiel09!. Releasing it today. No API changes only library packaging changes.. I don't think will be a problem anymore now that we are on 5.0. Feel free to file another issue if it pops up again.. @bob-lee I'm in support of this, but to be honest I don't have the time to implement it. However, if you'd like to send in the PR I'd be more than happy to provide guidance and review. Let me know if you're interested!. Hi @skk2142! This repo is dedicated to troubleshooting issues with the library. This question is best suited for StackOverflow since we currently don't support Cloud Storage for Firebase.. Looks great! Thanks @TheBolmanator!. Hi @Jerczu! We have a required issue template. Feel free to reopen this issue with the details filled out.. Hi @petver! We have a required issue template. Feel free to reopen this issue with the details filled out.. Hi @bhawin-bigstep! This question is best suited for Stackoverflow as this repo is dedicated to troubleshooting library issues.. Hi @TMGaston! We have a required issue template. Feel free to reopen this issue with the details filled out.. @petver @jamesgroat There was a big change to how the packaging format was done in rc.2 as the format in rc.1 was wrong.\nThere error is talking about how now 'angularfire2/database.jsexists, which is used to be the case inrc.1. Inrc.2` we switched it so each feature (database, auth) exists as it's own package. \nIt's strange that it's trying to relatively resolve auth and database (./../../angularfire2/auth). Can you show me your configuration and import code?. @robrecht-vanmelckebeke I need to see the configuration code for the AppModule.ts. @robrecht-vanmelckebeke That 404's. Can you paste it in here?. This was a bug in version differences between the Angular CLI and Ionic CLI. Should be fixed in a day or so.. This is a problem with the Ionic CLI. They should have it updated soon.. @Gabrielr47 This is should be fixed with the latest, if not file the issue with Ionic. They're good people who can help :). Thanks @DavidFrahm!. HI @profesori ! I'm closing this issue because it does not follow our issue template. It's important to get all the details in the template so we can help you as efficiently as possible. Feel free to open a new one that follows the template.. HI @passa1248 ! I'm closing this issue because it does not follow our issue template. It's important to get all the details in the template so we can help you as efficiently as possible. Feel free to open a new one that follows the template.. Thanks @nicolaslwilson!. @fellz We are working on it and plan to have it out in the next month or so. The regular SDK works quite well with Angular though. For AngularFireStorage we plan on wrapping the UploadTask methods in Observables and providing a directive for download urls.. HI @profesori! I'm closing this issue because it does not follow our issue template. It's important to get all the details in the template so we can help you as efficiently as possible. Feel free to open a new one that follows the template.. @raju1979 Can you use stackblitz to recreate this problem?. Hi @moeidsaleem! We are working on some internal packaging updates at the moment, which has been quite tricky. While it doesn't provide any features, this will set us up for success down the road. We have a lot planned for the future including AngularFireStorage, AngularFireMessaging, better documentation, and tutorials. \nThis is an OSS project feel free to open an issue if you feel like you have an idea for documentation you'd like to contribute.. Closing in favor of original.. @phra I'm not sure if this is an AngularFire2 issue. Can you please provide some code?. @Toxicable Worked with Eric Simmons on getting the fix. They looked for index.js before the package.json. It's all good now \ud83d\udc4d . Ah good call. I will update soon.. @Toxicable This is awesome! I have a plan for providing SSR support and this will be really useful. Give a day or so to pull this down and review. I really appreciate you taking the time to build this. . @Toxicable Thanks for the addition!. @danielsogl Thanks!. @jayserdny Can you link me to the Ionic issue?. Thanks @danielsogl!. Hey @bcabanes! Thanks for taking the time to do this PR! I unfortunately can't accept it because it no longer applies to the big refactor we're doing. The FirebaseObjectObservable is going away in favor of regular Observables.\nDon't let this closed PR discourage any future contributions, they are always appreciated!. Thanks @PeterKassenaar!. @magleahy @kaceo Does calling this.db.database().ref('path') work? . @magleahy Make sure your node_modules aren't lying to you (they often do). Try upgrading to the latest 5.0 version and see if that helps.. @tinomen v5 rebuilt the RTDB API to match the Firestore API. Both are compatible.. @hanssulo Updated it with the full information!. @cartant it does contain the Firebase DatabaseSnapshot. However, you don't need to store it or even dispatch it. I keep it around because it contains a lot of great information and you can call .val() to make it serializable. \nThe type property will be a \"child_added\", \"child_changed\", \"child_moved\", or \"child_removed\" event, which will be duplicate across data domains. What I imagine most people will do is map over the observable and dispatch that object:\nts\nitemList.stateChanges()\n    .map(a => ({ type: `ITEM_${a.type.toUpperCase()}`, payload: a.payload.val() })\n    .do(a => { this.store.dispatch(a); });\nWe could provide a way to simplify this, but I don't want to add too much code that ngrx and RxJS already provides.. @benlesh Totally. This is for an example only. This makes it easier to trigger local events when testing around.\n@Kamshak @cartant I'm totally open to this. I think we'd have to figure out if we'd want to implement the action based APIs for the RxJS Firebase library. \n@cartant I see your point about people doing this incorrectly. We could unwrap the snapshot as the payload and keep any needed information on the action. We'd then need to re-think the name snapshotChanges(). But I am open to it.. @cartant we can have our cake and eat it too! A DatabaseSnapshot is serializable because it's .toJSON() method returns the result of .val().. Thanks @SpiralOutDotEu!. Hi @xiaofeizhu1! We have a require issue template. Also this question is best suited for Stackoverflow as this repo is dedicated to troubleshooting library issues.\nTo answer your question though, it all comes down to what events are used to sync the local data structure.\nObject simply uses the \"value\" event and a list combines all child events into a synced array.. @j0hnskot This is an issue with an older version of the CLI. Can you do you me a favor and go to your project in the terminal and type ng -v and then node_modules/.bin/ng -v?. @j0hnskot Okay, one last version check. webpack -v and node_modules/.bin/webpack -v. . @j0hnskot Your versions are correct. I hate to bounce you around but this looks like a problem with the CLI and not an AngularFire issue. File an issue with the CLI and I'll reach out to my friends on that team to get the ball rolling.\nIn the mean time, downgrading to angularfire2@rc.1 may help.. @j0hnskot Yes! So glad to hear!. @jaufgang I appreciate you stoking discussion on this topic. However, I would prefer to keep this issue closed until there is more bandwidth to work on it. There are a list of things I want to bring this library before making this change. Although it may seem like a copy and paste into another library, having to deal with packaging, versioning between the libraries, and issue support is not something to take lightly. I'm going to close it for now, but I will open up with a proposal when the team is ready to take on the issue.. Hi @MurWade! Can you please use Stackoverflow for these kind of issues. This is not specifically AngularFire related as it seems to be a \"how-to\" with security rules and the vanilla sdk.. Hey @lyonzy! As @Toxicable said there are changes coming to the library that conflict with this request. I commented more in your PR, but you will get similar functionality in the upcoming release so hold tight \ud83d\udc4d . Hi @lyonzy! Thank you for taking the time to send in a PR. I'd love to accept this, but in #1158 we are changing the API. In that change the AFUnwrappedSnapshot is going away. Instead we are providing more options to get the data without having to unwrap. I recommend giving it a read and see what's coming soon. I expect to merge it this week.\nI unfortunately will close this PR but I do appreciate the thought and time you put into this!. Hey @lyonzy! \nWhat do you need .toPromise() for? Using .take(1) does the same thing and doesn't break the observable chain.\nIt's also worth noting that in the new API there is no FirebaseListObservable or any custom observables for that matter.. @gianpaj Thank you!. Hey @prantikv! I'm so sorry for the out of sync docs. We planned on releasing Friday and we needed to merge to master. However a few things came up and we weren't able to. I plan on releasing first thing tomorrow morning.. You can however use npm i angularfire2@next.. Hi @rtm! We went in to RC for the 4.0 version but we realized there could be improvements before releasing. We made breaking changes with #1158, which required a major version change. The 5.0 version is not officially released yet but we plan on doing so today. \nDoes that answer your questions?. Our latest is out on npm!. The old API is still in angularfire2/database-deprecated. \nWe opted to not add in new methods or types to decrease the size of the library. We were able to drop 55% of the library while adding more features than before. If we kept everything around the library would have been much larger.. @albertososa101 Can you make stackblitz for this? It will be much easier to debug.. @tagazok Working on that right now!. It's out!. @tgensol Wait a few minutes and I'll have the new 5.0 version out with these fixes.. @tgensol Just as an FYI though, the database breaking changes happen in 5.0 too. You can either upgrade to the new apI (recommended) or use the angularfire2/database-deprecated module for the time being.. @tgensol The latest is out on npm!. @Anystrous \nUpdate: I see the problem. The docs need this fix:\n```ts\nimport { Component } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\n@Component({\n  selector: 'app-root',\n  template: <ul>\n    <li *ngFor=\"let item of items | async\">\n      <input type=\"text\" #updatetext [value]=\"item.text\" />\n      <button (click)=\"updateItem(item.$key, updatetext.value)\">Update</button>\n      <button (click)=\"deleteItem(item.$key)\">Delete</button>\n    </li>\n  </ul>\n  <input type=\"text\" #newitem />\n  <button (click)=\"addItem(newitem.value)\">Add</button>\n  <button (click)=\"deleteEverything()\">Delete All</button>,\n})\nexport class AppComponent {\n  itemsRef: AngularFireList;\n  items: Observable;\n  constructor(db: AngularFireDatabase) {\n    this.itemsRef = db.list('messages');\n    this.items = this.itemsRef.valueChanges();\n  }\n  addItem(newName: string) {\n    this.itemsRef.push({ text: newName });\n  }\n  updateItem(key: string, newText: string) {\n    this.itemsRef.update(key, { text: newText });\n  }\n  deleteItem(key: string) {  \n    this.itemsRef.remove(key); \n  }\n  deleteEverything() {\n    this.itemsRef.remove();\n  }\n}\n```\nWe had breaking changes in version 5.0. There is a migration guide and if you want you can continue to use the old database API with angularfire2/database-deprecated.\nThe main difference in this sample is that FirebaseListObservable no longer exists and we switched to a Service Based API in AngularFireList<T>. This allows you to do data operations like push(),  andset(). It also allows you to create different types of observable streams. You can get similar results with the old API in .valueChanges() and do tons of other great things with .snapshotChanges(), .stateChanges(), and .auditTrail().\nI highly recommend using this API. Check out the documentation. File an issue if you find anything confusing. We're here to help :). @Anystrous I updated my comment with a fix. We're working on the change right now.. @ayoubboum Can you open a new issue that follows the template and gives a stackblitz?. Opening since the documentation still needs work.. @ayoubboum \nOn the main issue page (https://github.com/angular/angularfire2/issues/) create a new issue.\nThat issue will be populated with a template. That template asks you to tell the versions of Angular, Firebase, and AngularFire. Then when asking how to reproduce you can create a link to Stackblitz. Which is a super easy to use VSCode online editor. Create a little app that shows the problem and link it there. We'll then take a look at what's going on \ud83d\udc4d . Fixed. Please open a new issue if you find any new problems.. @yazan-alomari Update to the 5.0 branch to fix this error. This also upgrades you to the new database API. The migration is easy and the guide is here. However, if you need to stay on the old version use the angularfire2/database-deprecated module.. @EstiShay What version of Firebase, Angular, and AngularFire are you on? And can you print the exact error?\nfirebase.Promise was removed in Firebase 4.5.0. AngularFire 5.0 accounts for this change. You're likely still on the old AngularFire package.. @tinomen, you can upgrade to V5 and keep the old API. Just switch your database imports to angularfire2/database-deprecated.\n\nbut it's too bad there wasn't much explanation until folks started logging issues\n\nI'm sorry that you felt frustration and a bit of surprise with the new version. I tried hard to solicit feedback and create awareness of the upcoming changes. There was a long detailed proposal to the breaking changes that was created three weeks before the 5.0 release. We created a migration guide upon releasing the new version. I want to avoid these frustrating experiences in the future. What else could we do to make this process easier?. This is a quick fix. Would you like to send in the PR @markgoho? I'm tied at at the moment.\n```ts\nimport { Component } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nexport interface Shirt { name: string; price: number; }\nexport interface ShirtId extends Shirt { id: string; }\n@Component({\n  selector: 'app-root',\n  template: <ul>\n      <li *ngFor=\"let shirt of shirts | async\">\n        {{ shirt.name }} is {{ shirt.price }}\n      </li>\n    </ul>\n})\nexport class AppComponent {\n  private shirtCollection: AngularFirestoreCollection;\n  shirts: Observable;\n  constructor(private readonly afs: AngularFirestore) {\n    this.shirtCollection = afs.collection('shirts');\n    // .snapshotChanges() returns a DocumentChangeAction[], which contains\n    // a lot of information about \"what happened\" with each change. If you want to\n    // get the data and the id use the map operator.\n    this.shirts = this.shirtCollection.snapshotChanges().map(actions => {\n      return actions.map(a => {\n        const data = a.payload.doc.data() as Shirt;\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      })\n    });\n  }\n}\n``. Thank you @markgoho!. Hi @malagonandres! This is by design. The docs reference this and guide you in how to handle it. I recommend using.snapshotChanges()`.\nThere were issues in the past with special character mappings and instead we rely on doing transformations with observables. See the documentation for an example.\n. Hey @almothafar! We upgraded the API to work better with RxJS. See the migration guide here. It's not much work to switch and it provides several advantages (the new library is 55% smaller). \nHowever, if you want to stay on the old API for the time being you can use the angularfire2/database-deprecated module. Do know that we will remove it in the future.. Hey @dauledk! firebase.Promise was removed in version 4.5.0 of the firebase SDK. Now you just use a regular Promise. The following modification fixes your sample.\nts\n  signIn(email: string, password: string): Promise<void> {\n    return this.auAuth.auth.signInWithEmailAndPassword(email, password);\n  }. @rjain15 Upgrade to the latest of both Firebase and AngularFire.. @iclems Want to send in the PR? :). @ankemp We're working on this and should have something in before the 5.0 release.. @habib786 This isn't something to worry about. It won't become an error until Angular 6 which is a long ways out. It also doesn't break your build. It has to do with the way the Angular CLI interprets namespaces, we're working on it.. This is not an error until Angular 6. It is just a warning. We will resolve it before the release.. Being fixed with #1186! Hold tight!. Now that we are on a more stable API we plan on doing that soon. Follow #677 for updates!. @gerhardcit AngularFire2 is not mature, yet. It is in RC. Having solid documentation is required before we go final. We will be doing major documentation work in the near future. However, we are still trying to add features to the library like SSR support and async loading. Designing and implementing AngularFirestore was also a large task. It was a hard decision to deprecate version 4 of the RTDB, but we wanted to provide a similar API for Firestore and the RTDB.\nWhat are you referring to when you say \"large scalable systems\"? I am always open to suggestions for improving the documentation so please respond with your thoughts.\nI do suggest reading the official Firebase documentation. This library is a convenience for Angular developers and it's still the Firebase SDK under the hood.\n@kleeb Thanks for the vote of confidence \ud83d\ude03 \n. I am also closing this issue as we have fixed this in the documentation.. Closing because this should be fixed with the latest version of AF.. @patrickmichalina We plan on doing this when we implement SSR support. Follow #1073 until the official proposal is listed.. Hi @kvanzuijlen! We are working on a solution. Stay tuned!. @fearless23 Are your security rules set to authenticated only?. @fearless23 Can you create a stackblitz to recreate this problem? . @fearless23 I'm not sure how to proceed if your example is working in one place but not the other. That would suggest to me that something is wrong locally.. @Toxicable Want to send in a PR to export the type?\nI hear you on the boilerplate method. However, we can't assume the id key name. A user could easily store id as something else entirely. The official SDK is looking into supporting auto applying __id__ to the doc.data() call and then stripping it on the update. That is the idea solution because it will be like $key except we don't have to do anything in AngularFire land to support it :). Hi @Anthony2539! Please use Stackoverflow for these kind of questions. We also have a required issue template to know what exactly you are using.\nIn your case you will not get back likes since it is a nested collection and those are not automatically retrieved. You will need to manually retrieve them.. @larssn Want to send in a PR?. @hermbit These are good ideas, but there are reasons behind our API.\n\nWe should not rename collection to col because that would go against the Firestore JS SDK.\nThe $ observable methods are clever but this is a simple to implement utility function on your own. I'm against vanity methods that increase the size of the library. But please feel free to argue with me!\n\nI really appreciate you taking the time to add your ideas. Just because we won't be accepting any of these doesn't mean we won't accept another. We are always interested in feedback from our users.. @rashid-softordi What is the code that errors? . @rodrigoreal This bug was fixed in the last release. Can you upgrade and let us know if it works?. @YoonJaePark Can you take a look at how we setup our unit tests? We do something similar and don't have any problems. This is likely a config issue but I can't tell where the problem lies.\nhttps://github.com/angular/angularfire2/blob/master/src/core/angularfire2.spec.ts. Closing due to inactivity. Please feel free to open another if the problem is persisting.. @KrGyan Upgrade to AngularFire 5.0 and you'll have access to Firestore.. Hi @Benny739! Please use stackoverflow for these kind of questions. This library is dedicated to troubleshooting issues.. Thanks @Maistho!. Closing to keep issues consolidated.. Please upgrade to the latest versions of AngularFire as this should be fixed.. @Meistercoach83 Check your version of angularfire2 in the node_modules folder. Sometimes the package.json isn't accurate.. @Meistercoach83 Can you upgrade to the latest version and see if the error persists? . @larssn I'll start doing that. It's frustrating for everyone.. Closing due to inactivity.. @ajonp Thanks for taking the time to post an issue.\nCan you show the code for the error? Also if you could create a stackblitz or repo of this that would be great.. Hey @aaronfrost! The query/ref is available on the AngularFireObject service, it's just called query now.\nts\nlet donuts = this.db.object(`DONUTS`);\n// make sure to call .ref because you could be dealing with a query. Both Query and Reference have a .ref property to deal with this case.\ndonuts.query.ref.onDisconnect().set(false);\nThanks for flagging this, we'll update our migration guide to indicate this.. Hey @aaronfrost! Can you check your node_modules/angularfire2/package.json and see what the version number is? Sometimes npm lies about version it installs.. Fixed in the latest release.. Hey @bob-lee! The \"modified\" after the \"added\" is correct behavior because you're using a timestamp. Timestamps are server time, when you add the from the client they are simply a placeholder. You'll first get an \"added\" then afterwards you'll get a \"modified\" when the server time has been applied. \nYou're receiving two of each because you're creating two observables of the same type and logging the result in each. After I removed one of the observables the sample worked as expected. \nLet me know if you have any questions!. @pmullot Can you file this issue in the sdk repo? This is an issue with the core sdk and not AngularFire.. Hey @bob-lee! Importing from 'firebase' will bring in everything Firebase offers. The firebase/app import is correct.\n@sionfletcher Can you try stackblitz instead of plnkr? It's much, much easier.. @trenthm What cade is causing this? This looks like a REST API call which is outside this library.. @trenthm This is a much hairy issue than I can help with, but you can file an issue with the official SDK since it seems to be a problem there. \nI'm closing this issue, but please open the issue there.. @ajmed I don't think it works well with websockets which is what the Firebase Database uses. Internally we use the done object for anything async.\nWould this work for you?\nts\nit('should create the app', () => {\n    const fixture = TestBed.createComponent(AppComponent)\n    const component = fixture.debugElement.componentInstance\n    expect(component).toBeTruthy()\n    const promise = new Promise((res, rej) => res());\n    promise.then(done).catch(done.fail);\n}))\n. Hi @gustavobrian! Please use Stackoverflow for these kind of questions. . @avatsaev Can you file this issue in the official SDK repo? https://github.com/firebase/firebase-js-sdk/. Hi @nooot77! Can you please follow our issue template? I'm closing but feel free to open a new issue that follows the template.. Hi @zuandre! This can be prevented with security rules, you can ensure that no existing data is deleted with just a line or two. This behavior for delete is also described in the documentation. It is not an issue it is working as intended. I recommend securing your database and doing undefined checks in your code. . @TheBolmanator What is the actual problem?. Hi @mikepc! This is not an AngularFire issue and rather an issue with the actual SDK. Can you file an issue there? https://github.com/firebase/firebase-js-sdk/. @snakenstein I really like this idea. Would you like to post an API proposal?. @timblakely Yep, it sure should! Care to make the PR?. @22ryann What do your security rules look like?. Closing due to inactivity. Feel free open a new issue if the problem exists.. Follow #1206 for updates. This is an error with Stackblitz however. The output is a warning not an error so Stackblitz should continue and ignore it. . No more peer deps warnings thanks to the hard work of @jamesdaniels!. Hey @fearless23!\nDon't assign class properties inside of observable subscriptions. They are async in this case and you won't know when they are populated. Assign the class property to the observable and use the async pipe.\n```ts\nimport { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n@Injectable()\nexport class UserServiceTwo {\nx;\n  constructor( private afAuth: AngularFireAuth ) {\n     this. x = afAuth.authState.map( data => data.displayName);\n   }\n}\n```\n```ts\nimport { Component } from '@angular/core';\nimport { UserServiceTwo } from './user2.service';\n@Component({\n  selector: 'my-app',\n  template: <div>{{x | async}}</div>\n})\nexport class AppComponent  {\n  x;\n   constructor( public us: UserServiceTwo ) {}\nngOnInit(){\n    this.x = this.us.x;\n  }\n}\n```\n. Use an authentication guard to resolve data into routes.\n```ts\n@Injectable()\nexport class RedirectGuard implements Resolve {\nconstructor(\n    private readonly afAuth: AngularFireAuth, \n    private readonly router: Router) {\n  }\nresolve(): Observable {\n    return from(this.afAuth.auth.getRedirectResult())\n      .do(data => {\n        if(data.user !== null) {\n          this.router.navigate(['/list']);\n        }\n      });\n  }\n}\n```\nThen in your component you can grab the snapshot.\n```\n@Component({ })\nexport class MyComponent implements OnInit {\n  constructor(\n    private readonly route: ActivatedRoute\n  ) { }\nngOnInit() {\n    const user = this.route.snapshot.data;\n  }\n}\n```\nMake sure to declare the route:\n```ts\nimport { Routes, RouterModule } from '@angular/router';\nimport { MyComponent } from './my.component';\nimport { ResolveGuard } from './resolve-guard';\nconst ROUTES: Routes = [\n  { path: '', component:  MyComponent, resolve: [ResolveGuard] },\n];\nexport const AppRoutes = RouterModule.forChild(ROUTES);\n``. Using the snapshot data from the Activated route you can get theuid` and do whatever you want with it.\nHere's a sample of code that I used:\n```ts\nimport { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Note } from '../note-list/note-list.component';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/switchMap';\nimport 'rxjs/add/operator/do';\n@Component({\n  selector: 'app-list-page',\n  template: `\n    \nNotes\n  <app-note-list\n    [notes]=\"notes | async\"\n    >\n  </app-note-list>\n\n  <div class=\"row\">\n    <input #text type=\"text\" placeholder=\"New Note\">\n    <button (click)=\"add(text.value)\" class=\"button button-outline\">Add</button>\n  </div>\n</div>\n\n`,\n  styles: []\n})\nexport class ListPageComponent implements OnInit {\n  notes: Observable;\n  notesCollection: AngularFirestoreCollection;\nconstructor(\n    private readonly route: ActivatedRoute,\n    private readonly afs: AngularFirestore\n  ) { }\nngOnInit() {\n    const user = this.route.snapshot.data;\n    this.notesCollection = this.afs.collection(users/${user.uid}/notes);\n    this.notes = this.notesCollection.valueChanges();\n  }\nadd(text: string) {\n    this.notesCollection.add({ text });\n  }\n}\n```. Hey @aleixsuau! I wouldn't import all of Firebase into your app at once. Firebase can be lazy loaded. It's highly unlikely an app with need Storage, Messaging, Auth, and two database all one page.\nImport only what you need:\nts\nimport * as firebase from 'firebase'; // never do this\nimport * as firebase from 'firebase/app'; // only imports app and typings\nimport 'firebase/database';\nimport 'firebase/auth';\nimport 'firebase/firestore';\nimport 'firebase/messaging';\nAsync importing is also really useful in this regard:\n```\n// app/auth.ts\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nexport class AuthService {\n     // do auth stuff\n}\n// app/login.ts\n@Component({ \n  selector: 'app-login',\n  template: `Login\n})\nexport class LoginComp {\n   async login() {\n       const { auth } = await import('./auth.ts')\n    }\n}\n```. Hey @willis2342! You are right! Would you like to make the PR?. Hey @Supamiu! This is not a limitation of AngularFire but of the Firestore SDK. You can file an issue here: https://github.com/firebase/firebase-js-sdk/issues. . Hey @colinskow! You need to make sure you're on AngularFire 5.0.0-rc.3 and Firebase ^4.6.0. That should resolve it!. @oTTa Make sure you are on AngularFire 5.0.0-rc.3. You're likely on rc.0 and Firebase ^4.6.0 which are incompatible.. Hey @surajbarkale-dolby!\nThis is an outstanding issue with Auth and Protractor.We could solve it by running certain parts of Auth outside of the Angular zone but it's going to take some time to flesh out.\nI'll look into it and see what I can do.. Hey @danielsogl! Thanks for reporting this.\nI think this is beause the current Firestore version doesn't work out-of-the-box for node. You can try aliasing Firebase Admin, which will work, or wait just a little bit longer until we fix this!. Good to know about the --browser flag! I'll be sure to keep you updated about the overall node fix.. Hey @larssn! Thanks for taking the time to write up the issue. I really appreciate you taking the time to isolate the issue to AngularFire too.\nCan you use this Stackblitz template to reproduce the problem with you have the time? That will make life much easier for all of us.. Thanks @larssn!. Hey @Adlesa! We have a required issue template this is really helpful for us to debug your issues. I'm going to close this issue but feel free to create a new issue that follows the template. Also, it will be much much easier to help if you re-create the problem in stackblitz.com.. Hi @brndex! We have a required issue template that helps us help you. I'm going to close this issue but feel free to open a new one the follows the template.. Hey @George35mk! Can you please use the template so I know what versions you are on? Also, if you could create a Stackblitz example that would make it much easier to figure out what's going on.. @George35mk It will be much easier if you re-create the issue in a stackblitz.com template. It's interactive and I can fork a copy and work on getting it fixed.. @George35mk You can save your config there, just make sure it's a test account with no important data.. Have you heard of https://angularfirebase.com? I highly, highly recommend using it. It's not official from Firebase, but @codediodeio is better than I am at making videos.\nWe plan on updating our documentation soon. So stay posted.. @diegotham Thank you so much for the detailed bug with the Stackblitz! This made it so much easier to troubleshoot.\nThis is a tricky bug, but I'm on the case. I'll get back to you as soon as I have more information.. @jagabs Can you create a stackblitz?. Thanks @peterennis!. @muffinrecon Can you use the issue template and create a stackblitz? That will be much easier to debug.. Closing this one as due to lack of information and inactivity.\n@jkossis snapshotChanges emits the state of your collection, so it will not emit a \"removed\" event. Only the array without the item removed. stateChanges seems like what you want since it is the stream of events as they occur.. @YamanSehzade, @Luke-Rogers In the future try not to respond to closed posts, just open a new bug so we'll see it. It get a lot of notifications from Github so I don't always see responses to closed issues.\nFor your case your problem was that you were creating multiple observables and subscribing them to the view. This is because you created your Observables with functions rather than properties. Each time you click \"load items\" or even run change detection, you're creating a new observable which will cause race conditions in the view.\nIn general you should treat your observables are properties instead of functions. They are a stream of updating content, you don't need to call a function to create one to unwrap more data. Just create the observable as a property, tack on your operators, and subscribe.\nSee the forked version I created for a fix: https://stackblitz.com/edit/firebase-delete-issue-enpcws?file=app%2Fhome.component.ts. Hey @msaddamci! Please use Stackoverflow for these kids of how to questions as this repo is dedicated to troubleshooting bugs.. Hey @motzne. @TehCrucible is right that you need to upgrade to Angular 5 to use the latest AngularFire release. Upgrade to the latest Ionic or use an older version of AngularFire.. Hey @Beeruot! This is not a bug with AngularFire but with the ionic build process. I think this is fixed in the latest CLI release. Can you try upgrading and see if it fixes? If not please file a bug with their repo.. @sdey0081 Thanks for the well put together issue! I'm looking into it now. I think you need to flatten the entire observable to fix your problem. I'll have a solution soon.. Thanks @idanb11!. Thanks @javebratt! Just got that fixed!. @jamesdaniels In this case snapshotChanges() and stateChanges() would emit the same data. We could consider changing the name to stateChanges() as it fits a little bit better with the other APIs. This way we could consider implementing actions.. @slyedoc @jkossis @anonymuos1 This is a bug in the core SDK. If the file is larger than 256k it is uploaded in chunks. This is handled differently and the downloadURL is not given in the progress callback, but in the completed callback. I'm going to make the change in the core SDK and it should work once that change lands.. Hey @ibagaric! What @Chris1308 says is true. You need to provide each feature module first so it's available for dependency injection in your components and services.. Hey @psingl! I'll need a Stackblitz.com example from you in order to properly debug this. Can you reproduce the issue and post the link here?. Hi @mihirkadve! We have a required issue template which includes important things like versions of Angular, Firebase, and AngularFirestore. It's typically hard to debug issues that are just screenshots of code.\nIn your case though .get() is not a method we wrap since it would just incur extra bytes. Use the underlying reference.\nts\nthis.afs.collection('cities').ref.get();. Hey @myspivey! The behavior is correct, the docs are incorrect. The implementation of the .stateChanges() method is really simple.\nts\nexport function stateChanges(query: DatabaseQuery, events?: ChildEvent[]) {\n  events = validateEventsArray(events)!;\n  const childEvent$ = events.map(event => fromRef(query, event));\n  return Observable.merge(...childEvent$);\n}\nThe .stateChanges() method creates an observable of each child event provided and merges them into a single observable. Since they are single child events they are fired as a single AngularFireAction. \nNote that this is different from the AngularFirestoreCollection.stateChanges() method. Firestore returns document changes as an array, even if there's a single change. Therefore we emit the array of changes rather than each single change.\nts\n  stateChanges(events?: firebase.firestore.DocumentChangeType[]): Observable<DocumentChangeAction[]> {\n    if(!events || events.length === 0) {\n      return docChanges(this.query);\n    }\n    return docChanges(this.query)\n      .map(actions => actions.filter(change => events.indexOf(change.type) > -1))\n      .filter(changes =>  changes.length > 0);\n  }\nts\nexport function docChanges(query: firebase.firestore.Query): Observable<DocumentChangeAction[]> {\n  return fromCollectionRef(query)\n    .map(action => \n      action.payload.docChanges // array of changes\n        .map(change => ({ type: change.type, payload: change })));\n}\nNow with all that being said, would you like to send a PR in to update the docs? \ud83d\ude03 . Hi @cesarsalesgomes! Can you create a Stackblitz.com that shows this error? I think there might be an issue with the module setup.. @yharaskrik It's all in master, but not released. If you want you can clone, install, and build master to give it a try. We should do a release sometime soon after we do some docs.\n```\ngit clone https://github.com/angular/angularfire2.git\ncd angularfire2\nyarn\nyarn build\nnpm pack dist/packages-dist\nthis will create a tarball you can install like a regular npm package\ncd ../my-universal-project\nyarn add ../angularfire2/angularfire2-rc.5-0.tgz # or something like that\n```\nAny feedback you'd like to give would be amazing.\nThe meat of the code is in this PR: https://github.com/angular/angularfire2/pull/1454\nA github example is here: https://github.com/jamesdaniels/onSnapshot.  @yharaskrik We'll take a look in our weekly sync today and report back.. @yharaskrik Working on a fix for storage then hopefully doing a next release after that. See #1548 . Will be fixed in the next release.. Thanks @myspivey!. Hi @aliridha1510! We have a required issue template that helps us debug your problems. I recommend using stackoverflow for your question as this repo is dedicated to troubleshooting library issues.\nAlso, you are using a deprecated version of the API. I would recommend upgrading to the latest version which may fix your issue.. Hey @isylhdin! Can you create a stackblitz that shows this? I created a similar app to reproduce this but I wasn't able to hit it.. Closing due to inactivity. Feel free to post a new issue with a stackblitz if the problem is still occurring.. Just did a review and it looks great. Huge kudos to @myspivey for saving the day.. Just to keep everyone up to date, we have a fix in the works but it probably won't be released until next week. Keep on 4.8.0 right now.. @a-cordoba10 @rts-cwalker @myspivey @hiepxanh @rezid @timstoute @JimmyOnGitHub @YoungsooJang @houfu @nueko @jhcao23 @nunesdaniel @MihowBogucki @tuballeonel @oluway @kamrulhassan\nCan you try npm i angularfire2@next and see if it fixes this issue?. Fixed in the latest release.. Hey @viswanathamsantosh! This is an error with the Ionic CLI make sure you are on the latest version and try again. If it's still giving you problems make sure to file an issue with them so they can help you resolve it!. Thanks @davidjpfeiffer!. Thanks @crisz!. Hey @vyasm9! We have this fixed in master but we haven't released yet. Make sure to keep your Firebase version at 4.8.0 or below.. Hey @Tommertom! You can easily use the regular SDK for this.\n```ts\nimport firebase from 'firebase/app';\nimport 'firebase/database';\nfirebase.firebase.database().enableLogging(true);\n```\n. Hi @gigocabrera! I would love this feature as well. However, AngularFire is a wrapper around the core SDK. Route any future feature requests to the official SDK repo. They are much wiser than me :). Oh my gosh, thank you so much @FrozenPandaz! This was on the top of my \"stuff I need to actually do list\", so I can't thank you enough.. Hi @simonebracaloni! Thanks for the feature request! However this is not a place where we can make these changes. AngularFire is just a wrapper around the Firebase SDK. If you want to request a change check out the official SDK repo: https://github.com/firebase/firebase-js-sdk/.. Hi @satishdeokar! I think you have the wrong repository. This is the AngularFire repo and we no longer support Angular 4 as we are on Angular 5.. What is your Angular version?. Change your package.json entry to \"@angular/core\": \"^5.0.0\".. Right. Don't use ^5.5.0, use ^5.0.0.. This is a tricky. It's a hot vs. cold observable situation.\nAll AngularFire observables are hot, meaning they values are emitted live. A second subscribe will not emit the \"original\" value. This is the intended design.\nWhy are AngularFire observables hot? A Firebase/Firestore reference is created outside the observable, which by default makes it hot. I'll be citing @BenLesh's excellent article to explain.\nBelow is an example of a cold observable:\njs\n// Pseduo-code\nconst cold = new Observable((observer) => {\n  const ref = new Reference();\n  const unsubscribe = ref.onSnapshot(observer);\n  return { unsubscribe };\n});\nThis would create a new reference for each subscribe. Which is not ideal. Instead we create the reference outside of the observable, which makes the observable hot.\nts\n// Pseduo-code\nconst ref = new Reference();\nconst hot = new Observable((observer) => {\n  const unsubscribe = ref.onSnapshot(observer);\n  return { unsubscribe };\n});\nThe kink in this situation is that methods like .on('child_added') or onSnapshot() work in a cold like manner. Meaning each time you call them they will replay the same results in the callback.\nIdeally, you wouldn't run into this situation because subscribe() should be called just once. However, I am willing to make a change to have these observables act in a cold like manner to match the Firebase SDK.\nI'm working on a few infrastructure changes with our typings, but after that I will get this change released.\n. Hey @MattStrybis! If you don't subscribe multiple times to the same observable you won't have this issue. I recommend only calling subscribe once for an observable and using operators to do any transform logic necessary. We'll get this fixed soon but you can avoid this problem in the first place.. @famousTM @isaiastavares You need to make sure the params.id is coming back as a string. If it is undefined then your routing is not properly set up.. Hi @ziglee! Just access the timestamp from the Firebase SDK.. Hi @0x6368656174! We have a required issue template that is needed to help debug your issue. In your case I would need to know your Firebase, Angular, and AngularFire versions. Also I would need to see your import module code. \nAngularFire is broken into modules and each feature module only includes the feature needed. If you are getting the database in your bundle then you are likely importing either AngularFire or Firebase incorrectly.\nThis code below demonstrates how AngularFire is broken up into modules that pull in the needed dependencies. This is also documented in the quickstart.\n```ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { environment } from '../environments/environment';\n@NgModule({\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(environment.firebase, 'my-app-name'), // imports firebase/app needed for everything\n    AngularFirestoreModule, // imports firebase/firestore, only needed for database features\n    AngularFireAuthModule, // imports firebase/auth, only needed for auth features\n  ],\n  declarations: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule {}\n``  . Should be fixed with the current next release.npm i angularfire2@next`.. Fixed in the latest release.. Hi @sandysh! Our advice is to keep your data structure flat to make querying easier. In your case members should be a top level structure and it can share the same keys as groups to keep everything organized.\njson\n{\n  \"groups\": {\n      \"L2-AkEisyrS_jEElG9r\": { }\n   },\n   \"members\": { \n     \"L2-AkEisyrS_jEElG9r\": { }\n   }\n}\nThen you can just query off of members and not have to worry about groups at all.. Please upgrade to the latest version of AngularFire as this has been fixed post rc.0.. Hi @ericcancil! We do not natively support the .get() method, but you do have two options.\nUse the underlying reference\nts\nconstructor(afs: AngularFirestore) {\n  afs.collection('items').ref.get();\n}\nUse .take(1)\nts\n// import { take } from 'rxjs/operators';\nconstructor(afs: AngularFirestore) {\n  afs.collection('items').valueChanges().pipe(take(1));\n}. Hi @waploaj! Please see our migration guide for upgrading your app to version 5.0: https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md. Hi @JesseBlake ! We have a required issue template that helps us debug your problems. I recommend using stackoverflow for your question as this repo is dedicated to troubleshooting library issues.. Hi @pc-mon! We have a required issue template that helps us debug your problems. I recommend using stackoverflow for your question as this repo is dedicated to troubleshooting library issues.\nAlso, you are using a deprecated version of the API. I would recommend upgrading to the latest version which may fix your issue.. Hi @Endran! I'll need to see your AppModule code to tell how you are importing AngularFire.\nAlso, if you could create a stackblitz repro that would be really helpful.. Duplicate of #1387. Waiting until the next firebase release and we'll have it fixed hopefully today or tomorrow.. @sarojrout We no longer support Angular 2 and I believe AngularFire will only work with Angular 5+.. Firestore is not included by default. I also recommend including each Firebase package that you need such as \"firebase/app\", \"firebase/firestore\".. Hey @waploaj! Your versions don't add up because Firebase and AngularFire have no 5.5.1 version. Can you check to see what version of Firebase you are running? You likely have an older version that doesn't include Firestore. Upgrading to the latest version will fix your issue.. We've fixed this issue in the beta release. Can you give it a try by installing npm i angularfire2@next.. Hi @Joebob12! That message is just a warning, not an error. However, We sent another next release out yesterday. Can you update to that. It contains fixes for the warning you received above.. @wojtek1150 Can you provide more details? You are the first one to report that error so it would be helpful to see more code a link to repro. Hi @GeorgeKnap! It's odd that it's relating to that line since that is the deprecated database library and you are using the new database library.\nCan you reproduce this in a stackblitz? If I don't see a reproduction I won't have enough information to tell what's going on.. Hey @DiegoVenancioVieira! This repo is for AngularFire issues not Firebase Hosting issues. File you issue with the Firebase CLI repo here: https://github.com/firebase/firebase-tools. Hey @nathanfan46! File your issue at the JS SDK repo, where they can take a look for you: https://github.com/firebase/firebase-js-sdk/. Hey @bnfrnz! Can you recreate this in a stackblitz? It's important to have the data structure the same and it will be helpful for me to debug through your code.. Hey @bnfrnz! I'm going to close this due to inactivity. However, I would check to see how many times you are subscribing on the single observable. Currently the subscription is hot which means the values are emitted live, a second subscribe won't fire. We tend on changing this behavior in an upcoming release. Follow #1405 for more info.. Thanks @LuxDie!. Hi @Supamiu! I'm not sure what you mean by \"batch\" support for the RTDB as there is no native feature like in Firestore. The RTDB runs over WebSockets so traditional \"batching\" isn't a big perf gain. Each WebSocket frame costs 6 bytes, so there's very little overhead in sending updates.\nKeep in mind that the RTDB library syncs delta changes from the server. If one value changes, that value is sent from the server and it consolidated on the client. While you may get a new object from a .on('value', ...) event callback it doesn't mean the entire object was downloaded again.\nCan you show a code example of what you are trying to achieve?. @ArtDesire Can you test to see if this is an AngularFire issue or an issue with the underlying JS SDK?\nI would test myself, but I don't have access to a windows machine.. @ArtDesire Can you file an issue in the repo? The SDK authors will know much more than me.\nhttps://github.com/firebase/firebase-js-sdk/. We refer to the angularfire2 package as AngularFire as it is the dominantly used version of AngularFire. You use this package for anything Angular related and the older library for AngularJS.. Duplicate of #1206.\nThe next release should fix this. Try installing npm i angularfire2@next.. Hi @masnat! Please use stackoverflow for these kind of questions.. Please file this issue with the JS SDK repo as this is a wrapper library. https://github.com/firebase/firebase-js-sdk/. Hi @SubhajitLogos! This does not look like it applies to AngularFire so we can't be too much of help here.. Hi @andrekosak! We have a required issue template that helps us debug your issues. In the future please take the time to fill it out.\nThe promise returned by data manipulation methods like .update() are server receipts. They will only fire once the server has acknowledge the write. Instead you need to listen to the updates using AngularFire observables or the onSnapshot() method. These listener methods read data from the cache when offline.. Hey @arthurcohen! This looks like an install problem with the core SDK. Post this issue on their repo and somebody will get to helping you: https://github.com/firebase/firebase-js-sdk/. Hi @bhawin-bigstep! This problem does not seem like it has anything to do with AngularFire the library and it seems to be a problem with your build code. Please use stackoverflow for these kinds of questions, thanks!. Hey @chriseenberg! AngularFire currently doesn't work with Angular Universal but we are very close!\nI'm not sure what you were doing to get it working before, but it shouldn't have been. I hope we are only around a week away from getting Universal support released to a next tag. I'm closing this issue to keep the conversation confined the the PR I linked above. Feel free to follow that and post any comments or feedback there.. @davidmartinezros See the comment above yours about installing angularfire2@next. It should solve this problem.. Hi @vbuser2004! This was an issue in a previous alpha, but I patched it in the latest release. This is a bug with the official SDK, but my patch resolved the downloadURL using a promise. This shouldn't be an issue anymore. Can you provide a stackblitz so I can debug?. Closing due to inactivity. Feel free to open a new issue that follows the template and provides a stackblitz . Hi @FiringBlanks! The code is unreachable because you are returning on one line and then writing code after the the runTransaction block.\n// all code after the runTransaction callback is unreachable because you are returning\nreturn this.afs.firestore.runTransaction((transaction) => {. @FiringBlanks Don't return the transaction result. Just store the promise as a variable instead. Or use Promise.all() for multiple transactions.. Hi @haleem737! Please use stackoverflow for these kind of issues as this repo is dedicated to troubleshooting library problems.. Hi @BastianKrones! We actually are close to landing Angular Universal compatibility, see #1454. Up next we do plan on providing support for Cloud Messaging as well.\nI'm aware of AngularFire-Lite, but it's implementation is not idea. It switches to uses Angular's HttpClient module if it detects platform server. This implementation has many downsides, mainly being that you download both server and client code for either platform. This implementation also forces a dependency on Angular's HttpClient module. Handling authenticated requests also becomes more complicated.\nOur solution is to get Zone's working with the current version of the server so it can properly server-side render without much additional work.. Hi @abel672! @houfu is correct. You are looking at the Android SDK as well. Look at the docs referenced above for help.. Hi @codenayak! Please use stackoverflow for issues like these, this repo is dedicated to troubleshooting library issues.. Glad it's working, @moda20!. Hi @trichetriche! This isn't an issue with AngularFire, but rather with the core SDK. File an issue with the official SDK repo and someone will take a look there for you! Thanks \ud83d\udc4d \nhttps://github.com/firebase/firebase-js-sdk/. YES! @Maistho THANK YOU SO MUCH!\nGive me a bit and I'll give this a proper review.. LOOKS PERFECT! Thank you so much @Maistho!. I think the issue is that you subscribe in your component but you don't ever unsubscribe.\nngAfterViewInit() {\n    this.saleServe.getSales().subscribe(sales => {\n      this.sale = sales;\n    });\n  }\nCan you try using the async pipe in your view instead?\nngAfterViewInit() {\n    // switch this to an Observable<Sale[]> not just an array\n    this.sales = this.saleServe.getSales();\n  }\nThen in your view you can unwrap the async value with the async pipe. \n. Closing due to inactivity. If the problem still persists feel free to open another issue.. Hey @gekijin! We do need to find a way to surface this in the API. I'll think of some ideas.. Make lookForMessages a property not a function. It is returning a new observable each time it is called and a new subscription occurs which causes multiple emissions.. Hi @alexsk88! Please use stackoverflow for these kind of how to questions this repo is dedicated to library issues.. Hey @ccosme! Stackoverflow is the best place for these kind of questions, I recommend posting there in the future.\nYou need to join together these observables into a single observable however. I would also recommend not returning your observables as functions because you can easily end up subscribing to different observables and creating race conditions in your view.\nts\n    const orders$ = this.firebaseProvider.getOrders();\n    const shops$ = this.firebaseProvider.getShops();\n    this.vm = combineLatest(orders$, shops$, [orders, shops] => ({ orders, shops }))\n      .pipe(map(({ orders, shops }) => { \n         return // the joined result here\n      });. Closing due to mark stuart's solution. This is not something AngularFire can surface as it would be a core SDK request.. Hey @MarkAdell! Would you like to send in the PR?. Hi @ComputerScienceStorage! There's not enough information here to tell what's going on. AngularFire works in tests and you can look at ours for a reference. You need to make sure your TestBed injection is set up properly or errors like this can occur. . Hey @kevintanhongann! If you're still having problems I would post an issue with the official SDK and an engineer on that team will take a look! https://github.com/firebase/firebase-js-sdk/. Thanks @jlara310!. @connor-odoherty We will either document this or add a wrapper method. Would you be for tapping into the underlying Firestore instance or would you want a wrapper method?\nts\nconstructor(private afs: AngularFirestore) {\n  afs.firestore.disableNetwork();\n}. Hey @connor-odoherty! No event cycle issues, it's just the matter of aesthetics.\nThank you so much for your kind words! Keep filing those issues \ud83d\udc4d . @islamaymansais Please use stackoverflow for these how to answers as this repo is dedicated to library issues.. @diginikkari @diginikkari A Document does not receive added modified or removed events, that is only possible when you listen to a Collection. Otherwise it's just a value changed emission. If you're looking for events for field changes, that is not possible with the SDK. Feel free to file an issue in the official SDK repo.\nhttps://github.com/firebase/firebase-js-sdk/. @johnrivelt snapshotChanges() is the state of your list, therefore you will never receive a child removed event because the item is gone from the state. If you want events use stateChanges(['child_removed').. This error is not AngularFire related and should be filed with the Angular CDK repo.. db.list('people') will return an AngularFireList not an observable. Use the valueChanges() method instead.\nts\nthis.persons = db.list('/people').valueChanges();\n. Hey @tfpereira! Since this is specifically Firebase auth related can you route this issue to the official SDK repo?. The -types packages are just types and will not work as runtime values. Use the @firebase/app module instead.\n```ts\nimport { firebase } from '@firebase/app';\ncolRef.doc('testDoc').set({\n      name: 'testValue',\n      // This line works\n      lastEdit: firebase.firestore.FieldValue.serverTimestamp(),\n      // Should the following line not work?\n      anotherEdit: firebase.firestore.FieldValue.serverTimestamp(),\n      }, {merge: true})\n``. @dauledk I'll let the Firebase JS master @jshcrowthe give you the full explanation.. Your key is likely null which will remove the entire list. Do an if check in yourdeletePerson()` method to ensure the key is actually string at runtime.. @iNViTiON I think deprecated might be broken with the latest SDK. That being said we are close to ending support and will be removing the deprecated package. Right now I recommend moving back to the older SDK or upgrading to the new API.. Can you try going into the dev tools and clearing IndexedDB? This can happen during development when the same local port is used in different apps.\n\n. @rwmb It's a pretty rare error, like I said it happens when you use different projects on the same port. It you see it occurring more often let us know in the official SDK repo: https://github.com/firebase/firebase-js-sdk/. Hey @byrondover! Would you like to send the PR of adding the es2015 field in each module's package.json?. Hi @matiishyn! Priority is not recommend anymore, so we do not wrap the methods. You can always use the underlying reference.. Hi @psrcek! Can you try it without AngularFire and see if it also returns false?. Hi @hitokiri! Please use stackoverflow for these kind of questions, this repo is dedicated to troubleshooting library issues.. Hey @jdjuan! This is a bug in the docs. We'll get it fixed!. Fixed!. Hi @kroupa1985! There's not much I can do to help you without a specific version number for both AngularFire and Firebase, and a reproducible demo. If you can update you issue to include those that would be helpful.. Hi @kroupa1985. This still isn't enough information. Can you try creating a stackblitz that reproduces this problem?. Hi @NELBNL! I was not able to reproduce your bug. I logged in and stayed logged in. I'm closing this issue, but feel free to open on the official SDK repo if it's still happening. https://github.com/firebase/firebase-js-sdk/. Yes, use the second callback in subscribe() or take a look at the catch operator.. We should have a next release soon.. Hey @patrickmichalina! Thanks for raising this. I think is is a problem with the build optimizer. Raise this with them and keep us updated. I'm going to close this issue because there's no action on our side.. Closed for #1749 . This is a known issue and a problem with Zone.js rather than Firebase Authentication. Firebase Auth has a setInterval that deals with token refreshing in older browsers. Zone.js incorrectly picks up on this and forces change detection each second. We unfortunately have to account for this, but we do have a fix in master: https://github.com/angular/angularfire2/pull/1454\nWe expect to do a nexttag release this week. When that is out I'll report back and you'll be able to give it a test.. @cfficaurzua @felcampos This is a known restriction of the Firestore JS SDK. Feel free to file an issue there to discuss, but since we are a downstream library we cannot make that change.\nhttps://github.com/firebase/firebase-js-sdk/. Hi @almothafar. We are currently working on getting out of RC, but we've had some catch up to do with new Firebase features, and there was some nastiness with Zones we had to address. Our goal is to be feature complete before going to final.. I understand your frustrations. We are working hard to hit a final version soon and follow a strict semver release after that. \nAs far as naming, there is an entire discussion going on between the Angular and Firebase teams of how to handle this. However, naming is an aesthetic change. Therefore we are prioritizing features and bug fixes before migrating to a new package name and a new scope.\nThis project isn't in a \"bad shape\". We are working on all the problems you have mentioned, just be patient and we'll get it solved.. Hi @almothafar! That is actually what we do. The top level package.json is for development of the library. There's a package.json in each feature's folder to uses peerDeps: https://github.com/angular/angularfire2/blob/master/src/database/package.json#L19-L28\nWe populate the versions with a build script: https://github.com/angular/angularfire2/blob/master/tools/build.js. This is due to the mechanics explained in #1405. We plan on changing to a cold observable emission soon. Read and follow that issue for updates.. There's some info on the docs that should help you out!\nhttps://firebase.google.com/docs/firestore/manage-data/enable-offline#listen_to_offline_data\nts\nvar source = snapshot.metadata.fromCache ? \"local cache\" : \"server\";. Hi @sarunint! The alternative would be to name it AngularFireFirestore or AngularFireStore. The first is far to verbose and the second reinforces the wrong way to spell Firestore (FireStore). While we do try to follow the \"AngularFire + Product\" naming, sometimes you need to know when to break the rules.. Hi @amitport. We do not create changelog lists for next releases as they are used for testing an upcoming main release which does get a change log release. \nAs for the rc.6.0 release, there was an accidental release to master instead of next which caused us to rollback and redeploy. . Hi @mcs4uweb I'm not sure what your issue is about. But yes, to write to your storage bucket you need to have the proper permissions.. @soumak77 There's nothing out-of-the-box for you to use, but it's possible to set it up yourself. Each AngularFire feature takes in some config tokens that are used to make an app.  All you need to do is either alias the @firebase/app module to your firebase-mock module or use Webpack's NormalModuleReplacement plugin. That way it will switch out the real Firebase App module for the mock module and you won't have to do any code changes. Let me know if that sounds like that will work.. @soumak77 No, the FirebaseAppProvider is not used in the services. Due to Zone.js issues we have to create the app inside the service. Therefore your best bet it to replace the module at build time, this is also the easiest option.. Hi @NewtonJoshua! It is available through the underlying SDK like the other auth methods.\nCheck this video for how: https://www.youtube.com/watch?v=Ec7hr2xOjUo. You need to import firebase/auth as well.\nts\nimport * as firebase from 'firebase/app'\nimport 'firebase/auth';. Hi @kawamoto! I really appreciate you taking the time to migrate us over to RxJS 6. However, I do not recommend doing it all in one big PR. It's really hard to review and increases the chances of creating bugs. How about you partition this PR into multiple ones based off each Firebase feature? Start with changing one module and after we merge that in move on to the next. Does that sound good?. @kawamoto @robertbaker I appreciate your efforts, but this is a big change that has to be carefully done. This PR already has 48 changed files this is too large to review without missing any changes. At Google we measure the size of CLs (our version of PRs) and this would be an XL CL. It is strongly recommend to keep your CLs at small to medium so they are easier to review. XL CLs do happen, but it is advisable to avoid them.\nYou can continue to upgrade the pipeable operators per feature using RxJS 5.5+. That means there would be one PR per feature to migrate to pipeable operators. When we're off the side effect import operators we can then do a PR to upgrade to RxJS 6 and fix and changed import paths. \nCalling in @BenLesh to see if this is a sound strategy.. @robertbaker @jymdman @kawamoto We've had a lot of interest in creating PRs to upgrade to RxJS. We need to be clear about who is making these changes and in what manner. We also need a fairly fast timeline. As seen earlier @jamesdaniels is working fervently to get AngularFire up to speed with the latest changes in Angular, RxJS, and Firebase. \nWe would love contributions from the community on upgrading to RxJS 6. This upgrade should be done by creating one PR per Firebase feature to migrate to pipeable operators with RxJS 5.5. When we're off the side effect import operators we can then do a PR to upgrade to RxJS 6 and fix and changed import paths. Let me know who is interested and we will hold the set of PRs for you.\nIf you prefer @jamesdaniels implements it quickly then let us know. Sorry about the lack of communication behind this issue. In the future when sending a PR for an issue, please comment asking to work on it. This way we can all stay in sync on who is working on what.. Update: I noticed that @jamesdaniels pulled the PRs in from @jymdman, which were nice and small! I needed my coffee before trying to get up to speed with the latest PRs.. Hey @byrondover! Thank you so much for the in depth work on this issue. I wish they all were like this! \nI'm going to page @jamesdaniels who was the implementer of FirebaseZoneScheduler and keepUnstableUntilFirst(). We'll get to the bottom of this.. Hey @andycwk! Sorry to hear that you're hitting trouble with offline. The best place to get help is in the official SDK repo, the engineers who wrote the offline persistence code will be able to help you there: https://github.com/firebase/firebase-js-sdk/.\nI'm closing, but only because you'll be in good hands over there.. This is a peer dep warning and it should still work despite the warnings. We will be pushing an update soon.. @vincent-cm That is indicative of passing undefined to a Firebase update operation. I need more information to tell if it's an issue caused by a conflict with Angular 6. Please file another issue with a repro and we'll take a look.. Hi @vincent-cm! Can you please open a new issue? It makes it much easier to track. Also, I recommend creating a Stackblitz.com example. That way it's much easier for us to collaborate. . @cedvdb Yes, we are going to upgrade to rxjs 6 in the near future.. @jamesdaniels @robertbaker It's not being favored. James has been working on various AngularFire issues and we haven't communicated with each other on this one due to Google I/O. @jymdman handled the separate PRs for each module.\nSorry! @jamesdaniels I did not notice that @jymdman handled the PRs for each module. Can we just remove the removal database-deprecated and do that after an announcement?. @GaryB432 We are clarifying who is working the PR in #1582. Who ever takes the issue first will work on it. We will also check on the status to make sure it is implemented in a timely manner. In the meantime please use the compat library until we get fully up to speed.\nUpdate: Pipeable operators are in master. We need to get other PRs merged and we can get updated to RxJS 6.. @robertbaker I just noticed that @jymdman sent in the PRs which were small and done by feature. This PR looks large because it includes the removal of database-deprecated. The RxJS changes are small. However, the database-deprecated removal should be done in another PR.. @maguro AngularFire is a combination of Firebase, Angular, and RxJS. Within a short period of time all libraries had major upgrades with breaking changes. We were already in the middle of a release candidate and were forced to make the changes. We opted to update to the major releases for everyone before going final. If we went final before upgrading then we would have had to break immediately.. Thanks for reporting this @avb100! Working on it in this issue #1635, follow along there for updates.. We need to know what versions of Angular, AngularFire, and Firebase you are on. You likely need to upgrade to the latest AngularFire which provides support for the new docChanges api which was recently converted to a function.. Your sample actually returns a subscription, not an observable.\nconst subscription = this.todoDB.snapshotChanges().subscribe()\nInstead leave off the subscribe to get the observable\nconst observable = this.todoDB.snapshotChanges();. Hey @StreamsYT you can use it on the injected instance of AngularFireAuth.\n```ts\nactionCodeSettings = { };\nconstructor(private afAuth: AngularFireAuth) { }\nlogin(email: string) {\n  this.afAuth.auth. sendSignInLinkToEmail(email, this.actionCodeSettings);\n}\n```. @StreamsYT you need to make sure your Firebase version is up to date use the 5.0 package.. Closing due to the external repo.. @hiepxanh Due to a regression in AngularFire rc10. Jeff and I have been syncing behind the scenes.. @Kamshak What do you imports of Firebase look like?. @Kamshak For TypeScript you should use the star import so nothing funky occurs.\nts\nimport * as firebase from 'firebase/app';\nCan you give that a try to and see if it helps? Firebase isn't packaged for single exports like you're using and that may be causing problems.. Hi @MurhafSousli. FieldPath is a type whereas FieldValue is an object. We recommend using the Firestore SDK for getting the server timestamp like you showed above.. No faults! We don't have clear guides on formats so there's going to be a bit of back and forth to get it into shape. You're doing great and we're really lucky to have docs contributed like this!. Thanks @hiepxanh!. Hi @MurhafSousli. Your code for this example is a bit complex. I'm not certain if the problem is with AngularFire or your service. Can you create a stackblitz of this problem so it's easier for me to debug?. @juanlet You likely did not enable auth in the console. Please follow the issue template in a new issue if the problem persists.. Hi @syncreticudon. We're going to need more information than that to help. Can you please follow the issue template so we can figure out what's going on? I assume this is an Angular CLI project, we need to know the version and if you could post a repro that would be really helpful.. Hi @jishadp! This is a question that belongs on Stackoverflow, since we try to keep this repo to only bugs. Don't worry though we have an active Stackoverflow community to help.. @bfan1256 That fix would work, but it would introduce bytes on the client that belong on the server. The error indicates that Firestore calls begin before .enablePersistence(). I think we can fix it by ensuring .enablePersistence() is called before any Firestore methods on the server. I'll sync up with @jamesdaniels (who wrote 100% of the SSR code) to figure out what's going on.. Hey @bfan1256 @joaqcid! @jamesdaniels is working on excluding this from the SSR builds. Stay tuned!. @phpet This unfortunately a known issue with Cloud Functions and AF2. We are working on a fix. \nIt's not surprising that AngularFireLite worked as it simply just switches to REST calls on the server. This is a quick fix but it becomes more complicated with authentication. It also increases the bundle size of the application since you're shipping two network clients. A fun fact here is that AngularFireLite is actually heavier than AngularFire2.\nI'll keep you updated in this thread.\n. @jgan42 Can you create a stackblitz to recreate the problem so I can debug?. @robert-king Can you create a stackblitz recreating the problem so I can debug?. @robert-king @trentjones21 @TyagiAnkit40 Just put in a PR to address this. You can specify the { includeMetadataChanges: true } config and then filter out any snap.meta.fromCache: true objects. \nLet me know if any of you are up for testing the test release.. We will add the ability to filter client events with #1819. However, in the OP's use case you should not use .take(1) on a stream. Stream behave differently than a data request like a .get() call. If you need the set of data call ref.get().. Please use the issue template so we can properly help you. Closing this one, but feel free to open a new one that follows the template.. Hi @arikanorh. I'm not sure what code you're using so it's hard to tell you if you're using the right approach. However, if you've already accepted access on the Google profile it won't require you to accept access for every login. If you have further questions ping the official JS SDK repo as AngularFire is just a wrapper around auth. https://github.com/firebase/firebase-js-sdk/. Please use the issue template so we can properly help you. Closing this one, but feel free to open a new one that follows the template.. @Bielik20 @Noext We are changing doc.snapshotChanges() to return a Observable<DocumentSnapshot<T>> in the next release. The type is useless on it because it is always a value update regardless of the type of change.. Hi @beautifulboy11! I need a lot more information before providing help. Could you provide a brief sample of code? A repo on stackblitz? How large is your file? Some small files can be uploaded in one shot. However, AngularFire is a wrapper around the JS SDK. File your issue here if it persists and try to include the information listed above. Thanks!. Hi @xcash! This is unlikely an issue with AngularFire and more likely an issue with the core auth SDK. Do you mind raising an issue with the official repo? I don't work on the Auth SDK so I can't provide much help here. https://github.com/firebase/firebase-js-sdk/. @Kamshak Child added is not enough to fetch everything. We need to know what the \"initial state\" of the list. That way we only emit the array once the \"initial state\" is in place.. Object is only value by design. What use case do you have for needing events on an object?. Hi @Steven-Harris! This does sound like a good feature, but we are swamped with other tasks at the moment. If you'd like to create a proposal that we can review that would be awesome! I'm closing this now but feel free to open a proposal.. Please use the issue template so we can properly help you. Closing this one, but feel free to open a new one that follows the template.. Please follow the issue template so we can properly help you. Closing this one but feel free to open a new one.. We are getting docs on this soon!. Hi @wojtek1150, Please use stackoverflow for questions like this.. Hi @FiringBlanks. This is not an issue that we can pin down with a few lines of code. I recommend opening an issue on stackoverflow to get help from the community. Reproducing with a stackblitz will be helpful as well.. Hi @sondresorbye0111! This repo is a wrapper around auth please raise your issue with the official SDK if it still persists. Auth is a time consuming process so it can take 5 seconds on slow connections.. What version are you on for Angular, AngularFire, RxJS, and Firebase JS? This may be a zones issue.. Can someone create a stackblitz the shows the problem? I haven't ran into it myself. @patrickmichalina Can you provide a code sample or some context to help troubleshoot? I've been testing and haven't hit this problem.. Hi @onepixeldev, Please use stackoverflow for questions like this.. Hi @ShoaibCubix Please use stackoverflow for questions like this.. I would love this too, but Crashlytics is currently only iOS and Android. When/If it comes to the web we will support it sooooooooo fast.. This is likely an issue with the underlying SDK. Can you create an issue with some code samples or a stackblitz repro in the main SDK repository? https://github.com/firebase/firebase-js-sdk/. @yuliankarapetkov Can you create a stackblitz for me to debug?. Hi @davidtlee! We support this already in the query callback.. @leonlovett If you update to the latest Firebase version the typings should work. Hi @timeo-schmidt! Please use stackoverflow for these kind of questions.. @TyagiAnkit40 You can do something like { source: 'server' } by filtering the changes. The problem with { source : 'server' } is that it's abstracts too much over the Firestore SDK. If something changes upstream we'll likely have to break the API. \nTry something like this:\nts\nafs.collection('items').snapshotChanges({ includeMetadataChanges: true }).pipe(\n  filter(actions => actions.filter(a => a.payload.meta.fromCache === false)),\n  map(actions => actions.map(a => a.payload.data())\n).subscribe(console.log));. After a lengthy discussion with @jamesdaniels we decided it was best to include these changes into the new #1819 proposal and keep these methods stable. We don't provide access to the QuerySnapshot.metadata object and we'd have to provide another abstraction level. Instead we will allow for this specific functionality with #1819.. Hey @alixaxel! This is not a bug sadly. We have no way of knowing when an initial dataset is complete so we first download the data with a .once('value') listener. This way you won't get emissions for each item in the initial list. That listener does not populate the cache, if it did we would not have this problem. We then create a listener to listen to future changes.\nThis is not a problem in the Firestore SDK, but we must do it as a design decision with the RTDB. Cartant's solution did not fix the problem as we still had to do a once() listener.\nUsually this is not a big deal as the data is small, but we'd like to make a core SDK change in the future that allows the .once() listener to populate the cache or create something like an \"initial_load\" event.. The docs prop will not map the call to data().  There's good information on the DocumentSnapshot so I don't want to strip it.\nI'm thinking we can port your operators over from RxFire to do the unwrapping (#1820). What do you think?. @codediodeio itemsCollection.data would only work if you configured it in AngularFireList:\nts\nconst col = afs.collection(\u2018items\u2019, { includeMetadataChanges: false }, { id: 'id' });\ncol.data.subscribe(items => {\n  const first = items[0];\n  console.log(first.id);\n});\nWhat do you think?. @Chan4077 We are working on it, stay tuned \ud83d\udd25. Hi @akilmakda! No update. But as you can see from the recent PRs we are working towards a final release that also requires documentation. I can't provide a timeline as there's much to do right now, but ensure we will have it all done soon.. Hey @sulco! Thank you so much for taking this task on! Unfortunately it's a little big of bad timing with our switch to the @angular/fire package. How about we wait until that lands and then we refactor this to use the new package name? Does that sound like a plan?. @Chan4077 We will do a final release of 5.0.0 for the angularfire2 package. However, we will mark it as deprecated and move folks over to @angular/fire. Do you have any other ideas to help ease the move?. @Chan4077 That's a fantastic idea. Hi @euberdeveloper! We intentionally want these methods to return promises as they are mutations, not streams. Streams should be observables, mutations should be eager. If we changed it to an observable the following code would not work:\nts\nsignup(email: string, password: string): Observable<User> {\n    this.afAuth.auth.createUserWithEmailAndPassword(email, password);\n}\nYou would to call subscribe just to log the user in, which not practical or intuitive.\nts\nsignup(email: string, password: string): Observable<User> {\n    this.afAuth.auth.createUserWithEmailAndPassword(email, password).subscribe();\n}\nTo listen to authentication state we provide those observables:\nts\nngOnInit() {\n  this.afAuth.authState.pipe(filter(user => user !== null)).subscribe(user => { });\n}. Hi @jonathan-chin! Please raise this JS SDK repo, so the right team can answer the question. I just wrap the API so I can't provide much help.. Hey @Tolitech! Like our docs state, we unfortunately cannot integrate with the Angular Service Worker. Is there a requirement for having it in a sub-directory? If you need it there you register it in the sub-directory and then call messaging.useServiceWorker(registration);.\n```js\nnavigator.serviceWorker.register('./example/sw.js')\n.then((registration) => {\n  messaging.useServiceWorker(registration);\n// Request permission and get token.....\n});\n```\nSee this Stackoverflow Post for more info.. @gonzad77 Please follow the issue template so we can help you better.\nCalling .delete() return a promise, so you don't need to wrap it. You can simplify your code and avoid your bug all together like below:\n```ts\nconstructor(\n    public afs: AngularFirestore\n  ){}\ndeletePerson(personKey){\n  return this.afs.collection('/people').doc(personKey).delete();\n} \n``\n. @gonzad77 @djabif Can either of you create a stackblitz recreating this problem? That will make debugging so much easier.. Please follow the issue template so we can help you properly.. Hi @asgarli! You should avoid importing from'firebase'` directly as it loads each feature. Use the sub-package import:\nts\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nThis will greatly decrease the amount of JS included in your app. And if you want to get clever use a dynamic import to lazy load auth for only when needed: import('firebase/auth').. Hi @mazlano27! Can you show your imports in your app module?. Hey @markgoho!\nYou can do that, but I'm not certain it's a good idea. The ngsw is not meant to work with other SW libraries and it also works differently than your typical Service Worker. Trying to munge the two together could result in unpredictable results and that's not really good with something as powerful as a Service Worker.\nBefore we could recommend it we would need to see if it is a good idea, and at my early research suggests that it is not.\nThe long term solution is to have the ngsw use Firebase Messaging for push notifications. This is something I've spoken with the Angular team about and they are supportive of doing it. \nIn the meantime I recommend using Workboxjs with Firebase Messaging. It's really easy and it's a proven path.. @ashishpatelcs It is easier to review one PR of small changes and it also will kick off only one CI process instead of 5. If I suggest changes in multiple PRs it will then have to kick off each CI process when you address the changes. When one PR gets merged we'll have to update the next branch and wait for the CI process again to finish. That process repeats with every merge. It's rather time consuming and isn't necessary for small typo fixes.\nYou can create a fork with the UI and fix the files within that fork. Then create a PR with the UI as well.. @cresjie Can you try using the new @angular/fire package? Most of those bugs have been fixed and there is only one breaking change around document snapshots.\n@dramentol We had to drop 5 support to support the new Rx pipe-able operators. . @dramentol He would have to upgrade to Angular 5 as well. Angular is at 7.0 with Ivy coming quickly as well. 5-> 6 is mostly changing Rx operators to use .pipe().. @dramentol Ah that is tricky. Is Ionic 4 ready yet?. @dramentol That's possible, but it will be a bit of dependency mess when you try to install and build.. @jamesdaniels I think we need a way to strip out the dynamic import for UMD builds.. Hey @markgoho! Is the Build Optimizer still in beta? Last time I checked there were all kinds of weird issues when using it with non-core libraries.. @RavenColEvol That indicates that there's a syntax error in your package.json. Try running it through a linter to see where the problem lies.. Hey @ionic4themes! The update to the latest version of AngularFire shouldn't be too much of a change. It's a different API but it isn't much of a change. We plan on dropping on the deprecated database in the near future since it has been deprecated for over a year now. Ionic 4 is also landing with Angular 7 support. I recommend making the jump to the new version, but please reach out to us if you run into any problems.. Hi @BharatT07b! I think you have the wrong repo since we do not maintain the Http library.. Hey @ChristofferSkog21st!\nThe Firebase App is never initialized since you're using the regular SDK before you ever use AngularFire. This is a quirk, but we don't initialize the default App until you inject / use AngularFire due to problems with Zone.js. Refactor your guard to use AngularFireAuth and I strongly recommend using the observable authState rather than check the synchronous value of currentUser. \nWorking blitz: https://stackblitz.com/edit/angular-dybvss?file=src/app/auth.guard.ts\n```ts\nimport { Injectable } from '@angular/core';\nimport { CanActivate, CanActivateChild, CanLoad } from '@angular/router';\nimport * as firebase from 'firebase/app';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate, CanActivateChild, CanLoad {\n/* @ignore /\n  constructor(private afAuth: AngularFireAuth) {\n    // just to show the app exists\n    console.log(firebase.apps);\n  }\ncanLoad(): Observable {\n    return this.performCheck();\n  }\ncanActivate(): Observable {\n    return this.performCheck();\n  }\ncanActivateChild(): Observable {\n    return this.performCheck();\n  }\nprivate performCheck() {\n    return this.afAuth.authState.pipe(map(u => !!u));\n  }\n}\n```\n. Most metadata fields can change based on scope, so we should only type the basics and leave the rest to the cachedUserProfile object.\n. We should support it because the Firebase SDK does. The Firebase SDK coerces the number to a string for .child().\nBelow is totally valid\nts\nconst ref = new Firebase('<my-firebase-db');\nconst zeroChild = ref.child(0);\nzeroChild.remove();\nUpdate:\nInterestingly enough though, the typings for the Firebase db don't allow .child() to take a number. The should though, as the base SDK supports it.\n. While this is true, the typings don't reflect that so I have to wrap it for the time being. I'll see if I can get typings updated so we can simply return from the method.\n. Not sure what's going on, but my newlines are being ignored.\n. Clean up utils folder and move database related items to the database folder.\n. Fixed :)\n. \ud83d\ude0d\n. Needs to be 2.0 plz.\n. js\nimport { Subscription } from 'rxjs/Subscription';\n. Lets go with\njs\nAngularFireModule.initializeApp(firebaseConfig)\n. Dangling comma\n. OMG THAT SPACE\n. I can make sure the changelog says the right thing.\n. xit\n. That should be gone. Needed it for debugging.\n. Can you add that this is just a temporary workaround for the Angular CLI?\n. > (you already got above)\nRemove that part as it's a bit redundant. \n. Firebase requires 2.0+.\n. Instead of .14, can we use .xx here?\n. Great point!\n. The borke is purposeful :)\n. @yashmurty Those are out of date. We are waiting for TypeDoc to support TypeScript 2.0.\n. Each one of these methods should have backticks around them, such as orderByChild, orderByKey, etc.... Capitalize each sentence and use a period at the end.. Anywhere you mention the database, make sure to use the term \"Firebase Database\" rather than just Firebase. The database is one of 14 features of Firebase, so it's good to be specific.. Avoid using the word \"response\", as there is no HTTP Request/Response mechanism going on. \nSuggestion for limitToFirst: \"Sets the maximum number of items to return from the beginning of the ordered list of results.\". Suggestion for limitToLast: \"Sets the maximum number of items to return from the end of the ordered list of results.\". Suggestion for startAt: \"Return items greater than or equal to the specified key or value, depending on the order-by method chosen.\". Suggestion for endAt: \"Return items less than or equal to the specified key or value, depending on the order-by method chosen.\". Remove this option as it's only valid for the REST API.. Format this line to the following:\nts\nObject.defineProperty(unwrapped, '$key', {\n  value: snapshot.ref.key,\n  enumerable: false\n});. The observable subscription shouldn't be needed here. Can you remove it and just use the inner code?. Sorry, my brain was malfunctioning. I looked at this too early in the morning. I forgot that there's a FirebaseObjectObservable variable in the outer scope. All is good!. Single quotes over double quotes.. Lets cut this for the take of brevity.. Suggestion: \"Ensure that your mobile phone is connected to your computer, you've executed the following command, and your app is now running on your device.\". Suggestion: \"and type: chrome://inspect.\". Suggestion: \"your computer's connected devices.\". Remove accidental double space.. Suggestion: \"You can interact with your application and see your console window.\". Capital F: \"Firebase\". Typo: Authetnication -> Authentication.. Suggestion: \"In the Firebase console under the Authentication section, go to where you enable Facebook as a Sign-In provider. The App ID and App Secret are correctly copied from your Facebook App found here...\". Typo: \"firbease -> Firebase\". Backticks: _OAuth and URI_.. Remove \"page\" to be concise.. Suggestion:  \"Copy this URL and go to the Facebook App Dashboard. Then under Product --> Facebook Login --> Settings, pase the copied URI to Valid OAuth redirect URIs. Click Save Changes.\". @cartant I'm not so sure, it is an observable of user. But I guess that confusion could be that it can be null, and the null value is useful itself. That makesauthStatemore suitable. @jsayol mentioned using just.state(). Thoughts?. It unfortunately can't. TypeScript throws a fit becauseOpaqueTokenis used underneath the hood. . Remove this whitespace \ud83d\udc4d . Fix this link, it 404s..AngularFireDatabaseis a service,AngularFireDatabaseModuleis the containing module.. s/module/service. s/module/service. s/module/service. I think we should to this new docs section instead of providing our own instruction: https://firebase.google.com/docs/auth/web/cordova. This section needs to be tailored to follow this guide: https://firebase.google.com/docs/auth/web/cordova. s/module/service. Drop the$. Make a comment here about how this import is important because it doesn't pull in the entire SDK whereasimport * as firebase from 'firebase';` will.. Drop the $. SGTM. Add a comment for each line saying what it adds in terms of Firebase, just so we can help those that hastily copy and paste.\nts\nAngularFireModule.initializeApp(firebaseConfig, 'my-app-name'), // imports firebase/app needed for everything\nAngularFireDatabaseModule, // imports firebase/database, only needed for database features\nAngularFireAuthModule, // imports firebase/auth, only needed for auth features. Yes we'll definitely address this in the auth section of the docs.. I'd prefer \"initialize Firebase Hosting\".. No comma required here.. Yep! Totally on the //TODO:  FIX THIS list. Wanted to get the POC up and running first.. Comments are always welcome :). Yep! This is really for operations that happen with disconnected connections or when data exists in the cache. They can sometimes happen synchronously, which is an unfortunate quirk of the SDK.. Nest these subscriptions to test that one happens after another. I did this locally:\nts\nit('should handle multiple subscriptions', async (done) => {\n      const ITEMS = 4;\n      const { randomCollectionName, ref, stocks, names } = await collectionHarness(afs, ITEMS);\n      const obs = stocks.valueChanges();\n      const sub1 = obs.subscribe(values1 => {\n        const sub2 = obs.subscribe(values2 => {\n          expect(values1.length).toEqual(values2.length);\n          deleteThemAll(names, ref).then(done).catch(done.fail);\n        });\n      });\n    });. We need the .share() operator further down in fromRef.ts. That way each observable method benefits from a \"shared\" source.\nts\nexport function fromRef<R>(ref: firebase.firestore.DocumentReference | firebase.firestore.Query) {\n  return _fromRef<typeof ref, R>(ref).share();\n}. It would be good to test multiple events: ['added', 'modified']. That way we can make sure we're not breaking anything with removing the .filter() in sortedChanges(). Ideally you would write a test that limits to two events and tests the proper emission of each event.. I think we need .share() since .shareReplay() caches the data.. Pinging @sphippen!. Running and percentage are good. I can say that this.success = state.map(s => s === firebase.storage.TaskState.SUCCESS); does not fire. The bug may still persist. Let's get Spencer's opinion on how to handle.. Good call. I'll check that and add tests.. Since this is a file upload upload, I'd like to keep from uploading it again. If a user subscribes multiple times it be ideal to replay the state rather than upload the file again.. @sphippen Your code sample works, the problem we are having is that the progress callback never fires for the enum firebase.storage.TaskState.SUCCESS.\nts\nvar task = ref.put(getFiles()[0]); \ntask.on('state_changed', (snap) => { \n  if(snap.state === firebase.storage.TaskState.SUCCESS) {\n     console.log('SUCCESS!');\n  } \n}, () => { console.log('error'); }, () => { console.log('done'); });\nLet us know if this is correct behavior to expect.. Thanks for the catch!. I'm not a fan of removing theAngularFireModule in place of making people do their own providers. I also like having the FirebaseApp as an injectable.. Seeing this in action, I feel like it increases the \"getting started\" complexity. We should continue to mirror the Firebase API rather.. I would still like for us to provide the FirebaseApp token for DI. It does conflict with the SDK but this would be a breaking change to remove it.. Make sure to use pipeable operators.. Use import { from } from 'rxjs/observable/from';. It also works with promises. Then use the rxjs/operators specifier to import the pipeable operators.\n```ts\nimport { from } from 'rxjs/observable/from';\nimport { map } from 'rxjs/operators';\nfrom(promise).pipe(\n  map(() => {})\n);\n```\n. Nit. Bring the constructor above the method above.. You can now just do\nimport { Observable } from 'rxjs';. Sad, but necessary. \ud83d\ude22. nit: Just use normal spacing instead of trying to align the operators.. nit: Use normal spacing like mentioned above.. nit: Use normal spacing. Use capitalization instead of uppercase for the word \"step\". I find that when something is placed in uppercase by itself too many times it can come off a bit aggressive.. Drop the numbers so it's copy and paste-able.. Instead of sub numbering the steps just place the action in bold.\nSetup Firebase to the Angular Project. Link formatting is broken here. Nitpick: Small typo \"To set up in an Android app, go to...\". Nitpick: Spacing around parens and capitalization of proper nouns.\n(Steps from Firebase documentation). Nitpick: typo\nsetup by their instruction. Use bold, capitalize \"add\", and backticks for config.xml\nAdd this to config.xml at root level of project*. Make sure your..**. Nitpick: capitalize \"add\". Nitpick: backticks for login.service.ts. The code formatting is off in this sample. Try pasting it into an editor to clean it up for you and then paste it back in here.. I really like that you have a common problems section. Try using that title as the header:\nCommon problems. Try: \"If you received an error like this during a build\". Use a three backtick code block here:\nUnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'manifest' of undefined. Try: \"Use this fix from...\". \"realtime\" over \"real-time\" this goes way back to the early Firebase days.. mega nit: AngularFire. I think we need more context around 'YOUR_APP_NAME. Something comment like \"This is the same as the folder name...\".. SGTM!. Maybe something like this for future proofing? Not a huge deal but it could help.\nsuggestion\n  valueChanges({ idField: string }: ValueChangeOptions?): Observable<T[]> {. ",
    "rockwotj": "I see that auth exists and works, and you say that the redirect will have to be handled in the app, is there an example of this? I would like to be able to use @CanActivate, but I'm not sure how to, as you need to use DI to access any of the auth stuff. Would I have to use something like @OnActivate to do the redirect and have access to the auth service? I think that would be less than ideal.\n. Duplicate issue. Will be fixed in next release, see 286\n. ",
    "TylerEich": "What's the advantage of using a @FirebaseList or @FirebaseObject decorator over a service e.g. new Firebase( pathAndOptions ) or getFirebase( pathAndOptions )?\nI noticed that Falcor makes extensive use of Observables, but not by subclassing. They use a Model constructor with methods (getValue, setValue) that return Observables.\nFinally, I'm really excited to see things starting to take shape for Firebase and Angular 2. Looking forward to the future of this project :sunglasses: \n. Some of the discussion about FirebaseListObservable has bled into discussions of FirebaseObjectObservable #95\n. I've never actually implemented Firebase's login, please forgive my naivety!\nThe auth service seems to be inherently stateful, and the internal details of providers, credentials, and tokens are nearly constant through the entire life of the app.\nCould we possibly have a separate means of providing options (like custom OAuth tokens, passwords/emails, etc.) with some kind of setOptions() method? In a well designed app, those details should be in a single component/service that manages the user's session.\nI'm assuming the .login() or .auth() methods are used for e.g. @CanActivate and other conditional behavior. The methods should be as simple as possible; keep the options separate, since they'll rarely change.\nPlease correct anything I've got backwards!\n. @jteplitz602 @jeffbcross yeah, I like that design better. Keeps the API clean and centralized \ud83d\ude0e\ud83d\udc4d\n. Maybe something like af.listen( path[, eventArray ] ), e.g. af.listen( '/questions' ) will listen for all events, af.listen( '/questions', [ 'value', 'child_added' ] ) only listens for the value and child_added events.\n. Maybe something like af.listen( path[, eventArray ] ), e.g. af.listen( '/questions' ) will listen for all events, af.listen( '/questions', [ 'value', 'child_added' ] ) only listens for the value and child_added events.\n. In my opinion, the FirebaseListObservable should have one responsibility: taking the raw object from value events, distilling them into arrays, and emitting the result to subscribers. I don't think the ability to listen to events belongs in FirebaseListObservable. The same applies for FirebaseObjectObservable.\nSimilarly, I don't think there should be an event object parameter for .list(). Listening for specific events should be wholly separate from the .list() or .object() methods.\n+1 for ChildEventObservable.\nI'm still in favor of a ref.listen() method. I think it ought to return a ChildEventObservable.\nBenefits of this approach:\n- If a person just wants a simple array that stays synced with Firebase, ref.list() is all they need. For an object, it's ref.object(). Super simple, fits well into unidirectional data flow.\n- If a person wants more granular control, they can execute ref.listen('path', ['events', 'to', 'listen', 'to']). They can use Rx reducers to execute their own logic.\n- FirebaseListObservable and FirebaseObjectObservable are nothing but shortcuts for ref.listen('path', ['value']).map(doTheArrayThing) and ref.listen('path', ['value']).map(doTheObjectThing) respectively, plus some convenience methods like .add() and .remove()\nTL;DR Keep the event management separate from the convenience methods for arrays and objects.\n. @shlomiassaf +1 for subscrube(...) \ud83d\ude1c\nBut in all seriousness, I still think it would be better to keep the event propagation and synced list stuff separated\n. Agreed. An Rx API would be nice to have built in\n. I agree with @alexjoverm. I've been scratching my head looking for ways to integrate AngularFire2 and redux architecture. I realize there are ways to do this using the Firebase 3.0 SDK directly, but I love the way AngularFire2 automatically Observable-ifies the events and makes it easier to use arrays in the database.\n. I think the save() method should be set() instead.\n. @davideast ~~what does update() do?~~ I like update(), consistent with Firebase SDK.\nI think FirebaseListObservable should subclass FirebaseObjectObservable, since Firebase is just wrapping the Object in an Array-like taco shell. Haven't thought too hard about it tho.\npush() would be better than AF1's $add() method, and keeps it closer to the SDK.\nAnother order of business: should we include methods like $keyFor() or $recordAt? An Observable that emits Array (AF2) is fundamentally different from an array-like synced object (AF1). Instead of $recordAt, we could have regular old property access like array[index], and $keyAt() is just another way of saying indexOf().\nIs there a need to carry these AF1 $firebaseArray methods over and add them to the FirebaseListObservable class, or can should people get what they need from the actual Object/Array emitted from the Observable?\nLove the type alias by the way \ud83d\ude0e\ud83d\udc4d\n. Can you share more code? Maybe a Plunk that demonstrates the problem?\n. Your Plunk's main.ts file doesn't give any providers to the bootstrap() function. You need something like FIREBASE_PROVIDERS and defaultFirebase('https://<your-firebase>.firebaseio.com'). Is that something you left out of the Plunk on purpose?\nhttps://github.com/angular/angularfire2#7-bootstrap\n. No worries! Feedback helps a lot during alpha, even if it only makes the docs and errors better \ud83d\ude0e\ud83d\udc4d\n. What if a non-typescript user passes 0 as a key? Do we want this method to allow vanilla JavaScript type coercion from a Number to a String, so people can remove items with key \"0\" by passing a number 0 as a key? And if we don't, do all the other methods reflect this decision?\n. ",
    "benlesh": "\nI wanted a succinct, flat-as-possible API. And @blesh, maintainer of RxJS 5, has officially told me that he approves of subclassing Observable in this way.\n\nJust remember that 50% of the reason Observable is a class is so you can put operators on it. The meat of it is really just a function. The other 50% of the reason is so you can derive Subject from Observable.\nWhat I wouldn't do: Subclass Observable and start building a highly stateful type out of it with a bunch of methods that affect that state. If you're doing that, you might want to subclass Subject, depending on what your goals are.\nFor example:\n``` TypeScript\ninterface FireNotification {\n  type: string,\n  data: T\n}\nclass FireSubject extends Subject> { \n  next: (notification: FireNotification) => void;\n  error: (err: any) => void;\n  complete: () => void;\nsubscribe(observerOrNext?: (notification: FireNotification) => void | Observer>,\n    error?: (err: any) => void,\n    complete?: () => void): Subscription;\n}\n```\nThis would enable you to send like { type: 'delete', data: someRecord } or recieve { type: 'update', data: { whatever: 'here' } }. And do so in a composable way.\n. @robwormald this is off-topic, but sort of feel like switch statements in reducers are an anti-pattern. I'd rather see a stream of actions be scanned into state. I'm sure this has been thought of by @gaearon, but just to put in out there:\nsome pseudocode:\n``` TypeScript\n// assume all Action types below implement this:\ninterface Action {\n  act (state: S): S\n}\nconst updates = updateButtonClicks.map((id) => new UpdateAction(id, getUpdatesFromForm()));\nconst deletes = deleteButtonClicks.map((id) => new DeleteAction(id));\nconst actions = Observable.merge(updates, deletes);\nconst states = actions.scan((state, action) => action.act(state), initialState);\n```\n(obviously the \"classness\" of UpdateAction and DeleteAction are totally optional)\n. ... after that, it becomes a matter of adding Action types by convention, rather than updating a switch statement, which is more \"configuration\" than \"convention\".\n. :) I wasn't at all concerned with boilerplate and I'm not married to classes, either. \nReplay-ability is an interesting concern, and I see what you mean. Seems like there should be a solution that caters both to replay an maintainability, as a switch statement could get out of hand and large very quickly on some large apps. Perhaps the plain object could be used to look up particular reducer function by convention?\n. Either way, I'm horribly off-topic for this thread. :)\n. I'll take this off-line.\n. (meta: @gaearon showed me what he means and he's right) (but I still like a more functional approach than switch statements I think) (maybe) (I dunno)\n. TIL: I have a place.\n. What is a FirebaseListFactory? An Observable?\n. FirstbaseListObservableFactory then? Because FirebaseListFactory just makes me think it's giving me an Array or some sort of static collection.\n. This is totally doable, if a bit advanced to develop. This is basically what I did with multiplexing a websocket. (sort of).\nAnyhow, I'd have the FirebaseListObservable have some sort of expression property on it that was an Expression Tree that you could build by calling these methods.\nYou could then serialize the expression tree to whatever Firebase is expecting and send it along on Subscription.\n. @davideast you'd need to create a custom Observable that overrides lift to return it's own type.\nSomething like: \nts\nclass FirebaseListObservable<T> extends Observable<T> {\n   /* stuff here */\n  lift<R>(operator: Operator<T, R>): FirebaseListObservable<R> {\n    const observable = new FirebaseListObservable<R>();\n    observable.source = this;\n    observable.operator = operator;\n    return observable;\n  }\n}\nThis is because lift is used in every operator to create the operation/effect. Take map for example\n. Another thing to do is question whether or not is that you want a custom Observable type, or you want a class that has an observable as a property on it. It really depends on the ergonomics you're aiming for.\n. Some of the examples above have unnecessary Subjects created... for example:\nts\nconstructor(db: AngularFireDatabase) {\n    const size$ = new Subject().startWith('large');\n    size$.mergeMap(size => {\n      return this.db.list('todos', ref => \n        ref.orderByChild('size').equalTo('large'))\n        .valueChanges(['child_added', 'child_changed']);\n    });\n}\nsize$ could just be const size$ = Observable.of('large')\n. You don't need to share this, since you're closing over the task, the task is effectively a Subject, since it multicasts anyhow. \n. Given that fromTask(task) is going to return a multicast observable by default (since it doesn't create the task, rather, it wraps it), you probably don't need the shareReplay unless you're trying to get a caching behavior. What is the use case where you will need that caching behavior? To be specific, you're talking about a scenario where the fromTask observable completes, but you want to subscribe to it later and get the value(s) out of it.. You should just return a function here. Also you're going to want to retain the handler you added above with task.on('state_changed', handler) so you can remove it (presumably with off) otherwise you could end up with memory leaks.. You might want to let your users compose that in. Otherwise, if they want to remove caching, they might have a hard time. (A take(1) should do it) But you'll be taking away from them a primitive building block. \nA use case might help me understand though.. ",
    "robwormald": "@blesh's idea is roughly how I've implemented redux-in-rx-for-ng2 and it works pretty well so far. \nin effect, its basically something like:\n``` typescript\nactions$.scan(firebaseReducer, []).subscribe(arr => { ... });\n```\nwhere actions$ is a stream of events like { type: 'update', payload: data }\nand firebaseReducer is a function that looks something like below and is responsible for keeping the internal array in sync with the remote\n``` typescript\nconst firebaseReducer = (list = [], action) => {\n  switch(action.type){\n    case 'update':\n      return list.map(item => item.id === action.payload.id ? Object.assign({}, item, action.payload) : item);\n    case 'delete':\n      return list.filter(item => item.id !== action.payload.id);\n    //etc\n    default:\n      return list;\n  }\n}\n```\nThis is wrapped up into a Store (which is roughly what I think a FirebaseRef would become):\ntypescript\nclass FirebaseRef {\n  constructor(url: string);\n  next(action): void;\n}\nwhich I reckon for ease of use might be extended as (where push() just proxies to next() and appropriately wraps in an Action)\ntypescript\nclass FirebaseRef {\n  constructor(url: string);\n  next(action): void;\n  push(data):void;\n  delete(data):void;\n  //etc\n}\n. LGTM\n. lgtm\n. @jeffbcross yeah i think that API would be fine. i think it would be fine to leave the downstream consumer to deal with filtering out events. \n. and i like @TylerEich's API if it doesn't add too much complexity. \n. @kylecordes such a thing already exists in the regular Firebase SDK, but doesn't mesh with the Observable implementation, hence the issue. \n. definitely worth considering the ergonomics here - @Inject(FirebaseRef) ref:Firebase vs ref:Firebase vs ref:FirebaseRef\n. can you use the non-sideeffecty version instead? \n. ditto here - import {merge} from 'rxjs/operator/merge' , merge.call()\n. ",
    "gaearon": "We use plain object actions in Redux so they are easy to record, serialize, and replay. Classes kill that because nobody will bother to implement deserialize() or something like this. More on Redux \u201cboilerplate\u201d design decisions and how they are driven by use cases we care about: http://redux.js.org/docs/recipes/ReducingBoilerplate.html\n\nActions are plain objects describing what happened in the app, and serve as the sole way to describe an intention to mutate the data. It\u2019s important that actions being objects you have to dispatch is not boilerplate, but one of the fundamental design choices of Redux.\nThere are frameworks claiming to be similar to Flux, but without a concept of action objects. In terms of being predictable, this is a step backwards from Flux or Redux. If there are no serializable plain object actions, it is impossible to record and replay user sessions, or to implement hot reloading with time travel. If you\u2019d rather modify data directly, you don\u2019t need Redux.\n. Sorry for hijacking the thread, this is my last comment here :-)\nas a switch statement could get out of hand and large very quickly on some large apps\n\nThis is not true in my experience. You're not actually supposed to write a single reducer function that manages your whole app. You split it into many reducer functions that manage parts of the app's state. Effectively most reducers manage about 5 different actions, and they are composed into other reducers, and so on, up to the root reducer. A giant switch is an anti-pattern, just like a giant component. You're supposed to split them.\n. ",
    "katowulf": "@FirebaseList({\n  path: 'https://<FIREBASE>/posts',\n  query: [['orderByChild', 'timestamp'], ['limitToFirst', 2]]\n})\nNote that this removes a lot of the flexibility of the current AngularFire design, which allows it to work with complimentary tools like Scroll, NormalizedCollection, MockFirebase, and others. The purpose of these libs is unclear in the future of Firebase, but the point is that such things will exist, and they plug instantly into AngularFire's current design.\nIt's probably fine to extend FirebaseList in some manner to add in these items, but worth keeping in mind the difficulty incurred vs the benefits of passing a string and query parameters instead of just a Firebase ref.\nOne idea to ponder would be allowing both. E.g. pass either String path or Firebase ref.\n. Also not a solution, but this is probably key to writing good unit tests with async/realtime tools like Firebase. Haven't pondered how rx changes this equation yet; it probably makes mocking the results from AngularFire much, much easier.\nhttps://gist.github.com/katowulf/3e6ec8b109d76e63d7ac4046bf09ef77. This might be simpler if add values before \"initial load\" are treated the same as one after \"initial load\". To state this inversely, there is probably no reason for those two states to behave differently, and then there would be exactly one way to populate values into the array.\nYou can simply call the on('child-added'...) and have it push things to the array, and call once('value',...) after this. Now when once('value',...) is triggered, you know the \"initial\" data is all present (see event guarantees). At this point, you can trigger whatever code will cause the change detection to occur (such as fulfilling the promise perhaps?).\nEven slightly more elegant, in my opinion, is abandoning the idea of initial load. It really is no different than any other time during the operation of the page (it's just a big influx of added events), so treat it the same and use a debounce to trigger the change detection event, so that UI renders are batched nicely.\nI'd be a little more explicit, but I can't tell in the above how change detection is triggered or what effect pushing things into the array might be having behind the scenes (I assume pushing to the array is what triggers the multiple arrays being returned).\n. There's little value of creating a library that provides exactly the same functionality as an existing SDK. Instead, this library focuses on components needed to use Angular and Firebase together effectively: removing boilerplate, handling nuanced complexities like converting real-time data streams into Observables, and providing some common functionality for the Auth process.\nAs with any library, balance, focus, and tradeoffs are necessary. We can't support every use case, edge case, or need. Where possible, we'll avoid duplicating functionality that already exists in the SDK, and focus on providing value by providing more Angular-centric tools, such as observable collections and objects.\nLocking this thread as continued discussion of long-past design decisions will be counter productive. Having said this, as with any library, there's always room for improvement. \nPlease feel free to file specific feature requests for specific needs, being sure to note where this library can add value over existing SDK methods rather than simply replicating them.. It's the same conclusion David, Jacob, and I came to for AngularFire. Primitive values were stored in a $value attribute and we assume all values are objects. This makes extending them, adding toJSON() methods, and other things much more simpler in the long run (no guessing the type), so it ends up being fairly flexible, although what happens to primitives isn't immediately intuitive to new devs.\n. Honestly, I've been looking forward to ES6 and TypeScript, because I wanted to go ahead and class all the records stored in collections and just keep the data under a property (e.g. $value or getValue()) anyway, as this would have made dev and usage simpler and more robust.\n. FYI - all methods in FirebaseObjectObservable and FirebaseListObservable are documented in api-reference.md. Looks like $ref and possibly a couple of others are needed in the guide docs here and here.\nLooks like Authentication could also use some additions. Are we aware of any other outstanding classes that need to get documented?\n. @mukesh51 want to take a look at this one?\n. I think that with Mukesh's changes, we have now added docs for all public APIs.\n. @alteredorange that question is outside the scope of documenting public APIs. Please don't hijack unrelated threads. Feel free to ping me with a link to a more appropriate forum; happy to discuss 3-way data binding and why it won't be a part of AngularFire2.\n. @KLiFF2606 a new issue with a repro please.. I wonder what happens in the case that the redirect back from auth has failed or been canceled by the user? I'm assuming the null auth event is the only event triggered in those cases. So it might still need to be triggered? I can't quite remember how all of this works with redirect. I'll ping someone for more details.\n. The Firebase web SDK isn't going to work server-side. However, the node.js installation should. \n\nyou can abstract out your service that references Firebase so it is not used at all on the server side.\n\nDepending on the use case, which I don't really understand, if the SDK is already abstracted, one could just use the Firebase REST API to make static calls. Alternately, simply initializing the node version with a service account on the server would allow the same real-time calls to be used in both.\n. I'm having trouble coming up with benefits of adding transactions into AngularFire2. All the reasons I might use transactions are already covered by the SDK and I don't see any pain points we can solve here. It feels like a straight wrapper on the methods. Can you guys push out some use cases on why one wouldn't go straight to the SDK for this?\n. Docs on transactions are here: https://firebase.google.com/docs/database/web/save-data#save_data_as_transactions. What problem? That looks exactly like the placeholder for a TIMESTAMP, which we send to the server.\n. Hi Folks, there are no ballparks or public release dates we can share. Sorry. . Do the same tests work if run directly in the browser? If so, I'd suspect an issue with headless browsers (i.e. PhantomJS) or other sandboxing caused by the automated tools. Using chrome seems to resolve these cases.\n. I feel like this may be the wrong approach. Since credentials expire within hours now, they will generally be stale if stored, and this approach will likely encourage devs to incorrectly try and use those creds before authentication is initialized or as a static, one-time fetch (en lieu of calling onAuth() to monitor for auth state changes and handle these gracefully).\nHandling auth at the routing level still seems like the most elegant solution.\n. Hi Folks. This is an issue with the Firebase SDK and how it handles location. It's also, to some extent, a limitation as browsers sandbox local (i.e. file://) resources. Thus, handling Ionic's implementation would require an Ionic-specific SDK, or at lest some sort of adapter specifically to address this.\nSo, long story short: It's complicated and it's not in AngularFire's purview to solve this. With that in mind, I'm locking this thread to prevent further \"is this fixed yet\" questions.\nFor quick reference, here are the key discussions from this thread and possible solutions:\n@olostan correctly suggests that some of the auth problems can by bypassed by using nraboy/ng2-cordova-auth and then calling signInWithCredential() as shown in this example.\n@jlzuarezs correctly points out that one can bypass some of the redirect issues and auth methods by calling the OAuth methods directly as described here\n@aaronksaunders suggests aaronksaunders/basicaf2\n@harpreet2602 suggests rodrigoreal/ionic2-angularfire-login\n. Forgot a couple potentially useful notes:\n1) I used @angular/core@2.0.0-rc.2 because rc.1 won't run with quickstart or router guides\n2) I'm not using the Angular CLI\n. This is not an AngularFire specific issue. You must enable domains in your admin console, you must use the domains that are authorized there. Reports of \"same problem\" here aren't helpful and don't provide any further indication of why this might be the purview of AngularFire. \nIf you can trace this back with an effective, minimal repo to an issue with AngularFire, then please submit a new issue with a detailed repro.. Since this is an issue with the Firebase Authentication SDK, and not related to the AngularFire2 project, the best workaround will continue to be using native auth methods and redirect, as @ciekawy and @gauravk92 have illustrated.\n. @ravivit9 that error has nothing to do with this thread or AngularFire. Please submit via Stack Overflow, Groups, our on the geofire OSS repo's issue tracker. Note also that you've replied to a closed issue and haven't utilized the issue template, so we wouldn't be able to help here anyway.. Please submit your own issue and cite a link to this one if you think they are similar. We won't respond to issues tacked on to the end of closed discussions.. To be technically correct, the old behavior was to ignore any properties that begin with $ or _.  Other invalid keys (for example, a key containing a #, ., $, et al) would still throw an error.\n. @sourabhk0510 please create a new issue rather than responding to a closed one and follow the issue template (we can't help without sufficient info to verify and repro the problem)\n. Reopening so we can review the docs and see if there's an appropriate fix here.. @mangopop please create your own issue. This one is resolved and for a separate topic. Be sure to follow the issue template.\n. @hopeeen Great question. Please submit your own issue rather than diluting tangentially related topics. I'd be happy to answer this, but not here.\n. The optional second parameter is a legacy feature. AngularFire2 won't be supporting priorities and you can achieve better behavior through orderByChild() and we will encourage this practice going forward.. Once again, the optional second parameter (i.e. a key) is used with orderByPriority(), which is a legacy feature that existed before orderByChild(), orderByKey(), and orderByValue() existed. \nYou should prefer orderByChild() and in in this case you only pass one parameter into startAt, endAt, et al.. Yep, looks like this has been updated since David and I read the spec last. Thanks for your patience in explaining. Wonder if it actually works? : ) [hint: I assume so]\n@davideast may be worth revisiting this decision.. import * as firebase from 'firebase'; should get you access. It's a bit\ntemperamental if you upgraded from alpha, so check some of the existing\nissues if you get an error.\nOn Nov 18, 2016 3:02 AM, \"bjornson\" notifications@github.com wrote:\n@davideast https://github.com/davideast Is the pure firebase sdk included\nin angularfire2 and how can I access it within an angular2 .ts file? Im am\nonly getting offered \"AngularFire, FirebaseAuth, FirebaseAuthState\" and the\nobservables. Thanks!\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/374#issuecomment-261505903,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA6l5BkBl3Um9ALefl06dzUUrQwJX-TCks5q_YXPgaJpZM4JQvE-\n.\n. To obtain behavior like once():\nvar sub = this.items.subscribe(snapshots => {\n    console.log(snapshots);\n    sub.unsubscribe();\n});\nOr a bit prettier:\nimport 'rxjs/add/operator/first';\nthis.items.first().subscribe(snapshots => console.log(snapshots));\n. It looks like you're calling AuthState.authenticated() before this.authData is resolved (it's initially going to be null, since verifying your auth creds is not a synchronous operation). You can't think of auth state as a synchronous boolean; you need to treat it more like a promise and it should probably be in the resolve rather than canActivate (unless canActivate will take a promise).\n\u263c, Kato\n. It's not going to be possible to use multiple filter criteria since this isn't supported by the SDK.\nIt seems like it would be a nice addition to make this.query observable instead of this.querySubject.\nFor the original problem, could we not take advantage of the ordering criteria and simply using startAt, changing the setup as follows?\n```\nthis.filteredItems = af.database.list('employees', {\n    query: {\n        orderByChild: 'active',\n        startAt: this.querySubject\n    }\n});\ntoggleShowAll() {\n   this.showAll = !this.showAll;\n   // to include inactives, we \"startAt\" false\n   // to only include actives, we \"startAt\" true\n   this.querySubject.next(this.showAll? false : true);\n}\n```\n. Great idea for recipes. But ideally, you should make initial load fast instead of depending on loading screens : ).  A peeve of mine.\n. Both of the approaches mentioned here can also be applied to fetching a count: http://stackoverflow.com/questions/41947218/firebase-check-if-a-value-exists-without-reading-a-snapshot-or-trying-a-write-f/41947777#41947777\nBut the simplest and most efficient answer is still to store and increment the count when adding new records.. And how exactly would that work? Would you first synchronize an object or list, and then call .transaction on it? I don't think you've really thought this through.\nThe differences here are purely semantics:\n```\n// works now\nfirebase.database().ref(...).transaction(...);\nangularFire.$ref.child(...).transaction(...)\n// what you're asking for\nangularFire.object(...).transaction(...)\n// or maybe this\nangularFire.$transaction( angularFire.$ref(...), ... )\n```\nIn the future, please start your discussions by opening a fresh issues rather than responding to closed ones.. @bogacg please submit your own issue instead of diluting an existing discussion. It's great to link to this issue number if you think they are similar.\n. I solved this in my ng-phx demo by using ngChange. It would be nice to have a cleaner answer, but this works with inputs and gets the job done.\n. I don't think we've made progress on this yet. @davideast @jamesdaniels I think we raised the issue with using async observables in [(ngModel)] with the Angular team some time back, but couldn't find an issue. I wonder if there's a better way to get this done yet.. We will need a minimal repro such as a fiddle or plunkr to be of any help here.\n. @davideast ptal\n. @davideast fyi\n. So a few things here. A) these all pass locally, and B) we're using import { database } from 'firebase'; So firebase.database.Reference and database.Reference should be equilavent here? I'll make the change but I'm pretty sure that linting check is wacked (and inconsistently different in Travis).\n. @davideast all tests should pass now (it's been 30 mins and Travis still hasn't started, you may need to kick it). Please review. We may need to squash something or some such? Got any instructs on that?\n. @davideast what's left here before we can get this merged?\n. @davideast merge conflicts resolved!\n. I wasn't able to reproduce any of these behaviors using the latest master and typescript@next.\n. David and I reviewed this yesterday and ensured I have the latest typescript@next installed and that I'm not \"doing anything [obvious] wrong\". Still can't determine why firebase.database.Reference generates this error in tests (it's used elsewhere in the product with no issue)\n. One quick comment about the content of the commit, otherwise lgtm.\n. Why do you want to check if the current page was redirected from somewhere else? What's the X part of the XY problem?. > Just as a side note, being new to Angular 2 and following tutorials, wondering why you need to take moduleId away, is this a bug needing to be fixed or can't angular fire routines be used in a component where moduleId is needed. Any help on that would be appreciated.\nYep, webpack is a very recent addition to AngularFire2. Just a little bit of cleanup to do here. Gotta love betas! \nAt this point I'm going to close out this compendium of install issues. If any of these are unresolved please file them as their own topic (please search first to avoid dups).\n. Great work @mukesh51 and thanks for the contributions! \n. @richtera looks like the tests are failing, could you ptal and see if you can find a fix?\n. @soolan Let's keep this discussion on topic. Submit your separate errors as a new issue. Thanks!\n. Thanks to everyone for noting these errors. If you're experiencing this error after adding types: ['firebase'] then please do the following:\n- double-check your angular-cli output for any errors (and share them)\n- note all of the following in your comment:\n  - ng -v\n  - node -v\n  - npm list --depth=0\n  - npm list -g | grep angular (or Windows equivalent)\n  - npm list -g | grep typings (or Windows equivalent)\n  - your environment info\n  - the complete contents of your package.json and src/tsconfig.json files\nIf any of those things are not on the latest supported version according to our install guide, stop and upgrade before commenting here.\n. Good stuff!  c[]c[]  @davideast what version of IE do we support? I'm pretty sure 8 (maybe 9) needs a polyfill for this.\n. Perfect. We just need test units then, @meDavid \n. This lgtm! Travis and Katos everywhere agree.\n. A couple comments here to address before I merge. Great work again!\n. @mukesh51 fixing typo (copied from another CL) and adding this change to make this consistent with the auth guide.\n. Hi @mukesh51! Great work! I added a few comments. Please address.\n. Great work! Sorry it took a while to get these reviewed.\n. Please resubmit and follow the issue template.\n. Wouldn't .map() or .mergeMap() be more appropriate here?. @JimTheMan thanks for this! Leaving as-is based on the comments here and in linked PR.\n. Thanks @zalog! \n. Thanks for this!\n. @linuxninja39 please file you own issue rather than repurposing existing (especially closed) issues. Glad to help, but not here.. Closing due to inactivity. Will reopen if you add a runnable such as a jsfiddle.net or a plunkr.co\n. How often does this occur? Every time? 10% of the time? How many attempts did you make and over white time period? Can you upgrade to the latest (currently 3.4.0) and try again? If it's still an issue, we'll probably need a jsfiddle or plunkr that reproduces this to be much help, and it's probably not AngularFire-related.\n. Nice! Well that's a useful note. It's at least a starting point for a fix. What's the minimal code needed to reproduce this? Can it be recreated with vanilla Firebase or only if AngularFire is involved? If we can whittle down the scope just a bit more, I can start looking for a solution.\n. We do love feedback, and appreciate it. But please keep it civil, constructive and on topic.. Can you reproduce the same behavior without AngularFire, by dropping to the Firebase SDK and running auth?. Checked up on this today with the auth team and they pointed out this interesting fix in the 3.6.8 release:\n\nCould someone test this out and verify that it's fixed in 3.6.8 of the Firebase SDK? I think that will resolve many of the reports here.. For the \"does not work\" replies, please open a new issue, with more specific errors/stacks/details and minimal repros, as well as networking logs. To move this forward, we'll need to build a strong case here showing that this is an issue in the SDK and not related to the many other moving parts in an Ionic build.. @hiepxanh \"library was not found\" is by no means the \"same issue\" as \"auth/network-request-failed\". Please submit a new issues.\nFolks, this is a closed issue. Locking this issue to encourage value-add contributions over more \"me too\" and \"does not work replies. Please open a new issue if you think you have done sufficient due diligence to show a bug with this lib, including specific errors/stacks/details and minimal repros with complete and minimal code/versions/sample data required to run them. Always include networking logs for issues like this as well.. @hiepxanh \"library was not found\" is by no means the \"same issue\" as \"auth/network-request-failed\". Please submit a new issues.\nFolks, this is a closed issue. Locking this issue to encourage value-add contributions over more \"me too\" and \"does not work replies. Please open a new issue if you think you have done sufficient due diligence to show a bug with this lib, including specific errors/stacks/details and minimal repros with complete and minimal code/versions/sample data required to run them. Always include networking logs for issues like this as well.. It looks like, based on the API reference, that there is already common info shared across the provides, including uid, displayName, email, and photoURL. It also looks like we're including that pretty much verbatim.\nIf you're not seeing that, please provide a minimal repro demonstrating the bug, so we can verify and fix!\n. Yep, not a lot we can do here until the underlying SDK is fixed. There's currently no way for AngularFire to know when the action is completed either.\n. The best practice here is still to monitor the auth subscription, for the reasons @DennisSmolek already noted. Looks like the SDK is working as expected and we could also return a promise here now.\n. Glad you sorted this. Please use the issue template in the future when submitting questions. There's a lot of great detail here (thanks for that!) but a few key elements missing that would have helped us troubleshoot.\n. This would a) encourage nesting data and b) encourage synchronizing the same data twice (the child list is already present and synchronized in the parent object). We removed child() from AngularFire back in alpha, years ago, to discourage this and it saved developers a great deal of pain. I'm not in favor of adding it back in now.\n. The error is pretty clear: initializeApp() isn't being called before you try to access the auth methods. Try moving AngularFireModule.initializeApp(firebaseConfig) out of the typescript declaration and right into the source of the page, as a starting point. If that doesn't help, I'll leave this to those more knowledgable about the order these things get invoked.\n. Again, this isn't my cup of tea, but my first suspicion was that it had something to do with how the typescript annotations get compiled and run. You can still include it in the script, just not inside the type annotation. Hopefully somebody with some TS chops can comment on why it breaks.\n. This doesn't use the issue template, and is not a potential bug or a feature request, which means it would be best suited for Stack Overflow or one of the other support channels mentioned in the template.\nHint: Check out this thread. Asynchronous methods don't return values.\n. This doesn't use the issue template, and is not a potential bug or a feature request, which means it would be best suited for Stack Overflow or one of the other support channels mentioned in the template.\n. This doesn't follow the issue template. It's important for us to scale support that you provide all the necessary details. Please resubmit using the issue template or move your question to Stack Overflow.\n. Thanks for using the template. I'm guessing that you can't catch those. If you want that behavior changed, it can't be done by AngularFire (nothing here looks AngularFire related so far), and is probably best submitted as a feature request\n. Tried this out and couldn't reproduce. It looks like the 404 is unavoidable, but the second error doesn't ever display. If you disagree here, create a runnable such as a jsfiddle, or plunkr.co and I'll dig in more.\n. Missed one did I? Thanks for the PR!\n. Please provide a complete and minimal repro (the minimal is very important) demonstrating the problem. We won't be much help with something this nuanced unless we can fiddle with the code under the same conditions.\n. Can this be reproduced on the latest version of AngularFire2?\nI don't understand what you're asking for with exception handling. The methods return promises and you use catch to handle errors. Do you need something beyond this?\n. Again, this is returning Firebase.database.ref.push()'s return value, which is a ThenableReference. The link I provided was just an example of using try/catch off of these methods.\n\nFrom what I can tell, this looks like a specific behavior of the SDK when you pass null into the push() method. It returns a reference without a promise; because nothing is going to get saved to the Database; there's no async operation to chain.\n. Keeping this open for discussion. I think we can at least fix the promise chain by wrapping nulls with Promise.resolve() or something similar. \nHowever this sort of just passes the buck (as your promise will resolve to null or an object now, rather than just breaking at the promise level), so it's worth some deliberation before deciding to address it here. I've also submitted this as a bug against the SDK (hopefully we can fix it at the source).\n. I'm not sure if the code is wrong or the description, but your code has .update() and you mentioned \"once push gets invoked\". Undefined should throw an error, btw. If that's not being caught, it may be worth filing a separate issue to address.\n. Closing this in favor of #668 for tracking a fix; a potential workaround is just to wrap the return value in promise.resolve:\nPromise.resolve( this._af.list('items').push(<anything>) ).then(...);\n. Please resubmit using the issue template and include all required details. The more you can help us reproduce, the better here.\n. It's not possible to order by multiple criteria. This is a limitation of the database and outside the scope of AngularFire2 to tackle. QueryBase is indeed the most useful resource for this sort of problem.\n. That makes sense; thanks for clarifying. So the problem, as you've described it, is that you must use two observables and that's too annoying? Or it doesn't work with two?\n. Hi cre8. Please follow the issue template provided. Simple how-to questions are best suited for Stack Overflow or one of the email groups.\n. Hi cre8. Please follow the issue template provided. Simple how-to questions are best suited for Stack Overflow or one of the email groups.\n. Closing because it's a dup and because it does not follow our issue template. In the future, please follow the issue template (which includes a note to search for similar issues).\n. Great work, @fabien0102! Thanks for following the PR template, including tests and docs, and generally being awesome. Hang in there while we find a few parsecs to review this.\n. @jeffbcross @davideast what are your thoughts on this? It looks like we had consensus in #201 that we didn't want to wrap all the native methods. This seems to do exactly that.\nI think what I'd rather see here are some short blurbs added to the docs explaining how to drop to the SDK level for these ops, perhaps with links to some appropriate core Firebase docs, rather than wrappers.\n@fabien0102 my general objection to wrapping the API methods is that it creates a lot of hidden complexity and maintenance, and by extension bugs and rework--a subtlety we became all to familiar with in AngularFire 1.x. Unless we're adding value by wrapping the methods (i.e. taking away some boilerplate and work on the developer's part) this is unnecessary overhead. Since I don't see anything other than a straight wrapping of the core SDK methods, I see no reason to start down this path.\n. Please use the issue template when submitting new entries and be sure to include a realistic and minimal repro of the problem. Feel free to submit again in the correct format.\n. Is this also your post? If so, please respect the community's time by indicating when you cross-post so we aren't duplicating efforts (which we did here). \nYou also didn't obey the issue template and thus there's not enough information here to verify the behavior you've described and thus I'll be closing this.\nAdditionally, see my answer in #582, which looks similar.\n. Hi Julian. Sorry you ran into this snag! It did indeed change.\nThanks for the detailed report and for using the issue template. \ud83d\udd25\ud83d\udd25\ud83d\udd25\n. AngularFire doesn't provide authentication against Facebook, it provides authentication against Firebase, based on verification through Facebook credentials.\nWhat is the problem you're trying to solve here?\n. @jeffbcross did your fix here possibly address this?\n. Hey @tarlepp, some of my rxjs and A2/router newbness is going to show through here, so bear with me. I_think_ this isn't returning a promise, since angularFire.database.list is actually returning an Observable:\nreturn this.angularFire.database.list(...)\nThis document seems to confirm my na\u00efve assessment. And I think the correct answer here is that you'll want to try one of the techniques described there to get a promise.\nHowever, this feels a bit of an XY problem. Generally speaking, the whole idea here is to let AngularFire2 manage the syncing of the data and not worry about state. When you start managing load state, you've generally started trying to force the realtime streaming into a CRUD model, which leads to a lot of complexities like these.\nAs a general rule of responsive web apps, you should get the UI in front of users quickly, rather than waiting for all the data to load before you even trigger the routing rule. The data will load in magically as it is downloaded.\n\u263c, Kato\n. (Again, bear with me, because most of this is new territory and I'm still getting up to speed)\nSpent some time on this today. While I haven't resolved it elegantly yet (I'll work on this more), I did get it working using something like the following:\n```\nimport { Injectable }             from '@angular/core';\nimport {Router, Resolve, ActivatedRouteSnapshot} from '@angular/router';\nimport { AngularFire, FirebaseObjectObservable } from 'angularfire2';\nimport {Observable} from \"rxjs\";\n@Injectable()\nexport class DetailResolver implements Resolve> {\n  constructor(private af: AngularFire) {}\n  resolve(route: ActivatedRouteSnapshot): Promise> {\n    return Promise.resolve(this.af.database.object('foo'));\n  }\n}\n```\nI couldn't get it to work by returning the observable in resolve(), but by wrapping it in a Promise, I was able to get that working.\nI also noticed a related issue with using ngOnInit(). When I didn't declare this.data within my constructor, but waited until ngOnInit() to declare it, nothing would print to the page. However, if I declared anything in the constructor (e.g. this.data = {}) and then reassigned it in my ngOnInit(), then things displayed fine.\nAgain, still working on a more elegant answer for using resolve, which I'll run past some of the A2 gurus before I present it back here. But some of this may get you started.\n. @jeffbcross @davideast So I've been playing with promises in routers and it's a bit of a mess. \nHere are some of the difficulties:\n- toPromise() does not work on our observables, maybe because it's based on complete, which we never invoke?\n- Can do a first() as a workaround, but it's annoying and bloated\n- Resolve method takes an Observable or Promise, but for some reason ours doesn't work here (presumably the same reason that toPromise() doesn't work)\nI don't see a great use case for trying to load either of our observables in resolve as opposed to just letting the data load dynamically, but based on history, this will continue to be a common request.\nSo I think we should probably support a loaded() method or some resolvable promise on FirebaseListObservable and FirebaseObjectObservable, as well as providing a similar way to obtain a resolvable promise on auth state.\n. @tarlepp here's a working master/detail view using routing and resolve (it resolves the master list before routing):  https://gist.github.com/katowulf/c493e19a932cd608b811907547be7a78\nSome of the key points:  \n1) FirebaseListObservable and FirebaseObjectObservable never resolve.\nYou can't just return the Firebase*Observable in your resolve method because they never complete, and Observable.prototype.toPromise() seems to rely on the complete callback. Instead, you need to create your own promise with something like:\nlet list = this.af.database.list('path/to/data');\nreturn new Promise((resolve, reject) => {\n      // must import 'rxjs/add/operator/first'; before using it here\n      list.first().subscribe(() => {\n          resolve(list)\n      }, reject);\n});\n2) You can't try to establish your Firebase*Observable references in ngOnInit()\nNot sure on the cause for this, but this.books (and this.book in the detail view) must be declared in constructor; when moved into ngOnInit() they never get rendered, regardless of what magic I tried here.\n. I think the primary issue is #1: FirebaseListObservable and FirebaseObjectObservable don't ever \"finish\" (i.e. call onCompleted) like a normal observables (just call onProgress and onError), so toPromise() never resolves.\n. Well, not precisely. We're observing an event stream. It doesn't resolve; it's always in progress.\nAs I mentioned before, waiting on \"finished\" data, etc, isn't really an appropriate way to think about Firebase (it's trying to turn the real-time aspects into a CRUD strategy).\nWhile these two ideas aren't exactly incompatible, the onComplete handler, and by extension, the toPromise method won't ever be invoked (nor should they), making it difficult to use a Firebase observable in the same way you would a more traditional, short-lived Observable subscription.\n. It's an event stream. It's never resolved. It keeps waiting for more events. You aren't downloading a static data model, you're subscribing to a continuous event stream. So none are wrong, it's just a slightly different paradigm that doesn't fit perfectly with a promise strategy.\n. Please resubmit using the issue template. Cheers.\n. Great stuff! Thanks for the contribution. Please use the issue template in the future, it's required and not optional.\n. Thanks, it may not feel immediately intuitive, but having the content you put here in the categories we asked for helps us to quickly parse and prioritize the the many issues. I'd imagine this fits nicely into the expected behavior and actual behavior. And having the version info at the top lets us know that you're on the latest right away, so we know everything here is legit and applicable. A lot of docs PRs can be misunderstandings about version compatibility or due to coding changes, so it is helpful here. Of course, all of this is a bit nitpicky; just keep it in mind for the future. It helps us reduce maintenance workload and focus on the functionality. \u2661\n. Please use the issue template and resubmit. Cheers.\n. Please resubmit and follow the issue template. General how-to questions would be best for Stack Overflow or the mailing lists.\n. Closing this as there's a proposed solution. We can reopen or refocus if there's more to address here.\n. Closing due to insufficient details. If someone is still running into this issue, feel free to resubmit with complete repro info and details about why Mukesh's fixes and suggestions aren't working.\n. Duplicate of #201 \nFYI - You can use it directly from the SDK. \nimport * as firebase from 'firebase';\nfirebase.database().transaction(...);\n. Out of curiosity, what is yarn.lock for? It's 5k lines??\n. LGTM!\n. I just did a fresh build using the latest versions and had no issues, even after running npm install --save firebase angularfire2 and then ng build. \n```\nkatowulf-macbookpro:ngapp katowulf$ npm list --depth=0\nngapp@0.0.0 /Users/katowulf/projects/ngapp\n\u251c\u2500\u2500 @angular/common@2.1.2\n\u251c\u2500\u2500 @angular/compiler@2.1.2\n\u251c\u2500\u2500 @angular/core@2.1.2\n\u251c\u2500\u2500 @angular/forms@2.1.2\n\u251c\u2500\u2500 @angular/http@2.1.2\n\u251c\u2500\u2500 @angular/platform-browser@2.1.2\n\u251c\u2500\u2500 @angular/platform-browser-dynamic@2.1.2\n\u251c\u2500\u2500 @angular/router@3.1.2\n\u251c\u2500\u2500 @types/jasmine@2.5.37\n\u251c\u2500\u2500 @types/node@6.0.46\n\u251c\u2500\u2500 angular-cli@1.0.0-beta.18\n\u251c\u2500\u2500 angularfire2@2.0.0-beta.6\n\u251c\u2500\u2500 codelyzer@1.0.0-beta.1\n\u251c\u2500\u2500 core-js@2.4.1\n\u251c\u2500\u2500 firebase@3.5.3\n\u251c\u2500\u2500 jasmine-core@2.4.1\n\u251c\u2500\u2500 jasmine-spec-reporter@2.5.0\n\u251c\u2500\u2500 karma@1.2.0\n\u251c\u2500\u2500 karma-chrome-launcher@2.0.0\n\u251c\u2500\u2500 karma-cli@1.0.1\n\u251c\u2500\u2500 karma-jasmine@1.0.2\n\u251c\u2500\u2500 karma-remap-istanbul@0.2.1\n\u251c\u2500\u2500 protractor@4.0.9\n\u251c\u2500\u2500 rxjs@5.0.0-beta.12\n\u251c\u2500\u2500 ts-helpers@1.1.2\n\u251c\u2500\u2500 ts-node@1.2.1\n\u251c\u2500\u2500 tslint@3.13.0\n\u251c\u2500\u2500 typescript@2.0.6\n\u2514\u2500\u2500 zone.js@0.6.26\nkatowulf-macbookpro:ngapp katowulf$ npm -v\n3.10.3\nkatowulf-macbookpro:ngapp katowulf$ node -v\nv6.5.0\nkatowulf-macbookpro:ngapp katowulf$ cat package.json\n{\n  \"name\": \"ngapp\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"start\": \"ng serve\",\n    \"lint\": \"tslint \\\"src/*/.ts\\\"\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"~2.1.0\",\n    \"@angular/compiler\": \"~2.1.0\",\n    \"@angular/core\": \"~2.1.0\",\n    \"@angular/forms\": \"~2.1.0\",\n    \"@angular/http\": \"~2.1.0\",\n    \"@angular/platform-browser\": \"~2.1.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.1.0\",\n    \"@angular/router\": \"~3.1.0\",\n    \"angularfire2\": \"^2.0.0-beta.6\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.5.3\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.2.30\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.18\",\n    \"codelyzer\": \"1.0.0-beta.1\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"4.0.9\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"~2.0.3\"\n  }\n}\n```\nPossible solutions that worked for others:\n@jwuliger noted that AngularFire2 requires Firebase SDK ^3.3.0 and installing via npm gives ^3.5.3 (not compatible apparently)\n@choopage used npm uninstall @types/firebase\n@edoardoVD removed firebase from package.json, then npm prune\nClosing this issue as it doesn't follow the issue template (so we'll have trouble reproducing it), there are suggested workarounds, and it appears fixed. If others run into this issue, and can't use one of the suggested fixes, please submit a new issue and follow the issue template.\n. Remote config isn't available for web apps at present. You can achieve similar results by using some creative data structures in the Database, but you can't take advantage of topics and groups provided by Analytics (also not available for web yet). This is outside the scope of AngularFire2 as it's a limitation of the SDK. Although talking about Remote Config impls in web sounds like a great blog post for the Firebase team.\n. This isn't the right forum for FCM and you haven't followed the issue template. We can answer specific technical issues about AngularFire2, and some questions about Angular and Firebase, but only if you've done the due diligence required in the issue template.\nFCM guide is here. You don't need AngularFire2 to implement this.\n. Thanks for including a repro and version info. However, there's more due diligence required here. Please update to match the template or it will be closed. \n. Thanks! @jeffbcross can you take a look and decide if this is WAI or if we need to adjust to properly, err, observe the Observables model?\n. This doesn't follow the issue template and has already been multiple fixes suggested, which aren't refuted here.\n. Don't use arrays in distributed data. Utilize push keys or the push() method on FirebaseListObservable. \nNumeric, sequential ids are unsupported as the outcome of adds/updates/deletes in a distributed system is temperamental at best and schizophrenic at worst.\n. Closing this as it doesn't obey the issue template, which is required, as noted in the template itself.\n. Duplicate. Also does not correctly follow the issue template.\n. This is one of the primary reasons we need you to follow the issue template when submitting. A lot of time wasted here discovering that you aren't on the correct versions. If you have additional issues, please resubmit, following the required template.\n. It looks like changing the return value of push() here to the following will resolve this issue; need to test:\npush(val:any):Promise<firebase.database.Reference> {\n    if(!this.$ref) {\n      throw new Error('No ref specified for this Observable!');\n    }\n    return Promise.resolve(this.$ref.ref.push(val));\n  }\nIt may also be possible to use firebase.Promise here; maybe that will be more compatible with synchronously fetching the auto-generated key?\n. Not relevant to AngularFire (an SDK feature request) and does not follow the issue template.\n. Is something wrong with just using import * as firebase from 'firebase';?\n. See #658 for the duplicate identifiers. You probably need to uninstall typescript bindings that were required in earlier version.\n. \ud83d\udd25\ud83d\udd25\ud83d\udd25\n. Thanks for using the issue template! Let me take a look and see what the intended behavior here is.\n. I can't reproduce anything unexpected by creating a list and calling push(). The initial list is loaded with no data, when an item is added, the subscription is updated with the new value, and so on. Since there's not enough code in the repro here to recreate the conditions you've described (just some random snippets described as \"in another function\") I'm going to close this. \nFeel free to resubmit with a minimal, verifiable, complete, example, such as this one that demonstrates some unexpected behavior and I'll be happy to continue the discussion.\n. Thanks! Turns out this is a dup of #574. The issue is that multiple subscribers cause some internal Firebase caching to switch from async to sync, and this generates a race condition. ; (\n. Please resubmit using the issue template. Note that general usage questions are best suited for Stack Overflow.\n. @davideast Travis error looks related to #611; ideas?. Please follow the issue template. Note that how-to questions are best suited for Stack Overflow or other community channels.\n. Offline sync is a Firebase SDK feature and outside the scope of AngularFire to provide.\n. @nuruddinbadawi the offline capabilities described there are always on. There's nothing to apply or activate.. @mukesh51 thanks for this! Great stuff and a solid contribution.\nCould we generalize the title to Using AngularFire2 with Ionic? I suspect we'll have more things to add to this in the future. Otherwise, lgtm, and ready to merge.. Hi Jo\u00e3o, all issues have to follow the issue template provided. This is critical to keep things streamlined and manageable. Closing this. Feel free to resubmit according to the template; if you do, be sure to include a working, minimal repro of the problem and version info.. Since objects/collections are Observables, you just use Observable.prototype.subscribe().\nAll issues have to follow the issue template provided. This is critical to keep things streamlined and manageable. Closing this. Feel free to resubmit according to the template; if you do, be sure to include a working, minimal repro of the problem and version info.. .first().subscribe().. Thanks for the report. Does look like this could be fixed. Please include a minimal repro of the issue or a failing test case we can use as a marker for verifying and fixing.\nAll issues have to follow the issue template provided, including a minimal repro or failing test case. This is critical to keep things streamlined and manageable.. @bogacg There are around 500 issues reported across the Firebase repositories (not counting the plethora specific to Angular projects) daily. Each takes around 15-30m to reproduce. As you can imagine, those add up, and most turn out to be red herrings. This one looks valid, as you've noted. But, just help a brother out and follow the rules by saving us some time and energy.. Thanks. I think that the misleading method name here has probably resulted in this obscure bug. We should probably proceed as follows:\n\nRemove utils.isPresent() (which is a misleading name)\nCreate utils.isEmpty(<any>: val) (still not perfectly happy with this name; suggestions welcome)\nChange current usages (about 5) of utils.isPresent() to !utils.isEmpty()\nAdd utils.hasKey(Object: o, String: key), which can just return o[key] !== undefined\nSet this particular usage to if( utils.hasKey(query, 'equalTo') )\n. The Firebase SDK is already included as part of AngularFire. It doesn't reimplement all the socket handling logic, offline behaviors, and the entire Firebase platform. So there's no additional cost to using the already included SDK.\n\nSee this discussion for thoughts on why we don't reimplement all SDK methods.\nIf after reading that, you still feel there is a value-add here, please post back your thoughts on how the vanilla SDK falls short of your needs related to Angular usage.. The \"Querying\" section of that doc explains why queries would not be useful for object observables. Perhaps summed up best by:  Hence, for operations that require sorting, you are probably looking for a list.. Sounds like a word puzzle. Maybe there's an easter egg? : ). An initial guess is that it's probably best to remove the unused imports and clean up or maybe remove the docs section as well. But I haven't looked at the code to verify they are superfluous or that they aren't intended to be added later (unlikely).. This looks like it's working as intended. If this.item is null, you can't call .update(), .subscribe(), et al. Thus, although the value may be null now, if you can't .subscribe() then you won't know in the future if it changes. Keep in mind that we're working with realtime data streams, not CRUD events.. @rosslavery forgot about that; great note!. All issues have to follow the issue template provided. This is critical to keep things streamlined and manageable. Closing this. Feel free to resubmit according to the template; if you do, be sure to include a working, minimal repro of the problem and version info. Note that how-to questions are best suited to Stack Overflow or Google Groups.. The guide lists two methods for updating lists. Push is used to generate new records, with auto-generated ids, and update is used to set a specific key. See here.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group.. All issues have to follow the issue template provided. This is critical to keep things streamlined and manageable. Closing this. Feel free to resubmit according to the template; if you do, be sure to include a working, minimal repro of the problem and version info. Note that how-to questions are best for Stack Overflow or a discussion group.. What's the effort required to wrap this? Feels like observables probably make short work of this kind of thing?. \ud83d\ude80\ud83d\ude80\ud83d\ude80. Merging the two packages won't be practical. Semantically, they could reside in the same GitHub repo, but they would still be an entirely different API, code base, documentation set, and testing infrastructure. About the only similarities are the names and the Travis integrations. \nKeeping them separated is probably the simplest way to avoid a lot of confusion and frustration trying to apply documentation, code samples, Stack Overflow answers, et al to these libraries. In fact, a more divergent namespace would probably make all of this much clearer and easier to differentiate.\n@jwngr @abehaskins @davideast to disagree or add flavor.. @jsayol thanks for initiating the discussion.. No idea what you mean by \"should the subscribe handler still be invoked.\" \nThe problem with updateProfile() is a known SDK bug that should be fixed in an upcoming release :(. Not an AngularFire issue. @ilkkanisula's fix is probably the best workaround for now.. Ah, of course. Well glad I, err, answered it accidentally.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group. In your case, since you've mentioned it \"doesn't seem to work\" you should be submitting a failing repro that follows one of the samples.. It should work with other RCs, but as with any beta release, you'll always want to stay ahead of the bugs and on the latest version..  Hey @sean-hill, thanks for the detailed report, as always. Is this different, in your mind, than #718? I'm pretty sure they're both caused by the same SDK bug.. Possibly, we'll have to see how the bug fix plays out. I could argue either way on this.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group.. Try firebase.auth().currentUser as described in the docs. Not an AngularFire bug or feature request.. I think startAt(28).endAt(29) should work.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group.. Thanks for the updates, all. We're looking at making rxjs a peer dependency (right now it appears to get installed as both peer and non-peer dep for some reason). For now the best workaround is to indeed delete one or modify package.json accordingly.\n\nwill this be fixed soon i install via npm so id like to not have to edit the package manual\n\nPlease don't use @next and stick to stable versions--or what passes as stable in a beta product--if you're not tolerant of small obstacles like this. This has also been out less than a day, so reset you expectations to something more realistic: we work in weeks and months, not hours (although I wouldn't expect this to be around for months).. @davideast will these notes make it into the changelog? Do we need an issue to track that?. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group.. Try app.database().ref() instead.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. Note that how-to questions are better suited for Stack Overflow or a discussion group.\nTo give you some starting references here:  Role-based security isn't managed via the Authentication tools. Instead, you would store the relationships between users in your Database and use security rules (not authentication credentials) to do this. There may be more tools for this in the future but that's not currently the mechanism for this sort of activity. Nor is this related to AngularFire, but to the underlying Firebase SDKS. See also admin SDKS.. Looks like a dup of #574. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions like this one are better suited for Stack Overflow or a discussion group.. Seems likely to be a whitelist step that's missing here. I remember this about Ionic with Firebase. @mukesh51 is this something you could look into?. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info. \nNote that how-to questions are better suited for Stack Overflow or a discussion group. \nNote also that this question doesn't mention AngularFire anywhere and looks unrelated.. All correct. That's a FIrebase ID token and not a Google Auth token. Looks like you could try this example from the docs. See, specifically, result.credential.accessToken. Note that this isn't a bug, feature request, or proposal for the AngularFire2 project and is a question best suited for Stack Overflow or Google Groups.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. Note that how-to questions are better suited for Stack Overflow or a discussion group.. See PR #818 by @mukesh51 for latest updates.. \ud83d\ude80\ud83d\ude80\ud83d\ude80. Not really sure what you're looking for here. I think the Ionic docs should stay separate even if there's a fair amount of duplication. Those are essentially community contributed docs and not part of the core guide/tested feature set.. Since the Firebase SDK doesn't expose any indications of email verification, there's nothing AngularFire can do here. Best workaround would be to store verification status in the database and listen on that for updates.. All issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. Note that how-to questions are better suited for Stack Overflow or a discussion group.\nIf you check out the example here, and combine that with knowledge of how password auth works, it looks like you pretty much just need to substitute signInWithEmailAndPassword for login.. Have you tried linking the accounts?. It's non-enumerable since $ is a reserved char for Firebase RTDB, and this would  cause DB sync to fail. I think this was specific to calling set() or save() on an existing record, an only secondarily for iterating the fields in a record (where optional would be nice).  I'd imagine there are a lot of nuances and edge cases to consider here. This could be complex.. Generally speaking, testing third party services in your Jasmine tests is generally incorrect. You want to isolate your functionality for testing and do fully integration testing in your E2Es.\nYou should abstract and isolate your third party services as much as possible and use mocks where you cannot, but you should not rely on mocks for most things as this encourages bad design practices. See this example for some ideas.. Hey @Montellanos, this doesn't conform to the issue_template or guidelines for contributing. In summary, how-to questions are best suited for Stack Overflow, and this issue tracker should be used for bug reports and feature requests.\nPretty sure you want to do a mergeMap. If you post a link to the Stack Overflow post I'll be happy to play with it.\n. Sync with @davideast before doing any work here. He has plans in flight.. Woot! \ud83d\ude80\ud83d\ude80\ud83d\ude80. @ivanhdzd Can you reproduce the error with a simplified version of your code containing nothing but the instructions in the community guide? If so, we might be able to take a look. If not, this is probably outside the scope of what we can help debug, given there's no minimal repro here.. Hello @KSingh1980. All issues need to follow the Issue Template. As mentioned in the comments at the top, how-to questions are best aimed at Stack Overflow or other community channels.. All issues need to follow the Issue Template. As mentioned in the comments at the top, how-to questions are best aimed at Stack Overflow or other community channels. These steps are critical for us to manage our open source channels effectively so please adhere to the guidelines.. All issues need to follow the Issue Template. As mentioned in the comments at the top, how-to questions are best aimed at Stack Overflow or other community channels. These steps are critical for us to manage our open source channels effectively so please adhere to the guidelines.. @ggravand you're responding to a closed issue with a new bug. You won't get any progress like this. FYI - The change described here was introduced in 4.5.0, not 4.5.1. So on a major version bump.. Thanks for following up! Hi Clayton! Nice to bump into you in the queues ;). Can anyone verify whether this is actually an AngularFire2 issue by trying this with the vanilla SDK? Wondering where this should be getting reported and whom should get pinged to investigate.. @aaronfrost what up man!\n@davideast I don't see .query mentioned anywhere in the docs either. . Reverting to RC3 resolves the \"mismatch\" error\nForcing Firebase 4.8.0 resolves \"Cannot find namespace 'firebase'.\" as described in #1387\n  . fyi - this doesn't look like part of the $exists impl. This may not generate sufficient release notes from the commit message.\n. Can't use xit because neither database.Reference nor firebase.database.Reference will compile in typescript until the bug is fixed : ( \n. Please revise these to just say:  See [link] for more and place these up in the description instead of below the usage example.\n. I think this should be:  createNewUser( properties:Object ): Promise<FirebaseAuthState> {?\n. Probably worth noting that logout() is an asynchronous operation. There is an open bug against the Firebase SDK to make this return a promise.\n. Where is FirebaseAuthState documented? Can we link to it?\n. I don't like item.$value here. This field is only useful for primitives and that's not the common use case. item.name represents an arbitrary value in the field. Let's put in something more useful for debugging and initial output? How about:  {{ item | json }}\n. Why are we changing this to an inline template? If the angular-cli installation creates it as an external URL, I'd prefer to use that convention as it's clearly our recommended best practice. @deast opinions?\n. \n. Ugh, more globals. They are so error prone : (\n. \u2661\n. This says that it installs Angular, but it actually installs the CLI. Suggestion:\nInstall the Angular CLI, which will be used to build our Angular project and install Angular version 4 later.. ",
    "urish": "@jeffbcross I just checked it, reproduced, and was able to fix by switching the test server address from test.firebaseio.com to test.firebaseio.test, and updating the host file accordingly.\n1. Do you want me to submit a PR ?\n2. Is there a way to change the hosts file on the CI? Or do we need another workaround there?\n. Guilt resolved.\n. ",
    "mip1983": "Hi Jeff, I put this as a comment in another issue, but perhaps it's more relevant here.\nWhen I was trying it out, I ended up changing the AngularFire 'list' method so it takes an Firebase ref rather than a url string, which means I can get my data with ordering (and I presume filtering).\ne.g.\njavascript\npublic getNavigation(): Observable<MenuItem[]> {\n        return this.af.list(this.ref.child(\"navigation\").orderByChild(\"order\")) as Observable<MenuItem[]>;\n}\nI also changed some bits in 'firebase_list_factory.ts', so like I say it takes a ref rather than a string:\njavascript\nexport function FirebaseListFactory(ref: any, {preserveSnapshot}: FirebaseListFactoryOpts = {}): FirebaseListObservable<any> {\n    //var ref = new Firebase(absoluteUrl);\n    // Would like to be strongly typed, but the ref can be Firebase or FirebaseQuery\n    // Either type def's need to change or this needs to be tweaked with functions for either.\nI changed the unwrapMapFn so that it includes the firebase key on the returned object:\n``` javascript\nfunction unwrapMapFn(snapshot: FirebaseDataSnapshot): any {\n    var returnObj = snapshot.val();\n    returnObj.key = snapshot.key();\nreturn returnObj;\n\n}\n```\nThis is required so we can preserve things like the sort order. I changed the 'onChildAdded' function so that it preserves order:\n``` javascript\nexport function onChildAdded(arr: any[], child: any, prevChildKey: string): any[] {\n    if (prevChildKey) {\n        // Find the array index of the previous child\n        var prevChildIndex = getIndexByKey(arr, prevChildKey);\n        // Splice the item into the index + 1 of the previous child\n        arr.splice(prevChildIndex + 1, 0, child);\n    } else {\n        arr.push(child);\n    }\nreturn arr;\n\n}\nexport function getIndexByKey(arr: any[], prevChildKey: string): number {  \n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i].key() === prevChildKey) {\n            return i;\n        }\n    }\n    return null;\n}\n```\nIf any of that is at all useful, I'm happy to put it in a fork and do a pull request.\n. Thanks Jeff, that did make sense and I really appreciate you taking the time explaining that, especially the example. I'm off to give it a try :)\n. Hi @jeffbcross , thanks for your help before, it's enabled me to make some progress trying this out. I brought the code locally into my project to run it (due to the packaging problem in the other issue I raised), but that's proved to be useful as I can tweak the code.\nI know this is early alpha and I'm sure a lot will change anyway, so I'm not sure how useful my feedback is, but I thought I'd share.\nI ended up changing the AngularFire list function so it takes an Firebase ref rather than a string, which means I can get my data with ordering (and I presume filtering). e.g.\njavascript\npublic getNavigation(): Observable<MenuItem[]> {\n        return this.af.list(this.ref.child(\"navigation\").orderByChild(\"order\")) as Observable<MenuItem[]>;\n}\nI also changed some bits in 'firebase_list_factory.ts', so like I say it takes a ref rather than a string:\njavascript\nexport function FirebaseListFactory(ref: any, {preserveSnapshot}: FirebaseListFactoryOpts = {}): FirebaseListObservable<any> {\n    //var ref = new Firebase(absoluteUrl);\n    // Would like to be strongly typed, but the ref can be Firebase or FirebaseQuery\n    // Either type def's need to change or this needs to be tweaked with functions for either.\nI changed the unwrapMapFn so that it includes the firebase key on the returned object:\n``` javascript\nfunction unwrapMapFn(snapshot: FirebaseDataSnapshot): any {\n    var returnObj = snapshot.val();\n    returnObj.key = snapshot.key();\nreturn returnObj;\n\n}\n```\nThis is required so we can preserve things like the sort order. I changed the 'onChildAdded' function so that it preserves order:\n``` javascript\nexport function onChildAdded(arr: any[], child: any, prevChildKey: string): any[] {\n    if (prevChildKey) {\n        // Find the array index of the previous child\n        var prevChildIndex = getIndexByKey(arr, prevChildKey);\n        // Splice the item into the index + 1 of the previous child\n        arr.splice(prevChildIndex + 1, 0, child);\n    } else {\n        arr.push(child);\n    }\nreturn arr;\n\n}\nexport function getIndexByKey(arr: any[], prevChildKey: string): number {  \n    for (var i = 0; i < arr.length; i++) {\n        if (arr[i].key() === prevChildKey) {\n            return i;\n        }\n    }\n    return null;\n}\n```\n. I've so far got this working (i.e. no error when I run the app) by bringing the typescript source ts files locally, compiling with my tsconfig settings (\"module\": \"system\"), and putting them in a folder in my app, and referencing them as:\nimport {FIREBASE_PROVIDERS, defaultFirebase, AngularFire} from \"./angularfire2/angularfire2\";\n. @davideast Hi David, just following the example there. My IDE/typescript compiler (visual studio) doesn't like that code as the type I'm passing comes up as 'FirebaseQuery' rather than 'Firebase'.\nMaybe the list function needs to be tweaked to:\nlist(urlOrRef: string | Firebase | FirebaseQuery...\n. @joaogarin Not sure it's merged in there yet: https://github.com/angular/angularfire2/pull/138\n. I signed it!\n. Hi @davideast , I'm having some trouble running the tests locally, karma's not playing ball yet on my machine. I've put in a fix based on the test output from Travis.\nI've also run 'npm run build_bundle' to create the js files in the dist folder. I'm not sure if that's required or if any of the other npm build commands need running?\n. @tomdegoede Ok, I'll have a look when I can. I'm beginning to wonder if 'Firebase' and 'FirebaseQuery' need to be two different things.\n. ",
    "Haroenv": "Does this mean that you can't yet use orderBy or equalTo?\n. Aha, these examples will make it a lot easier to work with! Thanks!\n. Oh, could that be made clearer in the documentation in the readme, I just lost a significant amount of time to that.\n. ",
    "kpgarrod": "Is there a way to write unit tests as a user of the library? Any example anywhere even if there are no docs yet?\n. ",
    "frankcarey": "Also having issues with this. We're new to Angular2 testing with jasmine and are having trouble finding the right way to mock this.\n. ",
    "dsummersl": "Ditto, I've tried something along the lines of this: http://a2zhow.xyz/questions/38042941/how-to-mock-angularfire-2-service-in-unit-test\nBut as yet no luck.\n. Why do we not need to support this? Because we can manually add it ourselves - like so? https://github.com/angular/angularfire2/issues/211#issuecomment-230244521\n. It doesn't seem to be, but maybe I'm not doing it correctly (very new to typescript). I tried something like this:\ntypescript\nexport class PlanService {\n  constructor(private af: AngularFire) { }\n  submitPlan(plan: Plan): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n      this.af.auth.subscribe(auth => {\n        let designs = this.af.database.list('/designs');\n        let new_key = designs.push({\n          auth.uid,\n          name: plan.name,\n          created: this.af.database.ServerValue.TIMESTAMP\n        });\n        ...\n        ... resolve or reject ...\n        ...\n      });\n    });\n  }\n}\nThe compiler gives me an error like:\nThe Broccoli Plugin: [BroccoliTypeScriptCompiler] failed with:\nError: Typescript found the following errors:\n  ...6vw11KGr.tmp/0/src/app/plan.service.ts (54, 37): Property 'ServerValue' does not exist on type 'AngularFireDatabase'.\n    at BroccoliTypeScriptCompiler._doIncrementalBuild (node_modules/angular-cli/lib/broccoli/broccoli-typescript.js:120:19)\n    at BroccoliTypeScriptCompiler.build (node_modules/angular-cli/lib/broccoli/broccoli-typescript.js:43:10)\n. angular-2.0.0-rc.5, angularfire2-2.0.0-beta.4, typescript-1.8.10 -- checking on how outdated that all is...\n. hrm, upgraded to typescript 2.0.2 and I get the same error still. Do I need to be somehow importing from firebase rather than angularfire2 to get a reference to TIMESTAMP?\n. Ok! I got it to work. For future reference, this https://github.com/angular/angularfire2/issues/211#issuecomment-230244521 is the essence of the solution:\n1. I'm using angular-cli. Add it to angular-cli-build.js, and src/system-config.js (I think thats part of the install anyway).\n2. Add typings to typings.json. I addded \"firebase\": \"file:node_modules/firebase/firebase.d.ts\" to my globalDependencies.\n3. Add TIMESTAMP support by adding the block in the comment above ti src/typings.d.ts\n4. Import firebase as import * as firebase from 'firebase'; where you want to use TIMESTAMP, and then refernce it as firebase.database.ServerValue.TIMESTAMP.\nThanks so much for the help.\n. Thanks, fixed my issue too...put that in the install & setup docs?\n. ",
    "jamesehly": "Any progress on this? I'm stuck on trying to mock AngularFire2 so I can test my controllers and services.  If someone could post an example, that would be awesome.\n. ",
    "rjbergerud": "Here's a reference that might be useful to some in the meanwhile: https://github.com/r-park/todo-angular2-firebase/blob/d1c523ae71e06e17d48b17a6c25898ccf09b685e/src/auth/services/auth-service.spec.ts. Any chance this could be useful for e2e testing? https://github.com/urish/firebase-server. ",
    "manolof": "1 year after, any update on this?. ",
    "OnnoOver9000": "Nothing yet, but i'm going to experiment with it and i'll post my solution here asap.. Alright so i managed to make a fake service for my service that uses AngularFire2. \nHere is my service that i'm going to mock:\nexport class TestService {\nprivate angularFire;\nconstructor(private af: AngularFire) {\nthis.angularFire = af;\n}\ngetTest() {\nreturn this.angularFire.database.list('/test');}}\nFor this service i created a fake service that looks like this:\nexport class FakeTestService {\ngetTest(){\nreturn Observable.interval(500).map(i => [{$value: 'testvalue1'},{$value: 'testvalue2'},{$value: 'testvalue3'}]);\n}\nThe next thing i did was adding a provider with useClass:\nproviders: [\n        { provide: TestService, useClass:FakeTestService }\n      ],\nThis is my simple setup and i hope it helps you and anyone else who is having difficulties setting up a fake service combined with angularfire2\n. ",
    "douglascorrea": "I'm looking for a way to unit test angularfire2, the reference provided by @rjbergerud is good but unfortunately is deprecated because of changes on angularfire2 v4.0.0. ",
    "scottshipp": "We're using Jasmine spies to unit test an Ionic app using Angularfire 2. It works well. I will try and write something up and post back. . We're using Jasmine spies to unit test an Ionic app using Angularfire 2. It works well. I will try and write something up and post back. . Hi @pas2al Hope this can get you started.. Hi @pas2al Hope this can get you started.. Here's part 2 in case it's helpful. Here's part 2 in case it's helpful. ",
    "pas2al": "@scottshipp Any updates on this? Even a simple example would be extremely helpful :-)\nHow do you write your tests when using AngularFireDatabase? I am stuck when i try to provide the necessary dependencies, because it says app.database is not a function. I can fix that by manually mocking it, but i don't want to do that in every single test.. Thank you so much for sharing this with us @scottshipp :-). ",
    "yass005": "thank you very much i'm writing an ionic app with fire base and angular fire and i'm trying to create an unit test fore my auth services. ",
    "sandangel": "no official guide for testing, really? is this an official GOOGLE product?. @Splaktar Thanks for clarifying. I just see\n\nThe official library for Firebase and Angular\n\nand I have surprised when could not find any testing guide although this issue was created 2 years ago.. ",
    "Splaktar": "@sandangel this library not a Google product. It's a free and open source project that is maintained by Google, using their money, along with the community. \nThis library does integrate with the Firebase product from Google. If you would like support for the Firebase product from Google, you can contact them here.\nPRs or blog posts that advance the state of testing with AngularFire2 would be greatly appreciated.. @sandangel understood. The blog posts above are the best bet atm. Hopefully after the Firebase Storage stuff gets merged and stabilized, testing will get some more attention and official docs.. This would indeed be nice to have.\n. The angular-cli just removed their clang format option, should it still be added here?\n. It would be nice to just do this as a postinstall step like: https://github.com/davideast/angularfire2/pull/2/commits/6332d0e96c28602e788ce8ce3cbbf9340f423a7c\n. @davideast done.\n. Looks like this was resolved. See this comment: https://github.com/davideast/angular-cli-firebase-hosting/issues/3#issuecomment-234503467\nThe docs here cover this quite well already.\n. Looks like this can be closed as the answer can be found here: https://github.com/angular/angularfire2/issues/220#issuecomment-235373945\n. And beware that this.af.auth.getAuth() is marked as deprecated and may be removed in a future release. So at this point, it is probably safest to use the Firebase JavaScript 3.x SDK directly for both of these use cases.\n. @takariendire as @lexcaraig said, you need to remove the --global flag. Your typings file should look like this:\n\"dependencies\": {\n    \"es6-promise\": \"github:typed-typings/npm-es6-promise#fb04188767acfec1defd054fc8024fafa5cd4de7\",\n    \"firebase\": \"github:typed-typings/npm-firebase\"\n  },\n. Yes, it will need to be updated as part of the next beta release.\n. I am seeing firebase3.d.ts in the root of the package when using 2.0.0-beta.2 as well. So this PR doesn't seem to be needed. \nPerhaps @mabdelfattah could open an issue to figure out the problem that he is having?\n. Also note that it looks like Firebase 3.2.1 includes the official typings: https://github.com/angular/angularfire2/issues/390\n. @EnricoPicci the fix should be in beta.6. Are you sure that is being used?. @davideast What is the proper way to get the idToken and accessToken with AngularFire2 then? Firebase seems to be storing them in localStorage. Should we just be using the Firebase SDK directly if we need them? \n. @katowulf I did use the issue template, but none of it applied to a docs only change.\n. I fully understand the need for and benefits of issue templates and the challenges of maintaining an open source project. But thank you for at least trying to be diplomatic about this, even if it's not really what I want to hear. \nPlease accept my feedback that the issue template needs to be improved to better accommodate doc issues which do not require to have any version of the library installed. In fact, I'll open an issue for that so that it can be discussed before a PR is submitted.\n. Sounds good. I'll try to write something up when I come up from air after next Saturday's DevFestFL :)\n. Is there something prohibiting the name from being @angular/firebase in NPM and angular/firebase in GitHub?. From Twitter, it looks like AngularFire2 was going to be moving under the Firebase organization at Google. So this would mean that it would need to be @firebase/angular but also raised on Twitter was that this name looks like a fork of @angular/angular. @firebase/angularfire will continue to be the Angular 1.x version, so that's not an option either.\nMore broken projects/breaking changes coming as part of this too :(. Based on feedback from David East, it can't be under the @angular/ name space. It needs to go under @firebase/ at some point. \nThere are no plans that I have heard to remove the dependency on the firebase package. It does a lot more for AngularFire2 developers than just Storage. Many apps are already built using both libraries together. I don't expect that to change. \n. I was running into issues with AOT on all of the latest angular-cli builds even with angularfire2 beta.7. Just adding \"files\": [\"main\"] to my tsconfig.json fixed it!\nI had:\n\"files\": [\n    \"typings.d.ts\"\n  ]\nWorking:\n\"files\": [\n    \"typings.d.ts\",\n    \"main\"\n  ]. Can you try again with @angular/cli beta.31? It seems to have fixed this for https://github.com/angular/angularfire2/issues/785#issuecomment-279184406.. I am also seeing this issue. With one of my domains (staging) it's working fine, but with our other domain (production) it is not. Both are properly configured with domain whitelisting in their separate Firebase Auth consoles. I am using ng build -prod -aot with both deployments.\nI can confirm in production, if I just use ng build -prod w/o the -aot flag, I am able to authenticate.\nThis seems to be a conflict between AngularFire2 and the Angular CLI's AOT setup in both beta.25.5 and beta.26 of the CLI.\nRunning ng serve -prod -aot and testing locally, I am able to log into my app just fine.. Console errors:\n\nFirebase Console Auth config:\n\n. @jymdman thank you for the info! I'll give that a shot.. Confirmed, @angular/cli beta.31 solves this! This issue can probably be closed since this was an Angular CLI bug and not an AngularFire2 bug.. I am seeing this as well. It is being tracked in https://github.com/angular/angular/issues/20970 where I added a full reproduction repo on GitHub. It's possible that https://github.com/angular/zone.js/pull/999 may solve this, but it's still waiting on a review.\nUpdate: I tested the PR (https://github.com/angular/zone.js/pull/999) but it didn't help in my case.. From @JiaLiPassion  \"firebase auth make a very very long setTimeout to do proactive token refresh. (more than 200000ms)\". Based on this comment, AngularFire2 needs to be doing something like this when running this long setTimeout.\nI'm not sure how we could disable Firebase Auth from doing this so that AngularFire2 could do it in an Angular-friendly way, but this will be a problem for integration testing as well as Service Worker registration. @jamesdaniels is anyone on the Firebase team able to look into this?\nFor anyone blocked on the Service Worker registration, you can manually call navigator.serviceWorker.register('/ngsw-worker.js') yourself as mentioned here.. I was getting this error on 5.0.0-rc.10. Rolling back to 5.0.0-rc.9 solved it for me.. Would love to see this in an RC release ASAP :) Thank you @myspivey! \nI tried the 5.0.0-rc.5-next release but it didn't work with firebase 4.8.1.. It looks like this needs a rebase now. I'd love to see this get in soon so that it could get tweaked a bit more (in a separate PR) for Angular version 8.. Angular v7 RC.0 stepped up to TypeScript 3.1.1. It would be nice to support that in this library so that users of @angular/fire can test the Angular RCs.\nIt would also be nice to release a version that supported the Angular v7 RCs. Currently only ^6.0.0 is supported in 5.0.2.. Note that the current 5.0.2 release does seem to work with Angular 7.0.0-rc.1. It gives peer dependency warnings but the app still builds and runs.. You really should upgrade your Angular CLI version. The latest stable is https://github.com/angular/angular-cli/releases/tag/v6.2.4. This PR needs to be rebased on master and the CLA signed.. This would be nice to have! Looks like it needs a rebase tho.. ngx-auth-firebaseui looks amazing! Thank you for sharing.. Typedoc 0.4.3 with support for TypeScript 1.8.10 was released recently. Will that work or will TypeScript 1.9.x be required to be used in Typedoc?\n. Are there problems with supporting TypeScript 2.8.0, 2.9.2, 3.0.0,, 3.1.0 etc?. ",
    "mattarau": "Hey guys, I was struggling writing tests for AngularFIreAuth and end up with a solution that has been working quite well now. It's only for authentication with email and password, but I'm sharing it here, so it may help someone.\n```javascript\nimport { TestBed } from '@angular/core/testing';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nimport { Subscription } from 'rxjs/Subscription';\nimport { UserService } from './user.service';\nconst credentialsMock = {\n  email: 'abc@123.com',\n  password: 'password'\n};\nconst userMock = {\n  uid: 'ABC123',\n  email: credentialsMock.email,\n};\nconst fakeAuthState = new BehaviorSubject(null); // <= Pay attention to this guy\nconst fakeSignInHandler = (email, password): Promise => {\n  fakeAuthState.next(userMock);\n  return Promise.resolve(userMock);\n};\nconst fakeSignOutHandler = (): Promise => {\n  fakeAuthState.next(null);\n  return Promise.resolve();\n};\nconst angularFireAuthStub = {\n  authState: fakeAuthState,\n  auth: {\n    createUserWithEmailAndPassword: jasmine\n      .createSpy('createUserWithEmailAndPassword')\n      .and\n      .callFake(fakeSignInHandler),\n    signInWithEmailAndPassword: jasmine\n      .createSpy('signInWithEmailAndPassword')\n      .and\n      .callFake(fakeSignInHandler),\n    signOut: jasmine\n      .createSpy('signOut')\n      .and\n      .callFake(fakeSignOutHandler),\n  },\n};\ndescribe('UserService', () => {\n  let service: UserService;\n  let afAuth: AngularFireAuth;\n  let isAuth$: Subscription;\n  let isAuthRef: boolean;\nbeforeEach(() => {\n    TestBed.configureTestingModule({\n      providers: [\n        UserService,\n        { provide: AngularFireAuth, useValue: angularFireAuthStub },\n      ],\n    });\nservice = TestBed.get(UserService);\nafAuth = TestBed.get(AngularFireAuth);\n\n});\nbeforeEach(() => {\n    isAuth$ = service.isAuthenticated$\n      .subscribe(isAuth => {\n        isAuthRef = isAuth;\n      });\n  });\nafterEach(() => {\n    fakeAuthState.next(null);\nisAuth$.unsubscribe();\n\n});\nit('should be created', () => {\n    expect(service).toBeTruthy();\n  });\nit('should not be initially authenticated', () => {\n    expect(isAuthRef).toBe(false);\n  });\nit('should be authenticated after register', () => {\n    service.register(credentialsMock);\nexpect(afAuth.auth.createUserWithEmailAndPassword)\n  .toHaveBeenCalledWith(credentialsMock.email, credentialsMock.password);\nexpect(isAuthRef).toBe(true);\nexpect(service.user.email).toEqual(credentialsMock.email);\n\n});\nit('should be authenticated after logging in', () => {\n    service.logIn(credentialsMock);\nexpect(afAuth.auth.signInWithEmailAndPassword)\n  .toHaveBeenCalledWith(credentialsMock.email, credentialsMock.password);\nexpect(isAuthRef).toBeTruthy();\nexpect(service.user.email).toEqual(credentialsMock.email);\n\n});\nit('should not be authenticated after logging out', () => {\n    fakeAuthState.next(userMock);\n    expect(isAuthRef).toBe(true);\n    expect(service.user.email).toEqual(credentialsMock.email);\nservice.logOut();\n\nexpect(isAuthRef).toBe(false);\nexpect(service.user).toBe(null);\n\n});\n});\n```\nThe service being tested for reference:\n```javascript\nimport { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { User } from 'firebase/app';\nimport { Observable } from 'rxjs/Observable';\nclass Credentials {\n  email: string;\n  password: string;\n}\n@Injectable()\nexport class UserService {\npublic user: User;\n  public get isAuthenticated$(): Observable {\n    return this.afAuth.authState.map(user => user !== null);\n  }\nconstructor(\n    private afAuth: AngularFireAuth,\n  ) {\n    this.afAuth.authState.subscribe(user => {\n      this.user = user;\n    });\n  }\nregister(credentials: Credentials): Promise {\n    return this.afAuth.auth\n      .createUserWithEmailAndPassword(\n        credentials.email,\n        credentials.password,\n      );\n  }\nlogIn(credentials: Credentials): Promise {\n    return this.afAuth.auth\n      .signInWithEmailAndPassword(\n        credentials.email,\n        credentials.password,\n      );\n  }\nlogOut(): Promise {\n    return this.afAuth.auth\n      .signOut();\n  }\n}\n```\nCheers!. ",
    "jamesdaniels": "I'll take on some of the doc work here, I'd appreciate if people can sound off on strategies that work for them in testing like @mdentinho. It's helpful to gain context in how people are testing so I can capture those patterns in the docs / helpers.. You need to import map @feryholanda, this location differs depending on the version of rx you're using. In rxjs 5.5:\nimport { map } from 'rxjs/observable/map';\nIf you're using rxjs 6, you'll need to pipe.\nts\nimport { map } from 'rxjs/observables';\n...\n...snapshotChanges().pipe(map(a => ...))\nPlease keep comments on topic and post general questions to StackOverflow.. The AFS dynamic querying example now has a loading template per 0f6f2bf, I'll keep in mind for future examples . Closing for now as it's not a angularfire2 issue. If there's something the Firebase JS SDK can do to make things more testable please open an issue there.. @mukesh51 we've had some changes in pipeline, can you bring this up to speed with 4.0rc1?. Going to close, outdated.. Closing this due to the ngmodule work in 4.0. No update, happy to accept a PR; which is why I left this open. Continue configuring normally for now. . Further, I don't think we can handle this easily with Angular Universal. I'm going to think on this more and will reconsider in the future. Closing for now.. cc/ @davideast\nI forked, since I'm not an official maintainer yet :P . Will do. GitHub can squash now too right from the PR \ud83d\ude09. Merged.. See #901 for the doc changes. Yes, will be doing so.. Having no trouble with --aot and the version of latest everything. Going to close. If you find it's still a problem a repro / PR would be super helpful.. Closing, @ziaukhan offered solution.. fixed. .$key. Going to close for now, if you can repro after @elishaterada's suggestion please toss on plnker and reopen.. We have some big changes coming up with our docs. I'll keep Ionic in mind as we move along. Closing for now.. Going to close for now, if you can create a reproduction in plnkr with the rc then feel free to reopen.. Shipped rc1!. Reopen if you have troubles with the rc. Merged.. Merged.. Going to close as not an af2 issue, but feel free to continue to discuss. Convos like this might be better suited for stackoverflow though. We've had some changes, see the upgrade guide. rc1, just released, should fix. @markgoho we have a note on it in the v4 upgrade guide. We have a lot of changes coming soon with our documentation. We're prioritizing getting the upgrade out ASAP to reduce confusion, while the new docs bake.. Thanks for thinking of the docs!. This sounds like an issue with something upstream, as we just depend on firebase ^4.0.0, though I double checked and Firebase 4.1.1 has promise-polyfil as a dependency in it's package.json. Any ideas on why the dependency might have been dropped? I'm less familiar with Ionic than I should be TBH.. Sounds like a bug with the starter then? I don't have any troubles with Angular CLI.. Going to leave open, for the docs, but there is now the FirebaseAppConfig and FirebaseAppName DI tokens which each module can be provided (rc7). They now use the _factory each time, rather than injecting the app, which solves the \"which app is going to be injected?\" issue.. authState is async, you'll need to handle it as such\nif you put your log in subscribe you should see expected behavior. Closing for now, feel free to continue discussion here + reopen if we have any action items on this repo.. Ah that makes sense, I'll take a peek when I have a few.. This will be fixed once #1193 is merged and a new version cut, closing for now.. If you want to persist the user data beyond the authState, you'll want to push to the database.. Going to close out this pull request since @davideast has made some progress here. Feel free to continue discussions.. Why wouldn't you just use this.afAuth.authState observable which we provide? It will be nil when the user is logged out.. If you're having trouble wrapping the JS SDK yourself & think you've found a bug with the Firebase SDK, please open an issue on that repo.. I'm hoping to find some time to get an initial release of #940 / #963 this week.. Thanks!. Behaving as expected, though the naming is odd, it reflects the JS SDK.\nAs of 4.0 onAuthStateChanged is now only triggered on sign-in and out, \nonTokenIdChanged is the pre-4.0 behavior it's a firebase.User callback which is triggered on all token changes.. @davideast what do you think?. Yeah, on second thought I think I agree. Thanks!. this can be solved with just the firebase js sdk, no need for the observable extensions that we have written here\nrough idea: ref(\"users/\" + data.uid).once('value').then(user => if user { navigate } else { push+navigate }). @ncherian @paulogr  so the main problem is actually not the socket, but Zone.js, we have a bug in our handling. The microtasks are never allowing appRef isStable to go true, thus Universal never letting go of the rendering until Timeout and even once you do have a rendered page state restoration never happens.\nIf you wrap in a zone.runOutsideAngular() things work. I have on my list to fix.. There's also no node.js entry to firebase/app which is a bug + why Websockets aren't getting pulled in.\n(global as any).WebSocket = require(\"ws\"); in your server.ts works until I get that patched upstream ;). angularfire2@next has more SSR work, will be cutting RC.7 shortly. Give it\na spin.\nOn Fri, Apr 13, 2018, 4:47 AM Srinivas Kolluri notifications@github.com\nwrote:\n\n@andreaaschei https://github.com/andreaaschei yes.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1073#issuecomment-381068921,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr1oL7Y9a8gjw9Z3CRMN_yqKFRWvnks5toGY8gaJpZM4OZObk\n.\n. We're working on those. This is a nessisary first step and was already a\nlarge change, so we wanted to get out and in people's hands while we work\non state-transfer story (will require a change to the Firebase JS SDK) and\nauth (a needed change just landed in the SDK).\n\nOn Thu, Apr 19, 2018, 1:20 PM Patrick Michalina notifications@github.com\nwrote:\n\nSSR in the minimal sense. It still does not have state transfer nor does\nit have auth.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1073#issuecomment-382851479,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr3fLZcDVzPtJfciP10YUJJyoKRTbks5tqON9gaJpZM4OZObk\n.\n. I will answer on SO, in short no, this is not supported by Firebase.. Yes.. Thanks for fixing!. Thanks!. Did you name your project firebase by chance? Can you attach your package.json?. Package.json? Closing until reproducible. . Closing since not an Issue, feel free to continue discussing.. #947 . See our 4.0 migration guide. There are no longer AuthProviders, you should use the Firebase JS SDK directly. https://firebase.google.com/docs/auth/web/start and stuff like this.afAuth.authState.logout() should be this.afAuth.auth.logout(), as .auth returns an initialized firebase.auth.Auth instance.\n\nI'd recommend using an editor that picks up our typings, will make your life much easier.. This sounds like an issue for oracle/node-oracledb or Stackoverflow.. We're working on updating the documentation now.. Hmmm, sounds like an issue with the Firebase JS SDK then. Thanks for investigating further. Want to open up an issue there and report back the number? We'll close this out, since it's not exclusively an angularfire issue once it's been accepted. Sound good?. hmmm, is this the realtime db? i've mostly been focused on the firestore side. If so, can you open a new issue?. This has been released in 5.0.0-rc.1, see the AngularFirestore module. https://github.com/angular/angularfire2/blob/master/docs/firestore/documents.md. @davideast done.. Thanks for the fix! I patched in #1186 too, but @davideast wants to test that change some more.. @davideast found a couple more hairy problems here, spent the evening hacking work arounds together but couldn't find anything more elegant then firing next(undefined) before onSnapshot to indicate a reset. It might not be pretty but it will solve the problem cases I defined in the tests.. One of my fixes introduced in 28aef60 (passing undefined) no longer works against master, since we are no longer filtering out null sets (eb71edc). I made that test pending while I think on a new, hopefully more elegant, solution.\nThis should handle most cases though.. Ok I found the troubles, another commit coming in shortly.. Whoops jumped the gun here. Meant to just push up my branch and start a proposal. . Thanks!. Fair. There's a work around with the new API now. Closing due to it being outdated.  . As @Toxicable mentioned there no longer is a .$key, valueChanges() strips the metadata. You can use snapshotChanges() to access the snapshot + do with it what you wish.\nAm I misunderstanding @jeanvanwyk?\nClosing for now, continue discussing, will reopen if a bug is identified. . Thanks!. At least 1 and 3 will be fixed when we cut the next version, haven't seen 2; I'll look into it.. Can you open a new issue for that?. Thanks!. K, I fixed in AFS I'll grab AFDB tonight + cut a new RC.. FYI this is a little trickier with RTDB + the new arch. Still in progress.. Thanks, will address.. Thanks for the fix!. This sounds like a permission error, do you see anything show up in your browser's inspector?. What features don't you like? Is it the dropping of the metadata from valueChanges, having to query by building on the ref, or does this have to do with bugs? This is a big change so there will be some we need to work out. \nYou can always install the older version by npm install --save angularfire2@VERSION. This is a doc issue, I will address #1235. Working on it now #1220 . I have this in progress alongside several other fixes. . Thanks for reporting! Keep an eye out for the next RC. This is already supported. Just initialize more than one Firebase app in your ngModule and then switch/swap/rename them via providers.\nHere's a quick stackblitz demonstrating https://stackblitz.com/edit/angular-aw3pyc?file=app%2Fapp.component.ts\nI'll add to the docs, in the meantime the DI docs for Angular are a good start. https://angular.io/guide/dependency-injection-in-action. FYI angularfire2@next has a much much better solution.. Thanks!. I have a WIP branch that I'm cleaning up + separating into several PRs (this being one of them) now.. Hmmm, interesting. I'll keep an eye out for that.. Update I'm feeling but would you really want a partial for set?. @diegotham could you sign the CLA?. Thanks!. Thanks for the good answer @willshowell \nGoing to close, we decided against any sort of caching in the module itself, instead allowing the developer to implement what they need. We wouldn't want to blow things up on large collections, etc.. Glad to see you sorted it out. \nI'll put create, update, and delete in the examples; that way it's demonstrated.. ts\nthis.afs.doc('/path').take(1).do(d => d.payload.exists())\nAs of 5.0 rc3 empty sets/docs should be handled correctly.\nI am working on an API to make return or create easier.. firebase.Thenable. Eye before E except after See \ud83e\udd23 \nThanks for the patch. CLA?. Thanks!. Closing, outdated. Solution in 5.0, keep a reference to the ref around (and build it with the firebase js sdk methods + pass into AF2) if you need to access methods on it.. Nice one, I was planning on doing that this evening. Thanks!. Thanks for the fix. Thanks. #1026. Your stackblitz link is broken. A) I can't reproduce, forked it and it seems to work fine for me https://stackblitz.com/edit/angularfirebase-basic-crud-delete-error-ihjpuu?file=app/app.component.ts\nB) but why .take(1) + force refresh, one of the best things about Firebase / AngularFire is the live connection https://stackblitz.com/edit/angularfirebase-basic-crud-delete-error-dzxdxr?file=app%2Fapp.component.ts this is much faster and reliable IMO. Tags in this case is an map type, rather than a subcollection. .awesome being dynamic user-defined data, which is not indexed. I pulled this section straight from the Firestore documentation here https://firebase.google.com/docs/firestore/solutions/arrays \nThey seemed to have cleaned up the language since. I'll pull in their changes.. We now allow runtime DI in rc7. Will document but give it a shot in the meantime.. Definitely not an angularfire2 issue. But seems like you're binding to data.name, shouldn't you be binding to data.val.. Hey there, this is because we import Observable from rxjs/Observable rather than rxjs/Rx to keep the bundle size low.\nYou can import the operators you need like so import 'rxjs/add/operator/debounceTime';\nHere's the fixed stackblitz https://stackblitz.com/edit/angular-jwxavu?file=app/hello.component.ts. This doesn't get your user object, but an Observable of it. See it in action by subscribing to it:\ngetUser(1).subscribe(console.log);\n\nYou can subscribe, map, switchMap what be it, or use a BehaviorSubject to keep a \"current value\". If you want to use it in a view, use an async pipe:\n{{ (userObject | async)?.email }}\n\n. It's firestore + you mention after deploy to Firebase, which makes me think it's the cache. It could be that the local cache is firing first, before the live connection is established.\nI'll have to do some experimenting here.\n@davideast does that seem like a possibility to you?. Whitespace is fine. Test is red though, see also comment.. This is not supported natively with Firebase. You can do something client side, but you'll need to download the entire data set you intend to filter. . We do. There's some minor things we need to fix first, will get to it first thing this week.. Go ahead and follow that link to create the necessary database index. You will need a composite of uid + the startedAt field..     import 'rxjs/add/operator/take';\n....\n\ndocRef.take(1).subscribe(console.log);. Lean on rxjs for this. Thanks for the PR. Sorry to fall behind on merging, got a travel bug coming back from the Firebase Dev Summit.. Thanks for the PR. Don't worry about the whitespace ;). see #1464. This can be solved with getIdToken and onIdTokenChanged with the js sdk. . Thanks. @douglashm thx \ud83d\udc4d . You will want:\n\nts\nlet item$ = this.af.object('/product/' + productId).snapshotChanges();\nitem$.take(1).subscribe(action => \n  if (action.payload.exist()) item$.update({ quantity : item.quantity + 1})\n}). Underlying cause is the same as #1347, closing this one . I'm actually tackling right now. Thanks for the report!. Once patched I'll cut a new RC. . Fixed in rc7. Thanks for finding that problem. I had incorrectly assumed switchMap\nwould've stayed in the outer zone, I'll patch for the next RC.\nOn Thu, May 31, 2018, 4:04 PM Ed Pelc notifications@github.com wrote:\n\nThanks @PierreDuc https://github.com/PierreDuc! I can confirm the run\noutside zone method works as intended. I'm not using angular fire but it\nfixes it with interval from rxjs since it's the same idea.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1347#issuecomment-393709707,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvrxI76CsS67UUQ_K-JT7X0bvUJhOfks5t4Hb3gaJpZM4QjZYY\n.\n. Closing, outdated. Feel free to open a new issue if you're having trouble with more recent releases.. This is due to multiple subscribes on a valueChanges + everything gltiching our with multiple listeners and conflicting data, you'll need to lean on rxjs more. If you update your stackblitz with project credentials, I'll fork and show you a fix.. Hmmm... I'll take a peek here. If someone can put a repro together on stackblitz it would be appreciated.. Is this Firestore or RTDB?. This is how Observables work out of the box when they're hot + shared. If you need this behavior you should create a BehaviorSubject and subscribe it to your valueChanges() or cache the last result with a share(1).\n\n. Yeah, I upgraded to get rid of the peer warning for Angular 5.  We're planning on upgrading as we go, I'm not as concerned about backwards compatibility but won't go out of my way to break things ;)\nThanks for raising.. @davideast I'd rather snapshotChanges() return an action type to maintain consistency w/Firestore+RTDB ngrx friendly APIs.\nHow about a stateChanges() too?. Correct. Firestore does not support or.  What you can do is combineLatest and compare in memory. \nOne of the core principles of Firestore is that the speed of queries will always be based on the size of the requested result set, not the size of your entire data set. E.g, requesting 10 records out of 100 is the same as requesting 10 records out of 100,000,000. Allowing \"or\" wouldn't allow for that constraint. . I think that's out of scope for AF2, it could be a feature request for the JS SDK in general though. https://github.com/firebase/firebase-js-sdk. @patrickmichalina yeah, need to get the isStable fixes in before tackling state transfer + I'm not sure how many of those bugs have stuck around in Angular 5. From what I was told a couple of macrostate problems I was having in 4.x were solved + it seemed much better on my fresh Angular CLI project. Will have to update my larger test project.\nUltimately it's going to come down to tinkering with Zone + getting it playing nice with the websocket / grpc streams. Simply hitting it with some runOutsideOfAngular should help, e.g, zone.runOutsideOfAngular(() => ref.onSnapshot(snap => zone.run(() => subscriber.next(snap))))... but with the current class/directory structure there's going to be a bit of shuffling around to get the @inject's in the right spots.\nAnyway, this is a needed first step!. FYI I've kicked off the zone work in #1454. @patrickmichalina I was meaning to get some time in with state transfer this week; but looks like I may have more on my plate than expected. Feel free to send a PR with anything that you're thinking.\nMy plan was to startWith cache, just as you've done, and then figure out how to rehydrate the Firebase connection in a way that \"pretends\" it was just a connect/disconnect (that way it doesn't fire off events the server has already seen.) I've chatted with the Firebase JS SDK developers on the \"right\" way to do this + just have a bit more work to do first.. Yeah, this is upstream; we'll need the Firebase JS SDK to become more modular to allow the package size to be reduced further. There are conversations going on here but we don't have anything to announce yet.. You'll need to switchMap the params, after some tweaking I got your StackBlitz working well https://stackblitz.com/edit/angular-rddud2. I'm going to close this issue, since it's currently working as intended and work arounds have been provided. If we want an API change or a rehaul on the Observables, I'd suggest opening Proposal Issue.\nI've been discussing with more Angular folk + I think we can change the API in a way that makes everyone happy without deferring. I'll let the idea build in my mind a bit more before putting up a proposal.\nFeel free to continue discussing here.. If this still is an issue please open a fresh issue with a StackBlitz, we've released a lot since then + are starting the RXJS 6 migration.. Let's do this!!!!. IMO this is really a situation unique to your code + not something we are aiming to support on a Framework level. \nI'd really advise against \"thrashing\" your attributes, especially if you're looking at Firestore at all. Your batch service sounds like it's useful to you, yes, but I don't think it's something easily generalized + goes against the philosophy of this project.\nGenerally I'd suggest an RXJS debounce. Going to close since it's not clear that this is an issue with AF2, please provide a repro if you reopen.. Please update your Firebase JS SDK version and the types, should fix these issues. If you're continuing to have problems please open a new issue with reproduction steps.. @patrickmichalina I've been considering this. I don't think I'll tackle in this PR however; just want to get the basics working first + see how adoption goes.. @davideast yeah I tried to pull all the zone wrapping into a FirebaseZoneScheduler static function but was getting some binding issues all the way down in the minified grpc stuff. Only on the server too, so probably webpack doing something weird. I'll think on a cleaner pattern here BUT it works ;) . @davideast working example up FYI https://onsnapshot-flex.appspot.com/\ncurl https://onsnapshot-flex.appspot.com\ncurl https://onsnapshot-flex.appspot.com/articles/kidpCvq4bYVf5ZYVO24Y. Please use Stack overflow for this type of inquiry. If you're still running into it you should open an issue with the Firebase JS SDK, since you're using their code in this case.. I'd suggest leaning on rxjs and using a takeWhile afAuth.authState not null. Check out angularfire2@next for SSR\nOn Tue, Apr 17, 2018, 3:31 AM Erick Ballesteros notifications@github.com\nwrote:\n\nhaving the same issue to use angularfire with SSR. Does this seem to be\nthe current case still? does the angularfire library intend to support SSR\nsupport or still pending PR?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1461#issuecomment-381920455,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr33gVi3XCWb7F5hy2kBvSZmOmhUZks5tpbZugaJpZM4R_5nb\n.\n. See #1069. Can you help me understand your use case? Happy to reevaluate the change or put something else in there.. FYI We're planning on adding .user which will expose the user from onIdTokenChanged. Addressing in #1642. Just cut rc.9, which includes the change. This should not be the case at all. Can you share a repro on StackBlitz?. The property .auth on the injectable AngularFireAuth module is an initialized auth instance. \n\nYou are not calling new firebase.auth here but new firebase.auth.RecaptchaVerifier. We do not provide wrappers for authentication methods.. Sounds like your dependencies are messed up, make sure your up to date with both the Firebase JS SDK versions and the types.. Make clicks an Observable then switchMap it.\nthis.activitiesCollection = this.clicks.map(clicks => \n  this.afs.collection(activitiesPath, ref => ref.orderBy('date', 'desc').limit(3 * this.clicks))\n)\n\nthis.activities = this.activitiesCollection.switchMap(c => c.valueChanges());. Without it being an observable there's no way we can tell it's changing in value. Further, rather than expect an Observable or a primitive, handle both, and then have all that boiler-plate we decided to be more \"pure\" and expect you to use our functions within an operator. Small cost for a dramatically smaller/simpler codebase.. I'm betting it's not handling a promise well. Would it work to leave it an observable and use the async pipe?\n\nts\nshowPhoto(refImg) {\n        const ref = this.storage.ref(`images/${refImg}`);\n        return ref.getDownloadURL();\n    });\n}\nhtml\n<div class=\"image-container\" *ngFor=\"let photo of photos | photofilter\">\n    <img [src]=\"showPhoto(photo.image) | async\">\n</div>. Thanks. Use AngularFirestore's createId() method for this. . Thanks!. https://github.com/firebase/firebase-js-sdk/blob/master/packages/auth/src/authstorage.js#L144. No repro. Can you reopen with repro steps + the most recent versions of things, if you're still hitting this?. Being addressed in #1813 . This project is maintained but we aren't super heros. \nI'm working very hard on sorting out the Zone.js issues, deast is writing a cloud messaging module, and we're both working on a number of talks as well as handling our other job responsibilities.\nWith all due respect it's messages like this that cause open source maintainers to get burnt out. \nWe're working on a solution to the Firebase JS SDK breaking things on us, in the meantime we're happy to accept patches from anyone willing to help out. . Closed dup. . Thanks and sorry for the knee jerk.\nI'd also recommend opening a bug on https://github.com/firebase/firebase-js-sdk, it seems to me them breaking the typings / APIs in minor releases is a bug on their end. It has been a pain point for us as you've obviously felt. . Issue with the Firebase JS SDK, open an issue with their github repo if it still persists; they did completely rehaul their polyfills recently.. I don't think we intend to wrap this API, but you should be able to access the method via the initialized firestore instance we expose, assuming you constructed with the name afs like so:\nthis.afs.firestore.disableNetwork()\nIs that satisfactory or did you have something else in mind?. On master, will cut a @next release with this type additions shortly.. Needed more work, superseded by #1644 #1643. @iNViTiON I'm fine implementing here as that pull request has been open for some time... paging @jshcrowthe. Going to close since not an apparent issue with AF2, feel free to continue discussing.. https://github.com/firebase/firebase-js-sdk/issues/605. Appreciate the review, I'll jump on these after addressing the Firebase SDK stuff.. @davideast addressed your review and updated against master. . I've noticed catch is not working as expected in the JS SDK in several spots, can you open an issue on their repo since you're using their API in this case? https://github.com/firebase/firebase-js-sdk/issues/new. @IgorMinar we can't review / merge on our own anymore. Adding you as reviewer in the meantime. . Please stick with Firebase JS SDK 4.x for now, we're working on 5.0\ncompatibility but there are a number of breaking changes.\nOn Thu, May 10, 2018, 5:52 AM rojasjandro89 notifications@github.com\nwrote:\n\nI can see it compiles just fine now. But it's giving me another error now.\nAfter I install the compat package I can't map and\nAngularFirestoreCollection.snapshotChanges() to get the document id:\n[image: image]\nhttps://user-images.githubusercontent.com/17559789/39870379-2e89c9b6-542f-11e8-81cb-f7039a6f791f.png\nI get the following error in console:\n[image: image]\nhttps://user-images.githubusercontent.com/17559789/39870176-59a48e34-542e-11e8-8f71-e3e0e55ec28c.png\nThis is my package.json:\n{ \"name\": \"support-portal\", \"version\": \"0.0.0\", \"scripts\": { \"ng\": \"ng\",\n\"start\": \"ng serve\", \"build\": \"ng build\", \"test\": \"ng test\", \"lint\": \"ng\nlint\", \"e2e\": \"ng e2e\" }, \"private\": true, \"dependencies\": {\n\"@angular/animations\": \"^6.0.0\", \"@angular/common\": \"^6.0.0\",\n\"@angular/compiler\": \"^6.0.0\", \"@angular/core\": \"^6.0.0\", \"@angular/forms\":\n\"^6.0.0\", \"@angular/http\": \"^6.0.0\", \"@angular/platform-browser\": \"^6.0.0\",\n\"@angular/platform-browser-dynamic\": \"^6.0.0\", \"@angular/router\": \"^6.0.0\",\n\"angularfire2\": \"^5.0.0-rc.7\", \"core-js\": \"^2.5.4\", \"firebase\": \"^5.0.1\",\n\"rxjs\": \"^6.0.0\", \"rxjs-compat\": \"^6.1.0\", \"zone.js\": \"^0.8.26\" },\n\"devDependencies\": { \"@angular/compiler-cli\": \"^6.0.0\",\n\"@angular-devkit/build-angular\": \"~0.6.0\", \"typescript\": \"~2.7.2\",\n\"@angular/cli\": \"~6.0.0\", \"@angular/language-service\": \"^6.0.0\",\n\"@types/jasmine\": \"~2.8.6\", \"@types/jasminewd2\": \"~2.0.3\", \"@types/node\":\n\"~8.9.4\", \"codelyzer\": \"~4.2.1\", \"jasmine-core\": \"~2.99.1\",\n\"jasmine-spec-reporter\": \"~4.2.1\", \"karma\": \"~1.7.1\",\n\"karma-chrome-launcher\": \"~2.2.0\", \"karma-coverage-istanbul-reporter\":\n\"~1.4.2\", \"karma-jasmine\": \"~1.1.1\", \"karma-jasmine-html-reporter\":\n\"^0.2.2\", \"protractor\": \"~5.3.0\", \"ts-node\": \"~5.0.1\", \"tslint\": \"~5.9.1\"\n}, \"prettier\": { \"printWidth\": 250 } }\nIs anybody else having this problem?\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1538#issuecomment-388043540,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvryZPp3HLw6-6CqCr1DNMkP_6sOdHks5txDgpgaJpZM4TBW5s\n.\n. Fixed in angularfire2@next. Hey there, this appears to be an issue with the Firebase JS SDK, rather than us. Can you file an issue there? https://github.com/firebase/firebase-js-sdk/issues/new. Fixed in rc7. You're seeing a difference because there are changes on master that were not released in rc6. rc7 is now released.. Angular 6 is coming, I'm aiming to get it shipped Monday. \n\nGA was hung up on the Zone and Universal issues. Now that we're past those it's mostly documentation. We're going to continue our steady march after Google I/O as deast and I are very busy in preparation.  . Going to close this PR, as I'm planning a different approach here.\nNamely making the delta hash rehydratable in the JS SDK. That paired with startWith and a cache will mean once the connection is reestablished client-side you will only get changes since the server fetched the value last.\nWe don't want to go down the rabbit hole of mapping to http calls and having conditional behavior server/client. \nIf you feel strongly about this being the correct approach for you, you may want to check out angularfire-lite.\nThanks for the ideation and the work you put in here. I may source some of this change-set to bootstrap the state transfer work, if I do I'll make sure to credit you ;) . @kylecordes the first emission is your cached results, the second is presumably the update from the server.. We just added a get() observable in rc.12. That should help.\nDocs are pending but give it a shot in the meantime.\nOn Fri, Aug 24, 2018, 9:11 PM Kyle Cordes notifications@github.com wrote:\n\n@jamesdaniels https://github.com/jamesdaniels @davideast\nhttps://github.com/davideast It would be much preferable to have\nprogrammatic control (or at least visibility) on this. As we try to create\nvisual polish by running animations as the data changes, this double\ndelivery of the data causes exaggerated visual disruption.\nYet there seems to be no straightforward path to postprocess the\nobservable and get good results; skip(1) doesn't work, because on an\ninitial load there will only be a single emit. debounceTime() works, but\nrequires guessing a time delay, a guess likely to be wrong on varying\nhardware and networks.\nOf course, I could be missing some obvious workaround, perhaps with a bit\nmore Rx manipulation I could discard the initial delivery only if it\nhappens within some very short time bound (indicating it came from cash) or\nsimilar. Still, even such a workaround would be much worse than some\nexplicit way to handle this.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1552#issuecomment-415933596,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr0UlUNLqK8NdQzcDNGjMhDTaE895ks5uUM5zgaJpZM4TMafV\n.\n. No, get() replaces the need for take(1) and allows an optional argument\nallowing you to control whether the results come from the server or cache.\n\nThis behavior is not erroneous. It's your local cache firing the first\nemission per design of the JS SDK. You do want the user to see something if\ntheir network is not available right?\nWe're thinking of allowing an argument to value/snapshotChanges() allowing\nyou to control the source (or at least include metadata so you can filter)\nbut it would require a breaking change, so we can't do it until 6.0. We'll\nlikely add it in a new Observable but have to consider the design.\nOn Sun, Sep 2, 2018, 8:55 PM Kyle Cordes notifications@github.com wrote:\n\n@jamesdaniels https://github.com/jamesdaniels Doe get() make it\npossible to retrieve the first \"real\" result, and then further updates on\nthere, without ever getting the erroneous partial result at the beginning?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1552#issuecomment-417993778,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvrxD-RQznTAUIDta9f3KDN5WhgVnnks5uXKgTgaJpZM4TMafV\n.\n. Closing since we already have an issue to create testing docs, feel free to continue discussing.. This is working as expected. EndAt and Limit when used in conjunction end the results with the the \"first to hit\".   Limit means no more than 3. EndAt means end once reached, it doesn't set the floor of the query.\n\nFor the behavior you're seeking, you should reverse the order (sort \"desc\"), use startAt, and then flip it once you get your results back. . Going to close as it's not a bug with the library. Feel free to continue to discuss here.. Please do not do FCM client side, instead use cloud functions. This is a big security vulnerability.. You should be able to do this with DI in the @next release using the RealtimeDatabaseURL injection token. I've been meaning to document this. Give it a shot.. There's the RealtimeDatabaseURL injection token as of rc7. The individual modules no longer pull the angularfire app module directly, instead use the factory each time. So just provide it in your module declaration.\nSee here https://github.com/angular/angularfire2/blob/master/src/database/database.ts#L19 \nI'll work on docs for this.\nIf you need multiple databases in the same component building the ref as @carlosacabrera is the correct way to do this; you could also get fancy and make your own module for AngularFireDatabase to use both, but IMO not worth it unless you were referencing two separate Firebase applications in the same module.. fixed in rc7. Thanks for the quick fix.. @sarunint I'll support the new Firebase initialize method style, which takes automaticDataCollectionEnabled as an argument in a follow on PR. Will want to bump the req in the package.json for that one.. fixed in rc7. Fixed in angularfire2@next. Sorry been out of office, will cut a release tomorrow.. I'm working to see if I can fix a bug with change detection in @next before\nchosing to branch to release the changes introduced in 4.13. In the\nmeantime please pin to firebase 4.12.\nOn Mon, Apr 30, 2018, 10:59 AM Richard William notifications@github.com\nwrote:\n\nAlso waiting for the fix, we shouldn't be making edits to packages like\nthat.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1576#issuecomment-385478775,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr04lrvt0Xag5MdbooBQ1hjRpKoHGks5tt1D-gaJpZM4Teq-x\n.\n. FYI rc7 was just released, which addresses. Closing since issue with the code, not our lib, feel free to continue discussing; but I'd suggest StackOverflow for questions like this.. Closing since not an issue with AF2, if the problem is persisting now that Facebook has done all the changes to their platform open an issue on the Firebase js sdk directly.. #1464 . Closing in favor of #1625 . Just cut a new angularfire2@next which should address, it seems I slipped up on some Zone.js stuff esp. on the RTDB. I'm mostly using Firestore myself these days. Give it a spin and let me know if that's working better for you @byrondover; and I'll double check my Zone.js work in my Universal test bed.\n\nhttps://stackblitz.com/edit/angular-fau5ia?file=app/example/example.component.ts\nReally appreciate the time you spent diagnosing this, it allowed me to zero in on the bad spot in the code immediately.. We're aware of the blocking before .first() returns, as we're currently invoking a microtask to support Angular Universal and work with ngsw as expected. The timers will no longer trigger change detection every couple seconds, as that was a bug. \nIt should not however drop your frames, I'll look into that.\nI'm going to be working with a Zone.js maintainer to make sure that we're doing this the \"right\" way in the future.. @byrondover I just cut a new angularfire2@next build, can you check if you're seeing better performance for your large application or is it still locking up? While we're investigating, I've made the microtask only happen on the server; which should allow both browser side performance and render blocking for Universal.. That's just bizarre... sounds like maybe the scan isn't collapsing things as expected. I'll call this good for now and keep an eye on this :/ if you are able to repro let me know.  I'll sync up with the zone folks too and review after Google I/O. . You know maybe it's because I dropped the observeOn queue... that's the only other thing I changed since it only seems to create bottlenecks and false assurances (at least in my test apps). Maybe dropping it is losing some magic at the larger scale that I'm not immediately thinking of. . @byrondover would you mind shooting me an email at jamesdaniels@google.com so we can setup a meeting RE your use of the lib + the performance issues. My calendar is pretty full for the next week and a half but after that we can see if I can find out what exactly is wrong.\nThank you very much for all your help in diagnosing these issues.. @jdherder thanks looking at this. I've done a bit of rehauling on the types as you can see in master. Hoping to get some of this work backported into the types in the JS SDK too.\nGoing to close for now as at a quick glance it seems outdated. Feel free to open up a new PR, to better match what's on master, if you're feeling up to it; otherwise I'll get to it at some point.. I have a suspicion on both this and the root cause of your slow down now; I'm going to close this while I think on it more + come up with an ultimate fix.\nI think the .share got moved to a different place, leading to multiple listeners being created w/your usage patterns. While it's not changing the data it's leading to unnecessary change detection since we're slicing the array. distinctUntilChanged() is thinking in the right direction, but I think ultimately the correct thing to do is be more careful about using slice and creating a new array (which trips change detection, since === is false) when the snapshotChange is a no-op.. import { firebase } from '@firebase/app';. Fixed in rc7. Closing since not a problem with the lib.\nYou can totally iterate over the collection, forEach. If you have trouble with that I'd suggest stackoverflow.. That first firing is returning your cached value, this is expected. There are methods to control this in Firestore requests now and we are considering how best to expose in AngularFire. Closing in favor of #1490, which i'll use as exposing these options. #1538. You will need to upgrade to the latest angularfire2 rc.\nOn Tue, May 15, 2018, 11:18 AM Mr Patel notifications@github.com wrote:\n\nnode_modules/rxjs/BehaviorSubject.d.ts(1,15): error TS2307: Cannot find\nmodule 'rxjs-compat/BehaviorSubject'.\nnode_modules/rxjs/Observable.d.ts(1,15): error TS2307: Cannot find module\n'rxjs-compat/Observable'.\nnode_modules/rxjs/Observer.d.ts(1,15): error TS2307: Cannot find module\n'rxjs-compat/Observer'.\nnode_modules/rxjs/Operator.d.ts(1,15): error TS2307: Cannot find module\n'rxjs-compat/Operator'.\nnode_modules/rxjs/ReplaySubject.d.ts(1,15): error TS2307: Cannot find\nmodule 'rxjs-compat/ReplaySubject'.\nnode_modules/rxjs/Subject.d.ts(1,15): error TS2307: Cannot find module\n'rxjs-compat/Subject'.\nnode_modules/rxjs/Subscription.d.ts(1,15): error TS2307: Cannot find\nmodule 'rxjs-compat/Subscription'.\nsrc/app/fa/fa.component.ts(8,10): error TS2305: Module\n'\"/Users/aaaaa/workspace/fs-tool/fs/fs-app/node_modules/rxjs/Ob\nservable\"' has no exported member 'Observable'.\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1593#issuecomment-389264016,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvrx4MH2TaBw-U2n4P8q7jvvaXoD2-ks5tyxvbgaJpZM4TyVf1\n.\n. We're supporting Angular 6 now, can you confirm if this is still an issue in angularfire2@next. Going to close unless confirmed issue with our latest release. @Ploppy3 I saw an error about that on the angular repo, that sounds like an issue with your tsconf. Have you tried the provides syntax for configuring rather than using initializeApp instead?\n\nts\n  ...\n  imports: [\n    AngularFireModule,\n    ...\n  ],\n  providers: [\n    { provide: FirebaseOptionsToken,   useValue: YOUR_OPTIONS },\n    { provide: FirebaseAppNameToken,   useValue: undefined },\n    { provide: FirebaseAppConfigToken, useValue: undefined },\n  ],. These providers are stable, I'm not sure what the root cause is. initializeApp() just sets these for you.. This seems like an issue on the Firebase JS SDK, can you open an issue there? https://github.com/firebase/firebase-js-sdk. Thanks for the fix. If there is an issue here, it is most certainly with the JS SDK not AngularFire and you'll want to open an issue over there https://github.com/firebase/firebase-js-sdk. Fixed in angularfire2@next. Should be fixed in angularfire2@next, we'll release a new RC early next week.. For the types, you should import from firebase.\nts\nimport * as firebase from 'firebase/app'\n...\nlet point = new firebase.firestore.GeoPoint(32.5522, 34.556656). This is different in 5.0 now, you should do:\nts\nimport { firestore } from 'firebase/firestore';\n...\nnew firestore.GeoPoint .... Fixed in angularfire2@next. @paulstelzer thanks for the patch. I think you'll need to bump the firebase version in the package.json to get it to succeed in Travis.. We didn't support Angular 6 until just now. Can you confirm if this is still an issue in angularfire2@next and open a new issue if so?. FYI just cut a couple fixes to angularfire2@next (8.1). I imagine there are two firings with bytesTransferred === totalyBytes as the state is going to change too, I'd suggest either checking the state or use the finalize operator.\nts\nthis.task.snapshotChanges().pipe(\n    filter(s => s.state === TaskState.SUCCESS),\n    tap(snap => this.db.collection('user-avatars').add({path, size: snap.totalBytes}))\n);\nts\nthis.task.snapshotChanges().pipe(\n   finalize(() => this.db.collection('user-avatars').add(...))\n);. We're working on compatibility with Firebase 5.0 but there are some\nbreaking changes, please stick with 4.x as we have pinned in our\npackage.json right now.\nOn Thu, May 10, 2018, 7:05 AM rojasjandro89 notifications@github.com\nwrote:\n\nYeah, that's what I did. I downgraded the whole project. I hope they fix\nthis soon...\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1611#issuecomment-388063561,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr-eNquMJfFE5502wYrx0IRM2NKKyks5txEk2gaJpZM4T5alF\n.\n. #1605. @laulaaa have a chance to look at the CLA yet?. Thanks for the PR, I've changed the API interface for AngularFireAuth in #1642 though; closing since this will be outdated once we merge that. Feel free to continue doc changes and reopen when it makes sense. \n\nThanks for contributing \ud83d\udc4d . Please use Firebase 4.x right now, we're working on compatibility but there were a number of breaking changes. . There have been quite a few changes in the JS SDK, can you confirm if this is still a problem with Firebase 5.0 and angularfire2@next. If so, you should file an issue with the JS SDK https://github.com/firebase/firebase-js-sdk. Fixed in rc7 and @next . Solution provided, closing. rxjs-compat is indeed the answer here as they both moved the path and renamed queue to queueScheduler in 6. We're working on rxjs 6 support now and should are hoping to cut a new RC Monday.. Fixed in angularfire2@next. @jymdman Thanks so much for the help here!. Closing @kawamoto's pull request in favor of this one; I pulled in some of his changes so gave him co-author status. He's signed the CLA as verified in #1582. @robertbaker sorry for making this look \"preferred\". I already merged in several of @jymdman's PRs which brought the modules up to speed with pipeable operators. For the most part here I just pulled in the pieces of @kawamoto's pull request that were still needed; largely just updating the paths, build, karma.conf, and getting the tests green and please note I gave him co-contributor status here. I did this simply so I could move faster in merging this work; not to squash any community effort.\n@davideast I'll put the work in to support database-depreciated rather than drop it. We can do that after proposing a change.. @robertbaker @GaryB432 and yes, we're sorry for the lack of communication here; both @davideast and I have been very busy prepping for, speaking at, and staffing Google I/O. I'm just trying to jump on this now that we're in the clear. I want everything fixed up so I can cut a new RC Monday AM.. Released as angularfire2@next. Wow, googlebot does not handle branches with co-contributors well at all.. Please try upgrading to angularfire2@next, we support Angular 6. Note you will need to upgrade your firebase version too. If you still have an issue please open an new issue.. Hopefully the bangs won't be needed much longer, seems to have attention in the JS SDK https://github.com/firebase/firebase-js-sdk/pull/793. Darn, looks like I missed up something in the merge; will address.. Going to close for now, having trouble with the exports.. Please ask questions like this on stackoverflow.. Fixed in angularfire2@next. https://github.com/angular/angularfire2/pull/1625. It seems like it's not an issue with us but angular, I'll leave this open for now though so people can find it and incase angular gives us any direction. E.g, we should do something different with our metadata. . I'm presuming it just has something to do with ng6; but we did change a couple other things since rc7. Namely the addition of AppConfig.\nWait... I might have just thought with something. I did clear out the old overloaded method style as we are using optionals and tslint was complaining about it being unnecessary, maybe that had something to do with it. Let me experiment with that.. Yeah, no dice on that change; I did it before rc7.. @brijmcq I'd recommend the work-around stated in the issue body in the meantime.. FYI #1641 will make this cleaner by making name and appconfig optional. . Just cut rc.9, which fixes this issue. We've replaced FirebaseAppConfigToken and FirebaseAppNameToken with a new FirebaseNameOrConfigToken which takes a string | FirebaseAppConfig. \nSorry for the breaking change folks, I put a --prod build task in our Travis setup so now we'll be able to catch stuff like this earlier.\nThanks for all your patience and being awesome users!\nBtw, to sweeten the deal I got the AngularFireFunctionsModule merged and pushed with rc.9; you should give it a shot ;) Getting FCM support in will be my next priority.. import { firebase } from \"firebase/app\"; is best. . Give angularfire2@next a shot or use rxjs-compat, the last release rc doesn't support 6 out of box. . import { firebase } from '@firebase/app';. Seems like a mismatch of libs vs. typings.... You'll need to ensure that your @firebase/* and @firebase/*-types are on the correct versions. If you continue to have troubles please file a ticket with the Firebase JS SDK https://github.com/firebase/firebase-js-sdk. You need to use one of .valueChanges(), .snapshotChanges(), etc.\ndb.list('/courses').valueChanges().subscribe(...). Firebase 5.0 removed downloadUrl from upload task, so we did so too. I'll rework the doc. . You need to use downloadUrl on the ref.\nOn Mon, May 14, 2018, 6:31 PM S E R A Y A notifications@github.com wrote:\n\n@jamesdaniels https://github.com/jamesdaniels thanks for the info. Did\nthey replace it with something else or can't we use this functionality\nanymore?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1645#issuecomment-389013788,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr4oDTTjULjyfeztdQkxPizfo_L_cks5tyi_ggaJpZM4T-C61\n.\n. Docs have been updated.. @xlxAciDxlx maybe this is getting you, I have it in a PR right now https://github.com/angular/angularfire2/pull/1655/commits/f9a09648768aec78a7873f1101cd56f05feedae0. Can you post the firebase parts of your package.json?\n\nOn Tue, May 15, 2018 at 5:09 PM AciD notifications@github.com wrote:\n\nI'm also having the same problem. Any solution?\nPhew, glad I'm not the only one. I followed numerous tutorials and they\nall led to the same result, this error. I manually tried @jamesdaniels\nhttps://github.com/jamesdaniels proposed PR, but to no avail.\nSo at least from my side, I've not been able to find a solution,\nunfortunately. :/\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1647#issuecomment-389353569,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr1nGOV6YtBM1uQCwoC2VDcJjbXWTks5ty25SgaJpZM4T-fyC\n.\n. You'll want to transition over to using the new module style @firebase/app, @firebase/firestore, etc. Give those a shot and see if that helps.. yeah, use those in your package.json; it should resolve the issue that you're experiencing . I'm not sure then, sounds like something up with your webpack. Firebase 5.0 (and late 4.x for that matter) did change a lot about how the modules are put together. If you're comfortable please share more information about your project, node_modules, and webpack config over email jamesdaniels@google.com . I'm not sure then, sounds like something up with your webpack. Firebase 5.0 (and late 4.x for that matter) did change a lot about how the modules are put together. If you're comfortable please share more information about your project, node_modules, and webpack config over email jamesdaniels@google.com . Also I'd suggest dropping the firebase dep entriely and just using the @firebase/* modules. In RC.9 I made sure this is no longer a peer dep. \n\nGoing to close for now. If you have a solid repro after taking all these steps please open a new issue. \nFeel free to continue discussing here. . Dup #1645 . @avb100 this sounds like your @firebase/app-types is out of date.. @avb100 sounds like a slog, sorry to hear. Let us know if you run into any else. This error will be experienced if you're running Firebase 5.0 without\nupgrading to our latest RC.\nOn Tue, May 15, 2018, 10:11 AM David East notifications@github.com wrote:\n\nWe need to know what versions of Angular, AngularFire, and Firebase you\nare on. You likely need to upgrade to the latest AngularFire which provides\nsupport for the new docChanges api which was recently converted to a\nfunction.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1653#issuecomment-389243075,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr7zdD1goRaF-q90-xawNCWMl8VSFks5tywwygaJpZM4T_3Ut\n.\n. No problem. RC 9 is only compatible with Firebase 5.0.2+. @codediodeio I think this is an alright solution, thoughts?. @davideast I'll cut rc.9 after we merge this.. Might be related to #1647 . @feryholanda I responded to your issue in #18, please keep the comments related + post general questions to StackOverflow.. @JustinMyers Hey Justin, good catch; this is just our docs being slightly ahead of the current release. We shouldn't have merged those changes yet. Our next release going out either today or tomorrow will have a .user Observable.. Our docs got ahead of our release cycle, we'll be cutting a build shortly which adds .user in the meantime use .authState.. Fixed in rc.9. Fixed in rc.9 which just went out.. This was a breaking change in RC 9, we fixed the typings :P \n\nYour data object is now a Shirt. Odd that it's not spreading for you, you might want to look at your Shirt interface... I'll play around with this in my test project.\nIn the meantime you could do ...(data as {}). Ah, so yeah you're losing the type information when you pass the reference + the default is any\nI forked your StackBlitz and altered it to achieve what I think you're looking for https://stackblitz.com/edit/spread-operator-error-j5r6nm?file=src/app/app.component.ts. What error do you get on installing @firebase/firestore-types? Seems relevant. . This was fixed in 5.0.0-rc.9. . RC 9 only works with Firebase 5.0.2+. Did you put AngularFireDatabaseModule in your @ngModule's imports in app.module.ts?. @Zediz your stacktrace mentions firestore.js:28 which is of(false); of being imported from rxjs/observables. What version of RXJS are you using? RCs 8 & 9 are only compatible with RXJS 6.\nCan anyone else on the thread can confirm if this is the issue?. @diego-lipinski-de-castro let's please keep the conversation to the error at hand.. Closing for now, since I'm 99% sure that's what the issue is.. @diego-lipinski-de-castro are you the one trying to import Observable or is it a lib? Observable can be imported from rxjs: import { Observable } from 'rxjs', if it's not you including you'll want to hunt down the library having troubles and file bugs with them.. For reference here's the RXJS 5 => 6 migration guide.. Can you try rc.10? This should be fixed as we've cleaned up our dependencies. If that doesn't work I'll reopen.. @vinacmg perhaps @salmoro's solution worked for now but it's not addressing the root cause going forward. Pinning to an old RC isn't really a solution. I'll dig in and see what might be the cause; hopefully just an ng 5 vs. 6 issue.. valueChanges does not keep the key. You'll want to use snapshotChanges. \nThis question would be better suited for stack overflow btw. . You'll need to upgrade to rxjs 6. Here's the migration guide: httpss://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md. We're only depending on firebase and it's public-types now (RC 10). We'd advise the same, rather than using @firebase/firestore-types, as we've been advised by the JS SDK team that those are only intended for internal use. \n```ts\nimport { firestore } from 'firebase/app';\n...\nfirestore.Timestamp\n``. This should be fixed now. We simplified our dependencies in5.0.0-rc.10which we just cut.. Thanks for investigating. Can you open an issue on the JS SDK, since this seems like it's not angular-specific? https://github.com/firebase/firebase-js-sdk/issues. Error sounds straight forward to me? If there's an issue here it's out of scope of this repo, file with the Firebase JS SDK. . Safari is not supported by FCM, you'll need to catch the error. . You'll need either a try/catch around the offending line in your code, a promise catch, or an observable catchError; if you can't find it I'd suggest posting to StackOverflow with a bit more detail in your stack trace.. @suparnavg the RXJScatchError` pipe should be sufficient, no?. There's not enough information here to debug; what versions, what browser, what environment? Also this is out of scope for angularfire, please open the issue with the Firebase JS SDK.. You'll need to upgrade to rxjs 6, https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md. We'll need version information filled out and optimally a stackblitz demonstrating the issue, to help you debug.. 5.0.3+\nOn Sat, May 26, 2018, 2:26 AM mohit kumar singh notifications@github.com\nwrote:\n\nwhich firebase verion is to be compatible with latest 5.0.0-rc.10?\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1688#issuecomment-392249403,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr5X_sy0jOND4zLqvzPrhK3GwyF2Iks5t2R-0gaJpZM4UNpLf\n.\n. Looks like this issue is in the FIrebase JS SDK, can you open an issue there? Putting together a quick stackblitz demonstrating the issue will be helpful too.. You'll need to upgrade to rxjs 6 https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md. Seems like your version of firebase is outdated, what are you running in your package.json?\n\n. Doesn't seem related to AngularFire, closing. . Looks like the angular-2-local-storage version you're using expects version 4 of angular, not 3. If this is a bug you're going to have to find and file an issue with that project. We have nothing to do with them, we're Firebase. . Can you dump all the firebase and @firebase stuff in your package-lock? Seems like your NPM/yarn is fixated on a old/breaking version of @firebase/*-types or something; prior to rc.10 we used those libraries directly but the JS core team advised us they'd rather we not do that.. Going to close, as it's unclear that an actual issue exists; other than bad versions of types sticking around in someone's local node_modules. Happy to reopen if we get a repro.. https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md. You can change it after your */snapshot/valueChanges with a .map pretty easily. We (the maintainers) are not going to tell you to downgrade. The problem here is your Firebase JS SDK version, RC.10 requires ^5.0.3. Upgrade and you'll be all set. \nWith 5, you can import { auth } from 'firebase/auth' then use auth rather than firebase.auth. . Please include more details, such as versions, etc. Also seems like it might be an issue with the JS SDK rather than angularfire, if it seems so  open an issue there.. Sounds like an issue with the JS SDK, you'll want to open an issue there.. In recent versions we require RXJS 6, https://github.com/ReactiveX/rxjs/blob/master/MIGRATION.md. This seems like you're having trouble with your local node_modules, not angularfire, I'd recommend an rm -rf node_modules and starting over again.. Are you able to put your package.json or reproduce on stackblitz? What platform are you on?. I'll check on this + put in an SSR test to make sure we don't regress in future releases.. Fixed in rc.11. Fixing the apps/filter issue in #1821 . What version of Firebase + angularfire are you using?. If you were compiling for SSR or in an environment that was otherwise using CJS, you could see these failures prior to rc.12. It should be addressed now.. This is working as expected, Firestore will filter out sorts if the attribute does not exist. If you have a use case, I'd recommend filing a feature request on the Firebase support site.. This is likely from your token being empty, you have no handling for that; also you don't have to do this. Firebase will persist the login for you.. I'm guessing rxjs 6 changed some stuff, but from what I see the tests are (for the most part) green. \nWe only test the database-depreciated tests manually, since they're flaky in CI.\nWe were advised to change our API by rxjs folks (to not extend Observable) over a year ago, which is why we made the big API change.\nI'll double check things on our side, I'm guessing they changed how observeOn / schedulers work.. employee is being assigned async, you'll need to handle it being null / undefined; an ng-container + ng-if will be sufficient. A) I don't understand the point of your return in subscribe... are you meaning to map that or assign it to a variable instead? Also returning the .subscribe isn't going to do what you expect, it will return the subscription not the observable or value. If you're intent is logging you should use the tap operator.\nB) your ultimate error is because you have an extra closing curly brace at the end }. switchMap the user Observable and use doc(user.uid). If that doesn't get you far enough, I'd suggest StackOverflow as we reserve issues for feature requests and bugs.. @davideast going to check on more regressions with SSR + put a test in; may have some follow on commits w/ changelog entries on this PR. That said, it seems a low risk bump that I want to get out ASAP due to 5.0.4, so I'll see what I get done before you have a chance to review.\nSorry for the delay here.. .authState is only triggered on sign in/out as of Firebase 4. this.firebaseAuth.user... is what you're looking for. . While we are diagnosing troubles with the Cloud Functions enivornment, I'd\nsuggest spinning your code up on AppEngine.\nOn Tue, Jul 10, 2018, 8:29 AM Janco Boscan notifications@github.com wrote:\n\nIs there any news? :(\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1745#issuecomment-403865003,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvrzkCCGqHcL9JSVt4tHS7s4Pesg3nks5uFMhTgaJpZM4U0baG\n.\n. @patrickmichalina let's keep it on topic here please. . We've not found any bugs here, like many of the issues floating around, this is likely caused by a bad combination of node_modules.. The main problem is the firebase JS SDK is not developed with the intention of developers installing @firebase/* anything by themselves, as they are 0.x releases and unstable. \n\nYarn complains about missing peer deps, developer installs them, breaks everything, everyone is sad and frustrated.\nThere are lingering & inconsistent problems with Zone.js on Cloud Functions, with their flavor of node, which have yet to be diagnosed; but I don't think you're that far. We're won't have bandwidth from the Functions team to hunt down those issues until they come out of beta. Before that we're still suggesting people deploy their SSR apps on AppEngine.. This is due to the recent RCs requiring Angular 4.. You'll need to import a compatibility framework to your Functions && server.ts for SSR.\nts\n(global as any).WebSocket = require('ws');\n(global as any).XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;. Sorry, you're using a version that's two years out of date; we don't have the bandwidth to support this. I recommend upgrading your project.\nClosing, feel free to continue to discuss.. We released rc.11 to address this. https://github.com/angular/angularfire2/releases\nAlso don't directly require or install any of the @firebase/* modules.. If you want a Promise, you can just use the vanilla Firebase API. No?\nOn Sun, Sep 2, 2018, 2:29 AM madakk notifications@github.com wrote:\n\n@davideast https://github.com/davideast Any idea why the angularfire2\nwrapper converts the Promise returned from the native API to an Observable?\nA Promise seems to make more sense, which means any consumer needs to\nconvert the Observable back to a Promise with Observable.toPromise, as is\nshown in the example posted by @pradt https://github.com/pradt above.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1789#issuecomment-417916872,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr7dTvKhs6cljeip9DiA8V8A3kU88ks5uW6TngaJpZM4VZn4M\n.\n. Not if it's a single. The idea is to allow it to be pipelined, including\nour own zone pipelining.\n\nObservables are very much the first class citizen in Angular. That's the\nwhole idea behind this library, else why use it at all?\nOn Mon, Sep 3, 2018, 9:50 PM Michael Kimpton notifications@github.com\nwrote:\n\nOf course, but why have the wrapper convert it to an Observable if the API\nreturns a Promise?\nObservable indicates that the state might change after request - but it's\nalways final.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1789#issuecomment-418240393,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr0pII8vcmbWxjepQPJYtu8PgkyQOks5uXgajgaJpZM4VZn4M\n.\n. Yeah, I believe it's that your providing AngularFireAuth in the same module that your importing AngularFireAuthModule. Putting your example up on StackBlitz would be very helpful as we could fork it and help you get it running.. I believe we need to do some work to make our tooling Windows friendly.. For array modifications you should use FieldValue.arrayRemove / arrayUnion; see Todd's blog post and the reference for the JS SDK.. Out of scope for AF2 + the JS SDK, as it would need to implemented on the backend. Please submit as a feature request.. Questions of this nature would be better suited for firebase-talk. We have to run auth outside of angular's zone unfortunately and we're not wrapping the API for auth instance. We're working on a strategy which might help, but in the meantime you can call zone.run(() => ...) in your .then(...) OR subscribe to the properly zoned .user() or .authState() Observables.. You'll need to use auditTrail or one of state, value, or snapshotChanges():   db.list('/courses').snapshotChanges().subscribe()\n\nhttps://github.com/angular/angularfire2/blob/master/docs/rtdb/lists.md#angularfireaction---action-based-api. @davideast want to take point on a similar API for RTDB, wrapping once?. Odds are you didn't import AngularFireDatabaseModule in your AppModule properly. It should look like this https://github.com/jamesdaniels/AngularFireDocs/blob/master/src/app/app.module.ts#L30. Questions such as these are better suited for Stack Overflow.. Odds are you need to update your Firebase.. Going to punt on this for now; since dynamic imports aren't supported by StackBlitz, etc.. Without seeing your component.ts we cannot help.. Aaaaand still not enough information to be able to tell what you're doing. You might want to put this up on StackBlitz.. Thanks for the fix. I altered the commit message with a squash.. Thanks for the fix :) . FYI @codediodeio this is where I think I'm going with the Universal Docs, thoughts?. @davideast addressed and flushed out more.. This is due to storageBucket not being defined in the Firebase options you pass to initializeApp (maybe your production config?)\nClick \"Add Firebase to your web app\" here to get the object you should be passing into initializeApp.. You're running incompatible versions of angularfire and firebase.. Are you using AF 5.0? We've gone ngModule and the requires are done properly in each AngularFire*Module, allowing you to tree shake out unused deps.\nThe benefits of tree shaking are damaged however if you do your own import 'firebase' (pulls in everything) or import 'firebase/database' if you don't need it.. You're not returning in your factory.\nDo either \nts\nreturn this.db.list('messages', ref => {\n  return ref.orderByKey().limitToLast(25)\n}).valueChanges();\nOr leave off the curlies to do implicit return\nts\nreturn this.db.list('messages', ref =>\n  ref.orderByKey().limitToLast(25)\n).valueChanges();. FYI angular-fire-5.0.0.tgz; going to toss this into my test projects and give it a whirl. . Hmmm... interesting. In my test project it seems to be working as expected\nbut that does sound off and I'll take a peek. I'm also using different\nversions of Firebase + Angular.\nWhat's the context in which you're subscribing? A service, component?\nOn Wed, Sep 5, 2018, 3:34 AM Wilfred van der Deijl notifications@github.com\nwrote:\n\nVersion info\nAngular: 6.0.9\nFirebase: 5.4.1\nAngularFire: 5.0.0-rc.12\nHow to reproduce these conditions\n        const msg: AngularFireMessaging = this.msg;\n        msg.tokenChanges.subscribe(\n            (token) => console.log('@@@ tokenchange', token),\n            (err) => console.log('@@@ tokenchange ERROR', err),\n        );\n\nDebug output\n Errors in the JavaScript console \n@@@ tokenchange ERROR TypeError: this.onTokenRefreshInternal is not a function\n    at Observable.push../node_modules/@firebase/messaging/dist/index.esm.js.WindowController.onTokenRefresh [as _subscribe] (index.esm.js:1883)\n    at Observable.push../node_modules/rxjs/_esm5/internal/Observable.js.Observable._trySubscribe (Observable.js:42)\n    at Observable.push../node_modules/rxjs/_esm5/internal/Observable.js.Observable.subscribe (Observable.js:28)\n    at subscribeTo.js:21\n    at subscribeToResult (subscribeToResult.js:6)\n    at SwitchMapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/switchMap.js.SwitchMapSubscriber._innerSub (switchMap.js:47)\n    at SwitchMapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/switchMap.js.SwitchMapSubscriber._next (switchMap.js:40)\n    at SwitchMapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber.next (Subscriber.js:54)\n    at angularfire2.js:59\n    at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:388)\nExpected behavior\nNo error. Problem seems to be in messaging.ts:\nhttps://github.com/angular/angularfire2/blob/185943f60012d8c3dcf7cc26413e3278f9e426be/src/messaging/messaging.ts#L56\nconst tokenChanges = this.messaging.pipe(\n  switchMap(messaging => new Observable(messaging.onTokenRefresh)),\n  runOutsideAngular(zone)\n);\n\nmessaging.onTokenRefresh is not bound. As a workaround I've done this\nmyself and this fixes the issue:\n            const _messaging = app.messaging();\n            _messaging.onTokenRefresh = _messaging.onTokenRefresh.bind(_messaging);\n\nPS. other observables in messaging.ts seem to follow the same pattern and\ndo not bind to this\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1855, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACvr7EUL_vtWb4QDKWzpbsmjZ_T0cz1ks5uX6ihgaJpZM4WaoWw\n.\n. I see, in my quick tests I was calling directly in a module. Seems like it's tripping up while in a service. I'll get the bind patch in and cut 5.0.2 shortly. Thanks for hunting this down everybody!. Fixed in 5.0.2. Can you file with the JS SDK? https://github.com/firebase/firebase-js-sdk/issues/new. The solution here would be to use Firebase custom or cookie auth. Generate the token on your Node.js server using the Admin SDK and pass it to the client.. ts\nimport { database } from 'firebase/app';\n...\nwhateverRef.push({\n  time: database.ServerValue.TIMESTAMP\n});. True; I'd say open it with the Firebase CLI then, as it does seem like the functionality has been created on the SDK side.. I'll get this in 5.1, thanks for pointing it out!. Released in 5.1, see the the PR mentioned above on how to use it.. There's an injection token, StorageBucket that you can provide. I will leave this issue open for documentation.. We changed in rc.8 to mirror a break in the Firebase JS SDK. DownloadURL is no longer available on the uploadTask; you'll need to get it from the ref. https://github.com/angular/angularfire2/blob/master/docs/storage/storage.md#monitoring-upload-percentage. All this works w/AngularFire, you'll just need to update your Firebase/Firestore dependencies.. Thanks!. I'll take a peek, but for right now we're only committed to keeping it inline with Angular.. Typescript 3.1.3 seems to be working without any changes, see #1922 . What version of Typescript?. Duplicate of #1855, will fix in the next release. Addressed in d009fa9. Available here for testing @angular/fire 5.0.2.. FYI @codediodeio . Thanks for the fix.. Thanks!. Upgrade to 5.0.2 we addressed there. . This is a JS SDK choice, we don't want to change the API just for AngularFire. I will pass this feedback onto the team and perhaps we'll see positive changes in the next major version of the JS SDK.. Fixed in 5.1, which was just released. Feel free to give it a spin.. Thanks!. @ZionDials mind resubmitting? The PR was stuck in a bad state.. Sorry this doesn't have anything to do with us, I suggest checking out their repo. Sounds like you have an incompatible version of RXJS.. You will need to do this server side with the Firebase Admin SDK. @Splaktar fair, I was expecting breaks TBH. I may back port those to the 5.1 release and kill this.. Closing in favor of ed92c45 #1920, thanks for the sanity check @Splaktar . Issue was fixed in the latest patch. Closing this issue but feel free to continue discussion RE CORS and such here.. Far out of scope for this project. Google is blocking Iran due to sanctions.. Work around is to not include AngularFireMessaging in your server app module btw, only include it in your browser. I will strip it from the UMD but will need to fiddle with the build script. . I don't know if we want to put ourselves in the position of capturing every bug with the JS SDK in our package.json, @davideast @mikelehen thoughts?. If Firebase JS SDK is breaking on minors, that's a bug.. I agree.. Remove promise from that line and you should be good, we no longer provide a polyfill.. Can you confirm if this is present if you just import firebase/auth, etc.? If so please open an issue on the JS SDK.. Going to close for now. If confirmed it's AngularFire not Firebase JS SDK then will reopen.. This is becoming too big IMO, going to split into multiple PRs. You can use dependency injection to configure the Storage Bucket{ provide: StorageBucket, useValue: 'my-bucket-name' }. Given how dependency injection works in this lib, I'm not sure if there's a clean way to expose configuration of the bucket without API changes. \n\nFeel free to open a proposal if you have an API in mind.. With security rules, request.resource.size. Is it your take(1) returning only the cached results maybe?. Going to close since there's no clear error here. Feel free to continue discussing.. We now support use of the experimentalTabSynchronization configuration flag. AngularFirestoreModule.enablePersistence({experimentalTabSynchronization: true})\nI'll leave this open for updating the docs.. Closing but feel free to continue discussing. . I'll work on changing that in the node package, in the meantime don't include AngularFireMessaging in your server app module only browser.. Dup #1938 . This is Firestore, i'd recommend filing feedback under the Firebase JS SDK.. Yes, you should join these with RXJS operators. combinelatest will work great here.\n``ts\nconst companyChanges = this.afs.doc<Company>(companies/${id});\nconst employeeChanges = this.afs.doc<Company>(companies/${id}`).collection('employees');\nreturn combineLatest(companyChanges, employeeChanges).pipe(\n  map(([company, employees]) => ({...company, employees}))\n);\n```. Maybe position isn't properly set in that scope? Closing since I don't see an error with this library, feel free to continue discussion here.. The authState only gets the currently logged in user. You'll need to save the user's email address out to the database.\nClosing this, please use StackOverflow for general questions.. Thanks for jumping on this @markgoho, I think I'm going to take a slightly different approach for now so it can just be a patch release.\nClosing in favor of #2013 . @davideast Ready for review. Don't merge, if approved; as I'm targeting this for the 5.2 release.. @davideast Ready for review. Don't merge, if approved; as I'm targeting this for the 5.2 release. Also going to see if I can address the server packaging issue.. @davideast feel free to start poking at this. Going to work on the test coverage and documentation in the meantime. Targeting 5.2 release.. @davideast Ready for review. Don't merge, if approved; as I'm targeting this for the 5.2 release.. useServiceWorker should have you covered, see this answer on StackOverflow.. I'm open to any help with the packaging \ud83d\ude03Feel free to fire over a PR, even if just a proof of concept.. Ah I see. Wil fix. Should not once merged.. I was going to mention in the upgrade guide too, I will do so. . \ud83d\udc4d. Mind if I do that in a follow up PR? I wanted to actually test the code too and do some reworking here.. Should these be devdeps?. Yeah, I'll get this back up to speed with master to fix shortly. Was letting David get in his systemjs fixes before piling on.. Ah good point.. :+1:\n. SGTM, but as a optimization.\nAs mentioned, we need the share on sortedChanges (which I'll bump up to the definition) to make the side effects (combineChanges) occur only the once.. should this be ? action.payload.data() as T : null?. @davideast did this to quickly address Argument of type 'Partial<T>' is not assignable to parameter of type 'Object'. in Typescript 2.4. FYI I don't know if it was fixed since but I found that state_changed is not updated right before complete() in the JS SDK, say if you had a percentage uploader it would never hit 100%.\nIn my prior WIP branch I got this working nicely via:\ntask.on('state_changed', subscriber.next);\ntask.then(snapshot => {\n    subscriber.next(snapshot);\n    subscriber.complete();\n}).catch(e => subscriber.error);. From my docs before, make sure these all fire as expected:\n\nthis.state = task.map(s => s.state);\nthis.uploading = state.map(s => s === firebase.storage.TaskState.RUNNING);\nthis.success = state.map(s => s === firebase.storage.TaskState.SUCCESS);\nthis.percentage = task.map(s => s.bytesTransferred / s.totalBytes * 100);\nThat WIP was here FYI https://github.com/angular/angularfire2/compare/master...jamesdaniels:storage. I'm thinking we should at least share() this, perhaps even consider share(1) or BehaviorSubject. I foresee lots of tickets opened if we don't.\nAlso I haven't run + dug in but is this task lazy? E.g, won't start uploading until subscribed to? Will it double upload if cold? That may violate the expectations of beginners. In which case we should .share() and then subscribe() in here.. formatting off here. Yeah I was thinking this too. I'll bring AngularFireModule back in and allow users to use both whichever fits their use case best. Say in a specific module they need to call out to another app/database/whatnot.. @davideast what do you think about mapping .data here? This is the only thing I'm on the fence about. It's nice ergo buuut what if the CF3 team decides to pass more than .data back at some point? That would force an API break.. shouldn't this be a pipe + map?. we should import of and from rather than using Observable.from and Observable.of. import from and use here and other spots. shouldn't we still be importing forkJoin?. import of and merge and use. import and use merge rather than Observable.merge. import and use from and of. I see, derp.. good catch. Not on task any longer; might want to point out it's on the ref.. You'll need to wait for task to finish, see Jeff's comment for a good solution https://github.com/angular/angularfire2/issues/1649#issuecomment-389207417. FYI @jshcrowthe, if this goes public again it's going to be a breaking change for us; as it was the first time; as we need to export an \"implementing\" class to ngModule.. FYI @jshcrowthe. FYI @jshcrowthe. These <T>'s are needed because we're pulling in our DocumentChange now.. zone.js and @angular/compiler were not needed, dropped while I was in here.. It would be a lot better for us if firebase/app exported FirebaseAppImpl, not just an interface; then we wouldn't have the chance of breaking changes.. FYI @jshcrowthe. We should make this a single IMO. So now that I'm playing with this I'm not sure I like this API. I think I'd prefer:\nthis.tokenChanges => from(this.messaging.onTokenRefresh);\nthis.token => this.getToken.pipe(concat(this.tokenChanges))\nThoughts?. Hmmm... not sure about this API either, how about\nts\nthis.deleteToken = this.getToken.pipe(\n  mergeMap(t => t ? this.messaging.deleteToken(t) : empty() )\n). Why not inline?. We should catch the requestPermission exception and complete with null. Err, that's a Promise hance a single... nevermind.. Use validateEventsOrOptions here?. would it make sense to pass into validateEventsArray here?. Do we want to drop the payload/type in this commit? If so let's make sure to address the docs.. We've decided to keep the UMD names as they are; not worth breaking anyone using them.. missing ). lol, twitch... cl/211848325. Better yet, my mid-term plan here is to read the paths from the angular.json file; need to fiddle there. SGTY?. Use PersistenceSettings from ./interface. ",
    "troydcthompson": "I couldn't get the logIn function defined from my Firebase Provider, which has my auth service. It kept saying it was undefined... I replaced\n    service.logIn(credentialsMock);\nwith\ncomponent.service.login(credentialsMock) to get it to run... . @JonesM87 Did you find a workaround for this in the meantime?. ",
    "fmontes": "FWIW I mocked my AngularFireDatabase list method like this:\ntypescript\nexport class AngularFireDatabaseMock {\n    list(query: string): any {\n        return {\n            valueChanges() {\n                return Observable.of([\n                    {\n                        date: 12345,\n                        name: 'Hello World'\n                    },\n                    {\n                        date: 456779,\n                        name: 'Hola Mundo'\n                    }\n                ])\n            }\n        }\n    }\n}. \"angularfire2\": \"^5.0.0-rc.5\", and \"firebase\": \"4.8.0\" didn't work for me either.. If I try angularfire2@5.0.0-rc.5 without the ^ I get:\nNo matching version found for angularfire2@5.0.0-rc.5\nIs only me?. ",
    "MarcoLeko": "Does someone know how to mock angular fire storage und -storageReference have opened an \u201eissue\u201c on this. Would be awesome if someone has a solution on this.\nhttps://github.com/angular/angularfire2/issues/1550. For the people who use AngularFirebaseStorage and want to build unit tests around this Service thats the way to mock ref() and getDownloadURL():\nCreate a FakeClass:\n```@Injectable()\nexport class FirebaseMock {\npublic ref(path: string) {\n      return {\n        getDownloadURL() {\n          return Observable.of(path)\n        }\n      }\n  }\n}\n```\nAnd inject it into the real into the class' constructor that needs to be tested:\n```\n  let mock: any;\n  let service: TownhallPictureService;\nbeforeEach(() => {\n    mock = new FirebaseMock();\n    service = new TownhallPictureService(mock);\n  });\n```\n. @Soumak77 i have already the solution for my issue posted in stackoverflow.\nI appriciate ur Help though\ud83e\udd19. ",
    "feryholanda": "someone, please help me\ni have error in my project, can you check my project ?\nand tell me, what's wrong with my project ?\n\n. someone, please help me\ni have error in my project, can you check my project ?\nand tell me, what's wrong with my project ?\n\n. ",
    "elvisfernandes": "@fmontes I like your approach to mock valueChanges() on AngularFireDatabase.list(), but have you tried to mock snapshotChanges()?. ",
    "PanayotCankov": "The \"typings\" should point to a .d.ts but I think it moved to \"es6\" now and my tsc won't find the \"angularfire2\".\nBy default \"tsc\" will use index.d.ts in the package, you can consider adding index.d.ts in the root of the package with the angularfire2 types.\n. ",
    "wahmelon": "hey sorry I'm super new to development. which package.json should be modified?\nthanks heaps,\nmax\n. ",
    "jteplitz": "Merged in 9ef510d85050d58557b16d52fbc9a7c1ed91524f\n. @jeffbcross In general I love the idea of reducing the number of public methods, but I'm not sure it will work here. That design works well for popup auth, redirect auth, and anonymous auth. But it runs into problems with customToken, email, and oauthToken login. These methods all require specific arguments. It feels weird to me that your call to login could suddenly become invalid and throw an error if you change your default auth method in your bootstrap file. Especially because we wouldn't be able to provide static errors for this since all the arguments to login would have to be optional.\nWe could separate the firebase login methods into two groups: automatic login (popup, redirect, and anonymous) and manual login (customToken, email, and oauthToken). We could provide one generic login method for the first group and then three manual login methods for the second group, but that might be overkill. What do you think?\n. @TylerEich thanks for the input! \nI just chatted with @jeffbcross about this. Here's what we decided on. We're going to have one login method that by default uses options provided through DI. So if your app generally authenticates users by doing Github login with a popup you would provide these options to DI using something like\n``` TypeScript\n// Providers to give bootstrap\nprovide(DefaultFirebaseAuthProvider, AuthProviders.Github),\nprovide(DefaultFirebaseAuthMethod, AuthMethods.Popup)\n// to login\nauth.login();\n```\nHowever, all of these options can be overwritten by an optional config object that gets passed into login. So if you actually wanted to use Facebook instead of Github you could do:\n``` TypeScript\n// Providers to bootstrap\nprovide(DefaultFirebaseAuthProvider, AuthProviders.Github),\nprovide(DefaultFirebaseAuthMethod, AuthMethods.Popup)\n// this will login the user with Facebook popup since Facebook will override Github, but nothing overwrote Popup\nauth.login({\n  provider: AuthProviders.Facebook\n});\n```\nlogin will also take a second optional argument for credentials. So if you're using customToken, email, or OAuthToken login  you'll do something like this to login:\nTypeScript\nauth.login({\n  method: AuthMethods.Password\n}, {\n  email: 'test@example.com',\n  password: 'password'\n})\n. Talked to @jeffbcross and @hansl a bit more. We're going to create one config provider, and have two signatures for the login method. I'll write up a longer description this afternoon.\n. Here's a more complete overview of the design that we settled on:\nYou can, but are not required to, provide a single set of configuration arguments to DI like this:\nTypeScript\nbootstrap(app, [\n  FIREBASE_PROVIDERS,\n  defaultFirebase('https://<some-firebase>.firebaseio.com'),\n  firebaseAuthConfig({\n    provider: AuthProviders.Facebook,\n    method: AuthMethods.Popup,\n    remember: 'default',\n    scope: ['email']\n  })\n]);\nOnce you've done that you can simply call login on the auth object. This will automatically use the options that were configured with DI. You can override those options by providing an optional configuration object to the login method like so:\nTypeScript\n// This will perform popup auth with google oauth and the scope will be email\nauth.login({\n  provider: AuthProviders.Google\n});\nThe Auth service will use all values provided by the given configuration object over those provided through DI, and will fall back to the DI provided config object (if available) for any options not provided by the caller.\nAdditionally, if you're using OAuthToken, CustomToken, or Password auth then you can pass a credentials object to login like so:\nTypeScript\nbootstrap(app, [\n  FIREBASE_PROVIDERS,\n  defaultFirebase('https://<some-firebase>.firebaseio.com'),\n  firebaseAuthConfig({\n    method: AuthMethods.Password,\n    remember: 'default'\n  })\n]);\nauth.login({\n  email: 'test@example.com',\n  password: 'password'\n});\nIf you want to pass both a credentials object and a configuration object you can do so like this:\nTypeScript\nauth.login({\n  email: 'test@example.com',\n  password: 'password'\n}, {\n  method: AuthMethods.Password,\n  remember: 'sessionOnly'\n});\nIf two arguments are passed to login than the service will assume that the first one is a credentials object and the second one is a configuration object. If only one is passed then it will assume that argument is a configuration object unless the auth method is set to Password, OAuthToken, or CustomToken in which case it will assume that object is a credentials object since credentials are not optional for any of those three methods and the configuration object is always optional. Essentially the login method has two signatures:\nTypeScript\nlogin(config?: AuthConfiguration): Promise<FirebaseAuthState>;\nlogin(credentials: AuthCredentials, config?: AuthConfiguration): Promise<FirebaseAuthState>;\nThe first signature is used for Popup, Redirect, and anonymous auth. The second signature is used for \nPassword, OAuthToken, and CustomToken.\n@jeffbcross does that sound like a good overview of everything we discussed?\n. LGTM\n. @jeffbcross Ah I see. I agree that merging them doesn't make much sense.\nSo you're proposing caching the credential ourselves and then attaching it to the user object? I like the idea of us caching the credential for developer's convenience, but I feel like adding all these properties to the user object is going to make our docs different from the firebase docs in a somewhat confusing way. How do you feel about emitting a tuple from the auth observable that includes user and credential properties?\n. @jeffbcross It was. It looks like the new behavior is to throw an error whenever a key has an invalid character.\n. @davideast Are id, username, and accessToken guaranteed to always be there for Github?\n. Got ahead of myself :wink:\nThere's a vim key that increments numbers. I guess I hit it by accident...\n. ",
    "joyceview": "How to get FirebaseUser?\n. Thank you, now it's working.\n. @dirkpostma Is that mean that way we can have filter on top of another filter? If so, that's really a good idea.\nAccording to my understanding, right now there is no way we can do filter on top of filter, right? Like in your example, we can only get employees active, but can not get active employee with certain last name. Am I right?\n. Yes, If today is Mon or Tue, I want to get the node.\n. I'm using the filter. \nThe filter is working only if the value in firebase is a string. But not working if the value is an array, nor as a string like \"Mon,Tue\". \nAs my today's variable could only be \"Mon\" or \"Tue\", but my RepeatDays in database could be up to 7 days.\nIf there is a comparison of Contains or something alike, that might work.\n. Sorry to bother again, but the issue is still not solved. I did try the code above, but it's not working.\nThe scenario is this:\nKeyValue pair saved in database is this: { repeatDays:  'Mon, Tue' }\nAnd today's day name is:  'Mon'\nThe result I'm expecting is, I'll be able to get the data node with the key value pair as above. Today's day name is only partial of the data saved in database.\nThe answer I got above can only get me the data node when the value are exactly same. I need to get the value when it's partially there.\n. Thank you for your reply. Looks like it's quite complicated.\nCan we use functional programming for this case? Add map, filters at the page when we get the data from the service, which returning a list of FirebaseListObservables?\nOr, maybe I'll need to restructure my data.\n. @cre8 How to implement a service on a server? Right now my project is built on top of:\nIonic2 + AngularFire2, with Angular2 and Firebase3 as the backend database. How to implement server side service? \nSorry I'm very new to this structure, I'm afraid this is a too big topic.\n. Thank you for the information. I didn't know we can do this. I'm still not very clear about how this relate/impact to AngularFire, but definitely worth to check out.\nThanks again!\n. @amity203 Thank you for your reply.\nCould you show me how to get those values like email, id, name and picture? I'm new to the frameworks and don't know how to write it in code.\nI notice you have Ionic projects, I'm also using Ionic2 with AngularFire2.\nThanks a lot!!\n. @amity203 Thank you, much appreciated!\nI just saw from Issue #39 \n`@Component({\n  template:<h1>Welcome, {{ user.github.username }}</h1>\n})\nclass Login {\n  constructor(private af:AngularFire, private user: FirebaseUser) {\n  }\n}`\nBut I'd like to have the value at the ts file, and will be able to decide which node to save in db.\nSeems like this is a way to go. Still need to dig in more.\n. I also have same question towards using object or not. I tried to use it in my code, but so far it didn't really show any benefit.\nThe queries returns me list of FirebaseListObervables. So no matter what object/modal I define, doesn't matter, it's a JSON string anyway. In my page, I can format it to my modal, but it doesn't really matter much. If I only update a sub node, from my ts file, I pass the key and value. So far, the modal seems only exists in the page level, not really back to database. From the html page, it's a modal or not doesn't matter at all. I can just pass the key, then it will get me the value.\nSo after trying it my way, I don't see the value of using modal. Maybe my way is not right. So I'm very interested in the answers coming.\nThanks,\nJoyce\n. ",
    "Sun3": "As the current version does Angularfire 2 setup to be a singleton? That way only one instance is initiated? If not should it be?\nThanks.\n. Will do thanks. I looked at the API but could not see a way to do it and would love to see this feature.. @davideast Should I wait for the plnkr template to be updated first or zip up my sample project?. @davideast This is the plnkr test I setup at plnk test  It should be using the version 4.0.0.rc-0 but please double check. With previous version it worked ok.\nIn the app.module the real Firebase Credentials would need to be changed.\nThanks.\n. ps: Not sure if a bit more of the error helps but I placed the top portion below. Of course in my actual app I have about 40-50 fields that use two way binding.\n```\n Error: Uncaught (in promise): TypeError: undefined is not an object (evaluating 'co.contactSnapshot.name')\ncheckAndUpdateView@http://localhost:4200/vendor.bundle.js:12256:30\ncallViewAction@http://localhost:4200/vendor.bundle.js:12571:35\nexecComponentViewsAction@http://localhost:4200/vendor.bundle.js:12517:27\ncheckAndUpdateView@http://localhost:4200/vendor.bundle.js:12262:29\ncallWithDebugContext@http://localhost:4200/vendor.bundle.js:13244:47\ndetectChanges@http://localhost:4200/vendor.bundle.js:10353:81\nactivateWith@http://localhost:4200/vendor.bundle.js:21734:55\nplaceComponentIntoOutlet@http://localhost:4200/vendor.bundle.js:20915:28\nactivateRoutes@http://localhost:4200/vendor.bundle.js:20896:50\nhttp://localhost:4200/vendor.bundle.js:20832:72\n```. ps: For anyone that needs a quick fix without using Two Way data binding I have placed a sample below. For my case this will not work because I have different forms with lot's of financial data fields and it would not be the best. Just the shear number of fields I would need to change.\n<input type=\"number\" [ngModel]='loanSnapshot?.loanAmount' (ngModelChange)=\"loanSnapshot.loanAmount = $event\">\n. I was having the same issue and below is what I am using until it gets fixed.\n.catch(error => {\n  let errorStringify = JSON.parse(JSON.stringify(error));\n  console.log('errorStringify.code ', errorStringify.code);\n...\n}. Will there be an offline feature like in Firestore or Firebase?\nThanks.. I am also having the same issue with angularfire2 with the latest Angular 6 release. I tried the npm install --save angularfire2@5.0.0-rc.7 but did not work for me.\n```\nERROR in src/app/app.component.ts(9,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/app.component.ts(9,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/contractor/contractor.component.ts(8,10): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/contractor/contractor.component.ts(8,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/contractor/contractor.component.ts(45,5): error TS2322: Type '[string, string, string, string, string, string, string, string]' is not assignable to type '[any]'.\n  Types of property 'length' are incompatible.\n    Type '8' is not assignable to type '1'.\nsrc/app/contractor/contractor.component.ts(72,13): error TS2345: Argument of type '{ query: { orderByChild: string; }; }' is not assignable to parameter of type 'QueryFn'.\n  Object literal may only specify known properties, and 'query' does not exist in type 'QueryFn'.\nsrc/app/portfolio/portfolio.component.ts(6,10): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/portfolio/portfolio.component.ts(6,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/portfolio/portfolio.component.ts(49,13): error TS2345: Argument of type '{ query: { orderByChild: string; }; }' is not assignable to parameter of type 'QueryFn'.\n  Object literal may only specify known properties, and 'query' does not exist in type 'QueryFn'.\nsrc/app/property-flip-or-hold/property-flip-or-hold.component.ts(15,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/property-flip-or-hold/property-flip-or-hold.component.ts(15,57): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/property-flip-or-hold/property-flip-or-hold.component.ts(28,25): error TS2307: Cannot find module '@angular/core/src/animation/dsl'.\nsrc/app/property-flip-or-hold/property-flip-or-hold.component.ts(189,46): error TS2339: Property 'subscribe' does not exist on type 'AngularFireObject<{}>'.\nsrc/app/property-list/property-list.component.ts(6,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/property-list/property-list.component.ts(6,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/property-list/property-list.component.ts(80,5): error TS2322: Type '[string, string, string, string, string, string, string]' is not assignable to type '[any]'.\n  Types of property 'length' are incompatible.\n    Type '7' is not assignable to type '1'.\nsrc/app/property-list/property-list.component.ts(95,13): error TS2345: Argument of type '{ query: { orderByChild: string; }; }' is not assignable to parameter of type 'QueryFn'.\n  Object literal may only specify known properties, and 'query' does not exist in type 'QueryFn'.\nsrc/app/property-list/property-list.component.ts(117,13): error TS2345: Argument of type '{ query: { orderByChild: string; equalTo: string; }; }' is not assignable to parameter of type 'QueryFn'.\n  Object literal may only specify known properties, and 'query' does not exist in type 'QueryFn'.\nsrc/app/services/auth.service.ts(9,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/services/auth.service.ts(9,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/services/contractor.service.ts(6,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/services/contractor.service.ts(6,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/services/portfolio.service.ts(6,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/services/portfolio.service.ts(6,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/services/property.service.ts(6,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/services/property.service.ts(6,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/services/user.service.ts(5,31): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/services/user.service.ts(5,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\nsrc/app/user-profile/user-profile.component.ts(8,10): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nsrc/app/user-profile/user-profile.component.ts(8,55): error TS2305: Module '\"/Users/marco/Documents/Pixolini/Angular6 Development/PropertyFlipOrHold-Angular6/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'.\n\u2139 \uff62wdm\uff63: Failed to compile.\n```. @BrandonCravener Thanks.. ",
    "johnqiuwan": "Hi @davideast & @jeffbcross , \nI am really want to know what kind of scenario we should use preserveSnapshot: true ? I could not find the  usage of the 'preserveSnapshot' on the docs\nThank you\n. @davideast ,  do you have any updates on this ? \nI am facing the same issue and could not find any solutions.. @storatus +1\nThis will let the app crash when navigate back and forth\n. Thanks @davideast , the @next release fixes the issue on my project!. The 'emailVerified' value will become 'true' after the user re-signin.\nIt looks like that angularfire2 will NOT update the 'emailVerified' value realtime. The users have to re-signin to get updates.\n. Hello @stavalfi ,\nI have the similar issue as you, and how did you solve your issue ?\naf.database.list('/users').subscribe(\n      value=>console.log(value),\n      error=>console.log(error),\n      ()=>this.loading = false //Never gets here\n    );\n. Hi @FredvanRijswijk , \nThank you for the reply. However, in my case, I will setup the keys myself (not AutoId). \n. Does anyone know how to do it with angularfire2 or it is currently NOT possible with angularfire2 ?\n. I have a similar issue that my web app (using angular-cli workflow) takes around 10 - 15 seconds to render the data on the page. However, I see the data instant in my console.\nI then clone the whole project with a different workflow (not using angular-cli workflow). The problem is gone!\nI still not make sure if the problem is somewhere from angular-cli or from firebase side\n. Thank you @davideast and @frankspin89 \nIf I understand correct, we need to use raw firebase sdk to implement cloud functions. . ",
    "warnerpinz": "@jeffbcross Is there a way to integrate angularfire2 in ionic 2? I see that to initialize firebase connection, we have to define bootstap(FIREBASE_PROVIDERS..) in angular 2 app. However, for ionic 2, I don't think it's allowed to define bootstrap(). Could you enlighten me on how I can initialize firebase using angularfire2 in ionic? THanks for the help.\n. @jeffbcross  Which version has this function object()? I don't have in my angularfire2@2.0.0-alpha.10 or 2.0.0-alpha.9\n. I got the same error\n. @TylerEich Sorry. I miss the declaration.\nI have injected the FirebaseRef in my constructor with @Inject(FirebaseRef) private ref:Firebase\nAnd when calling the .on() or .once(), it doesn't execute.\n. https://plnkr.co/edit/PQc396efOsH8eDqJZjKv?p=info\nI couldn't add angularfire2 in plunker for some reason. \n. So sorry. I now figured out my problem My bad =(. It was in the Firebase security I didn't set the rules for the child node. I forgot that by default, child nodes are not accessible until you set the security rules for that node.\nThanks for your help @TylerEich \n. ",
    "lokeshjain2008": "@davideast What you have decided? when we can expect this to be reality or is there any way to do it?\n. I have landed on the same error and the error code is auth/account-exists-with-different-credential.\nThere is a good code example on the page link.\nBut from then using angularfire2 there is no method fetchProvidersForEmail on the auth api.\n```javascript\nclass Auth{\n   constructor(public af:AngularFire){\n}\n  errorHandler(e){\n    this.af.auth.fetchProvidersForEmail //not a function.\n  }\n}\n```\n. ",
    "shlomiassaf": "Is this an option?\nts\nconst list = angularfilre.list('https://mysite.firebase.io');\nlist.subscribe(...) // regular\nlist.childAdded().subscrube(...)\n. @TylerEich you got me there :/\nDo it separated, do it RxJS style, make the user import 'add/something\nBut provide the support in one place...\n. @TylerEich It's straight forward, I think they do it in ngrx @robwormald \n. I signed it!\n. I get the same error as well.\nThis is related to the rollup bundling process in ionic beta12.\nI'm don't know the cause, maybe its the ionic setup maybe it a problem with the way firebase is bundled.\nTo workaround this for the time being you can (based on ionic beta12):\nCreate a custom rollup config file and instruct the rollup-plugin-node-resolve to skip firebase\nrollup.config.js\n```\nconst ngTemplate = require('@ionic/app-scripts/dist/plugins/ng-template').ngTemplate;\nconst nodeResolve = require('rollup-plugin-node-resolve');\nconst commonjs = require('rollup-plugin-commonjs');\n// https://github.com/rollup/rollup/wiki/JavaScript-API\nmodule.exports = {\n  /*\n   * entry: The bundle's starting point. This file will\n   * be included, along with the minimum necessary code\n   * from its dependencies\n   /\n  entry: '.tmp/app/main.dev.js',\n/*\n   * sourceMap: If true, a separate sourcemap file will\n   * be created.\n   /\n  sourceMap: true,\n/*\n   * format: The format of the generated bundle\n   /\n  format: 'iife',\n/*\n   * dest: the output filename for the bundle in the buildDir\n   /\n  dest: 'main.js',\n/*\n   * plugins: Array of plugin objects, or a single plugin object.\n   * See https://github.com/rollup/rollup/wiki/Plugins for more info.\n   /\n  plugins: [\n    ngTemplate(),\n    commonjs(),\n    nodeResolve({\n      module: true,\n      jsnext: true,\n      main: true,\n      browser: true,\n      extensions: ['.js'],\n      skip: [ 'firebase' ]\n    })\n  ]\n};\n```\nThis is a copy of the default config, just adding the skip.\nTo tell ionic to use this config set it up in package.json\n\"config\": {\n    \"ionic_rollup\": \"./config/rollup.config.js\"\n  },\nNow firebase is not part of the bundle so we need to load it via script tags. In your index.html add: <script src=\"assets/firebase.js\"></script>, I've added after the polyfill script.\nNow we need to copy the firebase library to the assets library so it's available:\nwe will use a custom copy.config.js:\n```\nconst orgCopyConfig = require('@ionic/app-scripts/config/copy.config');\norgCopyConfig.include.push(\n  {\n    src: 'node_modules/angularfire2/node_modules/firebase/firebase.js',\n    dest: 'www/assets/firebase.js'\n  }\n);\nmodule.exports = orgCopyConfig;\n```\nHere I use the original config, no need to rewrite it.\nand again, adding it to the config section in package.json\n\"config\": {\n    \"ionic_rollup\": \"./config/rollup.config.js\",\n    \"ionic_copy\": \"./config/copy.config.js\"\n  }\n\nNOTE: Currently they ionic build does not support custom prod config. This means that in development everything is \ud83d\udcaf  but when building a prod output the skip setup won't hold and ionic will take the custom file we setup (dev). I opened a tick for it driftyco/ionic-app-scripts#25. For now I just change the file when I want to deploy, that's reasonable considering it's a new process (rollup) in the beta.\n\nentry: '.tmp/app/main.dev.js',\nchange to:\nentry: '.tmp/app/main.prod.js',\n. @Chris1308 this is a message not a warning I get that to, you can remove it by supplying globals to rollup.\n@jtushar53 yes this is a known error forgot to warn about it (: too many error in the app-scripts build, it's new.\nYou can't fix that without some hard changes, you need to open the package and edit bundle.js , comment out the part that assigns cache.\nThe caching can't handle skipped modules in an update.\nI've opened and issue on that too \n. @Chris1308 \n``\nglobals: {\n    backbone: 'Backbone',\n    underscore: '_'\n  }\nsee the Rollup API\n```\n. @Chris1308 \n``\nglobals: {\n    backbone: 'Backbone',\n    underscore: '_'\n  }\nsee the Rollup API\n```\n. ",
    "alexjoverm": "Any update on this? Personally I consider it very important... Right now, the idea of angularfire2 is amazing, but works only for small apps where you bind firebase result to you component directly, since it always return all items, and there is no way to listen for updates or deletes.\nMost of times you need to listen only to the added children (after init) and listen for updates, deletes... For example if you use ngrx store.\n. Exactly, for now I could use it getting the firebase ref from angularfire2. It is exactly like using the raw SDK, but at least keeps angular's DI:\n``` ts\nimport { FirebaseRef } from 'angularfire2'\n@Injectable()\nexport class FirebaseService {\nprivate listsRef\nconstructor(\n    private store: Store,\n    @Inject(FirebaseRef) private firebase\n  ) {\n    this.listsRef = firebase.database().ref('lists')\n }\ninit () {\n    this.listsRef.on('child_added', listSnap => {\n       ....\n    })\n  }\n...\n```\n. ",
    "theunreal": "So.. using child_added, child_changed and child_removed is impossible with Angularfire2 unelss you inject the Firebaseref and mixing all together? \nThose methods are important main core methods of Firebase, which are the base of many applications. Watching for new items, changes and removes is highly important. Apps that need to use this methods cannot use Angularfire2. \n. Hey guys, is it possible to use take in this case?\n```\nthis.af.database.object('/users/'+this.uid).take(1).update({\n              provider: auth.facebook.providerId,\n                name: auth.facebook.displayName,\n                email: auth.facebook.email,\n          });\n```\nWhenever the user is logging in, I run this to save his data in my users node. Unlucky, whenever the user logs out I get this error:\nFIREBASE WARNING: Exception was thrown by user callback. Error: permission_denied at /users/userID: Client doesn't have permission to access the desired data.\n    at Error (native)\n    at G (http://localhost:4200/main.bundle.js:75367:36)\n    at Object.G (http://localhost:4200/main.bundle.js:75371:86)\n    at yh (http://localhost:4200/main.bundle.js:75356:98)\n    at nh.h.wd (http://localhost:4200/main.bundle.js:75349:310)\n    at af.wd (http://localhost:4200/main.bundle.js:75252:364)\n    at vd.hg (http://localhost:4200/main.bundle.js:75250:280)\n    at yd (http://localhost:4200/main.bundle.js:75203:464)\n    at WebSocket.La.onmessage (http://localhost:4200/main.bundle.js:75202:245)\n    at WebSocket.wrapFn [as _onmessage] (http://localhost:4200/main.bundle.js:94097:29)\nwhich means Firebase keep listening to my user until the page is redirected. so I need try run it only once. any ideas?\n. Thanks for the reply @andreigiura.\nIn the user panel, I have this code: \nngOnInit() {\n        this.authService.loadUser().subscribe(() => {\n            this.user = this.authService.userData;\n        });\n  }\nWhich refers to my loadUser() method to get the data from firebase (I just tried to place take(1) but I still get this permission error):\nloadUser() {\n      return this.af.database.object('/users/'+this.uid).take(1).map(user => {\n            this.userData = user;\n        });\n  }\nIn my logout I simply do this:\nlogout() {\n      this.auth.logout();\n      this.userData = null;\n    this.isLoggedIn = false;\n    this.router.navigate(['']);\n  }\nI think the error occurs because firebase is keeping the connection to my user even after this.auth.logout(); and until the router is navigating, he keeps trying to refresh the data. That's why I need to perform this action only once.\n. I'll be happy to check it out. I've been working for days to understand how to structure the angular 2 app to work good with the Firebase authentication.\nI need to simply save the user data into my database and load it once he logins. that's what it does now, but it's does't feels like it is the best way to do this.\n. Hey @andreigiura, few questions:\n1. How do you redirect the user to user panel route after the authorization check? I mean, you don't want to show the main app login page whenever someone access your application. \n2. When you log out from your app, don't you get error_handler.js:47 EXCEPTION: permission_denied at /users/userID: Client doesn't have permission to access the desired data. ? I cloned your service and guard, and in my user panel I get this error and the user is not redirection back to login/app page.\n. Yeah this works great. I did everything similiar but when I log out I get FIREBASE WARNING: Exception was thrown by user callback. Error: permission_denied at /users/id: Client doesn't have permission to access the desired data. warning in my console. It's also not \"kicking\"the user back to the login page.\nWhat happens when you click log out in your app?\n. @andreigiura Your rules have security risk. Other users can read and write data on other users!\nThe rules have to be:\n\"users\": {\n      \"$uid\": {\n        \".read\": \"$uid === auth.uid\",\n        \".write\": \"$uid === auth.uid\"\n      }\n    },\nChange it and you will get the same error as I do.\nBut no longer! Solved it by changing my logout method:\nlogout() {\n      this.userSub.unsubscribe();\n      this.auth.logout();\n      this.router.navigate[''];\n  }\nI had to unsubscribe from the subscription in order to stop receiving updates which caused this error.\n. Very useful. Any updates regards this?\n. I was sure I missed something with observables until reading this! good to hear a fix is coming soon.\nThank you @davideast !\n@storatus An object works, but there's any way to loop it? I need to use the list $keys in my app, so I need to loop each to get more data. Currently its impossible until fix is up.\n. beta.7 haven't solved it for me,\nI am doing something like this:\n```\nthis.af.database.object('data').subscribe((data) => {\nthis.af.database.list('list/+data).subscribe((myList) => {\nthis.myList = myList;\n});\n});\n``\nthis.myList shows only the first item in the list. I totally agree with @fabien0102, using.transaction()is common and angularfire2 should cover it aswell. The attitude of keeping it simple makes Angularfire2 fully cover small apps only. Big and medium apps are forced to use the firebase.$ref` and I find it inconvenient to mix both in the same component and app.\n. Thank you @katowulf, I understand. \nare you saying that an option to switch between facebook user accounts has to be implemented by Firebase and not by the angular2 client?\nThe problem i'm trying to solve is simple: let multiple users connect to Facebook account from the same device. (re-enter the email/passowrd)\n. Ok, so after sending this issue to Firebase team I got this response:\n\nThanks for the feedback. We love to hear from the community. I'm Hazel and I'd be happy to help you here.\nThis is an interesting suggestion which could improve the user experience in using the Firebase Facebook Auth. I'll add this to our feature request list and bring it up at the next feature discussion. However, I can't share any details or timelines at this time.\nKeep an eye out on our release notes for any further updates.\nThank you for using Firebase. Have a great day.\n. No solution so far, I might have changed the db structure a bit\n. It has nothing to do with Angularfire2.  delete angular-cli and install the latest version again.\n. @mukesh51 Yes, Do you see anything about transaction? Because there is nothing about it.\n. @mpeguero you returned the same... an observable. You need to use the |async for the data.. @utkukaynar @lickos return the Facebook.login.... \n",
    "vitorrd": "I don't understand this. Wasn't this library created as \"The official Angular 2 library for Firebase\"? Why doesn't it contain basic features such as event support? If one is to hook into Firebase itself, dodging NgFire2, why would one use it in the first place?. ",
    "googlebot": "We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. We found a Contributor License Agreement for you (the sender of this pull request) and all commit authors, but as best as we can tell these commits were authored by someone else.  If that's the case,  please add them to this pull request and have them confirm that they're okay with these commits being contributed to Google.  If we're mistaken and you did author these commits, just reply here to confirm.\n need_author_consent \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\n need_author_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf you signed the CLA as a corporation, please let us know the company's name.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n need_author_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again.\n need_author_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n need_author_cla \n. We found a Contributor License Agreement for you (the sender of this pull request), but were unable to find agreements for the commit author(s).  If you authored these, maybe you used a different email address in the git commits than was used to sign the CLA (login here to double check)?  If these were authored by someone else, then they will need to sign a CLA as well, and confirm that they're okay with these being contributed to Google.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n need_author_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. Thanks for your pull request.  It looks like this may be your first contribution to a Google open source project. Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.  Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your GitHub username or you're using a different email address on your commit.  Check your existing CLA data and verify that your email is set on your git commits.\nIf your company signed a CLA, they designated a Point of Contact who decides which employees are authorized to participate. You may need to contact the Point of Contact for your company and ask to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot. The email used to register you as an authorized contributor must be the email used for the Git commit.\nIn order to pass this check, please resolve this problem and have the pull request author add another comment and the bot will run again. If the bot doesn't comment, it means it doesn't think anything has changed.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the project maintainer to go/cla#troubleshoot.\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of the commit author(s) and merge this pull request when appropriate.\n need_author_consent \n. A Googler has manually verified that the CLAs look good.\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n cla_yes \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of the commit author(s) and merge this pull request when appropriate.\n need_author_consent \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of the commit author(s) and merge this pull request when appropriate.\n need_author_consent \n. A Googler has manually verified that the CLAs look good.\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n cla_yes \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of the commit author(s) and merge this pull request when appropriate.\n need_author_consent \n. A Googler has manually verified that the CLAs look good.\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n cla_yes \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of the commit author(s) and merge this pull request when appropriate.\n need_author_consent \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of the commit author(s) and merge this pull request when appropriate.\n need_author_consent \n. A Googler has manually verified that the CLAs look good.\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n cla_yes \n. A Googler has manually verified that the CLAs look good.\n(Googler, please make sure the reason for overriding the CLA status is clearly documented in these comments.)\n cla_yes \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of all the commit author(s), set the cla label to yes (if enabled on your project), and then merge this pull request when appropriate.\n need_author_consent \n. So there's good news and bad news.\n:thumbsup: The good news is that everyone that needs to sign a CLA (the pull request submitter and all commit authors) have done so.  Everything is all good there.\n:confused: The bad news is that it appears that one or more commits were authored or co-authored by someone other than the pull request submitter.  We need to confirm that all authors are ok with their commits being contributed to this project.  Please have them confirm that here in the pull request.\nNote to project maintainer: This is a terminal state, meaning the cla/google commit status will not change from this state. It's up to you to confirm consent of all the commit author(s), set the cla label to yes (if enabled on your project), and then merge this pull request when appropriate.\n need_author_consent \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n need_sender_cla \n. CLAs look good, thanks!\n ok \n. CLAs look good, thanks!\n ok \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n\u2139\ufe0f Googlers: Go here for more info.\n need_sender_cla \n. \nThanks for your pull request. It looks like this may be your first contribution to a Google open source project (if not, look below for help). Before we can look at your pull request, you'll need to sign a Contributor License Agreement (CLA).\n:memo: Please visit https://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I signed it!) and we'll verify it.\n\nWhat to do if you already signed the CLA\nIndividual signers\n\nIt's possible we don't have your GitHub username or you're using a different email address on your commit. Check your existing CLA data and verify that your email is set on your git commits.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are authorized to participate. Ask your POC to be added to the group of authorized contributors. If you don't know who your Point of Contact is, direct the Google project maintainer to go/cla#troubleshoot (Public version).\nThe email used to register you as an authorized contributor must be the email used for the Git commit. Check your existing CLA data and verify that your email is set on your git commits.\nThe email used to register you as an authorized contributor must also be attached to your GitHub account.\n\n\u2139\ufe0f Googlers: Go here for more info.\n need_sender_cla \n. CLAs look good, thanks!\n\u2139\ufe0f Googlers: Go here for more info.\n ok \n. ",
    "jdell64": "Sorry to bring up an old issue... but in all the documents, the AngularFireDatabase is injected into components. Can this be injected into a service (as a wrapper)? Eg:\n```\nimport {Injectable} from '@angular/core';\nimport {AngularFireDatabase, FirebaseListObservable} from 'angularfire2/database';\n@Injectable()\nexport class RegistrationService {\n  visitors: FirebaseListObservable;\nconstructor(private db: AngularFireDatabase) {\n    this.visitors = db.list('/visitors');\n  }\nupdateVisitor(key, updatedVisitor) {\n    this.visitors.update(key, updatedVisitor);\n  }\ncreateVisitor(visitor) {\n    this.visitors.push(visitor);\n  }\nupsertVisitor(visitor) {\n    if (visitor.$key) {\n      this.updateVisitor(visitor.$key, visitor);\n    } else {\n      this.createVisitor(visitor);\n    }\n  }\n}\n```\nand using it in the component:\n```\ntestVistors: FirebaseListObservable;\nconstructor(private service: RegistrationService) {\n    this.testVistors = service.visitors;\n  }\n```\nbut doing this does not seem to populate the testVisitors object. Is this a supported way, or should you inject the service directly into a component?. @markgoho Thanks. I thought my question was similar to the one asked, but I will do an SO question from now on.. So, the solution is to make sure that you push the data in the order you will want later?\nI am just checking, not passing judgement \ud83d\ude04 . Oh nm... found it... you can make a map.. ",
    "markgoho": "Hi @jdell64 -- general queries like this are best searched for first on StackOverflow. Github should be reserved for bug reports and feature requests.\nYou can definitely use all of AngularFire2 inside a service, injecting it inside components where needed. As for why your code isn't working....it looks like you may be missing a necessary .subscribe somewhere.. @larssn I just had to use .transaction() in my project, so I thought I'd share my code in case you're still working it out.\n```typescript\nimport { FirebaseApp } from 'angularfire2';\n...\nconstructor(\n    private fbApp: FirebaseApp,\n) {}\npushStoryToCategories(categories: string[]) {\n  categories.forEach(category => {\n    const catRef = this.fbApp.database().ref(/categories/${category}/count);\n    catRef.transaction(count => count + 1);\n  }\n}\n```\nI've stripped out non-essential code, but beyond the imports and injection, it's two lines of code.. For Firestore Transactions, the process is similar:\n``` ts\nimport { FirebaseApp } from 'angularfire2';\n...\nexport class QuestionComponent implements OnInit {\n  questionRef;\nconstructor(private fb: FirebaseApp) {}\n  ngOnInit() {\n    this.questionRef = this.fb.firestore().collection('questions').doc(this.id);\n  }\nvoteYes() {\n    this.fb.firestore().runTransaction(transaction => {\n      return transaction.get(this.questionRef).then(question => {\n        const newVotes = question.data().yesVotes + 1;\n        transaction.update(this.questionRef, { yesVotes: newVotes });\n      });\n    });\n  }\n```. @davideast I would love to see something observable based!. @kabdessamad1 Issue#940 is a great start for that....it's on the horizon....but no definite timetable.\nIn the meantime, here's how you can access the storage api right now: https://github.com/angular/angularfire2/issues/946#issuecomment-299639239. @jorgeandresserrano \nHere's an auth.service.ts\n```typescript\nimport { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport * as firebase from 'firebase/app';\n@Injectable()\nexport class AuthService {\nprivate _user: firebase.User;\nconstructor(public afAuth: AngularFireAuth, private db: AngularFireDatabase) {\n    afAuth.authState.subscribe(user => this.user = user);\n  }\nget user(): firebase.User {\n    return this._user;\n  }\nset user(value: firebase.User) {\n    this._user = value;\n  }\nget authenticated(): boolean {\n    return this._user !== null;\n  }\nget id(): string {\n    return this.authenticated ? this.user.uid : '';\n  }\nsignInWithGoogle(): firebase.Promise {\n    return this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider())\n      .then(response => {\n        this.db.object(/users/${response.user.uid})\n          .subscribe(user => {\n            if (!user.$exists()) {\n              let {displayName, email, emailVerified, photoURL, uid} = response.user;\n              this.db.object(/users/${response.user.uid}).set({\n                displayName,\n                email,\n                emailVerified,\n                photoURL,\n                uid\n              })\n            }\n          });\n      })\n      .catch(err => console.log('ERRROR @ AuthService#signIn() :', err));\n  }\nsignOut(): void {\n    this.afAuth.auth.signOut();\n  }\n}\n```\nand an auth.guard.ts\n```typescript\nimport { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router } from '@angular/router';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport { AuthService } from \"./auth.service\";\n@Injectable()\nexport class AuthGuard implements CanActivate {\nconstructor(private auth: AuthService, private router: Router) {}\ncanActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable | Promise | boolean {\n    return this.auth.afAuth.authState\n            .take(1)\n            .map(authState => !!authState)\n            .do(authenticated => {\n              if (!authenticated) {\n                  this.router.navigate(['admin', 'sign-in']);\n              }\n            });\n  }\n}\n```\nThese are adapted from an AuthGuard and AuthService that @erikhaddad created for a few of his conference talk projects.. Have you imported the take operator from rxjs?. Always import only what you need. You can see how I imported things in my auth.guard.ts file. @dovk This is a closed issue. If you're experiencing a bug please create a new issue. For general how-to type questions, please use StackOverflow.. @M-a-c it's supposed to be for Angular version 2+. I believe there is a major re-write to the Module coming soon.. @dekonunes you created the issue, and you're also able to close it \ud83d\udc4d . @scottmotion npm install angularfire2@next -- you'll need to do some refactoring of your code, but a few of us have upgraded and are not experiencing this conflict anymore.. @babyzaa159 there's a great chat room setup here: https://gitter.im/angular/angularfire2 for these kinds of support questions. You might get a quicker answer there!. Hi @da45 this is something you can do with the Firebase SDK right now: https://firebase.google.com/docs/auth/web/manage-users#send_a_user_a_verification_email\nI know @davideast and others are working on a big revamp of the Auth system for AngularFire2, so I'm not sure if this is something they can include, but you can add Firebase in and do it right now if you're up for it!. @AnsarSamad are you using the Angular CLI to scaffold your project?. Hi @iamCoderGod -- what you're experiencing is the expected result from returning a FirebaseListObservable.\nIf you want just the last one, try this code:\nconst lastSong = af.database.list('/songs', {\n  query: {\n    orderByKey: true,\n    limitToLast: 1 \n  }\n});\nDon't forget to subscribe to lastSong as it's an observable and won't do anything until you subscribe to it!\nI do want to mention that if you're in need of some real-time assistance, check out the AngularFire2 Gitter Chat. It's probably going to you an answer faster than posting a question like this. Github issues are best suited for feature requests and bug reports.. Hi @psingl -- here's the official getting started with Cloud Functions for Firebase documentation.\nCloud Functions operates independently of Angular and AngularFire2. If you're running into some conflicts with AngularFire2 and Cloud Functions, this would be the place to create an issue.\nIf you're looking for general help with Cloud Functions, check out the docs.. Hi @Sun3 this type of question would be better asked on StackOverflow. Github issues are usually reserved for bug reports and feature requests, and not general how-to questions.. Hey @ricardocunha try checking out AngularFire2's gitter chat for questions like this: https://gitter.im/angular/angularfire2. Duplicate of PR#937 . I guess I'll resubmit this since another PR has merged that changes this doc.. @jamesamuel if you're experiencing a bug, please create a new issue and follow the provided template. This will help us figure out what's going on.. Hey @Benny739 I don't think the pathway to use Storage is crystal clear and could maybe use some documentation, but here's how I've got mine working:\nIn my app.module.ts: (root module) I have:\nts\nimport { AngularFireModule } from 'angularfire2';\nIn my admin.module.ts: (the only place I need storage functionality)\nts\nimport 'firebase/storage';\nThen, in my component where I want the storage methods,\n```ts\nimport * as firebase from 'firebase/app'; // for typings\nimport { FirebaseApp } from 'angularfire2'; // for methods\nconstructor(private fb: FirebaseApp) { }\nlet storageRef = this.fb.storage().ref();\nconst metadata: firebase.storage.UploadMetadata = { ... } // typed with firebase import above\n``. Hey @WebAddict I'm pretty new to Plunker, but when I open yours, it just says Loading... on the right side. Shouldn't it show theAngularfire2 example app`?. Haha! It works now. I've experienced this before where it'll just not work\nand then work. Why is plunker the best we have?!? :)\nOn Tue, May 9, 2017 at 5:30 PM Rich Johnson notifications@github.com\nwrote:\n\nI just checked and it works for me at\nhttp://plnkr.co/edit/1lW4B4?p=preview\nCheck your browser's console log if it doesn't work, let me know what\nmessage you see\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/947#issuecomment-300307477,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AJTs0oUIAHQivExJcLB7dG8TQmWDtZvgks5r4Nr0gaJpZM4NSSfD\n.\n. @michaelspeed this may be better suited for StackOverflow or Gitter. @Benny739 this seems like more of a how-to question which might better be asked on StackOverflow.\n\nWhat's the goal of querying at all if you're looking for all the children to be returned?. @Awadhesh31 have you upgraded to 4.0.0-rc.0?. I believe you need to import AngularFireAuthModule in the module that that component is in.\nIf you go through Step 1, which is setup and installation, you'll have imported it. But perhaps if you just jump to step 5 and don't realize you need it, you'd get that error.. I believe you need to import AngularFireAuthModule in the module that that component is in.\nIf you go through Step 1, which is setup and installation, you'll have imported it. But perhaps if you just jump to step 5 and don't realize you need it, you'd get that error.. You need to add import { AngularFireAuthModule } from 'angularfire2/auth' to your @NgModule code. You need to add import { AngularFireAuthModule } from 'angularfire2/auth' to your @NgModule code. Hi @YogliB this is addressed in #965 . Hi @YogliB this is addressed in #965 . Hey @markterrill I'm sorry these docs aren't more clear or clear at all! \ud83d\udc4e \nIs there anything about this issue that might be unique to Ionic or is it just general Auth methods / variable naming / best practice in general? . Hey @markterrill I'm sorry these docs aren't more clear or clear at all! \ud83d\udc4e \nIs there anything about this issue that might be unique to Ionic or is it just general Auth methods / variable naming / best practice in general? . As far as I can tell setting this.authState = afAuth.authState; is completely pointless. Unless I'm missing something....which is possible.. As far as I can tell setting this.authState = afAuth.authState; is completely pointless. Unless I'm missing something....which is possible.. Hi @cjhill -- Github should be used for bug reports and feature requests. How-to questions like this should typically be researched first in the documentation, and then, having found no answer be posted in StackOverflow.\nIn this case, your question can be answered from the documentation.. Hi @cjhill -- Github should be used for bug reports and feature requests. How-to questions like this should typically be researched first in the documentation, and then, having found no answer be posted in StackOverflow.\nIn this case, your question can be answered from the documentation.. Hi @jlsuarezs I recommend upgrading to the latest release of AngularFire2. For general how-to questions, check out StackOverflow. Hi @jlsuarezs I recommend upgrading to the latest release of AngularFire2. For general how-to questions, check out StackOverflow. Hi @ravivit9 -- general errors like this should definitely be researched first on StackOverflow. Getting a \"No provider\" error is associated with a missing import in your module file. Check to make sure that you've properly imported the AngularFireAuthModule and added it to the list of imports.. Hi @ravivit9 -- general errors like this should definitely be researched first on StackOverflow. Getting a \"No provider\" error is associated with a missing import in your module file. Check to make sure that you've properly imported the AngularFireAuthModule and added it to the list of imports.. @dkkishor please use StackOverflow for these types of general questions. Github is typically reserved for feature requests and bug reports.. @dkkishor please use StackOverflow for these types of general questions. Github is typically reserved for feature requests and bug reports.. @Purus documentation is here: https://firebase.google.com/docs/auth/web/phone-auth. @Purus documentation is here: https://firebase.google.com/docs/auth/web/phone-auth. Sorry @mikedory I deleted my previous comment because it actually applied to your other PR #997 -- sorry about that.. Sorry @mikedory I deleted my previous comment because it actually applied to your other PR #997 -- sorry about that.. @b-area I think probably the suggestion will be to upgrade to the 4.0.0-rc before any troubleshooting can be done. The 2.0.0 beta versions are not compatible with Angular v4+.. @b-area I think probably the suggestion will be to upgrade to the 4.0.0-rc before any troubleshooting can be done. The 2.0.0 beta versions are not compatible with Angular v4+.. In your parent module, you should have import 'firebase/storage and in the component where you're using storage, you should have import { FirebaseApp } from 'angularfire2';\nPlease search the issues before posting an error like this. It's been asked and answered a few times already.. In your parent module, you should have import 'firebase/storage and in the component where you're using storage, you should have import { FirebaseApp } from 'angularfire2';\nPlease search the issues before posting an error like this. It's been asked and answered a few times already.. @jofftiquez make sure you sign the CLA and then reply back here that you've done it. I don't think the PR can be merged without it.. @jofftiquez make sure you sign the CLA and then reply back here that you've done it. I don't think the PR can be merged without it.. Have we updated the docs to reflect the change in usage?\nNice, I see the added info about the breaking change!. Have we updated the docs to reflect the change in usage?\nNice, I see the added info about the breaking change!. @fearless23 It would be great if you could follow the template for issues. It would help us diagnose what's going on without having to ask questions like, \"What version of AngularFire are you using?\" etc.. @fearless23 It would be great if you could follow the template for issues. It would help us diagnose what's going on without having to ask questions like, \"What version of AngularFire are you using?\" etc.. A few suggestions for you @fearless23 \n\nFollow the upgrade guide\nRead the changelog for breaking changes\nType your variables--without this Typescript assumes they are any and won't give you helpful feedback\n\nPost \"I'm having some trouble\" type questions like this on StackOverflow and reserve Github for bug reports and feature requests. A few suggestions for you @fearless23 \n\n\nFollow the upgrade guide\n\nRead the changelog for breaking changes\nType your variables--without this Typescript assumes they are any and won't give you helpful feedback\nPost \"I'm having some trouble\" type questions like this on StackOverflow and reserve Github for bug reports and feature requests. @fearless23 This is working as expected. You have no way for a user to log in, so you have no authState to assign to this.user, hence undefined.\n\nPlease read the documentation on User Authentication as well as our Upgrade Guide\nIf you're experiencing an issue where you think you've got working code but something isn't quite right, the place to get help for that is on StackOverflow.. @fearless23 This is working as expected. You have no way for a user to log in, so you have no authState to assign to this.user, hence undefined.\nPlease read the documentation on User Authentication as well as our Upgrade Guide\nIf you're experiencing an issue where you think you've got working code but something isn't quite right, the place to get help for that is on StackOverflow.. Hi @rahulrsingh09, for general how-to questions like this, please use StackOverflow.. Hi @rahulrsingh09, for general how-to questions like this, please use StackOverflow.. Also doing when manually installing rc.2 first\n\n. Also doing when manually installing rc.2 first\n\n. I'm on it!. I'm on it!. Hi @Geowan make sure you're upgrading to the latest version of AF2 and check out the Upgrading the AngularFire 5.0 doc to see the changes that have been made.\nFirebaseListObservable has been changed to AngularFIreList and it looks like you'll need to call valueChanges() on your list before subscribing.\nFor general how-to information, it's good to check the docs first as they do get updated and you'll very often find a close match to what you're trying to do in them.. Hi @Geowan make sure you're upgrading to the latest version of AF2 and check out the Upgrading the AngularFire 5.0 doc to see the changes that have been made.\nFirebaseListObservable has been changed to AngularFIreList and it looks like you'll need to call valueChanges() on your list before subscribing.\nFor general how-to information, it's good to check the docs first as they do get updated and you'll very often find a close match to what you're trying to do in them.. The stackblitz certainly shows it, but I'm having no problem importing in a local project. I know Stackblitz is fairly new....is there a potential for this problem to be on their end?. The stackblitz certainly shows it, but I'm having no problem importing in a local project. I know Stackblitz is fairly new....is there a potential for this problem to be on their end?. @dauledk I refactored your code to use just one component: https://stackblitz.com/edit/angular-trrnhg\nSeems to be working (showing dinosaurs) but still not accepting that import from angularfire2/database. @dauledk I refactored your code to use just one component: https://stackblitz.com/edit/angular-trrnhg\nSeems to be working (showing dinosaurs) but still not accepting that import from angularfire2/database. Have you tried just using the firebase API a la this method?\nAlso, kind of a duplicate of #201, except that was more for the RTDB, this is asking for the FS implementation of Transactions as referenced in the original post. Either way, there's a long discussion there about implementing transactions.. Have you tried just using the firebase API a la this method?\nAlso, kind of a duplicate of #201, except that was more for the RTDB, this is asking for the FS implementation of Transactions as referenced in the original post. Either way, there's a long discussion there about implementing transactions.. Hey @MSkraburski this type of how-to question is best asked on Stack Overflow where the community is more prepared to take on this type of challenge. Issues should be saved for bugs or feature requests. Thanks!. Hey @MSkraburski this type of how-to question is best asked on Stack Overflow where the community is more prepared to take on this type of challenge. Issues should be saved for bugs or feature requests. Thanks!. Checkout the upgrade guide for version 5.0. The new object is called AngularFireObject. Checkout the upgrade guide for version 5.0. The new object is called AngularFireObject. Hey @SilverMountainSoftware I believe what we're experiencing is just a side-effect from how expansive the docs are and how much the library changed from 4.0 to 5.0. If you think you know how to fix the docs, the AF team is always happy to accept pull requests \ud83d\udc4d\nA number of us have been catching little things like this and fixing them, but again, there are a lot of docs and a lot of changes. We could use your help!. Hey @SilverMountainSoftware I believe what we're experiencing is just a side-effect from how expansive the docs are and how much the library changed from 4.0 to 5.0. If you think you know how to fix the docs, the AF team is always happy to accept pull requests \ud83d\udc4d\nA number of us have been catching little things like this and fixing them, but again, there are a lot of docs and a lot of changes. We could use your help!. Hey @onewiseburdman if you use markdown on your code examples it really helps the readability. At the top of the block do three back ticks and then ts (``` ts), then at the bottom, another three backticks (```) and it'll format the whole thing and even use syntax highlighting. Just a tip! \ud83d\udc4d . Hey @onewiseburdman if you use markdown on your code examples it really helps the readability. At the top of the block do three back ticks and then ts (``` ts), then at the bottom, another three backticks (```) and it'll format the whole thing and even use syntax highlighting. Just a tip! \ud83d\udc4d . This may be an issue @codediodeio wants to chime in on, too. This may be an issue @codediodeio wants to chime in on, too. Hi @zuandre have you upgraded to version 5 of AF2 yet? A code snippet or Stackblitz of what you've got would be super helpful to check and see if it's a library issue or docs issue or something else.. Can you provide some code or a Stackblitz of what's going on?. Okay this is a shot in the dark, and I may be missing some obvious solution using Typescript, but it seems like if you take away the :T it works perfectly.. @Chris1308 Oooh, Partial<T> works!. I don't there'd be a case where you'd want to just pass one of many properties to a .set() call. I guess part of the joy of Typescript is that we can use it to prevent ourselves from making silly mistakes, like passing a single property to a .set() call when we meant .update().\nI'm going to tweak the commit and title of the PR based on your very wise question \ud83d\ude04 . Hi @NurGuz23 this sounds like a question that would best be asked on StackOverflow or in the AF2 gitter chat. If you think you've found a bug, this is definitely the place for it, but for general how-to or problem solving questions, check those other resources out!. Hey @callen5914 is this still broken in rc3?. Has this gone anywhere?. @jamesdaniels also seeing this issue persist, should we open a new issue?. Thank you for this input @davideast!\nI'm not sure if your recommendation against the concatenation method includes the second option as well to use firebase.messaging().useServiceWorker(ngsw). Have you tried that at all?\nFor a current workaround are you suggesting to scrap the ngsw (via ng add @angular/pwa) altogether in favor of a pure workbox.js implementation? If that's the case, documentation on how to do that would be great to have.\nFinally, I haven't seen an issue filed in the Angular repo for this specific issue (although this issue seems very similar). I'm not 100% sure what the actual issue is that prevents us from using FCM. Since you mentioned speaking to the core team about the issue, what do you suggest as far as creating an issue to track this need for a better FCM service worker integration?\nI greatly appreciate the guidance here - and I'm more than willing to do the work to create the documentation for whatever solution we gather around. I just want to make sure I'm not spending hours researching a solution that someone already has in production.. It looks like you have to import * as firebase from firebase in the app.module.ts to get call the firebase.messaging() is that right?\nThat seems....sub-optimal, but maybe I'm missing something.. I'm not sure, but I know it's causing some gnarly out of memory issues right now and I've got it disabled across all my projects. This probably isn't an AF2 issue, so we could probably close it and at least folks could know that we identified it as a Angular CLI issue. What do you think?. Hey all, I was trying to fix this, but I can't get the dependencies to install on my system...getting some pretty crazy errors in the console. I'm sure this is 50% of the fix.. When I try to import User as FirebaseUser from firebase/auth the CLI tells me: Cannot find name 'FirebaseUser'.\nI changed the type of user to: Observable<firebase.User> and this worked.. Do we need more here to explain how to use both? It seems like most users will just go with .idToken since it behaves like authState did. We should also update the main Authentication doc, but I guess we could do that after this PR is merged.. missing a ) at the end of the line. ",
    "LukeSchlangen": "No, this bug can be closed. I've been trying to add firebase to John Papa's Tour Of Heroes and I think the problem came from adding the files without changing the tsconfig.json file.\n. ",
    "zgosalvez": "I signed it!\n. Rolling back to \"firebase\": \"4.8.0\" \"fixed\" it for me.. ",
    "kylecordes": "This sounds like a nice feature, but does it need to be done specifically in the Angular 2 adapter layer? It seems to me that providing a nicer client-side API for talking about Firebase queries is useful to everyone using Firebase. It could be done either in the core Firebase client library, or in an add on Firebase client library useful far beyond Angular.\n. @robwormald Yes, I've experienced the Firebase \"query\" API. About to the idea of an Observable-ish layer around it... is there any reason that layer needs to be tangled with Angular 2? Wouldn't it be equally useful in projects using just Firebase and Observables, but not using Angular 2?\n. Perhaps because of the RxJS version change, there seems to be a greater than usual level of activity around the Angular community aiming to have version 6 compatibility very close to the version 6 ship date. It would be great to see Angularfire2 come along for this ride.\n. @larssin That is quite interesting, it is the first suggestion I have seen (among many discussions!) to run Angular 6 with RxJS 5 forward-compat. This is a great workaround until Angularfire gets updated.\n. I've experienced an interesting variation of this. I have a collection query with snapshotChanges() which always emits twice. First it emits just a single result (one document), then a moment later emits its actual correct result. I'm still investigating at what layer this happens etc.; but it seems worth a mention as it may be related to this earlier issue.. @jamesdaniels @davideast  It would be much preferable to have programmatic control (or at least visibility) on this. As we try to create visual polish by running animations as the data changes, this double delivery of the data causes exaggerated visual disruption.\nYet there seems to be no straightforward path to postprocess the observable and get good results; skip(1) doesn't work, because on an initial load there will only be a single emit. debounceTime() works, but requires guessing a time delay, a guess likely to be wrong on varying hardware and networks.\nOf course, I could be missing some obvious workaround, perhaps with a bit more Rx manipulation I could discard the initial delivery only if it happens within some very short time bound (indicating it came from cash) or similar. Still, even such a workaround would be much worse than some explicit way to handle this.\n. @jamesdaniels Doe get() make it possible to retrieve the first \"real\" result, and then further updates on there, without ever getting the erroneous partial result at the beginning?\n. I can confirm the behaviors described here. valueChanges() and snapshotChagnes() typically (sometimes, but not necessarily every time) emit twice. First typically with a single record, then with the actual result. This occurs in an entirely static Firebase database, one which is had no data written to it for a long time.\nI believe this is a valid bug, and that it is correct to expect that, in this situation, there would be just a single value emitted with the correct query output.\nSo far I have been working around this, although with the negative impact on both user experience and automated testing execution speed, with a short debounceTime() on the output.\n. ",
    "doovers": "I'm having the same issue but I also get it when I modify a record. So when I change a property on an item in the list, as soon as the list is updated it now contains the item in the item in both the old and new state. The duplicate does not exist on the server, only the new object and it is cleared on reload.\n. @davideast Hi David sorry for the late response! I haven't had time to look at this until now. I've tried to recreate the problem in a small demo app but haven't been successful so far. It must be something specific I'm doing in my main project. I'll keep digging and report back when I figure it out!\n. @jeffbcross Unfortunately I'm still getting warnings despite the path having changed... (2.0.0-beta.0)\n\nWARNING in ./~/angularfire2/angularfire2.js\nCannot find source file './/angularfire2.ts'\n. @beckmeindia I never solved it sorry!\n. \n",
    "kazkis": "Hi @davideast, I'm facing the same problem described by doovers.\nHere's what I'm doing (it can easily be my fault since I'm still new to this):\n---test.component.ts :\n```\nimport {Component} from 'angular2/core';\nimport {AngularFire, FirebaseListObservable} from 'angularfire2';\n@Component({\n    selector: 'test',\n    templateUrl: 'app/test.component.html'\n})\nexport class TestComponent{\n    private _testList: FirebaseListObservable;\nconstructor(private _af: AngularFire) {\n    this._testList = _af.database.list('/test');\n}\n\naddNew(item: any){\n    this._testList.push(item);\n}\n\nupdateMe(item: any){\n    this._testList.update(item, { value: 5});\n}\n\nremoveMe(item: any){\n    this._testList.remove(item);\n}\n\n}\n```\n---test.component.html :\n```\n\n\nValue: {{ item.value }}\nUpdate me!\nRemove me!\n\n\n\nValue:\n\nAdd\n\n```\nIf you try to update the first item of the list, it will show both the old value and the new updated value (5), and if there was only one item, every new item inserted from now on is duplicated; if you update every other item, it seems to work fine. The server always shows the correct results.\n. Hi @kdavidson007 , you probably forgot to remove the angle brackets from <MyAppClass> in you app.ts file (step 7).\n. You are probably using a beta version of rxjs newer than 5.0.0-beta.2, which has a slightly different folders structure.\nI think you should use\nimport { ReplaySubject } from 'rxjs/ReplaySubject'\ninstead of\nimport { ReplaySubject } from 'rxjs/subject/ReplaySubject'\n. Hi @aashirwadgupta, \nhave you already enabled the anonymous authentication in your firebase db?\nGo to your Firebase \"Dashboard\",  \"Login & Auth\" and check if the \" Enable Anonymous User Authentication\" checkbox in the \"Anonymous\" tab is already checked.\n. hi @choopage , you can simply do\nconst newId = items.push('new item').key();\n. Hi @justme1,\nI don't know if it's the best way to do it, but currently I'm creating a new field like this\nconst date = Date.now();\n...\ndate: date,\nreverseDate: 0 - date,\n...\nand then ordering by \"date\" for ascending order, by \"reverseDate\" for descending order.\n. @justme1 The Firebase TIMESTAMP is based on the server time while Date.getTime() on the client one. Using the server timestamp you can avoid lots of problems with user different locales or incorrectly set clocks.\nFor example if I use my client time to send you a message and my clock says it's 10:02 instead of 10:00, when you'll receive it the time shown would appear to be 2 minutes in the future for you.\n. @dmastag \nI have never used the customToken auth before but looking at the source code, it seems that the login method is waiting for another parameter.\nTry passing an empty config as the second parameter like this:\nthis.af.auth.login(token, {})\n. hi @jeffbcross \nsince when angular2 was in beta the package.json was like this\n\"angular2\": \">=2.0.0-beta.14 <2.0.0-rc.1\", (include all beta versions from the beta-14 up to the first release candidate)\ncan't we do something similar for the rc versions like this\n\"@angular/core\": \">=2.0.0-rc.2 <2.0.0\" (include all rc versions from the rc.2 up to the final release)\ninstead of listing all the possible future rc versions?\n(I'm trying to learn through https://semver.npmjs.com/  :worried:)\n. ",
    "Shadowfaxenator": "Have the same issue\nhtml\n<ul *ngFor=\"#item of items | async\">\n  <li class=\"text\">\n    {{item.$value}}\n  </li>\n</ul>\ntypescript\nthis.items = af.database.list(\"/items\");\nWhen I try to update an item from Firebase.com DB studio, I get dublicates listed in a view.\n. ",
    "rickli1989": "Same issue here, only happens for the first item(add/update), there will be a new value with an old value pops up, and the old value disappears when page gets refreshed\n. ",
    "Romiko": "I am having the same issue with my sample application at http://taotasks.com.\nVisit the website and login with google, then add a few tasks, then click a task and update some fields, when it goes back to the list, the observable has emitted multiple duplicates.\nTasks List\n`import { Component, OnInit } from '@angular/core';\nimport { RouterModule, Router } from '@angular/router';\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\nimport { AF } from './providers/af';\nimport { Task } from './task';\nimport { TaskDetailComponent } from './task-detail.component';\nimport { TaskService } from './task.service';\n@Component({\n    selector: 'tao-tasks',\n    moduleId: module.id,\n    templateUrl: './tasks.component.html',\n    styleUrls: ['./tasks.component.css']\n})\nexport class TasksComponent implements OnInit {\n    tasks: FirebaseListObservable;\n    title = 'Tao Tasks';\n    selectedTask: Task;\n    af: AngularFire;\nconstructor(private taskService: TaskService,\n    private router: Router, af: AngularFire, private afService: AF) {\n    this.af = af;\n}\n\ngetTasks(): void {\n    this.tasks = this.taskService.getTasks();\n}\n\n\nngOnInit(): void {\n\n    this.afService.af.auth.subscribe(\n        (auth) => {\n            if (auth == null) {\n                console.log('Not Logged in.');\n                this.router.navigate(['login']);\n            }\n            this.getTasks();\n        });\n\n}\n\ngotoDetail(task): void {\n    this.router.navigate(['/detail', task.$key]);\n}\n\nadd(name: string): void {\n    name = name.trim();\n    if (!name) { return; }\n    var key = this.taskService.create(name);\n    this.selectedTask = null;\n}\n\ndelete(task): void {\n    this.taskService\n        .delete(task.$key)\n        .then(() => {\n            //todo: this.tasks = this.tasks.filter(h => h !== task);\n            if (this.selectedTask === task) { this.selectedTask = null; }\n        });\n}\n\n}\n`\nTask Details\n<div *ngIf=\"task\">\n  <fieldset  class=\"task-details\">\n    <h2>Details</h2>\n    <h3>{{task.name}}</h3>\n    <div>\n      <label for=\"name\">Name </label>\n      <input name=\"name\" [(ngModel)]=\"task.name\" placeholder=\"name\" />\n    </div>\n    <div>\n      <label for=\"description\">Description </label>\n      <input name=\"description\" [(ngModel)]=\"task.description\" placeholder=\"description\" />\n    </div>\n    <div>\n      <label for=\"date\">Date </label>\n      <input name=\"date\" type=\"date\" [(ngModel)]=\"task.date\" placeholder=\"date\" />\n    </div>\n    <div>\n      <label for=\"time\">Time </label>\n      <input name=\"time\" type=\"time\" [(ngModel)]=\"task.time\" placeholder=\"time\" />\n    </div>\n    <button (click)=\"goBack()\">Back</button>\n    <button (click)=\"save()\">Save</button>\n  </fieldset>\n</div>\n<hr>\nComponents\nTask List Components.\n`import { Component, OnInit } from '@angular/core';\nimport { RouterModule, Router } from '@angular/router';\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\nimport { AF } from './providers/af';\nimport { Task } from './task';\nimport { TaskDetailComponent } from './task-detail.component';\nimport { TaskService } from './task.service';\n@Component({\n    selector: 'tao-tasks',\n    moduleId: module.id,\n    templateUrl: './tasks.component.html',\n    styleUrls: ['./tasks.component.css']\n})\nexport class TasksComponent implements OnInit {\n    tasks: FirebaseListObservable;\n    title = 'Tao Tasks';\n    selectedTask: Task;\n    af: AngularFire;\nconstructor(private taskService: TaskService,\n    private router: Router, af: AngularFire, private afService: AF) {\n    this.af = af;\n}\n\ngetTasks(): void {\n    this.tasks = this.taskService.getTasks();\n}\n\n\nngOnInit(): void {\n\n    this.afService.af.auth.subscribe(\n        (auth) => {\n            if (auth == null) {\n                console.log('Not Logged in.');\n                this.router.navigate(['login']);\n            }\n            this.getTasks();\n        });\n\n}\n\ngotoDetail(task): void {\n    this.router.navigate(['/detail', task.$key]);\n}\n\nadd(name: string): void {\n    name = name.trim();\n    if (!name) { return; }\n    var key = this.taskService.create(name);\n    this.selectedTask = null;\n}\n\ndelete(task): void {\n    this.taskService\n        .delete(task.$key)\n        .then(() => {\n            //todo: this.tasks = this.tasks.filter(h => h !== task);\n            if (this.selectedTask === task) { this.selectedTask = null; }\n        });\n}\n\n}\n`\nTask Details Component.\n`import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Location } from '@angular/common';\nimport 'rxjs/add/operator/switchMap';\nimport { TaskService } from './task.service';\nimport { Task } from './task';\n@Component({\n  moduleId: module.id,\n  selector: 'my-task-detail',\n  templateUrl: './task-detail.component.html',\n  styleUrls: ['./task-detail.component.css'],\n})\nexport class TaskDetailComponent implements OnInit {\n  task;\nconstructor(\n    private taskService: TaskService,\n    private route: ActivatedRoute,\n    private location: Location\n  ) { }\nngOnInit(): void {\n      this.route.params.switchMap((params: Params) => this.taskService.getTask(params['id']))\n      .subscribe(task => this.task = task);\n  }\ngoBack(): void {\n    this.location.back(); // Make more defensive to not exit app.\n  }\nsave(): void {\n    this.taskService.update(this.task)\n      .then(() => this.goBack());\n  }\n}\n`\nHere is my data layer.\n`import { Injectable } from '@angular/core';\nimport { AngularFire, AuthProviders, FirebaseListObservable,  FirebaseObjectObservable, AuthMethods } from 'angularfire2';\nimport { Task } from '../task';\n@Injectable()\nexport class AF {\n  auth;\n  tasksUrl='';\n  rootUrl='';\nconstructor(public af: AngularFire) { }\n  /\n   * Logs in the user\n   * @returns {firebase.Promise}\n   */\n  loginWithGoogle() {\n    return this.af.auth.login({\n      provider: AuthProviders.Google,\n      method: AuthMethods.Popup,\n    });\n  }\n  /\n   * Logs out the current user\n   */\n  logout() {\n    return this.af.auth.logout();\n  }\nsetUserInfo(displayName, email, photoURL ){\n    let user = this.af.database.object(${this.rootUrl}/${this.auth.uid});\n    user.update({\n      displayName: displayName,\n      email: email,\n      photoURL: photoURL\n    });\n  }\ngetTasks() {\n    return this.af.database.list(this.tasksUrl);\n  }\ngetTaskByKey(key: string) {\n    return this.af.database.object(${this.tasksUrl}/${key});\n  }\n// Returns the key of the task\n  addTask(name: string) {\n    return this.af.database.list(this.tasksUrl).push({ name: name }).key;\n  }\nupdateTask(task) {\n    const dbTask  = this.getTaskByKey(task.$key);\n    const model = new Task();\n    model.date = task.date == null ? null : task.date;\n    model.description = task.description == null ? null : task.description;\n    model.name = task.name == null ? null : task.name;\n    model.time = task.time == null ? null : task.time;\n    return dbTask.update(model);\n  }\ndeleteTask(key: string) {\n    return this.af.database.list(this.tasksUrl).remove(key);\n  }\nsearch(term): FirebaseListObservable {\n    console.log(\"Search Term is \" + term);\n    return this.af.database.list(this.tasksUrl, {\n      query: {\n        orderByKey: true,\n        equalTo: term,\n      }\n      });\n    }\ngetDashboardTasks() {\n    return this.af.database.list(this.tasksUrl, {\n      query: {\n        limitToLast: 4,\n        orderByKey: true\n      }\n    });\n  }\n}\n`\nAnd here is app.component.ts\n`import { Component } from '@angular/core';\nimport { AF } from './providers/af';\nimport { Router } from '@angular/router';\n@Component({\n  moduleId: module.id,\n  selector: 'tao-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n  title = 'Tao Tasks';\n  public isLoggedIn: boolean;\n  public isCollapsed: false;\n  public auth;\nconstructor(public afService: AF, private router: Router) {\n    this.afService.af.auth.subscribe(\n      (auth) => {\n        if (auth == null) {\n          console.log('Not Logged in.');\n          this.router.navigate(['login']);\n          this.isLoggedIn = false;\n        } else {\n          this.auth = auth;\n          this.afService.auth = auth;\n          this.afService.tasksUrl = /users/${auth.uid}/tasks;\n          this.afService.rootUrl = '/users';\n          this.afService.setUserInfo(auth.google.displayName, auth.google.email, auth.google.photoURL);\n          console.log('UID: ' + auth.uid );\n          console.log('Successfully Logged in.');\n          this.isLoggedIn = true;\n          this.router.navigate(['']);\n        }\n      }\n    );\n  }\nlogout() {\n    this.afService.logout();\n  }\npublic collapsed(event: any): void {\n    console.log(event);\n  }\npublic expanded(event: any): void {\n    console.log(event);\n  }\n}\n`\n. ",
    "ansorensen": "This issue seems to have cropped up again?\nDB is structured as:\n/docs/[userId]/[docId]/...\nI have a page that is subscribed to a particular user's doc via database.list('/docs/123').subscribe When I update a doc (or multiple) via database.object('/docs/123/xyz').update(...), my list subscription returns duplicates. Specifically, one copy returns with only the object data:\n{\n prop1: ...\n prop2: ...\n ...\n}\nWhile the other copy returns decorated as usual:\n{\n  $key: xyz,\n  $exists: ...\n  prop1: ...\n  prop2: ...\n  ...\n}\nFor right now my work around is to do a .map that filters out entries without keys, but I'd rather not have to manually dedup the response on each update when the database doesn't contain any duplicates.. ",
    "Bengejd": "I'm running into the same issue, duplicating the first value, until I do a page refresh, and then it disappears. . @cartant I appreciate it, but I honestly have no idea how to reproduce it outside of my environment. I'm experiencing a lot of weird stuff with Observables right now, so I'm gonna try and figure out the cause of my problem. If I can't, i'll figure out how to set up the plunk like you asked.. I stopped having this issue shortly after I submitted my comment, this is my current setup of how I'm subscribing to the data, but I doubt it would be any help to you guys. It's typically bad practice to subscribe in the constructor, but oh well, you can do it there, or in the onInit().\nconstructor(public af: AngularFire, public auth: AuthService, public fbs: FirebaseService) {\n    this.buildingCards = this.af.database.list(this.fbs.bLocation);\n    this.buildingCards.subscribe();\n  }. @Leanvitale If I understand correctly, you don't want the user to automatically be logged in, after registration? Just simply do this...\nreturn this.afAuth.auth.createUserWithEmailAndPassword(userEmail, userPassword).then(() => { return this.afAuth.auth.signOut(); });. I found a workaround for my chat app. Basically, when the user first entered a chat session, it would load the appropriate amount of messages, but when they left and re-entered that room (at some point), it would only load the last message they received. It was a really confusing issue, but this seems to work. I'm not sure about the repercussions of it, but for now. I'm going to use it.\nfirst.auditTrail().subscribe();\nWhere first is my angularFire reference.\nAnd then subscribing to the reference like you were originally and doing whatever with your data.\nHere's the auditTrail() documentation for further explanation. \nHere are some code snippets to extrapolate:\n```\nconst first = this.afs.collection(this.query.path, ref => {\n    return ref\n    .orderBy(this.query.field, this.query.reverse ? 'desc' : 'asc')\n    .limit(this.query.limit)\n});\nfirst.auditTrail().subscribe();\nfirst.snapshotChanges().do(arr => {\n// doing some stuff here with the data. Not the best practice, but it works.\n}).take(1).subscribe();\n```. I'm having the same issue as the original poster. Just getting an error with [Object, Object] while trying to upload my image to firebase storage. . ",
    "cartant": "@Bengejd @ansorensen I don't mind looking into these types of issues. In fact, if there is a bug, I would like to fix it, lest it affect me. However, to do that, this needs to be reproduced in a plunk (or in a failing unit test).. I've not yet signed a CLA and my understanding is that a PR is not acceptable until one is signed. I've not yet reviewed the agreement and won't have access to a printer until the end of the week, as I'm working out of the office. I have noticed the the code in question was introduced in #200 - which is an open, WIP PR. I will add a comment to the commit and the author can make the - somewhat trivial - changes.\n. Okay. I'll get it done and will submit a PR.\n. Reverted the changes to the factories and the tests. The creation of the ref - via the injected app instance - is now done in the AngularFireDatabase.\n. @davideast When looking at this SO question, I was curious as to how the optional key parameters to startAt, endAt and equalTo worked. The documentation for startAt suggests that using the optional key parameter is not limited to priority:\n\nThe child key to start at. This argument is allowed if ordering by child, value, or priority.\n\nHowever, the docs for the endAt and equalTo state that \"argument is only allowed if ordering by priority.\"\nI've done some experimenting and it seems that the key parameter can be specified when ordering by child when using startAt, endAt or equalTo.\nAre the docs now wrong? Given that it doesn't appear to be limited to priority, shouldn't this be implemented in AngularFire2? It would be straightforward to add optional startAtKey, endAtKey and equalToKey options to the list's query.. @davideast When looking at this SO question, I was curious as to how the optional key parameters to startAt, endAt and equalTo worked. The documentation for startAt suggests that using the optional key parameter is not limited to priority:\n\nThe child key to start at. This argument is allowed if ordering by child, value, or priority.\n\nHowever, the docs for the endAt and equalTo state that \"argument is only allowed if ordering by priority.\"\nI've done some experimenting and it seems that the key parameter can be specified when ordering by child when using startAt, endAt or equalTo.\nAre the docs now wrong? Given that it doesn't appear to be limited to priority, shouldn't this be implemented in AngularFire2? It would be straightforward to add optional startAtKey, endAtKey and equalToKey options to the list's query.. @katowulf @davideast I don't think I've made my point clearly. I'll create a proper issue for this. According to the SDK documentation, an optional key parameter is supported for startAt when using orderByChild and without it paging is not always possible with non-unique child values.. @katowulf According to the SDK docs for startAt, the optional \"argument is allowed if ordering by child, value, or priority.\" It's the docs for equalTo and endAt that mention that its use is limited to priority.\nIf it were not able to be used with orderByChild, it would impossible to page through results in which the number of non-unique child values exceeds the page size.\nSo either the SDK docs are wrong or it's impossible to reliably page when ordering by non-unique child values.. @katowulf Yep. It works. It works with orderByChild and equalTo and endAt, too, but as the docs state that usage with those is supposed to be for priority only, I'm supposing that can change. It's useful enough if only supported for startAt.\nIf you want, I'll create a new issue with a Plunker so that you can see for yourself.\nAs for supporting it in AngularFire2, doing what the OP suggested - startAt: { value: 'some-value', key: 'some-key' } - would be a straightforward, non-breaking change, as startAt is declared as any.. @katowulf @davideast There's a Plunker here that pages using the SDK's optional key parameter to startAt when ordering by child.. Something to bear in mind is that the auth observable is used to emit changes in the authentication state. If it is used to emit errors that result from failed attempts to sign in, that has consequences regarding the Observable Contract.\nAccording to the Observable Termination section (emphasis added):\n\nWhen an Observable does issue an OnCompleted or OnError notification, the Observable may release its resources and terminate, and its observers should not attempt to communicate with it any further.\n\nMy reading of this is that if the auth observable emits an error upon a failed sign in, it cannot be used after that point. Given that failed attempts to sign in are common, reporting the error via the auth observable isn't appropriate, as it would terminate the observable.\n. @Jeffarese @janein I don't belive this is a bug. forkJoin joins the observables when they complete and a FirebaseListObservable or FirebaseObjectObservable doesn't complete.\nIf you use the first operator to complete the observable after the first emitted value, the forkJoin call should behave in the manner you expect.\nThe RxJS 5 documentation for forkJoin is non-existant, but the documentation for the previous version does mention this:\n\nRuns all observable sequences in parallel and collect their last elements.\n. @afreix No, that's not how forkJoin works. It's purpose is to wait until all of the observables passed to it have completed and have emitted at least one value.\n\nIt you want an observable that combines the the values and continues to listen, you should use combineLatest, which emits the latest values from each observable - once each has emitted at least one value - and continues to emit the combined values whenever an observable re-emits. And you probably don't want to use first if you are using combineLatest.. @katowulf There is a Plunker that reproduces the issue here. The relevant code is in app/app.component.ts.\nThe fix would be pretty minor; all that should be required is for this line:\nif (utils.isPresent(query.equalTo)) {\n\nto be changed to:\nif (query.equalTo !== undefined) {\n\nIf I have time, tomorrow, I'll submit a PR.. @katowulf Regarding utils.isEmpty, lodash has a similar function named isNil. Would that name be preferred? Or isNullish?. @bogacg Indeed, it is still broken. Apparently, I missed replacing the isNil calls in the query observable with calls to hasKey - so the equalTo is dropped from the query before it's later tested to be passed to the SDK. I will fix it and will add some tests, this time.. @bogacg See #809.. @katowulf So, should the option be removed?. @katowulf And what, exactly, does this mean?\n\nFor filtering response data see and repeat 'Object' to yourself everytime you read the word 'List'.. @katowulf Would you welcome a PR that removes the unused imports and option or logs a not-implemented/supported warning? If so, which one?\n\nBTW, using the query option with an FirebaseObjectObservable is not something I'd ever needed nor attempted. I saw an SO question related to it and took a peak at the source.. You have two firebase modules installed:\n\n.../jims-ngrx-eg/node_modules/angularfire2/node_modules/firebase\n.../jims-ngrx-eg/node_modules/firebase\n\nDelete the first one so that AngularFire2 uses the firebase module that you have specified in your package.json as a peer (see #681).. @zakdances It's installed there because AngularFire2 has it as a dependency, rather than a peer dependency. It really should be the latter. You've specified a different version of Firebase, so you end up with two installations in the node_modules hierarchy, etc.\nThis wouldn't be a problem if the versions were the same. My understanding is that AngularFire2 is not using the latest version of Firebase, as there are problems with SystemJS (but I could have that wrong).. @JimTheMan I suspect that the problem is the lack of a semicolon at the end of this line.\nIn that situation, automatic semicolon insertion won't add one and the concatenation of that line with the following line will effect an error.. @JimTheMan The line following the missing semicolon starts with an expression enclosed in parentheses, so it's parsed as a function call.\nFor example, this code:\nangularFire.database\n  .object(\"temp/question\")\n  .update({ \"answer\": 42 })\n({ log: () => console.log(42) }).log();\n\neffects this error:\nTypeScript error: angularfire-spec.ts(367,17):\nError TS2349: Cannot invoke an expression whose type lacks a call signature.\nType 'Promise<void>' has no compatible call signatures.\n\nWhich is the error you've shown above.\nAnd, by the way, this is not how you'd import switchMap:\nimport * as switchMap from 'rxjs/add/operator/switchMap';\n\nThe switchMap import is unused (and doesn't correspond to the appropriate method in any case), so the import will be ignored and switchMap won't be added to the Observable prototype.\nThe RxJS add imports are side-effects and need to be imported like this:\nimport 'rxjs/add/operator/switchMap';. There could be a pretty simple workaround for this. If an [`auditTime(0)`](http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-auditTime) operator were to be composed after the [`combineLatest`](https://github.com/angular/angularfire2/blob/2.0.0-beta.6/src/database/query_observable.ts#L27-L32), only the last of the combined observables within a single turn through the event loop would be emitted.\n\nWith that in place, calls to subjects like this:\nthis.start$.next(start.getTime());\nthis.end$.next(end.getTime());\n\nwould result in a single query being emitted.\nThe query results in a network request, so I cannot see how performance would be an issue. And I cannot envisage a situation in which multiple queries within the same event loop turn would be the desired behaviour.\nAnyone interested in a PR?. @leandroz There is a SystemJS issue with versions of Firebase more recent than 3.4.0 and AngularFire2. It's mentioned in this issue and there's a related SO question, too.\nI've updated the plunk with this workaround and it now works with Firebase 3.6.7, so you might want to fork it again.. @leandroz There are a couple of uses of issue-80/ in paths in that plunk that should be issue-800/. If they are corrected, it appears to behave as I'd expect it to.. I'm not in favour of this.\nFirstly, because it would be a breaking change.\nSecondly, it's not as simple as just using the fromPromise operator internally to convert the resultant promise to an observable.\nObservables are supposed to be lazy. If a method returns an observable - as with Angular's Http service - the caller could reasonably expect nothing to occur until subscribe is called on the returned observable. If fromPromise were used, that would not be the case with push, et al., as the data would be pushed before - and regardless of - any subsequent subscribe call.\nAnd if a more complicated internal implementation were to be used to make the push call lazy, what would be the meaning of multiple subscribe calls? Multiple pushes? Wouldn't that be confusing?\nI think things are clearer and simpler as they are. If you want an observable, just use the fromPromise operator. Also, be aware that promises are understood by RxJS - that is, you can return a promise (instead of an observable) to operators without having to call fromPromse. For example:\nhttp\n  .get('some-url')\n  .map(response => response.json())\n  .mergeMap(data => angularFire.database.list('received-data').push(data))\n  .do(() => console.log('Pushed some data successfully.'))\n  .catch((error) => console.log(error));\n\nAnyway, that's my two cents.. Well, whether or not a Thenable is a promise is going to depend upon what your definition of a promise is.\nIf your definition is Promises/A+, then I suspect they are promises.\nIf your definition is a Promise<T> from TypeScript's perspective, then they aren't.\nFor what it's worth, I created a couple of behaviour tests to make sure that what I said wasn't utter rubbish. The following work fine for me with Firebase 3.6.9, AngularFire2 2.0.0-beta.7, RxJS 5.1.0 and TypeScript 2.1.6:\n```typescript\ndescribe(\"thenable behaviour\", () => {\nit(\"should be compatible with fromPromise\", () => {\nlet list = angularFire.database.list(\"temp/sequence\");\nlet thenable = list.push({ pushed: true });\nlet observable = Observable.fromPromise(thenable);\n\nreturn observable\n  .toPromise()\n  .then((result) => {\n    expect(result).to.exist;\n    expect(result.key).to.equal(thenable.key);\n  });\n\n});\nit(\"should be returnable to operators\", () => {\nlet list = angularFire.database.list(\"temp/sequence\");\n\nreturn Observable.of(null)\n  .mergeMap(() => list.push({ pushed: true }))\n  .toPromise()\n  .then((result) => { expect(result).to.exist; });\n\n});\n});\n``. The likely difference is that I am usingcore-jsand@types/core-jsand [its declaration forPromise](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/core-js/index.d.ts#L778-L798) is compatible with Firebases'sThenable`. I guess you are using something else.\nIt's a purely TypeScript issue, but I sympathise with your predicament. I see it quite a bit when answering Stack Overflow questions that involve TypeScript.\nThe good news is that it's really easy to write your own RxJS static fromThenable operator. You could define one like this (in a file named fromThenable.ts):\n```typescript\nimport { Observable } from \"rxjs/Observable\";\nimport { IScheduler } from \"rxjs/Scheduler\";\nimport { fromPromise } from \"rxjs/observable/fromPromise\";\nimport * as firebase from \"firebase\";\nfunction staticFromThenable(thenable: firebase.Thenable, scheduler?: IScheduler): Observable {\n  const anything: any = thenable;\n  return fromPromise(anything as Promise, scheduler);\n}\nObservable.fromThenable = staticFromThenable;\ndeclare module \"rxjs/Observable\" {\n  namespace Observable {\n    export let fromThenable: typeof staticFromThenable;\n  }\n}\n```\nAnd you'd consume it like this:\n```typescript\nimport { Observable } from \"rxjs/Observable\";\nimport \"./fromThenable\";\nlet thenable = angularFire.database.list(\"some/data\").push({ some: \"data\" });\nlet observable = Observable.fromThenable(thenable);\n``. @antti-pyykkonen This looks very much like the problem that was addressed in PR #775.. I agree that it would make sense for the second set of listeners to receive cached data, but why does it show up in the WebSocket traffic in the Dev Tools? Is this an SDK issue? Is it not using the cache it ought to be?. Actually, I suspect the second set of listeners would receive cached data if the first listener was attached withon, but it's attached withonce`. So perhaps the first listener is already 'disconnected' (so to speak) by the time the promise resolves and the second set of listeners establish a new 'connection'  - which sees them retrieve data via the WebSocket?. @davideast I've had a bit of a poke around with this and there's another plunk here that demonstrates the differences in behaviour between overlapping and non-overlapping listeners.\nIt seems that if the listeners don't overlap, data for the second listener is re-retrieved via the WebSocket - which is the behaviour that I see with the current FirebaseListObservable and its initial content.. @davideast Thanks for looking further into it. What you say makes sense and fits with the behaviour I see. I'm looking forward to the performance improvements that should come with the next release.. PS. This PR has no breaking changes.. Could you please reproduce this using Plunker? There's a plunk here that should get you started. It's configured with the versions you have specified and the relevant code is in app/app.component.ts.. That all sounds frustrating and strange. It might not make any difference, but I would recommend updating to the latest versions.\nAngular: 2.4.8\nFirebase: 3.6.10\nAngularFire2: 2.0.0-beta.8. Good to hear that the weirdness appears to have been addressed with the version changes. Although, the authenticated business still sounds strange.\nThe issue with the pipe is likely down to your member component being rendered before its observable has emitted - I'm guessing you have a FirebaseObjectObservable in the component.\nUntil that observable emits a value, the async pipes in the template are going to be null. Angular can use resolvers for routes so that data that's needed for a component can be resolved before the component is routed/rendered. There is an article here that might be helpful.. Is the tab component using the RouteReuseStrategy or something to keep the components from being torn down? If so, the list that uses subscribe would have a cached copy in the component - that is, in the property that's assigned to inside the subscribe. When change detection is triggered, the subscribed component would have the cached list and the other would have an observable that would not emit anything.\nIf that's what's happening, it's the expected behaviour, I guess. Otherwise, I think you'll need to create a Plunk - using the template - for this to be investigated.. Okay, this is what I believe is happening:\n\nYou call subscribe but you never call unsubscribe on the returned subscription.\nInternally, that means the observable's implementation holds listeners that were added using the internal Firebase ref's on method.\nThose listeners are not switched off when the component is destroyed (as unsubscribe is not called).\nWhen a new component is created (after your disabling of the network) a new Firebase ref is created and new listeners are added for the new observable.\nHowever, there is internal caching in the Firebase SDK and the fact that the listeners related to the first component's observable were not switched off means that this internal cache is able to be used.\n\nI suspect that if you implement OnDestroy in the component and call unsubscribe on the subscription returned by subscribe, the cache won't be used and it will behave the same as with the async pipe.. @vkniazeu If you have a problem, please raise an issue and follow the template, as it's more efficient than a back-and-forth conversation to establish versions, etc.. The imports in the AngularFire2 source use from 'firebase' which will resolve to node_modules/firebase/firebase-browser.js (via the browser entry point in the package.json). The content of firebase-browser.js is:\n/\n *  Firebase libraries for browser - npm package.\n \n * Usage:\n \n *   firebase = require('firebase');\n */\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./storage');\nrequire('./messaging');\nmodule.exports = firebase;\n\n\nSo all of the modules you listed are bundled.\nModifying the AngularFire2 source to import the modules individually would be painful, as the individual modules - like firebase-database.js - don't have associated TypeScript .d.ts files.\nIt should, however, be possible for you to configure your bundler to include only the modules you think are relevant. I think this is more of a bundler issue than an AngularFire2 issue.. @DennisSmolek I've created an issue (#883) for a proposal to address a problem that I have that's closely related to yours. Please check it out to make sure that I've understood what you've posted here and that the proposal will solve your issue as well as mine.. @DennisSmolek  Yeah, the expensive DOM updates for unchanged items are something I really want to avoid, too.\nPR #792 introduced a change to ensure that unwrapMapFn is called only when items are actually changed, so the proposal would give you something that you could use for your own mapping as well as unwrapping. And it would only be run when items are first received or changed.\nSo, using your example, you'd do something like this:\nthis.af.database.list('/numbers', {\n  unwrapSnapshot: (snapshot) => snapshot.val() * 10\n});\n\nThe unwrapping and the mapping would be done in the one function. And if you need the original unwrap implementation, you could import unwrapSnapshot (renamed from unwrapMapFn) and call that in your own function.. @somombo I can see what you mean, but my reservation is that selectors are usually passed the value that would otherwise be emitted by the observable. It seems a strange to have a selector that receives a snapshot when the observable would otherwise be emitting an unwrapped snapshot - for a FirebaseObjectObservable - or an array of unwrapped snapshots - for a FirebaseListObservable. Do you have any examples of selectors in the RxJS API that receive something different to what would otherwise be emitted by the observable? I'm open to suggestions; my primary concern is that the efficiency issue is resolved, as at the moment, it pretty much breaks OnPush change detection.. @somombo Thanks for the examples. I agree that the unwrapSnapshot option would be better named as some type of selector, but I'm not convinced that it should be a separate parameter. The list and object methods are already a little different to the RxJS API as they take an options parameter. Having some options in options and some outside seems a little weird.\nAnyway, I'll wait until there is some action on the reviewing of the PR before considering or suggesting a rename, etc.  Also, you might want to make any further comments against the PR itself, where they are more likely to be seen by a reviewer.. Would you also entertain the refactoring of the FirbaseListObservable to expose an underlying observable that makes available added, removed and changed items? It could be a non-breaking change.\nWhen composing RxJS observables, in many situations the FirbaseListObservable is too coarse. The FirbaseListObservable works great with UI stuff, but from my point of view AngularFire2 is also very much about RxJS and I've found that an observable that's inbetween the abstraction of the FirbaseListObservable and the raw SDK child_added, etc. events is a useful thing to have.\nSomething similar was dismissed in this issue as not adding value over the SDK methods. However, after working with an RxJS/ngrx-based application I don't believe that's the case and AngularFire2's not having an observable that allows working with added, removed and changed items just means that everyone has to write their own. I've had to.. @davideast I'm curious as to what the potential problems are with the scoped names. I think that using the @angularfire scope would be the most straightforward way of getting the 2 out of the name.\nHopefully, using multiple, scoped packages won't impose too much of an administrative burden.. @jsayol @davideast I'll create an issue for the list refactoring sometime soon. It's less about exposing child_added events and more about exposing a more efficient list that doesn't emit everything upon each change. There's a layer in between the the SDK events and the list, and it's inaccessible in the current AngularFire2 and has resulted in my having to replicate code. Hopefully, I'll be able to explain it a little better when I write up the issue.\nBTW, I use AngularFire2 extensively, and nowhere do I directly use an AngularFire2 observable in a template.. @albanx If you want an observable that emits a boolean indicating whether or not there is a connection, you can use Firebase's .info:\nthis.af.database\n  .object('.info')\n  .map(info => info.connected)\n  .subscribe(value => console.log(`connected = ${value}`));\n\nI don't think there's much to be gained by wrapping anything around that.. Never mind. I had this wrong. With FirebasListObservable the type of the $ref property is Reference | Query and what it is depends upon what's passed into the factory. It's fine.. @jckeen  https://github.com/sindresorhus/cpy-cli should be a suitable alternative.. You only need to fork the repo. The procedure is described in CONTRIBUTING.md and there is more information on forking GitHub repos and submitting PRs here.. @albanx Please don't make substantial edits to GitHub comments. Unlike Stack Overflow, for example, there is no edit history, so substantial edits can make conversations much more difficult to follow.. @albanx From a console located in the project's root, run the commands separately, to verify which is failing:\n\ntsc\n./node_modules/.bin/rollup -c rollup.test.config.js\n\nAlso, your branch is not up to date with the latest master. You should address that, too.. @albanx How out-of-date doesn't matter. If you have a problem, you have to remove as many differences and variables as possible. What happens if you run ./node_modules/.bin/tsc?. @albanx @davideast Well, I've reproduced the problem, but I don't yet know the cause. I'll have a look into it, but probably not till tomorrow.. @albanx @davideast The problem is down the @types/jasmine version.\nIn 2.5.46 - the latest version is 2.5.47 - the declarations where significantly changed and many uses of any were replaced with more specific types. In particular, an Expected<T> type was added and it's that that's causing the TypeScript errors.\nI'll look further into the tests to see what needs to be fixed, but in the meantime, the workaround is to install a pre-2.5.46 version:\nnpm uninstall @types/jasmine; npm install @types/jasmine@2.5.45. Here are some contrived examples to demonstrate the proposal's usage.\n\nA snapshot could be mapped to a single property by doing something like this (this is not a particularly compelling use case, but it serves as an example):\nconst names = this.af.list('things', {\n  unwrapSnapshot: (snapshot) => snapshot.val().name\n}) as Observable<string>;\n\nA list observable's items could be mapped to instances of a particular class by doing something like this:\nclass Thing {\n  constructor(snapshot: firebase.database.DataSnapshot) {\n    ...\n  }\n}\n\nconst things = this.af.list('things', {\n  unwrapSnapshot: (snapshot) => new Thing(snapshot)\n}) as Observable<Thing>;\n\nA $save method could be added to a list observable's items by doing something like this:\nimport { unwrapSnapshot } from 'angularfire2/database';\n\nconst things = this.af.list('things', {\n  unwrapSnapshot: (snapshot) => {\n    const unwrapped = unwrapSnapshot(snapshot);\n    Object.defineProperty(unwrapped, '$save', {\n      value: () => snapshot.ref.set(unwrapped),\n      enumerable: false\n    });\n    return unwrapped;\n  }\n});\n\nThe wholesale replacement of the unwrapSnapshot implementation could be acheived by injecting an alternate implementation, like this:\nimport { UnwrapSnapshotToken } from 'angularfire2/database';\n\nfunction unwrapSnapshotToSerializable(\n  snapshot: firebase.database.DataSnapshot\n): any {\n  ...\n}\n\n@NgModule({\n  ...\n  providers: [\n    {\n      provider: UnwrapSnapshotToken,\n      useValue: unwrapSnapshotToSerializable\n    },\n    ...\n  ]\n}. @davideast I've not modified the documentation. I'd like to know what you'd like to do with the `preserveSnapshot` option before I do that.\n\nMy preference would be to deprecate the preserveSnapshot option (for removal in a later version) and instead allow unwrapSnapshot: false to be used. Any thoughts?. @davideast When implementing this PR, I hit numerous issues that were related to the CI server caching an older version of TypeScript in its node_modules directory.\nThe semver in the package.json allows for TypeScript 2.2 to be used. There are breaking changes betweeen 2.0 and 2.2, as TypeScript does not follow semver. Can the version in the package.json be bumped to 2.2?. @somombo No, there is no merge. I've lost interest in this PR and have switched from AngularFire2 to a library that I've written that does what I want/need.. @somombo Yes, I've open sourced it.. @somombo Actually, that should not be there - I deleted most of the Thenable-related stuff this morning, but missed those files. As of RxJS 5.4, it's no longer an issue, as fromPromise now accepts PromiseLike. See this PR.. @somombo Just use a Subject that emits QueryOptions and call the database's query method to turn a ref or a string into a query:\nconst subject = new Subject<QueryOptions>();\nconst ob = subject.switchMap((queryOptions) =>\n  database.list(database.query(\"some/path\", queryOptions))\n);\n\nDoing so is simpler and no less efficient than the AngularFire2 mechanism.\nThis really isn't the appropriate forum for these sorts of questions. And please see the note in the library's issue template regarding the level of support it's likely to receive.. @vkniazeu If I mentioned on Stack Overflow that support for the optional key for equalTo and endAt was in verion 2.0.0-beta.8, I was mistaken. The changes were introduced in this commit: https://github.com/angular/angularfire2/commit/e1464922ab8df0784486d41efa2a93979b1d9c9c\nWhich is two commits after 2.0.0-beta.8. So the changes have been merged into master, but they are not in a published release. Apologies for any confusion I've caused.. @vkniazeu Currently, the documentation is essentially whatever is in master and, as the PR that was merged included the code changes, the tests and the documentation, it's reflected in what you see on the GitHub site. If/when the documentation is published to a separate site - upon the publishing of a release - this would be less of a problem, but, at the moment, it is what it is.. @vkniazeu No worries. For what it's worth, when I look around in GitHub repos for source and docs I often make a point of selecting the branch that corresponds with the latest release - or the release that I'm using - to see the source and docs as they were at the time.. There is a similar problem with the FirebaseListFactory here and here.\nAnd with with the FirebaseObjectFactory here and here.\nIf the injected app is not used, mocking that depends upon being able inject an app instance breaks.. Well, the authState change is a trivial rename. However, in the RC proposal, you've said:\n\nBreaking: FirebaseListFactory and FirebaseObjectFactory only take in a Database Reference\n\nBut that is not the case in currently refactored code, so it's not clear whether or not this still applies.\nRemoving the use of the default app by passing a DatabaseReference - rather than a PathReference - and by removing the checkForUrlOrFirebaseRef would be the obvious thing to do, but what you want to do is not clear.. That isn't how switchMap - and RxJS, in general - works. The observable returned by an operator depends upon the observable upon which the operator is called. Said observable can implement lift to return an observable instance of the same type.\nThe AngularFire2 observables implement lift - see here and here - but that makes no difference in the situation you have described, as the object observable is inside the switchMap. The observable instance returned by switchMap depends upon the key$ observable - not the object observable.. In a broad sense, there will be some way of doing what it is that you are trying to do, but it is impossible for the observable returned by the switchMap operator to be an AngularFire2 observable.\nThink about it this way. When the snippet of code in your issue runs, you will have two observable instances: key$ and item$. Clearly, you will have those instances even if the key$ has not emitted a value. Until it emits a value, an object observable will not have been created, so it's obvious that item$ cannot be an AngularFire2 observable.\nYou could arrange things differently by separating switchMap in to a map and a switch - which would give you an observable that emits AngularFire2 object observables when the key changes:\nthis.key$ = this._activatedRoute.params.pluck('key');\nthis.object$$ = this.key$.map((key) => this._db.object(`/client/${key}`));\nthis.item$ = this.object$$.switch();\n\nIf you have an observable for a button click you could access the AngularFire2 observable using object$$:\nthis.removeClick$\n  .withLatestFrom(this.object$$)\n  .subscribe((event, object$) => object$.remove());\n\nYou'd need to manage the unsubscribe, etc., but that should give you the general idea.\nAlso, if your component is created and torn down with each route change, you could always use the route's snapshot:\nconstructor(private _route: ActivatedRoute) {}\n\nngOnInit(): void {\n  this.key = this._route.snapshot.params['key'];\n  this.object$ = this._db.object(`/client/${this.key}`);\n}. @davideast Does `SnapshotAction` contain the actual Firebase `DatabaseSnapshot`? Won't that be a problem, as actions are supposed to be serializable? It will not be compatible with the Redux DevTools.. @davideast I think by using actions and putting the actual non-serializable snapshot into an action you are going to end up with support issues, as actions are supposed to be serializable. I think any newcomers to ngrx are not going to be aware of this, will use the AngularFire actions as-is and will then wonder why the Redux DevTools, etc. won't work.. I agree with @Kamshak on this:\n\n\nSince a lot of this isn't really angular specific, do you think it would be possible to extract the database part of the library as something like RxjsFirebase so that it can be used with firebase-admin as well?. @davideast I think the simplest thing to do would be to just change the name. Perhaps something like SnapshotChange rather than SnapshotAction? And maybe rename payload to snapshot so that it looks less actiony? And maybe rename type to event? It is, after all, a Firebase event name and snapshotChanges would be a relatively low-level and close-to-Firebase API.. @davideast I noticed that in your example above you've used mergeMap. The AngularFire observables don't complete; they re-emit a value when the database changes. That means you pretty much always want to use switchMap instead. If mergeMap is used, values from no-longer-relevant observables will be emitted into the stream when the database changes.. @davideast Good to see that unwrapMapFn is deprecated/gone. :tada: :+1:. @davideast Perhaps I should have said that the action payloads should be already serialized, rather than serializable. The fact that the snapshot is serializable won't help, as actions are serialized when sent to the DevTools (which run in a different page). That means that when time travel debugging, replayed actions will contain JSON and not a snapshot instance, so there will be no val() to call and it will break.. @davideast  Just to reiterate, my only concern is with the name. Calling them actions seems like an invitation to misuse them. The implementation looks great.\n\nI just don't see the upside of naming them and structuring them like Redux actions when they are not intended to be dispatched and have payloads that will break if used with the DevTools.. I created an issue (#245) before noticing that this PR was still open. The injected FirebaseConfig parameter is a FirebaseAppConfig instance - not a string. Also, the list and object members aren't used - list and object are functions of the database mamber.\n. Would you consider renaming the authState property to user? Because that's what it is. If the underlying SDK entity is a firebase.User, how likely is it that authState will ever be anything other than a user? And if one of the goals of the RC is to co-exist with the SDK, shouldn't the two use the same terminology?\nHaving to use auth (in the beta) to refer to what is the user is a peeve of mine and I've seen the confusion that it causes in SO questions. If it has to be explained on SO, surely it's a problem.. Hmm, I should have waited until I'd had my morning coffee before posting the above comment. With FirebaseAuthState now gone, using authState as the name of the observable property seems fine. Please ignore my pre-coffee review.. authState is totally fine. As per my second comment, I wasn't paying close enough attention when I made the first. authState fits well with the  SDK's onAuthStateChanged - which calls a function, passing the user. It's all good. I would have deleted my original comment had I been able to.. ",
    "Methodician": "Just one more \"me too\" - I'm currently having the issue where I get back a duplicate of the first node. Specifically I'm using the AngularFIreDatabase's \".list('my/path')\" method.\nIn addition and hopefully related, I randomly get duplicates all over a list of objects then when I refresh the duplicates disappear and it's incredibly difficult to debug because it happens seemingly at random and I can't reliably reproduce the issue. . I'm having this problem too, oddly with a slightly different version of the name (mine is angularFire2 and angularfire2 while yours is Angularfire2 and angularfire2). It started out of nowhere after I had been developing for a while and now I have about 3 pages of warnings\nDoesn't seem to be affecting the app but it's a lot of noise in the console, which impedes debugging. Has anyone come across a fix?\nCould be worth noting that it cropped up shortly after opening files from a similar project in vsCode, while I had the folder of my current project open, and copying some content into my local files. No idea why this would create a problem in the angularFire2 files...\n. Found the fix!\nI had import statements in some files with:\n\nimport { AngularFireStuff } from 'angularFire2';\n\nand in other files with\n\nimport { AngularFireStuff } from 'angularfire2';\n\nNote that Fire was capitalized in the first one and fire was not capitalized in the second. They were both valid import statements but resulted in the warning when I wasn't being consistent.\n. ",
    "mbisurgi-designfreed": "I am having the same problem! When I first load the app, the table displays the info as in the db, but if I update or insert a new value, for some reason, if I console the items, i get the 5 items on the db, but the first one is adding up the last query, so for example, if i have two records on the db and they have a value of 100, and 200 the first time it displays 100 and 200, but when I update for instance the second one to 100, the console displays the first item with 300 and the second with 100, so they add up 400. If i cancel or refresh the page, or run the query again by clicking the button it displays the correct info, but when doing it on real time it has that problem\n```\ngetVentasByRangoFecha(desde: string, hasta: string) {\n    let ventas: FirebaseListObservable = null;\nventas = <FirebaseListObservable<Venta[]>> this.db.list('ventas', {\n  query: {\n    orderByChild: 'fecha',\n    startAt: desde,\n    endAt: hasta\n  }\n}).map(items => {\n  console.log(items);\n\n  const map = new Map();\n\n  for (const item of items) {\n    if (!map.has(item.uid)) {\n      map.set(item.uid, item);\n    } else {\n      const venta: Venta = map.get(item.uid);\n\n      venta.kilos = venta.kilos + item.kilos;\n      venta.pesos = venta.pesos + item.pesos;\n      venta.ventas = venta.ventas + item.ventas;\n      venta.visitas = venta.visitas + item.visitas;\n    }\n  }\n\n  return Array.from(map.values());\n});\n\nreturn ventas;\n\n}\n```\nThanks. ",
    "ealmiladi": "I am also having the same problem. It appears to happen when data is changed as a part of the initial subscription. Very annoying -- I'd have to hack away a solution so I can release my app, but I'd prefer not to. Please fix!. @davideast There is a serious data duplication problem with database lists. Updates to the list produce duplicates, initial loading of lists produce duplicates, .map and .subscribe produce duplicates. Have you taken a look at this all? This is incredibly frustrating. It seemingly happens at random all over my app.. I just keep getting '57VM1726 database.js:159 [Violation] Avoid using document.write().' in console.. I added a video that describes the situation.\nI found out that it appears to happen on the initial subscription to the firebase location.\nSo if I have,\n  this.units = this.entityService.getUnitList(this.navParams.data.property_id);\nthen I end up with duplicate data. However if I wrap that subscription as such:\nthis.entityService.getUnitList(this.navParams.data.property_id).subscribe(_units => {\n      this.units = this.entityService.getUnitList(this.navParams.data.property_id);\n    }); then I end up with no duplicate data.\nWhat is going on? Really can't release an app with these kind of hacks. @jamesdaniels @mprobst @kylecordes @joehalliwell @matsko @davideast. ",
    "zaki-arain": "@davideast Is there any word on this? I'm having this problem as well.. I'm having this issue as well. Right now it doesn't disrupt anything in the application, but it triggers a tslint error in my console. . Despite creating a complete interface that reflected my database... I had to add [propName: string]: any; to my interface to get it to stop complaining.. pretty ugly stuff.. ",
    "jgirgis85": "I have the same error once you load FIREBASE_PROVIDERS during boot or anywhere I get : \nError: SyntaxError: Unexpected token <(\u2026)Zone.run @ angular2-polyfills.js:1243zoneBoundFn @ angular2-polyfills.js:1220lib$es6$promise$$internal$$tryCatch @ angular2-polyfills.js:468lib$es6$promise$$internal$$invokeCallback @ angular2-polyfills.js:480lib$es6$promise$$internal$$publish @ angular2-polyfills.js:451lib$es6$promise$$internal$$publishRejection @ angular2-polyfills.js:401(anonymous function) @ angular2-polyfills.js:123Zone.run @ angular2-polyfills.js:1243zoneBoundFn @ angular2-polyfills.js:1220lib$es6$promise$asap$$flush @ angular2-polyfills.js:262\nangular2-polyfills.js:1152 DEPRECATION WARNING: 'dequeueTask' is no longer supported and will be removed in next major release. Use removeTask/removeRepeatingTask/removeMicroTask\n. ",
    "mukesh51": "@katowulf  Sure. I'll start working on this.\n. @katowulf  I've added a section AngularFireAuth. Please review and let me know, if it looks ok or needs to be amended.\n. @davideast Whatever discussed above has been taken care and the documentation has been updated. I guess this issue can be closed now.\n. @ix-xerri The installation tutorial is updated now. Try again from the start and everything should work.\n. @ix-xerri would be good to see your code. can you copy the snippets from app.module.ts, index.ts and main.ts here. Also copy app.component.ts and index.html.  Easy option will be to create a plunker.\ncan you execute this command \"ng -v\" and paste the output.\n. @ix-xerri Got your problem. You're exporting MyAppModule in /src/app/app.module.ts, but while bootstrapping in /src/main.ts you're using AppModule.\nChange \"MyAppModule\" to \"AppModule\" in /src/app/app.module.ts and you should be good.\n@davideast I'll update the install document.\n. @ix-xerri @iamgmd  Remove 'moduleId: module.id' from your src/app/app,component.ts and the error should go away. Let me know how it goes.\n. You can have \"items\" as your root in your firebase console and then can have \"item1 : value1\", \"item2: value2\". Any basic tutorial should help.\nitems:\n     -- item1 : value1\n     -- item2 : value2\n. @iamgmd Hope this helps Module.Id\n. @davideast I've created another pull request to update the quick start file. There is another error \"Cannot find require\". I discussed it with @katowulf and updated the quickstart. \nNeed two more entries in src/typings.d.ts \ndeclare var require: any;\ndeclare var module: any\n. @hoenderdaal  Yes. I also had installation problems with Windows, but worked smoothly on Ubuntu 14.04 LTS. \n. @asadsahi do you have the following entry in src/tsconfig.json\n\"types\": [\n      \"firebase\"\n    ]\n. Interesting. I just did a full install following this documentation setup on Ubuntu 14.04 and it working as expected. I have to add the firebase entry in tsconfig.json to resolve the error around firebase namespace.\nI had issues on windows machine, but different. not worth mentioning here.\n@davideast any thoughts ?\n. @k1ng440  I'll recommend try the install guide again. you \"ng -v\" gives angular-cli: 1.0.0-beta.11-webpack.8 , where as angular-cli has got updated. so may be worth un-installing and re-installing angular-cli. Also, I've faced issues on windows system and have seen others also facing different issues on windows, but everything seems to be working fine on linux based system. Just so you know.\n. Try adding it into \"files\" list in the tsconfig.json\n. @jeffbcross Hopefully, this should remove the need to add firebase entry in types arrays in 'src/tsconfig.json' ?\n. @csotomon  Even though errors are thrown on Windows 10, the connectivity with Firebase should work as expected.\nI did raise an issue sometime back to highlight this behaviour #569 \n@davideast FYI.\n. @lednhatkhanh try removing the import * as firebase from 'firebase'; from angularfire.d.ts and then restart ng serve\n. Hi @davideast  based on your comment above, i created a combined PR for 3 PR's with following title (Combining PR #523,#526, #528).\nHope this works!!\n. add the following entry in src/tsconfig.json to get rid of \" Cannot find namespace 'firebase\" error\n\"types\": [\n      \"firebase\"\n    ]\nLook at the troubleshooting section of tutorial installation,  for more information around other errors, you may encounter.\n. Why not move away from RC7 to a more stable version of angular2. It seems more stable. Rather follow the install tutorial again from start or update your package.json to something like this\ndependencies\": {\n    \"@angular/common\": \"2.0.0\",\n    \"@angular/compiler\": \"2.0.0\",\n    \"@angular/core\": \"2.0.0\",\n    \"@angular/forms\": \"2.0.0\",\n    \"@angular/http\": \"2.0.0\",\n    \"@angular/platform-browser\": \"2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0\",\n    \"@angular/router\": \"3.0.0\",\n    \"angularfire2\": \"^2.0.0-beta.4\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.4.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  },\nHopefully this should get you going.\n. @tonymk Just curious. Did you update the package.json file and ran npm install or did you do a full install from scratch. May be worth trying a later. I've to admit, I had my own issues on Windows 7 and Windows 12 server, but everything worked smoothly on Ubuntu 14.04. I am using EC2 instances.\nHopefully @davideast  should be able to help here.\n. @dmastag I had my own issues on Windows 10. Moved to Ubuntu 14.04 LTS.\n. Try adding at the top\nimport 'rxjs/add/operator/map'\n. It's not a work-around. I am sure you can find a lot of info on internet, but let me give you my simple theory. \nReactiveX library has lot of functions, which does a variety of magic for you. If you don't want to import specific functions in your app, then you can download this entire library with one single import\n \"import 'rxjs/Rx'\" \nThe down-side of using this import is, for example: when a user is accessing your app using mobile phone, the entire library will be downloaded on his phone and you may not be even using all of the functions of the library. so Seems like Google guys have come up with a strip-down version of ReactiveX library, which contains standard functions and any other functions like .map, .flatMap etc can be imported on need basis. \nHope this helps.\n@katowulf any thoughts ??\n. @danielordonez Look at this issue You should have your answer.\nyou need to add this line in your imports at the top of your component.\nimport 'rxjs/add/operator/take'\n. Not sure, if I get your question correctly, but with the input field, where you're trying to sync the value from Firebase, why not try some time based operations like delay or debounce, so that you can delay your callback.\n. @momsenmeister Refering to your \"970 modules\" with installation, angular-cli alone, along with its dependencies will bring in around 700 dependent packages. Also, typings install will also add around 150 more packages. So these are internal dependencies, which are required by angular-cli , typings and has nothing to do with angularfire2.\nRegarding your error around python and .net framework look at issue #569 , this should resolve your dependencies issue.\nAlso, if you don't want to install angular-cli and run your application explicitly with web-pack, you can do so. I just created a sample application and it works without angular-cli and has got only 370 odd packages inside node_modules, in which around 150 of them are typings dependencies.\nSnippet from my package,json contains\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0\",\n    \"@angular/compiler\": \"2.0.0\",\n    \"@angular/core\": \"2.0.0\",\n    \"@angular/http\": \"2.0.0\",\n    \"@angular/platform-browser\": \"2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0\",\n    \"@angular/router\": \"3.0.0\",\n    \"angularfire2\": \"^2.0.0-beta.5\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.4.1\",\n    \"reflect-metadata\": \"0.1.3\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"zone.js\": \"^0.6.23\"\n  },\n  \"devDependencies\": {\n    \"ts-loader\": \"^0.9.1\",\n    \"typescript\": \"^2.0.3\",\n    \"typings\": \"^1.4.0\",\n    \"webpack\": \"^1.13.2\",\n    \"webpack-dev-server\": \"^1.16.2\"\n  }\ntypings.json looks as follows\n{\n  \"globalDependencies\": {\n    \"core-js\": \"registry:dt/core-js#0.0.0+20160914114559\"\n  }\n}\ntsconfig.json is \n{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"experimentalDecorators\": true,\n        \"emitDecoratorMetadata\": true,\n        \"types\": [\n            \"firebase\"\n        ]\n    }\n}\nyou only need the packages under dependencies to run your app, but the dev-dependencies are important to compile your packages as web-pack won't understand typescript.\nhope this helps.\n@davideast Should we have a doc for \"installing angularfire2 with webpack\". with no angular-cli.\nHappy to create one.\n. @katowulf @davideast This is still open. Do i need to add anything more, before this can be approved.\n. Hi @katowulf . Did you get a chance to review this. Anything missing ??\n. @maxmumford  Adding this statement should get you a reference to firebase object.\nimport * as firebase from 'firebase' \n. @maxmumford I tried recreating this problem locally, but everything works fine. \nHopefully @davideast should provide some steer.\nAlso you should see the recommended way to get current user. I modified the code slightly\nhttps://firebase.google.com/docs/auth/web/manage-users#get_the_currently_signed-in_user\n. @maxmumford Just a thought. If everything works as expected on plnkr as well as on my local instance,is it something you would like to try installing everything from scratch Install & Setup to ensure nothing is missing.\n. @alizzen have you looked at this \nhttps://github.com/AngularClass/angular2-webpack-starter\n. @JimTheMan are you on the latest version of angular. one of the options you can try is removing the following entry from  src/tsconfig.json, which actually is not recommended as per installation guide.\n\"types\": [\n\"firebase\"\n]\n. Can you show your code with plnkr. also do you want to try removing that entry mentioned above and see how it looks.\n. @JimTheMan I suspect something to do with your node_modules. Can you try deleting and re-installing your node_modules. Also put this entry back in your src/tsconfig.json. Look at the troubleshooting section of install guide. Also, what output do you see, when you execute the following command \"ng -v\"\n. @JimTheMan This was called out here issue 520 and it was resolved by upgrading the angular-cli version, but not necessarily that is the solution.\nYou can safely remove the firebase entry from types array. See issues 525\n@jeffbcross @davideast  any thoughts ?\n. @Kamshak : Timeout is inconvenient. Why not try something similar and call the appropriate methods as required.\nconstructor(public auth: FirebaseAuth) {\n        this.authState = auth.getAuth();\n        auth.subscribe((state: FirebaseAuthState) => {\n            this.authState = state;          \n        })        \n    }\nget authenticated(): boolean {        \n        return this.authState !== null && !this.expired;\n    }\nget expired(): boolean {\n            return !this.authState || (this.authState.expires * 1000) < Date.now();\n    }\n. @davideast Created the document as raised a pull request. please review and advise.\n. @maxmumford I am just getting the final array result with two subscribers. This is my code\n``` ts\nimport {Component} from '@angular/core';\nimport {AngularFire, FirebaseListObservable} from 'angularfire2';\n@Component({\n  selector: 'app-root',\n  templateUrl: <ul>\n    <li *ngFor=\"let item of items | async\">\n      {{ item }}\n    </li>\n  </ul>,\n})\nexport class AppComponent {\n  items: FirebaseListObservable;\n  constructor(af: AngularFire) {\n    this.items = af.database.list('/items', {\n      query: {\n        orderByChild: 'size',\n        equalTo: 'large' \n      }\n    });\nthis.items.subscribe(x => console.log('Subscriber 1: ', x));\nthis.items.subscribe(y => console.log('Subscriber 2: ', y));\n\n}\n}\n```\n. Hi @maxmumford   I tested your code as is and it works fine. Pasting below for your reference.\nngOnInit() {\n     this.af.database.list('/items')\n        .subscribe(items => console.log('In ngOnInit() ', items));\n  }\nconstructor(private af: AngularFire) {\n     af.database.list('/items', {\n      query: {\n        orderByChild: 'size',\n        equalTo: 'large' \n      }\n    }).subscribe(x => console.log('In Constructor: ', x));\ni didn't remove any code from ngOnInit() and it worked as expected.  Strange the same code is not working for you.\n@davideast  any thoughts ?\n. @mquentin I don't get this error, infact I am able to get FacebookAuthProvider. \nSnippet from my code:\nconstructor(public af: AngularFire, public auth: FirebaseAuth) {\n    this.authState = auth.getAuth();\n    auth.subscribe((state: FirebaseAuthState) => {\n        this.authState = state;\n        console.log(\"Display Name \"+this.authState.facebook.displayName);\n        console.log(\"photo URL \"+this.authState.facebook.photoURL);\n    });\n}\n\nSnippet of my package.json\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0\",\n    \"@angular/compiler\": \"2.0.0\",\n    \"@angular/core\": \"2.0.0\",\n    \"@angular/forms\": \"2.0.0\",\n    \"@angular/http\": \"2.0.0\",\n    \"@angular/platform-browser\": \"2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0\",\n    \"@angular/router\": \"3.0.0\",\n    \"angularfire2\": \"^2.0.0-beta.5\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.4.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  },\n. Do you want to share your code or may be plnkr.\n. @thibaultsavary Since you've opened up the issue, it's ok to close the issue by yourself unless the moderator looks into it and closes it. Just so you know.\n. @nydal91 The Guide has been updated. Not sure, if I got your question correctly, but seems like you're trying to run your code and it's not working.\nWhy don't you try the below code. \nPaste the below code in your  app.module.ts \n`\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport { AppComponent } from './app.component';\nimport {FIREBASE_PROVIDERS, defaultFirebase, AngularFireModule, AuthMethods, AuthProviders, firebaseAuthConfig} from 'angularfire2';\nexport const firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \"\",\n  databaseURL: \"\",\n    storageBucket: \"\",\n};\nconst myFirebaseAuthConfig = {\n  provider: AuthProviders.Facebook,\n  method: AuthMethods.Redirect\n}\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    AngularFireModule.initializeApp(firebaseConfig,myFirebaseAuthConfig)\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n`\nand paste the below code in app.component.ts\n`\nimport { Component } from '@angular/core';\nimport { AngularFire } from 'angularfire2';\n@Component({ \n  selector: 'app-root',\n  template: <div> {{ (af.auth | async)?.uid }} </div>\n  <button (click)=\"login()\">Login</button>\n  <button (click)=\"logout()\">Logout</button>,\n})\nexport class AppComponent {\n  constructor(public af: AngularFire) {}\nlogin() {\n    this.af.auth.login();\n  }\nlogout() {\n     this.af.auth.logout();\n  }\n}\n`\nhopefully this should help.\n. @davideast Did you get a chance to review this issue, so that issue #569 can be closed. This was also raised in issue #525 \n. @youpage It is worth noting that logout() is an asynchronous operation. There is an open bug against the Firebase SDK to make this return a promise. \n@katowulf @davideast FYI\n. @apreg I don't see this as an error. what does your creds object looks like when you receive the authResponse.accessToken from below.\nlet creds = firebase.auth.FacebookAuthProvider.credential(response.authResponse.accessToken);\nIs it an Object with \"email and password\" attributes or a firebase.auth.AuthCredential object\nThe below method when passed the arguments correctly, even though one argument of credentials should work just fine.\nlogin(credentials: EmailPasswordCredentials | firebase.auth.AuthCredential | string, config?: AuthConfiguration): firebase.Promise<FirebaseAuthState>;\n. @apreg I think, I see your point.\n. Duplicate of Issue #576\n. Hi @katowulf  Added a quick tutorial as #691 . If it looks good and this is what is expected, happy to convert it into a doc.\nThoughts please ?\n. @katowulf Updated the document to reflect native support using Ionic Native. Although there is a room for improvement for this document (which I'll try to work later), it should provide a good start as of now. And I've closed the issue.. agree with kato, but here is a quick one, you can try in your chrome browser console. no need to create an app. hope this gives you some steer\n`\nvar myFirebase = new Firebase(\"https://yourfirebaseconsole.firebaseio.com/\");\nvar linksRef = myFirebase.child('links'); // Define your link objects in firebase\nvar instance = this\nlinksRef.on('value', function(snapshot){console.log(instance.obj=snapshot.val())});\ninstance.obj\n`\n. @raviranjan528 you need latest version of node and npm. Have you gone thru the getting started docs here.\n. @raviranjan528  Good to know it's working. I've also raised a PR, which is yet to be approved and merged, which will have more information around API usage in general. You can refer to the PR until it gets approved here.\nPlease close the issue, if it has served your purpose.\n@katowulf FYI\n. @nelsonad Looking at your plnkr code, it seems you're trying to do something similar as given in the example app in the guide here.\nThe below example works for me\n`\nimport { Component } from '@angular/core';\nimport { AngularFire, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2';\nimport { Subject } from 'rxjs/Subject';\n@Component({\n  selector: 'app-root',\n  template: <ul>\n    <li *ngFor=\"let item of items | async\">\n      {{ item.text }}\n    </li>\n  </ul>\n  <div>\n    <h4>Filter by size</h4>\n    <button (click)=\"filterBy('size','small')\">Small</button>\n    <button (click)=\"filterBy('size','medium')\">Medium</button>\n    <button (click)=\"filterBy('size','large')\">Large</button>\n  </div>,\n})\nexport class AppComponent {\n  items: FirebaseListObservable;\n  sizeSubject: Subject;\n  sizeSubjectName: Subject;\nconstructor(af: AngularFire) {\n    this.sizeSubject = new Subject();\n    this.sizeSubjectName = new Subject();\n    this.items = af.database.list('/items', {\n      query: {\n        orderByChild: this.sizeSubjectName,\n        equalTo: this.sizeSubject,\n      }\n    });\n  }\n  filterBy(sizeName: string, size: string) {\n    this.sizeSubject.next(size);\n    this.sizeSubjectName.next(sizeName); \n  }\n}\n`\nIf this doesn't helps you should also look at this stackoverflow article\nand library Querybase from @davideast that allows you to order by multiple values.\nHope that helps.\n. @clust3rsekt0r Even though errors are thrown on Windows 10, the connectivity with Firebase should work as expected.\nDuplicate of #525 . Also check #569 \n@davideast FYI\n. @guiomie Rather than copying the example from plunker template, why not try the install guide here.\nLooking at the errors, it seems obvious that the type definitions files are not being found. for example:- you can eliminate the following  errors\n\nnode_modules/@angular/core/src/application_ref.d.ts(150,101): error TS2304: Cannot find name 'Promise'.\nnode_modules/@angular/core/src/change_detection/differs/default_keyvalue_differ.d.ts(24,15): error TS2304: Cannot find name 'Map'.\n\nby running the below command to install type definition files (probably not a recommended approach, if you're using angular-cli).\ntypings install --global --save dt~core-js\nand you can ignore the \" Cannot find namespace 'firebase'.\" error, if running your application on Windows 10, see here.\noverall, try the installation guide and if there are errors, report them back. hope that helps.\n@katowulf @davideast \" Cannot find namespace 'firebase'.\" has been reported in few issues for windows 10. \n. @guiomie sorry for delay in response. Do you want to check #552 , you can use angularfire2 without angular-cli, only webpack.\n. @daslicht works fine for me. created a quick app and the data got loaded in a second and i followed the documentation as well. did you try the sample example in documentation. how much time does it takes to load the initial data. also you're making a call to firebase in constructor. probably not a best practice. you want to change it something like this.\n```\nngOnInit() {\n    this.item = af.database.object('/item');\n  }\nconstructor(af: AngularFire) {  \n console.log('constructor: ',this.item);\n  }\n```\n. @oberoivarun @Irocode Everything should work as expected. After seeing your issue, I just followed the steps again from Install guide to see, if anything seems broken. It's working fine for me on Windows 10 machine. See the below ng and node version for your reference.\nIn fact you don't need to do any of the steps mentioned in the troubleshooting section. The console might throw errors on WIndows machine, but the connectivity still works with FIrebase. these errors are not thrown on linux/mac os.\nC:\\afTestApp>ng -v\nangular-cli: 1.0.0-beta.15\nnode: 6.5.0\nos: win32 x64\nC:\\afTestApp>node -v\nv6.5.0\n. @shashankgaurav17 Follow the install guide here.\nAlthough the guide says installation of angular-cli on windows 10, it works for windows 7 as well.\nBefore following the steps, ensure you got the latest version of node/npm installed. Mine are as follows.\n\nD:\\afTest>node -v\nv6.9.1\nD:\\afTest>npm -v\n3.8.9\nD:\\afTest>ng -v\nangular-cli: 1.0.0-beta.19-3\nnode: 6.9.1\nos: win32 ia32\n\nI did a fresh install after seeing your issue and it worked for me. let me know, how it goes for you.\n. can you print you node version, npm version and ng version here.\nAlso before i did  a reinstall, i deleted the angular-cli, typings and typescript folders from following location on my machine ( just to be double sure). \n\nC:\\Users\\USER\\AppData\\Roaming\\npm\\node_modules\n. @theunreal Did you get a chance to look at this section.\n. @theunreal I didn't see the transaction method, but my guess is, if it has to be available, then it has to exists in firebase_list_observable definition file. Again, my assumption is, I don't  believe angularFire2 will mimic every method of firebase API, which might not make sense.\n\nI'll leave it to experts.\n@katowulf @davideast @jeffbcross  do you guys want to weigh in here, please.\n. @jtushar53 Firebase allows 32 levels of nesting, but probably that is not a good way to structure the data. When fetching data with nesting, firebase returns all of objects / child nodes,  which will add unnecessary overhead each time. So an easy way would be to flatten the data\nOne of the option, you can try is as follows:\nThe task key and the employees key should be sibling to project key and not nested inside task key. Think about it, if you want to just get some task details only. Having a nested data will fetch all other data, which might not be desirable. \nMay be something like this..\n```\nemployees\n  |--- employee_key_1\n     |--- employee_object\n  |--- employee_key_2\n     |--- employee_object\nprojects\n  |--- project_key_1\n     |--- project_object\n  |--- project_key_2\n     |--- project_object \ntasks\n  |--- task_key_1\n     |--- Any task specific attribute\n     |--- projects\n        |--- project_key_1\n        |--- project_key_2\n        |--- .........\n     |--- employees\n        |--- employee_key_1\n        |--- employee_key_2\n        |--- .........\n```\nThere will be implications to this design, unless you enable security and permissions features.\n. @jtushar53  Please see the API reference here. Hope that helps.\nAlso you need to look into Firebase Security and Rules in order to answer your query around task specific to employee. You don't code the logic in your application, it is configured via rules. See here.\n. @JT-Bruch  add the following line in your app.component.ts and it should work.\nimport * as firebase from 'firebase';\n. @mxii What is the use case for reading Remote Config Parameters.  Also, you're not following the standard (template) for raising your request. Update your issue with the correct format or it might get closed.\n. @giansk For your logging to work, you can add the following line in your app.component.ts and it should work.\nimport * as firebase from 'firebase';\n@katowulf looking at the debug output, ( I may be wrong but ) but does it seems to be tied to #574 \n. @nicholas-richardson I am not close to ionic, but  try adding at the top\nimport 'rxjs/add/operator/flatMap'\nAlso refer to #531 \n. @nicholas-richardson your import syntax is not correct. when importing operators, you just need to add the below line as is\n\nimport 'rxjs/add/operator/flatMap'\n\nThe general syntax is\nimport 'rxjs/add/operator/Operator Name';\nHope this helps.\n. Apologies:- I just looked at the definition file. you need to import mergeMap. you can find the definitions at the following location (\"node_modules\\rxjs\\add\\operator\") in your project \nso please add the following import statement and use flatMap.\n\nimport 'rxjs/add/operator/mergeMap';\n\nand it should work. the below sample snippet worked for me. I am returning a static array, but it shouldn't matter. Let me know how it goes for you.\n....\nthis.af.database.list('/items').flatMap(function(requestUrl) {\n    return  ['a','b','c','d'];\n  }).subscribe(result => {\n            console.log('flatMap output',result);\n   });\n....\n. This might be unrelated to your above error, but looking at your package.json, seems like your angular-version is old. For example angular has moved away from es6-shim to core-js. \nDo you want to try upgrading your project with latest modules. My package.json looks like this : \n\n\"dependencies\": {\n    \"@angular/common\": \"~2.1.0\",\n    \"@angular/compiler\": \"~2.1.0\",\n    \"@angular/core\": \"~2.1.0\",\n    \"@angular/forms\": \"~2.1.0\",\n    \"@angular/http\": \"~2.1.0\",\n    \"@angular/platform-browser\": \"~2.1.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.1.0\",\n    \"@angular/router\": \"~3.1.0\",\n    \"angularfire2\": \"^2.0.0-beta.5\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.5.2\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  }\n. @jtushar53 QueryBase is an experimental project and i haven't heard anywhere around it's integration to angularfire2, so highly unlikely, this will happen (unless we hear from experts).\n\nIf you are raising a feature request, then it needs to follow the template or else it might get closed with no response.\n. @ix-xerri  Seems like this is working as expected. I wrote quick code (not following best practices, but this should work for the purposes of this issue) and have pasted below for your reference. I've attached the service file as well as two pages, which shows the navigation. This should get you going. Let me know, if this doesn't works for you.\nI am on Windows 10 with following versions.\n\nIonic version is  2.1.8\nCordova version is 6.4.0\nnode version is 6.9.1\nnpm version is 3.10.8\n\nSnippet from my package.json\n\n\"dependencies\": {\n\"@angular/common\": \"2.1.1\",\n    \"@angular/compiler\": \"2.1.1\",\n    \"@angular/compiler-cli\": \"2.1.1\",\n    \"@angular/core\": \"2.1.1\",\n    \"@angular/forms\": \"2.1.1\",\n    \"@angular/http\": \"2.1.1\",\n    \"@angular/platform-browser\": \"2.1.1\",\n    \"@angular/platform-browser-dynamic\": \"2.1.1\",\n    \"@angular/platform-server\": \"2.1.1\",\n    \"@ionic/storage\": \"1.1.6\",\n    \"angularfire2\": \"^2.0.0-beta.6\",\n    \"firebase\": \"^3.6.1\",\n    \"ionic-angular\": \"2.0.0-rc.3\",\n    \"ionic-native\": \"2.2.3\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"zone.js\": \"0.6.26\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"0.0.45\",\n    \"typescript\": \"2.0.6\"\n  },\n\nhome.ts\n\nimport { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth-service';\nimport { SuccessPagePage } from '../success-page/success-page';\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\nconstructor(public navCtrl: NavController, private _auth: AuthService) {}\nsignInWithFacebook(): void {\n    this._auth.signInWithFacebook()\n      .then(() => this.onSignInSuccess());\n  }\nprivate onSignInSuccess(): void {\n    this.navCtrl.push(SuccessPagePage);\n  }  \n}\n\nsuccess-page.ts\n\nimport { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { AuthService } from '../../providers/auth-service';\nimport { HomePage } from '../home/home';\n@Component({\n  selector: 'page-success-page',\n  templateUrl: 'success-page.html'\n})\nexport class SuccessPagePage {\nshowLogoutButton: boolean = false;\n  displayName: string;\nconstructor(public navCtrl: NavController, private _auth: AuthService) {\n    this.displayName = this._auth.displayName();\n  }\nlogoutFacebook() {\n    this.showLogoutButton = false;\n    this._auth.signOut();\n    this.navCtrl.push(HomePage);\n  }\n}\n\nauth-service.ts\n\nimport { Injectable } from '@angular/core';\nimport { AuthProviders, FirebaseAuth, FirebaseAuthState, AuthMethods } from 'angularfire2';\n@Injectable()\nexport class AuthService {\n  private authState: FirebaseAuthState;\nconstructor(public auth$: FirebaseAuth) {\n    this.authState = auth$.getAuth();\n    auth$.subscribe((state: FirebaseAuthState) => {\n      this.authState = state;\n    });\n  }\nget authenticated(): boolean {\n    return this.authState !== null;\n  }\nsignInWithFacebook(): firebase.Promise {\n    return this.auth$.login({\n      provider: AuthProviders.Facebook,\n      method: AuthMethods.Redirect\n    });\n  }\nsignOut(): void {\n    this.auth$.logout();\n  }\ndisplayName(): string {\n    if (this.authState != null) {\n      return this.authState.facebook.displayName;\n    } else {\n      return '';\n    }\n  }\n}\n. @ix-xerri When you posted your issue, I assumed, you're not able to run your Ionic app with AngularFire2 (specifically, you're not able to authenticate using angular fire2) and hence I pasted the snippet code above, as I am able to get it running on my machine locally. I did mention the various modules, along with their version numbers. \n\nNow with the above link, you're referring to an issue which seems to be more of Ionic and not angularFire2. For me the AngularFireModule.initializeApp(firebaseConfig) line does load. \nMy repo is here, incase you want to have a look \nPlease correct me, if I am missing something.\n. Looks Ok. Do you want to share your repo, especially app.module.ts. \n. You app.module.ts looks good. Won't be able to decipher more from it.\nDo you want to share your repo. I can look into it.\n. Great to hear, you have an option.  See if you want to have a second look at my repo. \nAngularFire2 works pretty well.\n. @Demi-ob Do you want to share your repo. I can clone it locally to see if I am able to reproduce your issue.\n@ix-xerri do you want to modify your above syntax as \nimport * as firebase from 'firebase';\n. when you use this statement\nimport { NavController } from 'ionic-angular';\nyou're explicitly importing NavController object from 'ionic-angular'. Now, if you want to import another object from the same module, you try to add it in the same import statement by specifying the object, separating it with a comma. \nWhat if you want to import everything in one go, that is where you use *. Hope that helps.\n. Sorry @ix-xerri . Without looking at the repo, I may not be able to add more. Hopefully someone else.\n I'll wait for @Demi-ob to share his repo and see if I can reproduce the issue.  The only difference I can see in package.json is the version number of zone.js.\n\n\"zone.js\": \"0.6.21\" vs  \"zone.js\": \"0.6.26\"\n\nI am not sure if that is a problem, but you can give it a try.\n. What does that mean?\n. @patrickmcd  :+1: \n. @adirzoari I didn't receive this error, but try adding this line to home.ts\nimport * as firebase from 'firebase';\nAlso refer to issues #654 . Hope that helps. Also this issue is closed and you can refer to the tutorial here . Hi @katowulf . Updated the title in both the files. Agree that this file may need updates in future. Also, I've updated the title to  Using AngularFire2 with Ionic2  and not \"Ionic\", since the way plugins needs to configure for Ionic and Ionic2 is different. Hope this is ok, but let me know, if it needs to be amended.\nThanks. @salmanpatnee You can create a user directly in the firebase console or you can create a user using Firebase API. Also, you can authenticate using Facebook/Google and Twitter. \nHave you looked at the tutorials here and here.. @sharomet Doesn't helps a lot in debugging the issue. what's your node version, npm version etc. please  follow the issue template and provide more details about your project. You can also share a plnkr of your project, if you like.. I don't think this is supported. Did you look at QueryBase .. Created a new app following the tutorial, everything worked as expected with one exception.\nI was getting an error in my console (firebase not found), when running the app in the android phone, so have to add the following line in my auth-service.ts\nimport * as firebase from 'firebase'; \nI did not have this error, when writing the original tutorial.\n@bangive @sdey0081 : What errors are you getting on the console, when running the app in the android phone. Currently the tutorial displays the Facebook display name in the console. \nTo view the console, when running your app on phone, you can use the following URL (chrome://inspect) on google chrome browser. This will connect your device and show your the console and errors if any. this is a brilliant tool to debug.\n@bangive you said \n\nThe popup for facebook authentication is shown and disappeared shortly so i can't sign in.\n\nIs it possible that you're already logged into you facebook account on your phone, which might cause this behaviour and which makes sense as well.\nAlso in the firebase console, when you enable your facebook sign-in authentication method, you need to provide your App Id and app secret, which I hope you're getting it from your App created under http://developers.facebook.com/apps.\nyou also need to add the add OAuth redirect URI to your Facebook app configuration, which is on the facebook dashboard page under Products -> Facebook Login --> Settings..  This is a key step for interaction between facebook and firebase.\nEverything is here\nLet me know, if this helps..\n@katowulf @davideast \n I'll update the tutorial to add these details and update the app to display the name on page itself, apart from displaying it in console.\n. Hi @sdey0081 I downloaded your code and ran it locally, Despite running it at least 7-8 times, i was unable to reproduce the network error issue. I did see your video as well, but unable to reproduce it locally. Did you see this behaviour only in browser or in Android phone as well.\nI've created a test repo here . You can try downloading it and running it locally to see, if you see the same behaviour. Before running, update your credentials in app.module.ts. . There was repo at the start of this issue. Oops, it was from @bangive and it works for me.\nPlease share your repo as well and try mine.\n. @sdey0081 Glad it worked for you, but still a problem for @bangive. \nUnfortunately unable to reproduce at my end, despite downloading @bangive repo. Need to dig more.\n@bangive apart from enabling the facebook authentication in Firebase console, what are the domains you see on the same page below. \nOnce you get an error and if you try to refresh the page, what do you get.\nAlso seems like this issue is being reported here and seems to be in various forums in stackoverflow.\nCould you please confirm, that your settings on facebook page are correct, as mentioned above. I suspect there might be a missing bit, since the same test project worked for @sdey0081 . @bangive so is it working now.. In the facebook dashboard page, when you click settings and under Basic tab, you should see your App ID and App Secret. \nOn the same page below, you need to add your platform (let's say Android in this case) and update the \nGoogle Play Package Name with the Widget Id from config.xml. \nSomething like this\n<widget id=\"com.ionicframework.yourAppName345871\"\nHopefully, you've this entry in your dashboard.. @chit786 This issue is related to runtime error while authenticating with facebook. Are you getting a similar error. If not, then please open up a new issue using the issue template to provide more details about your environment. \nOn a different note, I don't see firebase module in your dependencies section above. Also, did you get a chance to look at the user authentication tutorial here.. @chit786 Could you please share your repo.. @chit786 i was able to download the repo and it worked successfully locally for me. After login into your app, I was able to see the coffee consumption dashboard page.\nDo you have the correct user setup in your Firebase console. do you want to create a test user to see if its working. . @chit786 It works fine for me. I tried running your app on android device and logged in and logged out at least 5 times in a span of 10 minutes. worked every time for me, although there was an error in the console (screen shot for your reference), but it still worked every time.\n\nI was able to get rid of the error, by executing the following command in the project folder.\n\nionic plugin add phonegap-plugin-push --variable SENDER_ID=123456789\n\nLet me know, how it goes at your end.. @chit786 I am on chrome version \n\nVersion 56.0.2924.87\n\nand Android version on device is \n\n5.0.2\n\nTwo quick suggestions\n1) Why not try to test your app on android version 5.\n2) Try creating the app from scratch, just to be doubly sure that while debugging you haven't changed two many configuration items.. @davideast Updated the requested changes. Please let me know, if anything seems missing.. Hi @davideast Is there anything pending with this PR. just checking. I guess all the requested changes are in. Let me know, if anything seems missing.. @jamesdaniels Seems like it may need some work. The new projects are by default getting created with Ionic 3 version. I tried modifying the existing Ionic 2 projects with angularfire2 4.0 rc1, but then it started complaining about older @angular version. And when I updated the angular2 to angular4, it started complaining about other compatibility issues.\nIf it keeps complaining about compatibility issues between angular4, Ionic2 and angularfire2, then probably we should only recommend the newer version for which we already have the tutorial available.\nThoughts ?. @jamesdaniels while trying to update the ionic2 tutorial to bring it up to speed with angularfire4, getting the following error, as attached in the screenshot below.\n\nThe InjectionToken seems to be introduced with Angular4 and to make this tutorial work with angular2, ionic2, it's throwing the above error. Changing the angular version in package.json to angular4 might work (I'll look into it), but we already got the tutorial covered for that.\n  This is how the package.json looks for me\n\"dependencies\": {\n    \"@angular/common\": \"2.2.1\",\n    \"@angular/compiler\": \"2.2.1\",\n    \"@angular/compiler-cli\": \"2.2.1\",\n    \"@angular/core\": \"2.2.1\",\n    \"@angular/forms\": \"2.2.1\",\n    \"@angular/http\": \"2.2.1\",\n    \"@angular/platform-browser\": \"2.2.1\",\n    \"@angular/platform-browser-dynamic\": \"2.2.1\",\n    \"@angular/platform-server\": \"2.2.1\",\n    \"@ionic/storage\": \"1.1.7\",\n    \"angularfire2\": \"^4.0.0-rc.1\",\n    \"firebase\": \"^4.1.2\",\n    \"ionic-angular\": \"2.0.0-rc.5\",\n    \"ionic-native\": \"2.2.11\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"sw-toolbox\": \"3.4.0\",\n    \"zone.js\": \"0.6.26\"\n  }\nAny Thoughts?\n@katowulf @davideast fyi... @Orkish You're not following issue template, so it's difficult to analyse your problem. I just followed the tutorial and it works absolutely fine for me.\nThis is my configuration on windows 7 operating system\n```\nangular-cli: 1.0.0-beta.28.3\nnode: 6.9.1\nos: win32 ia32\n\"angularfire2\": \"^2.0.0-beta.7\",\n\"firebase\": \"^3.6.9\"\n```\nWhat's your's ? It will be easy, if you can follow the issue template and provide all information.. @Orkish Great to hear, it's working. If everything is OK, I guess you can close this issue.. Fair enough. This is how my package.json looks like and is working locally. let me know, how it works out for you.\n\"dependencies\": {\n    \"@angular/common\": \"^2.3.1\",\n    \"@angular/compiler\": \"^2.3.1\",\n    \"@angular/core\": \"^2.3.1\",\n    \"@angular/forms\": \"^2.3.1\",\n    \"@angular/http\": \"^2.3.1\",\n    \"@angular/platform-browser\": \"^2.3.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.3.1\",\n    \"@angular/router\": \"^3.3.1\",\n    \"angularfire2\": \"^2.0.0-beta.7\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.6.9\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^2.3.1\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.28.3\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"~4.0.13\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.3\"\n  }. @danielfliegauf Not sure if I got your question, but are you asking how to connect to firebase from your angular2 App. Also, you're not following the issue template. . @katowulf @davideast  Added a PR to show AngularFire2 Authentication with Ionic3 and Angular4. The initial sections are similar to Auth with Ionic 2 tutorial and then later showing the subtle differences.. Hi,\n   Your comments are referring to Auth-With-Ionic2 document, but you've\nadded your comments in this new PR, which refers to\nAuth-With-Ionic3-Angular4 document.\nThere is no auth-service.ts in this article, as I wanted to keep this\narticle simple focusing on Angular4 and Ionic3 changes.\nPlease try going thru the entire document and follow steps. It should work\nabsolutely fine. let me know, if you face any specific issues.\nOn Wed, May 3, 2017 at 11:09 AM, Sybrand Hoeksma notifications@github.com\nwrote:\n\nThe Ionic auth service example (auth-service.ts) still contains a lot of\nerrors:\n\nplatform is missing in constructor\nafAuth.subscribe should be: afAuth.authState.subscribe\nthis.afAuth.signOut() should be: this.afAuth.auth.signOut();\nFirebaseAuthState is deprecated: firebase.Promise\n\nI did not check the other example code yet, but I suggest you test all the\ncode in a fresh Ionic 3 starter.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/917#issuecomment-298871197,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABzFLAUmXA1rwVm-2yKQKs3-OUcAwE6nks5r2FJGgaJpZM4NFfpC\n.\n\n\n-- \nBest,\nMukesh\n. Hi @davideast :- The application is running as expected in both the browser\nas well as mobile phone. The idea of writing this tutorial on similar lines\nto Auth-with-Ionic-2, was to maintain the uniformity. Although I didn't\ncreate a Auth service in this tutorial, since the focus was to showcase\nIonic3 with Angular4.\n@thegreat7 :- Seems like you've followed the Auth-with-Ionic2 tutorial and\nyou see a return type there and you immediately compared it with this\ntutorial.May I request you to run the tutorial and let me know, if you see\nany issues with running the app in either browser or mobile.\n I'll anyway make changes to retain uniformity.\nYou can also refer to another sample at this location.\nhttps://firebase.google.com/docs/reference/js/firebase.auth.FacebookAuthProvider\nOn Mon, May 8, 2017 at 6:58 PM, David East notifications@github.com wrote:\n\n@thegreat7 https://github.com/thegreat7 Thanks for taking the time to\ndo feedback on this PR! However, let's try to be positive in our reviews in\navoid negative symbols such as your thumbs down emoji. It would be great to\nsee something like \"Hey, great work so far. I noticed there are two missing\nreturn statements on lines 598 and 604.\"\nIt is important to provide feedback while being encouraging.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/917#issuecomment-299941851,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABzFLNewuz1kFysBfdKffA8mVmoTS49jks5r31fcgaJpZM4NFfpC\n.\n\n\n-- \nBest,\nMukesh\n. @davideast Done with all changes. Waiting for your review.\n@katowulf FYI. @thegreat7 There is already a PR #917 which address the Ionic3-Angular4 version. You're trying to update a document, which might be used by few, who haven't moved to newer version. I believe it will be a good idea to keep that document 'as is' for a while. . @YogliB Try this to create an Ionic App3 with Angular4 from scratch.. @BaranSaeed Refer to these two articles. One talks about the upgrade and other helps you creating an application from scratch .. @bangkitwira16 Doesn't seems like an angularfire2 issue. Check this issue here\nBy the way are you running your command as an Admin.. @katowulf Updated as advised.\n. @katowulf Updated as advised. yes it's a \ncreateNewUser( properties:Object ): Promise \n. @katowulf Thanks for update. I was unaware that this is an open bug against firebase. I pasted the contents as per your suggestion. Hope that's ok.\n.  FirebaseAuthState is an interface in the definition file auth_backend.d.ts. I added the method signature in documentation, which might be helpful, incase someone is digging for more information. \nI think it is similar to https://firebase.google.com/docs/reference/js/firebase.auth.AuthCredential , but I am not sure, hence didn't link it. Please verify and let me know as well. Thanks.,\n. updated to add {{ item | json }}\nYep this makes more sense.\n. @katowulf Changing this from external Url to inline template is just to keep the flow of the tutorial consistent across all the sections. Since in the initial section, the changes were done to an inline template. Happy to revert the changes as per your steer. \nNote:- I am also planning to make changes to section 4 and 5 of the tutorial to keep it consistent, while making other changes.\n. @taylorjason2016 Really. I never created the directory as mentioned below and everything works as expected.\n\n@katowulf @davideast : FYI\n. @taylorjason2016 Not sure if it's a version problem. But i can confirm, that I did a fresh install on Windows 7 machine, trying to look into an issue and I didn't have to create any  directories as per your PR request. I may try doing an install on Ubuntu to confirm.\n. @taylorjason2016 I can confirm now, that the PR you mentioned is not required. Just completed a fresh install on Ubuntu 16.0.4 LTS (Amazon EC2 Instance) and everything worked as expected, as mentioned in the install guide.\n\nNote:- There seems to be a bug with installation of angular-cli on Ubuntu_16_0_4 itself, but that will be out of scope of angularFire2. I'll dig a little more, before reporting it. Hope this helps.\n. Done.. Removed. Updated. Updated. Updated. Updated. Done. Updated. Updated. Updated. Updated. Updated. Done. Updated. Updated the doc. Please review.. Updated the doc. Please review.. Updated the doc. Please review.. Hi @katowulf , accepted your suggestion and updated the document.\nI can confirm, the application works on both desktop browser and mobile phone.. ",
    "alteredorange": "So does this mean 3-way data binding isn't available yet?  Is there a timeline for that?\n. @katowulf Sorry, it was included in the api docs for the original angularfire, so I thought this would be the best place to ask. Not sure where else to discuss...  I would love to know why it won't be included, should I create a new issue or something?\n. ",
    "GitHubish": "it's good, I have all started with angular-cli from the beginning and I have no error. Thank you\n. it's good, I have all started with angular-cli from the beginning and I have no error. Thank you\n. I have the same error.\n. I have the same error.\n. I deleted firebase3 of globalDependencies in the file typings.json and I added in the file tsconfig.json types firebase. Despite this, the problem is still present. Did I understand everything?\n. I deleted firebase3 of globalDependencies in the file typings.json and I added in the file tsconfig.json types firebase. Despite this, the problem is still present. Did I understand everything?\n. After updated typescript in the latest version ie 2.1.0 (I was version 2.0 before ), I have a multitude of typescript error.\nExample:\n...\\node_modules\\@angular\\core\\src\\metadata\\view.d.ts:129:21\nCannot find name 'Array'.\n...\\node_modules\\@types\\jasmine\\index.d.ts:301:82\nCannot find name 'RegExp'.\n...\\node_modules\\angularfire2\\auth\\auth.d.ts:16:118\nCannot find namespace 'firebase'.\n...\\node_modules\\rxjs\\operator\\merge.d.ts:49:52\nCannot find name 'Array'.\nAnd:\n.../node_modules/typescript/lib/lib.es2015.core.d.ts' not found.\n.../node_modules/typescript/lib/lib.es2015.collection.d.ts' not found.\n.../node_modules/typescript/lib/lib.es5.d.ts' not found.\n. After updated typescript in the latest version ie 2.1.0 (I was version 2.0 before ), I have a multitude of typescript error.\nExample:\n...\\node_modules\\@angular\\core\\src\\metadata\\view.d.ts:129:21\nCannot find name 'Array'.\n...\\node_modules\\@types\\jasmine\\index.d.ts:301:82\nCannot find name 'RegExp'.\n...\\node_modules\\angularfire2\\auth\\auth.d.ts:16:118\nCannot find namespace 'firebase'.\n...\\node_modules\\rxjs\\operator\\merge.d.ts:49:52\nCannot find name 'Array'.\nAnd:\n.../node_modules/typescript/lib/lib.es2015.core.d.ts' not found.\n.../node_modules/typescript/lib/lib.es2015.collection.d.ts' not found.\n.../node_modules/typescript/lib/lib.es5.d.ts' not found.\n. I always look ... Thank you anyway for the help you are trying to bring us.\nThe error occurs when I add diced import { AngularFireModule } from 'angularfire2'; in the main.ts\nYet I recreated a project entirely based on the documentation 1-install-and-setup.md but the problem occurs whenever the addition of AngularFire2\nThanks\nEDIT:\nIn fact I'm wrong, the mistakes I mentioned above appear not when adding angularfire2 but when I put typescript in its version 2.1.0 . Before the passage in this release lifts errors when adding Angularfire2 are defining firebase not found despite the addition of firebase in the types array of tsconfig.json\n. I always look ... Thank you anyway for the help you are trying to bring us.\nThe error occurs when I add diced import { AngularFireModule } from 'angularfire2'; in the main.ts\nYet I recreated a project entirely based on the documentation 1-install-and-setup.md but the problem occurs whenever the addition of AngularFire2\nThanks\nEDIT:\nIn fact I'm wrong, the mistakes I mentioned above appear not when adding angularfire2 but when I put typescript in its version 2.1.0 . Before the passage in this release lifts errors when adding Angularfire2 are defining firebase not found despite the addition of firebase in the types array of tsconfig.json\n. I have successfully run my test project.\nI have not yet been fully identified when it crashes I try to make you a return tomorrow. However, when I run still only one error in the command line are:\nERROR in [default]\nCannot find type definition file for 'firebase'.\nbut it is not blocking .\nIf I can still help before leaving, I recreated a basic project being careful this time to install angularfire2 beta4 and not through angularfire2@next (which may be the problem ? ) . Then my config my main.ts and my app.module.ts was not totally fair I think. Here are my 2 files.\nmain.ts\n``` ts\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule, environment } from './app/';\nif (environment.production) {\n  enableProdMode();\n}\nplatformBrowserDynamic().bootstrapModule(AppModule);\n```\napp.module.ts\n``` ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ApplicationRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AppComponent } from './app.component';\nimport * as firebase from 'firebase';\nimport { AngularFireModule } from 'angularfire2';\n// Must export the config\nconst firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \"\",\n  databaseURL: \"\",\n  storageBucket: \"\"\n}\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    CommonModule,\n    FormsModule,\n    AngularFireModule.initializeApp(firebaseConfig)\n  ],\n  providers: [],\n  entryComponents: [AppComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n```\nthanks\n. I have successfully run my test project.\nI have not yet been fully identified when it crashes I try to make you a return tomorrow. However, when I run still only one error in the command line are:\nERROR in [default]\nCannot find type definition file for 'firebase'.\nbut it is not blocking .\nIf I can still help before leaving, I recreated a basic project being careful this time to install angularfire2 beta4 and not through angularfire2@next (which may be the problem ? ) . Then my config my main.ts and my app.module.ts was not totally fair I think. Here are my 2 files.\nmain.ts\n``` ts\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport { AppModule, environment } from './app/';\nif (environment.production) {\n  enableProdMode();\n}\nplatformBrowserDynamic().bootstrapModule(AppModule);\n```\napp.module.ts\n``` ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ApplicationRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AppComponent } from './app.component';\nimport * as firebase from 'firebase';\nimport { AngularFireModule } from 'angularfire2';\n// Must export the config\nconst firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \"\",\n  databaseURL: \"\",\n  storageBucket: \"\"\n}\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    CommonModule,\n    FormsModule,\n    AngularFireModule.initializeApp(firebaseConfig)\n  ],\n  providers: [],\n  entryComponents: [AppComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n```\nthanks\n. So I did not test further to see where did the error for now but I see this error in the console: \n[default] Cannot find type definition file for 'firebase'.\nposes problems because the definition of firebase not being found or when compiling or by VS Code. So I can enjoy autocompletion for types .\nI do not understand where does the worries at this level . Provided angularfire2 works without worries. Add or delete the reference to firebase in tsconfig.json changes nothing ...\n. So I did not test further to see where did the error for now but I see this error in the console: \n[default] Cannot find type definition file for 'firebase'.\nposes problems because the definition of firebase not being found or when compiling or by VS Code. So I can enjoy autocompletion for types .\nI do not understand where does the worries at this level . Provided angularfire2 works without worries. Add or delete the reference to firebase in tsconfig.json changes nothing ...\n. Amazing stuff ... Some face the same worries, the other not , plus differences in the configuration.\nFor my part :\n- I'm under Windows 10\n- tsc -v : Version 2.0.0\n- npm list : here\nThanks\n. Amazing stuff ... Some face the same worries, the other not , plus differences in the configuration.\nFor my part :\n- I'm under Windows 10\n- tsc -v : Version 2.0.0\n- npm list : here\nThanks\n. Thank-you for your prompt response. I am still looking but for the moment I do not understand. In fact , I have the impression that strangely tsconfig.json is ignored.\nHere are my deposit : https://github.com/GitHubish/angularfire2-test-webpack (all is ok - repo removed)\nReminder I have a mistake with the definition firebase not found : error in the chrome console in the IDE (VS Code) and in the console at the ng build)\nFurthermore I have the error \"\n[ts]\nExperimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning.\non app.module.ts and app.component.ts . Strange\nThanks\n. Thank-you for your prompt response. I am still looking but for the moment I do not understand. In fact , I have the impression that strangely tsconfig.json is ignored.\nHere are my deposit : https://github.com/GitHubish/angularfire2-test-webpack (all is ok - repo removed)\nReminder I have a mistake with the definition firebase not found : error in the chrome console in the IDE (VS Code) and in the console at the ng build)\nFurthermore I have the error \"\n[ts]\nExperimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning.\non app.module.ts and app.component.ts . Strange\nThanks\n. @Hojou Ah cool ! Thank you for the tip !\n. For me everything all is ok , the problem with Firebase is set . The concern was resolved by being passed on version 8 of Angularcli-webpack.\n. Same mistake here: Error with \"ng build && ng serve\" following \"Installation and Setup\" guide\nThe problem at the moment is not resolved at home. The additional step that was provided to us was to add firebase in tsconfig.json in array types and to update typescript in its latest version with the command:\nbash\nnpm install -g typescript@next\nnpm install typescript@next --save-dev\nand tsconfig:\njson\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"jasmine\",\n      \"firebase\"\n    ]\n  }\n}\nBut this raises worries on my side I now full of new errors . In case if it can help.\n. ",
    "pinalbhatt": "Thanks @jeffbcross  i can see you created PR. When can we expect the new version published to npm?\n. @jeffbcross  thanks  but still there seems hard dependency on \"angular2\": \"2.0.0-beta.7\".  \nis it must to have angular2@2.0.0-beta.7?\n`npm ERR! Darwin 15.4.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"install\" \"angularfire2\" \"--save\"\nnpm ERR! node v4.4.1\nnpm ERR! npm  v2.14.20\nnpm ERR! code EPEERINVALID\nnpm ERR! peerinvalid The package angular2@2.0.0-beta.9 does not satisfy its siblings' peerDependencies requirements!\nnpm ERR! peerinvalid Peer angularfire2@2.0.0-alpha.13 wants angular2@2.0.0-beta.7\n. Gr8. Thanks @jeffbcross \n. @davideast  is this answer still valid?  how do we add an item without loading the entire list with latest version of angularfire2. currently i am doing this : \naddTag(tag: TagModel) {\nconst d = this.af.database.list('/tags');\n\nd.push(tag)\n\n  .then((i) => { console.log(i.key); }, (err) => {console.log(err); });\n\n}\n`. +1. ",
    "srehanuddin": "i was faced the same error today, its seems to be permission issue, i closed all opened cmd, ide & folders which belongs to that project, and then open cmd with admin rights & tried to install it again, and module install successfully.\nhere is the sample app, which i developed\nhttps://github.com/srehanuddin/angular2-firebase-sample\n. ",
    "chrisgriffith": "Agreed that a 'proper' tutorial would be a useful item. I am also wondering if the other DB actions should be listed in the API section? Or maybe the API should also migrate to an api.md file?\n. ",
    "imsingh": "+1 really need that stuff.\n. @davideast Yeah. I am doing this. I am doing something like this.\nfirebaseAuthConfig({\n    provider: AuthProviders.Password,\n    method: AuthMethods.Password\n })\nAnd Also I am logging in like this this.fbAuth.login(credentails); where this.fbAuth is FirebaseAuth.\n. ```\n//   return this.fbAuth.login(credentails);\nlet promise = new Promise((resolve, reject) => {\n    this.ref.authWithPassword(credentails, (error, userData) => {\n        if(!error) {\n            this.local.set('userInfo', JSON.stringify(userData));\n            resolve('Done');\n        } else {\n            reject(error);\n        }\n    });\n});  \nreturn promise;\n```\nCode in the comment doesn't work, but the code below works for login.  Am I doing something wrong?\n. @shamrozwarraich add typings inside typings/index.d.ts like this \n/// <reference path=\"../node_modules/angularfire2/firebase3.d.ts\" />\n. ",
    "ciesielskico": "+1, docs for .list() , .set() and subscribing to events like child_added much needed\n. Sorry,  at the time of writing my last comment I haven't seen Sara Robinsons presentation on firebase with ng2. I thought I couldn't use firebase without angular fire. \nSince you ask,  I would like to see more on Observables,  specifically how to cast a firebase reference to an observable. \n. ",
    "andersonleite": "I signed it!\n. I signed it!\n. ",
    "lf-alves": "Same issue here.\n``` javascript\nexport class FbAppApp {\n  items: Observable;\n  email: string;\n  password: string;\nconstructor(public af: AngularFire, public auth:FirebaseAuth) {\n    this.email = \"\";\n    this.password = \"\";\n  }\nlogin(){\n     this.auth.login({email: this.email, password: this.password});\n }\n}\n```\nConfigured everything in the bootstrap phase just like imsingh did. \nEXCEPTION: Error: Uncaught (in promise): You must include credentials to use this auth method.\n. +1\nI'm currently trying to integrate Angular2 and Nativescript and I would like to use firebase as well. I've created a simple hello world app (if you have nativescript installed, just run tns create my-app-name --template https://github.com/NativeScript/template-hello-world-ng) and I was wondering how I can start using angularfire with it. My biggest problem seems to be the System.js part since the nativescript project doesn't have an index.html or anywhere I can load modules with System.js. Can anyone help?\n. Damn... That's sad to hear. I mean, the only reason I chose nativescript over react native to develop native apps was because I could leverage my angular skills when creating things with nativescript. Really hope this process of integrating {N}, angular and firebase becomes more and more seamless over time as they seem to be a perfect fit for building cross platform applications.\n. Watch this\nJeff actually demos something similar to that. When I first saw him doing it, it immediatelly reminded me of firebase util and what I used to accomplish with it. \nIt's not exactly what NormalizedCollection does, but it's a very simple and easy way to \"join\" denormalized paths.\n. @davideast help pls\n. Thank you very much for your help, @rosslavery !\nIt accomplished exactly what I needed. I'll close this now.\n. Actually @jeffbcross is also working on this, but he also has to work with the angular team, so I suppose his time is probably very limited. \nIn my opinion, the Firebase team should assign someone else to help david maintain this library. Angularfire is probably the most important library after angular itself. It can't go more than 2 weeks without any fixes. \n. Much needed functionality. I mean, I guess you could do the following:\n``` javascript\nthis.item = af.database.object('/item', { preserveSnapshot: true });\nthis.item.subscribe(snapshot => {\nif(snapshot.exists()) {\n//object exists \n} else {\n //object doesnt exist \n}\n});\n```\nNot sure what's the best approach, really.\n. Kind of dumb of me to ask, but did you try snapshot.value() or snapshot.val()? \nThe Firebase API is DataSnapshot.val() not .value();\nI'm using that same syntax, also preserving the snapshot, and it works just fine.\nFirebase just went through a major update like 2 months ago and snapshot.key() turned into snapshot.key and the angularfire docs weren't updated, that's why you got that error. \n. This is a very common issue for most firebase users who try any type of advanced querying. This issue has been discussed a lot in the past and there's a couple of different solutions for this problem, most of which were given by firebase team members.\nYou can check all the SO questions regarding this topic here\n. The correct syntax would be \njavascript\naf.database.list('/items', {\nquery: {\norderByChild: 'score',\nlimitToLast: 15\n}\n});\norderBy is part of an older version of Firebase and is only supported by the main firebase library, or well, it used to be until 2.4.2. Idk if they still support it in 3.0+. AngularFire uses orderByChild and that's what you should use.\n. See #338\n. Something similar happened to me once, but it was because I had ran ng serve before ng build after modifying system-config.ts, so the folders weren't created.  Anyway, I'd suggest you to post here the important parts of your system-config.ts file (const map and const packages) and the code inside angular-cli-build.js.\n. Not sure what you mean here. You should be more clear when asking for help, but since I've experienced a similar issue before I'm gonna assume you are not finding the unsubscribe method after declaring the FirebaseObservable:\n``` javascript\nconst firebaseObservable = this.af.database.object('/item');\n//then, you are trying to:\nfirebaseObservable.unsubscribe(); //doesn't work\n```\nIf that's the case, then you should know that you can't unsubscribe directly from FirebaseObjectObservable or FirebaseListObservable. You must subscribe to it first so you can have a subscription returned to you.\n``` javascript\nlet objectSubscription = this.af.database.object('/item').subscribe(data=>{ \n   //do something\n});\n// Later somewhere in your code, you can then:\nobjectSubscription.unsubscribe();\n. javascript\nthis.items = af.database.list('/items', { preserveSnapshot: true });\nthis.itemsSubscription = this.items\n  .subscribe(snapshots => {\n    snapshots.forEach(snapshot => {\n      console.log(snapshot.key)\n      console.log(snapshot.val())\n    });\n  })\n//Later, somewhere\nthis.itemsSubscription.unsubscribe();\n```\nThe unsubscribe method is only available to the Subscription, not to the Observable itself. \n. Ok, I think I see your problem. Just make sure you unsubscribe to the query when your component gets destroyed.\nAdd this to the component that contains the query:\njavascript\nngOnDestroy(){\nthis.itemsSubscription.unsubscribe();\n}\nIf you could provide a plnkr or something similar, it would be easier to help you out. I'm just guessing stuff here.\n. Angularfire2 is more of an abstraction on top of the firebase library. It was made so one could use firebase and angular2 coming from a non-firebase background and still enjoy all the cool features it has to offer. With that in mind, it is a fact that Angularfire does not have any API for using the traditional firebase reference and the on(), off(), once() methods to listen for changes in your data. Instead, it uses RxJS Observables to do all that. RxJS is becoming a lot more popular now, so for those who are familiarized with it, AngularFire2 is really easy to use and to wrap your head around.\nWith Angularfire2, you should not need to write any .on() or .off(). You can accomplish the same thing by pointing to a reference and then subscribing to it, like so:\njavascript\nlet subscription = this.af.database.object('someLocation').subscribe(data=> {\n//do something with your data\n})\nWhich is essentially the same as: \njavascript\nfirebase.database().ref('someLocation').on('value', snapshot=>{\n//do something with your data\n})\nand then, when you are done, instead of using the off() method, you can call unsubscribe()\njavascript\nsubscription.unsubscribe();\nAnd finally, the equivalent of .once() would probably be something like:\njavascript\nthis.af.database.object('someLocation').take(1).subscribe(...)\nFirebase actually encourages you to look at your data as either an object or a list, so you should have all the use cases covered when using AngularFire2. However, if you feel like you can't do something with angularfire but can with firebase, then just use the firebase library for that. I know it's not optimal, but it's an option until you learn how to accomplish the same thing with angularfire2. \n. If I'm not mistaken, this.af.database.list('/client/posts') returns an array. \nIf all you need is the amount of posts in a sub-tree, you can do this\njavascript\nthis.af.database.list('/client/posts').map(list=>list.length).subscribe(length=>console.log(length))\n. ",
    "buoyad": "I'm getting this error again with the update to the 3.0 SDK.\nUncaught (in promise): You must include credentials to use this auth method.\nI've also bootstrapped the app similar to above. This is my service:\n``` typescript\nexport class UserService {\n  constructor(private af: AngularFire) {\n  }\nsignUp(email: string, password: string) {\n    var creds: any = {email: email, password: password};\n    this.af.auth.createUser(creds);\n  }\nlogin(email: string, password: string) {\n    var creds: any = {email: email, password: password};\n    this.af.auth.login(creds);\n  }\n}\n```\nNote that signUp() works, login() fails.\n. I think the way to go about this is to store extra profile data in a normal firebase database with the associated username/UID. \n. @davideast while making the plnkr, I found out my error (misspelled binding in template, of course). Anyway, here's a demo of user auth using AuthMethods.password.\n. @istibekesi use the signature here, e.g.\ntypescript\nthis.af.auth.login({ email : 'email@email.com', password : 'password' },\n   { provider: AuthProviders.Password, method: AuthMethods.Password });\nThe docs for user auth are inaccurate for this particular case.\n. @istibekesi @IvRRimum No prob!\n@davideast Are the docs for this auth method still inaccurate? The example in the docs for overriding auth with AuthMethods.Password does not pass credentials. See #336.\n. @davideast Yep, here. Is the behavior in the doc even desirable for overriding auth in this case? Shouldn't credentials always be supplied for AuthMethod.Password?\n. @davideast \nI know that, I have no issue with signing in using AuthMethods.Password. This issue is about correcting the user authentication documentation, which attempts to override without passing credentials, code I've seen people try to run and get errors. \n@GerardoLSJ\nIt looks like your firebase instance doesn't have a user record that matches the information you're trying to log in with. Did you first create a user by using signup?\n. I signed it!\n. ",
    "msegers": "So this issue is resolved, I'm currently trying a simple username: password: providing both, setting up both provider and method as password in bootstrap, and I keep getting the \"You must include credentials\" error.\nAnything I should be looking at?\n--never mind, it seems like you get the message with an empty e-mail/password as well\"\n. Heya, as of right now implementing AngularFire2 into my Universal project should just work? Warnings aside of course. \"Keeps connection open\" does this mean that in the end we'll have a huge memory leak going on or is it only one session which remains active, and is actually a good thing?\nJust interested as I'm implementing AF in a personal universal project \n. @cre8 Could you say why you closed this issue? I have the same problem I do have the auth call etc. available. But list isn't, does that mean you should be authorised?\n. Thanks, that works. so the docs are slightly off then I guess?\n. Does the pre-release include storage? if not cerealalexx do you have anything to share from your code? Will probably look into this tonight.\n. I'll mess around with that, I it is complaining about a lot of things though, like the bytesTransferred etc. are all \"not on Object\"\n. Don't bother trying to help me too much, I've only used firebase for one simple feature I need to figure it all out still ;-). Thanks for the help.\n. ",
    "burkeholland": "Without knowing the internal workings of AngularFire, my gut reaction is that an {N} plugin needs to be created that includes the Angular wrapper. \n. There is nothing here that isn't doable. Someone just needs to create the plugin. In fact, the nativescript-firebase already exists. \nIn fact, if you would be willing to start it, @davideast and I can both help. Come join our NativeScript Slack Channel and let's get it started. There are several Angular plugins that people have built already. \n. ",
    "aaweb": "Any news on this now that Angularfire2 is on Firebase SDK 3?\n. Facing the same problem here. What's the exact name of the API you needed to enable there? Thanks a lot. \n. Any news or ETA on this? Thanks for all the great efforts, @davideast and co.\n. ",
    "fricker": "@burkeholland and @davideast \n\nmy gut reaction is that an {N} plugin needs to be created that includes the Angular wrapper\nSomeone just needs to create the plugin\n\nI have started creating a framework for Angular2 web apps that uses AngularFire2. I am trying to evaluate the feasibility of creating a NativeScript plugin for AngularFire2 so that my Angular2-based framework can leverage AngularFire2 consistently within web and mobile apps.\nAngularFire2 is dependent on the Firebase library that targets a web browser while the NativeScript plugin by Eddy Verbruggen referenced in this issue is dependent on native Android/iOS implementations of Firebase. Unfortunately Eddy's work does not appear to be applicable to what I need. The Firebase library that targets browsers assumes access to browser window location, local storage, etc. which NativeScript's support for Angular2 does not include.\nIt seems that I would need to do some non-trivial hacking on the Firebase library that AngularFire2 uses to create this NativeScript plugin but that library is proprietary and mostly obfuscated. Any suggestions on how to proceed?\n. ",
    "fmoessle": "When trying to use angularfire with nativecscript i get the following error message:\n\nERROR Error: Could not find module 'fs'.\n\nI know there is a plugin for firebase https://github.com/EddyVerbruggen/nativescript-plugin-firebase but i want to use angularfire, because of the nice integration of observables which is pretty amazing.\nAny ideas?. ",
    "itsdante": "Anyone ever tried this ?\nhttps://github.com/aguzubiaga/nativescript-angularfire2\nI found it lying around on git, but i did not see any reviews or comments about it.\nI'm still a new geek at {N} so please tell me if im wrong in any way. Thanks. ",
    "kinggolf": "@davideast @burkeholland @eddyverbruggen @fricker @vladimiramiorkov\nI would like to reopen this discussion and if we can agree on a plan, I am willing to do what it takes to help drive this forward so that we can use AngularFire2 functionality in NativeScript. \nAs @fricker stated previously, AngularFire2 only interfaces to firebase-js-sdk, so therefore is not directly compatible to run in NS. @eddyverbruggen 's awesome nativescript-plugin-firebase allows NS apps to interface to the native firebase sdk's.\nTo me a reasonable approach would clone AngularFire2 into a new NS plugin and replace the dependency on firebase-js-sdk with nativescript-plugin-firebase. However, it seems like the firebase api's used in AngularFire2 are not implemented in nativescript-plugin-firebase. The AngularFire2 api's calls to firebase are:\nfirebase.app & .app.App\nfirebase.auth.Auth & .auth.Error\nfirebase.database.Database & .database.Reference & .database.DataSnapShot & .database.ThenableReference\nfirebase.messaging.Messaging\nfirebase.storage.Storage\nfirebase.Promise\nfirebase.initializeApp\nfirebase.User\nThere is a User in nativescript-plugin-firebase, not sure if it the same, and we should be able to replace above initalizeApp with the already existing init method, but none of the api's seem to have a match. Would it make sense to add these api's into nativescript-plugin-firebase to enable usage of NS AngularFire2? If this is possible, then users already familiar with AngularFire2, would very easily be able to apply it to their NS apps. I am very interested in what @davideast and @eddyverbruggen think about this, as well as anyone else. And again I am willing to what it takes to get this implemented, but I will definitely need some direction/assistance. Thanks all.. @someguy314 - nothing on my end, but I'm still a huge fan of AngularFire2!. ",
    "EddyVerbruggen": "Hey @kinggolf I \u2764\ufe0f the idea of making the NativeScript plugin compatible with AngularFire2, but there are two main issues preventing that:\n\n\nMake the NativeScript plugin compatible with the Web API (as that's what AngularFire2 is built on top of). That's currently work in progress. UPDATE: Version 5.0.0 of the plugin was released, which includes web API support for a lot of things, most notably Firestore.\n\n\nFIgure out how require('firebase/app') can be rewired to actually do require('nativescript-plugin-firebase/app'). The easy way out would be to fork the AngularFire2 repo and change those require calls, but I'd rather make it 'plug & play'. So perhaps a hook is needed in the NativeScript plugin, but I'd love to learn any other tricks that can make this happen.. \n\n",
    "someguy314": "@EddyVerbruggen @kinggolf \nIs there any news on this endeavour, now that nativescript-plugin-firebase is on version 6 or did a different solution pop up regarding AngularFire2 and NativeScript?. ",
    "larssn": "@someguy314 I've looked into it, and nativescript-plugin-firebase is a bit behind the web sdk. If it was brought up to date, simply changing the references in angularfire2 should be fairly simple (as has been mentioned); in theory.\nI'll see if I can allocate some free time (which I have none of). Isn't the argument for adding transaction support to Angularfire that in order to support tree shaking properly, we should refrain from using the firebase import?. @davideast Appreciate the fast response! I'll play around with your suggestions.. @davideast Seems its located on afDb.app.database. (This is on 4.0 Rc0). @mukesh51 Angularfire2's RC0 release is tagged incorrectly in npmjs: \"rc0\" where the correct name would be \"rc.0\". This sometimes causes issues when doing an npm update, where npm will downgrade rc.1 / rc.2 to \"rc0\".\nThis happens all the time for us, but the fix is simply to npm install angularfire2@latest --save if that happens.. We ran into something similar this friday. We've built a chat app in Ionic 3.1.1, using AF v4.0RC0. We experienced a single chat message didn't arrive in firebase. It seemed to get added to the local database, and upon restarting the app, it was gone.\nNothing fancy in the way we add chat messages:\n```\n    @Input chats: FirebaseListObservable;\nsend(message: string): firebase.database.ThenableReference {\n    if (message && message.length > 0) {\n        const chat: Chat = { from: this.myUid, type: Type.TEXT, message: message, timestamp: Date.now() };\n        const thenable = this.chats.push(chat);\n        thenable.then(() => this.scrollToBottom());\n        this.messageField.nativeElement.value = '';\n\n        return thenable;\n    }\n}\n\n```\nAs I said, we've only experienced this once, so I'm not sure how to reproduce it.. We're gonna use AF2 in our next project, and its pretty critical that data doesn't disappear on push, in that project.\n@davideast Is it possible to reopen this issue?\nI can try and help debug it if need be.\nWe've seen the problem 3 or 4 times, only on Android devices so far, for whatever reason. It also sounds similar to @rashnk's description - where data occasionally does show up, minutes later.\nWe've been monitoring .info/connected and is shows that we apparently are connected, even when this problem happens. Not sure how to debug it since it seems periodic in nature.. Thanks @rashnk, better than nothing I suppose. :)\nHowever it doesn't exactly give me a good stomach feeling about the whole thing.. I suggest mentioning in the top that the auth example is for Facebook.. @davideast Thanks for your work on v4.0, is there any documentation on it yet? My initial impressions are that the API is quite a bit different. I'll probably figure it out eventually.. What mark said. I had the same problem initially.\nJust upgrade AF2 to v4rc0 and the problem will go away.. So I've been working a lot with Observables, and I'd advice towards caution against something like this. RxJS is a great technology, but it creates a lot of mental overhead, meaning one has to sometimes spend quite a long time deciphering how certain observable chains work.\nThe KISS principle still applies.. .subscribe(x => {\n        console.log(x[0].$key)\n});\ntry that. Well my 2c is that the JS SDK is pretty weird/unintuitive in that aspect; might not wanna model that weirdness in AF2.. Btw @craigsnyders , this is a shorter equivalent version of your code:\nthis.idToken = this.afAuth.idToken.map(user => user.getIdToken());. So doing npm install angularfire2@latest --save will install rc.2 currently, which is fine.\nHowever if you then decide to delete node_modules and simply do an npm install, it will downgrade to rc0.\nI'm pretty sure it downgrades to rc0 because the package is named wrong. It should be rc.0.\nIs it possible to rename the package in npmjs?. Ever since npm@5 came out, we've been seeing occasional problems where node_modules\n would get into a inconsistent state, across the team.\nSo we occasionally do:\nrm -rf node_modules #or your OS equivalent\nnpm install\nnpm install angularfire2@latest --save\n(last cmd to fix https://github.com/angular/angularfire2/issues/1113). Cant you use one of the later release candidates for v4?\nThere issue that keeps reverting to rc0 (due to bad npm package naming), keep that in mind.. Well still, it feels a bit silly.\nIt's nice being able to do:\nconst order = new Order(); and get default values for certain fields filled out automatically (for complex objects).\nMy current (silly) workaround is collection.add(JSON.parse(JSON.stringify(order)));. @codediodeio I don't think that works for deep objects. @lakinduakash Yes. Also, shouldn't https://github.com/angular/angularfire2/blob/master/src/firestore/collection/collection.ts#L118 return T?. I'll create the issue. \ud83d\ude04 . They have a conversion guide: https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md\nThe rest of your questions should probably go on stackoverflow, as the team prefers their issue tracker free of questions.. Yes #1286. Don't think you can do it with AFS, and might have to rely on the underlying framework:\nthis.afs.firestore.doc('/users/asfaf').get()\n      .then(docSnapshot => {\n        if (docSnapshot.exists) {\n          // do something\n        }\n      });. @davideast David, when you do an npm update it downgrades to angularfire2@5.0.0-rc.0-next, like V4 downgraded to rc0.\nI recommend the \"next\" tag gets stripped of the npmjs package; it's a bit of a hassle currently.. The thenable ref is a wrapped promised. It contains stuff like the uid of the pushed key, since these are calculated ahead of time, even before the database is involved.\nThe thenable promise can still fail, so you should still catch errors.. Same'ish error in Angular 5:\nWarning: Can't resolve all parameters for AngularFirestore in ./node_modules/angularfire2/firestore/index.d.ts: ([object Object], ?). This will become an error in Angular v6.x\nVersion: webpack 3.8.1. But any type can always implicitly be null. Observable<T|null> is the same as Observable<T>.\nVSCode will even ignore the |null part of a return type.\nEDIT\nIgnore what I said; with strictNullChecks enabled, it is still relevant.. I have a busy schedule atm, I'll see if I can squeeze in a reproduction in the weekend.. So we decided to dedicate some time for this issue, and we've been unable to reproduce it.\nWe'll chalk it up as beta quirks for now, so I'll close this. We can reopen if anyone can reproduce.. Already reported in https://github.com/angular/angularfire2/issues/1280 and https://github.com/angular/angularfire2/issues/1206. CLI team? I think you're in the wrong github.\nAsk these questions on stackoverflow, as it doesnt seem related to Angularfire2. You have to do it manually: loop over every subcollection and delete each document.. Yeah, the official docs have an example: https://firebase.google.com/docs/firestore/manage-data/delete-data. There's no angularfire version. You'd have to access the native Firestore SDK references:\n```\nexport class SomeTSClass {\n  constructor(private db: AngularFirestore) {}\nasync deleteCol(path) {\n    const qry: firebase.firestore.QuerySnapshot = await this.db.collection(path).ref.get();\n    const batch = this.db.firestore.batch();\n// You can use the QuerySnapshot above like in the example i linked\nqry.forEach(doc => {\n  batch.delete(doc);\n});\n\nbatch.commit();\n\n}\n}\n```\nThe above example is off the top of my head, so it might contain errors, but the principle is there. Remember that batch can currently only handle 500 operations, so if you have more, you'll need to chain batches. I believe they have an example for that too.. @jamesdaniels In this case that wouldn't work. All active snapshot listeners will throw the error immediately on logout(), irregardless of takeWhile.\nIt's surprisingly hard issue to tackle.. Any status on this?. Commendable research job you've done looking into this issue.. ",
    "dolanmiu": "Any progress on this? \nI have slowly began to realise this is very important because otherwise one would need to use this.zone.run() to make Angular run change detection:\nI have to do this everywhere:\nts\nthis.feed$ = Observable.create((observer) => {\n            this.collection.onSnapshot((snapshot) => {\n                this.zone.run(() => {\n                    const feedItems = snapshot.docs.map((docSnapshot) => docSnapshot.data() as FeedItem);\n                    observer.next(feedItems);\n                });\n            });\n        });\nI mean, its not a show stopper, but it bugs me personally none the less.. ",
    "r-park": "It's defined in the FirebaseAuthState interface, but is not being set by the authDataToAuthState() function. \n. The templates not updating may be related to angular/angular/issues/8242 (if you're running angular beta 16/17)\n. You might be running typings 1.0, which introduced some breaking changes. Try:\nshell\n$ typings install dt~firebase --global --save\nYou may also need to update your tsconfig.json from:\njavascript\n\"files\": [\n  \"typings/main.d.ts\"\n]\nto:\njavascript\n\"files\": [\n  \"typings/index.d.ts\"\n]\n. Downgrading from \"firebase\": ~3.0.5 to \"firebase\": 3.0.3 seems to resolve the issue.\n. Updating to firebase v3.1.0 seems to have resolved this issue.\n. Rather than subscribing directly to this.af.auth, you can try returning it instead, since canActivate() can return a Observable<boolean> :\n``` javascript\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport { Injectable } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { FirebaseAuth, FirebaseAuthState } from 'angularfire2';\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private auth: FirebaseAuth, private router: Router) {}\ncanActivate(): Observable {\n    return this.auth\n      .take(1)\n      .map((authState: FirebaseAuthState) => !!authState)\n      .do(authenticated => {\n        if (!authenticated) this.router.navigate(['/login']);\n      });\n  }\n}\n``\n. You need to pass a [configuration object](https://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md#7-bootstrap) todefaultFirebase`\njavascript\ndefaultFirebase({\n  apiKey: \"<your-key>\",\n  authDomain: \"<your-project-authdomain>\",\n  databaseURL: \"<your-database-URL>\",\n  storageBucket: \"<your-storage-bucket>\",\n})\n. Your error is referring to typings\\main.d.ts \nCaught exception:\n Error: ENOENT: no such file or directory, realpath 'E:\\firebase v3\\ionic2-angul\narfire-sample-firebase3-support\\typings\\main.d.ts'\nAssuming you're using typings version 1.x It should be typings\\index.d.ts \u2014\u00a0make sure tsconfig.json is pointing to the correct file.\n. Have you tried this: https://github.com/angular/angularfire2/issues/282#issuecomment-228514876\n. Try af.database.list('/my/path') and af.database.object('/my/path')\n. I think you're looking for ES6 computed property names:\n``` js\nlet key = \"keyValue\";\nlet value = \"itemValue\";\nlet data = {\n  [key]: value // square brackets around variable\n}\nconsole.log(data) //=> {keyValue: \"itemValue\"}\n```\n. Have you tried querying the list of users? If you have users in your database:\njs\n// Firebase\n{\n  users: {\n    -KAbCDe_FireBase-KeY_1: {\n      uid: '9876abcd', // some unique user id\n      name: 'Jim',\n      meta: {...}\n    },\n    -KAbCDe_FireBase-KeY_2: {\n      uid: '1234jklm', // some unique user id\n      name: 'Jane',\n      meta: {...}\n    }\n  }\n}\nYou can query the list using the user id (or some other key of your choosing) like this:\n``` js\nimport { Subject } from 'rxjs/Subject';\nconst userId$ = new Subject();\nconst userQuery$ = af.database.list('/users', {query: {\n  orderByChild: 'uid',\n  equalTo: userId$\n}});\nuserQuery$.subscribe(users => console.log(users)); //=> [{name: 'Jim' ... }]\n// submit a query using user id\nuserId$.next('9876abcd');\n```\nAlternatively, if your users are required to sign in, and you store them using an auth id:\njs\n// Firebase\n{\n  users: {\n    [authentication id]: {\n      name: 'Jim',\n      meta: {...}\n    }\n}\njs\naf.database.object(`/users/${auth.id}`)\n  .subscribe(user => console.log(user)); //=> {name: 'Jim' ... }\n. Try using ReplaySubject instead of Subject\n``` js\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nconst userSubject = new ReplaySubject(1);\nuserSubject.next('shamrozwarraich@gmail.com');\n```\nFor the FIREBASE WARNING \u2014 check out the docs on indexing your data\n. This should return an array of all items that match repeatDays: 'Mon,Tue'\n``` js\nimport { ReplaySubject } from 'rxjs/ReplaySubject';\nconst equalTo$ = new ReplaySubject(1);\nconst query$ = af.database.list('/data', {query: {\n  orderByChild: 'repeatDays',\n  equalTo: equalTo$\n}});\nequalTo$.next('Mon,Tue');\nquery$.subscribe(data => console.log(data)); //=> [{repeatDays : 'Mon,Tue' ... }]\n```\n. ",
    "KLiFF2606": "expires is missing again starting from release 2.0.0-beta.1. Was that in purpose? if so where can I find this attribut?. Hi @katowulf ,\nSure, here you are: #815\nthanks,. The method name is confusing. Also, the constraint is not documented, neither the expected behavior is.\nIn the other hand I think that user creation should not be done from the client side code anyway. I'll consider using the admin SDK.\nThink you all.. Hi @davideast! pardon my ignorance, when is rc0 expected and is there a roadmap where I can see the futur changes?. Thank you @davideast I'll check it out!. ",
    "euclid1990": "@jeffbcross , @davideast Please help me :baby_chick: \n. I have been resolved problem by adding: meta config :joy: \nSystem.config({\n    meta: {\n        firebase: {\n            format: 'global'\n        }\n    },\n    map: {\n        firebase: '/js/lib/firebase-web.js',\n        angularfire2: '/js/lib/angularfire2'\n    },\n    packages: {\n        baseURL: '/js/',\n        js: {\n            format: 'register',\n            defaultExtension: 'js'\n        },\n        angularfire2: {\n            defaultExtension: 'js',\n            main: 'angularfire2.js'\n        },\n    }\n});\n. ",
    "rahulbats": "i saw alpha.14 has fixed this. thanks\n. i am using \n  \"angularfire2\": \"^2.0.0-alpha.17\",\n. ",
    "KashifAhmed": "Great thanks it's working.\n. ",
    "arashbi": "What about the second scenario, I have an object, and I need to add a property to it. I cannot use the update method on the object, because I don't have the whole object. How should I do this?\n. I am still getting the same error on \n    \"firebase\": \"^5.0.3\",\n    \"angularfire2\": \"^5.0.0-rc.9\",\n. ",
    "mikelehen": "Hrm.  Maybe I'm misunderstanding the issue, but this sounds exactly like something we fixed in the core Firebase JS SDK a year ago (\"Fixed an issue where the onAuth event would incorrectly trigger with null while an authWithOAuthRedirect() was in progress.\" from our 2.2.4 release notes).\nIs angularfire somehow re-introducing the problem?  Or am I confused?\n. Whaaat?  Types were moved around?  I have no context on this.  \nIf there are bugs in the JS SDK, definitely please log them on the JS SDK repo.  Angularfire should not work around them.. ",
    "javebratt": "Whenever I use the af.auth.getAuth() anywhere in my Ionic2 app I get an error saying:\nUnhandled Promise rejection: EXCEPTION: Error in :0:0\nORIGINAL EXCEPTION: TypeError: Cannot read property 'uid' of null\nORIGINAL STACKTRACE:\nTypeError: Cannot read property 'uid' of null\n    at Object.authDataToAuthState (http://localhost:8100/build/js/app.bundle.js:36482:23)\n    at FirebaseSdkAuthBackend.getAuth (http://localhost:8100/build/js/app.bundle.js:36565:31)\n    at AngularFireAuth.getAuth (http://localhost:8100/build/js/app.bundle.js:36389:34)\n    at new MyApp (http://localhost:8100/build/js/app.bundle.js:19:17)\n    at DebugAppView._View_MyApp_Host0.createInternal (MyApp_Host.template.js:15:21)\n    at DebugAppView.AppView.create (http://localhost:8100/build/js/app.bundle.js:25627:21)\n    at DebugAppView.create (http://localhost:8100/build/js/app.bundle.js:25820:44)\n    at ComponentFactory.create (http://localhost:8100/build/js/app.bundle.js:24941:36)\n    at http://localhost:8100/build/js/app.bundle.js:20224:44\n    at http://localhost:8100/build/js/app.bundle.js:20202:26\nIs there something that needs to be imported? I'm trying to do this in my app.ts:\n```\nimport {Component} from '@angular/core';\nimport {ionicBootstrap, Platform} from 'ionic-angular';\nimport {StatusBar} from 'ionic-native';\nimport {TabsPage} from './pages/tabs/tabs';\nimport {LoginPage} from './pages/login/login';\nimport {IntroPage} from './pages/intro/intro';\nimport {FIREBASE_PROVIDERS,\n  defaultFirebase,\n  AngularFire,\n  AuthMethods,\n  AuthProviders,\n  firebaseAuthConfig,\n  FirebaseAuthState} from 'angularfire2';\n@Component({\n  template: '',\n})\nexport class MyApp {\n  rootPage: any;\n  public fireAuth: any;\nconstructor(platform: Platform, public af: AngularFire) {\n    this.fireAuth = af.auth.getAuth();\nif (this.fireAuth) {\n  this.rootPage = TabsPage;\n} else {\n  this.rootPage = LoginPage;\n}\n\n\n\nplatform.ready().then(() => {\n\n  StatusBar.styleDefault();\n});\n\n}\n}\nionicBootstrap(MyApp, [\n  FIREBASE_PROVIDERS,\n  defaultFirebase({\n    apiKey: \"\",\n    authDomain: \"\",\n    databaseURL: \"\",\n    storageBucket: \"\"\n  }),\n  firebaseAuthConfig({\n    provider: AuthProviders.Password,\n    method: AuthMethods.Password,\n  })\n], {});\n```\n. Thank you for the hard work on this, it's incredible news. \nThe API looks clean and easy to use, just like the other AF2 modules.\nI especially liked the percentageChanges() function, takes care of a task that's repetitive in most of my apps (that handle files).\nOne small thing I see in the usage example up there, these lines:\njs\n// get notified when the download URL is available\nthis.uploadURL = task.downloadURL();\nI think you meant this.downloadURL = task.downloadURL(). Hey @davideast ,\nIs the then(): Promise<any> from the interface AngularFireUploadTeask returning an empty or void promise?\nIn the regular JS SDK, I can do something like\n``js\nconst storageRef: AngularFireStorageReference = this.afStorage\n  .ref(${this.userId}/${billId}/billPicture/`);\nreturn storageRef.putString(imageURL, 'base64', { contentType: 'image/png' })\n  .then(pictureSnapshot => {\n    // I use this to store the downloadURL in my database\n  });\n```\nBut when I try to do the same with the new AF2 API I get: Error: Expected 0 arguments, but got 1 as soon as I add anything inside the .then()\nWhat would be the proper way of getting the downloadURL to store in the database after the upload is completed?\nUPDATE:\nHere's how I achieved it, don't know if this is the right approach for AF2:\nFirst, in the provider I separated it into two functions:\n``js\n takeBillPhoto(billId: string, imageURL: string): AngularFireUploadTask {\n    const storageRef: AngularFireStorageReference = this.afStorage.ref(${this.userId}/${billId}/billPicture/`\n    );\nreturn storageRef.putString(imageURL, 'base64', {\n  contentType: 'image/png'\n});\n\n}\nstoreDownloadUrl(billId: string, downloadUrl: string): Promise {\n    console.log(billId, downloadUrl);\n    return this.billList.update(billId, { picture: downloadUrl });\n  }\n```\nAnd from my component I'm calling them like this:\njs\nthis.billProvider\n  .takeBillPhoto(this.billId, imageData)\n    .then()\n    .then(res => {\n      this.billProvider.storeDownloadUrl(\n        this.billId,\n        res.metadata.downloadURLs[0]\n     );\n});\nIt successfully uploads the picture to Firebase Storage, once the picture is uploaded it calls the other method and passes the download URL so I can store it inside my object in the database.\nBut it feels like I'm making stuff up, don't know if I'm missing something. ",
    "joaogarin": "Hello,\nI was trying something similar to this and get the same thing as @mip1983 is mentioning.\n\"Argument of type 'FirebaseQuery' is not assignable to parameter of type 'string'\"\n. This was merged in alpha 16 just noticed ;) cool\n. Yeah I just noticed was going through the issues tks for the info !;)\n. No this not yet implemented. You can follow it here https://github.com/angular/angularfire2/pull/138\n. Yeah I think only the initialisation now has a couple more things like the storage bucket, domain setting, private key etc while previously it was just the firebase ref url ;=) \n. @davideast that is awesome news;)\n. Anyone else got the solution for this? I am trying to get angularfire2 working with the 3 SDk.\nI have ran \ntypings install --save --ambient firebase\nBut I still get this error. I am running this on webpack\n. Using the definitely typed version for the typings did not help also. Still getting the same error.\n. Yeah, I added it to the tsconfig file in files as mentioned in https://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md#3-include-firebase-sdk-typings but I still get that error.\n. I noticed that after the inclusion of firebase3 my error is actually : \nCannot find name 'Firebase'.\nAnd not 'namespace'. Will keep digging\n. In my case I need to get a hold of Firebase() so that I can use https://www.firebase.com/docs/web/api/firebase/authwithcustomtoken.html\nauthentication with custom tokens. I included the firebase typings but it seems Firebase global is somehow not exposed and typescript complains..\n. Okay. Regarding the error : Cannot find name 'Firebase'.\nFirebase global does not exist anymore, so I still had some parts from the 2 SDK where I was doing new Firebase() which now does not exist.so not an issue..\nThe namespace thing I managed to get across by adding the right typings as mentioned earlier. either by adding it to your tsconfig as described in https://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md#3-include-firebase-sdk-typings or via typings (temporarily by the gist given by @olostan for example)\n. Yes if the tsconfig is excluding the node_modules then you want to add it to the typings.json file. In that case you can do what suggested by @olostan and do : \nAdd into 'typings.json' into globalDependencies this record:\n\"firebase\": \"https://gist.githubusercontent.com/cdcarson/28399c50b02bf6c507fbf5b7b30daa31/raw/fa089d231ca4253d4715f8161efc6af74c972dfa/firebase-sdk-3-typings.d.ts\" \nand then typings i\n. No problem.\n. I was running it on electron without a problem before with the previous SDK, so I dont know if this was introduced now with the 3 SDK or maybe something that I am missing here =/\n. yep that would be awesome!! Looking forward =)\n. Sure I will try it! Will let you know how that works.\n. Hello @davideast,\nI have some questions regarding your suggestion. So normally you would do something like : \njavascript\n...ROUTER_PROVIDERS,\n    ...HTTP_PROVIDERS,\n    ...FIREBASE_PROVIDERS,\n    // Initialize Firebase app\n    defaultFirebase({\n        apiKey: options.firebase.apiKey,\n        authDomain: options.firebase.authDomain,\n        databaseURL: options.firebase.databaseURL,\n        storageBucket: options.firebase.storageBucket,\n    })\nto provide the firebase default to angular providers so you can inject the service anywhere right?\nis your suggestion not providing anything here? Or instead of this defaultFirebase giving it a af.database.object(ref)? But that would have to be done inside a component. So inside a component I have (example in a home component)\n``` javascript\n/*\n * Import decorators and services from angular\n /\nimport {Component} from '@angular/core';\nimport {AngularFire, FirebaseListObservable} from 'angularfire2';\n@Component({\n  selector: 'ae-home',\n  template: <div>\n       <h1>{{name}}</h1>\n       <input [(ngModel)]='name' />\n       <ul>\n          <li *ngFor=\"let item of items | async\">\n            {{ item.name }}\n          </li>\n       </ul>\n    </div>\n})\nexport class HomeComponent {\n  name: string;\n  items: FirebaseListObservable;\nconstructor(af: AngularFire) {\n    this.name = 'Firebase';\n    this.items = af.database.list('/items');\n  }\n}\n```\nWould I create this af.database.object(ref) inside this component? or in the app component (the root component)?\nI have a repo with a very minimal setup of angular2 on electron and firebase to demostrate the issue. Its visible here https://github.com/joaogarin/firebase3-electron case anyone wants to try it out. You do have to provide the firebase configs to actually run it  as stated in the readme file.\n. What I am currently trying is : \n``` javascript\nexport class HomeComponent {\n  name: string;\n  items: FirebaseListObservable;\n  ref: firebase.database.Reference;\nconstructor(af: AngularFire) {\n    this.name = 'Firebase';\n// Initialize ref\nthis.ref = firebase.initializeApp({\n  serviceAccount: options.firebase.serviceAccount,\n  databaseURL: options.firebase.databaseURL\n});\n\ndefaultFirebase(af.database.list(this.ref));\n\n}\n}\n```\nBut this reference should be a firebase.database.Reference type which is not what firebase.initializeApp returns (it returns an app) so I think something is not playing nice here..;P I will keep digging\nAlso in this scenario I am not doing the defaultfirebase in the normal angular bootstrap providers list (like you would normally do)\n. I get a : \n\"Property 'database' does not exist on type 'App'.\" =/\n. Havent had much succes with this approach unfortunately.maybe I am missing something. Is the official support for this on the near future in the table? or too complex to put it for now? just so I equacionate some timings on my side for the electron app.going only web is also an option\n. I am actually now getting an error : No provider for Token FirebaseUrl! which kind of suggests I got passed this issue..Will try to figure it out.\n. Hey @davideast , just bumping on this one..Any ideas on how I might unstuck myself here? any plans on this integration with the service accounts?\nThanks a lot;) cheers\n. Sure! Appreciate the support @davideast  I will stay tuned for updates;)\n. Yes I think at this point Angular2 + Firebase3 its fine with electron (see https://firebase.google.com/support/release-notes/js) altough I didnt try it out yet. Angularfire2 I dont think so.\n. @Nishanth2 cool! I will try it out! @therealdsmart not really I havent tried anything after that error, as @Nishanth2 suggests using angularfire2@next works. Which makes sense since firebase has released support for node js apps to work without a service account as far as I know. I would still try authentication because that is where things got messy previously (at least using only firebase 3 and electron)\n. Hello @davideast yeah sure. I will try and put something up together using AF2 with electron. I know people are using the CLI with it but I have no experience with it or systemJs. But I will try and put together something simple and document how to get that working properly and we can go from there. I will be sure to try out authentication as well.\n. Hello @davideast , sry for not getting back to you on this. I have created some tests with electron in https://github.com/joaogarin/angularfire2-firebase3-electron if you want to have a look there. Just tested today the latest angularfire2 and authentication at least with email and password works well. I will do some testing with some popus in the auth flow and get back to you.\nI will also try and document a little better the setup, but its not so different than a normal angular app except for a couple of electron entry points that are necessary. I will try and make a file explaining all of that in the repo.\n. So I did a quick test on the social providers with Facebook and I get an error similar to https://github.com/angular/angularfire2/issues/279 : \nEXCEPTION: Uncaught (in promise): Error: This operation is not supported in the environment this application is running on. \"location.protocol\" must be http or https and web storage must be enabled.\nI guess this has something to do with the environment electron is running on. I have another project where I had to do a customAuthentication with Firebaese (without angularfire2) and that worked well. But there I had to circle a bit around the authentication Firebase provides by default since I was using another oauth system and just had to pass in the JWT to firebase.\nI will still push the nonworking loginGoogle component to the repo case anyone wants to try something out.\n. ",
    "Seaborg": "Is this already implemented in 2.0.0-alpha.16 or not?\n. ",
    "gamebox": "Investigating test failure, getting similar error locally MacOS X 10.11 with Chrome 50 Stable on master.\n. Oh man, I spent 2 or 3 hours trying to debug this.  I'm so happy to hear I didn't destroy anything.  Let me know if there is anything I can do to help.\n. ",
    "mypark": "awesome... also is there a way I can find out if the current session or user is authenticated from the controller without a subscription?\n. ",
    "vargalas": "When will be this big documentation update? It still has no good docs, I think. \nIt's a pity, though.\n. @AIon-Gbbe: thank you. this one solved it for me.\n. ",
    "tomdegoede": "@mip1983 This currently breaks the push and remove methods on FirebaseListObservable. (probably update as well).\nA solution might be calling ref.ref() here when ref is a FirebaseQuery instance. (Haven't tested this).\n. ",
    "rosslavery": "Just signed the CLA.\n. You should be using the async pipe before trying to output any properties.\n{{ (update | async)?.pemdos }}\nThe ? is an example of using the elvis operator which you can read more about here.\n. If you switch limitSubject to be a BehaviourSubject rather than a plain Subject, then you could specify an initial value for it to emit (which is required as part of being a BehaviourSubject).\nNot sure if that will accomplish what you need, but worth a shot.\n. I would use:\njs\nthis.af.database.list('/sections')\n.map(sections => sections.map(section => {\n  // Do something with each section here\n  return section;\n}))\n.do(formattedSections => console.log(formattedSections));\n. Hey team,\nAny progress on this? This bug is affecting multiple parts of our application.\nThanks\n. I've been doing that, but we lose the auto-adding of $key, $value, $exists, etc.\nObviously we could create similar code to perform the same data transformation, but I'm looking to avoid re-writing angularfire-specific code that will be fixed shortly.\nSo just hanging on until the fix is released.\nThanks though!\n. @davideast  @katowulf any update on this? We're close to launching a production app that is still affected by this issue. We've been using .debounce(somesmallnumber) as a workaround for now, but this one has  been open for nearly 3 months now.\nNot meaning to harass, just more concerned about the project's....velocity. I know you guys are juggling many different ____fire libraries though.. The @next release also fixed it for us. Thanks @davideast!. Correct me if I'm wrong, but despite the PR title, #681 doesn't actually set it as a peer dependency, it just updates the version tag, but keeps firebase listed inside the dependencies section.\nThis results in firebase still being installed inside the angularfire2 node_modules directory.. Beta 5 also added an $exists() helper that returns true/false depending on if there is a value present.\nIt's currently undocumented but I suspect it will be shortly.\nSee: https://github.com/angular/angularfire2/pull/471. This seems to be an issue with the @next release.\nIt is because rxjs is being installed as a dependency, along with being installed with your application (so it's installed twice).\nBecause of this, the operators / inheritance that AngularFire uses to extend type Observable is breaking.\nTo test this, remove the rxjs folder that is inside node_modules/angularfire2/node_modules/rxjs. That should fix the issue.\nI'm not sure why exactly rxjs is being installed in the @next release, but not in the beta6 release, but perhaps something changed in the rxjs package itself.\nRegardless, I believe that rxjs needs to be moved to peerDependencies along with firebase.. What I've done in the meantime is set up a postinstall node script that just deletes that folder.. Just got back into the office, can confirm that all looks good here now.. Migrated yesterday, works great. Like the new API. The migration was pretty straightforward, just a lot of find & replace.\nLooking forward to the messaging module. Notifications in my app right now are a bit of a mess.. ",
    "vinodhum": "never mind pushed worked, was using add because youtube video used add.\n. You could use Subject or BehaviourSubject from rxjs\n```\nset initial value\nthis.query = {\n      orderByChild: 'datum',\n      startAt: new BehaviorSubject(moment().startOf('month').valueOf()),\n      endAt: new BehaviorSubject(moment().endOf('day').valueOf()),\n    };\nQuery firebase\naf.database.list('/machineslog/' + this.curmachinename', {\n  query: this.query\n})\n\nonDateChange(){\n    this.query.startAt.next(new start date);\n    this.query.endAt.next(new end date);\n }\n```\nhope this help. ",
    "FredMichel": "I am experiencing same issues. I am trying to integrate angularfire2 with angular2-webpack-starter\n. ",
    "awwong1": "Perhaps it's because the ts files aren't there?\n\nWARNING in ./~/angularfire2/angularfire2.js\nCannot find source file './/angularfire2.ts': Error: Cannot resolve 'file' or 'directory' .//angularfire2.ts in //node_modules/angularfire2\n\nbash\n$ ls node_modules/angularfire2/\nREADME.md       angularfire2.js     database        package.json        tokens.d.ts     tokens.js.map\nangularfire2.d.ts   angularfire2.js.map es6         providers       tokens.js       utils\n. ",
    "dalesbit": "change the config file:\nwebpack.common.js -> module -> preLoaders -> exclude\nadd: helpers.root('node_modules/angularfire2'),\nthis will cause angularfire2's source map to be ignored\n. @doovers @beckmeindia \nAre you guys using webpack?\nChange the webpack.common.js in the config folder. Note the change is: \nexclude: [ ... helpers.root('node_modules/angularfire2'), ... ]\n```\nmodule: {\n/*\n * An array of applied pre and post loaders.\n *\n * See: http://webpack.github.io/docs/configuration.html#module-preloaders-module-postloaders\n */\npreLoaders: [\n\n  /*\n   * Tslint loader support for *.ts files\n   *\n   * See: https://github.com/wbuchwalter/tslint-loader\n   */\n   // { test: /\\.ts$/, loader: 'tslint-loader', exclude: [ helpers.root('node_modules') ] },\n\n  /*\n   * Source map loader support for *.js files\n   * Extracts SourceMaps for source files that as added as sourceMappingURL comment.\n   *\n   * See: https://github.com/webpack/source-map-loader\n   */\n  {\n    test: /\\.js$/,\n    loader: 'source-map-loader',\n    exclude: [\n      // these packages have problems with their sourcemaps\n      helpers.root('node_modules/rxjs'),\n      helpers.root('node_modules/@angular'),\n      helpers.root('node_modules/angularfire2'),\n      helpers.root('node_modules/@ngrx'),\n      helpers.root('node_modules/@angular2-material'),\n    ]\n  }\n\n],\n\n...\n```\n. @beckmeindia \nhttps://github.com/angular/universal-starter/blob/master/webpack.config.js#L18  (Line 18)\nadd:  exclude: [ 'full path for your node_modules/angularfire2' ]  :) dont forget to change it to  reflect your project.\nIf you install af2 with npm, it should work just fine otherwise if you are using jspm its the same if you use jspm install instead of npm :)\nif you have any specific questions the go ahead and ask :) futher more i can not help you with the integration without more info. I suggest, you should try to install af2 to a starter kit with no additional changes and try to get it work, meanwhile if you need help you can ask any time ;)\n. ",
    "beckmeindia": "@doovers Could you please tell me how you solved this problem? I am getting the exact same warning for my webpack project with angularfire2.\nCheers,\nRahul\n. hey @eisenmaxx \n     Thanks a lot for replying back. I am currently using angular-universal-starter from https://github.com/angular/universal-starter\nI am trying to find a way to integrate angularfire2 with this project. \nWhile running npm start I am getting warnings for almost all angularfire2 map files.\nAlso I could not find any documentation to integrate angularfire2 with webpack (the present one has angular-cli)\nCould you please help?\nCheers,\nRahul\n. Hi @eisenmaxx \n  I have been able to work around the previous problem by commenting the entire line. \nBut there is a different problem with angularfire2 running on server side. Apparently the setup for webpack seems to be fine but it says, no provider for Angularfire while running.\nI have added the repository I am working on, here: https://github.com/beckmeindia/universal-angularfire2\nAlso I have discussed about the issue in the angularfire2 webpack repository added by @r-park here:\nhttps://github.com/r-park/todo-angular2-firebase/issues/77#issuecomment-234967193\nCould you please tell me where I am possibly going wrong?\nAlso I would like to ask @jeffbcross & @gdi2290 if angularfire2 cannot be run in angular-universal's environment.\nThanks,\nRahul\n. Hey @davideast following the example you wrote, can you tell me how to make the query work for a typeahead/autocomplete using FirebaseListObservable?\nI was trying something like this:\n` \n this.search = (text$: Observable) =>\n    text$\n      .debounceTime(200)\n      .map(term => term === '' ? []\n        : this.itemsIntra.filter(v => new RegExp(term, 'gi').test(v.dropname)));\nthis.formatter = (x: {dropname: string}) => x.dropname;\n`\n. Sure thanks. Will post there\nOn 27 Aug 2016 22:00, \"David East\" notifications@github.com wrote:\n\n@beckmeindia https://github.com/beckmeindia\nHello! I'm going to close your question because it is best suited for\nanother medium like the Firebase Google Group or the Firebase Slack\nCommunity. This repo is focused on troubleshooting library centric issues.\nThanks for reaching out through, and I can assure you that those mediums\nare active and will be able to help.\nhttps://firebase-community.appspot.com\nhttps://groups.google.com/forum/#!forum/firebase-talk\nCheers,\nDavid\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/477#issuecomment-242926883,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQo6KJ3_mk_NE_EjxiQTI0jPx35d5szQks5qkGYagaJpZM4JurAt\n.\n. Hey,\n I keep getting the similar errors when setting up AngularFire2 on both modules app.node & app.browser: EXCEPTION: Uncaught (in promise): ReferenceError: window is not defined \n\nAnd for setting up Angularfire2 only on app.node I get the errors:\n1) Error: Firebase App named '[DEFAULT]' already exists.\n2) ReferenceError: window is not defined \nAny updates on the present API regarding this?\n. ",
    "Ibrahim-Islam": "@kazkis Thank you for the reply. You are right, I was on beta5. I changed my package.json to keep in sync with current angular version and everything built fine.\n. ",
    "doczoidberg": "I think we have to wait for the Alpha release. I hope it's done soon.\n. I hope there will be backward compatiblity?\n. the version numbers are a little difficult. I think you should never write Firebase 3 but instead Firebase SDK 3\n. @mmgdort how do I have to configure Firebase on the server?\n. any news on this topic?\n. no solution, but I think the issue has nothing to do with Angularfire2 but with my project template with AngularUniversal and HMR:\nhttps://github.com/aspnet/JavaScriptServices/issues/140\nUpdate: Steve said, that it is a firebase issue. therefore I reopened the issue\n. shouldn't all async methods be named with async?\nalso a synced version would be great. Otherwise one have to inject the uid into all components.\nAlso how should I handle page refreshes?\n. subscribing to the observable solved the problem for me\n. for me this works:\nimport {map} from 'rxjs/operator/map';\nthis.meshes= map.call(af.database.list(\"/studies/\" + this.uid + '/' + this.studykey + '/meshes/'), (vals: any[]) => {\n                return vals.map((m) => {\n                    m.shapes = af.database.list(\"/meshes/\" + this.uid + '/' + m.$key);\n                    return m;\n                });\n            });\nand this not:\nimport 'rxjs/add/operator/map';\nthis.meshes = af.database.list(\"/studies/\" + this.uid + '/' + this.studykey + '/meshes/').map(vals: any[]) => {\n            return vals.map((m) => {\n                m.shapes = af.database.list(\"/meshes/\" + this.uid + '/' + m.$key);\n                return m;\n            });\n        });\nerror:\nERROR in ./ClientApp/components/editor/editor.ts\n(112,107): error TS1005: ',' expected.\nERROR in ./ClientApp/components/editor/editor.ts\n(112,116): error TS1005: ';' expected.\nERROR in ./ClientApp/components/editor/editor.ts\n(117,10): error TS1128: Declaration or statement expected.\nERROR in ./ClientApp/components/editor/editor.ts\n(255,10): error TS1068: Unexpected token. A constructor, method, accessor, or property was expected.\n...\n. How can I update an object in my code snippet from above?\nvar result = this.meshes.update('/meshes/' + this.uid + '/' + this.activeMeshKey + '/' + this.activeShapeKey+'/', this.activeShape);\nerror (path is right/exists):\nVM9784:27 ORIGINAL EXCEPTION: Error: Firebase.update failed: First argument contains an invalid key ($key) in path /$key. Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"\n. I can workaround the last error by deleting the $key property and then upate\n. I wondered if I am doing something wrong because of this.\n. a roadmap would be good. We have to plan things and think about which libraries we can use in future.\n. this relates to https://github.com/angular/angularfire2/issues/276\n. I added serviceAccount property to the FirebaseAppConfig interface and added my generated json key file to the configuration. Now I get:\nTypeError: _this._fbAuth.onAuthStateChanged is not a function\nat Observable._subscribe (\\node_modules\\angularfire2\\providers\\firebase_sdk_auth_backend.js:45:34)\n.  I tried different AuthConfig without success. Can anybody say what I am doing wrong?\nI have on boot-server.ts:\n...\n```\nexport default function (params: any): Promise<{ html: string, globals?: any }> {\n    const config: ngUniversal.AppConfig = {\n        directives: [App],\n        providers: [FIREBASE_PROVIDERS,\n            // Initialize Firebase app\n            defaultFirebase({\n                apiKey: \"mykey\",\n                authDomain: \"crackling-torch-43434.firebaseapp.com\",\n                serviceAccount: \"firebasekey.json\",\n                databaseURL: \"https://crackling-torch-43434.firebaseio.com\",\n                storageBucket: \"crackling-torch-43434.appspot.com\"\n            }),\n            firebaseAuthConfig({\n                provider: AuthProviders.Google,\n                method: AuthMethods.Password\n            }),\n            ngCore.provide(ORIGIN_URL, { useValue: params.origin }),\n            ngCore.provide(REQUEST_URL, { useValue: params.url }),\n            ...ngUniversal.NODE_HTTP_PROVIDERS,\n            provideRouter(routes),\n            ...ngUniversal.NODE_LOCATION_PROVIDERS,\n        ],\n        // TODO: Render just the  component instead of wrapping it inside an extra HTML document\n        // Waiting on https://github.com/angular/universal/issues/347\n        template: '<!DOCTYPE html>\\n'\n    };\nreturn bootloader.serializeApplication(config).then(html => {\n    return { html };\n});\n\n}\n```\nCall to Node module failed with error: EXCEPTION: Error in ./App class App - inline template:3:12\nORIGINAL EXCEPTION: TypeError: _this._fbAuth.onAuthStateChanged is not a function\nORIGINAL STACKTRACE:\nTypeError: _this._fbAuth.onAuthStateChanged is not a function\nat Observable._subscribe (\\node_modules\\angularfire2\\providers\\firebase_sdk_auth_backend.js:45:34)\n. did you get it to run?\n. I don't know where to add onDateChagne(). are there already results of an AngularFire Lite cooperation? When can we expect SSR in AngularFire?. my fault, i used deprecated database. strange, now it works. not sure what changed. strange, now it works. not sure what changed. ",
    "numerized": "nice \nI'd love to see setWitPriority in angularfire2, just sayin....\n:)))\n. Hmm ok @patrickmcd so what is the way to add new data in opposite order than timestamp ?\nLast added to top of the list.\nI do like this: \nthis.myCelebsListRef.child(celebCamelName).setWithPriority(infoToSave, 0 - Date.now());\nIt's really practical for infinite scroll timelines that loads X new entries each time we reach the bottom.. I usually do like this to create my infiniteLoad:\nthis.emoz.limitToFirst(limitToFirstNum).once('value')\nI'll convert it like this then:\nthis.emoz.limitToLast(limitToLastNum).orderByChild(\"fauxPriority\").once('value')\n?. Just removing the name of the app:\nAngularFireModule.initializeApp(environment.firebase,'utoopie')\nto\nAngularFireModule.initializeApp(environment.firebase)\nworked, testing right now.. AngularFire2 docs don't include it, so do I.. Hi @davideast, Hi all.\nI have all the latest versions installed. Firebase, angularFire, ionic3.0.1\nRegarding this problem (or not exactly the same, if you need me to open a new Issue I'd be happy to do so as long as I have seen this problem for one year and our target use is exactly the one described below)\nThere's a really weird thing happening when you log-in to a firebase app from inside the in-app facebook browser only in IOS environments. Android and Web is working perfectly on all browsers.\nThis bug is only on iOS from facebook app and Facebook Messenger.\nOn Android all is working like expected inside messenger and inside facebook in-app browsers.\nTo try it : \n1-Simply open facebook app\n2-Search for Utoopie page\n3-scroll down and look for a post that redirects to our web-app like this one:\n[SONDAGE]\nD'apr\u00e8s vous, si M\u00e9lenchon passe au 2e tour des \u00e9lections 2017, qui sera son adversaire ?\nPour participer c'est ici : http://beta.utoopie.com/pie/-Kh3TjDaAaIzrlaAwXGv/8734093724\n....\n4-Visit the link\n5-It'll open the facebook in-app web browser\n6-Cast a vote with any of the button under the question.\n7-It'll open a modal : Click on the button that says Facebook \n8-It'll show a white page and then nothing.\nThis problem behaviour is quite common in other tools but I've never seen any issue reported here.\nhttps://github.com/sahat/satellizer/issues/674\nThanks a lot !. Sorry I had to remove FB angularfire2 authentication because if people are coming from facebook they cannot login. It's a real problem for platform that rely on sharing deep content.. Same I downgraded to angularfire2.rc1 to make it work. ",
    "patrickmcd": "@numerized Looks like priority is on the road to deprecation, so I doubt you'll see it.\n. I think you'd just add a new member to your model to take over the functionality that priority held.\n...set({\n  stuff: 'stuff',\n  thing: 'thing',\n  fauxPriority: 0 - Date.now()\n}). @blackhawk389 It just has to do with the Typings update to 1.0.\n. @J-Yen I figured it out and posted at SO.\nYou need to import firebase from 'firebase'; and the set the type of your error like so:\n```\ncatch((error: firebase.FirebaseError) => {\n   console.log(error.code);\n})\n``\n. [See this](http://stackoverflow.com/questions/40157541/how-do-you-access-the-code-property-of-a-firebaseerror-in-angularfire-typesc/40157542#40157542)\n. Isn'ttypingssuperfluous now?\n. How aboutfirebang`?\n\nThis works on many levels:\n\nFire+Bang is fun unto itself. It sounds like kids playing cops & robbers.\nFireb+Ang is obviously a combination of Firebase + Angular.\nFireba+NG sneaks in the prefix / abbreviation / namespace.\nFirebase & Firebang have 8 letters apiece. There's something to be said for balance.\nFireAngular would be a simple swap and a nod to what is there now. But that doesn't roll off the tongue. FireBangular perhaps has a better ring to it, but is slightly absurd. Firebang is a nice compromise.. If you want to go the risque route, how about fng?\n\nPronounced eff-ing, of course.\n. I think you just need to use a trackBy function. Read this, especially starting with section \"How does ngFor work when we add or remove elements from the list?\", and thru the trackBy sections.. Your trackBy function may be returning too much. Because indexes change when the data changes, it's defeating the purpose of keeping track of each item. Just return the object key.\npublic identify(index, item): string {\n  // return index + '-' + item.$key;\n  return item.$key;\n}\nOr, here's a pithier way to write it.\ntrackFbObjects = (idx, obj) => obj.$key;\n. @DivineCake you just need a trackBy function so the template knows it shouldn't redraw specific elements to the DOM. See this and this.. If you're worried about semver collisions, just give yourself a big enough buffer that it won't be an issue. Go to plaid and skip all the way to version 10 and you won't be stuck with the numbered angularfire2 name.\nI don't think matching Angular at version 4.0 holds any value. Their release schedule will leave AF in the dust soon enough.\nThat said, I like the look of the scoped package.. @harshavarun25 read the migration & docs, as @almothafar said.\nBut on top of that, don't spam the repo in three--separate--places.\n. ",
    "RaulGarafulic": "Hey @davideast, is it possible to set the name of an object with a string variable? \nFor example:\ncar: {\n  brands: {\n    var1: ''\n  }\n}\nThis is the query I imagined would work:\naddBrand (var1) {\n  var brandRef = firebase.database () .ref ().child ('car/brands');\n    brandRef.set ({\n      var1: '' \n    });\n}\nThe output I get is the text var1, not its value.\nIs there any way of achieving this?\n. I have the same issue.\nIt works fine if you query the data from the constructor, but it crashes really badly when you query it from lifecycles. \nI find this very annoying because I need some data to load in order to do some queries in my project \ud83d\ude29\n. @katowulf I posted this question everywhere, no answers.\nWould you be so gentle to explain to me how can I get the snapshot.val() to my component? I am reading documentation for two days with no good result. I'm very frustrated.\n. ",
    "jesseteweehi": "@RaulGarafulic \nI am going through the same problem any solutions. @jongood01 \nWith the answer from @IvRRimum if i use this approach and use the key to update on another location like Updating or deleting data will they be atomic???\n. ",
    "gharibi": "Just one comment from my side, at the time that I am writing you this comment, the 'Property list doesnt exist anymore on database'. \naf.database.list() is no longer existed. You should use af.list(). In order to push records, you can simply use the below:\nthis.questions.push({...}). I have used the below code and I was able to retrieve the user profile in v4.0.0:\nuser: Observable;\n  displayName: string;\n  email: string;\n  photoURL: string;\nconstructor(public afAuth: AngularFireAuth, private db: AngularFireDatabase) {\n    this.user = afAuth.authState;\n    afAuth.authState.subscribe((user: firebase.User) => { \n      this.displayName = user.displayName;\n      this.email = user.email;\n      this.photoURL = user.photoURL;\n    });\n  }. Thanks David. I uninstalled the package and used the following:\nnpm install angularfire2 firebase@latest --save\nThis works fine. However the latest version on npm still has the issue.. @davideast Today I updated my packages by using node up and my entire app crashed due to the latest version of angularfire2.\nThe version which I earlier used was v2.0.0.beta.7 but now is different. After uninstalling the module and reinstalling by using npm install angularfire2 firebase@latest --save, I get the below warnings in npm:\nangularfire1@4.0.0-rc.0 requires a peer of firebase@3.6.6 but none was installed\nWhat is your suggestion?\n. @JacquesSchalkwyk since you are using Angular2, you don't need to import firebaseConfig. Under src\\environments\\environments.ts, you can configure your firebaseConfig as below:\nexport const firebaseConfig = {\n    apiKey: '<your-key>',\n    authDomain: '<your-project-authdomain>',\n    databaseURL: '<your-database-URL>',\n    projectId: '<your-project-id>',\n    storageBucket: '<your-storage-bucket>',\n    messagingSenderId: '<your-messaging-sender-id>'\n  }\nThis will solve your problem.. ",
    "alighali85": "how to get the key value! as method 'list' doesn't contain the key! I am facing a huge problem to find example in the documentation!. ",
    "anubhavberry": "@alighali85 try object.$key. That's for every object in the list. ",
    "aaronksaunders": "Thx, next time is there a better approach for submitting issues? Maybe a plnkr or something to show the actual issue? \n. thx - great stuff\n. this installs the incorrect typings i believe?\n. here is a project where I am running into issues -  https://github.com/aaronksaunders/ionic2-angularfire-sample/tree/firebase3-support\nIssue appears to be around anything that you need to subscrbe to, I am creating a very basic app to demonstrate the issue.\nI am getting errors thrown around this.af.auth.subscribe()\nI created a smaller project that shows the issue without all the extras: https://github.com/aaronksaunders/basicaf2\n. @jeffbcross i just tried it with the just the Firebase SDK and it works fine... \n. @jeffbcross just checked it and it works\n. @Chuckv01 i think your issue is a related but a separate issue... related to auth methods that require a popup. In the previous versions the inappbrowser was integrated in the lib to support this functionality\n. @ciekawy i think that integrating it directly into angularfire2 is the wrong approach for mobile solutions, I believe the correct approach it to provide integration points, like they have and leave it at that...\n. I think this thread is mixing issues, you can login to firebase using a plugin to get the oauth credentials and pass them through. Yes it is as neatly integrated in to angular fire, but there is a work around\n. @Lindstrom1989 @jgw96 This solution using ionic-native facebook plugin to get the accessToken, creates the credential and then successfully logs in using angularFire2\n  https://github.com/aaronksaunders/basicaf2\n. @davideast - I got this to work, but there are some issues in the typescript definition file for firebase...\nThis line throws errors even though the method is documented... I was forced to just ignore the whole typings with the declares hack\nlet creds = firebase.auth.FacebookAuthProvider.credential(_response.authResponse.accessToken)\nfull source...\n```\nimport {Component} from '@angular/core';\nimport {Platform, ionicBootstrap} from 'ionic-angular';\nimport {StatusBar} from 'ionic-native';\nimport {HomePage} from './pages/home/home';\nimport {Facebook} from 'ionic-native';\nimport {\n  FIREBASE_PROVIDERS, defaultFirebase,\n  AngularFire, firebaseAuthConfig, AuthProviders,\n  AuthMethods\n} from 'angularfire2';\ndeclare let firebase: any; // <== THERE IS AN ERROR IN THE .d.ts file\n@Component({\n  template: '',\n  providers: [\n    FIREBASE_PROVIDERS,\n    // Initialize Firebase app\n    defaultFirebase({}),\n    firebaseAuthConfig({})\n  ]\n})\nexport class MyApp {\n  rootPage: any = HomePage;\nconstructor(platform: Platform, public af: AngularFire) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      StatusBar.styleDefault();\n  Facebook.login(['email'])\n    .then((_response) => {\n      console.log(_response)\n\n      // IMPORTANT STEP !!\n      let creds = firebase.auth.FacebookAuthProvider.credential(_response.authResponse.accessToken)\n\n      this.af.auth.login(creds,\n        {\n          provider: AuthProviders.Facebook,\n          method: AuthMethods.OAuthToken,\n          remember: 'default',\n          scope: ['email'],\n        })\n        .then((success) => {\n          console.log(\"Firebase success: \" + JSON.stringify(success));\n          alert(JSON.stringify(success))\n        })\n        .catch((error) => {\n          console.log(\"Firebase failure: \" + JSON.stringify(error));\n          alert(JSON.stringify(error))\n        });\n\n    })\n    .catch((_error) => { console.log(_error) })\n});\n\n}\n}\nionicBootstrap(MyApp);\n```\n. @jeffbcross here is the repo.\nThe only \"issue\" is the typescript file definition is not correct for creating the credential object\nhttps://github.com/aaronksaunders/AngularFire2-Ionic2-Facebook\n. @thehashrocket even with that error, it will still work fine... here is a link to my repo - https://github.com/aaronksaunders/afwithngcli\n. without seeing your complete project configuration, showing error logs and\nconsole output can only do so much, sorry\n\nAaron K. Saunders\nCEO Clearly Innovative Inc.\naaron@clearlyinnovative.com\nwww.clearlyinnovative.com\n@aaronksaunders\nThis email message and any attachment(s) are for the sole use of the\nintended recipient(s) and may contain proprietary and/or confidential\ninformation which may be privileged or otherwise protected from disclosure.\nAny unauthorized review, use, disclosure or distribution is prohibited. If\nyou are not the intended recipient(s), please contact the sender by reply\nemail and destroy the original message and any copies of the message as\nwell as any attachment(s) to the original message.\nOn Sun, Jul 31, 2016 at 5:39 PM, Jason Shultz notifications@github.com\nwrote:\n\nnpm WARN deprecated lodash-node@2.4.1: This package has been discontinued in favor of lodash@^4.0.0.\nnpm WARN deprecated jade@0.26.3: Jade has been renamed to pug, please install the latest version of pug instead of jade\nnpm WARN deprecated to-iso-string@0.0.2: to-iso-string has been deprecated, use @segment/to-iso-string instead.\nnpm WARN deprecated tough-cookie@2.2.2: ReDoS vulnerability parsing Set-Cookie https://nodesecurity.io/advisories/130\nnpm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nnpm WARN deprecated graceful-fs@3.0.8: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\nnpm WARN deprecated minimatch@0.3.0: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\n\nfsevents@1.0.14 install /Users/jasonshultz/Projects/angular-analytics/node_modules/fsevents\nnode-pre-gyp install --fallback-to-build\n\n[fsevents] Success: \"/Users/jasonshultz/Projects/angular-analytics/node_modules/fsevents/lib/binding/Release/node-v47-darwin-x64/fse.node\" already installed\nPass --update-binary to reinstall or --build-from-source to recompile\n\nangular-analytics@0.0.0 postinstall /Users/jasonshultz/Projects/angular-analytics\ntypings install\n\ntypings ERR! message Unable to read typings for \"firebase3\". You should check the entry paths in \"firebase3.d.ts\" are up to date\ntypings ERR! caused by ENOENT: no such file or directory, open '/Users/jasonshultz/Projects/angular-analytics/node_modules/angularfire2/manual_typings/firebase3/firebase3.d.ts'\ntypings ERR! cwd /Users/jasonshultz/Projects/angular-analytics\ntypings ERR! system Darwin 16.0.0\ntypings ERR! command \"/usr/local/Cellar/node/5.10.1/bin/node\" \"/Users/jasonshultz/Projects/angular-analytics/node_modules/.bin/typings\" \"install\"\ntypings ERR! node -v v5.10.1\ntypings ERR! typings -v 1.3.1\ntypings ERR! If you need help, you may report this error at:\ntypings ERR!   https://github.com/typings/typings/issues\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\nnpm ERR! Darwin 16.0.0\nnpm ERR! argv \"/usr/local/Cellar/node/5.10.1/bin/node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! node v5.10.1\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! angular-analytics@0.0.0 postinstall: typings install\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the angular-analytics@0.0.0 postinstall script 'typings install'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the angular-analytics package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     typings install\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs angular-analytics\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls angular-analytics\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/jasonshultz/Projects/angular-analytics/npm-debug.log\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/401#issuecomment-236458291,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAgCmT4W2-quX8yD5MwNPJtR6HckQ5Amks5qbRX7gaJpZM4JY9zu\n.\n. \n",
    "lricoy": "Thanks @davideast I knew it was only a matter of time, just wanted to create the issue so we could follow along.\n. ",
    "danielcha": "Could this be related to: http://stackoverflow.com/questions/37060067/nested-observables-in-angular2-using-angularfire2-not-rendering-in-view/37060217\nOr is something else going on?\n. ",
    "aashirwadgupta": "yes, I didn't do the second step. Thanks it started working now.\n. Hi @kazkis\nYes I have enabled the anonymous authentication but the rules are still default to read and write true for all users. \nThis is how it looks now \n\n. Thanks a lot for pointing that out. \n. ",
    "rojagit": "is typings needed even for ionic2 ?? \n. I gave up on this crap until they straighten things out...half-baked products that only the super-experienced can understand how to integrate, absolute lack of proper documentation and no support whatsoever. Disparity like this is what drives one to tightly-integrated MS products and make Gates richer.\n. All that is very good, sturdynut, but like I said before, all the help we get with this triad is from forums, bloggers, and 'here try this, 'here try that'.\nNothing concrete as in documentation on how to integrate from the authors of these tools.\nIf they are not interested why would we be ? This is more like someone's playpen that something the industry could use, We dont have the time to dig into the code and come up with workarounds nor do we want others to.\n. @sturdynut Sorry bud, didnt mean  to sound rude, we of course appreciate what you guys in forums and blogs and OOS are doing, I was beseeching the developers/authors/evengelists of ionic/angular (& firebase) integration and all the other js tools being used to just come to terms on how to integrate one another if you wanted everyday developers to use them without having to dig thru piles and piles of code and loads and loads of trial error and incompatibilities. \nThere are blogs that exist that say hey use Ionic2 w Ang2 and FB3, no problem but its not even tested out.\n. Thanks, you too ! I have shelved it as a fall project for now, crossing my fingers :)\n. ",
    "Deimos620": "Hey guys , I am working with angularfire2 beta1 and it keeps getting this error. \"typings install firebase\" can not solve problem.\nWould you like to tell me how to solve this?\n. ",
    "albertJ32": "I tried installing firebase as global (ambient is deprecated apparently) but got the following error:\nAttempted to compile \"firebase\" as a global module, but it looks like an external module. You'll need to remove the global option to continue.\n. thanks @sturdynut updating my tsconfig.json did the trick! Although i still have \"cannot find name 'firebase' \" underlines in my component files they just dont show up when i run npm start now. To confirm is this startup script correct and do you have any other ideas why the underlines are there (my app is still working with firebase which is even weirder)?\n\"tsc && concurrently \\\"npm run tsc:w\\\" \\\"npm run lite\\\" \"\nthanks\n. Also @sturdynut adding each .ts file the to tsconfig.ts file manually is brittle why do you think that stops the 2307 error\n. @sturdynut yeah i'm not sure either, i'm going to move straight onto ionic2 which was the goal of learning angular2. From what i've heard the ionic team haven't sorted out the integration with firebase yet anyway so maybe focus on the other stuff till the bugs are worked out and they stop putting out rc's every 5 seconds! thanks for the help though\n. ",
    "sturdynut": "Hey @rojagit, @albertJ32 , @Deimos620:  \nTry this:\ntypings install dt~firebase --global --save\nNext, make sure this is in your tsconfig.json:\n\"files\": [\n        \"typings/index.d.ts\"\n    ]\nFrom @r-park's comment on this thread https://github.com/angular/angularfire2/issues/182\n. @rojagit - No one here has an obligation to serve up perfect code or documentation nor an obligation to reach out and share solutions like I just did (you're welcome).  This is an open source project.  If there's something you don't like, update the documentation and submit a PR.\nI apologize if that came off as blunt.  I understand how hard it is to work when the library you want to use isn't working, just good to remember people doing OS aren't getting paid and often times are under appreciated.\n. @rojagit - No worries.  I definitely understand.  I've been trying to get NativeScript, Angular 2 and Firebase 3 to play nice.  As soon as I get things going, another RC comes out and something, somewhere is inevitably broken.  It is frustrating...best of luck with your project!\n. @albertJ32  -  You should only need to update your tsconfig.ts from main.d.ts to index.d.ts, which loads up global/module typings like the firebase typings.  This was a change introduced with the typings library version 1.0.\nHere's my index.d.ts for reference:\n/// <reference path=\"globals/es6-promise/index.d.ts\" />\n/// <reference path=\"globals/firebase/index.d.ts\" />\nNot sure why you are getting the firebase warnings, but if it is working then the firebase global is there.  \nDid you try turning it off and then back on again?  jk... :)\n. ",
    "dmastag": "Hi @rojagit \nI am not affiliated with any of the products you mentioned, but I find your following comment a bit odd.\n\nThere are blogs that exist that say hey use Ionic2 w Ang2 and FB3, no problem but its not even tested out.\n\nConsidering that Ionic2, Angular2 and AngularFire2 are all still in Beta/Release Candidate, wouldn't that mean that this is indeed the stage where people who are enthusiastic about new technologies can try them out?\nAnd this comment right here:\n\nI gave up on this crap until they straighten things out...half-baked products that only the super-experienced can understand how to integrate, absolute lack of proper documentation and no support whatsoever. Disparity like this is what drives one to tightly-integrated MS products and make Gates richer.\n\nI understand your frustration also, which I am also feeling (haven't successfully integrated this into angular-cli beta11-webpack8) but please try to be nicer to the people out here.\n. @filoxo did not know you can install typings directly from the node_modules like that :+1: \n. @ksachdeva I am getting the following Error when doing that\nEXCEPTION: Error: Uncaught (in promise): You must include credentials to use this auth method.\nIs there anything I am missing ?\nFor the record, I have no problem if using the same token directly, using:\nfirebase.auth().signInWithCustomToken(token)\n. Could it be that I've setup the wrong provider?\n. I am getting this exception:\nEXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property 'providerId' of undefined\nI've put this into my constructor:\n```\n constructor(af: AngularFire) {\naf.auth.subscribe(auth => console.log(auth ));\naf.auth.login(localStorage.getItem('fbToken'), {\n  provider: AuthProviders.Custom,\n  method: AuthMethods.CustomToken,\n});\n\n}\n```\nAre you on Beta.2 also ?\n. @npradeeptha you either try the pull request #301 or you use firebase without angularfire for the authentication\n. Just by reading your explanation, I am leaning towards that this is a problem with Firebase. My reasoning is that I don't see why custom should not return providerData if all other types are returning it.\nLet me try to submit an issue in Firebase.\n. Seems like the new sdk is not on github or its just me that can't find it, so I submitted a Bug over here:\nhttps://firebase.google.com/support/contact/bugs-features/\n. @aaronksaunders Thanks for your script, it helped a lot\nThe only changed I did was to change\nlet creds = firebase.auth.FacebookAuthProvider.credential(_response.authResponse.accessToken)\nwith \nlet creds = firebase.auth.FacebookAuthProvider['credential'](_response.authResponse.accessToken)\nThat way you don't have to abandon the whole firebase typescript definition using\ndeclare let firebase: any;\n. @luiferjf use https://github.com/firebase/angularfire for Ionic1/AngularJS(1). Or you could try do the install method from #234 \nHere is the specific link\nhttps://github.com/angular/angularfire2/issues/234#issuecomment-229560239\n. Its already using firebase^3.0.3\nYou can check in the package.json file to be sure\nhttps://github.com/angular/angularfire2/blob/master/package.json\n. Would this work?\n```\nprivate index = 0;\nindices: FirebaseObjectObservable;\nconstructor(public af: AngularFire) {\n    this.indices = af.database.object('/indices');\n    this.indices.subscribe(snapshot => {\n        console.log('Snapshot type result: ' + snapshot[type]);\n        yourFunction(snapshot.requests);\n    });\n}\nyourFunction(index) {\n   /// your code\n   ...\n}\n```\n. Still not working for me so I am using the below for the moment\nimport { FIREBASE_PROVIDERS, defaultFirebase } from 'angularfire2';\n. Having the same problem when following the Guide. Problem happened after Step 2 when installing angularfire2. And injecting with\nimport { AngularFireModule } from 'angularfire2';\n. @gmanojisaac are you trying to say that it is working with those steps?\n@GitHubish I am on 1.0.0-beta.11-webpack.8 now. Still no luck. Tried again 2 times today.\n. @gmanojisaac are you trying to say that it is working with those steps?\n@GitHubish I am on 1.0.0-beta.11-webpack.8 now. Still no luck. Tried again 2 times today.\n. Had the Same problem on my Ionic App and had to revert to Beta.2.\nWhat Angular RC version are you using?\n. @kanishkatn you can run from the console\nnpm install -g typescript@2\n. Hi @lebsral, \nAre you using the angular-cli ?\n. @edoardoVD could you share how to add \nreference path=\"../firebase/firebase.d.ts\" /\ninto firebase2.d.ts ?\n. I think I got what you mean, so I'll have to add\n/// <reference path=\"../firebase/firebase.d.ts\"/>\ninto node_modules\\angularfire2\\angularfire2.d.ts\nTo get rid of all the\nCannot find namespace 'firebase'\n. Tried it out with a fresh Angular CLI (1.0.0-beta.14) and got it working by either adding \nimport * as firebase from 'firebase';\nor \n/// <reference path=\"../firebase/firebase.d.ts\"/>\non top of node_modules\\angularfire2\\angularfire2.d.ts\nThis seems much more a hack than a solution. I bet a better solution/fix is being worked on by the Dev team.\n. Well this merged Pull Request already fixes this issue.\nhttps://github.com/angular/angularfire2/pull/538\nHaven't tried it yet, but judging from the import in each ts file, this should have fixed this.\n. @k1ng440 I solved it by either adding\nimport * as firebase from 'firebase';\nor\n/// \non top of node_modules\\angularfire2\\angularfire2.d.ts\nAs mentioned over here ->\nhttps://github.com/angular/angularfire2/issues/486#issuecomment-247534422\nFor non-Windows users this should be solved by adding firebase into the types array of your tsconfig file.\n. @k1ng440 Try changing the angularfire2.d.ts file directly like I mentioned\n. I am seeing a trend where adding types is not solving the issue on Windows 10.\n@mukesh51 are you on Win 10 by any chance ?\n. I suggest you use an older angularfire2 beta version until Ionic2 moves to Angular2 Final. I would suggest:\n\"angularfire2\": \"2.0.0-beta.2\",\n\"firebase\": \"3.3.0\"\n. I signed it!\n. I signed it!\n. Thanks @shlomiassaf \nI got it working with your solution.\nQuestion would be, is this a temporary hack or something that I will always have to do on all of my angularfire projects in teh future?\n. Sure @stocks09 , I set it up like this:\nIn package.json, you have to add:\n\"config\": {\n    \"ionic_rollup\": \"./config/rollup.config.js\",\n    \"ionic_copy\": \"./config/copy.config.js\"\n  },\nAnd these are the actual files:\nhttps://gist.github.com/dmastag/c04d5a7eef8f230c69393f41b80c0500\nAs @jtushar53 said though, RC2 is using webpack by default though I prefer rollup since I like to torture myself \ud83d\ude04 \n. Good catch, didn't notice that the docs changed in july and db reference is not supported anymore \nhttps://github.com/angular/angularfire2/blob/dcfdacf1e6c36a2b1992186238e6830c5484ed15/docs/3-retrieving-data-as-lists.md\nPrevious one\nhttps://github.com/angular/angularfire2/blob/8d7dba9220b30837ee36e820afe767130b7d8cc3/docs/3-retrieving-data-as-lists.md\nIts just the way I have been using firebase since the beginning. Oh well, just gonna have to change all my references then.\nJulian\n. Its the least I could do after all the effort you guys are doing for us \ud83d\ude04 \n. ",
    "hiepxanh": "import * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\nworked!\n. import * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\nworked!\n. @mquentin  commented on Oct 31, 2016: this solution is elegant and very userful. import * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\nworked!\n. the same issue, I'm using universal with angularfire 2\n```\nrejection:\n   { [Error: The XMLHttpRequest compatibility library was not found.]\n     code: 'auth/internal-error',\n     message: 'The XMLHttpRequest compatibility library was not found.',\n```. hello, can I do something to help? \u270c\ufe0f . hello, any update on this?. so what should we do ? firebase is very important to me and without SSR to SEO, my angular 2 application is just a toys :(. wow, you deserve this \ud83e\udd47 \n I love that, finally, I can't wait to use this, thanks you for your initiative. That help me a lot and make my dream come true. I still didn't using any different database to only work with firebase . still looking forward to make my web go production \ud83d\udc4d , event I have dedicated server, when calling to firebase, my data still not render with universal. I can't SEO. Question 1: do anyone know when is this proposal intend to release ?\nQuestion 2: is that work with angular-redux/store too ??\nI need time to prepare to learn redux.. hello, is that problem resolved and we just only need update @jtomek solution to docs?. Yahoo! one more problem resolved. Can we close that issue @iclems  \ud83d\ude04 . look like, if you just need data, you have to use \"valueChanges\", but if you need update or delete item in list, you have to subscribe on \"snapshotChanges\" object, am I right ?!. please, follow the instructions sir, you need provide more information for us to resolve your problem, if you not, we cannot detect the true reason of your problem.\n\"IMPORTANT! YOU MUST FOLLOW THESE INSTRUCTIONS OR YOUR ISSUE WILL BE CLOSED.\". good to know you can do it, have a nice day. thank you for that. you should search for transaction issue before open this, there is an answer here and I tried, it work: \nhope that help :)\nlet donuts = this.db.object(`DONUTS`)\ndonuts.snapshotChanges()\n.subscribe( action => action.payload.ref.onDisconnect().set(false));\nrtdb Lists document sample still used $ref. wow that good \ud83d\udc4d . AngularFire 5.0 is a refactor of the AngularFireDatabase module. It removes theFirebaseObjectObservable\nyou should change from FirebaseObjectObservable to AngularFireObject.\nonDisconnect error answer here replied. haha very interesting, but is that issue is no more issue? can we close? \ud83e\udd23  @guilhermehto . Yahoo @FrozenPandaz is coming,\n what about ZoneMacroTaskWrapper sir? is that will be use?\nwith transferState, I still not understand, can you explain what will you do with that integration, sir?\n  . @Toxicable  agree with you, sir.  that's so cleave, will we doing some implement ZoneMacroTaskWrapper within like ZoneMacroTaskConnection in your example and delegate with first() emit?\n  . ```\nexport class ZoneClientBackend extends\n    ZoneMacroTaskWrapper, HttpEvent> implements HttpBackend {\n  constructor(private backend: HttpBackend) { super(); }\nhandle(request: HttpRequest): Observable> { return this.wrap(request); }\nprotected delegate(request: HttpRequest): Observable> {\n    return this.backend.handle(request);\n  }\n}\n``\nI have a question, is that I just extendsZoneMacroTaskWrapper, usingthis.wrap()forfirebase obserableand how todelegate()this? in this case, you are usingHttpBackend, is that firebase can use this?\n@Toxicable Sorry sir, It's too difficult for me to understands. can you help me with some instruction and let me try this? I really need that feature to make firebase to working in production.\n  . wow, really expect this WIP pull request. Looking for angular universal like the series \"Game of thrones\" of HBO.  I'm so exciting \ud83d\udc4d . @Kamshak hello, thanks for your instruction. I have 2 question:\n1) why do you duplicatethis.zone.runOutsideAngular? \n2) is thatZone.current.scheduleMacroTaskmean: \"angular, stop rendering, and wait my friendly function\"task.invoke()` mean: \"hey angular, you can continue render with value come from firebase.\"\n3) if I have \n\nmyAPI$.first().subscribe((data) => this.items = data)\n\nhow can I mix that with this.zone.runOutsideAngular(() => task.invoke()), () => this.zone.runOutsideAngular(() => task.invoke()) ? where should I place that code? before or wrap this.items = data? can you make an example?\nThank you so much for your help. @Kamshak it's hard for me to understand without context, can you make a simple gist for me? please... \u270c\ufe0f . wow, it looks so really nice! thank you so much, you should make some post on medium or pull request with that. it so amazing \ud83d\udc4d is that any side effect or anything to other subscription or life cycle check?. @hrangel  very soon, sir. He almost done you can test some on here:\nworking example up FYI\ncurl https://onsnapshot-flex.appspot.com\ncurl https://onsnapshot-flex.appspot.com/articles/kidpCvq4bYVf5ZYVO24Y. work great, love you @davideast \u270c\ufe0f . hello, is there something new?  . i don't know why you have problem, I was able to upload successfully too:  \n accessGallery(sourceType:number) {\n  // this.accessGallery(0) for photo library\n  // this.accessGallery(1) for camera\n\nconst options: CameraOptions = {\n  quality: 100,\n  destinationType: this.camera.DestinationType.DATA_URL,\n  encodingType: this.camera.EncodingType.JPEG,\n  mediaType: this.camera.MediaType.PICTURE,\n  correctOrientation: true,\n  sourceType:sourceType,\n}\nthis.camera.getPicture(options).then((imageData) => {\n  // imageData is either a base64 encoded string or a file URI\n  // If it's base64:\n  this.base64Image = 'data:image/jpeg;base64,' + imageData;\n  this.images.push(this.base64Image);\n  this.upload(this.base64Image);\n}, (err) => {\n // Handle error\n});\n}\n\n\n upload(event) {\n// way 2\nthis.afStorage.ref(`products/${Date.now()}.jpeg`).putString(event, 'data_url')\n.then(url => console.log(\"upload success\",url))\n}\n\nthen you can access camera or get image from library and upload it\n<button (click)=\"accessGallery(0)\">select image then upload</button>\n<button (click)=\"accessGallery(1)\">capture image then upload</button>\n\n\n`. thanks for your work, I'm looking to this, what was both of you did so amazing!!! \ud83d\udcaf . hello sir, is that any experiment api that I can test? I love to do something to help you :). @hlesesne is that blog link help you?. you need to make a screenshot and provide your code, this error above is common.. @MauricioMarques3809 hello, after download your code, my code automatic fectch new platforms. I run with fresh code and it show better log.\n\nlook like problem is not firebase, it is your facebook plugin, you should add 'fb_app_id' and 'fb_app_name'.\ndont know why it not log detail for you. maybe you should remove 'platforms' and 'plugins' folder and rerun 'ionic cordova run android'.\nhope to help you.\n(maybe you can close this issue and open new issue in cordova-plugin-facebook4 github?) \ud83e\udd42 . you are welcome, good to know that \ud83d\udc4d maybe you can close this issue?. Hello @Schoko19961, can you set an console log in changeState() and see that function was call?\n1) maybe changeState() not call with new response\n2) changeState() was call with new response but UI not update\nin the the case 2, you can use Change Detection to force angular to update view:\n```\n constructor(private ref: ChangeDetectorRef, private afAuth: AngularFireAuth) {}\npublic signIn() {\n  this.afAuth.auth.signInWithPopup(new  firebase.auth.GoogleAuthProvider())\n    .then(res  =>  {\n      this.changeState(res);\n    });\n};\nprivate changeState(newStat) {\n  console.log('is that function work properly??',newStat);\n  this.appStat.next(newStat);\n  this.ref.detectChanges();\n}\n```\nyou can read more at here angular Change Detector Document\nAngular Change Detection Explained. I have the same problem, looking for solution of this scenario :) if we can fix this, it will be completed eco system for angular with minimum cost. what about angular state transfer ?. @davideast do you have any suggestion sir?. hello, maybe the error come from your app.module.ts did you config yet? \nwhich step in this document are you get trouble? angularfire for ionic tutorial\ncan you provide a screenshoot?. hello, may I can help you? please, provide your minimum of project that I can analyze the error?. hello, any update on this?. can you explain current situation, as I know, RTDB is working with auth but firestore doesn't. \nWe need a way to implement authentication for firestore ? or we need a way (without library) to set an auth token?\nwhy current firebasejs library cannot resolve it?. first: \nI already login but still cannot add note.\n\nsecond:\nCan we make any implementation on firebasejs sdk?. Ok I see. @jamesdaniels  should we make that update sir? What your opinion?\nI don't know how it will impact. But i believe, If I want update, or delete, I will call action, manually ( it cold) and then my service should make an update, or delete immediately but not have to subscribe or doing anything more. \nfor example: an delete action. I will set an button, that delete contact. Only and Only I click that red delete button, and once it click, I need it delete now, so why we need turn it become cold?\nSo I believe that action like update or delete, which should be hot observables, should just be an promise.\nWhat is your opinion? \ud83d\ude38 \n@jdjuan . that nice, can you close your issue?. wow, thank you for this. \ud83e\udd47\n\ud83d\udc4d \ni will install and test with my project. should we run \n ng update\n for the angularfire2 project \ud83d\ude03 . ionic 4 already release. I'm using ionic 4 with lastest firebase and angularfire2. everything is working. Try remove your node_modules.. show your package.json. \ninstall plugin then\n\nand many plugin required.\nwell sir, I already clone your example repository, look like login with google require few more plugin. I already install:\n1) cordova-universal-links-plugin\n2) cordova-plugin-buildinfo\n3) cordova-plugin-browsertab\n4) cordova-plugin-inappbrowser\nthen I got this image\n\nafter that, I follow that isssue and go to stackoverflow Firebase Google authentication error in ionic3\n\n1) I fix widget id in config.xml at project root from 'io.ionic.starter' to 'com.camthuong.camthuong' (this is my android project), and edit firebase config to mine. \n2) Then from stackoverflow I follow this link [Authenticate Using OAuth Providers with Cordova]\n(https://firebase.google.com/docs/auth/web/cordova) and setup firebase dynamic link as they said.\nlook\n3) there is and error Error: OAuth on Cordova Android, get auth/redirect-cancelled-by-user\nwell, that look like you are stopping at this step, just like me. I missing add this line to 'config.xml'. Let add this:\n```\n<universal-links>\n    <host name=\"zm4e4.app.goo.gl\" scheme=\"https\" />\n    <host name=\"routing-aadd4.firebaseapp.com\" scheme=\"https\">\n        <path url=\"/__/auth/callback\" />\n    </host>\n</universal-links>\n<preference name=\"AndroidLaunchMode\" value=\"singleTask\" />\n```\n\n4) i got that error TypeError: Cannot read property 'manifest' of undefined, ops follow this link: Cannot read property 'manifest' of undefined I need to uninstall Universal Links Plugin and add it again with: ionic cordova plugin add https://github.com/walteram/cordova-universal-links-plugin\n5) then finally i successful login! completed\n\n. can you @fjoalland follow this instruction I wrote in here  and give me some comment, can you suggest for me anything can I update? I would love to improve it before make a PR. can you help me?\n. standby @fjoalland I'm making some new test and notice you. just a few day. let follow my step, I will make an PR soon:\nSTEP 1: install this plugin:\n1) ionic cordova plugin add cordova-universal-links-plugin\n2) ionic cordova plugin add cordova-plugin-buildinfo\n3) ionic cordova plugin add cordova-plugin-browsertab\n4) ionic cordova plugin add cordova-plugin-inappbrowser\n5) ionic cordova plugin add cordova-plugin-customurlscheme (for ios)\nSTEP 2: Add Firebase to your Ionic\nSTEP 2.1:  [setup firebase to angular project] \n  (https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md)\nSTEP 2.2: To set up an Android app, go to Firebase Console then \n  Click Add Firebase to your Android app and follow the setup steps.\nSTEP 3: Set up Firebase Authentication for Cordova ( sumary from firebase instruction)\nSTEP 3.1: In the Firebase console, open the Dynamic Links section at bottom left panel, setup by they instruction\nSTEP 3.2: add this to config.xml at root level of project:\n<universal-links>\n        <!-- this is dynamic link created in firebase -->\n        <host name=\"zm4e4.app.goo.gl\" scheme=\"https\" />\n        <!-- this is your firebase app link -->\n        <host name=\"routing-aadd4.firebaseapp.com\" scheme=\"https\">\n            <path url=\"/__/auth/callback\" />\n        </host>\n    </universal-links>\n    <!-- for android -->\n    <preference name=\"AndroidLaunchMode\" value=\"singleTask\" />\nSTEP 3.3: make sure your <widget id=\"com.yourandroid.id\" ... > the same with android app's id you \n  added in firebase at STEP 2.2.\nSTEP 4: add login code:\nat login.service.ts add this function: \n```\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\nimport AuthProvider = firebase.auth.AuthProvider;\nexport class AuthService {\n        private user: firebase.User;\n    constructor(public afAuth: AngularFireAuth) {\n        afAuth.authState.subscribe(user => {\n            this.user = user;\n        });\n    }\n    signInWithGoogle() {\n    console.log('Sign in with google');\n    return this.oauthSignIn(new firebase.auth.GoogleAuthProvider());\n}\n\n    private oauthSignIn(provider: AuthProvider) {\n    if (!(<any>window).cordova) {\n        return this.afAuth.auth.signInWithPopup(provider);\n    } else {\n        return this.afAuth.auth.signInWithRedirect(provider)\n        .then(() => {\n            return this.afAuth.auth.getRedirectResult().then( result => {\n                // This gives you a Google Access Token.\n                // You can use it to access the Google API.\n                let token = result.credential.accessToken;\n                // The signed-in user info.\n                let user = result.user;\n                console.log(token, user);\n            }).catch(function(error) {\n                // Handle Errors here.\n                alert(error.message);\n            });\n        });\n    }\n}\n\n}\n```\nProblem 1:\nif you got error when build code like this:\nUnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): TypeError: Cannot read property 'manifest' of undefined\nPlease, using this fix from issue:\n\nMaking this change in 'cordova-universal-links-plugin/hooks/lib/android/manifestWriter.js' fixed this issue for me:\nb2c5784#diff-d5955d9f4d88b42e5efd7a3385be79e9. can you follow this step and make some comment? I will improve it and make an documentation about this. Thanks for your support. @pookdeveloper . is that my tutorial good? can you login? if yes, maybe can you close the issue?\n. thank you, but can I ask you. Is that tutorial missing anything? should I add anything before creating a tutorial on angularfire2 docs? @pookdeveloper . @pookdeveloper  yes, I will update angularfire2 in the list, anything else? can you show me?. thank you \u2764\ufe0f . one last question, what kind of animal in your avatar ? it look so cute \ud83d\ude04 @pookdeveloper . \nthat not an octopus, octopus is something like this, are you trolling me \ud83d\ude2d \n\n. Yes, I'm so happy, I will change all my background with that red panda \ud83d\ude04 . please, provide your package.json, maybe you missing something because we have some problem with rxjs upgrade. yes, that exactly what I'm going to talk with you @cagline . but I want to make sure that you missing rxjs-compat. should we left this repository open then make an update in angularfire2 to includes rxjs-compat or close it and we update directly our library to rxjs 6 without includes rxjs-compat? @davideast . yeah, that right \ud83d\ude04 maybe @jamesdaniels  can make an small update for this issue. just wait for update and npm install angularfire2@latest --save. remove platformsand plugins and node_modules then install it again. what your @angular version? is that 6?. why dont you upgrade to angularfire2  5.0.0-rc.9 ???. why it take too long to approve this wonderful PR . thank you for your answer, sorry for my impatience. I'm very happy to hear that. \ud83d\ude04 I'm your huge fan at https://davidea.st/ your post is really great and your website is very fast \u2764\ufe0f \n. wew, it work again with angular 6, firebase.5.1.0 and angularfire rc 11. You have to remove node_modules before npm install firebase angularfire2 --save. I have the same error until have to delete node_modules/firebase and node_modules/angularfire2 with package.lock. You should check the package.json of the library in node_modules. It wont update event you install new one.. \nI have no problem with angular 6 and angularfire2@rc-10, everything is perfect. I can't reproduce your problem.\nCan someone provide a minimum repo with error or just drop package.lock.json or yarn.lock.json ?\n\nAfter that, can you try delete package.lock.json and yarn.lock.json then remove node_modules then reinstall everything ? maybe it will work.\n. did you not event search your issue? fisrt google search result for 'Object(...) is not a function'. please, update your code, install rxjs 5.5. is that work? can you close this issue?. version conflict was resolved with firebase@5.1.0 and angularfire2 rc 11. Do you still have problem?.  @mohamedshameer moha good to know that!\n@rtm do you still have that problem?. do not upgrade to firebase 5 withangularfire2 rc7below. I have to remove node_modules and reinstall angularfirerc10 with firebase 5.0.4, having some error but that problem dissapear. everything work normal with angular 6 ,  firebase 5.1.0 and angularfire2 rc 11. @ArthurianX Art haha, good to know that.\n@naveen-me is it work now sir?. @cstodor you should upgrade your firebase to new version.\n@naveen-me can we close this issue?. update your project to angular 6 ,  firebase 5.1.0 and angularfire2 rc 11 @rica01 ri\n. wew, can successful build angular 6.0.8 with angularfire2 5.0-rc.10 on Mac OS\nrepository . @jaswanth1998 hello, I just got that error too, if you update project withangularfire2@5.0.0-rc.11 and firebase^5.0.3 with small fix at here if you got type error. That can help your issue. do you still have that problem ? . you can check this is mine facebook authentication. it working on mobile my method or try here . aw, the redirect work correctly, I dont have any problem with your code but\n\n\nWe could not log you in: You can't log in to this app or website because you do not meet the requirements for country, age or other criteria.\n\ni'm from Viet Nam, are you block my country?\ndid you add facebook key? \n\n. both login successful with me ?. Yes sir! thank you for showing my fault. I'm on my way . thank you @Chan4077 @davideast for guiding me to present the article better. \b@davideast I was so pleased to receive your encouragement.  Would you mind to help me to check my new update ?. @davideast  I already updated sir, can you check on my commit? . you're welcome. I'm happy to help. did you miss this ?. the behavior make me confuse too, angularfire 2 actions very weird, I console log it and the data change like this: \nafter add 1 item, it got twice response !!!!!!!!!!\n1-1) 1 items\n1-2) 12 items\nthen I add again more:\n2-1) it show 13 items\n2-2) then 25 items\n\n```\n//Users/Shared/project/angularfirestorecollection/src/app/services/title.service.ts\n constructor(private firebase: AngularFirestore) {\n    this.titlesCollection = this.firebase.collection('titles', ref => ref.orderBy('title_en'));\nthis.titles = this.titlesCollection.snapshotChanges().pipe(\n  map(actions => actions.map(a => {\n    const data = a.payload.doc.data() as Title;\n    const id = a.payload.doc.id;\n    return { id, ...data }\n  })),\n  tap(data => console.log('data',data))\n);\n\n}\ngetAll() {\n    return this.titles;\n  }\nthis.titleList$ = this.titleService.getAll().pipe(tap(data => console.log('at frontend',data)));\n``\n[clone repo here](https://github.com/hiepxanh/weird-angularfire)\n[stackblitz here](stackblitz.com/github/hiepxanh/weird-angularfire) but It cannot run because some error that I'm not get it when running at local\n![screen shot 2018-06-14 at 8 53 53 am](https://user-images.githubusercontent.com/16970990/41387335-950627ba-6fb0-11e8-8a05-d6855833be98.png)\n. can you check [this error](https://github.com/angular/angularfire2/issues/1728) out sir ? maybe we can make an small update for this error in 5.0-RC-11 too. the firebase make some update and that logger tell me to update code becauseFirestore (5.0.4)have breaking changes. Is that the problem for that issue above?\n. please follow the issue template, we cannot help you with out any code, picture, minimum repository.npm install --save rxjs-compat` can help you?. @isurendrasingh  thank you for showing us that problem. I just made an PR for this issue . I think that did you check the following step here ? install angular cli did you resolved your problem?. is it work @FergusZhou ?. can you show your firebase console, I believe that your problem is. Your bucket not public for reading. You should change it like me @FergusZhou Fer\n\n. yeah, good to know that. Can you show us how can you catch that error? I'm facing that too.  Maybe you can help me and someone else having the same problem ?  @FergusZhou . I believe you must install  npm install rxjs@6 rxjs-compat@6 --save @desainr de @cweblogix can both of you try it?\n . hello @cweblogix is everything alright? can you close your issue?. can you check this issue ? image issue. Did you open security rules on firebase console?. Hi @amgoun,\nI believe that David East have wonderful post about this. I copy a small code from his blog: \n``` ts\nupload(event) {\n  // create a random id\n  const randomId = Math.random().toString(36).substring(2);\n  // create a reference to the storage bucket location\n  this.ref = this.afStorage.ref(randomId);\n  // the put method creates an AngularFireUploadTask\n  // and kicks off the upload\n  this.task = this.ref.put(event.target.files[0]).then((result) => {\n    // do you code after upload here\n  })\n}\nsimpleUpload(event) {\n  this.afStorage.upload('/upload/to/this-path', event.target.files[0]).then((result) => {\n    // do you code after upload here\n  })\n}\n```. yeah man, can you close your issue?. can you provide a minimum repository?. how do you logout?. unlimited empty user objects => your router is looping. Let's take a look in my code: \nts\ncanActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean {\n      return this.afAuth.authState\n      .filter( authState => {\n        if (!authState || authState == null) {\n          this.router.navigate(['/login']);\n          return false\n        }\n        return true;\n      })\n      .map(authState => authState.providerData[0].providerId)\n      .map(provider => {\n        switch (provider) {\n          case \"password\":\n            return true;\n          default:\n            this.router.navigate(['/login']);\n            return false;\n        }\n      })\n  }. yeah, good to know that. . @jomendez  please click close issue button. I'm sorry, I can help you if you pate a mess of code like this. What is exactly problem?. hello, can you follow the issue template. how can I reproduce your error? which version of firebase are you using?  can you provide a minimum of repository that we can review it?. remove your node_modules then try to run npm test again. yeah, forgot it, I build successful on Mac. it must be Window problem. I believe that you should ask this question on stackoverflow, this place only resolve the bug of angularfire2.\n\brewrite your question, I do not understand what is your situation,  then post the question on stackoverflow and pate link here I'll answer on that . hello,I don't what exactly problem do you have.\nIf do you still have your problem? please describe your situation. Follow our issue template. \nIf not, please close your issue. . Hi everyone, I just find out that a little different here: array-contains and array_contains\n\nshould we update this for consistance @davideast  . I love this. I think that is great. please, upgrade your angularfire to 5.0-rc11 and firebase 5.0.4 NgZone.isInAngularZone is not ready on old version. which version angular and firebase are you using? please follow the issue template. which version of angularfire2? can you provide minimum repository can reproduce the error. minimum repository: meaning that you have to create an example repository that includes your code can reproduce your error, then upload to github, so I can see your error. or just simple upload your project that have the error for me to check.\nby the way, angularfire is now 5.0-rc11 with firebase 5.0... If you using angularfire2 4.0 it not compatibility and will be error. please, may you can open stackoverflow issue? I don't think this place is suitable for this type of question. You should only report about angularfire2 error or bug itself.. please, may you can open stackoverflow issue? I don't think this place is suitable for this type of question. You should only report about angularfire2 error or bug itself. \nby the way, you have duplicate issue. wow, that correct \ud83d\udde1  \u270c\ufe0f \n@aligassan can we close that issue?. you should add redirect url in facebook app config too. really? can you remove node_modules and run npm install again?. hello,is every thing work ? @alanjo4 . yeah, congratulation! I already have that problem too. nice to know that you have resolved it. Can we close this issue? @alanjo4 . thank for your feedback, it very nice and clear, we should update a little bit. . \nnpm install firebase @angular/fire --save dont you see that?. your npm throw that error too :\nnpm WARN deprecated angularfire2@5.1.1: AngularFire has moved, we're now @angular/fire. ",
    "nikvarma": "C:\\movies>typings install --save --ambient firebase\ntypings ERR! deprecated The \"ambient\" flag is deprecated. Please use \"global\" instead\nC:\\movies>typings install --save --global firebase\ntypings ERR! message Attempted to compile \"firebase\" as a global module, but it looks like an external module. You'll need to remove the global option to continue.\ntypings ERR! cwd C:\\movies\ntypings ERR! system Windows_NT 10.0.14393\ntypings ERR! command \"C:\\Program Files\\nodejs\\node.exe\" \ntypings ERR! node -v v6.7.0\ntypings ERR! typings -v 1.4.0\ntypings ERR! If you need help, you may report this error at:\ntypings ERR!   https://github.com/typings/typings/issues\nC:\\inetpub\\wwwroot\\movies>typings install --save firebase\nfirebase@3.0.5\n`-- es6-promise\n. ",
    "FlavioMarquesInf": "$ npm install angularfire2 firebase --save\nand works \ud83d\ude04 . ",
    "nshiva": "Thanks @FlavioMarquesInf This worked.. ",
    "gayoba": "ERROR in C:/Users/jing/Desktop/CIT305/ContactList/node_modules/@firebase/auth-types/index.d.ts (18,39): Cannot find module '@firebase/util'.\nERROR in C:/Users/jing/Desktop/CIT305/ContactList/node_modules/@firebase/messaging-types/index.d.ts (18,39): Cannot find module '@firebase/util'.\nERROR in C:/Users/jing/Desktop/CIT305/ContactList/node_modules/@firebase/storage-types/index.d.ts (18,39): Cannot find module '@firebase/util'.\nwebpack: Failed to compile.\nhelpmeplease. ",
    "ian-a-hickey": "Is there a work around for this issue? \n. Thanks for the update @davideast.\n. ",
    "AionDev": "Hey David, first congratulations for building this awesome library!! I just started to use it and is great!\nI see that this issue has been closed. This means it was fixed? \nIf so, how come i still have the same problem when using push? I'm using \"angularfire2\": \"^2.0.0-beta.3\" and \"firebase\": \"^3.2.1\"\nOr this problem is because i'm using angular rc4 and not rc3 ?\nIf this is not fixed yet and will not be fixed quickly - it's a good ideea to use 2 different observables linked to the same database source? \nI know it's repetitive but seems to work. For example:\n```\nthis.getMessages = this.fb.database.list('messages', { // query here}); // used only for rendering + dynamic queering\nthis.saveMessages = this.fb.database.list('/messages')  // no query,\nthis,saveMessages.push(data) // this works now - i can save the data.\n```\nOther than being repetitive is there a problem using this pattern until this issue is rely fixed? Thank's so much for your time:)\n. I tried every solution, nothing worked except this:\nFirst you should know that I have an Angular 2.0 CLI project. - > is the final release, no RC bullshit, - with webpack.\n Only 2 files are available for configuration now: tsconfig.json and typings.json - you _don't touch any of them_. In tsconfig.json you shoud have this: \n\n\"typeRoots\": [\n      \"../node_modules/@types\" \n    ]\n\nAs you can see, the types are in @types folder form node_modules.  What we need to do: \n1.  \ud83d\udc49  Create a firebase folder inside the @types folder.\n2.  \ud83d\udc49  Inside firebase folder create a file called: index.d.ts\n3.   \ud83d\udc49 Paste the content from this url inside the index file : https://gist.githubusercontent.com/cdcarson/28399c50b02bf6c507fbf5b7b30daa31/raw/fa089d231ca4253d4715f8161efc6af74c972dfa/firebase-sdk-3-typings.d.ts - many thanks to @joaogarin :) !!\nI guess this is the standard way to add typings now.. you can see that it's the same for jasmine  - which is added automatically by the CLI.\nI can't belive i lost half a day behind this. Works now :)\n. ",
    "matt-erhart": "@AIon-Gbbe does this break | async for you?\n. Can I get a link to current seed project for plunkr/fiddle/codepen? I can demonstrate in a few lines of code. \nIt's just *ngfor=\"item of items\" | asyc with preserve snap shot on items doesn't work. Remove preserve snap shot and it works. This was rc3, af2 beta2.\n. Switching to a new issue.\n. Does the plnkr still work for you? I get a (index):19 Error: TypeError: Cannot read property 'FacebookAuthProvider' of undefined error. \n. ",
    "dcunited08": "@rosslavery Thank you for the assistance.\n. Looks like there is a WIP PR for it: #200 \n. ",
    "redian": "You are welcome @davideast \ud83d\udc4d \n. Hi @davideast, will totally do that going forwards.\nThanks\nR\n. ",
    "KyDenZ": "OK thankyou,\nIt remains for me to succeed has to run the project on Ionic 2 .\nI have module errors, or i have a projet empty..\n. ",
    "paulogr": "But @davideast, in a case of a chat messages grouped by date?\nI structured my data like below:\n[\n  {'2016-06-25': [ { 'text':'message1' }, { 'text':'message2' } ]},\n  {'2016-06-26': [ { 'text':'message3' }, { 'text':'message4' } ]},\n  {'2016-06-27': [ { 'text':'message5' }, { 'text':'message6' } ]},\n]\nSo I have a nested list inside each date node and when I use:\nthis.af.database.list('/talks/<user_id>/messages')\nI ended with the situation described.\nWhat is the best approach to solve this?\nThank you!\n. Save my day !\n. That said, I'm gonna close this issue.\nThank you.\n. I have the exactly the same problem.\nI did generate my app using angular-cli.webpack.\n. It works for me when I added the \"firebase\" on \"types\" section of tsconfig.json\n\"types\": [\n   \"jasmine\",\n   \"firebase\"\n]\nDo not need to upgrade to typescript@2.0.0, I'm using 1.8.10.\nIs this a good solution?\nThanks!\n. Have same problem here, html pages never render when using AngularFire. @davideast any update?. I was able to resolve the usage of angularfire2 on server side creating and injecting a \"stub\" version of AngularFireDatabase that uses the firebase rest api. As @davideast said the problem of timeouts or never render templates is the websocket that never finish and angular do not knows when finish rendering.\nI didn't even include the angularfire modules on server side.\nHope it helps.. ",
    "smkamranqadri": "this.sizeSubject.next()\nthis will be called when you want to change the equalTo text, liking filter data from server.\n. Well thanks a lot for the solution.\n. ",
    "jaruesink": "haha early bird gets the worm\n. ",
    "ghost": "This library doesn't seem to work with the version 3.0 of firebase: \nError message saying Firebase isn't a Constructor, etc.\nBut the firebase 2.x version is still working perfectly with nG 1.X and angularfire 1.x\nShould be the same for this version of angularfire and nG 2.\nBy the way, Google's deprecation policy is pretty friendly generally so I wouldn't be too scary about this.\n. Any 2.x.x should work I guess, this is the latest:\nhttps://cdn.firebase.com/js/client/2.3.2/firebase.js\nBut if you're starting an app right now, you may want to wait for a release that works with the 3.0 version of firebase. The JS API isn't finished at the moment, I believe.\nSo a stable firebase 3.0 + angularFire + angular 2.x might not be available before some time.\n. Awesome !\n. Yeah the console doesn't change anything, it's the version of the SDK that matter.\n. Hey @choopage,\nI use database.object() when I'm working on one single object. \nLet's say you have a blog and it has numerous posts that you edit via a form:\ndatabase.list() would be a good fit to enumerate the blog posts into a list via *ngFor. \ndatabase.object() would be better to edit each individual object (depending on what your UX goals are).\nIf my edit form is on another route and I want to keep things simple, I can pass an object's key from the database.list() via routeParams into the editComponent and only have the editComponent work on one specific object. In some of my development, this structure has made the most sense in terms of separating concerns (listing as opposed to editing for example).\nThere may be other times when you want to edit many items at once like you would on a more tabular data (say a spreadsheet style app). This will be where you'll leverage the power of database.list() over database.object() as it can manipulate items in its list without the extra overhead of a FirebaseObjectObservable in addition to the already present FirebaseListObservable.\nThis is just a simple use case, I'm sure someone else can chime in with some more sophisticated examples.\n. You have: \nconstructor(private _routeparams: RouteParams, af: AngularFire ) {\n    this.post = af.database.object('/posts/'+this._routeparams.get('key'));\n    //this.post.subscribe(snapshot => console.log(snapshot.title)); \n  }\nPerhaps try this:\n```\nimport { Routes, RouteSegment, ROUTER_DIRECTIVES } from '@angular/router';\nconstructor(af: AngularFire, routeSeg: RouteSegment) {\n    this.postId = routeSeg.getParam('key');\n    this.post = af.database.object('/posts/'+this.postId);\n }\n```\n. Hmm, there are some oddities in your code that seem to be different than the default angular-cli structure. \nFor example, you declare your routes via: \nnew Route({path: '/posts/:key', component: SinglePost, name: 'SinglePost'})\nrather than something like:\n@Routes([\n  { path: '/posts/:key', component: SinglePost, name: 'SinglePost' }\n])\nAre you using angular-cli to scaffold your project? This will get you the latest version of the router and such. Generally isSkipSelf happens with barrel importing in the wrong order or trying to call multiple routerOutlet directives and stuff. If you're using a slightly older version of angular2, there might even be a different (and deprecated) router altogether that you're using. There were a few syntax changes in the past weeks that are vital to get everything working properly.\nIs there anyway you can setup a codepen or similar to see the full extent of your code structure?\n. Can i get just server timestamp string . order by timestamp not working  , \nI have a field \"lastUpdated\" in \"chatroom => $chatroomId => lastUpdated\"\ni am using \"firebase.database.ServerValue.TIMESTAMP\" in my lastUpdated , But when i use this query\nthis.af.database.list(\"/chatRooms\", {\n            query:{\n                orderByChild : \"lastUpdated\"\n            }\n        }).subscribe((chatRooms) => {\n            console.log(chatRooms);\n        });\nThe result doesn't comes according to timestamp , neither asc nor desc.. I am using the Database and Storage API without any authentification. I also received the warning that my domain name was not authorized for OAuth operations. I added my domain name in the 'Auth section' and voila it works pretty without any warnings.\nError message was:\n[ 0.515s] [firebase-auth] Info: The current domain is not authorized for OAuth operations. This will prevent signInWithPopup, signInWithRedirect, linkWithPopup and linkWithRedirect from working. Add your domain to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.\n. hey @jeffbcross I see that #312 has been merged with the master branch, how would I reflect these changes in my system? I have been running\nnpm install angularfire2 firebase --save\nbut I still get the Unmet Peer Dependency \n. @all - updated > Expected release for ionic beta12 this week that will fix this issue\n. Okay @davideast . up,\nplase help us. Just migrated my app (auth + database) and it works like a charm! Well done! I was a bit behind with my firebase dependency (3.5 ish) so had to fix some api changes for auth but it was easily fixed. Have you looked at BehaviorSubject instead of Subject ?. @mohitook  A BehaviorSubject allows you to \"prepare\" an initial value that will be emmited only when there is an effective subscription to this BehaviorSubject. So, even if the subscription happens lately, the value is not lost.\nThen, you can classically emit a new value with the BehaviorSubject using its next() method.. @Sun3 You must use this only for repo issues for question please use stackoverflow,\nstill to give you an idea please review below:\n```\nthis.contacts = af.database.list('/contacts', { preserveSnapshot: true });\nthis.contacts\n  .subscribe(snapshots => {\n//let mycontacts = [];\nsnapshots.forEach(snapshot => {\n  //console.log(snapshot.key)\n  //console.log(snapshot.val())\n\n}\n//this.mycontacts.push(snapshot.key);\n});\n. @amartanius - Please follow this [documentation](https://github.com/angular/angularfire2/blob/master/docs/version-4-upgrade.md) on v4 upgrade, you may raise such question first at stack overflow as this is not a repo bug.. @markgoho - Adding AngularFireAuthModule to Imports throws error. Please try yourself..\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nexport const firebaseConfig = {\n};\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule, // imports firebase/database, only needed for database features\n    AngularFireAuthModule // imports firebase/auth, only needed for auth features\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n```. After import as below:\nimports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule, // imports firebase/database, only needed for database features\n    AngularFireAuthModule // imports firebase/auth, only needed for auth features\n  ],\nThrows error:\nTypescript Error\nCannot find name 'AngularFireAuthModule'.\nStack\nReferenceError: AngularFireAuthModule is not defined\n    at Object. (http://localhost:8100/build/main.js:76376:13)\n    at webpack_require (http://localhost:8100/build/main.js:48:30)\n    at Object. (http://localhost:8100/build/main.js:114428:70)\n    at webpack_require (http://localhost:8100/build/main.js:48:30)\n    at http://localhost:8100/build/main.js:140:18\n    at http://localhost:8100/build/main.js:143:10. @markgoho thanks! this worked, closing it. I hope this is mentioned in the document just for others reference? . just substitute signInWithEmailAndPassword for login. @BaranSaeed Please in future ask such questions on stackoverflow or other technical forums, fyi this is already been answered see https://goo.gl/uQO9Yv. Same with me too...\nError: ./~/firebase/app/shared_promise.js\nModule not found: Error: Can't resolve 'promise-polyfill' in \nParsed request is a module\nnode_modules/promise-polyfill doesn't exist\n            no extension\n              Field 'browser' doesn't contain a valid alias configuration\n@ ./~/firebase/app/shared_promise.js 37:35-62\n @ ./~/firebase/app/firebase_app.js\n @ ./~/firebase/app.js\n @ ./~/firebase/firebase-browser.js\n @ ./src/pages/home/home.ts\n @ ./src/app/app.module.ts\n @ ./src/app/main.ts\nIonic info:\nglobal packages:\n@ionic/cli-utils : 1.3.0\nCordova CLI      : 7.0.1 \nIonic CLI        : 3.3.0\n\nlocal packages:\n@ionic/app-scripts              : 1.3.7\n@ionic/cli-plugin-cordova       : 1.3.0\n@ionic/cli-plugin-ionic-angular : 1.3.0\nCordova Platforms               : android 6.2.3\nIonic Framework                 : ionic-angular 3.3.0\n\nSystem:\nNode       : v6.10.1\nOS         : macOS Sierra\nXcode      : Xcode 8.2.1 Build version 8C1002 \nios-deploy : 1.8.6 \nios-sim    : 5.0.8 . This is the fix that worked for me : npm install promise-polyfill --save-exact. I fix that when I make defriend folder and when I generate the project I move the files inside the angular 4 app. I can't compile your fork.\n\n```\n\nrm -rf dist && tsc && rollup -c rollup.test.config.js\n\nsrc/database/firebase_list_factory.ts(115,51): error TS2345: Argument of type '(obs: Observer) => () => void' is not assignable to parameter of type '((subscriber: Subscriber) => void | Function | Subscription) | undefined'.\n  Type '(obs: Observer) => () => void' is not assignable to type '(subscriber: Subscriber) => void | Function | Subscription'.\n    Types of parameters 'obs' and 'subscriber' are incompatible.\n      Type 'Subscriber' is not assignable to type 'Observer'.\n        Types of property 'next' are incompatible.\n          Type '(value?: R | undefined) => void' is not assignable to type '(value: any[]) => void'.\n            Types of parameters 'value' and 'value' are incompatible.\n              Type 'any[]' is not assignable to type 'R | undefined'.\n                Type 'any[]' is not assignable to type 'R'.\n``\nAdding your changes to the current master did the trick, however now it showsError: No provider for AngularFireAuth!in browser console.\nShouldn't that already been bundled within the AngularFireModule now? Therefore I only do this in myapp.module.ts import { AngularFireModule } from 'angularfire2';`\n. I came across an behaviour where you might receive an error, when the user has not signed in recently and trys to update the password.\nERROR TypeError: Cannot read property 'updatePassword' of null\nTo fix this make sure to check currentUser against null, reauth if needed. Further read firebase.updatePassword from firebase docs.\nUPDATE REAUTH EXAMPLE\nconst user = this.afAuth.auth.currentUser;\nconst credentials = firebase.auth.EmailAuthProvider.credential(user.email, 'password');\nuser.reauthenticateWithCredential(credentials)\n.then(() => console.log('reauth ok'));. I came here to read and seek knowledge, but I found nothing :). Changes are looking great! As I am unfamiliar with the entire process of professional software development, is there a time window when this is going to be released approximately?. hi , are you solve to problem . hi,\nsame problem,\ncan someone help me to find the solution ?\nthanks you. @codediodeio I'm not talking about server side timestamps, but datetimes in general.. merci :)\n. hi,\nplease do you have same solution for firestore collection ?\nthanks you\n. \n\ni try to use multiple config : \nlist.ts :\n@Component({\n  selector: 'page-list',\n  templateUrl: 'list.html',\n  providers: [\n    { provide: FirebaseAppName, useValue: 'courses' },\n    { provide: FirebaseAppConfigToken, useValue: firebaseClient },\n    { provide: AngularFireModule, useValue: 'courses' },\n    FirebaseAppProvider\n  ]\n})\nexport class ListPage {\n  todoCollectionRef: AngularFirestoreCollection;\n  todo$: Observable;\nconstructor(private afs: AngularFirestore, public app: FirebaseApp) {\n    this.todoCollectionRef = this.afs.collection('articles');\n    this.todo$ = this.todoCollectionRef.valueChanges();\n    console.log(app.name)\n    console.log(app.options)\n  }\n}\nsource :\nhttps://stackblitz.com/edit/angular-aw3pyc\n\"angularfire2\": \"^5.0.0-rc.6\",\n   \"firebase\": \"^4.10.1\",\nonly the collection from app..module.ts :  AngularFireModule.initializeApp(firebaseDemo, 'firebaseDemo'), is loaded by the pages ?!\nthanks you. Same issue here. Following for feedback.. @davideast May I please request the team to comment on this one, please, anyone?. ",
    "sathishvj": "What is a previous working version of firebase we can use with angularfire2 until things are fixed?\n. I have a hackathon this weekend that I want to do something in.  So, 2.3.2 for now I guess.\nAlso doing something with Ionic2.  By the time things cascade into all the wrappers, it looks like it could be a while.  :-(  Looking forward to everything stabilizing reasonably.\n. ",
    "bentzibentz": "\nIf you want to use AngularFire in Angular 2, check out AngularFire2. It will be upgraded to the Firebase 3.0.0 SDK in the coming days to weeks. @davideast and @jeffbcross are leading the AngularFire2 effort.\n\ni just found this at the angularfire repository\n. ",
    "matdehaast": "@sathishvj I am using the newest firebase console with angularfire2 and ionic 2 without any issues. No reason you cant use it for a hackathon.\n. Yes that is correct. Also note that people can update to the new console and use the current version of angularfire2 without problems. As long as you use the 2.4.2 version of the firebase SDK\n. This is a firebase issue. Not a angularfire2 issue\n. It appears there is an issue if you create a new app on firebase.google.com console. A work around I have seen is that you create a new project on the legacy console www.firebase.com and add the auth providers there. After you migrate the app to the new console and it should work\n. @davideast @jeffbcross Thanks just installed in my project and began testing. Thanks for the awesome documentation it worked a charm! \nI for one would personally like to say I appreciate the effort you gentlemen put in! \nOn a side note, will storage be looked to be supported in the future?\n. Have you tried doing the configuration in the bootstrap section of your app where you did the config? It is explaind here https://github.com/angular/angularfire2/blob/master/docs/5-user-authentication.md\n. Also rather  try calling the auth in this manner\n``` javascript\nconstructor(private nav:NavController, private events:Events, public af: AngularFire) {\n  }\nloginWithGoogle() {\n    this.af.auth.login({\n      provider: AuthProviders.Google,\n      method: AuthMethods.Popup\n    }).then(data => {\n      this.events.publish('user:login');\n    })\n  }\n```\n. ",
    "Grmiade": "With the new console, i have this issue for each provider :/ #185 \nNot you ?\n. Yes, I followed this guide too. But nothing. With the new dashboard, it fails.\nI have tried with old dashboard and its works !\nWeird, I am alone in this case :/ What do you change in your code @ngocnb-2nf to fix this?\n. Are you sure that your firebase installed version is 2.4.2?\n. ",
    "praneybehl": "Can't wait to see it happen \ud83d\udc4d  Thanks guys!\n. Any updates on this guys?\n. Well David did mention he was going away on paternal leave, just wanting to checkin if any work has been started on this yet. Patience is the virtue here.\n. I hear you brother, I was about to start a project with NG2 + Firebase, on the day they announced V3. Think from my perspective, I can't start with the old version and have to wait for the new one since creating in old version and then after working on it again to upgrade is super painful. So I get your frustration :) Lets hope this is fixed really soon.\n. ",
    "jeserkin": "@davideast will project name change with SDK number or 2 in project name corresponds to ng2? Also, how can one contribute to moving to new SDK? I would really like to take part in programming SDK 3 new features in angularfire if they will be approved of course\n. Seems, that no. It feels like only one person from entire Google is working on this wrapper.\n. He did, but I kinda expected, that there is someone else also working on this project besides him. And well patience is patience, but if one has a project in ng2, that doesn't have unlimited time and it uses firebase through agularfire2, then it starts to be a problem.\n. I wonder, will CONTRIBUTOR.md change due to new SDK. Would love to contribute to this project, but without any sustainable info, can't. Help from others should already take load from @davideast shoulders.\n. @andreasgrimm I think it works, but only on projects, that were transfered from old firebase. New ones, nope.\n. @jeffbcross do you accept PR from others or is it an inside job? :) If yes (you accept PR from others), then where/on what branch should one base them?\nThank you.\n. I'm a bit confused, what for is CONTRIBUTOR.md if main work is still done by angular members? Or is it only for patches/fixes?\n. ",
    "johnking": "I am also waiting for the fix. \n. ",
    "juan-orca": "Anything I can do to help this initiative?\nedit: I just talked with davideast, looks like this will start next week. \n. ",
    "HintikkaKimmo": "Same here really looking for this to happen. I like Angular and new firebase looks really cool!\n. ",
    "rijine": "Waiting..:(\n. ",
    "majodi": "is someone working on this already? Would love to get going with Firebase but not so much starting a project with 2.4.2. Is davideast really the only guy to work on this? \n. Yeah, well, after all the hard work put in these incredible Google IO Firebase sessions and promotion I would have expected that this library would be first priority. After all, this is where people would start when giving it a go with a new project (I would guess). So I hope David will get some help soon.\n. I get a Property 'ServerValue' does not exist on type 'typeof database'.\n. Never mind, I added an extra line to the firebase3 typings file:\ndeclare namespace firebase.database.ServerValue {\n  var TIMESTAMP: any\n}\n. By the way, the same goes for push and remove. I can work around for remove the same way (using database.object) but I don't see a way to work around for push other then setting up a separate database.list without a Query...\n. ",
    "andreasgrimm": "to be honest, I'd be happy to use AngularFire2 and Firebase SDK 2.x at the moment, but due to https://github.com/angular/angularfire2/issues/185 I can't use Firebase in Angular2 at all!\n. @jeserkin exactly. I'm using plain Firebase SDK currently :/\n. @pfried yeah, I would have assumed. But we already started working on a new project (created in new console) and iOS/Android clients are already in development (which don't have these problems).\n. \"unfortunately\" I already created a new in app in the new Firebase Console. Any chance there's a way I can make one of the Auth methods work right now?\n. ",
    "pfried": "@andreasgrimm You are still able to create projects using the legacy console which will work with the current version of angularfire\nhttps://www.firebase.com\n. Yes, definitely\n. Actually i dont know since typescript requires a lot of setup, is there a plnkr i can use as a blueprint?\n. I set up a testing repo with the ng cli and followed the guide (using systemjs). In this setup everything works, so i guess it must be related to webpack\n. I am going to find the cause and i am close, the error starts to appear when using firebase-tools to init the app, it creates several files which cause the project to fail. If i remove the files everything is back to okay, i will put the files in a seperate directory and will exclude it from the build.\nUpdate: It's the firebase.json... if i remove it everything is okay. Somewhere in webpack it gets included and i guess it creates a \"firebase\" symbol for it. I have no idea how this happens, but for me its the cause of everything\n@shershen08 Have you init'd firebase in your directory?\n. So were you able to fix it by using the ignore-loader?\n. I will close the issue, as this is related to webpack and not firebase itself, altough there are possibilities to avoid this (renaming firebase.json) from the firebase side too\n. This is true, i started using a firebase from the new console and struggled with the same issue (Password Auth). Go to the legacy console and create a project there which will work with this library and current version. Once firebase2 gets update to the sdk 3 switching will most likely be switching the firebase url and your done\n. see https://github.com/angular/angularfire2/issues/180#issuecomment-220723884\n. related to #190 and #197 \n. ",
    "cdcarson": "@davideast  and @jeffbcross -- Thanks for your work on this. \nFor those of you who needed something last week :)...\nI've developed a quick and dirty library to produce objects and arrays from the Firebase SDK 3.x.  It includes (more or less auto-generated) typings for the entire SDK, but the written code is ~150 lines & only concentrates on observing data. \nFrom my reading of the new api, it may be that this is all that is needed -- database writes, auth and storage may be better handled using the SDK rather than angular abstractions.  (I may be entirely wrong, however.)\nThe library is here: https://github.com/nowzoo/fb3-ng2 and is installable as an npm package.\nI've also created a seed app to quickly demonstrate what the library does: https://github.com/nowzoo/fb3-ng2-example\nThanks,\nChris\n. ",
    "haifaGh": "I'm having this problem (like shown in the image below) in the authentication using Firebase from a react native app. I've already enabled the sign in method in the Firebase console ... So do you have any idea if it's working with this SDK now or it's a problem in my code. \n. Hi I keep getting this error with react native app . I've already enabled the sign in method in the authentification service in the Firebase console ... So can you please help me solve this problem . ",
    "kjdevocht": "I signed it\n. ",
    "shershen08": "Thanks, @r-park it helped!\n. +1, have same issue\n. @pfried I've tried to avoid webpack's confusion with firebase.json using ignore-loader\nat webpack.config.js:\nmodule: {\n        loaders: [\n            {  {test: /\\.json$/, loader: 'ignore-loader' },\n//\nand yes I have firebase init'ed, also had issues w this (http://stackoverflow.com/questions/37309852/unable-to-do-firebase-deploy-error-invalid-firebase-specified)\n. nope, that was only for eliminating that webpack warning, I have the error still\n. ",
    "semeano": "I'm having the same issue here.\ntypings v1.0.4\nnode v6.2.0\nnpm v3.8.9\n. @r-park thanks!\n. ",
    "michaschwab": "@r-park you're my hero.\n. I signed it!\n. ",
    "tobujin": "Hi,@r-park, Thanks for your help.\nBut i have a issue.\nMy project:\n   ionic start login --v2 --ts\nnpm install angularfire2\n  npm install firebase@2.4.2\nand \ntypings dt~firebase --global --save\nthen shows blow.\nfirebase\n      (No dependencies)\nPlease help me.\n. @UzairNouman, thank you for your response.\nIt's not fault.\nIt's normal.\nMy program works very well.\n. ",
    "UzairNoman": "@tobujin,I am encountering the same issue.I have used angularfire push() and update() methods they still works fine, despite of the fact ionic-cli is showing bunch of errors like :\nError TS2304: Cannot find name \"Firebase\"\nand more\n. @ngocnb-2nf \nimport 'rxjs/add/operator/do';\nAdding this at the top solved the issue for me.\n. ",
    "blackhawk389": "Could somebody tell me why is it happens why we have to change name from main.d.ts to index.d.ts\n. ",
    "josefduran": "Yes already on the new version of the console... what an update! kudos to the team. \nI just did the install with the proper version and it's working like a charm!\n. ",
    "Tulika12": "npm ERR! path E:\\EmptySpace\\node_modules\\cordova-android\\node_modules\\big-intege\nr\nnpm ERR! code ENOENT\nnpm ERR! errno -4058\nnpm ERR! syscall rename\nnpm ERR! enoent ENOENT: no such file or directory, rename 'E:\\EmptySpace\\node_mo\ndules\\cordova-android\\node_modules\\big-integer' -> 'E:\\EmptySpace\\node_modules\\c\nordova-android\\node_modules.big-integer.DELETE'\nnpm ERR! enoent This is related to npm not being able to find a file.\nnpm ERR! enoent\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\User\\AppData\\Roaming\\npm-cache_logs\\2018-01-17T08_21_39_1\n59Z-debug.log\nwhy this error. ",
    "ngocnb-2nf": "Hi @Grmiade. Have you checked this guide from Firebase? I got the same error with you. Then I followed that guide carefully and everything is working fine now.\n. Hi @davideast, below is my import:\n\nimport { Injectable, Inject } from '@angular/core';\nimport { FirebaseRef, AngularFire } from 'angularfire2';\n\nI read file utils/firebase_list_factory.ts and see the import below:\n\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/map';\n\nThere's no operator do here. I tried to add it manually but got not luck :).\n. ",
    "borntodesign": "I am having exactly the same problem. I have tried most of the auth methods and they all come back with the same error. I followed the authentication docs.\n. Is there any update planned for firebase 3?\n. @dowsanjack don't you have to subscribe to each menu as well? Maybe...\n@aguzubiaga my problem (more of an annoyance) is as follows:\nI have a huge list of articles which all have a type: text, video, comment and image. I would like to split them up into the following:\n- articles/image\n- articles/video\n- articles/comment\n- articles/text\nI still need need to list them all together in timestamp order, but this means I can run more efficient queries for example getting a text article with the name \"Nice article\". I have seen a couple of videos using map to nicely combine a list but have not yet got anything to work.\nKind regards :)\n. @aguzubiaga I find it easier rather than messing about with combining in your situation to make a food component and pass in the menu as an input, then grab it from angular in that component. Just my preference.\n. @aguzubiaga cheers I will #AskFirebase, this bit \"(food | async)?.name\" is really handy though.\n. I have tried this solution and it still causes an exception from which I cannot recover from?\nIs there any other solutions or is there a planned fix for this issue?. No joy, it's like I need to turn off the initial list load and only load when there is a change. ",
    "TorajKhavari": "In my case I have \nimport 'rxjs/add/operator/do';\nget the same error\nhere is my code\ngetFamilyType(): Observable<IFamilyType[]> {\n    return this._http.get<IFamilyType[]>(this._familyTypeUrl)\n    .do(data => console.log('All: ' + JSON.stringify(data)))\n    .catch(this.handleError);\n}.\n",
    "HTHussain": "@TorajKhavari That might be because of the recent changes in RxJS, try the following:\nimport {tap} from \"rxjs/operators\"; // I believe tap replaces do now, gotta confirm\nAlso, now to use those operators, you need to use the pipe() for chaining like:\n.pipe(tap(data => console.log('All: ' + JSON.stringify(data))))\nThis link should give you a good summary of the changes that appeared in RxJS 6:\nhttps://auth0.com/blog/whats-new-in-rxjs-6/\nHope that helps.. ",
    "Denhai": "Your webpack config may be resolving json files.\nhttp://webpack.github.io/docs/configuration.html#resolve-extensions\n. ",
    "MohammedTaha": "I was developing a hobby project using Ionic 2 and decided to switch back to firebase 2.4.2 for the time being. Its functional for me :D \n\"dependencies\": {\n    \"@angular/common\": \"^2.0.0-rc.1\",\n    \"@angular/compiler\": \"^2.0.0-rc.1\",\n    \"@angular/core\": \"^2.0.0-rc.1\",\n    \"@angular/http\": \"^2.0.0-rc.1\",\n    \"@angular/platform-browser\": \"^2.0.0-rc.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.0.0-rc.1\",\n    \"@angular/router\": \"^2.0.0-rc.1\",\n    \"angular2\": \"2.0.0-beta.13\",\n    \"angularfire2\": \"^2.0.0-alpha.16\",\n    \"es6-shim\": \"^0.35.0\",\n    \"firebase\": \"^2.4.2\",\n    \"ionic-angular\": \"2.0.0-beta.7\",\n    \"ionic-native\": \"^1.1.0\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"^0.6.12\"\n  },\n  \"devDependencies\": {\n    \"del\": \"2.2.0\",\n    \"gulp\": \"3.9.1\",\n    \"gulp-watch\": \"4.3.5\",\n    \"ionic-gulp-browserify-typescript\": \"^1.1.0\",\n    \"ionic-gulp-fonts-copy\": \"^1.0.0\",\n    \"ionic-gulp-html-copy\": \"^1.0.0\",\n    \"ionic-gulp-sass-build\": \"^1.0.0\",\n    \"ionic-gulp-scripts-copy\": \"^2.0.0\",\n    \"run-sequence\": \"1.1.5\"\n  }\n. I was developing a hobby project using Ionic 2 and decided to switch back to firebase 2.4.2 for the time being. Its functional for me :D \n\"dependencies\": {\n    \"@angular/common\": \"^2.0.0-rc.1\",\n    \"@angular/compiler\": \"^2.0.0-rc.1\",\n    \"@angular/core\": \"^2.0.0-rc.1\",\n    \"@angular/http\": \"^2.0.0-rc.1\",\n    \"@angular/platform-browser\": \"^2.0.0-rc.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.0.0-rc.1\",\n    \"@angular/router\": \"^2.0.0-rc.1\",\n    \"angular2\": \"2.0.0-beta.13\",\n    \"angularfire2\": \"^2.0.0-alpha.16\",\n    \"es6-shim\": \"^0.35.0\",\n    \"firebase\": \"^2.4.2\",\n    \"ionic-angular\": \"2.0.0-beta.7\",\n    \"ionic-native\": \"^1.1.0\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"^0.6.12\"\n  },\n  \"devDependencies\": {\n    \"del\": \"2.2.0\",\n    \"gulp\": \"3.9.1\",\n    \"gulp-watch\": \"4.3.5\",\n    \"ionic-gulp-browserify-typescript\": \"^1.1.0\",\n    \"ionic-gulp-fonts-copy\": \"^1.0.0\",\n    \"ionic-gulp-html-copy\": \"^1.0.0\",\n    \"ionic-gulp-sass-build\": \"^1.0.0\",\n    \"ionic-gulp-scripts-copy\": \"^2.0.0\",\n    \"run-sequence\": \"1.1.5\"\n  }\n. ",
    "pathak333": "https://github.com/pathak333/curious/issues/1#issue-409705135\nplz someone help me with this link. ",
    "gallotamas": "I signed it!\n. I'm glad it helped you :)\n. ",
    "choopage": "Hi @gallotamas Great code correction. I'm new to Observable and learning more about observable and its data pattern. I like your pull request and explanation. You explained that \n\n\"item.name\" is not an observable so we can't use the async pipe on it.\n\nWhich also helped me understand why the json pipe needs to come after the async pipe for this {{ item | async | json }}. I was asking myself Why earlier on. Now I understand.\nI learned something new today. Thank you. \n. Heyy @davideast  \nThank you for answering my question. \"Push id\" is what I am looking for. Just before we close this issue, could you explain following your code sample, how do we get the \"push id\" after doing a push?\nJust in case, you are wondering why I'm doing this. I want to instantly using the push id returned from the push operation to perform routing to localhost:4200/hero/-KJDdFcQzEmyOhAHjICx\n```\nclass MyCmp\n  constructor(af: AngularFire) {\n    const items = af.database.list('items');\n    items.push('new item').then(... $key ...);\n//is there a way to get the 'push id' right after the push operation?\n}\n}\n```\n. Hi @kazkis,\nThank you for your answer. Perfect answer for me moving forward.\nSent from my iPhone\n\nOn 3 Jun 2016, at 05:21, kazkis notifications@github.com wrote:\nhi @choopage , you can simply do\nconst newId = items.push('new item').key();\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hey @jeffbcross \n\nI'm understanding you a bit here. Allow me to go deeper for my understanding. Why would anyone want to use database.object() if database.list() could use to create, read, update, and delete on a list and also on an object in a list. \nWhereas database.object() could only deal with an object only. So what are instances / data structure instances that people would use database.object() over database.list()?\nI'm not sure if I'm making sense here with my question. New to AngularFire2.\nRegards,\nJek Bao\n. Hi @pmenocal \nWow perfect explanation. Thank you so much.\nThis is gold. Helped me understand it all.\n\nIf my edit form is on another route and I want to keep things simple, I can pass an object's key from the database.list() via routeParams into the editComponent and only have the editComponent work on one specific object. In some of my development, this structure has made the most sense in terms of separating concerns (listing as opposed to editing for example).\n\nYou nailed it. Fully understood it now.\n. Hi @davideast any updates?\n. It would be good if AngularFire2 documentation could include detailed explanation on this \n\nAngularFire2 has a af.auth.subscribe() to subscribe to the auth service. The question is how can i make the guard wait for the observable and then return either true or false?\n\nFrom reddit.com/r/Angular2/comments/4trb3v/how_to_implement_guard_with_angularfire2/\n. Hi @davideast I can lend a hand if you need me. You could put together an application for this purpose. I'll use that application that you put together to enhance the existing markdown documentation. Hope this would be helpful.\n. I had the same problem. Based to @davideast suggestion, I did npm uninstall @types/firebase. This solved the problem.\n. @hiepxanh for consistency, I think we should update this to array_contains.. ",
    "c4wrd": "This is ~~an issue~~ an inconvenience with the new Firebase console. If you wish to use authentication with the latest Firebase SDK supported by this project (2.4.2) you'll have to set up your application on the old console first and then migrate it to the new one (or use the old one entirely). All apps created on the new Firebase console are by default only accessible via the 3.0 SDK from my understanding.\n. ",
    "patrickdevivo": "I see. I will do as you guys suggest. Does anyone know the time frame on angularfire2 supporting the 3.0 SDK?\n. ",
    "arnold-parge": "Even I am facing this problem. Email/Password is enabled in firebase console. Yet I am getting this error: OPERATION_NOT_ALLOWED: Password sign-in is disabled for this project\n@haifaGh Did you get any solution. please specify.. ",
    "mohit23x": "using react/redux i am getting similar error\n{code: \"auth/operation-not-allowed\", message: \"The given sign-in provider is disabled for this Firebase console, under the sign-in method tab of the Auth section.\"}. ",
    "nelsonad": "I'm curious about this too.\n. Is there a workaround for this?\n. @harpreet2602 check out @aaronksaunders solution https://github.com/aaronksaunders/basicaf2 \nThis worked for me.\n. @aaronksaunders Thank you for the complete working project! \nI kept getting typescript build errors til I saw your declare var firebase: any trick.\n. @mukesh51 Thanks for your reply. My problem is similar to the example, but different because the example doesnt change the orderByValue, the search is always on the size property.\nI've updated my plunker example to use the tshirt example and added a color property that is also searched and it still has the same issues.\nI actually got the idea to use composite keys from the querybase project, but I'm not using it and I'm not sure it would solve the issue here.\nHere's the new plunkr: http://plnkr.co/edit/s6zhTRdIYBuOuxACPIHJ?p=preview\n. I think the best option would be to add support on the query object so that it can be observable like it's child keys, this way multiple parameters can be changed during a single event.\nBut I'm not great with what the rxjs library offers, so I'm not sure if there's already a way to support what I'm trying to do.\nAny feedback/workarounds would be appreciated\n. @katowulf I think you misunderstood me.\nIt is possible to filter by multiple criteria using composite keys, which querybase is doing, and I'm doing manually.\nWhat's not possible is to change two parameters of the query object with observables.\nhttps://github.com/angular/angularfire2/blob/master/docs/4-querying-lists.md#creating-a-query-with-observable-values\nYou can change orderByChild with an observable and equalTo with an observable independently. But you cant change both with an observable without issue.\n. @katowulf it doesn't work with two.\nLooks like my plunker above stopped working, I'll try to get it updated so you can see the problem.\nUpdate:\nThe plunker template that's linked to in the ReadMe doesnt seem to be working either:\nhttp://plnkr.co/edit/4IbB5IvfkBYcj2iVAIM1?p=preview\nBut the code in mine should be easy enough to reproduce and see the problem\nhttp://plnkr.co/edit/s6zhTRdIYBuOuxACPIHJ?p=preview\nUpdate 2:\nI'm not sure what's going on with the plunkers. I checked back again and mine is working at the moment but the readme one still does not.\nIf you check mine out, you'll see that you have to click the first search button twice to get any results. And it takes two clicks for the other searches to work also.\nIf the top level query object could support being observable I believe the problem would go away.\n. Should this still be closed?\n. @tomasklima You might be better to submit a new issue as they closed this one and don't seem interested in discussing it. I've moved away from firebase because of this.. ",
    "jeffwhelpley": "Ah, yes. OK, so the short answer here is that we will need to make an adjustment to AngularFire so that (as @mmgdort suspects) the server version must immediately close the connection after getting the initial data set.\nThe longer explanation is that on the server side we use zones to wait for all async operations up to 2 seconds. We put in a timeout so that the server code would never hang. So, what I would strongly suggest are the following changes:\n- Automatically close connections after getting initial data\n- No-op calls that are meant for longer time periods\n- You can implement this either through DI swapping (i.e. have a different server version of AngularFire that people import instead of the standard) or monkey patching\nLet me know if you have any questions on this.\n. In many cases Firebase is only being used on the client side for realtime data. If that is the case, then you can abstract out your service that references Firebase so it is not used at all on the server side.\nIf, however, you are trying to just get that initial snapshot of data from Firebase for your server rendered view, then yes there does need to be some changes. Specifically, I think there are two key pieces to enable this:\n1. Ensure the Firebase libs don't reference any DOM apis and/or provide the appropriate patches so they work on the server side\n2. Add a new zone.js patch that will ensure server rendering will wait until the first Firebase snapshot is complete\nFor the second point, basically you need to do something like this:\nhttps://github.com/angular/zone.js/blob/master/lib/node/node.ts#L65\nThat code is used to help Angular Universal keep track of all the http calls on the server and wait for them to complete before returning a rendered page. We need something similar for the Firebase APIs as appropriate.\n@gdi2290 @davideast please weigh in with your two cents.\n. If you are doing http to Firebase, then there shouldn't be any issue (let me know if there is). I am guessing that under the scenes Firebase is not using straight http calls, though, because it tries to set up a socket connection, right? So, basically the trick is either just do straight http calls if you run Firebase on the web server for universal rendering (in which case the existing zone.js implementation will work) OR if you use the socket connection, you have to build a new zone.js patch which will wait for the initial snapshot and then automatically close the socket.\nAll that said, I haven't tried this out, so there may be other issues I am not thinking about once you get into things. Does that make sense?\n. ",
    "leandroz": "Any updates on this? Is there a list of things to do where I can help?\nI just started a project with Angular Universal and AngularFire2 so I don't mind investing some time learning the core.\nAside the initial connection problem, I saw a WindowLocation that is using window.location. \n. I am initializing the app in both node and browser modules, which causes this error: Firebase App named '[DEFAULT]' already exists.\nI tried setting different names with the same configurations but the server never responds and hangs indefinitely.\n. @jeffwhelpley thanks for the answer!\nYes the basic idea is to have the data in the server before doing the first render.\nThe firebase lib has a node version so that shouldn't be a problem.\nIf Angular Universal is already working with http calls, I can create a parent service and then for the server use a http implementation with the Firebase API directly, and in the browser use Angular\nFire2.\nHow much work would be to create a version of AngularFire2 specific for the server that uses Angular Http service?\n. It makes perfect sense, I will try with the http approach and make an update if I found issues!\nThanks!\n. I am getting an error trying with firebase 3.6.6, https://plnkr.co/edit/12sFkTKA2fLCp6m4prw9?p=preview. @cartant thanks for the help, here you have the plunk with some changes, https://plnkr.co/edit/CDiApWr7r1JnqzcGwLaA?p=preview, I couldn't reproduce exactly the duplication, but here you will see that one subscription to all the users gets only 1 and not the 3 users, I am pretty sure is related.\n. @cartant stupid mistake, I cannot reproduce this, I will try to debug in my app and see what I can find, closing until then.. ",
    "orangesoup": "@leandroz Please tell us how it goes, I have the same problem, otherwise my app would work. To be honest this feels quite a lot of work to me (at least in my case), so if there is any other approach that would be nice!\n. The interesting thing is if you subscribe to auth \nthis.af.auth.subscribe(auth => console.log(auth));\nIt logs the data pretty fast, there's no waiting there (at least for me). It seems like it's just the view that's affected (?)\n. @jeffbcross I'm not sure whether it's a bug or not, so I'm asking here first and if it is I can open a new issue:\nI've been debugging my app when I tried out a weird scenario: I have an AuthService and in its constructor I'm subscribing to auth and saving the user data into a variable each time it changes. When I manually delete the firebase:authUser:... object from localStorage I get null in the subscription, but when I log in again I get nothing, no event (I'm not sure how it's called in observables land?) fired. Obviously I can take the new user object from the logins promise, but shouldn't I get the object in the subscription as well?\nEdit: since I'm not sure how all this works under the good I've tried out using the proper logout() function, but the result is the same. When logging out I get a null object, but when I log in again I get nothing.\n. Alright, opened a new issue! Thanks for looking at it!\n. @davideast Updated to beta.2, but the problem still exists for me. \n. @jeffbcross It doesn't work either way, but yeah. Basically I'm logging in with email/password. So the steps are:\n- login with email / pass -> I get the user object (FirebaseAuthState)\n- logout with af.auth.logout() -> I get null\n- login again with email / pass -> I get nothing, not even null, nothing. The login still works, but at this point I can only get the user object from the login promise and have to pass it back to the auth service instead of directly getting it from the subscription \n. @jeffbcross I've updated the CLI, Angular, AngularFire, everything basically, created a brand new project and the problem doesn't seem to exist there, so I'll close the issue. Honestly, I have no idea what's wrong in the old project, but the problem seems to be gone.\n. It's happening with angular-cli webpack branch as well.\n. Alright, your problem is solved by that, but unfortunately the webpack branch of the angular cli is not that configurable AFAIK. I know that's still in progress but would you mind taking a look @davideast?\n. @asadsahi The only thing you need to do probably is reverting rxjs back to beta.10 from beta.11.\n. ",
    "tskweres": "Would love to use AngularFire with Universal, any updates?. ",
    "samvloeberghs": "hi @davideast (@tskweres) I've been upgrading my project to use the latest 4.0.0-rc.0 release.\nAny updates on how to properly stub the AngularFireAuth module for the server module?\nCurrently I use the same approach as I did here: https://github.com/angular/universal-starter/issues/127#issuecomment-287644140\nSome official recommendations might be good .. . ",
    "Kamshak": "I got it working with universal with a lot of hacking - auth didn't really require any changes, just using Webpack to replace imports to user firebase-node and ignore the angularfire2/* imports. What I had to do is add an endpoint in server to create a custom token from id token and store that as cookie. Server injects REQUEST, reads the cookie and logs into firebase using the custom token.\nFor database I needed to patch database.ts and run the call to app.database() in runOutsideAngular(). Then i manually wrap services to create a zoneTask until the first item has been emitted:\nts\nclass SomeService {\n    getObject(ref) {\n        const object$ = this.database.object(ref);\n        if (UNIVERSAL) {\n            const task = Zone.current.scheduleMacroTask('authService', () => {}, {}, () => {}, () => {});\n            object$.first().subscribe(() => task.invoke());\n        }\n        return object$;\n    }\n}\nI haven't used this in a very large app yet so there might be some limitations - but it does work :). @richtera did you figure this out? @davideast why was this closed? is there an obvious solution? I'm getting the same issue. Don't think it can be solved like that as there is still no way to know when to call authenticated(). To clarify the problem: I want to use this in conjunction with a router so that I can redirect the user to the login page if they are not authenticated. To answer the question \"Do I need to redirect the user to a login page\" i need to know: \"Has firebase tried to log this user in using the local session?\". \nRight now all I get is this:\na) User  is logged in:\n\nb) User is not logged in:\n\nTo implement this functionality I need to know at which point \"Token Checked\" has happened. A simple Promise could do this as this only happens once. Or a method to try and log in using the local session. Or something like this which i don't think is very nice (refering to case b here):\n\n. I signed it!. @davideast hope it's OK to ping you here :) This fix would help a lot with creating a Plunker. I submitted a PR(#1021) for this that fixes it, it's merged already but it's not yet in NPM. You can use this to get around it: \npackage.json\n\"dependencies\": {\n  \"angularfire2\": \"https://cdn.rawgit.com/Kamshak/angularfire2/fa0e4753/angularfire2-v4.0.0-rc.2.tgz\"\n}. @pvdyck: I believe you're having a different issue - this is about HMR during development where it will load the firebase app multiple times. (app/no-app error)\nTo find your problem (auth/invalid-api-key) i'd search through your (production) js bundle and find the line where it initializes the app. Most likely something in your build is messing up the credentials.. Have you looked at the JS output manually yet? I'm running it in AOT&prod without a problem, don't think it's angularfire causing it.. Suppose you could create your own token instead of using the default and set it up in an APP_INITIALIZER (this would require a valid user at all times):\napp.module.ts\n```ts\n@Injectable()\nexport class SecondApp {\n  database: AngularFireDatabase;\n  auth: AngularFireAuth;\nconstructor() {}\ninitialize(app: firebase.app.App) {\n    this.database = new AngularFireDatabase(app);\n    this.auth = new AngularFireAuth(app);\n  }\n}\nexport function firebaseLoader(secondApp: SecondApp) {\n  return () => {\n    const firstApp = firebase.initializeApp({\n     // Put firebase config for first app here \n    }, 'controlApp');\nconst auth = new AngularFireAuth(firstApp);\nconst db = new AngularFireDatabase(firstApp);\nreturn auth.authState.filter(user => !!user).map(user => {\n  return db.object(`configs/${user.uid}`);\n}).map(configObject => {\n  const secondAppConfig = firebase.initializeApp(configObject, 'secondApp');\n  secondApp.initialize(secondAppConfig);\n}).first();\n\n};\n}\n@NgModule({\n  ...,\n  providers: [\n    SecondApp,\n    {\n      provide: APP_INITIALIZER,\n      useFactory: firebaseLoader,\n      deps: [ SecondApp ],\n      multi: true\n    }\n  ]\n})\nexport class AppModule { }\n```\nThen instead of injecting AngularFireDatabase or AngularFireAuth you inject SecondApp and use the database and auth properties. You can use this approach without the initializer as well of course, e.g. using a route guard with a login form and just call SecondApp.initialize() as often as you like. Don't think you are bound to use the AngularFireDatabase or FirebaseApp tokens, it's more of a convenience.\nTo make it cleaner you could perhaps name your apps as well when constructing them and delete the ones not required anymore (you can do app.delete() to free ressources of an app you don't need anymore). Then use a map on your service that and create the AngularFire Services for each of the apps.. Really like the new API! This is pretty much what I always wished the API would look like, just a wrapper to integrate firebase and rxjs :+1: Nice job on the size improvements as well although the API to me is the real reason to upgrade as angularfire already was pretty small compared to what firebase itself brings.\nSince a lot of this isn't really angular specific, do you think it would be possible to extract the database part of the library as something like RxjsFirebase so that it can be used with firebase-admin as well? I really love the API and this would be really useful on the server as well.. Is any work still done on this? Is there any way I can help? I could get this working in previous versions by patching Angularfire to runOutsideAngular and then in my services manually create a macrotask until first() has emitted. @hiepxanh \nI pass e.g. this.angularFireDb.object('test/path') in there to block the zone until the first value has arrived. \nts\n  private universalBlockUntilFirst(obs: Observable<any>) {\n    if (SERVER) {\n      const task = Zone.current.scheduleMacroTask('universalBlockUntilFirst', () => { }, {}, () => { }, () => { });\n      obs.first().subscribe(() => this.zone.runOutsideAngular(() => task.invoke()), () => this.zone.runOutsideAngular(() => task.invoke()));\n    }\n  }\n@jamesdaniels looks really nice! very glad to see that you're making progress so we don't need to resort to hacks like this :+1: . 1) Might not be needed but for some reason i wanted to invoke the task outside the anguar zone.\n2) A bit like that, basically makes sure the zone doesn't stabilize (same thing happens if you have e.g. a Http Request or a setTimeout call)\n3) What I do is\nthis.universalBlockUntilFirst(myApi$);\nmyAPI$.first().subscribe((data) => this.items = data) \nbe careful that you have a hot observable for this since it'll add a subscription. Sure, https://gist.github.com/Kamshak/670578d2ea2941a01b545952721f174c\nYou'll also need to patch angularfire2 to make sure that the Websocket is not created inside the angular zone https://github.com/Kamshak/angularfire2/blob/3a5c7950c590a7e42a0223fce76799c1764b0e0f/src/database/database.ts#L21-L23. @patrickmcd pretty much that, there is a bit more fiddling if you want to use auth and sometimes I run into things that seem a bit odd where I need to run some ngZone.run(() => { }). The API works the same on server and browser otherwise. I use ngrx and transfer state using that, there is no transfer of the firebase caches. And it seems to not work with the new API - not sure why. \nIf you want to give it a shot i host the packge I use on github atm so in package.json\n\"angularfire2\": \"https://cdn.rawgit.com/Kamshak/packages/b561a6bd/angularfire2-v67.0.0.tgz\",. For me in my bundle there were somehow two versions of @firebase/app: \n/node_modules/@firebase/app/dist/index.esm.js?89c8 \n/node_modules/@firebase/app/dist/index.esm.js?cc84\nto workaround this i added a plugin in my webpack config:\nnew NormalModuleReplacementPlugin(/\\@firebase\\/app(.*)/, require.resolve('@firebase/app').replace('index.node.cjs.js', 'index.esm.js'))\nThat fixed it for me. Versions:\n\"angularfire2\": \"5.0.0-rc.9\",\n\"firebase\": \"5.3.0\",. I'm getting this with rc.9 and firebase 5.2.0 without SSR just in a normal client build. @jamesdaniels i'm getting this error with rc.11 as well any chance you could look into it again? See above for others with the same issue. For me in my bundle there were somehow two versions of @firebase/app: \n/node_modules/@firebase/app/dist/index.esm.js?89c8 \n/node_modules/@firebase/app/dist/index.esm.js?cc84\nto workaround this i added a plugin in my webpack config:\nnew NormalModuleReplacementPlugin(/\\@firebase\\/app(.*)/, require.resolve('@firebase/app').replace('index.node.cjs.js', 'index.esm.js'))\nThat fixed it for me. Versions:\n\"angularfire2\": \"5.0.0-rc.9\",\n\"firebase\": \"5.3.0\",. That doesn't work for prod though :cry:. @davideast \nImports are done the normal way through AngularFire*Module imports and in one case I import auth like this to create auth providers:\nts\nimport { auth, User as FirebaseUser } from 'firebase/app';\n// some code\nconst provider = new auth.GoogleAuthProvider();. @davideast thanks for the reply! I upgraded webpack/angular alongside angularfire and it turns out the issue was that I had this in my webpack config:\nts\n{\n      test: /\\.js$/,\n      loader: 'source-map-loader',\n      enforce: 'pre'\n} \nbut you now need to exclude the ngfactory stuff:\nts\n{\n      test: /\\.js$/,\n      loader: 'source-map-loader',\n      enforce: 'pre',\n      exclude: [ /(ngfactory|ngstyle).js$/ ]\n} \nBecause otherwise for some reason different loaders would get applied to the module apparently which creates the 'query' part in the include. Sorry about spamming here a bit, was getting a bit frustrated with the issue and it's really difficult to get there from the error.\nTL;DR: If you have this issue search in your main/vendor bundle for @firebase/app/dist/index.esm.js if you see something like this @firebase/app/dist/index.esm.js?a42bfc carefully check your webpack loaders.. i think you're looking for \nthis.list$ = this.db.list(ref).valueChanges(['child_added']).pipe(first());. Limit to last will give you the last highest priority item (unless you order by child or something else) i think. It does not mean give me only last added child (1 value). See also https://firebase.google.com/docs/database/admin/retrieve-data#limit-queries\nts\nvar ref = db.ref(\"dinosaurs\");\nref.orderByChild(\"weight\").limitToLast(2).on(\"child_added\", function(snapshot) {\n  console.log(snapshot.key);\n}); \nSee the explanation:\n\nThe child_added callback is triggered exactly two times, unless there are less than two dinosaurs \nstored in the database. It will also get fired for every new, heavier dinosaur that gets added to the database\n\nIn your example the most recently added item changes once you add a new item, that's why it will emit a new one. Consider an app where you want to show the last user that signed up, you'd expect it to react if a new user is added.. Yeah you're right that might be a bug, it seems that in the implementation of the list observable it always merges in a \"value\" change [1], even though \"child_added\" would be enough to fetch everything. Perhaps there is a reason for this, @davideast probably knows more.\n[1] See Line 10 here: \nhttps://github.com/angular/angularfire2/blob/2c2fe021667b8675a6ceabb891f979c20d632570/src/database/list/changes.ts#L9-L16. Has anyone gotten this to work? I can't figure it out, i've sunk at least 8 hours into this with just 0 progress... This is really a huge set back from the dev experience i've had with firebase and i hope i'm just doing something really stupid. The obvious way of just importing the modules (https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md)  does work either.\nIf anyone has any idea i'd appreciate any hint!\nI've tried importing everything in my main module to make sure it's there\nts\nimport { initializeApp, auth as auth2 } from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport '@firebase/auth';\nimport '@firebase/database';\nrequire('firebase/database');\nthis seems to require every conceivable build of the thing (esm, cjs) but still once i initialzeApp i get the errors \"TypeError: app.auth is not a function\". \njs\n/* harmony import */ var angularfire2__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! angularfire2 */ \"./node_modules/angularfire2/index.js\");\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/index.cjs.js\");\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(firebase_app__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! firebase/database */ \"./node_modules/firebase/database/dist/index.esm.js\");\n/* harmony import */ var _firebase_auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @firebase/auth */ \"./node_modules/@firebase/auth/dist/auth.esm.js\");\n/* harmony import */ var _firebase_database__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @firebase/database */ \"./node_modules/@firebase/database/dist/index.cjs.js\");\n/* harmony import */ var _firebase_database__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_firebase_database__WEBPACK_IMPORTED_MODULE_18__);\nYet in my \"firebase_app__WEBPACK_IMPORTED_MODULE_14__\" (which is the firebase namespace from firebase/app) it gives me INTERNAL.factories as an empty object.\nMy webpack resolve is pretty standard:\n// for client\nresolve: {\n    mainFields: ['browser', 'module', 'main' ],\n    extensions: ['.ts', '.js', '.json'],\n    alias: {\n      ...require('rxjs/_esm2015/path-mapping'), // https://github.com/ReactiveX/rxjs/blob/master/doc/lettable-operators.md#build-and-treeshaking\n      assets: root('src/assets')\n    },\n    unsafeCache: true\n  }\n// for universal\nresolve: {\n    mainFields: ['module', 'main' ],\n    extensions: ['.ts', '.js', '.json'],\n    alias: {\n      ...require('rxjs/_esm2015/path-mapping'), // https://github.com/ReactiveX/rxjs/blob/master/doc/lettable-operators.md#build-and-treeshaking\n      assets: root('src/assets')\n    },\n    unsafeCache: true\n  }. Thanks @jamesdaniels, unfortunately using rc.11 does not seem to work for me at all, if I do everything by the guide\n1) angularfire2 rc.11\n2) firebase@^5.0.3 (matches angularfire package.json)\n3) do not require any firebase modules at all\n4) Import the modules\nAngularFireModule.initializeApp(FIREBASE_JSON),\n  AngularFireDatabaseModule,\n  AngularFireAuthModule, \nI still receive \nVM1367 main.browser.ts:36 TypeError: app.auth is not a function\n    at eval (VM2053 auth.js:18)\n    at ZoneDelegate.invoke (VM1531 zone.js:387)\n    at Zone.run (VM1531 zone.js:137)\n    at NgZone.runOutsideAngular (VM1735 core.js:3988)\n    at new AngularFireAuth (VM2053 auth.js:16)\n    at _createClass (VM1735 core.js:8495)\n    at _createProviderInstance$1 (VM1735 core.js:8457)\n    at initNgModule (VM1735 core.js:8390)\n    at new NgModuleRef_ (VM1735 core.js:9116)\n    at createNgModuleRef (VM1735 core.js:9105) \nI've been stepping through webpack generated code for another hour and it all looks OK, the files seem to end up in the bundle, includes are called but for some reason the services don't end up registered with firebase (unfortunately I don't know how to step through the 'eval' webpack emits for the modules).. Ping @jamesdaniels, is there anything i could try or do to debug this?. Still get this no matter what the RxJS version is. When debugging the firebase it imports contains a \"default\" property. I suspect it is related to this: https://github.com/Microsoft/TypeScript/issues/2719. using the \"module\" entry in package.json in webpack resolve (esm). ",
    "kodova": "I signed it!\n. Its no longer relevant, you do not need to include source using the current example.\n. ",
    "julienevano": "Hi @davideast ,\nThank you very much for your reply. No worries for the PR, I understand and I am looking forward to the 3.0 SDK upgrade.\nThank you for your comments.\n. Hi @escarabin,\nA new version of angularfire2 compatible with Firebase 3 is under development and will be available soon with this functionality. \nIn the mean time you can either:\n- apply the changes that I have suggested in my PR https://github.com/angular/angularfire2/pull/195\n- or create your own custom authentication service using angularfire2 and Firebase directly at the same time, similar to:\n```\nimport * as Firebase from 'firebase';\nimport { AngularFire, FirebaseAuth } from 'angularfire2';\nimport { Injectable } from '@angular/core';\n@Injectable()\nexport class AuthService {\n  firebaseAuth: FirebaseAuth;\n  private _firebase: Firebase;\nconstructor(AngularFire: AngularFire) {\n    this.firebaseAuth = AngularFire.auth;\n    this._firebase = new Firebase('https://.firebaseio.com');\n  }\nresetPassword(credentials: FirebaseResetPasswordCredentials): Promise {\n    return new Promise((resolve, reject) => {\n      this._firebase.resetPassword(credentials, error => {\n        if (error) {\n          reject(error);\n        } else {\n          resolve();\n        }\n      });\n    });\n  }\nchangePassword(credentials: FirebaseChangePasswordCredentials): Promise {\n    return new Promise((resolve, reject) => {\n      this._firebase.changePassword(credentials, error => {\n        if (error) {\n          reject(error);\n        } else {\n          resolve();\n        }\n      });\n    });\n  }\nchangeEmail(credentials: FirebaseChangeEmailCredentials): Promise {\n    return new Promise((resolve, reject) => {\n      this._firebase.changeEmail(credentials, error => {\n        if (error) {\n          reject(error);\n        } else {\n          resolve();\n        }\n      });\n    });\n  }\n}\n```\nHope this helps. Let me know if you have any questions.\n. Hi @bangonkali,\nMy previous example was working for the version of angularfire2 before the compatibility with Firebase 3. \nNow it has been updated, with Firebase 3, you don't need to instantiate a new Firebase reference because you inject the Firebase providers, and specify your Firebase configuration when you boostrap your app. \nHowever, because the method resetPassword is still not exposed on angularfire2, you can keep your own custom authentication service and add a method which is referencing directly firebase global object to access the authentication service of Firebase 3 and call the sendPasswordResetEmail method, similar to:\n```\nimport { AngularFire, AngularFireAuth } from 'angularfire2';\nimport { Injectable } from '@angular/core';\n@Injectable()\nexport class AuthService {\n  firebaseAuth: AngularFireAuth;\nconstructor(private _AngularFire: AngularFire) {\n    this.firebaseAuth = _AngularFire.auth;\n  }\nresetPassword(email: string)): Promise {\n    return firebase.auth().sendPasswordResetEmail(email);\n  }\n}\n```\nHope this helps.\n. Hi @bangonkali,\nPlease find an example with observable:\n```\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromPromise';\nimport { AngularFire, AngularFireAuth } from 'angularfire2';\nimport { Injectable } from '@angular/core';\n@Injectable()\nexport class AuthService {\n  firebaseAuth: AngularFireAuth;\nconstructor(private _AngularFire: AngularFire) {\n    this.firebaseAuth = _AngularFire.auth;\n  }\nresetPassword(email: string): Observable {\n    return Observable.fromPromise(firebase.auth().sendPasswordResetEmail(email));\n  }\n}\n```\nHowever, in my opinion, Observables should not always replace Promises:\n- For read operations such as getting a collection or an object, because they can be a stream of data it makes sense to subscribe to them in order to always get the latest value. \n- But in the case of single write operations such as delete, create or update, for me it is not necessary to return an observable because it should only return a single response and not a stream of response. So in this scenario there is no advantage of Observables vs Promises.\nHope this helps.\n. Hi @shamrozwarraich,\nCould you give us more details about the context of your issue:\n1. Have you upgraded your Firebase app to the new console Firebase 3?\n2. Did you make sure to initialise all the properties of the Firebase config?\n3. Could you give use an extract of your code calling the above example?\n4. Could you give use more details about the content of the failing request such as the Request Payload (section in the headers tab of the request details in Chrome Debugger Tool)?\nThank you.\n. Hi @mjabian,\nPlease look at my comment on #220, for a possible solution.\n. ",
    "theblang": "Thanks @davideast for your example! To answer your question, I was wanting to create instances of a model class using the Firebase data that was coming in, and likewise use those instances when updating with the AngularFire2 API. What I noticed is that when I made a new model instance (and the $key was null or undefined depending on how I specified the definition in the constructor), then the Firebase library itself would complain. So, my initial thought had been to delete the $key property if it was null or undefined at the AngularFire2 level to avoid having to do something like override toJSON. That change could be bad for reasons I don't realize though.\n. ",
    "andyfo": "I found the correct FirebaseAuth.login call. It looks like this:\nthis._auth.login({ token: accessToken }, { provider: AuthProviders.Facebook })\nThe second parameter is needed regardless the firebaseAuthConfig() configuration.\n. I am using angularfire2 in an ionic 2 project and I was getting the same error.\nTypings for firebase 3 seem not to be available yet so it doesn't help to install the firebase typings from the global repository.\nFor me, it helped to include the typings from node_modules/angularfire2 into the typings/main.d.ts file:\n/// <reference path=\"../node_modules/angularfire2/firebase3.d.ts\" />\n. OK \u2013\u00a0the desynchronization problem was my own: I didn't know that when I call take() on the Observable reference, it will kill the stream. I had a different component that was showing a loading indicator and was subscribing to the stream with take(1).\nYou can close this. Sorry!\n. ",
    "Cameron637": "@davideast I recently implemented angularfire2 oauth login with facebook access token the same as @zabojnik but I keep getting this error: {\"code\":\"auth/argument-error\",\"message\":\"signInWithCredential failed: First argument \\\"credential\\\" must be a valid credential.\"}.  Is this due to the new changes?  If so, how can I fix it?  I have checked and made sure that the access token I am receiving is valid and I have tried several ways of passing it in but all result in this error.  I've been looking all over for a solution but this thread seems to be the closest in relevance.  Here is the code I am using:\nlogin() {\n    Facebook.login([\"public_profile\", \"email\", \"user_friends\"])\n      .then((success) => {\n        console.log(\"Facebook success: \" + JSON.stringify(success));\n        this.af.auth.login(success.authResponse.accessToken, { provider: AuthProviders.Facebook })\n          .then((success) => {\n            console.log(\"Firebase success: \" + JSON.stringify(success));\n          })\n          .catch((error) => {\n            console.log(\"Firebase failure: \" + JSON.stringify(error));\n          });\n      })\n      .catch((error) => {\n        console.log(\"Facebook failure: \" + JSON.stringify(error));\n      });\n  }\nThis is also in an Ionic 2 application using angularfire2 v2.0.0-beta.2.  Thanks for the help!\n. I don't think this is related, but just in case it is I am also receiving a \"operation has timed out error\" that's not being caught but seems to be thrown by my this.af.auth.subscribe call.  The app keeps running fine but perhaps that's what's making the login fail.\n. You mean using a method such as AuthMethods.Popup with the InAppBrowser? I can't do this because I get an error on devices and emulators saying the domain is not authorized for oauth redirects and that I need to add the domain to the list on the firebase console.  I did some research and (according to this discussion: https://groups.google.com/forum/#!topic/firebase-talk/mC_MlLNCWnI) popup and redirect aren't yet supported by cordova apps.\nThat was when I switched to trying it this way.  Is there another way to fix this that I don't know about?\n. After refactoring my project and following @aaronksaunders method I finally got this working! Although he's right about having to declare firebase because of an error.  Maybe we should open a new issue about that? Anyway I'm going to go ahead and close this.  Thank you!\n. ",
    "quentinchap": "On my side i haven't this error with \"angularfire2\": \"^2.0.0-beta.3-0930330\" but there is an other issue #279 \n. I signed it!\n. I found this post and i try to add 127.0.0.1 and localhost to authorized domains for the project but it doesn't work and all was ok with legacy console. \nI find an other error, you'll may be have some idea:\nfile://apis.google.com/js/api.js?onload=__iframefcb120046 Failed to load resource: net::ERR_FILE_NOT_FOUND\nthank you\n. New error, after an update to firebase v 3.0.5 i have this error:\nThis operation is not supported in the environment this application is running on. \"location.protocol\" must be http or https.\nIt seems to be same issue than #243 \n. I tried, on my pc no problem but on my phone it's not working. \nComplete message:\ncode: \"auth/operation-not-supported-in-this-environment\"\nmessage:\"This operation is not supported in the environment this application is running on. \"location.protocol\" must be http or https.\"\n. \"angularfire2\": \"^2.0.0-beta.3-0930330\"\n. Same that #270 \n. signInWithRedirect seems to have the same issue than signInWithPopup()\n. Same issue with credential method and cordova-plugin-facebook4 (http://stackoverflow.com/questions/37768313/using-firebase-auth-with-facebook)\n```\nif (this.platform.is('ios') || this.platform.is('android')) {\n    Facebook.login(['public_profile']).then(function (result) {\n\n      console.log(\"Facebook success: \" + JSON.stringify(result));\n       authGlob.login(result.authResponse.accessToken, { provider: AuthProviders.Facebook })\n        .then((success) => {\n          console.log(\"Firebase success: \" + JSON.stringify(success));\n        })\n        .catch((error) => {\n          console.log(\"Firebase failure: \" + JSON.stringify(error));\n        });\n    })\n\n```\n\nFacebook success: {\"status\":\"connected\",\"authResponse\":{\"accessToken\":\"...\",\"expiresIn\":\"5110794\",\"session_key\":true,\"sig\":\"...\",\"userID\":\"...\"}}\napp.bundle.js:500 Firebase failure: {\"code\":\"auth/operation-not-supported-in-this-environment\",\"message\":\"This operation is not supported in the environment this application is running on. \\\"location.protocol\\\" must be http or https.\"}\n. After some correction I find a work around. I propose some add to the documentation #287\n. I signed it!\n. \n",
    "jongood01": "This no longer works as the push method returns a promise. Using preserveSnapshot on the list also doesn't seem to be ideal when you want to make sure you get the key of the newly created item.\n. @anivaisu  @IvRRimum 's answer works. Firebase creates the key for you when you push an item onto a list. .  I think you should do something like:\nconst promise = this.af.database.list('/moduls', { query: { orderByKey: name, equalTo: modul.name},  preserveSnapshot: true }).then((snapshot) => {\n    if(snapshot.exists()) {\n        console.log('Error an item with that name already exists');\n   } else {\n     // push the item onto the list \n  }\n} );\n. Same issue after upgrading to RC7 (seemed okay for me in RC6). I'm using email / password login method and the login works but auth.subscribe never gets called.\n. ",
    "IvRRimum": "Then how do you get the key? Why did you change such a good approach?\n. This works:\nitems.push(yourobject).then((item) => { console.log(item.key); });\n. This error is still present, none of the solution above worked for me.\n. @harry008 https://github.com/r-park/todo-angular2-firebase This repo works. Take this and delete stuff you don't need. \n. @buoyad Thank you!\n. I am using the angular2-seed repo\n. I don't know how to check the version of typescirpt\n. I reainstalled everything. Now i get this:[20:24:38] Starting 'build.js.dev'...\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/angularfire2.d.ts(13,66): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/angularfire2.d.ts(15,46): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(11,20): error TS1112: A class member cannot be declared optional.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(14,40): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(15,52): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(15,92): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(16,51): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(16,119): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth.d.ts(19,56): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(6,82): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(8,49): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(13,46): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(39,11): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(41,14): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(42,14): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(43,15): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(44,16): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(47,55): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/auth_backend.d.ts(47,85): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(8,14): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(9,25): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(17,73): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(19,36): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(20,37): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/database.d.ts(8,29): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/database.d.ts(9,31): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_factory.d.ts(5,74): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_factory.d.ts(5,104): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_observable.d.ts(6,50): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_observable.d.ts(6,80): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_observable.d.ts(8,11): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_observable.d.ts(8,41): error TS2503: Cannot find namespace 'firebase'.\n/home/karlis/Projects/my-instagram/admin/node_modules/angularfire2/database/firebase_list_observable.d.ts(9,23): error TS2\n. ",
    "anivaisu": "hi,\nHow can i edit the firebase data  using $key\nthis is my new data from firebase\n-KXxxQxJCdo0pidJI1ay\nEMAIL:\nFIRSTNAME:john\nLASTNAME:david\nMOBILE: 654656767\nI cannot get the data from firebase when using firebase object $key-->-KXxxQxJCdo0pidJI1ay\nkindly advice me\nThanks & regards\n. I used angular fire 2 with ionic 2\nHow to Push child with collection\nI need Following Output Using angular fire 2\n{\nASSIGN_TO: \"2\"\nCOMMENTS:{\ndfdsfdf:{\nCOMP_STATUS: \"OnProcess\",\nDATE: \"2016-12-16 09:57:03\"\n},\nfgfd:{\nCOMP_STATUS: \"OnProcess\",\nDATE: \"2016-12-16 09:57:03\"\n}\n}\n}\nKindly Advice me,\nThanks & Regards. ",
    "AnuragKDwivedi": "how to store items directly from form using angularfire2\n. hello @davideast !\nIm getting the same problem .\nAnd when im trying -->const promise = firebase.auth().createUserWithEmailAndPassword(this.email,this.password)\n    .then(function(user){\n      console.log(user)\n    }).catch(function(error){\n      console.log(error)\n    });\nim getting firebase is not defined !\n. ",
    "RikaonPessoa": "try this way:\nthis.firebaseApp.database().ref().child('/items'/').push().key;\ndon't forget import :\nimport { FirebaseApp } from 'angularfire2';. ",
    "wor-k": "for version 5, try \nconst ref = afDb.list('/items).query.ref.push();\nref.set(data);\nconsole.log(ref.key);. ",
    "flaviuj": "for version 5, you can also try:\nafDb.list('/items).push(null).then(( ref )=>{\n     ref.push({/ your_data_here /})\n}). ",
    "paean99": "For \"version\": \"5.0.0-rc.4\", this works.\njavascript\nconst newKey = afDb.list('/items').push(newItem).key\nRemark that it isn't a method like in the solution mentioned earlier.\n\njavascript\nconst newId = items.push('new item').key();\n\nedit: This one and all the earlier solutions are really the same one in different clothes...\n. Yes, createPushId() is also what i have been using. It promotes a cleaner workflow. I only found it initially because of the intellisense of the editor. I did search the documentation for it, without success.\nBut the earlier solutions still have its necessity if one specifically need the key only after the push (for whatever the reason).. Here is a video about this feature on the Firebase youtube channel: \nData consistency with Multi-path updates - The Firebase Database For SQL Developers #7\nThis post gives a little more explanations:\nClient-side fan-out for data consistency\n. ",
    "cwoolum": "I ended up going this route... It seemed the cleanest for what I was trying to do. I didn't like pushing the null to the collection because you can't use validations in your DB config.\nThis is for 5.0.0-rc4.\nlet receiptRef = this.receipts.push(receiptValue);\nreceiptRef.update({ id: receiptRef.key });. ",
    "kanafghan": "For me, having the same case as @cwoolum , the following works as of 5.0.0-rc.6:\n```\nconst pushId = this.afDb.createPushId();\nconst item = { ...item, id: pushId };\nthis.afDb.list('items').set(item.id, item);\n``AngularFireDatabasehas thecreatePushId()` method which is not mentioned anywhere the documentation.\n. I would really love for this to be fixed :-|\nHave been trying to make it work the past 2 days.\nWhat fails for me is AngularFireAuth:\nTypeError: Cannot read property 'auth' of undefined\n    at new AngularFireAuth (/user_code/node_modules/angularfire2/bundles/auth.umd.js:11:24)\n    at _createClass (/user_code/node_modules/@angular/core/bundles/core.umd.js:8307:20)\n    at _createProviderInstance$1 (/user_code/node_modules/@angular/core/bundles/core.umd.js:8269:26)\n    at initNgModule (/user_code/node_modules/@angular/core/bundles/core.umd.js:8202:32)\n    at new NgModuleRef_ (/user_code/node_modules/@angular/core/bundles/core.umd.js:8928:9)\n    at Object.createNgModuleRef (/user_code/node_modules/@angular/core/bundles/core.umd.js:8917:12)\n    at NgModuleFactory_.create (/user_code/node_modules/@angular/core/bundles/core.umd.js:11444:25)\n    at /user_code/node_modules/@angular/core/bundles/core.umd.js:4330:43\n    at ZoneDelegate.invoke (/user_code/node_modules/zone.js/dist/zone-node.js:388:26)\n    at Object.onInvoke (/user_code/node_modules/@angular/core/bundles/core.umd.js:3841:33)\n. @danwulff and @JancoBH FYI, I have been trying to do so the last 2 days but without any luck :disappointed: \n. Out of curiosity, I've tried to experiment with how to make Firebase realtime-database work with Angular Universal and Cloud Functions using the newly added Node.js 8 runtime. To do so, I have created a demo/experiment app.\nThe good news is that it is working, but as long as we do not access database() from firebase-admin in the startup script, i.e. during deployment of the functions. The database() access should happen during runtime of the function(s).\n. Your map() function is wrong since it does not return anything, i.e. the return value will be undefined. Check this sample on Stackblitz.com to see a working example. Please remember to add your Firebase config in the app.module.ts file.\nChange your map() function to:\nts\nthis.userDetails = this._fb.object('user/'+id).snapshotChanges().map(res => res.payload.val());\nand since you are using RxJS 6, I would suggest using pipe(), i.e.:\nts\nthis.userDetails = this._fb.object('user/'+id).snapshotChanges().pipe(\n  map(res => res.payload.val())\n);\nand please note that both object() and list() methods have valueChanges() which spares you from mapping the snapshot to the actual value, so the above can be achieved using only:\nts\nthis.userDetails = this._fb.object('user/'+id).valueChanges();\n. Your welcome @vhosamane, I'm glad that I could help.. Isn't it worth mentioning that ng run YOUR_PROJECT_NAME:server will actually use the dev configuration, i.e. environment.ts and not environment.prod.ts, while ng build --prod is actually building the client for production?. ",
    "PVermeer": "Is there anymore info on createPushId()? It types as createPushId(): string | null;\nIn what case can it be null? I cannot find anything in the src.. ",
    "vicb": "@davideast how does this relates to @jeffbcross branch ?\n. Yep Jeff, that's what we agrreed on\n. I was about to do it but because you insist, please take over ;)\nIt would be nice that you update periscope once angularfire supports it. Ping me if you need more info.\nThanks !!\n. @katowulf you're right - that actually what we ended up doing - forgot to close the issue, sorry\nedit: can not close this myself\n. Do you have a timeline (this PR is needed to have offline compilation) ?\n. As discussed, please add a TODO comment to the code to fix the this properly. Is anyone working on a solution ?\n. Please add comments to the code for maintainabilty.\nLGTM once the comments are adressed\n. Ref to https://github.com/angular/angular/issues/4603\n. LGTM after the comments are addressed\n. !\n. !\n. Could you add a comment on why you need to wrap the code in a zone. What exactly needs to be wrapped ?\n. What about\n- overriding the method ?\n- creating a decorator that can wrap any scheduler ?\n. I mean an inline comment :)\n. add a comment in the code\n. wrapSubscriberMethods.next, ...\n. const\n. subscription zone?\n. same comment\n. How could the zone be something else newZone here ?\nI think you should:\n- call subscribe from newZone,\n- trigger the cb from any other zone,\n- assert that cb in correct zone\n. remove\n. remove\n. add TODO: should be in the subscription zone instead\n. add TODO: should be in the subscription zone instead\n. ",
    "p2501dev": "Thanks for being open about progress / wip <3\n. ",
    "mhevery": "When calling getAuth without a logged in user it fails in authDataToAuthState with can not read uid from null\n. @jeffbcross Why do you think that @vicb should do this?\n. LGTM\n. ",
    "samirthebti": "hi @davideast  : \ni can use directly the web sdk of firebase v 3.0  with angular 2 ?\nif this  possible how ? \nthanks .\n. Thanks , sh'is work in my project now :dancers: . \n. i get this error  :\n\nyou must include credentials to use this auth method.\n. Try to replace \nimport * as firebase from 'firebase';\n\nwith \n\ndeclare var firebase:any;\n. Yes  we need a detailed documentation for use AngularFire .\n. On the OnDestroy() method put this : \npromise.subscribe().unsubscribe() ;\nit's work perfectly for me .\n. @lf-alves Thank you , that's what i asked for . \n. Hello \n in the documentation of retrieving data as lists  mentioned this method \n\nthis.items = af.database.list('/items', { preserveSnapshot: true });\nthis.items\n  .subscribe(snapshots => {\n    snapshots.forEach(snapshot => {\n      console.log(snapshot.key)\n      console.log(snapshot.val())\n    });\n  })\nhow we can unsubscribe . I think that unsubscribe method not existed  yet @lf-alves \n. thank you @lf-alves \nso what the solution ?  because i get the duplicated result of query when i refresh the component or when i get to another component and back to the component contain the query .\n. @lf-alves  I solve the problem by using this code : \nngOnDestroy(){\n  this.itemsSubscription.subscribe().unsubscribe();\n}\nFirebaseListObservable don't have the unsubscribe () methode , i used the subscribe unsubscribe () methode and she work fine for me , \nThanks @lf-alves  for your help \n. ",
    "elekzalan": "Can you mention this somewhere in the documentation, please? I'd say it would be useful to have a part in the docs where you clarify your policy about this.\n. Can we get an update on this topic, please?. ",
    "ross-nordstrom": ":+1: on mentioning how to do this in the docs\n. :+1: on mentioning how to do this in the docs\n. ",
    "idoghoo": "Hi, just wondering if an explanation on how to perform transactions ended up in the docs? Thanks\n. ",
    "dprof-johan": "Hi,\nI'm trying to figure this one out too. Is there any documentation / examples?. ",
    "GiselleSerate": "This thread got me most of the way there, but after the recent update, I had to do it this way: \n```\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\nexport class User {\n  db: AngularFireDatabase;\nconstructor(db: AngularFireDatabase) {\n    this.db = db;\n  }\naddDebt(amount: number) { \n    this.db.object('/users/'.concat(this.currentUserID,'/debts/',this.userID)).$ref.ref.transaction(debt => debt + amount);\n  }\n}\n```\nHope this helps! \n(Edit: Simplified code paste.). ",
    "RicardoVM64": "thank you so much for your response\ud83d\ude04\nwhen it was the las update?\n. Any Solution x2 ???\nRespond!!!. is there a solution already?. goddammit. nah, and you? lol  -_-. ",
    "aaronfrost": "@markgoho I was just wondering about this, and you commented less than an hour ago. Very cool fo you and coincidental. . vs Promise based... why not. Not a huge pain to deal with a promise here. . I should PR this to the documentation. It's sad that it's buried all the way over here in this 18 month old closed issue. . I agree with @jaufgang. The ref should be exposed differently, and that the proposed \"solution\" is more of a workaround, than a solution. Having to snapshotChanges and then subscribe, so that I can simply get a pointer to the ref is a lot of hoops that were't necessary before. Since the API is being rev'd, this should be considered. . I read the upgrade docs, and followed them. I did it twice, before submitting this issue. I have swapped out all the things it says to, and am getting this random warning in my console. I did remove all references to FirebaseObjectObservable. In the screenshot of the log, you can see that the error is referencing AngularFireObject, not FirebaseObjectObservable. . \nI checked this last night before I submitted the feedback. . ",
    "cengiz-dev": "Can anyone take a look at https://stackoverflow.com/questions/50215622/firebase-database-transaction-with-angularfire2 ?  I can't get this to work.. ",
    "daslicht": "so there is no way to use own typings wen using FirebaseListObservable ?\neg:\nhow do you cast the result of the following call to the Type of Slideshow ?, please:\ngetSlideshows():FirebaseListObservable<Slideshow> {\n        return this._af.database.list('/slideshows', {})\n     }\nerror:\nType 'FirebaseListObservable' cannot be converted to type 'Slideshow'.\n. Since the issue is closed I assume it has been added ? am I wrong ?\n. @sunlyear \nI just tried this solution, but  it also seams to be affected by the same bug as this:\nhttps://github.com/angular/angularfire2/issues/637\nIt takes ages until the image get shown, or it it working properly for you ?\n. So it is suggested to have rather 3 independent collections eg \nSlideshows\nSlideshow \nSlides\nthan nesting : \nSlideshows / Slideshow / Slides\n?\n. Hi, \nthank you for the answer, I put the call in the constructor as it was shown in the Documentation.\nLine 70: https://github.com/angular/angularfire2/edit/master/docs/2-retrieving-data-as-objects.md\nHave you tried it with my firebase credentials ? Probably I have configured something wrong ion Firebase that it take so long ?\nI also tried a similar way to you , something like this, but it was as slow as the other approach.\naf:AngularFire;\n  constructor(af: AngularFire) { \n   // this.item = af.database.object('/item');\n    console.log('constructor: ',this.item);\n    this.af = af;\n  }\n  ngOnInit() {\n    console.log('constructor: ',this.item);\n    this.item = this.af.database.object('/item');\n  }\njust using af in the ngOnInit is not possible since af is not available there.\n[ts] Cannot find name 'af'. Did you mean the instance member 'this.af'?\nany\nOr do you need to extend the Class somehow ?\n. Is there also a way to just extend or? implement the AngularFire Class so that you don't actually need to add it to the App Module but just to the Service. please?\n. I created a much simpler example without the Heroes overhead : \nhttps://github.com/daslicht/angular2-firebase\n. Have you tried subscribing to the FirebaseObjectObservable and printing in the console when the item is retrieved ?\nI tried logging it in the constructor but that just leads to the same result, what is the correct way to try this please? Pull request is welcome :)\n. FirebaseListObservable<any> seams to be NOT affected, they are displayed quite fast \n. A possible workaround until we get a official fix is to wrap the return into a Zone:\nhttps://github.com/daslicht/angular2-firebase/blob/oauth/src/app/app.component.ts#L53\n. The issue also occurs when dealing with RxJS Subjects.\nFor example we have a list of slideshows and we want to store its  reference to multiple slides in a separae slides collection:\n...\n    this.slideshows = this._af.database.list('/slideshows', {});\n    this.selectedSlideKeySubject = new Subject();       \n    this.slides = this._af.database.list('/slides', {\n      query: {\n        orderByChild: 'slideshowKey',\n        equalTo: this.selectedSlideKeySubject\n      }\n    });\n...\n      this._af.database.list('/slides/').push({\n        slideshowKey: this.selectedSlideshow.$key,\n        name:name\n      })\n...\nFinally apply filter:\nthis.selectedSlideKeySubject.next( this.selectedSlideshow.$key );\nWhere would I need to wrap with zone please?\n. hehe , already tried , no luck , thats why I am asking :)\n. so it has been fixed now ?\n. > What if you add the @Component decorator, does it work in the constructor?\n\n? it already woks in the constructor like this:\nconstructor(af: AngularFire) {\n    this.af =  af ;\n    this.item = af.database.object('/item');\n  }\n\nI asked fro using it in ngOnInit() since it was proposed here:\nhttps://github.com/angular/angularfire2/issues/637\n. Ok I found the issue , the af variable in the constructor needas to be private or public \nconstructor( private af: AngularFire) {\n. see: http://stackoverflow.com/questions/40262138/show-all-items-of-a-angularfire2-list-wehn-using-rxjs-subjects\n. @davideast I already posted my whole code in the initial post inclusive the tsconfig.\nAfter removing the following form the tsconfig: \n\"types\": [\n      \"firebase\"\n    ]\nI've got:\n```\nERROR in [default] /Users/daslicht/DEV/exp/angular2-firebase/src/typings.d.ts:5:12                                                                                              \nSubsequent variable declarations must have the same type.  Variable 'require' must be of type 'NodeRequire', but here has type 'any'.                                             \nERROR in [default] /Users/daslicht/DEV/exp/angular2-firebase/src/typings.d.ts:6:12                                                                                              \nSubsequent variable declarations must have the same type.  Variable 'module' must be of type 'NodeModule', but here has type 'any'.                                             \nChild html-webpack-plugin for \"index.html\":                                                                                        \n```\nsee:\nhttps://github.com/daslicht/angular2-firebase/blob/slideshow/src/typings.d.ts#L5\nChanged to : \ndeclare var System: any;\ndeclare var require: NodeRequire;\ndeclare var module: NodeModule;\nSo I deleted the nodes_modules folder and removed \"firebase\": \"^3.5.2\", as suggested by @Maistho from the package.json \nAfter a reinstall by using : \n npm install\nI've got no errors anymore, now its time to try it out.\n@dabele91\nNext time I have a look in the changelog for sure. \n@all \nThank you very much for the participation and help !\n. ",
    "Zyzle": "@rvmladenov Check which version of firebase you have installed (should be ^2.4.2 in your package.json) I had the same issue when I accidentally pulled the 3.x version in.\n. Sure its \"angularfire2\": \"2.0.0-beta.0\" I had to freeze this at 2.0.0-beta.0 as npm tried to pull in 2.0.0-beta.0-1 from somewhere (daviddm still shows this as the most current version of the package in fact) although it now seems to be content with beta.0\n. I've noticed this as well with the switch to beta1 and the 3.0 firebase sdk.  By the sound of things I'm doing something similar to you only using Google authentication.  There seems to be a fairly major downgrade in the time it takes to retrieve the auth information from firebase compared to the 2.x version.  All other database interactions seem unaffected. \n. @ericjim, @davideast  hmmn, I've updated to angular-cli webpack.2 and angularfire2@next but I'm still seeing the same  Cannot find namespace 'firebase'. errors every time webpack builds. Do I need to be on angular-cli master to resolve the problem?\n. @davideast Yeah I saw that in one of the linked issues here and tried installing typescript@next for both my project and globally, doesn't seem to have made any difference though.  If anything it's made things a lot worse as I now get hundreds of these errors from webpack for all kinds of modules (although again with apparently no problem to how the app functions).  I'm wondering if this is maybe a problem on the cli side rather than anything angularfire specific\n. @davideast I found the issue, it wasn't my angularfire or typescript versions that were causing the problem but the version of firebase itself, after updating to 3.3.0 (over 3.1.0) everything is fine\n. ",
    "rvmladenov": "Yep, seems that this was the problem with firebase ... but now I am having issues with the angularfire2 :)\nCould you give me the version you are using for that as well ?\n. Thank you ! Everything is working just fine now.\n. ",
    "randr01d": "I see where the issue is... in the install and setup doc the example removed the title = 'XYZ works!'; from:\nexport class Component { }\nThat trips up the testing spec for me when I go to run Serve\n. ",
    "meshekhar": "Just for the clarification: If I use \"subscribe\" then post object seems to be accessible as shown below with RouteParams itself. \nthis.post.subscribe(snapshot => console.log(snapshot.title));\nAny thoughts?\n\nAlso after implementing your suggestion i m getting the following error, which i am trying to fix right now:\nEXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property 'isSkipSelf' of null\n. My code structure is based on r-park's todo-angular2-firebase sample code.\nhttps://github.com/r-park/todo-angular2-firebase\nMy blog app which is similar to the above 'todo-angular2-firebase', i have added few additions such as; a separate page for the single post which i am trying to access using post key from database.\nNote: I stop using CLI because I could not get the Firebase module to correctly configure which i needed to get the server time stamp using 'Firebase.ServerValue.TIMESTAMP;'\n. ",
    "epiphanatic": "using angular-cli (angular 2) you would add majodi's comment to src/typings.d.ts, and then at the top of your component: import * as firebase from 'firebase'. \nat least this is what worked for my particular situation as nothing else was working and/or was changing way too many things in way too many locations. above solution is pretty straight forward if using above setup\n. @tonyawad88 just to clarify katowulf's comment, that is exactly what it should be - logging it to the console will just give a placeholder object - this object won't have any value until it is sent to the firebase server in some way (it won't just put a timestamp in a variable like PHP or something would). So for example, if I were to do something like\nlet dateCreated = firebase.database.ServerValue.TIMESTAMP;\nthere would be no value until I did something else like\nthis.af.database.list('/users').push({\n                uid: uid,\n                dateCreated: dateCreated\n              });\nat which point a new user is pushed to the database with the date that the user was created\n. ",
    "denizcoskun": "@epiphanatic @majodi \nthank you!! \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d \n. @jeffbcross Hey Jeff,\nI am having some issues with trackby when I built with --aot. Can you help?\nthank you.\nangular-cli: 1.0.0-beta.20-4\n<app-note *ngFor=\"let note of notes | async; trackBy: trackFbObjects\" [note]=\"note\" >\noutput:\nO @ database.js:54\n(anonymous) @ database.js:61\nZoneDelegate.invokeTask @ zone.js:265\nZone.runTask @ zone.js:154\nZoneTask.invoke @ zone.js:335\ndata.args.(anonymous function) @ zone.js:970\ndom_renderer.js:301 Uncaught TypeError: Cannot read property 'replace' of undefined\n    at flattenStyles (dom_renderer.js:301)\n    at new DomRenderer (dom_renderer.js:80)\n    at DomRootRenderer_.DomRootRenderer.renderComponent (dom_renderer.js:38)\n    at DebugDomRootRenderer.renderComponent (debug_renderer.js:15)\n    at ViewUtils.renderComponent (view_utils.js:23)\n    at View_NoteComponent0.AppView (view.js:50)\n    at new View_NoteComponent0 (note.component.ngfactory.ts:116)\n    at View_NotesComponent1.createInternal (notes.component.ngfactory.ts:206)\n    at View_NotesComponent1.AppView.create (view.js:74)\n    at TemplateRef_.createEmbeddedView (template_ref.js:59)\n. here is the full example.\n`\nimport { Injectable } from '@angular/core';\nimport { AngularFire, FirebaseObjectObservable } from 'angularfire2';\nimport { AuthService } from './auth';\nimport { Router, Resolve, RouterStateSnapshot,\n ActivatedRouteSnapshot } from '@angular/router';\nimport { Folder } from './models/folder.model';\nimport { Observable } from 'rxjs';\nimport 'rxjs/add/operator/first';\n@Injectable()\nexport class FolderResolver implements Resolve> {\nconstructor(private af: AngularFire, private auth: AuthService, private router: Router) {\n  }\nresolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable> {\nlet id = route.params['id'];\nconsole.log(id);\n\nlet folderID = `/users/${this.auth.id}/folders/${id}`;\nlet folder =  this.af.database.object(folderID);\n\nreturn folder.do((s) => {\n    if(s.$value === null) {\n        this.router.navigate(['/dashboard']);\n        return null;\n    } else {\n        return folder;\n    }\n}).take(1);\n\n}`. ",
    "tonyawad88": "@Metafili @majodi @epiphanatic I am still having a problem with this. \nimport * as firebase from 'firebase';\nvar y = firebase.database.ServerValue.TIMESTAMP;\nconsole.log(y);\nI get this:\n\nAny thought? Thank you !\n. Ohh I understand now @epiphanatic thank you !\n. ",
    "ndriJK": "For those who want to avoid all these imports and declarations, you can use this syntax \nfirebase.database['ServerValue']['TIMESTAMP']\nhttps://github.com/angular/angularfire2/issues/353. @andlcool thanks it worked for me. @yuber1792 you are doing it the wrong way...\nfirebase.database['ServerValue']['TIMESTAMP']  is a value understandable by firebase only. when you put this value in a variable and do a set or update on firebase this value will be replaced by a server timestamp corresponding to the moment you did your set/update.\nYou cannot use this value as a javascript date since it is not.. ",
    "fabien0102": "If you use lodash in your project, you can use _.get(firebase, 'database.ServerValue.TIMESTAMP') too. (It can be useful if you have a strict linter \ud83d\ude09 ). @katowulf I must admit, I have see the consesus in #201, but I find ugly to must do .$ref.transaction() whereas I have a quick and proper access for all others firebase methods\u2026\nI could understand you argument of complexity if firebase have more of 4 methods for object/list ( transaction include). For my personal experience, I lose a lot of time to see how angularfire2 implements firebase methods (because of firebase doc api is actually more complete).\nIn short, I find angularfire2 very cool but I\u2019m really not understand why the consensus is to implements 90% of firebase methods (missing optional args, even if I don\u2019t need to use it, it\u2019s cost nothing to pass them) and this transaction boycott.\n. @theunreal  I\u00a0added transaction support in PR https://github.com/angular/angularfire2/pull/610 if want ;)\n. npm i and yarn install work as well in local\u2026 I missed something or Travis doesn't work?\n. ",
    "rcanu": "@E-Kom I'm afraid import and declare are still needed as @epiphanatic mentioned. @E-Kom I'm afraid import and declare are still needed as @epiphanatic mentioned. Same error here. I'm was using Firebase 5.5.5 but downgraded to Firebase 5.4.2 and @angular/fire 5.0.0. Same error here. I'm was using Firebase 5.5.5 but downgraded to Firebase 5.4.2 and @angular/fire 5.0.0. You may refer to this link fo the solution:\nhttps://github.com/firebase/firebase-js-sdk/issues/1240. You may refer to this link fo the solution:\nhttps://github.com/firebase/firebase-js-sdk/issues/1240. Seems to be working fine too when I upgraded to Angular 7. Although this prompts when doing npm install\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/common@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/core@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/platform-browser@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/platform-browser-dynamic@^6.0.0 but none is installed. You must install peer dependencies yourself.. Seems to be working fine too when I upgraded to Angular 7. Although this prompts when doing npm install\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/common@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/core@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/platform-browser@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN @angular/fire@5.0.2 requires a peer of @angular/platform-browser-dynamic@^6.0.0 but none is installed. You must install peer dependencies yourself.. ",
    "Daewju": "any updates?\n. ",
    "escobara": "Any updates on this?\n. The problem with using first() is that it will only call the object or list then automatically unsubscribe which will cause problems when reading live changes on the page. So you would need to reload the page if you want to see the changes.  I ran into this problem when trying to load a object so that I could edit it. . ",
    "EralpB": "Any updates on this?\n. ",
    "MMOSX": "Hi, how can i upload a file on firebase storage\n. I have the same problem, but then i try with login the app run only for Password login and not for Google ora Twitter or Facebook.\nI did generate my app using angular-cli.webpack.\n. ",
    "veerni": "@davideast i believe this feature is not live yet, so is there a work around for the same?\n. ",
    "jtushar53": "can i use firebase.storage() with angularfire 2, do i have to re-initialize firebase again, i have whole ionic app made up on angularfire 2, it has only one screen with file upload(profile pic).\n. i'm using ionic 2 beta 10 which uses angular rc3, tried upgrading angularfire2 manually from package.json\ngetting below error while bootstrapping\nreflective_provider.js:163 Uncaught Invalid provider - only instances of Provider and Type are allowed, got: [object Object]\nany workaround would be great\n. just now upgraded to ionic rc 2.0.0 which has angular 2.0.0 (stable). still getting same error.\n[12:19:33]  Error: Module D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\angularfi\nre2\\node_modules\\firebase\\firebase-browser.js does not export initializeApp (imp\norted by D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\angularfire2\\angularfire2.\njs)\n    at Module.trace (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\ro\nllup.js:7677:29)\n    at ModuleScope.findDeclaration (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\n\\rollup\\dist\\rollup.js:7300:22)\n    at Scope.findDeclaration (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollu\np\\dist\\rollup.js:5351:39)\n    at CallExpression.bind (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\\ndist\\rollup.js:5826:28)\n    at D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollup.js:5151:5\n0\n    at ReturnStatement.eachChild (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\r\nollup\\dist\\rollup.js:5168:5)\n    at ReturnStatement.bind (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\n\\dist\\rollup.js:5151:7)\n    at BlockStatement.bind (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\\ndist\\rollup.js:5617:9)\n    at FunctionDeclaration.bind (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\ro\nllup\\dist\\rollup.js:6405:13)\n    at ExportNamedDeclaration.bind (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\n\\rollup\\dist\\rollup.js:6223:44)\napp.module.ts\nexport const firebaseConfig = {\n  apiKey: 'xxx',\n  authDomain: 'xxx',\n  databaseURL: 'xxx',\n  storageBucket: 'xxx'\n};\n@NgModule({\n  declarations: [\n    MyApp,\n    AboutPage,\n    ContactPage,\n    HomePage,\n    TabsPage\n  ],\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig),\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    AboutPage,\n    ContactPage,\n    HomePage,\n    TabsPage\n  ],\n  providers: []\n})\nexport class AppModule { }\nis this something to do with ionic so that i can report there?\nany help\n. thank you very much @shlomiassaf ,\n@Chris1308  me too getting that error\nbut successfully working realtime array.\n@shlomiassaf ,i think something nasty going with watch script, try to change my code getting below error. then i have to restart ionic serve\nRunning 'serve:before' npm script before serve\n`> ionic-hello-world@ watch D:\\Tushar\\Projects\\ionic2Sample\n\nionic-app-scripts watch\n[20:06:29]  ionic-app-scripts 0.0.23\n[20:06:29]  watch started ...\n[20:06:30]  build dev started ...\n[20:06:30]  clean started ...\n[20:06:30]  clean finished in 20 ms\n[20:06:30]  copy started ...\n[20:06:30]  typescript compiler started ...\n[20:06:30]  lint started ...\n[20:06:30]  copy finished in 97 ms\n[20:06:31]  lint finished in 1.15 s\n[20:06:35]  typescript compiler ready in 5.33 s\n[20:06:35]  bundle dev started ...\n[20:06:40]  rollup: Treating 'firebase' as external dependency\n[20:06:45]  rollup: No name was provided for external module 'firebase' in optio\nns.globals - guessing 'firebase'\n[20:06:47]  bundle dev finished in 12.20 s\n[20:06:47]  sass started ...\n[20:06:49]  sass finished in 2.17 s\n[20:06:49]  build dev finished in 19.72 s\n[20:06:49]  watch ready in 19.80 s\nRunning live reload server: http://localhost:35729\nWatching: www//*, !www/lib//, !www/__/.map\n\u221a Running dev server:  http://localhost:8100\nIonic server commands, enter:\n  restart or r to restart the client app from the root\n  goto or g and a url to have the app navigate to the given url\n  consolelogs or c to enable/disable console log output\n  serverlogs or s to enable/disable server log output\n  quit or q to shutdown the server and exit\nionic $ [20:07:06]  typescript compilation started ...\n[20:07:09]  bundle dev update started ...\n[20:07:11]  Error: Could not load firebase (imported by D:\\Tushar\\Projects\\ionic\n2Sample\\node_modules\\angularfire2\\angularfire2.js): ENOENT: no such file or dire\nctory, open 'D:\\Tushar\\Projects\\ionic2Sample\\firebase'\n    at D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollup.js:8742:1\n0\n    at process._tickCallback (node.js:369:9)\n[20:07:11]  sass started ...\n[20:07:11]  sass finished in 17 ms\n[20:07:11]  typescript compilation finished in 5.11 s\n[20:07:11]  bundle dev update started ...\n[20:07:11]  RangeError: Maximum call stack size exceeded\n    at isArray (native)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:157:7)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n    at deepClone (D:\\Tushar\\Projects\\ionic2Sample\\node_modules\\rollup\\dist\\rollu\np.js:165:18)\n[20:07:11]  sass started ...\n[20:07:11]  sass finished in 17 ms`\n. thanks @shlomiassaf , you saved my days. i'm assuming it's not angularfire2 issue so closing this issue.\n. thanks @shlomiassaf , you saved my days. i'm assuming it's not angularfire2 issue so closing this issue.\n. opening this issue as i am still getting issues while creating new projects, currently workaround by @shlomiassaf  made it work i am ignoring side effects. waiting for angularfire2 team to comment on this\n. @adirzoari , didn't got any proper solution but you can here https://javebratt.com/ionic2rc0-firebase-angularfire2/ or https://javebratt.com/ionic2rc0-firebase-angularfire2/\n\nI am currently on beta 11 as of now \n. updating to angularfire2 2.0.0-beta.6 and ionic rc2, it is working as expected without rollupconfig.js as ionic rc2 has webpack by default now.\n. thanks for reply @mukesh51 \ngot clear about how will be the structure \nhow could i do it using angularfire2 as i dont find any doc to get ref of a child and push object into it  ?\nalso how could i search task specific to employee using angularfire2, so that an employee will see only his task?\n. ",
    "candidature": "@davideast Sir we are waiting for storage API of angularfire2. Is there an update?\n. @jasugh Thanks.\nYour last line solved my issue. i'm on RC.5\nimport * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\n. ",
    "okonovalenko": "Any update on this feature? Thank u\n. ",
    "norwebcl": "any update? i'm waiting for angularfire2 storage \ud83d\udc4d\nBest regards \ud83d\ude03 \n. Its not ready yet, we are waiting for the final release. \nBest Regards.\n. Hi Mark,\nSorry but the firebase storage works really bad on the preview release, take a long time to show the files. We have to wait to the final release for better performance, because now is just 2 lines of code adapted.\nBest Regards.\nSebastian D\u00edaz Villada\nDesarrollador Full-Stack\nM\u00f3vil: +56 9 79852830\nhttp://www.norweb.cl/\nAntofagasta - Chile\n[cid:EA86A0BA-D1E3-48FF-8230-6C7E72D06C41]\nEsta comunicaci\u00f3n puede contener material confidencial y/o informaci\u00f3n con derechos reservados del propietario, por lo tanto el uso de la misma es exclusiva para el destinatario. Si usted recibi\u00f3 este material por error, por favor notif\u00edquelo inmediatamente al remitente, borre el correo y cualquier documento asociado con el mismo.\nEl 26-10-2016, a las 04:15, Marc Wensauer notifications@github.com<mailto:notifications@github.com> escribi\u00f3:\n@sunlyearhttps://github.com/sunlyear\nI just tried this solution, but it also seams to be affected by the same bug as this:\n637https://github.com/angular/angularfire2/issues/637\nIt takes ages until the image get shown, or it it working properly for you ?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/213#issuecomment-256267819, or mute the threadhttps://github.com/notifications/unsubscribe-auth/ARMku5bpAt4JY-7c8VEE3gJ-iX5NweX5ks5q3v4DgaJpZM4IwgaR.\n. Hi Mark,\nSorry but the firebase storage works really bad on the preview release, take a long time to show the files. We have to wait to the final release for better performance, because now is just 2 lines of code adapted.\nBest Regards.\nSebastian D\u00edaz Villada\nDesarrollador Full-Stack\nM\u00f3vil: +56 9 79852830\nhttp://www.norweb.cl/\nAntofagasta - Chile\n[cid:EA86A0BA-D1E3-48FF-8230-6C7E72D06C41]\nEsta comunicaci\u00f3n puede contener material confidencial y/o informaci\u00f3n con derechos reservados del propietario, por lo tanto el uso de la misma es exclusiva para el destinatario. Si usted recibi\u00f3 este material por error, por favor notif\u00edquelo inmediatamente al remitente, borre el correo y cualquier documento asociado con el mismo.\nEl 26-10-2016, a las 04:15, Marc Wensauer notifications@github.com<mailto:notifications@github.com> escribi\u00f3:\n@sunlyearhttps://github.com/sunlyear\nI just tried this solution, but it also seams to be affected by the same bug as this:\n637https://github.com/angular/angularfire2/issues/637\nIt takes ages until the image get shown, or it it working properly for you ?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/213#issuecomment-256267819, or mute the threadhttps://github.com/notifications/unsubscribe-auth/ARMku5bpAt4JY-7c8VEE3gJ-iX5NweX5ks5q3v4DgaJpZM4IwgaR.\n. I signed CLA too, i have a few questions about, firestore docs. Regards!. ",
    "sunlyear": "I have faced the same issue, and the current work around is to access firebaseApp (firebase instance inside AngularFire2 module). Here is the original solution.\n```\nimport { Component, Inject } from '@angular/core';\nimport { FirebaseApp } from 'angularfire2';\n@Component({\n  template: 'testing'\n})\nexport class AnyComponent {\nconstructor(@Inject(FirebaseApp) firebaseApp: any) {\n    const storageRef = firebaseApp.storage().ref().child('images/image.png');\n    storageRef.getDownloadURL().then(url => this.image = url);\n  }\n}\n``\n. I think usingfirebase.initializeApp(firebaseConfig)is not a good solution because we are initializing another instance of firebase object. Say, we authorize user usingAuthinAngularFire, thefirebase (global instance)` will not have all authorized information when you try to access storage ref. I made a comment in #213 base on solution from here.\n. ",
    "r-vijay-r": "hello this may help beginners to upload files from local drive to firebase especially for those who are using angular2 typescript angular-cli\nimport { Component, EventEmitter } from '@angular/core';\nimport * as firebase from 'firebase';\n@Component({\n  selector: 'app-root',\n  template: <input type=\"file\" id=\"filebutton\" value=\"upload\" #filebtn (change)=\"filebuttoni($event)\">,\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    storageref;\n    storage;\n    path;\n  constructor(){\n    let config = {\n    apiKey: ,\n    authDomain: ,\n    databaseURL: ,\n    storageBucket: \n    };\n    firebase.initializeApp(config);\n    this.storage =firebase.storage().ref();\n  }\n  filebuttoni(event){\n    let files = event.srcElement.files[0];\n    let uploader=document.getElementById(\"uploader\");\n    this.path=\"images/\"+files.name;\n    this.storageref=this.storage.child(this.path);\n    let task=this.storageref.put(files);\n  }\n}\nmake sure you made your firebase storage rules true because i am not doing authentication since this is a test code. i got this form some great programmers written their answers in stackoverflow . i am new in this so you may get explanations from experts. i done \"npm install --save angularfire2 firebase\" . works for me. please let me know if i did anything wrong. thank you . please fill the config with your firebase config\nFor a small demo visit \nhttps://r-vijay-r.github.io/upload/ \nSelect a pic from local drive and wait till uploads. Can also delete uploaded.\n. yep.. or simply go to node_modules/firebase/ and check app.d.ts and firebase.d.ts exist. if exists then just delete firebase.d.ts. Because both contains the same definitions and that is causing this error. This works always.\nthere is no /@types/firebase as @davideast  said.\nand i am using latest firebase and angular2 since first 1hr of my working time is dedicated to update packages and my tools to latest version.\n. yep.. or simply go to node_modules/firebase/ and check app.d.ts and firebase.d.ts exist. if exists then just delete firebase.d.ts. Because both contains the same definitions and that is causing this error. This works always.\n. ",
    "MmtBkn": "Hi @davideast any updates?\n. ",
    "da45": "Hi @davideast, \nPlease any news about this  feature? please give us just an estimation of the release date,\n. Now it works fine, don't miss  \"npm i angularfire2@next --save\"  guys before using .first() .take(1). thanks @markgoho \nyour idea is great, I used it as described below:\n```\nimport { AngularFire, AuthProviders,AuthMethods} from 'angularfire2';\nimport * as firebase from 'firebase';\n(......)\n  this.af.auth.createUser({\n    email: this.emailAddress,\n    password: this.passWord\n  }).then(\n    (success) => {\n       let user:any = firebase.auth().currentUser;\n       user.sendEmailVerification().then(\n         (success) => {console.log(\"please verify your email\")} \n       ).catch(\n         (err) => {\n           this.error = err;\n         }\n       )\n\n    }).catch(\n      (err) => {\n        this.error = err;\n      })\n\n```\nit works fine now :)\n. ",
    "joehalliwell": "I signed the CLA. Seems like overkill for such a tiny change, but hey maybe it'll come in useful.\n. ",
    "cjblomqvist": "Hey @davideast \nI don't have much time at the moment for a plnkr - I'll get back to you though ASAP I find the time.\nRegarding the PR. I had to do the fix for a project we're doing (where we encounter the issue), hence the PR part was very small. Also, since this was a pure bug fix which seemed very obvious once you understand the problem, I did not feel the need to check too much before submitting. Anyway, despite this I'm very open for a discussion and I can understand your motive behind it :-)\n. Excellent! Thanks for good work and sorry I've been totally jammed throughout the summer!\n.  I signed it!\n. ",
    "ivoviz": "@davideast Is there a base plnkr that we can use? I'm having a similar problem with FirebaseObjectObservable (not so drastic that it destroys the component, but it still makes angularfire unusable in production) and I would gladly reproduce it, but making angularfire work in plnkr is... well, meh.\n. @davideast I'm not sure how that integration would look like, but it would be really nice to have an easy solution for a global \"wait-for-auth\" thing. It's a PITA at the moment to do stuff on page loads where the uid is needed since we have to subscribe everywhere to af.auth and do the stuff we want in that subscription.\nA really simple example: user opens randomurl/issue/123 and wants to increment the view counter for issue 123. Since the auth object is async we can't just simply .set the counter at views/issueID/uid to +1 because auth.uid doesn't exist at that point, so first we have to subscribe to af.auth. I really hope there will be an easier way to do this. (If there already is one please tell me!)\n. @5amfung As a workaround (since I've had the same issue as well) you could just simply copy firebase3.d.ts into your src directory and in tsconfig simply add \"firebase3.d.ts\". That's the only way I could make it work within a cli project, every other suggestion failed for me.\n. I've been seeing this error for some time now, but I never reported for some reason (maybe I thought it's the normal behavior). My use case is not the same though, but the same thing happens. Basically it's reproducible without an inner list (at least in my case), just simply using LimitToLast (or First) with an Observable so you change the limit on the fly. What I tried to implement was a infinie-scroll kind of list, but after increasing the limit the list for 50+ elements, the app just becomes unusable, since ngFor runs way too many times for no reason (the array comes back on every item added/changed/removed/anything basically, just as @VladimirMakaev mentioned).\nI can create a plnkr (can do a template as well if needed) in a couple hours, but until that here is a basic snippet:\nreturn this.af.database.list(`path`, {\n  query: {\n    orderByChild: 'added',\n    limitToLast: limit\n  }\n});\npath should contain a couple children and just do limit.next(10) for example.\n. @asadsahi Getting AoT working is not really a big deal even on a CLI made project, and I'm actually waiting for angularfire2 to work with AoT. Also the latest release isn't really a deal breaker, one could just use rxjs beta.10 until it's released, but AoT is something that should definitely work now that Angular 2.0.0 is released and I'm really glad they're working on it!\n. @asadsahi Imo they just forgot to release initially and later on found an issue with AoT. Probably they'll fix it soon and then do a release. I understand your frustration, but the lib - with a small modification - still works, so I wouldn't really sweat it. Let's hope they'll do a release soon with AoT fixes though!\n. @jeffbcross Thanks! I've just tried it, it's still not working for AoT, but at least it's a new error now. Previously I had Could not resolve 'angularfire2' from .../src/app/app.module.js, now it's Could not resolve '_stream_writable' from .../node_modules/angularfire2/node_modules/firebase/database-node.js\n. Just to be sure I'm doing it right, my rollup config is something like this:\nexport default {\n  entry: 'src/main.js',\n  dest: 'dist/build.js',\n  sourceMap: false,\n  format: 'iife',\n  plugins: [\n      nodeResolve({jsnext: true, module: true}),\n      commonjs({\n        include: ['node_modules/rxjs/**', 'node_modules/angularfire2/**'],\n      }),\n      uglify()\n  ]\n}\n. @jeffbcross It's just a wild guess, but it seems like it's trying to load the node version of firebase (firebase-node) instead of the browser one (firebase-browser).\n. @davideast Doesn't seem to do the trick, at least for me. Upgraded firebase to 3.4.0 both in my app and in angularfire2 itself, but still the same error.\n. @jeffbcross Thanks for the tip! Adding browser: true gets me to a new error: Module .../node_modules/angularfire2/node_modules/firebase/firebase.js does not export initializeApp (imported by .../node_modules/angularfire2/angularfire2.js). Tried to add firebase to commonjs plugin, doesn't help.\n. rollup\n```\nimport rollup from 'rollup';\nimport nodeResolve from 'rollup-plugin-node-resolve';\nimport commonjs from 'rollup-plugin-commonjs';\nimport uglify from 'rollup-plugin-uglify';\nexport default {\n  entry: 'src/main.js',\n  dest: 'dist/build.js', // output a single application bundle\n  sourceMap: false,\n  format: 'iife',\n  plugins: [\n    nodeResolve({ jsnext: true, module: true, browser: true }),\n    commonjs({\n      include: [\n        'node_modules/rxjs/',\n        'node_modules/angularfire2/',\n        'node_modules/firebase/**'\n      ],\n    }),\n    uglify()\n  ]\n}\n```\ntsconfig\n```\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"jasmine\",\n      \"firebase\",\n      \"hammerjs\",\n      \"core-js\"\n    ]\n  },\n\"files\": [\n    \"app/app.module.ts\",\n    \"main.ts\",\n    \"typings.d.ts\"\n  ],\n\"angularCompilerOptions\": {\n   \"genDir\": \"../aot\",\n   \"skipMetadataEmit\" : true\n }\n}\n```\nUsing angularfire2 next (or beta.5-preview)\n. Same error sadly.\n. Just fyi, I'm pretty sure it was happening with 3.3.0/3.3.2 as well.\n. Sent an invite, it's in the aot branch.\n. @jlsuarezs Read https://github.com/angular/angularfire2/issues/545#issuecomment-248712121, might help you out.\n. You can ignore that imo.\n. @jeffbcross I believe it's because of a simple typo. package.json has \"main\": \"bundles/angularfire2.umd.js\" while the file itself is angularFire2.umd.js.\n. ",
    "escarabin": "Thank you very much your help, I created a custom AuthService and it worked like a charm.\n. ",
    "bangonkali": "Hi @julienevano could you expound on your example?\nI tried doing As per documentation  from here:\n\nI get an error on my 'ng serve':\n```\nfile changed app\\auth\\auth.service.ts\nThe Broccoli Plugin: [BroccoliTypeScriptCompiler] failed with:\nError: Typescript found the following errors:\n  c:/Users/bango/Documents/Projects/agus/tmp/broccoli_type_script_compiler-input_base_path-yxkIbstu.tmp/0/src/app/auth/auth.service.ts (8, 21): Cannot find name 'Firebase'.\n  c:/Users/bango/Documents/Projects/agus/tmp/broccoli_type_script_compiler-input_base_path-yxkIbstu.tmp/0/src/app/auth/auth.service.ts (12, 22): Cannot use 'new' with an expression whose type lacks a call or construct signature.\n    at BroccoliTypeScriptCompiler._doIncrementalBuild (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\lib\\broccoli\\broccoli-typescript.js:120:19)\n    at BroccoliTypeScriptCompiler.build (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\lib\\broccoli\\broccoli-typescript.js:43:10)\n    at C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\broccoli-caching-writer\\index.js:152:21\n    at lib$rsvp$$internal$$tryCatch (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1036:16)\n    at lib$rsvp$$internal$$invokeCallback (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1048:17)\n    at lib$rsvp$$internal$$publish (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1019:11)\n    at lib$rsvp$asap$$flush (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1198:9)\n    at _combinedTickCallback (internal/process/next_tick.js:67:7)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\nThe broccoli plugin was instantiated at:\n    at BroccoliTypeScriptCompiler.Plugin (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\broccoli-plugin\\index.js:10:31)\n    at BroccoliTypeScriptCompiler.CachingWriter [as constructor] (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\broccoli-caching-writer\\index.js:21:10)\n    at BroccoliTypeScriptCompiler (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\lib\\broccoli\\broccoli-typescript.js:27:5)\n    at Angular2App._getTsTree (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\lib\\broccoli\\angular2-app.js:331:18)\n    at Angular2App._buildTree (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\lib\\broccoli\\angular2-app.js:124:23)\n    at new Angular2App (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\lib\\broccoli\\angular2-app.js:53:23)\n    at module.exports (C:\\Users\\bango\\Documents\\Projects\\agus\\angular-cli-build.js:10:10)\n    at Class.module.exports.Task.extend.setupBroccoliBuilder (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\angular-cli\\lib\\models\\builder.js:55:19)\n    at Class.module.exports.Task.extend.init (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\angular-cli\\lib\\models\\builder.js:89:10)\n    at new Class (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\core-object\\core-object.js:18:12)\n    at Class.module.exports.Task.extend.run (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\angular-cli\\lib\\tasks\\serve.js:15:19)\n    at C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\angular-cli\\lib\\commands\\serve.js:64:24\n    at lib$rsvp$$internal$$tryCatch (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1036:16)\n    at lib$rsvp$$internal$$invokeCallback (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1048:17)\n    at lib$rsvp$$internal$$publish (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1019:11)\n    at lib$rsvp$asap$$flush (C:\\Users\\bango\\Documents\\Projects\\agus\\node_modules\\angular-cli\\node_modules\\rsvp\\dist\\rsvp.js:1198:9)\n```\n. Hi @julienevano Awesome it worked great!\nIf it's not too much to ask, could you also send in an example for this using RxJS? I was under the impression that it  was a cleaner approach to promises. If my understanding is correct , one can refactor this using observables. Is this possible?\n. Closed as per https://github.com/angular/angularfire2/pull/195 \n. ",
    "shamrozwarraich": "@julienevano @bangonkali \n  using the above example with promise and Observables ..but in both cases getting the error in console \nwww.googleapis.com/identitytoolkit/v3/relyingparty/getOobConfirmationCode?key=AIzaSyCLiJEcrWpH8IqUx59Yu-pv2O79pHV7Jjk:1 POST https://www.googleapis.com/identitytoolkit/v3/relyingparty/getOobConfirmationCode?key=AIza 503 (OK)\nlogin.ts:33 Error: Q\n. @julienevano hiii ,,,\n1 : am using  package.json\n      \"angularfire2\": \"^2.0.0-beta.2\",\n       \"firebase\": \"^3.2.0\",\n2 :done in  my app.ts\n3:using it on ionic 2 and calling the promise example as mention above in login.ts as\n`  resetPassword() {\n    console.log(\"checkkkkkkkk\");\n      this.service.resetPassword(\"12015019-106@uog.edu.pk\")\n       .then(data => {console.log(\"Success\" + data);\n       }).catch(error => {\n           console.log(\"failed\" + error); \n       });\n}`\nserve the app and got error in console\n\n. facing the same problem any help plz...:/ \n. @filoxo  as u mension in the #234 i followed the setup now i facing these error :/\nionic $ TypeScript error: E:/firebase v3/ionic2-angularfire-sample-firebase3-sup\nport/node_modules/angularfire2/providers/auth.d.ts(12,20): Error TS1112: A class\n member cannot be declared optional.\nTypeScript error: E:/firebase v3/ionic2-angularfire-sample-firebase3-support/nod\ne_modules/angularfire2/utils/firebase_object_observable.d.ts(6,17): Error TS1112\nand thnks to all @davideast  @jeffbcross  @imsingh @dmastag\n. \"globalDependencies\": {\n    \"firebase3\": \"file:node_modules/angularfire2/firebase3.d.ts\"\n  }\n. new error :/ .... \n```\nCaught exception:\n Error: ENOENT: no such file or directory, realpath 'E:\\firebase v3\\ionic2-angul\narfire-sample-firebase3-support\\typings\\main.d.ts'\n    at Error (native)\n    at Object.realpathSync (fs.js:1568:18)\n    at E:\\firebase v3\\ionic2-angularfire-sample-firebase3-support\\node_modules\\t\nsify\\index.js:58:38\n    at Array.map (native)\n    at DestroyableTransform.flush [as _flush] (E:\\firebase v3\\ionic2-angularfire\n-sample-firebase3-support\\node_modules\\tsify\\index.js:58:6)\n    at DestroyableTransform. (E:\\firebase v3\\ionic2-angularfire-sampl\ne-firebase3-support\\node_modules\\through2\\node_modules\\readable-stream\\lib_stre\nam_transform.js:115:49)\n    at DestroyableTransform.g (events.js:286:16)\n    at emitNone (events.js:86:13)\n    at DestroyableTransform.emit (events.js:185:7)\n    at prefinish (E:\\firebase v3\\ionic2-angularfire-sample-firebase3-support\\nod\ne_modules\\through2\\node_modules\\readable-stream\\lib_stream_writable.js:465:12)\n```\n. @filoxo  :-1:  need help\n. thnks to all @matstam  @imsingh  @r-park  @imsingh @dmastag @filoxo\n. @julienevano \nusing this code \nimport { AngularFire, AngularFireAuth } from 'angularfire2';\nimport { Injectable } from '@angular/core';\n//import * as firebase from \"firebase\";\n//declare var firebase: any;\n@Injectable()\nexport class AuthService {\n  firebaseAuth: AngularFireAuth;\nconstructor(private _AngularFire: AngularFire) {\n    this.firebaseAuth = _AngularFire.auth;\n  }\nresetPassword(email: string): Promise {\n    return firebase.auth().sendPasswordResetEmail(email);\n  }\n}`\nconsole error -->  Q {code: \"auth/internal-error\", message: \"17\"}\n. @Splaktar  using #220  but console errror...\n  POST https://www.googleapis.com/identitytoolkit/v3/relyingparty/getOobConfirmationCode?key=AIza 503\nlogin.ts:30 failed Error: 17\n. @davideast  #askforfirebase \n. @r-park  thanks ...1st one work for me \n but one problem the data associated with specific user display in console but not in view ...\nbut adding aa button and call the function\nfilterBy() {\n    this.userSubject.next(\"shamrozwarraich@gmail.com\"); \n  }\nwill display immediately..\none other thing console show me warming,,,\nFIREBASE WARNING: Using an unspecified index. Consider adding \".indexOn\": \"user\" at /textItems to your security rules for better performance\n. uu rockkk thnks alotttttt \n. @edicon  thnks work like charm... ...\n   can u tell me how to send reset password email...\n. @Splaktar  hey  am using this... is it right way or use the the Firebase JavaScript 3.x SDK \nthis.af.auth.subscribe(data => {\n     if(data)\n       data.auth.sendverificationemail(data.auth.email);\n)\n. email psssword...\n. yoooo @harald  thnks \n. what change occur in new af ? not show in changelog ... :/\n. @davideast  :/\n. am updating the user password and its must required  to Re-authenticate the user.\nbut in  Re-authenticate method what does credential means,,,,? as in login method we provide user email and password ...\n. an using this piece of code but getting error on credential...\nfirebase.auth.EmailAuthProvider.credential('user@example.com','existingPassword');\nProperty 'credential' does not exist on type 'typeof EmailAuthProvider'\n. if its work ... its aa best way :p\nOn Tue, Oct 18, 2016 at 8:18 PM, Cristian Urbano notifications@github.com\nwrote:\n\nHello @shamrozwarraich https://github.com/shamrozwarraich , I got it\nlike this:\nremoveUser(password: string) {\n  this.af.auth.take(1).subscribe(user => {\n    const credential = firebase.auth.EmailAuthProvider.credential(user.auth.email, password);\n    user.auth.reauthenticate(credential).then(() => {\n      user.auth.delete();\n    });\n  });\n}\nI don't know if it's the best way, but it works\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/491#issuecomment-254540779,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AM3xqLShr6YQ7DTsCJs1ZNGxRx0IjiKkks5q1OM6gaJpZM4Jzrci\n.\n. \n",
    "gopchi": "Guys, could you help me a bit? I am having an issue displaying the Error/Success Messages.\nHere is the code from my service, which I inject into the component ForgottenPassword.\n```\n   resetPassword(formObj:any){\n        this.loading = true;\n        return firebase.auth().sendPasswordResetEmail(formObj.email).then( (success) => {\n           this.loading = false; \n           this.successMsg = 'We successfully sent a reset password link to your email.';\n    }, (error:Error) => {\n       this.loading = false;\n       this.errorMessage = error.message;\n\n    });\n\n}\n```\nI have put the service in the providers for the component, also have initialized it in the constructor as loginService. But when I try to output loginService.errorMessage when actually there is an error, it does not render it. Here is the *ngIf :\n<div class=\"row center-align center\" [ngClass]=\"{'animated': loginService.errorMessage, 'shake': loginService.errorMessage}\" *ngIf=\"loginService.errorMessage\">{{ errorMessage }}</div>\nThe funny part is that when I console log it, it shows...\nI suppose that is something from using the native Firebase SDK, because I have used the same approach for the SignUp, Login components and they both work fine that way.\nI would appreciate some help, thanks!. Still, does not work even with firebase 3.6.1. I tried running the app in Firefox or Edge and it worked nicely. I don't know what is causing this.\n. @dcinadr  This really did the job mate, thanks a lot! . ",
    "sean-hill": "Hey, is this functionality currently baked into beta-8? I don't see it documented anywhere.. Hey I get the issue Property 'take' does not exist on type 'FirebaseObjectObservable<any>' when I add .take() to my code as provided in the example above. Any help here?\n. Can this be available within the template also? Something like:\n<pre>{{ (item | async)?.$exists }}</pre>. Here is a simple example that I'm having a problem with.\n\nSay I subscribe to a list of items:\nthis.items = this.af.database.list('items');\nAnd I add to these items in another function:\nthis.items.push({ im: 'cool' });\nThen in another function I'd like to iterate through my items:\nthis.items.forEach(item => {\n    console.log('Item:', item);\n});\nI expect console.log(item) to print out $ Item: { im: 'cool' } but instead it prints out an array for each time I added to the items list.\n$ Item: []\n$ Item: [{ im: 'cool' }]\n$ Item: [{ im: 'cool' }, { again: 'yep' }]\nHow do I iterate over these items? Works great in the template, but I can't get it to work in my controller.\n. @bmanderscheid check out this.. Created an issue with the template here.. Hey @theunreal what was your solution here?\n. So even if you use the subscribe method, I'm still getting the same issue. Perhaps this is just how the subscribe process works.\nSay I have a list of 2 items. My subscribe method is called 3 times (even when using subscribe):\n$ Item: []\n$ Item: [{ im: 'cool' }]\n$ Item: [{ im: 'cool' }, { again: 'yep' }]\nIs there a more proper way of querying the list of data with AngularFire to get \nback all the data at once, instead of in pieces?\n. @Maistho that is correct. I'll try and make a jsfiddle that shows the issue.\n. @Maistho take a look at this repo and follow the guide in the README to replicate the issue.\n. @Maistho I removed the firebase dependency, which I installed from the Installation Instructions:\n$ npm install firebase angularfire2 --save\nStill had the same problem. I'll try setting up the subscription in the constructor. My use case though for this flow was this. I wanted to create a list of items, and then copy that list of items and push them all into a separate collection. AKA, the first list of items was a template, and then I would take those items and turn them into actual commands that a process would run. Perhaps it's not a firebasey why of doing things \ud83d\ude03 \n. @katowulf did you take a look at the example repo I posted above? It shows the exact issue when you open the console along with the code base that causes it.\n. @katowulf in addition to the repo I already provided above, I just forked your plunker to show the issue also. View it here. Just open your console and click \"View all\". \n. Hey that makes sense, I was just basing my assumption off of firebase's docs:\n\nThis approach, inverting the data by listing the IDs as keys and setting the value to true, makes checking for a key as simple as reading /users/$uid/groups/$group_id and checking if it is null.\n\nSo I was just trying to check if the value was null. Thanks for the help.. So following Firebase's posts tutorial, how could you accomplish a DB like theirs? Where the paths are setup as seen here.\nThe key in the user posts collection is the actual user ID, not some randomly generated one.. Great that works, but should the subscribe handler still be invoked?. Thanks @katowulf. I just mean, after updateProfile() is run, should the callback for the auth.subscribe be called with new auth info. But as you said, it's a known SDK bug so :nothingtodohere: . Hey @katowulf, #718 didn't even fire the auth subscribe callback, but this one does after updating an email, but with an outdated value. So I'm not sure \ud83d\ude1b  I guess I could test with using firebase directly and seeing if the same thing occurs.. Hey @katowulf, this was a year ago, but it looks like this is expected behavior as described here. Looks like I'll need to rework my logic a bit to take it into consideration. I don't believe this is an issue with angularfire2. Closing.. Hey guys I was having this same problem, but getting an issue where it was saying that my Firebase app had not been initialized. After an hour of debugging, the solution was ending up being including auth and db in the constructor like so:\n```js\nimport { Component } from '@angular/core'\nimport { AngularFireAuth } from 'angularfire2/auth'\nimport { AngularFireDatabase } from 'angularfire2/database'\nimport * as firebase from 'firebase/app'\nimport 'firebase/storage'\n@Component({\n  selector: 'page-photos',\n  templateUrl: 'photos.html'\n})\nexport class PhotosPage {\n  constructor(\n    public afAuth: AngularFireAuth,\n    public afDb: AngularFireDatabase,\n  ) {}\nupload() {\n    const storageRef = firebase.storage().ref()\n    // ...\n  }\n}\n```\nSo even though I don't use auth and db, I still had to include them in the constructor.. ",
    "touqeershafi": "resetPassword(email: string): Observable<void> {\n    return Observable.fromPromise<void>(firebase.auth().sendPasswordResetEmail(email));\n}\nthrowing this error:\nArgument of type 'Promise<any>' is not assignable to parameter of type 'Promise<void>'.\n  Property '[Symbol.toStringTag]' is missing in type 'Promise<any>'.)\n. ",
    "aucevica": "Although compile ok, I'm getting:\n\nError: Error in ./ForgotpassComponent class ForgotpassComponent - inline template:23:16 caused by: firebase is not defined\n\n`  forgotPassRequest(emailAddress) {\nconst authx = firebase.auth();\nauthx.sendPasswordResetEmail(emailAddress).then(function () {\n  alert(' Email sent');\n}, function (error) {\n  alert(error); \n});\n\n}`. Although compile ok, I'm getting:\n\nError: Error in ./ForgotpassComponent class ForgotpassComponent - inline template:23:16 caused by: firebase is not defined\n\n`  forgotPassRequest(emailAddress) {\nconst authx = firebase.auth();\nauthx.sendPasswordResetEmail(emailAddress).then(function () {\n  alert(' Email sent');\n}, function (error) {\n  alert(error); \n});\n\n}`. I'm really dumb!!!! It's so embarrassing to me! \nI changed the project\u00b4s name and worked fine!!\nSorry!. I'm really dumb!!!! It's so embarrassing to me! \nI changed the project\u00b4s name and worked fine!!\nSorry!. Thanks for change the message! \n\n:)\n Refusing to install package with name \"angularfire2\" under a package\n also called \"angularfire2\". Did you name your project the same\n as the dependency you're installing?\n. Thanks for change the message! \n:)\n Refusing to install package with name \"angularfire2\" under a package\n also called \"angularfire2\". Did you name your project the same\n as the dependency you're installing?\n. \n",
    "boskiv": "I have done it with:\n```\n...\nimport * as firebase from 'firebase';\n@Injectable()\nexport class AuthData {\n...\nresetPassword(email: string): any {\n    return firebase.auth().sendPasswordResetEmail(email);\n  }\n...\n}\n```\nFound solution in firebase Readme.MD file from node_modules/firebase\nIf you are using ES6 imports or TypeScript:\nimport * as firebase from 'firebase';\nvar app = firebase.initializeApp({ ... });. ",
    "courageDeveloper": "@shamrozwarraich ensure that the email you are trying to send the reset password to also exist in your database.. ",
    "anooprkj2e": "Hey @davideast \nThe file you mentioned does not exist in angularfire2 \"node_modules/angularfire2/firebase3.d.ts\"\nThere another firebase.d.ts in a different location \n\"node_modules/angularfire2/node_modules/firebase/firebase.d.ts\"\nadding \"node_modules/angularfire2/node_modules/firebase/firebase.d.ts\" to tsconfig.json OR the non-existent \"node_modules/angularfire2/firebase3.d.ts\" doesn't resolve issue.\nUnable to load transpiler to transpile http://localhost:3000/node_modules/angularfire2/angularfire2.js\n    Error loading http://localhost:3000/node_modules/angularfire2/angularfire2.js as \"angularfire2\" from http://localhost:3000/app/main.js\n. @theunreal \nI had this issue with beta6.\nBeta-7 did resolve it\nThanks @davideast  . ",
    "udnisap": "I signed it!\n. ",
    "juliemr": "Has anyone gotten this to work? Sorry it took so long to circle around, but we're currently seeing this issue - it's possible that something AngularFire is doing is interfering with Protractor's waiting for stability. . Upon a bit of further investigation, it looks like the firebase client may be setting a SetTimeout that runs inside Angular's zone and prevents whenStable from ever returning. (We've got a stack trace somewhere in compiled database.js but that's not super useful).\n@davideast are you the best contact for this? . ",
    "sdebaun": "I have run into this issue as well.\n@juliemr @davideast \nMinimal repro in this repo:\nhttps://github.com/sdebaun/af-protractor-test\nSteps: \nng new\nnpm install --save angularfire2 firebase\nimport AngularFireModule in AppModule\nadd constructor with AngularFire to app.component.ts\nng serve and ng e2e, y voila!\n- Failed: Timed out waiting for asynchronous Angular tasks to finish after 11 seconds. This may be because the current page is not an Angular application. Please see the FAQ for more details: https://github.com/angular/protractor/blob/master/docs/timeouts.md#waiting-for-angular\nWhile waiting for element with locator - Locator: By(css selector, app-root h1)\n. i am concerned that the ignore synchronization workaround leads to a lot of unnecessary test code.\ninterestingly enough, the tests fail even if you dont do anything with the result of database.list.\n. @davideast thankyouthankyouthankyouthankyouthankyouthankyouthankyou!  I was so excited that I got a client/server monorepo working with SSR, and then wanted to cry when I found out angularfire didn't play nicely.\nSo I should just hold off for a bit, eventually angularfire will work with ssr?\nYOURETHEBEST!!!. @justingrayston my workaround was... disable SSR until the fix is posted :). OK, I started poking around and the first thing I'm running into:\nI know part of the problem lives in database.ts -- the list method uses getRef which treats the firebase.database.Query like a string and tries to build a ref off of that.\nBut I don't see any spec's for either database.ts or utils.ts.  1) will my PR be accepted without a test to cover any changes I make there?  2) how do I actually test this locally, I am vaguely familiar with npm link but I don't know how that plays with the angularfire2 build process.. ",
    "varsis": "I have the same issue. I enabled ignore synchronization and test based on incoming requests and use wait for. Ideally I think the best solution would be to 'pause' the socket. Do something that triggers fire base and pause once the request is returned or sent. . ",
    "mwanago": "https://github.com/alfonso-presa/protractor-testability-plugin\nSolved the problem for me. ",
    "raDiesle": "How does plugin solved issue? It works sometimes with plugin, but slow like hell.. +1. ",
    "cementito": "You can retrieve it with the .key() function:\nvar my_key= this.af.list(\"/list\").push(data).key()\n. ",
    "iamchairs": "angularfire2 was getting included twice.\n. ",
    "alfongj": "nit: For naming, I would actually prefer \"cached-credential\" or similar, rather than \"persistent\" (which has, for me, more of a connotation that it could be expired).\nI am not sure however that I do understand fully the proposal.\nAre you proposing that, if the developer includes the \"persistent-credential\" module, then the auth listener will always return the cached credential (even after page refreshes), as opposed to the case where that module is not included, in which case the cached credential will be returned only if the page hasn't been reloaded?\n. @jeffbcross Good question. Indeed a given user account can have more than one credential linked, and the API could reflect that in this case. The only way this would work without special backend support is to cache credentials as they are linked to an account (i.e. on signIn you can cache the first credential, and then on link..() api calls you could also persist such credentials).\nHaving said that, this approach may have inconsistentcies between what the status of the user is on the backend, and what we can deliver the user in the client. An account can have more than one provider attached to it in the backend but on the client SDK we may only see the one with which they sign in.\n. ",
    "ciekawy": "I found this issue just now while trying to understand why on auth event (I now switched to FirebaseAuth.subscribe) there is no longer auth token available.\nI wonder then about possibility to store the credentials in browser storage - which is what I'm doing now on the app side using Ionic.\n. I'm also interested in handling multiple AuthProvider credentials for single user but think it is probably broader scope than just persisting the credentials. Probably there should be dedicated issue (here I've created one https://github.com/angular/angularfire2/issues/257) on this topic as there seem to be a number of factors to be considered regarding linking the credentials.\nActually it would be nice to have some concept unrelated to the firebase or possibly there is already something to adopt?\n. have you added FIREBASE_PROVIDERS into bootstrap of your app? \nthis is one of the steps and bootstrap is a new method of setup the angular2 app since the RC version.\n. I'm also still having this issue with angularfire2@2.0.0-beta.3-0930330\n. using external auth plugin especially the native one is an interesting option yet this is a workaround and needs additional development especially when the app relays on various auth providers like facebook, google, twitter...\n. @aaronksaunders I fully agree that from architectural point of view it is better to provide external integrations. However one of the factors to use firebase for my ionic project especially in the early stage was that the authentication (an for a number of providers) was given out of the box.\n@harpreet2602 I was able to configure Facebook app to use the approach, yet this is still not a real solution but rather workaround or a replacement - it works just for Facebook (I've managed to make a google plus as well - will try to prepare a PR for that) and requires additional plugin.\nstill main point is that the real issue concerns firebase SDK\n. the response I got from firebase support\n\nI figured it out that Popup/Redirect sign in methods in Firebase 3 are currently not supported in native Ionic/Cordova apps. We are still working on supporting these methods. However, there's no definite timeline on when will this be available. \nAs a workaround, I recommend to use a library for OAuth such as ngCordova(in Cordova and Ionic apps) and then use auth().signInWithCredential(...) to sign your users in. \n\nI guess it's worth asking for the access to firebase SDK sources...\n. having same issue with firebase 3.1.0\n. looks like some PR is needed for either firebase 3 or angularfire2. also seems that the difficulty now is to specify the area of responsibility which is now a pingpong between firebase, angularfire2 and also the ionic. Actually I'm little confused which is (and if there is any) github repo for JS firebase 3 as firebase package on npmjs.com points to firebase.google.com\nSo as a first step it would be great to have clear if it is acceptable that i.e. file:// protocol is supposed to be handled, and then if the patch is required on the firebase or angularfire2. \nAny suggestions or even better PRs will be very valuable.\n. does it make sense to add some Help Wanted! or other label to raise the importance/severity? looks like this is actually a blocker for ionic/phonegap apps.\n. I guess that it's not about the cordova but about a use case of app loaded from file - there is rather no reason why it should not be supported. And also this was working with firebase 2 (togheter with i.e. https://github.com/ciekawy/angular2-firebase) so this is kind of regression for people moving to new recommended firebase 3 SDK\n. also here similat approach using plugins for facebook and google and also pure web google login option\nhttps://github.com/rodrigoreal/ionic2-angularfire-login\n. ",
    "nickkenens": "@matdehaast the link isn't working to the documentation you provided, I did the configuration in the bootstrap of the app & using AngularFire instead of FirebaseAuth makes no difference. \nI'll post my code here once I get home. \nThanks for the quick response! \n. I got it fixed.\nThe issue was in the way I was bootstrapping my application as @matdehaast mentioned.\nI noticed that the defaultFirebase provider was expecting a FirebaseAppConfig interface to be passed along instead of just the plain database URL.\nOld: \nionicBootstrap(MyApp, [\n  HTTP_PROVIDERS,\n  FIREBASE_PROVIDERS,\n  defaultFirebase('DATABASE_URL'),\n  firebaseAuthConfig({\n    provider: AuthProviders.Google,\n    method: AuthMethods.Popup\n  }),\n  firebaseAuthConfig({\n    provider: AuthProviders.Facebook,\n    method: AuthMethods.Popup\n  })\n], {\n  tabbarPlacement: 'bottom',\n  platforms: {\n    android: {\n      pageTransitionDelay: 60,\n      tabSubPages: true\n    },\n    ios: {\n      pageTransitionDelay: 60,\n      tabSubPages: true\n    },\n    prodMode: true\n  }\n});\nNew (With Working Authentication):\nionicBootstrap(MyApp, [\n  HTTP_PROVIDERS,\n  FIREBASE_PROVIDERS,\n  defaultFirebase({\n    apiKey: \"YOUR_API_KEY\",\n    authDomain: \"YOUR_FIREBASEAPP_DOMAIN\",\n    databaseURL: \"YOUR_DATABASE_URL\",\n    storageBucket: \"YOUR_STORAGE_BUCKET\",\n  }),\n  firebaseAuthConfig({\n    provider: AuthProviders.Google,\n    method: AuthMethods.Popup\n  }),\n  firebaseAuthConfig({\n    provider: AuthProviders.Facebook,\n    method: AuthMethods.Popup\n  })\n], {\n  tabbarPlacement: 'bottom',\n  platforms: {\n    android: {\n      pageTransitionDelay: 60,\n      tabSubPages: true\n    },\n    ios: {\n      pageTransitionDelay: 60,\n      tabSubPages: true\n    },\n    prodMode: true\n  }\n});\n. As @aaronksaunders said, it has to do with .subscribe().\nWhenever you subscribe to a method from firebase, this is including their FirebaseListObservable's this location.protocol issue occurs.\nand yeah, @Chuckv01 having the same issue here, switched my app to use localStorage for & probably going to use another Authentication provider or service unless they fix this issue rapidly (easy to switch services).\n. Seems like a serious ongoing issue, have been in love with the library as I've been working with it but it's sad that we can't use it in Electron or Ionic 2 style apps.\n. @jeffbcross any updates for this issue?\n. ",
    "th3brink": "I signed it\n. ",
    "LanderBeeuwsaert": "Can you tell me what the solution was for this?\n. Thanks, works with small adaptation of code in stackoverflow:\n```\n@Pipe({ name: 'mapToIterable' })\nexport class MapToIterable {\n    transform(value) {\n        let result = [];\n    if (!value) {\n        return value;\n    }\n\n    if(value.entries) {\n        for (var [key, value] of value.entries()) {\n            result.push({ key, value });\n        }\n    } else {\n        for(let key in value) {\n            result.push({ key, value: value[key] });\n        }\n    }\n    return result;\n}\n\n}\n```\n. I've solved it for now by:\nTo be able to retrieve the firebase reference through a :FirebaseObjectObservable angularFire object: In firebase_object_observable.d.ts, set private _ref; -> public _ref;\n. Hey, I tried with the latest version, the cancellation is now thrown after some seconds (1 or 2), which, for me is ok.\nthanks\n. Hey Jeff,\nworks like magic, thanks!\n. In the end the code looks like:\ntrigger('enlarge', [\n            state('void', style({transform: 'scale(0)', opacity: 0.0, 'z-index':1, 'background-color': 'rgba(100,100,100,0.6)'})),/*'margin': '20px', , 'flex':'.00001 1000 0%'*/\n            state('loaded', style({transform: 'scale(0)', opacity: 0.0, 'z-index':1, 'background-color': 'rgba(100,100,100,0.6)'})),/*,'margin': '20px',  'flex':'.00001 1000 0%'*/\n            state('rest', style({transform: 'scale(1)', opacity: 0.65, 'z-index':1, 'background-color': 'rgba(100,100,100,0.6)'})),/*'margin': '20px',  'flex':'1 1 100%','*/\n            state('hover', style({transform: 'scale(2)', opacity: 1.0, 'z-index':3, 'background-color': 'rgba(40,40,40,0.8)'})),\n            state('selected', style({transform: 'scale(2)', opacity: 1.0, 'z-index':2, 'background-color': 'rgba(7,106,255,0.8)'})),\n            state('flyout', style({transform: 'scale(10)', opacity: 0.0, 'z-index':2, 'background-color': 'rgba(7,106,255,0.8)'})),\n            transition('void => *', [\n                animate('2000ms ease-out')\n            ]),\n            transition('* => loaded', [\n                animate('200ms ease-out')\n            ]),\n            transition('* <=> *', [\n                animate('200ms ease-out')\n            ])\n        ])\nand in the template:\n<md-grid-tile class=\"save-item\" *ngFor=\"let save of observable | async; let i = index; trackBy: trackFbObjects;\" style=\"border-radius:5px;color:rgba(255,255,255,1);max-width:200px;cursor:pointer;\" [@enlarge]=\"hoverArray[i]\" (mouseover)=\"over(i)\" (mouseleave)=\"out(i)\" (click)=\"click(i)\"><!-- height:180px; [ngClass]=\"{'selected': hoverArray[i] == 'selected'}\"-->\n                <div style=\"padding:0px 10px 10px 10px;border-radius:5px;box-shadow:0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12)\" class=\"full-flex-column\"><!---->\n                  <div style=\"height:30px;\"></div> \n                  <div *ngIf=\"hoverArray[i] != 'hover' && hoverArray[i] != 'selected'\" class=\"full-flex-column\" style=\"position:absolute;padding-top:10px;height:40px;\">\n                      <div>Name: {{save.name}}</div>\n                  </div>\n                  <div *ngIf=\"hoverArray[i] == 'hover' || hoverArray[i] == 'selected'\" class=\"full-flex-column\" style=\"position:absolute;padding-top:5px;height:20px;font-size:7px\">\n                      <div>Name: {{save.name}}</div>\n                      <div>Backup date: {{save.$key.replace('_', ' ')}}</div><!--{{save.key.replace('_', ' ')}}-->\n                      <div>Number of times restored: {{save.times_loaded}}</div>\n                  </div>\n                  <img class=\"small-top-spacer sheet_image\" [src]=\"save.image_data\" style=\"border-radius:5px;max-width:180px;max-height:110px;\"><!--width:auto;height:105px;align-self:center;background-color: rgba(255,255,255,.6)-->\n                </div>\n            </md-grid-tile>\nwhen the items are loaded:\nfor (let i = 0; i < this.saveCount; i++) {\n                        this.hoverArray[i] = \"loaded\";\n                    }\n. I've reinstalled, but I still get the error. :-/ A temp fix would be much appreciated.\nVersion info\nAngular: 4.0.1\nFirebase: 3.7.5\nAngularFire: 2.0.0-beta.8\nAngular/cli : 1.0.0\nSeems that I cannot create a build (to /dist) in an angular-cli project because of this.. jep, same issue here.. Yes,\nNormally this is solved by doing an unsubscribe of your subscription in the ngOnDestroy().\nThat's the way I do it.\nHowever, it is very difficult to pinpoint which you should unsubscribe as the error does not give any indication on that.\nIt would be nice that the error points you in the right direction, for example the path which was not unsubscribed or the last path segment. Anything.. Jep, I had some same issues.. @jamesdaniels: my apologies for coming on that strong. I'm very glad to know that the project is still active. (the commits probably are giving me a skewed version of reality). I do have to say I love this library and the ease it brings in the use of firebase and angular.\nIf I find the time to research how to adapt & patch I'll take u up on your offer.\ngreetz. Hehe, no problem. Rightfully deserved.\nGood point, I'll do that somewhere this week.. Ok, thanks for the response, I've posted an issue over in firebase js sdk, see if they agree that this is they way it is intended.. ",
    "idesignpixels": "Hey also getting this problem :/\n. Still causing me problems with ionic tried lots of things to work around.\n. Is a permanent fix in the works? I only use af for the typings and still get this issue. I don't really want to add more complexity by having more libraries handling auth.\n. Also got this, it works on web but no luck on phone i set my app.ts constructor like this.\nif (window.cordova) {\n    window.open = InAppBrowser.open;\n}\n. Since upgrading to firebase 3 in my ionic app I have had many major breaking issues I'm about a month behind :( are there any temporary fixes?\n. @cnothegger Could you elaborate on the fix, I don't understand how using sign in with credentials can login oauth firebase users. Is this something that needs to be pushed to ionic to fix? thanks\n. ",
    "olostan": "As temporary workaround you can use this type definitions:   https://gist.githubusercontent.com/cdcarson/28399c50b02bf6c507fbf5b7b30daa31/raw/fa089d231ca4253d4715f8161efc6af74c972dfa/firebase-sdk-3-typings.d.ts\nAdd into 'typings.json' into globalDependencies this record:\n\"firebase\": \"https://gist.githubusercontent.com/cdcarson/28399c50b02bf6c507fbf5b7b30daa31/raw/fa089d231ca4253d4715f8161efc6af74c972dfa/firebase-sdk-3-typings.d.ts\"\nand then typings i\n. I have traced up to firebase.js. Seems it is a problem with SDK - it checks protocol to be http or HTTPS and in ionic2 environment protocol is file://\nHowever I did not checked with pure SDK as @aaronsaunders did. Strange - may be we are using different GB SDKs...\n. This issue also don't allow to use Firebase authentication... It is really critical for my app. Any workarounds?\n. I have same error when trying auth with pop-up, not reflect. That should work (and was working on previous SDK) on Ionic2...\n. @nelsonad as for now, the only workaround I know is to use https://github.com/nraboy/ng2-cordova-oauth and then https://firebase.google.com/docs/auth/web/twitter-login#handle_the_sign-in_flow_manually \n. As far as I know, no. In Gitter and other chats, this issue is one of top referenced, but there is no any good workaround or fix.\n. Just tested on latest angularfire2,  Still it is not posible to use Firebase3 Auth with angularfire2 on ionic 2  Got This operation is not supported in the environment this application is running on. \\\"location.protocol\\\" must be http or https and web storage must be enabled.\nusing angularfire2@next (angularfire2@2.0.0-beta.5-preview )\n@jeffbcross @davideast should I create new issue or this one could be re-opened?\n. Seems it's Firebase SDK problem. I've added extra tracings and got this error:\nUncaught Error: This operation is not supported in the environment this application is running on. \"location.protocol\" must be http or https.\nBut in hybrid app I have 'file://' protocol... Can someone forward me to correct repository there I can file this issue?\n. Thnx to @ivoviz, @orangesoup found workaround:\nopen node_modules/@ionic/app-scripts/config/rollup-config.js and:\n1. Add useScript: false into configuration\n2. change commonjs() to:\n```\ncommonjs(\n    {\n        include: [\n        'node_modules/rxjs/',\n        'node_modules/angularfire2/',\n        'node_modules/firebase/**'\n        ],\n        namedExports: {\n        'node_modules/angularfire2/node_modules/firebase/firebase.js': ['initializeApp', 'auth', 'database'],\n        'node_modules/angularfire2/node_modules/firebase/firebase-browser.js': ['initializeApp', 'auth', 'database']\n    }\n}\n\n)\n```\n. ",
    "easierbycode": "after installing the typings via gist or docs I still get the error.\nThe only fix for me was to change the change the \"files\" path in tsconfig.json from \"../node_modules/angularfire2/firebase3.d.ts\" -> \"firebase3.d.ts\" and copy firebase3.d.ts into my src directory.\nI'm not sure why since using \"../typings/globals/firebase/index.d.ts\" fixed \"Cannot find name 'Firebase'\" on FB2 version of exact same app.\n. ",
    "alexweber": "Hey all, I'm running into similar issues getting this installed in an Ionic2 project.  The tsconfig file has some globbing rules that excludes node_modules/ stuff and I think that may be overriding the manual file entry for the firebase typings.  Would be great to be able to simply install them from typings or something equivalent.\n. @joaogarin Thanks!\n. Workaround here #234 \n. @560889223 I opened this before finding out about the workaround in the other thread.  I guess there's still some work as far as documenting this entirely but at this point it's good enough for me.  Feel free to re-open for proper docs I guess.\n. ",
    "starkiron": "I followed what was suggested by @olostan however, I am still receiving the error TS2304 cannot find name Firebase. any other suggestions or causes as to why this is persisting?\n. tried install typings dt~firebase --global --save and it installed firebase 2.4 and the error in the editor was removed but when compiled, I still got the cannot find name Firebase error. \n. ",
    "fincefid": "I solve this problem for my Ionic2 project by doing:\nStep 1: package.json to contain the following versions\n\"dependencies\": {\n  \"angularfire2\": \"^2.0.0-beta.2\",\n  \"firebase\": \"^3.0.5\",\n  ...\n},\n\"devDependencies\": {\n  \"ionic-gulp-browserify-typescript\": \"^2.0.0\", (Dunno what you can do for non-Ionic projects)\n  ...\nStep 2: install typings version 1.0.5 (that might be due to node version i have - v5.12.0)\nStep 3: tsconfig.json to contain:\n\"files\": [\n    \"node_modules/angularfire2/firebase3.d.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/global\",\n    \"typings/global.d.ts\"\n  ],\nStep 4: typings/index.d.ts \n/// <reference path=\"globals/es6-shim/index.d.ts\" />\n/// <reference path=\"../node_modules/angularfire2/firebase3.d.ts\" />\n. ",
    "filoxo": "Here's an alternative to fincefid's and davideast's solutions above because \n\nthe \"files\" property cannot be used in conjunction with the \"exclude\" property 1 \n\nwhich might be problematic for some setups. This worked for me with an Ionic v2 project. \nInstead of modifying tsconfig.json, you can reference the Firebase 3 typings file that is included in the angularfire2 node package directly in your typings.json. Run:\n- typings install file:node_modules/angularfire2/firebase3.d.ts --save --global\n  - this saves the reference into typings.json\n  - NOTE: requires typings v.1+\n- typings install\n  - this puts the typings files in the typings/ directory.\n. @imsingh the problem with including it there is that that file is autogenerated by typings and if you ever do another typings install (to add a new typings file or just refreshing them) it'll be removed automatically. I recommend you do not add the reference comment to the index.d.ts. \nFor example, the angular-cli sets up a postinstall script that automatically runs typings install after every 'npm install'. This can lead to very confusing errors because the typings you once had are now no longer included. \n. What's saved in your typings.json? I suspect that you might have both firebase and firebase3 typings saved. You should only have the latter. \n. The only other thing I can think of is to delete typings/ directory in case some file there isn't being updated and then typings install to reinstall them. \n. ",
    "VTordjman": "Hi everyone,\nSorry to re-open the discussion... I followed the doc and your advice but I am still facing the same error \"Cannot find namespace 'firebase'\" when I try to build my Angular 2 web app.\nI use Angular CLI. I referenced \"node_modules/angularfire2/firebase3.d.ts\" in the files array property of tsconfig.json as @davideast suggested...\nPlease can somebody help me ?\nThanks\n. Thanks @5amfung it works !\n. ",
    "5amfung": "Instead of using node_modules/angularfire2/firebase3.d.ts that came with angularfire2, I did typings install firebase to install the one from https://github.com/typed-typings/npm-firebase.  That one worked for me and I was able to do import * as firebase from 'firebase';.  I really don't know why.  They should be the same.\n. @IvRRimum Try updating to the latest versions of angularfire2, firebase, angular (RC5), and angular-cli.  I have been using this setup without any issues.\n. @r-park Do you have any idea why your example didn't work for me. I'm using the exact code, but for some reasons, when authenticated is true, my HomeComponent is not executed at all, but I can see that the code in AuthGuard is run from the debug logging.\nHere is my route setup.\nconst routes: RouterConfig = [\n    { path: 'home', component: HomeComponent, canActivate: [AuthGuard] },\n    { path: 'login', component: LogInComponent }\n];\n. Looks like #312 will fix the problem.\n. That's right.  So I guess the doc needs to be updated.\n. I think we'll be fine when #312 is merged.\n. Also in tsconfig.json, I have:\n\"files\": [\n    \"main.ts\",\n    \"typings.d.ts\",\n    \"node_modules/angularfire2/firebase3.d.ts\"\n  ]\n. Thank you all for the suggestions.\n@ivoviz I tried to copy firebase3.d.ts to src but I got the same error before.\n@samirthebti Your suggestion works.  It does the trick of forcing reference to the global firebase object, I guess.\n. I've tried many solutions.  Only this https://github.com/typings/registry/issues/123#issuecomment-230117266 works seamlessly.\nJust run typings install github:typed-typings/npm-firebase && typings install and that's it.  No need to mess with any other files.\n. angularfire2 is way behind on catching up the angular 2 RC version.  \ud83d\ude14\n. Does angularfire2 not work nicely with webpack version of angular-cli?\n. Doesn't seem to be a problem with beta 4.\n. I also have the same error No Firebase App '[DEFAULT]' has been created - call Firebase App.initializeApp(). after updating to beta 5 as @maxmumford pointed out.  However, I didn't have the same issue with beta 4.\nI also initialize like the following:\n```\n@NgModule({\n    imports: [\n        AngularFireModule.initializeApp(environment.firebase),\n        BrowserModule,\n        FormsModule,\n        RouterModule,\n        routing,\n    ],\n    ...\n})\nimport * as firebase from 'firebase';\n``\n. I also have the same errorNo Firebase App '[DEFAULT]' has been created - call Firebase App.initializeApp().` after updating to beta 5 as @maxmumford pointed out.  However, I didn't have the same issue with beta 4.\nI also initialize like the following:\n```\n@NgModule({\n    imports: [\n        AngularFireModule.initializeApp(environment.firebase),\n        BrowserModule,\n        FormsModule,\n        RouterModule,\n        routing,\n    ],\n    ...\n})\nimport * as firebase from 'firebase';\n```\n. ",
    "petebacondarwin": "typings install firebase installs the types as a module that must be installed, which is correct (as far as I know) for the latest firebase JS library.\nThe AngularFire2 library still expects the firebase types to be global (ambient) which is why in the docs it suggests typings install firebase --ambient --save (or typings install firebase --global --save).\nSince the new firebase typings are marked as modules then you cannot install them globally.\nI found that the best trick is to use the trick by @filoxo in https://github.com/angular/angularfire2/issues/234#issuecomment-229560239\n. +1 @katowulf - the description (in this PR) ought to have gone into the commit message. But +1 for clearing out old APIs - does this mean a new major version release for angularfire2?. ",
    "l3abyl3oy": "I find that you can add \n\"types\": \n[\n   \"jasmine\",\n   \"firebase\"\n]\nto tsconfig.json\n. Last step of installation and setup \n\n:)\n. ",
    "simonbromberg": "@davideast  where in the installation and setup section does it mention that?\n@IvRRimum How do you check / update the versions of each of those?\n. ",
    "OyebisiJemil": "As for me, I followed what was suggested by @olostan and it worked for me \n. ",
    "hirenchauhan2": "I'm having the same error. Please provide complete installation steps in readme. This is very confusing. \ud83d\ude15 \ud83d\ude2b \n. Solved my issue by following steps \ud83d\udc47 \n-  Added \ud83d\udc49   /// <reference path=\"../node_modules/firebase/firebase.d.ts\" /> to src/typings.d.ts\n- Added \"files\": [  \"../node_modules/firebase/firebase.d.ts\" ] to and removed \"types\": [\"firebase\"] from src/tsconfig.json as it gives error of  Could not find definitions for file 'firebase'. You can keep types array for other things.\nI've spent my half day just for this \ud83d\ude2b \ud83d\ude13\n@davideast I hope you had enjoyed your [pre/post/mid][whatever] \u2615  in that meantime \ud83d\ude03 \n. @IvRRimum I figured out that while hovering to https://github.com/unseen1980/Angular2-Firebase-Auth\n. @JimTheMan looks like you have installed typings for firebase via typings install firebase or something like that. I guess that are conflicting with the referenced typings file in tsconfig.json. Try removing the firebase from typings folder and check if its working or not.\n. ",
    "Emmanuel-Mariki": "There is so much BS going on with this implementation, and none of the above suggestion worked for me loading alternative options................... \n. ",
    "JimTheMan": "I'm having problems too. I followed the steps by @harry008 , but I'm still getting errors about firebase.d.ts when I try ng serve:\n```\nERROR in [default] /Users/jim/Git-Projects/Park-Boys-Bootcamp/4-Firebase-Rooms/project/node_modules/firebase/firebase.d.ts:391:2 \nDuplicate identifier 'export='.\nERROR in [default] /Users/jim/Git-Projects/Park-Boys-Bootcamp/4-Firebase-Rooms/project/src/typings.d.ts:6:10 \n';' expected.\nERROR in [default] /Users/jim/Git-Projects/Park-Boys-Bootcamp/4-Firebase-Rooms/project/src/typings/modules/firebase/index.d.ts:498:0 \nDuplicate identifier 'export='.\n```\n. Thanks @harry008 you can check here: https://github.com/ParkBoys/Park-Boys-Bootcamp/tree/master/4-Firebase-Rooms/project\nI have removed everything from the typings.d.ts file and am still getting the errors:\n\n. I signed it!\nOn Sep 24, 2016 9:22 AM, \"googlebot\" notifications@github.com wrote:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project. Before we can look at your\npull request, you'll need to sign a Contributor License Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll\nverify. Thanks.\n\nIf you've already signed a CLA, it's possible we don't have your\n  GitHub username or you're using a different email address. Check your\n  existing CLA data https://cla.developers.google.com/clas and verify\n  that your email is set on your git commits\n  https://help.github.com/articles/setting-your-email-in-git/.\nIf you signed the CLA as a corporation, please let us know the\n  company's name.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/559#issuecomment-249364612,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFGys4TiAg_PLcMhuuPPTslhd4AEzHvbks5qtSQhgaJpZM4KFpEO\n.\n. Well imo as someone who doesn't know that borke is a word (probably 95-99% of people reading this README) is just looks like an obvious error. Then subconsciously you start doubting this github project altogether including the code!\n. Lol I guess you are right, but yeah quotes would be nice.\n\nOn Sep 27, 2016 3:38 PM, \"Gianfranco Palumbo\" notifications@github.com\nwrote:\n\n@JimTheMan I wouldn't go that far. Using an uncommon word or a\nfunny/quirky word makes the entire project dubious?\nMaybe the word should be between double quotes or in italics.\nPS: I'm unsubscribing from following discussions about the single word in\na README file.\nLet's spend more time fixing bugs, and improving the quality of the\nproject and its code rather than arguing about semantics. \u270c\ufe0f\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi @mukesh51! Thanks, but I already have \"types\":[\n\"firebase\"\n] \n\nin the tsconfig.json file.\nI tried with Angular 2.0.0 and 2.0.1\n. I'm getting the same error after removing it. It would be hard for me to fit it into a plunkr, but it is an angular cli project. You can see the source code here: https://github.com/ParkBoys/Park-Boys-Bootcamp/tree/master/4-Firebase-Rooms/project\n. I'm getting the same error after removing it. It would be hard for me to fit it into a plunkr, but it is an angular cli project. You can see the source code here: https://github.com/ParkBoys/Park-Boys-Bootcamp/tree/master/4-Firebase-Rooms/project\n. @mukesh51 Thanks, but I'm still getting the same error. :'(\nI've been deleting and reinstalling node_modules this whole time. I am getting this error now though on npm i:\n\nThen when I try npm serve same error:\n\nng -v returns this:\nangular-cli: 1.0.0-beta.15\nnode: 5.11.1\nos: darwin x64\n. That thread doesn't really give me anything else to try. :/\n. Hi @davideast !\nSorry, I actually moved my project over to angular cli so I'm not sure. :/\nI can try it, but for now I'll close the issue. Thanks.\n. Derp. I fixed it by adding firebase.initializeApp(firebaseConfig) to my app.module.ts as explained in this thread: https://github.com/angular/angularfire2/issues/556\n. Hi. Thanks for answering guys. I'll try this. The thing is that I had firebase 3.X installed already because I was doing most of my calls with that, but then i wanted to move to ngrx/store and wanted the observables from AngularFire2. I suspect other people will come across this as well. I'm sure there is some solution where we don't have to delete a node_modules folder. :). Hey!\nI'm using:\n\"angularfire2\": \"^2.0.0-beta.6\"\n and\n \"firebase\": \"^3.6.4\"\nThe page crashes with the same error in the browser.. Sure. It is an angular cli project at the github repo here:\nhttps://github.com/JimTheMan/Tron-Zombs/blob/master/tron-zombs/src/app/app.component.ts\nand the error specifically is in that file at line 46. \nIt's weird because in the docs for update that it returns a promise. Also, if I try to do use switchmap with import * as switchMap from 'rxjs/add/operator/switchMap'; then I get this error:\n\nbut if I try use \"then\" like this:\nthis.af.database.object('/cypherapp/').update({\"gg\":\"gg\"})\n      .then( () => {\n  console.log('ok');\n\n})\n\nit gives me the original error:\n\n. Thanks, I ended up just removing this lib from my project and using the firebase 3.x SDK since these libs don't play nice together at all and this one gives these odd error messages. Maybe when it's not beta anymore I'll come back to it. :)\nI highly doubt that adding a semicolon will help though. thanks guys. My actual code has changed since I opened this, and I can't seem to recreate the issue. I'll be more aware of these semicolons and imports going forward. chazzunga!. ",
    "jasugh": "Thanks Alon-Gbbe. Your solutions worked fine. All other attemps failed.\n. I have following setup:\nangular-cli: 1.0.0-beta.16\nnode: 6.6.0\nos: win32 x64\ntypings@1.4.0\ntypescript@2.0.3\nI created a new project:\nng new  project-name\ncd  project-name\nI changed following @angular-lines to use version 2.0.1 in package.json, because installation\nof firebase and angularfire2 ended with errors:\n\"@angular/common\": \"2.0.1\",\n\"@angular/compiler\": \"2.0.1\",\n\"@angular/core\": \"2.0.1\",\n\"@angular/platform-browser\": \"2.0.1\",\nnpm install \n-> ok\nnpm install angularfire2 firebase --save\n-> ok\nI did these changes to the project:\nhttps://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md#4-setup-ngmodule\nng serve\n-> Cannot find namespace 'firebase'. \nI did following change:\nimport * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\nng serve \n-> ok\n. ",
    "dannymarsland": "I personally found adding the following code to src/typings.d.ts fixed everything without having to manually add any files\n///<reference path=\"../node_modules/firebase/firebase.d.ts\"/>\n. ",
    "andrebaltieri": "I just opened the node_modules/angularfire2/angularfire2.d.ts and added the import to firebase\nimport * as firebase from 'firebase';\n. ",
    "leomendoza123": "@jasugh \nYour solution worked for me. And I am on Windows 10 \n```\nI created a new project:\nng new project-name\ncd project-name\nI changed following @angular-lines to use version 2.0.1 in package.json, because installation\nof firebase and angularfire2 ended with errors:\n\"@angular/common\": \"2.0.1\",\n\"@angular/compiler\": \"2.0.1\",\n\"@angular/core\": \"2.0.1\",\n\"@angular/platform-browser\": \"2.0.1\",\nnpm install \n-> ok\nnpm install angularfire2 firebase --save\n-> ok\nng serve\n-> Cannot find namespace 'firebase'.\nI did following change:\nimport * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\nng serve \n-> ok\n```\n. ",
    "mohanmca": "Thanks @AIon-Gbbe, your step worked \n. ",
    "garrettmac": "try adding this line under your import\ndeclare let firebase: any; // <== THERE IS AN ERROR IN THE .d.ts file\nie\nimport { AngularFireModule } from 'angularfire2';\ndeclare let firebase: any; // <== THERE IS AN ERROR IN THE .d.ts file\nyou do this when you add vanilla js to typescript, its basically saying to typescript that ' firebase' variable exists even if you dont see it right now and it should hopefully remove the error, if it does let me know.\n. ",
    "ArsProgramma": "Instead of declaring stuff or adding things to files not under your control try this:\nIn tsconfig.json add:\n\"files\": [\n      \"../node_modules/firebase/firebase.d.ts\"\n    ]\nIn typings.d.ts add:\n///<reference path=\"../node_modules/firebase/firebase.d.ts\" /\nDon't forget to remove the import statement from the fangularfire2.d.ts if you added it before.\nRestart ng serve and you're good to go.\n. @sercanyuksel I rushed some little template to github.\nhttps://github.com/ArsProgramma/Ng2CliWithFirebase\nnpm install and typings install\nAfter that it should work for you.\n. ",
    "sercanyuksel": "i tried every solution but still have not found solution any ideas?\nED\u0130T:Solved.Thanks for all help.Adding that line to typings.d.ts ///<reference path=\"../node_modules/firebase/firebase.d.ts\" / is enough for me.\nED\u0130T2:I did not change anything,restart angular-cli and error showed up itself again :( can't find definition file for base. \n. ",
    "mhhansen": "thanks all !\nI've solved this by mixing some comments that i've found...\nadding this int tsconfig.json, (right after \"typeRoots\" node)\n\"types\": [\n      \"firebase\"\n    ]\nand adding this line to the typings.d.ts:\ndeclare var require: any;\npackage.json versions:\n\"angularfire2\": \"^2.0.0-beta.5\",\n\"firebase\": \"^3.4.1\",\n. ",
    "07Gond": "Solution proposed by @jasugh works for me in Windows7\n. ",
    "cre8": "When I add the types filed angular material will throw this error:\nCannot find name 'HammerInput'.\nThe only was it worked for me is adding it to angularfire2.d.ts/angularfire2 in the node_module folder with import *as firebase from 'firebase'\n. When I add the types filed angular material will throw this error:\nCannot find name 'HammerInput'.\nThe only was it worked for me is adding it to angularfire2.d.ts/angularfire2 in the node_module folder with import *as firebase from 'firebase'\n. Angularfire includes auth, database, list and object, but you need a variable with type FirebaseDatabase to get the list or object function.\nSo I think the angularfire2.d.ts file is broken.\n```\nexport declare class AngularFire {\n    private fbUrl;\n    auth: AngularFireAuth;\n    database: FirebaseDatabase;\n    list: (url: string, opts?: FirebaseListFactoryOpts) => FirebaseListObservable;\n    object: (url: string, opts?: FirebaseObjectFactoryOpts) => FirebaseObjectObservable;\n    constructor(fbUrl: string, auth: AngularFireAuth, database: FirebaseDatabase);\n}\n``\n.Angularfireincludes auth, database, list and object, but you need a variable with type FirebaseDatabase to get the list or object function.\nSo I think theangularfire2.d.ts` file is broken.\n```\nexport declare class AngularFire {\n    private fbUrl;\n    auth: AngularFireAuth;\n    database: FirebaseDatabase;\n    list: (url: string, opts?: FirebaseListFactoryOpts) => FirebaseListObservable;\n    object: (url: string, opts?: FirebaseObjectFactoryOpts) => FirebaseObjectObservable;\n    constructor(fbUrl: string, auth: AngularFireAuth, database: FirebaseDatabase);\n}\n```\n. Do you mean the users in your database or the ones in the auth section of firebase?\nIt it's the first one, check the querying part in the documentation (4. Point). With that you can use something like a where clause and check if you get a result or not ?\n. Do you mean the users in your database or the ones in the auth section of firebase?\nIt it's the first one, check the querying part in the documentation (4. Point). With that you can use something like a where clause and check if you get a result or not ?\n. this.item = af.database.object('/item', { preserveSnapshot: true });\nthis.item.subscribe(snapshot => {\n  console.log(snapshot.val())\n});\nwill return all values, but without the $key value\n. this.item = af.database.object('/item', { preserveSnapshot: true });\nthis.item.subscribe(snapshot => {\n  console.log(snapshot.val())\n});\nwill return all values, but without the $key value\n. For example: \nthis.item = af.database.object('/item', { preserveSnapshot: true });\nthis.item.subscribe(snapshot => {\n  this.values= snapshot.val();\n});\nin your HTML file you have:\n<input [(ngModel)]=values.name\">\nwhen you want to save your information you update item\nfunction save() {\n  this.item.update(this.values);\n}\nThis only pushes the changes to your database when you update it, not by changing the the input field.\n. For example: \nthis.item = af.database.object('/item', { preserveSnapshot: true });\nthis.item.subscribe(snapshot => {\n  this.values= snapshot.val();\n});\nin your HTML file you have:\n<input [(ngModel)]=values.name\">\nwhen you want to save your information you update item\nfunction save() {\n  this.item.update(this.values);\n}\nThis only pushes the changes to your database when you update it, not by changing the the input field.\n. Right now there is no \"contain\" operator included in the firebase service. It would be difficult to include something like bar to search for Foobar, because bar could be a normal value inside your database.\nSo you can load everything to your client and filter it there. I don't recommend it because all of your clients have to get it for a search.\nBetter implement a service on a server, that does the search for every user. In this way it's just a bit complicated to say which query belongs to a user.\n. Right now there is no \"contain\" operator included in the firebase service. It would be difficult to include something like bar to search for Foobar, because bar could be a normal value inside your database.\nSo you can load everything to your client and filter it there. I don't recommend it because all of your clients have to get it for a search.\nBetter implement a service on a server, that does the search for every user. In this way it's just a bit complicated to say which query belongs to a user.\n. I don't mean an angular service, but a something that is doing the Jop for you and not the client.\nYou can set up a node server and include the firebase sdk. There is a good example in the official dokumentaton. Then you can program a listener for a value, where the user inserts the search query. Your program will iterate over all entries and will write the one that matches inside a node. The client is listening to this node and will only get the results that are relevant for him and not all values from the database.\nhttps://github.com/firebase/flashlight/blob/master/README.md seems to be good to look at.\n. I don't mean an angular service, but a something that is doing the Jop for you and not the client.\nYou can set up a node server and include the firebase sdk. There is a good example in the official dokumentaton. Then you can program a listener for a value, where the user inserts the search query. Your program will iterate over all entries and will write the one that matches inside a node. The client is listening to this node and will only get the results that are relevant for him and not all values from the database.\nhttps://github.com/firebase/flashlight/blob/master/README.md seems to be good to look at.\n. you can import firebase to the module file where you init angularfire\nimport * as firebase from 'firebase'\n. you can import firebase to the module file where you init angularfire\nimport * as firebase from 'firebase'\n. I had the same output when I subscribed twice because of calling the function two times.\n. I had the same output when I subscribed twice because of calling the function two times.\n. Okay, this sounds logic, thank you for quick response \ud83d\udc4d \n. Okay, this sounds logic, thank you for quick response \ud83d\udc4d \n. a simple subject.next(null) would be enough ;)\n. a simple subject.next(null) would be enough ;)\n. the easiest way is to import firebase in your main component like \nimport *as firebase from 'firebase';\nbut then lint will say firebase is an unsued import, so it's better to import it in the types file\n/node_modules/angularfire2/angularfire2.d.ts and add import *as firebase from 'firebase'\n. the easiest way is to import firebase in your main component like \nimport *as firebase from 'firebase';\nbut then lint will say firebase is an unsued import, so it's better to import it in the types file\n/node_modules/angularfire2/angularfire2.d.ts and add import *as firebase from 'firebase'\n. Why should the first example work? Where is the advantage of it compared to the second one that is documented?\n. Why should the first example work? Where is the advantage of it compared to the second one that is documented?\n. @JT-Bruch did like you said: adding to app.component.ts, removing from angularfire2.d.ts and restarting the server.\nStill get the duplicate identifier error\n. @JT-Bruch did like you said: adding to app.component.ts, removing from angularfire2.d.ts and restarting the server.\nStill get the duplicate identifier error\n. There is no way to return only some field like with SQL \"Select name, addr....\". You will get always get all values from it. But you could maybe filter inside your subscribePostsAgeForUsername function so it returns only the values you want / need.\n. There is no way to return only some field like with SQL \"Select name, addr....\". You will get always get all values from it. But you could maybe filter inside your subscribePostsAgeForUsername function so it returns only the values you want / need.\n. maybe it's useful to mention that .14 is the minimum.\n. ",
    "panser": "this changes helped me\ntsconfig.json\n+  ,\"files\":[\"../node_modules/firebase/firebase.d.ts\"]\ntypings.d.ts\n+  ///<reference path=\"../node_modules/firebase/firebase.d.ts\"/>\n. this changes helped me\ntsconfig.json\n+  ,\"files\":[\"../node_modules/firebase/firebase.d.ts\"]\ntypings.d.ts\n+  ///<reference path=\"../node_modules/firebase/firebase.d.ts\"/>\n. ",
    "hansanker": "After compare the working solution from @ArsProgramma with my not working solution I found the trick. only add to tsconfig.json :\n\"files\": [\n      \"../node_modules/firebase/firebase.d.ts\"\n    ] \nAttention: do not add   \"types\": [\n      \"firebase\"\n    ]\n. ",
    "hasMobi": "This has worked as a simple workaround for me:\nIn the main app.module.ts for my app (right before I first use the AngualarFireModule), I import the Firebase typings without actually using them (it's enough to cause the firebase namespace to be registered, apparently).\nIn other words:\nimport {AngularFireModule} from \"angularfire2\";\nimport * as firebase from 'firebase'; // This is just to make the compiler happy\n. ",
    "paulimfavarato": "I put\n///<reference path=\"../node_modules/firebase/firebase.d.ts\"/>\nat the top line of main.ts so it loads firebase before Angular.\n. I've updated my solution:\n\nangular-cli: 1.0.0-beta.17\nnode: 6.6.0\nos: win32 x64\n\n```\nnpm install -g typescript@next\nnpm install -g typings\nnpm install -g angular-cli\nng new my_project\ncd my_project\nnpm install angularfire2 firebase --save\n//DO NOT INSTALL @types/firebase - it will generate conflicts on new version of typescript\nput import 'firebase/firebase'; on polyfills.ts\n//do the angularfire configuration in the ngModule.\n//do any operation with it.\nng serve //no errors related.\n```\n. ",
    "doggy8088": "@paulimfavarato put import on polyfills.ts is not a right semantic solution.  I think add a reference on to typings.d.ts will be more semantic correct.\nHere is my src/typings.d.ts content of my angular-cli 1.0.0-beta.17 project.\n```\n// Typings reference file, see links for more information\n// https://github.com/typings/typings\n// https://www.typescriptlang.org/docs/handbook/writing-declaration-files.html\n/// \ndeclare var System: any;\n``\n. @almgwary Please try to add afirebase.d.tsreference on totypings.d.ts`.\nHere is a src/typings.d.ts file in your angular-cli project, just add the following line into that file should works.\n/// <reference path=\"../node_modules/firebase/firebase.d.ts\" />. ",
    "AlexCSR": "Thanks all for help!\nI've combined the solutions by @hansanker and @paulimfavarato. And that's works fine for me:\n```\n// REMOVE this from tsconfig.json\n\"typeRoots\": [\n  \"./node_modules/@types\"\n],\n\"types\": [\n  \"firebase\"\n]\n// ADD this to tsconfig.json:\n\"files\": [\n  \"../node_modules/firebase/firebase.d.ts\"\n]\n// then run a command if firebase's types was installed:\nnpm uninstall @types/firebase\n```\n. ",
    "alexandrzavalii": "I tried everything and it still showing me cannot find namespace 'firebase' for ionic build.\nhowever I can run ionic serve.\ntsconfig file\n\"typeRoots\": [\n    \"../node_modules/@types\"\n  ],\n  \"types\": [\n    \"firebase\",\n    \"angular\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ],\nin the package json  I have custom rollup\n\"config\": {\n    \"ionic_rollup\": \"./scripts/rollup.config.js\"\n  }\nrollup.config.js\n```\nconsole.log(\"Custom rollup fired!!!\");\nvar nodeResolve = require('rollup-plugin-node-resolve');\nvar commonjs = require('rollup-plugin-commonjs');\nvar globals = require('rollup-plugin-node-globals');\nvar builtins = require('rollup-plugin-node-builtins');\nvar json = require('rollup-plugin-json');\n// https://github.com/rollup/rollup/wiki/JavaScript-API\nvar rollupConfig = {\n    entry: 'src/app/main.dev.ts',\n    sourceMap: true,\n    format: 'iife',\n    dest: 'main.js',\n    useStrict: false,\n    plugins: [\n        builtins(),\n        commonjs({\n            include: [\n                'node_modules/rxjs/',\n                'node_modules/firebase/',\n                'node_modules/angularfire2/**'\n            ],\n            namedExports: {\n                'node_modules/firebase/firebase.js': ['initializeApp', 'auth', 'database'],\n                'node_modules/angularfire2/node_modules/firebase/firebase-browser.js': ['initializeApp', 'auth', 'database']\n            }\n        }),\n        nodeResolve({\n            module: true,\n            jsnext: true,\n            main: true,\n            browser: true,\n            extensions: ['.js']\n        }),\n        globals(),\n        json()\n    ]\n};\nif (process.env.IONIC_ENV == 'prod') {\n    // production mode\n    rollupConfig.entry = '{{TMP}}/app/main.prod.ts';\n    rollupConfig.sourceMap = false;\n}\nmodule.exports = rollupConfig;\n```\n. ",
    "mpeguero": "There is not a firebase3.d.ts inside of angularfire2 directory. \n. This is the correct approach:\n//could by a Observable or FirebaseListObservable\n`this.items = af.database.list('/items' );\nthis.sub = this.itemsSubscription = this.items\n  .subscribe(snapshots => {\n       this.items = snapshots \n    });\n  })\n//Later, somewhere\nngOnDestroy(){\n     this.sub.unsubscribe();\n}`\n. import * as firebase from 'firebase';\non top of node_modules\\angularfire2\\angularfire2.d.ts\nThis does not work.. same error\n. Maybe they have make the same mistake as me. Everything was working properly, but after I made \nsome changes on my directory structure the compilation started showing this error:\nCannot find type definition file for 'firebase'; \n. davideast : Do we really need angularfire2 to interact with Firebase? So they firebase API have all method \nnecessary to access data and save data into firebase. Why add a new layer?\n. Here you are a solution\n   this.yourData = this.af.database.list('API_URL', {query:{orderByKey :true}})\n    .map((itemKeys) => {\n      return  itemKeys.map(key => {\n        key.data = this.af.database.list(`API_URL/${key.$key}`);\n           return  key;\n       })\n    })\nview:\n<ul >\n         <li  *ngFor=\"let item of yourData| async\">\n               {{ (item.data | async)?.field }}\n       <li>\n</ul>\n. Check out the view.  With async pipe you don;t need to subscribe the observable. it makes the subcription for you. I don't understand clearly what you trying to achieve. To access item from the observable Just subscribe to it.\nmodelQuery .subscribe((items)=>{\n   var _items = items\n})\nOr maybe your issue is on the view, soy you have nested data. . Note: If you use async to access the data on the user observable after logout you will get Firebase permission error.  AngulareFire will not destroy the subscription after logout. Right davidest.. Note: If you use async to access the data on the user observable after logout you will get Firebase permission error.  AngulareFire will not destroy the subscription after logout. Right davidest.. ",
    "almgwary": "3 days of search and get nothing. it still getting hard to work with\nTypescript Error\nCannot find name 'AngularFireAuth'.\n...rkspace/barber/barber_frontend_ionic/node_modules/angularfire2/angularfire2.d.ts\nprivate firebaseConfig;\nauth: AngularFireAuth;\ndatabase: AngularFireDatabase;\nTypescript Error\nCannot find name 'AngularFireDatabase'.\n...rkspace/barber/barber_frontend_ionic/node_modules/angularfire2/angularfire2.d.ts\nauth: AngularFireAuth;\ndatabase: AngularFireDatabase;\nconstructor(firebaseConfig: string, auth: AngularFireAuth, database: AngularFireDatabase);\nTypescript Error\nCannot find name 'AngularFireAuth'.\n...rkspace/barber/barber_frontend_ionic/node_modules/angularfire2/angularfire2.d.ts\n    database: AngularFireDatabase;\n    constructor(firebaseConfig: string, auth: AngularFireAuth, database: AngularFireDatabase);\n}. \nthank @davideast  your change works for me\nit fix build npm install angularfire2@2.0.0-beta.7-pre  --save. @mohmedavoelmagd\nsorry but this angularfire2@2.0.0-beta.7-pre make build work here . 4.1.3\n. ",
    "vikvincer": "Hi anyone knows whats wrong.\nERROR in ./~/firebase/app/shared_promise.js\nModule not found: Error: Can't resolve 'promise-polyfill' in 'C:\\Users\\IBM_ADMIN\\ng2-tuts\\king-tutor-app\\node_modules\\firebase\\app'\n @ ./~/firebase/app/shared_promise.js 22:35-62\n @ ./~/firebase/app/firebase_app.js\n @ ./~/firebase/app.js\n @ ./~/firebase/firebase-browser.js\n @ ./~/angularfire2/angularfire2.js\n @ ./~/angularfire2/index.js\n @ ./src/app/app.module.ts\n @ ./src/main.ts\n @ multi webpack-dev-server/client?http://localhost:4200/ ./src/main.ts\nwebpack: Failed to compile.\n. Mine is already working\non app.module.ts\nimport { AngularFireModule } from 'angularfire2';\nimport { FirebaseService } from './service/firebase.service'\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nfirebase.service.ts\nimport { AngularFireDatabase, FirebaseListObservable } from\n'angularfire2/database';\nOn Fri, Jul 7, 2017 at 11:40 PM, kehkashanF notifications@github.com\nwrote:\n\n@david95thinkcode https://github.com/david95thinkcode Did you try\n'firebase' instead of 'firebase/app'?\nIt seems the documentation was recently changed:\n`// This import loads the firebase namespace along with all its type\ninformation.\nimport * as firebase from 'firebase/app';\n// These imports load individual services into the firebase namespace.\nimport 'firebase/auth';\nimport 'firebase/database';`\nI manged to solve the problem in my Ionic app using this import.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/234#issuecomment-313717364,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQ2tqu40NVrIRsYq8AnGXH7KTRmtIQ5lks5sLlF3gaJpZM4I4JbM\n.\n. \n",
    "crazyhalls": "@doggy8088 new angularfire have the src\\declarations.d.ts, works the same.. ",
    "kehkashanF": "@vikvincer you need to install the missing promise-polyfill, which is not available by default in the newer releases. https://www.npmjs.com/package/promise-polyfill :). If anyone is still wondering, just check the new documentation for npm firebase (https://www.npmjs.com/package/firebase), especially the way it is now imported:\n\nimport * as firebase from 'firebase';\n\nMany old tutorials have not changed this paticular line and there is not much support available online for it too. Hope this helps a few.. @david95thinkcode Did you try 'firebase' instead of 'firebase/app'? \nIt seems the documentation was recently changed:\n// This import loads the firebase namespace along with all its type information.\nimport * as firebase from 'firebase/app';\n// These imports load individual services into the firebase namespace.\nimport 'firebase/auth';\nimport 'firebase/database';\nI manged to solve the problem in my Ionic app using this import.. ",
    "david95thinkcode": "Hi everyone,\nI have the same issu and it's wasting my time. So please, did someone find the solution ? \nI've tried everything but nothing, need help \nTo be sure you'll understand my problem, please look at the pictures : \n\nI don't know if I'm right but I think the problem comes from here. \n\nPS : I'm working on an Ionic project . @kehkashanF I've tried that this too but it didn't work.\nYeah, I saw the changes in the docs and tried the new specifications but it still not working :( . Issue fixed. I've reinstall firebase and everything work perfectly \ud83d\udc4c. Facing the same problem too \ud83d\ude41. . ",
    "vzts": "Have a look at #https://github.com/firebase/firebase-js-sdk/issues/387 & #https://github.com/firebase/firebase-js-sdk/issues/388.\nNow you need to use the new type reference as @myspivey mentioned in the 2nd issue. They had a refactoring on typings in 4.8.1.\nBut if you are just bothered to change any of your code, fixing your firebase dependency version to 4.8.0 will solve these errors for you.\n. #https://github.com/firebase/firebase-js-sdk/issues/388. ",
    "famousTM": "Thank you @paulimfavarato & @vzts that worked, using 4.8.0 works for me, with the above configuration from my last post. \ud83d\udcaf \nIt will save a lot of headaches if you use \"firebase\": \"4.8.0\".. I get:\nError: Function Firestore.collection() requires its first argument to be of type string, but it was: undefined. Hello @davideast & @ZouYouShun thanks for the reply. \nThis works for an exact doc name, such as:\n  this.items = this.activatedRoute.params\n  .switchMap(params =>\n   db.collection('items')\n   .doc('staticword') // <= how do I make this a dynamic id (AUTO-ID)\n   .valueChanges());\n   }\n\nHowever, how do you make it work for a dynamic id?\nThanks\n  . Got it, thanks @webcat12345. Confirmed :: closed.. ",
    "Metsuryu": "I also just had this issue.\nUpgrading firebase to version 4.8.0 fixed it, but 4.8.1 breaks it again, so if anyone is having problems, make sure you use 4.8.0, not 4.8.1. .subscribe() also works as it should, and .map() works if inside a .subscribe(), like so:\nthis.users.subscribe( data =>{\n    if (data) {\n        console.log(\"Subscribe: \", data);\n        data.map( test =>{\n            console.log(\"Map: \", test.payload.doc.data());\n        });         \n    }\n  }). @Toxicable I tried that code now, both with valueChangesand with snapshotChanges, and .map() still doesn't work for me.\nAlso, I didn't put<Type> in this.allUsers = db.collection(\"users\"); before, but now that I did like this this.allUsers = db.collection<any>(\"users\"); it still doesn't work.\nBut since it works in the link you provided, I guess it's a problem on my end, maybe I missed something.. @Toxicable  No errors, the console.log just doesn't print anything. I'm trying a few more things and I'll update this post later with what I find.\nI don't know if firebase.database().enableLogging would show something, since I can't enable it, firebase.database().enableLogging(true); shows me an error saying enableLogging doesn't exist when I try it.. @sionfletcher No, should I? \nIn the documentation there is no mention of having to subscribe it before using .map().\nEdit: It does work if I subscribe right after I call .map(), thank you @sionfletcher  I had no idea I had to do that.. @sabeehshah show us the code.. I managed to use transactions yesterday using FirebaseApp like in the method you linked, even though it could have been easier, but the important thing is that it works. Thank you for the reply anyway.. ",
    "VictorAnquino": "you only need to uninstall firebase and reinstall\nnpm uninstall firebase\nnpm install --save firebase@4.8.0\ndelete node modules and reinstall it\nrm -rf node_module && npm i . ",
    "dunlavy": "Thank you all for your excellent contributions, BTW!\n  . @irman Confirmed.. @chezdrz Sorry for the late response.  I took a vacation.  ;-)\nI used the troublesome work-around I posted above.  May or may not work for you I suppose, but I was able to develop this way for awhile before I simply updated my project dependencies to 4.8.2.  That cleared everything up for me perfectly.  Be sure to update AngularFire and perhaps even Angular if you're not using the very latest release (and that doesn't break your project).. ",
    "androidovshchik": "For me forced installing npm install firebase@x.x.x helped\nWhich also suggested @VictorAnquino. Below versions fix this error for me\n\"angularfire2\": \"^5.0.0-rc.6.0\",\n\"firebase\": \"^4.12.1\". @MichaelHuy \nI have met twice this issue\nIn both cases the solution works like a magic for me haha\nI wonder will it be solved sometime?\n. \n. @asrar7 \nRemoving unused import will be solution? :). Sorry, this was my mistake\nSteps to fix this\n1. Go to https://console.firebase.google.com/u/0/project/YOUR_PROJECT/authentication/providers\n2. Add domain to whitelist. ",
    "MrDrProfX": "VictorAnquino's solution worked for me. It sucks that we're tied to a specific version of firebase though... We really need a better solution.. Same problem.. ",
    "ashrafalngar4": "\nInside package.json, remove ^ from \"firebase\": \"^4.8.1\"\n1.1 Downgrade Firebase from 4.8.1 to 4.8.0 by changing 4.8.1 to 4.8.0\n1.2 End result should look like this: \"firebase\": \"4.8.0\"\nRun npm update in the Project Root. NPM will downgrade Firebase for ya\nRun ng serve --open to check for compilation errors. There shouldn't be any.\n. @Etosticity  work correctly\n\nSolution:\n\nInside package.json, remove ^ from \"firebase\": \"^4.8.1\"\n1.1 Downgrade Firebase from 4.8.1 to 4.8.0 by changing 4.8.1 to 4.8.0\n1.2 End result should look like this: \"firebase\": \"4.8.0\"\nRun npm update in the Project Root. NPM will downgrade Firebase for ya\nRun ng serve --open to check for compilation errors. There shouldn't be any.\n\nReason:\nFirebase had introduced some breaking changes that AngularFire2 had not coped up with yet. Until the AngularFire2 team work it out, this will be the solution.\nAdd a thumbs up emoji and direct anyone having the same trouble here! Would save a lot of their time!. ",
    "irman": "There's version 4.8.2. I've updated it and it seems to be fixed now.. ",
    "chezdrz": "@dunlavy @irman \nDid you do any other fix other than the ones suggested ?\nthis error suddenly started cropping up for me and not able to resolve it. \nI tried the following \nnpm uninstall firebase\nnpm cache clear --force\nnpm install firebae@4.8.0\nEven tried \nnpm install firebase --latest\nNothing works \nI tried 4.8.2 , even that does not work. \n. ",
    "JuniaYulia": "import * as firebase from 'firebase ;\nshould fix the problem. ",
    "drejohnson": "I get an error: Firebase App named '[DEFAULT]' already exists. when trying to use HMR. Any suggestion?\n. ",
    "alex88": "@drejohnson I think that's because it tries to initialize everything from scratch, but the app has already been defined\n. @davideast is this PR good to go? It would be awesome to have it merged\n. I don't think you should write any docs, unless explaining that with multiple calls (that could happend) the subsequent calls are ignored (just in case ppl doesn't know why a config change isn't applied)\n. @jamesdaniels how is this fixed? I've the latest version but with a simple\nimport * as functions from 'firebase-functions';\nexport const loadLists = functions.https.onCall((data, context) => {\n  return context.auth;\n});\nand \nthis.fns.httpsCallable('loadLists')({}).subscribe(response => {\n  console.log(response);\n});\nI still get the OPTIONS request and the CORS error. ",
    "damongant": "I signed it!\n. Seemed like a simple enough thing to do, but I'll add some red tape for you.\n. ",
    "kabdessamad1": "needed feature hope that will be soon. ",
    "Chuckv01": "Has anyone found a way around this error? Seems like this error is making angularfire useless for cordova apps.\n. @jeffbcross I updated to angularfire2@next and it looks like the error is fixed on auth.subscribe(). However, the error is still happening on auth.login().\nHere is the code where I am seeing the location.protocol error occur on iOS and Android devices:\nthis.af.auth.login({\n  provider: AuthProviders.Google,\n  method: AuthMethods.Popup\n}).then((value) => {\n  //success\n}).catch((error) => {\n  this.errorAlert(error);\n});\nSorry if I am missing something :)\n. @aaronksaunders Hmm, I already have the inappbrowser plugin installed in my project. I also gave it a try using AuthMethods.Redirect, but still got the protocol error.\n. @aaronksaunders Would you by chance have this inappbrowser workaround implemented in angularfire2?\n. I haven't seen any activity on this in awhile. I don't know if cordova support is a priority for the angularfire team at this point.\n. @mateusmcg I believe you can use the Google Plus plugin for Google oAuth then pass the token to FB the same way: http://ionicframework.com/docs/v2/native/google-plus/\n. ",
    "aamir1995": "Facing same issue !\n. @mithunvp yes, you can use previous version of AngularFire 2 with Firebase SDK v2.4.2, Until they fix this issue.\n. True, you have to use legacy Firebase console :( :(, but it's a matter of some days until they figure it out.\n. same issue here :(\n. Solved it, \nActually, the problem was with webpack version 1, after updating to webpack 2 the problem is fixed.. Did you check the new docs based on rc.0?\ncheck this out: https://github.com/angular/angularfire2/blob/master/docs/version-4-upgrade.md#removing-angularfire-for-modularity. Any news on this? Is this PR is going to be merged into master?. @davideast seems like there are separate modules for each Feature, so do we have to require three modules in order to utilize them?\n\n. ",
    "mithunvp": "Can use previous versions of AngularFire to avoid this issue? Need to wait until they fix it.\n. With Firebase SDK 2.4.2, I will have to use legacy Firebase site not the new firebase.google.com site, I am little confused here? \n. ",
    "alexissusset": "Facing the same issue with Ionic v1\n. ",
    "jlsuarezs": "Solved using Firebase only.\nCheck this:\nAdvanced: Handle the sign-in flow manually\nhttps://firebase.google.com/docs/auth/web/facebook-login\n. Any way to make it work?\nThank you.\n. Yes, you're right.\nAny news about this?\n. Solved using Firebase only.\nCheck this:\nAdvanced: Handle the sign-in flow manually\nhttps://firebase.google.com/docs/auth/web/facebook-login\n. Where should I include the named exports?\nI am having the same issue in Ionic 2 RC0....\nAny help?\n. Thank you for your help @ivoviz !\nBut now I have I new issue:\nrollup: Use of `eval` (in /Users/me/project/node_modules/angularfire2/node_modules/firebase/firebase.js) is strongly    discouraged, as it poses security risks and may cause issues with minification. See https://github.com/rollup/rollup/wiki/Troubleshooting#avoiding-eval for more details\n. It's not building the bundle, so, I've removed the evals from firebase.js and now! No errors, but a new issue :S:\nUncaught TypeError: Cannot read property 'navigator' of undefined\nIt's because of the use strict mode, anyway to remove the strict mode only for firebase in the rollup config? :(\n. If I add the option: useStrict: false, to the rollup.config.js it works, but I think it's not the best option....\nAny idea?\n. My solution was to install the same version as needed by angularfire2:\nnpm install firebase@3.3.0 angularfire2 --save\n. ",
    "Vasanth19": "jsuarezs solution worked. but it requires more effort to handle login and logout. Is there an ETA on when firebase team would allow file:// for ionic?\n. ",
    "MauricioKruijer": "Using angularfire2@2.0.0-beta.3-0930330 fixed my \"blank page\" issue and I'm able to use the email login of firebase. Facebook and google auth are still broken tho :(\n. ",
    "harpreet2602": "@jlsuarezs , Can you add the code snippet that you used for facebook login... I tried to follow the firebase doc but am not successful.\n. Ref: https://github.com/rodrigoreal/ionic2-angularfire-login/issues/4\nThis is solved here: https://github.com/rodrigoreal/ionic2-angularfire-login\n. ",
    "gauravk92": "There's a commit not too far back in the tests about a provider for\nWindowLocation you have to add to the bootstrap providers to get rid of the\nlocation.protocol error.\nIt seems firebase is checking aspects of the location object but is doing\nso incorrectly causing errors to be thrown. I was looking through the\ncompiled firebase code and in some cases it checks location.protocol ===\n\"http\" or \"https\", but then other times where \"http:\" or \"https:\" with a\ncolon in the string.\nBecause of these inconsistent checks I think proceeding with firebase or\nangular fire for auth isn't a good idea. We've gone the manual route and\npass the oauth access token to firebase, it works well, they should add\nsome updates to the setup about the provider for Window location to fix\nthis error.\n(Wrote from phone)\nOn Tue, Jul 26, 2016 at 2:56 AM Szymon Stasik notifications@github.com\nwrote:\n\nthe response I got from firebase support\nI figured it out that Popup/Redirect sign in methods in Firebase 3 are\ncurrently not supported in native Ionic/Cordova apps. We are still working\non supporting these methods. However, there's no definite timeline on when\nwill this be available.\nAs a workaround, I recommend to use a library for OAuth such as\nngCordova(in Cordova and Ionic apps) and then use\nauth().signInWithCredential(...) to sign your users in.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/243#issuecomment-235222788,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AANjrNTwMW7N6cYSjUNGVtfZtVIOkzbQks5qZdm1gaJpZM4I5A1i\n.\n\nSent from my iPhone\n. We ended up using this code:\n\nhttps://github.com/timdream/google-oauth2-web-client/blob/master/src/google-oauth2.js\nNOTE: we had to change the way the popup passes the token back to the calling context, to use localStorage instead\nIt does the popup to get the access token. \nAt which point we pass to firebase like so (after validation of the token at: https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=)\nconst googleConfig = {\n  method: AuthMethods.OAuthToken,\n  provider: AuthProviders.Google\n};\nconst creds = (firebase.auth.GoogleAuthProvider as any).credential(null, token);\nthis.af.auth.login(creds, googleConfig)\nALSO: add this to your providers to get rid of the 'location.protocol must be http'\n```\nimport { WindowLocation } from \"angularfire2\";\nprovide(WindowLocation, {\n    useValue: {\n      hash: '',\n      search: '',\n      pathname: '/',\n      port: '',\n      hostname: 'localhost',\n      host: 'localhost',\n      protocol: 'https',\n      origin: 'localhost',\n      href: 'https://localhost/'\n    }\n  })\n```\nNOTE: have to run npm install angularfire2@next --save-dev\n. ",
    "Adtiv": "Any word on a real fix yet besides the work around??? This issue's been open for a while now and I've seen it come up a lot of other places on the web. \n. I am trying to figure out the same thing. I have my list ordered in a certain way using orderByChild:'daysTillDue' and now i want to filter the same list based on a different child property, but still have that list ordered by daysTillDue. How should we go about something like this? \n. ",
    "LorenzoZaccagnini": "I got the same issue with Electron, Ionic 1 and Ionic 2.\n. ",
    "candelibas": "Still having issues in Ionic 2.\n. ",
    "santiarias": "do we have a fix for this yet? thanks!\n. ",
    "gollodev": "anybody to solved this issue?\n. I get the same problem in ionic1 and firebase 3.4.0\n. ",
    "manekinekko": "I find out why.\nYou need to make sure you check the Prevent creation of multiple accounts with the same email address radio button in your firebase dashboard.\n\n. After some trials. It seems that this behavior only happens when using the AuthMethods.Redirect method.\n. @davideast I'll set up a plnkr for you. In the mean time, the code lives here: https://github.com/manekinekko/angular2-firebase-authentication\nAnd of course, the bootstrap configuration: https://github.com/manekinekko/angular2-firebase-authentication/blob/master/src/main.ts#L25\nYou just need to use the AuthMethods.Redirect method\n. @davideast here is the plnkr: https://plnkr.co/edit/qA6ebLo4ISfK5og28m71?p=preview (you need to open the app in live mode so the redirect can work).\nI added a log output. As you can see, when login in using a redirect method, we have 2 entries in the output json logs array:\n- the first entry contains the session info\n- a second entry with a NULL value\n\n. I've tracked down this issue. And here is what I found: it seems that both statements get executed:\n1. L58: executes first and return the correct session state\n1. L53: executes next and returns NULL\n\n. @davideast I just updated my app to angularfire2@next and the issue seems to be fixed \ud83d\udc4f\nHere is my commit: https://github.com/manekinekko/angular2-firebase-authentication/commit/64066bb66c3e67865a4f64d1560ddd59483a6a5a\n(btw, I had to upgrade angular2 to RC5 too, hence all those changes)\n. @vkniazeu I was using angularfire2@next.\n. Nope. I updated my code before beta4 ^^\nIt listed beta3.pre-2. See here https://github.com/manekinekko/angular2-firebase-authentication/commit/64066bb66c3e67865a4f64d1560ddd59483a6a5a#diff-b9cfc7f2cdf78a7f4b91a753d10865a2R28\n. I could reproduce this issue. It guess this might be a regression, because it seemed to be fixed in early versions. \nI don't know if it's related to angularfire2 or angular-cli\n//cc @TheLarkInn @davideast any idea?\nangular-cli: local (v1.0.0-beta.14, branch: master)\nnode: 6.4.0\nos: darwin x64\n@angular/core: ^2.0.0\nangularfire2: ^2.0.0-beta.5\nfirebase: ^3.4.0\n. ",
    "joni8a": "What is the solution then ? \n. Tanks, but when I do it I get this error: typings install es6-promise --ambient\ntypings ERR! deprecated The \"ambient\" flag is deprecated. Please use \"global\" instead\nWhen I change --ambient to --globale I get: typings install es6-promise --global\ntypings ERR! message Attempted to compile \"es6-promise\" as a global module, but it looks like an external module. You'll need to remove the global option to continue.\nSo I remove the --globale, but then I get no dependencies: typings install es6-promise\nes6-promise\n\u2514\u2500\u2500 (No dependencies)\nTo be honest I am not really clear on this typings thing, any help greatly appreciated :) \n. I tried this: typings install dt~es6-promise --global --save But I still get: node_modules/angularfire2/firebase3.d.ts(33,50): error TS2304: Cannot find name 'Promise'.\nThis is what I did:\n1)Clone the angular2 starter\n2)npm install\n3)npm install angularfire2 firebase --save\n4)typings install dt~es6-promise --global --save\n5)Add \"files\": [\n  \"node_modules/angularfire2/firebase3.d.ts\"\n] to tsconfig.json\nI dont get any errors if I set the target to es6, but then the code is not translated to javascript.\n. ",
    "rahmanusta": "Thank you @jeffbcross, also could you please upgrade Angular version rc1 to rc2?\nThanks\n. Thank you guy, for the update. but it still uses angular 2 rc1 instead of rc2. FYI\n. Ah Thank you @davideast. Have an easy work. I'm planning to use it my Angular 2 training :)\n. ",
    "ohanspace": "thank you so much boss @jeffbcross :) \n. @idanen may be right..I didn't find any other way. \nBut it would be great help for developer If the angularfire support this extra feature internally :(\n. ",
    "sunghyuk": "I signed it!\n. ",
    "Chris-Currin": "@davideast is there a workaround so long we could use based on raw Firebase Web?\nhttps://firebase.google.com/docs/auth/web/account-linking\nfor example firebase.auth().currentUser.link works, but requires a proper credential (well works as in 'exists').\n. ",
    "ranjanmadhu": "Is this feature available in angularFire2? . ",
    "LiveLikeCounter": "@davideast in the feature of the Auth API, account-linking isn't available...\nWill this be in the feature?. ",
    "jamesmart77": "Was this every fixed? Currently running into this issue with oAuth for google sign in. ",
    "patrickmichalina": "I found the redirect method to work better. @shaagi I never did and basically gave up on firebase Auth - the lag was too extreme. I don't know if its the Angular wrapper library or the core library. . @davideast what is the timeframe for this? do you need any help with this? SSR is critical for the stuff we are building and I would love to use firebase for it.. I have Firebase Auth \"working\" in my starter project here: \ncode: https://github.com/patrickmichalina/fusebox-angular-universal-starter\ndemo: https://angular.patrickmichalina.com/login. @hiepxanh I know its not elegant, nor does it cover all scenarios, but it gets me by until the official supports lands in this library: https://github.com/patrickmichalina/fusebox-angular-universal-starter/blob/master/src/server/server.angular-fire.service.ts. SSR in the minimal sense. It still does not have state transfer nor does it have auth.. The new updates are awesome. Only missing feature is Universal rendering.. Firebase doesn't official support universal yet :(\nI have worked Auth and the RTDB into my starter with some dependency injection monkey patching if you want to try it out before official universal support is here:\nhttps://github.com/patrickmichalina/fusebox-angular-universal-starter. Any updates on this issue?. Disrupting app.isStable is not good. It will cause StateTransfer to not work properly FYI.. Also, how is this transferring data between server and client to avoid reflow once SPA takes over?. My current solution in a project is to use (far from elegant, but it works for now..):\n```js\nimport { makeStateKey, TransferState } from '@angular/platform-browser'\nimport { Injectable, InjectionToken, NgZone } from '@angular/core'\nimport { fromPromise } from 'rxjs/observable/fromPromise'\nimport { fbAdminDb } from './server'\nimport { database } from 'firebase-admin'\nexport const FIREBASE_ADMIN_INSTANCE = new InjectionToken('app.fb.admin')\n@Injectable()\nexport class FirebaseAdminService {\n  constructor(private zone: NgZone, private ts: TransferState) { }\npublic object(path: any, query?: any) {\n    return {\n      valueChanges: () => {\n        const timeout = setTimeout(() => undefined, 10000)\n        return fromPromise(new Promise((resolve, reject) => {\n          this.zone.runOutsideAngular(() => { // Out of Angular's zone so it doesn't wait for the neverending socket connection to end.\n            const ref = this.applyQuery(fbAdminDb.ref(path), query)\n            ref.once('value').then((data: any) => {\n              this.zone.run(() => { // Back in Angular's zone\n                this.ts.set(makeStateKey(FB.${path}), data.val())\n                resolve(data.val())\n                setTimeout(() => {\n                  // Maybe getting the data will result in more components to the view that need related data.\n                  // 20ms should be enough for those components to init and ask for more data.\n                  clearTimeout(timeout)\n                }, 20)\n              })\n            }, (err: any) => {\n              setTimeout(() => {\n                this.ts.set(makeStateKey(FB.${path}), undefined)\n                reject(err)\n                clearTimeout(timeout)\n              }, 20)\n            })\n          })\n        }))\n      },\n      snapshotChanges: () => {\n        const timeout = setTimeout(() => undefined, 10000)\n        return fromPromise(new Promise((resolve, reject) => {\n          this.zone.runOutsideAngular(() => { // Out of Angular's zone so it doesn't wait for the neverending socket connection to end.\n            fbAdminDb.ref(path).once('value').then((snapshot: database.DataSnapshot) => {\n              this.zone.run(() => { // Back in Angular's zone\n                const res = snapshot.val()\n                // const projected = Object.keys(res || {}).map(key => ({ ...res[key], id: key }))\n                this.ts.set(makeStateKey(FB.${path}), res)\n                resolve(res)\n                setTimeout(() => {\n                  // Maybe getting the data will result in more components to the view that need related data.\n                  // 20ms should be enough for those components to init and ask for more data.\n                  clearTimeout(timeout)\n                }, 20)\n              })\n            }, (err: any) => {\n              setTimeout(() => {\n                this.ts.set(makeStateKey(FB.${path}), undefined)\n                reject(err)\n                clearTimeout(timeout)\n              }, 20)\n            })\n          })\n        }))\n      }\n    }\n  }\npublic list(path: any, query?: any) {\n    return {\n      valueChanges: () => {\n        const timeout = setTimeout(() => undefined, 10000)\n        return fromPromise(new Promise((resolve, reject) => {\n          this.zone.runOutsideAngular(() => { // Out of Angular's zone so it doesn't wait for the neverending socket connection to end.\n            query(fbAdminDb.ref(path)).once('value').then((snapshot: database.DataSnapshot) => {\n              this.zone.run(() => { // Back in Angular's zone\n                const res = snapshot.val()\n                const projected = Object.keys(res || {}).map(key => res[key])\n                this.ts.set(makeStateKey(FB.${path}), projected)\n                resolve(projected)\n                setTimeout(() => {\n                  // Maybe getting the data will result in more components to the view that need related data.\n                  // 20ms should be enough for those components to init and ask for more data.\n                  clearTimeout(timeout)\n                }, 20)\n              })\n            }, (err: any) => {\n              setTimeout(() => {\n                this.ts.set(makeStateKey(FB.${path}), undefined)\n                reject(err)\n                clearTimeout(timeout)\n              }, 20)\n            })\n          })\n        }))\n      },\n      snapshotChanges: () => {\n        const timeout = setTimeout(() => undefined, 10000)\n        return fromPromise(new Promise((resolve, reject) => {\n          this.zone.runOutsideAngular(() => { // Out of Angular's zone so it doesn't wait for the neverending socket connection to end.\n            query(fbAdminDb.ref(path)).once('value').then((snapshot: database.DataSnapshot) => {\n              this.zone.run(() => { // Back in Angular's zone\n                const res = snapshot.val()\n                const projected = Object.keys(res || {}).map(key => ({ ...res[key], id: key }))\n                this.ts.set(makeStateKey(FB.${path}), projected)\n                resolve(projected)\n                setTimeout(() => {\n                  // Maybe getting the data will result in more components to the view that need related data.\n                  // 20ms should be enough for those components to init and ask for more data.\n                  clearTimeout(timeout)\n                }, 20)\n              })\n            }, (err: any) => {\n              setTimeout(() => {\n                this.ts.set(makeStateKey(FB.${path}), undefined)\n                reject(err)\n                clearTimeout(timeout)\n              }, 20)\n            })\n          })\n        }))\n      }\n    }\n  }\napplyQuery(ref: any, query: any) {\n    // tslint:disable-next-line:forin\n    for (const n in query) {\n      const val = query[n].getValue\n        ? query[n].getValue() // BehaviorSubject\n        : query[n] // Primitive\n      switch (n) {\n        case 'orderByKey':\n          ref = ref.orderByKey()\n          break\n        default:\n          if (!(n in ref)) {\n            break\n          }\n          ref = refn\n          break\n      }\n    }\n    return ref\n  }\n}\n```\nThen on the client I unwrap using:\n```js\nimport { PlatformService } from './platform.service'\nimport { Observable } from 'rxjs/Observable'\nimport { Injectable } from '@angular/core'\nimport { AngularFireDatabase } from 'angularfire2/database'\nimport { makeStateKey, TransferState } from '@angular/platform-browser'\nimport { database } from 'firebase'\nimport { PathReference } from 'angularfire2/database/interfaces'\nimport { sha1 } from 'object-hash'\n@Injectable()\nexport class FirebaseDatabaseService {\n  constructor(private db: AngularFireDatabase, private ts: TransferState, private ps: PlatformService) { }\nusedCache: { [key: string]: boolean } = {}\nchecksum(value: any) {\n    return {\n      value,\n      checksum: sha1(value || '')\n    }\n  }\ndedupe = () => (source: Observable) => source\n    .map(value => this.checksum(value))\n    .distinctUntilKeyChanged('checksum')\n    .map(a => a.value)\ndedupeCached = (cached: any, ckey: any) => (source: Observable) => source\n    .map(value => this.checksum(value))\n    .startWith(this.checksum(cached) as any)\n    .do(() => this.usedCache[ckey] = true)\n    .distinctUntilKeyChanged('checksum')\n    .map(a => a.value)\nget(path: string) {\n    const ckey = this.cacheKey(path)\n    const cached = this.ts.get(ckey, undefined)\nreturn cached && !this.usedCache[ckey]\n  ? this.db.object(path).valueChanges<T>().pipe(this.dedupeCached(cached, ckey))\n  : this.db.object(path).valueChanges<T>().pipe(this.dedupe())\n\n}\ngetList(path: PathReference, queryFn?: (ref: database.Reference) => database.Query): Observable {\n    const ckey = this.cacheKey(path.toString())\n    const cached = this.ts.get(ckey, undefined)\nreturn cached && !this.usedCache[ckey]\n  ? this.db.list(path, queryFn).valueChanges<T>().pipe(this.dedupeCached(cached, ckey))\n  : this.db.list(path, queryFn).valueChanges<T>().pipe(this.dedupe())\n\n}\ngetListKeyed(path: PathReference, queryFn?: (ref: database.Reference) => database.Query): Observable {\n    const ckey = this.cacheKey(path.toString())\n    const cached = this.ts.get(ckey, undefined)\nreturn cached && !this.usedCache[ckey]\n  ? this.db.list(path, queryFn)\n    .snapshotChanges()\n    .map(a => this.keyMapper(a))\n    .pipe(this.dedupeCached(cached, ckey))\n  : this.db.list(path, queryFn)\n    .snapshotChanges()\n    .map(a => this.keyMapper(a))\n    .pipe(this.dedupe())\n\n}\nkeyMapper(res: any) {\n    if (this.ps.isServer) return res\n    return res.map((obj: any) => {\n      return {\n        id: obj.key,\n        ...obj.payload.val()\n      }\n    })\n  }\ngetListRef(path: PathReference, queryFn?: (ref: database.Reference) => database.Query) {\n    return this.db.list(path, queryFn)\n  }\ngetObjectRef(path: string) {\n    return this.db.object(path)\n  }\ncacheKey(path: string) {\n    return makeStateKey(FB.${path})\n  }\nstatic encodeKey(val: string) {\n    return encodeURIComponent(val)\n      .replace('.', '%2E')\n  }\nstatic dencodeKey(encodedValue: string) {\n    return decodeURIComponent(encodedValue)\n      .replace('%2E', '.')\n  }\n}\n```. @FrozenPandaz not sure how HttpInterceptor would work since this is websocket stuff outside of the HttpClient right?. @Kamshak you got universal running cleanly with just that snippet? The API worked the same on both server and browser? What about state transfer?. @davideast I am able to use the latest with Universal (without wrapping in ngZone, thanks!). One thing that is critical, is to provide a Server<=>Client transfer state implementation. This is to avoid a redraw and second query once angular takes over on the client. There is no web-socket interceptor concept like there is for http-interceptor (as far as I know)... So how did you plan on getting this done? \nI have a new implementation that isn't too large. The source code is here: https://github.com/patrickmichalina/fusing-angular/blob/2809e52a302a56db7e83753e2450cf45b53b225a/src/client/app/shared/services/firebase-firestore.service.ts\nand a live demo:\nhttps://fusing-angular-pr-64.herokuapp.com/firebase\nShould I create a pull request to solve this issue? I have a few tweaks to make, mainly, to not store anything in the transfer state cache after app is stable in browser mode... but its a minor change. \n. @jamesdaniels I suspect that is why I was seeing 2 events emitted. Notice I used a hash to check for distinct objects to avoid double emissions in the streams. But yea, that would mean its still making the request behind the scenes... Not sure how to tackle that one. Interesting problem :). Do you intend to bring in a mechanism for Auth between server and client? I currently use cookies in a working project. I didn't see code related to cookies in this branch. . While not an official solution, I have used dependency injection + firebase admin to work on server side\nSee:\nhttps://github.com/patrickmichalina/fusebox-angular-universal-starter/blob/master/src/server/server.angular.module.ts#L92\nhttps://github.com/patrickmichalina/fusebox-angular-universal-starter/blob/master/src/client/app/shared/services/auth.service.ts\nThe idea is, you only need to use the AuthService and it will work on both the server and client via cookies. Not elegant, but it works!. How do you intend to transmit a Authorization header from the first server request? The web browser WILL send stored cookies, but has no ability to know you intend to send an Authorization header. Cookies are also more secure in general. I highly recommend you use Cookies in your universal application.. I actually think it would be import { observeOn } from 'rxjs/operators. I did some investigating and wrongly assumed it was related to AOT. When I realized it was happening with AOT iff, I thought maybe it was the bundler (fusebox) I am using failing to bundle correctly but it actually appears to be caused by using the @angular-devkit/build-optimizer optimization step. Still investigating.. I can confirm the error goes away when removing the @angular-devkit/build-optimizer step. I should post this in their repo I suspect.. @jamesdaniels @davideast Ok so there are a lot of concerns with this feature to address. After spending a great deal of time trying to work it out, it seems the most efficient way to handle this is to have a separate server side module/service that handles each database (rtdb/firestore) differently. \nInstead of using the client libraries (which have auth limitations, assumes localstorage of auth, sometimes hangs server reloads), we should use HTTP (or possible RPC) to perform the requests. In general I think only a subset of the features need to be supported on the server. Users are likely to only need to get/list their documents with the ability to query. This is actually pretty easy for RTDB, but more challenging for firestore since their libraries do not expose a method to convert queries to \"structured queries\" for the http POST.\nRTDB mostly complete implementation (even includes auth from current user via cookies): \n- client \n- server\nFirestore is not done, since I need to figure out the StructuredQuery situation :(\nThoughts?\n. Anyone want to comment on the approach we can take to authorize the current user on the server for firestore calls? RTDB is straight forward, but the complexity of firestore make me not want to right the REST wrapper just so I can set an auth token.. @hiepxanh sure.\nRTDB\nIn my current test repo, I have created a server side wrapper that converts the client query into an HTTP GET /w query params to the RTDB rest endpoint, with the user's auth token via cookies passed to the server. This is fairly easy since the RTDB client library exposes a method toRestQueryStringParameters() which allows for the easy creation of the correct url to send for the request.\nThe working code can be found here. I believe this to be a great solution for transferring state to the client + authorized requests. It would be nice if the initial client request was not made, but its handled with a distinctUntilChanged operator call. Simple.\nFirestore\nThis is an entire different beast. There is no such method toRestQueryStringParameters() to help create a structured query to send over HTTP. I have begun mapping the orderBy, limit, and filter commands to create enough surface area to get the job done until this is all solved. \nIt would be nice to simple use the client library on both server and client, but the auth situation is the issue with this. I can find no way to force a token to be used. It also wants to save the session in localStorage I believe? This is kind of an issue on the server. @jamesdaniels might have some knowledge here?\n. Both working here: https://fusing-angular-pr-64.herokuapp.com/firebase\nBut firestore is not using any queries and no auth is enforced in this example database (so you don't need to login to see the example). @hiepxanh you won't be able to login to that PR because it is a heroku review app and I have not enabled that domain on Auth0 :/, but I can assure you that works locally.. Does this means its not emitting events when it should be? I've had the opposite experience (emitting double events when nothing has changed). In order to solve, use a hash function on the object and distinctUntilChanged operator.. Server side auth has still not been addressed for both firestore and rtdb. No repo owners have given help for this issue in this or other tickets.. I've had the same issues. Using latest everything. There is a significant delay in the observable.. ",
    "rwillmer": "Yes\nOn Tue, 21 Jun 2016, 18:15 David East, notifications@github.com wrote:\n\nAre you using the Angular CLI?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/263#issuecomment-227508260,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAj__aTevcE_jh5lCmPyXwD29znEwZ9Cks5qOBwcgaJpZM4I65xq\n.\n. I'll run it again from scratch and see if anything is different\n\nOn Tue, 21 Jun 2016, 19:48 David East, notifications@github.com wrote:\n\nThen I'm not sure what's going on because the CLI should generate the\ntsconfig.json file for you. But you can write tsc --init and that will\ngenerate one for you.\nIf you see an issue with tsc make sure to install typescript npm install\n-g typescript.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/263#issuecomment-227535070,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAj__fbcFPVbBG6nJ5owxT929oH5zPNQks5qODILgaJpZM4I65xq\n.\n. @mattwilson1024 thanks!\n@davideast yes it does\n. \n",
    "mattwilson1024": "I thought it was missing too - turns out angular-cli puts tsconfig.json in the src directory and I was looking in the root.\n. ",
    "shakee93": "I have menthioned observable in pipe :P \n. ",
    "ChrisWF": "There is a difference between redirect and popup. In both cases auth.displayName remains null, but surprisingly with popup displayName appears correct in auth.providerData[0]. I was referring to redirect in my first doc.\nBy the way also without AngularFire, using Firebase popup directly, the auth.displayName is null. Haven't tested yet Firebase redirect. But assume the data provided by AngularFire is reproduced from the Firebase result.credential and result.user.\nHave updated to the latest AngularFire version. In my test both auth.google and auth.firebase are undefined. So no idToken respectively accessToken returned. The Firebase Google signin returns both an accessToken and idToken in result.credential.\n. AngularFire Google signin returned idToken. That did not work with blogger.com.\nI switched to Firebase Google signin and used the returned accessToken. That worked ok with blogger.com.\nSo I decided to switch to Firebase signin (for the time being?!)\n. ",
    "yash-dholakia": "Hi, @jeffbcross \nthanks for the reply. i'll create a plunker.but meanwhile if you helpme with here I can post package.json  ,tsconfig.json and typings.json files.\nI feel this is the package dependency issue i'm facing because if I create a separate demo application, it works perfectly. btw , I use sing warp bootstrap framework\npackage.json\n```\n{\n  \"name\": \"Sing\",\n  \"version\": \"3.0.0\",\n  \"description\": \"Sing Dashboard App\",\n  \"scripts\": {\n    \"install\": \"napa\",\n    \"clean\": \"npm cache clean && rimraf node_modules doc typings coverage dist\",\n    \"clean:dist\": \"rimraf dist\",\n    \"preclean:install\": \"npm run clean\",\n    \"clean:install\": \"npm set progress=false && npm install\",\n    \"preclean:start\": \"npm run clean\",\n    \"clean:start\": \"npm start\",\n    \"watch\": \"npm run watch:dev\",\n    \"watch:dev\": \"webpack --watch --progress --profile --colors --display-error-details --display-cached\",\n    \"watch:prod\": \"webpack --watch --config webpack.prod.config.js --progress --profile --colors --display-error-details --display-cached\",\n    \"build\": \"npm run build:dev\",\n    \"prebuild:dev\": \"npm run clean:dist\",\n    \"build:dev\": \"webpack --progress --profile --colors --display-error-details --display-cached\",\n    \"prebuild:prod\": \"npm run clean:dist\",\n    \"build:prod\": \"webpack --config webpack.prod.config.js --progress --profile --colors --display-error-details --display-cached\",\n    \"server\": \"npm run server:dev\",\n    \"server:dev\": \"webpack-dev-server --progress --profile --colors --display-error-details --display-cached  --content-base src/\",\n    \"server:prod\": \"http-server dist --cors\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"lint\": \"tsconfig-lint -u\",\n    \"docs\": \"typedoc --options typedoc.json --exclude */.spec.ts ./src/\",\n    \"start\": \"npm run server:dev\",\n    \"fix:ng2-clean\": \"node_modules/.bin/rimraf node_modules/angular2/manual_typings node_modules/angular2/typings node_modules/angular2/bundles/typings\",\n    \"fix:ng2\": \"npm run fix:ng2-clean\",\n    \"pretypings-install\": \"npm run fix:ng2\",\n    \"typings-install\": \"typings install\",\n    \"postinstall\": \"npm run typings-install\",\n    \"version\": \"npm run build\",\n    \"postversion\": \"git push && git push --tags\",\n    \"typings\": \"angularfire.d.ts\"\n  },\n  \"dependencies\": {\n    \"angular2\": \"2.0.0-beta.14\",\n    \"angular2-autosize\": \"0.1.0\",\n    \"angular2-color-picker\": \"1.0.3\",\n    \"angular2-datatable\": \"0.3.0\",\n    \"angular2-google-maps\": \"0.9.0\",\n    \"angularfire2\": \"^2.0.0-beta.2\",\n    \"animate.css\": \"3.5.1\",\n    \"autoprefixer\": \"6.3.1\",\n    \"awesome-bootstrap-checkbox\": \"1.0.0-alpha.4\",\n    \"backbone\": \"1.2.3\",\n    \"backbone.paginator\": \"2.0.2\",\n    \"backgrid\": \"0.3.5\",\n    \"backgrid-paginator\": \"0.3.7\",\n    \"block-ui\": \"^2.70.1\",\n    \"bootstrap\": \"4.0.0-alpha.2\",\n    \"bootstrap-colorpicker\": \"2.3.3\",\n    \"bootstrap-loader\": \"1.0.8\",\n    \"bootstrap-markdown\": \"2.10.0\",\n    \"bootstrap-select\": \"1.10.0\",\n    \"core-js\": \"2.1.5\",\n    \"d3\": \"3.5.5\",\n    \"dropzone\": \"4.3.0\",\n    \"easy-pie-chart\": \"2.1.7\",\n    \"es6-promise\": \"3.0.2\",\n    \"es6-shim\": \"0.35.0\",\n    \"es7-reflect-metadata\": \"1.6.0\",\n    \"firebase\": \"^3.0.5\",\n    \"font-awesome\": \"4.5.0\",\n    \"fullcalendar\": \"2.3.2\",\n    \"glyphicons-halflings\": \"1.9.0\",\n    \"jasny-bootstrap\": \"3.1.3\",\n    \"jquery\": \"2.2.0\",\n    \"jquery-flot\": \"0.8.3\",\n    \"jquery-slimscroll\": \"1.3.6\",\n    \"jquery-touchswipe\": \"1.6.15\",\n    \"jquery-ui\": \"git://github.com/jquery/jquery-ui.git#1.11.4\",\n    \"jquery.animate-number\": \"0.0.13\",\n    \"magnific-popup\": \"1.1.0\",\n    \"markdown\": \"0.4.0\",\n    \"messenger\": \"git+https://github.com/HubSpot/messenger.git#v1.4.2\",\n    \"metrojs\": \"0.9.77\",\n    \"morris.js\": \"0.5.0\",\n    \"ng2-bootstrap\": \"1.0.11\",\n    \"ng2-datetime\": \"^1.0.1\",\n    \"ng2-slimscroll\": \"0.5.0\",\n    \"nvd3\": \"1.8.1\",\n    \"pace\": \"git://github.com/HubSpot/pace.git#v0.7.1\",\n    \"parsleyjs\": \"2.3.7\",\n    \"rickshaw\": \"1.5.1\",\n    \"rxjs\": \"^5.0.0-beta.2\",\n    \"select2-bootstrap-css\": \"1.4.6\",\n    \"shufflejs\": \"4.0.0\",\n    \"tether\": \"1.1.1\",\n    \"underscore\": \"1.8.3\",\n    \"webpack-raphael\": \"2.1.4\",\n    \"widgster\": \"0.0.3\",\n    \"zone.js\": \"^0.6.8\"\n  },\n  \"napa\": {\n    \"bootstrap-application-wizard\": \"git://github.com/amoffat/bootstrap-application-wizard.git#3768da3142f43428c5f63284407a2481a9e283d3\",\n    \"twitter-bootstrap-wizard\": \"git://github.com/VinceG/twitter-bootstrap-wizard.git#62a9aca8cc61fdb496c4bf7b92e1ff70c698667e\",\n    \"jquery.sparkline\": \"http://omnipotent.net/jquery.sparkline/2.1.2/jquery.sparkline.min.js\",\n    \"skycons\": \"https://github.com/darkskyapp/skycons.git#7095ecf5f653dbcadbddb0d317b42e65fe091eae\",\n    \"jquery.flot.animator\": \"https://github.com/Codicode/flotanimator.git#3c256c0183d713fd3bf41d04417873928eb1a751\",\n    \"jquery.nestable\": \"https://github.com/dbushell/Nestable.git#4f93032cfafe2002f24ed6bd7dc1510931498503\",\n    \"flot-orderBars\": \"https://github.com/emmerich/flot-orderBars.git#98081459571f60f7d95cc79a848c4f558d077486\",\n    \"jvectormap\": \"http://jvectormap.com/binary/jquery-jvectormap-2.0.3.zip\",\n    \"jvectormap-world\": \"http://jvectormap.com/js/jquery-jvectormap-world-mill-en.js\",\n    \"bootstrap_calendar\": \"https://github.com/xero/bootstrap_calendar.git#1.0.1\",\n    \"jQuery-Mapael\": \"https://github.com/neveldo/jQuery-Mapael.git#0.7.1\",\n    \"jquery-ui-touch-punch\": \"git://github.com/furf/jquery-ui-touch-punch.git#4bc009145202d9c7483ba85f3a236a8f3470354d\",\n    \"select2\": \"https://github.com/select2/select2.git#3.5.4\",\n    \"jquery-animateNumber\": \"https://github.com/aishek/jquery-animateNumber.git#0a8e55dce8ef7879da6a40dc587640ccc447e215\",\n    \"seiyria-bootstrap-slider\": \"https://github.com/seiyria/bootstrap-slider.git#v5.1.1\",\n    \"gapi\": \"https://apis.google.com/js/client.js\"\n  },\n  \"overrides\": {\n    \"rickshaw\": {\n      \"dependencies\": {\n        \"d3\": \"3.5.5\"\n      }\n    }\n  },\n  \"devDependencies\": {\n\"@angular/common\": \"2.0.0-rc.3\",\n\"@angular/compiler\": \"2.0.0-rc.3\",\n\"@angular/core\": \"2.0.0-rc.3\",\n\"@angular/forms\": \"0.1.1\",\n\"@angular/platform-browser\": \"2.0.0-rc.3\",\n\"@angular/platform-browser-dynamic\": \"2.0.0-rc.3\",\n\"@angular/router\": \"3.0.0-alpha.7\",\n\n\"compression-webpack-plugin\": \"0.3.0\",\n\"copy-webpack-plugin\": \"1.1.1\",\n\"css-loader\": \"0.23.1\",\n\"es6-promise-loader\": \"1.0.1\",\n\"exports-loader\": \"0.6.2\",\n\"expose-loader\": \"0.7.1\",\n\"file-loader\": \"0.8.5\",\n\"html-webpack-plugin\": \"2.8.1\",\n\"http-server\": \"0.8.5\",\n\"imports-loader\": \"0.6.5\",\n\"json-loader\": \"0.5.4\",\n\"napa\": \"2.3.0\",\n\"ncp\": \"2.0.0\",\n\"node-sass\": \"3.7.0\",\n\"phantomjs-polyfill\": \"0.0.1\",\n\"phantomjs-prebuilt\": \"2.1.4\",\n\"raw-loader\": \"0.5.1\",\n\"reflect-metadata\": \"0.1.2\",\n\"resolve-url-loader\": \"1.4.3\",\n\"rimraf\": \"2.5.1\",\n\"sass-loader\": \"3.1.2\",\n\"source-map-loader\": \"0.1.5\",\n\"style-loader\": \"0.13.0\",\n\"ts-helper\": \"0.0.1\",\n\"ts-loader\": \"0.8.0\",\n\"ts-node\": \"0.5.5\",\n\"tsconfig-lint\": \"0.5.0\",\n\"tsd\": \"0.6.5\",\n\"tslint\": \"3.3.0\",\n\"tslint-loader\": \"2.1.0\",\n\"typedoc\": \"0.3.12\",\n\"typescript\": \"1.8.10\",\n\"typings\": \"0.7.12\",\n\"url-loader\": \"0.5.7\",\n\"webpack\": \"1.12.13\",\n\"webpack-dev-server\": \"1.14.1\",\n\"webpack-md5-hash\": \"0.0.4\"\n\n},\n  \"engines\": {\n    \"node\": \">= 6\",\n    \"npm\": \">= 3\"\n  }\n}\n```\ntsconfig.json\n```\n{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"sourceMap\": true\n    },\n    \"exclude\": [\n        \"node_modules\",\n        \"typings/main\"\n    ],\n    \"filesGlob\": [\n        \"./src//*.ts\",\n        \"./test//.ts\",\n        \"!./node_modules//.ts\",\n        \"./src/custom_typings.d.ts\"\n    ],\n    \"compileOnSave\": false,\n    \"buildOnSave\": false,\n    \"atom\": {\n        \"rewriteTsconfig\": false\n    },\n    \"files\": [\n        \"./typings/browser.d.ts\",\n         \"./src/app.ts\",\n        \"./src/app/charts/charts.ts\",\n        \"./src/app/charts/flot-chart-animator/flot-chart-animator.ts\",\n        \"./src/app/components/dropzone/dropzone.ts\",\n        \"./src/app/components/flot/flot.ts\",\n        \"./src/app/components/holderjs/holderjs.ts\",\n        \"./src/app/components/mapael/mapael.ts\",\n        \"./src/app/components/morris/morris.ts\",\n        \"./src/app/components/nvd3/nvd3.ts\",\n        \"./src/app/components/rickshaw/rickshaw.ts\",\n        \"./src/app/components/skycon/skycon.ts\",\n        \"./src/app/components/sparkline/sparkline.ts\",\n        \"./src/app/components/tile/tile.ts\",\n        \"./src/app/components/wizard/wizard.ts\",\n        \"./src/app/core/chat-sidebar/chat-message/chat-message.ts\",\n        \"./src/app/core/chat-sidebar/chat-sidebar.ts\",\n        \"./src/app/core/config.ts\",\n        \"./src/app/core/core.ts\",\n        \"./src/app/core/navbar/navbar.ts\",\n        \"./src/app/core/notifications/notification-load.ts\",\n        \"./src/app/core/notifications/notifications.ts\",\n        \"./src/app/core/pipes/pipe.ts\",\n        \"./src/app/core/sidebar/sidebar.ts\",\n        \"./src/app/core/utils/animate-number.ts\",\n        \"./src/app/core/utils/check-all.ts\",\n        \"./src/app/core/utils/progress-animate.ts\",\n        \"./src/app/core/widget/widget.ts\",\n        \"./src/app/dashboard/bootstrap-calendar/bootstrap-calendar.ts\",\n        \"./src/app/dashboard/dashboard.ts\",\n        \"./src/app/dashboard/geo-locations-widget/geo-locations-widget.ts\",\n        \"./src/app/dashboard/marker-stats-widget/marker-stats-widget.ts\",\n        \"./src/app/error/error.ts\",\n        \"./src/app/extra-calendar/extra-calendar.ts\",\n        \"./src/app/extra-gallery/extra-gallery.ts\",\n        \"./src/app/extra-invoice/extra-invoice.ts\",\n        \"./src/app/extra-search-results/extra-search-results.ts\",\n        \"./src/app/extra-time-line/extra-time-line.ts\",\n        \"./src/app/forms-elements/forms-elements.ts\",\n        \"./src/app/forms-validation/forms-validation.ts\",\n        \"./src/app/forms-wizard/bootstrap-application-wizard/bootstrap-application-wizard.ts\",\n        \"./src/app/forms-wizard/forms-wizard.ts\",\n        \"./src/app/grid/grid-demo/grid-demo.ts\",\n        \"./src/app/grid/grid.ts\",\n        \"./src/app/inbox/inbox.ts\",\n        \"./src/app/inbox/mail-detail/mail-detail.ts\",\n        \"./src/app/inbox/mail-form/mail-form.ts\",\n        \"./src/app/inbox/mail-list/mail-list.ts\",\n        \"./src/app/inbox/mail-list/pipes/folders-pipe.ts\",\n        \"./src/app/inbox/mail-list/pipes/search-pipe.ts\",\n        \"./src/app/login/login.ts\",\n        \"./src/app/maps-google/maps-google.ts\",\n        \"./src/app/maps-vector/maps-vector.ts\",\n        \"./src/app/profile/profile.ts\",\n        \"./src/app/tables-basic/tables-basic.ts\",\n        \"./src/app/tables-dynamic/tables-backgrid/tables-backgrid.ts\",\n        \"./src/app/tables-dynamic/tables-dynamic.ts\",\n        \"./src/app/ui-buttons/ui-buttons.ts\",\n        \"./src/app/ui-components/modal-component/modal-component.ts\",\n        \"./src/app/ui-components/ui-components.ts\",\n        \"./src/app/ui-icons/ui-icons.ts\",\n        \"./src/app/ui-list-groups/ui-list-groups.ts\",\n        \"./src/app/ui-notifications/messenger/messenger.ts\",\n        \"./src/app/ui-notifications/ui-notifications.ts\",\n        \"./src/app/ui-tabs-accordion/ui-tabs-accordion.ts\",\n        \"./src/app/widgets/changes-chart-widget/changes-chart-widget.ts\",\n        \"./src/app/widgets/flot-chart-widget/flot-chart-widget.ts\",\n        \"./src/app/widgets/nasdaq-sparkline-widget/nasdaq-sparkline-widget.ts\",\n        \"./src/app/widgets/realtime-traffic-widget/realtime-traffic-widget.ts\",\n        \"./src/app/widgets/widgets.ts\",\n        \"./src/app/widgets/years-map-widget/fake-world-data.ts\",\n        \"./src/app/widgets/years-map-widget/years-map-widget.ts\",\n        \"./src/main.ts\",\n        \"./src/polyfills.ts\",\n     \"node_modules/angularfire2/firebase3.d.ts\"\n    ]\n}\n```\ntypings.json\n```\n{\n  \"dependencies\": {\n    \"es6-promise\": \"github:typings/typed-es6-promise#9243c53f70fb4909ed7cce3094bec221b9fb6d5f\",\n    \"moment\": \"github:typed-typings/npm-moment#a4075cd50e63efbedd850f654594f293ab81a385\"\n  },\n  \"devDependencies\": {},\n  \"ambientDependencies\": {\n    \"es6-shim\": \"github:DefinitelyTyped/DefinitelyTyped/es6-shim/es6-shim.d.ts#4de74cb527395c13ba20b438c3a7a419ad931f1c\",\n    \"hammerjs\": \"github:DefinitelyTyped/DefinitelyTyped/hammerjs/hammerjs.d.ts#74a4dfc1bc2dfadec47b8aae953b28546cb9c6b7\",\n    \"ng2\": \"github:gdi2290/typings-ng2/ng2.d.ts#32998ff5584c0eab0cd9dc7704abb1c5c450701c\",\n    \"node\": \"github:DefinitelyTyped/DefinitelyTyped/node/node.d.ts#8cf8164641be73e8f1e652c2a5b967c7210b6729\",\n    \"selenium-webdriver\": \"github:DefinitelyTyped/DefinitelyTyped/selenium-webdriver/selenium-webdriver.d.ts#a83677ed13add14c2ab06c7325d182d0ba2784ea\",\n    \"webpack\": \"github:DefinitelyTyped/DefinitelyTyped/webpack/webpack.d.ts#95c02169ba8fa58ac1092422efbd2e3174a206f4\",\n    \"zone.js\": \"github:DefinitelyTyped/DefinitelyTyped/zone.js/zone.js.d.ts#c393f8974d44840a6c9cc6d5b5c0188a8f05143d\",\n    \"jquery\": \"registry:dt/jquery#1.10.0+20160316155526\"\n  },\n  \"globalDependencies\": {\n      \"firebase\": \"registry:dt/firebase#2.4.1+20160412125105\"\n  }\n}\n```\nmain.ts\nas described in documentation link.\nWhenever i add FIREBASE_PROVIDERS in bootstrap() it shows the error\n. ",
    "Nebula-Spark": "So , If  I am going To develop A Desktop Application >  Can't Use Firebase or Angularfire  ?  Right ?\n. @joaogarin  Finally   The new Angularfire2@next  Works like a  Magic In ELECTRON ! >>  ITZ working  Now @joaogarin  :+1:\n. even I Have Faced same issue and finally  solved,,,\n OS  :  windows 10  Redstone 64 bit\n using the Following steps , Worked for Me !\n1 npm uninstall -g angular-cli\n2. npm cache clean\n3. npm install -g angular-cli@webpack ( webpack .2 version )\n4. npm install -g typescript@2.0\n5. Create a Project  using  ng new  newproject\n6. npm install firebase angularfire2@next --save\nFinally  on  src/app/app.module.ts \nMy app.module.ts  file ....\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ApplicationRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AppComponent } from './app.component';\nimport {AngularFireModule} from 'angularfire2';\nimport *as firebase from 'firebase';\nconst firebaseConfig = {\n  apiKey: \"YOUR API\",\n  authDomain: \"YOUR DOMAIN\",\n  databaseURL: \"YOUR DATABSE\",\n  storageBucket: \"SToRAGE\"\n}\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n     AngularFireModule.initializeApp(firebaseConfig),\n    BrowserModule,\n    CommonModule,\n    FormsModule\n  ],\n  providers: [],\n  entryComponents: [AppComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\nAnd  In app.componetn.ts   You can Just  import  it now like ,\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\nHope it will works for u .\n. Try With angular-cli 1.0.0-beta.11-webpack.2\nand node 6.3\n. @zuandre \nActually  The New update Kinda So cool and with firestore Solving the  Query Issues !\nAnd You Can Use Both with Angularfire 2 , That's Awesome! !!\nYou Can benefit From Both RDB and Firestore\nStateChanges  And  auditTrail  With limiting event  = Full control Now \nAnd It's Not even That much   Breaking changes !\nAnd Check The New Documentation , So much Easier now  and it make sense\nHonestly,  New Update are So Much easier  for a Newbie like me !\nChange is the law of life. And those who look only to the past or present are certain to miss the future.\nNot only for Life , even for Technology \ud83e\udd47 \n. @esgantivar \nCheck this https://github.com/angular/angularfire2/issues/1199. @onewiseburdman  Did You imported  AngularFireDatabaseModule  in the appmodule ?\nimport { AngularFireDatabaseModule } from 'angularfire2/database';. @Anthony2539 \nMay be Try This,\nconst searchHashtag = this.db.list('hashtag/').valueChanges()\nconst subscribe =  searchHashtag.subscribe( (snapshots:any)=>{ if(snapshots.length > 0){ .... }else{ .... }. ",
    "therealdsmart": "@joaogarin did you ever get past the \"no provider for token FirebaseUrl\"? I am stuck on that myself.\n. ",
    "prakharter": "i am having the same issue guys . Please advise . I am building an IONIC App and using the new Firebase SDKS .\n. ",
    "esbrito": "I have exacly the same problem. In web it is perfect. In my android phone i get this error.\n. ",
    "MahmoudHboubati": "any fix\n. \nsame issue\n. ",
    "dc-apps": "same issue\n. same issue\n. ",
    "ltung": "Same problem: browser (ionic serve) worked but not when deploying the app to cell phone on Ionic 2.\nusing:\nionic-angular: 2.3.0\nangularfire2: ^2.0.0-beta.7-pre\nfirebase: 3.7.3\nAll in newest version as of 3/27/17.\n. ",
    "Reinkaos": "I have the same problem!. ",
    "phablulo": "Same problem here using Ionic2 and Firebase 3.9.0\nIs there any workaround?. ",
    "samccone": ":kissing_heart: \n. ",
    "qingfx": "I'd like to see the instructions if it's somewhere. Is this bug meant to track such work?\n. ",
    "cnothegger": "I don't know who is developing AngularFire2 but the problem is on the Firebase side.\nI contact the Firebase team and this the answer:\nAre you using popup / redirect sign in methods in Firebase 3.x.x? If so, these methods are currently not supported in native Ionic/Cordova apps. Sorry about that. \nAs a workaround, I recommend to use a library for OAuth such as ngCordova(in Cordova and Ionic apps) and then use auth().signInWithCredential(...) to sign your users in. \n. ",
    "jgw96": "This seems to be fixed in a cordova environment (specifically Ionic 2) with angularFire2@next but i can't seem to get any auth information. If you subscribe to AngularFire.auth() it never actually fires when the user logs in. Works fine in Chrome. Im guessing this issue is related to this line https://github.com/angular/angularfire2/blob/master/src/auth/auth.ts#L45. Unfortunately that looks like the line that fixed auth.login() not working. \n. ",
    "mateusmcg": "@aaronksaunders thanks for the solution, but in my project here i'm not able to use facebook auth only the google one.\nSo i need to use google authentication that firebase offers with ionic2. \nThere is a workaround for that? (i'm getting that \"location.protocol\" must be http or https error on login)\n. @Chuckv01 thx for the quick reply.\nI was not able to make this plugin working with ionic 2. I've only found examples that uses angular 1 not angular 2, so i was not able to import the right module to get the plugin to work.\nIf someone manage to get ionic2 working with angularfire2/firebase google auth and could post a little piece of code, i would appreciate it\n. @dpassis Thanks for the follow up.\nI'm running: \n\nFirebase 4.1.3:\nangularfire2: 4.0.0-rc.1\nionic-angular: 3.3.0\nangular: 4.1.2\n\nAnd i tried the following code in a Android Device with both Google and Facebook providers.\nthis.afAuth.auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider()).then(result => {\n        console.debug(result);\n        alert(\"Success\");\n      }, error => {\n        console.debug(error);\n        alert(\"Failed - \" + error.message);\n      });\nBut i keep getting the error:\n\"This domain (my ip address) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab\"\nI already have \"localhost\" and \"my app name\" added to the list of domains by default. Doesn't make sense to me that i have to add my ip address to that list. But i tried anyway and still failed.\nThis might be a silly problem to solve but i'm kinda lost.\nAny idea what i'm doing wrong?. @dpassis Thanks for the quick response\nAfter removing \"--livereload\" from the command ionic cordova run android i started to get a few errors asking to install a few cordova plugins, which are:\n\ncordova-plugin-browsertab\ncordova-plugin-buildinfo\ncordova-universal-links-plugin\ncordova-plugin-inappbrowser\n\nAfter installing these plugins the google auth page opened normally. \nAnd after chosing my Google Account i'm sent back to the app. But i get no user authenticated within firebase (The promise below returns null):\ngetAuthenticatedUser() {\n    return this.afAuth.authState;\n  }\nI had to configure a Dynamic Link and a SHA-1 key in the firebase console to get the Google OAuth page to open. Maybe i did something wrong there?\nAny idea how to get the authenticated user after selecting the google account and redirecting back to the app?. @dpassis The app is created in firebase and tried to add the universal-links section in the config.xml file like below:\n...\n<universal-links>\n        <host name=\"https://<my Dynamic Link>\" scheme=\"https\" />\n        <host name=\"https://myApp.firebaseapp.com\" scheme=\"https\">\n            <path url=\"/__/auth/callback\" />\n        </host>\n</universal-links>\n...\nBut the behavior stayed the same. \nUsing the code below the success promise is not triggered, instead when i select the google account the app \"refreshes\" (like opening for the first time) and i get no firebase user authenticated (Went to Firebase Console and there is no user logged in with Google Provider).\nthis.afAuth.auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider()).then(result => {\n        console.debug(result);\n        alert(\"Success\");\n      }, error => {\n        console.debug(error);\n        alert(\"Error\");\n      });\nI think the expected behavior should be the user being redirect back to the app (instead the app reloading entirely again) and that success promise triggered with the authenticated user. Am i doing something wrong here?\n. ",
    "srikantk": "I found a quicker approach, used authwithredirect apis from firebase and local-webserver plugin from cordova this works on IOS.\n. ",
    "nunoarruda": "Still an issue in an Ionic 2 app, even with npm install angularfire2@next --save:\n\n. @Khalid-Nowaf I use \"angularfire2\": \"git://github.com/angular/angularfire2.git#master\"\n. Also notice that Ionic rc.0 now uses TypeScript version 2. In TypeScript v2 type definition files are installed via npm, the typings tool is no longer used.\nI've tried npm install @types/firebase --save-dev but it installs type definition files for Firebase v2.4.30 not v3. My guess is that Firebase v3 type definition files might not be available via npm yet. Am I correct?\n. ",
    "RubnC": "Some news? \nFor me it's working fine on Chrome but not on android neither ios.\n. Some news? \nFor me it's working fine on Chrome but not on android neither ios.\n. ",
    "richarddiogo": "Some news? \n. ",
    "valterh4ck3r": "Some news? . I sent a email from support firebase,\nThey answer me with the email : \n\nWhen you're building an ionic/cordova app (or any app that is running in an environment outside of a browser), then using any of these operations: signInWithPopup(), signInWithRedirect(), linkWithPopup(), and linkWithRedirect() will not work because they do not have a real domain name. Currently the solution to this is to use an OAuth library and then use signInWithCredential(). You can view a similar example here for implementing twitter login.\nHope that helps.\nBest Regards,\nAye\n\nI can't implement signInWithCredential with google, then i used the facebook auth for my app... This is my workaround.... 15$ ?\nHe uses in-app-browser, with option _system  browser, this solution is a javascript approach, don't work in native view...\nSee about : https://ionicthemes.com/tutorials/about/native-facebook-login-with-ionic-framework. ",
    "hernanbruno97": "some news?. https://market.ionic.io/starters/firebase-v3-auth-social-kit-2\nThis solved my problem completely. ",
    "diegobdev": "I work with Ionic 2.2, Cordova 6.5 and Firebase v3 and have same error using \"let provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithPopup(provider)\" or \"let provider = new firebase.auth.FacebookAuthProvider();\n    return firebase.auth().signInWithPopup(provider)\" :\nError: {\"code\":\"auth/operation-not-supported-in-this-environment\",\"message\":\"This operation is not supported in the environment this application is running on. \\\"location.protocol\\\" must be http or https and web storage must be enabled.\"}. ",
    "alheranx": "\nhttps://market.ionic.io/starters/firebase-v3-auth-social-kit-2\nThis solved my problem completely\n\nwhat enviroment do you use?.  In the comments sections the author says it not works in ionic view.. \u00bfCan you resolve it?\nI have the same error...  my mistake was put the URI, and firebase only accept blob or file type.  I try make a blob from URL without success, and then the solution was the base64, the same solution I see in documentation.  I would like don't have to use base64, it make it slowly my app, but as the firebase implementation is incredible and easy, well I think I can pass for base 64.  If I put the URI I duplicate the error, if I put bas64 all works fine.. ",
    "vkniazeu": "@alheranx, I've just tried that demo app within Ionic View and indeed neither FB nor Google login works.\nPerhaps, they will work in a standalone iOS and/or Android builds on devices or within emulators, but trying is time intensive.\nHave a solution that would work within Ionic View would be a time saver for testing.. @davideast I'll try to get the plnkr going soon.\nMeanwhile, here's the full main.ts.\nbootstrap is as barebones as it gets to enable AngularFire.\n```\nimport { bootstrap } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport {\n  FIREBASE_PROVIDERS,\n  defaultFirebase,\n  firebaseAuthConfig,\n  AuthMethods,\n  AuthProviders\n} from 'angularfire2';\nimport { AppComponent, environment } from './app/';\nif (environment.production) {\n  enableProdMode();\n}\nbootstrap(AppComponent, [\n  FIREBASE_PROVIDERS,\n  defaultFirebase({\n    apiKey: 'YOURS',\n    authDomain: YOURS.firebaseapp.com',\n    databaseURL: 'https://YOURS.firebaseio.com',\n    storageBucket: 'YOURS.appspot.com'\n  }),\n  firebaseAuthConfig({\n    method: AuthMethods.Redirect,\n    provider: AuthProviders.Google\n  })\n]).catch(err => console.error(err));\n``\n. @davideast here's a plunker: https://plnkr.co/edit/sRzlMq?p=info\n. @davideast, yes, I understand, and for the Plunker above I did white-list Plunker's domain in the Console to illustrate the issue.\nBut the issue originated from me experiencing (it still happens) on localhost.\nAgain, Popup works as expected, but Redirect misbehaves as per the above description.\nPlease let me know what else I can provide to help resolve this.\nThanks! \n. @davideast, looks like this will solve #324 as well. Should we mark that one as duplicate as well, like #452?\n. @manekinekko What is your version of angularfire2 after the update?\n. @manekinekko Just to be sure, do you have 2.0.0-beta.4?\nI see this one as the latest. What does yournpm listshow after runningangularfire2@nextfor angularfire2? Thanks!\n. @davideast AuthMethods.Redirect is working for me now too after the update to 2.0.0-beta.4.\nThanks!\n. @cartant , thank you for a quick reply!\nI did find https://github.com/angular/angularfire2/pull/838 and erroneously commented there (comment deleted) to ask about this feature.\nBut I wasn't going by any of your comments per se, but rather by the footnote 1 at https://github.com/angular/angularfire2/blob/master/docs/4-querying-lists.md.\nIt clearly suggests that I can specify thekeyparameter toequalTo.\nPerhaps it's best to update that footnote to only apply tostartAt` until the feature is released, what do you think?. @cartant , got it. I was treating the docs as something that was updated post release.\nIn any case, thank you for the PR and looking forward to using the feature in my code when it's released.\nThis issue is resolved then.. ",
    "rainabba": "I'm seeing this in QtWeb 3.8.5. It can't even run Gmail, lacks ES6 support (I use Babel to translate to ES5 code), is the same JS engine in the WkhtmlToPdf project (which is HUGELY popular project for converting pages to PDF in a well controlled/formatted manner).. ",
    "dpassis": "Solution: the issue was corrected in the latest Firebase JavaScript SDK release (4.1.3)\nFirebase JavaScript SDK Release Notes. @edzillion the method signInWithPopup don't work with cordova/ionic, you should use the signInWithRedirect method.. @mateusmcg make sure that all windows are open by inappbrowser \nSomething like that: \n function onDeviceReady() {\n            window.open = cordova.InAppBrowser.open;\n        }\nAlso make sure that all configs listed in the tutorial are done.\n\n. @mateusmcg \n1)You need create in the firebase console a android app and add the same id below:\n<widget **id=\"com.app\"** version=\"1.0.0\" xmlns=\"http://www.w3.org/ns/widgets\" xmlns:cdv=\"http://cordova.apache.org/ns/1.0\">\n2)You need create a new  dynamic link and relate that with your android app created in the step 1,\nso in the config.xml\n```\n \n\n\n\n\n\n```\np.s.: host name is your authDomain, get this in your firebase snnipet\n. ",
    "edzillion": "@dpassis have you tested it? I haven't been following this issue closely so maybe I am doing something wrong. This works on browser:\nthis.userService.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider())\n    .then(\n      (success) => {\n        console.log('fb auth success');\n        this.loading.dismiss();\n      }).catch(\n      (err) => {\n        console.error(err);\n      });\nI get:\ncode: \"auth/operation-not-supported-in-this-environment\"\nmessage: \"This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.\"\nI am not without the --prod flag on ionic:\n`\nglobal packages:                                                      \n@ionic/cli-utils : 1.4.0                                          \nCordova CLI      : 7.0.1                                          \nIonic CLI        : 3.4.0\n\nlocal packages:                                                       \n@ionic/app-scripts              : 1.3.8                           \n@ionic/cli-plugin-cordova       : 1.4.0                           \n@ionic/cli-plugin-ionic-angular : 1.3.1                           \nCordova Platforms               : android 6.2.3 browser 4.1.0     \nIonic Framework                 : ionic-angular 3.4.2\n\nSystem:                                                               \nNode       : v6.11.0                                              \nOS         : Windows 8.1                                          \nXcode      : not installed                                        \nios-deploy : not installed                                        \nios-sim    : not installed                                        \nnpm        : 4.1.2\n\n`\npackage.json:\n\"angularfire2\": \"^4.0.0-rc.1\",\n\"firebase\": \"^4.1.3\",\n. ",
    "fluentwait": "https://javebratt.com/ionic-social-login-firebase/ \nFollow this guide...It worked for me. ",
    "renanss": "@fluentwait it worked :). ",
    "feliperfmarques": "I followed this guide indicated by @fluentwait, in addition to this:\nhttps://firebase.google.com/docs/auth/web/cordova?hl=en-us\nIn special, this step:\n3. To handle the case where the app activity is destroyed before the sign-in operation completes, call getRedirectResult when your app loads.. ",
    "bogacg": "When I add <univesal-links> tag in config.xml I'm getting this error during build:\n\nCannot read property 'manifest' of undefined.\n\nDin't you guys get that error to start with ?\ncordova-universal-links-plugin seems to have a problem.. Is there any progress in this front. I've tried same approach in my app, with similar auth-service of todo-angular2-firebase example, having auth-guard and unauth-guard. When I logout, canActivate gets called always prior to auth object nulls. I've tried .take(1) or .first()...no luck.\nWhy .logout() does not return promise anyways?\nUPDATE:\nIn my Auth-service signout() method I directly use firebase.auth().signOut().then(... now, instead of FirebaseAuthState's .logout() method since firebase.auth().signOut() returns a promise. I hope this doesn't break anything else.\n. @jeffbcross I've seen this problem right after I've added AngularFire2 to a newly created project from: WEBPACK: AN INTRODUCTION \nSure, it may not be an anomaly related to \"your\" work or AngularFire2, I'd be happy then pass along to Angular 2 project's issues section or Webpack.\n. In my case, just removing firebase from types array in tsconfig.json did not fix this issue, but also I had to remove import 'firebase' from vendor.ts file.\nWhich reminds me an issue I've previously reported #521 \n. Doesn't .first() or .take(1) stops further reading of updates? With this, if data gets updated, we won't see any effect in our app I expect. Also, proposed solutions aren't really intuitive.. I'm very displeased such a good project managed in such bad manner lately. The error case is very simple to reproduce. I can't believe people managing the project don't have sample projects at hand to test stuff out.\nYou guys are like just trying to push people out from this report section on purpose.\n@katowulf  I'm not planing to spare more time on this and creating a repro. So please close this (if you want) and lets keep this project buggy so that in future people can choose alternative frameworks and cloud services for their projects.. This issue still persists with latest versions:\nPlunkr. Quick question @jamesdaniels :\ndo I still have to set & watch a meta-data in db and then trigger user.getIdToken(true) from client-side as expressed in example here in docs to get updated token/claim. Or token updates are automatically propagated behind the scenes now?\nUpdate\nI did re-create scenario in that example and yes, it is required to manually trigger (or by watching a meta node in Db) user.getIdToken(true) in order to get updated token. How ever auth service's new user & idTokenResult Observables are super useful. Thank you.\nUpdate 2\nIs there any difference with authState and user ? They seem to be the same.. Quick question @jamesdaniels :\ndo I still have to set & watch a meta-data in db and then trigger user.getIdToken(true) from client-side as expressed in example here in docs to get updated token/claim. Or token updates are automatically propagated behind the scenes now?\nUpdate\nI did re-create scenario in that example and yes, it is required to manually trigger (or by watching a meta node in Db) user.getIdToken(true) in order to get updated token. How ever auth service's new user & idTokenResult Observables are super useful. Thank you.\nUpdate 2\nIs there any difference with authState and user ? They seem to be the same.. ",
    "alkahtani": "https://javebratt.com/ionic-social-login-firebase/\nFollow this guide...It worked for me. this artical solved the issue , follow up and let us know.\nIonic Social login . ",
    "ToothpickFactory": "When I switched to\n```javascript\nimport { firebase } from '@firebase/app';\n// import these as needed..\nimport '@firebase/auth'; \nimport '@firebase/database'; \nimport '@firebase/firestore';\n```\nIt worked. ",
    "maxmumford": "As of 2.0.0-beta.5 (and perhaps earlier) we initialise the GeoFire object like so:\nnew GeoFire(this.angularFire.database.list('/locations').$ref)\n533\n. I think the problem is you're passing in the FirebaseListObservable instead of an object reference. Try the following:\nnew GeoFire(afRef.list('locations/').$ref)\n$ref might have changed to _ref on the master branch.\n. In later af2 versions $ref is public. Until then, you can get around typescript access restrictions by casting it to any like this:\nlet afRefAny: any = afRef.list('locations/');\nnew GeoFire(afRefAny._ref);\nThis works because the variable afRefAny is of type \"any\" (meaning no object type restriction), so typescript doesn't enfore the access modifiers from afRef.list. Access modifiers are purely a typescript concept and don't exist in javascript, so this will work in runtime. \nHope that helps!\n. From the docs it looks like firebase has fields on the auth object for a user's displayName and profile photo etc:\nhttps://firebase.google.com/docs/auth/web/manage-users\nAre you planning on including this in the angularfire2 lib?\n. I'm having the same problem with an angular2 project created with the quickstart tutorial. However for projects created with the angular-cli the command works...\n. Skipping step 3 results in the following error messages:\n```\n\u279c  quickstart git:(master) \u2717 npm start\n\nangular2-quickstart@1.0.0 start /Users/max/Development/quickstart\ntsc && concurrently \"tsc -w\" \"lite-server\"\n\nnode_modules/angularfire2/angularfire2.d.ts(13,66): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/angularfire2.d.ts(15,46): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(11,20): error TS1112: A class member cannot be declared optional.\nnode_modules/angularfire2/auth/auth.d.ts(14,40): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(15,52): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(15,92): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(16,51): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(16,119): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(19,56): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(6,82): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(8,49): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(13,46): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(39,11): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(41,14): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(42,14): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(43,15): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(44,16): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(47,55): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth_backend.d.ts(47,85): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(8,14): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(9,25): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(17,73): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(19,36): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/firebase_sdk_auth_backend.d.ts(20,37): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/database.d.ts(8,29): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/database.d.ts(9,31): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_factory.d.ts(5,74): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_factory.d.ts(5,104): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(6,50): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(6,80): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(8,11): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(8,41): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(9,23): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(9,53): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(11,21): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(12,53): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(13,39): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_list_observable.d.ts(14,83): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_object_factory.d.ts(4,76): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_object_observable.d.ts(6,17): error TS1112: A class member cannot be declared optional.\nnode_modules/angularfire2/database/firebase_object_observable.d.ts(7,102): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_object_observable.d.ts(9,22): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_object_observable.d.ts(10,28): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/firebase_object_observable.d.ts(11,15): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/interfaces.d.ts(9,23): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/interfaces.d.ts(10,26): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/interfaces.d.ts(11,26): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/interfaces.d.ts(12,35): error TS2503: Cannot find namespace 'firebase'.\nnpm ERR! Darwin 15.5.0\nnpm ERR! argv \"/usr/local/Cellar/node/5.10.1/bin/node\" \"/usr/local/bin/npm\" \"start\"\nnpm ERR! node v5.10.1\nnpm ERR! npm  v3.8.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! angular2-quickstart@1.0.0 start: tsc && concurrently \"tsc -w\" \"lite-server\"\nnpm ERR! Exit status 2\nnpm ERR!\nnpm ERR! Failed at the angular2-quickstart@1.0.0 start script 'tsc && concurrently \"tsc -w\" \"lite-server\" '.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the angular2-quickstart package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     tsc && concurrently \"tsc -w\" \"lite-server\"\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs angular2-quickstart\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls angular2-quickstart\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/max/Development/quickstart/npm-debug.log\n```\nI'm fairly new to angular2 so I may be missing something obvious...\nWhat I've done so far:\n- cloned the ng2 quickstart repo\n- installed angularfire2@next and firebase\n- included af2 in systemjs and bootstrap\n- npm start\n. Still no luck for me. I'm using angular quickstart as a base:\ngit clone https://github.com/angular/quickstart.git quickstart\nHere's my package.json dependencies:\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.5\",\n    \"@angular/compiler\": \"2.0.0-rc.5\",\n    \"@angular/core\": \"2.0.0-rc.5\",\n    \"@angular/forms\": \"0.3.0\",\n    \"@angular/http\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.5\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"@angular/router-deprecated\": \"2.0.0-rc.2\",\n    \"@angular/upgrade\": \"2.0.0-rc.5\",\n    \"angular2-in-memory-web-api\": \"0.0.15\",\n    \"angularfire2\": \"2.0.0-beta.2\",\n    \"bootstrap\": \"^3.3.6\",\n    \"core-js\": \"^2.4.0\",\n    \"firebase\": \"^3.3.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"systemjs\": \"0.19.27\",\n    \"zone.js\": \"^0.6.12\"\n  },\nand my app.module.ts:\n```\nimport { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AngularFireModule } from 'angularfire2';\nimport * as firebase from 'firebase';\nimport { AppComponent }  from './app.component';\nconst firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \"\",\n  databaseURL: \"\",\n  storageBucket: \"\"\n}\n@NgModule({\n  imports: [ \n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig)\n  ],\n  declarations: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n```\nnpm start yields:\n```\n\u279c  quickstart git:(master) \u2717 npm start\n\nangular2-quickstart@1.0.0 start /Users/max/Development/quickstart\ntsc && concurrently \"tsc -w\" \"lite-server\"\n\nnode_modules/angularfire2/database/database.d.ts(9,29): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/database/database.d.ts(10,31): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth.d.ts(15,40): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth.d.ts(16,52): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth.d.ts(16,92): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth.d.ts(17,51): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth.d.ts(17,119): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth.d.ts(20,56): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth_backend.d.ts(6,82): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth_backend.d.ts(8,49): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth_backend.d.ts(13,46): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth_backend.d.ts(41,11): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/providers/auth_backend.d.ts(61,55): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_factory.d.ts(5,74): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_factory.d.ts(5,104): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(6,23): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(7,26): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(8,26): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(9,35): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(15,50): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(15,80): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(17,11): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(17,41): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(18,23): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(18,53): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(20,21): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(21,53): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(22,39): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_list_observable.d.ts(23,83): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_object_factory.d.ts(4,76): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_object_observable.d.ts(7,102): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_object_observable.d.ts(9,22): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_object_observable.d.ts(10,28): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/utils/firebase_object_observable.d.ts(11,15): error TS2503: Cannot find namespace 'firebase'.\napp/app.module.ts(4,10): error TS2305: Module '\"/Users/max/Development/quickstart/node_modules/angularfire2/angularfire2\"' has no exported member 'AngularFireModule'.\napp/app.module.ts(5,27): error TS2307: Cannot find module 'firebase'.\nnpm ERR! Darwin 15.5.0\nnpm ERR! argv \"/usr/local/Cellar/node/5.10.1/bin/node\" \"/usr/local/bin/npm\" \"start\"\nnpm ERR! node v5.10.1\nnpm ERR! npm  v3.8.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! angular2-quickstart@1.0.0 start: tsc && concurrently \"tsc -w\" \"lite-server\"\nnpm ERR! Exit status 2\nnpm ERR!\nnpm ERR! Failed at the angular2-quickstart@1.0.0 start script 'tsc && concurrently \"tsc -w\" \"lite-server\" '.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the angular2-quickstart package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     tsc && concurrently \"tsc -w\" \"lite-server\"\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs angular2-quickstart\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls angular2-quickstart\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/max/Development/quickstart/npm-debug.log\n```\nEqually no luck with \"angularfire2\": \"^2.0.0-beta.3-pre2\", or \"firebase\": \"^3.2.0\" as other threads have suggested :/\n. Tried with rc.3 and I'm getting the same errors. Here's the config:\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.3\",\n    \"@angular/compiler\": \"2.0.0-rc.3\",\n    \"@angular/core\": \"2.0.0-rc.3\",\n    \"@angular/forms\": \"0.1.0\",\n    \"@angular/http\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.3\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"@angular/router-deprecated\": \"2.0.0-rc.2\",\n    \"@angular/upgrade\": \"2.0.0-rc.3\",\n    \"angular2-in-memory-web-api\": \"0.0.15\",\n    \"angularfire2\": \"2.0.0-beta.2\",\n    \"bootstrap\": \"^3.3.6\",\n    \"core-js\": \"^2.4.0\",\n    \"firebase\": \"3.2.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"systemjs\": \"0.19.27\",\n    \"zone.js\": \"^0.6.12\"\n  },\nTried with rc.5 and angularfire2@next and still same errors. config:\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.5\",\n    \"@angular/compiler\": \"2.0.0-rc.5\",\n    \"@angular/core\": \"2.0.0-rc.5\",\n    \"@angular/forms\": \"0.3.0\",\n    \"@angular/http\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.5\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"@angular/router-deprecated\": \"2.0.0-rc.2\",\n    \"@angular/upgrade\": \"2.0.0-rc.5\",\n    \"angular2-in-memory-web-api\": \"0.0.15\",\n    \"angularfire2\": \"^2.0.0-beta.3-pre2\",\n    \"bootstrap\": \"^3.3.6\",\n    \"core-js\": \"^2.4.0\",\n    \"firebase\": \"^3.3.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"systemjs\": \"0.19.27\",\n    \"zone.js\": \"^0.6.12\"\n  },\nHere's the app.module.ts used each time:\n```\nimport { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { AngularFireModule } from 'angularfire2';\nimport * as firebase from 'firebase';\nimport { AppComponent }  from './app.component';\nconst firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \"\",\n  databaseURL: \"\",\n  storageBucket: \"\"\n}\n@NgModule({\n  imports: [ \n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig)\n  ],\n  declarations: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n```\n. angular-cli: 1.0.0-beta.10\nnode: 5.10.1\nos: darwin x64\n. I've switched to the webpack branch of angular-cli and managed to get it working with the instructions on this thread (see comment by @Nishanth2). \nThanks for your help @danielgek, hopefully things will stabilise and I can switch back to systemjs, otherwise I'll just have to learn webpack :) \n. Finally got this working with Angular2 RC5 and System js with the following:\nPackage.json\n{\n  \"name\": \"AngularFire2Test\",\n  \"version\": \"0.1.0\",\n  \"scripts\": {\n    \"start\": \"tsc && concurrently \\\"npm run tsc:w\\\" \\\"npm run lite\\\" \",\n    \"lite\": \"lite-server\",\n    \"postinstall\": \"typings install\",\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"typings\": \"typings\"\n  },\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"@angular/common\": \"^2.0.0-rc.5\",\n    \"@angular/compiler\": \"^2.0.0-rc.5\",\n    \"@angular/core\": \"^2.0.0-rc.5\",\n    \"@angular/forms\": \"0.3.0\",\n    \"@angular/http\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser\": \"^2.0.0-rc.5\",\n    \"@angular/platform-browser-dynamic\": \"^2.0.0-rc.5\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"@angular/router-deprecated\": \"2.0.0-rc.2\",\n    \"@angular/upgrade\": \"2.0.0-rc.5\",\n    \"angular2-in-memory-web-api\": \"0.0.15\",\n    \"angularfire2\": \"^2.0.0-beta.3-pre2\",\n    \"bootstrap\": \"^3.3.6\",\n    \"core-js\": \"^2.4.0\",\n    \"firebase\": \"^3.3.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"systemjs\": \"0.19.27\",\n    \"zone.js\": \"^0.6.12\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^2.0.0\",\n    \"lite-server\": \"^2.2.0\",\n    \"typescript\": \"^2.0.0\",\n    \"typings\": \"^1.0.5\"\n  }\n}\ntsconfig.json\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  }\n}\ntypings.json\n{\n  \"globalDependencies\": {\n    \"core-js\": \"registry:dt/core-js#0.0.0+20160602141332\",\n    \"jasmine\": \"registry:dt/jasmine#2.2.0+20160621224255\",\n    \"node\": \"registry:dt/node#6.0.0+20160807145350\"\n  },\n  \"dependencies\": {}\n}\nsystemjs.config.js\n/**\n * System configuration for Angular 2 samples\n * Adjust as necessary for your application needs.\n */\n(function(global) {\n  // map tells the System loader where to look for things\n  var map = {\n    'app':                        'app', // 'dist',\n    '@angular':                   'node_modules/@angular',\n    'angular2-in-memory-web-api': 'node_modules/angular2-in-memory-web-api',\n    'rxjs':                       'node_modules/rxjs',\n    'firebase':                   'node_modules/firebase',\n    'angularfire2':               'node_modules/angularfire2'\n  };\n  // packages tells the System loader how to load when no filename and/or no extension\n  var packages = {\n    'app':                        { main: 'main.js',  defaultExtension: 'js' },\n    'rxjs':                       { defaultExtension: 'js' },\n    'angular2-in-memory-web-api': { main: 'index.js', defaultExtension: 'js' },\n    'firebase':                   { main: 'firebase.js', defaultExtension: 'js' },\n    'angularfire2':               { defaultExtension: 'js', main: 'angularfire2.js' }\n  };\n  var ngPackageNames = [\n    'common',\n    'compiler',\n    'core',\n    'forms',\n    'http',\n    'platform-browser',\n    'platform-browser-dynamic',\n    'router',\n    'router-deprecated',\n    'upgrade',\n  ];\n  // Individual files (~300 requests):\n  function packIndex(pkgName) {\n    packages['@angular/'+pkgName] = { main: 'index.js', defaultExtension: 'js' };\n  }\n  // Bundled (~40 requests):\n  function packUmd(pkgName) {\n    packages['@angular/'+pkgName] = { main: 'bundles/' + pkgName + '.umd.js', defaultExtension: 'js' };\n  }\n  // Most environments should use UMD; some (Karma) need the individual index files\n  var setPackageConfig = System.packageWithIndex ? packIndex : packUmd;\n  // Add package entries for angular packages\n  ngPackageNames.forEach(setPackageConfig);\n  var config = {\n    map: map,\n    packages: packages\n  };\n  System.config(config);\n})(this);\napp.module.ts\n```\nimport { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport * as firebase from \"firebase\";\nimport { AngularFireModule, AuthProviders, AuthMethods } from 'angularfire2';\nimport { AppComponent }  from './app.component';\nconst firebaseConfig = {\n    apiKey: \"...\",\n    authDomain: \"....firebaseapp.com\",\n    databaseURL: \"https://....firebaseio.com\",\n    storageBucket: \"....appspot.com\",\n}\n@NgModule({\n  imports:      [ \n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig),\n  ],\n  declarations: [ AppComponent ],\n  providers:    [ ConfigService ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n```\napp.component.ts\n```\nimport { Component } from '@angular/core';\nimport { AngularFire, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2';\n@Component({\n  selector: 'my-app',\n  templateUrl: 'app/app.component.html'\n})\nexport class AppComponent { \nitems: FirebaseListObservable;\n  af: AngularFire;\nconstructor(af: AngularFire) {\n    this.af = af;\n    this.items = af.database.list('items');\n  }\n}\n```\nIf you get errors about duplicate definition of Promise, etc, delete your whole ./typings folder and run \"typings install\" which should fix it.\nHope this helps somebody, let me know if you need any more code from my project.\nMax\n. Fixed: we can now initialise the geofire object like so:\nnew GeoFire(this.angularFire.database.list('/locations').$ref)\n. This has been merged now under #599. Thanks @meDavid for finding and providing the fix.\n. Looks like #534 might provide a fix for this, but we're waiting for the author to sign the CLA\n. @siriscac I'm deploying an MVP this week so if it's not merged by then I'll probably fork the PR and use that until it's been merged. I'll update this thread with what I finally do.\n. I couldn't wait any longer for for committer of PR #534 to sign the CLA so I opened my own PR here: #599.\nIn the meantime while that's merged, I found a workaround that let me deploy my project on Heroku today:\n- Forked angularfire2\n- copy the fix from #534 \n- Commit to my own fix branch\n- Publish my branch with the fix as angularfire2-cocept on npm\n- Remove \"angularfire2\" from my package.json\n- Add \"angularfire2-cocept\" to my package.json\n- Update all imports from \"import ... from 'angularfire2'\" to \"import ... from 'angularfire2-cocept'\"\n- Publish to Heroku\nFeel free to use angularfire2-cocept, I'll probably rebase it every now and then, but as soon as the fix in PR #599 or #534 is merged I'll switch back to angularfire2.\nEdit:\nI originally based angularfire2-cocept on af2 master but ran into some typings issues introduced after 2.0.0-beta.5. \nTo get round that, I have released a new version, 2.0.0-beta.6, which is a fork of af2@2.0.0-beta.5 with the package.json fix added. \nSo if you do use angularfire2-cocept, know that angularfire2-cocept@2.0.0-beta.5 is a fork of angularfire2@962b37dce072204e7909bc912434518f3ce1ae09, whereas angularfire2-cocept@2.0.0-beta.6 is a fork of angularfire2@2.0.0-beta.5\n............. slightly messed up I know but it's just temporary \ud83d\ude05\n. Just to let everybody know, #599 has now been merged so we'll have it on master or the next release.\nThanks everybody\n. I'm getting this issue as well, how did you solve it?\n. Thanks for your suggestion but I am already importing firebase with:\nimport * as firebase from \"firebase\";\nThe problem is with firebase not being initialised, not with it not being referenced.\n. Thanks @mukesh51. Usually to get the user's auth state I subscribe to the angularfire auth state change event. I only access the firebase.auth().currentUser object out of necessity for calling updateProfile on it.\nHoping @davideast  can shed some light on things...\n. I've started a new project to try to reproduce it locally, I'll spend some\nmore time tomorrow to get that set up.\nOn Sat, 24 Sep 2016, 10:29 Mukesh G Chandnani, notifications@github.com\nwrote:\n\n@maxmumford https://github.com/maxmumford Just a thought. If everything\nworks as expected on plnkr as well as on my local instance,is it something\nyou would like to try installing everything from scratch Install & Setup\nhttps://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md\nto ensure nothing is missing.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/556#issuecomment-249355304,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADnziHOSTPaESVMnG-eocuJoegiORsowks5qtO1lgaJpZM4KFCkl\n.\n\nMax Mumford\n07800 870 719\nhttps://www.Cocept.io - Better Business Tools to Boost your Bottom Line\n. Thanks @FoodBuster, I tried your solution and curiously I get the following during the module bootstrap (after manually initing firebase):\n\nError: Firebase App named '[DEFAULT]' already exists\nThis I suppose indicates that some time after the module bootstrap process, the firebase connection is lost or modified.\nOne thing I have been able to rule out is GeoFire - I removed all traces of it from my app and the same error still appears. \nI'll continue trying to reproduce this issue today...\n. I've managed to reproduce this issue in a new, bare project locally, here is a repo with the code:\nhttps://github.com/maxmumford/no-firebase-app-default\n. EDIT: THIS IS NO LONGER THE RECOMMENDED SOLUTION - SEE COMMENT:\nhttps://github.com/angular/angularfire2/issues/556#issuecomment-254276276\nAs @JimTheMan points out in #585 the solution is to initialise the firebase SDK separately:\nfirebase.initializeApp(firebaseConfig);\nFor anyone getting this error:\nError: Firebase App named '[DEFAULT]' already exists\nit's down to a missing firebase import in app.module.ts:\nimport * as firebase from \"firebase\";\n\ud83d\ude04\nThanks all for your help.\n. Adding a second firebase.initializeApp call is no longer the recommended way to access the initialized Firebase object. Safari on iOS was intermittently raising the following exception as a result:\nTypeError: r[t] is not a function. (In 'r[t](a)', 'r[t]' is null)     : api.js:7:475\nThe proper way to go about this is to access AngularFire2's initialized firebase instance like so:\n```\nimport { Component, Inject } from '@angular/core';\nimport { FirebaseApp } from 'angularfire2';\n@Component({\n  template: 'testing'\n})\nexport class AnyComponent {\nconstructor(@Inject(FirebaseApp) firebaseApp: any) {\n    const storageRef = firebaseApp.storage().ref().child('images/image.png');\n    storageRef.getDownloadURL().then(url => this.image = url);\n  }\n}\n```\nThanks to @sunlyear for finding this solution, and this SO thread for providing it:\nhttp://stackoverflow.com/questions/39067832/accessing-firebase-storage-with-angularfire2-angular2-rc-5\n. Hi @mukesh51 , thanks for the reply. \nI think my original question phrasing was a bit misleading. The problem seems to occur when I have an active subscription to an entire list, and a second subscription to a subset of said list:\n```\n  ngOnInit(){\n    // get all items\n    this.angularFire.database.list('/items').subscribe(items => {\n      console.log('Got items: ', items);\n    });\n  }\nfindType1(){\n    // get a subset of items\n    this.angularFire.database.list('/items', {query: {\n      orderByChild: \"type\",\n      equalTo: 1\n    }}).subscribe(items => {\n      console.log('Found items of type 1: ', items);\n    });\n  }\n```\nSo when the component loads, we subscribe to the entire list of items at /items. Then later, we subscribe to a subset of /items through a query. The console output is as follows:\nGot items:  [Item, Item, Item, Item, Item, Item, Item, Item, Item, Item, Item, Item, Item]\nhome.component.ts:54 Found items of type 1:  []\nhome.component.ts:54 Found items of type 1:  [Item]\nhome.component.ts:54 Found items of type 1:  [Item, Item]\nhome.component.ts:54 Found items of type 1:  [Item, Item, Item]\nhome.component.ts:54 Found items of type 1:  [Item, Item, Item, Item]\nhome.component.ts:54 Found items of type 1:  [Item, Item, Item, Item, Item]\nhome.component.ts:54 Found items of type 1:  [Item, Item, Item, Item, Item, Item]\nFinally if I remove the code in ngOnInit (so there is only one subscription at a time), the result is as I expect:\nFound items of type 1:  [Object, Object, Object, Object, Object, Object]\nIs this behaviour intended? How should I go about accessing a subset of the main list?\n. Hmm strange... I'll upload a new project demonstrating the problem this\nweekend.\n. @mukesh51 please find at the link below a new project that demonstrates this issue:\nhttps://github.com/maxmumford/multiple-subscriptions\nThanks\n. Found 2 other issues referencing this problem:\n548\n501\n. @DennisSmolek thanks, yes that's the workaround I used in the end. Load the entire list and cache it from within the subscriber, then instead of querying firebase, just filter that list. \n@davideast thanks for the update, It'll be good to have the fix but as mentioned above I've got a feasible workaround so there's no real rush. No worries about the delay, it's that time of year, everybody seems to be getting sick atm. Hope you and your kids are better soon! \n. @davideast thanks for releasing this fix. I'm not using AF2 anymore as the project is now complete, but from everybody else's comments it looks like your changes did the trick!. I'm also getting this on the plunker from the angularfire2 readme:\nhttp://plnkr.co/edit/7uJzav4tj2MuwT7b7fiX?p=preview\n. @nydal91 You'll have to include the exact error messages you're getting for us to be able to help\n. @JimTheMan safari on iOS was throwing an exception as a result of initializing a second firebase instance. The solution @sunlyear found worked perfectly for me (thanks!!!). See my comment here for more details:\nhttps://github.com/angular/angularfire2/issues/556#issuecomment-254276276\n. Here's how to sign up a user with an email and a password:\nthis.angularFire.auth.createUser({email: emailFromForm, password: passwordFromForm})\n      .then(success => {\n            // user has been created \n      });\nIf you're using oAuth (facebook, google etc to login) you just have to call the login method with the correct AuthMethod and AuthProviders passed in, and it'll create the user account for you if it doesn't already exist. For example:\nthis.angularFire.auth.login({\n      provider: AuthProviders.Google,\n      method: AuthMethods.Popup,\n    })\n. Ok so after some digging I found that this is the way to contribute:\n- Fork af2\n- git clone\n- npm install\n- typings install\n- npm build\n- npm test\nOnce the builds pass, you'll want to run npm run build_npm. This will generate a \"dist\" directory with the built code - this is what gets published to npm. This is why, if you tell your package.json to fetch af2 from your github fork (as opposed to npm), it won't find the required files - because they are in /dist, which hasn't been built on your version - it only exists in NPM.\nIf you want to, like I did, temporarily fork af2 and use your version in deployment while you wait for your PR to be merged, probably the easiest way to go about that is to change the package name in package.json and publish your own version to npm. You can use the script \"publish.sh\" in the af2 repo to publish it. Refer to this comment for more instructions:\nhttps://github.com/angular/angularfire2/issues/543#issuecomment-252010490\nIn terms of actually testing your changes in a project, (someone correct me if I'm wrong) I think the only way to do that is to symlink node_modules/angularfire2 to your modified af2's dist directory.\n. @davideast sorry to duplicate PR #534 but I need this fix for my project and it looks like @meDavid isn't responding to the CLA signing request.\n. Great, thanks @davideast !\n. Hi marjcka,\nNope my app is web only, running in Safari on iOS. \nThe app is hosted on heroku and accessed via https. I have added the heroku domain to the allowed domains in Firebase.\nThanks\nMax\n. Discovered this error message was produced only in private browsing mode - missed that I was in that as I don't use iOS or Safari, oops!\nCan confirm this is normal behaviour, as firebase relies on localstorage, which is blocked by safari in private browsing mode.\nThanks\n. ",
    "georgechapman": "Just wondering if you can help with a problem I've been encountering on this topic.\nAs above i'm using AngularFire2 to connect to GeoFire and then calling a query:     \nvar afRef = this.af.database; // AngularFire connection\nvar gfRef = new GeoFire(afRef.list('locations/')); // GeoFire reference \nvar geoQuery = gfRef.query({\n  center: [51.294, -0.245],\n  radius: 1\n});\nHowever i just get this error:\nUncaught (in promise): TypeError: _firebaseRef.orderByChild is not a function\nAny ideas what i'm doing wrong?\nThanks\nPS: i'm using the follwing dependencies:\n    \"angularfire2\": \"^2.0.0-beta.5\",\n    \"firebase\": \"^3.5.2\",\n    \"geofire\": \"^4.1.2\",\n. Thanks @maxmumford - if I use $ref I get:\nProperty '$ref' does not exist on type 'FirebaseObjectObservable<any>'.\nbut if I use _ref i get:\nProperty '_ref' is private and only accessible within class 'FirebaseObjectObservable<T>'.\nWhich seems like it's a step closer! Any thoughts?\n. Brilliant! Works a treat.\nThanks so much.\n. ",
    "ravivit9": "Hi,\nI am getting the below error for the following code:\n...\nimport {GeoFire} from 'geofire';\n...\n@Component{\n::::\n}\nexport class AppComponent{\nconstructor() {\n  var afRef = this.af.database; // AngularFire connection\n let afRefAny: any = afRef.list('locations/');\n  GeoFire(afRefAny._ref);\n\n  var geoQuery = afRefAny.query({\n    center: [51.294, -0.245],\n    radius: 1\n  });\n\n}\n}\n\nAfter solving the above, I wanted to use geoQuery to build a mapping solution.\nAppreciate any help in resolving this.\n. Will do so. Thanks.\nCreated a StackOverfloor question.\nhttps://stackoverflow.com/questions/43615175/geofire-4-1-2-angular-2-4-0-2-firebxase-3-8-0\n. Hi, I am also having similar zone aware error.\npackage.json\n==========\n\"dependencies\": {\n    \"@angular/common\": \"~2.4.0\",\n    \"@angular/compiler\": \"~2.4.0\",\n    \"@angular/core\": \"~2.4.0\",\n    \"@angular/forms\": \"~2.4.0\",\n    \"@angular/http\": \"~2.4.0\",\n    \"@angular/material\": \"^2.0.0-beta.2\",\n    \"@angular/platform-browser\": \"~2.4.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.4.0\",\n    \"@angular/router\": \"~3.4.0\",\n    \"angular-in-memory-web-api\": \"~0.3.1\",\n    \"angularfire2\": \"^2.0.0-beta.8\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.7.2\",\n    \"rxjs\": \"5.2.0\",\n    \"systemjs\": \"0.20.10\",\n    \"zone.js\": \"^0.7.8\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^3.2.0\",\n    \"lite-server\": \"^2.2.2\",\n    \"typescript\": \"~2.2.1\",\n    \"canonical-path\": \"0.0.2\",\n    \"tslint\": \"^4.5.1\",\n    \"lodash\": \"^4.16.4\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"karma\": \"^1.3.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.1\",\n    \"rimraf\": \"^2.5.4\",\n    \"@types/node\": \"^7.0.8\",\n    \"@types/jasmine\": \"2.5.46\"\n  },\n\n. Just started with Angular2, MD, Firebase.  Able to run the initial app running but without firebase.  The moment I import angularfire2 then the app fails with the above screenshot of 404 (not found).\nAppreciate any help to resolve.  I am running in Mac.. Did the following:\nrm -rf node_modules\nnpm clean cache\nnpm install\nnpm start\n\nThe web browser started but throws the above screenshot error again.   For some reason the app is not able to find angularfire2 to load.  Not sure where to specify to look for angularfire2.\nIn fact today morning only I created a new repository and installed one by one AJS2, MD2, FB2.  without FB2 the app works fine. . I did managed to run the app after a few try.  \nI tried to follow the link https://medium.com/codingthesmartway-com-blog/angular-2-firebase-introduction-b4f32e844db2#.89d12414s which worked perfectly fine without any issue.\nThanks.. Just upgraded my code base to Angular4, got the below error similar to the above error.\nERROR in Error encountered resolving symbol values statically. Calling function 'OpaqueToken', function calls are not supported. Consider replacing the function or lambda with a reference to an exported function, resolving symbol FirebaseUserConfig in _path/node_modules/angularfire2/tokens.d.ts, resolving symbol AngularFireModule.initializeApp in _path/node_modules/angularfire2/angularfire2.d.ts, resolving symbol AppModule in _path/src/app/app.module.ts, resolving symbol AppModule in _path/ajs/src/app/app.module.ts\nAppreciate any help to resolve this.\n. Just to let you know that I have uninstalled firebase and angularfire2 and reinstalled both which fixed the app working.\nnpm uninstall firebase angularfire2 --save\nnpm install firebase angularfire2 --save. @jakehockey10, just upgraded my code base from 4.0.1 to 4.0.2 as suggested by \"ncu\" and did ng serve.  Now I am also getting the error as stated above.\nERROR in Error encountered resolving symbol values statically. Calling function 'OpaqueToken', function calls are not supported. Consider replacing the function or lambda with a reference to an exported function, resolving symbol FirebaseUserConfig in ............ @jakehockey10, as I posted in one of the above comment.  Please do the following to resolve the issue.\nnpm uninstall firebase angularfire2 --save\nnpm install firebase angularfire2 --save\nIt just worked after I uninstalled and installed both firebase and angularfire2.  Hope this helps.. As I am not sure how Travis build will work.  I just managed to make to run in local site only.. Sorry to hear that, I would suggest remove node_modules directory and then \nnpm clean cache \nnpm install \nhopefully the above would fix local version at least.  But I am not sure about Travis Cli as I never used it myself.\nPlease make sure the global modules are same as the local e.g. firebase, @angular/cli.\nThis is my configuration.\n  \"dependencies\": {\n    \"@angular/animations\": \"^4.0.2\",\n    \"@angular/common\": \"^4.0.2\",\n    \"@angular/compiler\": \"^4.0.2\",\n    \"@angular/core\": \"^4.0.2\",\n    \"@angular/forms\": \"^4.0.2\",\n    \"@angular/http\": \"^4.0.2\",\n    \"@angular/material\": \"^2.0.0-beta.3\",\n    \"@angular/platform-browser\": \"^4.0.2\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.2\",\n    \"@angular/platform-server\": \"^4.0.2\",\n    \"@angular/router\": \"^4.0.2\",\n    \"angularfire2\": \"^2.0.0-beta.8\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.7.6\",\n    \"hammerjs\": \"^2.0.8\",\n    \"ng2-flex-layout\": \"^0.1.5\",\n    \"rxjs\": \"^5.3.0\",\n    \"typescript\": \"^2.2.2\",\n    \"zone.js\": \"^0.8.5\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.0.0\",\n    \"@angular/compiler-cli\": \"^4.0.2\",\n    \"@types/jasmine\": \"2.5.47\",\n    \"@types/node\": \"~7.0.12\",\n    \"codelyzer\": \"~3.0.0-beta.4\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"jasmine-spec-reporter\": \"~3.2.0\",\n    \"karma\": \"~1.6.0\",\n    \"karma-chrome-launcher\": \"~2.0.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.1.0\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.1\",\n    \"ts-node\": \"~3.0.2\",\n    \"tslint\": \"~5.1.0\"\n  }\nHopefully you will get over this issue.. I am also doing pretty much the same.\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.css']\n})\nexport class HomePageComponent implements OnInit {\n  users: FirebaseListObservable;\nconstructor(private authService: AuthService, private router: Router, af: AngularFire) {\n    this.users = af.database.list('/users');\n  }\nngOnInit() {}\nlogout() {\n    this.authService.logout();\n    this.router.navigate(['login']);\n  }\n}\n      <md-card>\n        <md-list>\n          <md-list-item *ngFor=\"let user of users | async\">\n            <h3 md-line>{{user.displayName}}</h3>\n          </md-list-item>\n        </md-list>\n      </md-card>\n\nThe only line I see the difference is \"implements OnInit\"\nexport class HomePageComponent implements OnInit {\n...\n...\n}. Just as a note, after commenting angularfire2 code and installed material design2, when I loaded I got the same error as above.\nI think I may be missing something here but not sure.. When i created the app initially I used the quick start up app link in documentation.\nLater I created the app using the above syntax which worked fine.  More importantly I need to uninstall firebase, firebase-tools and reinstall which worked fine.. Looks all good. Closing the issue.. I followed instructions up to Bookmarks as per the link https://angular.io/docs/ts/latest/cookbook/aot-compiler.html#!#bootstrap\nThe following error occurred while doing ng serve.  Please note that ngc compile left with 1 compilation error as .../src/app/app.component.ts:15:22: Cannot find name 'System'.\nError: Tried to find bootstrap code, but could not. Specify either statically analyzable bootstrap code or pass in an entryModule to the plugins options\n    at Object.resolveEntryModuleFromMain (/Users/ravindra/work/ajs/node_modules/@ngtools/webpack/src/entry_resolver.js:128:11)\n    at AotPlugin._setupOptions (/Users/ravindra/work/ajs/node_modules/@ngtools/webpack/src/plugin.js:143:50)\n    at new AotPlugin (/Users/ravindra/work/ajs/node_modules/@ngtools/webpack/src/plugin.js:26:14)\n    at _createAotPlugin (/Users/ravindra/work/ajs/node_modules/@angular/cli/models/webpack-configs/typescript.js:55:12)\n    at Object.exports.getNonAotConfig (/Users/ravindra/work/ajs/node_modules/@angular/cli/models/webpack-configs/typescript.js:70:19)\n    at NgCliWebpackConfig.buildConfig (/Users/ravindra/work/ajs/node_modules/@angular/cli/models/webpack-config.js:27:37)\n    at Class.run (/Users/ravindra/work/ajs/node_modules/@angular/cli/tasks/serve.js:37:98)\n    at check_port_1.checkPort.then.port (/Users/ravindra/work/ajs/node_modules/@angular/cli/commands/serve.js:103:26)\n    at process._tickCallback (internal/process/next_tick.js:103:7)\n. Thanks Mark.\nI was looking for the solution past 3 days but couldn't find the right solution.  Normally I am mindful creating an issue in this forum as this platform shouldn't be polluted with lots of general question but as a last, I did created the issue but quick after that I found the solution as below: CLOSING the issue.\nI got the solution from the following AF2 issue:\nhttps://github.com/angular/angularfire2/issues/956\n. There was a space between angular and fire2, it should be angularfire2.  The below command should work.\nnpm install firebase angularfire2 --save. @mveer08, np, if works could you please close the ticket.. Hi @midhunadarvin, Even thought this is closed ticket, I am getting the following error during the load of the page.\nUncaught DOMException: Blocked a frame with origin \"https://www.google.com\" from accessing a cross-origin frame at :1:1\nAny fix can be applied to stop this happening?. I am also facing this issue across my app. Found this https://github.com/tiaguinho/material-community-components/pull/43 which may be useful. ",
    "gmanojisaac": "Dear David East..\nGeoFire will it work with CloudFire now??\nThanks... ",
    "WisaniShilumani": "Hi, since AngularFire's 5.0 update, moving from FirebaseListObservable to AngularfireList, the ._ref or .$ref don't seem to work.\nProperty '$ref' does not exist on type 'FirebaseObjectObservable', same for ._ref\nWhen I declare it as \"any\", it still doesn't work in runtime\n. Hi, since AngularFire's 5.0 update, moving from FirebaseListObservable to AngularfireList, the ._ref or .$ref don't seem to work.\nProperty '$ref' does not exist on type 'FirebaseObjectObservable', same for ._ref\nWhen I declare it as \"any\", it still doesn't work in runtime\n. ",
    "Golosay": "@WisaniShilumani \nFor AngularFire 5+ you can find ref in angularFire_list.query.ref\nthis.dbRef = this.db.list('/locations');\nthis.geoFire = new GeoFire(this.dbRef.query.ref);. ",
    "emannuell": "@nfoote and @hsuanweifu Im having the same issue. How have you solved?. ",
    "burtonjc": "Looks like you can get at through FirebaseAuthState:\ntypescript\nauthState.auth.updateProfile({\n  displayName: 'display name',\n  photoURL: 'some/url'\n}).then(() => {\n  ...\n});\nThe typings are a little strict on it if you are using typescript. So you have to pass both displayName and photoUrl; you can pass them as null though if you don't want to set one.\n. Because that value is wrapped in an observable I think you have to subscribe to get it. You might be able to do something fancy with BehaviorSubjects but I'm not sure.\nTo avoid subscribing to auth states all over the place, you could create a service to manage the subscription:\n```typescript\nimport { Injectable } from '@angular/core';\nimport { FirebaseAuth, FirebaseAuthState } from 'angularfire2';\n@Injectable()\nexport class AuthService {\n  private _authState: FirebaseAuthState = null;\nconstructor(public auth: FirebaseAuth) {\n    this.auth.subscribe((state: FirebaseAuthState) => {\n      this._authState = state;\n    });\n  }\nget authenticated(): boolean {\n    return this._authState !== null;\n  }\nget authState(): FirebaseAuthState {\n    return this._authState;\n  }\n}\n```\nThe danger there is if you call AuthService#authState before the subscription has fired, you will get a null value.\nHope that helps!. ",
    "psaussure": "@burtonjc from where can you call this? if in my modification class i have\nconstructor(public af: AngularFire)\nwhere on af instance can I retrieve authState without subcribing with this.af.auth.subscribe(authState => { }) (which you call at login for example).. ",
    "hemanrnjn": "@psaussure  I am facing the exact same problem as you are asking. Did you get it to work? If yes, then how? Please help.. @psaussure  I am facing the exact same problem as you are asking. Did you get it to work? If yes, then how? Please help.. ",
    "andres-gonzalez": "I think the best way to update the profile is using native firebase, just import it and use it like this:\nimport * as firebase from 'firebase';\n```\nionViewDidLoad() {\n    firebase.auth().onAuthStateChanged(function (user) {\n      user.updateProfile({\n        displayName: 'Pepe Pecas'\n      })    \n      if (user) {\n        console.log(user)\n      } else {\n  }\n});\n\n}\n```\n. ",
    "mitCode": "updateProfile is part of auth and not authState.\nTry this:\nauth.currentUser.updateProfile. ",
    "Sanjay-Ghadge": "How to update phone number of user in angularfire2?\nHow do I get phoneCredential?. ",
    "crobbs": "Before you try, make sure you have recently logged in.  Try to log out and then log in...then run another test.. ",
    "chovy": "I get an error that auth.currentUser doesn't exist.. ",
    "phc15": "use firebase.auth().currentUser. I got similar questions too.\nhttps://stackoverflow.com/questions/50950576/ionic-firebase-how-to-get-and-show-data-from-firebase-references-nodes-using. ",
    "ronyef": "this.afAuth.auth.currentUser.updateProfile({\n          displayName: this.name,\n          photoURL: ''\n        }).then(() => {\n          console.log('DisplayName updated')\n        }).catch(err => console.log(err)). ",
    "peterwiebe": "thank you @r-park! that got me over the hump (with slight alterations). I suppose I should spend time on rxjs to have a better foundation.\n. ",
    "iam10k": "Anyone else having this problem should take a look at this solution if the one above is not exactly working for you. https://github.com/angular/angular/issues/9613#issuecomment-228748731\nAlmost the same as @r-park but without the .do()\n. ",
    "ubenzer": "Hello,\nThe code piece @r-park provided is very useful to me. I didn't get one thing though. Why did you use take(1) there? I was using .asObservable()(and it wasn't working). It looks like I didn't get usage of rxjs there. Can you explain if you have some some? :) You can also post it as answer here if interested.\n``` js\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private auth: FirebaseAuth, private router: Router) {}\ncanActivate(): Observable {\n    return this.auth\n      .take(1) // <-- WHY? I thought it would be .asObservable() instead\n      .map((authState: FirebaseAuthState) => !!authState)\n      .do(authenticated => {\n        if (!authenticated) this.router.navigate(['/login']);\n      });\n  }\n}\n```\n. @awiseman Thanks for the explanation. The logic you tell makes sense, router supposed to care about only the first response. \nOn the other hand, I still didn't get why it doesn't work because I am pretty sure that (1) it fires only once (2) even it had fired more than once, router supposed to got its answer and disregard following events or at least give an error.\n. ",
    "awiseman": "@ubenzer I think the rationale is that, logically, the router must make a single decision in response to a navigation event.  In the case of an async value, the guard must wait for a single value and then make its decision.  \nConsider a user clicking a link to navigate somewhere:  The guard either says \"yes, this is ok to go forward\" or \"no, cancel the navigation\".  If a new value appears for the observable after it has made its decision, the router can't re-evaluate the navigation.  It has already responded to the user.  Therefore, it doesn't really make sense to have the guard try to respond to more than one value from the Observable.\nSo, the purpose of the .take(1) operator is to say \"give me the first value out of this Observable.  I don't care about the rest.\"  That way, each invocation of the guard will get a single value to use to make their decision and then move on.\n. ",
    "soywod": "Great solution @r-park ! But I had to convert this.auth to an Observable to get the code works\ncanActivate(): Observable<boolean> {\n  return Observable.from(this.auth)\n    .take(1)\n    .map(state => !!state)\n    .do(authenticated => {\n      if (!authenticated) this.router.navigate([ '/login' ]);\n    })\n}.\n",
    "artjomzab": "@fabryx92 you have to create another auth guard, that navigates away from login/register routes, e.g.:\ncanActivate(): Observable<boolean> {\n    return this.af.auth.map(authState => {\n      if (authState) this.router.navigate(['/dashboard']);\n      return !authState;\n    }).take(1);\n}. @dewolft this is probably what you're searching for http://stackoverflow.com/q/38402776/401025. @dewolft Well, it is not picked from the user table that is used for authentication, because it cannot contain any custom attributes like role. You have to create another table (in realtime database) that associates roles with userId's.. @kierandesmond it works for me\nuploadFile(event) {\n    this.storage.upload(filename, event.target.files[0])\n        .downloadURL()\n        .do(url => {\n            // assign url to e.g. entity\n        })\n        .mergeMap(() => {\n           // e.g. update entity\n        })\n        .subscribe(() => {\n            // done\n        }, error => {\n            // error\n        });\n}\nI am at \"angularfire2\": \"^5.0.0-rc.6.0-next\". ",
    "mickverm": "How can I check if the user is logged in AND has a verified email in the canActivate()?. ",
    "brockklein": "@mickverm if you get the auth from the authState it has an emailVerified property. (The auth is pretty much synonymous with the user.)\nFrom @ArtworkAD's example immediately above: https://github.com/angular/angularfire2/issues/282#issuecomment-281040863\n```typescript\ncanActivate(): Observable {\n    return this.af.auth.map(authState => {\n      if (authState.auth.emailVerified) this.router.navigate(['/dashboard']);\n      return !authState;\n    }).take(1);\n}. ",
    "dewolft": "Hell everyone, i start 1 week ago my journey in angular and typescript...\nyou think that there is a way for check also a user role inside authguard?\ni want to implement something like this in my route table :\n```\n[...]\nimport { AuthGuard } from './auth.service';\n[...]\nexport const router: Routes = [\n    { path: '', redirectTo: 'login', pathMatch: 'full' },\n    { path: 'login', component: LoginComponent },\n    { path: 'signup', component: SignupComponent },\n    { path: 'login-email', component: EmailComponent },\n    { path: 'members', component: MembersComponent, canActivate: [AuthGuard] },\n    { path: 'dashboard', component: DashComponent, canActivate: [AuthGuard('admin')] }, // <-- pass user role in authguard\n[...]\n```\nand this is my auth.service : \n[...]\n    canActivate(role: any): Observable<boolean> {\n      return Observable.from(this.auth)\n        .take(1)\n        .map(state => !!state)\n        .do(authenticated => {\n          if ( !authenticated ) { this.router.navigate([ '/login' ]) } else { check role in Firebase Database }\n      }) \n    }\nyou think is possible?. @ArtworkAD : i've read about that but i didn't understood where it pick up user role from firebase.... thanks Artwork, i've try in this way... but it doesn't work... :( any tips? \n```\n    canActivate(route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): boolean {\n  this.auth.take(1)\n    .map(state => !!state)\n    .do(authenticated => {\n\n      if ( !authenticated ) {\n\n         console.log('non autorizzato' ) ;\n         this.router.navigate([ '/login' ]); \n         return false;\n       } else {\n\n         this.af.auth.subscribe(auth => {\n           if (auth) {\n              this.UID = auth.auth.uid ;\n            }\n         });\n\n         console.log('ruolo :' + route.data[\"roles\"] ) ;\n         console.log('UID  :' + this.UID ) ;\n         this.af.database.object('User/' + this.UID ).take(1).map(utente => {\n           let roles = route.data[\"roles\"] as Array<string>;\n           return (roles == null || roles.indexOf(utente.ruolo) != -1); }) ;\n       } \n  }) ;\n\n}\n\n```. ",
    "jorgeandresserrano": "Hello guys,\nI'm trying to return on canActivate() an Observable<Boolean> using the returned Observable<firebase.User> by AngularFireAuth.authState; however, Observable<firebase.User> cannot be returned because of the Type difference. Neither I can call .map(), take(), do() on it. The only methods I can call are lift(), forEach() and subscribe().\nAll the above successful examples on this post are probably out of date to the current progress of  angularfire2.\nSo how do I return an Observable<Boolean> from an Observable<firebase.User> ?\nMany thanks!. @markgoho thanks Mark for the prompt reply. I'm using the exact same code and I still get Property 'take' does not exist on type 'Observable<User>'\n. That is it!\nNo. I'm not importing operators from RxJS https://angular.io/docs/ts/latest/tutorial/toh-pt6.html#!#import-rxjs-operators\nShould I instead better import Observable from 'rxjs/Rx' ? or one by one?. @markgoho thank you very much! You're awesome! You just put to an end to my last 4 hours of madness.. ",
    "rissell": "@markgoho I'm trying to run your example code of Auth guard and service, but I get some errors about Injection can you share an example with the RouteModule?. ",
    "erikhaddad": "if you're using the latest version of AngularFire2, check out my most recent demo app for a working AuthGuard implementation https://github.com/erikhaddad/firechat/blob/master/src/app/auth/auth.guard.ts. @craigaps I do not have an example showing signInWithRedirect at this time. ",
    "craigaps": "@erikhaddad thanks for posting the example using auth.guard.  When I replaced signInWithPopup with signInWithRedirect, I get to authenticate on the providers page, but the redirect doesn't hit the canActivate function in the auth.guard.ts; so although I have an authState$ object, I'm not directed after authentication.\nDo you have an example with signInWithRedirect?. ",
    "mattychen": "Continuing on the example mentioned and presented by example via @erikhaddad, I just want to point out for future people quickly referencing this post, if using rxjs>5.5, the way these operators are imported and handled are now different. \nhttps://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md\n```\nimport { map, take, tap } from 'rxjs/operators';\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable  {\n    return this.auth.afAuth.authState.pipe(\n      take(1),\n      map((authState) => !!authState),\n      tap(authenticated => {\n        if (!authenticated) this.router.navigate(['/login'])\n      })\n    )\n  }\n```. Continuing on the example mentioned and presented by example via @erikhaddad, I just want to point out for future people quickly referencing this post, if using rxjs>5.5, the way these operators are imported and handled are now different. \nhttps://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md\n```\nimport { map, take, tap } from 'rxjs/operators';\n\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable  {\n    return this.auth.afAuth.authState.pipe(\n      take(1),\n      map((authState) => !!authState),\n      tap(authenticated => {\n        if (!authenticated) this.router.navigate(['/login'])\n      })\n    )\n  }\n```. @vinayitapu, it returns true if authState is not null. returning authState by itself will not return a boolean, so we map it to this new function we've created inside map(). The resultant boolean gets passed into our next function tap(), in which authenticated is a parameter of type boolean.\nvar x = null;\nconsole.log(!!x)\n// returns false\nconsole.log(!x)\n//returns true. @vinayitapu, it returns true if authState is not null. returning authState by itself will not return a boolean, so we map it to this new function we've created inside map(). The resultant boolean gets passed into our next function tap(), in which authenticated is a parameter of type boolean.\nvar x = null;\nconsole.log(!!x)\n// returns false\nconsole.log(!x)\n//returns true. ",
    "vinayitapu": "@mattychen \nThanks. Your above code snippet works fine. But I didn't understand this line map((authState) => !!authState). Can you explain me step by step how is this actually working.. ",
    "justme1": "@kazkis, great thanks I've implemented this and it works.\nSeems a bit hacky - if there is a better way to do it it will be cool - otherwise this issue can be closed.\nThanks!\n. @davideast why use firebase.database.ServerValue.TIMESTAMP instead of Date().getTime() ? \n. @kazkis Agreed 100%.\nThanks.\n. @thielCole, very nice solution, makes sense.\nFortunately I l've stopped using angularfire2 due to issue \nhttps://github.com/angular/angularfire2/issues/295\n. @davideast issue is now resolved - timeout is due to OAuth redirect domains\n- I've added my domain to the list and the error has gone.\nThanks.\n. https://github.com/angular/angularfire2/issues/283#issuecomment-231511751\n. ",
    "thielCole": "Hey guys, I just implemented a solution also to this, using the mapping function.\nthis.itemsFirebase = this.af.database.list('/users/userA').map( (arr) => { return arr.reverse(); } );\nthis will return an Observable in reverse order.\n. I have noticed a similar authentication issue. I've been using this code to listen to user Authentication, and it recently (within the last few days) has been failing.\nthis.af.auth.subscribe((auth) => {\n    if (auth) {\n      console.warn('Authentication: ', auth);\n      this.rootPage = TabsPage;\n    } else {\n      this.rootPage = LoginPage;\n      console.warn('Login', auth);\n    }\n   });\nI had to switch to the firebase native way.\nfirebase.auth().onAuthStateChanged( (user) => {\n    if (user) {\n      // User is signed in.\n      console.log('Firebase Auth: ' , user);\n      this.rootPage = TabsPage;\n    } else {\n      // No user is signed in.\n      console.log('Firebase Auth None');\n      this.rootPage = LoginPage;\n    }\n  });`\nAny thoughts on why? Im on \"angularfire2\": \"^2.0.0-beta.3-0930330\",\n. @alejandrocao @AwsmOli It seems that the current workaround for this can be found with issue\n#545\nIf you follow along with this issue, then you will be able to do an ionic serve, but will receive a console error of \nfirebase.js:10Uncaught TypeError: Cannot read property 'navigator' of undefined\nThe solution it seems is to remove strict mode in the rollup config #511\nI think this should still be a open issue though, as it seems the #511 was close about 12 days ago because it originally started as a different issue.\nEdit: The rollup config they are referencing in that issue is the one from #545 located at:\nnode_modules/@ionic/app-scripts/config/rollup.config.js\n. ",
    "zompad": "@kazkis, I got your negative solution working using Date.now() but when using firebase.database.ServerValue.TIMESTAMP (as suggested by davideast) I was not able to set this to a negative value as I presume this is because it is resolved server side.  \nInstead I used thielCole map reverse solution and it is now working.\nThanks everyone!\n. ",
    "ericel": "In my case I had a field in the datebase called createdAt (createdAt: firebase.database.ServerValue.TIMESTAMP)\n To retrieve I simply ask my list to query order by child\n```\nthis.postList = this.af.database.list('post',  {\n      query: {\n        orderByChild: 'createdAt'\n      }\n    });\ngetPost() {\n     return this.postList.map(posts => {\n         return posts.reverse();\n     });\n``. I am having the same issue trying to runnpm run build. Works just well with justng build`.\nI am using angular-ssr for my angular-cli project.\nUnhandled Promise rejection: n.removeEventListener is not a function ; Zone: <root> ; Task: Promise.then ; Value: { TypeError: n.removeEven\ntListener is not a function\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:28:843\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:28:880\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:277:366\n    at Object.eo/D (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:278:2)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.RVyb (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:6968:72)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.+rnp (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:316:89)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.Cos1 (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:6442:76)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.32 (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:3524:18)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:65:1\n    at Object.<anonymous> (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:65:1)\n    at Module._compile (module.js:570:32)\n  __zone_symbol__currentTask:\n   ZoneTask {\n     _zone:\n      Zone {\n        _properties: {},\n        _parent: null,\n        _name: '<root>',\n        _zoneDelegate: [Object] },\n     runCount: 0,\n     _zoneDelegates: null,\n     _state: 'notScheduled',\n     type: 'microTask',\n     source: 'Promise.then',\n     data: undefined,\n     scheduleFn: undefined,\n     cancelFn: null,\n     callback: [Function],\n     invoke: [Function] } } TypeError: n.removeEventListener is not a function\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:28:843\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:28:880\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:277:366\n    at Object.eo/D (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\~\\firebase\\auth.js:278:2)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.RVyb (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:6968:72)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.+rnp (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:316:89)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.Cos1 (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:6442:76)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at Object.32 (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\0.js:3524:18)\n    at e (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:19:1)\n    at C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:65:1\n    at Object.<anonymous> (C:\\Users\\S\\AppData\\Local\\Temp\\47aec918d3\\webpack:\\webpack\\bootstrap 9f2c19ec88d22c4d7cc6:65:1)\n    at Module._compile (module.js:570:32). No .. not yet!  Seems at the current state of things it's  gonna be a tough\none. I read somewhere that Angularfire2 needs some changes to support\nuniversal.  So maybe it's  just to wait.\nOn Aug 1, 2017 01:19, \"Santos da Veiga Nelson\" notifications@github.com\nwrote:\n\nI have the same problem do you find something ?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1077#issuecomment-319121380,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AQFR6YZUEjSJ6Fi6ji_ZE45AGOw4fkXbks5sTf6hgaJpZM4OgHu-\n.\n. @davideast  I am having the same issue too. Eagerly waiting for the universal addon. this happens when target is set to    \"target\": \"es6\",. Any solution to this yet?. I am actually using that! But am still getting the error.\n```\n\nUnhandled Promise rejection: Cannot read property 'filter' of undefined ; Zone:  ; Task: Promise.then ; Value: TypeError: Cannot read property 'filter' of undefined\n    at firebaseAppFactory (webpack:///./node_modules/angularfire2/firebase.app.module.js?:23:73)\n    at eval (webpack:///./node_modules/angularfire2/firestore/firestore.js?:33:95)\n    at ZoneDelegate.invoke (webpack:///./node_modules/zone.js/dist/zone-node.js?:387:26)\n    at Zone.run (webpack:///./node_modules/zone.js/dist/zone-node.js?:137:43)\n    at NgZone.runOutsideAngular (webpack:///./node_modules/@angular/core/fesm5/core.js?:3902:28)\n    at new AngularFirestore (webpack:///./node_modules/angularfire2/firestore/firestore.js?:32:31)\n    at _createClass (webpack:///./node_modules/@angular/core/fesm5/core.js?:8398:20)\n    at _createProviderInstance$1 (webpack:///./node_modules/@angular/core/fesm5/core.js?:8360:26)\n    at initNgModule (webpack:///./node_modules/@angular/core/fesm5/core.js?:8296:32)\n    at new NgModuleRef (webpack:///./node_modules/@angular/core/fesm5/core.js?:9019:9) TypeError: Cannot read property 'filter' of undefined\n    at firebaseAppFactory (webpack:///./node_modules/angularfire2/firebase.app.module.js?:23:73)\n    at eval (webpack:///./node_modules/angularfire2/firestore/firestore.js?:33:95)\n    at ZoneDelegate.invoke (webpack:///./node_modules/zone.js/dist/zone-node.js?:387:26)\n    at Zone.run (webpack:///./node_modules/zone.js/dist/zone-node.js?:137:43)\n    at NgZone.runOutsideAngular (webpack:///./node_modules/@angular/core/fesm5/core.js?:3902:28)\n    at new AngularFirestore (webpack:///./node_modules/angularfire2/firestore/firestore.js?:32:31)\n    at _createClass (webpack:///./node_modules/@angular/core/fesm5/core.js?:8398:20)\n    at _createProviderInstance$1 (webpack:///./node_modules/@angular/core/fesm5/core.js?:8360:26)\n    at initNgModule (webpack:///./node_modules/@angular/core/fesm5/core.js?:8296:32)\n    at new NgModuleRef (webpack:///./node_modules/@angular/core/fesm5/core.js?:9019:9)\n``. Install firebase in your functions directory. npm install --save firebase`. ",
    "profesori": "Hi,\nI want to order firebase data by date and i'm using firebase.database.ServerValue.TIMESTAMP when i store data to firebase : \nconst exp = new Experiment();\nvar dateTime = firebase.database.ServerValue.TIMESTAMP\nexp.creation = dateTime;\nexp.reverseCreation = 0-dateTime;\nexp.name = name;\nSo i'm setting a negative exp.reverseCreation value of data to have a descend order.The problem is i can't store a negative firebase.database.ServerValue.TIMESTAMP cause incompatible types. Is there a solution for that ?\nThanks. Yes @raviphilips , i wait for the observable setFirebaseUserData response and then call observer.next(true) like this : \nsignupUser(newEmail: string, newPassword: string, username: string) {\n    return Observable.create(observer => {\n      this.afAuth.auth.createUserWithEmailAndPassword(newEmail, newPassword).then((data) => {\n        const user = new User\n        user.nom = username\n        user.email = newEmail\n        this.setFirebaseUserData(user).then(() => {\n          this.updateDisplayName(username)\n          observer.next(true)\n        })\n      }).catch((error) => {\n        observer.error(error);\n      });\n    })\n  }. ",
    "bresleveloper": "@thielCole i was missing as FirebaseListObservable\nthis.itemsFirebase = this.af.database.list('/users/userA').map( (arr) => { return arr.reverse(); } ) as FirebaseListObservable<any[]>;. ",
    "ksachdeva": "@dmastag  you should use this -\nthis.af.auth.login( token );\ni.e. only pass the string and not the object. There is a change in the parameter type in Firebase 3\n. @dmastag \nBelow is what is working for me (there are problems once the token is submitted to Firebase which I will describe in a separate issue but this will get you to submit the token)\nthis.fbAuth.login(authToken, {\n      provider: AuthProviders.Custom,\n      method: AuthMethods.CustomToken\n});\n. Correct. I am also getting this error. Please see this - https://github.com/angular/angularfire2/issues/292\nAngularFire2 is expecting providerData and providerId but when we are doing custom token authentication Firebase is returning provderdata array with length 0. I am not sure whose bug it is - Firebase or AngularFire2 ?  A temporary fix in AngularFire2 can be done to not rely on providerData when doing custom authentication but cleaner approach will be if Firebase returns the providerId as 'custom'\n. Hi David,\nI have created a repository as an example to demonstrate the custom authentication. As you already know that there is a bug with the providerId. I thought it would be helpful to test the modification when you will fix the bug. There is a readme that describes all the necessary setup etc as well\nhttps://github.com/ksachdeva/firebase-custom-auth-example\nRegards & thanks\nKapil\n. Hi David,\nHere is a pull request for this issue/bug : \nhttps://github.com/angular/angularfire2/pull/301\nthat contains the fix for the issue. The CI is failing but I do not think it is because of my modifications; seems like a build issue. \nI did run the tests locally and they all are passing.\nRegards\nKapil\n. Hi David,\nAm not sure if I understood your comment. Should we do something special when create the custom token in our servers so that there is a provider data ?\n. Hi David,\nRegarding the typings it is the upgrade to 1.X version of typings tool. The 1.X requires a different syntax for typings.json file. \nDid not know about creating the issue first policy. Will follow that from onwards\nRegards\nKapil\n. ",
    "nipuna-perera": "Is there any workaround for this for now? I am trying to integrate my app with auth0 custom tokens. \n. Thank you! I wasn\u2019t aware I could you both firebase and angularfire2 in tandem.\nFrom: Julian Alimin [mailto:notifications@github.com]\nSent: Tuesday, July 05, 2016 5:32 PM\nTo: angular/angularfire2\nCc: Perera, Nipuna; Mention\nSubject: Re: [angular/angularfire2] How to get signInWithCustomToken working ? (#286)\n@npradeepthahttps://github.com/npradeeptha you either try the pull request #301https://github.com/angular/angularfire2/pull/301 or you use firebase without angularfire for the authentication\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/286#issuecomment-230622016, or mute the threadhttps://github.com/notifications/unsubscribe/ALCfFqoGptktSV-IimVfsBz-RT2CEBbyks5qSttggaJpZM4I-aVR.\n. ",
    "hunterleaman": "Any update here?\n. Awesome thank you! Emailing you now, let me know if you don't receive it.\n. After retrieving the idTokens, Im using the getDelegationToken and it seems to be working but Im getting this error from the signInWithCustomToken method:\ncode: \"auth/custom-token-mismatch\"\nmessage: \"The custom token corresponds to a different audience.\"\n. I'm using the firebase.auth().signInWithCustomToken method because angularfire2 doesn't have it\n. @cindoum Any updates here? If this isn't the right place for this question, where might you suggest I ask?\n. ",
    "juanandrescl": "I signed it!\n. I signed it!\n. ",
    "premtemp1": "I signed it!. ",
    "Ahrimaan": "Configuration mess in my soluition....\n. ",
    "zhaoshengjun": "As the messge said, you need to install angular 2.0-rc.2, but the cli you use is using angular 2.0-rc.3.\nYou can manuall change the package.json  to use the correct version\n. TS warning/errors are mainly based on the .d.ts typing file. As long as it compiles and works correctly, you can ignore those messages.\nI think the problem is that af2 is(was) using a manual typing file, which is a great help, but also has some inaccurate definitions. You can \n- either ignore the messages until you code is broken \n- or use another typing file. You can even change the standard one by yourself if you like as long as you know what you are doing.\n. ",
    "nak411": "Shouldn't the cli and angularfire line up in version? I'm using the latest version of each.  This would require editing the package.json for every new app created with the cli\n. Also manually changing the version of those creates problems with other dependencies:\ncat package.json\n{\n  \"name\": \"testapp\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"start\": \"ng serve\",\n    \"postinstall\": \"typings install\",\n    \"lint\": \"tslint \\\"src/**/*.ts\\\"\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.2\",\n    \"@angular/compiler\": \"2.0.0-rc.2\",\n    \"@angular/core\": \"2.0.0-rc.2\",\n    \"@angular/forms\": \"0.1.1\",\n    \"@angular/http\": \"2.0.0-rc.2\",\n    \"@angular/platform-browser\": \"2.0.0-rc.2\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.2\",\n    \"@angular/router\": \"3.0.0-alpha.7\",\n    \"angularfire2\": \"^2.0.0-beta.2\",\n    \"es6-shim\": \"0.35.1\",\n    \"firebase\": \"^3.0.5\",\n    \"reflect-metadata\": \"0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"systemjs\": \"0.19.26\",\n    \"zone.js\": \"0.6.12\"\n  },\n  \"devDependencies\": {\n    \"angular-cli\": \"1.0.0-beta.8\",\n    \"codelyzer\": \"0.0.20\",\n    \"ember-cli-inject-live-reload\": \"1.4.0\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"0.13.22\",\n    \"karma-chrome-launcher\": \"0.2.3\",\n    \"karma-jasmine\": \"0.3.8\",\n    \"protractor\": \"3.3.0\",\n    \"ts-node\": \"0.5.5\",\n    \"tslint\": \"3.11.0\",\n    \"typescript\": \"1.8.10\",\n    \"typings\": \"0.8.1\"\n  }\n}\nnpm WARN optional Skipping failed optional dependency /karma/chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.12\nnpm WARN @angular/forms@0.1.1 requires a peer of @angular/core@2.0.0-rc.3 but none was installed.\nnpm WARN @angular/forms@0.1.1 requires a peer of @angular/common@2.0.0-rc.3 but none was installed.\nnpm WARN @angular/forms@0.1.1 requires a peer of @angular/compiler@2.0.0-rc.3 but none was installed.\n. ",
    "AntonKL": "Alright, thanks! Saw other examples not using the conf object in Ionic 2. Not sure why tho.\n. @r-park , thanks for the explanation. \ud83c\udf7b \n. ",
    "sg1705": "This is a problem because siginInWithCustom is broken with AngularFire2.\nI am trying to use Auth0 and Firebase Custom Token signin, and because providerData is an empty array,  I get an error at this line.\nhttps://github.com/angular/angularfire2/blob/master/src/auth/auth_backend.ts#L83\nIf we know that Firebase3 is not going to return any providerData for custom, then why assume that the first element in the array is not null, no?\n. I saw that @ksachdeva submitted a PR #301 \nAny idea when will this be merged?\n. ",
    "moneal": "It looks like PR #420 should fix this also\n. I'm totally having this problem right now and have to work with both af and firebase as separate connections. I can't figure out how to pass the firebase authentication over to af so this helps a ton.\n. ",
    "rajhub": "@aaronksaunders I need to use your method for Google login. Is there Cordova plugin for that? If any one got it working with Google, please share. Thanks!\n. ",
    "diosney": "I just used import firebase from 'firebase'; and worked like a charm.\nAlso installed the firebase#3.0.5 typings.\nOr maybe I did something inadvertently that fixed this issue? . @luiferjf Sorry, I've not used firebase on angular 1 yet, :frowning_face: so I really don't know how to inject it.. ",
    "luiferjf": "Hey @diosney  i have the same issue in ionic framework1, what is the method to import firebase in a controller? because i'm only use $firebaseArray in controller functions.. @dmastag AngularFire is support Firebase SDK 3 and I'm using. The problem is similar in (event.authResponse.accessToken). The log show: Cannot load properly 'authResponse' of undefined.. ",
    "lgleasain": "Ok,  the api information for the web client id and web client secret should have been pointing at a associated api entry,  but I also needed to go here https://console.developers.google.com/apis/api/identitytoolkit/overview?project=book-dash to enable this......  not sure if this is specific to our set up or a gap in Firebase's documentation,  but either way this solved things for us. so I'm going to close this out.\n. ",
    "jucylene": "I have the same issue, I tried to access the API up but could not. does anyone have any idea what to do to solve this? Thanks a lot.\n. ",
    "RichardIvan": "After trying localhost, ngrok, docker ip, this ip, that ip, nothing worked... SO...\nAs lgleasain Pointed out, the remedy for this issue is by following the \nhttps://console.developers.google.com/apis/api/identitytoolkit/settings?project=your-firebase-project-id\nRemember to add your project id in the URL ..\nThat is the identity toolkit.\nIn the settings tab, you will find the apiKey pre-configured based on the OAuth 2.0 client IDs you want to use, or is associated with your project. And THAT is the apiKey you want to add to your firebase configuration object...\nNow, I still had errors after I've done that.\nThey also want the correct redirect url in the google developers console under the same OAuth 2.0 client IDs.\nSo add:\nhttps://your-firebase-project-id.firebaseapp.com/__/auth/handler\nAnd you should be good to go.\nA disaster; what can I say..\n. ",
    "davidtaubmann": "The solution for us was adding my-app.firebaseapp.com (being my-app the unique identifier of our Firebase App) to the HTTP referrers in the Browser-Key Credentials from the Google APIs console and wait some time to propagate.\nAfter many months of development the app never had a problem, and we are sure we never removed such referrer (if it was ever there).\nAnyway... it's done and learned.\n(The solution was resolved under advice of email support after asking over StackExchange Firebase for support: http://stackoverflow.com/questions/42015155/firebase-authentication-partially-working-only-email?noredirect=1#comment71243882_42015155)\n. ",
    "ammara121": "hi \ni have same issue.\nhttps://github.com/ammara121/programmer/issues/1\nplz solve. ",
    "istibekesi": "If my default configuration in bootstrap phase is Anonymous/Anonymous, how can I override it to Password/Password later?\nIf I try to override by this:\nthis.af.auth.login({\n      provider: AuthProviders.Password,\n      method: AuthMethods.Password\n})\nObviously got this error message: You must include credentials to use this auth method.\nBut if I'm passing the credentials object:\nlet c : EmailPasswordCredentials = {\n  email : 'test@test.com',\n  password: 12345\n};\nthis.af.auth.login(c);\nIt simply logs me in as Anonymous.\nHow to do the 2 steps above in 1?\n. @buoyad thanks, saved the day!\n. ",
    "lbecker34": "I'm running into this with my project now. This would be some nice functionality.\n. @davideast What would the option be fore querying date ranges if this will not be supported?\n. @lf-alves Thank you so much for the awesome response. It was well thought out and helpful. My biggest concern was using once(), but the solution you proposed already has been proved out in my app!\nIt's good to know that I will be able to accomplish everything I need to in angularfire2. It's just the task of figuring out how to do it that will be my biggest hurdle.\n. I second this one. \n. I'm currently having this problem with my project. It would make the code much more simple if I could preserve the snapshot.. This should be relatively easy to do by following the Angular quick start. \n. This should be relatively easy to do by following the Angular quick start. \n. ",
    "fopnet": "@lf-alves  i tried use this solution, but for me do not work.\nWhen a pass {preserveSnapshot:true} . the result is like that !\n\nbut, the @jteplitz solutions works for me. \n\nHow can i solve this problem to use the @lf-alves pattern?\n\nPS: My angularfire2 version is  \"angularfire2\": \"^4.0.0-rc.2\",\nThank you for attention. delete (meetup.$key). ",
    "Fabrik19SH": "Hi, i think you should also remove the $exists too.\n. ",
    "davidarich": "I signed it!\n. ",
    "idanen": "Firebase doesn't allow querying by two children. \nSo what you'll have to do is query by one child and then filter the results on your end. \nFirebase docs also suggests that you store your data the way you intend to query it, so maybe you need to think of a way to index those records. \n. I believe this kind of \"feature\"  will require creating lists above the actual \"database\", so what they're saying is create it yourself.\n. ",
    "mquentin": "@ohanspace , I know it is a bit late for an answer, but I encountered the same problem and I resolved it by creating a third index : \n{ \n\"members\" : \n      \"uid1\" : { \"name\" : \"x\", \"bloodGroup\" : \"A+\", \"location\" : \"some Place\", thirdIndex:\"A+//some Place\"},\n      \"uid2\" : { \"name\" : \"y\", \"bloodGroup\" : \"A-\", \"location\" : \"some place\", thirdIndex:\"A-//some Place\"},\n      ...\n      ...\n}\nThis is not perfect, but like this you can keep doing the \"querying\" job by angularFire2 instead of filtering your records in in your front app.\naf.database.list('members', {\n  query: {\n      orderBy: 'thirdIndex',\n      equalTo: 'A+//some Place'\n   }\n})\n. @cartant, your understanding seems pretty accurate but is there another way to check / ping the state of your authentication ? \n[EDIT] : I found a good Authentifiaction checker example which works perfectly for me https://github.com/seanmavley/AngularFire2-Authentication\n`\n```\nconstructor(private af: AngularFire, private router: Router) {\n    this.af.auth.subscribe((auth) => console.log(auth));\n}\ncanActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable {\nreturn this.af.auth.map((auth) =>  {\n    if(auth == null) {\n        this.router.navigate(['/login']);\n        return false;\n    } else {\n        return true;\n    }\n}).first()\n\n}\n```\n}\n`\n. Unfortunately, I do not use the angular-cli... But thanks hllink\n. Basically, the solution was pretty simple. You don't need to use all the angular-cli dependencies but just to add the traceur dependency \"traceur\": \"0.0.96\" in your package.json and in my SystemJs case load the traceur.js by adding its path in the systemjs.config.js file.\nhllink, your solution is still relevant because the traceur dependency is included in the angular-cli.\n. Hello @mukesh51, my package.json sets up theses dependencies (I will repeat myself, but this issues didn't occur when I was using 2.0.0-beta.4) : \n\"dependencies\": {\n    \"angularfire2\": \"^2.0.0-beta.5\",\n    \"body-parser\": \"~1.13.2\",\n    \"cookie-parser\": \"~1.3.5\",\n    \"debug\": \"^2.2.0\",\n    \"express\": \"^4.13.4\",\n    \"express-jwt\": \"^3.3.0\",\n    \"firebase\": \"^3.4.0\",\n    \"forever\": \"^0.15.2\",\n    \"jsonwebtoken\": \"^5.7.0\",\n    \"serve-favicon\": \"~2.3.0\",\n    \"typescript\": \"^2.0.2\",\n    \"typings\": \"^1.3.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/common\": \"^2.0.0\",\n    \"@angular/compiler\": \"^2.0.0\",\n    \"@angular/core\": \"^2.0.0\",\n    \"@angular/forms\": \"^2.0.0\",\n    \"@angular/http\": \"^2.0.0\",\n    \"@angular/platform-browser\": \"^2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^2.0.0\",\n    \"@angular/router\": \"3.0.0\",\n    \"@angular/upgrade\": \"2.0.0\",\n    \"angular2-in-memory-web-api\": \"0.0.20\",\n    \"concurrently\": \"^2.2.0\",\n    \"core-js\": \"^2.4.1\",\n    \"nodemon\": \"^1.9.1\",\n    \"reflect-metadata\": \"^0.1.4\",\n    \"rxjs\": \"^5.0.0-beta.12\",\n    \"systemjs\": \"^0.19.27\",\n    \"systemjs-builder\": \"^0.15.26\",\n    \"yargs\": \"^4.8.1\",\n    \"traceur\": \"0.0.96\",\n    \"zone.js\": \"^0.6.23\"\n  }\nSo far, I do not get what could be wrong...\n. Hello mukesh51, I tried to create a plunker but it was definitely hard to set up the same conf. Fortunately, I fixed the issue by forcing the version of firebase to 3.4.0.\nFrom\n    \"firebase\": \"^3.4.0\",\nTo\n    \"firebase\": \"3.4.0\"\n. Hey, I found a work around by working with FirebaseObjectObservable instead of FirebaseListObservable :\nInstead of a query on the title, I use my title as a unique id :   \nlet myObject= this.af.database.object(\"myObjects/\"+ 'TEST');\nmyObject.subscribe(snapshot => {\nif(snapshot.$value === null){\nmyObject.set({title:'TEST', content:'my content...'});\n}\n)};\ncf : http://stackoverflow.com/questions/38422581/firebase-angularfire2-checking-if-user-exists-in-the-database#\n. Hello,\nI had the same issue with \nthis.af.database.list('/items', {\nquery: {\norderByChild: 'im',\nequalTo: 'cool'\n}\n}).subscribe(snapshot => { console.log(snapshot );});\nExpected behavior\nI expect console.log(snapshot ) to print out :\n[{ im: 'cool' }]\nActual behavior\nWhat is actually printed out\n[]\n[{ im: 'cool' }]\nI added then something like :\n.subscribe(snapshot => {\nif(snapshot.length > 0){\nconsole.log(snapshot );\n}\n});\n. @sean-hill , It is what I am trying to explain in my previous post, I am having the same issue with the subscribe method. As @Maistho told us, \n\nObservable.forEach() is an alias for Observable.subscribe()\n\nAs I understand it, an Observable is asynchronous so there is no way to retrieve your list only once as the complete array using subscribe() or forEach() . You would need a promise instead of an Observable for that.\nSo I see 2 possibilites, \n1- You deal with the multiple console.log('Item:', item); \n2- It seems to be possible to use maps : .map .flatMap as a workaround,\ncf : http://stackoverflow.com/questions/38259038/getting-data-out-of-firebase-object-with-angular2-angularfire2-and-typescript\n. ",
    "cherry-wave": "I have just the same problem and I'll use the filter for now. But it would be very cool, if that would be possible some day, because it could really reduce the size of network transmissions.. ",
    "MELAS007": "Hello Everyone,\nI would like to know about multiple query in angularfire2.\nmy code: \nconst dcoclublist: AngularFireList = this.db.list('d', ref => ref.orderByChild('xname').equalTo(id)&&.orderByChild(yname).equalTo(true));\nit gives me only data equal true and not both...\nany help,it will be appreciated...\nThanks. ",
    "Shane-Lester": "Is there any way to programatically alter which database gets bootstrapped? Or do you just have to set up the hardcoded primary DB and then set up a secondary one?\nIf using the above approach - how do you authenticate with the second DB? I don't understand how you AngularFire (injected as af) knows which DB to authenticate as.\nThanks\nShane. ",
    "matstam": "just make sure that \nE:\\firebase v3\\ionic2-angularfire-sample-firebase3-support\\typings\\main.d.ts contains:\n/// <reference path=\"globals/firebase3/index.d.ts\" />\nIf you dont have the main.d.ts, then u can just copy index.d.ts and rename it\n. ",
    "AhsanAyaz": "+1\nionic $ TypeScript error: E:/firebase v3/ionic2-angularfire-sample-firebase3-sup\nport/node_modules/angularfire2/providers/auth.d.ts(12,20): Error TS1112: A class\nmember cannot be declared optional.\nfacing the above issue and the solutions didn't work for me. \n. +1\nBeen searching for these error whole day. Still now clue for the solution.\n. I'm facing the same issue.\nWhen i put reference to firebase.d.ts, it gives the same errors:\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(43,38): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(43,42): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(44,30): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(44,61): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(45,30): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(47,13): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(47,36): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(48,28): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(48,51): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(49,22): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(49,31): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(49,54): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(50,25): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(50,34): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(50,57): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(51,31): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(51,40): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(51,63): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(52,26): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(52,80): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(53,30): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(57,25): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(58,19): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(59,22): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(66,31): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(66,35): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(75,1): Error TS1128: Declaration or statement expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(97,61): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(100,32): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(164,40): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(164,67): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(182,48): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(183,9): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(185,1): Error TS1128: Declaration or statement expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(193,34): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(196,17): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(211,35): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(212,35): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(213,44): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(215,45): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(216,32): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(217,51): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(222,40): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(224,42): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(229,67): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(230,26): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(232,53): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(233,41): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(234,8): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(234,12): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(234,13): Error TS1128: Declaration or statement expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(234,50): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(236,18): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(237,25): Error TS1109: Expression expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(239,34): Error TS1109: Expression expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(240,17): Error TS1109: Expression expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(240,31): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(240,54): Error TS1005: '(' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(241,22): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(241,31): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(242,17): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(243,22): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(244,19): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(246,18): Error TS1005: ',' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(246,52): Error TS1109: Expression expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(246,61): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(248,15): Error TS1005: ';' expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(253,17): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(255,41): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(256,46): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(258,35): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(260,44): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(262,33): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(263,31): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(265,49): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(266,32): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(270,23): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(271,48): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(273,51): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(281,1): Error TS1128: Declaration or statement expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(306,40): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(321,27): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(322,33): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(323,30): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(324,30): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(325,26): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(326,76): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(362,22): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(368,60): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(369,36): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(369,65): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(374,73): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(375,42): Error TS1110: Type expected.\nTypeScript error: node_modules/angularfire2/node_modules/firebase/firebase.d.ts(380,25): Error TS1110: Type expected.\n. ",
    "sourabhk0510": "added global firebase3. Now facing error as below\nERROR in [default] typings/browser/ambient/firebase/index.d.ts:328:1 \nDuplicate identifier 'export='.\nERROR in [default] typings/globals/firebase3/index.d.ts:406:2 \nDuplicate identifier 'export='\n How to resolve.\n. ",
    "Ronsku": "I have the same problem even with the \"inappbrowser\"-plugin installed :(.\n. @samirthebti with\nmethod: AuthMethods.Popup\nor\nmethod: AuthMethods.Redirect\nI have it working, but I do get same error with \nmethod: AuthMethods.OAuthToken\n. ",
    "bnova-stefan": "I have also this problem even with inappbrowser plugin installed\n. ",
    "samirfares": "Me too.\n. ",
    "jayxC": "Any fix for this issue?\n. ",
    "mubasshir": "not working with InAppBrowser too\n@jeffbcross any working snippet?\n. is completed now?. @afgallo any solution for ionic3?. \nDon't do that. Instead use regular Firebase. That's what I'm doing now with minimal changes\nRefer Firebase Google docs\u00a0\nSent from my Samsung Galaxy smartphone.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/angular/angularfire2\",\"title\":\"angular/angularfire2\",\"subtitle\":\"GitHub repository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open in GitHub\",\"url\":\"https://github.com/angular/angularfire2\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@afgallo in #889: Hi @mubasshir, nope not yet. I might just rollback to Ionic 2 and wait for angularfire2 to catch up.\"}],\"action\":{\"name\":\"View Issue\",\"url\":\"https://github.com/angular/angularfire2/issues/889#issuecomment-292732359\"}}}. @tinomen any solution?. ",
    "randbrown": "Any fix for this yet?\n. ",
    "Khalid-Nowaf": "I have the same problem as #320 and #325 . but I think the problem is fixed now, So how can I use npm to install the latest changes from the master branch ?\n. ",
    "funnytao": "My fault. Should add the async pipe.\n. Yes, I saw it. Currently I have to change the package.json file and use rc 2 version. I also need to use angular form version 0.1.0. Good for now.\n. Hi, I just don't want to make things get complicated, so I just write a pipe to sort and filter the data I want. Thank you so much.\n. ",
    "sasxa": "OK, now I feel silly (: There's a WEB SETUP button in the Authentication section of the console at:\nhttps://console.firebase.google.com/project/<PROJECT_NAME>/authentication/users, that opens a popup with all values for FirebaseAppConfig...\nMaybe mention that in docs? \n. ",
    "eddedd88": "don't feel silly, I was just trying to figure this out too until I found this post, thanks :)\n. ",
    "alvarodoune": "many thanks for selfanswered \ud83d\udc4d . ",
    "fabiopaiva": "Same here, after the login using Facebook I tried to get the facebook token:\n``` typescript\nimport { AngularFire } from 'angularfire2';\nconstructor( public af: AngularFire ) {\n    af.auth.subscribe(response => {\n        console.log(response);\n    });\n//...\n```\nand got the following response:\njavascript\nObject {\n    auth: V, \n    uid: \"JlYX1qcJLwdmTV0HhJRHzWUX7gC3\", \n    provider: 2,\n    facebook: undefined\n}\n. I figured out that the subscribe event is triggered twice after the facebook login redirect, in the first call facebook variable is undefined, but in second has data inside variable. \nThis works to me:\n``` typescript\nimport { AngularFire } from 'angularfire2';\nconstructor( public af: AngularFire ) {\n    af.auth.subscribe(response => {\n        if(response.facebook) {\n            //store my session\n        }\n        console.log(response);\n    });\n```\n. ",
    "Nishanth3": "try filter method\n. this.items = this.af.database.list ('items');\n .map(items => {\n const filtered = items.filter(item => item.uid=== 'gdfdf');\n return filtered; \nmay be this will help >. for filtering the data\n. I think You need To use Filter Method maybe ..\n. ",
    "flowdee": "Thanks for your reply @Nishanth3 but can you define your example? Not only it's totally broken syntax, but rather a little bit out of context for me. Thanks \nAny links to the filtering?\n. Thanks for your reply @davideast I'll check it out.\nJust to clarify: e.g. fetching user 4 from database via FirebaseObjectObservable, and later user 5, 6 etc. the SDK doesn't execute a network call for every single FirebaseObjectObservable? Thought it would and just wanted to reduce the amount of calls.\n. I signed it!\n. True words...\n. Thanks for your reply @davideast but as I wrote before I don't use it on the frontend so async piping is no option.\nIm fetching the value from the database in order to use it when saving a new entry of another table. So you approach is not usable for me.\n. This might work, I'll checking it out. Thanks @dmastag \n. ",
    "mangopop": "Hi, I'm trying to use the query by calling for an item in the database each time I want a new user when the user click on their name. \nBut it's just really slow so was looking for a filter option, which isn't here. I do not know how to grab a user by the uid I only have the id. \nSo why is this so slow for me?\nreturn this.af.database.list('items',{\n       query: {\n         orderByChild: 'id',\n         equalTo: id\n       }\n     });\nand how do I grab an item like this knowing only the id and name values, not using query as for some reason it's too slow (thought it would be cached from what is said above?)\nthis.item = af.database.object('/items/${uid}');\n. I seemed to have fixed the problem from this thread https://github.com/angular/angularfire2/issues/377 by calling first().\nimport 'rxjs/add/operator/first';\nthis.items.first().subscribe(snapshots => console.log(snapshots));\nfrom @katowulf . ",
    "afmeva": "Hi!\nSame here. I'm getting this weird behavior too. \nI think this issue is related to #413. At least #413 is exactly it is happening to me \n. ",
    "RobNordon": "I'm getting the exact same issue here and as described in #413 with the double return of authentication through this.af.auth.subscribe - my console output also shows the correct value, then shortly after a null value.\nAs a hacky workaround I added a timer to ensure that I'd ignore the second value coming back if it was within 500ms and null, but that also seems to be somewhat buggy as any async pipelines use the most recent null value.\nRefreshing the page retrieves the correct value, albeit with a delay, but is also not ideal.\n. ",
    "triniwiz": "@chran8 they need to publish a new version to npm :confused: \n. ",
    "mabdelfattah": "@chran8 You can install it from github directly:\nnpm install git+https://github.com/angular/angularfire2.git\n. I signed it!\n\nBest,\nMahmoud M. Abdel-Fattah\nhttp://about.me/mabdelfattah\nOn August 1, 2016 at 9:31:35 PM, googlebot (notifications@github.com) wrote:\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project. Before we can look at your\npull request, you'll need to sign a Contributor License Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll verify.\nThanks.\n\nIf you've already signed a CLA, it's possible we don't have your\n  GitHub username or you're using a different email address. Check your\n  existing CLA data https://cla.developers.google.com/clas and verify\n  that your email is set on your git commits\n  https://help.github.com/articles/setting-your-email-in-git/.\nIf you signed the CLA as a corporation, please let us know the\n  company's name.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/402#issuecomment-236649609,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAsEQ2BpOaRdfx-iAm7VkBvKyEnCIBvFks5qbi10gaJpZM4JZz_2\n.\n. it is not!\n. ",
    "break9": "@funnytao did you manually download the peer dependencies? I'm not sure what I am supposed to do.\n. never mind, I updated the package.json file with:\n` \n\"@angular/common\": \"2.0.0-rc.2\"\n\"@angular/compiler\": \"2.0.0-rc.2\",\n\"@angular/core\": \"2.0.0-rc.2\",\n\"@angular/http\": \"2.0.0-rc.2\",\n\"@angular/platform-browser\": \"2.0.0-rc.2\",\n\"@angular/platform-browser-dynamic\": \"2.0.0-rc.2\",\n`\nas you explained above and the peer dependency issue went away. \n. ",
    "dbaq": "@mabdelfattah, after installing the package with your command, I end up with compilation errors like Error: Cannot find module 'angularfire2' from .... The angularfire2 folder is present in the node_modules folder so I don't get it. Did you do anything in particular after running this command? Thanks\n. @davideast any updates on the release date? We can't install the package via npm using angular2 RC4.\n. ",
    "bradintheusa": "I fixed this by upgrading my npm to version 3.10.5 from 2.?.?\nnpm install npm -g\n. This example should show you how.  todo  also the docs have an example \nDocs\n. Thanks.\n. ",
    "dparizek": "Ping!  Anyone have any advice on how to successfully install angularfire2 currently?  I tried a lot of the above and just seemed to head down a rabbit hole...\n. @lexcaraig   what version of node are you using?... this is what I am getting on latest MacOSX...\n```\n\u279c  projects nvm use stable\nNow using node v6.2.1\n\u279c  projects npm install -g angular-cli\nnpm WARN deprecated jade@0.26.3: Jade has been renamed to pug, please install the latest version of pug instead of jade\nnpm WARN deprecated lodash-node@2.4.1: This package has been discontinued in favor of lodash@^4.0.0.\nnpm WARN deprecated tough-cookie@2.2.2: ReDoS vulnerability parsing Set-Cookie https://nodesecurity.io/advisories/130\nnpm WARN deprecated to-iso-string@0.0.2: to-iso-string has been deprecated, use @segment/to-iso-string instead.\nnpm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nnpm WARN deprecated graceful-fs@3.0.8: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\n/Users/dave/.nvm/versions/v6.2.1/lib\n\u2514\u2500\u2500 (empty)\nnpm ERR! Darwin 15.6.0\nnpm ERR! argv \"/Users/dave/.nvm/versions/v6.2.1/bin/node\" \"/Users/dave/.nvm/versions/v6.2.1/bin/npm\" \"install\" \"-g\" \"angular-cli\"\nnpm ERR! node v6.2.1\nnpm ERR! npm  v3.9.3\nnpm ERR! path /Users/dave/.nvm/versions/v6.2.1/lib/node_modules/.staging/abbrev-4e789ab6\nnpm ERR! code ENOENT\nnpm ERR! errno -2\nnpm ERR! syscall rename\nnpm ERR! enoent ENOENT: no such file or directory, rename '/Users/dave/.nvm/versions/v6.2.1/lib/node_modules/.staging/abbrev-4e789ab6' -> '/Users/dave/.nvm/versions/v6.2.1/lib/node_modules/angular-cli/node_modules/npm/node_modules/abbrev'\nnpm ERR! enoent ENOENT: no such file or directory, rename '/Users/dave/.nvm/versions/v6.2.1/lib/node_modules/.staging/abbrev-4e789ab6' -> '/Users/dave/.nvm/versions/v6.2.1/lib/node_modules/angular-cli/node_modules/npm/node_modules/abbrev'\nnpm ERR! enoent This is most likely not a problem with npm itself\nnpm ERR! enoent and is related to npm not being able to find a file.\nnpm ERR! enoent\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/dave/projects/npm-debug.log\nnpm ERR! code 1\n```\n. ",
    "lexcaraig": "@dparizek just follow the steps right here.\nhttps://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md\nI am using this right now. \n. Windows: 10\nangular-cli: 1.0.0-beta.10\nnode: 4.4.7\nos: win32 x64\nI'm using this specs @dparizek \nHere is my package.json file\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.4\",\n    \"@angular/compiler\": \"2.0.0-rc.4\",\n    \"@angular/core\": \"2.0.0-rc.4\",\n    \"@angular/forms\": \"0.2.0\",\n    \"@angular/http\": \"2.0.0-rc.4\",\n    \"@angular/platform-browser\": \"2.0.0-rc.4\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.4\",\n    \"@angular/router\": \"3.0.0-beta.2\",\n    \"angularfire2\": \"^2.0.0-beta.2\",\n    \"es6-shim\": \"0.35.1\",\n    \"firebase\": \"^3.2.1\",\n    \"reflect-metadata\": \"0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"systemjs\": \"0.19.26\",\n    \"zone.js\": \"0.6.12\"\n  }\n. @r-park Hi, I have a question. Is It possible to remove the object containing the query you have made?  Or if you do a query for example by name and then you will delete all the objects containing that query you just make?\n. @davideast Hi, can you help me on this? Please. Thanks a lot!\n. @thehashrocket So basically, if I deploy my app. Others can actually use it and can sign it in with facebook right?\n. Thanks then @thehashrocket I'm closing this issue after my deployment just to make sure. :)\n. @thehashrocket can you take a look at this? In my comment? I'm having a problem at building production. Are you experiencing the same?\nhttps://github.com/angular/angular-cli/issues/1494\n. I think you should remove the \"--global\" flag. I got into the same problem before. I just followed what the error says.\n. Hi. Did you install the 'firebase' ? Or did you do the ng build command? Because it will create a folder for angularfire and firebase in the vendor folder.\n. May your default extension should be .js and not .ts ?\nHere is my packages:\nconst packages: any = {\n  angularfire2: {\n    dafaultExtension: 'js',\n    main: 'angularfire2.js'\n  }\n};\nIts actually working on my side.\n. @thehashrocket  Here is mine. There is a big difference between mine and yours. Maybe the version of angularfire2?\n\nThis is the version of my angularfire2\n\"angularfire2\": \"^2.0.0-beta.2\"\n. have you tried installing the angularfire suggested in the setup? Actually that's what I'm using and its working on RC4.\nBelieve me, I'm trying to get your error but I can't. It works fine on me.\nMay be use npm install angularfire2 firebase --save instead of the github link you are using.\n. Is this now working?\n. I saw your config on github. Did you change your default extn to .js already?\nYou are using mac right?\n. When you import angularfire in main.ts, does it gives you the same error? Dude, that's so weird. Sorry.\n. Did you try creating one again from scratch like after you clean the cache and reinstalling cli again? I think i'm getting it right now. I remember i used to get same error before but after reinstalling cli and start from scratch again, like from number 1 in the set up. I finally realize that Im just too excited to code and when i npm install angularfire2 firebase --save I've wait until self termination occur, and then the error is gone. \nBut I dont think you have done this before? Haha. Just trying man, I just help.\n. does it work when you serve?\n. No errors so far in console.?\n. wait not yet\n. Actually, you don't need to use typings install --save --global es6-promise just add the files because you are not targeting es6 output.\n\"files\": [\n    \"main.ts\",\n    \"typings.d.ts\",\n    \"node_modules/angularfire2/firebase3.d.ts\"\n  ]\n. Then i guess you just have to follow the next other steps. I guess it will work now. I hope so. Haha.\n. go ahead and try to import angularfire\n. Keep it served\n. I think its because you did not finished the installing of the modules. That's why its giving you the errors that you can't find modules. Haha.\n. Just ignore it for now, i think they will get this done in the next release. All of your concern for now are the real errors. lol. Happy Coding!\n. I think its all about the completion of installing the modules. Haha. Sure! No worries! I'm glad to help. :)\n. Yes, it is working on my account but haven't try it yet with other accounts. I'm still working on some finishing touches before i finally deploy it. May lets close this thread and refer to my issue instead. #398 \n. You mean, you want to get the nodes that has a repeatDays of Mon && Tue ?\n. You can refer to this issue #396 \n. Hi @matt-erhart i think you have to subscribe to auth using \naf.auth.subscribe(authData => console.log(authData)); //This will log the current userData\n. ",
    "thehashrocket": "would definitely like to see rc4. :)\n. @davideast what's the roadmap for upgrading to rc4?\n. @lexcaraig this i know something about! :) \nYou need to either create another test user in your facebook app, or take the app out of testing mode. :)\n. So the user that you are logging in with in incognito mode, you need to add that one as a test user in the facebook app page (where you setup the app). Otherwise, the app is in testing mode right now, it's not marked as deployed, so you would need to take it out of test mode in order to let other users log in. Just do one of those two options. I'd add the user as .an account that can log in as a test user, myself, until you're ready for deployment.\n. yep. exactly. \n. yep, if you mark it as deployed, then anyone can log in. it's when it's in testing mode that only people you allow (by adding them individually) can log in. \n. ok, checking now. \n. Hey, @lexcaraig , thank you for the fast response!\nI did npm install --save firebase@latest\nI also did ng build at the appropriate time to build the dist folder.\n. @lexcaraig The file is angularfire2.ts in the folder, not angularfire2.js which is why I have the extension as .ts.\n\n. Probably. In package.json I'm doing:\n\"angularfire2\": \"git+https://github.com/angular/angularfire2.git\",\nBut that's because if I use the version you are then I get the following errors:\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\n. I'm not sure what's wrong, if I try it that way, it fails with the unmet peer dependency. \nhere's the console log:\nhttps://gist.github.com/thehashrocket/114686142f9c124054eaedc29b962be8\nhere's what my package.json looks like:\nhttps://gist.github.com/thehashrocket/8331d1dca02ea8d16b7136e74ab8cb15\n. I tried npm cache clean and then ran it again:\n```\n\u279c  test-project git:(master) \u2717 npm cache clean\n\u279c  test-project git:(master) \u2717 npm install angularfire2 firebase --save\ntest-project@0.0.0 /Users/jasonshultz/Projects/test-project\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/common@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/compiler@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/core@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser-dynamic@2.0.0-rc.4\n\u251c\u2500\u2500 angularfire2@2.0.0-beta.2 \n\u2514\u2500\u2500 firebase@3.2.1 \nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\n``\n. @aaronksaunders  I thought thatUNMET PEER DEPENDENCY` is bad? Doesn't that mean that it needs something and it's not there so it won't work?\n. This just looks like it's not working right:\n```\n\u279c  angular-analytics git:(master) \u2717 npm cache clean\n\u279c  angular-analytics git:(master) \u2717 npm install angularfire2 firebase --save\nangular-analytics@0.0.0 /Users/jasonshultz/Projects/angular-analytics\n\u251c\u2500\u2500 UNMET DEPENDENCY @angular/common@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET DEPENDENCY @angular/compiler@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET DEPENDENCY @angular/core@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET DEPENDENCY @angular/platform-browser@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET DEPENDENCY @angular/platform-browser-dynamic@2.0.0-rc.4\n\u251c\u2500\u2500 angularfire2@2.0.0-beta.2 \n\u251c\u2500\u252c firebase@3.2.1 \n\u2502 \u251c\u2500\u252c faye-websocket@0.9.3 \n\u2502 \u2502 \u2514\u2500\u252c websocket-driver@0.6.4 \n\u2502 \u2502   \u2514\u2500\u2500 websocket-extensions@0.1.1 \n\u2502 \u251c\u2500\u252c jsonwebtoken@5.7.0 \n\u2502 \u2502 \u251c\u2500\u252c jws@3.1.3 \n\u2502 \u2502 \u2502 \u251c\u2500\u252c base64url@1.0.6 \n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u252c concat-stream@1.4.10 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 inherits@2.0.1 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u252c readable-stream@1.1.14 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 core-util-is@1.0.2 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 isarray@0.0.1 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 string_decoder@0.10.31 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 typedarray@0.0.6 \n\u2502 \u2502 \u2502 \u2502 \u2514\u2500\u252c meow@2.0.0 \n\u2502 \u2502 \u2502 \u2502   \u251c\u2500\u252c camelcase-keys@1.0.0 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u251c\u2500\u2500 camelcase@1.2.1 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u2514\u2500\u2500 map-obj@1.0.1 \n\u2502 \u2502 \u2502 \u2502   \u251c\u2500\u252c indent-string@1.2.2 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u251c\u2500\u2500 get-stdin@4.0.1 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u2514\u2500\u252c repeating@1.1.3 \n\u2502 \u2502 \u2502 \u2502   \u2502   \u2514\u2500\u252c is-finite@1.0.1 \n\u2502 \u2502 \u2502 \u2502   \u2502     \u2514\u2500\u2500 number-is-nan@1.0.0 \n\u2502 \u2502 \u2502 \u2502   \u251c\u2500\u2500 minimist@1.2.0 \n\u2502 \u2502 \u2502 \u2502   \u2514\u2500\u2500 object-assign@1.0.0 \n\u2502 \u2502 \u2502 \u2514\u2500\u252c jwa@1.1.3 \n\u2502 \u2502 \u2502   \u251c\u2500\u2500 buffer-equal-constant-time@1.0.1 \n\u2502 \u2502 \u2502   \u2514\u2500\u252c ecdsa-sig-formatter@1.0.5 \n\u2502 \u2502 \u2502     \u2514\u2500\u2500 base64-url@1.2.2 \n\u2502 \u2502 \u251c\u2500\u2500 ms@0.7.1 \n\u2502 \u2502 \u2514\u2500\u2500 xtend@4.0.1 \n\u2502 \u2514\u2500\u2500 rsvp@3.2.1 \n\u2514\u2500\u2500 UNMET DEPENDENCY rxjs@5.0.0-beta.6\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of rxjs@5.0.0-beta.6 but none was installed.\n.\n\u279c  angular-analytics git:(master) \u2717 npm install\nnpm WARN deprecated lodash-node@2.4.1: This package has been discontinued in favor of lodash@^4.0.0.\nnpm WARN deprecated jade@0.26.3: Jade has been renamed to pug, please install the latest version of pug instead of jade\nnpm WARN deprecated to-iso-string@0.0.2: to-iso-string has been deprecated, use @segment/to-iso-string instead.\nnpm WARN deprecated tough-cookie@2.2.2: ReDoS vulnerability parsing Set-Cookie https://nodesecurity.io/advisories/130\nnpm WARN deprecated minimatch@2.0.10: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\nnpm WARN deprecated graceful-fs@3.0.8: graceful-fs v3.0.0 and before will fail on node releases >= v7.0. Please update to graceful-fs@^4.0.0 as soon as possible. Use 'npm ls graceful-fs' to find it in the tree.\nnpm WARN deprecated minimatch@0.3.0: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue\n\nfsevents@1.0.14 install /Users/jasonshultz/Projects/angular-analytics/node_modules/fsevents\nnode-pre-gyp install --fallback-to-build\n\n[fsevents] Success: \"/Users/jasonshultz/Projects/angular-analytics/node_modules/fsevents/lib/binding/Release/node-v47-darwin-x64/fse.node\" already installed\nPass --update-binary to reinstall or --build-from-source to recompile\n\nangular-analytics@0.0.0 postinstall /Users/jasonshultz/Projects/angular-analytics\ntypings install\n\ntypings ERR! message Unable to read typings for \"firebase3\". You should check the entry paths in \"firebase3.d.ts\" are up to date\ntypings ERR! caused by ENOENT: no such file or directory, open '/Users/jasonshultz/Projects/angular-analytics/node_modules/angularfire2/manual_typings/firebase3/firebase3.d.ts'\ntypings ERR! cwd /Users/jasonshultz/Projects/angular-analytics\ntypings ERR! system Darwin 16.0.0\ntypings ERR! command \"/usr/local/Cellar/node/5.10.1/bin/node\" \"/Users/jasonshultz/Projects/angular-analytics/node_modules/.bin/typings\" \"install\"\ntypings ERR! node -v v5.10.1\ntypings ERR! typings -v 1.3.1\ntypings ERR! If you need help, you may report this error at:\ntypings ERR!   https://github.com/typings/typings/issues\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\nnpm ERR! Darwin 16.0.0\nnpm ERR! argv \"/usr/local/Cellar/node/5.10.1/bin/node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! node v5.10.1\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! angular-analytics@0.0.0 postinstall: typings install\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the angular-analytics@0.0.0 postinstall script 'typings install'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the angular-analytics package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     typings install\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs angular-analytics\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls angular-analytics\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/jasonshultz/Projects/angular-analytics/npm-debug.log\n```\n. @aaronksaunders no prob, gimme 5 minutes tops. i'll post to github.\n. ok, here it is: https://github.com/thehashrocket/angular-analytics\n. @lexcaraig nope, afraid not. :(\nI also updated the stackoverflow: http://stackoverflow.com/questions/38681156/how-to-resolve-cannot-find-module-angularfire2-when-using-angular-cli-and-rc-4\n. I put the code on github as well: https://github.com/thehashrocket/angular-analytics\nthere's an issue on it also: https://github.com/thehashrocket/angular-analytics/issues/1\n. yes, changed to .js and yes, using mac.\n. everything in the repo is exactly what i have locally right now.\n. @lexcaraig yeah, same error. Doesn't matter if it's .ts or .js. I've never encountered this before. I've worked in other angular2 apps using angular-cli and imported third party libraries and it worked fine. it's only with this situation that i'm hitting this error.\n. ok, i'll give it a shot now and see what happens. it shouldn't take that long. just a few minutes.\n. so far:\nnpm uninstall -g angular-cli\nnpm cache clean\nnpm install -g angular-cli@latest\nnpm install -g angular-cli\nnpm install -g typings\nng new test-project\ncd test-project\n. npm install angularfire2 firebase --save\ngot the errors but i'm ignoring them and moving foward.\n```\n\u279c  test-project git:(master) npm install angularfire2 firebase --save\n\nfsevents@1.0.14 install /Users/jasonshultz/Projects/test-project/node_modules/fsevents\nnode-pre-gyp install --fallback-to-build\n\n[fsevents] Success: \"/Users/jasonshultz/Projects/test-project/node_modules/fsevents/lib/binding/Release/node-v47-darwin-x64/fse.node\" already installed\nPass --update-binary to reinstall or --build-from-source to recompile\ntest-project@0.0.0 /Users/jasonshultz/Projects/test-project\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/common@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/compiler@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/core@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser-dynamic@2.0.0-rc.4\n\u251c\u2500\u2500 angularfire2@2.0.0-beta.2 \n\u251c\u2500\u252c firebase@3.2.1 \n\u2502 \u251c\u2500\u252c faye-websocket@0.9.3 \n\u2502 \u2502 \u2514\u2500\u252c websocket-driver@0.6.4 \n\u2502 \u2502   \u2514\u2500\u2500 websocket-extensions@0.1.1 \n\u2502 \u251c\u2500\u252c jsonwebtoken@5.7.0 \n\u2502 \u2502 \u251c\u2500\u252c jws@3.1.3 \n\u2502 \u2502 \u2502 \u251c\u2500\u252c base64url@1.0.6 \n\u2502 \u2502 \u2502 \u2502 \u251c\u2500\u252c concat-stream@1.4.10 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 inherits@2.0.1 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u252c readable-stream@1.1.14 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 core-util-is@1.0.2 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502 \u251c\u2500\u2500 isarray@0.0.1 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 string_decoder@0.10.31 \n\u2502 \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 typedarray@0.0.6 \n\u2502 \u2502 \u2502 \u2502 \u2514\u2500\u252c meow@2.0.0 \n\u2502 \u2502 \u2502 \u2502   \u251c\u2500\u252c camelcase-keys@1.0.0 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u251c\u2500\u2500 camelcase@1.2.1 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u2514\u2500\u2500 map-obj@1.0.1 \n\u2502 \u2502 \u2502 \u2502   \u251c\u2500\u252c indent-string@1.2.2 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u251c\u2500\u2500 get-stdin@4.0.1 \n\u2502 \u2502 \u2502 \u2502   \u2502 \u2514\u2500\u252c repeating@1.1.3 \n\u2502 \u2502 \u2502 \u2502   \u2502   \u2514\u2500\u252c is-finite@1.0.1 \n\u2502 \u2502 \u2502 \u2502   \u2502     \u2514\u2500\u2500 number-is-nan@1.0.0 \n\u2502 \u2502 \u2502 \u2502   \u251c\u2500\u2500 minimist@1.2.0 \n\u2502 \u2502 \u2502 \u2502   \u2514\u2500\u2500 object-assign@1.0.0 \n\u2502 \u2502 \u2502 \u2514\u2500\u252c jwa@1.1.3 \n\u2502 \u2502 \u2502   \u251c\u2500\u2500 buffer-equal-constant-time@1.0.1 \n\u2502 \u2502 \u2502   \u2514\u2500\u252c ecdsa-sig-formatter@1.0.5 \n\u2502 \u2502 \u2502     \u2514\u2500\u2500 base64-url@1.2.2 \n\u2502 \u2502 \u251c\u2500\u2500 ms@0.7.1 \n\u2502 \u2502 \u2514\u2500\u2500 xtend@4.0.1 \n\u2502 \u2514\u2500\u2500 rsvp@3.2.1 \n\u251c\u2500\u252c karma@0.13.22\n\u2502 \u2514\u2500\u252c chokidar@1.6.0\n\u2502   \u2514\u2500\u252c fsevents@1.0.14 \n\u2502     \u251c\u2500\u2500 nan@2.4.0 \n\u2502     \u2514\u2500\u252c node-pre-gyp@0.6.29 \n\u2502       \u251c\u2500\u252c mkdirp@0.5.1 \n\u2502       \u2502 \u2514\u2500\u2500 minimist@0.0.8 \n\u2502       \u251c\u2500\u252c nopt@3.0.6 \n\u2502       \u2502 \u2514\u2500\u2500 abbrev@1.0.9 \n\u2502       \u251c\u2500\u252c npmlog@3.1.2 \n\u2502       \u2502 \u251c\u2500\u252c are-we-there-yet@1.1.2 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 delegates@1.0.0 \n\u2502       \u2502 \u251c\u2500\u2500 console-control-strings@1.1.0 \n\u2502       \u2502 \u251c\u2500\u252c gauge@2.6.0 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 aproba@1.0.4 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 has-color@0.1.7 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 has-unicode@2.0.1 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 object-assign@4.1.0 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 signal-exit@3.0.0 \n\u2502       \u2502 \u2502 \u251c\u2500\u252c string-width@1.0.1 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u252c code-point-at@1.0.0 \n\u2502       \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 number-is-nan@1.0.0 \n\u2502       \u2502 \u2502 \u2502 \u2514\u2500\u2500 is-fullwidth-code-point@1.0.0 \n\u2502       \u2502 \u2502 \u251c\u2500\u252c strip-ansi@3.0.1 \n\u2502       \u2502 \u2502 \u2502 \u2514\u2500\u2500 ansi-regex@2.0.0 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 wide-align@1.1.0 \n\u2502       \u2502 \u2514\u2500\u2500 set-blocking@2.0.0 \n\u2502       \u251c\u2500\u252c rc@1.1.6 \n\u2502       \u2502 \u251c\u2500\u2500 deep-extend@0.4.1 \n\u2502       \u2502 \u251c\u2500\u2500 ini@1.3.4 \n\u2502       \u2502 \u251c\u2500\u2500 minimist@1.2.0 \n\u2502       \u2502 \u2514\u2500\u2500 strip-json-comments@1.0.4 \n\u2502       \u251c\u2500\u252c request@2.73.0 \n\u2502       \u2502 \u251c\u2500\u2500 aws-sign2@0.6.0 \n\u2502       \u2502 \u251c\u2500\u2500 aws4@1.4.1 \n\u2502       \u2502 \u251c\u2500\u252c bl@1.1.2 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 readable-stream@2.0.6 \n\u2502       \u2502 \u251c\u2500\u2500 caseless@0.11.0 \n\u2502       \u2502 \u251c\u2500\u252c combined-stream@1.0.5 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 delayed-stream@1.0.0 \n\u2502       \u2502 \u251c\u2500\u2500 extend@3.0.0 \n\u2502       \u2502 \u251c\u2500\u2500 forever-agent@0.6.1 \n\u2502       \u2502 \u251c\u2500\u252c form-data@1.0.0-rc4 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 async@1.5.2 \n\u2502       \u2502 \u251c\u2500\u252c har-validator@2.0.6 \n\u2502       \u2502 \u2502 \u251c\u2500\u252c chalk@1.1.3 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 ansi-styles@2.2.1 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 escape-string-regexp@1.0.5 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 has-ansi@2.0.0 \n\u2502       \u2502 \u2502 \u2502 \u2514\u2500\u2500 supports-color@2.0.0 \n\u2502       \u2502 \u2502 \u251c\u2500\u252c commander@2.9.0 \n\u2502       \u2502 \u2502 \u2502 \u2514\u2500\u2500 graceful-readlink@1.0.1 \n\u2502       \u2502 \u2502 \u251c\u2500\u252c is-my-json-valid@2.13.1 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 generate-function@2.0.0 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u252c generate-object-property@1.2.0 \n\u2502       \u2502 \u2502 \u2502 \u2502 \u2514\u2500\u2500 is-property@1.0.2 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 jsonpointer@2.0.0 \n\u2502       \u2502 \u2502 \u2502 \u2514\u2500\u2500 xtend@4.0.1 \n\u2502       \u2502 \u2502 \u2514\u2500\u252c pinkie-promise@2.0.1 \n\u2502       \u2502 \u2502   \u2514\u2500\u2500 pinkie@2.0.4 \n\u2502       \u2502 \u251c\u2500\u252c hawk@3.1.3 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 boom@2.10.1 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 cryptiles@2.0.5 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 hoek@2.16.3 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 sntp@1.0.9 \n\u2502       \u2502 \u251c\u2500\u252c http-signature@1.1.1 \n\u2502       \u2502 \u2502 \u251c\u2500\u2500 assert-plus@0.2.0 \n\u2502       \u2502 \u2502 \u251c\u2500\u252c jsprim@1.3.0 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 extsprintf@1.0.2 \n\u2502       \u2502 \u2502 \u2502 \u251c\u2500\u2500 json-schema@0.2.2 \n\u2502       \u2502 \u2502 \u2502 \u2514\u2500\u2500 verror@1.3.6 \n\u2502       \u2502 \u2502 \u2514\u2500\u252c sshpk@1.8.3 \n\u2502       \u2502 \u2502   \u251c\u2500\u2500 asn1@0.2.3 \n\u2502       \u2502 \u2502   \u251c\u2500\u2500 assert-plus@1.0.0 \n\u2502       \u2502 \u2502   \u251c\u2500\u252c dashdash@1.14.0 \n\u2502       \u2502 \u2502   \u2502 \u2514\u2500\u2500 assert-plus@1.0.0 \n\u2502       \u2502 \u2502   \u251c\u2500\u2500 ecc-jsbn@0.1.1 \n\u2502       \u2502 \u2502   \u251c\u2500\u252c getpass@0.1.6 \n\u2502       \u2502 \u2502   \u2502 \u2514\u2500\u2500 assert-plus@1.0.0 \n\u2502       \u2502 \u2502   \u251c\u2500\u2500 jodid25519@1.0.2 \n\u2502       \u2502 \u2502   \u251c\u2500\u2500 jsbn@0.1.0 \n\u2502       \u2502 \u2502   \u2514\u2500\u2500 tweetnacl@0.13.3 \n\u2502       \u2502 \u251c\u2500\u2500 is-typedarray@1.0.0 \n\u2502       \u2502 \u251c\u2500\u2500 isstream@0.1.2 \n\u2502       \u2502 \u251c\u2500\u2500 json-stringify-safe@5.0.1 \n\u2502       \u2502 \u251c\u2500\u252c mime-types@2.1.11 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 mime-db@1.23.0 \n\u2502       \u2502 \u251c\u2500\u2500 node-uuid@1.4.7 \n\u2502       \u2502 \u251c\u2500\u2500 oauth-sign@0.8.2 \n\u2502       \u2502 \u251c\u2500\u2500 qs@6.2.0 \n\u2502       \u2502 \u251c\u2500\u2500 stringstream@0.0.5 \n\u2502       \u2502 \u251c\u2500\u2500 tough-cookie@2.2.2 \n\u2502       \u2502 \u2514\u2500\u2500 tunnel-agent@0.4.3 \n\u2502       \u251c\u2500\u252c rimraf@2.5.3 \n\u2502       \u2502 \u2514\u2500\u252c glob@7.0.5 \n\u2502       \u2502   \u251c\u2500\u2500 fs.realpath@1.0.0 \n\u2502       \u2502   \u251c\u2500\u2500 inflight@1.0.5 \n\u2502       \u2502   \u251c\u2500\u252c minimatch@3.0.2 \n\u2502       \u2502   \u2502 \u2514\u2500\u252c brace-expansion@1.1.5 \n\u2502       \u2502   \u2502   \u251c\u2500\u2500 balanced-match@0.4.2 \n\u2502       \u2502   \u2502   \u2514\u2500\u2500 concat-map@0.0.1 \n\u2502       \u2502   \u2514\u2500\u2500 path-is-absolute@1.0.0 \n\u2502       \u251c\u2500\u2500 semver@5.2.0 \n\u2502       \u251c\u2500\u252c tar@2.2.1 \n\u2502       \u2502 \u251c\u2500\u2500 block-stream@0.0.9 \n\u2502       \u2502 \u251c\u2500\u252c fstream@1.0.10 \n\u2502       \u2502 \u2502 \u2514\u2500\u2500 graceful-fs@4.1.4 \n\u2502       \u2502 \u2514\u2500\u2500 inherits@2.0.1 \n\u2502       \u2514\u2500\u252c tar-pack@3.1.4 \n\u2502         \u251c\u2500\u252c debug@2.2.0 \n\u2502         \u2502 \u2514\u2500\u2500 ms@0.7.1 \n\u2502         \u251c\u2500\u2500 fstream-ignore@1.0.5 \n\u2502         \u251c\u2500\u252c once@1.3.3 \n\u2502         \u2502 \u2514\u2500\u2500 wrappy@1.0.2 \n\u2502         \u251c\u2500\u252c readable-stream@2.1.4 \n\u2502         \u2502 \u251c\u2500\u2500 buffer-shims@1.0.0 \n\u2502         \u2502 \u251c\u2500\u2500 core-util-is@1.0.2 \n\u2502         \u2502 \u251c\u2500\u2500 isarray@1.0.0 \n\u2502         \u2502 \u251c\u2500\u2500 process-nextick-args@1.0.7 \n\u2502         \u2502 \u251c\u2500\u2500 string_decoder@0.10.31 \n\u2502         \u2502 \u2514\u2500\u2500 util-deprecate@1.0.2 \n\u2502         \u2514\u2500\u2500 uid-number@0.0.6 \n\u2514\u2500\u252c protractor@3.3.0\n  \u2514\u2500\u252c request@2.67.0\n    \u2514\u2500\u252c http-signature@1.1.1\n      \u2514\u2500\u252c sshpk@1.9.2\n        \u251c\u2500\u2500 ecc-jsbn@0.1.1 \n        \u251c\u2500\u2500 jodid25519@1.0.2 \n        \u251c\u2500\u2500 jsbn@0.1.0 \n        \u2514\u2500\u2500 tweetnacl@0.13.3 \nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\n```\n. I created a github repo for this: https://github.com/thehashrocket/test-project/\nI'm just about to run the typings program. i'm going to do a commit after each step. \n. let me try. i just ran typings install file:node_modules/angularfire2/firebase3.d.ts --save --global && typings install but haven't gone any further. committed my code.\n. ng serve works so far.\n\n. @lexcaraig should i be doing this? \ntypings install --save --global es6-promise\n. no errors in console.\n. so i should go ahead to step 4. Open angular-cli-build.js.\n. ok, committed the next steps. so far, no errors in ng build, no errors in console.\n. updated system-config, committed code and pushed to github. so far no errors. getting closer to the moment of truth.\n. ok, I did step 7 and it worked. this really blows my mind. i don't get why it worked?\n. can someone explain how it was able to work even with the unmet peer dependency?\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/common@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/compiler@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/core@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser@2.0.0-rc.4\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser-dynamic@2.0.0-rc.4\nand\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\n. so weird, and so annoying! lol. i worked on this since saturday afternoon. lol. :(\n. thanks for you help @lexcaraig , if not for you, I probably wouldn't have just pushed through that error. Every time I hit it, I tried a work around to pull directly from their github instead. still not sure exactly why that wasn't working, but it's working now. i owe ya. :)\n. did your facebook login work?\n. Sure, no problem:\nmain.ts:\n```\nimport { bootstrap } from '@angular/platform-browser-dynamic';\nimport { enableProdMode } from '@angular/core';\nimport {disableDeprecatedForms, provideForms} from '@angular/forms';\nimport { AppComponent, environment } from './app/';\nimport { APP_ROUTER_PROVIDERS } from './app/app.routes';\nimport {FIREBASE_PROVIDERS,\n  defaultFirebase,\n  AngularFire,\n  AuthMethods,\n  AuthProviders,\n  firebaseAuthConfig,\n  FirebaseListObservable\n} from 'angularfire2';\nif (environment.production) {\n  enableProdMode();\n}\nbootstrap(AppComponent, [\n  APP_ROUTER_PROVIDERS,\n  FIREBASE_PROVIDERS,\n  provideForms(),\n  defaultFirebase({\n    apiKey: \"AIzaSyAMVh4NiFUBywVH0zQLxvsmtu1zt4AdUGo\",\n    authDomain: \"angular-authentication.firebaseapp.com\",\n    databaseURL: \"https://angular-authentication.firebaseio.com\",\n    storageBucket: \"angular-authentication.appspot.com\",\n  }),\n  firebaseAuthConfig({\n    method: AuthMethods.Popup\n  })\n]);\n```\nsystem-config.ts:\n```\n\"use strict\";\n// SystemJS configuration file, see links for more information\n// https://github.com/systemjs/systemjs\n// https://github.com/systemjs/systemjs/blob/master/docs/config-api.md\n/**************\n * User Configuration.\n *************/\n/* Map relative paths to URLs. /\nconst map: any = {\n  'angularfire2': 'vendor/angularfire2',\n  'firebase': 'vendor/firebase/firebase.js',\n  'moment': 'vendor/moment/moment.js',\n  'ng2-bootstrap': 'vendor/ng2-bootstrap'\n};\n/* User packages configuration. /\nconst packages: any = {\n  angularfire2: {\n    defaultExtension: 'js',\n    main: 'angularfire2.js'\n  },\n  'moment':{\n    format: 'cjs'\n  },\n  'ng2-bootstrap': {\n    format: 'cjs',\n    defaultExtension: 'js',\n    main: 'ng2-bootstrap.js'\n  }\n};\n////////////////////////////////////////////////////////////////////////////////////////////////\n/**************\n * Everything underneath this line is managed by the CLI.\n *************/\nconst barrels: string[] = [\n  // Angular specific barrels.\n  '@angular/core',\n  '@angular/common',\n  '@angular/compiler',\n  '@angular/forms',\n  '@angular/http',\n  '@angular/router',\n  '@angular/platform-browser',\n  '@angular/platform-browser-dynamic',\n// Thirdparty barrels.\n  'rxjs',\n// App specific barrels.\n  'app',\n  'app/shared',\n  'app/shared/roomly-navbar',\n  'app/roomly-rooms',\n  'app/roomly-home',\n  /* @cli-barrel /\n];\nconst cliSystemConfigPackages: any = {};\nbarrels.forEach((barrelName: string) => {\n  cliSystemConfigPackages[barrelName] = { main: 'index' };\n});\n/* Type declaration for ambient System. /\ndeclare var System: any;\n// Apply the CLI SystemJS configuration.\nSystem.config({\n  map: {\n    '@angular': 'vendor/@angular',\n    'rxjs': 'vendor/rxjs',\n    'main': 'main.js'\n  },\n  packages: cliSystemConfigPackages\n});\n// Apply the user's configuration.\nSystem.config({ map, packages });\n```\n. So I followed the instructions that @danielgek laid out for @migueldiganchi & @RedFour, and I feel that I'm precariously close to having it right.\nI three all my code up here.\nhere's a snippet of package.json:\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.5\",\n    \"@angular/compiler\": \"2.0.0-rc.5\",\n    \"@angular/core\": \"2.0.0-rc.5\",\n    \"@angular/forms\": \"0.3.0\",\n    \"@angular/http\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.5\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"angularfire2\": \"^2.0.0-beta.3-pre2\",\n    \"core-js\": \"^2.4.0\",\n    \"firebase\": \"^3.3.0\",\n    \"reflect-metadata\": \"0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"typescript\": \"^2.0.0\",\n    \"zone.js\": \"0.6.12\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.2.30\",\n    \"@types/protractor\": \"^1.5.16\",\n    \"angular-cli\": \"1.0.0-beta.11-webpack.2\",\n    \"codelyzer\": \"0.0.26\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"0.13.22\",\n    \"karma-chrome-launcher\": \"0.2.3\",\n    \"karma-jasmine\": \"0.3.8\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"3.3.0\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"^2.0.0\"\n  }\ntsconfig.json:\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"firebase\",\n      \"jasmine\"\n    ]\n  }\n}\nand app.module.ts:\n```\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule, ApplicationRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { AppComponent } from './app.component';\nimport { AngularFireModule } from 'angularfire2';\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    AngularFireModule.initializeApp(firebaseConfig, firebaseAuthConfig),\n    BrowserModule,\n    CommonModule,\n    FormsModule\n  ],\n  providers: [],\n  entryComponents: [AppComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n```\nHere's the error I'm getting:\n```\nVersion: webpack 2.1.0-beta.18\nTime: 6212ms\n              Asset       Size  Chunks             Chunk Names\n     main.bundle.js    2.84 MB    0, 2  [emitted]  main\npolyfills.bundle.js     228 kB    1, 2  [emitted]  polyfills\n          inline.js    4.96 kB       2  [emitted]  inline\n           main.map    3.33 MB    0, 2  [emitted]  main\n      polyfills.map     295 kB    1, 2  [emitted]  polyfills\n         inline.map    5.13 kB       2  [emitted]  inline\n         index.html  480 bytes          [emitted]  \nERROR in [default] /Users/jasonshultz/Projects/test-app/src/app/app.module.ts:13:36 \nCannot find name 'firebaseConfig'.\nERROR in [default] /Users/jasonshultz/Projects/test-app/src/app/app.module.ts:13:52 \nCannot find name 'firebaseAuthConfig'.\nChild html-webpack-plugin for \"index.html\":\n         Asset    Size  Chunks       Chunk Names\n    index.html  2.4 kB       0     \nwebpack: bundle is now VALID.\n```\nI've had this working under RC4 with no problems, but I'm trying to get it going on RC5 with the new ngModule and webpack  so I can be up to date. :/\n. Hey, @RedFour , thanks for the fast response! I wasn't expecting anything until tomorrow. lol. I'm on Mac (OSX Sierra). Trying your solution right now. \n. You were right! That was it. Oh, it was so obvious I looked right over it. How often is it such a simple solution and I always think it's something more complex. Ugh. Thank you, that's exactly what I needed. \ud83d\udc4d \n. @mikeybyker ho'd you get it go to that version? I tried npm install --save @angularfire2@latest and it only did beta.4\n. ok, so I manually typed beta.5 manually, like an animal, but still no go. :(\n. GOT IT!\nI followed up by heeding the advice of the warning and installed @types/request@0.0.30 and it works. WOOT! Thank you! :)\n. ",
    "ix-xerri": "anyone managed to get angular fire working with mgechev/angular2-seed? can anyone link a good seed to use angular 2 / typescript?\n. @davideast using AF 5.0.0-rc.5-next you have to add first() so it would become\nthis.afAuth.authState.first().subscribe((authState) => {\n    authState.delete();\n}); where afAuth is private afAuth: AngularFireAuth. The installation of angularfire2 and then ng serve work. Everything is package.json is rc5 so all is set. Step 3 and onward did not work.\n. It is yes. The code generated by angular-cli does not match the code shown in step 3 onward. I am a noob and I just want a hello world using angular and firebase for now.\n. I copied the same code you have in the tutorial and followed it step by step and I get\nModule not found: Error: Can't resolve './app/' when I ng serve. Then a large number of Cannot find namespace 'firebase'.\nnote that in step 5 all the  was replaced with  \"app\". I don't see how it can be customisable.\n. yes to all. I just installed everything from scratch as in the tutorial but when I run npm list -g --depth=0 I get\nbash\nnpm ERR! peer dep missing: rxjs@5.0.0-beta.11, required by @angular/core@2.0.0-rc.6\nnpm ERR! peer dep missing: typescript@^1.9.0-dev, required by @angular/compiler-cli@0.5.0\nnpm ERR! peer dep missing: typescript@^1.9.0-dev, required by @angular/tsc-wrapped@0.2.2\nnpm ERR! peer dep missing: webpack@1.x.x || 2.x.x, required by string-replace-loader@1.0.3\nnpm ERR! peer dep missing: @angular/platform-server@^2.0.0-rc.5, required by @angular/compiler-cli@0.5.0\nnpm ERR! peer dep missing: zone.js@^0.6.17, required by @angular/core@2.0.0-rc.6\nnpm ERR! peer dep missing: tslint@^3.0.0, required by tslint-loader@2.1.5\nnpm ERR! peer dep missing: typescript@^1.9.0-dev, required by @angular/tsc-wrapped@0.2.2\nnpm ERR! peer dep missing: typescript@^1.8.0 || ^1.9.0-dev, required by tsickle@0.1.6\n. There is now the final version of angular 2.0. Will there be any changes to the tutorial and the dependencies to make it work?\nThanks\n. @mukesh51 Really close...all I get is one warning and one error.\n\nWARNING in ./src/main.ts\n9:41 export 'AppModule' was not found in './app/'\nERROR in [default] /.../src/main.ts:6:9 \nModule '\"/.../src/app/index\"' has no exported member 'AppModule'.\n. > Could not start watchman; falling back to NodeWatcher for file system events.\nVisit http://ember-cli.com/user-guide/#watchman for more info.\nangular-cli: 1.0.0-beta.14\nnode: 6.4.0\nos: darwin x64\n\nhttps://plnkr.co/edit/3jmOKZ?p=catalogue\nIn app.module.ts the proper firebase config is there not 'xxx'.\n. ng serve finally works but the app does not load. I get in Chrome console.\n\nurl_resolver.js:248Uncaught TypeError: uri.match is not a function_split @ url_resolver.js:248getUrlScheme @ url_resolver.js:91componentModuleUrl @ metadata_resolver.js:708CompileMetadataResolver.getDirectiveMetadata @ metadata_resolver.js:148(anonymous function) @ metadata_resolver.js:271CompileMetadataResolver.getNgModuleMetadata @ metadata_resolver.js:265RuntimeCompiler.compileComponents @ runtime_compiler.js:126RuntimeCompiler._compileModuleAndComponents @ runtime_compiler.js:64RuntimeCompiler.compileModuleAsync @ runtime_compiler.js:55PlatformRef.bootstrapModuleWithZone @ application_ref.js:303PlatformRef.bootstrapModule @ application_ref.js:285(anonymous function) @ main.ts:12__webpack_require__ @ bootstrap db62fc2\u2026:52(anonymous function) @ main.bundle.js:60940__webpack_require__ @ bootstrap db62fc2\u2026:52webpackJsonpCallback @ bootstrap db62fc2\u2026:23(anonymous function) @ main.bundle.js:1\n. It seems like its working. Thank you. Can you include a Firebase example of the data you need with this tutorial to have some text load on the page?\n. everything works...thanks\n. What do you mean 'as expected'? Please have a look here. There are other users with the same issue. As explained by me AngularFireModule.initializeApp(firebaseConfig) line does not even complete the build so the ionic site does not load.\n. My issue is that I'm not able to load the site correct. But because I initialise AngularFire, the build does not complete. Here is a snippet of my package.json\n\n\"dependencies\": {\n    \"@angular/common\": \"2.1.1\",\n    \"@angular/compiler\": \"2.1.1\",\n    \"@angular/compiler-cli\": \"2.1.1\",\n    \"@angular/core\": \"2.1.1\",\n    \"@angular/forms\": \"2.1.1\",\n    \"@angular/http\": \"2.1.1\",\n    \"@angular/platform-browser\": \"2.1.1\",\n    \"@angular/platform-browser-dynamic\": \"2.1.1\",\n    \"@angular/platform-server\": \"2.1.1\",\n    \"@ionic/app-scripts\": \"0.0.44\",\n    \"@ionic/storage\": \"1.1.6\",\n    \"angularfire2\": \"^2.0.0-beta.6\",\n    \"firebase\": \"^3.6.1\",\n    \"ionic-angular\": \"2.0.0-rc.3\",\n    \"ionic-native\": \"2.2.3\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"zone.js\": \"0.6.21\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"0.0.45\",\n    \"@types/request\": \"0.0.30\",\n    \"typescript\": \"2.0.6\"\n  },\n. Here is my app.module.ts\nimport { NgModule } from '@angular/core';\nimport { IonicApp, IonicModule } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { LoginPage } from '../pages/login/login';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { ResetPasswordPage } from '../pages/reset-password/reset-password';\nimport { SignupPage } from '../pages/signup/signup';\nimport { AboutPage } from '../pages/about/about';\nimport { ContactPage } from '../pages/contact/contact';\nimport { HomePage } from '../pages/home/home';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { AngularFireModule } from 'angularfire2';\nexport const firebaseConfig = {\n  apiKey: \"proper info is enter in this object\",\n  authDomain: \"xxx\",\n  databaseURL: \"xxx\",\n  storageBucket: \"xxx\",\n  messagingSenderId: \"xxx\"\n};\nconsole.log(AngularFireModule);\n@NgModule({\n  declarations: [\n    MyApp,\n    LoginPage,\n    ProfilePage,\n    ResetPasswordPage,\n    SignupPage,\n    AboutPage,\n    ContactPage,\n    HomePage,\n    TabsPage\n  ],\n  imports: [\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    LoginPage,\n    ProfilePage,\n    ResetPasswordPage,\n    SignupPage,\n    AboutPage,\n    ContactPage,\n    HomePage,\n    TabsPage\n  ],\n  providers: []\n})\nexport class AppModule {}\n. Can't share it. Sorry but there are other users with the same issue.\n. I just tried using the firebase library alone and it works. Can write to a database no problem and there are no errors. \n. didn't try to user angularfire after initialising. So far not angularfire is being used but will try it today! \n. Same error and the site is not building. I've been told that the app is not loading angularfire when dealing with the same issue but it is is node_modules and using \n`import firebase from 'firebase';\nimport { AngularFire, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2';\nimport { Observable } from 'rxjs/Observable';`\ninside /pages\n. What is that suppose to do? I still get build dev failed: Cannot read property 'indexOf' of undefined and the build does not finish\n. I tried it and got the same error\n. I updated zone.js to 0.6.26 but no luck\n. it works! need to go into detail and use angular fire but the build finishes and the site loads no problem.\n. Sorry but its a bit difficult to recreated a working example.\nthis.workoutLikes =  this.af.database.object('/workouts/' + this.workout.$key + \"/likes/\" + email);\n```\ntoggleLike(){\n    this.workoutLikes.$ref.transaction((likes) => {\n    return likes ? likes + 1 : 1;\n});\n\n\n{{ numLikes }} Likes\n\n```\nWith just the above code, the workout image gets refreshed. In toggleLike() if I return likes and not add 1 to the value, the image does not get refreshed. Note that this does not happen on chrome.. I am reworking how it works. It seems that the data is reloaded when an update to the object occurs. The problem is that when that data is updated, in redownloads the image. \nThis issue can be closed.. I am currently looking at http://stackoverflow.com/questions/42178592/in-firebase-do-i-really-have-to-download-an-entire-node-in-order-store-somethin since a I want to stop a node being refreshed when an update happens but it is still happening so it is not solved.. It because Firebase SDK question because of \"creating an AngularFire2 observable will download the items at that location\". Do you know if there is a way around this and not download the entire node every time there is an update on 1 variable?. Currently not using transactions. Normal angularfire2 observables with an ionic refresher.. How do I catch permission denied errors on .push() with firebase validation on AF5?. ",
    "Jorg71": "@ix-xerri: There is a branch of mgechev/angular2-seed with firebase already integrated: https://github.com/mgechev/angular2-seed/tree/angularfire2\nYou could try also install using the angular-cli by\n1. npm install firebase --save\n2. npm install git+https://github.com/angular/angularfire2.git\n. @thehashrocket : Could you please publish your system-config.ts and your main.ts.\nWould be great.\n. ",
    "cweidinger": "You're right @lf-alves. it's snapshot.val(). I've made a PR for the docs #334 \n. I signed it!\n. The steps worked for me as is. Have you tried them? If you do and find then\nneed tweaks then you're probably the best person at that point to update\nthe PR.\nOn Tue, May 9, 2017 at 6:42 PM, Gianfranc\u00f8 Palumbo <notifications@github.com\n\nwrote:\nAny chance this PR could be reopened and updated with the correct steps?\nThanks\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/782#issuecomment-300332454,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEUVIYFln2zbvTCH6l-VhWXYxwULqJ3-ks5r4PndgaJpZM4Lobnv\n.\n\n\n-- \nClay Weidinger\nSoftware Developer\nM. Ed., BSPhysics, BSN, RN\n573-880-5609\nWe, Homo sapiens, are the least understood beings in all the universe. No\nother ignorance is so disempowering.\n. ",
    "aayushkapoor206": "@davideast Any ETA on the feature?\n. ",
    "s-f-a-g": "Hi,\nI was asking myself about that feature, there is no mention of that, only on firebase config so I think it would be up one day but the is anything in the doc or the code. Anything about that ?\ndefaultFirebase({\n    storageBucket: \"your-storage-bucket\",\n })\nThanks\n. ",
    "OmerShemesh": "@davideast any updates on the integration?\n. let key = af.database.list('myFirebasePath').push{key:val}).getKey();\n. ",
    "mehuljdaxini": "@davideast is there any update for angularfire2 and firebase storage ?\n. ",
    "CoreyCole": "Also, *ngFor=\"let item in items | async\"> wasn't working for me. I had to change in to of.\nI just updated to angular 2.0.0-rc.4 and angularfire2 2.0.0-beta.2\n. I'm also getting a very mysterious \"script error thrown\" when running my tests and it's because I'm not providing a sufficient stub. Similar to the error seen here: https://stackoverflow.com/questions/49731617/jasmine-3-errors-in-angular-5-2-tests/50181944\nThis is more motivation to provide a testing module.. ",
    "LukeStonehm": "Thanks very much for this, I encountered the same issue with the docs and this helped!\n. ",
    "andlcool": "`this.timestamp = firebase.database['ServerValue']['TIMESTAMP'];`\n. `this.timestamp = firebase.database['ServerValue']['TIMESTAMP'];`\n. this.timestamp = firebase.database['ServerValue']['TIMESTAMP'];\n. Me too, experiencing the same problem\n. same problem\n. ",
    "GerardoLSJ": "Excuse me buoyad  I get :\n EXCEPTION: Error: Uncaught (in promise): Error: There is no user record corresponding to this identifier. The user may have been deleted.\nwhen I call this function:\n// Email and password\n  emailLogin2() {\n    this.af.auth.login(\n      {\n        email: 'email@example.com',\n        password: 'password'\n      },\n      {\n        provider: AuthProviders.Password,\n        method: AuthMethods.Password,\n      })\n  }\n\u00bfHow you implement the loggin? Thanks\n. @buoyad Yes thanks, I thought that if the user doesn't exist it automatically creates it\n. [off-topic] but I'm struggling with login with simple Email, \u00bfHow you implement 'firebase.auth().signInWithCustomToken' ? You just called in you component?\nThanks\n. ",
    "niojihy": "ref.orderBy('price', 'desc'));\nref.orderBy('price', 'asc'));. ",
    "Sireini": "@niojihy is this:\nref.orderBy('price', 'desc'));\nref.orderBy('price', 'asc'));\nworking for you?\n. ",
    "RHeckers": "This is how I solved it:\nFirst I made a query in my service where I filter by date in milliseconds:\n getImages (): Observable<Image[]> {\nthis.imageCollection = this.asf.collection<Image>('/images', ref => ref.orderBy('time').startAt(1528445969388).endAt(9999999999999));\nthis.images = this.imageCollection.snapshotChanges().pipe(\n  map(actions => actions.map(a => {\n    const data = a.payload.doc.data() as Image;\n    const id = a.payload.doc.id;\n    return { id, ...data };\n  }))\n);\nreturn this.images;\n\n}\nThen to get the newest date first I added this to my component where I call the method from my service: \nlet date = new Date;\nlet time = 9999999999999 - date.getTime();\nconsole.log(time);\n\nI pass the time let as the date. Since a newer date will be a bigger number to deduct from the 9999999999999, the newest date will turn up first in my query inside my service.\nHope this solved it for you\n. ",
    "Memeriaj": "I signed it!\n. Welp, not sure exactly what the problem is since I have my @google email address in my profile.  Not a big problem I'll see if I can get it sorted on Monday. @davideast feel free to review whenever.\n. ",
    "hopeeen": "Are there implemented or planned any functionality for an admin to rapidly delete registered auth-users? I would really like admins to have that possibility from my application.\n. ",
    "nunojpg": "For those using this snippet, this will always give a console.error because the auth will emit a null after delete(), and the subscription does not terminate which will delete any other user that tries to login.\nTaking only the first value solves this:\njavascript\n    af.auth\n      .first()\n      .subscribe(authState => {\n        console.log(authState);\n        authState.auth.delete()\n          .then(_ => console.log('deleted!'))\n          .catch(e => console.error(e))\n      });. ",
    "dimshik100": "Thanks @ix-xerri  and @nunojpg .\nThe delete works like a charm :)\nBut how about the open subscriptions that I have for that user I deleted?\nI'me getting \"permission_denied\" on all open subscriptions :(\nThanks.. ",
    "jeremyputeaux": "Is there any progress on this ?\n. ",
    "rashnk": "AngularFire vs AngularFireAuth , both returns the same result , so AngularFire will handle all opereation it seems\n```\nconstructor(public auth$: AngularFireAuth, public navCtrl: NavController, public af: AngularFire) {\nthis.authState = auth$.getAuth();\nauth$.subscribe((state: FirebaseAuthState) => {\n  this.authState = state;\n  console.log(state);\n});\n//af.auth.getAuth()\nthis.af.auth.subscribe(auth => {\n  console.log(auth)\n\n});// user info is inside auth object\n\n}\n``. how to use regular SDK.with angularfire2?. my code is exactly same like the link i provided above, only few fields added to the object this.songs object, all ionic nodejs, angulafire is latest , i used this command to install angularfire2npm install angularfire2 --save,typings install firebase`. do you have any plan to fix this issue?.  can i share you the project folder?. i contacted firebase support through email,\nhttps://stackoverflow.com/questions/43835548/check-if-push-is-successful-angularfire2/43839725#43839725. ",
    "noahdesu": "Upgrading to npm 3+ seems to have fixed the problem.\n. I will also add that I am trying to do this. I've gone through all of the github issues I could find that had to do with typings, but no matter what I continually get the error:\n[nwatkins@eduroam-169-233-195-121 journaling]$ ng serve\nCould not start watchman; falling back to NodeWatcher for file system events.\nVisit http://ember-cli.com/user-guide/#watchman for more info.\nLivereload server on http://localhost:49152\nServing on http://localhost:4200/\nThe Broccoli Plugin: [BroccoliTypeScriptCompiler] failed with:\nError: Typescript found the following errors:\n  /home/nwatkins/journaling/tmp/broccoli_type_script_compiler-input_base_path-cwSQxM5U.tmp/0/src/app/app.component.ts (5, 27): Cannot find module 'firebase'.\n    at BroccoliTypeScriptCompiler._doIncrementalBuild (/home/nwatkins/journaling/node_modules/angular-cli/lib/broccoli/broccoli-typescript.js:120:19)\n    at BroccoliTypeScriptCompiler.build (/home/nwatkins/journaling/node_modules/angular-cli/lib/broccoli/broccoli-typescript.js:43:10)\n    at /home/nwatkins/journaling/node_modules/angular-cli/node_modules/broccoli-caching-writer/index.js:152:21\n    at lib$rsvp$$internal$$tryCatch (/home/nwatkins/journaling/node_modules/angular-cli/node_modules/rsvp/dist/rsvp.js:1036:16)\n    at lib$rsvp$$internal$$invokeCallback (/home/nwatkins/journaling/node_modules/angular-cli/node_modules/rsvp/dist/rsvp.js:1048:17)\n    at lib$rsvp$$internal$$publish (/home/nwatkins/journaling/node_modules/angular-cli/node_modules/rsvp/dist/rsvp.js:1019:11)\n    at lib$rsvp$asap$$flush (/home/nwatkins/journaling/node_modules/angular-cli/node_modules/rsvp/dist/rsvp.js:1198:9)\n    at nextTickCallbackWith0Args (node.js:420:9)\n    at process._tickCallback (node.js:349:13)\n. ",
    "PiusNyakoojo": "I signed it!\n. ",
    "kukicado": "Are you using the Auth0 delegation API to exchange the Auth0 token for a Firebase Token?\nIf you can share a code sample I can see if I can get it running or escalate as a bug to our team.\nShoot me an email at ado(at)auth0.com and I'll see what I can do. \n. ",
    "cindoum": "I would like to know about the solution here. I am facing the same problem. Authenticating with auth0, then getting the delegation token, but cant find any way to send it to firebase to authenticate my user...\nThanks\n. On wich angularFire object did you find the method signInWithCustomToken? I cant find it anywhere or i have the wrong typing file...\n. Found out that providers/direbase_sdk_auth_backend.js has a method authWithCustomToken() but cant find a way to call it. I guess i have the wrong .d.ts file so typescript raise error when trying to do this call...\n. i think that \nthis.fire.database.list('items').subscribe(resp => console.log(resp););\nshould do the trick!\n. do not assign the result of the subscribe to your this.todoList. If you use the subscribe, you should do something like this (not tested).\nthis.angularFire.database.list('/todoList').subscribe(resp => {\n                    this.todoList.push(resp);\n                });\n. ",
    "LuisMCunha": "Hi @jeffbcross, but what about if you just want to listen to when the data transfer is finished? If the user has a very slow connection I want to have something indicating that the data is still being fetched. How would I be able to listen to when the data fetching is done?\n. Hi @cindoum thank you for your quick reply, but unfortunately adding the subscribe part to my list causes the following error: \nError TS2322: Type 'Subscription' is not assignable to type 'FirebaseListObservable<any>'.\nMy code is the following:\nexport class HomePage {\ntodoList: FirebaseListObservable<any>;\nconstructor(public angularFire: AngularFire, public fireBaseAuth: FirebaseAuth, \n        private popupProvider: PopupProvider, public navCtrl: NavController) {}\nngOnInit() {\n    this.fireBaseAuth.subscribe( // sincronize the item list with the backend\n        data => {\n            if (data) {\n                this.todoList = this.angularFire.database.list('/todoList').subscribe(resp => {\n                    console.log(resp);\n                });\n            }\n        });\n}\n}\nWhat am I doing incorrectly?\n. @cindoum Thank you very much, that solved my issue.\n. ",
    "StephenFluin": "And in hindsight it should probably be AngularFireModule, not FirebaseModule.\n. ",
    "danielgek": "@dsummersl update to typescript 2\n. @davideast can you give us some tips to get it working with the webpack version of the angular-cli? \n. well adding \"firebase\" to  tsconfig.json in types array seem to work!\n. @RedFour add \"firebase\" to types array\n. yup\n. @RedFour run npm list at the root of the project and send a gist or pastbin with the output\n. @RedFour i see you installed typescript globally ? can you npm -g list and confirm the is in the version 2.0.0, i actually have typescript installed on the project but i don't think that is the problem.\n. @RedFour try to install typescript locally in the project, i think something is wrong with your node/npm installation\n. run npm install typescript@2.0 --save-dev and see if npm throws any errors\n. @RedFour run typings install if that doesn't work, then it's out of my scope, try to see why fsevents is not supported on windows but i don't know if its related or not\n. @migueldiganchi  @RedFour \ni have successfully installed this way:\n1. make sure that you are in the lastest version of angular-cli-webpack\n2. update your app to rc5\n3. make sure you install typescript 2.0.0 npm install typescript@2.0.0 --save\n4. install angularfire with npm install angularfire2@next -- save\n5. add \"firebase\" to types array in tsconfig\n6. import in the module\n```\nimport { AngularFireModule } from 'angularfire2';\n@NgModule({\n  declarations: [...],\n  imports: [\n    ...,\n    AngularFireModule.initializeApp(firebaseConfig, firebaseAuthConfig),\n  ],\n...\n```\nYou may need to run typings install\n. yes, its a typo, fixed\n. @yashmurty see #425 \n. i think you cannot use ionic with angular rc5 yet, the ionic team is still updating to rc5 i think \n. @jmcenteno beta.2 works with rc.4 despite the warnings \n. You are installing the wrong version!! As you are still in the rc4 version of angular you can installing by running npm install angularfire2 --save\n. Maybe update firebase to version 3.x.x\n. npm install firebase --save\n. You are using angular-rc3 it should be rc5 if you use angularfire@next\n. If angular version is rc3 or rc4 the use the current angularfire version(beta2), if angular is at rc5 use angularfire@next\n. Wich version of angular-cli are you using ?\n. I don have sure but as you are in Darwin you dont need to import firebase , besides that i dont know what else can be \n. @andreigiura see step 3 here\n. ",
    "yuber1792": "@andlcool  i try \nthis.dateStamp  = firebase.database['ServerValue']['TIMESTAMP'] ;\nthis.dateConvert =  new Date(this.dateStamp);\n\nbut the answer is  Invalid Date\n. i have a problem\nthis.af.database.object('/Clientes/'+this.globalClienteId,{ preserveSnapshot: true})\n        .subscribe(snapshot=>{\n          console.log(\"key =\"+snapshot.key);\n            console.log(\"Value =\"+snapshot.val());          \n        });\nsnapshot.key  return  ok  but   snapshot.val() return  null .\n. ",
    "George35mk": "I get this in console\nconsole\nObject {.sv: \"timestamp\"}\n.sv\n:\n\"timestamp\"\n__proto__\n:\nObject. Thanx douglas. Ok David give me 10 min and I give you all the code and dependencies. David, i just start to use the stackblitz and I want to add dependencies sry bro I try my best give me some minutes. can I ask you if is save to firebase config on stackblitz. David this is the link don't forget I am new to stackblitz and I have some errors\nI want to paginate back\nhttps://stackblitz.com/edit/angular-c1vhpq?file=app%2Fapi.service.ts\nhttps://stackblitz.com/edit/angular-c1vhpq. I have some errors with the stackblitz  and I don't know how to see the errors in the console. David you checked ??. I have fixed the errors in stackblitz. Refresh the link I send you. now I can reproduce the error\n. @davideast what you say? about the code I send you. \nAs you see when I paginate front is work perfect but when I paginate back is sow me only the first objects.. Hi @snaveenkumareee, thank you for asking my opinion. This question was asked long ago and I never get a response that solve my problem. after I have created 200 websites using firebase platform, since then I have moved.\nI was disappointed with real-time database and Firestore and Cloud Datastore. \nThe truth is you gonna freaked out with this problem and many more like full text search OR operations etc. and you can't do anything about this when I say anything I mean anything until the firebase fix all this issues.\nMy solution to this is as follows.\n\n1 Learn about Docker, NGINX, Google Cloud\n2 Create a real backend server with Python or Go or C#\n3 Add Angular 6 or React on the front end\n4 Search about ElasticSearch, Redis, and SQL\n\nThis is the only path. I was using 2 years firebase to understand that the only path is the long path.\nYou gonna find my words useful one day.. ",
    "gigocabrera": "@flowdee were you able to find a solution?\n. Here's an ionic2 RC0 sample app using AngularFire2. I hope this helps some of you! \n- Repo\n- Changes to get AngularFire2 working \nCredit where it's due: This sample app is the result of what I found in Juan Suarez blog post and Jorge Vergara's article and a few StackOverflow incidents out there\n. @kleeb I agree. I just wanted to get it working first. Now I can find a different way to make the changes permanent. \n. @barbsicle thank you so much :thumbsup:\nMy rollup.config.js is not getting overwritten when I update node packages. Now I have a fully operational AngularFire2 app \n. Do you have a sample you can share?. @larssn thank you for the link. However, that is the plain vanilla version of Delete. I was wondering if there is an AngularFirestore version written in Typescript. @larssn you're awesome!!! Thank you very much. I'll give it a try and update this ticket with findings. Thank you @davideast :beer:. @kctang that's awesome, thank you! I'll give it a try this weekend. ",
    "must19": "Hi,\ngot the same problem trying the getting started tutorial. Any Idea?\n. ",
    "aderito7": "Trying to use the Setup and Install guide fails right off the bat unfortunately.\n```\nnpm WARN peerDependencies The peer dependency @angular/core@2.0.0-rc.2 included from angularfire2 will no\nnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency\nnpm WARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\nnpm WARN peerDependencies The peer dependency @angular/platform-browser@2.0.0-rc.2 included from angularfire2 will no\nnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency\nnpm WARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\nnpm WARN peerDependencies The peer dependency @angular/common@2.0.0-rc.2 included from angularfire2 will no\nnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency\nnpm WARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\nnpm WARN peerDependencies The peer dependency @angular/compiler@2.0.0-rc.2 included from angularfire2 will no\nnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency\nnpm WARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\nnpm WARN peerDependencies The peer dependency @angular/platform-browser-dynamic@2.0.0-rc.2 included from angularfire2 will no\nnpm WARN peerDependencies longer be automatically installed to fulfill the peerDependency\nnpm WARN peerDependencies in npm 3+. Your application will need to depend on it explicitly.\nnpm ERR! Windows_NT 10.0.10586\nnpm ERR! argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"angularfire2\" \"firebase\" \"--save\" \"--quiet\"\nnpm ERR! node v4.4.7\nnpm ERR! npm  v2.15.8\nnpm ERR! code EPEERINVALID\nnpm ERR! peerinvalid The package @angular/common@2.0.0-rc.3 does not satisfy its siblings' peerDependencies requirements!\nnpm ERR! peerinvalid Peer @angular/forms@0.2.0 wants @angular/common@^2.0.0-rc.4\nnpm ERR! peerinvalid Peer @angular/platform-browser@2.0.0-rc.3 wants @angular/common@2.0.0-rc.3\nnpm ERR! peerinvalid Peer @angular/platform-browser-dynamic@2.0.0-rc.3 wants @angular/common@2.0.0-rc.3\nnpm ERR! peerinvalid Peer @angular/router@3.0.0-alpha.8 wants @angular/common@^2.0.0-rc.2\nnpm ERR! peerinvalid Peer angularfire2@2.0.0-beta.2 wants @angular/common@2.0.0-rc.2\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\Aderito\\Desktop\\davideast\\npm-debug.log\n```\nI guess the problem might be that I don't have ReleaseCandidate 4 for Angular then it's a problem with the Angular CLI team -- I don't know.\nHowever, I still do find that angularfire2 is undiscoverable, which is the original problem.\nAm I to understand that I can't import or require angularfire2 as I would any other node_module after running npm install <module> on said module.\nAnyway I think the setup warrants another issue being opened unless this is expected behavior. I do understand the project is still under development.\n. ",
    "senior-engineer": "Thanks. \nIs there any way that we can use orderBy with 'ascending' and 'descending' in this code of AngularFire?\naf.database.list('/items', {\nquery: {\norderByChild: 'score',\nlimitToLast: 15\n}\n});\n. ",
    "sitrucj": "Ty. Will do\n. (100th) ng build did it.. I must have messed something up.. then fixed it recently... THANK YOU! \n. ",
    "niklasravnsborg": "@cre8 Do you remember how you solved this?. I have the same problem... Anyone with an idea? :)\n. ",
    "openminder": "I think this duplicates #325\n. ",
    "profoundhub": "Simply install it from GitHub directly:\nnpm install git+https://github.com/angular/angularfire2.git\n. is this closed?. ",
    "ecoologic": "npm install git+https://github.com/angular/angularfire2.git --save. ",
    "Soolan": "Found the problem:\nat the root of the project I had to get rid of one of the references in tsconfig.json:\n\"files\": [\n//    \"node_modules/angularfire2/firebase3.d.ts\",\n    \"typings/index.d.ts\"\n  ]\n. Hi guys,\nadding types: ['firebase'] solved my problem on my ubuntu 16 machine but now I get the following error:\nUncaught SyntaxError: Unexpected token export\nI'm using a fresh clone from https://github.com/angular/angular2-seed.git and everything is the latest. \nI also noticed the following warning:\nUNMET PEER DEPENDENCY @types/request@0.0.30\nAny idea what might be wrong?\nThank you all\n. ",
    "bjornson": "@davideast Is the pure firebase sdk included in angularfire2 and how can I access it within an angular2 .ts file? Im am only getting offered \"AngularFire, FirebaseAuth, FirebaseAuthState\" and the observables. Thanks!\n. @katowulf thanks for the info, I ended up injecting FirebaseApp in the contructor:\n```\nprivate _firebaseApp;\nconstructor(@Inject(FirebaseApp) firebaseApp: any){\n    // listen to auth state change\n    this._firebaseApp.auth().onAuthStateChanged(user => {\n        if (user) {\n            // is logged in\n        } else {\n            // is logged out\n        }\n    });\n}\nrequestPasswordResetEmail(email){\n    this._firebaseApp.auth().sendPasswordResetEmail(email)\n                .then(response => resolve(response),\n                    err => reject(err));\n}\n```\nA great side effect is that the auth listener in my app now works on iOS Safari browser as well. So far the only modern browser that had any trouble with the AngularFire auth listener.\n. ",
    "raugaral": "Where is the function to send a code to reset the password?? \nI can see that \"confirmPasswordReset(code, newPassword)\" but without a function to send the reset code, don't make sense ..... Where is the function to send a code to reset the password?? \nI can see that \"confirmPasswordReset(code, newPassword)\" but without a function to send the reset code, don't make sense ..... ",
    "clarkmalmgren": "Thanks @rockwotj.\n. ",
    "evanjmg": "Is this merged? can you please put this in the docs? . Please document this before closing. ",
    "asadsahi": "Got it resolved by upgrading to typescript 2 beta (npm install typescript@next) and removing preLoader source-map-load section.\n. no problem, thanks @davideast . I will wait until new version is released supporting RC6.\n. It worked. Magic :+1: \nThanks @orangesoup, will stick to rxjs xx.10 until next release of angularfire2 fixes it I guess.\n. @davideast should angularfire 2 be worried about AoT right now when tooling like cli / official documentation doesn't give any clue to what AoT is? To most of us this is just a concept in the air right now.\n. @ivoviz AoT definitely sounds good, its just frustration caused by last release of angularfire2 could be avoided by a subsequent release targeting AoT. Not sure if the priority was to fix critical issues than AoT.\n. @jeffbcross latest preview package has fixed https://github.com/angular/angularfire2/issues/496 at least :+1: \nHere are my packages:\n\"angularfire2\": \"^2.0.0-beta.5-preview\",\n    \"firebase\": \"3.4.0\",\n    \"rxjs\": \"^5.0.0-beta.12\",\n    \"zone.js\": \"^0.6.23\"\n. @mukesh51 Great news, duplicate identifier after adding this entry :)\n\nI think firebase typings is not needed anymore.\nfirebase global variable isn't available for some reason, even I import it in main file, doesn't seem like a typings issue.\n. @jeffbcross I only like magic on TV, but for some reason am witnessing magic on my project too, The issue has resolved for some reason, The only change i have done is updated angular-cli from beta 14 to beta 15 and reinstall node_modules.\nNot having firebase undefine error, hence closing this.\n. @jeffbcross I only like magic on TV, but for some reason am witnessing magic on my project too, The issue has resolved for some reason, The only change i have done is updated angular-cli from beta 14 to beta 15 and reinstall node_modules.\nNot having firebase undefine error, hence closing this.\n. I wonder this as well, I suspect, its because of new module system in angular 2. Not sure, lets hear experts :). \n. @jeffbcross this repo should illustrate this query I hope, its a cli based project.\nIf you see this line we are only importing angularfire2 module using typescript/es6 syntax, but in past we have to use import 'angularfire2' in vendor files first. \nI think this beavior of not importing 3rd party libraries in vendor files anymore and only importing like es6 syntax applies to all other 3rd party libraries as well (e.g another 3rd party library imported in project is NgbModule from ng-bootstrap).\nCorrect me if I am wrong, is this because of webpack 2's ability to handle es6 natively that we don't have to import AMD or commonjs like imports anymore?\nAnother question arose is around how CLI is handling global dependencies as described below (why angularfire2 doesn't have to follow this pattern):\n\n. @bogacg the problem/query mentioned in the title of this issue isn't specific to angularfire2, if you add any other third party library like ng-bootstrap in an angular 2 project and directly start using them in your angular 2 modules, without adding that library in vendor.ts file, you will not see any error.\nI think its because of the new way webpack 2 handles dependencies, not sure though, hence raised to @jeffbcross  if he can share his experties in this area.\n. ",
    "colinwitkamp": "How can I retrieve data once  using subscribe() and unsubscribe()?\n. This makes the data is loaded whenever it changes.\nI want it to be like 'once'. \n. I think there should be an API something like 'subscribeOnce' using Firebase's 'once' API. \n. ",
    "chrste90": "Does this work? In beta5 i couldn't make in working because the observables never complete (i think).\nI'm using the take-operator for this:\nimport 'rxjs/add/operator/take';\nthis.items.take(1).subscribe(snapshots => console.log(snapshots));\n. I have the same problem. Where did you put the useStrict: false option in rollup.config.js?\n. Ah, nevermind, just a little typo, now it works. Thanks!\n. I think a better idea is to delete firebase from @types folder.\n. Hi, \ni did the same and now it works, thanks.\nBut i wouldn't change the original rollup-config, you can just use your own, like here: \nhttps://github.com/angular/angularfire2/issues/565#issuecomment-250153841\n. I'm getting the same error. No idea what to do to fix it.\n. Hey, i'm trying to solve the problem with your config, but now i get the following error:\n[16:18:37]  rollup: Treating 'firebase' as external dependency\n[16:18:40]  rollup: No name was provided for external module 'firebase' in options.globals \u00e2\u20ac\u201c guessing 'firebase$1'\nAny idea what i can do to solve the problem?\n. Hey,\nthanks for your help. \nDo you know how i can supply globals to rollup? \nThe project isn't working for me, when i open the page, i get an error message:\nUncaught ReferenceError: firebase$1 is not defined                 main.js\nAnything else i could do?\n. Just delete types from tsconfig, you can find more information in the changelog: https://github.com/angular/angularfire2/blob/master/CHANGELOG.md\n. You can try to use Firebase 3.3.0. Thats the version angularfire2 uses. Maybe there is a conflict when you try to use two different versions in the same class.\n. Another solution is to install firebase 3.3.0, the version of angularfire.. There are some API-changes in v4.\nhttps://github.com/angular/angularfire2/blob/master/docs/version-4-upgrade.md\n. What's about : Partial<T>? Does is work?. You have to import AngularFirestoreModule as well: https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md#6-setup-individual-ngmodules. Wouldn't it be better to just import the things which are needed (for tree-shaking)?\ne.g. only import auth \nimport { auth } from 'firebase/app' and then use auth.FacebookAuthProvider. Why not using the AngularFireAuth-Service for this?. I think this should be AngularFireDatabase. ",
    "developerndm": "This took me some time to figure out, one person suggested firebase.database().goOffline() which does work but is clearly blunt force.\nApparently, you can not unsubscribe from an Observable.\nThe correct way of doing this is making  \"subscription\" and unsubscribing from this.\n```\n  constructor(\n//check if we are logged into firebase using OAuth and because its a subscription will change even if we are not on the current page, this should be in a service/provider\nthis.AngularFireAuth.authState.subscribe(user => {\nif (user && user.uid) {\n  this.userloggedin = true;\n  //firebase.database().goOnline();\n}else{\n  this.userloggedin = false;\n  //firebase.database().goOffline();\n}\n\n});\n}\nViewWillEnter(){\n  try{\nthis.items = this.AngularFireDatabase.list(\"my firebase DB tree\", ref => ref.limitToLast(50)).valueChanges();\n\nthis.subscription = this.p.subscribe(res => {\n\n  //keep watching\n  if(this.authData.userloggedin == false || !res){\n\n  if(this.subscription !== undefined){\n\n    this.subscription.unsubscribe();\n\n    console.log(this.subscription);\n\n    this.subscription = undefined;\n\n  }\n\n\n\n\n\n  }\n\n});\n\n} catch(e) {\n    console.error(e);\n  }\n}\n```\nor if you like, kill the subscription when leaving the page...\n```\nOnDestroy(){\nif(this.subscription !== undefined){\n    this.subscription.unsubscribe();\n    this.subscription = undefined;\n  }\n}\n```\n. ",
    "gianpaj": "@sean-hill take is a RxJS filtering operator\nTry:\nimport 'rxjs/add/operator/take'\nSee #456 for more info and examples\n. duplicate of #544 - which apparently is on purpose\n. @JimTheMan I wouldn't go that far. Using an uncommon word or a funny/quirky word makes the entire project dubious?\nMaybe the word should be between double quotes or in italics.\nPS: I'm unsubscribing from following discussions about the single word in a README file.\nLet's spend more time fixing bugs, and improving the quality of the project and its code rather than arguing about semantics. \u270c\ufe0f \n. thanks @danielordonez !\n. Very strange. If you see the Network tab in Chrome for the frames in WebSocket connection, the data arrives very clicked, but then it's not displayed.\nHave you tried subscribing to the FirebaseObjectObservable and printing in the console when the item is retrieved ?\nI believe the ngOnInit() suggestion might be a good one to try as well.\n. I believe instantiating the AngularFire class in the constructor makes sense instead of ngOnInit().\nSee http://stackoverflow.com/a/35763811/728287\n\nSo You should use constructor() to setup Dependency Injection and not much else. ngOnInit() is better place to \"start\" - it's where/when components' bindings are resolved\n. Any chance this PR could be reopened and updated with the correct steps? Thanks. Fair point. I'll try to make a PR once I get this working with angularfire 4.0.0-rc0 and ionic-native 3 \u270c\ufe0f . If you have 4.0.0rc0 or greater I belive the correct code is:\nafAuth.authState.subscribe((user: firebase.User) => {\n\nsee https://github.com/angular/angularfire2/pull/917. ",
    "hcallejas": "this works for me\nconstructor(public db: AngularFireDatabase\n)\n...\n...\nfunction someThing(){\nreturn this.db.list(\"/dataBase\").query.once(\"value\")\n}\nregards. this works for me \nconstructor(public db: AngularFireDatabase\n  )\n...\n...\nfunction someThing(){\nreturn this.db.list(\"/dataBase\").query.once(\"value\")\n}\nregards\n. ",
    "yairtawil": "Hi,\ntry take with pipe:\ntypescript\n     import { take } from 'rxjs/operators';\n     this.af.database.object('someLocation').pipe(take(1)).subscribe(...). ",
    "tontus": "@lf-alves thank you a lot. you are a lifesaver. ",
    "mclouvem": "@davideast I'll setup it ASAP... thanks\n. @davideast I`ve set a basic plnkr, but I haven't a public firebase. could you set firebase instance in app/main.ts. Is it okay for you?\nplnkr\nInside home.resolver there is a call to firebase that never returns.\n. ",
    "jerry-i": "same problem,I can not get the right data from the ngOnInit method\ndetail\n. I konw why..... I didn't remove the $key..\n. only because the second param will overwrite all prop but just not this $key, $key is just firebase index.. const $key = obj.$key\ndelete obj.$key\nupdate($key, object). ",
    "cesartolosa": "Same problem, I can't get the data resolved from FirebaseObjectObservable in my resolve service\nvacancy.service.ts\nimport { Injectable } from '@angular/core';\nimport { AngularFire, \n         FirebaseListObservable, \n         FirebaseObjectObservable } from 'angularfire2';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/finally';\nimport { Vacancy } from './vacancy.model';\n@Injectable()\nexport class VacancyService {\n  vacancies$: FirebaseListObservable;\n  constructor(private af: AngularFire) {\n    this.vacancies$ = this.af.database.list('/vacancies');\n  }\n  getVacancies(): FirebaseListObservable {\n    return this.vacancies$;\n  }\n  getVacancy($key: string): FirebaseObjectObservable {\n    return this.af.database.object(/vacancies/${$key});\n  }\n  pushVacancy(vacancy: Vacancy) {\n    this.vacancies$.push(vacancy);\n  }\n}\nvacancy-detail-resolve.service.ts\nimport { Injectable } from '@angular/core';\nimport { Router, Resolve,\n         ActivatedRouteSnapshot } from '@angular/router';\nimport { FirebaseObjectObservable } from 'angularfire2';\nimport { VacancyService } from './vacancy.service';\nimport { Vacancy } from './vacancy.model';\n@Injectable()\nexport class VacancyDetailResolveService implements Resolve{\n  constructor(private vs: VacancyService, private router: Router) {}\n  resolve(route: ActivatedRouteSnapshot): Promise|boolean {\n    let $key = route.params['$key'];\n    console.log($key);\n    return this.vs.getVacancy($key).toPromise().then(vacancy => {\n      if (vacancy && vacancy.$value !== null) {\n        return vacancy;\n      } else { // $key not found\n        this.router.navigate(['/vacancies']);\n        return false;\n      }\n    });\n  }\n}\nvacancies-routing.module.ts\nimport { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { VacancyDetailResolveService } from './shared';\nimport { VacancyDetailComponent }  from './vacancy-detail';\nimport { VacancyDetailEditComponent }  from './vacancy-detail-edit';\nimport { VacanciesComponent }  from './vacancies.component';\nconst vacanciesRoutes: Routes = [\n  { \n    path: 'vacantes', \n    component: VacanciesComponent,\n  },\n  { \n    path: 'vacantes/:$key', \n    component: VacancyDetailComponent,\n    resolve: {\n      vacancy: VacancyDetailResolveService\n    }\n  },\n  { path: 'vacantes/:$key/editar', component: VacancyDetailEditComponent },\n];\n@NgModule({\n  imports: [\n    RouterModule.forChild(vacanciesRoutes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class VacanciesRoutingModule {}\nThe \"/vacantes/:$key\" route never gets resolved.\nAny help?\nthese are some of my dependencies: \n\"@angular/common\": \"2.2.3\",\n\"@angular/compiler\": \"2.2.3\",\n\"@angular/core\": \"2.2.3\",\n\"@angular/forms\": \"2.2.3\",\n\"@angular/http\": \"2.2.3\",\n\"@angular/platform-browser\": \"2.2.3\",\n\"@angular/platform-browser-dynamic\": \"2.2.3\",\n\"@angular/router\": \"3.2.3\",\n\"angularfire2\": \"^2.0.0-beta.6\",.\n",
    "bl1861": "Hi davideast, I still want to use the Tour of Heroes if possible. Because there must be the way to use it in my app, otherwise everyone should restart their app by using Angular CLI(or everyone should?). Thank you.\n. ",
    "vekexasia": "+1. would love to see this working.\n. not working for me either. this is stressfull. console is fully crowded with \"cannot find namespace firebase\" errors\n. ",
    "aguzubiaga": "I'm not sure if exactly that is what we need but I think we should be able to accomplish it.\n. I don't know if you can push to a queried list. But what you can do is something like:\nts\nthis.af.database.list('/messages').push({ text: someText });\nYou can even keep the reference to that non queried list in a variable because Observable are lazy so if you don't subscribe to them, they don't emit values. Anyway, firebase caches everything and syncs when it's changed \ud83d\ude09 \n. Yes it does, it emits null.\nts\nthis.af.auth.subscribe(authData => {\n  if (authData) {\n    // Logged in.\n  } else {\n    // Not logged in or logged out.\n  }\n});\n. Hey @borntodesign, this is what I do.\nSuppose that you have an structure like this:\njs\n{\n  projects: {\n    project1: {\n      members: {\n        user1: {...}\n      }\n    } \n  },\n  users: {\n    user1: {...}\n  }\n}\nSo you can do:\n`` ts\nlet members = this.af.database.list('/projects/project1/members') // Primary list\n  .map(items => {\n    //itemsis an array of all items at the moment\n    for (let item of items) {\n      // Find each corresponding associated object and store it as a FibreaseObjectObservable\n      item.user = this.af.database.object(/users/${item.$key}`);\n    }\nreturn items;\n\n});\n```\nI like to abstract that map code to a function that I share across my project.\nI hope it helps :)\n. @dowsanjack remember that your menu array items are now observables so you should access them like this:\nhtml\n<h4 class=\"food-box-list-title\">{{ (food | async)?.name }}</h4>\n. @borntodesign I understand, you can create an index of your items:\njs\n{\n  articles: {\n    image: {\n     article1: { ... }\n    }\n  },\n  articlesIndex: {\n    article1: 'image'\n  }\n}\nDoes that work for you? I don't know if it's the best way to do it, you may want to #AskFirebase.\n. ",
    "escobar5": "@katowulf I was thinking the same, but I cannot find how to render it faster, I'm just getting the items of a list (there are just 9 items) and it is slow, so in the UI there is a jump. Do you have any idea on how to make it faster?\n. @davideast if I install angularfire2 2.0.0-beta.2 then I get this:\nangularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed\n...\n. ",
    "MRMokwa": "Is it possible to extend AngularFireDatabase, like it's made for http class in this article? I could not make it work.\n. ",
    "leblancmeneses": "Most recipe though mean it should be baked into the framework.\nExample: RequireSignInGuard, WaitForSignInGuard\nThis one should modify:\nhttps://github.com/angular/angularfire2/blob/f277779b44d41f3e6ae3b03a4ce40d22af431021/src/database/list/create-reference.ts\nAngularFireList  should expose an isBusy observable that is set by:\nupdate: createDataOperationMethod<T>(query.ref, 'update'),\n    set: createDataOperationMethod<T>(query.ref, 'set'),\n    push: (data: T) => query.ref.push(data),\n    remove: createRemoveMethod(query.ref),\n    valueChanges<T>(events?: ChildEvent[]) {. I'm looking for a way to convert angularfire \n$firebaseAuth().$waitForSignIn()\n$firebaseAuth().$requireSignIn() \nto angularfire2.\nexample route resolve usecases: \n1) /shared/:userId  resolve $requireSignIn() and determine if auth.uid  has access to userid profile.\n2) $firebaseAuth().$waitForSignIn() ensures loaded view can synchronously access auth value   with const firebaseUser = $scope.authObj.$getAuth();. @mrdowden here is what I am using.\nRequireSignInGuard:\n```\nimport { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Observable } from 'rxjs/Observable';\n@Injectable()\nexport class RequireSignInGuard implements CanActivate {\nconstructor(private fbAuth: AngularFireAuth, private router: Router) {\n  }\ncanActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable {\n    return this.fbAuth.authState.map((auth) => {\n       if (!auth) {\n         this.router.navigateByUrl('login');\n         return false;\n       }\n       return true;\n    }).take(1);\n  }\n}\n```\nWaitForSignInGuard:\n```\nimport { Injectable } from '@angular/core';\nimport { CanActivate, Router, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport { Observable } from 'rxjs/Observable';\n@Injectable()\nexport class WaitForSignInGuard implements CanActivate {\nconstructor(private fbAuth: AngularFireAuth, private router: Router) {\n  }\ncanActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable {\n    return this.fbAuth.authState.map((auth) => {\n       return true;\n    }).take(1);\n  }\n}\n```. ",
    "Toxicable": "I don't think baking it into every single request is the best idea.\nSince a lot of requests are very fast and very often, think of a chat application for example, having a progress bar flash up for 200ms or less would just be distracting and having that overhead on every single request is unnecessary . This is not an issue with AngualrFire2.\nYou can use classes yourself though mapping functions, however I do not recommend mainly due to the extra overhead, just use simple JavaScript objects, if you need methods make a service to do it.\nCan be closed?. I have also faced this issue. In the past I've used a variable like authReady which is awaited on by anything that wants to check to see the token.\nIf authReady is false then then the startup code is still running, if is true then the startup code has been run and we can safely determine if we're good to check the status of the users auth.\nI find this very important for things like route guards which run on page load if the user enters the site on that page.\nI think exposing an Observable or Promise (preferably Observable) with a similar concept to the above would solve this issue. . This looks to be resolved.\nCan be closed. I don't think we need to change FirebaseListFactory or FirebaseObjectFactory to achieve this, you can simply use mergeMap (or some variant there of) from your Observable with the url, for example.\nthis.http.get('/firebaseUrlForThisUser')\n  .mergeMap(url => this.fbDb(url + '/users')\n. Just like to add my 2 cents here, I like the sounds of the @ namespace, so weather it's being moved under the firebase organisation then I think @firebase/angularfire would be suited but otherwise @angular/fire or @angular/angularfire would both work well. @ix-xerri if the issue is resolved then you are able to close it yourself. appears to be a duplicate of #761 \ncan be closed. @raugaral This is the wrong place to ask that question.\nAlso please don't spam the repo, you asked your question in 3 separate issues, this is unnecessary . I think maybe reworking this to have a similar API and implementation to the more recent API's might be in order now. @BamiGorengo as mentioned above you can use this.afAuth.authState to identify if the user is logged in or not\n. @jamesdaniels whats the status on this? Do you need a hand?\nAlso looks like it's missing a few features, downloading, and deleting, unless i've missed something.. See here \nhttps://github.com/angular/angularfire2/blob/master/docs/4-querying-lists.md\nhttps://github.com/angular/angularfire2/blob/master/docs/4-querying-lists.md#creating-a-query-with-observable-values. This isn't a very helpful trouble shooting advise.\nThere are many things that can go wrong with ng serve\nThere are more issues that can be caused by upgrading to typescript latest. The first method is a provided by AngularFire2 which uses the second method internally but gives it to you in a nice API. The set method still exists on FirebaseListObservable as you can see here https://github.com/angular/angularfire2/blob/master/src/database/firebase_list_observable.ts#L31\nAlso in my testing it still works fine. AngualrFire2 is an open source project, if you feel that you can contribute then feel free to make a PR.\nFor Firebase Storage there is currently a proposal here: https://github.com/angular/angularfire2/issues/940. https://github.com/angular/angularfire2/blob/master/docs/4-querying-lists.md. Looks like it was an issue with StackBlitz and it's resolved now\nhttps://github.com/stackblitz/core/issues/131. @davideast ah awesome, good to see it working in there now.\nSpeaking of which, do we have a firebase db for testing? the old one from plnkr no long appears to exist. @davideast awesome, glad to be of assistance, let me know if there's anything I can do to help. Change the Date object into a string. af.object('surveys/-KtG6W10NVSUn5V17eRy') gives you an item as a single object\nSee here https://github.com/angular/angularfire2/blob/master/docs/2-retrieving-data-as-objects.md\nFor more info. This mergeMap returns an Observable so you're not gonna get the full FirebaseObjectObservable back from it, instead you can do something like so\nObservable.of('/test')\n      .mergeMap(uri => afdb.object(uri)\n        .update({'foo': 'bar'})\n     );. @magleahy Appears to be working fine here\nhttps://stackblitz.com/edit/angular-template-firebase-kjiyoc?file=app/app.module.ts\nIt should be this.db.database.ref in the latest version. https://stackblitz.com/edit/angular-template-firebase-kjiyoc?file=app/app.module.ts\nyup still works fine. The docs here are up to date\nhttps://github.com/angular/angularfire2/blob/master/docs/2-retrieving-data-as-objects.md\nhttps://github.com/angular/angularfire2/blob/master/docs/3-retrieving-data-as-lists.md. I'm also for a framework agnostic implementation, then provide a simple Angular module which does the injection seprate from the core parts which can be used anywhere.\nWhile we're at it I think now might be a good time to revisit the Lib name?\nIf we renamed it then we wouldn't have to change the name of the deprecated database module, and in turn not breaking anyones code. No this is just a proposal right now. Might want to hold off on that for now, there's a proposal to swap out the DB API for a new one https://github.com/angular/angularfire2/issues/1158. Loooks like a possible issue with StackBlitz, works fine here https://stackblitz.com/edit/angular-template-firebase?file=app%2Fapp.module.ts. @eduardowickertg I don't think you issue is related to this issue.. @Wanted92 @eduardowickertg I explained what's going on here https://github.com/angular/angularfire2/issues/1215#issuecomment-334577913. >Follow instructions on https://github.com/angular/angularfire2/blob/master/docs/rtdb/querying-lists.md item.$key is undefined\nI don't see any mention of item.$key here.\nIt talks about how to grab the $key in the upgrade guide here https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md#moving-away-from-key-and-value\n\nFollowing instructions on https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md does not work with *ngFor\n\nWorks fine here: https://stackblitz.com/edit/angular-template-firebase-bq1nrg?file=app%2Fapp.module.ts. valueChanges returns an Observable, therefore you can do anything on it that you could on any other Observable.\nTherefore map works as expected as you can see here: https://stackblitz.com/edit/angular-template-firebase-uxldsj?file=app/app.module.ts. @Metsuryu What error do you get ?. valueChanges does return an Observable<T[]>\nhttps://github.com/angular/angularfire2/blob/master/src/database/interfaces.ts#L8. >Yup, but I need to specify the generic twice:\nNo you don't see here, https://stackblitz.com/edit/angular-template-firebase-uxldsj?file=app%2Fapp.module.ts\nvar items is typed to Observable<Item[]>\nif you second example you're overriding the generic with another, which is fine.\nstuff$ will be typed as a generic ofstringbutstuffis still typed as a generic ofnumber`, I don't see an issue here. The data you're passing to the store must be an Object, not a class instance.\nThe reason I would assume for this is because while firebase can take the data out of a class it cannot re-instantiate that class once it comes back into the app from the store\nUsing plain Objects + interfaces is the method i'd advise. That wouldn't be inconsistent if you don't get an instance back, what if the class has a method on it? you'd be able to use that method on the out going object but not in the incoming one, this would be very unintuitive.\nAlso the type Object does allow classes see example below, as far as I know there's not type in TS that disallows class instances \n```\nconst f: (data: Object) => any;\nclass T { }\nvar t: T;\nf(t); //no error\n```. duplicate\n1199\n1183. You must enable it from the firebase console\n. So after doing a bit of discussion about how to solve this I think the best solution for this is to make WS and HTTP known to zones, aka manually patch them.\nOnce patched then we can modify the streams to add in a first() so that only the first lot of data will be emitted and the Observables will no longer be long lived, therefore the appRef can become stable.\nAs for implementation, here's an example on how it's done for the HttpClient \nhttps://github.com/angular/angular/blob/master/packages/platform-server/src/http.ts. @hiepxanh There are a couple of places you could insert the first operators and doing it there would definitely work. @hiepxanh There are a couple of places you could insert the first operators and doing it there would definitely work. @hiepxanh You wont be able to do this in your own project, you'll need changes to the internals of AngularFire.\nI don't know specifically how they construct their Observable streams so I cant give specifics on how to implement this solution either.. mayaswell do Angular 4 -> Angular while you're at it?. Consider refactoring these to call style?\nsuch as mentioned here https://github.com/angular/material2/blob/c564df61f48ff9c40eea237c394a15adac19cfdb/CODING_STANDARDS.md#rxjs. Yeah no probs, just being nit picky. Whats up with this delay?\nLooks like you're trying to ensure that it's at the end of the event loop?. Gotcha, sounds legit. Maybe a small comment noting that?. ",
    "fisherds": "Ooops.  My bad.  My project wasn't using the latest stuff.  Guess I should update before filing erroneous issues.  Thanks @davideast \n.   Love the additions Dave.  I signed the CLA btw.  I also used to work at Google so hopefully I'm trustworthy enough. ;).   Thanks Dave, yeah that totally fixed my issue.  In short I've been doing it wrong for awhile, but I was getting away with it before.  Thanks for your help!. ",
    "morninng": "sorry it maybe the collect behavior \nI close by myself\n. I still cannot use Firebase with AOT mode by Angular4.1.0.\nAs AOT become the default compile setting, I want to use AOT mode, but it is not possible  with @Inject(FirebaseApp. . @davideast \nOh thank you very much. I will try. Thank you! it works. ",
    "kamalkech": "@lf-alves i guess ur proposition is not very good cuz if we have a great data more than 50000 items for example, need more times to load all. @aguzubiaga but how we can to access to object to display informations of user in html file like : \n{{ projects.user.username }}\n ??. Hey every body all solutions not working for angular version 2.3.1 :\n\"foo.val\" is not a function. ",
    "ursmeier-mercatus": "@katowulf For incrementing a count, it would be useful if angularfire2 would support transactions. Otherwise we still need to access the underlaying firebase sdk.. ",
    "Ross-Rawlins": "What is the best way to do this?\nI am having to use a dynamic path/key to filter data. 'all/' + key + group\n. What is the best way to do this?\nI am having to use a dynamic path/key to filter data. 'all/' + key + group\n. Did anything come of this?. Did anything come of this?. Is this updated yet?\n. Is this updated yet?\n. is it wise to be using nightly builds?\nOn 27 September 2017 at 07:37, Brian Soumakian notifications@github.com\nwrote:\n\nMy build is working with the --prod flag and angularfire2@4.0.0-rc-2\nafter installing ionic-angular@nightly and @ionic/app-scripts@nightly\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1124#issuecomment-332414071,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADMeUMzHmpq_lKl_8W30_OmCKBfqfWoQks5smd8TgaJpZM4PBwN-\n.\n\n\n-- \nRoss Rawlins\nTel: 021 531 7087\nCell: 072 424 9480\nSkype: ross.rawlins\nEmail: ross@duovili.co.za\nhttp://www.duovili.co.za\nhttps://plus.google.com/113781084234234096576/posts\nhttps://www.facebook.com/Duovili\nhttp://www.linkedin.com/company/duovili/ https://twitter.com/Duovili\nThis e-mail message and all attachments contain the CONFIDENTIAL AND\nPROPRIETARY information of DUOVILI DEVELOPMENTS. and may contain LEGALLY\nPRIVILEGED information. If you are not the intended recipient, you are\nhereby notified that any disclosure, distribution, or use of this e-mail,\nits attachments or any information contained therein is unauthorised and\nprohibited. If you have received this in error, please contact the sender\nimmediately and delete this e-mail and any attachments.\n. is it wise to be using nightly builds?\nOn 27 September 2017 at 07:37, Brian Soumakian notifications@github.com\nwrote:\n\nMy build is working with the --prod flag and angularfire2@4.0.0-rc-2\nafter installing ionic-angular@nightly and @ionic/app-scripts@nightly\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1124#issuecomment-332414071,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADMeUMzHmpq_lKl_8W30_OmCKBfqfWoQks5smd8TgaJpZM4PBwN-\n.\n\n\n-- \nRoss Rawlins\nTel: 021 531 7087\nCell: 072 424 9480\nSkype: ross.rawlins\nEmail: ross@duovili.co.za\nhttp://www.duovili.co.za\nhttps://plus.google.com/113781084234234096576/posts\nhttps://www.facebook.com/Duovili\nhttp://www.linkedin.com/company/duovili/ https://twitter.com/Duovili\nThis e-mail message and all attachments contain the CONFIDENTIAL AND\nPROPRIETARY information of DUOVILI DEVELOPMENTS. and may contain LEGALLY\nPRIVILEGED information. If you are not the intended recipient, you are\nhereby notified that any disclosure, distribution, or use of this e-mail,\nits attachments or any information contained therein is unauthorised and\nprohibited. If you have received this in error, please contact the sender\nimmediately and delete this e-mail and any attachments.\n. I would rather wait then as mine is in production already. I would rather wait then as mine is in production already. I followed these exact steps but my data is always returned as a null. I have a few of these calls in an array\nthis.firebasePrvd.initObject(feeds/group/${this.groupId}/${feedItemId});\nObservable.combineLatest(tempArray).pipe(map((res: any) => {\n                    console.log(res)\n})\nit never fires.  I am only asking here cause I cant find a solution on the web.. I followed these exact steps but my data is always returned as a null. I have a few of these calls in an array\nthis.firebasePrvd.initObject(feeds/group/${this.groupId}/${feedItemId});\nObservable.combineLatest(tempArray).pipe(map((res: any) => {\n                    console.log(res)\n})\nit never fires.  I am only asking here cause I cant find a solution on the web.. Hi Guys, do you have to use firestore to get offline persistence? I am using hte realtime Db and cant get it to work. Plus to you have to install the firebase SDK? Also trying to get this to work on ionic and super lost.. Hi Guys, do you have to use firestore to get offline persistence? I am using hte realtime Db and cant get it to work. Plus to you have to install the firebase SDK? Also trying to get this to work on ionic and super lost.. ",
    "edicon": "\nchecks email template at firebase console\nuse  this.af.auth.getAuth().auth.sendEmailVerification();\n. 1. I think the functionality  is not implemented in the current angularfire2 version.\nPlease use  the function of firebase SDK 3.x.x directly.\n. \n",
    "jlsantos": "Please, can anyone tell me how to send reset password email? Thank you.\n. Thank you @davideast!\n. ",
    "alexdufetel": "Thanks, yep that's what I did. If this is a common issue should the doc me edited?\n. Thanks cre8, that solved the issue for me\n. ",
    "phmaes": "Could you please make a screenshot of the content of the directory YOUR_PROJECT/vendor/angularfire2 please? I think some files are missing there...\nI have the same issue... I tried the same things as you but unsuccessfully at the moment\n. I tried on another machine with quite the same environment as for my first try (no previous installation of angular-cli, existing installation of angular2, typescript, etc) and it's successful...\nThe only different thing I made compared to your procedure and to my previous try is to update npm itself.\nSo:\nif needed: npm uninstall -g angular-cli\nnpm cache clean\nnpm i -g npm\nnpm install -g angular-cli@latest\nnpm install -g typings\nthen I exactly followed the instructions here: https://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md\nng new test-project\ncd test-project\nnpm install angularfire2 firebase --save\nI got some warnings and unmet peer dependencies\ntypings install file:node_modules/angularfire2/firebase3.d.ts --save --global && typings install\nEnsure that these two entries are present in src/typings.d.ts\n\"files\": [\n  \"node_modules/angularfire2/firebase3.d.ts\",\n  \"typings/main.d.ts\"\n]\nsteps 4 to 10. And it works.\nDuring my previous try, I've noticed that the files in the folder YOUR_PROJECT/vendor/angularfire2 weren't the right ones. Maybe something not well extracted or some missing files leading to a compilation aborted somehow, or a missing dependency.\nHope that helps!\n. ",
    "jammey007": "ANYONE HAVE A SOLUTION TO FIX THIS ERRORS:\nERROR in src/app/app.module.ts(5,35): error TS2307: Cannot find module 'angular2-flash-messages/module'.\nsrc/app/app.module.ts(7,35): error TS2307: Cannot find module 'angularfire2'.\nsrc/app/app.module.ts(8,37): error TS2307: Cannot find module 'angularfire2/database'.\nsrc/app/app.module.ts(9,33): error TS2307: Cannot find module 'angularfire2/auth'.\nsrc/app/components/add-client/add-client.component.ts(2,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/components/client-details/client-details.component.ts(3,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/components/edit-client/edit-client.component.ts(3,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/components/login/login.component.ts(2,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/components/navbar/navbar.component.ts(2,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/components/register/register.component.ts(2,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/components/settings/settings.component.ts(4,38): error TS2307: Cannot find module 'angular2-flash-messages'.\nsrc/app/guards/auth.guard.ts(4,33): error TS2307: Cannot find module 'angularfire2/auth'.\nsrc/app/services/auth.service.ts(2,33): error TS2307: Cannot find module 'angularfire2/auth'.\nsrc/app/services/client.service.ts(2,87): error TS2307: Cannot find module 'angularfire2/database'.. ",
    "safados": "@lexcaraig your solutions works with me ,thanks. ",
    "murac": "fsevents is for mac i believe? get used to seeing these warnings all the time. nothing to be done.\n. @zibeeze he posted that lol.\n. ",
    "zibeeze": "See this comment.\n. It's not an extra key, it is the $key created from database.list.push()\nUse database.object (/users/${u}).update ({...}) to update the info for the user. \n. ",
    "dowsanjack": "@aguzubiaga I tried following your approach. And, here is what I did:\nIn my service: \n``\ngetbyid (id:string): Observable<any> {\n    let theme = this.af.database.object(themes/${id});\n    return theme.map((items) => {\n          for (let i = 0; i < items.menu.length; i++) {\n            items.menu[i] = this.af.database.object(foods/${items.menu[i]}`);\n          }\n      return items;\n  });\n\n}\n```\nand in my controller:\n```\nthis.route.params.subscribe(params => {\n      this.params = params;\n      this.themeDetail = this._themes.getbyid(this.params.id);\n    })\nthis.themeDetail\n  .subscribe((d) => { console.log(d) });\n\n```\nI get proper response in console. But my view is not updating.\nThis is how I've set up my view:\n<h2 class=\"kc-heading-title\">{{themeDetail.name | async}}</h2>\n<div class=\"col-xs-12 col-sm-6 col-md-3\" *ngFor=\"let food of menu | async\">\n  <h4 class=\"food-box-list-title\">{{food.name}}</h4>                 \n</div>\nAnd, I'm getting this in console response:\n\nThanks,\n. @aguzubiaga Thanks man. It worked.\n. ",
    "evkw": ".then(u => {\n        this.af.database.object(`/users/`).update(this.createUserData(u));\n        this.router.navigate(['/Profile', u.uid]);\n      })\nThat got it working, thanks!\n. ",
    "ericjim": "I had the same issue, I followed https://github.com/angular/angularfire2/issues/425, and added 'firebase' to my tsconfig.json file.\n1. make sure that you are in the lastest version of angular-cli-webpack\n2. update your app to rc5\n3. make sure you install typescript 2.0.0 npm install typescript@2.0.0 --save\n4. install angularfire with npm install angularfire2@next -- save\n5. add \"firebase\" to types array in tsconfig\n6. import in the module\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"jasmine\",\n      \"firebase\"\n    ]\n  }\n}\n. ",
    "harshavarun25": "@davideast I am having a similar problem can you please help me fix. I am like struggling because of this.\n[23:00:27]  typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\n            Module '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n            'AuthProviders'.\n   L3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n\n[23:00:27]  typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\n            Module '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n            'AuthMethods'.\n   L3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n\n[23:00:27]  typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\n            Module '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n            'AngularFire'.\n   L3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n\npackage.json\n\"name\": \"MyIonicProject\",\n  \"version\": \"0.0.1\",\n  \"author\": \"Ionic Framework\",\n  \"homepage\": \"http://ionicframework.com/\",\n  \"private\": true,\n  \"scripts\": {\n    \"clean\": \"ionic-app-scripts clean\",\n    \"build\": \"ionic-app-scripts build\",\n    \"lint\": \"ionic-app-scripts lint\",\n    \"ionic:build\": \"ionic-app-scripts build\",\n    \"ionic:serve\": \"ionic-app-scripts serve\"\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"4.1.0\",\n    \"@angular/compiler\": \"4.1.0\",\n    \"@angular/compiler-cli\": \"4.1.0\",\n    \"@angular/core\": \"4.1.0\",\n    \"@angular/forms\": \"4.1.0\",\n    \"@angular/http\": \"4.1.0\",\n    \"@angular/platform-browser\": \"4.1.0\",\n    \"@angular/platform-browser-dynamic\": \"4.1.0\",\n    \"@ionic-native/core\": \"3.7.0\",\n    \"@ionic-native/splash-screen\": \"3.7.0\",\n    \"@ionic-native/status-bar\": \"3.7.0\",\n    \"@ionic/storage\": \"2.0.1\",\n    \"angularfire2\": \"^4.0.0-rc.0\",\n    \"firebase\": \"^4.0.0\",\n    \"ionic-angular\": \"3.2.1\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.1.1\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.10\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"1.3.7\",\n    \"@ionic/cli-plugin-cordova\": \"1.1.2\",\n    \"@ionic/cli-plugin-ionic-angular\": \"1.1.2\",\n    \"angularfire2\": \"^4.0.0-rc.0\",\n    \"typescript\": \"2.2.1\"\n  },\n  \"description\": \"An Ionic project\"\n}\nThanks in advance. @davideast  I am having a similar problem can you please help me fix. I am like struggling because of this.\n[23:00:27] typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\nModule '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n'AuthProviders'.\nL3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n[23:00:27] typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\nModule '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n'AuthMethods'.\nL3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n[23:00:27] typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\nModule '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n'AngularFire'.\nL3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\npackage.json\n\"name\": \"MyIonicProject\",\n\"version\": \"0.0.1\",\n\"author\": \"Ionic Framework\",\n\"homepage\": \"http://ionicframework.com/\",\n\"private\": true,\n\"scripts\": {\n\"clean\": \"ionic-app-scripts clean\",\n\"build\": \"ionic-app-scripts build\",\n\"lint\": \"ionic-app-scripts lint\",\n\"ionic:build\": \"ionic-app-scripts build\",\n\"ionic:serve\": \"ionic-app-scripts serve\"\n},\n\"dependencies\": {\n\"@angular/common\": \"4.1.0\",\n\"@angular/compiler\": \"4.1.0\",\n\"@angular/compiler-cli\": \"4.1.0\",\n\"@angular/core\": \"4.1.0\",\n\"@angular/forms\": \"4.1.0\",\n\"@angular/http\": \"4.1.0\",\n\"@angular/platform-browser\": \"4.1.0\",\n\"@angular/platform-browser-dynamic\": \"4.1.0\",\n\"\": \"3.7.0\",\n\"\": \"3.7.0\",\n\"\": \"3.7.0\",\n\"\": \"2.0.1\",\n\"angularfire2\": \"^4.0.0-rc.0\",\n\"firebase\": \"^4.0.0\",\n\"ionic-angular\": \"3.2.1\",\n\"ionicons\": \"3.0.0\",\n\"rxjs\": \"5.1.1\",\n\"sw-toolbox\": \"3.6.0\",\n\"zone.js\": \"0.8.10\"\n},\n\"devDependencies\": {\n\"\": \"1.3.7\",\n\"\": \"1.1.2\",\n\"\": \"1.1.2\",\n\"angularfire2\": \"^4.0.0-rc.0\",\n\"typescript\": \"2.2.1\"\n},\n\"description\": \"An Ionic project\"\n}\nThanks in advance.  @davideast I am having a similar problem can you please help me fix. I am like struggling because of this.\n[23:00:27] typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\nModule '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n'AuthProviders'.\nL3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n[23:00:27] typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\nModule '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n'AuthMethods'.\nL3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\n[23:00:27] typescript: C:/Users/Harsha Varun/MyIonicProject/src/pages/third/third.ts, line: 4\nModule '\"C:/Users/Harsha Varun/MyIonicProject/node_modules/angularfire2/index\"' has no exported member\n'AngularFire'.\nL3:  import {FourthPage} from '../fourth/fourth';\n   L4:  import { AuthProviders, AuthMethods, AngularFire } from 'angularfire2';\npackage.json\n\"name\": \"MyIonicProject\",\n\"version\": \"0.0.1\",\n\"author\": \"Ionic Framework\",\n\"homepage\": \"http://ionicframework.com/\",\n\"private\": true,\n\"scripts\": {\n\"clean\": \"ionic-app-scripts clean\",\n\"build\": \"ionic-app-scripts build\",\n\"lint\": \"ionic-app-scripts lint\",\n\"ionic:build\": \"ionic-app-scripts build\",\n\"ionic:serve\": \"ionic-app-scripts serve\"\n},\n\"dependencies\": {\n\"@angular/common\": \"4.1.0\",\n\"@angular/compiler\": \"4.1.0\",\n\"@angular/compiler-cli\": \"4.1.0\",\n\"@angular/core\": \"4.1.0\",\n\"@angular/forms\": \"4.1.0\",\n\"@angular/http\": \"4.1.0\",\n\"@angular/platform-browser\": \"4.1.0\",\n\"@angular/platform-browser-dynamic\": \"4.1.0\",\n\"\": \"3.7.0\",\n\"\": \"3.7.0\",\n\"\": \"3.7.0\",\n\"\": \"2.0.1\",\n\"angularfire2\": \"^4.0.0-rc.0\",\n\"firebase\": \"^4.0.0\",\n\"ionic-angular\": \"3.2.1\",\n\"ionicons\": \"3.0.0\",\n\"rxjs\": \"5.1.1\",\n\"sw-toolbox\": \"3.6.0\",\n\"zone.js\": \"0.8.10\"\n},\n\"devDependencies\": {\n\"\": \"1.3.7\",\n\"\": \"1.1.2\",\n\"\": \"1.1.2\",\n\"angularfire2\": \"^4.0.0-rc.0\",\n\"typescript\": \"2.2.1\"\n},\n\"description\": \"An Ionic project\"\n}\nThanks in advance. ",
    "laralord": "Opened the pull request https://github.com/angular/angularfire2/pull/417\n. I signed it!\n. ",
    "logstown": "@katowulf I checked out your demo, and have made use of your solution, but thought I'd check in to see if there's a cleaner solution at this point.... ",
    "cerealexx": "I think he's asking if you're using the native Firebase Auth, Auth0, or your own...\n. How would you bind the returned object properties to a [(ngModel)] afterwards? \nThe documentation only shows how to use interpolation syntax such as {{(foo|async)?.bar}}\nThis part is driving me crazy...\nThx!\n. @cre8 Doesn't work for me...\n\nTypeError: Cannot read property 'title' of undefined\n\nComponent\n```\nexport class EditNewsComponent {\n  news: FirebaseObjectObservable;\n  values: any;\nconstructor(\n    private route: ActivatedRoute,\n    private af: AngularFire) { \n      this.news = af.database.object('news/'+this.route.snapshot.params['id'],{ preserveSnapshot: true });\n      this.news.subscribe(snapshot =>{\n        this.values = snapshot.val();\n        console.warn(this.values);\n      });\n    }\n```\nWarn prints the correct object, but somehow it's not available for the view...\n<input type=\"text\" #title [(ngModel)]=\"values.title\">\nThe weirdest part is that {{values | json}} prints the whole object correctly...\nAny clues?\nThx\n. It seems you can't do that...\n\nEXCEPTION: Error: Uncaught (in promise): Template parse errors: Parser Error: The '?.' operator cannot be used in the assignment at column 16 in [values?.title=$event]\n. The problem is that I'm going for a news editor. So whenever the user wants to edit some news, having inputs with <input value=\"{{(foo|async)?.bar}}\"> solves the issue because they still see the values that they are editing on initialization.\n\nBut, I'm also using ng2-ckeditor so the user can write html inside the news.content instead of a regular textarea. And... ng2-ckeditor overlooks the value attr and only takes a [(ngModel)] to correctly print the value of its content. So implementing this with AngularFire2 so far has been a living nightmare...\nCan you be more specific with the dummy object option? I'm also new to Angular 2...\nThx!\n. Oh god... It worked! Thanks!\n. Do I need to do anything else? .code is still not accepted by TS\n. This is the one that I have in my package.json:\n\"angularfire2\": \"^2.0.0-beta.3-pre2\",\nThis is the code. The line where I had to delete .code is commented. TS says \"Property 'code' does not exist on type 'Object'\"':\n```\nlet file = value.target.files[0];\nlet storageUrl = 'noticias/imagenes/';\nlet storageRef = firebase.storage().ref(storageUrl + file.name);\nlet uploadTask = storageRef.put(file);\nuploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED,\n      function(snapshot) {\n        let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        ...\n        switch (snapshot.state) {\n          case firebase.storage.TaskState.PAUSED:\n            ...\n            break;\n      case firebase.storage.TaskState.RUNNING:\n        ...\n        break;\n    }\n  }, function(error) {\n  switch (error) { // DELETED .CODE FROM ERROR.CODE\n    case 'storage/unauthorized':\n      ...\n      break;\n\n    case 'storage/canceled':\n      ...\n      break;\n\n    case 'storage/unknown':\n      ...\n      break;\n  }\n}, function() {\n  ...\n});\n\n``\n. Well, I deleted a lot of unnecessary code before posting it here. Maybe that's the problem. I also call everything fromimport * as firebase from 'firebase';if that helps. My method works perfectly and TS doesn't complain about anything if you just delete .code from the error switch.\n. My mistake leaving the err row... There's still a problem though. If I change the log forthis.values` it returns undefined. What I'm trying to do is write a success function that uses those values.\nthis.items = this.af.database.object( 'items' , {preserveSnapshot:true} );\nthis.itemsSub = this.items.take(1).subscribe(\n    snapshot =>{ this.values = snapshot.val(); },\n   (err) => console.log(err),\n   () => console.log('this.values')\n);\nThanks!\n. Found the solution by myself. It seems with the last upgrade you can just use Storage with AngularFire instead of duplicating imports. Deleting the wildcard import solves the problem.\n. I also had to add the same line for .take(1) but it worked. Thanks!\nSeems like a workaround to me though. Is it a problem with Angular or AngularFire? And if so, is it going to be fixed in the future?\n. I see, great explanation. Thanks!\n. @jamesdaniels I know this is not the place to ask AngularFire coding related stuff but I just want to know if this issue is related to my problem and if there is any workaround until you guys build an API for it. Thanks.. ",
    "harald": "This is a bug in some angularfire2 versions. I had the same problem.\nI updated to the latest beta and that fixed it.\nAdd \"angularfire2\": \"^2.0.0-beta.3-0930330\"\nto your package.json and run npm install\n. Thanks, cre8, that works.\nSo does my solution to remove the superfluous $key property in a map.\nHowever, the point remains:\nThe current behavior is counter-intuitive and requires an additional and superfluous step.\nWhen I call database.object I want the object and nothing else.\nI want the object in a state that I can change it and save it back.\nThat should be the default.\nIf I want additional snapshot info then - and only then - would I want to add the preserveSnapshot: true option.\n. Try this, cerealexx:\n<input type=\"text\" #title [(ngModel)]=\"values?.title\">\nThe elvis operator ('?') should fix your issue.\n. Ah, yes, I overlooked that you use two-way binding.\nEither avoid two-way binding altogether or assign a dummy object to value.\nThe issue is the asynchronous nature of the firebase call. The data arrives after the view has been initialized. Two-way binding also prevents you from using the async pipe.\nTwo-way binding is often more trouble than convenient.\n. When you declare values in your class, try this:\nvalues: any = {title: \"\"};\nThat should get it over the initial hurdle that values is undefined. The firebase data will arrive soon after, with little to no humanly detectable delay.\n. ",
    "Krummelz": "@davideast Just FYI; this issue that @cerealexx had, really should be added to your documentation. I ran into the same issue just trying to do a simple CRUD app - display a list of people with af.database.list(), tap a person's name and pass their $key to the next page, on that page grab the af.database.object() using the $key passed along, and bind the values to a form for editing - but it's evidently just not that simple. Thanks @harald for a solution.. ",
    "aashil": "I signed it. \n. ",
    "dangbh1002-org": "@davideast ,\nI got the errors, too (just error when i use RC5, not error in RC4).\n*In script:\nitems: FirebaseListObservable<any[]>;\n*In template:\n<div  *ngFor=\"let x of items | async\">\n...\n</div>\n*Errors in console:\nUnhandled Promise rejection: Template parse errors:\nThe pipe 'async' could not be found (\"...\n. ",
    "stefanaerts": "@davideast @matt-erhar @katowulf \nHello,\nMaybe this extra info can help:\nif you do this in your appcomponent \n-> this.item = af.database.object('/item', { preserveSnapshot: true });\n-> output in template {{ item | async |\u00a0json }}\nthen you get this error message:\n\nIf you use\n-> this.item = af.database.object('item');\nthen the output is correct:\n\nif you change the template to  \n{{ item | async  }}\n{{ (item | async)?.size }}\nyou get the size without the preserveSnapshot:\n\nbut you get no size value when you use the preserveSnapshot\n\nI hope this clarifies better the issue.\nKind Regards,\nStefan.\n. the difference depends on the module loader you use:\noption 1)if you have a src/system-config.ts file usign the angular-cli without webpack:\n-> then there is a mapping 'firebase': 'vendor/firebase/firebase.js\n     so you will not get the error unknown namespace firebase\n2) if you use the new angular-cli with webpack and no src/system-config.ts file\n    then you have to add to your app.module.ts file\n   -> import * as firebase from 'firebase';\n. ",
    "lfarroco": "@DMPS if you are on a hurry you can pull the repo from github instead of npm using \nnpm install git+https://github.com/angular/angularfire2.git\nAnd then import from the src folder:\nimport { AngularFireModule } from 'angularfire2/src/angularfire2';\n(worked for me)\n. My application is running fine, though I still have few reading and saving operations.\n. @RedFour You might try copying the firebase3.d.ts to your typings folder, or typings install firebase.\n. It looks like that the method has not been (yet) implemented in this object. If you want to perform a action just once you might try to unsubscribe in the first response:\n```\n    this.af.auth.subscribe( authData =>{\n   //do stuff\n\n    this.af.auth.unsubscribe();\n\n});\n\n```\n\n. ",
    "vladotesanovic": "@davideast \nI am getting this errors:\n[1] node_modules/angularfire2/auth/auth.d.ts(11,20): error TS1112: A class member cannot be declared optional.\n[1] node_modules/angularfire2/database/firebase_object_observable.d.ts(6,17): error TS1112: A class member cannot be declared optional.\n. @davideast Yes i see now in package.json \"typescript\": \"next\" it is good now :+1:\n. @mubasshir \n\"angularfire2\": \"^5.0.0-rc.3\",\n \"firebase\": \"4.4.0\",\nShould work. ",
    "RedFour": "I'm using the same angular-cli@webpack and still having the same issues after following the suggested solutions. I'm still getting the error of cannot find namespace 'firebase'.\nThese are the steps I took:\n1. npm install firebase angularfire2@next --save\n2. npm install typescript@2.0 --save-dev\npackage.json imgur link\nimport { AngularFireModule } from 'angularfire2';\nWhat am I missing?\n. I've tried both your suggestions and still get the same error of can't find firebase.\n. json\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"jasmine\"\n    ]\n  }\n}\n. like this?\njson\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"jasmine\",\n      \"firebase\"\n    ]\n  }\n}\n. I'm still getting the same errors.\n. here it is\n. C:\\GitHub\\hair-web>npm -g list\nC:\\Users\\yanda\\AppData\\Roaming\\npm\n-- (empty)\n. C:\\GitHub\\hair-web>npm install typescript@2.0 --save-dev\nhair-web@0.0.0 C:\\GitHub\\hair-web-- typescript@2.0.0\nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.14\nnpm WARN @angular/tsc-wrapped@0.2.2 requires a peer of typescript@^1.9.0-dev but none was installed.\nnpm WARN tsickle@0.1.6 requires a peer of typescript@^1.8.0 || ^1.9.0-dev but none was installed.\n. I ran typings install and it still didn't work.\nI created a brand new project just to see if I made any mistakes in the old project. Here are my steps:\n1. ng new af-test\n2. cd af-test\n3. npm install -g typings \n4. npm install firebase angularfire2@next --save\n5. *skipped steps 3-6 of the Installation and Setup guide, since I'm using the angular-cli@webpack version\n6. bootstrapped to app.module.ts\n7. ng build\nand I get the \"Cannot find namespace 'firebase' errors.\nAm I missing steps? Or did it fail because I didn't do certain things in the install guide?\nI'm pretty sure I did things correctly since my service that depends on AngularFire2 still works in my old project. I can read/edit/delete fine. I just get a lot of these Cannot find namespace 'firebase' errors on every build.\n. I ran npm install typescript@2.0.0 --save and got the following?\nc:\\GitHub\\af-test>npm install typescript@2.0.0 --save\naf-test@0.0.0 c:\\GitHub\\af-test\n`-- UNMET PEER DEPENDENCY typescript@2.0.0                                                                                                                                                                                                                                               \nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.14\nnpm WARN @angular/tsc-wrapped@0.2.2 requires a peer of typescript@^1.9.0-dev but none was installed.\nnpm WARN tsickle@0.1.6 requires a peer of typescript@^1.8.0 || ^1.9.0-dev but none was installed.\nnpm ERR! code 1\nis that normal?\nI also added firebase to tsconfig.json. When I do typings install, it says typings.json is missing. I'm still getting the same errors.\nMaybe it is a Windows/iOS issue. I'm going try your steps again tonight when I get a hold of a mac. \n. It's looking to be Windows/iOS related. I did all the steps to create a new project on a Mac. It gave the \"namespace firebase\" error until I added \"firebase\" to the tsconfig.json file. So version on Mac works, while the same version on my PC doesn't. I've made sure both the versions of dependencies are the same: firebase:3.30, typescript:2.0, angular-cli:1.0.0-beta.11-webpack.2, angularfire2:2.0.0-beta.3-pre2.\nCan other people chime in whether they are experiencing this issue on a Mac or PC?\n. @thehashrocket you need to set firebaseConfig before NgModule.\njson\nconst firebaseConfig = {\n  apiKey: \"<your-key>\",\n  authDomain: \"<your-project-authdomain>\",\n  databaseURL: \"<your-database-URL>\",\n  storageBucket: \"<your-storage-bucket>\"\n}\nangularfire2 install and setup\nYou don't need firebaseAuthConfig necessarily.\nBtw, are you using a Mac or PC?\n. #431 I guess I didn't try all the available solutions. yashmurty pointed out, in the other thread, that I should try import firebase into my app.module\nimport * as firebase from 'firebase';\nAnd that fixed the issue for me.\n. @danielgek and @yashmurty, could you explain what exactly you did that got rid of the \"Cannot find namespace 'firebase'\" issue? I've read and tried all the suggestions in this and the other thread, and still getting the issue.\n. @yashmurty Thanks, this got rid of the errors for me!\n. ",
    "migueldiganchi": "hey @danielgek, I am having the same error, but I am on Ubuntu 16.04. If you get the solution, can you post it on this room https://gitter.im/angular/angularfire2? I will do the same if I get the solution. \n. Hey @danielgek. I followed your steps and everything was ok! \nThank you very much! \nAnd thanks to @RedFour and @thehashrocket too! Your comments was very helpful for me\n. ",
    "yashmurty": "I'm glad it worked for you @RedFour.\nThe other solution is to import firebase in your app.module.ts file.\nimport * as firebase from 'firebase';\n. @davideast, I've been trying to get AngularFire2 to work since yesterday by following the steps mentioned. But I'm just not able to finish STEP 1 : Installation and Setup. Something or the other keeps breaking. \nStep 1 : \nUsed ng new angular-af2 to create a new project using the Angular CLI webpack version angular-cli: 1.0.0-beta.11-webpack.2 ( I had to use RC5 because RC4 didn't have BrowserModule in angular core if I remember correctly)\nIt works fine and I'm able to do ng serve\nStep 2 : \nnpm install firebase angularfire2 --save fails due to unmet peer dependency. \nSo I run npm install firebase angularfire2@next --save. This solves all the angular dependency issues but leaves me with Typescript issue. \n\nManually changing it in the package.json doesn't yield any good results. Here is the screenshot of what happens by changing it to 1.8.0 or 1.9.0-dev.\n\nStep 3 :\nIf I were to ignore these errors and move on to \ntypings install file:node_modules/angularfire2/firebase3.d.ts --save --global && typings install\nThis also fails since there is no firebase3.d.ts file present. ( And as you mentioned above, we don't need this file anymore.)\nSo skipping all the steps, if I directly add\nimport { AngularFireModule } from 'angularfire2'; in my app.module.ts and do ng serve I get the following series of errors. \nERROR in [default] /var/www/webops/angular-af2/node_modules/angularfire2/angularfire2.d.ts:13:65 \nCannot find namespace 'firebase'.\nSo finally what should I do to get my setup running with RC5? \nYour help will be appreciated! :)\n. @danielgek Thank you very much. It fixed my problem Cannot find namespace 'firebase'.\n@davideast I successfully executed the typescript 2.0 installation. I no longer receive the UNMET PEER DEPENDENCY issue. I just get some warnings on running npm install from project root. \nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.14\nnpm WARN @angular/tsc-wrapped@0.2.2 requires a peer of typescript@^1.9.0-dev but none was installed.\nnpm WARN tsickle@0.1.6 requires a peer of typescript@^1.8.0 || ^1.9.0-dev but none was installed.\nBut I think I can ignore that? Also, even with the Cannot find namespace 'firebase'. issue, I was still able to run the AngularFire functions from angularfire2 as given in the examples. Which is surprising because I thought it depended on Firebase and would break. \n. @RedFour, I read you comments on the thread #425. Apparently it's a Windows OS problem? \nApart from the solution of adding firebase to the types array of tsconfig.json, you could try importing Firebase in your app.module.ts file by typing this.\nimport * as firebase from 'firebase';\n. Borke : Broken in a sudden, unexpected manner at a critical time.\nIt's launch day and the webserver's fuc*in BORKE\nVery punny! :smiling_imp: \n. @hllink, even I am facing this issue. \nAfter spending quite a lot of time, I found a hack for it.\nAdd these to your code.\n``` ts\nimport { AngularFire, AuthProviders } from 'angularfire2';\nimport { AuthBackend } from 'angularfire2/auth/auth_backend';\nexport class SocialmenuComponent {\n    constructor(public af: AngularFire, private _authBackend: AuthBackend) {\n        // this.af.auth.subscribe(\n        this._authBackend.getRedirectResult().subscribe(\n            (auth) => {\n                if(auth) {\n                  console.log(auth);\n                } else {\n                  console.log('User Not Logged In');\n                }\n            },\n            (err) => {\n                if(err) {\n                  console.log('Error in auth.subscribe : ');\n                  console.log(err);\n                } else {\n                  console.log('No Error detected in auth.subscribe');\n                }\n            },\n            () => { console.log('done.') }\n        );\n    }\n}\n```\nIdeally the af.auth.subscribe should give out the error. Maybe it's a bug.\n@jeffbcross I found this getRedirectResult() from one of your previous commits while fixing #271 \n. @nydal91, what's the issue here?\n. @youpage, isn't auth in authState.auth.displayName that general object that you are requesting for? The auth object is provider independent and has all properties like displayName, photoURL, etc.\n. @katowulf How do I generate the Docs hosted at AngularFire2 Website?\nRunning npm run docs gives me the following error : \n```\nnpm ERR! Linux 3.13.0-24-generic\nnpm ERR! argv \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"run\" \"docs\"\nnpm ERR! node v4.5.0\nnpm ERR! npm  v3.10.7\nnpm ERR! missing script: docs\nnpm ERR! \nnpm ERR! If you need help, you may report this error at:\nnpm ERR!     https://github.com/npm/npm/issues\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /var/www/webops/angularfire2/npm-debug.log\n```\n. Thanks @davideast. Looking forward to contributing on the docs as they seem a little outdated. \nI read somewhere that I need to request to be added as a contributor to the docs. \nAre there steps I need to follow?\nThanks :)\n. ",
    "vdatsko": "@RedFour hi. Have you the same problem?\n\n. ",
    "jersonjcnt": "@bloodypastor \nimport {  ... } from 'angularfire2/database-deprecated';\nor \nnpm install angularfire2@next -- save. ",
    "deepu105045": "I am getting same error as @bloodypastor . ",
    "sarojrout": "How to initialize firebase config with angularfire2 version 5 which is \"angularfire2\": \"^5.0.0-rc.4\"\nCurrently am using like this AngularFireModule.initializeApp(firebaseConfig)\nafter importing AngularFireModule from angularfire2.\n am getting the error as Cannot find name 'AngularFireModule'. But when i look at the library angularfire2.d.ts, the class(AngularFireModule) is already exported there . hey @nueko and @davideast, still its not gonna work. i am also facing the same issue. I am just following the documentation https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md. And here is the sample app.module.ts and app.component.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { AngularFireModule } from 'angularfire2';\nimport { environment } from '../environments/environment';\n@NgModule({ \n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n   AngularFireModule.initializeApp(environment.firebase)\n],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\nAnd my app.component.ts is as below\nimport { Component } from '@angular/core';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\n@Component({\n  selector: 'app-root',\n  template: <ul>\n    <li *ngFor=\"let message of messages | async\">\n       {{ message | json }}\n    </li>\n  </ul>,\n})\nexport class AppComponent {\n  items: Observable;\n  constructor(db: AngularFireDatabase) {\n    this.items = db.list('messages').valueChanges();\n  }\n}\nAnd am getting the below error\nRNING in ./~/angularfire2/firebase.app.module.js\n3:40-54 \"export 'InjectionToken' was not found in '@angular/core'\nWARNING in ./~/angularfire2/angularfire2.js\n4:26-40 \"export 'InjectionToken' was not found in '@angular/core'\nERROR in /Users/sarojkumar/demo_angular/SampleChat/node_modules/firebase/app/index.d.ts (167,9): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SampleChat/node_modules/firebase/app/index.d.ts (174,9): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SampleChat/node_modules/firebase/app/index.d.ts (570,9): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SampleChat/node_modules/firebase/app/index.d.ts (1587,5): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SampleChat/node_modules/angularfire2/firebase.app.module.d.ts (1,10): Module '\"/Users/sarojkumar/demo_angular/SampleChat/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nERROR in /Users/sarojkumar/demo_angular/SampleChat/node_modules/angularfire2/angularfire2.d.ts (2,10): Module '\"/Users/sarojkumar/demo_angular/SampleChat/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nERROR in /Users/srout/demo_angular/SampleChat/node_modules/angularfire2/database/interfaces.d.ts (19,18): Cannot find name 'Partial'.. Hi @davideast,  @nueko  , I see your reply on the issue #1417. But i am still seeing the issue. can you please let me know the resolution for this?\nI juts follow this steps given here https://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md\nAnd here is my github project for your reference: https://github.com/sarojrout/SocialChat. @nueko, am still getting the issue after merging your changes in the app.module.ts by adding AngularFirestoreModule\nhunk    {0} polyfills.bundle.js, polyfills.bundle.map (polyfills) 234 kB {4} [initial]\nchunk    {1} main.bundle.js, main.bundle.map (main) 4.65 kB {3} [initial] [rendered]\nchunk    {2} styles.bundle.js, styles.bundle.map (styles) 9.71 kB {4} [initial]\nchunk    {3} vendor.bundle.js, vendor.bundle.map (vendor) 3.24 MB [initial]\nchunk    {4} inline.bundle.js, inline.bundle.map (inline) 0 bytes [entry]\nWARNING in ./~/angularfire2/firebase.app.module.js\n3:40-54 \"export 'InjectionToken' was not found in '@angular/core'\nWARNING in ./~/angularfire2/angularfire2.js\n4:26-40 \"export 'InjectionToken' was not found in '@angular/core'\nWARNING in ./~/angularfire2/firestore/firestore.module.js\n4:40-54 \"export 'InjectionToken' was not found in '@angular/core'\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/firebase/app/index.d.ts (167,9): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/firebase/app/index.d.ts (174,9): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/firebase/app/index.d.ts (570,9): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/firebase/app/index.d.ts (1587,5): Type expected.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/angularfire2/firebase.app.module.d.ts (1,10): Module '\"/Users/sarojkumar/demo_angular/SocialChat/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/angularfire2/angularfire2.d.ts (2,10): Module '\"/Users/sarojkumar/demo_angular/SocialChat/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/angularfire2/firestore/document/document.d.ts (11,18): Cannot find name 'Partial'.\nERROR in /Users/sarojkumar/demo_angular/SocialChat/node_modules/angularfire2/firestore/firestore.module.d.ts (1,10): Module '\"/Users/sarojkumar/demo_angular/SocialChat/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nwebpack: Failed to compile.. ",
    "bbmattieu9": "webpack: Failed to compile.\nwebpack: Compiling...\n 90% chunk assets processingERROR in src/app/auth.service.ts(2,10): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/angularfire2\"' has no exported member 'AngularFireAuth'.\nsrc/app/email/email.component.ts(2,10): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AngularFire'.\nsrc/app/email/email.component.ts(2,23): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthProviders'.\nsrc/app/email/email.component.ts(2,38): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthMethods'.\nsrc/app/login/login.component.ts(2,10): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AngularFire'.\nsrc/app/login/login.component.ts(2,23): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthProviders'.\nsrc/app/login/login.component.ts(2,38): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthMethods'.\nsrc/app/members/members.component.ts(2,10): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AngularFire'.\nsrc/app/members/members.component.ts(2,23): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthProviders'.\nsrc/app/members/members.component.ts(2,38): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthMethods'.\nsrc/app/signup/signup.component.ts(2,10): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AngularFire'.\nsrc/app/signup/signup.component.ts(2,23): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthProviders'.\nsrc/app/signup/signup.component.ts(2,38): error TS2305: Module '\"/Users/evendor/Desktop/Apps/angularApps/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthMethods'.. \n. Im new to angular, firebase. I do not know the right thing to do. Kindly suggest how to debug. Thanks. @samcfinan thanks. i did import the line and followed the example on the github link but its still the same thing. I do not understand what i did wrong. I'm missing some other part of the flow. ",
    "samcfinan": "angularfire2 splits its functionality into subfolders. \nimport { AngularFireAuth } from 'angularfire2/auth';\nCheck out the angularfire2 docs on authentication: https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md. Hi there,\nI'm using RC6 from @next. Here's how I built my upload service:\n`import { AngularFireStorage, AngularFireStorageReference, AngularFireUploadTask } from 'angularfire2/storage';\n@Injectable()\nexport class UploadService {\nconstructor(private afStorage: AngularFireStorage) { }\npushUpload(upload: Upload) {\n    const storageRef: AngularFireStorageReference = this.afStorage\n      .ref(/uploads/${upload.name});\nreturn storageRef.put(upload.file);\n\n}\n}\n`. ",
    "hamza-imran": "I get this error while working on my project \nModule '\"d:/Tutorials/Angular 5/Work/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AngularFire'.\nModule '\"d:/Tutorials/Angular 5/Work/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthProviders'.\nModule '\"d:/Tutorials/Angular 5/Work/myauthapp/node_modules/angularfire2/index\"' has no exported member 'AuthMethods'.. Can someone help me to find out the solution??\n. What I have to write to install angularfire2@next\n. ",
    "rajjerry": "If I want to use firebase for below rules {\n  \"rules\": {\n    \".read\": \"auth != null\",\n    \".write\": \"auth != null\"\n  }\n}   than which version I use ?\n. ",
    "amity203": "There is no such thing and no straight answer to this, look below two links, may be you get your answer:\nhttp://stackoverflow.com/questions/28589092/firebase-query-find-item-with-child-that-contains-string\nhttp://stackoverflow.com/questions/22506531/how-to-perform-sql-like-operation-on-firebase\n. Yes you can use all your programming skills to manipulate data once you get from firebase. Also, as per me structuring data in firebase is foremost key to get an effective solution if you think that data will grow with time in significant way. \n. You can config something like: \nfirebaseAuthConfig({\n  provider: AuthProviders.Facebook,\n  method: AuthMethods.OAuthToken,\n  remember: 'default',\n  scope: ['email','id','name','picture']\n})\nYou can change whatever method your are using popup or redirects etc.\nThese scope values you can choose from facebook login api options based on what all values you want to pull from Facebook: https://developers.facebook.com/docs/facebook-login/permissions\nHope this helps!!\n. @joyceview Surely, I will try to find out some time this week or may be weekend to prepare an example of that.\n. You can use like below to get details in ts file:\nconstructor( public af: AngularFire) {\n}\n    this.af.auth.subscribe(user => {\n      if(user) {\n        // user logged in\n        this.user = user;\n      }\n      else {\n        // user not logged in\n        this.user = {};\n      }\n    });\nAlso you can fetch other as well, see this example for facebook authentication: https://github.com/aaronksaunders/basicaf2\nrest i will also make an Ionic 2 and angularfire2 example soon\n. ",
    "tiokadams20": "you can try this in:\nquery: {\n                orderByChild: 'merchantName', //your field name of realtime database\n                // equalTo: this.gettermconvar,\n                startAt: this.gettermconvar, //var of onclick \n                endAt: this.gettermconvar+\"\\uf8ff\"\n        }.\n",
    "dbvt10": "don't forget\n$ typings install file:node_modules/angularfire2/firebase3.d.ts --save --global && typings install\nAngularfire2/Installation and Setup\n. ",
    "robbatt": "@yashmurty Same problem on win10, this solved it, Thanks! You should add this to the docs! Entries in tsconfig.json and typings.d.ts were without effect in my case.\n. ",
    "dovk": "I understand that auth.login became auth.signInWithEmailAndPassword and so on - what does .auth.subscribe(user =>  become, it won't accept subscribe. Could someone from the Ionic or AngularFire team please show some direction - perhaps publish the package.json that has been verified to work with the latest versions of AngularFire2+Ionic2. If this could be done every time you put out a new version, it would save so many people so much time and pain. I have spent the past week trying to move to Ionic 2.2, the email authentication stopped working on Android.\nWhat is wrong with this ?\n\"dependencies\": {\n    \"@angular/common\": \"2.4.8\",\n    \"@angular/compiler\": \"2.4.8\",\n    \"@angular/compiler-cli\": \"2.4.8\",\n    \"@angular/core\": \"2.4.8\",\n    \"@angular/forms\": \"2.4.8\",\n    \"@angular/http\": \"2.4.8\",\n    \"@angular/platform-browser\": \"2.4.8\",\n    \"@angular/platform-browser-dynamic\": \"2.4.8\",\n    \"@angular/platform-server\": \"2.4.8\",\n    \"@ionic-native/core\": \"3.1.0\",\n    \"@ionic-native/splash-screen\": \"3.1.0\",\n    \"@ionic-native/status-bar\": \"3.1.0\",\n    \"@ionic/storage\": \"2.0.0\",\n    \"angularfire2\": \"^2.0.0-beta.8\",\n    \"firebase\": \"3.7.3\",\n    \"ionic-angular\": \"2.3.0\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.0.1\",\n    \"sw-toolbox\": \"3.4.0\",\n    \"zone.js\": \"0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"1.2.2\",\n    \"typescript\": \"~2.2.1\"\n  },\n  \"cordovaPlugins\": [\n    \"cordova-plugin-whitelist\",\n    \"cordova-plugin-console\",\n    \"cordova-plugin-device\",\n    \"cordova-plugin-statusbar\",\n    \"cordova-plugin-splashscreen\",\n    \"ionic-plugin-keyboard\"\n  ],\n(I also tried the different firebase version like 3.6.1...). Of all of the suggestions above, the one thing that worked eventually was using \"firebase\": \"3.3.0\" instead of \"firebase\": \"3.7.3\" in package.json (enclosed a few posts before). \nI'm using a very basic login based on an example from Jorge Vergara \nhttps://javebratt.com/angularfire2-authentication-ionic/\nI just wanted to use simple email/password login for now - I hope adding Facebook and others will eventually work as well. \nToo bad this is the current situation - Good Luck to us all!. I have meanwhile moved up to Ionic3/Angular4 and all is well except for having to keep Firebase\nat 3.3.0 (I tried Firebase@3.4.0 as mentioned above but it did not work).\nYou can see my package.json here https://github.com/dovk/ionic3-calendar\n(and if anyone is looking for a simple Calendar/Datepicker - feel free to use it). At some point later on I moved most versions up to latest and tried again and it now works. \nHere are the relevant entries in my package.json\n\"angularfire2\": \"4.0.0-rc.1\",\n\"firebase\": \"4.1.3\",\n. Can you show the code you added regarding the network plugin and where you added it? I want to check it makes things more stable. Thanks. Our issue was that after creating a new Ionic app, the email address was coming back NULL after logging in from the Popup window, even though we were still getting the email back when logging in from our first app. What worked for us was adjusting the signInWithPopup based on what had been done for the GooglePlus login - so instead of the one line under the else\nloginFaceBook() {\n\u00a0\u00a0\u00a0 if (this.platform.is('cordova')) {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return this.fb.login(['email', 'public_profile']).then(res => {\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0const cred = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0return firebase.auth().signInWithCredential(cred)   \n\u00a0\u00a0\u00a0} )\n} else {\n\u00a0\u00a0\u00a0 return this.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider())\n\u00a0\u00a0\u00a0} }\nwe changed it to - \n\u00a0\u00a0\u00a0 const provider = new firebase.auth.FacebookAuthProvider();\n\u00a0\u00a0\u00a0provider.addScope('email');\n\u00a0\u00a0\u00a0return this.afAuth.auth.signInWithPopup(provider)\nI hope this will help someone.. After a 2 day struggle it seems the problem in our case was having to adjust to AngularFire's modular split. See https://github.com/angular/angularfire2/issues/854 and https://github.com/angular/angularfire2/blob/master/docs/Auth-with-Ionic3-Angular4.md \nAfter a few more hours it finally got back to working. \nAs you will see in the links, these are some of things you may have to do: \n1. Firebase database access - in app.module.ts add  import {AngularFireDatabaseModule} from 'angularfire2/database' and add import * as firebase from 'firebase/app'\n(as well as keeping  import {AngularFireModule} from 'angularfire2')\n2. Firebase Authentication - in app.module.ts remove import {AuthProviders, AuthMethods} from 'angularfire2' and replace with import { AngularFireAuthModule } from 'angularfire2/auth'\n3. In app.module.ts place under  imports: [\n     AngularFireModule.initializeApp(Config),\n     AngularFireDatabaseModule,\n     AngularFireAuthModule...\n4. In components and services, replace import {AngularFire} from 'angularfire2' \nwith import { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database'\nIn the constructor you will now have something like public afdb: AngularFireDatabase and when getting data you will change it to this.afdb.list instead of this.af.database.list\n5. For authentication it is similiar - replace import {AngularFire} from 'angularfire2' with \nimport {AngularFireAuth} from 'angularfire2/auth' and add import * as firebase from 'firebase/app'\n6. For example, instead of something like\n        login(newEmail: string, newPassword: string): firebase.Promise {\n         return this.af.auth.login({ email: newEmail,password: newPassword })\nyou now do \n        login(newEmail: string, newPassword: string): firebase.Promise {\n        return this.afAuth.auth.signInWithEmailAndPassword(newEmail,newPassword),\nAnd other things like logout is now signOut and so on... \nIt's all in the 2 links. Good luck!. I got the same thing after installing latest 4.1.1. ",
    "lawipac": "during  npm install, there were warnings similar to https://github.com/angular/angularfire2/issues/325\nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.14\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\nnpm WARN tslint@3.11.0 requires a peer of typescript@>=1.7.3 but none was installed.\n. ",
    "locohost": "@davideast 13 days ago you were \"updating them today\". Today 8/27 On Windows 8.1, latest Node and latest npm, I'm getting these same warnings...\nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.14\nnpm WARN angularfire2@2.0.0-beta.3-pre2 requires a peer of @angular/common@^2.0.0-rc.5 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.3-pre2 requires a peer of @angular/compiler@^2.0.0-rc.5 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.3-pre2 requires a peer of @angular/core@^2.0.0-rc.5 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.3-pre2 requires a peer of @angular/platform-browser@^2.0.0-rc.5 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.3-pre2 requires a peer of @angular/platform-browser-dynamic@^2.0.0-rc.5 but none was in\nstalled.\nWhat does this mean and how can I fix. Thanks for any help :-)\n. @davideast Thanks for the reply, I greatly appreciate your help. I worked on this for many, many hours on Saturday with not much luck. \nToday: \nI did npm cache clean, I deleted my node_modules folder, edited the package.json as per your suggestion above. \nHere is my package.json dependancies section...\n\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.5\",\n    \"@angular/compiler\": \"2.0.0-rc.5\",\n    \"@angular/core\": \"2.0.0-rc.5\",\n    \"@angular/forms\": \"0.2.0\",\n    \"@angular/http\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser\": \"2.0.0-rc.5\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.5\",\n    \"angularfire2\": \"^2.0.0-beta.2\",\n    \"es6-shim\": \"0.35.1\",\n    \"firebase\": \"^3.3.0\",\n    \"ionic-angular\": \"2.0.0-beta.11\",\n    \"ionic-native\": \"1.3.10\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"0.1.8\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"0.6.12\"\n  },\nI get this after npm install...\nnpm WARN optional Skipping failed optional dependency /chokidar/fsevents:\nnpm WARN notsup Not compatible with your operating system or architecture: fsevents@1.0.14\nnpm WARN ionic-angular@2.0.0-beta.11 requires a peer of @angular/common@2.0.0-rc.4 but none was installed.\nnpm WARN ionic-angular@2.0.0-beta.11 requires a peer of @angular/compiler@2.0.0-rc.4 but none was installed.\nnpm WARN ionic-angular@2.0.0-beta.11 requires a peer of @angular/core@2.0.0-rc.4 but none was installed.\nnpm WARN ionic-angular@2.0.0-beta.11 requires a peer of @angular/http@2.0.0-rc.4 but none was installed.\nnpm WARN ionic-angular@2.0.0-beta.11 requires a peer of @angular/platform-browser@2.0.0-rc.4 but none was installed.\nnpm WARN ionic-angular@2.0.0-beta.11 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.4 but none was instal\nled.\n. ",
    "dan-davidson-ps": "@davideast I know you're very busy, but any idea when AngularFire2 will be updated to support rxjs@5.0.0-beta.11?\n\nangularfire2@2.0.0-beta.4 requires a peer of rxjs@5.0.0-beta.6 but none was installed.\n. Reading back through the comments, I can see I'm not the first person to ask about this.\nChill out, man... it'll be ready soon enough..  ;-)\n. \n",
    "zefrench": "Thanks David. You save my time !!\n. ",
    "mikeybyker": "@davideast\nIs the multi-path update working as expected? I figured it wasn't - it is not updating, it is setting - but I just saw your comment:\n\n\"It really just calls set anyways.\"\n\nSo maybe that is the intention with multi-path? To me the name implies it should be an update rather than a set operation...\neg. if I start off with firebase data of: \ntest/objectA: {a:1, b:2, c: 3, d: 4, e:5}\ntest/objectB: {w:1, x:2, y: 3, z: 4}\njavascript\n  constructor(af: AngularFire) {\n    let update = {};\n    update['test/objectA'] = {a:10, e:50};\n    update['test/objectB'] = {x:20};\n    af.database.object('').update(update);\n  }\nThen I end up with:\ntest/objectA: {a:10, e:50}\ntest/objectB: {x:20}\nrather than the expected (if it was an update)\ntest/objectA: {a:10, b:2, c: 3, d: 4, e:50}\ntest/objectB: {w:1, x:20, y: 3, z: 4}\n. @robodair for me, using update still doesn't work as I had in my example:\njavascript\n  constructor(af: AngularFire) {\n    let update = {};\n    update['test/objectA'] = {a:10, e:50};\n    update['test/objectB'] = {x:20};\n    af.database.object('').update(update);\n  }\nThat does a set operation - or at least, overwrites the entire object. Any values in the fb database (eg. objectA.b, objectA.c, objectA.d) not specified in the update object are deleted. Which is a shame - lost a lot of data finding that out!\nHowever, a way round it, and maybe how it is meant to work here, is to go further down the path, so to speak:\njavascript\n  constructor(af: AngularFire) {\n    let update = {};\n    update['test/objectA/a'] = 10;\n    update['test/objectA/e'] = 50;\n    update['test/objectB/x'] = 20;\n    af.database.object('').update(update);\n  }\nSo update['test/objectA/a'] = 10 rather than update['test/objectA'] = {a:10};\nThat way, the other values remain intact. Perhaps not quite what your issue was, but maybe helpful to someone trying to update this way.\n. ...although if you look at how firebase themselves say it should work it doesn't appear to be working the same way...\n\nUsing the pre-existing atomic update support, we can change the user's age and add a city without updating their name\n\njavascript\n    {\n      \"user\": {\n        \"name\": \"Samantha\",\n        \"age\": 25\n      }\n    }\njavascript\n    var userRef = ref.child(\"user\");\n    var newUserData = {\n      \"age\": 30,\n      \"city\": \"Provo, UT\"\n    };\n    ref.child(\"user\").update(newUserData);\nSo, still not sure if an angularfire bug or not...Maybe @davideast could say?\n. @robodair\nCheers - I did try that, and still no go - it still sets the data rather than updates it.\nNormal (single) updates work fine - i.e.\njavascript\nthis.af.database.object('test/objectA').update({ a: 99 });\nUpdates 'a' and leaves b,c,d,e alone.\nHave a look: https://mikeybyker.github.io/multi-location-updates/\nOr maybe download: https://github.com/mikeybyker/multi-location-updates\n. No problem :-) Yep, a bit confusing is right!\n. @wceolin - it does perform a set() yup.  To me it would be a bug, and it doesn't fit with what firebase have said about how it should work (see quote & link above) - but the description used by @davideast at the top of this issue (\"It really just calls set anyways.\") sounds like they don't think it is... Which doesn't help much - sorry!\n. Have you tried with angularfire2 beta.5-preview? I was getting similar yesterday with beta.4, seems OK with beta 5 to me...\n. With: npm install angularfire2@2.0.0-beta.5-preview\n. Crossed post :-) \nSo it didn't work? Hmm, all is OK with auth here - I'm using google as the provider and rather than Redirects I'm on AuthMethods.Popup - perhaps the difference?\n. Hi,\nAs \"this.users\" will get its data asynchronously from firebase, you're likely trying to iterate before the data is actually there. Depending on what you are trying to do, to iterate over the data in your code, you can add the option\njavascript\npreserveSnapshot: true\nto your call, and subscribe to it...\neg.\njavascript\nthis.af.database.list('/users', { preserveSnapshot: true})\n    .subscribe(snapshots=>{\n        snapshots.forEach(snapshot => {\n          console.log(snapshot.key, snapshot.val());\n        });\n    })\nIf it is just in the template you want to show the data, you can do away with preserveSnapshot and just add the async pipe to the template\njavascript\n<li *ngFor=\"let user of users | async\">\n    {{ user.name }}\n</li>\nNot figured out how/if you can do both from a single call - like have the template bound to the property and also be able to extract the data yourself. Be nice if you could...\n. Hi, it's maybe something for stack overflow etc. rather than an issue on angularfire....\nBut as mentioned, it is .subscribe you want to look at - you subscribe to the data coming in, so once there's a response, you have the data and can do what you want with it.\nFrom your service, just return the FirebaseListObservable to your component.\n// eg. In your service\njavascript\ngetUsers(){\n    return this.af.database.list('/users');\n}\n// In your component\n``` javascript\nconstructor(private _service: YourService) {\nservice.getUsers()\n    .subscribe(users=>{\n        // do something...\n    })\n}\n```\n. I had similar when trying to serve a project created with a previous version of angular cli... Try deleting node modules folder and npm install again.\n. ",
    "robodair": "@mikeybyker @davideast I'm experiencing the same thing. Perhaps Firebase 3 doesn't support this?\nWhen I run this and actually allow the write in my database rules\n``` typescript\n        // Create an object representing our complete changes\n        let databaseUpdate = {\n            // Add the company change to the update\n            companies: company,          // company object is defined elsewhere\n            users: {}\n        };\n    // Build the user object\n    let userCompanies = {};\n    userCompanies[companyKey] = employeeKey;\n\n    let user = {\n        companies: userCompanies\n    };\n\n    // Add the user object to the database tree at the user id's location\n    databaseUpdate.users[this.auth.auth.uid] = user;\n\n    return this.af.database.object('').update(databaseUpdate);\n\n```\nIt just replaces the whole database\n. I thought I'd tried everything - thanks @expleosoftware! I don't know how I missed that.\n. @mikeybyker \ntry\ntypescript\n  constructor(af: AngularFire) {\n    let update = {};\n    update['test/objectA'] = {a:10, e:50};\n    update['test/objectB'] = {x:20};\n    af.database.object('/').update(update);\n  }\nthe / in \ntypescript\naf.database.object('/').update(update);\nis what made it work for me\n. @mikeybyker you're right. This is hella confusing. It just so happens that for my application there's nothing that exists at said locations so I didn't notice.\nThanks for the test repo, I made a fork and submitted a pull request with explanations.\nBasically update() performs a set() on every immediate child of the update object, no more. Reading the docs after this realisation it all seems clear. Before however, it wasn't. Very confusing.\n. My guess is that it would be too expensive of an operation on the firebase\nend if you were updating a big tree.\nOn Wed., 16 Nov. 2016 at 06:25, Will Ceolin notifications@github.com\nwrote:\n\n@davideast https://github.com/davideast is there a technical limitation\nfor updating the first level only and not the whole tree? Or is it just a\ndesign choice?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/435#issuecomment-260740314,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AH7tF0_beVUTheTkWDtYOdYYTr4ueGUJks5q-gcUgaJpZM4Jkfp1\n.\n. \n",
    "expleosoftware": "Works for me. \n@robodair - Did you try to do it from the root ('/')?\nreturn this.af.database.object('/').update(databaseUpdate);\n. ",
    "rubenheymans": "how do you do this in angularfire2 4.0?. ",
    "Unkn0wn0x": "I hope my solution could be useful for someone:\n```\n/ define first path */\nvar updateUserPath = '/users/' + firebase.auth().currentUser.uid + '/';\n/ some data which should be updated via a multi-path update to the first defined path */\nvar updateUser = {\n    'username': 'John Doe',\n    'firstname': 'John',\n    'lastname': 'Doe',\n};\n/ define second path */\nvar updateUserGroupPath = '/groups/' + firebase.auth().currentUser.uid + '/';\n/ some data which should be updated via a multi-path update to the second defined path */\nvar updateUserGroup = {\n    'group': 'Firebase',\n    'description': 'The awesome firebase group!'\n};\n/* create new object for storing the multi-path updates /\nvar updateData = {};\n/* loop through the object updateUser and push for each property a new property into updateData with the defined path including the key of the updateUser /\nfor (var key in updateUser) {\n    updateData[updateUserPath + key] = updateUser[key];\n};\n/* same here for the updateUserGroup /\nfor (var key in updateUserGroup) {\n    updateData[updateUserGroupPath + key] = updateUserGroup[key];\n}\n/*\n * this console.log() will show a object like this:\n * {\n * \"/users/1234567890/username\": \"John Doe\",\n * \"/users/1234567890/firstname\": \"John\",\n * \"/users/1234567890/lastname\": \"Doe\",\n * \"/groups/1234567890/group\": \"Firebase\",\n * \"/groups/1234567890/description\": \"The awesome firebase group!\"\n * }\n /\nconsole.log(updateData);\n/* update your data without touching anything else /\nfirebase.database().ref().update(updateData);\n```\nIt works fine for me.\n. ",
    "MohitKS5": "If I give a type to document reference, then running update on it with multi-path gives type error. Any idea how to solve that?\ntypescript\nexport interface Personal{\n  tel: number\n}\nexport interface LocalUser{\n  personal: Personal\n}\npublic userRef = (id: string): AngularFirestoreDocument<LocalUser> => this.afs.doc(`users/${id}`);\nthis.usrRef.update({\"personal/tel\": 237486238746})\nthis gives  ERRORArgument of type '{ \"personal/tel\": any; }' is not assignable to parameter of type 'Partial<LocalUser>'.. which firebase verion is to be compatible with latest 5.0.0-rc.10?\nedit: firebase 5.0.4 does it.. ",
    "GarettRogers": "I guess the only problem with that, as I have discovered, is that the auth stuff in beta 2 is having difficulty in ionic apps due to no check for http/https before trying to get data from an auth redirect. This basically makes firebase auth impossible in cordova apps.\nThis fix is implemented in the latest code, unfortunately, it uses rc5, and ionic won't probably use that version for at least a month (if it takes them as long as it took for rc4 anyway)\nHere is what's missing out of beta 2 that makes auth impossible in cordova apps:\nhttps://github.com/angular/angularfire2/blob/1ebb72698496fcc552ed269f709e17d515bb5031/src/auth/auth.ts#L42\n. ",
    "jmcenteno": "I'm having a similar issue as @GarettRogers, and what @davideast suggested did not work for me. When I install angularfire2@2.0.0-beta.2 I get the following warnings:\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\nIt seems like beta-2 is not compatible with angular rc4. All of the dependencies listed in the warnings are locked to 2.0.0-rc.4 in my project. \nIs there a version of angularfire2 that is compatible with angular rc4 or am I missing something here?\n. ",
    "alejandrocao": "@davideast Could you review that? \n. That works for me:\nCreate project:\nionic start AngularFire2POC blank --v2\nAdd that to dependencies in package.json\n\"angularfire2\": \"2.0.0-beta.2\",\n\"firebase\": \"3.2.0\",\nInstall Firebase:\n```\nnpm install\nnpm install typings -g\ntypings install file:node_modules/angularfire2/firebase3.d.ts --save --global\ntypings install\n```\nAdd that in app.ts\n```\nimport {FIREBASE_PROVIDERS, defaultFirebase} from 'angularfire2'; \nionicBootstrap(MyApp, [FIREBASE_PROVIDERS, defaultFirebase({\n  apiKey: \"xxxxxxxxxxxxxxxxxxxxxxxxxx\",\n  authDomain: \"xxxxxxxx.firebaseapp.com\",\n  databaseURL: \"https://xxxxxxxxx.firebaseio.com\",\n  storageBucket: \"xxxxxxxxxxxxxxxxxxxxx\",\n})]);\n```\nInclude Firebase in home.ts:\nimport {AngularFire, FirebaseListObservable} from 'angularfire2';\nUse Firebase in home.ts:\n```\nitems: FirebaseListObservable;\nconstructor(public navCtrl: NavController, private af: AngularFire) {\n}\ngetItems() {\n  this.items = this.af.database.list('/items');\n}\n```\nAdd Android platform:\nionic platform add android\nGenerate Android app: \nionic build android\nGood Luck! \n. @davideast, to clarify:\nFor now, while the RC5 is not available, the installation should be made from the manual_typings folder.\ntypings install file:node_modules/angularfire2/firebase3.d.ts --save --global\nWhen RC5 becomes available, the installation should be made from typings.\ntypings install --save firebase\nThat's right?\n. It does not work for me:\n```\nexport class Page1 {\n  tablados: FirebaseListObservable;\nconstructor(public navCtrl: NavController, public af: AngularFire) {\n    this.tablados = this.af.database.list('/tablados', {\n      query: {\n        orderByChild: 'nombre'\n      }\n    });\n  }\n}\n```\n```\n  {{ (tablados | async).length }}\n  \n\n{{tablado.nombre}}\n\n\n```\nI'm getting the following error:\nerror_handler.js:45EXCEPTION: Error in ./Page1 class Page1 - inline template:9:21 caused by: Cannot read property 'length' of nullErrorHandler.handleError @ error_handler.js:45(anonymous function) @ application_ref.js:210t.invoke @ polyfills.js:3onInvoke @ ng_zone_impl.js:43t.invoke @ polyfills.js:3e.run @ polyfills.js:3(anonymous function) @ polyfills.js:3t.invokeTask @ polyfills.js:3onInvokeTask @ ng_zone_impl.js:34t.invokeTask @ polyfills.js:3e.runTask @ polyfills.js:3i @ polyfills.js:3\nerror_handler.js:47\nORIGINAL EXCEPTION: Cannot read property 'length' of nullErrorHandler.handleError @ error_handler.js:47(anonymous function) @ application_ref.js:210t.invoke @ polyfills.js:3onInvoke @ ng_zone_impl.js:43t.invoke @ polyfills.js:3e.run @ polyfills.js:3(anonymous function) @ polyfills.js:3t.invokeTask @ polyfills.js:3onInvokeTask @ ng_zone_impl.js:34t.invokeTask @ polyfills.js:3e.runTask @ polyfills.js:3i @ polyfills.js:3\nerror_handler.js:50\nerror_handler.js:50ORIGINAL STACKTRACE:\nerror_handler.js:51TypeError: Cannot read property 'length' of null\n    at DebugAppView.View_Page10.detectChangesInternal (Page1.ngfactory.js:274)\n    at DebugAppView.AppView.detectChanges (view.js:272)\n    at DebugAppView.detectChanges (view.js:377)\n    at DebugAppView.AppView.detectViewChildrenChanges (view.js:298)\n    at DebugAppView.AppView.detectChangesInternal (view.js:283)\n    at DebugAppView.AppView.detectChanges (view.js:272)\n    at DebugAppView.detectChanges (view.js:377)\n    at ViewRef.detectChanges (view_ref.js:130)\n    at NavControllerBase._viewInsert (nav-controller-base.js:387)\n    at NavControllerBase._postViewInit (nav-controller-base.js:371)\n. ",
    "elmartino": "+1. ",
    "ekaram": "IMO, the ability to pass in a class is critical to being able to take advantage of ES6 classes here.  \naf.database.list('/person', Person) : FirebaseListObservable<Person[]>\nThis would allow us to actually use model objects and consolidate / abstract helper methods within them. There could be an understood contract with any model object that they would supply a constructor that accepts a generic object: \nclass Person { \n  constructor ( obj : any ) { \n      this.firstName = obj.firstName; \n      this.lastName = obj.lastName;\n      ....\n  } \n  fullName(){ \n    return this.firstName + ' ' + this.lastName; \n  }\n}\nAm i missing another way to accomplish this? . @bohoffi thanks for the input.  Do your domain objects extend the FirebaseObjectObservable and use constructors to set properties?  Do you mind expanding on your mapping function a bit?. ",
    "bohoffi": "I've run into this some time ago too.\nWhat I did:\n\nadded a custom operator \"mapping\" to Observable which will do the heavy work\n\nOf course I still need to define the mapping logic but the calls to af.database.object() and af.databse.list() look much cleaner now:\naf.database.list('/person').mapping(mapping).subscribe(). @ekaram of course.\nCurrently my mapping will output plain JS objects (critic/suggestions are welcome) but I'm planning to extend that to output defined model instances.\nThe mapping is defined as follows\nexport interface Mapping {\n    [key: string]: (value: any) => any;\n}\nIf I want to map an firebase entity (e.g. a book)\nconst bookMapping: Mapping = {\n    $key: (book) => book.$key,\n    isbn: (book) => book.isbn || '',\n    title: (book) => book.title || '',\n    subTitle: (book) => book.subTitle || '',\n    pageCount: (book) => book.pageCount || 0,\n    publishDate: (book) => book.publishDate ? new Date(book.publishDate) : new Date(),\n    read: (book) => book.read || false,\n    shelf: (book) => book.shelf,\n    authors: (book) => book.authorMap\n};\nAs you can see the \"$value\" property will be cut and some properties (e.g. authorMap) will/can be \"renamed\".\nTo processing of the mapping is done (in my case wrapped in a custom observable operator) as follows\nprivate _map(value: any, mapping?: Mapping): any {\n    return !mapping ? value : Object.keys(mapping).reduce((map, key) => {\n        map[key] = mapping[key](value);\n        return map;\n    }, {});\n}\nI hope this helps?\nI'm currently working on creating an \"angularfire2-util\" library to provide the mapping (and joining) functionality to other devs (currently heavy WIP).\n@davideast I hope this is not a problem?. ",
    "gencoder25": "still giving me the error \n\n. how ?\n. ",
    "philipphalder": "I still get this error.\n{\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.3\",\n    \"@angular/compiler\": \"2.0.0-rc.3\",\n    \"@angular/core\": \"2.0.0-rc.3\",\n    \"@angular/http\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.3\",\n    \"angularfire2\": \"2.0.0-beta.3\",\n    \"es6-shim\": \"0.35.0\",\n    \"firebase\": \"3.2.0\",\n    \"ionic-angular\": \"2.0.0-beta.10\",\n    \"ionic-native\": \"1.3.2\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"^0.6.12\"\n  },\nWhich version do you use? \n```\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/angularfire2.d.ts(12,66): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/angularfire2.d.ts(14,46): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(11,20): Error TS1112: A class member cannot be declared optional.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(14,40): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(15,52): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(15,92): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(16,51): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(16,119): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth.d.ts(19,56): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(6,82): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(8,49): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(13,46): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(41,11): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(43,14): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(44,14): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(45,15): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(46,16): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(49,55): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/auth_backend.d.ts(49,85): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/firebase_sdk_auth_backend.d.ts(8,14): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/firebase_sdk_auth_backend.d.ts(9,25): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/firebase_sdk_auth_backend.d.ts(17,73): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/firebase_sdk_auth_backend.d.ts(19,36): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/auth/firebase_sdk_auth_backend.d.ts(20,37): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/database.d.ts(7,53): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/database.d.ts(8,29): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/database.d.ts(9,31): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_factory.d.ts(5,74): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_factory.d.ts(5,104): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(6,50): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(6,80): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(8,11): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(8,41): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(9,23): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(9,53): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(11,21): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(12,53): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(13,39): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_list_observable.d.ts(14,83): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_object_factory.d.ts(4,76): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_object_observable.d.ts(6,17): Error TS1112: A class member cannot be declared optional.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_object_observable.d.ts(7,102): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_object_observable.d.ts(9,22): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_object_observable.d.ts(10,28): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/database/firebase_object_observable.d.ts(11,15): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/interfaces.d.ts(9,23): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/interfaces.d.ts(10,26): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/interfaces.d.ts(11,26): Error TS2503: Cannot find namespace 'firebase'.\nTypeScript error: /Users/Philipp/Desktop/grow/node_modules/angularfire2/dist/interfaces.d.ts(12,35): Error TS2503: Cannot find namespace 'firebase'.\n```\n. @danielgek thank you for your quick response - i tried rc5 but i still get the same error \n. It works :white_check_mark:\n{\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.3\",\n    \"@angular/compiler\": \"2.0.0-rc.3\",\n    \"@angular/core\": \"2.0.0-rc.3\",\n    \"@angular/http\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.3\",\n    \"angularfire2\": \"2.0.0-beta.2\",                 <----- beta2 !!\n    \"es6-shim\": \"0.35.0\",\n    \"firebase\": \"3.2.0\",\n    \"ionic-angular\": \"2.0.0-beta.10\",\n    \"ionic-native\": \"1.3.2\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"^0.6.12\"\n  },\n. try rc3 instead of rc5\n\"@angular/common\": \"2.0.0-rc.3\",\n    \"@angular/compiler\": \"2.0.0-rc.3\",\n    \"@angular/core\": \"2.0.0-rc.3\",\n    \"@angular/http\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser\": \"2.0.0-rc.3\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.3\",\n. ",
    "ayls": "I got this working by installing typings for firebase:\ntypings install firebase  --save\nand then modified files in tsconfig.json:\n\"files\": [\n    ...\n    \"typings/index.d.ts\"\n  ]\nWithout files option in tsconfig.json it would not work at all. \n. ",
    "endriazizi": "typings install file:node_modules/angularfire2/firebase3.d.ts --save --global && typings install\nI got this error @davideast \nSystem information:                                                            \n```\nCordova CLI: 6.3.1                                                                \nGulp version:  CLI version 3.9.1                                                  \nGulp local:   Local version 3.9.1                                                 \nIonic Framework Version: 2.0.0-beta.10                                            \nIonic CLI Version: 2.0.0                                                          \nIonic App Lib Version: 2.0.0                                                      \nios-deploy version: 1.8.6                                                         \nios-sim version: 5.0.8                                                            \nOS: Mac OS X El Capitan                                                           \nNode Version: v6.5.0                                                              \nXcode version: Xcode 8.0 Build version 8S201h \nTypeScript error: /Users/endriazizi/Ionic-2-Blueprints/socialapp/node_modules/angula\nrfire2/interfaces.d.ts(12,35): Error TS2503: Cannot find namespace 'firebase'.    \nTypeScript error: app/app.ts(49,5): Error TS2345: Argument of type '{ provider: Auth\nProviders; method: AuthMethods; remember: string; scope: string[]; }' is not assigna\nble to parameter of type 'AuthConfiguration'.                                     \n  Object literal may only specify known properties, and 'remember' does not exist in\n type 'AuthConfiguration'.                                                        \nTypeScript error: typings/index.d.ts(2,1): Error TS6053: File 'node_modules/angularf\nire2/firebase3.d.ts' not found.                                                   \n[17:25:00] Finished 'watch' after 3.99 s                                          \n[17:25:00] Starting 'serve:before'...                                             \n[17:25:00] Finished 'serve:before' after 4.03 \u03bcs                                    \nRunning live reload server: http://localhost:35729                                \nWatching: www//*, !www/lib//*                                                 \n\u221a Running dev server:  http://localhost:8100                                      \nIonic server commands, enter:                                                     \n  restart or r to restart the client app from the root                            \n  goto or g and a url to have the app navigate to the given url                   \n  consolelogs or c to enable/disable console log output                           \n  serverlogs or s to enable/disable server log output                             \n  quit or q to shutdown the server and exit                                         \nionic $ 11.4 MB bytes written (8.07 seconds)\n/////////////////////////////\npackage.json\n////////////////////////////\n{\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.4\",\n    \"@angular/compiler\": \"2.0.0-rc.4\",\n    \"@angular/core\": \"2.0.0-rc.4\",\n    \"@angular/forms\": \"*\",\n    \"@angular/http\": \"2.0.0-rc.4\",\n    \"@angular/platform-browser\": \"2.0.0-rc.4\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.4\",\n    \"angular2-moment\": \"^0.8.2\",\n    \"angularfire2\": \"^2.0.0-beta.2\",\n    \"es6-shim\": \"^0.35.0\",\n    \"firebase\": \"^3.1.0\",\n    \"ionic-angular\": \"2.0.0-beta.10\",\n    \"ionic-native\": \"1.2.4\",\n    \"ionicons\": \"3.0.0\",\n    \"moment\": \"^2.14.1\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"^0.6.12\"\n  },\n  \"devDependencies\": {\n    \"del\": \"2.2.0\",\n    \"gulp\": \"3.9.1\",\n    \"gulp-watch\": \"4.3.5\",\n    \"ionic-gulp-browserify-typescript\": \"2.0.0\",\n    \"ionic-gulp-fonts-copy\": \"^1.0.0\",\n    \"ionic-gulp-html-copy\": \"^1.0.0\",\n    \"ionic-gulp-sass-build\": \"^1.0.0\",\n    \"ionic-gulp-scripts-copy\": \"^2.0.0\",\n    \"run-sequence\": \"1.1.5\"\n  },\n  \"name\": \"social-app\",\n  \"description\": \"social-app: An Ionic project\",\n  \"cordovaPlugins\": [\n    \"cordova-plugin-device\",\n    \"cordova-plugin-console\",\n    \"cordova-plugin-whitelist\",\n    \"cordova-plugin-splashscreen\",\n    \"cordova-plugin-statusbar\",\n    \"ionic-plugin-keyboard\"\n  ],\n  \"cordovaPlatforms\": []\n}\n```\n. ",
    "DMPS": "Then how would we get the data that Firebase sees as an object in an array form?\n. ",
    "wangji286": "@davideast  thanks David, I've tried 10 method, yours worked.\ngod bless you~~~`. ",
    "ray-z": "Similar question: #380 \n. Similar question: #380 \n. ",
    "andreigiura": "do you have any idea about this error: Property 'take' does not exist on type 'FirebaseListObservable'.? It used to work.\n. i figured it out. you should do this: import 'rxjs/add/operator/take'\n. and maybe also this: import {Observable} from 'rxjs/Rx';\n. I dont think you can use take on an update. The update will be made only once by default. You can only use take with subscribe.\n. It seems that it's a permission error. You might have some rule on firebase which allows user to read/write data if it's logged in. Do you try to do any operation after the user logged out?\n. II have a similar setup, i will just show you how i implemented the same functionality. You code looks strange with the mapping on the load user function and then subscribing on the nginit\n. this is how my authService.ts looks like:\nimport { Injectable } from '@angular/core';\nimport { Http, Response, RequestOptions, Headers } from '@angular/http';\nimport { Router}    from '@angular/router';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/take';\nimport { Events}    from './Events';\nimport { AngularFire, AuthProviders, AuthMethods, FIREBASE_PROVIDERS, FirebaseAuthState } from 'angularfire2';\n@Injectable()\nexport class AuthService {\n  public isLoggedIn;\npublic usersCollection;\n  public userData = null;\nconstructor (public http : Http,  private router: Router, private eventEmitter : Events, public af: AngularFire) {\n    this.isLoggedIn = false;\n```\n//subscribe to the auth state\nthis.af.auth.subscribe(auth => {\n  //if the result is not null, setup the public user data which can be accesed through this service\n  if(auth != null) {\nthis.userData = auth;\nthis.isLoggedIn = true;\n\n//set a route in the users table for this particular user\nthis.usersCollection = af.database.object(\"users/\" + this.userData.uid);\n\n//current date to be saved in the users details, this will be used for the registered at field\nvar today = new Date().toLocaleDateString('en-GB', {\n    day : 'numeric',\n    month : 'short',\n    year : 'numeric'\n}).split(' ').join(' ');\n\n//other data that i need to set in the users table\nvar dataToSet = {\n  timestamp : Math.floor((new Date()).getTime() / 1000),\n  displayName : this.userData.auth.providerData[0].displayName,\n  email : this.userData.auth.providerData[0].email,\n  photoURL : this.userData.auth.providerData[0].photoURL,\n  providerId : this.userData.auth.providerData[0].providerId,\n  registeredAt : \"\"\n};\n\n//try to get the user from db\naf.database.object(\"users/\" + this.userData.uid).take(1).subscribe((_data) => {\n    //if the user does not exist, add the registered at field that we composed else use the entry from the db\n      if(!_data.registeredAt) {\n        dataToSet.registeredAt = today;\n      }else{\n        dataToSet.registeredAt = _data.registeredAt;\n      }\n\n      //make a hard update to the object (this means that all the data on this firebase route will be replaced and not updated)\n      this.usersCollection.set(dataToSet).then((_data) => {\n          }).catch((_error) => {\n              console.log(_error)\n          })\n\n\n    })\n\n}else{\n//set the user details to null\nthis.userData = null;\nthis.isLoggedIn = false;\n\n}\n});\n```\n}\n//login with email, password\n  login(username, password) {\n    var self = this;\n    this.af.auth.login({ email : username, password : password },\n   { provider: AuthProviders.Password, method: AuthMethods.Password })\n   .catch(function(err) {\n     self.eventEmitter.loginErrorsF(err);\n   })\n  }\n//login with facebook\n  loginWithFacebook () {\n    this.af.auth.login({provider: AuthProviders.Facebook,\n    method: AuthMethods.Popup,\n    scope: ['email']})\n  }\n//login with google\n  loginWithGoogle () {\n    this.af.auth.login({provider: AuthProviders.Google,\n    method: AuthMethods.Popup,\n    scope: ['email'] })\n  }\n//signup with email and pwd\n  signup(username, password) {\n    var self = this;\n    this.af.auth.createUser({ email : username, password : password })\n    .catch(function(err) {\n      self.eventEmitter.loginErrorsF(err);\n    })\n  }\n//check login is used by auth guard in order to secure the routes\n  checkLogin() {\n   return this.af.auth\n     .take(1)\n     .map((authState: FirebaseAuthState) => !!authState)\n     .do(authenticated => {\n       if (!authenticated) this.router.navigate(['/login']);\n     });\n  }\nlogout() {\n    this.af.auth.logout()\n  }\n}\nexport const AUTH_SERVICE_PROVIDER = [\n  AuthService\n];\n. This is the authGuard.ts which uses authservice checklogin function in order to secure routes:\nimport { Injectable }             from '@angular/core';\nimport { CanActivate,\n         Router,\n         ActivatedRouteSnapshot,\n         RouterStateSnapshot }    from '@angular/router';\nimport { AuthService }            from './AuthService';\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(private authService: AuthService, private router: Router) {}\ncanActivate(\n    // Not using but worth knowing about\n    next:  ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ) {\n    return this.authService.checkLogin();\n  }\n}\nexport const AUTH_GUARD_PROVIDERS = [\n  AuthGuard\n];\n. this is the router which uses the authguard for the secured routes (this will not allow access):\nimport { HomeComponent } from '../components/home/HomeComponent';\nimport { AuthGuard } from './Auth/AuthGuard';\nimport { Routes, RouterModule } from '@angular/router';\nexport const SunmoolAppRoutes = [\n  { path: 'home/:category', component: HomeComponent, canActivate : [AuthGuard]},\n  { path: 'login', component: LoginComponent},\n  { path: '', redirectTo: 'login', pathMatch: 'full' }\n]\nexport const routing = RouterModule.forRoot(SunmoolAppRoutes);\n. Hey, i have set up a simple example on github, the repo is here: https://github.com/andreigiura/simple-angular2-firebase-auth\nYou will need to add your firebase credentials in: src/app/app.module.ts\nThis works with the latest angular-cli, so make sure you npm install -g angular-cli\n. as you will see there, in the login component you will listen for the auth state, if it will change from the null state, you will redirect the user to the homepage\n. If you click logout, you are redirected to the login page. I don't get the error, check the repo. The error you get seems to be a firebase rule error. You might have the read/write blocked while the user is not logged in and when you are making the logout, you probably logout successfully and after that you try to do some other operation on the firebase which will throw this error. Just to prove that what i said is right i have made an example with \"rules\": \n{\n        \".read\": \"auth != null\",\n            \".write\": \"auth != null\",\n}\nin my firebase rules and than i tried to make a read from firebase. I get the exact same error as you do.\nmain.4cd3da4\u2026.bundle.js:29 Error: permission_denied at /items: Client doesn't have permission to access the desired data.\n    at Error (native)\n    at G (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:50:20875)\n    at Object.G (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:50:23045)\n    at http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:50:16137\n    at nh.h.wd (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:52:10092)\n    at af.wd (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:51:15299)\n    at vd.hg (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:49:28617)\n    at yd (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:49:15973)\n    at bound WrappedWebSocket.La.onmessage (http://sunmool.umbrellasoftware.ro/main.4cd3da4e9edd4e76637f.bundle.js:51:3445)\n    at bound WrappedWebSocket.t as _onmessage\n. Further from this i can only pinpoint your problem if i get your source code\n. I am aware about the security risk for my security rules and it was not a recommandation to turn your security off. I just said that you should review the whole code and make sure that you are not doing any other operations on firebase after you logged out.\n. Hi, i have an error while trying to user angularfire2 with rc5: No provider for Token FirebaseUrl!\nimports\n....\n...\nimport {FIREBASE_PROVIDERS,\n  defaultFirebase,\n  AngularFire,\n  AuthMethods,\n  AuthProviders,\n  firebaseAuthConfig} from 'angularfire2';\n@NgModule({\n    declarations: [Myapp],\n    imports:      [BrowserModule],\n    bootstrap:    [Myapp],\n    providers: [FIREBASE_PROVIDERS]\n})\nexport class AppModule {}\nplatformBrowserDynamic().bootstrapModule(AppModule);\n. I figured it out, i had to set the defaultFirebase({apiKey: xxx, authDomain: xxx, ...}) as a provider too\n. ",
    "danielordonez": "same here,  Property 'take' does not exist on type 'FirebaseListObservable'\n. Thank you @andreigiura , I was able to use the .take property.\n. Thank you very much @mukesh51 , I was able to add the .take property.\nRight now, however, my real issue is that I am trying to bind an object property to an input, which will get updated each time a user types or remains inactive for a few milliseconds.\nI'm not sure how unreliable it may get if my application's input is sync'd in real time, meaning that the input's value could change if the value in the database is newer (a single user would be the only one typing on that input at the time, though), that's why I just wanted to retrieve the value once and let the user update the value of the input freely and then view the changes from the database when he reloads the webpage.\nFor some reason, If I do a traditional binding to my application and retrieve the object like it says in the tutorial:\nhttps://github.com/angular/angularfire2/blob/master/docs/2-retrieving-data-as-objects.md\nI get not issues at all, my object is retrieved as expected:\n{\"name\": \"value\"}\nBut when I try to take the snapshot, I can't get the value returned in the same way, I just get this if I capture the returned value to the console and when I make the reference in my input it just says undefined:\nFirebaseObjectObservable {_isScalar: false, _ref: U}\nSorry if it's a dumb question or it has been asked before, I'm a newbie and I'm just finding my way through AngularFire2.\nAny ideas how I should handle this? \n. Seems like a good solution to my question, thank you @mukesh51 !\n. You'll find everything you need to know here #380 \n. ",
    "hareeshmh": "Thanks @andreigiura your code worked for me.. https://github.com/angular/angularfire2/issues/456#issuecomment-254464619\nhere i added a specific user as admin like this,\n`       //-----\n    var isSuper = false;\n    var isSuperEmail = \"*******@gmail.com\";\n    if(email == isSuperEmail){\n        isSuper = true;\n    }`\n\nand in  dataToSet,\n`//-----\n     var dataToSet = {\n      timestamp : Math.floor((new Date()).getTime() / 1000),\n      displayName : this.userData.auth.providerData[0].displayName,\n      email : this.userData.auth.providerData[0].email,\n      photoURL : this.userData.auth.providerData[0].photoURL,\n      providerId : this.userData.auth.providerData[0].providerId,\n      registeredAt : \"\",\n      isSuper : isSuper\n    };`\n\nit works fine... but i am not sure writing admin email in component.ts file is safe or not??\nis there any other way to do??\n. ",
    "zeerulz90": "@andreigiura \nIn order to make sure you dont get the client permission on logout, you have to make sure to unsubscribe from every database query subscription you made. That is, for every this.af.database.list.subscribe or this.af.database.object.subscribe, you gotta make sure you implement ngOnDestroy method in that component where you subscribed. Inside ngOnDestroy() you gotta unsubscribe them. Dont try to unsubscribe from this.af.auth upon logout. this.af.auth.subscribe does not create client permission error, only \"this.af.database\" ones do.\nFor example, look at the following codes below from one of my angular2 firebase projects:\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FirebaseService } from '../../services/firebase.service';\n@Component({\n  selector: 'app-listings',\n  templateUrl: './listings.component.html',\n  styleUrls: ['./listings.component.css']\n})\nexport class ListingsComponent implements OnInit, OnDestroy {\n  listings:any;\n  private subscription;\nconstructor(public firebaseService:FirebaseService) { }\nngOnInit() {\n    this.subscription = this.firebaseService.getListings().subscribe(listings => {\n      this.listings = listings;\n    });\n  }\nngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}. @andreigiura \nCode below for origin of getListings() called:\nconstructor(public af: AngularFire,\n              public router : Router) {\n    this.folder = 'listingImages';\n    this.listings = this.af.database.list('/listings') as FirebaseListObservable\n    .............................\n  }\ngetListings () {\n    return this.listings;\n  }\n\nHope that helps. ",
    "neo-split": "@zeerulz90  do you have a git / plunker repository where this subscription mechanism is used? I would like to have a closer look at it. Thanks ). ",
    "Anthony2539": "When to get once a collection like that\nvar team = this.af.database.object('/teams/' , { preserveSnapshot: true }).take(1);\nHow to refresh the collection after added an item ?. Yes i don't understand how this can work with .valueChanges\nHow to use the$key simply in the template?. I have just found a solution but i don't know if it's a good practice:\njavascript \nthis.spotProvider\n        .getSpotList(this.batch+1, this.lastDate).snapshotChanges()\n        .do(spots => {\n          if(spots.length > 0){\n            /// set the lastKey in preparation for next query\n            //this.lastDate = _.last(spots)['dateUpdate']\n            this.lastDate = _.last(spots)['payload']['doc'].data().dateUpdate;\n            const newSpots = _.slice(spots, 0, this.batch)\n            /// Get current spots in BehaviorSubject\n            const currentSpots = this.spots.getValue()\n           /// If data is identical, stop making queries\n            if (this.lastDate == _.last(newSpots)['payload']['doc'].data().dateUpdate) {\n              this.finished = true\n            }\n            /// Concatenate new spots to current spots\n            this.spots.next( _.concat(currentSpots, newSpots) )\n         }\nAnd in my template i have this :\nhtml\n<ion-card *ngFor=\"let spot of spots | async\">\n              <ion-item>\n                <ion-avatar item-start>\n                    <img [src]=\"(spot.payload.doc.data().userPicture)\" />\n                </ion-avatar>\n                <h3>{{ spot.payload.doc.data().userName }}</h3>\n                <p>{{spot.payload.doc.data().dateUpdate | formatDate}}</p>\n              </ion-item>. i implemented an example:\nhttps://stackblitz.com/edit/angularfirebase-basic-crud-delete-error-dhjtus?file=app%2Fapp.component.ts\nAt the init i load once the collection with operator take(1). \nWhen i add an item to the collection, i load again the collection.\nWhy i do not see the new item in the collection ?. This is an issue or i do not understand something?. ",
    "noor07": "FirebaseListObservable is updated to angularfireobject, how can i use take???\nPlz help, its showing take is not a property. hi, i m currently using angularfire2 : ^4.0.0-rc.2 and it gives me the same error, which version should I use for the firebase. I have to use angularfire2 : ^4.0.0-rc.2 this version only...\nthanx...\n. ",
    "sharikovvladislav": "Do you mean you did not delete $key in meetup? WHy is this needed? I have same problem now.  @jerry-i . @jerry-i @BernardMarieOnzo I see only one reason: there is $key property in the firebase db in each item of the list. So, what should firebase do when somebody is trying to update $key prop? This can be the reason.. Oh I just re-read the error message: \n\nKeys must be non-empty strings and can't contain \".\", \"#\", \"$\"\n\nI just realized that this is about keys of object which I pass as 2-nd argument =) I accidently thought that it is about key which I pass as 1st argument.. Ye ye. I understand how to delete prop :) :+1: \nI just surprised that I understood error message wrong.. @johnjiea What do you not understand?\nYou have err in your code:\nconst $key = obj.$key\ndelete obj.$key\nupdate($key, object); // <--- update($key, obj);. ",
    "BernardMarieOnzo": "me too :(. ",
    "johnjiea": "const $key = obj.$key\ndelete obj.$key\nupdate($key, object)\nI do not understand, please help.\n. ",
    "kpnigalye": "@jerry-i thanks it worked for me.. @jerry-i thanks it worked for me.. ",
    "kidsit": "It is very strange that, for me, this happens only when i build with windows power shell envrionment.\nWhen i use git-bash environment to build, no such strange case info displayed. Also only happen in following scenario: install the npm module with windows power shell, but run build in git bash , or vice versa. ",
    "jitenagarwal19": "@Methodician solution solved the issue. Thanks :). ",
    "sorcamarian": "All codes: https://github.com/sorcamarian/angularfire2-instalation-errors\n. I'll make a check in a few moments.\nThank you!\n. With webpack it's more simple to install, but unfortunately I still receive some errors.\n\n\nArgument of type '{ imports: (typeof BrowserModule | ModuleWithProviders)[]; declarations: typeof AppComponent[]; B...' is not assignable to parameter of type 'NgModuleMetadataType'.at line 24 col 3\n\n\nclient:47 [WDS] Errors while compiling.\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\angularfire2.d.ts:13:65 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\angularfire2.d.ts:15:45 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth.d.ts:14:39 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth.d.ts:15:51 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth.d.ts:15:91 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth.d.ts:16:50 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth.d.ts:16:118 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth.d.ts:19:55 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:6:81 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:8:48 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:13:45 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:39:10 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:41:13 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:42:13 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:43:14 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:44:15 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:47:54 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:47:84 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:8:13 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:9:24 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:17:72 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:19:35 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:20:36 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\database.d.ts:8:28 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\database.d.ts:9:30 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_factory.d.ts:5:73 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_factory.d.ts:5:103 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:6:49 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:6:79 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:8:10 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:8:40 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:9:22 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:9:52 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:11:20 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:12:52 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:13:38 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:14:82 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_object_factory.d.ts:4:75 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:7:101 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:9:21 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:10:27 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:11:14 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\interfaces.d.ts:9:22 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\interfaces.d.ts:10:25 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\interfaces.d.ts:11:25 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\node_modules\\angularfire2\\interfaces.d.ts:12:34 \nCannot find namespace 'firebase'.errors @ client:49sock.onmessage @ client:83EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:769ZoneDelegate.invokeTask @ zone.js:356Zone.runTask @ zone.js:256ZoneTask.invoke @ zone.js:423\nclient:49 [default] C:\\Users\\Marian\\Desktop\\ng_cli\\ng_fire_webpack\\src\\main.ts:24:2 \nArgument of type '{ imports: (typeof BrowserModule | ModuleWithProviders)[]; declarations: typeof AppComponent[]; B...' is not assignable to parameter of type 'NgModuleMetadataType'.\n  Object literal may only specify known properties, and 'Bootstrap' does not exist in type 'NgModuleMetadataType'.\n. Files: https://github.com/sorcamarian/angularfire2-instalation-webpack-errors\n. Thank you very much for your quick responses.\nThis solved the error with \"Bootstrap\".\nI still receiving some errors from TypeScript regarding 'firebase'\nThis is the main message:\nCannot find namespace 'firebase'\nBelow is the whole list of errors(terminal):\n```\n$ ng serve                                                                                       10% building modules 1/1 modules 0 active\n\n\n NG Live Development Server is running on http://localhost:4200.                                              3ms add0m142ms1576ms asset31ms emittingHash: 369f01ebed613ce3319d                                                                                                                           Version: webpack 2.1.0-beta.18\nTime: 10382ms\n              Asset       Size  Chunks             Chunk Names\n     main.bundle.js    1.76 MB    0, 2  [emitted]  main\npolyfills.bundle.js     227 kB    1, 2  [emitted]  polyfills\n          inline.js    4.96 kB       2  [emitted]  inline\n           main.map    2.08 MB    0, 2  [emitted]  main\n      polyfills.map     312 kB    1, 2  [emitted]  polyfills\n         inline.map    5.13 kB       2  [emitted]  inline\n         index.html  486 bytes          [emitted]\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\angularfire2.d.ts:13:65\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\angularfire2.d.ts:15:45\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth.d.ts:14:39\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth.d.ts:15:51\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth.d.ts:15:91\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth.d.ts:16:50\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth.d.ts:16:118\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth.d.ts:19:55\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:6:81\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:8:48\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:13:45\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:39:10\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:41:13\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:42:13\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:43:14\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:44:15\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:47:54\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:47:84\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:8:13\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:9:24\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:17:72\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:19:35\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:20:36\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\database.d.ts:8:28\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\database.d.ts:9:30\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_factory.d.ts:5:73\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_factory.d.ts:5:103\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:6:49\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:6:79\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:8:10\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:8:40\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:9:22\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:9:52\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:11:20\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:12:52\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:13:38\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:14:82\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_object_factory.d.ts:4:75\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:7:101\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:9:21\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:10:27\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:11:14\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\interfaces.d.ts:9:22\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\interfaces.d.ts:10:25\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\interfaces.d.ts:11:25\nCannot find namespace 'firebase'.\nERROR in [default] C:\\Users\\Marian\\Desktop\\ng_cli\\angularfire2-instalation-webpack-errors\\node_modules\\angularfire2\\interfaces.d.ts:12:34\nCannot find namespace 'firebase'.\nChild html-webpack-plugin for \"index.html\":\n         Asset     Size  Chunks       Chunk Names\n    index.html  2.41 kB       0\nwebpack: bundle is now VALID.\n```\n.\nBrowser:\n\n\nI use a package for TypeScript in Atom and I don't receive any errors from it.\n. Same stuff, even after these changes(view repository), at both tsconfig.json files.\nI tested different situations in both tsconfig.json files, with/without \"firebase\"\n\"types\": [\n      \"jasmine\",\n      \"firebase\"\n    ]\nMaybe it's something from: root/typings.json (is empty)\nI also made tests with \"globalDependendies\" in root/typings.json by adding/removing \"firebase3\" key. (repository)\nI'll try again from the start, maybe i'm missing something.\n. Maybe it's a  problem in the file: node_modules\\angularfire2\\angularfire2.d.ts ?\n\n. Thank you very much. \u263a\u270c\nI'll try in a few minutes.\n. The installation and setup for angularfire2 (08/26/2016) targets a little different project structure from the one which angular CLI creates (08/26/2016)\n/src/main.ts\n/src/app/app.component.ts\n. I created a repository: https://github.com/sorcamarian/angularfire2-instalation-webpack-fixed-errors\nThank you all!\n@gmanojisaac, your instructions were the most appropriate for me.(without point 7)\n. I managed to make a clean install. \nProject was generated using the ng-cli 1.0 and I installed and used: \n- angularfire2(\"^2.0.0-beta.8\")\n- firebase (\"^3.7.6\")\nI will try to post the instructions(including a repository) during this day.. Let's start :smile:\nOn: Windows 7\n\n0) Check our global dependencies\nnpm -g list --depth=0\n- 1. +-- @squarespace/server@1.1.0\n- 2. +-- bower@1.8.0\n- 3. +-- gulp@3.9.1\n- 4. +-- npm@4.5.0\n- 5. `-- typescript@2.3.0-dev.20170413\nIf we don't have any angular command line interface\n\u00a0 We install  the new @angular/cli 1.0 globally\n\u00a0npm -g install @angular/cli\nElse, if we have some old angular-cli version.\n  \u00a0 There is a whole page about Angular CLI migration guide\n\u00a0 In my opinion, in simple cases, we could just uninstall the old version (angular-cli), like this:\n  \u00a0npm -g uninstall angular-cli\n  \u00a0npm cache clean\n  \u00a0And install the new version (@angular/cli):\n  \u00a0npm install -g @angular/cli\n\nVerify the dependencies again:\nnpm -g list --depth=0\n- 1. +-- @angular/cli@1.0.0\n- 2. +-- @squarespace/server@1.1.0\n- 3. +-- bower@1.8.0\n- 4. +-- gulp@3.9.1\n- 5. +-- npm@4.5.0\n- 6. `-- typescript@2.3.0-dev.20170413\n\nVersion check.\nNow, we should be able to use the new @angular/cli.\nng -v\n\n@angular/cli: 1.0.0\nnode: 7.8.0\nos: win32 x64\n\n\n\n1) Create a new angular2 functional project\n(Make sure that the CLI path is where you want the project to appear.)\nOne way, with npm\n  \u00a0 The below ng command creates the angular2 project and automatically installs the local dependencies with npm\n  \u00a0 ng new demo-project\n   After the installation, navigate inside the project directory\n  \u00a0 cd demo-project\n  Inside the project directory, start the app\n  \u00a0 ng serve\n  Open a browser and navigate to:\n  localhost:4200\n\n\nAt this point we should have a generated [git repository](https://git-scm.com/book/en/v2/Git-Basics-Getting-a-Git-Repository) with a default commit message.\n\n2) Install local packages: angularfire2 and firebase\nInside our project directory(/demo-project)\nNOTE: If the local server is rurnning(caused by the above command: ng serve ), stop the server from the command line by pressing CTRL + C(or close and reopen the CLI)\n\u00a0 Install angularfire2 and firebase dependencies locally with the npm option --save \n \u00a0 \u00a0 npm install firebase angularfire2 --save\n\n\nNext points are coming\n3) Initiate a Firebase Database from the Web Console\n4) Configure Angularfire2 inside our project\n5) Show data inside our project, from Firebase Database \n. Indeed, I get \"WARN\" messages, but the app works.\nI misunderstood, I thought the point is to install and use: @angular/cli and angularfire2 without errors.\nMy bad, sorry.. ",
    "Hojou": "@GitHubish The experimental thing is something i have a fix for here:\nhttp://stackoverflow.com/questions/31737677/vscode-is-it-possible-to-supress-experimental-decorator-warnings/38970591#38970591\n. ",
    "ashmccallum": "I'm having the same issue with the error \"Cannot find namespace 'firebase'.\" in a variety of angulafire2 files. I'm on Typescript 2.0 on global and local. \nLet me know if there's anything I can provide to help.\n. thanks @terencewhitenz that seems to have sorted it for me as I can now see permission errors in the console\n. ",
    "terencewhitenz": "@ashmccallum I've experienced those errors with a completely fresh install using angular-cli webpack. My fix which I got from @paulogr above was to edit src/tsconfig.json and add the lines (since new webpack angular-cli doesn't have the base entry for jasmine)\n,\n    \"types\": [\n      \"firebase\"\n    ]\nat the end of the compilerOptions entry after the typeRoots entry like so\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n...\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"firebase\"\n    ]\n  }\n}\n. Hi @thielCole, it looks like your issue is the same as seen in #478. Can you check and see if the solution that worked for me in that one works for you too?\n. I've seen this too - seems to be related to rxjs@5.0.0-beta.11 which is the latest rxjs and is installed by angular-cli@1.0.0-beta.11-webpack.2 which I spent the weekend past moving my project to.\nIf I drop back to rxjs@5.0.0-beta.6 which is a peer dependency of angularfire2@2.0.0-beta.4 and angular RC5 then it works again and npm complains less about missing peer dependencies.\n. Hi @lindsaymarkward, I've experienced the same issue when upgrading on the weekend to the webpack version of angular-cli and I've put up a solution that worked for me in #478 \n. Hi @edoardoVD, I had the same problem on the weekend past, the fix that I did is in https://github.com/angular/angularfire2/issues/461#issuecomment-243599086 \n. ",
    "adriandurran": "Hi David\nI am using firebase 3.3.0 and AngularFire 2.0.0-beta.4\nDone as above works great....thank you for your quick reply!\n. @Splaktar I am using the Firebase SDK directly to get the token.\n. ",
    "JavierSaldivarRubio": "[Sorry my English]\nBut my session not closing, I must click on button logout,\nHow to modify the parameter remember: \"default\"? or\nHow to not remember user in the session?\n. Tanks davideast\n. ",
    "zuekegreen": "Im getting error at this line\nprovider: AuthProviders.Facebook,\nmethod: AuthMethods.Popup,\n\nand \nprovider: AuthProviders.Google,\nmethod: AuthMethods.Popup,\n\nSaying object literal may only specify known properties, and 'provider' does not exist in type 'AuthProviders'\nHelp me, how can i fix this ?. ",
    "alx-andru": "@sean-hill I like the idea! +1. ",
    "jmarlow4": "OK So I tried doing it with just AngularFire, so it would look like af.auth in the service instead of just auth. That didn't help. It still exhibited the same strange behavior. Honestly, it's not a huge deal. But I think it is strange. I can't whip up a plunkr right now. It would just take too much time to replicate the issue. Here's a link to the repo. I put it under the branck bug/login. Also, I have the app hosted in Firebase as well, I left the console logs in there so you can open the dev tools and see.\nI appreciate any help! Thanks!\n. So this is weird, the old version of the app worked correctly (the one I had deployed just after I deployed this version) but this one doesn't. So the correct behavior is possible.\n. So I've narrowed the problem down to the use of navigation within my authentication service. When I use this.navigate.route(['/app']) for instance, it messes with my auth state. It might have to do with my auth guard, which I'm not having an easy time with. The guards only get called once, after the page loads and that's it.\n. Yeah, I'm positive the router is messing up my auth state. Every time I route from within my app the auth state gets corrupted or lost or something. I'll just ditch the router and use *ngIf. It's a really small app, anyway so it's not such a huge deal.\n. I don't thin that will resolve my issue since I've been using rxjs5.0.0-beta.6 this entire time.\n. It is a similar issue, tho. Because the auth state would be cached in my app's local storage. It's just that it wouldn't register with the app itself.\n. ",
    "ultibo": "I had the same issue. I managed to make it work by downgrading  rxjs5.0.0-beta.11 to rxjs5.0.0-beta.6\n. ",
    "sferey": "Hi,\nWhat is your ionic version ? \nionic info\n. ",
    "JerryBels": "Hey guys !\n@sferey here it is, last version : \nCordova CLI: 6.3.1\nIonic Framework Version: 2.0.0-beta.11\nIonic CLI Version: 2.0.0-beta.37\nIonic App Lib Version: 2.0.0-beta.20\nOS: Windows 7 SP1\nNode Version: v4.2.2\n@alejandrocao it works indeed ! The difference between what you did and what I tried is mostly adding the packages to dependencies list and installing from there, if I'm not wrong. Do you have any idea why the way I tried didn't worked ? \nThanks a lot anyway !\n. @davideast That's clearing things, thanks. But I have one more little point : you say it's not a valid way anymore. When I will want to upgrade, what will be the valid way to install ?\n. @davideast yes, I get that, that's why we have to wait for them to move. But the question is, when I want to get the last release, you stated that it will not be possible to install from the manual_typings folder. What will be the proper way then ? \n. +1. ",
    "caroso1222": "I signed it!\n. ",
    "layegning": "@davideast Thank you for your answer and I am a big fan also ! Let me start again then from the beginning with some code. After I installed the AngularFire2 package and the Firebase package (by adding the \"--save\" argument), this is how my package.json file look like : \n{\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.4\",\n    \"@angular/compiler\": \"2.0.0-rc.4\",\n    \"@angular/core\": \"2.0.0-rc.4\",\n    \"@angular/platform-browser\": \"2.0.0-rc.4\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.4\",\n    \"@angular/http\": \"2.0.0-rc.4\",\n    \"@angular/forms\": \"0.2.0\",\n    \"es6-shim\": \"0.35.1\",\n    \"ionic-angular\": \"2.0.0-beta.11\",\n    \"ionic-native\": \"1.3.10\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"0.1.8\",\n    \"rxjs\": \"5.0.0-beta.6\",\n    \"zone.js\": \"0.6.12\"\n  },\n  \"devDependencies\": {\n    \"del\": \"2.2.0\",\n    \"gulp\": \"3.9.1\",\n    \"gulp-watch\": \"4.3.5\",\n    \"ionic-gulp-browserify-typescript\": \"2.0.0\",\n    \"ionic-gulp-fonts-copy\": \"^1.0.0\",\n    \"ionic-gulp-html-copy\": \"^1.0.0\",\n    \"ionic-gulp-sass-build\": \"^1.0.0\",\n    \"ionic-gulp-scripts-copy\": \"^2.0.0\",\n    \"ionic-gulp-tslint\": \"^1.0.0\",\n    \"tslint-ionic-rules\": \"0.0.4\",\n    \"run-sequence\": \"1.1.5\"\n  },\n  \"name\": \"gourmapp-beta-v1\",\n  \"description\": \"Gourmapp-Beta-V1: An Ionic project\",\n  \"cordovaPlugins\": [\n    \"cordova-plugin-device\",\n    \"cordova-plugin-console\",\n    \"cordova-plugin-whitelist\",\n    \"cordova-plugin-splashscreen\",\n    \"cordova-plugin-statusbar\",\n    \"ionic-plugin-keyboard\"\n  ],\n  \"cordovaPlatforms\": []\n}\nAfter I watched some updated tutorial and read a couple of documentation, I installed Firebase and AngularFire2 on the Ionic 2 application by making some configuration on the ./app.ts file. The following code showed how I did it.\n`import { Component } from '@angular/core';\nimport { ionicBootstrap, Platform } from 'ionic-angular';\nimport { StatusBar } from 'ionic-native';\nimport { FIREBASE_PROVIDERS, defaultFirebase } from 'angularfire2';\nimport { HomePage } from './pages/home/home';\n@Component({\n  template: '',\n })\nexport class MyApp {\n  rootPage: any = HomePage;\nconstructor(platform: Platform) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      StatusBar.styleDefault();\n    });\n  }\n}\nionicBootstrap(MyApp, [FIREBASE_PROVIDERS, defaultFirebase({\n    apiKey: \"AIzaSyDdmKtQAsrYYwZq7Dw0b809ZOERlAXrxhQ\",\n    authDomain: \"firelab-9e225.firebaseapp.com\",\n    databaseURL: \"https://firelab-9e225.firebaseio.com\",\n    storageBucket: \"firelab-9e225.appspot.com\",\n})\n]);\n`\nOn the terminal I get some typescript errors such as TS2305 (Something related with the ModuleWithProviders or \"cannot find namespace 'firebase' \").\nThis is basic setup I think, I didn't even touched the Auth or the database, what am I doing wrong. Is there an additional information that you may need.\n. @mafzst Thank you for answer, let me try this one, I will let you know if it worked ...\n. ",
    "tuarrep": "@layegning Try adding \"firebase\": \"github:angular/angularfire2/manual_typings/firebase3/firebase3.d.ts\" in your typings.json file (at the root of your project) under globalDependencies section.\nThen run typings install\nHere an example of typings.json file : \n{\n  \"dependencies\": {},\n  \"devDependencies\": {},\n  \"globalDependencies\": {\n    \"es6-shim\": \"registry:dt/es6-shim#0.31.2+20160602141504\",\n    \"firebase\": \"github:angular/angularfire2/manual_typings/firebase3/firebase3.d.ts\"\n  }\n}\nI you don't have typings installed run npm i -g typings\nCheers\n. @davideast Thanks for your reply!\nI've tried it but beta2 seems to require angular rc2 : \nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/core@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/common@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/compiler@2.0.0-rc.2 but none was installed.\nnpm WARN angularfire2@2.0.0-beta.2 requires a peer of @angular/platform-browser-dynamic@2.0.0-rc.2 but none was installed.\n. ",
    "fergalmoran": "@mafzst 's fix removes all the \"cannot find namespace 'firebase' \" type errors for me (thanks for that!!)\nbut I'm still left with this when I try to build? I'm using Angular RC.4\n`\nTypeScript error: /home/fergalm/dev/pluto/node_modules/angularfire2/angularfire2.d.ts(4,10): Error TS2305: Module '\"/home/fergalm/dev/pluto/node_modules/@angular/core/index\"' has no exported member 'ModuleWithProviders'.\nTypeScript error: /home/fergalm/dev/pluto/node_modules/angularfire2/auth/auth.d.ts(11,20): Error TS1112: A class member cannot be declared optional.\nTypeScript error: /home/fergalm/dev/pluto/node_modules/angularfire2/database/firebase_object_observable.d.ts(6,17): Error TS1112: A class member cannot be declared optional.\n`\n. @ajonp Same here.\nGetting tired now of firebase constantly breaking my build.. ",
    "stewwan": "+1\n@angular/core/index\"' has no exported member 'ModuleWithProviders'.\n. ",
    "borysn": "I guess I should note, the pop up works just fine, I can signin. \n. @terencewhitenz thanks for the reply! That did it. I appreciate it.\n. @klaascuvelier thanks for the heads up about which package upgrade works. I'll give it a go.\n. ",
    "vanaio": "Same issue here, no authData is triggered on component load or after login with Popup, inspecting the _af.auth object shows login was successful.\nconstructor(public _af: AngularFire) {\n    this._af.auth.subscribe(auth => console.log(auth));\n    console.log('auth obj: ', this._af.auth);\n    }\n. ",
    "klaascuvelier": "I ran into this problem as well. FYI, rxjs@5.0.0-beta.10 works just fine for me.\nIn beta.11 there are some breaking changes, but a quick look in the code does not show any usage of Observable.from or AjaxObservable\n. First quick test was successful for me \ud83d\udc4d \nLooking forward for the final release of this!. OpaqueToken can be removed here. Hi @davideast I think that's quite weird.\nTypeScript should not require you to import this just because OpaqueToken is used somewhere else.\nIf you look into the generated code in the next package on npm, OpaqueToken is not in the import list, as it has been tree-shaken I assume, a lot of other imports are removed as well\nimport { FirebaseAppConfigToken, FirebaseApp, _firebaseAppFactory } from './app/index';\nimport { InjectionToken, NgModule } from '@angular/core';\nvar FirebaseAppName = new InjectionToken('FirebaseAppName');\nI forked master and removed some imports, tests complete successfully and the build is also successful (producing the same )\nShould I open an issue/PR for this? Or am I overlooking something? . ",
    "zacharyclaysmith": "This is still an issue for me, changing the rxjs didn't seem to help. Following the workaround here (using the raw firebase library) allowed me to get something serviceable: https://github.com/angular/angularfire2/issues/472\n. ",
    "nvahalik": "I'm having this same issue. I downgraded to rxjs@5.0.0-beta.10 as  @klaascuvelier mentioned, but now Angular 2 is broken. @zacharyclaysmith has the right idea at this point.\n. ",
    "ykoehler": "I did try 2.0.0-beta.4 same issue.\nI also fail to see why changing the firebase typings would remove those optional class members statement.\nWhen using the official firebase typings I get additional errors about missing 'firebase'.  So not good.\nI manually removed the two ? Character to remove the optional and things works.\n. It probably is the case, but my understanding is that 2.0 is not out yet.\nhttps://www.npmjs.com/package/typescript\ntypescript typescript published 5 months ago\n  1.8.10 is the latest of 422 releases\nAs such, AngularFire2 should either require it explicitly or not use the 2.0.0 functionality at this time (maybe using a branch for those).\n. Issue #250 discuss the same type of problem in different location.\n. I have updated my typescript to 2.0.2 and typings to 1.3.3, I removed my typings and node_modules and re-installed.\nI am getting the same errors I was at the very begining;\nnode_modules/angularfire2/angularfire2.d.ts(13,66): error TS2503: Cannot find namespace 'firebase'.\nThe firebase is no more global and is within a namespace.  Firebase2 doesn't seems to be aware of that.\n. What if you add the @Component decorator, does it work in the constructor?\n. ",
    "wesleygoldsborough": "@rashnk import it like this import * as firebase from 'firebase';\nSee #374 . ",
    "kanishkatn": "I am getting the same error and I noticed that the latest version of typescript is 1.8.10 :/\nhttps://www.npmjs.com/package/typescript\nHow can I get the 2.0?\n. Hi,\nThanks for the quick response. \nI figured a way to iterate through it. I have the list of Users now.\nBut the problem I am having now is to handle the async call. I am calling the function from a component and not bothered about populating in the template. \nSo, I am calling a service function from a component which will query firebase for a list. I need the list in the component to perform some logic. \nI read about Observables, but couldn't figure out a way to implement it. \nCan you please help me?\n. Got it. Thanks :)\n. ",
    "agumack": "same problem with \nangular-cli: 1.0.0-beta.10\ntcs: 2.0.2\n. ",
    "lindsaymarkward": "app.module.ts is the file to use if you are running Angular RC5.\nThis file is created with the webpack version of the angular-cli.\n. app.module.ts is the file to use if you are running Angular RC5.\nThis file is created with the webpack version of the angular-cli.\n. Thank you very much. I didn't see that since it was a closed issue. \nI have changed to rxjs@5.0.0-beta.6 and auth works again. I hope they can sort this out so we don't have to change this sort of thing to keep it working.\n. Thank you very much. I didn't see that since it was a closed issue. \nI have changed to rxjs@5.0.0-beta.6 and auth works again. I hope they can sort this out so we don't have to change this sort of thing to keep it working.\n. ",
    "lebsral": "Ok, thanks for pointing that out.  I just redid it with the webpack version.  And app.module.ts now exists.\n. Here is where I am looking...\n\n. Hmm, I'm still confused then, just in a new way. I was thinking that the  variable would have been replaced. In my example above it would have been ang2fb.componet.ts.  Since 'ang2fb' was what I called my project.  No matter what I start the project out being called, it always names that file app.componet.ts .  It doesn't vary, which is counter to the meaning of the word 'variable.'\nBTW, I'm not trying to convince you that I'm right.  I'm trying to explain the nature of my confusion.\n. To add to my confusion.  Look at the step labeled - 4. Inject AngularFire:\nIf we go with, '' is a variable that in this instance means 'app'.  Then as was discussed above, .componet.ts becomes app.component.ts.  Fine.\nBut then, \nselector: '-app',\nbecomes 'app-app'.  Are we really calling the selector 'app dash app?'\nimport { Component } from '@angular/core';\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\n@Component({\n  moduleId: module.id,\n  selector: 'app-app',\n  templateUrl: 'app.component.html',\n  styleUrls: ['app.component.css']\n})\nexport class appComponent {\n  constructor(af: AngularFire) {\n}\n}\n. @davideast That might have fixed it.\nI got further and got different errors.  Which I think are related to the CLI and not firebase itself so I posted it here\nhttps://github.com/angular/angular-cli/issues/2147\nfrom my perspective you can close this issue.\n. after reading\nIssue 360\nI changed the instances of by rc5 to rc 2 in my package.json.  It now, in part, looks like this:\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.2\",\n    \"@angular/compiler\": \"2.0.0-rc.2\",\n    \"@angular/core\": \"2.0.0-rc.2\",\n    \"@angular/forms\": \"0.3.0\",\n    \"@angular/http\": \"2.0.0-rc.2\",\n    \"@angular/platform-browser\": \"2.0.0-rc.2\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.2\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"core-js\": \"^2.4.0\",\n    \"rxjs\": \"5.0.0-beta.11\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"0.6.12\"\n  },\nI then deleted my node modules, npm installed and reran ng serve.\nBut the errors did not change.\n. thanks for the triple tick trick\nMy entire package.json is:\n{\n  \"name\": \"ang2fb\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"start\": \"ng serve\",\n    \"lint\": \"tslint \\\"src/**/*.ts\\\"\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.2\",\n    \"@angular/compiler\": \"2.0.0-rc.2\",\n    \"@angular/core\": \"2.0.0-rc.2\",\n    \"@angular/forms\": \"0.3.0\",\n    \"@angular/http\": \"2.0.0-rc.2\",\n    \"@angular/platform-browser\": \"2.0.0-rc.2\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.2\",\n    \"@angular/router\": \"3.0.0-rc.1\",\n    \"core-js\": \"^2.4.0\",\n    \"rxjs\": \"5.0.0-beta.11\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"0.6.12\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.2.30\",\n    \"angular-cli\": \"1.0.0-beta.11-webpack.8\",\n    \"codelyzer\": \"~0.0.26\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"0.13.22\",\n    \"karma-chrome-launcher\": \"0.2.3\",\n    \"karma-jasmine\": \"0.3.8\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"4.0.3\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"^2.0.0\"\n  }\n}\nYou are right those aren't in there.  \nnpm install angularfire2 firebase --save\nsolved that.\n. ",
    "rememberlenny": "@davideast Also confused here\n. Having same issue here\nAny thoughts? @jeffbcross @davideast  @redian \n. ",
    "edoardoVD": "Hi @terencewhitenz  thanks for the tip\nSo I tried the following on .../src/tsconfig.json\n\"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n\"types\": [\n      \"firebase\"\n    ]\nTerminal still screams bloody murder (error messages), I'm running \ntsc -v \nVersion 2.0.0\nApparently \"types\" indicates to the TSC (version 2 or above) to include certain files when compiling, which makes me think, for our scenario, it will look  for \"typeRoots\"*./firebase/firebase.d.ts ?* \nAnywho.. .  . it's still not working for me, no biggy (since the app works), I'll just temper with the angular2.d.ts file to have the reference of reference path=\"../firebase/firebase.d.ts\"  to get rid of the messages.. .. .\nNOTE: if I leave the above reference as well the setting on the tsconfig.json, I get the following error, when webpack is done:\nCannot find type definition file for 'firebase'. (I'm guessing this is an error from TSC).\nMakes me wonder whats the lookup mechanism of TSC with the above settings (does it look at the firebase folder?, or in it for a index.d.ts, firebase.d.ts...)\n: D ...................\n. @dmastag  , yep that's correct, thanks for letting me know that it also works like: import * as firebase from 'firebase', makes sense since typescript is configured to look under folder npm modules\ntsconfig.json\n```\n\"typeRoots\": [\n      \"../node_modules/@types\"\n    ], \n```\nthing is that even though we get those errors, the app should work, from what I can infer is, that webpack is smart enough to know that a certain namespace/dependency is missing and reports \"errors\".\nI also have observed this with css imports, and resources as dependencies (images, svns, fonts, etc), webpack is kind enough to scream bloody death errors/issues on the output screen when something is missing.\nThe map of the problematic (muse song) is that npm packages don't always come with all of the typescript definition files or proper referencing of external namespaces. I had the same issue with underscore, which I just downloaded from https://github.com/DefinitelyTyped/DefinitelyTyped\n. Mr. Sir @katowulf \nRepo\nhttps://github.com/edoardoVD/angularFireExpHandling\nfiddle with this part the data being sent on \npush({some: 'data'})\npush(null)\n```\nexport class AppComponent {\n  title = 'app works!';\nconstructor(private _af: AngularFire) {\n    console.log('app component constructor');\n  }\nngOnInit() {\n    console.log('testing here');\n    this._af.database.list('items').push({some: 'data'})\n      .then(resolve => {\n        console.log('all good');\n      }, reject => {\n        console.log('error');\n      })\n      .catch(reject => {\n        console.log('catch');\n      });\n  }\n}\n```\nThanks\n. @DennisSmolek , @katowulf \nngOnInit() {\n    console.log('testing here');\n    var pushing = this._af.database.list('items').push(null);\n    console.log('push test', pushing);\n    console.log(typeof pushing);\n    }\nfrom the looks of it the catch func and then funcs are Undefined, I guess thats the problem... . ?_?,  it seems that when the exception is thrown no call backs are attached who knows.... may its the cyber leprecauns ... \nIf I try to do an empty push(), typescript cries about it, and reports a transpile error \n\n. Howdy @katowulf, don't mind my example, but can you guys provide a simple working demonstration of angularfire2 exception handling on the documentation.\nThanks :-)\n. @katowulf update to the latest fire fire (\"angularfire2\": \"2.0.0-beta.6\")\nThe link you sent me is for data as objects, and that works ok\nThe issue is with data as lists\n```\nvar pushingToList = this._af.database.list('items').push(null);\n    console.log('push list test', pushingToList);\nvar settingObject = this._af.database.object('someObj').set(null);\nconsole.log('push object test', settingObject);\n\nsettingObject\n  .then(() => {\n    console.log('setting Object OK');\n  }).catch(e => {\n    console.log('Catched object set:' + e.message);\n  })\n\n```\nConsole output: Observe the \"push list test\"\n\nI've updated the repo with the example https://github.com/edoardoVD/angularFireExpHandling\n. @katowulf sounds good then, thanks for explaining, I'll just make sure I don't push nulls to the lists\nBut I would think it would be beneficial getting some sort of exception when doing invalid operations\n. @katowulf  more on the exception handling that I had forgotten but now that I'm revising my code and making sure I handle errors, I have the following\nlet dataToSave = { fieldone: 'one', fieldtwo: 'two', fieldthree: undefined };\n    this._af.database.object('somePath').update(dataToSave)\n      .then(() => {\n        console.log('all good')\n      })\n      .catch(err => {\n        console.log(err);\n      });\nfieldthree has \"undefined\" value\nError stack trace\n```\nerror_handler.js:51Error: Firebase.update failed: First argument contains undefined in property 'somePath.fieldthree'\n    at Ef (firebase.js:347)\n    at firebase.js:350\n    at Cb (firebase.js:267)\n    at Gf (firebase.js:350)\n    at U.h.update (firebase.js:473)\n    at FirebaseObjectObservable.update (firebase_object_observable.js:30)\n    at AppComponent.ngOnInit (app.component.ts:18)\n```\nMeanwhile, I'm just making sure that the data to be saved has no undefined values\nBut I would think that once push gets invoked, the catch callback would pick up the exception for me to handle, but it's not\n. same issues here\n```\nERROR in [default] c:\\ttuhscEpSpCalendar\\node_modules\\angularFire2\\node_modules\\firebase\\firebase.d.ts:12:8\nDuplicate identifier 'Promise'.\nERROR in [default] c:\\ttuhscEpSpCalendar\\node_modules\\angularFire2\\node_modules\\firebase\\firebase.d.ts:17:8\nDuplicate identifier 'Promise_Instance'.\n```\nwindows 10 x64\nangular-cli: \"1.0.0-beta.15\",\n\"firebase\": \"^3.5.3\",\n \"angularfire2\": \"^2.0.0-beta.6\",\n```\ntsconfig.json\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\n      \"es6\",\n      \"dom\"\n    ],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [] \n  }\n}\n```\n. @davideast nope, I have not installed firebase types \n@AdamJo, I have also removed \"firebase\": \"^3.5.3\" from the package.json, ran npm prune, ng build all is good.\nEven though I was getting the console screaming bloody murder error messages, the app was compiling and working ( when I still had , \"firebase\": \"^3.5.3\" on the package.json)\nAnd by the looks of the inner content of angularfire2 beta 6 npm package (node_modules\\angularfire2\\node_modules\\firebase\\package.json) its using \"firebase@3.3.0\", I guess in the near future we will see using the latest version\nCheerio \nedo@rdo\n. ",
    "damsorian": "Hello @shamrozwarraich , I got it like this:\njavascript\nremoveUser(password: string) {\n  this.af.auth.take(1).subscribe(user => {\n    const credential = firebase.auth.EmailAuthProvider.credential(user.auth.email, password);\n    user.auth.reauthenticate(credential).then(() => {\n      user.auth.delete();\n    });\n  });\n}\nI don't know if it's the best way, but it works\n. ",
    "gepisolo": "Same error for me (referring to original post):\nI'm trying to implement Change Email/Change Password functions, which need (according to official documentation) a reauthentication providing a credential object.\nSnippet of code:\n```\nconstructor(\n    private router: Router,\n    private AF : AngularFire,\n    private FiBAuth: FirebaseAuth,\n    @Inject(FirebaseApp) private firebaseApp :any  //Should give me access to native firebase instance\n  ){\n...\n}\n...\nchangeUsernameAndPassword(loginData: AppUser, newUser: AppUser, changePassword: boolean): Promise<{'ok': boolean, 'message': string, 'warn': boolean}>{\n    const doEmail = (loginData.email != newUser.email);\n    const credentials = this.firebaseApp.auth().EmailAuthProvider.credential(loginData.email, loginData.password);\n//ERROR: Property 'credential' does not exist...\n//Debug: this.firebaseApp.auth().EmailAuthProvider => undefined !! (shouldn't be I suppose)\n//Debug: this.firebaseApp.auth() => Object\n...\n  }\n```\nFor the solution of @cristianurbano ... you use: firebase.auth.EmailAuthProvider ... but how do you get a reference to the \"firebase\" instance? If you use AngularFire2 you should get a reference with  @Inject(FirebaseApp) firebaseApp which should wrap the original SDK object.... ",
    "clark-stevenson": "I had to use the sdk for this but it works fine I think. \n```\n    import * as firebase from 'firebase';\nreauthenticateUser(email: string, password: string): Subject<boolean> {\n\n    let subject: Subject<boolean> = new Subject<boolean>();\n\n    // create the credentials from the SDK\n    const credentials = firebase.auth.EmailAuthProvider.credential(\n        email,\n        password\n    )\n\n    // reauthenticate\n    this.firebaseAuthState.auth.reauthenticate(credentials).then((success) => {\n        subject.next(success);\n        subject.complete();\n    }, (error) => {\n        subject.error(error);\n    });\n\n   return subject;\n\n}\n```\n. import { FirebaseApp } from 'angularfire2';\nclass MyComponent {\n  constructor(@Inject(FirebaseApp) fbApp: firebase.App) {\n    fbApp.auth().getRedirectResult().then(onSuccess, onError);\n  }\n}\nIn this case, when it comes to getting auth/account-exists-with-different-credential, I also do not fully understand. \nIn the case of that error occurring, the onError's parameter will be an object which tells you the provider and for example secret (twitter).   I believe we need to dig into the firebase. to create a TwitterAuthProvider.credential from this information. \nBut then everywhere says that you then use linkWithRedirect\nBut how can this be, from my perspective, there is no user so how would one link?\nI don't really understand the actual expected sequence of events though, it appears to be undocumented.  Am I supposed to tell the user that they can't sign in with this account, but instead, sign in with your other account first and then, later, lets start a new linking process?  I was thinking that I could catch this error, and then link but that somehow doesn't make sense to me now that I read my response.\nEdit - This SO sheds some light\n\nlinkWithCredential is used if you already have the oauth credential. The advantage here is that you don't need to open a popup or redirect. If you set \"single account per email\" in your project settings. If a user signs in with an email initially and then signs in with a OAuth provider that returns the same email, the backend will throw an error that the account exists. You will have to sign in to the first account and then link the OAuth provider account to it.\n\nFinally having giving up on this linking process.  I am similar to @borntodesign in that:\nfirebaseApp.auth().getRedirectResult().catch(error => {}}; still throws an exception. . This one is killing me.  \nI need to go to groups/x/members where I am going to find some keys for members of that group.\nWhat I really need though, is not the keys, but the actual Observables for those keys.  I need to return somekind of FirebaseListObservable and do what FirebaseListObservable does..... but, I need to build it myself.\nI don't know how to go from groups/x/members keys into essentially a bindable async list and return it to be useful. \n`users/userKey93489329482/`\n`users/userKey39843904829/`\nI burned days on it, My best result so far is to get the members keys, do a switchMap use the keys to create an array of Observables, and then combine those Observables together with combineLatest but this doesn't work for Angular2 for some reason.  I think it is because if members is now empty, combineLatest makes no sense and it is like Angular doesn't get informed (But the console log does!!). \nI pretty much don't know where else to go with this. \n. I replied to this and then I considered it nonsense and deleted it but now I am not so sure again.\nIn the end I don't really like how auth.facebook changes as an object.    \nSo auth.twitter returns this object when you first sign in.\n{\n    accessToken: string;\n    provider: string;\n    secret: string;\n}\nI don't know the exact properties, but later, if you come back in the day, and are signed in \"automatically\" then that same object becomes\n{\n    displayName: string;\n    photoURL: string;\n    email: string;\n}\nInfact, that first object above is hidden from you.  According to the .d.ts this object is always the second one.  That is why @ealvarezv casts to any and \"you might get an error\". You get an error because the object doesn't exist for long. I think this is because the tokens themselves are short lived. So coming back later in the day it makes sense not to assume they are there. \nAnyway all I wanted to say here was, is if you look at firebaseApp.auth().getRedirectResult()\nThat returns a possible credential property on the error. \n```\n{\n    code: string;\n    credential: {\n        accessToken: string;\n        provider: string;\n        secret: string;\n     };\n     email: string;\n     message: string;\n}\n```\nIs it possible to add a similar credential property to the second object above?  So if you want these tokens, you can say if (auth.facebook.credential) rather than casting to any and figuring out the type of object? \nI am out of my depth on the whole auth process but this ticket is high on a specific google search and wanted to put down my related findings when attempting to access these tokens.\n. ",
    "pejalo": "Late to the party here, but here's the documented credential() function.\nYou want to use the Firebase object directly imported from the npm module like clark's example above, not the instance you created.\nLike so: Firebase.auth.EmailAuthProvider.credential(..\nNOT: firebaseApp.auth().... ",
    "YerlinMatu": "```const user = account.currentUser; \n       const credentials = Firebase.auth.EmailAuthProvider.credential(\n          user.email,\n          this.currentPassword\n        );\n        user.reauthenticateAndRetrieveDataWithCredential(credentials)\n          .then(() => {\n            updatePassword(this.newPassword)\n              .then(() => {\n                app.dialog.alert('your password was successfully changed.');\n              })\n              .catch(error => app.dialog.alert(error))\n          })\n          .catch(error => app.dialog.alert(error.message))\n      }. ",
    "khalidos32": "i had the same problem with EmailAuthProvider.\nthe solution i founded is using the Auth().signInWithEmailAndPassword\nfirebase.auth().signInWithEmailAndPassword(this.state.User.email, this.state.OldPassword).then((user)=>{\n            const use = Db.auth().currentUser;\n            use.updatePassword(this.state.NewPassword).then(() => {\n                console.log(\"Password updated!\");\n            }).catch((error) => {\n                 console.log(error); });        \n        }).catch((error)=>{\n            console.log(error);\n            alert('studentID or password is wrong');\n        });. ",
    "jswilliams": "We were running into a problem where we needed to use EmailAuthProvider.credential(user, pass) but when we tried using the official firebase package as a work around it would freeze up our Ionic production build. The angularfire2 package however wouldn't freeze up our build. This is a known issue that Ionic has with the firebase package that hasn't been fixed yet.\nTo work around this we ended up creating a fork of angularfire2 that has a emailAuthProviderCredential function on the AngularFireAuth object. It's literally just a pass through that exposes firebase.auth.EmailAuthProvider.credential(user, pass).\nHere's the fork: https://github.com/seed2spoon/angularfire2\nSo, if you absolutely need to create credentials in angularfire2 without installing the firebase package feel free to use this fork via \"npm install \nhttps://github.com/seed2spoon/angularfire2/releases/download/5.1.1-s2s/5.1.1-s2s.tar.gz\". ",
    "epezhman": "OK I found this workaround for the problem, I added the WindowLocation to providers to get rid of the exception, (I only needed the database and it works fine for me with this new provider, I don't how it affects the auth), here is how NgModule looks for me now.  \n```\n'use strict';\nimport {NgModule, enableProdMode} from \"@angular/core\";\nimport {FormsModule} from \"@angular/forms\";\nimport {routing} from \"./app.routes\";\nimport {BrowserModule} from \"@angular/platform-browser\";\nimport {platformBrowserDynamic} from \"@angular/platform-browser-dynamic\";\nimport {MeteorModule} from \"angular2-meteor\";\nimport {AngularFireModule, WindowLocation} from \"angularfire2\";\nimport {AppComponent} from \"./app.component\";\nenableProdMode();\nexport const firebaseConfig = {\n    apiKey: \" \",\n    authDomain: \" \",\n    databaseURL: \" \",\n    storageBucket: \" \",\n};\n@NgModule({\n    imports: [BrowserModule, routing, MeteorModule, FormsModule,\n        AngularFireModule.initializeApp(firebaseConfig)],\n    declarations: [AppComponent,],\n    bootstrap: [AppComponent],\n    providers: [{\n        provide: WindowLocation, useValue: {\n            hash: '',\n            search: '',\n            pathname: '/',\n            port: '',\n            hostname: 'localhost',\n            host: 'localhost',\n            protocol: 'https',\n            origin: 'localhost',\n            href: 'https://localhost/'\n        }\n    }]\n})\nexport class AppModule {\n}\nplatformBrowserDynamic().bootstrapModule(AppModule);\n```\n. ",
    "Meistercoach83": "@davideast when do you think will angularfire be ready to use beta.11 / rc6?\n. Hi,\nmy version in the folder: 5.0.0-rc.0-next. That\u00b4s true. When I change it to rc.3 it works!. Hi @jamesdaniels! Is it available now?. ",
    "thebishorup": "I followed the steps to install the AngularFire in project but I am getting following error with RC5.\nhttp://localhost:4200/angularfire2 Failed to load resource: the server responded with a status of 404 (Not Found)\nzone.js:461 Unhandled Promise rejection: Error: XHR error (404 Not Found) loading http://localhost:4200/angularfire2\n        at XMLHttpRequest.wrapFn as _onreadystatechange\n        at ZoneDelegate.invokeTask (http://localhost:4200/vendor/zone.js/dist/zone.js:356:38)\n        at Zone.runTask (http://localhost:4200/vendor/zone.js/dist/zone.js:256:48)\n        at XMLHttpRequest.ZoneTask.invoke (http://localhost:4200/vendor/zone.js/dist/zone.js:423:34)\n    Error loading http://localhost:4200/angularfire2 as \"angularfire2\" from http://localhost:4200/app/app.module.js ; Zone:  ; Task: Promise.then ; Value: Error: Error: XHR error (404 Not Found) loading http://localhost:4200/angularfire2(\u2026)consoleError @ zone.js:461\nzone.js:463 Error: Uncaught (in promise): Error: Error: XHR error (404 Not Found) loading http://localhost:4200/angularfire2(\u2026)\n. It still does not solve the problem for me in Angular 2 (RC7).\n. Adding the following on typings.d.ts solved the problem for me as well.\n/// \n. ",
    "ryanlangton": "Is this being actively worked on?  I looked through the source and it doesn't seem like a huge amount of effort to update (but looks can be deceiving).  Hoping there is an update soon because it seems there are other version problems that cause AF2 to not work with Angular RC6.\n. I'm having the same problem (I think) when using Popup method.  I'm not sure how Redirect is suppose to work, but that's not working for me either.  \nhttp://stackoverflow.com/questions/39420716/angularfire2-authentication-with-canactivate-not-working\n. I switched to use auth.getAuth().  It seems this is the only way to get this to work for now until RC6 support is added.\nhttps://github.com/angular/angularfire2/issues/493\n. By removing this line in firebase_sdk_auth_backend.ts, I am able to get the auth to emit.  Seems maybe something to do with the zone versioning in RC6?\n.observeOn(new ZoneScheduler(Zone.current));\n. ",
    "baisaksen": "I also tried to follow the tutorial yesterday but no luck. Crossing finger for an update soon\n. I've been playing around with the tutorials today too. Beeing new to this so kinda feeling lost.\nFollowing the instructions, it fails on step 2 for me.\nnpm install angularfire2 firebase --save\nI saw a comment in another issue, that angularfire2 supported rc5. So i opened packages.json and see references to rc.4. Edited these to rc.5 and ran npm install again. After doing that, step 2 worked without errors.\nNow I can't find the file /src/app/app.module.ts refered to in step 3 :p\n. ",
    "PaulSlinky": "I am stuck on the setup as well.  This is the error logged from the chrome console.\n \" Uncaught Error: Cannot find module \"./app/\" \"\nI have \"angularfire2\": \"^2.0.0-beta.4\", \"firebase\": \"^3.3.2\".\nOn step 3, setting up @NgModule, I am a bit unsure of the export class.\nexport class MyAppModule {}\nI exchanged my app name with MyApp in MyAppModule{}  is this correct?\nIf this is the case maybe Module?\n. ",
    "iamgmd": "@ix-xerri I get the same error in Safari.\nTypeError: uri.match is not a function. (In 'uri.match(_splitRe)', 'uri.match' is undefined)\n. yep @mukesh51 can confirm everything works now. thanks.\nJust as a side note, being new to Angular 2 and following tutorials, wondering why you need to take moduleId away, is this a bug needing to be fixed or can't angular fire routines be used in a component where moduleId is needed. Any help on that would be appreciated.\n. @mukesh51 Perfect, thank you. I am using latest tools and cli with webpack so understand it's not needed.\n. ",
    "VladimirMakaev": "I wanted to create a repro in test suite but I couldn't make them running for some reason.  Setting up the angularfire2 in plunker doesn't look straightfoward to me. Do you have somewhere a plunk I can fork to create a repro?\nThe repro steps are the following:\n0. Store collection [item1, item2, item3] under 'anyUrl' in firebase\n1. Inject AngularFire object. (eg. af variable)\n2. do \naf.database.list('anyUrl' opts).subscribe(items => {\n   console.log('Correctly returning values', items);\n   af.database.list('anyUrl', opts).subscribe(innerItems => {\n      console.log(\"Incorrectly returning values', innerItems);\n   });\n});\n. 'anyUrl' is just a url in the firebase with an array of items (e.g. /items/questions/)\n@davideast I understand this is an anti pattern. It's just to try reproing the issue.\nWhat I'm seeing in the application is that when I'm calling af.database.list('anyUrl') after a while I previously called the same thing and it produced the list (e.g. [question1, question2, question3]) the second call produces a series of things: [], [question1], [question1, question2], [question1, question2, question3] instead of just [question1, question2, question3]\n. It looks like I forked the project at the wrong time. After updating to latest I was able to run your tests. So hopefully I'll be able to repro the issue soon.\n. @davideast \ntake a look at the repro test in my fork\nThe output is:\nLOG: 'subsequent call to list'\nLOG: 'fisrt time: ', ['Item1', 'Item2', 'Item3']\nLOG: 'second time: ', []\nLOG: 'second time: ', ['Item1']\nLOG: 'second time: ', ['Item1', 'Item2']\nLOG: 'second time: ', ['Item1', 'Item2', 'Item3']\n. ",
    "Enlcxx": "but still it has problems with authentication\n. but still it has problems with authentication\n. ",
    "ggranum": "CLA signed. Individual.\n. ",
    "daimz": "I had the same problem as @christoferd\ntsconfig.json looks like this.\njson\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ]\n  }\n}\nI'm using Angular CLi Webpack and have upgraded to Angular 2.0.0\n. @sudharsanmit Are you able to please share a more detailed example of how you got this working, I am currently trying to do the same but unclear on how to set it up correctly.. Thanks for that @sudharsanmit really helpful!. @sudharsanmit I am using the method you suggested above, but I am running into an error and wondering if you could help me with it.\nI have created the service as you suggested but I now have to services a cohort.service and a team.service in both services I am needed to access my secondary database so I have included the CoreDB.service and then initiated in both services. This returns the following error \nFirebaseError {code: \"app/duplicate-app\", message: \"Firebase: Firebase App named 'core' already exists (app/duplicate-app).\", name: \"core\", ngDebugContext: DebugContext_, ngErrorLogger: \u0192,\u00a0\u2026}\nI realise this is because I am now attempting to initialise my secondary database twice. How can I do this at a root level or similar so that it is only initiated once but available to all my services?\nHere's what my code looks like:\nteams.service\n```\nexport class TeamsService {\n  private sdkDb;\n  private app;\n  private teamsRef;\nconstructor(\n    private db: AngularFireDatabase,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    const ref = coreDB.app.database().ref('/teams');\n    this.teamsRef = ref;\nthis.sdkDb = firebase.database().ref();\n\n}\n```\ncohort.service\n```\nexport class CohortsService {\n  private sdkDb;\n  private core;\n  private teamsRef;\n  private cohortSubject: Subject = new Subject();\nconstructor(\n    private db: AngularFireDatabase,\n    private feedsService: FeedsService,\n    private http: Http,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    this.core = coreDB.app;\n    this.sdkDb = firebase.database().ref();\n  }\n```\ncoredb.service:\n```\nimport {Injectable,Inject} from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\n@Injectable()\nexport class CoreDBService {\n  core:any;\n  app;\n  constructor (private db: AngularFireDatabase){}\ninit(config){\n    this.app = firebase.initializeApp(config, \"core\");\n    const ref = this.app.database().ref('/teams');\n    const listObs = this.db.object(ref);\n    listObs.subscribe(data => console.log(data));\n  }\n}\n```\n. No I want to use core in both the services, turns out what I did have wrong was having coreDB.init(environment.fbCoreConfig); in both cohorts.service and teams.service this effectively was telling firebase to initialize the core database twice. \nI manage to resolve the error by moving coreDB.init(environment.fbCoreConfig); to my root.component (app.component for most setups) I could then still use the coreDb.service to access my database in the cohorts and teams services like this:\nthis.core = coreDB.app;\nNow I can switch between the default database and my core database but including my coredb.service and I only initiate the database once.\nThanks for all the help!\n . ",
    "zakdances": "@davideast \nMy types array looks like this:\n\"types\": [ \"jasmine\", \"firebase\", \"hammerjs\" ]\nand I'm still getting Cannot find namespace 'firebase'. I've also trying installing @types/firebase which doesn't help.\n. @davideast After updating to angular-cli: 1.0.0-beta.14, I can't seem to reproduce this issue. I'll keep you updated should it return. Thanks for the response.\n. Why is node_modules/angularfire2/node_modules being installed?. ",
    "sobolewski": "same problem here:\n- i followed Installation instructions 0-6 and also added types to src/tsconfig.json as suggested\n-> ng serve produces a long list of:\nERROR in [default]\nCannot find type definition file for 'firebase'.\n(btw.: instruction 5. Inject AngularFire seems like a typo with the classname\"\n export class <MyApp>Component {\n  constructor(af: AngularFire) {\n  } )\n. ",
    "hoenderdaal": "I had the same issue on Windows 10 and adding the types array to tsconfig didn't help. On Ubuntu 16 it works fine after adding the types array.\nThe second time I tried it from scratch on Windows 10, I noticed installing angularfire2 required me to have python and the Microsoft build tools installed. I've been able to get it working for bcrypt, but couldn't get it to install without an error for angularfire2. I'm not sure if this is related.\n. ",
    "ANekoIsFineToo": "I am getting the same problem using the angular-cli: 1.0.0-beta.15 on Windows 10. My node version is 6.5.0 and my npm version is 3.10.3. Also I already have tried to add types in tsconfig.json file but it seems to doesn't work anyway.\n\nSolved adding import * as firebase from 'firebase'; in src/app/app.module.ts, also i needed to change:\ndeclare var require: any;\ndeclare var module: any;\nto\ndeclare var require: NodeRequire;\ndeclare var module: NodeModule;\nin src/typings.d.ts.\n. ",
    "christoferd": "Thanks for the help, I have given up. \nI thought package managers were supposed to avoid these versioning issues.\nBTW I'm on Windows 10 too, however, I doubt that is the cause.\nI really don't like these things that rewrite javascript. I like javascript the way it is. \nI'm not afraid of typing extra characters. And, I don't like HTML in javascript files.\nFWIW, my favourite firebase tutorial is the official firebase quickstart for web, it uses no extra special libraries or packages, and is written in raw javascript :-)\nhttps://github.com/firebase/quickstart-js\n. ",
    "jwuliger": "Yes please release it. We need it badly for our project. Thanks!!\n. @davideast Thanks David!\n. Hello, I am having a serious issue right now with this as well. I am just doing a simple call as per the documentation. My exact code:\n```\nuser: FirebaseObjectObservable;\nconstructor(\n    public router: Router,\n    public auth: AuthService,\n    public af: AngularFire\n) {\n    this.user = af.database.object( '/user-profile/' + auth.id );\n}\n```\nThen in my template:\n{{ (user | async)?.userName }}\nI have tried to set this.user in the constructor and in ngOnInit both take almost 30 seconds to render to the page in the browser. When I do a console.log I get the data back instantly. I am using a staging database project with 3 records.\nI also tried to use FirebaseListObservable as @daslicht stated, however this does not work for me. Is there anything I can do as a workaround?\nThanks\n. Yes I used the Zone work-around and that fixed the problem with FirebaseObjectObservable. FirebaseListObservable is working as expected. I just ran a test again. Thanks @daslicht and @frankspin89 \n. @frankspin89 Sure! Sorry for the late reply. Here is my working component code:\n```\nimport { Component, OnInit, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AngularFire, FirebaseObjectObservable } from 'angularfire2';\nimport { AuthService } from '../../../core/services/auth.service';\n@Component( {\n    selector: 'dashboard-header',\n    templateUrl: './header.component.html',\n    styleUrls: [ './header.component.scss' ]\n})\nexport class HeaderComponent implements OnInit {\nuser: FirebaseObjectObservable<any>;\n\nconstructor(\n    public router: Router,\n    public auth: AuthService,\n    public af: AngularFire,\n    public zone: NgZone\n) { }\n\nngOnInit() {\n    this.af.database.object( '/user-profile/' + this.auth.id )\n        .take( 1 )\n        .subscribe( snapshot => {\n            this.zone.run(() => {\n                if ( snapshot !== null && snapshot !== undefined ) {\n                    this.user = snapshot;\n                }\n            });\n        });\n}\n\nsignOut() {\n    this.auth.signOut();\n    this.router.navigate( [ '/dashboard' ] );\n}\n\n}\n```\nThen is my template this is how I call the properties:\n<img *ngIf=\"auth.authenticated\" src=\"{{ user?.photoUri }}\" alt=\"{{ user?.userName }}\">\nI hope this helps!!\n. @frankspin89 No problem for posting. Sorry you are still facing issues. I see you are not using the zone.run workaround. Have you tried that in your code that you posted? Either in your service or component code. Here would be an example using zone in your component code:\n```\nexport class ProfileIndexComponent implements OnInit {\n    user: FirebaseObjectObservable;\n    constructor( private authService: AuthService ) { }\nngOnInit() {\n    this.authService.getUserProfile().subscribe( data => {\n        this.zone.run(() => {\n            this.user = <FirebaseObjectObservable<UserProfile[]>>data;\n            console.log( 'user', this.user )\n        });\n    });\n}\n\n}\n```\nAlso just out of curiosity, it looks like your data model for your user profile is being set as an array. Have you tried using it as an object? So instead of FirebaseObjectObservable<UserProfile[]> it would be FirebaseObjectObservable<UserProfile>\nAlso in your service, do you have authResp returning the UID/$Key of the user's profile you are getting?\nOn a separate note, I found that the code I posted above works in cases where I am lazy loading a module. Any other case I have to go about it differently. Here is an example of the code I use when I am not lazy loading:\nThe Service\n```\n@Injectable()\nexport class UserProfileService {\n    public profile$: FirebaseObjectObservable;\nconstructor(\n    public af: AngularFire,\n    public auth: AuthService\n) {\n    const path: string = `/user-profile/${this.auth.id}`;\n    this.profile$ = af.database.object( this.path );\n}\n\n}\n```\nThe Component\n```\nexport class RandomComponent implements OnInit {\nuser;\n\nconstructor(\n    public userProfileService: UserProfileService\n) { }\n\nngOnInit() {\n    this.userProfileService.profile$\n        .subscribe( user => this.user = user );\n}\n\n}\n```\nThe Template\n<h1>{{ user?.userName }}</h1>\nIn this case I don't need to use zone.run Very strange behavior indeed.\n. @jeffbcross Thanks. I can see the crux and why things have been happening the way they have.\n. Same here. I thought I was going crazy!\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:12:8 \nDuplicate identifier 'Promise'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:17:8 \nDuplicate identifier 'Promise_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:130:8 \nDuplicate identifier 'EmailAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:135:8 \nDuplicate identifier 'EmailAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:144:8 \nDuplicate identifier 'FacebookAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:148:8 \nDuplicate identifier 'FacebookAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:153:8 \nDuplicate identifier 'GithubAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:157:8 \nDuplicate identifier 'GithubAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:162:8 \nDuplicate identifier 'GoogleAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:167:8 \nDuplicate identifier 'GoogleAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:172:8 \nDuplicate identifier 'TwitterAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:177:8 \nDuplicate identifier 'TwitterAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:181:7 \nDuplicate identifier 'UserCredential'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:339:7 \nDuplicate identifier 'StringFormat'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:340:6 \nDuplicate identifier 'StringFormat'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:347:7 \nDuplicate identifier 'TaskEvent'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:348:6 \nDuplicate identifier 'TaskEvent'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:352:7 \nDuplicate identifier 'TaskState'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:353:6 \nDuplicate identifier 'TaskState'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\angularfire2\\node_modules\\firebase\\firebase.d.ts:390:2 \nDuplicate identifier 'export='.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:12:8 \nDuplicate identifier 'Promise'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:17:8 \nDuplicate identifier 'Promise_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:132:8 \nDuplicate identifier 'EmailAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:137:8 \nDuplicate identifier 'EmailAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:146:8 \nDuplicate identifier 'FacebookAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:150:8 \nDuplicate identifier 'FacebookAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:155:8 \nDuplicate identifier 'GithubAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:159:8 \nDuplicate identifier 'GithubAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:164:8 \nDuplicate identifier 'GoogleAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:169:8 \nDuplicate identifier 'GoogleAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:174:8 \nDuplicate identifier 'TwitterAuthProvider'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:179:8 \nDuplicate identifier 'TwitterAuthProvider_Instance'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:183:7 \nDuplicate identifier 'UserCredential'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:354:7 \nDuplicate identifier 'StringFormat'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:355:6 \nDuplicate identifier 'StringFormat'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:362:7 \nDuplicate identifier 'TaskEvent'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:363:6 \nDuplicate identifier 'TaskEvent'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:367:7 \nDuplicate identifier 'TaskState'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:368:6 \nDuplicate identifier 'TaskState'.errors @ client?d09b:80sock.onmessage @ socket.js:37EventTarget.dispatchEvent @ eventtarget.js:51(anonymous function) @ main.js:274SockJS._transportMessage @ main.js:272EventEmitter.emit @ emitter.js:50WebSocketTransport.ws.onmessage @ websocket.js:35wrapFn @ zone.js:698ZoneDelegate.invokeTask @ zone.js:265Zone.runTask @ zone.js:154ZoneTask.invoke @ zone.js:335\nclient?d09b:80 [default] F:\\Beta Source Code\\request-it\\node_modules\\firebase\\firebase.d.ts:405:2 \nDuplicate identifier 'export='.\n. For me I was installing the Firebase SDK and AngularFire2 via NPM. Now it seems that I can't use the latest Firebase SDK v3.5.3, but only the one that is included with AngularFire2 (v3.3.0). Each install was conflicting with each other. @davideast will there be a way to use the new Firebase SDK in the future? Thanks!\n. When I have had problems connecting to firebase auth in the past, it was always my workstation's security software. In my case, I use Bitdefender Total Security and if you disable Scan SSL under your Web Protection area for whatever security software you use. It took me a very long time and headache to discover this. Now if you do not have any security/malware running then I am not sure. Just trying to help.. Hello, the same issue is happening for me as well. @dschnelldavis is correct by taking Firebase back down to 4.1.3. Definitely not ideal, but works for now.. Hello, I am also getting this error on NG 5.0.0-rc.6. Please merge, pretty please?. Hello, I am now getting the error myself when I try to build my ssr prerender using @angular/universal with the latest version of AF2. Funny enough it has been working all day. I just updated all my node modules. I usually do this every 4 - 6 hours. Not sure if that has anything to do with it.\nHere is the complete and boring console log of the error step by step:\nconsole_error_log.txt\nThanks!\n. Why was this closed? This is still an occurring issue in RC.11. Using my own node server I still get this error. Any help or direction to a workaround or anything would be greatly appreciated. Thanks!. I have tried everything as well. All suggestions including the one from @yugank1991. Prerendering and SSR does not work with Firebase Hosting/Cloud Functions. I can't speak for anyone else but I am also not able to get it to work on my workstation using a simple NodeJS Server. I don't understand why this issue was closed as many people are having problems with it. Is there something that I am missing here? Is there a specific combination of pack\nage versions I should be using? Very eagerly awaiting for a solution to use either complete server-side rendering and or prerendering. Seems all other Frameworks and stacks do not have this issue. Please let me know if there is anything I can do. Thank you so much.. Update - \nFound the issue for me. @yugank1991 Your solution was what led me to find out that I needed to add an additional import.\nInstead of:\nimport * as firebase from 'firebase/app';\nI changed the imports to:\nimport { firebase } from '@firebase/app';\nimport 'firebase/app';\nNow I can run SSR on any Node server. I am still in the process of testing the firebase function for hosting. If you would like to see this working in real-time check out my Repo here: \nhttps://github.com/jwuliger/personal-website. Hello @alexdabast Judging from what is working for others in this issue, my best guess is that it must be environment/package related. \nI am not currently using Firebase Messaging. My issue was using Firebase with AngularFire2 in dynamic SSR and/or generative prerendering with Angular Universal.\nMy environment is:\nAngular CLI: 6.1.0-beta.0\nNode: 8.11.3\nOS: win32 x64\nAlso from my last comment, you can pull the app I am working on in question from my public repository here: https://github.com/jwuliger/personal-website\nAs for why I need to import Firebase that way into AngularFire2 - well not 100% sure. My best guess is all the typing changes in vanilla Firebase. My work-around to patch AngularFire2 came from how the lib angularfire-lite was importing Firebase; as this lib did work with SSR.\nThere is an Angular v6 Branch you can check out here that also includes Firebase Messaging: https://github.com/hamedbaatour/angularfire-lite/tree/v6.0\nI hope that this helps and be sure to checkout my repo to see AngularFire2 & Angular Universal working.\nNext goal is to be able to run my node server from a cloud function whenever they fix that.\nThanks. @alexdabast Yes, that was another solution. I wanted to use the latest RC.11 build though. I am glad you have everything squared away now!. ",
    "dukeayers": "I am currently not using angular-cli and I was running into an unexpected token issue. Downgrading the firebase version to 3.3.0 is what essentially allowed my application to continue working. I wasn't able to really find any details on this until I decided to search through the open issues of the repository. \nSo if anyone else is running into the same issue of using firebase 3.4.0and beta.5, I would recommend switching over to firebase 3.3.0 to fix it.\n. ",
    "richtera": "I am still using my workaround by patching. It's ugly by it works\n. Fixed to use app() instead of database().\n. Rebased and force pushed.\n. I can try. I have not used the angular cli. I was cloning and adding to git@github.com:AngularClass/angular2-webpack-starter.git when I ran into the problem.\n. Once this module is published in npm it will just work.\n. I fixed all the merge conflict but I have not had time to write any docs. Basically you just use the latest code and any webpack with hmr will no longer fail due to multiple initializeApp calls on firebase.\n. Ideally, this call should not be made multiple times, but the way hmr reloads classes it will re-execute the constructor and initializeApp for these classes. My code change just catches the exception thrown by firebase when this happens and returning the default app instead. It's not the prettiest of solutions but allows hmr and angularfire2 to live together.\n. ",
    "adarshashu96": "try this:\ndeclare var firebase: any;. ",
    "ribsies": "definitely could use this asap!\n. definitely could use this asap!\n. This is how I was getting around it when I was using vanilla firebase. I switched to angular2 fire today assuming it had a better solution. Turns out they don't have any! So I think this is a completely acceptable fix.\n. This is how I was getting around it when I was using vanilla firebase. I switched to angular2 fire today assuming it had a better solution. Turns out they don't have any! So I think this is a completely acceptable fix.\n. This is how I was getting around it when I was using vanilla firebase. I switched to angular2 fire today assuming it had a better solution. Turns out they don't have any! So I think this is a completely acceptable fix.\n. This is how I was getting around it when I was using vanilla firebase. I switched to angular2 fire today assuming it had a better solution. Turns out they don't have any! So I think this is a completely acceptable fix.\n. ",
    "nydal91": "I have the same problem...\n. it work when i follow the Troubleshooting.\nhttps://github.com/angular/angularfire2/blob/master/docs/1-install-and-setup.md\ntsconfig.json:\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n     \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n                  \"firebase\"\n                      ] }\n}\n. I don't understand the question. but  I just restart the guide to I get it to work. toke some time. \n. Issue is that is not write like that in the guide in authentication part. Get just error messages if i follow the guide in that part\n. ",
    "k1ng440": "you added \"firebase\" to types, right?\nit didnt work for me\n. i have firebase on node_modules/firebase and angularfire2/node_modules/firebase\n. removed and it didn't solve the issue\n. i tried to add \n///  <reference path=\"node_modules/firebase/firebase.d.ts\" /> to main.ts, typings.d.ts and app.module.ts. none of them solves this issue\nthanks\n. i have both in app.modules.ts and it doesn't work :(\n. Hi,\nYes i have used ../ but still doesn't help me\n/// <reference path=\"../../node_modules/firebase/firebase.d.ts\" />\n. @csotomon yes\ndont add to tsconfig.json and you should be fine\n. ",
    "alexeagle": "@k1ng440 is that the right relative path, or does it need some ../ on the front?\n. Chatted with @davideast, I think we'll work together on this next month. It would be the same work for making angularfire available internally at google.. My work-in-progress is on this branch:\nhttps://github.com/alexeagle/angularfire2/tree/bazel\nif anyone has time to pick this up and get the tests passing, that would be awesome! otherwise maybe David and I can get to it later.... this is bad, why can't you change the other side to use lib.es2015.promise.d.ts instead?\n. ",
    "csotomon": "Hi, is this fixed in the npm package?\n. In mac OS X works perfect, but in Windows 10 dont.\n\nC:\\proyectos\\testFirebase>ng serve\n* NG Live Development Server is running on http://localhost:4200. *\n6541ms building modules\n31ms sealing\n0ms optimizing\n0ms basic module optimization\n94ms module optimization\n0ms advanced module optimization\n16ms basic chunk optimization\n0ms chunk optimization\n0ms advanced chunk optimization\n0ms module and chunk tree optimization\n125ms module reviving\n0ms module order optimization\n0ms module id optimization\n0ms chunk reviving\n0ms chunk order optimization\n15ms chunk id optimization\n63ms hashing\n0ms module assets processing\n140ms chunk assets processing\n0ms additional chunk assets processing\n0ms recording\n0ms additional asset processing\n1860ms chunk asset optimization\n1375ms asset optimization\n47ms emitting\nHash: 2e01e12af9286806d79f\nVersion: webpack 2.1.0-beta.22\nTime: 10322ms\n            Asset       Size  Chunks             Chunk Names\n   main.bundle.js    3.27 MB    0, 2  [emitted]  main\n styles.bundle.js    10.2 kB    1, 2  [emitted]  styles\n        inline.js    5.53 kB       2  [emitted]  inline\n         main.map     3.4 MB    0, 2  [emitted]  main\n       styles.map      14 kB    1, 2  [emitted]  styles\n       inline.map    5.59 kB       2  [emitted]  inline\n       index.html  479 bytes          [emitted]\nassets/.npmignore    0 bytes          [emitted]\n\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\angularfire2.d.ts:13:65\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\angularfire2.d.ts:15:45\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth.d.ts:9:39\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth.d.ts:10:51\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth.d.ts:10:91\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth.d.ts:11:50\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth.d.ts:11:118\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth.d.ts:14:55\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:6:81\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:8:48\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:13:45\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:40:10\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:42:13\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:43:13\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:44:14\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:45:15\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:48:54\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\auth_backend.d.ts:48:84\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:5:13\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:6:24\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:14:72\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:16:35\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\auth\\firebase_sdk_auth_backend.d.ts:17:36\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\database.d.ts:8:28\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\database.d.ts:9:30\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_factory.d.ts:3:73\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_factory.d.ts:3:103\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:6:49\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:6:79\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:8:10\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:8:40\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:9:22\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:9:52\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:11:20\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:12:52\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:13:38\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_list_observable.d.ts:14:82\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_object_factory.d.ts:3:75\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:7:101\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:9:21\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:10:27\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\database\\firebase_object_observable.d.ts:11:14\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\interfaces.d.ts:9:22\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\interfaces.d.ts:10:25\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\interfaces.d.ts:11:25\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\node_modules\\angularfire2\\interfaces.d.ts:12:34\nCannot find namespace 'firebase'.\nERROR in [default] C:\\proyectos\\testFirebase\\src\\typings.d.ts:6:12\nSubsequent variable declarations must have the same type.  Variable 'require' must be of type 'NodeRequire', but here has type 'any'.\nERROR in [default] C:\\proyectos\\testFirebase\\src\\typings.d.ts:7:12\nSubsequent variable declarations must have the same type.  Variable 'module' must be of type 'NodeModule', but here has type 'any'.\nChild html-webpack-plugin for \"index.html\":\n         Asset     Size  Chunks       Chunk Names\n    index.html  2.81 kB       0\nwebpack: bundle is now VALID.\n. this is solved in 5.0.0-rc.5-next, but i had to downgrade firebase to firebase@^4.13.1. ",
    "suryashekhawat": "to solve this issue just copy firebase folder from /node_module to /node_module/@types it will remove all those errors...i have tried it and it worked for me finally\n. ",
    "filipesilva": "Just ran into this on windows myself. There's 2 steps to fix it atm:\n- remove \"firebase\" from the types array in tsconfig.json\n- add /// <reference path=\"../node_modules/firebase/firebase.d.ts\" /> to your src/typings.d.ts. Verify this file exists though, if it doesn't you probably need to add firebase as a dependency.\n. ",
    "lednhatkhanh": "Tried adding \nimport * as firebase from 'firebase';\nand got this these errors instead:\n```\nERROR in [default] C:\\Users\\lednh\\Documents\\ng2\\ng2-simple-todos\\node_modules\\@types\\firebase\\index.d.ts:326:1               \nDuplicate identifier 'export='.                                                                                                \nERROR in [default] C:\\Users\\lednh\\Documents\\ng2\\ng2-simple-todos\\node_modules\\firebase\\firebase.d.ts:405:2                   \nDuplicate identifier 'export='.\n```\n. Thanks, waiting for this to be merged!\nOh, I saw that it has been merged, how can I update angularfire 2 to have this function?. ",
    "soccio": "@mukesh51  Removing all the \"import * as firebase from 'firebase';\" added to commit/c3a954c worked for me.\n. ",
    "razvantomegea": "npm install --save angularfire2 firebase\nIn tsconfig.json add:\nbash\n\"files\": [\n      \"../node_modules/firebase/firebase.d.ts\"\n    ]\nIn anglar-cli.json file add:\nbash\n\"scripts\": [\n        \"../node_modules/firebase/firebase.js\",\n]\nAnd in typings.d.ts file add:\nbash\ndeclare var System: any;\ndeclare var require: any;\ndeclare var module: any;\nClose the server and re-run ng serve\nThere is no need to install @types/firebase and add firebase to types array\nUpgrade from Angular 2.RC4 to final with Angular-CLI\n. ",
    "EnricoPicci": "I tried some of the workarounds listed in the answers but I am not able to solve the problem.\nI still get \n\"ERROR in [default] \nCannot find type definition file for 'firebase\"\nwhile compiling with Webpack (even if the app starts and works fine).\nI am working with:\n\nAngular 2.0.1\nfirebase not installed to avoid compilation errors (see https://github.com/angular/angularfire2/issues/658)\n\"angular2-firebase\": \"^0.7.3\",\n\"angularfire2\": \"^2.0.0-beta.4\"\nangular-cli: 1.0.0-beta.16\nnode: 7.2.0\nos: darwin x64\n\npackage.json is\n{\n  \"name\": \"final-project\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"start\": \"ng serve\",\n    \"lint\": \"tslint \\\"src/*/.ts\\\"\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\",\n    \"populate-db\": \"./node_modules/.bin/ts-node ./populate-db.ts\",\n    \"batch-server\": \"./node_modules/.bin/ts-node ./batch-server.ts\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.1\",\n    \"@angular/compiler\": \"2.0.1\",\n    \"@angular/core\": \"2.0.1\",\n    \"@angular/forms\": \"2.0.1\",\n    \"@angular/http\": \"2.0.1\",\n    \"@angular/platform-browser\": \"2.0.1\",\n    \"@angular/platform-browser-dynamic\": \"2.0.1\",\n    \"@angular/router\": \"3.0.0\",\n    \"@types/lodash\": \"^4.14.36\",\n    \"@types/request\": \"0.0.30\",\n    \"angular2-firebase\": \"^0.7.3\",\n    \"angularfire2\": \"^2.0.0-beta.4\",\n    \"core-js\": \"^2.4.0\",\n    \"firebase-queue\": \"^1.5.0\",\n    \"lodash\": \"^4.15.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.21\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.2.30\",\n    \"angular-cli\": \"1.0.0-beta.16\",\n    \"codelyzer\": \"~0.0.26\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"0.13.22\",\n    \"karma-chrome-launcher\": \"0.2.3\",\n    \"karma-jasmine\": \"0.3.8\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"4.0.3\",\n    \"ts-node\": \"^1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"^2.0.2\"\n  }\n}\ntsconfig.json is\n```\n{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"mapRoot\": \"./\",\n    \"module\": \"es6\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ],\n    \"types\": [\n      \"node\",\n      \"firebase\"\n    ]\n  }\n}\n```\ntypings.d.ts is \n```\n// Typings reference file, see links for more information\n// https://github.com/typings/typings\n// https://www.typescriptlang.org/docs/handbook/writing-declaration-files.html\ndeclare var System: any;\n```. I removed 'firebase' from the \"types\" of typings.d.ts and the error disappeared.\nThis was already suggested as a solution in this thread but, for reasons which are not clear to me, it did not work before in my case.\nThanks for the support. ",
    "timeens": "Had the same error after upgrading nodejs on Windows 10 to v.8.9.3. Using Angulafire v.5.0.0-rc.4\nFixed it by removing \nimport * as firebase from 'firebase/app'; \nfrom\nnode_modules\\angularfire2\\firebase.app.module.d.ts. ",
    "meanMonk": "@timeens ,\nI am stiill facing some issue after removing \nimport * as firebase from 'firebase/app'; from file you have suggested..\nHere is error:\n ERROR in node_modules/angularfire2/firebase.app.module.d.ts(4,45): error TS2503: Cannot find namespace 'fir\nnode_modules/angularfire2/firebase.app.module.d.ts(7,17): error TS2503: Cannot find namespace 'firebase'.  \nnode_modules/angularfire2/firebase.app.module.d.ts(8,21): error TS2503: Cannot find namespace 'firebase'.  \nnode_modules/angularfire2/firebase.app.module.d.ts(9,22): error TS2503: Cannot find namespace 'firebase'.  \nnode_modules/angularfire2/firebase.app.module.d.ts(10,20): error TS2503: Cannot find namespace 'firebase'. \nnode_modules/angularfire2/firebase.app.module.d.ts(12,22): error TS2503: Cannot find namespace 'firebase'.\nNode Version: v8.4.0\nAngular cli : \nAngular CLI: 1.6.1\nNode: 8.4.0\nOS: win32 x64\nAngular: 5.1.1\nHere is the dependencies\n\"dependencies\": {\n    \"@angular/animations\": \"^5.0.0\",\n    \"@angular/common\": \"^5.0.0\",\n    \"@angular/compiler\": \"^5.0.0\",\n    \"@angular/core\": \"^5.0.0\",\n    \"@angular/forms\": \"^5.0.0\",\n    \"@angular/http\": \"^5.0.0\",\n    \"@angular/platform-browser\": \"^5.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.0.0\",\n    \"@angular/router\": \"^5.0.0\",\n    \"angularfire2\": \"^5.0.0-rc.5-next\",\n    \"bootstrap\": \"^4.0.0-beta.2\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.8.1\",\n    \"font-awesome\": \"^4.7.0\",\n    \"jquery\": \"^3.2.1\",\n    \"rxjs\": \"^5.5.2\",\n    \"zone.js\": \"^0.8.14\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.6.1\",\n    \"@angular/compiler-cli\": \"^5.0.0\",\n    \"@angular/language-service\": \"^5.0.0\",\n    \"@types/firebase\": \"^2.4.32\",\n    \"@types/jasmine\": \"~2.5.53\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.6.2\",\n    \"jasmine-spec-reporter\": \"~4.1.0\",\n    \"karma\": \"~1.7.0\",\n    \"karma-chrome-launcher\": \"~2.1.1\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~3.2.0\",\n    \"tslint\": \"~5.7.0\",\n    \"typescript\": \"~2.4.2\"\n  }\nCan you guys' please help me out with this.\nI have tried all possible solution suggested in all the issue on github and also updated the angular cli and created new project as well still facing same issue.\nThank you in adavance.\n. @giannico ,\nCan you please share the version of angularfire2 which you are using in your project as well?\n. Thank you, @giannico .\nIssue resolved now.\nI really appreciate your help.. ",
    "giannico": "@meanMonk,\nI had the same issue last night, I was able to resolve it by rolling the firebase dependency back to 4.6.0. I didn\u2019t get to look into the root cause of the differences between 4.6.0 definitions and 4.8.1 definitions, but this definitely solved it for me.. ",
    "jahmani": "Thank you very much @meanMonk , you saved my time, faced the same issue after upgrading ionic2 project.\nresolved by rolling the firebase dependency back to 4.6.0. ",
    "mjimenezmartin": "Same error. Going back to 4.6.0.. ",
    "uceph": "Same error. but that's work for me:\nhttps://stackoverflow.com/questions/47927038/cannot-find-module-firebase-app-types-private. ",
    "tonymk": "Same problem with this setup:\nWindows 10, angular-cli beta 14\n{\n  \"dependencies\": {\n    \"@angular/common\": \"2.0.0\",\n    \"@angular/compiler\": \"2.0.0\",\n    \"@angular/core\": \"2.0.0\",\n    \"@angular/forms\": \"2.0.0\",\n    \"@angular/http\": \"2.0.0\",\n    \"@angular/platform-browser\": \"2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0\",\n    \"@angular/router\": \"3.0.0\",\n    \"@types/request\": \"0.0.30\",\n    \"angularfire2\": \"^2.0.0-beta.5\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.4.0\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.2.30\",\n    \"angular-cli\": \"1.0.0-beta.14\",\n    \"codelyzer\": \"~0.0.26\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"4.0.5\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"2.0.2\"\n  }\n}\nAnd i have added: \n\"types\": [\n\"firebase\"\n]\n. Used angular-cli to make a new project, then a npm install -g firebase angularfire2.\nThen added angularfire2 module to the app.module, then added types: [\"firebase\"] to tsconfig\n. A trick to get around it:\n```\nimport { Observable } from 'rxjs/Rx';\nObservable.of(null).delay(50).subscribe( () => {\n  this.auth.redirectAfterLogin();\n})\n```\nor my litle hack: \n```\n@Injectable()\nexport class AuthGuard implements CanActivate {\nconstructor(\n    private router: Router,\n    @Inject(FirebaseApp) private firebaseApp: any\n) { }\n\ncanActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    // return true if authenticated\n    if (firebase.auth().currentUser) return Observable.of(true);\n\n    // if no currentUser, give it 50ms more before declining, for firebase auth to check if you are logged in or not.\n    return Observable.of(null).delay(50).map(() => {\n        if (this.firebaseApp.auth().currentUser) { return true; }\n        this.router.navigateByUrl('login');\n        return false;\n    });\n\n}\n\n}\n```\nEdit: found a better way from https://blog.khophi.co/angularfire2-authentication/\n```\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/first';\nimport { Observable } from 'rxjs/Rx';\n@Injectable()\nexport class AuthGuard implements CanActivate {\nconstructor(\n    private af: AngularFire,\n    private router: Router\n) { }\n\ncanActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.af.auth.map((auth) => {\n        if (auth == null) {\n            this.router.navigate(['/login']);\n            return false;\n        } else {\n            return true;\n        }\n    }).first();\n\n}\n\n}\n```\n. I think it will be with a new version: see commit: https://github.com/angular/angularfire2/commit/c3a954cd857fc297438f53d3a1e3bf69b6af01c2\n. beta.6 is out now @Maistho @govi2010 @JT-Bruch \n. Would be helpfull if the code was properly formatted.\nI do not see any subscriptions for your Observables, nor do i see that you cleanup the Observables.\nRemember that you are creating new Observables every time your /posts data change.\nIt is easy when observables complete, which they do not in firebase, unless explicitly told to.(They are made to stay listening until unsubscribed)\nSo you have to decide if you want to keep listening to new changes or get the current state (complete your subscriptions).\nIf you want the observables to complete, you can use first() or other operators to do so. \nand then just put all the observables in an Observable.forkJoin(observables[])\nreativex.io documentation\nElse you could make a Object to keep track when everything is loaded.\nloaded: {[post_id: string]: boolean} and on data change in the subscription put it in the loaded object.\nAnd then check the length of it to determine if you have loaded everything.\nJust a few ramblings from the top of my head. hope it helps.. ",
    "ianrothmann": "I solved my issue by adding:\n/// <reference path=\"../node_modules/firebase/firebase.d.ts\" />\nto typings.d.ts\nSee this thread:\nhttps://github.com/angular/angularfire2/issues/525\n. ",
    "anderflash": "Another solution is including in app.module.ts:\ntypescript\nimport * as firebase from 'firebase';\n. ",
    "jormaturkenburg": "I'm getting the same error.\n. ",
    "hllink": "same here\n. @jeffbcross hi, thank you for the attention.\nwhen i change the SystemJS i got the following error:\n\nthe file http://localhost:3000/node_modules/angularfire2/index.js do exists and has the following content:\nexport * from './angularfire2';\n//# sourceMappingURL=index.js.map\n. Updated angular-cli to version 1.0.0-beta.15 and it solved the issue, gonna close it now, thanks for the support.\n. thank you for sharing this, gonna test it tomorrow, maybe the best is to leave this issue open until a fix.\n. got the same issue, i just updated the angular-cli to 1.0.0-beta.15, created a new project with \"ng new\", installed firebase and angularfire2 with \"npm install firebase angularfire2 --save \", copied my project files  to the new project and it worked as expected when i run it with ng serve.\n. me neither, i started to use it because its required for angularfire2 to work, i almost wrote myself a service using the web api from firebase, i was very resistant about it but now it works just fine and the setup took me 5 minutes..\n[edit] i even tried to change the systemjs,packagejs and tsconfigjs to make it work, as i described on this issue https://github.com/angular/angularfire2/issues/537\n. Oh good to know! thank you!\n. got an issue directed related with this question https://github.com/angular/angularfire2/issues/566 for redirect method of login that would help if this is awnsered.\n. ",
    "Klemen1337": "I think it just needs to be updated for the final version.\n. ",
    "satyabratasenapati": "I have the same issue .Please kindly help to solve\n. ",
    "Judahh": "Me too!\n. I have the same problem. And if I do what @mcchae7 suggests I receive this error: \n\nzone.js:1382 GET http://localhost:8000/traceur 404 (Not Found).\n\nrepro:\nhttps://github.com/Judahh/judahh\n. ",
    "meDavid": "I signed and modified the github accountname for the CLA\n. @davideast\nI didn't modify https://github.com/angular/angularfire2/blob/master/rollup.test.config.js#L7 as it was the module name and not the file name. The rollup test config doesn't affect this issue as it uses a totally different filename. \n. @maxmumford The CLA check no longer worked for me. I updated the CLA details to contain my github username, but it didn't update the cla label.\n. @katowulf Yes, I will make it happen in the next couple of days\n. @katowulf @davideast I updated the pullrequest with an additional test to see if the behavior is correct. If you have any suggestions for improvements, let me know.\n. @davideast  I don't see any merge conflict, only a rebase conflict but I don't know how to resolve that. Any pointers?\n. @byrondover I'll find some time this weekend. superseded by https://github.com/angular/angularfire2/pull/787. ",
    "byrondover": "Patched these changes in locally, works brilliantly! C'mon @meDavid, new branch and new PR to quick fix, you deserve the commit creds.. I signed it!\nOn Sun, Jan 22, 2017 at 5:10 PM, googlebot notifications@github.com wrote:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project. Before we can look at your\npull request, you'll need to sign a Contributor License Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll\nverify. Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your\n   GitHub username or you're using a different email address. Check your\n   existing CLA data https://cla.developers.google.com/clas and verify\n   that your email is set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\nIf you signed the CLA as a corporation, please let us know the\n   company's name.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/787#issuecomment-274375845,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA1XeUw777I51Sj9ApyMIXnu9zQCE4qEks5rU_4AgaJpZM4Lqk7Q\n.\n. @renansuzin This should be addressed by #787.\n\nSee #197 for a workaround, and #302 for more context / details. As a side note, nesting a list of alunos within turmas may be a bit of an anti-pattern, and you might want to consider instead using separate calls to retrieve alunos, as necessary. :bowtie:\nhttps://firebase.google.com/docs/database/web/structure-data#avoid_nesting_data. Fair enough.\nYou may want to consider implementing a lookup collection in Firebase for students belonging to classrooms (e.g. turmaAlunos), but it depends on your use case and query patterns. @davideast has a great video about this on YouTube: https://youtu.be/ran_Ylug7AE.\nFeel free to ping me on Gitter if you'd like to discuss further!\nhttps://gitter.im/angular/angularfire2. I too am experiencing this AOT warning.\n```\n% ng --version\n_                      _                 ____ _     ___\n\n/ \\   _   _  | |  _ _      / | |   | |\n  / \u25b3 \\ | ' \\ / _| | | | |/ _ | '|   | |   | |    | |\n /  \\| | | | (| | || | | (| | |      | || | | |\n//   __| ||_, |_,||_,||       _|_|_|\n               |___/\nAngular CLI: 1.7.1\nNode: 8.9.1\nOS: darwin x64\nAngular: 5.2.6\n... animations, common, compiler, compiler-cli, core, forms\n... http, language-service, platform-browser\n... platform-browser-dynamic, router\n@angular/cdk: 5.2.2\n@angular/cli: 1.7.1\n@angular/flex-layout: 2.0.0-beta.12\n@angular/material: 5.2.2\n@angular-devkit/build-optimizer: 0.3.2\n@angular-devkit/core: 0.3.2\n@angular-devkit/schematics: 0.3.2\n@ngtools/json-schema: 1.2.0\n@ngtools/webpack: 1.10.1\n@schematics/angular: 0.3.2\n@schematics/package-update: 0.3.2\ntypescript: 2.6.2\nwebpack-bundle-analyzer: 2.10.1\nwebpack: 3.11.0\n```. I'm on a business trip until Friday, but I shall give it a shot this weekend.\nThanks for the tip, David! \ud83d\udc4a . TL;DR: Refactoring AngularFireModule module for Angular Universal (#1454) also addressed these console warnings. \ud83c\udf89\nBumping angularfire2 version to 5.0.0-rc.7.0-next provides early access to this fantastic update. \n\nI went through the es2015 fields in each module's package.json, and found the core packages already contain a populated es2015 field.\n\nsrc/auth/package.json\nsrc/core/package.json\nsrc/database-deprecated/package.json\nsrc/database/package.json\nsrc/firestore/package.json\nsrc/storage/package.json\n\nSince I believe everything's as it should be, I'm closing this issue. If I have missed an opportunity to contribute, please feel free to reopen and @ me. \ud83d\ude04 \n\nRaw Notes\n```shell\nangularfire2 [master] % find . | grep package.json\n./package.json\n./src/auth/package.json\n./src/core/package.json\n./src/database/package.json\n./src/database-deprecated/package.json\n./src/firebase-node/package.json\n./src/firestore/package.json\n./src/storage/package.json\n./test/ng-build/ng5/package.json\n./test/ng-build/package.json\n./test/universal-test/package.json\nangularfire2 [master] % find . | grep package.json | xargs grep 'es2015'\n./src/auth/package.json:  \"es2015\": \"./es2015/index.js\",\n./src/core/package.json:  \"es2015\": \"es2015/index.js\",\n./src/database/package.json:  \"es2015\": \"./es2015/index.js\",\n./src/database-deprecated/package.json:  \"es2015\": \"./es2015/index.js\",\n./src/firestore/package.json:  \"es2015\": \"./es2015/index.js\",\n./src/storage/package.json:  \"es2015\": \"./es2015/index.js\",\nangularfire2 [master] % yarn build\nyarn run v1.6.0\n$ rm -rf dist && node tools/build.js\nTreating '@angular/core' as external dependency\nTreating 'rxjs/Observable' as external dependency\nTreating 'rxjs/scheduler/queue' as external dependency\nTreating 'zone.js' as external dependency\nTreating 'rxjs/add/operator/first' as external dependency\nTreating 'rxjs/operator/observeOn' as external dependency\nTreating '@firebase/app' as external dependency\nTreating '@angular/core' as external dependency\nTreating 'rxjs/Observable' as external dependency\nTreating 'angularfire2' as external dependency\nTreating 'rxjs/add/operator/switchMap' as external dependency\nTreating 'rxjs/add/observable/of' as external dependency\nTreating 'rxjs/add/observable/fromPromise' as external dependency\nTreating '@firebase/auth' as external dependency\nTreating '@angular/core' as external dependency\nTreating 'rxjs/Observable' as external dependency\nTreating 'rxjs/add/operator/map' as external dependency\nTreating 'rxjs/add/operator/delay' as external dependency\nTreating 'rxjs/add/operator/share' as external dependency\nTreating 'rxjs/add/operator/scan' as external dependency\nTreating 'rxjs/add/observable/merge' as external dependency\nTreating 'rxjs/add/observable/of' as external dependency\nTreating 'rxjs/add/operator/switchMap' as external dependency\nTreating 'rxjs/add/operator/filter' as external dependency\nTreating 'rxjs/add/operator/distinctUntilChanged' as external dependency\nTreating 'rxjs/add/operator/skipWhile' as external dependency\nTreating 'rxjs/add/operator/withLatestFrom' as external dependency\nTreating 'angularfire2' as external dependency\nTreating '@firebase/database' as external dependency\nTreating '@angular/core' as external dependency\nTreating 'rxjs/observable/from' as external dependency\nTreating 'rxjs/observable/of' as external dependency\nTreating 'rxjs/add/operator/map' as external dependency\nTreating 'rxjs/add/operator/catch' as external dependency\nTreating 'rxjs/Observable' as external dependency\nTreating 'rxjs/add/operator/share' as external dependency\nTreating 'rxjs/add/operator/filter' as external dependency\nTreating 'rxjs/add/operator/scan' as external dependency\nTreating 'rxjs/add/observable/of' as external dependency\nTreating 'angularfire2' as external dependency\nTreating '@firebase/firestore' as external dependency\nTreating 'rxjs/Observable' as external dependency\nTreating 'rxjs/operators' as external dependency\nTreating 'rxjs/observable/from' as external dependency\nTreating '@angular/core' as external dependency\nTreating 'angularfire2' as external dependency\nTreating '@firebase/storage' as external dependency\nTreating '@angular/core' as external dependency\nTreating 'angularfire2' as external dependency\nThe this keyword is equivalent to undefined at the top level of an ES module, and has been rewritten\nTreating 'rxjs/Observable' as external dependency\nTreating 'rxjs/operator/observeOn' as external dependency\nTreating 'rxjs/observable/of' as external dependency\nTreating 'rxjs/operator/combineLatest' as external dependency\nTreating 'rxjs/operator/merge' as external dependency\nTreating 'rxjs/operator/map' as external dependency\nTreating 'rxjs/operator/auditTime' as external dependency\nTreating 'rxjs/operator/switchMap' as external dependency\nTreating '@firebase/database' as external dependency\nThe this keyword is equivalent to undefined at the top level of an ES module, and has been rewritten\nTreating '@angular/core/testing' as external dependency\nTreating '@angular/core' as external dependency\nTreating 'angularfire2' as external dependency\nTreating '@angular/platform-browser' as external dependency\nTreating 'rxjs/Subject' as external dependency\nTreating 'rxjs/operator/take' as external dependency\nTreating 'rxjs/operator/skip' as external dependency\nTreating 'angularfire2/auth' as external dependency\nTreating 'rxjs/observable/from' as external dependency\nTreating 'rxjs/observable/of' as external dependency\nTreating 'rxjs/add/operator/map' as external dependency\nTreating 'rxjs/add/operator/catch' as external dependency\nTreating 'rxjs/Observable' as external dependency\nTreating 'rxjs/add/operator/share' as external dependency\nTreating 'rxjs/add/operator/filter' as external dependency\nTreating 'rxjs/add/operator/scan' as external dependency\nTreating 'rxjs/add/observable/of' as external dependency\nTreating '@firebase/firestore' as external dependency\nTreating 'rxjs/BehaviorSubject' as external dependency\nTreating 'rxjs/add/operator/skip' as external dependency\nTreating 'angularfire2/database' as external dependency\nTreating 'rxjs/observable/forkJoin' as external dependency\nTreating 'angularfire2/storage' as external dependency\n  core.umd.js - 4.2 KB, 1.2 KB\n  auth.umd.js - 3.2 KB, 896 B\n  database.umd.js - 14.1 KB, 3.1 KB\n  firestore.umd.js - 11.1 KB, 2.3 KB\n  storage.umd.js - 5.2 KB, 1.4 KB\n  database-deprecated.umd.js - 26.1 KB, 4.6 KB\n\n[ '5.0.0-rc.6',\n  '5.0.0-rc.6',\n  '5.0.0-rc.6',\n  '5.0.0-rc.6',\n  '5.0.0-rc.6',\n  '5.0.0-rc.6',\n  '5.0.0-rc.6' ]\ndata {\n    \"name\": \"angularfire2\",\n    \"version\": \"5.0.0-rc.6\",\n    \"description\": \"Fixes for Node.js\",\n    \"main\": \"index.js\",\n    \"keywords\": [\n      \"angular\",\n      \"firebase\",\n      \"rxjs\"\n    ],\n    \"repository\": {\n      \"type\": \"git\",\n      \"url\": \"git+https://github.com/angular/angularfire2.git\"\n    },\n    \"author\": \"angular,firebase\",\n    \"license\": \"MIT\",\n    \"peerDependencies\": {\n      \"xmlhttprequest\": \"^1.8.0\",\n      \"ws\": \"^3.3.2\",\n      \"bufferutil\": \"^3.0.3\",\n      \"utf-8-validate\": \"^4.0.0\"\n    },\n    \"typings\": \"index.d.ts\"\n  }\ncomplete\n\u2728  Done in 29.39s.\n% ng build --aot\nDate: 2018-04-23T00:04:10.346Z\nHash: cbe91cc276683fd16652\nTime: 49870ms\nchunk {inline} inline.bundle.js, inline.bundle.js.map (inline) 3.89 kB [entry] [rendered]\nchunk {main} main.bundle.js, main.bundle.js.map (main) 2.65 MB [initial] [rendered]\nchunk {polyfills} polyfills.bundle.js, polyfills.bundle.js.map (polyfills) 202 kB [initial] [rendered]\nchunk {scripts} scripts.bundle.js, scripts.bundle.js.map (scripts) 24.3 kB [initial] [rendered]\nchunk {styles} styles.bundle.js, styles.bundle.js.map (styles) 75.8 kB [initial] [rendered]\nchunk {vendor} vendor.bundle.js, vendor.bundle.js.map (vendor) 8.34 MB [initial] [rendered]\n``. I can confirmangularfire2@next` fixes the change detection irregularities.\nThank you, @jamesdaniels!\nI hate to drop this on you without more concrete details, but upon further testing, I am also noticing a significant drop in application performance under production workloads after upgrading angularfire2 from rc.6.0 to rc.7.1-next.\nHere's a summary of the behavior I'm seeing.\nBefore\nangularfire2@5.0.0-rc.6.0\n\nCD, CD, Result, CD, CD\nAngular app remains interactive while results of Firebase database queries are pending.\nPrior to receiving results of database queries, change detection is triggered once every 30 secs (per listener).\nAfter database results are received, AngularFire continues to trigger change detection periodically.\n\nhttps://stackblitz.com/edit/angular-bqw1xv\nAfter\nangularfire2@5.0.0-rc.7.1-next\n\nCD, CD, CD, Result, CD\nMain JS thread is blocked pending results of Firebase database queries.\nPrior to receiving results of database queries, change detection is triggered 10+ times per second (per listener).\nAfter database results are received, AngularFire no longer triggers change detection.\n\nhttps://stackblitz.com/edit/angular-gjyz3e\nIn the contrived StackBlitz examples above, this may not have much impact. But in a large Angular application with dozens of active, concurrent Firebase queries, this behavior change results in a significant drop in page performance prior to Angular stability (empty task queue).\nI'm seeing one large production Angular app I contribute to freeze completely for several seconds when users route to the dashboard component, as FPS drops to 0 and the CPU pegs on Recalculate Style, setProperty, etc. Interactivity returns once the Firebase queries resolve, and change detection normalizes.\nI know this is a nebulous issue to raise without source code to demonstrate the impact (unfortunately I'm not at liberty to share source code from the aforementioned app's private repo), but I'd be happy to share production Chrome Dev Tools performance profiles privately with you and @davideast, if they could be of any help.\nIf nothing else, I'd just like to put this on your radar, in case performance issues surface with any other AngularFire users. I have no doubt we can find ways to work around the performance impact in production; if I have time to dig into this and come up with any more pertinent details, I'll open a new issue.\nThank you again for the quick fix, James! Please feel free to close this issue, at your discretion.. Thank you for the clarification, James! If I can help or provide anything further, please let me know.. @jamesdaniels Surprisingly, upgrading to 5.0.0-rc.7.2-next didn't make much of a difference.\nIt helped a bit on the initial delay before interactivity, but for whatever reason, passing Firebase object references through FirebaseZoneScheduler methods (even when no-op) seems to be slowing things down a lot.\nI was able to dramatically improve performance in the browser by reverting snapshotChanges() and valueChanges() to their pre-runOutsideAngular() equivalents in database/object/create-reference.ts.\ndiff\nexport function createObjectReference<T>(query: DatabaseQuery, afDatabase: AngularFireDatabase): AngularFireObject<T> {\n  return {\n     query,\n+    snapshotChanges: createObjectSnapshotChanges(query),\n-    snapshotChanges<T>() {\n-      const snapshotChanges$ = createObjectSnapshotChanges(query)();\n-      return afDatabase.scheduler.keepUnstableUntilFirst(\n-        afDatabase.scheduler.runOutsideAngular(\n-          snapshotChanges$\n-        )\n-      );\n-    },\n     update(data: Partial<T>) { return query.ref.update(data as any) as Promise<void>; },\n     set(data: T) { return query.ref.set(data) as Promise<void>; },\n     remove() { return query.ref.remove() as Promise<void>; },\n     valueChanges<T>() { \n+      return createObjectSnapshotChanges(query)()\n+        .map(action => action.payload.exists() ? action.payload.val() as T : null);\n-      const snapshotChanges$ = createObjectSnapshotChanges(query)();\n-      return afDatabase.scheduler.keepUnstableUntilFirst(\n-        afDatabase.scheduler.runOutsideAngular(\n-          snapshotChanges$\n-        )\n-      ).map(action => action.payload.exists() ? action.payload.val() as T : null)\n     },\n   }\n }\nObviously this defeats the purpose, and I've since abandoned these reversions, but for whatever it's worth this did clear up the performance issues entirely. \nFurther investigation revealed a discrepancy between the number of events emitted by firebase.database().ref() and the number of values emitted by the corresponding snapshotChanges() and valueChanges() Observables.\nAdding debug logging to database/observable/fromRef.ts confirmed Firebase references emitting the expected number of ref['on']('value') events, while the corresponding snapshotChanges() and valueChanges() Observables emitted n\u00b2 the number of values expected as users navigated around the app. Event counts are always consistent upon first page load, then quickly diverge as users route from component to component.\nStrange. And unfortunately, as of right now, not reproducible in StackBlitz (I'll keep poking at it).\nGood news is, we were able to work around the issue in production without much hassle by adding debounceTime(5) operators to our snapshotChanges() and valueChanges() Observables. :neckbeard: . @jamesdaniels Just sent you an email!\nI think you may be onto something with the scan not collapsing idea. One thing I noticed is the distinctUntilChanged() operator on listChanges() only prevents duplicate boolean/number/string emissions, and does not block duplicate arrays and objects. A deep comparison might be too costly here, but perhaps there's a cleverer approach.\nSide note\u2014I submitted a PR (#1588) with the changes I alluded to earlier. It feels more like a workaround at this point than a proper fix, so feel free to close if you think it's not the right direction, but I figured I should at least show my work so you can see what's functioning for me in production right now. \ud83d\ude42 . This appears to be a side effect of @angular-devkit/build-optimizer optimizations.. Confirmed, Angular 6 unit tests run as expected with angularfire2@5.0.0-rc.8. Thank you!. @davideast I'm not sure I follow. How can we assert the object properties after ref.set(), other than by subscribing to the object observable?\nIf it'll take too long to explain, please feel free to just tell me what to do here specifically, and I'm sure I'll figure it out as I implement the changes. :sunglasses:. Done! => ef09ba1. ",
    "alwaysprep": "As it states, ionic@beta is using angular2-rc4 and angularfire2 is using released version of angular2. That's why this issue belongs to ionic2's GitHub page, not here.\n. ",
    "janein": "Hi @LanderBeeuwsaert,\nI tried to rebuild your behaviour for entering and leaving items. I followed the steps in the angular2 docs: https://angular.io/docs/ts/latest/guide/animations.html#!#example-entering-and-leaving\nNow it just isn't working exactly as I expect it and I wondered how the rest of your code looks like to set the state. Are there any states set by default when items are added/removed?\nthanks,\njanein\nEDIT:\nMy current code looks like that:\n<div *ngFor=\"let item of items; let i = index; trackBy: trackFbObjects\" [@hideShow]=\"'in'\">\n <!-- ... -->\n  </div>\nand the animation:\n```\ntrigger('hideShow', [\n      state('in', style({transform: 'scaleY(1)'})),\n  transition('void <=> *', [\n    animate(1000, keyframes([\n      style({opacity: 0, transform: 'scaleY(0)', offset: 0}),\n      style({opacity: 0, transform: 'scaleY(1)', offset: 0.5}),\n      style({opacity: 1, transform: 'scaleY(1)', offset: 1})\n    ]))\n  ]),\n  transition('* <=> void', [\n    animate(1000, keyframes([\n      style({opacity: 1, transform: 'scaleY(1)', offset: 0}),\n      style({opacity: 0, transform: 'scaleY(1)', offset: 0.5}),\n      style({opacity: 0, transform: 'scaleY(0)', offset: 1})\n    ]))\n  ])\n])\n\n```\nThe \"in\"-animation works fine. When animating out the item hides like in the timeline but it doesn't scale down and it looks like it gets an extra transition to opacity: 1 in the end.\n. Hi,\njust to confirm this - I ran into a similar problem:\nObservable.forkJoin(\n    loadSomething(),\n    loadSomethingElse()\n).subscribe(res => {\n    console.log('ready', res);\n});\n-> my log never triggers\nNote: loadSomething() and loadSomethingElse() are just placeholders for my real functions. They both return a FirebaseListObservable and when I subscribe to them individually they work totally fine as expected.\nPS: I'm doing this inside a Ionic 2 RC1 application\nCordova CLI: 6.3.1 \nIonic Framework Version: 2.0.0-rc.1\nIonic CLI Version: 2.1.1                     \nIonic App Lib Version: 2.1.1           \nIonic App Scripts Version: 0.0.36   \nOS: Windows 7 SP1 \nNode Version: v4.6.0\n. ",
    "reevr": "I too had this problem and I tried adding \" import * as firebase from 'firebase' \" . This helped me to get the app compiled, but was throwing error while geting data from firebase.So removed that again.\nAnd I just changed one line in app.module.ts as follows:\nto import AngularFireDatabase I used import { AngularFireDatabase } from 'angularfire2/database-deprecated'; instead of import { AngularFireDatabase } from 'angularfire2/database';\nThis works fine and doesn't throw any error as of now.\n  Update : Need to downgrade firebase to 4.8.0\nSet \"firebase\": \"4.8.0\" in package.json file. ",
    "TheLarkInn": "So the package.json I see above is webpack 1. Webpack one will only resolve from main field. Where v2 will resolve from browser field, etc. I haven't finished reading issue but dropping immediate impressions.\n. ",
    "siriscac": "Facing the same issue.\n@maxmumford, is there a workaround? \n. ",
    "bruno-serfe": "I've experienced the same error with script loader:\nUncaught SyntaxError: Unexpected token export\n/\n    MIT License http://www.opensource.org/licenses/mit-license.php\n    Author Tobias Koppers @sokra\n/\nmodule.exports = function(src) {\n    if (typeof execScript !== \"undefined\")\n        execScript(src);\n    else\n        eval.call(null, src); <---- Error thrown here (line 9)\n}\n//////////////////\n// WEBPACK FOOTER\n// ./~/script-loader/addScript.js\n// module id = 1\nAny ideas?. ",
    "AnsarSamad": "me also have the same issue ,\nhttps://github.com/angular/angularfire2/issues/905. ",
    "jdgarvey": "Haha ok sorry about that.\nOn Wed, Sep 21, 2016 at 10:15 AM, David East notifications@github.com\nwrote:\n\n@davideast commented on this pull request.\nIn docs/1-install-and-setup.md\nhttps://github.com/angular/angularfire2/pull/544#pullrequestreview-998951\n:\n\nbash\n ng serve\n\nRun the serve command and go to localhost:4200 in your browser.\n-And that's it! If it totally borke, file an issue and let us know.\n+And that's it! If it totally broke, file an issue and let us know.\nThe borke is purposeful :)\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/544#pullrequestreview-998951,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABeRbcdlGAorsMT2F30fUlz3oTcGKd-_ks5qsWYUgaJpZM4KDBOp\n.\n. \n",
    "dr1v3": "@olostan , it should be useStrict: false, not useScript: false!\n. ",
    "DennisSmolek": "``` javascript\n\n  {{post.title}}\n\n//component.ts\nlistQuery: {\n    orderByChild: 'size',\n    equalTo: 'large' \n  }\n```\n@davideast maybe something like that?\n. I agree with @storatus that it's something with the once value in firebase_list_factory\nLike it fires too fast.. I'd have to debug it to be sure but that's where I'd start. \nNot really a fix to the weird list behavior for others but @maxmumford have you thought about the rx filter() operator?\nyou could do:\n``` javascript\nvar allItems = this.af.database.list('items');\nfunction getFilteredList(property:string, key:string) {\n  return allItems.filter(item  => {\n      return item[property] == key;\n   });\n}\n```\nIf you are already loading ALL the items the query doesn't save you anything as the entire list is already loaded with the allItems list... No need to query firebase again...\n. IMO it made sense not to rely on logout() for the redirect. \nWhat we do is bind to the Auth.. Something like:\njavascript\ndoLogin(whatever){\n    this.af.auth.login().then(() => {\n        this.af.auth.subscribe(auth => {\n            if(!auth) doRedirect();\n        }\n    }\n}\ndoLogout() {\n    this.af.auth.logout();\n}\nThat way if the user gets logged out for whatever reason(expires, remote, etc) it redirects. We use this in kiosks that are left on for a long time.. \n. I get that nesting large objects isn't the best method but we do exactly what @antti-pyykkonen mentioned:\n``` javascript\nlibrary: FirebaseObjectObservable;\nitemsAf: FirebaseListObservable;\nconstructor(private af:AngularFire) {\n  this.library = this.af.database.object('path/to/lib/id');\n  this.itemsAf = this.af.database.list('path/to/lib/id/items')\nLibrary Name: {{(library |async)?.name}}\n\n  {{item.name}}\n\n```\nWhen Angular could loop object properties it was no big deal but now it has to be an array and unpacking it requires a subscription. It was cheaper/faster to just sub twice. \nOur data looks like:\njavascript\nlibraries: {\n    $key: {\n        name: 'myLib',\n        items: {\n            $key:{name:'itemName'}\n        }\n    }\n}\nI know large scale nesting isn't the best plan but:\njavascript\nlibraries: {\n    $key: {\n       name: 'myLib'\n    }\n}\nitems: {\n    $libraryKey: {\n        $itemKey: {name:'itemName', library:'libraryKey'}\n    }\n}\nWould still require two bindings as well and seems like a lot of work, especially once we start adding in security rules and whatnot..\nId love to be able to do:\n``` javascript\nvar library = this.af.database.list('library');\nvar items = library.getChild('items',true); //listObservable\nfunction getItem(key:string) {\n  return items.getChild(key); //objectObservable\n}\n```\n. I pulled the repo but it threw errors when I went to run it (typical ng2 build stuff)\nCan you log out what happens when you do .push(null) ?\njavascript\nvar pushTest = this._af.database.list('items').push(null);\nconsole.log('push test:', pushTest);\nconsole.log(typeof pushTest);\nIf you pass an empty .push() I know it uses the root firebase push method\nbut in my experience it always returns at least a $ref\n. Yeah the longer you leave the auth Observable running the more you can see it firing for no reason. We added a _firstLoad to protect against it.. We use the auth Observable though because we allow our users to stay logged in/have more tabs open which if you have to route from the .login() call you'd miss... Can you give an example of what you mean? I'm not sure I understand what you mean \"Set the list on my controllers\"\nYou can simply add the items for a basic *ngFor in your template and it will handle it's own changes based on the value at that node. \nIf you mean you dont want to rebuild the array without simply listening to the node then I'd suggest using firebase directly as it will return the snapshot of the items that are changed and expects you to self update your list. Angularfire2 does this for you. \nWhat is the downside in your case at the moment? For us, we use different change detection which we can then trigger when we want so the page doesn't flicker/rebuild durning changes... Sure!\nI've got a few things this week taking my attention but I can start messing with it. Besides simply getting it to work and setting up the tests what else do you recommend I test/experiment for?. @cartant I read over your issue, I haven't fully digested it but the point about performance I was making was in regards to digestion and subsequent change detection. \nInternally, AngularFire uses an array to store the results of items returned from various standard firebase change detections (on, once). When these detections cause changes the entire array set is returned as the value of the array and not as a reference so the object must run any subsequent actions to the payload against each item in the array. \nthis means if I have a heavy mapped function on a list of items, say to attach user data to a chat post, that request runs over data it's already done so to, as well as triggering basic change detection. By extending the ability to have a map function before adding to it's internal array it would let me make my own adjustments. \nI haven't had time to add this to the library yet as it's nuts here but something like this:\n``` javascript\nfunction handleSnapMap(snap, mapFn?) {\n    let item = snap.val();\n    return mapFn ? mapFn(item) : item;\n}\nfunction makeListObs(path: string, mapFn?: any) {\nreturn Observable.create(observer => {\n        let collection: Array = [];\n        let ref = firebase.database().ref('/items');\n        // set array\n        ref.once('value').then(firstSnapshot => {\n            firstSnapshot.forEach(childSnap => {\n                collection.push(handleSnapMap(childSnap));\n            });\n            //fires once collection has loaded\n            observer.onNext(collection);\n        });\n        // listen for new, allow extension\n        ref.on('child_added', (singleSnapshot) => {\n            collection.push(handleSnapMap(singleSnapshot.val()));\n            observer.onNext(collection);\n        });\n}); // obs\n\n}// n\n``\n. @HoumanKml it is an observable but because you can no longer loop over **Objects** in Angular they have the **FirebaseListObservable** so the resulting item is an array as well as convenience methods likeforEachbaked in. It also puts the key on each item in the array automatically. . @davideast I think it will.. I'm still mulling over how I feel about the loss of $key but I think this issue specifically is resolved with.stateChanges()as the examples all usemap()for the key value.. My guess is the core calls astringify` on properties and Angularfire see's the object and strips it. Just a guess tho. Heads up, getting this as well... \ncore firebase.js says a snapshot should return null if empty but with the latest angularFire I dont get anything until a value exists. \nreturn this.af.list('/revisions/' + contentId + '/' + draftId).valueChanges(); and snapshotChanges() are both never firing their subscriptions..\nbut: \nconst ref = firebase.database().ref('/revisions/' + contentId + '/' + draftKey);\n                    ref.once('value', snapshot => {\n                        console.log('Firebase once returning:', snapshot.val());\nfires with Firebase once returning:null\nI had the listener setup with later functions init() binding inside the callback and my app just paused waiting for the callback..... They have stopped putting the $key on the object directly, my guess is because they had to unwrap the objects before pushing downstream. You can read details here\nand here's the example of how to get the key value\njavascript\nconstructor(afDb: AngularFireDatabase) {\n  afDb.object('items/1').snapshotChanges().map(action => {\n    const $key = action.payload.key;\n    const data = { $key, ...action.payload.val() };\n    return data;\n  }).subscribe(item => console.log(item.$key));\n}\nI like this compact version of above from an example on the lists docs:\njavascript\nthis.items = this.itemsRef.snapshotChanges().map(changes => {\n      return changes.map(c => ({ key: c.payload.key, ...c.payload.val() }));. This is still happening to me as well. I'm going to do a fiddle test and create an issue on the main js repo. ",
    "FoodBuster": "@maxmumford: So this works for me (though it's not ideal): Just add \"firebase.initializeApp(environment.firebaseConfig)\" outside @NgModule in app.module, like this:\n`\n...\nimport { AngularFireModule } from 'angularfire2/';\nimport * as firebase from 'firebase';\nfirebase.initializeApp(environment.firebaseConfig);\n@NgModule({\n  declarations: [ ... ],\n  imports: [\n   ...\n   AngularFireModule.initializeApp(environment.firebaseConfig),\n  ],\n  providers: [ ... ],\n  entryComponents: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule {}\n`\nAgain, not ideal, and not sure of the unintended consequences of initializing each of firebase and AF separately. But at least my app is working again.\n. ",
    "slender9168": "For me, the error was caused by calling firebase.storage() before firebase had time to initialize (i initialized it in another file), ensure that you only call firebase.someService() inside a method that will be triggered later (after firebase have initialized). ",
    "sachinmishra007": "Hi,\nI am also getting the same exception.I found one solution but don't would that be effective for you or not.\nI have initialize the firebase app as .\nfirebase.initializeApp(ConfigObject,\"ImageBucket\";\nI hope this will help you.. ",
    "matomesc": "Confirming that @maxmumford's solution works for angularfire2@4.0.0-rc.0. I ran into this issue after upgrading from angularfire2@2.0.0-rc.8.\nAlso I'd like to add that as long as you inject the FirebaseApp object via @Inject(FirebaseApp) firebaseApp: firebase.app.App  inside a constructor early in your application (eg. in the auth service) then you can continue to import and use the firebase library directly. However this is not recommended as you're bypassing angular's dependency injection.. @katowulf Typescript compiler complains of duplicate identifiers (pretty much everything defined in firebase.d.ts)\n. @katowulf After reading the solutions posted in #658 I was able to get it working by installing the same version of firebase that angularfire2 uses, and then using import * as firebase from 'firebase';.\nThanks for your help!\n. ",
    "StevenConradEllis": "As @numerized suggested above, removing the name of the app in the AngularFireModule.initializeApp() method also worked for me.. ",
    "sebinbenjamin": "AngularFireModule.initializeApp(environment.firebase) works. \nWonder what happen to Custom FirebaseApp Names in the docs.. AngularFireModule.initializeApp(environment.firebase) works. \nWonder what happen to Custom FirebaseApp Names in the docs.. same issue for me . same issue for me . ",
    "dexterns88": "Yes, when remove custom firebaseApp Names from AngularFireModule.initializeApp(environment.firebase) it's working well again. . ",
    "blinks32": "I don't think you must use angularfireModule to initialize the firebase app, Instead run the command outside the constructor and your export class. Right above your export class, add this:\n\nexport const firebaseConfig = {\n  apiKey: \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\",\n  authDomain: \"XXXXXXXXXXXXXXXXXX\",\n  databaseURL: \"XXXXXXXXXXXXXXXXXXXXXXX\",\n  storageBucket: \"XXXXXXXXXXXXXXXXXX\",\n  messagingSenderId: \"XXXXXX\"\n};\nfirebase.initializeApp(firebaseConfig);\n\nThis will work from both app.module.tsand app.component.ts. ",
    "pakiza-asim": "import modules from angularfire2  in app.module.ts will did the trick. \nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFireModule } from 'angularfire2';. ",
    "future-pirate-king": "Removing the app name works for me you saved me a lot of time @numerized thanks a lot. ",
    "pookdeveloper": "My problem is but I defined with a second parameter:\nAngularFireModule.initializeApp(firebaseConfig, 'reservas')\nif I remove the second parameter it works fine: \nAngularFireModule.initializeApp(firebaseConfig). My problem is but I defined with a second parameter:\nAngularFireModule.initializeApp(firebaseConfig, 'reservas')\nif I remove the second parameter it works fine: \nAngularFireModule.initializeApp(firebaseConfig). @nothing2lose  Hellou i think this is better:\nYou can use this:\nJSON.parse(JSON.stringify(this.afAuth.auth.currentUser)).stsTokenManager.accessToken\nYou need to parse this.afAuth.auth.currentUser to can acces to accesToken:\nMy variable afAuth is:\npublic afAuth: AngularFireAuth\nExample data output:\n{\n  \"uid\": \"i3z0bkWWLieqZB69rVTeI5o5wxk2\",\n  \"displayName\": \"David Garcia\",\n  \"photoURL\": \"https://lh5.googleusercontent.com/-aBVy-QeZmes/AAAAAAAAAAI/AAAAAAAABWw/R4IQMv5B8lE/photo.jpg\",\n  \"email\": \"davidgarciasantes@gmail.com\",\n  \"emailVerified\": true,\n  \"phoneNumber\": null,\n  \"isAnonymous\": false,\n  \"providerData\": [\n    {\n      \"uid\": \"113831236375587749692\",\n      \"displayName\": \"David Garcia\",\n      \"photoURL\": \"https://lh5.googleusercontent.com/-aBVy-QeZmes/AAAAAAAAAAI/AAAAAAAABWw/R4IQMv5B8lE/photo.jpg\",\n      \"email\": \"davidgarciasantes@gmail.com\",\n      \"phoneNumber\": null,\n      \"providerId\": \"google.com\"\n    }\n  ],\n  \"apiKey\": \"AIzaSyDciKMsZaNEF4af0Ixfu0ooA7RE_hxRT7s\",\n  \"appName\": \"[DEFAULT]\",\n  \"authDomain\": \"blancineg.firebaseapp.com\",\n  \"stsTokenManager\": {\n    \"apiKey\": \"AIzaSyDciKMsZaNEF4af0Ixfu0ooA7RE_hxRT7s\",\n    \"refreshToken\": \"AK2wQ-wO85W3TZvhwT4LJqPgcy9bFdbbd6RAtKHqxZB5hjmHYgqj5Qh6RSTMRtta2wsjFC2CsMnVwXHbYvvWrKHjPi3r9zaKmhH7s0fUKTFjwr8869oCjCwbPUI1HbAX5zEK6CSknmadeODXokf20uXYIzJlngBgZgbFnmDbObti82twubSsRCEJwLTNj3eOqxHkN3d2NKcHQvNCNAKvS0Cut2zctslDOSCDWSH1tdLoNscVimRGkg8B8AZM2VfcalfyVeayhi183wG_0bQ1xv69yscQSgxQHC4pZXZvWWnEmdbnZzhKqVWKfwUTqMIWeizNdz71TJ9oVWoL2bGaHEkBJgjVwEoRjMJnjLwyv0ALXWe9QTSr324\",\n    \"accessToken\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6ImQ5NGQ1ZjMyZTE4NmRjMWUxNjA0MjhiZDdhODE1NDI2ZjI3NDg4MmIifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYmxhbmNpbmVnIiwibmFtZSI6IkRhdmlkIEdhcmNpYSIsInBpY3R1cmUiOiJodHRwczovL2xoNS5nb29nbGV1c2VyY29udGVudC5jb20vLWFCVnktUWVabWVzL0FBQUFBQUFBQUFJL0FBQUFBQUFBQld3L1I0SVFNdjVCOGxFL3Bob3RvLmpwZyIsImF1ZCI6ImJsYW5jaW5lZyIsImF1dGhfdGltZSI6MTUyNTc5MzEzNiwidXNlcl9pZCI6ImkzejBia1dXTGllcVpCNjlyVlRlSTVvNXd4azIiLCJzdWIiOiJpM3owYmtXV0xpZXFaQjY5clZUZUk1bzV3eGsyIiwiaWF0IjoxNTI1NzkzMTM2LCJleHAiOjE1MjU3OTY3MzYsImVtYWlsIjoiZGF2aWRnYXJjaWFzYW50ZXNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTM4MzEyMzYzNzU1ODc3NDk2OTIiXSwiZW1haWwiOlsiZGF2aWRnYXJjaWFzYW50ZXNAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.KedsM1G4YOrYa-aCdAK7Ihv8m6PuWwowesyyZuRnGB3sZQMBGE1jASf5GOvvJhpzsFYjM6fO_Vu7Cspvbbu7hrtzRhiPVShecwx8oNG0qdP7jCitCfMV02NAcuUhH1WPohbzRAUpAa0zhwwgEOZp1GcO0ByyYRMlD_NczcMWErk1vu3gBKSw9SCQex-oxTW0zKm01UKfihBpbJWQ943oqk4eYKUfDH1HL0TDCqeqvxdP1e9hjNUy7XOcv2WotKDOQs_iz5G-ROhyYSiI5F07liN0xbl8kt0R3q0WrgOrY9kP1CpV6On8F87g5cNNY999Dt3_8jj-o2Lk_kb1zPmg1w\",\n    \"expirationTime\": 1525796735790\n  },\n  \"redirectEventId\": null,\n  \"lastLoginAt\": \"1525793136000\",\n  \"createdAt\": \"1524859209000\"\n}\n. @nothing2lose  Hellou i think this is better:\nYou can use this:\nJSON.parse(JSON.stringify(this.afAuth.auth.currentUser)).stsTokenManager.accessToken\nYou need to parse this.afAuth.auth.currentUser to can acces to accesToken:\nMy variable afAuth is:\npublic afAuth: AngularFireAuth\nExample data output:\n{\n  \"uid\": \"i3z0bkWWLieqZB69rVTeI5o5wxk2\",\n  \"displayName\": \"David Garcia\",\n  \"photoURL\": \"https://lh5.googleusercontent.com/-aBVy-QeZmes/AAAAAAAAAAI/AAAAAAAABWw/R4IQMv5B8lE/photo.jpg\",\n  \"email\": \"davidgarciasantes@gmail.com\",\n  \"emailVerified\": true,\n  \"phoneNumber\": null,\n  \"isAnonymous\": false,\n  \"providerData\": [\n    {\n      \"uid\": \"113831236375587749692\",\n      \"displayName\": \"David Garcia\",\n      \"photoURL\": \"https://lh5.googleusercontent.com/-aBVy-QeZmes/AAAAAAAAAAI/AAAAAAAABWw/R4IQMv5B8lE/photo.jpg\",\n      \"email\": \"davidgarciasantes@gmail.com\",\n      \"phoneNumber\": null,\n      \"providerId\": \"google.com\"\n    }\n  ],\n  \"apiKey\": \"AIzaSyDciKMsZaNEF4af0Ixfu0ooA7RE_hxRT7s\",\n  \"appName\": \"[DEFAULT]\",\n  \"authDomain\": \"blancineg.firebaseapp.com\",\n  \"stsTokenManager\": {\n    \"apiKey\": \"AIzaSyDciKMsZaNEF4af0Ixfu0ooA7RE_hxRT7s\",\n    \"refreshToken\": \"AK2wQ-wO85W3TZvhwT4LJqPgcy9bFdbbd6RAtKHqxZB5hjmHYgqj5Qh6RSTMRtta2wsjFC2CsMnVwXHbYvvWrKHjPi3r9zaKmhH7s0fUKTFjwr8869oCjCwbPUI1HbAX5zEK6CSknmadeODXokf20uXYIzJlngBgZgbFnmDbObti82twubSsRCEJwLTNj3eOqxHkN3d2NKcHQvNCNAKvS0Cut2zctslDOSCDWSH1tdLoNscVimRGkg8B8AZM2VfcalfyVeayhi183wG_0bQ1xv69yscQSgxQHC4pZXZvWWnEmdbnZzhKqVWKfwUTqMIWeizNdz71TJ9oVWoL2bGaHEkBJgjVwEoRjMJnjLwyv0ALXWe9QTSr324\",\n    \"accessToken\": \"eyJhbGciOiJSUzI1NiIsImtpZCI6ImQ5NGQ1ZjMyZTE4NmRjMWUxNjA0MjhiZDdhODE1NDI2ZjI3NDg4MmIifQ.eyJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vYmxhbmNpbmVnIiwibmFtZSI6IkRhdmlkIEdhcmNpYSIsInBpY3R1cmUiOiJodHRwczovL2xoNS5nb29nbGV1c2VyY29udGVudC5jb20vLWFCVnktUWVabWVzL0FBQUFBQUFBQUFJL0FBQUFBQUFBQld3L1I0SVFNdjVCOGxFL3Bob3RvLmpwZyIsImF1ZCI6ImJsYW5jaW5lZyIsImF1dGhfdGltZSI6MTUyNTc5MzEzNiwidXNlcl9pZCI6ImkzejBia1dXTGllcVpCNjlyVlRlSTVvNXd4azIiLCJzdWIiOiJpM3owYmtXV0xpZXFaQjY5clZUZUk1bzV3eGsyIiwiaWF0IjoxNTI1NzkzMTM2LCJleHAiOjE1MjU3OTY3MzYsImVtYWlsIjoiZGF2aWRnYXJjaWFzYW50ZXNAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImZpcmViYXNlIjp7ImlkZW50aXRpZXMiOnsiZ29vZ2xlLmNvbSI6WyIxMTM4MzEyMzYzNzU1ODc3NDk2OTIiXSwiZW1haWwiOlsiZGF2aWRnYXJjaWFzYW50ZXNAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.KedsM1G4YOrYa-aCdAK7Ihv8m6PuWwowesyyZuRnGB3sZQMBGE1jASf5GOvvJhpzsFYjM6fO_Vu7Cspvbbu7hrtzRhiPVShecwx8oNG0qdP7jCitCfMV02NAcuUhH1WPohbzRAUpAa0zhwwgEOZp1GcO0ByyYRMlD_NczcMWErk1vu3gBKSw9SCQex-oxTW0zKm01UKfihBpbJWQ943oqk4eYKUfDH1HL0TDCqeqvxdP1e9hjNUy7XOcv2WotKDOQs_iz5G-ROhyYSiI5F07liN0xbl8kt0R3q0WrgOrY9kP1CpV6On8F87g5cNNY999Dt3_8jj-o2Lk_kb1zPmg1w\",\n    \"expirationTime\": 1525796735790\n  },\n  \"redirectEventId\": null,\n  \"lastLoginAt\": \"1525793136000\",\n  \"createdAt\": \"1524859209000\"\n}\n. import this:\njs\nimport firebase from 'firebase/app';\nits work for me. import this:\njs\nimport firebase from 'firebase/app';\nits work for me. @asrar7 did you add in providers in file app.module.ts ?. @asrar7 did you add in providers in file app.module.ts ?. If I genereta ionic start coference, i get the same error when install de plugin. If I genereta ionic start coference, i get the same error when install de plugin. @JiaLiPassion  Hellou I only generate the ionic start with template conference, and then install firebase and make the change to \nimport {} from 'zone.js';\ntry those steps and comment, thanks. @JiaLiPassion  Hellou I only generate the ionic start with template conference, and then install firebase and make the change to \nimport {} from 'zone.js';\ntry those steps and comment, thanks. @hiepxanh Works perfect! thanks!. @hiepxanh Works perfect! thanks!. Closed ;). Closed ;). I see good, only specify the fisrt steep install the module angular\nfirebase2\n2018-05-10 9:09 GMT+02:00 hiepxanh notifications@github.com:\n\nthank you, but can I ask you. Is that tutorial missing anything? should I\nadd anything before creating a tutorial on angularfire2 docs?\n@pookdeveloper https://github.com/pookdeveloper\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1601#issuecomment-387971858,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADOlnjOlk87fuYQpl34K-cQgnf5Hhk8-ks5tw-e0gaJpZM4T0HLb\n.\n\n\n-- \nUn saludo! David Garcia Santes\nhttps://www.linkedin.com/pub/david-garcia/33/45/221\ndavidgarciasantes@gmail.com\n. I see good, only specify the fisrt steep install the module angular\nfirebase2\n2018-05-10 9:09 GMT+02:00 hiepxanh notifications@github.com:\n\nthank you, but can I ask you. Is that tutorial missing anything? should I\nadd anything before creating a tutorial on angularfire2 docs?\n@pookdeveloper https://github.com/pookdeveloper\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1601#issuecomment-387971858,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADOlnjOlk87fuYQpl34K-cQgnf5Hhk8-ks5tw-e0gaJpZM4T0HLb\n.\n\n\n-- \nUn saludo! David Garcia Santes\nhttps://www.linkedin.com/pub/david-garcia/33/45/221\ndavidgarciasantes@gmail.com\n. for now nothing ,is very complete.\nRegards\n2018-05-10 9:21 GMT+02:00 hiepxanh notifications@github.com:\n\n@pookdeveloper https://github.com/pookdeveloper yes, I will update\nangularfire2 in the list, anything else? can you show me?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1601#issuecomment-387974244,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADOlnv-izcCI8gp84fy7gw6gfeddtu6kks5tw-qTgaJpZM4T0HLb\n.\n\n\n-- \nUn saludo! David Garcia Santes\nhttps://www.linkedin.com/pub/david-garcia/33/45/221\ndavidgarciasantes@gmail.com\n. hahah its a octopus:\nhttps://www.pinterest.es/oceanomonaco/octopus/?lp=true\nthis is the image:\nhttps://www.pinterest.es/pin/94223817182004374/\n2018-05-10 9:26 GMT+02:00 hiepxanh notifications@github.com:\n\none last question, what kind of animal in your avatar, it look so cute \ud83d\ude04\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1601#issuecomment-387975083,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADOlnlAmgcYPhpWrEasHJi7GKv7FIA7zks5tw-ucgaJpZM4T0HLb\n.\n\n\n-- \nUn saludo! David Garcia Santes\nhttps://www.linkedin.com/pub/david-garcia/33/45/221\ndavidgarciasantes@gmail.com\n. I sorry in git hub.. hahaha its a red panda:\nhttps://www.google.es/search?q=red+pandas&safe=active&rlz=1C5CHFA_enES779ES779&source=lnms&tbm=isch&sa=X&ved=0ahUKEwiTkpma0vraAhXB7RQKHRpECMgQ_AUICigB&biw=1455&bih=916\nhttps://es.wikipedia.org/wiki/Ailurus_fulgens\n2018-05-10 9:33 GMT+02:00 hiepxanh notifications@github.com:\n\n[image: image]\nhttps://user-images.githubusercontent.com/16970990/39857790-d1d91d90-545e-11e8-8f5c-71c3494d74da.png\nthat not an octopus, octopus is something like this, are you trolling me\n\ud83d\ude2d\n[image: image]\nhttps://user-images.githubusercontent.com/16970990/39857837-f9468796-545e-11e8-963e-c0b41cffb321.png\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1601#issuecomment-387976593,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADOlnojxi2ytIacnjoGzX3LbuzSbQ_Bpks5tw-1RgaJpZM4T0HLb\n.\n\n\n-- \nUn saludo! David Garcia Santes\nhttps://www.linkedin.com/pub/david-garcia/33/45/221\ndavidgarciasantes@gmail.com\n. wiiiiiiii \ud83d\ude38\n2018-05-10 9:42 GMT+02:00 hiepxanh notifications@github.com:\n\nYes, I'm so happy, I will change all my background with that red panda \ud83d\ude04\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1601#issuecomment-387978428,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADOlniPA5BeK3o_PJ2ovu0oHJoVgL-MOks5tw-9ugaJpZM4T0HLb\n.\n\n\n-- \nUn saludo! David Garcia Santes\nhttps://www.linkedin.com/pub/david-garcia/33/45/221\ndavidgarciasantes@gmail.com\n. ",
    "jamesharvey2": "@pookdeveloper \nYou're right about that.\nI realized my second parameter had a typo. I removed second parameter and it started working. \n. ",
    "Daddelbob": "@maxmumford https://github.com/angular/angularfire2/issues/556#issuecomment-249225395\n\"The problem is with firebase not being initialised\" --> firebase.initializeApp(environment.firebaseConfig);\nThx. ",
    "bmanderscheid": "@sean-hill did you ever figure this out?  I'm having the same issue. . ",
    "itwasnoteasy": "I had a very similar issue however, I was trying to filter on the returned FirebaselistObserverable on user input to get the typeahead.\nI got it working by using following code:\n```\nitems: FirebaseListObservable;\n    af: AngularFire;\n    filteredItems: Array;\n    constructor(public navCtrl: NavController, af: AngularFire) {\n        this.items = af.database.list('stores/0/items');\n    }\ngetFilteredItems(ev) {\n        console.log(ev.target.value);\n        // use subscribe and foreach for filtering\n        var val = ev.target.value;\n        this.items.subscribe((_items)=> {\n            this.filteredItems = [];\n            _items.forEach(item => {\n                if( item.name.toLowerCase().indexOf(val.toLowerCase()) > -1) {\n                    this.filteredItems.push(item);\n                } \n            })\n        });      \n    }\n```\nif you are using ngFor on items in your html use async pipe like so\n```\n\nOR\n*ngFor=\"let item of filteredItems\"\n. Absolutely, .map() was my first choice. However, things didn't work as expected because of the Observable objects and list. So after I gave myself enough headache, I went old school. Then inside foreach I am actually doing\nthis.filteredItems.push(this.af.database.object('url...'));\n```\nThis felt like an additional db call. However, things with firebase are really different and it doesn't make any real REST or DB calls, so you get same/similar performance if not better.\nIt would be interesting to see a .map() version working though for a concrete comparison.. ",
    "IzaskunLS": "Hi all!\nI struggled trying to combine both AngularFire and Ionic VirtualScrolling (needs an array to work fine) but then found this thread explaining how to create an array of objects from FirebaseListObservable<[]>. Thanks to you I managed to combine them finally, still wondering if there is a more elegant solution. ",
    "burnettejl": "Sean-hill had the best example for the issue I was having. Of course, he was \"closed\" out, which seems to happen on damn near every programming forum. But thanks for your example Sean!. Sean-hill had the best example for the issue I was having. Of course, he was \"closed\" out, which seems to happen on damn near every programming forum. But thanks for your example Sean!. I've been trying to fix this ionic/firebase issue on my android device for 2 days straight. Worked great in browser but not on android device. Downgrading to 3.3.0 did the trick. If only I found this faster -- Thanks!. I've been trying to fix this ionic/firebase issue on my android device for 2 days straight. Worked great in browser but not on android device. Downgrading to 3.3.0 did the trick. If only I found this faster -- Thanks!. ",
    "Vino16491": "below documentation link gives a nice reference about using snapshot-\n[https://firebase.google.com/docs/reference/js/firebase.database.DataSnapshot]. @mk4yukkalab do you got workaround to ur concern \n\nAnd if i need a query like : this.afs.collection('users', ref => ref.where('email', '==', email)) how i can do that?\n. ",
    "alanent": "Hi some one can help me please ? https://stackoverflow.com/questions/50931526/display-data-from-firebase-with-angularfire2. HI, Someone can help me please ?\n https://stackoverflow.com/questions/50931526/display-data-from-firebase-with-angularfire2. ",
    "christophertrudel": "I experience similar issues while logging out.\n. ",
    "Energy4216": "I was about to update to latest af2 is this still an issue and does tonymk's trick work ok?. The only thing that worked for me just now was doing the last thing they mentions : \nnpm install firebase@3.3.0 angularfire2 --save\nEverything else failed me and took hours to figure it out. Thanks you for the fix!. Hi. does the password authentication work with rc6? Just curious. I'm a nooby thank you for your time.\n\nFrom: katowulf notifications@github.com\nSent: Tuesday, December 13, 2016 8:33 AM\nTo: angular/angularfire2\nCc: Energy4216; Author\nSubject: Re: [angular/angularfire2] Need a very clear example of how to use password auth. Only fragments in documentation. No examples seem to work. (#720)\nAll issues have to follow the issue template provided. I understand this is asking a lot and is generally annoying when you feel your question is straightforward, but just trust that it's critical to keep things streamlined and manageable for our team. I'm closing this for now because it doesn't adhere to these requirements. Feel free to resubmit according to the template, being absolutely sure to include a working, minimal repro of the problem and version info.\nNote that how-to questions are better suited for Stack Overflow or a discussion group. In your case, since you've mentioned it \"doesn't seem to work\" you should be submitting a failing repro that follows one of the samples.\n-\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/720#issuecomment-266788083, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AV4ZathdBL_ohcIUFHjX1kv8Dpac5S-Yks5rHsjZgaJpZM4LLlWe.\n. ",
    "alizzen": "i tried using quikstart and it didnt work\n. @lbecker34 \n. ",
    "kumaresan-subramani": "Error at D:/hence/angular2-webpack-seed/node_modules/@types/node/index.d.ts:5957:5: Duplicate identifier 'export='.\nError at D:/hence/angular2-webpack-seed/node_modules/@types/requirejs/index.d.ts:38:2: Duplicate identifier 'export='.\nError at D:/hence/angular2-webpack-seed/node_modules/@types/requirejs/index.d.ts:422:13: Subsequent variable declarations must have the same type.  Variable 'require' must be of type 'NodeRequire', but here has type 'Require'.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! angular2-webpack-seed@1.2.0 scripts: ngc -p tsconfig-aot.json\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the angular2-webpack-seed@1.2.0 scripts script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nThis is error, how should i resolve it?. ",
    "zalog": "No problem!\n. ",
    "drantunes": "Same error.\n. ",
    "adirzoari": "i have this problem and didn't get solution for it.. \n\nbundle dev failed:  Module C:\\Users\\XXX\\node_modules\\angularfire2\\node_modules\\firebase\\firebase-browser.js does not export initializeApp (imported by C:\\Users\\XXX\\node_modules\\angularfire2\\angularfire2.js)\n\nthis is my rollup.config.js\n`var nodeResolve = require('rollup-plugin-node-resolve');\nvar commonjs = require('rollup-plugin-commonjs');\nvar globals = require('rollup-plugin-node-globals');\nvar builtins = require('rollup-plugin-node-builtins');\nvar json = require('rollup-plugin-json');\n```\n// https://github.com/rollup/rollup/wiki/JavaScript-API\nvar rollupConfig = {\n  useStrict: false,\n  /*\n   * entry: The bundle's starting point. This file will\n   * be included, along with the minimum necessary code\n   * from its dependencies\n   /\n  entry: 'src/app/main.dev.ts',\n/*\n   * sourceMap: If true, a separate sourcemap file will\n   * be created.\n   /\n  sourceMap: true,\n/*\n   * format: The format of the generated bundle\n   /\n  format: 'iife',\n/*\n   * dest: the output filename for the bundle in the buildDir\n   /\n  dest: 'main.js',\n/\n   * plugins: Array of plugin objects, or a single plugin object.\n   * See https://github.com/rollup/rollup/wiki/Plugins for more info.\n   */\n  plugins: [\n    builtins(),\n    commonjs({\n      include: [\n        'node_modules/rxjs/', // firebase depends on rxjs and needs this to avoid build errors\n        'node_modules/firebase/**' // here is firebase\n      ],\n      namedExports: {\n        'node_modules/firebase/firebase.js': ['initializeApp', 'auth', 'database']\n      }\n    }),\n    nodeResolve({\n      module: true,\n      jsnext: true,\n      main: true,\n      browser: true,\n      extensions: ['.js']\n    }),\n    globals(),\n    json()\n  ]\n};\nif (process.env.IONIC_ENV == 'prod') {\n  // production mode\n  rollupConfig.entry = '/app/main.prod.ts';\n  rollupConfig.sourceMap = false;\n}\nmodule.exports = rollupConfig;`\n```\n. @jtushar53 no solution for it yet?\n. @mukesh51  I did exactly what you wrote I get this error while run in android emulator\n\nEXCEPTION: Uncaught (in promise): ReferenceError: firebase is not defined. \n",
    "flamesoft": "I am also have the save problem both in ionic2rc0 and rc1. I used the rollup in package.json. But it can only work in the browser. When I run \"ionic build ios\", it gives \"ngc error\" during building and the exported app just freezes in the iOS simulator and mobiles.\n```\n Error: Error encountered resolving symbol values statically. Calling function 'defaultFirebase', function calls are not supported. Consider replacing the function or lambda with a reference to an exported function, resolving symbol AppModule in /Users/yan/MyApp/.tmp/app/app.module.ts, resolving symbol AppModule in /Users/yan/MyApp/.tmp/app/app.module.ts\n    at simplifyInContext (/Users/yan/MyApp/node_modules/@angular/compiler-cli/src/static_reflector.js:469:23)\n```\nDo you have any workaround solution? Thanks!\n. ",
    "Sethles": "I used this fix: firebase-browser build issue #24\nhttps://github.com/ng-be/app-ng-be-org/pull/24/files\n. ",
    "stocks09": "@dmastag can you please share your solution to @Chris1308 error above? What are your values for rollup.config.js globals:{...} \nI'm getting the same error:\n[16:18:37] rollup: Treating 'firebase' as external dependency\n[16:18:40] rollup: No name was provided for external module 'firebase' in options.globals \u00e2\u20ac\u201c guessing 'firebase$1'\n. Thanks @dmastag for sharing your code. I think I like to torture myself too \ud83d\ude04\n. ",
    "bliitzkrieg": "@mquentin the anchor is broken but the display text is correct for that link.\n. ",
    "ajonp": "I am having the same problem with this. If I want to allow login with all of the federated id's and it fails on email I am fine with this, but I want to be able to say would you like to add this login to the existing. So I don't see a way to catch this that works.\n```\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthMethods,\n  AuthProviders,\n  defaultFirebase,\n  AngularFire,\n  FIREBASE_PROVIDERS,\n  FirebaseListObservable,\n  FirebaseAuthState,\n  FirebaseApp } from 'angularfire2';\n@Component({\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  // public allowFederated;\n  constructor(\n    public af: AngularFire,\n    private router: Router\n  ) {\n    this.af.auth.subscribe(user => {\n      if (user) {\n        this.router.navigateByUrl(\"home\");\n      }\n    }\n      , (e) => {\n        console.log('high');\n        console.log(e);\n      }\n    );\n  }\nngOnInit() {\n  }\n  twitterLogin() {\n    this.af.auth.login({\n      provider: AuthProviders.Twitter,\n      method: AuthMethods.Redirect,\n      scope: ['email']\n    })\n    .catch(e => {\n      console.log('twitter');\n      console.log(e)\n    });\n  }\n  googleLogin() {\n    this.af.auth.login({\n      provider: AuthProviders.Google,\n      method: AuthMethods.Redirect,\n      scope: ['email']\n    }).catch(e => {\n      console.log('google');\n      console.log(e)\n    });\n  }\n  facebookLogin() {\n    this.af.auth.login({\n      provider: AuthProviders.Facebook,\n      method: AuthMethods.Redirect,\n      scope: ['email'],\n    }).catch(e => {\n      console.log('facebook');\n      console.log(e)\n    });\n  }\n}\n```\n. I feel like the error class needs extended, this is everything that comes out\n\nIt seems to be missing credential, which is very important when linking accounts.\n. Okay setup a repo (put it together fast hope it works).\nhttps://github.com/ajonp/angularfire2-env-issue\nAfter clone.\nMake sure you have firebase CLI installed npm install -g firebase-tools\n-npm install npm run build ionic:build:dev:prod\nfirebase serve Go to localhost:5000 -> should log you into environment-sample-dev.firebaseapp.com\nExample Site\nhttps://environment-sample-dev.firebaseapp.com/\n\nIn the picture you can see that it should be allowing environment-sample-dev based on the configuration being used. However it seems to use the ./src/environment/enivronment.ts file instead. This pushes it over to environment-sample-prod which is the wrong envirnoment\nError in the console then states\n\n. Also if you run locally you can see that it is requesting the wrong environment\n\n. This was related to AOT compiler. When the module loads it is based on an original config and then changes after webpack runs.. @snakenstein the repo has a full working example now of how to fix. This is using ionic3 but same applies to any aot compliler setup.\nhttps://github.com/ajonp/angularfire2-env-issue. Sorry, where do I locate the types for the providers? This has them but fails to load as Module does not exist here.\nimport {\n  FirebaseOptionsToken,\n  FirebaseAppNameToken,\n  FirebaseAppConfigToken\n} from \"@firebase\";import {\n  FirebaseOptionsToken,\n  FirebaseAppNameToken,\n  FirebaseAppConfigToken\n} from \"@firebase\";. Humm that throws\nmessage\n:\n\"Firebase: No Firebase App '[DEFAULT]' has been created - call Firebase App.initializeApp() (app/no-app).\". Oh please yes!. ",
    "linuxninja39": "In case anyone else is seeing this. When I run the following \nreturn this.af.auth.map((auth) => {\n            if (auth) {\n                console.log('authenticated');\n                return true;\n            }\n            console.log('not authenticated');\n            this.router.navigateByUrl('/frontend');\n            return false;\n        }).first();\nI get an error this.af.auth.map(...).first is not a function\nBut it works perfectly when I removed the \".first()\"\n. ",
    "swsalim": "Same thing for me. Do you manage to get it work, @alejandrocao ? . ",
    "jonech": "@swsalim @alejandrocao have you guys tried  {{ (tablados | async)?.length }} ?. ",
    "storatus": "I am having the same issue, the first time subscribe loads, it gives me the entire array, the second time I enter the component I am having the above described output. \n. In the meantime getting the data as an object works for me, instead of list. \nI looked at the angularfire 2 code and I assume it has to do with the 'once' method from firebase which is called when the component initiates for the first time and delivers the corresponding array. \nLeaving and entering the component again wont respond  to 'once', since it has been already called,  so I think angularfire 2 uses then child_added method instead, which will cause this kind of behaviour.\n. @theunreal try to loop it with lodash _.each() method, there you can then iterate and the second parameter is the index which is the $key in angularfire2\n. Hey, It works for me but anyone found a solution how to get rid of the console error ? \n'is strongly discouraged, as it poses security risks and may cause issues with minification'\nAdding 'useStrict: false'  Didnt solve the issue.\n. ",
    "arielgelbard": "I am also having a similar issue with .list()\nMy firebase database is:\n{\n    users: {\n       richard : { },\n       stefany : [bookmark1,\n                  bookmark2,\n                  bookmark3]\n    }\n    articles : { }\n}\nWhen I access 'users', it gives me one result\n[users]\nWhen I try to access 'users/stefany' the following result produces:\n[bookmark1]\n[bookmark1,bookmark2]\n[bookmark1,bookmark2,bookmark3]\nWhen I use .object() it gives me one result:\n[bookmark1,bookmark2,bookmark3]\nIn Conclusion: When I try to get deeper inside my database object with .list(), it will repeat for no reason multiple times...when I use .object(), it is not a problem\n. hey everyone, until then, in my project I am using .object() and just converting it to a list via .map() example:\n```\nvar obj = {1: 11, 2: 22};\nvar arr = Object.keys(obj).map(function (key) { return obj[key]; });\n```\n@rosslavery \n. I am also having a similar issue with .list()\nMy firebase database is:\n{\n    users: {\n       richard : { },\n       stefany : [bookmark1,\n                  bookmark2,\n                  bookmark3]\n    }\n    articles : { }\n}\nWhen I access 'users', it gives me one result\n[users]\nWhen I try to access 'users/stefany' the following result produces:\n[bookmark1]\n[bookmark1,bookmark2]\n[bookmark1,bookmark2,bookmark3]\nWhen I use .object() it gives me one result:\n[bookmark1,bookmark2,bookmark3]\nIn Conclusion: When I try to get deeper inside my database object with .list(), it will repeat for no reason multiple times...when I use .object(), it is not a problem\n. ",
    "mickz18": "Thanks, It's working for my app.. ",
    "urm47": "Thanks. Works for us as well.\nHappy new year and thank you for the great work.. Our experience is to \"avoid joins\" with Firebase and store the data redundantly.\nWe still have to \"join\" the data, we are adding a new property to the parent. The new property can be an object or an array and client can subscribe to it as usual.\nWe always add two properties\na) the target for UI, so that the UI has not to worry about it, e.g. details\nb) the stream itself, e.g. details$\nExample with 1 child (details)\n  get userRaterGroups$(): Observable {\n    return this.af.database.list(/${this.userRaterGroupsRef}/${this.auth.uid}).map((groups) => {\n      return groups.map(group => {\n        group.details = {};  // this is for the UI to have an an empty object before subscribing to details$\n        group.details$ = this.af.database.object(/${this.groupsRef}/${group.$key});\n        return group;\n      });\n    });\n  }\nExample with 1 (details) and n (userRatings) children\n  get userGroupRatings$(): Observable {\n    return this.af.database.list(/${this.userRaterGroupsRef}/${this.auth.uid}).map((groups) => {\n      return groups.map(group => {\n        group.details = {};  // this is only for the UI to have an an empty object before subscribing to details$\n        group.details$ = this.af.database.object(/${this.groupsRef}/${group.$key});\n        group.userRatings = [];  // this is only for the UI to have an an empty array before subscribing to userRatings$\n        group.userRatings$ = this.af.database.list(/${this.userRatingsRef}/${this.auth.uid}/${group.$key});\n        return group;\n      });\n    });\n  }\nClient:\n    this.dataService.userGroupRatings$.subscribe((ratings) => {\n      ratings.map(rating => {\n        rating.details$.subscribe(details => {\n          rating.details = details;\n        });\n        rating.userRatings$.subscribe(ratings => {\n          rating.userRatings = ratings;\n        });\n        return rating;\n      });\nIf the order by criteria is in the new property (the \"sub-observable\"), we store the data on the parent as well, because ordering on this \"sub-observable\" is possible, but not straight-forward, because the subscription is handled later.\nHope this helps.. ",
    "shaharido1": "Hey all, \ni'm encountering the same issue - and i didn't understand the solution (sorry, i'm a rookie). \nJust to treat everything as objects..? \nHow can I get the \"@next\" release?\nthanks for your patience (: . ",
    "YevheniiKravchenko": "@shaharido1, just run npm i angularfire2@next --save. ",
    "alan-redpanthers": "Just subscribe inside the ngOnInit() method. ",
    "royalcheeseburger": "Is it possible that the bug has come back in 4.0.0-rc0 and 4.0.0-rc1?. ",
    "jimmykane": "I am having this issue with the current latest . Same issue here! . @jamesdaniels  will the issue get updated once this parameter is implemented? . Hi what is the recommended way to import these classes? \nThere are different answers here. . Hi @jamesdaniels  I am confused. \nWhat is the correct way to import? \nimport { firestore } from 'firebase/firestore';\n...\nnew firestore.GeoPoint ... \ndoes not work . @jamesdaniels indeed opened an issue there and they are I hope on it. Thanks for the great piece of sw and keep it up. . ",
    "Znow": "Hi\nI'm still getting this, even when trying with @mquentin 's solution.\nRegards\n. @davideast - https://github.com/Znow/ZnowBlog - based on angular2-webpack, and then added stuff for angularfire2.\nThanks\n. @Auxilinaut - Angular2-webpack isn't using systemjs, as I see.\nRegards\n. ",
    "Auxilinaut": "Yep, that's the official AngularFire2 plunker template. There seems to be an incompatibility between Firebase 3.4.1 and AngularFire2 2.0.0-beta.5. Changing the Firebase version to a strict 3.4.0 (\"https://npmcdn.com/firebase@3.4.0/\" in systemjs.config.js on that plunker) is a workaround until they fix it.\n. ",
    "mcchae7": "I am using \"angularfire2\": \"^2.0.0-beta.6\".\nI found the cause of this issue. angularfire2.umd.js line 340 \"var _a = firebase.auth;\" causes this issue. firebase.firebase is firebase due to some unknown reason. I updated \"firebase = firebase.firebase;\", then it is working. I think some configurations are not correct. I am trying to figure out that.\n. I added and updated wiki pages for that for Angular2 seed.\nts\nthis.addPackageBundles({\n      name: 'firebase',\n      path: 'node_modules/firebase/',\n      packageMeta: {\n        main: 'firebase-browser.js',\n        defaultExtension: 'js'\n      }\n    });\nhttps://github.com/mgechev/angular-seed/wiki/Integration-with-Firebase\nhttps://github.com/mgechev/angular-seed/wiki/Integration-with-AngularFire2. @stuartdrennan I used Firebase only, you can see my example here -> \nFull Source: https://github.com/GoEngin/GoEnginO\nfirebase.initializeApp: https://github.com/GoEngin/GoEnginO/blob/master/src/client/app/app.component.ts\nusing firebase: https://github.com/GoEngin/GoEnginO/blob/master/src/client/app/shared/util/dataaccess.ts. ",
    "AnthonySoler": "Hello,\nI encountered the same error (Cannot read property 'FacebookAuthProvider' of undefined) using the 2.0.0-beta.6.\nAs mentioned by @mcchae7, in angularFire2.umd.js, at line 5, the retreived firebase object does not seems to be the good one (or Am I doing something wrong?)\nThe one actually retreived owns the following properties:\n- __awaiter\n- __decorate\n- __extends\n- __metadata\n- __param\n- firebase\nIf, at the beginning of this function, I added the following instruction and it worked.\nfirebase = firebase.firebase;\nI first thought that changes related to the issue #525 could be somehow related but as they are tagged as 2.0.0-beta.6 and that @mquentin encountered the problem in 2.0.0-beta.5, I am not so sure anymore.\nMy package.json file looks like this:\n{\n  \"name\": \"angular-quickstart\",\n  \"version\": \"1.0.0\",\n  \"scripts\": {\n    \"start\": \"tsc && concurrently \\\"tsc -w\\\" \\\"lite-server\\\" \",\n    \"lite\": \"lite-server\",\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\"\n  },\n  \"licenses\": [\n    {\n      \"type\": \"MIT\",\n      \"url\": \"https://github.com/angular/angular.io/blob/master/LICENSE\"\n    }\n  ],\n  \"dependencies\": {\n    \"@angular/common\": \"~2.2.0\",\n    \"@angular/compiler\": \"~2.2.0\",\n    \"@angular/core\": \"~2.2.0\",\n    \"@angular/forms\": \"~2.2.0\",\n    \"@angular/http\": \"~2.2.0\",\n    \"@angular/material\": \"^2.0.0-alpha.10\",\n    \"@angular/platform-browser\": \"~2.2.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.2.0\",\n    \"@angular/router\": \"~3.2.0\",\n    \"@angular/upgrade\": \"~2.2.0\",\n    \"angular-in-memory-web-api\": \"~0.1.15\",\n    \"angularfire2\": \"^2.0.0-beta.6\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^3.6.1\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"systemjs\": \"0.19.39\",\n    \"zone.js\": \"^0.6.25\"\n  },\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.34\",\n    \"@types/node\": \"^6.0.45\",\n    \"@types/jasmine\": \"^2.5.36\",\n    \"concurrently\": \"^3.0.0\",\n    \"lite-server\": \"^2.2.2\",\n    \"typescript\": \"^2.0.3\"\n  }\n}\nMy systemjs.config.js file looks like this:\n(function (global) {\n  System.config({\n    paths: {\n      'npm:': 'node_modules/'\n    },\n    map: {\n      app: 'app',\n      // angular bundles\n      ...\n      'firebase':'npm:firebase/firebase.js',\n      'angularfire2': 'npm:angularfire2',\n    },\n    packages: {\n      app: {\n        main: './main.js',\n        defaultExtension: 'js'\n      },\n      angularfire2: {\n        main: 'bundles/angularFire2.umd.js',\n        defaultExtension: 'js'\n      }\n      ...\n    }\n  });\n})(this);\nand My app.module.ts looks like this\n```\nimport { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MaterialModule } from '@angular/material';\nimport { AngularFireModule } from 'angularfire2';\nimport { AppComponent } from './app.component';\nimport { EventsComponent } from './events.component';\n// Must export the config\nexport const firebaseConfig = {\n    apiKey: \"\",\n    authDomain: \".firebaseapp.com\",\n    databaseURL: \"https://.firebaseio.com\",\n    storageBucket: \".appspot.com\",\n};\n@NgModule({\n    imports: [\n        BrowserModule,\n        AngularFireModule.initializeApp(firebaseConfig),\n        ...\n    ],\n    declarations: [\n        AppComponent,\n        ...\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n```\nConcerning @Judahh issue, have a look here\nI hope this will help,\nHave a good day,\n. ",
    "evellynsc": "I got the same issue. Solved by adding firebase = firebase.firebase; right before var _a = firebase.auth; in angularfire2.udm.js file as @mcchae7 suggested.\nMy configuration files are similar to @AnthonySoler's.\nThanks for the help!\n. ",
    "samedii": "I am using ionic2 and I had this issue too. I had to add a custom rollup.config.js script (not sure every option here is actually needed):\nplugins: [\n  ...\n  commonjs({\n      include: [\n        'node_modules/rxjs/**',\n        'node_modules/angularfire2/**',\n        'node_modules/moment/**',\n        'node_modules/@ionic/storage/**'\n      ],\n      namedExports: {\n        'node_modules/firebase/firebase.js': ['initializeApp', 'auth', 'database'],\n        'node_modules/angularfire2/node_modules/firebase/firebase-browser.js': ['initializeApp', 'auth', 'database']\n      }\n  }),\n...\n\nfrom here https://forum.ionicframework.com/t/ionic-2-rc-0-and-firebase-not-angularfire/65018/7\nAlso have useStrict: false or else I get navigator undefined...\nNote that you set where your custom config is in package.json with:\n...\n  \"config\": {\n    \"ionic_rollup\": \"./scripts/rollup.config.js\"\n  }\n}\nHope this helps someone save some time and maybe make it easier to find a proper solution. @isaquesuzuki Change version of angular packages in package.json and run npm update. @isaquesuzuki Try and see if it works. I think I maybe got it to work by using version 2.1.1 and not 2.2.1. Posting this here as well since I couldn't get the above to work without this modification.\nI had to add a custom rollup.config.js script (not sure every option here is actually needed):\nplugins: [\n  ...\n  commonjs({\n      include: [\n        'node_modules/rxjs/**',\n        'node_modules/angularfire2/**',\n        'node_modules/moment/**',\n        'node_modules/@ionic/storage/**'\n      ],\n      namedExports: {\n        'node_modules/firebase/firebase.js': ['initializeApp', 'auth', 'database'],\n        'node_modules/angularfire2/node_modules/firebase/firebase-browser.js': ['initializeApp', 'auth', 'database']\n      }\n  }),\n...\n\nfrom here https://forum.ionicframework.com/t/ionic-2-rc-0-and-firebase-not-angularfire/65018/7\nAlso have useStrict: false or else I get navigator undefined...\nNote that you set where your custom config is in package.json with:\n...\n  \"config\": {\n    \"ionic_rollup\": \"./scripts/rollup.config.js\"\n  }\n}\nHope this helps someone save some time. ",
    "Rambatino": "I went down the config route but I really don't think that's the best way to go. In the end, whatbworked for me was updating all the angular versions to 2.2.1. Then it worked. ",
    "isaquesuzuki": "@Rambatino how did you update all angular versions?. Thanks @samedii. Is there any problem if npm warns me about ionic-angular@2.0.0-rc.3 requiring a peer of @angular/xxxxx@2.1.1?. ",
    "arielcessario": "I have two projects, ones is working, the other one, it isn't, the one that is working is showing more files loaded when I pause the execution just before var _a = firebase.auth;, the one that it's not working it's only showing firebase.js. The one that it's working shows app.js, auth.js, database.js, storage.js and firebase.js.\nThe version that is working is 3.4, the one that it's not working is 3.6.3.\nFor me, to make v3.6.3 to work (for now, not a solution, just a workaround), was to include this lines:\nvar firebase = require('./app');\nrequire('./auth');\nrequire('./database');\nrequire('./storage');\nmodule.exports = firebase;\nin firebase.js\n. ",
    "rchipman": "@arielcessario this works for me too as a workaround.  Any word on the official solution to this issue?\nAfter digging a bit deeper I was able to figure out a decent solution.  I just changed my system.js.config firebase definition to point to firebase-browser.js instead of firebase.js.\n'firebase': {\n    defaultExtension: 'js',\n    main: './firebase-browser.js'\n}. ",
    "stuartdrennan": "@xmcchae7 I updated the project.config.ts as above, but still get  'Uncaught TypeError: Cannot read property 'FacebookAuthProvider' of undefined' after a prod.build.  Would you have any other ideas on this fix for this?\n. @mcchae7 thanks, sorry.  That doesn't help with my project for some reason though.  I'm using angularfire2.\n\"angularfire2\": \"^2.0.0-beta.6\"\n\"firebase\": \"^3.6.4\"\n\nIts fine in development, but only errors on prod.build version.\nI've tried all the suggestions I can see here; changing project.config.ts, changing angularfire2.umd.js fixes it in development but not in production. \nAny thoughts would be much appreciated? :) . For a test, I cloned the latest angular2-seed and installed only angularfire2 with the same result.  Fine in development, errors on production build.  The https://github.com/mgechev/angular-seed/wiki/Integration-with-AngularFire2 intructions say to use angularfire2@2.0.0-beta.6 & firebase@3.4.0 but firebase@3.4.0 doesn't contains 'firebase-browser.js' so the build is not happy with that version.. ",
    "renearias": "firebase = firebase.firebase; dont work when \npackageMeta: {\n        main: 'firebase-browser.js',\n        defaultExtension: 'js'\n      }\nto solve this then use\npackageMeta: {\n        main: 'firebase.js',\n        defaultExtension: 'js'\n      }\nand now you can use \nfirebase = firebase.firebase;\non angularfire2.umd.js file. ",
    "arielfaur": "This is still an issue with 2.0.0-beta.7.1-pre I still get Uncaught TypeError: Cannot read property 'FacebookAuthProvider' of undefined even though I am not using any auth providers. I have tried every approach mentioned here with no success, also tried downgrading to firebase 3.4.0\nAny ideas?. ",
    "amedinavalencia": "Making the change in the packagemeta object fix the issue with the build process, but it seems other things get broken. In my case, I am using storage API and now the app is throwing an error related with it: firebase.storage is not a function. \nAny suggestion? \nthanks!!\nEdit: I solved this. I adapted the imports to the new object structure, I had to disable the tslinter as well. I will keep doing some test around that, if I find something new, I will put here. \nThanks. ",
    "metallimiach": "I've faced with the same issue.  Resolved with changes angularfire2.udm.js file as  @AnthonySoler and @evellynsc saggested. But I not sure that's best aproach, because it might be a reason of another issues in future.. ",
    "kilka": "Has there been any update on this? I've tried adding the firebase = firebase.firebase; bit to angularfire2.umd.js file and am still getting errors.. ",
    "digitaldynamics": "Thanks @arielcessario , I have fixed it.. . ",
    "AwsmOli": "I'm trying the same, here is what i've got so far:\nImport the AngularFireModule in  app.module.ts:\nimport { AngularFireModule } from 'angularfire2';\nand  call initializeApp within the imports array of your NgModule:\n@NgModule({\n  ..\n  imports: [\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp({ \n      apiKey: \"...\",\n      authDomain: \"....firebaseapp.com\",\n      databaseURL: \"...firebaseio.com\",\n      storageBucket: \"...\"\n    }),\n  ],\n  ...\n})\nAfter that  for me the AOT Compilation failed, with the error: \n\n/node_modules/angularfire2/node_modules/firebase/firebase-browser.js does not export initializeApp \n\nEDIT: https://github.com/angular/angularfire2/issues/565#issuecomment-250153841 seems to have a better solution to make AOT Compilation work! ill try it now.\nso i just added initApp auth and database to the exports of firebase-browser.js\n/**\n *  Firebase libraries for browser - npm package.\n *\n * Usage:\n *\n *   firebase = require('firebase');\n */\nrequire('./firebase');\nmodule.exports = firebase;\n//Added to make AOT Copilation work:\nmodule.exports.initializeApp = firebase.initializeApp; \nmodule.exports.auth = firebase.auth;\nmodule.exports.database = firebase.database;\nBut now when i run the code i get \"cant call navigation on undefied\" errors :/ \n. ",
    "miguelcostero": "Here is a solution posted by Juan Suarez on his blog  which worked for me.\nhttps://playcode.org/getting-started-with-ionic-2-rc0-firebase-3-angularfire-2/\n. @barbsicle are you using angularfire2 ? \n. ",
    "barbsicle": "Hi guys. Not sure if this is under the same scope of the original issue (or if the problem belongs to Angular). In Ionic 2 Beta 11 I ran a FirebaseService extends AngularFire and bootstrapped it in app.ts:\n```\n@Injectable()\nexport class FirebaseService extends AngularFire {\nconstructor(firebaseConfig: string, auth: AngularFireAuth, database: FirebaseDatabase) {\n      super(firebaseConfig, auth, database);\n  }\n...\n} \n```\nNow that Ionic has updated to RC0 I am not able to successfully bootstrap this extended service, resulting in an error such as Uncaught Error: Can't resolve all parameters for DiscoverPage: (NavController, GlobalService, ?, Events). where the \"?\" is FirebaseService.\nAny advice on how to resolve this? I am thinking that I am not properly defining some providers required for FirebaseService or AngularFire but my previous version bootstrap did not require any...\n. @miguelcostero Of course. I also followed the blogpost you linked which worked fine for me except for some warning messages in the console.\n. I have fixed my issue above by creating a new project (did not change any source code, don't know what went wrong). However, now I still cannot do an ionic build because ngc is throwing an error on the same class.\n[21:56:25]  ngc: Error: Error at D:/Users/User/Desktop/project/.tmp/app/app.module.ngfactory.ts:587:140: Property 'string' does not exist on type 'typeof \"D:/Users/User/Desktop/project/.tmp/providers/firebase.service\"'.\n  at check (D:\\Users\\User\\Desktop\\project\\node_modules\\@angular\\tsc-wrapped\\src\\tsc.js:31:15)\n  at Tsc.typeCheck (D:\\Users\\User\\Desktop\\project\\node_modules\\@angular\\tsc-wrapped\\src\\tsc.js:86:9)\n  at D:\\Users\\User\\User\\project\\node_modules\\@angular\\tsc-wrapped\\src\\main.js:33:23\n  at process._tickCallback (internal/process/next_tick.js:103:7)\n  at Module.runMain (module.js:592:11)\n  at run (bootstrap_node.js:394:7)\n  at startup (bootstrap_node.js:149:9)\n  at bootstrap_node.js:509:3\nThe string in question is firebaseConfig: string which I define in the constructor. Any comments on this? Maybe AngularFire was not meant to be extended?\n. @gigocabrera You can make a custom rollup.config.js and specify it in package.json. Here's the guide on how to do it.\nAlso, I am currently using the guide in this repo to implement angularfire2 in my project and it's working great.\n. ",
    "kleeb": "has anyone tried running ionic in production mode? for instance ionic build\nI am getting:\nngc error: Error: Error at .../node_modules/angularfire2/interfaces.d.ts:9:23: Cannot find namespace 'firebase'.\nIn dev mode everything works like expected, so I guess it might be somehow connected with minification of evals.\n. Ok, if anyone have problems with this error: ngc error: Error: Error at .../node_modules/angularfire2/interfaces.d.ts:9:23: Cannot find namespace 'firebase'.\nthe problem is with typings, node_modules/@types/firebase/index.d.ts contains 2.4 version, but we use firebase 3 version. Quick workaround fix is to replace this file with node_modules/angularfire2/firebase3.d.ts.\n. @gigocabrera your example will not work when you update your node packages\nrollup.config.js will change\n. There is a problem with iOS native: https://github.com/angular/angularfire2/issues/581\nIonic Framework Version: 2.0.0-rc.1\nIonic App Lib Version: 2.1.1\n. I am having the same with all updated libraries, but only on iOS native.\nTried custom auth and anonymous. All work for Android native, as well as webapp chrome, firefox and Safari. Only failing on iOS (tried iOS 9 and 10 + simulator).\nIonic 2.0.0-rc.1\nangular 2.0.0\nfirebase 3.5.1\nangularfire2 2.0.0-beta.5\nUser is being created, but methods are throwing exceptions, which makes it impossible to retrieve the user id.\nI guess there is some problem with Firebase response codes on iOS.\n. angularfire2 beta.7 requires rxjs ^5.0.1, however angular 2.2.1 beta 12\nthere are more mismatches with versioning that may produce some bugs. Switching to rxjs >= 5 is not breaking anything. Npm is showing some dependency warnings, but not errors. Ionic team is fully aware of it, they are even using rxjs version 5 in the alpha version of the new ionic-native, so I guess the final release is a matter of time.. I feel that the most stable Firebase version with angularfire2 beta8 is 3.4.0. Having the same problem:\nTypeError: Cannot read property 'substring' of null\n    at stripTrailingSlash (main.js:4)\n    at _getDefaultFirebase (main.js:5)\n    at t.get [as _FirebaseConfig_56] (main.js:115)\n    at t.get [as _AngularFire_64] (main.js:115)\n    at t.get [as _FirebaseProvider_93] (main.js:115)\nonly when I am building Ionic2 bundle in the release/prod mode.\n\"angularfire2\": \"2.0.0-beta.8\",\n\"firebase\": \"3.4.0\"\n\n. the topic is about $ref, not $key\nlooks like $ref is also missing, used to make a transaction calls like that\nthis.afd.object(path).$ref.transaction(...\nany clue how to deal with it after upgrade to 5 ?. ok, I guess this will be\nthis.afd.object(path)\n.snapshotChanges()\n.subscribe( action => action.payload.ref.transaction(...));. all is explained in the migration docs https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md. Maybe thats why its RC. Anyway I still vote for @davideast playing with the core dev instead of writing great doc and samples. They will come up in time.. ",
    "otherjohn": "I am getting the same behavior happen. But I don't know what do to put it on plunkr or jsfiddle.\nI used this tutorial though: https://playcode.org/getting-started-with-ionic-2-rc0-firebase-3-angularfire-2/\nhttps://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=MYKEYWASHERE Failed to load resource: the server responded with a status of 404 ()\nXMLHttpRequest cannot load https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=MYKEYWASHERE. Response for preflight has invalid HTTP status code 404\nR {code: \"auth/network-request-failed\", message: \"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\"}\n. Damn, right after posting I decided to try loading the code in firefox instead of google chrome. I didn't have an issue!  This is a Google Chrome issue. \nAggh. I can't believe I wasted so much time on this.\n. I have the following via localhost:8100:\n// stripped out unnecessary code\nThe login page has a click action called loginUser()\nError happens on clicking the loginUser.\nlogin.ts page\n```\nimport {AngularFire, AuthProviders, AuthMethods} from \"angularfire2\";\n@Component({\n    selector: 'page-login',\n    templateUrl: 'template.html'\n})\nexport class LoginPage {\n    user = {email: 'myemail@domain.com', password: 'mypass'}; // used for testing\n    constructor(private af: AngularFire) { }\n    loginUser(){\n         this.af.auth.login(this.user,{\n             provider: AuthProviders.Password,\n             method: AuthMethods.Password\n         }).then((user)  => {\n            console.log('user',user);\n        }).catch((error) => {\n            console.error(error);\n        });\n    }\n}\n```\nIn firefox it works just fine. In google chrome (Version 53.0.2785.143 (64-bit)) Mac, it does not.\n. Restart fixed the issue on google chrome.\n. ",
    "uzumakinaruto123": "I actually updated my Ionic to final version of angular 2 and also updated angularfire2 firebase.  The issue was not present in the updated version , so I couldn't  reproduce it. Can be closed. I think update is the solution \n. I am facing this again ! Time to reopen I guess.... I tried it twice , and can confirm we dont get this error on firebase : 3.6.1  version 3.6.5 still has the issue.\nSo , use version 3.6.1. @katowulf  check dependencies posted by @dcinadr above.  That project does not even include ionic.\nDebug output has been included in the OP (by me). That is complete js error that is thrown everytime. \nMaybe I will post again ,\nGoogle sign is sucessfull and idToken is received. But , it gives 404 (Not Found) on https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyAssertion?key=<My-Api-Key> at firebase.auth().signInWithCredential() method.\nDebug output\n* Errors in the JavaScript console *\n```\nPOST \nhttps://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyAssertion?key=My-key 404 (Not Found)                                      zone.js:101\nFirebase failure: {\"code\":\"auth/network-request-failed\",\"message\":\"A network error (such as timeout, interrupted connection or unreachable host) has occurred.\"}       app.bundle.js:254\n```\nWhat can be more specific ? I will post if I can\nThanks. @cre8  when you get duplicate identifier error , simply delete the firebase module from angularfire2 node_modules.\ni.e  delete this node_modules/angularfire2/node_modules/firebase\nthats it.\nAngularfire2 should remove it from dependency , because we donpm install angularfire2 firebase --save\nand angularfire2 already has firebase module.. ",
    "hughred22": "I am also on Ionic 2.0.0-rc.1. I notice error as below: \n\nI already logged in with Google OAuth. It is when I refresh the google chrome browser and see this error. And it is not all the time. It is like 60% of the time when I refresh the browser. I see this. And this is pretty recent as well. Now sure why.... \n. @ikabod-bubwit Try your fix and it is not helping on Chorme browser situation (I have not tested on iOs yet). Whitelist plugin is only in Cordova situation NOT in ionic server. I am in Ionic RC2 now and still same problem. The error show up like 80% of the time when hard refresh. Please help!\n. ",
    "ikabod-bubwit": "Hi, \nI have had the same problem with signInWithCredential which returns an error code auth/network-request-failed on Android, I have yet to test on IOS.\n- firebase#3.1.0\n- angularfire#2.0.1\n- angular#1.5.3\n- ionic#1.3.1\nI am posting how I fixed my issue here to hopefully provide a possible solution to someone who may be experiencing the same issue. I have 2 identical ionic projects with the same exact versions of the previously mentioned libraries. The prototype project with the working signInWithCredential which I use to develop new features and my main project. The code in the main project is an exact copy and paste of my previous project yet my main project was having this issue.\nI found that I had the cordova-plugin-whitelist installed on my prototype project.\nInstalling  cordova-plugin-whitelist in my main project and adding the following lines on my config.xml file fixed my issue. \n```\n Don't block any requests \n\n or \n\n```\n. ",
    "wilsoncx": "Has anyone managed to solve this problem, I have the same problem in my ionic 2 app. I solved this problem by entering the manifest.xml file and putting this line \n<uses-permission android: name = \"android.permission.INTERNET\" />\n. ",
    "dcinadr": "I am also getting this same issue.  Any solutions??. I should note that this only happens when I have dev tools open in chrome.. angularfire2 dependency for firebase is v3.3.0. @satyagupta is correct.  It still does not work.  I am using it with Ionic2 which requires angular 2.2.1.  This requires me to use angularfire2 no later than v2.0.0-beta.6.  I am not sure if this causes an issue.  Cause I have another project that uses the latest angularfire2 and the latest angular (not an ionic project) and there is no problems on that project.. @satyagupta - here are my dependencies\n\"dependencies\": {\n    \"@angular/common\": \"2.4.3\",\n    \"@angular/compiler\": \"2.4.3\",\n    \"@angular/core\": \"2.4.3\",\n    \"@angular/forms\": \"2.4.3\",\n    \"@angular/http\": \"2.4.3\",\n    \"@angular/platform-browser\": \"2.4.3\",\n    \"@angular/platform-browser-dynamic\": \"2.4.3\",\n    \"@angular/router\": \"3.4.3\",\n    \"@angular/upgrade\": \"2.4.3\",\n    \"@types/lodash\": \"4.14.50\",\n    \"angular-calendar\": \"0.6.2\",\n    \"angular2-datatable\": \"0.5.2\",\n    \"angular2-ladda\": \"^1.0.6\",\n    \"angular2-toaster\": \"2.0.0\",\n    \"angularfire2\": \"2.0.0-beta.7\",\n    \"chart.js\": \"^2.3.0\",\n    \"core-js\": \"^2.4.0\",\n    \"dragula\": \"^3.7.2\",\n    \"firebase\": \"^3.6.9\",\n    \"moment\": \"2.17.1\",\n    \"ng2-bootstrap\": \"^1.2.5\",\n    \"ng2-charts\": \"^1.5.0\",\n    \"ng2-dragula\": \"^1.3.0\",\n    \"ng2-select\": \"^1.2.0\",\n    \"rxjs\": \"5.0.3\",\n    \"ts-helpers\": \"^1.1.2\",\n    \"zone.js\": \"0.7.6\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.5.41\",\n    \"angular-cli\": \"1.0.0-beta.25.5\",\n    \"codelyzer\": \"2.0.0-beta.4\",\n    \"extract-text-webpack-plugin\": \"^2.0.0-rc.0\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-sass\": \"^3.1.0\",\n    \"jasmine-core\": \"^2.5.2\",\n    \"jasmine-spec-reporter\": \"3.2.0\",\n    \"karma\": \"1.4.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-jasmine\": \"^1.1.0\",\n    \"karma-remap-istanbul\": \"^0.4.0\",\n    \"protractor\": \"5.0.0\",\n    \"ts-node\": \"2.0.0\",\n    \"tslint\": \"4.3.1\",\n    \"typescript\": \"2.1.5\"\n  }. @satyagupta - i believe the problem is with ionic2.  It doesn't support the latest version of angular.  thats why this project works for me.  Because it is not an ionic project.  When I use it my ionic project i am getting the same problems as you.. I believe the root of the problem is that ionic-angular requires us to use v2.2.1.  And if we want to update angularfire2 and firebase to a version that doesn't produce this bug it requires us to update rxjs.  And if we update rxjs than angular v2.2.1 is not compatible.  And since ionic-angular requires us to us v2.2.1 we can not update rxjs.  So we have a circular problem that requires us to use older versions that will not solve this problem until ionic updates the version of angular that they are using.  I have reached out to ionic and they have not responded with an update yet.. People that are experiencing it are probably just working around it since it is not a show stopper.  You can use another browser or you can skip the message or you can load your dev tools after the app is loaded.. @Qyoom - please refer to my previous post for my workarounds.  However, you are running a command that I am not running yet.  So it is possible that my workaround will not work for you.  And I may run into the same problem you are experiencing once i use that command.. ",
    "joshgarwood": "This is also an issue for me in Ionic RC4 using the latest firebase version. ",
    "apatton724": "For anyone using firebase and phonegap/cordova, I ran into the same issue.\nUsing firebase version 3.6.1 fixed the issue for me.\n. ",
    "zwhitchcox": "This happens for me too on Chrome, even if I'm using 3.6.1 of firebase. However, it works on firefox. @dcinadr I don't think it has to do with angularfire, it has to do with firebase itself. I'm using react and still getting the error.. [redacted]. ",
    "gerhardcit": "@apatton724 I can confirm this. I use \nangular#1.5.8\nionic#1.3.2\nfirebase#3.6.1 \nangularfire#2.3.0\nwith firebase#3.6.6, when using $firebaseAuth().$signInWithCustomToken on and Android app (6.0 and 4.4)  I get the \"auth/network request failed even though I have already logged a connection info to the firebase db.\nThis does NOT happen in a browser, or on iOS (same app) only Android app.\nThere seem to be something wrong with the timing of sign-in of firebaseAuth.\nif you watch $firebaseAuth.$onAuthStateChanged  you will see it fires twice when you use\n$firebaseAuth().$signInWithCustomToken.\nOnce without a firebaseUser and once with the actual signed in user. (Ver 3.6.1)\nIn ver 3.6.5 and 3.6.6, and 3.6.7  the 2nd $onAuthStateChanged does NOT fire (because the signInWithCustomToken does not complete). This is still wrong\nYou are using <button (click)=\"updateItem(item.$key, updatetext.value)\">Update</button>\nwhilst the .valueChanges() does not provide a $key anymore.\n. @kleeb , yes, maybe some kind of explanation,  but what essentially happened here is that RDDB went from BETA to MATURE with a lot of CORE changes suddenly thrown in which effect angularfire2 (/5) quite a lot.\nThe native Firebase SDK might be fairly mature, but AngularFire2 (ver 4) is essentially being thrown out the window. I don't think the Google guys did a great job in making life easier for angular users.\nIf anything, they really need to put better effort into the documentation if they want to drive out rapid changes.\nSometime they need to stop selling new features and make sire the current features (which they sold us yesterday) is still properly documented and supported. If not, they should have called it angularfireX and not Ver 5 of angularfire2. \n@davideast , as much as we love your videos, we kind of dread reading your/(the) docs. \nAnd Videos always only deals with the simple stuff.. documentation deals with the real issues we handle when trying to build large scalable systems.. ",
    "satyagupta": "why was it closed? there are many still facing the same issue. It works only 20% else it would keep showing network error.. @katowulf update firebase to latest 3.6.9 and still facing the same issue :(. @dcinadr can you share the version/specs of other project where it works? i ahve been trying a lot of things but its does not fix it.. \"dependencies\": {\n    \"@angular/common\": \"2.2.1\",\n    \"@angular/compiler\": \"2.2.1\",\n    \"@angular/compiler-cli\": \"2.2.1\",\n    \"@angular/core\": \"2.2.1\",\n    \"@angular/forms\": \"2.2.1\",\n    \"@angular/http\": \"2.2.1\",\n    \"@angular/platform-browser\": \"2.2.1\",\n    \"@angular/platform-browser-dynamic\": \"2.2.1\",\n    \"@angular/platform-server\": \"2.2.1\",\n    \"@ionic/storage\": \"^1.1.7\",\n    \"angularfire2\": \"^2.0.0-beta.7\",\n    \"autolinker\": \"^1.4.0\",\n    \"crypto-js\": \"^3.1.9-1\",\n    \"firebase\": \"^3.6.6\",\n    \"font-awesome\": \"^4.7.0\",\n    \"ionic-angular\": \"2.0.0-rc.5\",\n    \"ionic-native\": \"2.2.11\",\n    \"ionicons\": \"3.0.0\",\n    \"localforage\": \"^1.4.3\",\n    \"rxjs\": \"^5.0.0-beta.12\",\n    \"sw-toolbox\": \"3.4.0\",\n    \"typescript\": \"^2.0.0\",\n    \"zone.js\": \"0.6.26\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"1.0.0\",\n    \"typescript\": \"2.0.9\"\n  }\nhere is mine, i had to down grade the firebase and angular fire to make it work.\nBTW i keep getting error that Angular needs rxjs 5.0.0 if i do npm update. oh k so you are using it as a AngularProject right?. @uzumakinaruto123 bro create a new ticket with same details. \nAnd i confirm the same issue that we face too. verifyPassword works but then the next request does not goes through and same error throws. . Which is why i had to downgrade the version of firebase after i updated it to 3.6.9.\nI just wonder why others are not responding to this issue since many should be facing this very problem!! and why was this issue closed? . Any code snippets would be very helpful @dcinadr we are stuck with this app where most of the part is ready but we cannot test on device :(. ",
    "Qyoom": "Please, why does this issue keep getting closed? What is the resolution? I can create a Firebase account with email/password in Firefox, but not with Chrome (Dev Tools off). Just straight up web, not Ionic. @dcinadr what is the work around you refer to? I do not have DevTools open in Chrome and get the network error. I'm using the code straight out of the documentation:\nthis.auth.createUserWithEmailAndPassword(email, password).catch(function(error) {\n            // Handle Errors here.\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            // ...\n            console.log(\"createUserWithEmailAndPassword errorCode: \" + errorCode);\n            console.log(\"createUserWithEmailAndPassword errorMessage: \" + errorMessage);\n        });\nERROR:\ncreateUserWithEmailAndPassword errorCode: auth/network-request-failed\ncreateUserWithEmailAndPassword errorMessage: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\n. ",
    "nilebma": "Hi everyone ! \nI have this problem with Ionic 2 on Android Phones below KitKat (<4.4), even with crosswalk plugin installed. I use theses versions :\nIonic 2.1.0\nAngular 2.2.1 (this version is mandatory for Ionic 2.1.0)\nRxjs 5.0.1 or 5.0.0-beta.12  (both tested)\nangularfire2 2.0.0-beta.7-pre or 2.0.0-beta.8 (both tested)\nIf anyone have a clue on how to fix this, that would be greatly appreciated ! :-). Thanks for sharing your solutions @patel1jr  and @AlvaroHerrero . Unfortunately, none of them works on my side. I tried every updates since I encounter the problem more than a month ago, but it persists : impossible to log or signup users on Android < 4.4 ...  :-/. I am using Firebase@5.7.2 and AngularFire 5.1.1 with Ionic-angular@3.9.2, and I am facing the same issue as you @jtpdev. It is impossible to build the ionic project with the --prod flag. The build process freezes at the same step you mentioned.\nI tried many workarounds and downgrading \"@firebase/database\" to 0.2.1 (instead of the 0.3.8 version which ship with Firebase@5.7.2) was the only solution which worked for me. \nnpm i @firebase/database@0.2.1\nHowever I am not sure it is a robust solution for shipping an app in production.\nAny more recent version (from 0.2.2) will cause the same problem.\nI found this solution thanks to @JNSantiago on this issue. The same problem seems to be discussed on the ionic repo here.\n. ",
    "AlvaroHerrero": "Fixed using firebase 3.6.1 with an ionic project with this configuration\nIonic CLI Version: 2.1.13\nIonic App Lib Version: 2.1.7\n. ",
    "patel1jr": "changing the type in my button tag to type=\"button\" instead of type=\"submit\" solved this problem for me.. ",
    "AbdullahAdeeb": "I'm facing the same issue building Ionic2/AngularFire2 app and also with Ionic2/Firebase sdk.\nIt works fine with serve on chrome and firefox but issue occurs with run on browser or android (i.e. ionic run android) or run using cordova is essentially the same. Therefore, it seems like its an issue  with cordova and firebase.\nThose are my dependencies: \ncordova@6.3.1\nfirebase@3.7.5\nangularfire2 @2.0.0-beta.7-pre\nangular@2.4.8\nionic-angular@2.3.0\nionicons@3.0.0\nrxjs@5.0.1\nsw-toolbox@3.4.0\ntypescript@2.0.9\nionic@2.2.1\nThanks to the folks here, I was able to fix it by downgrading to firebase@3.6.1 and now its working fine on android.. ",
    "lawlesscreation": "+1 for rolling back to Firebase 3.3.0. I've been having a problem with intermittent connections to Firebase on Android devices. But rolling back seems to have resolved the issue.. ",
    "gammafilho": "downgrade from 3.7.5 to 3.3.0 works for me.. ",
    "deoxen0n2": "Hi, I'm also using ionic. I can reproduce this 100% of the time on my phone (also tested on Firefox and Chrome desktop, but never encounter this problem). cordova-plugin-whitelist is configured and has been worked in the past. I experimented a lot, the steps to reproduce is like this:\nFrom Android phone:\n\nUse login form with login button, with or without ngSubmit, does not matter\nTap and enter email and password\nWhile device keyboard is still opened, press enter (big right arrow on some keyboards) or the login button and auth/network-request-failed will be thrown\nTap somewhere else to close the keyboard, press the login button and auth/network-request-failed will be thrown again\nTap into email or password input, press enter (big right arrow on some keyboards) or the login button and now it will log in successfully\n\nIt should has nothing to do with the keyboard or input focus / refocus but I don't have any clue either.\nFinally I tried downgrading to 3.3.0 and it solved the issue. But this should not be an acceptable workaround.\nI think we should also try the recent Firebase SDK 4.0.0 and since it is open sourced it should be easier to debug (https://github.com/firebase/firebase-js-sdk). I will try and if the problem still persist I think we should open the new issue there.\n. ",
    "brunolemos": "I have this issue with 0.5% of the user requests, which is low but that's a lot of users. (using v3.9).\nHas anyone tried v4.0?. @washowasho interesting, so in theory this should help:\njs\n Object.defineProperty(navigator, 'onLine', {\n   get: function() { return true; },\n   set: function() {}\n });. ",
    "iturn": "+1. I have this issue with angularfire-4.0.0\n\n. ",
    "pvdyck": "same problem here ... inconsistent and impossible to reproduce for now.. @Kamshak  Hi ! I am having exactly the same problem with an Ionic configuration.\nYou fix did not solve the issue ... I am still getting \"auth/invalid-api-key\" when I enable AOT on a production build.. @Kamshak  Hi ! I am having exactly the same problem with an Ionic configuration.\nYou fix did not solve the issue ... I am still getting \"auth/invalid-api-key\" when I enable AOT on a production build.. @Kamshak thank you for your answer. My symptoms are the same when I look at the screenshot and the fact that it works perfectly in dev but not in prod (with AOT), so I supposed it was related. I even hardcoded the credentials and the result is the same.... ",
    "washowasho": "Including the cordova-plugin-network-information corrected this issue for me. I confirmed that the 'navigator.onLine' was occasionally 'false', which I believe was causing Firebase to think there was an issue. Once I added the cordova-plugin-network-information to my project, the problem went away. I didn't dig deep into why, but I suspect this plugin has a better wrapper around the navigator which may be giving Firebase better information. I did confirm this problem came back after removing the plugin, but re-applying it fixes it. I will update this if I dig deeper. I hope this helps.. Looks like this may have been solved in the latest release of Firebase 4.2.0. I'll be verifying when I get a chance.\n\"Refactored to not use navigator.onLine for offline detection in Cordova environments.\"\nhttps://firebase.google.com/support/release-notes/js#4.2.0. ",
    "razgriz-detroit": "@washowasho THANK YOU SO MUCH!!! Solved it for me!. ",
    "cipher21": "Seems like after I downgrade firebase to 3.3.0 it is resolved. Before this I was continuously getting 'auth/network-request-failed'. Let me know if there is solution for this in newer versions.. ",
    "harishmahajan": "i tried all above solutions but not works for me . ",
    "derwaldgeist": "\nLooks like this may have been solved in the latest release of Firebase 4.2.0\n\nUnfortunately, it isn't. With 4.4.0, the problem is still there. I'm not using angularfire2, though.. I got it working by adding cordova-plugin-network-information to my Cordova app. Downgrading to 3.3.0 did not help, since I need phone number auth.. I already had this permission in my app. Still, the logon did not work reliably. The only solution I found was to either add the plugin mentioned above or override navigator.onLine to return true every time it is being called. This solved the problem as well, but seemed to be a too weird hack, especially if another plugin relies on this getter variable.. It's this Cordova plugin: https://cordova.apache.org/docs/en/latest/reference/cordova-plugin-network-information/, but this would only make sense if you're building a Cordova application.\nWhat it basically does (that fixes the Firebase problem) is to override the navigator.onLine getter. You could achieve a similar \"fix\" with this code:\njs\n  Object.defineProperty(navigator, 'onLine', {\n      get: function() {\n        return true;\n      },\n      set: function() {}\n    });\nBut beware this overrides the standard navigator property onLine with a monkey-patch and thus may break other code that relies on this information. The aforementioned Cordova plugin does more than this, it uses actual native code to implement navigator.onLine.\nThe main reason why Firebase auth fails is that it relies on navigator.onLine returning a correct connection status. My phone - as many others - report it as false, however, even if there's a working connection. I have no clue why this happens.. ",
    "stevenyap": "I confirm that it is not working with 4.4.0 but downgrading to 3.3.0 works for me. ",
    "kimmanwky": "I have faced the same issue, and i tried most of the solution above (including downgrade to firebase 3.3.0 or add cordova-plugin), and none of them work for me.\nI'm currently using firebase 4.4.0. I was able to fix the problem by adding the line below in platform/android --> AndroidManifest.xml. \n<uses-permission android:name=\"android.permission.INTERNET\" />\n\nMy firebase signin able to go through now after adding the line. Please try see if you can make it work. I not sure why the line is missing out at the beginning.\nI not sure if this is the best way of fixing it. But it should the easiest and fastest way (without downgrading or install plugin)\n. I have faced the same issue, and i tried most of the solution above (including downgrade to firebase 3.3.0 or add cordova-plugin), and none of them work for me.\nI'm currently using firebase 4.4.0. I was able to fix the problem by adding the line below in platform/android --> AndroidManifest.xml. \n<uses-permission android:name=\"android.permission.INTERNET\" />\n\nMy firebase signin able to go through now after adding the line. Please try see if you can make it work. I not sure why the line is missing out at the beginning.\nI not sure if this is the best way of fixing it. But it should the easiest and fastest way (without downgrading or install plugin)\n. ",
    "Luiz-N": "I'm not using angularfire but I am on firebase 4.4.0 and seeing this issue trying to use auth via with onAuthStateChanged and onIdTokenChanged listeners in election (an atom package specifically). I believe it was after adding the onIdTokenChanged listener and then closing my laptop and opening it up again a few hours later to see my screen flooded with this error. My guess is this has to do with my mac waking itself up periodically which establishes an internet connection but then going back to sleep which is confusing firebase.. ",
    "youpage": "I thought the same, but\nit doesn't add up the properties from other providers, it looks like is just for the User&Password Auth. \nIn the provided sample when I log in with google, the photoURL is null in the auth object.\n. ",
    "adrianabreu": "Checking firebase docs I see that\nsignOut\nsignOut() returns firebase.Promise containing void\n https://firebase.google.com/docs/reference/js/firebase.auth.Auth#signOut \n. I tried to follow that best practise, but I can't get this to work properly:\nthis.authService.login(formValue.email, formValue.password)\n            .then( success => {\n                this.authService.getState().subscribe(auth => {\n                    if(!auth)\n                        this.router.navigate(['login']);\n                });\n                this.router.navigate(['reviews']);\n            })\nWhen I log in for the first time everything works fine.\nI log out, everything works fine.\nBut I can't log in again, the router does not navigate to reviews unless I reload the app. \nAm I doing something wrong?\nThank you for your time\n. ",
    "apreg": "Hi @davideast !\nYes, I did. \nconst firebaseAuthConfig = {\n  provider: AuthProviders.Facebook,\n  method: AuthMethods.OAuthToken,\n  scope: ['public_profile', 'email', 'user_birthday', 'user_photos']\n};\n. ",
    "drpain": "@hcallejas Thank you! That worked like a charm.\nI thought I would share a more elaborate example for those that would like to see this in action.\njavascript\nbackup() {\n   this.afdb.object('/articles').query.once(\"value\").then(data => {\n      let timestamp = Math.ceil(new Date().getTime() / 1000);\n      this.afdb.object(`/article_backups/${timestamp}`).set(data.val())\n      alert(`Article backup created: ${timestamp}`)\n   })\n}. ",
    "antti-pyykkonen": "I guess we'll have to find other ways to do this. So are there any good practices on this?\nFor example: would recommend to map additional Observable properties to a FirebaseListObservable like seen here. \nThanks for the responses!\n. Can confirm. \nCurrently using null just ignores that part of the query, so for example using equalTo: null will just return the whole list.\nIs there a way we could allow null value checking and also resetting certain query properties?. Hey! I've made a plnkr available for you. See if it helps: http://plnkr.co/edit/9UzrMSHPowJ1K4zMbiQz?p=preview. I believe this is now solved?. ",
    "alazzawimahmoud": "I used $ref.child() method available within this.af.database.object().\n. ",
    "ccocker": "@katowulf - Thanks for your quick reply much appreciated.\nI did originally have this set up in my index.html file but moved it into the typescript files, as I thought this was a better more secure practice.\nI am not sure I understand why I am not calling initialiseApp() before trying to access the method, because I call this in the app.module and I thought that was loaded before everything else.\nI have actually just resolved it another way, but don't understand why I had to do this.\nEssentially I just added the following to my header.component.ts and everything now works.\nheader.component.ts\nimport { AngularFire} from 'angularfire2';\nconstructor(public af: AngularFire) {\n    }\n. On further reflection I now see what the problem was.  I was configuring my firebase connection in the app module but i was not placing the AngularFire service in my providers in app.module.  Essentially i had not created an instance of the service.\nSo the end solution was not to put the AngularFire Service in the constructor of the header component, it was just to add AngularFire to providers in app.module.\n. ",
    "ahayder": "Found the solution\nhttps://stackoverflow.com/questions/49585742/catch-in-angularfire2-v5-error. +1. This is the solution\nhttps://stackoverflow.com/questions/49585742/catch-in-angularfire2-v5-error. ",
    "raviranjan528": "@mukesh51 yes sir i gone through it and also i have latest version of npm and node\n. but i didn't find signup.only i found login .. so please tell me how can i do signup\n. @maxmumford thankyou ... its working now.\n. @markgoho  and @jamesdaniels  Sorry But its not working with ionic 3\n//error\nTypeError: this.fb.storage is not a function\n//Module\nimport {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {ProfilePage} from './profile';\nimport  'firebase/storage'\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n  exports: [\n    ProfilePage\n  ]\n})\nexport class ProfilePageModule {\n}\n//components \nimport {Component, Inject} from '@angular/core';\nimport {NavController, IonicPage} from 'ionic-angular';\nimport {NgForm} from \"@angular/forms\";\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable} from 'angularfire2/database';\nimport * as firebase from 'firebase'; // for typings\nimport { FirebaseApp } from 'angularfire2';\n@IonicPage()\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage {\nfile:any;\n  forUpLoadRef: FirebaseListObservable;\n  userRef: FirebaseObjectObservable;\n  storageRef:any;\nconstructor(public navCtrl: NavController, public af: AngularFireAuth,\n              public db: AngularFireDatabase, private fb: FirebaseApp) {}\nUploadNewImage(){\n      this.file = (document.getElementById('inputFileId')).files[0];\n    console.log(\"file recived\"+ JSON.stringify(this.file.name));\n     let storageRef = this.fb.storage().ref();\n    var metadata = {\n      contentType: 'image/*'\n    };\nthis.storageRef.child('images/'+this.file.name).put(this.file,metadata)\n\n}\n}\n//error\nTypeError: this.fb.storage is not a function . Sorry To disturb you @chunxchun  but its not working yet after putting your code\nUncaught (in promise): storage: Firebase: firebase.storage() takes either no argument or a Firebase App instance. (app/invalid-app-argument).. ",
    "tomasklima": "I have a similar problem caused with the same root cause. I have stored list of calendar events in the Firebase and using Fullcalendar to display them. Due to thousands of records from several years I can not have to loaded all events. I read only events for the period what the fullcalendar is currently showing. So I have to query the database with startAt and endAt parameters. Next period is loaded, for example, when the user click on the Next month button in the calendar. I've started to code like:\n```\nexport class EventsCalendarComponent {\n  private start$: Subject = new Subject();\n  private end$: Subject = new Subject();\nconstructor(private db: AngularFireDatabase) {\n    db.list('/events', {\n      query: {\n        orderByChild: 'date',\n        startAt: this.start$,\n        endAt: this.end$\n      }\n    }).subscribe(events => {\n      // update fullcalendar component with events\n    });\n  }\nfilterByPeriod(start: Moment, end: Moment) {\n    this.start$.next(start.getTime());\n    this.end$.next(end.getTime());\n  }\n}\nI think this is next very common use case. So the support of multiple Subject parameters in query would be a very useful feature. Or what about enabling to have all the query object observable, not only its values?... Usage could be like:\nexport class EventsCalendarComponent {\n  private query$: Subject = new Subject();\nconstructor(private db: AngularFireDatabase) {\n    db.list('/events', {\n      query: this.query$;\n    }).subscribe(events => {\n      // update fullcalendar component with events\n    });\n  }\nfilterByPeriod(start: Moment, end: Moment) {\n    this.query$.next({\n      orderByChild: 'date',\n      startAt: start.getTime(),\n      endAt: end.getTime()\n    });\n  }\n}\n```. ",
    "iakashpaul": "I signed it!\n. ",
    "stavalfi": "Hi @davideast thanks for answering so fast!\nThanks very much!!!!\n. Hi @johnqiuwan ! As @davideast answered, firebase observable will never be completed because it is a real time database and things are changes over time so if you ask for users as u did, u dont ask for them, you subsribe to changes in the users so every time a new user created, this line will be called : console.log(value). If you want to force the observable to finish after you got the first value, do that: someObservalbe.take(1).doSomethingElseLike_toPromise().then(...).\n. ",
    "vivanov-dp": "@katowulf I understand your argument and I'm +1, either way this is a case that needs a solution as it pops up in practice. I'm here after just having added .transaction() to FirebaseObjectObservable myself and I can tell I will need direct access to the firebase.database.Reference in future for .child() at least and probably for building queries, so next thing on my list is to add a getter for that and I know I will have to do some more reading trough the code to turn it back into a FirebaseObjectObservable.\n. ",
    "clust3rsekt0r": "I understand the issue now is anyway the error still showing but the the database communication is working I hope this will fix in a next release.\n. ",
    "kkotak": "Try adding hammerjs to tsconfig.json types - \n   \"types\":[\n      \"hammerjs\"\n    ]\n. ",
    "cmermingas": "@kkotak - Thank you! That worked perfectly and I think I understand why, based on this documentation.\n. ",
    "jusefb": "I have tried to use first() in the forkJoin that did not work. Using take(1) did work however. Am I using the code incorrectly?\ndoes not work\njavascript\nObservable.forkJoin(\n                this.af.database.list('/rooms').first(1),\n                this.af.database.list('/devices').first(1));\nworks\njavascript\nObservable.forkJoin(\n                this.af.database.list('/rooms').take(1),\n                this.af.database.list('/devices').take(1));\n. ",
    "afreix": "@jusefb I believe it should be .first() with no arguments passed. With that being said, in my use case both .first() and take(1) seemed to work equivalently . @cartant is there a way to have forkJoin emit a new event when the underlying Observables change due to changes to the Firebase database, so that the UI template can update automatically.\nI place this in the constructor for a component and it fires when the page loads\n Observable.forkJoin(\n          this.dataService.getFriends(userId, AppSettings.REQUEST_QUERY_USER_ID).first(),\n          this.dataService.getFriends(userId, AppSettings.REQUEST_QUERY_FRIEND_ID).first()\n        ).subscribe(friends => {\n          console.log(\"Friends: \", friends);\n          this.friends = friends;\n       });\nbut if I delete a friend while on the page, Firebase correctly updates, but subscribe doesn't fire again. If I subscribe to something more simple \nthis.af.database.list('items').subscribe(items => this.items = items); \nthen changes to Firebase are automatically reflected in my UI\n. Cordova CLI: 6.5.0\nIonic Framework Version: 2.0.1\nIonic CLI Version: 2.2.1\nIonic App Lib Version: 2.2.0\nIonic App Scripts Version: 1.1.0\nios-deploy version: 1.9.1\nios-sim version: 5.0.13\nOS: macOS Sierra\nNode Version: v6.9.2\nXcode version: Xcode 8.2.1 Build version 8C1002\nI am also experiencing this issue. ",
    "GeorgeKnap": "Reauthentication is done via auth_type: 'rerequest' parameter. I'm using it to re request for email permission if was not granted\nlet provider = new firebase.auth.FacebookAuthProvider();\n    provider.setCustomParameters({\n      auth_type: 'rerequest'\n    });\n    this.afAuth.auth.signInWithRedirect(provider);. @davideast \nWell I've created the stackblitz demo but I can't see any option to set it into --prod mode.\nAnyway, after some playing around I think the main problem in my deployed app is the service worker doing strange things. After unregistering SW I can't reproduce this error anymore, so I'm going to close this.\n. @rurziceanu \nI think we have to wait for v6.next release.\n. @rojasjandro89 Temporary it works with rxjs-compat package and Angular 6. But yes, we are all eager for the new version.. ",
    "danielpiedra": "@davideast I am still getting this issue while using angularfire beta 7..maybe not 5 sec but 2-3 definitely. \n@un33k did you get this working with new beta?. ",
    "un33k": "@danielpiedra, unfortunately it took too so I went with alternative ways.. ",
    "jmandel": "This is still slow in beta7. Any proposed workaround? Right now I check to see if auth | async is true to decide whether to display a login vs. logout button. But after login, the user sees a login button for another 3-4 seconds, which they keep clicking (and thereby resetting the count).. ",
    "sondresorbye0111": "I have this issue now. I have this problem using firestore. The object prototype has no map method. You should just iterate though the array with:\nthis.s=this.db.object('/chats').valueChanges().subscribe(data =>{ \n    for (let elem in data) {\n        this.messages.push(elem);\n}\n    }). The problem was with my router module configuration. Thanks. @davideast, this problem does not occur in vanilla js. The problem is that the user observable emits the user object very late even after the user has been redirected back from Google login page.. \"@angular/core\": \"^6.0.5\",\n\"angularfire2\": \"^5.0.0-rc.10\",\n\"rxjs\": \"^6.2.1\",\n\"firebase\": \"^5.0.4\". Can you use my open-source project? https://github.com/MAGSON-dev/scrumboard. ",
    "alexAlchemy": "Still got this issue.. I'm still getting this problem myself and have had a few users comment on its slowness. \n. ",
    "shaagi": "anyone find a solution to this? Still got this issue. Why is this issue closed? It's still a problem @davideast . When opened via fb messenger, snapchat, instagram it doesn't let the user login if they're using an iPhone just like @numerize mentioned. . ",
    "Maistho": "Cool, nice to know that changes are on the road map. =) \n. Still not in beta.6. Would you accept the (probably very simple) PR for it, or is something else blocking?\n. @tonyymk yup, and firebase is still not a peer dependency \n. @katowulf The issue only shows if you import firebase somewhere.\nI use some of the regular firebase functionality in my application, and need to import * as firebase from 'firebase'; (in order to have access to the firebase object).\nIt's because angularfire2 installs it's own version of firebase (or because of me installing my own version of firebase, same issue). If firebase was a peerDependency, none of this would happen.\nRelated: https://github.com/angular/angularfire2/issues/623\nSolutions:\n1. Remove firebase from your package.json, it's not needed (since it's possible to import firebase as usual even without it).\n2. If you really want to run firebase@3.5.3 (or any version later than 3.3.0) it's possible to remove angularfire2's firebase by running rm -rf node_modules/angularfire2/node_modules/firebase which also solves the problem.\n. This is intended behaviour.\nObservable.forEach() is an alias for Observable.subscribe(), according to the rxjs documentation\nIn order to iterate through a FirebaseListObservable:\ntypescript\n// this.items is an Observable. You could use .forEach here too, but I find that confusing.\nthis.items.subscribe(items => {\n    // items is an array\n    items.forEach(item => {\n        console.log('Item:', item);\n    });\n});\nThe array might be empty the first time but it shouldn't matter in most cases. If you need to do anything only when there is actual data, just wrap it in a if (items.length).\n. @sean-hill Do you get the data back in chunks of one Object at a time even if it is available in the firebase database to begin with?\nThe returned array should always contain all items that have been added to the firebase database at that location. (sometimes it might be empty even though it's not? It works that way with auth) \n. @sean-hill That does seem like a bug. Weird, I have not experienced that myself.\nInspecting the websocket shows me that the data only arrives once, and as far as I can tell from this code, the observable should not trigger next multiple times.\nTry setting the subscription in the constructor or ngOnInit and see if the same issue appears again.\nAlso, I see that you have included a newer version of firebase in your package.json, maybe try removing that (it's included with angularfire2) as well?\n. @jamesdaniels is it possible to run firebase outside of the angular zone?\nhttp://www.protractortest.org/#/timeouts#angular\nSeems like blaugold/firebase-rxjs is doing something of the sort.\nI'm not sure if it should or can be a part of angularfire2, or if it should be a part of the SDK.\nShould be related to https://github.com/firebase/firebase-js-sdk/issues/119 \n. I like the idea of less code in angularfire2, just to make it easier to follow along with firebase releases, and their docs are a lot more comprehensive than yours.\nI do not like the idea of jumping to 4.0 if you're not going to keep version parity with angular. And I don't feel like keeping version parity with angular would give much of a benefit, but it doesn't really matter all too much in the end.\nI also think that putting angularfire2 in either @angular/firebase or @angularfire is the best solution. Leaving the 2 in the name will just cause confusion later on.\nCompare to @angular/material, their naming/packaging scheme makes perfect sense.. Tried migration my smallish app that uses db and Auth, and apart from spending some time reworking the Authentication (it's much easier to link accounts now) it was completely painless. Looking great!. @martzcodes\nUse a new firebase.auth.GoogleAuthProvider() (if using Google) \nIn general, look at the firebase documentations, since AngularFireAuth.auth is equivalent to firebase.auth\n@davideast\nIs it also possible/recommended to use AngularFireAuth.auth.GoogleProvider?. @martzcodes yup, import firebase as well. It won't affect your bundle sizes since it's already included by angularfire2.. @davideast Yeah, thanks!\nIf I import with the below syntax I'll get all of firebase in my bundles, including messaging and storage (even if I don't use it).\ntypescript\nimport * as firebase from 'firebase' // Don't do this. @s3ppo just follow the firebase docs but replace firebase.auth() with the AngularFireAuth.auth object.\ntypescript\nconstructor(private fbAuth: AngularFireAuth) {\n  this.fbAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n}. I solved it with a (admittedly pretty ugly) workaround:\nIn your index.html add the following lines before the end of the body tag (or in the head, doesn't really matter as long as they execute before the webpack bundles)\nhtml\n<script>\n  window.firebase = { initializeApp: function(credentials) { window.firebaseCredentials = credentials} };\n</script>\n<script src=\"/__/firebase/init.js\"></script>\n<script>\n  window.firebase = undefined;\n</script>\nThis will save the credentials needed to initialize firebase to window.firebaseCredentials, so that we can use them when initializing the app.\nThen add the saved credentials to your app.module.ts imports:\ntypescript\nAngularFireModule.initializeApp((window as any).firebaseCredentials)\nMaybe something that could be added to the docs?. I've been looking at where to possibly inject this in a way that is easy for users. I'd like it if it was an option to the initializeApp() call, but I don't think that it's possible without changes to the firebase SDK. \nThe SDK assumes that the config is provided synchronously, but if Angularfire is to be responsible for loading the config asynchronously it's not possible to do in a clean way.\nI think that my solution posted above is a good fit for users who want to do this, and could probably be added (with some changes for clarity) to the docs.\nIt will however slow down the loading of the app slightly (one more non-deferred network request) so I don't think it should be the default/preferred way of doing it.\nTL:DR; I don't think this is possible in a user-friendly way without changes to the firebase SDK to allow loading config async.. This is fixed in master\nhttps://github.com/angular/angularfire2/commit/96b3c208064b1019399e892e58ee480b4264eeb9#diff-bdb6b409af08da485e2b960e4d9f75eaL16. @CharlesSuttie \nyarn add angularfire2 5.0.0-rc3 should be yarn add angularfire2@5.0.0-rc3 instead.\nIf you have rc.0-next you will get the error. rc.2 and above should be fine.. This is fixed in master\nhttps://github.com/angular/angularfire2/commit/96b3c208064b1019399e892e58ee480b4264eeb9#diff-bdb6b409af08da485e2b960e4d9f75eaL16. @amouly I think so, but I recall having some issues earlier as well. Might've been a different version (rc-0?)\nIt works for me now, I'm using firebase@4.5.0 and angularfire2@5.0.0-rc.2.. @Toxicable \nYup, but I need to specify the generic twice:\ntypescript\nthis.db.list<MyInterface>('/stuff')\n  .valueChanges<MyInterface>();\nWhereas this is much more preferable:\ntypescript\nthis.db.list<MyInterface>('/stuff')\n  .valueChanges(); // currently returns Observable<{}[]>\n. Also this is \"valid\" code currently:\n```typescript\nlet stuff = this.db.list('/stuff'); // stuff is a list of numbers, sure\nlet stuff$ = stuff.valueChanges(); // wait, it's a list of strings now?\nstuff.push(1); // But I can push a number?\n```\n. @Toxicable Your example is for Cloud Firestore, not Realtime Database.\nIf I modify your example to use the Realtime Database, it fails.\nhttps://stackblitz.com/edit/angular-template-firebase-7mn3ay. Also, Firestore does not have a generic specific for collection.valueChanges, but rather uses the one already on the collection.\nhttps://github.com/angular/angularfire2/blob/master/src/firestore/collection/collection.ts#L98. @iskonation23 what versions of firebase and angularfire2 are you using? . Just opened a PR #1487 . Sweet! \u2665\ufe0f. @byronglendon using @angular/fire works great with Angular v7. @Kamshak Yes, that's what I'm using, but the bug is that limitToLast should already limit to only the most recently added item.\nThe following code will work, but is a workaround that I shouldn't need.\nts\nthis.list$ = this.db.list(ref, ref => ref.limitToLast(1))\n  .valueChanges(['child_added'])\n  .pipe(first());\n. Thanks for a good explanation! \ud83d\udc4d \nI still think that the behaviour is somewhat confusing though, since I get only the n most recent values when not only listening to child_added.\nMaybe the Observable should not emit a list, and only emit values instead? I feel like my confusion is from getting a list with a bunch of child_added events instead of getting each child one by one. When I've gotten the first child_added event I will get that same event in the array every time a new child is added. \ud83e\udd14 \nWhat I'm after in the end is to have an Observable that emits any new children in the list, and that only gives me the most recent child when starting the subscription. Probably easier to just not use angularfire in that case:\nts\nconst subject = new ReplaySubject<any>(1)\nconst ref = this.db.database.ref('/dinosaurs');\nref.limitToLast(1).on('child_added', snapshot => {\n  this.ngZone.run(() => {\n    subject.next(snapshot.val());\n  });\n});. ",
    "JT-Bruch": "@davideast is there a timeframe on that? \n. @jeffbcross that is fantastic news.  I just dropped in Auth today and noticed this issue.    The timing worked out pretty good. :)\nThat said - do you know if this fix will be apart of the same release for the various typings (for installation) fixes as well?\n. Not sure, I tried about a week ago to get master but was having more typings issues. I figured I'd wait and see as the fix is pretty easy as of right now, and looking at the commit history that was the same change made. Figured the issues I was having was due to the build process. \nAppreciate all the work y'all put into this.\n. @mukesh51 yep that worked, although for those who have been watching this, or the other issues, you will need to remove the import * as firebase from 'firebase'; from angularfire.d.ts and then restart ng serve.\nIf you do not do this, you will get duplicate identifier errors all over the place. (Which makes sense if you think about how Webpack is loading everything)\n. ",
    "govi2010": "@tonymk  when is new release coming ?\n. ",
    "tarlepp": "@katowulf actually ng2 route resolves uses Observables or Promises. https://angular.io/docs/ts/latest/api/router/index/Resolve-interface.html\nresolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) : Observable<any>|Promise<any>|any\n. @katowulf hmm, it seems to work if I use your example of that resolve implementation. But still I'm a bit confused why returning observable doesn't work like it should.\n. Hmm so this is a real bug then.\n. Hmm, and I'm just more confused :D \nIf Angular2 resolves can return a promise or observable as in the docs https://angular.io/docs/ts/latest/api/router/index/Resolve-interface.html and this.af.database.list('path/to/data') returns a observable  that should be ok - right?\nSo which one has the bug then?\n1) angular2 route resolve handling with observables\n2) angularfire2 observable\n3) or something else\n. ",
    "BirdInTheCity": "+1 for finding a cleaner solution. \nThe Firebase paradigm of continuous event stream makes sense, but it's a pretty common use case to have initial data loaded prior to resolving a route. I'll be curious to see if any other ideas develop.\n. ",
    "Benny739": "`resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable {\n        let id = route.params['id'];\n    return Observable.from(this.ss.getSupplierById(id))\n            .do(s => {\n                if (s.$value === null){\n                    this.router.navigate(['suppliers']);\n                    return null;\n                }\n                return s;\n            }).take(1);\n}`\n\nThis is working fine. . Hi David,\nDomain is added. I also tried using the domain supplied by firebase, same problem with aot and again working without aot. If it wouldn't be aot related, it shouldn't work without aot as well. \nRegards Benny. Hi David,\nthanks, but if I just do \nimport { FirebaseApp } from 'angularfire2';\nThere is no storage function in FirebaseApp. I also need to import\n`\nimport * as firebase from 'firebase';\nconstructor(@Inject(FirebaseApp) public fb: firebase.app.App) {\n}\n`\nthat I get access to storage in FirebaseApp. \nIs this a wanted behaviour?. Thank you so much, it is working now :). @markgoho I'm using an Observable as the equalTo query. The Observable is bound to a filter, in my code above to a selectbox. And if the user selects no filter, all results should be returned. You can use undefined as value, to achive this, but then you have to use ur own Subject, because angulars formcontrol doesn't like undefined.. I just had to add import * as firebase from 'firebase/app';. ",
    "myspivey": "Subscribing to this as well. A common practice for us to resolve certain pieces of data for a view.. Just going to throw in my hat of support, this all sounds great. I would like to also see what the effort is to try and stay as current as possible on @angular. angularfire2 is still on 2.0.0 which is causing some issues with the latest cli as mentioned elsehwere and strikes me as though it could be an ongoing problem as @angular cruises through semvar.. Loaded and so far so good! Did not have Auth in this simple little POC so unable to test that but the breakout is great, simplified our code a bit. Great work! Will report back if I run into any issues.. If you are on 1.0 of the CLI, it will build a project with \"@angular/core\": \"^4.0.0\", angularfire2 is still currently on \"@angular/core\": \"^2.0.0\".. Will be happy to handle that! Slammed today but will try to get to it tomorrow or Friday. Thanks for the clarification!. mayordwells you need to downgrade Firebase to 4.8.0. That will resolve till a fix is out.. @darlondjc can you verify what /node_modules/firebase/package.json reports as the version? Your setup looks fine.. I am confused. This is simply a removal as it was not being used here. I did not add back any imports, only removed.. No worries, I feel ya. Been up since 7am yesterday (now 1pm). I am seeing cross eyed so I really was not sure if I was missing something!. ",
    "mrdowden": "@leblancmeneses I'm also looking for a replacement for $firebaseAuth().$requireSignIn() as this was one of the most powerful features of AngularFire IMO.\nUPDATE: Actually @martine-dowden found a way to do this using the AngularFireAuth:  angularFireAuth.authState.take(1) returns an Observable that works correctly when returned from a Resolver.. ",
    "hieunc229": "(I assume you are developing a hybrid app)\nHave you install InappBrowser yet? It cause the issues most of the time\nTry this\n\ncordova plugin add cordova-plugin-inappbrowser\n\nOr if you are working with HTML and Javascript\nYou might need to add 'localhost' at firebase console (Authentication > Sign-in Method > OAuth redirect domains)\nand run on virtual server (with http protocol) in stead of running locally (files://)\nMore info here\n. ",
    "sebastiandenis": "I've found something that can be helpful:\nhttp://www.clearlyinnovative.com/sample-firebase-angularfire2-with-angular-cli-application\n. ",
    "guiomie": "Thanks fro your help @mukesh51 . I'll try installing the typings globally. \nMy main problem with the linked install guide is that it it relies on angular-cli which relies on webpack. Angular-cli rebuild times are atrociously slow ~6-10 seconds, making iterative development painful. I'm looking to get angular2 + angularfire2 working example without angular-cli.\n. Here is the bug for the slow recompile time with angular-cli: https://github.com/angular/angular-cli/issues/1980\n. ",
    "FredvanRijswijk": "for AutoId keys you can use push() not set()\n. I have the same issue on \n\n2.0.0-beta.6\n\nI think that you also mean beta.6\n. ",
    "shangab": "@davideast Can you say this in Angular js 1 David? using angularFire, Thanks.. ",
    "frankspin89": "I can confirm that FirebaseListObservable is not affected. \nJust wrote the same function with FirebaseObjectObservable and FirebaseListObservable. The version with FirebaseObjectObservable takes more then 20 sec to load.\n. @jwuliger glad to hear that the zone work-around is working for you. Sadly it's not working for me at the moment. Do you mind to share your solution? \n. Thanks @jwuliger for the provided example code. Sadly no improvements on the loading speed here ;-( \nHere is a piece of my code: \nService\ngetUserProfile() {\n    const getUser = new Subject();\n    this.getUser().subscribe(\n        authResp => {\n          console.log('response received from getUser():', authResp);\n          const data = this.af.database.object(`users/${authResp}`);\n          getUser.next(data);\n          getUser.complete();\n        },\n        err => {\n          getUser.error(err);\n          getUser.complete();\n        }\n      )\n     return getUser.asObservable();\n   }\nComponent\n```\nexport class ProfileIndexComponent implements OnInit {\n  user: FirebaseObjectObservable;\n  constructor(private authService: AuthService) {  }\nngOnInit() {\n    this.authService.getUserProfile().subscribe(data => {\n      this.user = >data;\n      console.log('user',this.user)\n    });\n  }\n}\n```\nTemplate\n<h2>Profile index component</h2>\n{{ (user | async)?.company }}\nEvery time I visit the corresponding page it takes around 20 sec to load the data. \nI see the data instant in my console\nuser: FirebaseObjectObservable\n_isScalar: false\n_ref: U\n_subscribe: (obs)\nproto: Observable\n. I had the same problem as @daslicht after upgrading an existing project from beta.5 to beta.6.\nTo fix this remove \"types\": [\n      \"firebase\"\n    ] from your tsconfig.json file. Then delete your node_modules folder and npm install again. \nProblem solved.\n. If you encounter the same problem and want a temporary fix you can use :any on the error object. \nlet error: any = err;\n. @jeffbcross Calling the AngularFireAuth api with the login method. (Login with email, and password). \n. You have to use the Firebase CLI to deploy your functions to Firebase. Cloud functions are backend related, not frontend. \nAs far as I know AngularFire is not related to Cloud Functions . ",
    "wayjake": "For anyone waiting on an official fix and would like to get the initial data rendered in less than 30 seconds, for the main app to re-render itself after a little under a second or roughly as long as it takes for your first round of data to arrive. This is a horrid hack and I'm slightly ashamed to share :) It just will allow you to continue using angularfire2 as normal without the zone.run() all over the place.\nIn my AppComponent called once to re-render the app:\n constructor(private ref: ApplicationRef) {\n    setTimeout(() => { this.ref.tick() }, 700);\n  }\n. Working like a champ for me. Thanks @jeffbcross!\n. ",
    "d3lm": "@daslicht You probably have to wrap the zone around your next call. \nthis.zone.run(() => {\n  this.selectedSlideKeySubject.next( this.selectedSlideshow.$key );\n});\n. @daslicht Yes, @jeffbcross fixed the issue and released beta.6. Object and list factory now use the zone scheduler. I will upgrade my version later today to see if all my issues related to this topic are fixed. Thanks @jeffbcross for your work!\n. ",
    "Irocode": "i have the some problem\n. ",
    "waaeel": "thank you @davideast !\ndo you know how to combine 2 querys ?\nI tried this, but it is not functioning : \nquery: {\n            orderByChild: 'timestamp',\n            startAt: Date.now(),\n            query:{\n              orderByChild: 'username',\n              equalTo: \"tim\"\n            }\n        }. ",
    "oberoivarun": "@davideast They are set to auth != true for both.\nhttps://github.com/oberoivarun/firebase_reactive_issue_varun\nDownload this repo. Create a sample app in firebase console and add your credentials and variables in the app.module.ts firebaseconfig variable.\nUpload sample data provided, sample_json.json and ng serve.\nThen try to change the data in the firebase console and see if it changes in the UI.\nNote: Keep the app open while you change the data. Switching the tab will cause rerender and hence you will not notice a problem.\nAlso, change your database rules to true.\n. @davideast Thanks.. but that's not my problem at all. I can read the data... The data being displayed in my view. When i alter the data in the console, an updated packet reaches my app through the websocket.\nThe problem is that the view does not update! Everything else is working, just the view isn't updating with the fresh data. My repo shows the problem.\nLove your videos on youtube! Thanks again.\n. @gagrijalva You solution works, but throws as error.\nI used it like this:\nlet items = af.database.list('/items');\n    items.subscribe((x): void => {\n      this.zone.run((): void => {\n        this.items = x; //This line is referenced in the error.\n      });\n    });\nType 'any[]' is not assignable to type 'FirebaseListObservable<Item[]>'.\n  Property '_ref' is missing in type 'any[]'.\nI also tried:\naf.database.list('/items').subscribe(x => {\n      this.zone.run(() => {\n        this.items.push(x);\n      });\n    });\nThis throws:\nitems.service.ts:19 Uncaught TypeError: Cannot read property 'push' of undefined(\u2026)\nAny idea how to remove this?\n. @gagrijalva I have.. still get the same error.\n. @gagrijalva Sorry... i was doing any[]. Using any removed the error. Thanks!\n. ",
    "gagrijalva": "Hi @davideast @oberoivarun , I am having the exact same issue. The view is not updating the changes when I use data binding. I could solve this problem by wrapping up my code in the run function from the NgZone class like so:\njavascript\nthis.database.object('users/' + this.auth.authState.uid)\n            .subscribe(snapshot => {\n                this.zone.run(() => {\n                    if(snapshot.configInfo !== null && snapshot.configInfo !== undefined) {\n                        this.configInfo = snapshot.configInfo; \n                        this.showModal();\n                    }\n                });\n            });\nThis works well as a temporary solution but I would not like to do this every time I have to use data binding. I hope this issue gets fixed.\n. @oberoivarun, from what I can see you are trying to get a list of objects from your database, and assign them to the variable \"items\". What I would do to solve the problem is to declare the variable \"items\" as \"any\" type and then just assign the result (x) to the variable \"items\", and wrap the assignment declaration inside the \"run\" function from the ngZone class. I will leave the code implementation below:\n``` javascript\n    items: any; // Declare this variable above in your code\naf.database.list('/items').subscribe((x): void => {\n  this.zone.run((): void => {\n    this.items = x;  //Make sure you are making reference to the same variable of items declared above in your code\n  });\n});\n\n```\n. @oberoivarun  can you show me the full implementation of your code?\n. Your welcome!\n. ",
    "shashankgaurav17": "I tried deleting angular-cli and then installed the latest version..still didn't work,..\n. @mukesh51 I tried but still I am getting same error. I am using latest version of node, npm, angular-cli. Could be please check the same on Windows 7.\n. ",
    "richarddavenport": "Here's another issue that solves the problem: https://github.com/angular/angularfire2/issues/617. @Qarun-Qadir-Bissoondial stackblitz example\nI don't know how to reproduce your issue, but it looks like you have a couple of issues with your providers. In your app module you're adding AngularFireAuth when it should be AngularFireAuthModule also, you're injecting the same AngularFireAuth (not AngularFireAuthModule) in the component, which shouldn't cause any problems, but rarely do you need providers in your components.\nHere is a link to the documentation on the individual modules: docs. ",
    "garyee": "As had this exacte problem and this page came up on google and was the only good solution:\nUpdate the RXJS Lib changed, it is:\nimport { take } from 'rxjs/operators';\n\nthis.af.database.object('sections/max_cap')\n.pipe(take(1))\n.subscribe((data) => {\n      console.log(\"Setting..\");\n      let newData = data.$value + table.max_seats;\n      this.af.database.object('section/max_cap').set(newData)\n      .then(_ => console.log(\"Updated\"))\n      .catch(err => console.log(err, \"Failed\"));\n    });\n\nnow. ",
    "kishandonepudi": "I'm still getting the error even after using \nimport * as firebase from 'firebase';\n\nPlease help.... ",
    "AdamJo": "Getting the same errors when trying to upgrade to beta.6-preview.\nWindows 10\n\"@angular/common\": \"2.1.1\",\n  \"@angular/compiler\": \"2.1.1\",\n  \"@angular/compiler-cli\": \"2.1.1\",\n  \"@angular/core\": \"2.1.1\",\n  \"@angular/forms\": \"2.1.1\",\n  \"@angular/platform-browser\": \"2.1.1\",\n  \"@angular/platform-browser-dynamic\": \"2.1.1\",\n  \"@angular/router\": \"3.1.1\",\n  \"@angular/tsc-wrapped\": \"0.3.0\",\n  \"angularfire2\": \"^2.0.0-beta.6-preview\",\n  \"core-js\": \"2.4.1\",\n  \"firebase\": \"^3.5.2\",\n  \"rxjs\": \"5.0.0-beta.12\",\n  \"zone.js\": \"0.6.26\"\n. Seems to work fine when starting new. I'm currently trying to duplicate the error on a blank template using qdouble's minimal starter but no luck.\nHere is my repo that has the error.\nThis is my tsconfig.json with the repo I am getting errors with. I deleted my /dll and /node_modules folder and the problem persists.\nWindows 10 - Note: I do not have firebase in my tsconfig.\n```\n{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\"es5\", \"dom\"],\n    \"noEmitHelpers\": true,\n    \"skipDefaultLibCheck\": true,\n    \"pretty\": true,\n    \"sourceMap\": true,\n    \"strictNullChecks\": false,\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ]\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"src/compiled\"\n  ],\n  \"awesomeTypescriptLoaderOptions\": {\n    \"useWebpackText\": true,\n    \"forkChecker\": true,\n    \"useCache\": true\n  },\n  \"compileOnSave\": false,\n  \"buildOnSave\": false,\n  \"atom\": { \"rewriteTsconfig\": false }\n}\n``\n. Removing Firebase from mypackage.json` dependencies like @jwuliger suggested worked for me. I am no longer getting the errors.\n@davideast : On a side note, this new release reduced my production build (with AOT) from 338kb to 233kb.  Thanks for all the work you and the rest of the team are doing with AngularFire2.\n. @tinydream12  Check out Issue https://github.com/angular/angularfire2/issues/658 if @Chris1308's answer doesn't work for you. Seems there are be multiple ways to fix it.\n. @cartant  Interesting, thanks for the advice. \nAs a test, I went into firebase-browser.js and was able to comment out storageand messagingwithout breaking anything but ran into issues leaving out auth (a facebook provider message error) even though I am only using firebase/appand firebase/database in my application. Obviously, this isn't the best solution since I'd have to do this every time I update firebase.\nI'll mess around with some other solutions using Webpack to see if I can get rid of auth (an extra 115kb) and post my solution here in case anyone else wants to try it.. @davideast Glad to hear and thanks for the reply. I'll go ahead and close this issue since you got the other one open.. ",
    "dabele91": "Hi @daslicht, as mentioned in the change log, you have to remove the firebase typings from the tsconfig. I've received the same errors, but removing firebase from the tsconfig.json solved the problem.\nNote from the change log:\n\nA TypeScript issue with the previous release has been fixed, where errors about a missing firebase namespace were reported. For applications that worked around this issue by manually adding the firebase.d.ts typings to tsconfig.json, those typings should now be removed since the firebase namespace should automatically be resolved within AngularFire. See this issue for more context.\n. There already is an issue which explains the error (#658).\n. \n",
    "oandreazza": "I was facing the same problem. \nI followed this steps:\n- Remove \"firebase\": \"^3.5.1\" from my package.json\n- Removed node_modules\n- npm install\nNow everything is working good!\n Thanks all!\n. Thanks @FredvanRijswijk ! You are right!\n. ",
    "albertora": "With npm install firebase@3.3.0 angularfire2 --save everything works ok.\nThanks for the fix!!. ",
    "JoeyHengst": "Jup only thing helped for me was what @albertora and @Energy4216 said.. ",
    "mxii": "\nHave a feature request?\nGreat, we love hearing how we can improve our products! Remove the template below and\nprovide an explanation of your feature request. Provide code samples if applicable. Try to\nthink about what it will allow you to do that you can't do today? How will it make current\nworkarounds straightforward? What potential bugs and edge cases does it help to avoid?\n\nAnyway..\nuse-case is to control our app via remote parameters, without updating sources..\n- change themes\n- show promotion\n- enable/disable features\n- .. whatever ..\nYou could achieve this using the database.. sure!\nBut why don't use firebase's features if they are present.. :)\nFeature-Request:\n\naccess \"remote config parameters\"\n. \n",
    "giansk": "Updated to match the issue template\n. It seems is the same issue  #574.I'm gonna close this for now and subscribed to the other thread.\n. ",
    "sky09": "thanks @Chris1308 , it works fine. \ud83d\udc4d \n. ",
    "Jennyshah": "i have an error...\n\n. ",
    "maicogirardi": "I have this error just now... and remove the \n    \"types\": [\n      \"firebase\"\n    ]\nof \"src/tsconfig.json\" \nand everything works fine now...\n. ",
    "LuisJoseSanchez": "I have got exactly the same errors.. ",
    "Reiss-Cashmore": "Thought I would write this just to help anyone that comes across this while it is not fixed and to make sure the devs have as much info as possible. As above I have same issue with the AngularFire.auth.login() method when using the E-Mail and Password authentication method as mentioned earlier\nExample\nthis.af.auth.login({\n      email: this.userEmail,\n      password: this.userPassword\n    }).catch(error => {\n      console.log(error);\n      // Show failed login validation\n      this.loginFailed = true;\n    });\nError is not of the right type\nThis is the type that AngularFire thinks the error is going to be:\n\nThis is the object that gets logged to the console from the above snippet\nError:{\ncode:\"auth/user-not-found\",\nmessage: \"There is no user record corresponding to this identifier. The user may have been deleted.\"\n}\nI cannot work out what sort of error the user is getting when they try to log in. I can't have any conditional behaviour to improve the UX of my project based off of the error that is returned.  (i.e Displaying the register page if no user is found, giving detailed error feedback to the user if for example their token expires )\nMy Workaround for anyone dealing with this is to use the bracket notation with string literals. Which is a shitty implementation and should only be used temporarily. There is no compile time checking and the reliability of my application working is directly dependent on my ability to remember and spell the properties on the object.\nSee an example below\n```\n this.af.auth.login({\n      email: this.userEmail,\n      password: this.userPassword\n    }).catch(error => {\n      // Returns the firebase Error Code documented here https://firebase.google.com/docs/reference/js/firebase.auth.Error\n      console.log(error['code']);\n      // Returns the fire base message associated with the Error Code\n      console.log(error['message']);\n  // Show failed login validation\n  this.loginFailed = true;\n\n});\n\n```\nHope this helps !\n. ",
    "deepak1725": "Solved this by defining link as: [routerLink]=\"['/register'] instead of anything else.\n. ",
    "nicholas-richardson": "@mukesh51 after adding that and trying a few different approaches such as\nimport { flatMap } from 'rxjs/add/operator/mergeMap'\nimport { mergeMap } from 'rxjs/add/operator/mergeMap\nI receiving the same errors as above with an additon of the follow:\n```\nError: Cannot find module 'rxjs/add/operator/flatMap' from 'C:\\Users\\nicjr\\Documents\\Personal\\hydrate\\app\\pages\\home'\nError: Cannot find module 'rxjs/add/operator/flatMap' from 'C:\\Users\\nicjr\\Documents\\Personal\\hydrate\\app\\pages\\popover'\n```\n. Sorry I should have included that I tried as you specified with just adding import 'rxjs/add/operator/flatMap' to my component with no success =( \n. After adding that it seems to fix the flatMap issue but has caused a few other issues related to the import of mergeMap.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,40): Error TS1138: Parameter declaration expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,44): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,59): Error TS1109: Expression expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,68): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,117): Error TS1109: Expression expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,130): Error TS1109: Expression expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,138): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,139): Error TS1128: Declaration or statement expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(56,154): Error TS1005: '(' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,43): Error TS1138: Parameter declaration expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,47): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,62): Error TS1109: Expression expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,71): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,120): Error TS1109: Expression expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,136): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,226): Error TS1109: Expression expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,234): Error TS1005: ';' expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,235): Error TS1128: Declaration or statement expected.\nTypeScript error: C:/Users/nicjr/Documents/Personal/hydrate.me-ionic/node_module              s/rxjs/operator/mergeMap.d.ts(57,250): Error TS1005: '(' expected.\n. ",
    "toddmotto": "I signed it! ;)\n. ",
    "StevenAderson": "Thanks it works great!\n. ",
    "coltaemanuela": "Yes, but what if I need a generated  key in order to use it later in other collection, but for this particular collection, I need to replace the key and keep the content? How can I update only the key?. ",
    "tricon-anand": "@davideast , \nThis solution this.af.database.object(list/myCustomKey).set(values) is not working for me. If I want to insert a new value, first time it works, but second time with same myCustomKey if I try its updating the previous value, instead rejecting.. ",
    "Dinodanio": "Set is destructive. Look here https://github.com/angular/angularfire2/blob/master/docs/rtdb/objects.md. ",
    "thegrid22593": "You got it!\n. Hi All,\nThere shouldn't be a node_modules folder inside of angularfire2. Firebase is set as a dependency inside of the angularfire2 package.json and should be installed at your root node_modules folder.\nWith that said...\nIf you go into the firebase directory in your node_modules folder you will see an app.d.ts and a firebase.d.ts. Both of these files contain the same definitions which cause the duplicate error. Delete firebase.d.ts and all the errors will resolve.\nThis worked for me. Hopefully this will help someone else.. ",
    "houfu": "I'm curious what kind of work is being done for this :stuck_out_tongue: Are you accepting contributions?. I am interested in this as well.. I am interested in this as well.. I restored my package.json to  \"firebase\": \"^4.8.0\" (which imports4.8.2) and my project compiles with no issue. Issue resolved!. You can't do that with SubCollections. Try db.collection(profile).document(user.uid).collection(likes) or define likes as an array if you want it to appear in valueChanges.\nI don't see this as a special feature of angularfire2 so I don't think this should be included in docs.. Hi, the new screenshot suggests that the firestore permissions are not set correctly (an unauthorised user is not able to read data) but this is not related to the original \"supplied parameter\" error. \nWhen I read the original code example, I find that there are a lot of typos in them. I think you have to go through it line by line :disappointed:  . @SGissubel I think it would help if you provided your code. . Hi I've cloned your project and I do not see the error. Building it seems fine too.\n\nWhen you have logged in -- it runs the fetch (where the code breaks). Which is fine, because at first you will have nothing to fetch. But after you create a 'snippet', it should load the fetch again. This is where it should return the values and should of course return the created id to access each saved item -- for later editing/deleting purposes. But it never makes it past the snapshotChanges().\n\nFrom what I can tell in snippets.service.ts, you've mapped your observable but haven't subscribed to it. So nothing is being done to the underlying data.. The node.js error you mentioned is not causing your build to fail. You should get a more detailed log or stacktrace as mentioned in your screenshot. . I haven't used the database in a while, but IIRC, you are supposed to subscribe to snapshotChanges(). https://github.com/angular/angularfire2/blob/master/docs/rtdb/objects.md#retrieving-the-snapshot. I haven't used the database in a while, but IIRC, you are supposed to subscribe to snapshotChanges(). https://github.com/angular/angularfire2/blob/master/docs/rtdb/objects.md#retrieving-the-snapshot. ```typescript\n//Subscribe\nsubscription = this.itemRef.snapshotChanges().subscribe();\n//Unsubscribe\nsubscription.unsubscribe()\n.typescript\n//Subscribe\nsubscription = this.itemRef.snapshotChanges().subscribe();\n//Unsubscribe\nsubscription.unsubscribe()\n`. Hi like @jorgeucano I can build your project but there are some errors regarding a missingversion`` file in the environments folder.\nMore importantly, my ./node_modules/@firebase/polyfill/index.ts is not missing. Try deleting your node_modules folder and run npm install again?. Hi like @jorgeucano I can build your project but there are some errors regarding a missing version file in the environments folder.\nMore importantly, my ./node_modules/@firebase/polyfill/index.ts is not missing. Try deleting your node_modules folder and run npm install again?. ",
    "JonesM87": "Reference with examples would be very helpful. @troydcthompson I just stored the field data/array locally, made any manipulations I needed to, then updated the doc field. The arrays I'm manipulation are pretty small so this seems ok for now but does mean  an additional read from the db. . ",
    "JasonGoemaat": "I wonder if this might allow access to the facebook access token for using the graph api in client code?  I can't find that anywhere on the auth I get back from angularfire.  Thought I'd read existing issues before submitting my own.. Might be linked to #805 I created a few hours before yours, it seems like the 'credentials' with the accessToken only comes through on the login call.  My guess is that once firebase auths the user with the login they don't store the facebook access token for security reasons but I'm not sure.. Two hours messing around and bone-head error on my part.  Subscribe was working fine my console output was being filtered.. ",
    "shadabs22": "I also have problem, will anybody help to give alternate way to write the query for angularfire2 version 5, below query is working for version 4 but not in version 5. Please help.\ngetMessages(): FirebaseListObservable {\n     query to create our message feed binding\n     return this.db.list('messages', {\n       query: {\n         limitToLast: 25,\n         orderByKey: true\n       }\n     });\n  }. ",
    "rynclark": "Yarn doesn't seem to be playing nicely with Travis which has led the build to fail - https://travis-ci.org/angular/angularfire2/builds/176247589\n. @davideast is it possible to get this reviewed soon please? :). ",
    "NuruddinBadawi": "Firebase support offline https://firebase.google.com/docs/database/web/offline-capabilities\nbut how I can apply in AngularFire2 ?. ",
    "Demi-ob": "@ix-xerri Did you use firebase library alone for the whole app or for initialising the app in app.module.ts to get it to work.  I am still having this problem \n. @ix-xerri Did you use firebase library alone for the whole app or for initialising the app in app.module.ts to get it to work.  I am still having this problem \n. @mukesh51  everything is the same with the app in ur repo yet the error still exist\n. Ok.  Thanks.  I will be expecting your response \n. Hurray!!!.  It works.  Thanks a lot @ix-xerri,  @mukesh54 and @Chris1308\n. ",
    "Awadhesh31": "when I am retrieving data from firebase it show\n URL like http://localhost:4200/listing/-Kdl_wRRkn7nJxgz4B54\nbut on referencing it show URL like  http://localhost:4200/ it remove id from URL. 1.npm cache clean\n2.npm install angularfire2 firebase --save\nI have uses above step and it works, previously it was showing\n \"angularfire2\": \"4.0.0-rc.0\",\n  \"firebase\": \"^3.9.0\",\nand after using above step and rpm build \nit working properly and know it showing\n\"angularfire2\": \"^2.0.0-beta.7-pre\",\n\"firebase\": \"^3.9.0\",\nand this is happing because of angularfire2 version. ",
    "lanocturne": "This can be closed thanks to the new release.. ",
    "kevin192291": "Sadly, there are no reasonable answers on SO about this :(. ",
    "ituhin": "@katowulf thanks \ud83d\udc4d \nand what is the equivalent of $loaded() feature ? same subscribe() ? then how to differentiate between both cases !. ",
    "leeandro0": "i will have  the issue, null here does not work\nthis.notmybooks = angfire.database.list('/user-books', {\n        query: {\n          orderByChild: 'likedby/tzROGF1Tk4NcobrTE70ZKQzoKom1',\n          equalTo: null\n        }\n      });. ",
    "marcellokabora": "@leeandro0 try equalTo: undefined, this work for me.. ",
    "aturowsk": "My quick this is shown below.\n  this.notmybooks = angfire.database.list('/user-books', {\n    query: {\n      orderByChild: 'likedby/tzROGF1Tk4NcobrTE70ZKQzoKom1',\n      equalTo: book==null ?\"\" : book //fix null values returning whole list\n    }\n  });\n\n. ",
    "mhmo91": "Got it working, thank uuu, although, is believe the whole purpose of  angular-firebase is make it easy for developers to use firebase apis using the sugar of typescript n ng2... i'm closing the issue n hoping that u guys can add more apis to angularFire in the future, thanks again \ud83d\udc4d . ",
    "danielehrhardt": "Many People have a Problem with this can you please fix it?\nthanks @thegrid22593 delete the firebase.d.ts fixed my problem.\nThanks,\nDaniel. Many People have a Problem with this can you please fix it?\nthanks @thegrid22593 delete the firebase.d.ts fixed my problem.\nThanks,\nDaniel. ",
    "thetylerb": "I ran into this issue because i ran firebase init when I already had angularfire2 included in my app. I solved the issue by deleting node modules, then re-installing. . ",
    "streaper2": "@mpeguero  need your help please !!\ngetModel(model){\nlet modelQuery = this.afo.database.list(this.currentUser.username + '/models'     , {\n\n  query: {\n       orderByChild: 'name',\n       equalTo: model\n\n     }}).map((items) => {\n       return items.map(item => {\n         item.data = this.afo.database.list(this.currentUser.username + `/models/${model.items}` );\n         console.log(\"item\",item);\n\n         return   item;\n       })\n     })\n\nreturn modelQuery\n}\nso its return an observable and item its my array how i can retrieve item to a new variable item ?. ",
    "torfeld6": "Basic project setup with the error described above.\nng-firebase-test.zip\n. @jsayol tried timestamp and simple dummy strings like foo. Are you talking about the object property $key?. $key seems to be the correct attribute to read from the database, but how to set it in a push?\n\n. ",
    "jsayol": "None of these characters are valid in key names in Firebase: . # $ / [ ]. If you want to set a key just like in the examples you showed then simply remove the $ symbol, like this:\nts\nlet list = af.database.list('/items');\nlist.push({\n    key: new Date().getTime(),\n    name: 'Test'\n});\nWith Angularfire2, the $key property of an object holds the value of the parent key of that object. AF2 does that on the fly for you, you don't need to set that property (nor you can). So based on your screenshot, if you retrieve the object at items/-KYDqbl2s0EZ0YoN9R_F:\njs\n{\n  key: 1480939173058,\n  name: \"Test\"\n}\nthen the key property will be 1480939173058 and the $key property will be -KYDqbl2s0EZ0YoN9R_F.. Actually, merging the two packages might not be a good idea. Simply creating a new 4.0.0 version on the \"angularfire\" package with the most recent AF2 code seems like the best option to me. You would still keep the \"angularfire2\" package for any project currently using it, of course.. > Keeping them separated is probably the simplest way to avoid a lot of confusion and frustration trying to apply documentation, code samples, Stack Overflow answers, et al to these libraries.\nYeah, that's a good point.\nI don't really see an easy solution to this. Maybe keeping it as AngularFire2 might be best, I don't know.. Just adding this: https://twitter.com/IgorMinar/status/808401117822357504. > Staying in lock step with Angular's version number is a fool's errand\nDefinitely. I just realized that by suggesting to jump to 4.0.0 it might have looked like that's what I was proposing to do. It's not.\nI like the idea of rebranding the library altogether. It sets a very clear boundary between AngularJS (1.x) and Angular (2+). For end-users, the transition from angularfire2 to the new package would be relatively painless: change the dependency in package.json and replace any import statements, which should be a matter of seconds in most IDEs. At first it might cause a bit of confusion to some users but in the long run it seems like the better option.\nSticking with angularfire2 might be the easiest option right now but I think it'll become increasingly more confusing as time passes and Angular starts hitting higher version numbers.\nFor what it's worth , both ngfire and ng-fire are available as npm package names.. Adding this discussion on twitter started by @ocombe since it feels relevant: https://twitter.com/toddmotto/status/809912496454766593\nI linked to @toddmotto's tweet since it has some interesting replies but click around for the whole conversation.\nMaybe for now it'd be best to wait and let things settle.\nDoes the Angular team have an official position when it comes to naming libraries? Maybe this discussion should be happening at that level since I'm sure many other Angular-related projects will be facing this very same issue.. That seems like a good option. Maybe @angular/fire and angular/fire to better differentiate it from the official firebase package and repo.\nThis also gives it a name that's really close to the current one, which is a plus.. > @firebase/angularfire will continue to be the Angular 1.x version, so that's not an option either\nActually @firebase/angularfire is available on NPM, but on github firebase/angularfire is indeed the repo for v1 so that could certainly cause some confusion.\nMaybe @jwngr's initial proposal of ngfire might be the best bet placing it under the Firebase org: @firebase/ngfire on NPM and firebase/ngfire on github.. I like this!\nModularity is key and will be a huge improvement in reducing bundle sizes and boot times. Just that is already worth as many breaking changes as needed.\n\nThe goal of AngularFire (1 & 2) is not to wrap the Firebase SDK. [...] The goal is to provide Angular-specific functionality.\n\nAgreed. The least the library does, the better. If it's not specific to Angular then it should be done directly via the SDK or through some other library.\nAbout auth, not much to add. Besides wrapping auth state changes in an observable, everything else can be done directly on the SDK. Just some bikesheding: afAuth.authState -> afAuth.state.\nAbout versioning:\n\nWhen we release the semver version will be AngularFire2 4.0. We will try to keep in line with Angular 4.0 when it releases. I'm open to other suggestions, so drop a comment.\n\nDoes that mean maintaining version parity with Angular in the future? Because that wouldn't really be using semver, if AF bumps minor version without any new features, or major versions without actually introducing any breaking changes. If parity is not the goal here, then AngularFire2 3.0 might be more appropriate (I know, I know... more bikeshedding).\nAs for all the new features planned for the future: yes please, but only if they make sense in an Angular environment. About \"Authentication Route Guards\": OMG YES.\nLast ~but not least~ and absolutely least, just an idea: since AF will be split into separate modules, how about publishing them as separate packages instead of as one?\nSo instead of having just the angularfire2 package and do naked imports from inside it:\nts\nimport { AngularFireModule, AngularFireApp } from 'angularfire2';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuthModule, AngularFireAuth } from 'angularfire2/auth';\nWe could have separate packages for each functionality like @angularfire/app, @angularfire/auth, and @angularfire/database like this:\nts\nimport { AngularFireModule, AngularFireApp } from '@angularfire/app';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from '@angularfire/database';\nimport { AngularFireAuthModule, AngularFireAuth } from '@angularfire/auth';\nAlso... two birds, one stone, right? ;). @davideast @cartant creating several packages (scoped or not) from a single repo is quite easy using a tool like Lerna. I just went through that process myself and it's straightforward to set up. Those who advised against it, did they give any specific reasons? I'm actually quite interested here.\nJust because I gave this some more thought, I'll reiterate: don't jumpt to v4. I think the best course of action would be to:\n1. Publish as scoped packages. This allows to drop the 2 without conflicts.\n2. Follow semver from now on (which you're already planning to do). Even though you could start from scratch with 1.0 on the new packages, versions 1.0 and 2.0 are definitely overloaded right now so it's a good idea to skip them. Skipping 3.0 and jumping to 4.0 only makes sense if AF tracks Angular versions, but like I said earlier that wouldn't really be following semver at all. So, in short, start with 3.0.\n3. Make it clear that, at any point, the latest version of AngularFire (as published with the @angularfire/* packages) is compatible with the latest version of Angular. No need to mention version numbers, and the message is clear.\nauthState is fine. My main issue with it was that afAuth.authState sounds kind of redundant, but it's true that by itself authState is much more clear than state, which might be too vague.\nI'm conflicted about AngularFire exposing the child added/removed/etc as observables. On one hand that's something I always end up doing myself whenever working with Firebase and RxJS so I see some merit as to why it'd be useful to have, but that's not something you might consume directly on the template to update the UI. So this wouldn't really be about Angular but just about providing handy observables to the underlying SDK events, and isn't that the kind of approach the new API is trying to get rid of? I don't feel too strongly about it either way, though, and if it gets added people will definitely use it.\n. ",
    "FLovison": "Hi, \nwith this syntax it's ok \ud83d\ude42: \nlet newKey = new Date().getTime();\nlet list = af.database.object(`/items/${newKey}`).set({\n    name: 'Test'\n});. ",
    "truongvanninh": "Thank you very much. ",
    "jwngr": "Our primary goal should be to avoid confusion for end-users. Our secondary goal should be to make our lives as the library publishers easier.\nStaying in lock step with Angular's version number is a fool's errand and seriously impairs our secondary goal (proof of that is that we already have AngularFire(1) version 2.x.x so we couldn't even do this if we wanted). It does make our primary goal easier though. I wish we could just call it something else since Angular2 is such a different beast and there will be little to no clear upgrade path from AngularFire(1) to AngularFire2. Towards that end, we could move to call this something entirely new like ngfire and just say that angularfire is for Angular(1) and ngfire is for Angular2+.\nI'm not in love with any of the naming options really. I think it's going to be confusing for end users no matter what we do.. ",
    "ocombe": "The Angular team official position is: don't use ng2-, but you can use ng- for the name of your library, just don't use ng- for the directives because it's the \"official\" namespace (ngIf, ngFor, ...). Which means that ng- doesn't seem like a good prefix for the library name in my opinion.\nThat's why I think that ngx- is nice :). you could name it JustAngularFire :D. ",
    "wbhob": "@angular/firebase?\n. It won't cause any confusion because people will only get @angular/firebase if they are angular users. It is a completely different package. To install it, someone would have to directly install and reference the package as @angular/firebase.\nWilson Hobbs\nCEO/Founder/Developer at Canal\n11th Grade at The Lovett School\nPersonal Information\nE-mail: wilsonhobbs1@gmail.com\nCell: (404) 719-3252\nWebsite: www.wilsonhobbs.com (https://www.wilsonhobbs.com)\nTwitter/Instagram/Facebook: @wbhob\nCanal Information\nE-mail: wilson@getcanal.com\nWeb: www.getcanal.com (https://www.getcanal.com/)\nTwitter/Instagram/Facebook: @getcanal\nOn Apr 5, 2017, 9:09 AM -0400, Bruno da Silva jo\u00e3o notifications@github.com, wrote:\n\nI agree with @wbhob (https://github.com/wbhob) but I see a problem that we will end up with two packages with same name firebase and @angular/firebase and it can be confused. Is there any plan to remove the need for firebase package and make angularfire2 standalone or it will be always needed?\nAlso, firebase is used to handle the storage, so, for the current version (beta.8), we can't use only angularfire2.\nI suggest we remove the need for firebase from our apps and make the angularfire2 handle the storage and have firebase in its package.json so the users will not know that they are using furebase package, and won't be any confusion. So, we can move to @angular/firebase without any confusion.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub (https://github.com/angular/angularfire2/issues/716#issuecomment-291855874), or mute the thread (https://github.com/notifications/unsubscribe-auth/AEPIEl_UcilcYzjfOkeQFEOdaqwFGsWBks5rs5KHgaJpZM4LJoS4).\n\n. I think the package should be called @angular/firebase for simplicity and to line up with other Angular packages, like material. ",
    "M-a-c": "@wbhob Totally agree.\n@angular/firebase would make the most sense like @angular/material2 (they still put a 2 for some reason..)\nor @angular/cli\nits really how the eco system /should look. @davideast is the AngularFire 2 project suppose to just be support for Angular2 or is it support for Angular X ?. @markgoho Thanks. ",
    "vinagreti": "I agree with @wbhob but I see a problem that we will end up with two packages with same name firebase and @angular/firebase and it can be confused. Is there any plan to remove the need for firebase package and make angularfire2 standalone or it will be always needed?\nAlso, firebase is used to handle the storage, so, for the current version (beta.8), we can't use only angularfire2.\nI suggest we remove the need for firebase from our apps and make the angularfire2 handle the storage and have firebase in its package.json so the users will not know that they are using furebase package, and won't be any confusion. So, we can move to @angular/firebase without any confusion.. But what about the class names? Would it be AngularFire,  AngularFirebase, firebase, Firebase?\nWill the package be named @angular/firebase but the class named AngularFire? That is confuse to me... \nI think the class name should refer to its package name. If a new user knows only the @angular/firebase package name, they will assume the class name should be something like FirebaseModule and not AngularFireModule.\nAlso, for packages like  @angular/* they use the * as the class name and not prefix the class with Angular like AngularFirebaseModule. So it won't be the same as using others angular packages.\nFinally, in version beta.8 we need both packages to use database and storage, angularfire2 and firebase, so the user still need to install both and that is the confusion point between firebase and @angular/firebase.. ",
    "hlesesne": "I should add that it isn't just that it doesn't return the data, on the google confirmation screen, it only requests access to basic profile information. In the working version, the google confirmation screen requests access to all three.. I'm going to close this. I don't know exactly what the issue was, but I moved my module from configuration from an initial app.module.ts configuration and moved it out to just an inline ar.auth.login({..same thing here that was in app.module.ts...}) and it seems to be working now.. ",
    "nick-jonas": "@hlesesne I'm having the same issue.  I've tried redirect & popup methods, and I've tried both 1) auth config when initializing AngularFireModule, and also 2) inline like you mentioned, when logging in:\n```\nconst firebaseAuthConfig = {\n      provider: AuthProviders.Google,\n      method: AuthMethods.Redirect,\n      remember: 'default',\n      scope: [\n        'profile',\n        'email',\n        'https://www.googleapis.com/auth/contacts',\n        'https://www.googleapis.com/auth/contacts.readonly',\n        'https://www.googleapis.com/auth/plus.login'\n      ]\n    };\nreturn this.auth$.login(firebaseAuthConfig)\n  .catch(error => console.log('ERROR @ AuthService#signIn() :', error));\n\nIn all scenarios, the login process does not ask for permissions for the scope I defined, therefore the token doesn't work.. I'm successfully getting an access token with Google using the method @ealvarezv mentioned, but only when I sign in withAuthMethods.Redirect```:\n```\nconstructor(public auth$: FirebaseAuth, private http:Http) {\n    auth$.subscribe((state: FirebaseAuthState) => {\n      this.authState = state;\n      if(state){\n        const token: any = state.google;\n   // this gives an access token:\n    console.log(token.accessToken);\n\n    this.getPeople(token.accessToken)\n      .subscribe(\n        people => console.log(people),\n        error =>  console.log(error));\n  }\n});\n\n}\n```\nHowever when I try to use it like so with a google api:\ngetPeople(accessToken){\n    let path = 'https://people.googleapis.com/v1/people/me/connections?access_token=' + accessToken;\n    return this.http.get(path)\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\nI am getting an insufficient authentication scope:\n{\n  \"error\": {\n    \"code\": 403,\n    \"message\": \"Request had insufficient authentication scopes.\",\n    \"status\": \"PERMISSION_DENIED\"\n  }\n}\nThat's a whole other issue that I need help with, might be related?\n. Just to be clear, it looks like AngularFire isn't returning the proper access token needed to call Google APIs:\n// This gives you a Google Access Token. You can use it to access the Google API.\nvar token = result.credential.accessToken;\n. Fair enough, I rephrased & posted on StackOverflow here:\nhttp://stackoverflow.com/questions/42964672/angularfire2-using-access-token-from-google-auth-for-google-apis\nI'm finding this really confusing so any advice you might have on StackOverflow would be greatly appreciated!  Whatever the solution, would be really helpful in the docs for AngularFire as it has to do with sharing auth (at least I think, unless the solution is not using AngularFire's auth at all).\n. ",
    "ilkkanisula": "Data is updated but your subscribe handler is not invoked. If you update this.name in promise .then function it should work. See my plnkr: https://plnkr.co/edit/cORFFvoMB6p4nZT1OrSs\n. ",
    "thefliik": "For anyone else running into this issue:\nI just encountered the error Cannot find type definition file for 'src' .\nIn my case, the error came from my tsconfig.json file > typeRoots > a type root path pointed to a folder A > folder A, itself, included a folder with a nested src folder. Typescript was trying to find a type definition file for that src folder and failing. I simply flattened the contents of folder A so that it only contained type definition files and the problem went away.. @johanchouquet I believe the angular master branch is ahead of the releases. I don't think angular currently supports typescript 3, nor will it until angular 7.. @johanchouquet Angular CLI v7 also is not released. As of this posting, they recently released v7 rc0. Angular CLI's major versions are released in lock step with Angular's major verson's (same goes for Angular material's major versions). So none of the official, stable releases support typescript 3 (so far as I know). I also run angular 6.x with typescript 2.9.2, but I'm actually not sure if 6.x officially supports typescript 2.9 even. I think the latest currently supported typescript is 2.7.x (I see a console warning when I install Angular 6.x in a project using typescript > 2.7). Typescript 2.9.x seems to work anyway though (I haven't had any problems).\nI'd like to upgrade to typescript 3, so I've been trying to keep an eye on the angular releases to see if they added support. Haven't seen anything yet though.. ### Update\n@angular/fire appears to also not be compatible with \"firebase\": \"5.5.6\", as that release moved the typing files around.\nIt appears that \"@angular/fire\": \"5.1.0\" expects \"firebase\": \">=5.5.3 <5.5.6\".. I agree that the decision in firebase 5.5.6 to move typings around should be considered a bug, but I don't think the addition of the PersistanceSettings type to 5.5.3 should be considered a bug.. Oh my goodness, I had a typo and so I wasn't actually calling the method I thought I was.\nfacepalm.. duplicate of #1973\nAlso see PR #1976. I added a helpful usage suggestion from an issue in the firestore-js-sdk https://github.com/firebase/firebase-js-sdk/issues/1551#issuecomment-465708165. I second using an options object for future proofing. Great PR otherwise.. ",
    "saius": "ok thnaks you for your answer. but could you provide a snippet how to call this method in angular fire or angular 2. I use angular 2 in frontend and I don't now how to do it. . how do you send (post) it to your backend (I use djang rest framework as backend)?\nAnd if you can, could you explain how you redirect in angular  after authenticating?. ",
    "nothing2lose": "I solve this problem like a below.\nPlease let me know is correct way?\n````\n// authService.ts\n...\nimport { Injectable, Inject } from '@angular/core';\nimport { FirebaseApp, FirebaseAuth, AngularFire, AuthProviders, AuthMethods } from 'angularfire2';\ndeclare var firebase : any;\n@Injectable()\nexport class AuthService {\n  firebaseApp: any;\nconstructor(\n    private http: Http,\n    public af: AngularFire,\n    public auth: FirebaseAuth,\n    @Inject(FirebaseApp) firebaseApp: any\n  ) {\n    this.firebaseApp = firebaseApp; // firebase\n  }\nsomething(): void {\n    this.firebaseApp.auth();\n  }\n}\n````. ",
    "chuckjaz": "Optional is fine but not sufficient. If the type is not a sufficient token\nthen an @Inject is needed to define what the injector should supply for the\nparameter.\nOn Wed, Dec 21, 2016 at 2:04 PM, Hans notifications@github.com wrote:\n\nDiscussion between me and @chuckjaz https://github.com/chuckjaz:\nHans Larsen [10:40]\nhttps://github.com/StephenFluin/aot-repro -> ./node_modules/.bin/ngc -p\nsrc/tsconfig.json (after adding \"files\": [\"main\"] to tsconfig.json) gives:\nCan't resolve all parameters for FirebaseSdkAuthBackend in\n/Users/hansl/Sources//stephenfluin/aot-repro/node\nmodules/angularfire2/auth/firebase_sdk_auth_backend.d.ts: ([object\nObject], ?).\n\nChuck Jazdzewski [13:55]\nThis is a very bad error message for an erroneous declaration. The\nFirebaseSdkAuthBackend declares two parameters to the constructor, on is\nmarked with an @Inject but the other is not. We have a bug in the\ncollector regarding collecting boolean but, even if we didn't, this would\nbe an error because the injector cannot decide how to resolve the boolean\nparameter which explains the error. The information (because, in part, the\ncollector error) is incorrect.\n\nLooks like FirebaseSdkAuthBackend needs to have both argument\nnon-optional.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/728, or mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAWtLW11psyNwG9gK0sDzBn8sS4UxVVqks5rKaJXgaJpZM4LTbCo\n.\n. The fix looks good to me.. \n",
    "achimha": "I can confirm that beta.7-pre with your fix makes my project work with AoT and angularfire2. Thanks for the quick solution!. ",
    "mohamedaboelmagd": "@almgwary @davideast \nI used your solution but it returns another error\nERROR in Error encountered resolving symbol values statically. Calling function 'makeDecorator', function calls are not supported. Consider replacing the function or lambda with a reference to an exported function, resolving symbol Injectable in /node_modules/angularfire2/node_modules/@angular/core/src/di/metadata.d.ts, resolving symbol Injectable in \n/node_modules/angularfire2/node_modules/@angular/core/src/di.d.ts, resolving symbol Injectable in /node_modules/angularfire2/node_modules/@angular/core/src/core.d.ts, resolving symbol Injectable in /node_modules/angularfire2/node_modules/@angular/core/index.d.ts, resolving symbol AngularFireAuth in /node_modules/angularfire2/auth/auth.d.ts, resolving symbol AngularFireAuth in /node_modules/angularfire2/auth/auth.d.ts\nERROR in ./src/main.ts\nModule not found: Error: Can't resolve './$$_gendir/app/app.module.ngfactory' in '/src'\n @ ./src/main.ts 5:0-74\n @ multi ./src/main.ts\n??\nI solve it by making all version having the same value\n    \"@angular/animations\": \"4.0.2\",\n    \"@angular/common\": \"^4.0.2\",\n    \"@angular/compiler\": \"4.0.2\",\n    \"@angular/core\": \"4.0.2\",\n    \"@angular/forms\": \"4.0.2\",\n    \"@angular/http\": \"4.0.2\",\n    \"@angular/platform-browser\": \"4.0.2\",\n    \"@angular/platform-browser-dynamic\": \"4.0.2\",\n    \"@angular/router\": \"4.0.2\",. @almgwary \nwhat's the version of @angular/common you use it?. According to this\nhttps://stackoverflow.com/questions/43911080/return-the-download-url-of-a-file-uploaded-to-firebase/50448571#50448571\nYou can do the following \n```\nimport { from } from 'rxjs';\nconst storageRef = firebase.app().storage().ref();\nfrom(storageRef.child(this.storageUrl).getDownloadURL()).subscribe(\n          download => );\n```\nIt did work for me . ",
    "Blankarsch": "RXJS 5.0.1 doesn't work for me.... ",
    "paramburu": "Hi, having issues since angular and ionic are using rxjs@5.0.0-beta.12 but angularfire is using ^5.0.1... can't shrinkwrap either way.\nnpm ERR! peer dep missing: rxjs@5.0.0-beta.12, required by @angular/core@2.2.1\nnpm ERR! peer dep missing: rxjs@5.0.0-beta.12, required by @angular/http@2.2.1\nnpm ERR! peer dep missing: rxjs@5.0.0-beta.12, required by ionic-angular@2.0.0\nnpm ERR! peer dep missing: rxjs@5.0.0-beta.12, required by @angular/core@2.2.1\nAny suggestions? Thanks. Oh, perfect, didn't find them independently. Thank you very much.. ",
    "jasmeetdd": "Why did you close the issue How did you resolve it?. ",
    "utkukaynar": "Dear @theunreal, did you solve this problem? I'm having the exact same issue on iOS.. Didn't update this issue. I realized it and updated the documentation with a merged pr. \nUtku Kaynar\niPhone'umdan g\u00f6nderildi\nEliran Elnasi notifications@github.com \u015funlar\u0131 yazd\u0131 (29 Ara 2016 15:29):\n\n@utkukaynar @lickos return the Facebook.login...\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Here's my working code : \ntypescript\n      return Facebook.login(['email', 'public_profile']).then(res => {\n        const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        return firebase.auth().signInWithCredential(facebookCredential);\n      });. Can you paste your latest function block of code in here?\n\nUtku Kaynar\niPhone'umdan g\u00f6nderildi\nlickos notifications@github.com \u015funlar\u0131 yazd\u0131 (30 Ara 2016 10:01):\n\nWhen i run it on the emulator with livereloads i get this error:\nTypescript error.\nDuplicate identifire 'Promise'\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. can you add this? I didn't and mine is working but some people got it working with this fix : \ntypescript\nimport { firebase } from 'firebase';. Can you try logging in in an IOS device, instead of an emulator?\n\n2017-01-02 2:12 GMT+03:00 dhruv4 notifications@github.com:\n\n@lickos https://github.com/lickos not yet :/\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/736#issuecomment-269924025,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABiMDZ4IcSK_JkHacSp07tqF_NOCr5c_ks5rODL6gaJpZM4LVPmV\n.\n\n\n-- \nUtku KAYNARCEO, Code2 & SocialCube\n0541.2809556 | utku@code2.co | http://code2.co\nULUTEK Teknokent 311 Uluda\u011f Universitesi Nil\u00fcfer Bursa\nTwitter: @utkukaynar\nLinkedIn: https://tr.linkedin.com/in/utkukaynar\n. very strange. Please look at your app.module.ts to check everythings loaded\ncorrectly.\n2017-01-02 21:00 GMT+03:00 lickos notifications@github.com:\n\nSame error here in Android\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/736#issuecomment-270002915,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABiMDXbM-2G5VqrMKgYsKBSsQ0TWz_WOks5rOTswgaJpZM4LVPmV\n.\n\n\n-- \nUtku KAYNARCEO, Code2 & SocialCube\n0541.2809556 | utku@code2.co | http://code2.co\nULUTEK Teknokent 311 Uluda\u011f Universitesi Nil\u00fcfer Bursa\nTwitter: @utkukaynar\nLinkedIn: https://tr.linkedin.com/in/utkukaynar\n. Great. Love to hear that.\n10 Oca 2017 Sal, saat 17:31 tarihinde dhruv4 notifications@github.com\n\u015funu yazd\u0131:\n\nThis worked for me as well!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/736#issuecomment-271589768,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABiMDVfaBsomY3jtnjGgHq8XpLE1EeD6ks5rQ5ZNgaJpZM4LVPmV\n.\n. I signed it!\n\n2016-12-26 17:41 GMT+03:00 googlebot notifications@github.com:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project. Before we can look at your\npull request, you'll need to sign a Contributor License Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll\nverify. Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your\n   GitHub username or you're using a different email address. Check your\n   existing CLA data https://cla.developers.google.com/clas and verify\n   that your email is set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\nIf you signed the CLA as a corporation, please let us know the\n   company's name.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/739#issuecomment-269216943,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABiMDXcbO0UIQOBQMlS9rQhEAMRm2OqPks5rL9IOgaJpZM4LVzaf\n.\n\n\n-- \nUtku KAYNARCEO, Code2 & SocialCube\n0541.2809556 | utku@code2.co | http://code2.co\nULUTEK Teknokent 311 Uluda\u011f Universitesi Nil\u00fcfer Bursa\nTwitter: @utkukaynar\nLinkedIn: https://tr.linkedin.com/in/utkukaynar\n. ",
    "lickos": "Dear @theunreal, did you solve this problem? I'm having the exact same issue on Android.. @theunreal \nI did it. \n  return Facebook.login(['email', 'public_profile']).then(res => {....\nI got this error:\n Type 'Promise\"FacebookLoginResponse\"' is not assignable to type 'Promise\"FirebaseAuthState\"'.at line 25 col 14. @utkukaynar\nI copied and pasted your code. Still same problem.\nType 'Promise\"FacebookLoginResponse\"' is not assignable to type 'Promise\"FirebaseAuthState\"\nI don't know what i am missing . When i run it on the emulator with livereloads i get this error:\nTypescript error.\nDuplicate identifire 'Promise'. @utkukaynar \nsignInWithFacebook(): firebase.Promise<FirebaseAuthState> {\n    if (this.platform.is('cordova')) {\n      return Facebook.login(['email', 'public_profile']).then(res => {\n        const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        return firebase.auth().signInWithCredential(facebookCredential);\n      });\n    } else {\n      return this.auth$.login({\n        provider: AuthProviders.Facebook,\n        method: AuthMethods.Popup\n      });\n    }\n  }. @utkukaynar \nThese are my imports:\nimport { Injectable } from '@angular/core';\nimport { AuthProviders, FirebaseAuth, FirebaseAuthState, AuthMethods } from 'angularfire2';\nimport { Platform } from 'ionic-angular';\nimport { Facebook } from 'ionic-native';\nWhat am I missing?\nBy the way Happy new Year to all of you\n. @utkukaynar \nI also tried this:\nsignInWithFacebook(): firebase.Promise<FirebaseAuthState> {\n    if (this.platform.is('cordova')) {\n      Facebook.login(['email', 'public_profile']).then(res => {\n        alert(\"this\")\n        let provider = new firebase.auth.FacebookAuthProvider();\n        alert(\"That\")\n        // alert(provider);\n        // const facebookCredential = provider.credential(res.authResponse.accessToken);\n        return firebase.auth().signInWithRedirect(provider);\n      });\n    } else {\n      return this.auth$.login({\n        provider: AuthProviders.Facebook,\n        method: AuthMethods.Popup\n      });\n    }\n  }\nBut still firebase is not defined. @utkukaynar \nI get this strange error:\nModule ''firebase'' has no exported member 'firebase'.\nI think the right way is:\nimport * as firebase from 'firebase';. It doesn't compile. @utkukaynar\nSame problem here. You can run the code on the emulator? Cause i followed all the steps described and copied paste the code. The problem is when it tries to get the credentials.. @dhruv4 \nMe too.. @dhruv4 \nHey dhruv4. Did you find any solution?. Same error here in Android. @utkukaynar \nthe firebase database works fine for me. The only problem i have is with the authentication. @utkukaynar \nOK. I made it to work:\nI delete the firebase from package.json\nI delete the node_modules folder \nAnd finally i did a npm install \nNow it works fine. ",
    "dhruv4": "I'm still having this issue, although I used the code that @utkukaynar gave us. I'm getting the same issue that @lickos has and, while the Facebook auth is popping up, the login process isn't actually occurring through Firebase. I'm getting the error message: firebase is not defined.. I'm getting \"duplicate identifier\" errors again by importing that.. @lickos not yet :/. Hey @utkukaynar - I'm getting the same error on an iOS device \"Can't find variable: firebase\". This worked for me as well!. ",
    "pablo-albaladejo": "@utkukaynar The import worked for me with no curly brackets\nimport firebase from 'firebase';. @utkukaynar The import worked for me with no curly brackets\nimport firebase from 'firebase';. ",
    "sstorie": "I really don't understand how people are working around the compilation error that exists in the documentation. I was able to get things working by using the following import:\nimport { Facebook, FacebookLoginResponse } from 'ionic-native';\nThen updating the method's return type to use this:\nsignInWithFacebook(): firebase.Promise<FirebaseAuthState | FacebookLoginResponse> {\n        if (this.platform.is('cordova')) {\n            return Facebook.login(['email', 'public_profile']).then(res => {\n                const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n                return firebase.auth().signInWithCredential(facebookCredential);\n            });\n        } else {\n            return this.af.auth.login({\n                provider: AuthProviders.Facebook,\n                method: AuthMethods.Popup\n            });\n        }\n    }\nYou still have to go through the entire process to get your app set up in the Facebook Developer Console, but with this I can log in with facebook on the actual device.. ",
    "pietro-gaiao": "Mine worked with import * as firebase from 'firebase'; and what @sstorie commented. thank you!!!. ",
    "hackSlanger": "```\nType 'Promise' is not assignable to type 'Promise'. Types of\n            property 'then' are incompatible. Type '{ (onfulfilled?: (value: FacebookLoginResponse) =>\n            FacebookLoginResponse | PromiseLike any, onReject?: (a: Error) => any) => Promise'. Types of parameters 'onfulfilled'\n            and 'onResolve' are incompatible. Type '(a: FirebaseAuthState) => any' is not assignable to type '(value:\n            FacebookLoginResponse) => FacebookLoginResponse | PromiseLike'. Types of parameters\n            'a' and 'value' are incompatible. Type 'FacebookLoginResponse' is not assignable to type\n            'FirebaseAuthState'. Property 'uid' is missing in type 'FacebookLoginResponse'.\n```\nI am getting this error can anyone solve this?\nMy signInfunction is:\nsignInWithFacebook(): firebase.Promise<FirebaseAuthState> {\n    if (this.platform.is('cordova')) {\n      return this.fb.login(['public_profile','user_friends','email']).then((res:FacebookLoginResponse) => {\n        const facebookCredential = firebase.auth.FacebookAuthProvider.credential(res.authResponse.accessToken);\n        return firebase.auth().signInWithCredential(facebookCredential);\n      });\n    } else {\n      return this.auth$.login({\n        provider: AuthProviders.Facebook,\n        method: AuthMethods.Popup\n      });\n  }\n  }. I've already created it using angularfire2 ..and many other functionlaities are dependent on it..isnt there any possibility that angularfire2 will be upgrading to make it compatible with ionic native 3.x???. but then why angularfire2 facbook login in ionic 2 tut is given on your github repo..??\nhttps://github.com/angular/angularfire2/blob/master/docs/Auth-with-Ionic2.md\nthis should be marked deprecated or should be removed if its not getting updated... @davideast Yes i implemented this but its no more working in mobile...because your code is compatible with ionic-native V2 but the presesnt one is ionic-native V3 ...\nSo please update your doc in https://github.com/angular/angularfire2/blob/master/docs/Auth-with-Ionic2.md as per ionic-native3.x\nhttp://blog.ionic.io/ionic-native-3-x/. Will give it a try for sure.. @davideast . ",
    "asqwrd": "will this be fixed soon i install via npm so id like to not have to edit the package manually. all is good for me im on the latest rxjs that angular uses\nOn Tue, Jan 3, 2017 at 6:36 AM, Ross Lavery notifications@github.com\nwrote:\n\nJust got back into the office, can confirm that all looks good here now.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/747#issuecomment-270127358,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFumoW1kyUN_zgUBWBJRdKupesVI_fe2ks5rOlz6gaJpZM4LXDAe\n.\n\n\n-- \nBade\n. ",
    "Elrhino": "@davideast I'm still having this issue on 2.0.0-beta.8. I'm using rxjs 5.0.1 and Angular 2.4.8.\nThe code:\nreturn this.af.auth.map(auth => this.fooApi.getBarsByUserId(auth.uid));\nThe error:\nerror: this.af.auth.map is not a function. ",
    "antonybudianto": "@davideast This is not in the changelog ?. @davideast This is not in the changelog ?. @davideast , have updated, but still same error. @davideast , have updated, but still same error. @davideast  Is it because this factory parameter is not typed? Since other factories have types on their parameters. \nhttps://github.com/angular/angularfire2/blob/master/src/angularfire2.ts#L71\nNot really sure, and cannot test it locally (npm link issue). @davideast  Is it because this factory parameter is not typed? Since other factories have types on their parameters. \nhttps://github.com/angular/angularfire2/blob/master/src/angularfire2.ts#L71\nNot really sure, and cannot test it locally (npm link issue). Do you mean using hardcoded values for the config? \n- Even after using hardcoded values (no dotenv / process.env), still error\nBy the way, FYI\n- it's working well with AOT when it's still angular 2.2.3\n- right now, the whole config values are undefined, not only databaseURL\nI'm afraid dotenv won't fix this because normal build works.\nAfter some logging into the angularfire2 code, most likely DI issue, the injector return an object with 4 firebase keys with undefined values. . Do you mean using hardcoded values for the config? \n- Even after using hardcoded values (no dotenv / process.env), still error\nBy the way, FYI\n- it's working well with AOT when it's still angular 2.2.3\n- right now, the whole config values are undefined, not only databaseURL\nI'm afraid dotenv won't fix this because normal build works.\nAfter some logging into the angularfire2 code, most likely DI issue, the injector return an object with 4 firebase keys with undefined values. . @Splaktar still not working using @ngtools 1.2.9. @Splaktar still not working using @ngtools 1.2.9. @davideast  I'll update the deps and try it again. @davideast  I'll update the deps and try it again. I've updated to use latest ngtools and still same error \ud83d\ude1e . I've updated to use latest ngtools and still same error \ud83d\ude1e . @davideast still same error, for now I moved from dotenv to normal const export. @davideast still same error, for now I moved from dotenv to normal const export. ",
    "Judp0m": "Breaking changes should be mentioned in the changelog indeed.... ",
    "chrisjmendez": "I found a solution that simulates the concept behind dotenv but doesn't require it at all. http://www.chrisjmendez.com/2017/05/24/using-dotenv-with-angular/. ",
    "davidgeller": "I'm encountering the same issue. Here's an example with a static helper function expected to call a callback function once - but does it twice, instead.\n\"angularfire2\": \"^2.0.0-beta.6\"\n```\nimport { AngularFire } from 'angularfire2';\nimport moment from 'moment';\nexport class ESFROTEvent {\n    //------------------------------------------------------\n    // return number of candidates for this opportunity\n    //------------------------------------------------------\n    public static numberOfCandidates(af: AngularFire, ot_event: any, cb: (number) => any) {\n    let key = '/overtime_events/' + ot_event.key + '/candidates';\n    af.database.list(key, { preserveSnapshot: true}).subscribe (items => {\n\n        let count: number = 0;\n        items.forEach (item => {\n\n            console.log (item.key + '-> ' + JSON.stringify(item.val()));\n            count++;\n        });\n\n        console.log ('Count: ' + count);\n        if (cb != null)\n            cb (count);\n    },\n    (error) => {\n        console.log ('numberOfCandidates ERROR: '+ error);\n    }).unsubscribe();\n}\n\n}\n------------------------- caller of this static function ------------------\n// get number of candidates for position\n// ---------------------------------------------------------\nESFROTEvent.numberOfCandidates(this.af, ot_event, (c) => {\nlet count: number = c;\nconsole.log ('Candidate count for event: ' + count);\n\n});\n---------------------------- confusing behavior ---------------------------\nCount: 0\nCandidate count for event: 0\ndgeller-> {\"date_added\":\"2017-01-02T14:05:02-08:00\"}\nCount: 1\nCandidate count for event: 1\n\nCordova CLI: 6.4.0 \nIonic Framework Version: 2.0.0-rc.4-201612220408\nIonic CLI Version: 2.1.17-201612220455\nIonic App Lib Version: 2.1.9\nIonic App Scripts Version: 0.0.48\nios-deploy version: 1.9.0 \nios-sim version: 5.0.11 \nOS: macOS Sierra\nNode Version: v6.6.0\nXcode version: Xcode 8.2 Build version 8C38\n```. ",
    "onurburc": "Thanks a lot for your comments, I have chosen .subscribe to get the data into array. As you said it is not a good way to join them when using firebase but it needed to be done that way for now. :). ",
    "sudharsanmit": "\nI am not able to get it to work. Method ref is not existing on app.database.. Thanks @katowulf . I got it working!\n```\n    init(config){\n        const app = firebase.initializeApp(config,\"secondary\");\n        const ref = app.database().ref('/test');\n        const listObs = this.af.database.object(ref);\n        listObs.subscribe(data => console.log(data));\n    }\n```. @daimz @chetanbnaik \nService : \n```\nimport {Injectable,Inject} from '@angular/core';\nimport { AngularFireModule,AngularFire, AngularFireAuth, AngularFireDatabase } from 'angularfire2';\n@Injectable()\nexport class secondaryDB {\n    secondary:any;\n    constructor (private af:AngularFire){\n}\n\ninit(config){\n    const app = firebase.initializeApp(config,\"secondary\");\n    const ref = app.database().ref('/test');\n    const listObs = this.af.database.object(ref);\n    listObs.subscribe(data => console.log(data));\n}\n\n}\n```\nController:\n```\nimport {secondaryDB} from '../../app/secondaryDB.service';\n--other imports--\n@Component({\n  templateUrl: 'test.html'\n})\nexport class TestPage {\n  constructor(private secDB:secondaryDB) {\nvar config = {\n    apiKey: \"XXXXXX\",\n    authDomain: \"XXXX.firebaseapp.com\",\n    databaseURL: \"https://XXXX.firebaseio.com\",\n    storageBucket: \"project-XXXX.appspot.com\",\n    messagingSenderId: \"XXXX\"\n   };  \n    secDB.init(config);\n  }\n}\n```. I used \"secondary\" instead of \"core\" here. Wonder if that makes a difference.\nthis.app = firebase.initializeApp(config, \"core\");\nOn Fri, Aug 25, 2017 at 8:41 PM, Damien Metcalf notifications@github.com\nwrote:\n\n@sudharsanmit https://github.com/sudharsanmit I am using the method you\nsuggested above, but I am running into an error and wondering if you could\nhelp me with it.\nI have created the service as you suggested but I now have to services a\ncohort.service and a team.service in both services I am needed to access\nmy secondary database so I have included the CoreDB.service and then\ninitiated in both services. This returns the following error FirebaseError\n{code: \"app/duplicate-app\", message: \"Firebase: Firebase App named 'core'\nalready exists (app/duplicate-app).\", name: \"core\", ngDebugContext:\nDebugContext_, ngErrorLogger: \u0192, \u2026}\nI realise this is because I am now attempting to initialise my secondary\ndatabase twice. How can I do this at a root level or similar so that it is\nonly initiated once but available to all my services?\nHere's what my code looks like:\nteams.service\nexport class TeamsService {\n  private sdkDb;\n  private app;\n  private teamsRef;\nconstructor(\n    private db: AngularFireDatabase,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    const ref = coreDB.app.database().ref('/teams');\n    this.teamsRef = ref;\nthis.sdkDb = firebase.database().ref();\n\n}\ncohort.service\nexport class CohortsService {\n  private sdkDb;\n  private core;\n  private teamsRef;\n  private cohortSubject: Subject = new Subject();\nconstructor(\n    private db: AngularFireDatabase,\n    private feedsService: FeedsService,\n    private http: Http,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    this.core = coreDB.app;\n    this.sdkDb = firebase.database().ref();\n  }\nCoreDB.service:\nimport {Injectable,Inject} from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\n@Injectable()\nexport class CoreDBService {\n  core:any;\n  app;\n  constructor (private db: AngularFireDatabase){}\ninit(config){\n    this.app = firebase.initializeApp(config, \"core\");\n    const ref = this.app.database().ref('/teams');\n    const listObs = this.db.object(ref);\n    listObs.subscribe(data => console.log(data));\n  }\n}\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/761#issuecomment-325076207,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AP-IYRN-ZJZWcWtrKjF52lhxsJHFfHoCks5sb4XNgaJpZM4LdGSh\n.\n. I used this link as reference - https://firebase.google.com/docs/configure/\n\nOn Fri, Aug 25, 2017 at 9:23 PM, Sudharsan R sudharsan.mit@gmail.com\nwrote:\n\nI used \"secondary\" instead of \"core\" here. Wonder if that makes a difference.\nthis.app = firebase.initializeApp(config, \"core\");\nOn Fri, Aug 25, 2017 at 8:41 PM, Damien Metcalf notifications@github.com\nwrote:\n\n@sudharsanmit https://github.com/sudharsanmit I am using the method\nyou suggested above, but I am running into an error and wondering if you\ncould help me with it.\nI have created the service as you suggested but I now have to services a\ncohort.service and a team.service in both services I am needed to access\nmy secondary database so I have included the CoreDB.service and then\ninitiated in both services. This returns the following error FirebaseError\n{code: \"app/duplicate-app\", message: \"Firebase: Firebase App named 'core'\nalready exists (app/duplicate-app).\", name: \"core\", ngDebugContext:\nDebugContext_, ngErrorLogger: \u0192, \u2026}\nI realise this is because I am now attempting to initialise my secondary\ndatabase twice. How can I do this at a root level or similar so that it is\nonly initiated once but available to all my services?\nHere's what my code looks like:\nteams.service\nexport class TeamsService {\n  private sdkDb;\n  private app;\n  private teamsRef;\nconstructor(\n    private db: AngularFireDatabase,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    const ref = coreDB.app.database().ref('/teams');\n    this.teamsRef = ref;\nthis.sdkDb = firebase.database().ref();\n\n}\ncohort.service\nexport class CohortsService {\n  private sdkDb;\n  private core;\n  private teamsRef;\n  private cohortSubject: Subject = new Subject();\nconstructor(\n    private db: AngularFireDatabase,\n    private feedsService: FeedsService,\n    private http: Http,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    this.core = coreDB.app;\n    this.sdkDb = firebase.database().ref();\n  }\nCoreDB.service:\nimport {Injectable,Inject} from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\n@Injectable()\nexport class CoreDBService {\n  core:any;\n  app;\n  constructor (private db: AngularFireDatabase){}\ninit(config){\n    this.app = firebase.initializeApp(config, \"core\");\n    const ref = this.app.database().ref('/teams');\n    const listObs = this.db.object(ref);\n    listObs.subscribe(data => console.log(data));\n  }\n}\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/761#issuecomment-325076207,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AP-IYRN-ZJZWcWtrKjF52lhxsJHFfHoCks5sb4XNgaJpZM4LdGSh\n.\n\n\n. Btw, your usage is wrong. You are trying to connect to same DB again, that\nis why you are getting the duplicate error. My example is to connect to a\nsecond database which has different config than the primary (default) DB.\n\nOn Fri, Aug 25, 2017 at 9:44 PM, Sudharsan R sudharsan.mit@gmail.com\nwrote:\n\nI used this link as reference - https://firebase.google.com/\ndocs/configure/\nOn Fri, Aug 25, 2017 at 9:23 PM, Sudharsan R sudharsan.mit@gmail.com\nwrote:\n\nI used \"secondary\" instead of \"core\" here. Wonder if that makes a difference.\nthis.app = firebase.initializeApp(config, \"core\");\nOn Fri, Aug 25, 2017 at 8:41 PM, Damien Metcalf <notifications@github.com\n\nwrote:\n@sudharsanmit https://github.com/sudharsanmit I am using the method\nyou suggested above, but I am running into an error and wondering if you\ncould help me with it.\nI have created the service as you suggested but I now have to services a\ncohort.service and a team.service in both services I am needed to\naccess my secondary database so I have included the CoreDB.service and\nthen initiated in both services. This returns the following error FirebaseError\n{code: \"app/duplicate-app\", message: \"Firebase: Firebase App named 'core'\nalready exists (app/duplicate-app).\", name: \"core\", ngDebugContext:\nDebugContext_, ngErrorLogger: \u0192, \u2026}\nI realise this is because I am now attempting to initialise my secondary\ndatabase twice. How can I do this at a root level or similar so that it is\nonly initiated once but available to all my services?\nHere's what my code looks like:\nteams.service\nexport class TeamsService {\n  private sdkDb;\n  private app;\n  private teamsRef;\nconstructor(\n    private db: AngularFireDatabase,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    const ref = coreDB.app.database().ref('/teams');\n    this.teamsRef = ref;\nthis.sdkDb = firebase.database().ref();\n\n}\ncohort.service\nexport class CohortsService {\n  private sdkDb;\n  private core;\n  private teamsRef;\n  private cohortSubject: Subject = new Subject();\nconstructor(\n    private db: AngularFireDatabase,\n    private feedsService: FeedsService,\n    private http: Http,\n    private coreDB: CoreDBService\n  ) {\n    coreDB.init(environment.fbCoreConfig);\n    console.log(coreDB.app);\n    this.core = coreDB.app;\n    this.sdkDb = firebase.database().ref();\n  }\nCoreDB.service:\nimport {Injectable,Inject} from '@angular/core';\nimport * as firebase from 'firebase/app';\nimport { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database';\n@Injectable()\nexport class CoreDBService {\n  core:any;\n  app;\n  constructor (private db: AngularFireDatabase){}\ninit(config){\n    this.app = firebase.initializeApp(config, \"core\");\n    const ref = this.app.database().ref('/teams');\n    const listObs = this.db.object(ref);\n    listObs.subscribe(data => console.log(data));\n  }\n}\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/761#issuecomment-325076207,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AP-IYRN-ZJZWcWtrKjF52lhxsJHFfHoCks5sb4XNgaJpZM4LdGSh\n.\n\n\n\n. \n",
    "chetanbnaik": "Please share a detailed code on how to implement the multiple database through angularfire. Please share a detailed code on how to implement the multiple database through angularfire. ",
    "JumpLink": "How can I get his working if I want to define the app name on my imports?\n@NgModule({\n...\n  imports: [\n    AngularFireModule.initializeApp(environment.firebase, 'my-name'),\n  ],\nWith my-name I get an error: No Firebase App '[DEFAULT]' has been created - call Firebase App.initializeApp() (app/no-app).. ",
    "47sharmamanu": "Where is\"firebase\" import used in:\nfirebase.initializeApp(config, \"name\");. ",
    "james11a": "Hope this helps.\nMy solution is implemented in an Ionic application that I am working on.. As Google charges for having multiple databases in the same Firebase project, my setup has 2 Firebase projects instead of 2 databases in the same project. Below is my configuration:\nSay the 2 Firebase application configuration variables are firebaseConfigA & firebaseConfigB with their names 'appA' & 'appB ' stored in firebaseAppNameA & firebaseAppNameB.\nNote: It is recommended that all such configuration variables are stored in a separate configuration file / custom webpack environment files. The variables will be imported wherever required from here. In my case, I have custom webpack environment setup.\nIf you need help with setting up environments using custom webpack for Ionic, check out this fantastic post from @gshigeto: https://github.com/gshigeto/ionic-environment-variables\nAnyway, to the code...\n\napp.module.ts\n```\nimport { firebaseConfigA, firebaseAppNameA } from \"@app/env\";\nimport { AngularFireModule } from \"angularfire2\";\nimport { AngularFireDatabaseModule, AngularFireDatabase } from \"angularfire2/database\";\n\n@NgModule({\n    declarations: [ ... ],\n    imports: [\n        ...\n        AngularFireModule.initializeApp(firebaseConfigA, firebaseAppNameA),\n        AngularFireDatabaseModule\n    ],\n    bootstrap: [IonicApp],\n    entryComponents: [ ... ],\n    providers: [\n        ...\n        AngularFireDatabase\n    ]\n})\n```\nAll my Firebase related function are handled in a separate service:\n\nfirebase.service.ts\n```\n/* Angular imports /\nimport { Injectable } from \"@angular/core\";\n\n/* 3rd-party imports /\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from \"angularfire2/database\";\nimport { _firebaseAppFactory } from \"angularfire2/firebase.app.module\";\nimport { FirebaseAppConfig } from \"angularfire2\";\n@Injectable()\nexport class FirebaseService {\n    private _db: AngularFireDatabase;\nconstructor() { }\n\n/** Function to initialize firebase application and\n * get DB provider for the corresponding application.\n */\npublic initFirebaseApp(config: FirebaseAppConfig, firebaseAppName: string) {\n    this._db = new AngularFireDatabase(_firebaseAppFactory(config, firebaseAppName));\n}\n\n/** Function to get firebase DB list */\npublic getList(path: string): AngularFireList<{}> {\n    return this._db.list(path);\n}\n\n/** Function to get firebase DB object */\npublic getObject(path: string): AngularFireObject<{}> {\n    return this._db.object(path);\n}\n\n}\n```\nNow, using the service in a component where I connect to both applications:\n\nhome.component.ts\n```\n// ... do all required imports\nimport {\n    firebaseConfigA, firebaseAppNameA,\n    firebaseConfigB, firebaseAppNameB\n} from \"@app/env\";\nimport { FirebaseService } from \"../../services/firebase.service\";\n\n@Component({\n    selector       : \"page-home\",\n    templateUrl    : \"home.html\"\n})\nexport class ScannerDemoPage implements OnInit {\n    constructor(private _firebaseService: FirebaseService) { }\nngOnInit() {\n    // Initialize 1st application\n    this._firebaseService.initFirebaseApp(firebaseConfigA, firebaseAppNameA);\n    let myList = this._firebaseService.getList(\"/path1\");\n\n    // Initialize 2nd application\n    this._firebaseService.initFirebaseApp(firebaseConfigB, firebaseAppNameB);\n    let myObj = this._firebaseService.getObject(\"/path2\");\n}\n\n}\n```\nYou don't need to worry about re-initializing the Firebase application in multiple components as the _firebaseAppFactory() function takes care of that.. ",
    "texano00": "Hi @davideast \ni've supposed that af is of type AngularFireDatabase but af.database.list doesn't exist.\nIs your solution for the latest release?\nThanks. Hi @carlosacabrera \nI've tried your solution but the method database seems to not accept any params.\n[ts] Expected 0 arguments, but got 1.\nI've also tried to disable tslint but the param of database method is not considered.\nI've tried it with @5.0.0-rc.10 and @5.0.0-rc.6.0. ",
    "daddyschmack": "I'm having the same error also after step 1 of the tutorial.\nI received the following errors and then set my auth permissions (per stack overflow suggestion) \nerror_handler.js:54 EXCEPTION: Uncaught (in promise): Error: permission_denied at /items: Client doesn't have permission to access the desired data.to\n{\n  \"rules\": {\n    \".read\": \"true\",\n    \".write\": \"true\"\n  }\n}\nPlease help.. Okay, I am not sure why, but I went to the next step in the tutorial and the error is gone.. ",
    "milad1367": "ok. please send your code.. ",
    "Ricardwo": "Hello, I need helpe, problems in firebase\nindex.esm.js:74 [2018-08-27T16:45:08.769Z]  @firebase/database: FIREBASE WARNING: set at /shopping-list/-LKwG_FT0fmNc5UqZQbv failed: permission_denied \ndefaultLogHandler @ index.esm.js:74\nLogger.warn @ index.esm.js:160\nwarn @ index.cjs.js:345\n(anonymous) @ index.cjs.js:12840\n(anonymous) @ index.cjs.js:12019\nPersistentConnection.onDataMessage_ @ index.cjs.js:12052\nConnection.onDataMessage_ @ index.cjs.js:11337\nConnection.onPrimaryMessageReceived_ @ index.cjs.js:11331\n(anonymous) @ index.cjs.js:11232\nWebSocketConnection.appendFrame_ @ index.cjs.js:10837\nWebSocketConnection.handleIncomingFrame @ index.cjs.js:10887\nmySock.onmessage @ index.cjs.js:10784\nH @ polyfills.js:3\nt.invokeTask @ polyfills.js:3\nr.runTask @ polyfills.js:3\ne.invokeTask @ polyfills.js:3\np @ polyfills.js:2\nv @ polyfills.js:2\ncore.js:1449 ERROR Error: Uncaught (in promise): Error: PERMISSION_DENIED: Permission denied\nError: PERMISSION_DENIED: Permission denied\nthis is configure firebase console\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if 'true';\n    }\n  }\n}. ",
    "jshamley": "Requested changes have been made. \nFYI - on the shallow option I was able to get it to work on my project using the below code. Not sure if this is a bug or unintended functionality or not. I can create an issue/feature request if this is not intended or is an issue with the current implementation.\nreturn this.af.database.list('/items', {\n  query: {\n    shallow: true\n  }\n});\nPlease let me know if you have any other changes. Thanks!. ",
    "bilalsoomro": "Hi @davideast ,\nI am building on this quickstart repo \"https://github.com/angular/quickstart\". And I am not very familiar with the difference between SystemJS and webpack bundling systems for Angular 2 apps. Which one do you recommend using? I guess the default setup and install instructions are for the webpack config so I will have a look at that link. Thanks\n. ",
    "edjeezy": "Really good idea i want to do the same implementaion... Do you have any idea of how to do it . Can you help ?. ",
    "chakAs3": "is this working on android device or you need to add extra code compatible with Cordova ?. ",
    "jeremiahgibson91": "Thanks!. ",
    "drew-moore": "This issue was closed by #776, no? . ",
    "rahullsinha": "I have used angularfire2@next and now working fine. ",
    "echo-sean": "I just updated to 2.0.0-beta.7 and unfortunately it's still happening.. Thanks @patrickmcd, good point.\nHowever adding trackBy results in each list item receiving a new data item (even though the data hasn't actually changed)\nSo it's definitely an improvement, but I still think this could be an issue in AngularFire2.\nI'm not sure exactly what is going on in the source, but looks like this returns a new array:\nhttps://github.com/angular/angularfire2/blob/master/src/database/firebase_list_factory.ts#L219\nUpdated code example below.\nAdded the trackBy and logging out ngOnChanges:\n```\nimport { Component, OnInit, OnChanges, SimpleChanges, OnDestroy, Input } from '@angular/core';\nimport { AngularFire, FirebaseListObservable } from 'angularfire2';\n@Component({\n    selector: 'my-list',\n    template: ''\n})\nexport class MyListComponent implements OnInit, OnChanges, OnDestroy {\npublic list: FirebaseListObservable<any[]>;\n\nconstructor(private af: AngularFire) { }\n\npublic ngOnInit(): void {\n    console.log('list init');\n    this.list = this.af.database.list('items');\n}\n\npublic ngOnChanges(changes: SimpleChanges): void {\n    console.log('list changed', changes);\n}\n\npublic ngOnDestroy(): void {\n    console.log('list destroyed');\n}\n\npublic identify(index, item): string {\n    return index + '-' + item.$key;\n}\n\n}\n@Component({\n    selector: 'my-item',\n    template: '{{index}} {{data.name}}'\n})\nexport class MyItemComponent implements OnInit, OnChanges, OnDestroy {\n@Input('data') data: any;\n@Input('index') index: number;\n\nconstructor(private af: AngularFire) { }\n\npublic ngOnInit(): void {\n    console.log('item init');\n}\n\npublic ngOnChanges(changes: SimpleChanges): void {\n    console.log('item changed', changes);\n}\n\npublic ngOnDestroy(): void {\n    console.log('item destroyed');\n}\n\npublic changeName(): void {\n    console.log('item clicked');\n    this.af.database.object('').update({\n        ['items/' + this.data.$key + '/name']: this.data.name + '' + Math.round(Math.random() * 9999)\n    });\n}\n\n}\n```. Thanks for the info @patrickmcd, that makes sense.\nChanging to use just \"return item.$key;\" still has the same issue though.. Here's a quick demo of the issue:\nhttp://plnkr.co/edit/NCaX3xwE6PNSHyN2Cjn5?p=preview. Sorry, I didn't explain what the example is showing.\nIn both lists, when an item changes (or is recreated) the background colour will change.\nSo you can see which components are being redrawn.\nThe top list is using AngularFire2 with \"trackBy\".\nResult is that when 1 item changes all items in the list get \"ngOnChanges\".\nThe bottom list is using firebase directly (albeit a quickly hacked together example).\nResult is that the item that has changed gets removed and added again.\nBoth are not perfect.\nIdeally only the item that has changed should get ngOnChanges called.\n. Agreed, although my point is that I shouldn't need to.\nI shouldn't have to know that I need to use trackBy either. Perhaps this should be in the docs?. It's not part of AngularFire2 as it's part of the REST API.\nIt's quite limited though - you can not use any queries with it.. http://stackoverflow.com/questions/40138151/get-number-of-children-for-a-firebase-node-using-angularfire2. Nope, not that I'm aware of. You have to use the REST API for this.. Looks like it is fixed in 4.1.5\nhttps://github.com/firebase/firebase-js-sdk/issues/106. ",
    "illambo": "I tested a similar example, for me with trackBy works well (dom childs are not destroy), however if you inject item (input) in child component ngOnChanges of Item component are always triggered (maybe for comparison ===).\nI have found a good example for this here, seems is it possible implement DoCheck method.\nHere another good example with IterableDiffer usefull for debug purpose.\nMaybe it can be useful. Hi, I tested your example and only the item clicked are recreated ( with destroy ), not the entire list (I verified destroy log on console).\nYou also have the same result ? . ngOnChanges is triggered for all the childs caused by the === comparison,\ni think you need implement your custom logic for check the really changes like this :\npublic ngOnChanges(changes: {[propName: string]: SimpleChange}): void {\n        if ( (changes['data'].currentValue.name != changes['data'].previousValue.name)) {  \n          console.log(this.tt, 'item really changed', changes);\n          this.numChanges++;\n          this.colour = this.getRandomColour();\n        }\n    }\nor you can use something like loadash for deep object comparison\n. ",
    "louisptremblay": "This is very suboptimal when you have a lot of items... if you have 20000 svg points and one moves, you need to call ngOnChanges (deepEqual) 20000 times. Instead, AngularFirestoreCollection.stateChanges() 'modified' object has all the info to be able to call it only once on the targeted object.\nEDIT: seems possible to have ngOnChanges trigger only on the modified object(s) by binding the ngFor to a Map(). something like:\njavascript\npublic points: Map = new Map();\ndb.collection<Point>(DB_PATH).stateChanges()\n  .subscribe(changes => {\n      changes.forEach(change => {\n        const pt = change.payload.doc.data() as Point;\n        switch (change.type) {\n          case 'added':\n          case 'modified':\n            this.points.set(pt.id, pt);\n            break;\n          case 'removed':\n            this.points.delete(pt.id);\n            break;\n        }\n      });\n    });\nYou also need a separate getter for map keys, because ngFor refuses to work with MapIterable \nhttps://github.com/angular/angular/issues/2246#issuecomment-341763687. here's the function from the docs (node.js but works as is in javascript if you replace process.nextTick by setTimeout 0)\nhttps://github.com/firebase/snippets-node/blob/a2a7b6763c5bfd3b7eb833742086cb3b74a71375/firestore/main/index.js#L801-L840. ",
    "zlodag": "@davideast Unit tests added. The change is required in order to pass the last test.. ",
    "blaugold": "The problem is that the firebase sdk is setting up some long running intervals and timeouts. The database client for example sends a heartbeat every 45 seconds, which you can see in the frames of the WebSocket connection in the network tab of your browser. But just calling firebase.initializeApp sets up a 30 second timeout. Protractor is waiting those timeouts and any work scheduled by them. So any tests relying on these tasks to end will timeout. . ",
    "andreasonny83": "I'm experiencing the same problem. After having spent an entire day trying to figure out why all my Protractor test were failing, I realised that either removing my Firebase service from the project or ignoring synchronization fixed the issue.\nI would really like to have a full Protractor support when using FireBase in my web application.. Another solution not to loose the Angular integration with Protractor, is to extend the timeout limit. Here my protractor.cong.js\n```\nconst { SpecReporter } = require('jasmine-spec-reporter');\nexports.config = {\n  allScriptsTimeout: 60000,  // allScriptsTimeout is 30s by default\nspecs: [\n    './e2e/*/.e2e-spec.ts'\n  ],\n  capabilities: {\n    'browserName': 'chrome'\n  },\n  directConnect: true,\n  baseUrl: 'http://localhost:4200/',\n  framework: 'jasmine',\n  jasmineNodeOpts: {\n    showColors: true,\n    ScriptTimeoutError: 60000,  // ScriptTimeoutError is 30s by default\n    defaultTimeoutInterval: 60000, // defaultTimeoutInterval is 30s by default\n    print: function() {}\n  },\n  beforeLaunch: function() {\n    require('ts-node').register({\n      project: 'e2e/tsconfig.e2e.json'\n    });\n  },\n  onPrepare() {\n    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));\n  }\n};\n```. ",
    "JamboBuenna": "Any updates on this.  Being able to run firebase outside of the angular zone would solve so many issues with automation. Hey @AhmerAli Did you get a response / solution to this, we seem to be having the same issue.. ",
    "huan": "I ran into this issue too.\nI believe what @blaugold said is right: the protractor is waiting for the angular fire to finish its task in the event loop. And I will also support @maistho to run firebase outside of the angular zone if it has to keep the setInterval.. ",
    "creativein": "When you have the \"package.json\" with project \"name\" attribute exactly same as the name of dependency you required to install you will face this issue.. When you have the \"package.json\" with project \"name\" attribute exactly same as the name of dependency you required to install you will face this issue.. ",
    "fondberg": "Another note is that I tried with the following with the same result:\nloginWithObservable() {\n    Observable.fromPromise(\n      <Promise<any>>this.af.auth.login())\n      .do(\n        function (x) { console.log('Do Next:', x); }, \n        function (err) { console.log('Do Error:', err); }, \n        function () { console.log('Do Completed'); }\n        ).subscribe()\n  }. 1. Yes\n2. I do that as well but in this case I need to as I need to route to another route.. I will elaborate on why I think this is an issue.\n- The this.af.auth.login()) is commonly used on a login route and after a successful login the user should be routed to a main route. \n- The  this.af.auth.subscribe() is called on any changes meaning that a call to route to main will happen several (unwanted) times.. Does this mean the promise will be removed from login()?. Is anyone looking into this?. ",
    "bdrelling": "Jumping in here because I'm confused at the optimal way to handle this as well. It makes sense to me that the af.auth.login promise can't return in a redirect, because you're leaving the page before this can fire on AuthMethods.Redirect, but how can we handle this appropriately? I don't see anything in FirebaseAuthState that will help me navigate when returning, tell me it's a first-time authentication of a new user other than checking the uid against my table, or any way to pass in the redirect route to return the user to the page they were viewing.\nI'm not sure if I'm missing something, but I've dug into the routes that are exposed via the definition and checked the docs. I'm about to jump into the source but I'm not sure I'll get the answers. Apologies if I'm blind, but I just don't understand how to handle this properly. I feel like what I'm doing right now is really hacky.\nUltimately, I'd also like to know if this is a bug or if there's a confirmed best practice for handling all of the events in this issue.. ",
    "jymdman": "With latest angular-cli 1.0.0-beta.31 I can compile with the --aot flag and everything works.\n. Maybe there also should be a function for deleting files in storage?\nAngularFireStorage.delete(pathOrRef: string | firebase.storage.Reference);\n. Last version of angularfire2 supporting that old angular is 2.0.0-beta.8.\nVersion 4.0.0-rc.0 must be used with angular ^4.0.0. It's not very clear in the documentation, but if you look in the example app here: https://github.com/angular/angularfire2/blob/master/docs/rtdb/lists.md you will see the following code:\nthis.itemsRef = db.list('messages');\n// Use snapshotChanges().map() to store the key\nthis.items = this.itemsRef.snapshotChanges().map(changes => {\n  return changes.map(c => ({ key: c.payload.key, ...c.payload.val() }));\n});\n\nThen you have access to the key without storing it in the items..... @davideast I have made a couple of pull request to update this lib to pipeable operators. I hope this is what you are looking for to get this thing going! :) \n(left out database-deprecated as this will be dropped in another pr...). Relates to angular/angular#23609. There also is some suggestions in the angular issue that seems to solve this for others: comment\nMaybe that is a hack and isn't the right solution.... Had the same issue.\nTurned out to be my Antivirus software (Kaspersky) causing the slow queries.\nSee this issue #1190\nWhitelist the following url https://firestore.googleapis.com/* solves the issue.... action.payload.docChanges isn't Observable, so I think no?. ",
    "renansuzin": "@byrondover \nThanks for response, in this case a need to list all of alunos to user select and save some in the turma, i dont are saving all the alunos in the turma only the selected by user, im using the alunosTurma list to store the selected alunos and when i try to push the alunosTurma to turma i get the error.\nThe data scructure is like this:\nalunos = all the alunos for the user select\nalunosTurma = alunos list to store the selected alunos by user\nturma = a turma object, it need to have a list of alunos. Thanks for your help @byrondover, i'm going to watch the video and follow the @davideast  instructions to  structure the data of my app, i already joined in the gitter group, thanks for invite. \n. ",
    "mbejda": "Getting the same issue. \nThis is my auth code : \n\nThe redirect URL : \n\n. Can we get a warning next before breaking changes come in..... ",
    "adsonrocha": "@morninng have you fixed the issue?. https://gist.github.com/adsonrocha/5a70284fb49bd6b73bd66a55aa83b23f. I am looking forward to this release!. ",
    "ryanrain": "thanks for your response @davideast !\nwhere would the be correct place to ask about Digits auth? i was looking through the firebase repositories but didn't see a clear candidate. my app will be a pwa built with Ionic. take care!. ",
    "maneesht": "OK, well the issue with using fromPromise is that push returns a \"ThenableReference\" instead of a normal promise. And there's no method \"Observable.fromThenableReference\". @cartant Thanks for following up. Unfortunately, I'm running the same version of firebase, TypeScript, and rxjs and I get an error in Visual Studio saying \n\"Argument of type 'ThenableReference' is not assignable to parameter of type 'Promise'.\n  Property '[Symbol.toStringTag]' is missing in type 'ThenableReference'.\". @jckeen @cartant In my opinion, it's better to just provide these binaries rather than force people to globally install 3-4 different global packages. \nIf that ends up being the case, however, the global packages should at least be included in the build documentation.. Probably. Would you like me to add this?. ",
    "arnabsen0078": "nice explanation. Its working from my end.@cartant. ",
    "ealvarezv": "using redirect, I found it to be in the auth.facebook object\nthen in typescript:\nconst token: any = auth.facebook;\naccessToken = token.accessToken;\nif you do  auth.facebook.accessToken you might get an error. . ",
    "jacobo3d": "Thanks for replying. I totally missed #805, I must have left the issue page open for a while and sent mine before even refreshing.\nIn my case both redirecting or using popup behaves in the same way. I'll keep an eye on both issues to see if somebody can cast some light on this. Cheers! . ",
    "MartinNuc": "Are you sure its the same thing as #805 ?\n805 is feature request to be able to get an access token while this one looks like a bug.\nI actually came here because I am having the same issue:\nI subscribe to auth: AngularFireAuth. After I log in / log out few times I start to get a different response. First few logins contains user's information in value.facebook (name, photoUrl, uid, etc...) but after a few logins/logouts there is only accessToken but no user's information. This is rather inconsistent behaviour but maybe I am doing something wrong.\nI can see user's info under authObject.auth.providerData[0].\nHere is a screenshot of different results (both came from auth.subscribe).\n\nI am using:\nexport const myFirebaseAuthConfig = {\n  provider: AuthProviders.Facebook,\n  method: AuthMethods.Popup\n};. Finally I got rid of that thing. I am not exactly sure what was the cause but after upgrading to new angularfire2 I had some problems with imports and I googled to install some packages from @firebase/... and also firebase-util but after that I got app.auth() is not a function.\nToday I removed those dependencies. So related things in my package.json are:\n\"firebase\": \"5.0.4\"\n\"angularfire2\": \"5.0.0-rc.10\"\nbut then I got error: Module not found: Error: Can't resolve '@firebase/webchannel-wrapper'\nSo I installed only that webchannel-wrapper: npm install @firebase/webchannel-wrapper --save-dev\nRemember to remove your node_modules and redoing npm install just to be sure.\nIn my code when I need something from firebase I use this kind of import: \nimport { auth } from 'firebase/app';\nimport { FirebaseError } from 'firebase/app';\nHope it helps :-/. firebase: 5.0.4\nangularfire2: 5.0.0-rc.10\nangular: 6.0.4. ",
    "bangive": "yes, it does every time i try to click facebook login button. However the facebook login button works on android with some modification.. @mukesh51 I download your test repo, run it in chrome in windows 7. The popup still shown and dissapeared shortly. Still cannot sign in. Here the error in console:\nEXCEPTION: Uncaught (in promise): Error: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\nErrorHandler.handleError @ main.js:52867\nmain.js:52872 ORIGINAL STACKTRACE:\nErrorHandler.handleError @ main.js:52872\nmain.js:52873 Error: Uncaught (in promise): Error: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\n    at s (polyfills.js:3)\n    at s (polyfills.js:3)\n    at polyfills.js:3\n    at t.invokeTask (polyfills.js:3)\n    at Object.onInvokeTask (main.js:36630)\n    at t.invokeTask (polyfills.js:3)\n    at e.runTask (polyfills.js:3)\n    at i (polyfills.js:3)\nErrorHandler.handleError @ main.js:52873\npolyfills.js:3 Unhandled Promise rejection: A network error (such as timeout, interrupted connection or unreachable host) has occurred. ; Zone: angular ; Task: Promise.then ; Value: O undefined\no @ polyfills.js:3\npolyfills.js:3 Error: Uncaught (in promise): Error: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\n    at s (polyfills.js:3)\n    at s (polyfills.js:3)\n    at polyfills.js:3\n    at t.invokeTask (polyfills.js:3)\n    at Object.onInvokeTask (main.js:36630)\n    at t.invokeTask (polyfills.js:3)\n    at e.runTask (polyfills.js:3)\n    at i (polyfills.js:3)\no @ polyfills.js:3\npolyfills.js:3 Uncaught Error: Network Error\n    at http://localhost:8100/build/main.js:101979:31\n    at t.invokeTask (http://localhost:8100/build/polyfills.js:3:9723)\n    at e.runTask (http://localhost:8100/build/polyfills.js:3:7083)\n    at invoke (http://localhost:8100/build/polyfills.js:3:10836)\n    at e.args.(anonymous function) (http://localhost:8100/build/polyfills.js:2:30123). Here is the settings on facebook page by image:\n\n\nI forgot to say that i am testing on localhost\n. no, it is not working. Thank you for supporting, i have solved my problems.\nI deploy my ionic app to firebase hosting and go to facebook developer page and enable Web OAuth Login.\nThe facebook login now works on real website but does not work on localhost.. i have just create new app and still see this problem. After a while I found out that i need to upload my app to firebase hosting. And then i can login with facebook successfully on localhost:8100.\nBe sure not to disable web oauth and client oauth in facebook developer page.\nBesure to add this in Valid OAuth redirect URIs field in facebook developer page:\nhttp://localhost:8100/__/auth/handler https://your-app.firebaseapp.com/__/auth/handler http://localhost:8000/__/auth/handler\nI just cannot login with facebook on android. I logout facebook app and then login in my app. There is an error shown: App not setup: This app is still in development mode...\nThen i make app public (or add an tester) in Facebook App Review page. Then it works.. ",
    "sdey0081": "I am also facing the same issue on the android device. but not sure why it works properly when the device is connected with android studio.. I checked and tried all, actually not sure, why it works when the phone is connected with android studio.. it says the same error both facebook and google login, but sometimes work.. Hi @mukesh51 , thanks for your kindness.\nAs I said, it sometimes works correctly, but sometimes not, I already set both facbook and google authentication on their dashboard. Only fired at the firebase. Here is the error app says:\n\nI also attached a video file here which says this more detail.\nRegards.. okay, let me try again, but i didn't share my code yet.. Hi @mukesh51 , test project works without any issues now(both browser and device), and committed on this repo, just checking the issue I mentioned first on the other side.. Thanks @davideast , I think I am available with two options now: \n\n\nadd observable data again in to child page(navigated page) ---- already used\nflatten the entire observable while I get a collection   \n\n\nBut I hope there is another way to get entire data easily, because our project is designed for a multiple companies which uses the same database, it required very complex logic implemented on the old sql database.. ",
    "bojeil-google": "I downloaded your test app, built in and tested facebook sign-in in a browser and on a nexus 5x device successfully.. Please make sure you enable xhr requests to https://www.googleapis.com. signInWithEmailAndPassword is just a simple request to that endpoint. Also make sure you are using the latest js version 3.6.9.. Underneath the Firebase Auth backend has a domain https://www.googleapis.com.\nMake sure you are allowing requests to that domain. I haven't looked at your app code. For example, in some cases, there may be restrictions on outgoing requests in a Content-Security-Policy.. Did you test this in 3.9.0? The fix was out:\nhttps://firebase.google.com/support/release-notes/js#3.9.0\nYou shouldn't be required to install the plugins if you don't plan to use OAuth redirects.\n. ",
    "chit786": "I am getting this error with Email/Password based authentication as well. \nIs this thread related?\nhttps://github.com/firebase/firebaseui-web/issues/98#issuecomment-275888728\nThese are my dependencies : \n\"@angular/common\": \"2.2.1\",\n        \"@angular/compiler\": \"2.2.1\",\n        \"@angular/compiler-cli\": \"2.2.1\",\n        \"@angular/core\": \"2.2.1\",\n        \"@angular/forms\": \"2.2.1\",\n        \"@angular/http\": \"2.2.1\",\n        \"@angular/platform-browser\": \"2.2.1\",\n        \"@angular/platform-browser-dynamic\": \"2.2.1\",\n        \"@angular/platform-server\": \"2.2.1\",\n        \"@ionic/storage\": \"1.1.7\",\n        \"@types/lodash\": \"4.14.43\",\n        \"angular2-moment\": \"^1.0.0\",\n        \"angularfire2\": \"^2.0.0-beta.7.1-pre\",\n        \"chart.js\": \"2.3.0\",\n        \"es6-shim\": \"0.35.0\",\n        \"ionic\": \"^2.2.1\",\n        \"ionic-angular\": \"2.0.1\",\n        \"ionic-native\": \"2.4.1\",\n        \"ionic2-rating\": \"0.0.10\",\n        \"ionicons\": \"3.0.0\",\n        \"reflect-metadata\": \"^0.1.8\",\n        \"rxjs\": \"^5.0.0-beta.12\",\n        \"sw-toolbox\": \"3.4.0\",\n        \"systemjs\": \"0.19.39\",\n        \"typings\": \"^1.4.0\",\n        \"whatwg-fetch\": \"^2.0.1\",\n        \"zone.js\": \"^0.6.21\". @mukesh51 No I am getting exact same network error with email password login as well. Also regarding the firebase module in dependencies : i had to remove it since angularfire2 itself imports firebase and the cli compiler was throwing \"duplicate import\" errors. please correct me if I am missing something. I am using firebase API as well due to some requirement on offline data availability which angularfire2 library does not provide.\nAlso I felt the issue may be something related to the timeouts as described by bojeil hence I placed it here , so I wonder how to achieve the update in angulrfire2 installed package to try this out.\nnote : I am using firebase.initializeAPP cofiguration inside my compoenent.ts, like below:\nfirebase.initializeApp({\n      apiKey: \"xxxxxxxxxxxxxxxxxxxxx\",\n      authDomain: \"test.firebaseapp.com\",\n      databaseURL: \"https://test.firebaseio.com\",\n      storageBucket: \"test.appspot.com\",\n      messagingSenderId: \"12345678901\"\n    },'app1');\nand ,\nfirebase.auth().onAuthStateChanged function to check auth status of the user.\nall the functionality works fine, both angularfire2 and firebase seem to work but after sometime this network error occurs.\nlastly thank you for picking this up.. @mukesh51  here you go. https://github.com/chit786/CAFFEIOT/tree/feature/chitrang-s_feature. also I check the firebase version and its 3.6.9 already. @bojeil-google i am not able to access https://www.googleapis.com. is this correct URL. . I guess you need to logout and login again. Then pls wait for sometime, keep the wondow open, to reproduce it. Because I get error more frequently during logging in and logging out scenarios in pretty good network conditions.. @bojeil-google I verified this on real device and I can confirm that i am getting network error only with auth services, like login and sign up using email/password verification. I added the domain under OAuth redirect domains sections on firebase console but this error is still there.\n@mukesh51 can you try couple of times login in and out and check it out on real devices?\nThank you all once again.\n. HI All, any updates on this request? ~Thanks. @mukesh51  Thank you for your response. can you please confirm on which android version did you try? I am trying on 4.4 Android since that is our minimum configuration support for the APP. Can you please confirm the same. Also on Web Chrome which chromium version do you have. mine is 56.0.2924.87 (64 bit). \nI receive above mentioned issue [\"Network error\"] with the authentication and sign up API \"on firebase.auth() \" not sure but I am getting this a lot on 4.4 Android. If you have tried with the same version then may be its some issue in my configuration at which I am totally stuck at.. Hi Mukesh I will try from scratch. Just to sure what is going wrong. Also just a point to add I have also tested on Android 6 nexus 6 and got same issue. So perhaps something may be wrong in configuration which is highly unlikely. Since It started throwing error after I upgraded to IONIC 2 final release.. Hi @mukesh51 ,\nToday I tried again afresh by cloning my repo in another path ,and followed below steps , still I am getting the same issue, below example I carried out on my emulator\n\ncloned repo to a folder\nnpm install \ntypings install\nnpm install firebase angularfire2 --save [using latest firebase and angularfire2]\nionic state restore [reinstall all plugins and platforms]\nionic platform add browser {Since I have the requirement of chrome extension as well}\nionic run android --prod {Creating prod build}\n\n\nmy package.json now looks like : \n{\n  \"name\": \"XXXX\",\n  \"author\": \"Chitrang Natu\",\n  \"homepage\": \"http://ionicframework.com/\",\n  \"private\": true,\n  \"scripts\": {\n    \"clean\": \"ionic-app-scripts clean\",\n    \"build\": \"ionic-app-scripts build\",\n    \"ionic:build\": \"ionic-app-scripts build\",\n    \"ionic:serve\": \"ionic-app-scripts serve\"\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"2.2.1\",\n    \"@angular/compiler\": \"2.2.1\",\n    \"@angular/compiler-cli\": \"2.2.1\",\n    \"@angular/core\": \"2.2.1\",\n    \"@angular/forms\": \"2.2.1\",\n    \"@angular/http\": \"2.2.1\",\n    \"@angular/platform-browser\": \"2.2.1\",\n    \"@angular/platform-browser-dynamic\": \"2.2.1\",\n    \"@angular/platform-server\": \"2.2.1\",\n    \"@ionic/storage\": \"1.1.7\",\n    \"@types/lodash\": \"4.14.43\",\n    \"angular2-moment\": \"^1.0.0\",\n    \"angularfire2\": \"^2.0.0-beta.8\",\n    \"chart.js\": \"2.3.0\",\n    \"es6-shim\": \"0.35.0\",\n    \"firebase\": \"^3.6.10\",\n    \"ionic\": \"^2.2.1\",\n    \"ionic-angular\": \"2.0.1\",\n    \"ionic-native\": \"2.4.1\",\n    \"ionic2-rating\": \"0.0.10\",\n    \"ionicons\": \"3.0.0\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"^5.0.0-beta.12\",\n    \"sw-toolbox\": \"3.4.0\",\n    \"systemjs\": \"0.19.39\",\n    \"typings\": \"^1.4.0\",\n    \"whatwg-fetch\": \"^2.0.1\",\n    \"zone.js\": \"^0.6.21\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"1.0.0\",\n    \"@types/request\": \"0.0.30\",\n    \"typescript\": \"2.0.9\"\n  },\n  \"cordovaPlugins\": [\n    \"cordova-plugin-device\",\n    \"cordova-plugin-console\",\n    \"cordova-plugin-camera\",\n    \"cordova-plugin-compat\",\n    \"cordova-plugin-crop\",\n    \"cordova-plugin-file\",\n    \"cordova-sms-plugin\",\n    \"cordova-plugin-whitelist\",\n    \"cordova-plugin-splashscreen\",\n    \"cordova-plugin-statusbar\",\n    \"ionic-plugin-keyboard\",\n    {\n      \"variables\": {\n        \"SENDER_ID\": \"XXXXXXXXXXX\"\n      },\n      \"locator\": \"phonegap-plugin-push\",\n      \"id\": \"phonegap-plugin-push\"\n    }\n  ],\n  \"cordovaPlatforms\": [\n    \"ios\",\n    {\n      \"platform\": \"ios\",\n      \"version\": \"\",\n      \"locator\": \"ios\"\n    },\n    {\n      \"platform\": \"android\",\n      \"version\": \"\",\n      \"locator\": \"android\"\n    }\n  ],\n  \"description\": \"Test\"\n}\nPlease advice if i need to change something?\n. ",
    "mjwdoek": "I also ran in to this issue. \nI use the angularfire2 and firebase npm package in my ionic2 project. \nAt first, I had no problems. But when I did a upgrade of all of my npm packages (upgrade ionic to 2.3.0, angular to 2.4.8 and angularfire2 to 2.0.0 beta, in my case), the error appeared. \nI can click it away, so it's not blocking (but very anoying!). \nIt's only visible when I run  ionic serve in the browser (and not in the ionic view app for example):\nError: Uncaught (in promise): Error: A network error (such as timeout, interrupted connection or unreachable host) has occurred.\nat s (http://localhost:8100/build/polyfills.js:3:4211)\nsolution:\n- remove the build folder\n- do a new ionic build ios command\n- and run the app again with ionic serve\nNow the network error is away. ",
    "miguelcarrascoq": "I faced the similar problem: everything alright on the browser but not in android.\nI follow this steps: https://github.com/angular/angularfire2/blob/master/docs/Auth-with-Ionic3-Angular4.md\nthen I changed:\nin package.json:\n\"firebase\": \"^3.6.6\",\n\"angularfire2\": \"^4.0.0-rc0\",\nIn my case, I'm using lazy loading so I imported the modules in my pages (e.g.: login.module.ts)\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n....\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule,\n    AngularFireModule,\n    AngularFireDatabaseModule,\n    AngularFireAuthModule\n  ],\nThat works for me.\n. ",
    "AmarildoK": "EDIT2: I have found the problem that's causing it. I am hosting my app on firebase hosting and wrote my rewrite rules to redirect if a file or folder does not exist to index.html. After removing the rewrite it works everytime. Altough i can't find how to not apply this rule to https://barqueue.firebaseapp.com/__/auth/.\nIf anyone got any suggestions I would love to hear them.\n~~EDIT: This only works half of the time. On edge on the other hand it seems to work always. I'm not using ionic. It's just a pwa.  \nHad the same issue. The login click handler was on a md-button without defining type. By setting type=\"button\" this error resolved itself. The weird thing is this only happened in chrome all other browsers worked perfectly. I assume that only chrome sets the default button type to submit. Hope this helps anybody. \nMy solution:\nSet button type to \"button\"~~. ",
    "renjithspace": "SOLVED\n\nInstall whitelist cordova plugin\nionic cordova plugin add cordova-plugin-whitelist\nAdd allow-navigation for all in config.xml\n<allow-navigation href=\"*\" />\n\nThat's it! Works fine for me. #### SOLVED\n\nOpen package.json and update firebase version to 4.8.0\n\"firebase\": \"4.8.0\"\nRun npm install\n\nThat's it!. @vyasm9 I got it fixed in my ionic project. I'd used firebase library directly in ionic without do install angularfire2 or ionic native firebase plugin. \n  . @vyasm9 I got it fixed in my ionic project. I'd used firebase library directly in ionic without do install angularfire2 or ionic native firebase plugin. \n  . @YoungsooJang You can use firebase with ionic same as how you use it in other JavaScript projects\nOfficial doc: https://firebase.google.com/docs/web/setup\n\n\nInstall firebase\n$ npm install firebase --save\n\n\nImport it into your app component (app.component.ts)\nimport * as firebase from \"firebase\"\n\n\nInitialise it in app component constructor\n// Initialize Firebase\n// TODO: Replace with your project's customized code snippet\nvar config = {\n  apiKey: \"<API_KEY>\",\n  authDomain: \"<PROJECT_ID>.firebaseapp.com\",\n  databaseURL: \"https://<DATABASE_NAME>.firebaseio.com\",\n  storageBucket: \"<BUCKET>.appspot.com\",\n};\nfirebase.initializeApp(config);\n\n\nImport firebase on your page component\nimport * as firebase from \"firebase\"\n\n\nUse the firebase services on your component methods\nfirebase.auth()\nfirebase.storage()\nfirebase.database()\nfirebase.firestore(). \n\n",
    "realappie": "This should solve your issue.\nimport 'rxjs/add/operator/toPromise';. This looks good! When will it be merged? \ud83d\udc4d . ",
    "AhmerAli": "@davideast  well I also posted same question on Stackoverflow but still have no response.. ",
    "borakrc": "createUser() function automatically authenticates to the user which is just created. Maybe this can help: http://stackoverflow.com/questions/37517208/firebase-kicks-out-current-user/38013551. ",
    "patrickr": "This is the expected behavior. To bulk create users without authenticating\nas that user,  you'll need to use the firebase admin SDK.\nOn Feb 11, 2017 8:32 PM, \"borakrc\" notifications@github.com wrote:\n\ncreateUser() function automatically authanticates. Maybe this can help:\nhttp://stackoverflow.com/questions/37517208/firebase-\nkicks-out-current-user/38013551#38013551\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/814#issuecomment-279191926,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAMCy-VI0HbbYPYVV4kZxzE9hmDNUKfvks5rbm8xgaJpZM4L5S5s\n.\n. \n",
    "alixaxel": "@davideast @cartant I noticed this is still happening with the latest release 5.0.0-rc.11.\nHere's a StackBlitz demonstrating the same behavior: https://stackblitz.com/edit/angular-rxjs6-f2ey8o\n\nIs this a regression?. Related to #819 ?. ",
    "polcham": "What I meant is to listen to the snapshot of the items changed, how do you do that with AngularFire 2? \n\"we use different change detection which we can then trigger when we want so the page doesn't flicker/rebuild durning changes..\"\n\"If you mean you dont want to rebuild the array without simply listening to the node then I'd suggest using firebase directly as it will return the snapshot of the items that are changed and expects you to self update your list. Angularfire2 does this for you.\" \nI'm sorry if I'm missing something, but how does Angularfire2 do this? Can you please provide a short example, that I seem to miss on the documentation?\nthis.angularfire.database.list('/accounts').subscribe((accounts) => {\n    // with this code snippet, \n    // everytime an account in the list of accounts get changed, \n    // the accounts object on the controller will flicker/rebuild.\n    this.accounts = accounts;\n});\nThanks so much!. ",
    "reactionic127": "This is solution that I am using\nuploadFileDirect(data, uniquePath): Observable{\n    const subject = new Subject();\n    const blob = this.base64toBlob(data.image.replace(/^data:image\\/(png|jpg|jpeg);base64,/, \"\"), this.imageContentType);\n    const storageRef = this.app.storage().ref(/userImages/${this.id}/${uniquePath});\n    storageRef.put(blob).then((fileData) => {\n      subject.next(fileData);\n    });\n    return subject;\n}\nbase64toBlob(base64Data, contentType) {\n    const sliceSize = 1024;\n    const byteCharacters = atob(base64Data);\n    const bytesLength = byteCharacters.length;\n    const slicesCount = Math.ceil(bytesLength / sliceSize);\n    const byteArrays = new Array(slicesCount);\nfor (let sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n  const begin = sliceIndex * sliceSize;\n  const end = Math.min(begin + sliceSize, bytesLength);\n\n  const bytes = new Array(end - begin);\n  for (let offset = begin, i = 0 ; offset < end; ++i, ++offset) {\n    bytes[i] = byteCharacters[offset].charCodeAt(0);\n  }\n  byteArrays[sliceIndex] = new Uint8Array(bytes);\n}\nreturn new Blob(byteArrays, { type: contentType });\n\n}\nI hope this helps.. ",
    "Orkish": "@mukesh51 Sorry about that:\n```\nangular-cli: 1.0.0-beta.28.3\nnode: 7.4.0\nos: darwin x64\n\"angularfire2\": \"^2.0.0-beta.7\",\n\"firebase\": \"^3.6.9\"\n```\nSo I think this may be an issue with how I initially installed it. Tried it on a different machine and it worked just fine. Just confused by the zone issue. Maybe I need to update my zone js?\nThanks!. @mukesh51 It's still not working on my local machine and I cannot figure out why. I've done same step on a different machine and it works. Let me try to figure this out then i'll create an in depth review of my issue/solution . I dont think it's my package json, it might be something deeper. Am looking.. Seems like my work computer is behind some sort of endpoint protection which prevents the completion of the handshake with firebase API. Even after shutting down my firewall and syematec protection, the connection was still refused.\nThis has nothing to do with the actual library or the tutorial.\nThanks for bearing with me.\nClosing issue. So if you made sure your packages all matched up with what I have and what the above commenter has first. If you're still getting the zone issue then I would recommend you nuke your node_modules directory and reinstall everything. \nMy issue was a bit unique in that my work laptop prevents certain connections for happening. Even after I've disabled my firewall and symtec protection, the connection to the firebase api was still not connecting. If you read into the actual error, it should say which service is blocking it. \nI tried on a coworker's computer starting the same project from scratch and he ran into the issue as well with firebase. However, when I ran it on my personal machine, I was able to successfully retrieve data from firebase no problem. \nSo, if all else fails, see if it's a security issue that's throwing the error.\nThanks, hope this helps.. ",
    "Celleb": "I had an issue with loading angularfire2 with Ionic. I had my config messed up, instead of databaseURL I had databaseUrl. Only figured it out when I looked at the Javascript file that produced the error.. ",
    "evanplaice": "I experienced the same issue. Was using 0.7.6. Rolling back to \"zone.js\": \"^0.7.2\" fixed the issue. Eventually, rolled back to 0.6.8 to match the same version that Angular had listed in its dependencies.\nI suspect that if you install a version that is different from the one that Angular depends on, it's going to cause issues.. ",
    "corentin59": "Yes, but how to use the shallow even without using query ?. Ok thx a lot ! I read this post... \nThere is no possibility to read a node without the childen ? (Without \"REST API\").. Do you think this can be a good feature ?. ",
    "jadamconnor": "I tried to get the same behavior in the plunker with no success. I used a copy of my own database, added a service, like I have in my own project. Everything works like it should in the plunker. I've tried every way I can imagine to isolate the issue.. Using the copied database I set up for the plunker in my project resolves the issue as well. I thought it might have something to do with my rules, but I removed all the rules and nothing changed. In addition to this, using the suspect database in the plunker still doesn't reproduce the problem.\nUpdate:\nOne other clue that might be helpful... if I make a query to the members path at any other time in the application--for example, only one other view in the app gets member information by querying the members path--when I navigate to the view that renders the members, they are rendered normally.\nUpdate 2:\nAnother strange development. While, changing the database or removing the orderBy function resolves the duplicate rendering issues, it seems the underlying problem may still remain. I'm navigating from a member list view to a member view by passing the member key into a method like this:\n(click)=\"onClick(member.$key)\"\n\nonClick(memberKey: string) {\n    this.router.navigate(['member-view', memberKey]);\n    console.log(memberKey)\n}\n\nIn the member view I use the id to query the member:\nthis.id = this.activeRoute.snapshot.params['id']\n\nThis is where it gets interesting. I'm formatting some of the numbers rendered in the member view with a simple pipe that adds commas to numbers over 1000. The pipe returns a string using the global toString() method. Navigating to the view of any of the members who are rendered more than once results in the error \"Cannot read property 'toString' of null\". If I remove the pipe from the template, no error and everything renders normally. If I navigate to the view of the member rendered only once, no error. If I navigate away from the tab and back so each of the members are rendered only once, no error. Even more bizarrely, perhaps, if I navigate to a member that is rendered more than once in a different member list view--for example, members ordered by join date--no error. . Wow, ok. The update to current AngularFire2 actually resolved the multiple rendering. The issues with navigating to the members who are not first in the orderBy result remain, though. When the pipe tries to operate on these objects they are null.\nOne other thing worth mentioning is that when navigating to these member views I also get a 404 error:\nGET http://localhost:4200/null 404 (Not Found)\nOnly the two that were rendering multiple times before the update are doing this--even though they're no longer rendering multiple times and without the pipe they seem to render just fine.... The trail of breadcrumbs reveals yet another clue. Originally, I thought the member first in the orderBy results was the only member without the strange behavior. It turns out that was only related to the multiple renders. It looks like the member view issue is related to non-authenticated members. \nSo the AngularFire 2 update did resolve the multiple rendering issue.\n. There is something else going on, though. I don't yet know what it is. My database rules don't require authentication anywhere yet, so I can't imagine why being authenticated changes the behavior of the member view of the authenticated user.\nUpdate:\nSo I found what's likely a workaround to the issue with the pipe and I'd love to know why you think this would be happening, Cartant. It seems that even with the async pipe and the safe navigation operator the data is null when the HTML and the pipe is trying to access it. Here is what I did to resolve the two remaining issues:\n\n\nInterpolation inside of the src attribute instead of targeting the src attribute. Changed [src]=\"(member | async )?.picture\" to src=\"{{(member | async )?.picture}}\"\n\n\nThis one is strange. Added *ngIf to div element with pipe.\n\n\nChanged...\n<div class=\"col-sm-12 renown badge\">\n    Renown: {{((member | async )?.renown) | numberCommas}}\n</div>\n\nto...\n<div *ngIf=\"(member | async)?.renown\" class=\"col-sm-12 renown badge\">\n    Renown: {{((member | async )?.renown) | numberCommas}}\n</div>\n\nThis really doesn't seem like it should be at all necessary.. ",
    "zgorizzo69": "@cartant if you take a look at the second way to reproduce the behavious \nI don't do anything inside the subscribe method so I don't think something is cached.\nI am simply using material2 tab nav bar like this\nts\n<nav md-tab-nav-bar>\n       <a md-tab-link routerLink=\"/login\" routerLinkActive #rla=\"routerLinkActive\" [active]=\"rla.isActive\">Login</a> . and the winner is @cartant :sunglasses: when implementing the unsubscribe the data is not cached.\nthanks so much for your help\nby the way I will implement a RouteReuseStrategy . This way I can  use the async pipe (and let it subscribe unsubscribe ) and when I will be navigating the component will not be destroyed. . btw you can close this issue. ",
    "rahulroxx": "Omg! hello @davideast. I see your video tutorials on firebase. I really like them.\nThanks for sharing firebase with us.\nsalute\n. ",
    "vcrepin": "Well I found the problem. Later in my processing, I was resolving many references (as much as 300) in a forEach loop. In that loop I was using subscribe so I was potentially creating 300 subscribers at the same time and that was causing the hang. \nI have to reorganize my data to avoid this.... Well, after playing with the number of items to resolve I realized that even with only 10 items, the problem occurs occasionally anyway. And I read a Post from Kato saying that we can use as many subscribers as we want so my conclusion that I was creating too many subscribers at the same time does not seem valid.\nSo, the big question: is there a limit on the number of documents that we can store in a firebase database that would render the communication with it brittle ?\nHere is the piece of code that sees the problem happen (even with only 10 items to resolve):\nprivate getAssociatedEnterprise() : void {\n    let af = this.af;\n   // even if this.entrepriseSearchResults contains only 10 documents, the problem occurs sometimes anyway\n    this.entrepriseSearchResults.forEach(function(item, index) {\n      var entrepriseRef = af.database.object('/entreprise/'+item._source.NEQ);\n      entrepriseRef.subscribe((item2) => {\n        if(item2.$value !== null) {\n          item._source.ADR_DOMCL_LIGN1_ADR = item2.ADR_DOMCL_LIGN1_ADR;\n          item._source.ADR_DOMCL_LIGN2_ADR = item2.ADR_DOMCL_LIGN2_ADR;\n          item._source.ADR_DOMCL_LIGN3_ADR = item2.ADR_DOMCL_LIGN3_ADR;\n          item._source.ADR_DOMCL_LIGN4_ADR = item2.ADR_DOMCL_LIGN4_ADR;\n        }\n        console.log(\"Associated Entreprise: \"+JSON.stringify(item));\n      }, (error) => {\n        console.error(error);\n        throw error;\n      });\n    });\n  }\n. ",
    "lucapale": "Same problem here, but it seems to be a problem of Firebase and not AngularFire.\nOn Safari I can login only through redirect and not through Popup.. ",
    "shushen": "@ravivit9 thanks for the hint, reinstalling appears to solve the problem for me as well.. ",
    "alexfung888": "@jogelin yes it is weird. I am running Angular 4.0 now, and gets the same error. Edit any file and recompiles ok.. ",
    "hemant19": "@davideast  Is there a temporary fix for this which I can use?\n. ",
    "bgolyoo": "+. When do you guys plan to release the new version?. ",
    "jakehockey10": "I have also reinstalled, but still get the error as well.  I'm posting this again because my versions are different:\nVersion info\nFirebase: 3.7.6\nAngularFire: 2.0.0-beta.8\n$ ng version\n    _                      _                 ____ _     ___\n   / \\   _ __   __ _ _   _| | __ _ _ __     / ___| |   |_ _|\n  / \u25b3 \\ | '_ \\ / _` | | | | |/ _` | '__|   | |   | |    | |\n / ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n/_/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n               |___/\n@angular/cli: 1.0.0\nnode: 6.9.1\nos: linux x64\n@angular/animations: 4.0.2\n@angular/common: 4.0.2\n@angular/compiler: 4.0.2\n@angular/core: 4.0.2\n@angular/forms: 4.0.2\n@angular/http: 4.0.2\n@angular/material: 2.0.0-beta.3\n@angular/platform-browser: 4.0.2\n@angular/platform-browser-dynamic: 4.0.2\n@angular/router: 4.0.2\n@angular/cli: 1.0.0\n@angular/compiler-cli: 4.0.2\nThis runs locally for me just fine, but Travis CI build fails due to error mention above.. @ravivit9, I had already tried what you are suggested and still can't get it to work. @ravivit, that would be consistent with what I am seeing. I believe there is a version incomparability and it is very difficult to narrow down what the issue is. Except now I can't get it to work anywhere. @ravivit9 thanks for continuing to look at this with me.  I'm still banging my head over here.  I've used your setup, removed node_modules in my project directory, installed the latest npm packages globally, ran npm cache clean, then npm install and I'm still seeing the same behavior.  I even threw out the node_modules and tried everything through yarn.  Running ng serve after installing dependencies with yarn rendered the app not even compilable locally.  So I cleaned again, and used npm one more time.\nI'm just baffled.  No errors from anything showing up anywhere.  If I subscribe to the observable that I'm trying to display in the UI, Firebase is WORKING.  It is giving me my messages.  I can't print them to the console.  It is just the template refusing to show them in the ui...\nHere is what I have in a nutshell:\n```typescript\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  public newMessage: string;\n  public messages: FirebaseListObservable;\nconstructor(public authService: AuthenticationService) {\n    this.messages = this.authService.messages;\n    this.messages.subscribe(response => console.log(response));\n  }\n...\n}\nhtml\n\n\n{{message.message}}\n\n      {{message.displayName }} | {{ message.timestamp | date:\"MM/dd/yy hh:mm a\"}}\n    \n\n\n\n\nSEND\n\n```\nAnd the result:\n\nAnd lastly, what my package.json looks like:\njson\n\"dependencies\": {\n    \"@angular/animations\":               \"^4.0.2\",\n    \"@angular/common\":                   \"^4.0.2\",\n    \"@angular/compiler\":                 \"^4.0.2\",\n    \"@angular/core\":                     \"^4.0.2\",\n    \"@angular/forms\":                    \"^4.0.2\",\n    \"@angular/http\":                     \"^4.0.2\",\n    \"@angular/material\":                 \"^2.0.0-beta.3\",\n    \"@angular/platform-browser\":         \"^4.0.2\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.2\",\n    \"@angular/router\":                   \"^4.0.2\",\n    \"angularfire2\":                      \"^2.0.0-beta.8\",\n    \"core-js\":                           \"^2.4.1\",\n    \"firebase\":                          \"^3.7.6\",\n    \"hammerjs\":                          \"^2.0.8\",\n    \"rxjs\":                              \"^5.3.0\",\n    \"zone.js\":                           \"^0.8.5\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\":                     \"^1.0.0\",\n    \"@angular/compiler-cli\":            \"^4.0.2\",\n    \"@types/jasmine\":                   \"^2.5.47\",\n    \"@types/node\":                      \"^7.0.12\",\n    \"codelyzer\":                        \"^3.0.0-beta.4\",\n    \"jasmine-core\":                     \"~2.5.2\",\n    \"jasmine-spec-reporter\":            \"~3.2.0\",\n    \"karma\":                            \"^1.6.0\",\n    \"karma-chrome-launcher\":            \"~2.0.0\",\n    \"karma-cli\":                        \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.1.0\",\n    \"karma-jasmine\":                    \"~1.1.0\",\n    \"karma-jasmine-html-reporter\":      \"^0.2.2\",\n    \"protractor\":                       \"~5.1.1\",\n    \"ts-node\":                          \"^3.0.2\",\n    \"tslint\":                           \"^5.1.0\",\n    \"typescript\":                       \"^2.2.2\"\n  }\nI wish I knew how to diagnose these types of issues better.  I would like to know what kinds of things this is an indication of and how to dig deeper.  But to the point where I'm just trying to change the versions of various packages minimally.  But even if I revert back to when I had a successful build on Travis CI, I still can't get it to work locally anymore.  I don't know what to point my finger at?. Also, just a further point, data binding in general is working.  It is only data that I (oddly successfully) get from firebase, whether I'm asynchronously letting an observable fill out the ui with the async pipe or I subscribe to the observable and populate the component's property with the result, the data bind does not show.... @ravivit9 okay making progress.  Check out this change:\n```typescript\nexport class HomeComponent implements AfterViewChecked {\n  @ViewChild('scrollMe') private myScrollContainer: ElementRef;\n  public newMessage: string;\n  public messages: FirebaseListObservable;\nconstructor(\n    public authService: AuthenticationService,\n    private snackBar: MdSnackBar,\n    private changeDetector: ChangeDetectorRef // longshot, but I'm getting desperate\n  ) {\n    this.messages = this.authService.messages;\n    this.messages.subscribe(response => this.changeDetector.detectChanges());\n    // That actually friggin' made it work.  Why isn't change detection running on its own?  Where \n    // should I look for how I've configured change detection that differs from default behavior?\n  }\n...\n}\n```. @davideast If you have the time, could you explain to me what's going on?  I'm just trying to learn this stuff and I think it would help me diagnose these issues in the future.\nA FirebaseListObservable extends an Observable, which isn't an Angular concept, just one that Angular takes advantage of internally, correct?  The fact that I can subscribe to the FirebaseListObservable just like an Observable and see those results in the console just fine seems to indicate that this isn't an issue with angularfire2 but an issue with the Angular change detection mechanism.  Is that a correct assumption?  \nWhat change are you referring to in your last comment?  What does that change address?  Or are you referring to the compatibility with Angular 4.0.x in general?\nUpdate\nTo further understand what's going on, I tried to write a test that repeated the behavior I was seeing.  Here is what I came up with:\n```typescript\n// src/app/home/home.component.spec.ts\ndescribe('HomeComponent', () => {\n  let component: HomeComponent;\n  let fixture: ComponentFixture;\nbeforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [FormsModule],\n      declarations: [HomeComponent],\n      providers: [\n        { provide: AuthenticationService, useClass: AuthenticationServiceStub },\n        ...\n      ]\n    }).compileComponents();\n  }));\nbeforeEach(() => {\n    fixture = TestBed.createComponent(HomeComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n...\nit('should have messages', async(() => {\n    // Arrange\n    const de = fixture.debugElement.query(By.css('#messages'));\n    const el = de.nativeElement;\n// Act\nfixture.whenStable().then(() => {\n\n  // Assert\n  expect(el.children.length).toBeGreaterThan(0);\n  expect(el.children[0].innerText).toContain('hello!');\n  expect(el.children[0].innerText).toContain('Jake Smith');\n  expect(el.children[1].innerText).toContain('goodbye!');\n  expect(el.children[1].innerText).toContain('Bob Saget');\n});\n\n}));\n```\n```typescript\n// src/testing/app.stubs.ts\nimport { Observable } from 'rxjs/Rx';\nexport class AuthenticationServiceStub {\n  public messages: Observable = Observable.of([\n    {\n      displayName: 'Jake Smith',\n      email: 'jakehockey10@gmail.com',\n      message: 'hello!'\n    },\n    {\n      displayName: 'Bob Saget',\n      email: 'bob@saget.com',\n      message: 'goodbye!'\n    }\n  ])\n  ...\n}\n```\nBut I wasn't able to reproduce the problem because it was too difficult for me to mock the firebase service in terms of using a FirebaseListObservable.  If anyone knows how to change this test to replicate the problem, I'd be interested in seeing what needs to change.  This test passes, so it seems like normal Observables show up in the view.  Does this mean that FirebaseListObservables somehow don't kick off change detection like Observables do?. ",
    "danadigun": "for me works locally when i do ng Serve but fails in travis CI build with the above error. here's my dependencies:\n\"dependencies\": {\n    \"@angular/common\": \"^4.0.0\",\n    \"@angular/compiler\": \"^4.0.0\",\n    \"@angular/core\": \"^4.0.0\",\n    \"@angular/forms\": \"^4.0.0\",\n    \"@angular/http\": \"^4.0.0\",\n    \"@angular/platform-browser\": \"^4.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.0\",\n    \"@angular/router\": \"^4.0.0\",\n    \"@greg-md/ng-lazy-load\": \"^1.0.4\",\n    \"angularfire2\": \"^2.0.0-beta.8\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.0.0\",\n    \"firebase-tools\": \"^3.9.0\",\n    \"ng-lazyload-image\": \"^3.1.0\",\n    \"rxjs\": \"^5.1.0\",\n    \"zone.js\": \"^0.8.4\"\n  },. this error is frustrating man. . ",
    "ModernWebService": "I have tried reinstalling cleaning and still getting errors stating there is no export, module not found, cant resolve promise-polufill in node_module/firebase/app. Was working about an hour ago and now all the errors keep coming up, causing a potential jump ship to another framework. :/\nUPDATE: Was trying an older project and was given this error \nUnable to find \"@angular/cli\" in devDependencies.\nThe package \"angular-cli\" has been deprecated and renamed to \"@angular/cli\".\nPlease take the following steps to avoid issues:\n\"npm uninstall --save-dev angular-cli\"\n. Ok so after following what the instructions said in my update. I am able to create a new project and serve it and build. However, I am not able to serve any of the previous projects because there is an issue with firebase and angularfire2. \nAlong with that there the firebase login seems to be broken since you are not able to do Authmethods and AuthProvider.. ",
    "FiringBlanks": "@ix-xerri  Did you figure this out? I'm using Angular 5 w/ AngularFire2 and every transaction seems to refresh the entire component which causes it to fetch data for a different tab (in the case of multiple tabs) and use those values for the refreshed tab when it comes back a second later. Dialogs (I'm using Material 2) triggering a transaction are also refreshed entirely, causing them to blink momentarily and resubscribe to my rxjs observables that are happening in ngOnInit(). This is horrible. . @jamesdaniels I made clicks an observable with clicks:  Observable<Activity>; but I'm getting an error on this.activitiesCollection: \nType 'Observable<void>' is not assignable to type 'AngularFirestoreCollection<Activity>'. Property 'ref' is missing in type 'Observable<void>'.. @davideast I know why it's happening, but the way transactions are designed cause them to interrupt the flow of code. This would mean that you can't run two transactions in the same .ts file. . This question is better asked on StackOverflow. But since you asked: \n```\n//Create a random (unique) UID for file to use in Firestore and Storage\nlet fileID = this.afs.createId();\n//Set path for Firestore upload\nvar firestorePath = 'Files/' + fileID\nconst storagePath = \"/Uploads/\" + fileID;\n//Actually upload file to Firestore now\nconst storageRef: firebase.storage.Reference = firebase.storage().ref(storagePath);\nconst uploadTask: firebase.storage.UploadTask = storageRef.put(firestorePath);\n//After uploading the file\nuploadTask.then((uploadSnapshot: firebase.storage.UploadTaskSnapshot) => {\n//Fetch the download URL of the Storage file\nuploadSnapshot.ref.getDownloadURL().then((downloadURL) => {\n\n    //Now create the Firestore entry\n    this.afs.doc(path).set({\n        FileName: uploadSnapshot.metadata.name,\n        FileContentType: uploadSnapshot.metadata.contentType,\n        FileSize: uploadSnapshot.metadata.size,\n        FileURL: downloadURL,\n        FileTimeCreated: uploadSnapshot.metadata.timeCreated,\n    })\n}\n\n})\n```\n. If the issue is solved, please close it.. ",
    "danielfliegauf": "Hi Mukesh,\nthanks for the quick reply.\nI am using angularFire2 version beta0.7.\nMy Question is: \n\"How can I connect in an Angualar2 app to two different Firebase Apps/RealTimeDatabases using angularFire2?\"\n\u00af_(\u30c4)_/\u00af---------------------------------------------------------\nThis is probably not right, is it?\n@NgModule({\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig, authConfig, 'my-app-name'),\n    AngularFireModule.initializeApp(firebaseConfig2, authConfig2, 'my-app-name2')\n  ],\n  declarations: [ AppComponent ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule {}\n\u00af_(\u30c4)_/\u00af----------------------------------------------------------\nIt would be great if you could update your docs and show how to do it the right way. Thank you! :). ",
    "jaimealsilva": "Checkout https://github.com/angular/angularfire2/issues/761. ",
    "biowheel": "@danielfliegauf . How did you solve the issue? While there have been many answers given, somehow I am not getting it. I was also wondering if we have to add the initialize method twice. How did you go about solving the issue? Thanks.. ",
    "somombo": "@cartant @DennisSmolek, \nI believe that what we are trying to implement here and in https://github.com/angular/angularfire2/pull/888 / #883 is referred to throughout rxjs as a \"selector\". See several examples on the official rxjs observable API reference page.\nHere is an example of how I have been using selectors with underlying firebase api, to get around our problem.\ntypescript\n// ...\nconst childAdded = Observable.fromEventPattern(\n  (handler:QueryHandler) => { messagesQuery.on(\"child_added\", handler) },\n  (handler:QueryHandler) => { messagesQuery.off(\"child_added\", handler ) },\n  (snapshot:Snapshot): Message => unwrapSnapIntoMsg(snapshot) // <-- selector parameter\n)\n// ...\n... I do this for child_changed and child_removed as well and then merge the three observables into a single stream.\nAs is shown in rxjs docs, fromEventPattern's third parameter is a selector in precisely the kind of way that we are looking to implement.\nAs such, I recommend that when we do implement this feature, we call it \"selector\" for consistency. From rxjs docs, it seems to almost be ubiquitously understood what selector means. I think that will make it somewhat easier to document the feature and lead to less confusion.\nI also think that for consistency with rxjs api style, the selector should be the third parameter of FirebaseListFactory rather than lumped up as another FirebaseListFactoryOpts option. This would look like: \ntypescript\nthis.af.database.list('/numbers', \n  { preserveSnapshot: true, query: {} }, // <-- or `undefined`\n  (snapshot) => snapshot.val() * 10  // <-- third parameter in style of rxjs\n);\nThoughts?. @cartant Thanks for the timely feedback,\nI cant seem to think of an example of a selector that does not receive a value that would otherwise be emitted (e.g. like in our case, the selector does not receive the current list array even though that's what's ultimately emitted ... perhaps we may add this as an extra feature of our selector in case there are people that might use it? For now, not critical though).\nHowever, what I do have, is an example of a selector that receives a value that is otherwise not emitted  (e.g. in our case, the selector receives wrapped/unwrapped snapshot yet the snapshot is merely a list-item of the Array that will ultimately emitted).\nExample of the latter, is resultSelector of switchMap whose interface is as follows:\ntypescript\nresultSelector: function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any\nThe innerValue parameter , for example, is not otherwise emitted, and one presumable could do as she pleases with it, within the body of the selector (including, i imagine, side effect stuff).\nThere are many different types of selectors mentioned in the rxjs API e.g. durationSelector, keySelector, elementSelector. Since ours in its current form applies to list items and not to the list itself, I suppose we could call it an listItemSelector or  itemSelector or snapshotSelector. If we intoduce the option for the entire list to be past on to the the selector (e.g. if the output snaption will somehow depend on the current state of the entire list), then I'd lean towards simply calling it a selector.\nLastly, I do hear your concerns about how this issue currently affects change detection n' effeciency. I think this is a primary issue for me as well. I just wanted to make sure that we dont make it harder to streamline  our public API towards consistency with rxjs in future, because of fear of breaking changes.\n. @davideast could you show an example snip of code that exemplifies how to achieve what was requested in this feature using the .stateChanges()?. I like the spirit of this. Look forward to seeing your pr or something similar merged soon.. to @reviewers I made some comments about this PR at:\nhttps://github.com/angular/angularfire2/issues/848#issuecomment-294343686\n\nI believe that what we are trying to implement here and in https://github.com/angular/angularfire2/pull/888  is referred to throughout rxjs as a \"selector\". See several examples on the official rxjs observable API reference page.\nHere is an example of how I have been using selectors with underlying firebase api, to get around our problem.\ntypescript\n// ...\nconst childAdded = Observable.fromEventPattern(\n  (handler:QueryHandler) => { messagesQuery.on(\"child_added\", handler) },\n  (handler:QueryHandler) => { messagesQuery.off(\"child_added\", handler ) },\n  (snapshot:Snapshot): Message => unwrapSnapIntoMsg(snapshot) // <-- selector parameter\n)\n// ...\n... I do this for child_changed and child_removed as well and then merge the three observables into a single stream.\nAs is shown in rxjs docs, fromEventPattern's third parameter is a selector in precisely the kind of way that we are looking to implement.\nAs such, I recommend that when we do implement this feature, we call it \"selector\" for consistency. From rxjs docs, it seems to almost be ubiquitously understood what selector means. I think that will make it somewhat easier to document the feature and lead to less confusion.\nI also think that for consistency with rxjs api style, the selector should be the third parameter of FirebaseListFactory rather than lumped up as another FirebaseListFactoryOpts option. This would look like: \ntypescript\nthis.af.database.list('/numbers', \n  { preserveSnapshot: true, query: {} }, // <-- or `undefined`\n  (snapshot) => snapshot.val() * 10  // <-- third parameter in style of rxjs\n);\nThoughts?. ... and more comments in response to \n@cartant's at: https://github.com/angular/angularfire2/issues/848#issuecomment-294353700\nI cant seem to think of an example of a selector that does not receive a value that would otherwise be emitted (e.g. like in our case, the selector does not receive the current list array even though that's what's ultimately emitted ... perhaps we may add this as an extra feature of our selector in case there are people that might use it? For now, not critical though).\nHowever, what I do have, is an example of a selector that receives a value that is otherwise not emitted  (e.g. in our case, the selector receives wrapped/unwrapped snapshot yet the snapshot is merely a list-item of the Array that will ultimately emitted).\nExample of the latter, is resultSelector of switchMap whose interface is as follows:\ntypescript\nresultSelector: function(outerValue: T, innerValue: I, outerIndex: number, innerIndex: number): any\nThe innerValue parameter , for example, is not otherwise emitted, and one presumable could do as she pleases with it, within the body of the selector (including, i imagine, side effect stuff).\nThere are many different types of selectors mentioned in the rxjs API e.g. durationSelector, keySelector, elementSelector. Since ours in its current form applies to list items and not to the list itself, I suppose we could call it an listItemSelector or  itemSelector or snapshotSelector. If we intoduce the option for the entire list to be past on to the the selector (e.g. if the output snaption will somehow depend on the current state of the entire list), then I'd lean towards simply calling it a selector.\nLastly, I do hear your concerns about how this issue currently affects change detection n' effeciency. I think this is a primary issue for me as well. I just wanted to make sure that we dont make it harder to streamline  our public API towards consistency with rxjs in future, because of fear of breaking changes.\n. @cartant has this matter been resolved? I don't see a merger. Thats indeed a pitty.\n@davideast, we just lost a good PR and a good contributer because it appears maintainers were not interested in reviewing or even engaging in discussion.\n@cartant I can see where you are coming from, it's quite discouraging. Hope things get better in future. Have you by any chance open sourced you library?. @cartant Thanks alot will check it sometime. Already love that you have fromThenable. Oh thanks for heads-up!. @cartant, does your lib have something like AF's observable based querys (as opposed to 'scalar ones' i.e. https://github.com/angular/angularfire2/blob/master/docs/4-querying-lists.md#creating-a-query-with-observable-values) ?\n\nI think that's the only thing that keeps me using AF at all. @davideast that was intensional. \nI have been asking myself after https://github.com/angular/angularfire2/pull/888 is merged, what will a FirebaseObjectObservable be able to do that a FirebaseListObservable will not? And after looking extensively through the code, this Issue here was what I came up with.\nIn the interest of DRY familiar API.. My goal is to eventually unify the two in a patch to the rxjs Observable Class so that one could write, in a familiar way: \ntypescript\nlet mydbObs = Observable.fromDatabase( \n  ref: PathReference, \n  query?: Query | ScalarQuery, \n  selector?: SelectorFunction \n)\nThis would emit lists by default.. and if they happen to be working with an object  and not a list... well, the user can select for that, to mould it into precisely what they want.\nI was almost getting the unification, but the thing I've proposed in this Issue, was the missing piece. Otherwise, I suppose they'd  have to be two seperate functions still.\nAlso, this needn't be a replacement to the current AF API we already have, but just an added option that looks more rxjs familiar.\nSo, in summary, I didn't really intend to model that behavior of af.list.remove but of af.object.set ... which we seem to have no problem with it being entirely destructive in the way you've pointed out. \nwhat do you think?\n. hi @davideast , I have done as you suggested in #910. Removed scenario where entire list ist replace https://github.com/somombo/angularfire2/tree/%40somombo/add-list-set\nI'm ready for PR. Have a couple questions\nwas hoping to catching you on https://gitter.im/davideast. Thanks. ",
    "HunderlineK": "I might be asking a question with an obvious answer, but what was the reason for introducing the FirebaseListObservable type in the first place? I might be just imagining things, but the last time I used firebase I had more methods available for the Observable type?\nReading @DennisSmolek comment, am I wrong to assume that FirebaseListObservable uses the firebase once method internally and might not really be a pure Observable?. @DennisSmolek That is interesting, I wasn't aware of that! It is just that it seems I can't use typical rxjx operators on the firebaseListObservable? (which is weird, because I just checked and firebaseListObservable extends Observable). I think I am just confused about the way one is expected to work with angularfire.. ",
    "bjunix": "@HunderlineK FirebaseListObservable indeed extends Observable but you need to import the operators manually to have them available, like this:\nimport 'rxjs/add/operator/map';\nThis is a bit buried in the Angular docs. I could only find it here:\nhttps://angular.io/tutorial/toh-pt6#import-rxjs-operators . ",
    "AlexZhidkov": "I signed it!\nOn Fri, Mar 3, 2017 at 4:33 PM googlebot notifications@github.com wrote:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project. Before we can look at your\npull request, you'll need to sign a Contributor License Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed, please reply here (e.g. I signed it!) and we'll\nverify. Thanks.\n\n\nIf you've already signed a CLA, it's possible we don't have your\n   GitHub username or you're using a different email address. Check your\n   existing CLA data https://cla.developers.google.com/clas and verify\n   that your email is set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\nIf you signed the CLA as a corporation, please let us know the\n   company's name.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/849#issuecomment-283896324,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AH1U65ZVZmwrdJNtGpKZqikFRYmibcIQks5rh9BQgaJpZM4MR_fN\n.\n. \n",
    "IgorMinar": "itJustAngularFire :-)\nBut seriously: I love the focus on the code size and modularity. I think this is awesome.\nWhat I don't see, is discussion about TypeScript version used to produce the d.ts files and strictNullChecks compatibility. If you are going to cut a major release, then I'd recommend you drop support for older TS and jump on TS 2.2 and make your api surface strictNullChecks compatible.\nPS: if you are going break all this stuff, please make sure you document the migration path. These changes while painful are very much necessary, and having good documentation makes the pain hurt less.\nPS2: if you are going to break all this stuff, then just rename the thing to angularfire v4.0.0 (drop the \"2\"). Use version numbers to communicate the difference between v1, v2 and v4. Anything else is very confusing to anyone not closely following the development of the library.. ",
    "albanx": "Can you put also a method that tells if the user is connected or not (not to confuse with the login)? that will be great. Contributing with Fork no branchs!!. @davideast I just did an installation from scracht installing the default stuff included in the package.json. I updated with some more info the issue. . I do not understand, what do you mean local? the global node package or the\nlocal node package?\n@davidarich I do not have tsc compiler installed\nOn Wed, Mar 29, 2017 at 7:47 PM, David East notifications@github.com\nwrote:\n\nYour TypeScript version is local to your machine.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/875#issuecomment-290168244,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABFAqJnpL2bZWY8loSuw1Ah0PC2JrXGiks5rqpkogaJpZM4MsvSH\n.\n\n\n-- \nwww.albanx.com\nwww.realuploader.com\n. Really strange no where there is an instruction to install typescript with angular 2. @davideast I did a fresh install, removed, cli, installed everything from scratch including tsc and angular, same result. I will try on a fresh linux distro now.. Run on ubuntu same results:\n```\nalban@alban-Latitude-E6540:~/projects/angularfire2$ npm run build\n\nangularfire2@2.0.0-beta.8 build /home/alban/projects/angularfire2\nrm -rf dist && tsc && rollup -c rollup.test.config.js\n\nsrc/auth/auth.spec.ts(451,38): error TS2345: Argument of type '{ provider: string; }' is not assignable to parameter of type 'Expected'.\n  Type '{ provider: string; }' is not assignable to type 'ObjectContaining'.\n    Property 'jasmineMatches' is missing in type '{ provider: string; }'.\nsrc/auth/auth.spec.ts(505,38): error TS2345: Argument of type '{ provider: string; }' is not assignable to parameter of type 'Expected'.\n  Type '{ provider: string; }' is not assignable to type 'ObjectContaining'.\nsrc/database/firebase_list_factory.spec.ts(742,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\n    Property 'jasmineMatches' is missing in type 'string[]'.\nsrc/database/firebase_list_factory.spec.ts(743,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(782,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(783,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(822,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(823,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/query_observable.spec.ts(10,28): error TS2345: Argument of type 'Query' is not assignable to parameter of type 'Expected'.\n  Type 'Query' is not assignable to type 'ObjectContaining'.\n    Property 'jasmineMatches' is missing in type 'Query'.\nnpm ERR! Linux 4.4.0-59-generic\nnpm ERR! argv \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"run\" \"build\"\nnpm ERR! node v6.9.1\nnpm ERR! npm  v3.10.8\nnpm ERR! code ELIFECYCLE\nnpm ERR! angularfire2@2.0.0-beta.8 build: rm -rf dist && tsc && rollup -c rollup.test.config.js\nnpm ERR! Exit status 2\nnpm ERR! \nnpm ERR! Failed at the angularfire2@2.0.0-beta.8 build script 'rm -rf dist && tsc && rollup -c rollup.test.config.js'.\n```. David you have all details above. I run it on MacOs Sierra, then on\nUbuntu... I tried fresh install of every package.  The result is the same\nerror.\nOn 30 Mar 2017 02:06, \"David East\" notifications@github.com wrote:\n\n@albanx https://github.com/albanx What OS are you running? Please use\nthe issue template.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/875#issuecomment-290271781,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABFAqHLmgvhjuFpCNpgXGRkG1awD_AZ0ks5rqwAegaJpZM4MsvSH\n.\n. @davideast Please look the edit. Just to clarify this is not a bug regarding the use of the library, but a bug regarding the development of it (I am trying to contribute to it). @cartant of course I just added more information on the issue, I did not change the scope of it. The problem is still the same. Do you have any clue why I have this issue? Can someone please try the exact same thing and let me know if it works?. @cartant tsc is failing:\nAlban-MacBook-Pro:angularfire2 alban$ tsc\nsrc/auth/auth.spec.ts(451,38): error TS2345: Argument of type '{ provider: string; }' is not assignable to parameter of type 'Expected<UserInfo>'.\n  Type '{ provider: string; }' is not assignable to type 'ObjectContaining<UserInfo>'.\n    Property 'jasmineMatches' is missing in type '{ provider: string; }'.\nsrc/auth/auth.spec.ts(505,38): error TS2345: Argument of type '{ provider: string; }' is not assignable to parameter of type 'Expected<UserInfo>'.\n  Type '{ provider: string; }' is not assignable to type 'ObjectContaining<UserInfo>'.\nsrc/database/firebase_list_factory.spec.ts(742,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\n    Property 'jasmineMatches' is missing in type 'string[]'.\nsrc/database/firebase_list_factory.spec.ts(743,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(782,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(783,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(822,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(823,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/query_observable.spec.ts(10,28): error TS2345: Argument of type 'Query' is not assignable to parameter of type 'Expected<ScalarQuery>'.\n  Type 'Query' is not assignable to type 'ObjectContaining<ScalarQuery>'.\n    Property 'jasmineMatches' is missing in type 'Query'.\n\nI forked the branch 1 day ago, how outdate can it be?\n. ./node_modules/.bin/tsc:\nAlban-MacBook-Pro:angularfire2 alban$ ./node_modules/.bin/tsc\nsrc/auth/auth.spec.ts(451,38): error TS2345: Argument of type '{ provider: string; }' is not assignable to parameter of type 'Expected<UserInfo>'.\n  Type '{ provider: string; }' is not assignable to type 'ObjectContaining<UserInfo>'.\n    Property 'jasmineMatches' is missing in type '{ provider: string; }'.\nsrc/auth/auth.spec.ts(505,38): error TS2345: Argument of type '{ provider: string; }' is not assignable to parameter of type 'Expected<UserInfo>'.\n  Type '{ provider: string; }' is not assignable to type 'ObjectContaining<UserInfo>'.\nsrc/database/firebase_list_factory.spec.ts(742,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\n    Property 'jasmineMatches' is missing in type 'string[]'.\nsrc/database/firebase_list_factory.spec.ts(743,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(782,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(783,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(822,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/firebase_list_factory.spec.ts(823,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected<Observable<any>>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining<Observable<any>>'.\nsrc/database/query_observable.spec.ts(10,28): error TS2345: Argument of type 'Query' is not assignable to parameter of type 'Expected<ScalarQuery>'.\n  Type 'Query' is not assignable to type 'ObjectContaining<ScalarQuery>'.\n    Property 'jasmineMatches' is missing in type 'Query'.\n@davideast \"How out-of-date doesn't matter\" forked 24 hours ago yesterday on a mac pc, then 10 hours ago on a ubuntu pc, do you want me to do a fresh clone now? (but it will be again 1 minute out of date)?\n. Just cloned again right now, here is the errors (slighty changed due to the fix done some hours ago from David probably):\nMacOS Sierra, Tsc Version 2.2.2\n```\nAlban-MacBook-Pro:angularfire2 alban$ npm run build\n\nangularfire2@4.0.0-rc0 build /Users/alban/projects/angularfire2\nrm -rf dist && tsc && rollup -c rollup.test.config.js\n\nsrc/database/firebase_list_factory.spec.ts(775,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\n    Property 'jasmineMatches' is missing in type 'string[]'.\nsrc/database/firebase_list_factory.spec.ts(776,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(815,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(816,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(855,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/firebase_list_factory.spec.ts(856,52): error TS2345: Argument of type 'string[]' is not assignable to parameter of type 'Expected>'.\n  Type 'string[]' is not assignable to type 'ObjectContaining>'.\nsrc/database/query_observable.spec.ts(10,28): error TS2345: Argument of type 'Query' is not assignable to parameter of type 'Expected'.\n  Type 'Query' is not assignable to type 'ObjectContaining'.\n    Property 'jasmineMatches' is missing in type 'Query'.\nnpm ERR! Darwin 16.4.0\nnpm ERR! argv \"/usr/local/bin/node\" \"/usr/local/bin/npm\" \"run\" \"build\"\nnpm ERR! node v6.10.0\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! angularfire2@4.0.0-rc0 build: rm -rf dist && tsc && rollup -c rollup.test.config.js\nnpm ERR! Exit status 2\nnpm ERR! \nnpm ERR! Failed at the angularfire2@4.0.0-rc0 build script 'rm -rf dist && tsc && rollup -c rollup.test.config.js'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the angularfire2 package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     rm -rf dist && tsc && rollup -c rollup.test.config.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs angularfire2\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls angularfire2\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/alban/projects/angularfire2/npm-debug.log\nAlban-MacBook-Pro:angularfire2 alban$ time\nreal    0m0.000s\nuser    0m0.000s\nsys 0m0.000s\nAlban-MacBook-Pro:angularfire2 alban$ date\nThu 30 Mar 2017 11:43:28 IST\n```\n. ",
    "jckeen": "I like the idea of breaking up AngularFire2 into smaller modules. The breaking changes do not seem to be like they will be much of a pain as long as you have clear documentation. I think many of us are only Injecting Auth and Database in our services.  Removing some of the wrapper functions are also a great idea, it'll force us to learn more from the SDK itself, which is necessary to get a complete user experience.  \nWhat I'm really looking forward to is the documentation, specifically best practices. I'd love us to have somewhere to talk about and share exactly how we're using AngularFire2 in order to help develop those practices. It would be nice to get to a point where some of us are sharing modules that we can drop into our projects and build upon. Are you using stores? How are you building them to work with AF?  (Just a couple rhetorical questions). We'll also need to find an alternative for the cp command. We would have to add rimraf and the cp alternative to the devDependencies as well. I wonder if it's not just easier to suggest that those of us using Windows to grab cmder.net (or an equivalent)?. Awesome work, thanks!  I am so glad I just stumbled on this as I was just sitting down to do the same thing. :). ",
    "WebAddict": "Evolution is happening! Ionic 2 [final] has only been out for 2 months, Angular 4.0 dropped a few weeks ago, and today the first Ionic 3.0 beta was released. There is a clear need for AngularFire to evolve too.\nI fully support your proposed changes. I love using AngularFire's bindings for a few specific 'live-data' needs, but most of the data my apps are loading are 'one-time' loads. So most of the time, I'm using firebase's snapshots to pull data.\nPlease move forward! Thank you!. @davideast your plnkr template doesn't work, hasn't been updated in some time, probably breaking changes of new AF4 is issue. Plnkr error is: \"Can't resolve all parameters for AppComponent\" You should update it to a working version with new AF4.. I just checked and it works for me at http://plnkr.co/edit/1lW4B4?p=preview\nCheck your browser's console log if it doesn't work, let me know what message you see. I believe this issue is due to the latest version of firebase is now 4.0.0, but angularfire2@4.0.0-rc0 requires firebase@^3.6.6.\nInstead of npm install angularfire2 firebase --save, try npm install angularfire2 firebase@^3.9.0 --save. Great job @jamesdaniels! I confirm that this fixes all of the Firebase 4.0 errors that I had encountered and was able to find.\n@davideast How soon until you will package this as a release?. your rules are wide open - as in anyone can READ any data. You just need to add one \".read\": \"$user_id === auth.uid\" line like below:\n{\n  \"rules\": {\n    \"users\": {\n      \"$user_id\": {\n        \".read\": \"$user_id === auth.uid\", // ONLY this user can READ this data\n        \".write\": \"$user_id === auth.uid\" // ONLY this user can WRITE this data\n      }\n    }\n  }\n}\nThat should resolve your security rules.. ",
    "kgaspar": "Migrated today, working great with Ionic 3. Looking forward to the new release!. ",
    "scottmotion": "n00b question: Where do I find more info on the\"@next\" version? i.e. available modules, migration, etc. Any changes on this? Just ran into the same dependency issue after updating Ionic with Angular4, Angular CLI 1.0.0 and AngularFire2 2.0.0-beta.8\n$ ionic serve to Chrome works as expected but opening in the Ionic View app lags about 30 seconds on initial load. Have not tested a build or emulator otherwise\nNot sure if is applies but looking over my packages.json I see this dependency has been removed as of v4:\n\"@angular/platform-server\": \"2.4.8\",. @markgoho Thanks for the tip! I was able to find the discussion under https://github.com/angular/angularfire2/issues/854. ",
    "martzcodes": "Where did AuthProviders go?  What do I put inside of afAuth.auth.signInWithPopup(here) where here is shown to be firebase.auth.AuthProvider. @Maistho Am I also support to import firebase too?  AngularFireAuth.auth.GoogleProvider doesn't seem to exist.  It only has the following:\ninterface Auth {\n    app : firebase.app.App ;\n    applyActionCode (code : string ) : firebase.Promise < any > ;\n    checkActionCode (code : string ) : firebase.Promise < any > ;\n    confirmPasswordReset (code : string , newPassword : string ) : firebase.Promise < any > ;\n    createCustomToken (uid : string , developerClaims ? : Object | null ) : string ;\n    createUserWithEmailAndPassword (email : string , password : string ) : firebase.Promise < any > ;\n    currentUser : firebase.User | null ;\n    fetchProvidersForEmail (email : string ) : firebase.Promise < any > ;\n    getRedirectResult ( ) : firebase.Promise < any > ;\n    onAuthStateChanged (nextOrObserver : Object , error ? : (a : firebase.auth.Error ) => any , completed ? : ( ) => any ) : ( ) => any ;\n    sendPasswordResetEmail (email : string ) : firebase.Promise < any > ;\n    signInAnonymously ( ) : firebase.Promise < any > ;\n    signInWithCredential (credential : firebase.auth.AuthCredential ) : firebase.Promise < any > ;\n    signInWithCustomToken (token : string ) : firebase.Promise < any > ;\n    signInWithEmailAndPassword (email : string , password : string ) : firebase.Promise < any > ;\n    signInWithPopup (provider : firebase.auth.AuthProvider ) : firebase.Promise < any > ;\n    signInWithRedirect (provider : firebase.auth.AuthProvider ) : firebase.Promise < any > ;\n    signOut ( ) : firebase.Promise < any > ;\n    verifyIdToken (idToken : string ) : firebase.Promise < any > ;\n    verifyPasswordResetCode (code : string ) : firebase.Promise < any > ;\n  }. @Maistho hm, yeah you're right.  Seems counter-intuitive but that did the trick.  Thanks!\n@davideast +1 to @Maistho's adding Providers into AngularFireAuth somewhere. ",
    "Shyam-Chen": "```js\n// Md => Material design\nimport {\n  MdButtonModule,\n  MdCheckboxModule,\n  MdSelectModule,\n  MdInputModule,\n  MdSnackBarModule\n} from '@angular/material';\n// Scope: @angular\nimport { AngularFireAppModule } from '@angular/firebase-app';\nimport { AngularFireDatabaseModule } from '@angular/firebase-database';\nimport { AngularFireAuthModule } from '@angular/firebase-auth';\n// Fa => Firebase application\nimport {\n  FaAppModule,\n  FaDatabaseModule, Database, ListFactory\n  FaAuthModule, Auth, AuthProviders\n} from '@angular/firebase';  // Can it be tree-shaking?\n```. ",
    "almothafar": "Regarding the version, AngularFire2 maybe can be AngularFireX if you can't rename AngularFire to AngularFireJS, at least for now, one step then you can maybe after a while to rename the AngularFire to JS version.\nI see most of the modules did that, it will make sense for now I think.\nBTW, the rc0 version is really nice, I feel that while I was migrating :) . @exxmen you need to import:\nAngularFireModule.initializeApp(config)\n    AngularFireAuthModule,\ninside your module, for instance, app.module.ts. @GunnarGitHub \nYou need to import AngularFireDatabaseModule as well after AngularFireModule.initializeApp(config) inside your module.. @harshavarun25 you really should read migration steps, also, you reached this issue, you can find the solution with comments as well.. I'm really waiting for next version even of it is RC, the Angular 5 first version in less than 1 month, while we still here in Angular4 in RC, also, firebase version 4 is really good step ahead, many good changes, rc.0 released from 1 month as I see, I'm wondering if there is any chance soon to get rc.1 with firebase v4.. it is the same issue with Firebase 4.0.0, sound like it is missing promise-polyfill dependency.. @jamesdaniels I'm using Angular for web not ionic, using this starter:  https://github.com/AngularClass/angular-starter . I believe you can have different names here: \nAngularFireModule.initializeApp(firebaseConfig, 'appname1');\nAngularFireModule.initializeApp(firebaseConfig2, 'appname2');. Once you call initializeApp it will return an instance of this app (look here), use this instance to call database, like:\nconst app2 = AngularFireModule.initializeApp(firebaseConfig2, 'appname2');\napp2.database() //\nor try something \"dirty\" like:\n```\nconst app2 = AngularFireModule.initializeApp(firebaseConfig2, 'appname2');\nconst db2: AngularFireDatabase = new AngularFireDatabase(app2);\n```\nI'm not on my dev machine now, but I reviewed code, I think there is an issue with AngularFire2, it seems to get the latest app to be injected here \n. I think you need to provide your code, it could be a code issue (as for example you are trying to access resource before you get logged in, here is an example that you can start with:\nthis._angularFireAuth.idToken.subscribe((authState) => {\n      if (!!authState && !!authState.uid) {\n        this._userProfileSubscription = this._angularFireDatabase.object(`/users/${authState.uid}`).subscribe((user) => {\n          this._fillUserProfile(user);\n        });\n      } else {\n        if (!!this._userProfileSubscription) {\n          this._userProfileSubscription.unsubscribe();\n        }\n        this._userProfileSubject.next(null);\n      }\n    });. Fix your AuthService, your method loginWithGoogle does not return anything, it should be something like: \n```\n    loginWithGoogle() {\n    return this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n    }\n```\nAlso, this might not work:\nthis.users.push({\n                     email: this.email,\n                     displayName: this.displayName\n            });\nI'm not sure what you are trying to do, but you need to fix your service.. @davideast I think you should be waited for a little before closing the ticket!\nWhy I have to do full refactor for just a little modification?. @NimaiMalle changing from firebase.Promise to Promise is not an issue, actually, I like this, it does not make sense to have many types of the same Promise object! it is confusing also is making unnecessary wrapping and more code just to switch from Promise to firebase.Promise and the way back, this was a headache, it is indeed a good change, especially they were the same and there was nothing special about firebase.Promise anyway.\n@tnesbit450 it is not only a \"string\" to replace! it is a class need to be imported as well! it is not that easy as what you are thinking, it is simply a refactor that you need to do.. @davideast thank you for the reply, it is clear, I just want to ask how to migrate the query part, you not including it in migration guide.. Thanks, a lot @erikagtierrez yeah this is what I was meaning, this is missing from migration guide.. Thanks, a lot @erikagtierrez yeah this is what I was meaning, this is missing from migration guide.. It is AngularFireObject not FirebaseObjectObservable and AngularFireList not FirebaseListObservable\nimport { AngularFireObject, AngularFireList } from 'angularfire2/database';\nCheck migration guide: https://github.com/angular/angularfire2/blob/master/docs/version-5-upgrade.md . @davideast I understand that, but I do never ever see this project getting out of RC from version 2 until today with version 6 coming, so I think if you miss something, you simply can add it later with minor versioning when you do, I thin keep it simple and grow slowly concept will help this project to get out from this \"BIG\" delivery things.\nI just suggest to follow kind of standards of versioning, deliver thing, and open bugs for things that  making issues.\nI just like this project, and I feel bad to look at it in bad shape, and not following the mother Angular project :) \nAlso, it is about naming not only versions.. @davideast I appreciate your response and efforts, I never said it is \"bad shape\" but the look of naming is not good to market this module, it is kinda a 500hp engine at the look of Lada car :P . ",
    "s3ppo": "anybody can give me an example how to do the googleprovider or facebookprovider login now? thank you :) . @maistho\nthanks, that looks easy :) . if you use ionic 2, check out the ionic-native plugins:\nhttps://ionicframework.com/docs/native/facebook/. anybody can help me? the issue is still there :(. ",
    "rodrifmed": "@s3ppo You have to use FirebaseApp;\nlike this example:\nstorage :any;\nconstructor(private app: FirebaseApp) {\n      this.storage = app.storage().ref();\n}. @prestonvanloon You are right! I searched earlier, but I did not find anything like it.\nI will close this issue and follow the #843.\nThanks!. Hi,\nI tried the version 4.0.0-rc0, but now I'm having others problems.\nFirst I can't instantitate authconfig like AngularFireModule.initializeApp(myFirebaseConfig, myFirebaseAuthConfig)\nAnd I'm having this error \n\nModule '\"D:/my_project/node_modules/angularfire2/index\"' has no exported member\n            'AngularFire'\n\nwhen run ionic build android.\n. thanks!. ",
    "exxmen": "getting No Provider for AngularFireAuth during run time.. not sure what i missed. added authservice in the app module providers. thanks @almothafar also had to include all the imported ionic-natives (Facebook, GooglePlus, etc.) to the providers in appmodule.. ",
    "GunnarGitHub": "Hi,\nI've upgraded to firebase2/database.\nI get the following problem. How can I fix?\nError: No provider for AngularFireDatabase!\nGunnar\n. ",
    "damgero": "Just updated to this, was easy as cake, and works like a charm!, thanks for your great job!. ",
    "johanchouquet": "Hi there,\nI understand that AngularFire2 is for Frontend purposes, and Cloud Functions are for backend, but it'd be nice to be able to rely on 1 single API (ie AngularFire2) when starting on a new Angular Firebase Project.\nIt's a bit a pain to have to re-learn every little thing and different detail from one API to another when a dev has to work on Functions, while he knows quite a lot with AngularFire2 API.\nI think it'd be great to be able to use AngularFire2 API to fetch data for example, inside a Function, instead of using firebase-admin, by doing admin.firebase().ref(...). The documentation is also different from AngularFire2, with sometimes differences in terms of updates...\nAs of today, are there any plans to support writing Functions extending AngularFire2 ?. @davideast @codediodeio which regression is it ? Another quick question: would AngularFire2 lib be in version 5 or version 6 when considered stable ? just maybe to be in line with Angular / CLI / Material & CDK ?. Thanks for the effort if you work on that. I tried to rebuild from scratch, but same result.. Do you have any update on this ? I could work from times to times to contribute to the project, but for now, I can't. I'd be glad to contribute.. Hi @tja4472 , thanks. It did the trick!\nI had no more errors for the npm run build. Then, I tried npm run test, and everything went well.\nI think i'm now able to contribute, even on windows. Not sure how to propose PR because of the necessary changes to tools/build.js & package.json files. But anyway, i can try.\n. Thanks @jamesdaniels, but isn't Angular compatible right now with typescript 3 ?\nSee \nhttps://github.com/angular/angular/blob/7f1cace2a204aa2e47f9441eb8745a500bdc505a/package.json#L128\nAm i misunderstanding something ?\n. @thefliik , maybe. But again, I still have my Angular 6.1.x application running with typescript 2.9.2 without any problem with angularfire2 (v5.0.0-rc.11).\nAnd for Angular CLI, it'll run v7 with support for typescript 3.1 at the very least:\nAngular CLI v7\nI should be able to upgrade to v5 final & latests, not just because of my typescript version.. @thefliik , i just updated to latest angular-cli (v6.2.4), and tried ng new project, it ended up creating a new project with this is my devDependencies: \"typescript\": \"~2.9.2\". So I'm not talking specially about v3 of typescript, but the fact that I can't update this library to v5.0.x & more, using with latest stable version of Angular (in v6), not v7 (beta / rcs), and so, only because of my typescript version. So far, i could update angularfire2 library without this kind of issue.\nBtw @Splaktar , i agree with you. it'd be nice to be able to test angular 7 (rc & more).. Great! I'll give this a try anytime soon ! Thanks for this update @jamesdaniels .. ",
    "nogtini": "I'd agree with @johanchouquet , especially since much of angularfire is a lightweight wrapper over firebase's rest api, incorporating a simple fetch utility for \"cloud function\"-specific restful requests might prove useful.. ",
    "Mercieral": "Any update on when we can expect this PR? I'm hoping with PR #1532 that I will be able to use an angularfire2 wrapper for callable functions and not have to deal with the issue below.\nCurrently trying to work around it, but I am getting ERROR in <filename hidden>: error TS2339: Property 'functions' does not exist on type 'typeof firebase'.\nwhen trying to import firebase modules directly based on their docs. Strangely enough it will fail to compile the first time, but if I make any changes that causes it to recompile it works fine (meaning I can develop kindof but cannot deploy).\n```\nimport * as firebase from 'firebase';\n// Required for side-effects\nimport 'firebase/functions';\nconst createGame = firebase.functions().httpsCallable('myCallableFunction');\n```\nUPDATE: For those doing the same thing I am doing, wrapping firebase in an object fixes my problem ... Object(firebase).functions()...for now so I am not depending on this PR anymore. I'm still looking forward to it though! . ",
    "parveenkhtkr": "@Mercieral whenever you get anything like Property 'functions' does not exist on type 'typeof firebase'\nyou can just cast it as any, so\nconst createGame = (firebase as any).functions().httpsCallable('myCallableFunction');\nwould work too.\nI believe it's actually better way to do it anyways\n:). ",
    "Tristan10": "I see that PR #1532 has been accepted. Are there any examples on how to use this? I tried using like in the firebase docs but I end up with \"Object is not a function\" error.. ",
    "khalilchoudhry": "@Tristan10 have you found any examples?. ",
    "gduranbeta": "Same error here. Tried debugging by commenting out firebase related code and placing things back together. It seems problem starts when AngularFireModule.initializeApp({MY_CONFIG}) is added on the @NgModule({\n  imports:      [ ...]\n}). Found a solution for my case.  First of all I also am using the quick-start files. I encounter errors when trying to install angular-cli on my OSx machine (totally different issue) so had to settle on creating files manually and stayed away from \"ng\" commands from the terminal. \nSo just like @ravivit9 , I encountered /angular2 404 NOT FOUND and ZoneAwareError. After some Googling, I had to update my systemjs.config.js to include angularfire2 and firebase like so;\n(function (global) {\n  System.config({\n   ...\n    // map tells the System loader where to look for things\n    map: {\n      // other libraries\n      ...\n      'angularfire2': 'npm:angularfire2',\n      'firebase': 'npm:firebase'\n    },\n    // packages tells the System loader how to load when no filename and/or no extension\n    packages: {\n      angularfire2: {\n        main: 'bundles/angularfire2.umd.js',\n        defaultExtension: 'js'\n      },\n      'firebase': {\n        main: 'firebase-browser.js',\n        defaultExtension: 'js'\n      }\n    ...\nNot ideal as per my setup but it works.\n. ",
    "aveferrum": "How does it go when you create a new application using @angular/cli ? The repo you are cloning might be out dated. \n$ npm -g i @angular/cli\n$ ng new my app && cd app\n$ ng serve\n. Hi,\nThis is mostly a Stackoverflow type question regarding NoSQL databases not specifically firebase related. But as a quick reply I recommend checking the following firebase documentation\nFor these type of relations you may need to duplicate the relational data in both nodes. Here's a quick example for products <-> productCategory relation. You can generate the others using the same idea.\n```\n products : {\n1: {\ndeadline : 3,\nminimum : 4,\nname : \"Product Name\",\nproductCategory : {\n       1: {\n              name: \"Category Test 1\"\n           }},\nproductUnitType : { 2: true },\nsupllier : { 1: true, 2: true }\n}\n}\nproductCategory : {\n1: {\n      name: \"Category Test 1\",\n      products: { \n                         1:  true\n                     }},\n2: {name: \"Category Test 2\"},\n3: {name: \"Category Test 3\"},\n}\n. Hi kris,\nCan you share the errors displayed when you try to build? I am in the same boat with you, getting dependency errors but able to serve / build my app.\n\u251c\u2500\u2500 @angular/cli@1.0.0\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/common@4.0.1\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/compiler@4.0.1\n\u251c\u2500\u2500 @angular/compiler-cli@4.0.1\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/core@4.0.1\n\u251c\u2500\u2500 @angular/forms@4.0.1\n\u251c\u2500\u2500 @angular/http@4.0.1\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser@4.0.1\n\u251c\u2500\u2500 UNMET PEER DEPENDENCY @angular/platform-browser-dynamic@4.0.1\n\u251c\u2500\u2500 @angular/router@4.0.1\n\u251c\u2500\u2500 @ng-bootstrap/ng-bootstrap@1.0.0-alpha.22\n\u251c\u2500\u2500 @types/jasmine@2.5.38\n\u251c\u2500\u2500 @types/node@6.0.68\n\u251c\u2500\u2500 angular2-datatable@0.5.3\n\u251c\u2500\u2500 angularfire2@2.0.0-beta.8\n\u251c\u2500\u2500 bootstrap@4.0.0-alpha.6\n\u251c\u2500\u2500 codelyzer@2.0.1\n\u251c\u2500\u2500 core-js@2.4.1\n\u251c\u2500\u2500 firebase@3.7.5\n\u251c\u2500\u2500 font-awesome@4.7.0\n\u251c\u2500\u2500 jasmine-core@2.5.2\n\u251c\u2500\u2500 jasmine-spec-reporter@3.2.0\n\u251c\u2500\u2500 karma@1.4.1\n\u251c\u2500\u2500 karma-chrome-launcher@2.0.0\n\u251c\u2500\u2500 karma-cli@1.0.1\n\u251c\u2500\u2500 karma-coverage-istanbul-reporter@0.2.3\n\u251c\u2500\u2500 karma-jasmine@1.1.0\n\u251c\u2500\u2500 karma-jasmine-html-reporter@0.2.2\n\u251c\u2500\u2500 ng-recaptcha@2.0.2\n\u251c\u2500\u2500 ng2-page-scroll@4.0.0-beta.6\n\u251c\u2500\u2500 protractor@5.1.1\n\u251c\u2500\u2500 rxjs@5.3.0\n\u251c\u2500\u2500 ts-node@2.0.0\n\u251c\u2500\u2500 tslint@4.5.1\n\u251c\u2500\u2500 typescript@2.2.2\n\u2514\u2500\u2500 zone.js@0.8.5\nnpm ERR! peer dep missing: @angular/common@^2.0.0, required by angularfire2@2.0.0-beta.8\nnpm ERR! peer dep missing: @angular/compiler@^2.0.0, required by angularfire2@2.0.0-beta.8\nnpm ERR! peer dep missing: @angular/core@^2.0.0, required by angularfire2@2.0.0-beta.8\nnpm ERR! peer dep missing: @angular/platform-browser@^2.0.0, required by angularfire2@2.0.0-beta.8\nnpm ERR! peer dep missing: @angular/platform-browser-dynamic@^2.0.0, required by angularfire2@2.0.0-beta.8\nnpm ERR! peer dep missing: zone.js@^0.7.2, required by @angular/core@2.4.10\n```. ",
    "schmitzt3": "I've also had this issue. Someone else has posted an issue that is still open (https://github.com/rollup/rollup/issues/1275) on the rollup repo.. Here is a plunker that reproduces the issue.\nhttp://plnkr.co/edit/SIHmTUBrbfzOOofVN59V?p=preview\nI was able to get rid of the traceur errors after setting the transpiler to be typescript and including typescript in the map of my systemjs config, but that's not what we want.  I think we want the browser to handling transpiling, but here's an example anyways:\nSystem.config({\n    transpiler: 'typescript',\n    paths: {\n        // paths serve as alias\n        'npm:': 'node_modules/'\n    },\n    // map tells the System loader where to look for things\n    map: {\n        // our app is within the app folder\n        ...\n        'firebase': 'npm:firebase',\n        'angularfire2': 'npm:angularfire2',\n        'typescript': 'npm:typescript/lib/typescript.js'\n        ...\n    },\n    // packages tells the System loader how to load when no filename and/or no extension\n    packages: {\n        'firebase': { defaultExtension: 'js', main: './firebase.js' },\n        'angularfire2': { main: 'angularfire2.js', defaultExtension: 'js' }\n    }\n});\nThis never spit out the angular debug messages about enabling prod mode so I guess the app isn't really running.\nUPDATE using version 4.3.1\nSystem.config({\n    transpiler: 'typescript',\n    paths: {\n        // paths serve as alias\n        'npm:': 'node_modules/'\n    },\n    // map tells the System loader where to look for things\n    map: {\n        // our app is within the app folder\n        ...\n        'angularfire2': 'npm:angularfire2/bundles/core.umd.js',\n        'angularfire2/database': 'npm:angularfire2/bundles/database.umd.js',\n        'angularfire2/auth': 'npm:angularfire2/bundles/auth.umd.js',\n        ...\n    },\n    // packages tells the System loader how to load when no filename and/or no extension\n    packages: {\n        ...\n    }\n});. This is awesome @DiedrikDM. Thanks for your contribution - I know this will help quite a few people using SystemJS.. ",
    "albandaft": "I use it with Angular 4 and it works fine, although the warnings.. ",
    "andrewdacenko": "@rtm in case your -aot fails: upgrade to ^2.0.0-beta.8 version. Just resolved such issue. ",
    "rtm": "Closing as this problem was caused by a module brought in from another repo which was still on Angular 2.. I'm curious why this was treated as a breaking change. Instead, a new method and/or type could have been introduced. This approach prevents me from migrating my code incrementally.. Let me explain my use case. I have a relatively expensive \"status\" computation, which is dependent on the current state of the world (database). It does some valueChanges() type things on some collections and nested collections and switchMaps etc., resulting in a status. There is also an aggregate status, combining some individual statuses. I need to show these statuses and aggregate statuses from various screens in my Angular app. I've created a service which caches the observables for the statuses. But when I move between screens, and a new screen tries to retrieve the cached value (subscribing, either explicitly or implicitly via async), it gets nothing. Unfortunately no combination of multicast, publish or anything else has managed to solve this problem. Any ideas?. @davideast \n\nThis would create a new reference for each subscribe. Which is not ideal.\n\nWhy is that not ideal?\n\nsubscribe() should be called just once\n\n\"Should\" in what sense?\nJust wondering, thanks for your useful answers.. Thank you. By the way, what are the prospects for moving past RC, and/or supporting Angular 6?. Thanks. I've implemented this using that idea.\nBut then I found out the the batch.commit promises never resolve if offline. So I can't wait for the batch to finish before proceeding to the next one, which was the whole point of using batches in the first place. Do people check explicitly if they're offline, and wait for the promise to resolve if they are, but not if they're not?\nBy the way, after creating one match, and committing it, can I re-use that batch for the next set of updates, or do I need to create a new one?. @jamesdaniels Appreciate your response. \n\nI'm guessing they changed how observeOn / schedulers work.\n\nA likely culprit.\n\nwhich is why we made the big API change.\n\nI love changes for the better, even when they're breaking. All one can say is that with 20-20 hindsight. the original API was sort of weird in the way it overloaded observables with CRUD semantics.\nI considered trying to somehow patch database-deprecated, but I ended up re-writing one of the repos which used database-deprecated, which took a couple of days, since unfortunately I based the program design around the database-deprecated design, to the extent of actually writing a parallel system with the same interface for local storage in order to support offline. But it would be great if you could fix this bug, if it is a bug, so I can avoid re-writing a second larger repo.\n. @MurhafSousli Sorry, is this code I'm supposed to write, or the new code in the system? So is the documentation indeed wrong, as I thought? Where is onTaskComplete documented? . ",
    "umarov": "I understand, but when the redirect happens during a popup, it does nothing. So I am not able to login. I get stuck in an unauthenticated state. . Okay, thank you!. ",
    "dekonunes": "Sorry, my bad.\nIt's working normal.\nclose please.. ",
    "luuksuijkerbuijk": "I think is was because Firebase itself wasn't installed right.\nThis did it for me:\nnpm install firebase angularfire2 --save. ",
    "danwguy": "Is there a solution for this??\nI can do 'ionic cordova build browser' perfectly fine, it works great. However, every single time I do 'ionic cordova build browser --prod' I get a ton of errors and they all have \n\n\"Module not found: Error: Can't resolve '../../../angularfire2/database'\"\n\nI have done ionic cordova platform rm browser, then ionic cordova platform add browser. I have done npm install firebase angularfire2 --save, and still, it will only build normal, every time I try to build -prod I get can't resolve '../../../angularfire2/database' and \"Field 'browser' doesn't contain a valid alias configuration\" Please help, I need to build this project. I will be more than happy to give my package.json and my app.module.ts file if it will help. Thank you.. ",
    "andr3medeiros": "@danwguy downgrade to angularfire2@4.0.0-rc.1 worked for me on mac. ",
    "rastographics": "same thing as @andr3medeiros  said...i could ionic serve and ionic build, but ionic build --prod would fail, thinking that angular2/database was a relative reference to a module, instead of looking in the node_modules folder.\ndowngrading to angularfire2@4.0.0-rc.1 solved it for me too. \non windows. ",
    "BAWES": "Downgrading to angularfire2@4.0.0-rc.1 did it for me. Thanks @andr3medeiros !. Same would be nice for snapshotChanges() as well.. ",
    "Hailong": "Downgrading to angularfire2@4.0.0-rc.1 works for me too, I'm on Mac.. ",
    "alltej": "I am having this issue. Downgrading to angularfire2@4.0.0-rc.1 did not help.. I have to do a clean install of the dependencies, remove angularfire2 and install angularfire2@4.0.0-rc.1. That seems to work.  Here are the steps:\n\n\ndelete node_modules folder\n\n\nin package.json file, delete angularfire2 in dependencies\n\n\nnpm install\n\n\nnpm install --save angularfire2@4.0.0-rc.1\n\n\nionic cordova build android --prod. I have firebase 4.2 and angularfire2 4.0.0-rc.1. I am still seeing the ``firebase' has no exported member 'Promise'\" message. \n\n",
    "CarlosAmaral": "Why is the issue closed though? Any hopes to get this working without having to downgrade?\nThank you!. ",
    "RalfViellieber": "Thanks alltej, same problem, same solution :-)\nBut still having to downgrade in 2018?!. ",
    "bobbycv64": "I know this is about Angular 4, here's the Angular 6 update:\nnpm install --save firebase angularfire2\nangularfire2@5.1.0: AngularFire has moved, we're now @angular/fire\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';. ",
    "muhammadumerfarooq": "\nnpm install -S angularfire2@latest\n\njust run this command, then you will be able to find to angularfire2/firestore. npm i rxjs@^6.0 rxjs-compat \nuse this. ",
    "eliotstock": "Sorry, how is this a duplicate of that? I'm not seeing the same errors mentioned in that issue. Do you mean that, once #843 is fixed, it'll be trivial to support Angular 4?. Got it, cool. Yeah it runs OK so far, but creates uncertainty and doubt that something might be broken of which I'm not aware.. ",
    "krisUneon": "Errors, I received, were all related to expressions that I use in component's template and are defined in corresponding component, but hoisted after functions that call angularfire's methods. None of the values assigned after angularfire's methods in any component was accessible and could not be used within the template. Hence all errors were \"the item is not member of component\" (Strangely enough, when firebase-related part was commented out, there was no problem with accessing values assigned within the component.) The workaround for me was to assign empty or null values directly after variable declaration. Which, in my case, is causing no harm, just adds unnecessary text and is kind of against TypeScript readability and Angular2 elegance. Compiler works, true, since it is serving the app, but as building is another process, some issues related to hoisting, variable declarations and assignment can play a role. Nonetheless, it would be nice to see AngularFire2 and Angular CLI to meet on its requirements and provide consistent guidelines. I admit this is not a terrible bug or apocalypse now.. As far as I am concerned, I would be happy enough with a simple solution => I would add to Installation Guide note saying that users, who tend to import AngularFire2 v2Beta into Angular CLI v1 based project might be facing some issues and are advised to use Angular CLI RC built upon @angular/core@^2 ... or something similar, since both AngularFire2 and Angular CLI are kind of officially supported projects and there are probably many people like me, who turned to them for the sake of simplicity and lack of pro experience with customised Angular2 bundle or standard Firebase SDK (hence, such users might be freaked out by those \"not installed peers\" and not be able to find workarounds). But I have no insight into AngularFire2 development and it just might be the case that a better support for Angular2 v4 is on its way and thus my solution would not do much good. . @sorcamarian -> Am I missing something or you actually do get \"npm WARN angularfire2@2.0.0-beta.8 requires a peer of @angular/ ... but none was installed\" ? It seems to me that you do. The point of this issue was that AngularFire2 v2Beta does not meet with all dependencies required by Angular CLI v1. As pointed out previously, the installation might work even with those \"not installed peers\", but there clearly is some kind of gap in AngularFire2 v2Beta documentation and support when it comes to Angular CLI v1 .... @sorcamarian no need to be sorry, your post is valuable still, I just wanted to clarify the meaning of this stream, since it was confirmed previously that you can get working installation even with those warnings, but clearly, there are some discrepancies as mentioned previously. Just to make my entry complete: I dropped AngularFire2 from the project for the time being (thought i like the AF2), since most Firebase functionality that I need still heavily falls back to standard Firebase SDK -> hence I can no longer say anything about dealing with these \"not installed peers\".. Yes, indeed, it was confirmed several times already that the project can be built upon Angular CLIv1 and AngularFire2v2beta and that received warnings might not effect its functionality. I am closing this, since I cannot possibly imagine what else can be added to meaningfully contribute to this. All relevant information is mentioned above. Thank you all for sharing your experience. Best regards.. ",
    "afgallo": "I think AngularFire2 2.0.0-beta.8 is not fully compatible with angular 4.0.x. I have an Ionic 2 app which has just been upgraded to angular 4.0.x and can also see those dependencies mismatch. My app works partially, I can use auth without a problem, but saving items to the database causes weird promises errors. @davideast can you shed some light and tell us when we can expect the first semver release compatible with angular 4?\nThanks!. Hi @mubasshir, nope not yet. I might just roll back to Ionic 2 and wait for angularfire2 to catch up.. ",
    "mikedory": "I signed it!. Fair enough \u2014 just hit a weird display issue while reading the docs. Feel free to accept the pull or torch it as you see fit!. @markgoho no worries! Same \"feel free to do whatever\" comment applies to that one too. =). ",
    "mohitook": "I'm sorry, a few minutes I've found the answer:\nhttps://www.firebase.com/docs/web/guide/retrieving-data.html#section-complex-queries\nWhich means the items will be shorted lexicographically.. Hello @davideast !\nI hope I've created the proper representation of my problem:\nplnkr\nI'm not really familiar with the firebase database what your example use.. so I just subscribe... but nothing happens.. \nbasically I need th functionality.. somwhow.. that when I'm using the whole AngularFire as a service, and call  the filterBy method during the componen't initialization(e.g. in constructor..) it works properly with subjects.. Is it possible, that every subject.next call creates a new instance of the observable, and whether if I'm listening the existing one or not it will not trigger?. Thanks, in this case if I use this behaviorSubject it will work even if the query is defined during the initialization? The behavior is the same as the normal Subject? Does it trigger the change if the behavoursubject was changed? \n(Sorry for this many question.. I've not worked on this project since May.. ",
    "fredrik-lundin": "Sorry, this is my bad. I used this.firebaseConfig instead of just firebaseConfig when referencing my config..   . ",
    "leoviveiros": "As a workaround i fired the first \"next\" on ngAfterViewInit(). ",
    "bob-lee": "```typescript\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\nprivate subject = new BehaviorSubject(2);\nthis.specificNews = this.db.list(`news`, {\n  query: {\n    limitToFirst: this.subject\n  }\n});\n\nthis.specificNews .subscribe(news=> { // will get the query result with initial value of 2\n\n``. @mohitook When I subscribe to ListObservable in the component'sngOnInit, it queries ok with initial value which seems to be a different behavior compared to normalsubject. Whennextis called, it triggers query ok as well.. @davideast Absolutely I am in. Where can I start?. @davideast there was a PR #821 merged last Feb but that doesn't seem to help the situation. As a first step, I forked and triednpm run build` on my machine which gives me following error..?:\n~~~~\nC:\\Users\\Bob\\Work\\angularfire2 (master)\n\u03bb npm run build\n\nangularfire2@4.0.0-rc.2 build C:\\Users\\Bob\\Work\\angularfire2\nrm -rf dist && node tools/build.js\n\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\nError: spawn node_modules/.bin/ngc ENOENT\n    at exports._errnoException (util.js:1018:11)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32)\n    at onErrorNT (internal/child_process.js:367:16)\n    at _combinedTickCallback (internal/process/next_tick.js:80:11)\n    at process._tickCallback (internal/process/next_tick.js:104:9)\n    at Module.runMain (module.js:606:11)\n    at run (bootstrap_node.js:389:7)\n    at startup (bootstrap_node.js:149:9)\n    at bootstrap_node.js:504:3\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"build\"\nnpm ERR! node v6.11.1\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! angularfire2@4.0.0-rc.2 build: rm -rf dist && node tools/build.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the angularfire2@4.0.0-rc.2 build script 'rm -rf dist && node tools/build.js'.\n~~~~. I realized I was mistakenly using equalTo  in above angularfire2 code  so once that line is commented out like below, I got the same result that Firebase SDK code gives:\ntypescript\n    this.notes = this.db.list(`notes`, {\n      query: {\n        orderByChild: 'group',\n        //equalTo: 'Issues',\n        limitToFirst: 2,\n        startAt: { value: 'Issues', key: '-KqFzkJy-DCM7mmH3jo5' }\n      }\n    });\nSo PR #821 was doing its job ok but now the result is not guaranteed to contain only notes under 'Issues' group due to a missing equalTo.\nJust for test, I included equalTo in Firebase SDK code then it complains like:\n\nError: Query.startAt: Starting point was already set (by another call to startAt or equalTo).\n\nThis seems to be a fundamental limitation in Firebase , in other words, if I want a page that shows all notes with pagination, that's possible but if I want a page that shows only notes that belong to a particular group with pagination, that's not possible to do with current Firebase functionality. There is not much room to improve the situation in angularfire2 side I guess. Am I correct @davideast please?\nBTW, I could run npm run build on my Windows machine after I replaced child_process with cross-spawn in tools/build.js:\njavascript\n//const { spawn } = require('child_process');\nconst { spawn } = require('cross-spawn'); // to build on Windows machine. @jamesdaniels  I have some update here. Upgraded to 5.0.0-rc.3 and moved this.countNotes = actions.length; to inside of snapshotChanges().map(), then animation started to be triggered but still has issue:\n\non add / remove, all items get animated where I expected only added / removed item gets animated, looks like mutable vs. immutable issue \n\nMaybe I should be doing things differently in this version of angularfire2..?\nI updated stackblitz demos above to show the current situation / issue. demo 1 works with both rtdb and firestore, they seems working the same way, sharing the same issue.. Found an workground by using trackBy:\nhtml\n<div *ngFor=\"let note of noteService.notes | async; trackBy: trackByFn\"  class=\"item\">\njavascript\ntrackByFn = (idx, obj) => obj.$key; // component\nNot sure there is a room to improve this inside the library, experts? demo1 above updated and working as expected now.\nEdit on 20Aug18: With Angular 6.0.3 and angularfire2@5.0.0-rc.10, I still needed trackBy as shown in demo1 above. Without trackBy, all items get animated when an item is added / removed.. I made a PR #1237. I signed CLA.. https://stackblitz.com/edit/angular-iqq9xo \nAbove demo would show you how to.. Better ask this type of question in StackOverflow. I am using AngularFireObject, have a look at objRef in remove() at\nhttps://stackblitz.com/edit/angular-iqq9xo?file=app%2Fnote.service.ts. Thanks for kind explanations @davideast, it starts to make sense! Am I correct saying that snapshotChanges alone can't track item being edited by user because other items in a list will get the previous (unchanged) type which is likely to be modified? So basically when I save edited item without stateChanges, all items are getting modified type.. import * as firebase from 'firebase/app';\nshould be \nimport * as firebase from 'firebase';. @davideast That's wierd, with importing firebase/app only, I am getting\n\nTypeError: Cannot read property 'ServerValue' of undefined\n    at NoteService.add (VM76 note.service.ts:176)\n\nin this demo when I click Add to rtdb button complaining about AngulaFireObject... @George35mk you are ordering by created and giving 3rd page's first item as cursor to endBefore then limiting to your page size so you got first page content only. Consider this snippet:\njavascript\n      this.collection = this.getGroupDoc(group).collection('notes', ref => {\n        let query: firebase.firestore.Query = ref;\n        if (page) { // do paginate\n          if (next === null) { // first page\n            query = query.orderBy('updatedAt', 'desc').limit(PAGE_SIZE);\n          } else if (next) { // next page\n            query = query.orderBy('updatedAt', 'desc').startAfter(this.lastInPage).limit(PAGE_SIZE);\n          } else { // previous page \n            query = query.orderBy('updatedAt').startAfter(this.firstInPage).limit(PAGE_SIZE);\n          }\n        } else { // query all\n          query = query.orderBy('updatedAt', 'desc');\n        }\n        return query;\n      });. ",
    "lucasmafra": "please, I need this feature for now! How can I play with the latest changes in master?. ",
    "apfundst": "@aussiemarty  I was having the same issue.  I added \"promise-polyfill\": \"6.0.2\" to my app's package.json, did a fresh npm install  and it started working.. ",
    "aussiemarty": "Thanks so much that did the trick!. ",
    "misterzik": "@apfundst awesome, this fixed my prob as well, thanks!. ",
    "milocosmopolitan": "please update npm package as well.. Thank you!. ",
    "adelchipallotta": "I have the same if i try to update to angular 4, or the latest cli.. @cjgaliana yes i installed promise and it works now :). ",
    "cjgaliana": "It seems is a problem with the latest firebase library. I had to downgrade to \"firebase\": \"^3.7.5\" in order to make it work. Other option is to install promise-polyfill npm install promise-polyfill --save-exact. ",
    "psingl": "Thanks to all.  There's an error in the latest firebase library. It is not compatible with angularfire2. Thanks once again.. Hi @markgoho I wanted to ask that where should I create my functions repo and btw I can't use firebase cli inside my app folder as @angular/cli runs over there?\n. @markgoho I just followed steps you mentioned in your post on medium. I was having firebase-tools cli. In my angular app's src folder I followed as:\nC:\\Users\\{CompName}\\Projects\\{ProjName}\\src > firebase init functions\nC:\\Users\\{CompName}\\Projects\\{ProjName}\\src > npm install\nThis is throwing an error.\n\nnpm ERR! path C:\\Users{CompName}\\Projects{ProjName}\\src\\functions\\node_modules.staging\\@types\\lodash-7a39c56e\nnpm ERR! code EPERM\nnpm ERR! errno -4048\nnpm ERR! syscall rename\n. I got my mistake and tried initiating in the folder just one step up the src\\ folder. Thanks @markgoho . The problem is not in my code. When I change the array name testarray to some else where no function has yet been implemented the capitalization works very well. It means there's a problem in firebase. Some functions remain active on the Firebase server and are not removed/deleted upon changing the code.. I'm not getting the reCAPTCHA in phone auth for firebase. Can you explain how to implement that with angular?\n. ",
    "ghoshpushpendu": "Where r u , Brothers ? It's urgent . Please help me.. ",
    "ourarash": "Moving  AngularFireModule.initializeApp(FirebaseConfig), right after BrowserModule  in app.module.ts fixed this for me:\nimports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(FirebaseConfig),\n    IonicModule.forRoot(MyApp, { scrollAssist: false, \n        autoFocusAssist: false,\n        backButtonText: '',\n        swipeBackEnabled: false\n    }),. ",
    "chris-eduardo": "imports: [\n    FormsModule,\n    HttpModule,\n    JsonpModule,\n    BrowserModule,\n    AngularFireModule.initializeApp(firebaseConfig),\nNot works . I tested \nangularfire2@4.0.0-rc.0\nangularfire2@4.0.0-rc.1\nangularfire2@4.0.0-rc.2\nand build --prod fails in any version\nCMD:\nionic cordova build android --prod\nionic version 3.12.0\nnode -v v8.3.0\nnpm -v5.4.2\ncordova -v 7.0.1. ",
    "luandaja": "I have the same issue. It just happens to me in the installed app in android device\nVersion info\nAngular:\n2.4.10\nFirebase:\n3.8.0\nAngularFire:\n2.0.0-beta.8\nIonic-angular\n2.3.0\nBasically the same issue. . It works for me also. Really thank you! . ",
    "ITServicesAM": "Hello, I found out the solution. It has nothing to do with this library itself but with the underlying firebase SDK!\nIn the last update to 3.8.0 the team added a oAuth2 Flow and this breaks something on the devices.\nFollow this Link and import all the cordova plugins there and you should be good to go.\nFor me it solves the issue!\nhttps://firebase.google.com/docs/auth/web/cordova. ",
    "fairydhwen": "And of course its ok if i do this : \nthis.msgService.getLastest().subscribe(\n        (data: Message[]) => {\n          data.forEach( (items) => this.messages.push(new Message(items.author, items.content)));\n        }\nBut it doesn't look to be the best way .?. ",
    "prestonvanloon": "Duplicate of #843? . There are many new/breaking changes with 4.0.0-rc0. See #854 for details. \nEdit: If you want an example of the changes required, I just went through this in this PR. ",
    "martinjbaker": "Yep that looks better!. ",
    "robindijkhof": "@davideast is there some public config i can use?. unfortunately i'm not able to reproduce it. You can close it.. Unfortunately I haven't. Let me know if you have.. @keith-nativemobile I just found out this only happens when running locally. I deployed my app to Firebase Hosting and there it works fine.. Did you provide it in you TestBed?. ",
    "onlygo": "Any idea when we will see this feature implemented?. ",
    "fdambrosio": "there's news? . hello there's news? . I have the same problem . ",
    "sparkoo": "ETA on this?. @davideast cool, thanks!. @davideast I'm not experience enough to review this. Just want to say thanks for the great work. It works flawlessly so far.. ",
    "jamesamuel": "@davideast using the .take(1) on a list retrieval no longer works in v4? Why is this, and how does one resolve the issue? i.e. \nthis._db.list('items').take(1).subscribe(res => this.example = res);. Thanks! One of those days!\np.s. you're the king \ud83d\udcaa. @davideast Instead of outputting the value as an object, I'm looking to retrieve just the key, which will then be used to trigger something else. Does firebase allow this, or the SDK?. ",
    "SpeedoPasanen": "how about wrapping the inputs in something like  ... ? This way you'll render inputs only after you have data and contact is an object.. Is the data null because Universal isn't waiting or because it doesn't even open the socket? If the first case, for now, I could grab the master and force Universal to wait - with a mock HTTP req, timeout or sth, until I got the first data?. Got around the problem by providing firebase-admin to a FirebaseAdminService, then using that instead of Angularfire2 in a ServerDatabaseModule. Sorry, not a complete example but hope this gives you ideas:\nhttps://gist.github.com/funkizer/6d6559787c17a88c60cf2ddc9ca06527\nhttps://gist.github.com/funkizer/e162adff4191cae3c897e6bc5b7fd605\nIf you're hosting Universal on your own server, you might get away with not getting rid of all Angularfire2 stuff, but at least on Cloud Functions, you'll get ctor is not a constructor or other funny errors or timeouts because injectors fail, so I just got rid of everything related to FB client on server. Key thing is to run firebase-admin related things wrapped in zone.runOutsideAngular().. Does home appear a second time later? I think it's possible a dbListObs nexts an empty array first. You could try .filter(status => !!status.length) before .map in the service. Seems also a bit expensive to do filtering by date on client, you could use equalTo to stream only statuses with the correct date.\nSorry about bad output and not being able to check that empty first result theory, im on mobile just passing time, but hope this helps at all.. Ran into this limitation of Firebase myself and solved it by adding composite keys to everything. Let's say you'd have:\n{ groupOrder: 'Issues 1111', someValue: '', .... },\n{ groupOrder: 'Issues 1112', someValue: '',  ... }\nThen you can:\nquery: {\n    orderByChild: 'groupOrder',\n    startAt: 'Issues', // or if you're paginating, let's say 'issues 1112'\n    endAt: 'IssuesZ' // startAt and endAt eliminate the need for equalTo\n    limitToFirst: pageSize\n}\n\nGot a cloud function triggered by a push to these lists, which adds the composite keys like groupName + ' ' + {new Date().getTime()}\nLet's say you also have a relation to a user, just add a composite key userOrder: userKey + ' ' + timestamp and there ya go.\nThese what we might call limitations compared to SQL can be advantages, once you manage to forget all you know about SQL and start thinking Firebase way. It's what makes FB so freaking fast and scalable. \nSorry this got out of the scope of github issues. =) Huge thanks to @davideast for work like this to make it easier to learn this stuff: https://github.com/davideast/Querybase. I'll see if I can get AngularfireDatabase and *Auth working by the approach in https://github.com/angular/universal-starter instead of the two tutorials I used and linked above, and update around next weekend.\nStarter has some differences, like no Angular-cli used, just Webpack, everything in TS compiled to JS, And for some reason I couldn't get Functions to even deploy (some reflector error) without requiring 'angular2-universal-polyfills/node', which I guess is not supposed to be used anymore? Starter doesn't use that either.\nIf this works I'll rewrite my app around the starter and recommend anyone looking into using Angularfire2 with Universal and Cloud Functions do the same.. It works! Using https://github.com/angular/universal-starter as base I don't need to worry about importing Angularfire2 modules. Obviously can't use Auth serverside and need to stub that, but Database doesn't work either. When I subscribe to a FirebaseObjectObservable, I get a timeout sometimes, 504 gateway error sometimes. Is it WIP?. Solved. I went back to Angular-cli because I just couldn't get webpack to watch-build in less than 10 seconds. That's painful.\nGot everything working by:\n- For server side, provide a mock AuthService and a DatabaseService that uses firebase-admin passed as an extraProvider to the NgModuleFactory from the functions JS side to Angular\n- In ServerDatabase, set a 10 second timeout to make Universal wait for data, wrap admin.database().ref() -calls in zone.runOutsideAngular(), and in .then(), clear the timeout wrapped inside zone.run() so that Universal stops waiting. If you use admin.database().ref inside Angular's zone, function hangs and timeouts after 60 seconds, giving no error. Tried database().goOffline, app.delete(), etc. to no avail. zone.runOutsideAngular was the key.\n- Make sure FirebaseListObservable or ObjectObservable aren't imported in any service anywhere (or anything that gets injected), otherwise that injection fails with gloriously untraceable errors. Instead, make DatabaseService return an Observable that's spiced with mock push, set, update etc. functions that those Angularfire2 classes have. It's ok to import FirebaseListObservable and Object* anywhere else in the app, like in components.\nToo busy and exhausted by this ordeal to post a stripped down example, but I'll be happy to help if you face similar problems.   :)\nFinally, some seo x) https://diachats.com. ",
    "lfxsantos": "The problem occours with 2.0.0-beta.7 but don't with 2.0.0-beta.8. Soon as possible I will update for the last version.\nThank you!. ",
    "thegreat7": "I signed it!. Closing this PR because @mukesh51 is updating for this feature #917.. ",
    "menehune23": "Thank you!!! This was puzzling me.... ",
    "anupavanm": "yes. i have this problem with 4.0.0-rc.0. ",
    "MarinoRaul": "Any solution?. Any solution?. Please post it because I have 4.2.5\nI known that this is the last version\nThanks\nGet Outlook for iOShttps://aka.ms/o0ukef\n\nFrom: rahultyagiji notifications@github.com\nSent: Tuesday, July 4, 2017 10:51:09 PM\nTo: angular/angularfire2\nCc: MarinoRaul; Comment\nSubject: Re: [angular/angularfire2] Error: No provider for InjectionToken FirebaseAppConfigToken! (#971)\nI was able to solve it by updating angular core... I will post the working version number combinations later today.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/971#issuecomment-312977778, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AB5qSwyOf84pl0i6RD8UNSxAEwgXwMP1ks5sKuwNgaJpZM4NZFPP.\n. ",
    "fahadhussain2": "\nCan someone help me plz?\nI could find any solution yet. \nPlease help me to resolve this issue. Package.json\n{\n  \"name\": \"firebaselogin\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update --standalone false --gecko false\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.3.1\",\n    \"@angular/compiler\": \"^2.3.1\",\n    \"@angular/core\": \"^2.3.1\",\n    \"@angular/forms\": \"^2.3.1\",\n    \"@angular/http\": \"^2.3.1\",\n    \"@angular/platform-browser\": \"^2.3.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.3.1\",\n    \"@angular/router\": \"^3.3.1\",\n    \"angularfire2\": \"^4.0.0-rc0\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.2.0\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"typings\": \"^2.1.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.2.6\",\n    \"@angular/compiler-cli\": \"^2.3.1\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"^1.0.0-beta.28.3\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"~4.0.13\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.3\"\n  }\n}\n. how to migrate to angular ^4..0.0 from angular 1.0.0-beta.28.3 ? . I fix my all error by doing the following\nnpm install @angular/common@latest @angular/compiler@latest @angular/compiler-cli@latest @angular/core@latest @angular/forms@latest @angular/http@latest @angular/platform-browser@latest @angular/platform-browser-dynamic@latest @angular/platform-server@latest @angular/router@latest @angular/animations@latest typescript@latest --save\nand then run\nnpm install promise-polyfill --save-exact\nWorked for me\nThanks @jymdman . ",
    "szaske": "Add me to the list of people getting this error.  I'm simply following the install steps shown here.  Using Angularfire2 4.0.0-rc.2\nfirebase 4.3.0. Add me to the list of people getting this error.  I'm simply following the install steps shown here.  Using Angularfire2 4.0.0-rc.2\nfirebase 4.3.0. I found a solution to this problem.  I upgraded to the newest node (8.4) and latest angular/cli...and that resolved the problem.  Previously I was using the older angular-cli.\n. I found a solution to this problem.  I upgraded to the newest node (8.4) and latest angular/cli...and that resolved the problem.  Previously I was using the older angular-cli.\n. ",
    "vad1986": "ERROR in C:/Users/vadnu/foodService/node_modules/@agm/core/services/maps-api-loader/lazy-maps-api-loader.d.ts (1,10): Module '\"C:/Users/vadnu/foodService/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\ni Get this too\nis there a fix?. ",
    "tkssharma": "ERROR in C:/Users/vadnu/foodService/node_modules//services/maps-api-loader/lazy-maps-api-loader.d.ts (1,10): Module '\"C:/Users/vadnu/foodService/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\ni Get this too\nis there a fix?\nsame for me !!. ",
    "benjamin21st": "Same error, my environment:\nnode: v8.9.1\n    \"angular-cli\": \"1.0.0-beta.28.3\",\n    \"angularfire2\": \"^5.0.0-rc.4\",\n    \"firebase\": \"^4.6.2\",\nThis seems to have helped:\nhttps://github.com/angular/angularfire2/issues/1089#issuecomment-319980130. ",
    "BrahimBouhouche": "the same issue for me to \n`WARNING in ./~/@agm/core/services/maps-api-loader/lazy-maps-api-loader.js\n24:38-52 \"export 'InjectionToken' was not found in '@angular/core'\nERROR in /Desktop/angular-cli/node_modules/@agm/core/services/maps-api-loader/lazy-maps-api-loader.d.ts (1,10): Module '\"/Desktop/angular-cli/node_modules/@an\ngular/core/index\"' has no exported member 'InjectionToken'.\nwebpack: Failed to compile.\n`. ",
    "WillGeller": "try  this.afAuth.authState.subscribe. ",
    "kabus202": "Same issue here, downgrading fixes the problem \n. ",
    "gusdevops": "@kabus202  How can I do that? . This comment should be considered.\nMaybe a possible solution . @davideast  Thanks after updating to version 4.x.x  it starts working. ",
    "aliszafar1": "same issue. ",
    "ziaukhan": "Facing the same issue. ",
    "markterrill": "Hi,  using 4.0 RC0?\nTry:\nprivate authState: Observable<firebase.User>;\nie, not firebaseauthstate\nyou should import * as firebase from 'firebase/app'; above as well.\nthis doc is the best if you happen to be using RC0: https://github.com/angular/angularfire2/blob/4.0.0-rc.0/docs/version-4-upgrade.md\n. Hi, your code line would work.\nThat #917 PR used \nthis.af.auth.subscribe(authState => {\n...which is wrong.  The documentation is inconsistent and plain wrong. I've focussed on the one docu page that is largely correct as then folk can focus on one working example.\nThe documentation author decided to assign the local variable this.authState, which I used for left line readability. Otherwise you have a hodge podge of 'lets grab that variable, oh, this time we'll grab the original'.\nI've now spent multiple hours diving into learning how rxjs works, checking source to find out what the simple solution was. Then went jumping through the hoops to submit a fix for the next poor person. If someone feels strongly about which variable to use, then so be it, lets just not spend a week debating it.. It simply was that the docu was wrong. afAuth.subscribe() doesn't exist.\nCorrect solutions are either:\nthis.authState = afAuth.authState;\nthis.authState.subscribe(....\nor as @gianpaj suggests, going to the constructor argument directly:\nafAuth.authState.subscribe(\nOn a more broader note, the ionic docu has some odd references to objects not defined, ie this FirebaseAuthState interface:\nsignInWithFacebook(): firebase.Promise<FirebaseAuthState> {\nA wish list:\n- consistent login/logout naming, most things are login/logout, not signin/signout. If going with a specific provider then I'd suggest loginWithFacebook()\n- inclusion of information on route guards on the ionic demo. IE using a service like suggested at https://blog.khophi.co/angularfire2-authentication/ and using that as a function on canActivate within Ionic2 route guards.\n- update the Auth-with-Ionic2.md with the fix as explained in this PR as it as the wrong subscribe\nI well understand and appreciate it's pretty hard for projects to keep up with documentation when things are moving fast. The trick is there are a number of tutorial sites out there charging ~120USD for their howto and they must be doing some business. The project team has left the door open to them by getting it wrong in the first place. Then the tutorial sites get it wrong and you end up with 5 different (and wrong) ways of doing it! Anyways!\nI'll likely submit a new version of the AuthService on that page when I finish doing it.. Seems to be a convention throughout most documentation implementations. It makes sense from the perspective that a local shorthand variable decouples user code (view and controller) from how its accessed from angularfire. Which hasn\u2019t exactly been consistent during the great refactor.\nI really don\u2019t mind either way though its more convenient to use shorthand rather than a big find/replace each time its changed.\nThe key point is the docu is wrong, it points to the wrong object. As long as that\u2019s fixed we\u2019ll have less folk scratching their heads.\nI\u2019m going to bow out of further discussion, up to you guys.\nMark\nFrom: Mark Goho notifications@github.com\nReply-To: angular/angularfire2 reply@reply.github.com\nDate: Thursday, 11 May 2017 at 12:35 am\nTo: angular/angularfire2 angularfire2@noreply.github.com\nCc: Mark Terrill mark@studio1.com.au, Mention mention@noreply.github.com\nSubject: Re: [angular/angularfire2] 4.0.0 Docs refer to incorrect afAuth.subscribe method (#960)\nAs far as I can tell setting this.authState = afAuth.authState; is completely pointless. Unless I'm missing something....which is possible.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/960#issuecomment-300502129, or mute the threadhttps://github.com/notifications/unsubscribe-auth/ACfaUWHaZNfPBOTA1hAB_AbNMfa_Vkr_ks5r4ctIgaJpZM4NU_zM.\n. I'm interested to know as well how/where you catch errors. ",
    "BamiGorengo": "There change so much... nothing from that what i found on google works... i try now to make sience 14 hours, a function that output IsLoggedIn true / false.. nothing works. i tryed every single service that is listed in google.... this.afAuth.authState outputs everytime false.. thats my problem. I found this auth.service.ts and all i tryed dont work from this service: https://angularfirebase.com/snippets/angularfire2-version-4-authentication-service/\nbut when i use direct this.afAuth.authState it dosnt work to. i think there is anywhere a big bug.. ",
    "cjhill": "@jamesdaniels Awesome! Thanks a lot.. @jamesdaniels Awesome! Thanks a lot.. @patrickmcd Reason for the thumbs down?. @patrickmcd Reason for the thumbs down?. @markgoho Sorry about that :(. @markgoho Sorry about that :(. ",
    "elishaterada": "@leotm Plunkr will help but my immediate guess is that you forgot to do .val(). When you use preserveSnapshot option the returned values of objects needs to be accessed with .val(). E.g. data.val().name instead of data.name.. ",
    "leotm": "So just spent the past couple hours trying to get it working in Plunker.\nJUST spotted your Plunker Template.\nI'll be back.. Here's the plnkr.\nStill getting undefined. However, correct output in the console.\nAll looks fine in Realtime Firebase.\nAlso can't figure why deleting an item, deletes them all \ud83e\udd14\n(Btw, I don't have permish to reopen the issue). ",
    "listepo": "@jamesdaniels, when it will be in beta? I would help with testing.. ",
    "ankemp": "This is what I did for getting something from storage.\nIt works good, except in lists where data updates as it tries to re-load all of the items from storage again and I haven't taken the time to fix that.\n``` javascript\nimport { Pipe, PipeTransform, Inject } from '@angular/core';\nimport { FirebaseApp } from 'angularfire2';\nimport * as firebase from 'firebase';\n@Pipe({\n    name: 'fromStorage'\n})\nexport class FromStoragePipe implements PipeTransform {\n    private storageRef: any;\n    private bucket: string = 'gs://path-to-bucket';\nconstructor(\n    @Inject(FirebaseApp) firebaseApp: any\n) {\n    this.storageRef = firebase.storage(firebaseApp).refFromURL(this.bucket);\n}\n\ntransform(url: string): Promise<string> {\n    if (!url) {\n        return Promise.resolve('');\n    }\n    if (url && url.includes('http')) {\n        return Promise.resolve(url);\n    }\n    return this.storageRef.child(url).getDownloadURL();\n}\n\n}\n``. @ahmadalibalochAngularFirestore` isn't a provider\nYou just need to import the modules you want to use, in the case of firestore, AngularFirestoreModule. ",
    "littleninja": "I'm new to helping on open source projects but would be glad to assist with tests.\nSetting up on this branch, I ran into the Typescript 2.4 error that I think you already fixed with #1076 . Unless I missed something in the commit history on storage branch, could we merge changes from angular:master to fix the build? (I'll try to create a pull request to your storage branch if I'm able to beat you to it.). I'm getting a type error here: Type 'R' is not assignable to type 'UploadTaskSnapshot'. I'm still poking at it but maybe someone else has insight into RxJS observer patterns.. ",
    "tigercosmos": "Want to see it soon.. ",
    "cluskii": "I would be keen to see this released, let me know if there's anything I can help with.. ",
    "thesabareesh": "Hi @dbartholomae ,\nReloading the user is a great workaround until the email is not verified.  . ",
    "eat-sleep-code": "Thanks, the outlined code samples worked well.. For anyone who runs into a similar issue...\nIn addition to removing the errant curly brace that @jamesdaniels  pointed out, I had to:\n- type the db parameter of the getNavigation function.\n- remove the subscribe() that was shown in the documentation, but was not necessary in my use case.\nHere is my final working code: \n```\nimport { Component } from '@angular/core';\nimport { Observable}  from 'rxjs';\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\nimport { map } from 'rxjs/operators';\nimport { LogoComponent } from './logo.component';\n@Component({\n    selector: 'app-navigation',\n    templateUrl: './navigation.component.html'\n})\nexport class NavigationComponent {\n    items: Observable;\n    childItems: Observable;\nconstructor(db: AngularFireDatabase) {\n    this.items = this.getNavigation(db);\n    this.childItems = this.getNavigation(db);\n}\n\ngetNavigation(db: AngularFireDatabase): any {\n    return db.list('/pages', ref => {\n        let query = ref.limitToLast(100).orderByChild('sortOrder');\n        return query;\n    }).snapshotChanges().pipe(\n        map(pages => {\n            return pages.map(p => ({ key: p.key, ...p.payload.val() }));\n        })\n    );\n}\n\n}\n```. ",
    "byrotron": "Re-jig this comment. My issue had to do with the authorized domains. I was not using \"localhost\" as my domain and that was causing the error. Had to go to firebase->authentication->sign-in-method->oauth- redirect-domains and add my dev domain there. In my specific case, i had to change my domain from angular_skeleton -> angularskeleton.com in vhosts file and then add it to firebase. Hope this helps. ",
    "eltonplima": "I have the same problem. Any solution at all?\nIf I disable service worker, the auth works fine, otherwise, if enabled I only receive network error message.\nAuthorized domains its ok.\nThanks!. I found the the solution.. ",
    "ZuSe": "@davideast Should be possible. Is there any template for 4.0?\nI spent some time this morning on the issue and figured out that everythings works when I don't use the umd bundle in my system.js config\nBEFORE\n``\n        // ANGULARFIRE 2\n        additionalPackages.push({\n            name: 'angularfire2',\n            path:${this.NPM_BASE}angularfire2/bundles/angularfire2.umd.js`,\n            packageMeta: {\n              main: 'bundles/angularfire2.umd.js',\n                defaultExtension: 'js'\n            }\n```\nAFTER (WORKING):\n// ANGULARFIRE 2\n        additionalPackages.push({\n            name: 'angularfire2',\n            path: `${this.NPM_BASE}angularfire2/angularfire2.js`,\n            packageMeta: {\n              main: 'angularfire2.js',\n                defaultExtension: 'js'\n            }\n        });\nMaybe it gives you already an idea what my cause it. There is defenitly some problem when generating the bundle (missing export etc.) .. Whats the reason for not merging this? Many people that use SystemJS are waiting for this PR and seems to be a suitable workaround for the time till a proper solution is found. As it seems @davideast does not really have the time he needs atm.\n. I can confirm this.\nFun story. I have compiled the bundles last week my own from your feature branch. They do work for me.\nWhat did you change between Monday last week and the merge?. Hi @davideast \nseems to fix the problem. Are you going to push an updated version soon?. ",
    "sghaleb1": "This happened to me, it turned out I forgot to add the firebase config.\nexport const firebaseConfig = {\n    apiKey: \"\",\n    authDomain: \"\",\n    databaseURL: \"\",\n    projectId: \"\",\n    storageBucket: \",\n    messagingSenderId: \"\"\n}\n. @AlvaroRM88  in the app.module.\nthen declare it like so imports: [AngularFireModule.initializeApp(firebaseConfig)]. ",
    "AlvaroRM88": "@sghaleb1 Where exactly you add firebase config? I have add the config in /src/environments/environment.ts, but I'm having the same problem of InjectionToken . @sghaleb1 Thx for the answer, but I think my error is relationated with the version of angular cli and and firebase2.. ",
    "thorizer": "I have the same problem when trying to add my firebase database as a provider instead of inside my app.module.ts.\nthe problem is I need 2 providers since I have 2 databases in the same projects and I can only put one single config in app.module.ts.\n. @mhartington thanks a lot for the updated docs ! there is something missing thought . \nWhat if I want to implement firebase as a provider not just inside home.ts .. @almothafar How to call the right database in components ?\nEdit : I tried it now and I think the second configuration is just overwriting the first one.. ",
    "superstarmcawesome": "same problem here. injecting af-module in app-module. also tried all steps above. no success yet... any ideas? angular 4.1.3, firebase 4.1.2. Its working great, just one issue I have is that when i try to sign in with a popup/google..\nreturn this._af.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider()) \n      .catch(error => this._loggly.error('ERROR @ AuthService#signIn() :', error));\nI get an GoogleAuthProvider of undefined.... is this up and running in your app?. great! this is working!!! \ud83d\udc4d . ",
    "rahultyagiji": "I was able to solve it by updating angular core... I will post the working version number combinations later today. . ",
    "FurkanArslan": "Is there any solution?. Is there any solution?. ",
    "Thara45": "Is there any solution..Still i am struggling with this ... ",
    "kanomtang": "Is the problem on running  ng serve or ng test?. ",
    "Denisijcu": "Same problem is happening to me when I am tryng to use firestore . in nativescript\n. I have no problem in Angular 4.   Just in Nativescript . $ npm install firebase angularfire2      in angular 4.  this should work fine.   see this https://alligator.io/angular/cloud-firestore-angularfire/\n. ",
    "DiegoVenancioVieira": "TryAngularFireModule.initializeApp(environment.firebase), in app.module imports. ",
    "itszerocode": "I am having same problem... going crazy over this.. please help\n. ",
    "mbusbyHub": "I signed the CLA.. ",
    "BaranSaeed": "@sunilkconsultant Thanks, i will that in mind next time \ud83d\udc4d . ",
    "michaeI": "It could be nice to inform ppl about this breaking change in CHANGELOG file. . ",
    "AshwaniChoudhary": "My current fix is as follows:\n.catch((error: any ) => {\n  // Error handling\n}). ",
    "smark91": "Add firebase.FirebaseError type to error\n.catch ((error: firebase.FirebaseError) => {\n  console.log(error.code)}. firebase 4.3.0 doesn't fix the problem.\nIf you use Ionic Framework the online compile doesn't work and you can't \"npm install promise-polyfill\" there.. As other issue demontrate the solution is: npm install promise-polyfill --save-exact.\nUnfortunatly Ionic Dashboard doesn't allow to execute arbitrary command.\nSeems that the problem is related to firebase module. We need to open probably a issue in their repo.. ",
    "bangkitwira16": "@mukesh51 It still error though I run as admin, thanks. thanks for your suggestion @WebAddict , but it still getting me an error, thanks.\n. Nope, it still getting me an error\nOn Jul 15, 2017 11:32 AM, \"RicardoVM64\" notifications@github.com wrote:\n\nis there a solution already?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/979#issuecomment-315508998,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACkuQIGLW2_KI6BGfi5I18hDDXU3gn4fks5sOEDngaJpZM4NdhId\n.\n. So could you fixed it? Haha\n\nOn Jul 15, 2017 11:38 AM, \"RicardoVM64\" notifications@github.com wrote:\n\ngoddammit\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/979#issuecomment-315509220,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACkuQOXSa4i3T617jwARK9m_aBSheO75ks5sOEJVgaJpZM4NdhId\n.\n. Nope dude's lol\n\nOn Jul 15, 2017 11:45 AM, \"RicardoVM64\" notifications@github.com wrote:\n\nnah, and you? lol -_-\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/979#issuecomment-315509467,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACkuQLlo3JXzZHVItUZThi8Z4O2oIigZks5sOEQGgaJpZM4NdhId\n.\n. \n",
    "carloshenriqueribeiro": "@WebAddict  it works for me! thankU!. ",
    "ashwindaniel": "I was getting the same kinda error. Not exact this issue. So I tried looking on working projects.\nThe compatible version of the angularfire seems to be:\nnpm install angularfire2@5.0.0-rc.4 firebase@4.6.2 --save\nif the issue still persists maybe because of incompatible gyp since firebase use gyp to unpack.\ndo npm install node-gyp --save-dev\nmaybe your issue may get resolved.. ",
    "draysams": "@ashwindaniel Thanks a lot. That solved it issue. . ",
    "RajCollection": "@ashwindaniel Thanks you.  its working. ",
    "dkkishor": "Sure, Thanks.. ",
    "xpratpa": "+1. ",
    "Purus": "Any plans for have documentation for the same?. Thanks for the link @markgoho. Is there anything specific to AngularFire way of implementation? . ",
    "pranavkeke": "Can anyone tell me the complete code of Angular2 firebase phone number authentication. I am not getting it from Google.\nPlease help me anyone? Thanks in advance. Its urgent.. ",
    "Sagar-AppLogics": "I've managed to inject all auth methods into a service, and it works perfect for all social options and email login/signup (havent testing reset password and resend verification email yet). I am having the same issue as @psingl - I'm getting the same old error with my recatcha component - reCAPTCHA container is either not found or already contains inner elements!...\nI have instantiated the recaptcha object inside a div as a widget, I have also tried to implement an invisible one - no luck!. CORRECTION! I had initially instantiated this inside the constructor and got an error - i moved the creation of the recaptcha to the ngOnInit(){} and bingo - it all came to life! . @davideast (Thanks for all the great tutorials)\nI have declared:\nphoneRecaptchaVerifier: firebase.auth.RecaptchaVerifier;\nI had initially instantiated this recaptcha var from inside the constructor() and got an error in the console:\nreCAPTCHA container is either not found or already contains inner elements!.\nI moved the function to ngOnInit(){} and it all seems to work so far i.e. its displaying and the recaptcha component seems to work.\nAlthough this works it does not seem to be documented anywhere (for angularfire2) and secondly - why does it make a difference?\nNow... Currently I'm getting the 6 digit sms code however not quite sure what to do next, back to the docs.. Ok,\nI'm all set and I can confirm I am now able to sign in via mobile from angular!\nMake sure if you want to use the ReCaptcha as a widget, ensure that that the containing div is created when the object is initialized. \nI prefer the 'invisible' method, so I first put an empty div somewhere on my html page:\n<div id=\"phone-sign-in-recaptcha\"></div>\ndeclared phoneRecaptchaVerifier: firebase.auth.RecaptchaVerifier;\nand inside ngOnInit() i have instantiated it:\nthis.phoneRecaptchaVerifier = new firebase.auth.RecaptchaVerifier('phone-sign-in-recaptcha', {\n  'size': 'invisible',\n  'callback': function(response) {\n    // reCAPTCHA solved - will proceed with submit function\n  },\n  'expired-callback': function() {\n    // Reset reCAPTCHA?\n  }\n});\nThe form submit function which is fired when the recaptcha is solved is:\nthis.auth.signInWithPhoneNumber(phoneNumber, this.phoneRecaptchaVerifier).then(function(confirmationResult){\n  var code = prompt(`We have send a code to ${phoneNumber}, please enter it here`, \"\");\n  if (code) {\n    confirmationResult.confirm(code).then(function (result) {\n      // User signed in successfully.\n      // Reset reCAPTCHA?\n      // ...\n    }).catch(function (error) {\n      // User couldn't sign in (bad verification code?)\n      // Reset reCAPTCHA?\n      // ...\n    });\n  }\n}).catch(function(error){\n  console.log(error.message);\n});\nNow in all of this, the only this that is causing me any issue now - is the inability to reset the recaptcha in code - , firebase web docs state I should be using: grecaptcha.reset()  however, this function does seem to exisit in firebase or angularfire2. Any advice?. Hi all,\nTried the following to reset the recaptcha,\n installed @type/grecaptcha\nthe definitions now show i.e. there are no errors highlighted, yet this fails with the notorious black screen displaying: \n```\nFailed to compile.\n/Users/[username]/Documents/Firebase Projects/[project]/src/app/auth/[componentName]/[componentName].component.ts ([line],[col]): Cannot find name 'grecaptcha'.\n```\nI've added various angular2 from NPM (Angular 2 Google reCaptcha)- Google reCaptcha but they don't expose a function that allows me to reset the reCaptcha with the widget id.\nthis is essential to most and required for projects with phone auth enabled, and from what I can see there is no solution available yet.. Hi All,\nFound the solution!\nInstall the types definitions to get rid of the squiggly lines in your .ts file.\nnpm install types/grecaptcha --save\nnow wherever you wish to use this variable declare it in your component.module.ts just after imports e.g.\n```\nimport {}.........\ndeclare var grecaptcha: any;\ndeclare var $: any;\n....\n``\nwhenever you call these Global's don't make the mistake of usingthis.grecaptcha.reset(widgetId), access it asgrecaptcha.reset(widgetId)`.\nI have tested this extensively (to the point where I received to following: We have blocked all requests from this device due to unusual activity. Try again later.) and it is working perfectly now \ud83e\udd13 . OoOo Yeah!\nNOTE:\nIn the below example you can see how I've also added the var $ for JQuery, if you did want to add jquery, make sure you either add the script tag to a JQuery CDN script file, or npm install jquery --save and reference\"./../node_modules/jquery/dist/jquery.min.js\", you should also add the type def's with npm install @types/jquery.\n. Hi @Faisal0sal - Im not using ionic, I have tried of mobile device and desktop browsers successfully.\nHi @Abby3017 - the best explanation I could have given without talking too much about my assumptions - for they are just that but as your asking, I'll try my best. \nFrom my understanding the firebase SDK includes grecaptcha. This is a global variable in a normal javascript environment.\nAngularFire2 is a wrapper around that firebase SDK, however, the nature of angular means that it is not possible to access the grecaptcha variable from within a component.\nSo to make Angular \"aware\" of grecaptcha install the types definition, this will aid in code completion and compilation.\nYou must declare grecaptcha as a variable to remove any errors.\nYou must also access it not via this.grecaptcha..... but just grecaptcha.\nTo understand this properly - you must understand how the SDK exposes functions and their scope, and how the AngularFire2 wrapper exposes to Angular + scope, not to forget how Angular itself actually works and isolates javascript between components.. CORRECTION! I had initially instantiated this inside the constructor and got an error - i moved the creation of the recaptcha to the ngOnInit(){} and bingo - it all came to life! \nWhy ? couldnt tell you.\nNow i'm getting the 6 digit SMS Code but not sure what to do next, any pointers?. ",
    "niilante": "Update. ",
    "avilao": "Hi\nThe problem is Before they have a new password. if you have 3 fields:\n- Current Password\n- New Password\n- Repeat New Password\nand if you need to validate that the current password is correct you have to use the reauthenticate?. ",
    "jorgeucano": "Isn't a bug,\n@Gandomak For nativescript you need other library, not angularfire2.\nYou need https://github.com/EddyVerbruggen/nativescript-plugin-firebase. Hi @Supamiu , I'm try tu run your code and have a issues\n\nI'm use this versions : \n\nCould you tell me which branch the WebApp is working?\n. I'm create a dummy project and work perfect whit the last version of angular / firebase / angularfire2 ... \n\n\nMy recommendation is : \n\nrm -rf node_modules\nrm package-lock.json\nnpm uninstall firebase angularfire2\nnpm install\nnpm install firebase@4.10.1 angularfire2@5.0.0-rc.6 --save\n. ",
    "Faisal0sal": "@Sagar-AppLogics Are you using this with ionic? Has it worked in browser or in real devices? because the recaptcha is not showing in real devices using ionic once I tried it. ",
    "mkwsra": "for ionic, Guys just follow this tutorial  https://javebratt.com/firebase-phone-authentication/. @Sagar-AppLogics  for ionic, just follow this tutorial  https://javebratt.com/firebase-phone-authentication/. ",
    "Ali762": "To save the click, as of 10 Aug 17, mkwsra's link does not work for ionic on devices. Same problem with the recapthca requirement on firebase phone auth. Still looking for the answer myself........ ",
    "Abby3017": "I was also getting the similar error when using grecaptcha and then used the way you described.\n@Sagar-AppLogics @davideast , can anyone explain the logic behind that. Thanks for your insight @Sagar-AppLogics  and I studied about them. It would be great help if you can provide any material to look how library like angularfire2 wrap around angular and exposes the variable.\nContributor of AngularFire2 any help in this regard would be appreciated. . ",
    "TKlarissa": "hi i am doing phone number auth with ionic and i want to remove recaptcha .\nthe form is working ....i don't want the recaptcha again..\ncan someone help. ",
    "prajwalgp": "@TKlarissa  You can use the firebase native plugin to achieve the phone number authentication.\nLink to the plugin: firebase. @TKlarissa  You can use the firebase native plugin to achieve the phone number authentication.\nLink to the plugin: firebase. ",
    "maitham1": "did you figure this out?\n. ",
    "jofftiquez": "@maitham1 No not yet. But I started a new boilerplate using webpack.. @schmitzt3 Thanks for adding an alternative solution, this might help others. . @andreev-artem Thanks for the info. For future readers : I'll keep this open in case some one figured out a solution. As for me, I switched to angular cli.. Thanks @davideast :). @markgoho done. thanks! :) . ",
    "andreev-artem": "Actually bundles look broken atm: bundles/angularfire2.umd.js doesn't contain anything related to database or auth. So looks like the only way to use angularfire2 for now (if you want to use official distrib) is to use any bundler with es6 modules generated from typescript modules.. ",
    "Ravslee": "I am getting the same error, please help @davideast . I am getting the same error, please help @davideast . ",
    "yorbenyspr": "Here an system.js config file that might help, it works for me:\n/*\n * System configuration for Angular samples\n * Adjust as necessary for your application needs.\n /\n(function (global) {\n    System.config({\n        paths: {\n            // paths serve as alias\n            'npm:': '/node_modules/'\n        },\n        // map tells the System loader where to look for things\n        map: {\n            // our app is within the app folder\n            app: '/app',\n        // angular bundles\n        '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n        '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n        '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n        '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n        '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n        '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n        '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n        '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n        // other libraries\n        'rxjs': 'npm:rxjs',\n        'angular-in-memory-web-api': 'npm:angular-in-memory-web-api/bundles/in-memory-web-api.umd.js',\n        'firebase': 'npm:firebase',\n        'firebase/app': 'npm:firebase/app',\n        'firebase/auth': 'npm:firebase/auth',\n        '@firebase/app': 'npm:@firebase/app/dist/cjs',\n        '@firebase/auth': 'npm:@firebase/auth/dist',\n        '@firebase/polyfill': 'npm:@firebase/polyfill/dist/cjs',\n        '@firebase/util': 'npm:@firebase/util/dist/cjs',\n        'promise-polyfill':'npm:promise-polyfill',\n        // Firebase libraries\n        'angularfire2': 'npm:angularfire2/bundles/core.umd.js',\n        'angularfire2/database': 'npm:angularfire2/bundles/database.umd.js',\n        'angularfire2/auth': 'npm:angularfire2/bundles/auth.umd.js',\n    },\n    // packages tells the System loader how to load when no filename and/or no extension\n    packages: {\n        app: {\n            main: 'main.js', defaultExtension: 'js'\n        },\n        rxjs: {\n            defaultExtension: 'js'\n        }\n        ,\n        'firebase': { defaultExtension: 'js', main: './firebase.js' },\n        'firebase/app': { defaultExtension: 'js', main: './index.js' },\n        'firebase/auth': { defaultExtension: 'js', main: './index.js' },\n        '@firebase/app': { defaultExtension: 'js', main: './index.js' },\n        '@firebase/auth': { defaultExtension: 'js', main: './auth.js' },\n        '@firebase/polyfill': { defaultExtension: 'js', main: './index.js' },\n        '@firebase/util': { defaultExtension: 'js', main: './index.js' },\n        'promise-polyfill': { defaultExtension: 'js', main: './promise.js' }\n    }\n});\n\n})(this);. ",
    "AnthonyNahas": "I was recently facing the same problem... \nTo solve the issue, I adapted my SystemJS configuration for my ngx-auth-firebaseui package. I posted the configuration here. I fixed a similar problem in @ngx-translate/core. Please take a look to my comment \nhere.\nor even better the full explanation\ni did it locally too for the angularfire2 module.\nI used the cli of babel to compile all js file into es5 - commonjs so that i can use them in nodejs (express) with angular universal --> finally no more SyntaxError: Unexpected token import!. @mrugesh008 For my ngx-auth-firebaseui package, I am using the following systemJS configuration that support\n\nangular\nangularfire2 (incl. auth, firestore...)\nfirebase\n\nand it's working like a Mercedes ;) \ud83e\udd47 \nso if you adapt your systemJS config like mine, I believe that you app will work better... \ud83d\udcaf \n```js\n'use strict';\n/*\n * System configuration for Angular samples\n * Adjust as necessary for your application needs.\n /\n(function () {\n    System.config({\n    paths: {\n        // paths serve as alias\n        'npm:': '../node_modules/',\n        \"tslib\": \"node_modules/tslib/tslib.js\"\n    },\n    // map tells the System loader where to look for things\n    map: {\n        // our app is within the app folder\n        app: 'app',\n\n        // angular bundles\n        '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n        '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n        '@angular/common/http': 'npm:@angular/common/bundles/common-http.umd.js',\n        '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n        '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n        '@angular/platform-browser/animations': 'npm:@angular/platform-browser/bundles/platform-browser-animations.umd.js',\n        '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n        '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n        '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n        '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n        '@angular/animations': 'npm:@angular/animations/bundles/animations.umd.js',\n        '@angular/animations/browser': 'npm:@angular/animations/bundles/animations-browser.umd.js',\n        '@angular/material': 'npm:@angular/material/bundles/material.umd.js',\n        '@angular/cdk': 'npm:@angular/cdk/bundles/cdk.umd.js',\n        '@angular/cdk/a11y': 'npm:/@angular/cdk/bundles/cdk-a11y.umd.js',\n        '@angular/cdk/accordion': 'npm:/@angular/cdk/bundles/cdk-accordion.umd.js',\n        '@angular/cdk/bidi': 'npm:/@angular/cdk/bundles/cdk-bidi.umd.js',\n        '@angular/cdk/observers': 'npm:/@angular/cdk/bundles/cdk-observers.umd.js',\n        '@angular/cdk/overlay': 'npm:/@angular/cdk/bundles/cdk-overlay.umd.js',\n        '@angular/cdk/portal': 'npm:/@angular/cdk/bundles/cdk-portal.umd.js',\n        '@angular/cdk/scrolling': 'npm:/@angular/cdk/bundles/cdk-scrolling.umd.js',\n        '@angular/cdk/platform': 'npm:/@angular/cdk/bundles/cdk-platform.umd.js',\n        '@angular/cdk/keycodes': 'npm:/@angular/cdk/bundles/cdk-keycodes.umd.js',\n        '@angular/cdk/coercion': 'npm:/@angular/cdk/bundles/cdk-coercion.umd.js',\n        '@angular/cdk/collections': 'npm:/@angular/cdk/bundles/cdk-collections.umd.js',\n        '@angular/cdk/layout': 'npm:/@angular/cdk/bundles/cdk-layout.umd.js',\n        '@angular/cdk/rxjs': 'npm:/@angular/cdk/bundles/cdk-rxjs.umd.js',\n        '@angular/cdk/stepper': 'npm:/@angular/cdk/bundles/cdk-stepper.umd.js',\n        '@angular/cdk/table': 'npm:/@angular/cdk/bundles/cdk-table.umd.js',\n        '@angular/flex-layout': 'npm:@angular/flex-layout/bundles/flex-layout.umd.js',\n\n        // other libraries\n        rxjs: 'npm:rxjs',\n        'angular-in-memory-web-api': 'npm:angular-in-memory-web-api/bundles/in-memory-web-api.umd.js',\n        'firebase': 'npm:firebase',\n        'firebase/app': 'npm:firebase/app',\n        'firebase/auth': 'npm:firebase/auth',\n        'firebase/firestore': 'npm:firebase/firestore',\n        '@firebase/app': 'npm:@firebase/app/dist/cjs',\n        '@firebase/auth': 'npm:@firebase/auth/dist',\n        '@firebase/firestore': 'npm:@firebase/firestore/dist/cjs',\n        '@firebase/polyfill': 'npm:@firebase/polyfill/dist/cjs',\n        '@firebase/util': 'npm:@firebase/util/dist/cjs',\n        '@firebase/webchannel-wrapper': 'npm:@firebase/webchannel-wrapper/dist',\n        'promise-polyfill': 'npm:promise-polyfill',\n        // Firebase libraries\n        'angularfire2': 'npm:angularfire2/bundles/core.umd.js',\n        'angularfire2/database': 'npm:angularfire2/bundles/database.umd.js',\n        'angularfire2/auth': 'npm:angularfire2/bundles/auth.umd.js',\n        'angularfire2/firestore': 'npm:angularfire2/bundles/firestore.umd.js',\n        'ngx-auth-firebaseui': '../dist'\n    },\n    // packages tells the System loader how to load when no filename and/or no extension\n    packages: {\n        app: {\n            defaultExtension: 'js',\n            meta: {\n                './*.js': {\n                    loader: 'systemjs-angular-loader.js'\n                }\n            }\n        },\n        rxjs: {\n            defaultExtension: 'js'\n        },\n        'firebase': {defaultExtension: 'js', main: './firebase.js'},\n        'firebase/app': {defaultExtension: 'js', main: './index.js'},\n        'firebase/auth': {defaultExtension: 'js', main: './index.js'},\n        'firebase/firestore': {defaultExtension: 'js', main: './index.js'},\n        '@firebase/app': {defaultExtension: 'js', main: './index.js'},\n        '@firebase/auth': {defaultExtension: 'js', main: './auth.js'},\n        '@firebase/firestore': {defaultExtension: 'js', main: './index.js'},\n        '@firebase/polyfill': {defaultExtension: 'js', main: './index.js'},\n        '@firebase/util': {defaultExtension: 'js', main: './index.js'},\n        '@firebase/webchannel-wrapper': {defaultExtension: 'js', main: './index.js'},\n        'promise-polyfill': {defaultExtension: 'js', main: './promise.js'},\n        'ngx-auth-firebaseui': {\n            main: 'ngx-auth-firebaseui.umd.js',\n            defaultExtension: 'js'\n        }\n    },\n});\n\n})(this);\n``. 1. why did you use cookies strategy instead of headers ?\n2. Can you please provide a brief workflow to the ssr authentication (incl. how can the firebase team enhance the authentication module to support server side rendering...). @JiaLiPassion   I am not sure why import 'zone.js' --> I think that fixed the problem when angularfire is running outside angular... like in nodejs for server side rendering... \nAnyway, I am getting the same error after updating **angularfire2** to version5.0.0-rc.7`!\nDowngrading is in progress \ud83d\udce6 ... This helps!. ",
    "ultrasaurus": "just created a new project and got a warning when adding angularfire2 -- this looks like it would address the issue\n@angular/cli: 1.0.6 generates an app with angular 4.0.0\nThen I get the following warning, but it looks like Firebase 4.0.0 is installed anyhow\nyarn add firebase angularfire2\nyarn add v0.24.6\n[1/4] \ud83d\udd0d  Resolving packages...\n[2/4] \ud83d\ude9a  Fetching packages...\n[3/4] \ud83d\udd17  Linking dependencies...\nwarning \"angularfire2@4.0.0-rc.0\" has incorrect peer dependency \"firebase@^3.6.6\".\n[4/4] \ud83d\udcc3  Building fresh packages...\nsuccess Saved lockfile.\nsuccess Saved 19 new dependencies.\n\u251c\u2500 angularfire2@4.0.0-rc.0\n\u251c\u2500 base64url@2.0.0\n\u251c\u2500 buffer-equal-constant-time@1.0.1\n\u251c\u2500 dom-storage@2.0.2\n\u251c\u2500 ecdsa-sig-formatter@1.0.9\n\u251c\u2500 faye-websocket@0.9.3\n\u251c\u2500 firebase@4.0.0\n\u251c\u2500 isemail@1.2.0\n\u251c\u2500 joi@6.10.1\n\u251c\u2500 jsonwebtoken@7.4.1\n\u251c\u2500 jwa@1.1.5\n\u251c\u2500 jws@3.1.4\n\u251c\u2500 lodash.once@4.1.1\n\u251c\u2500 moment@2.18.1\n\u251c\u2500 ms@2.0.0\n\u251c\u2500 promise-polyfill@6.0.2\n\u251c\u2500 topo@1.1.0\n\u251c\u2500 xmlhttprequest@1.8.0\n\u2514\u2500 xtend@4.0.1\n. ",
    "karol-depka": "Hi. Was this released in rc1?\nI'm getting warning \"angularfire2@4.0.0-rc.1\" has unmet peer dependency \"firebase@^4.0.0\". on yarn.. ",
    "b-area": "We will try to upgrade. Thank you.. ",
    "JacquesSchalkwyk": "Hi all.  This is gramps trying to learn how to code.  I am following the example on https://github.com/angular/angularfire2/blob/master/docs/6-angularfire-and-ionic-cli.md but I get this error.\nI am a total newbie and need assistance.\n\n. ",
    "dimitri320": "Same with me, tried both with @latest and without and in every case my App now crashes. Before everything was totally fine! This is the error I'm getting:\nTypescript Error\nDuplicate identifier 'Promise'.\nnode_modules/angularfire2/node_modules/firebase/firebase.d.ts. ",
    "jeaber": "I'm getting this issue currently. \n\"firebase\": \"^4.3.0\",\n\"angularfire2\": \"^4.0.0-rc0\"\nAny suggestions?. Installed firebase@4.0.0 and the problem went away.. ",
    "sandygithub17": "I used angularfire2 latest version( \"angularfire2\": \"^5.0.0-rc.10\") and  firebase version (\"firebase\": \"^5.0.4\")\nbut I have like this has no exported member'AngulerFireAuthModule'`. ",
    "mhartington": "Ionic's CLI does not generate a environment.ts by default, so users would have to make that themselves.  I can add that though. . ",
    "alesmit": "Hi @REPTILEHAUS \nYou can put your .list() requests inside an array and use Observable.forkJoin to subscribe to them all together.\n```\ngetProfiles() {\nconst profileIds = [id1, id2, id3, id4];\n  const profiles = profileIds.map((profileId) => this.db.list(/users/${profileId}/profile));\nObservable.forkJoin(profiles).subscribe(([profile1, profile2, profile3, profile4]) => {\n    console.log(profile1);\n    console.log(profile2);\n    console.log(profile3);\n    console.log(profile4);\n  });\n}\n``\n. If I can use the.unlink()` to log-out a user from a provider only, it should be ok!\nThanks.. ",
    "fxck": "I'm trying to wrap my head around it. Does this mean that what I'm trying to do is impossible, or that the source observable should be the Firebase observable?. ",
    "NULL-SWEAT": "This documentation is incorrect, I'm trying to get the Facebook cordova plugin to work but following this doc gives me errors.\nMy web facebook login is like this and it's working:\n```\nconstructor(public auth$: AngularFireAuth) {\n        this.authState = auth$.getAuth();\n        auth$.subscribe((state: FirebaseAuthState) => {\n            this.authState = state;\n        });\n    }\nsignInWithFacebook(): firebase.Promise {\n        return this.auth$.login({\n            provider: AuthProviders.Facebook,\n            method: AuthMethods.Popup\n        });\n    }\nI haven't tested but this sign out doesn't throw any errors:\nsignOut(): void {\n        this.auth$.logout();\n    }\n```. ",
    "bblanke": "I'm in the same boat!. ",
    "zoharyosef": "Well, it works alright when following the installation & setup guide step by step.\nOnly happened when I tried adding it to the angular 4 starter project.\n. ",
    "PeterDavidCarter": "Any progress? Can confirm this is still an issue with Firebase version 4.1.1.. Why should I have had to install a new npm package to fix an issue with a previously perfectly working repo when no changes to the code in the repo were made? This should not happen.. ",
    "tushamsbe": "Thanks. That solved my problem.. ",
    "jonas99y": "I signed it!. ",
    "AndradeSoto": "Sorry @markgoho but how to use the import 'firebase/storage' \n**'import * as firebaseStorge from 'firebase/storage';\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\nstorageAvatarRef: any;\n  constructor(public navCtrl: NavController,\n              public platform: Platform,\n              private pdfmake: PdfmakeService,\n              ) \n    {\n        this.storageAvatarRef = firebaseStorge.ref.getDownloadURL;\n    }\nWhen i run the server i get this\n[Error]\ncore.es5.js:1084 \nERROR Error: Uncaught (in promise): TypeError: Cannot read property 'getDownloadURL' of undefined\nTypeError: Cannot read property 'getDownloadURL' of undefined\n    at new HomePage (home.ts:25)\n    at createClass (core.es5.js:10883)\n    at createDirectiveInstance (core.es5.js:10701)\n    at createViewNodes (core.es5.js:12064)\n    at createRootView (core.es5.js:11969)\n    at callWithDebugContext (core.es5.js:13184)\n    at Object.debugCreateRootView [\n. ",
    "chunxchun": "try this:\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';. in my case, I put both lines in a provider  (not in Module) and then inject it to components that need access to the firebase storage, and no need to import  { FirebaseApp } from 'angularfire2' anymore.\nSo in util-provider.ts:\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from \n'angularfire2/database';\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\n//import { FirebaseApp } from 'angularfire2';\nand then in the component: \nimport { UtilProvider } from '../../providers/util-provider';\nconstructor(public util: UtilProvider) {}. and I think the ref in your code should be \nlet storageRef = firebase.storage().ref();\ninstead of \nlet storageRef = this.fb.storage().ref();. ",
    "pk359": "@markgoho I agree there are many response to this kind of issue. But after 120 google search and looking to issues finally found this one, which you referred to as \n\"Please search the issues before posting an error like this. It's been asked and answered a few times already.\" \nbut you are the only one who gave a simple and most clear answer. works. thanks. \nBut no question is a dumb question. the way information are presented may not be understood by everyone. . ",
    "sascha1337": "+1 sean-hill this worked for me thx . ",
    "aliwaqassi": "Thanks @sean-hill You saved my day. Thanks @sean-hill You saved my day. ",
    "fcampinho": "Thanks: @chunxchun it works perfectly.. ",
    "thanhtung90": "Thank @sean-hill, my case, I just need Auth and it's worked. ",
    "maximdevFR": "good. ",
    "FahadPervaiz": "Mine worked by removing AngularFireAuth  Thanks @sean-hill  . ",
    "rsRamgharia": "\ntry this:\nimport * as firebase from 'firebase/app';\nimport 'firebase/storage';\n\nit works for me..thanks. Thanku my problem solved.... ",
    "lenvaz": "Actually the path for importing \"promise-polyfill\" dependency is given to original node_module folder.. so instead of manually editing it and creating chances of messing up other things, its better to install promise-polyfill through npm.. like how Mr.ghost has mentioned above.. ",
    "DavidFrahm": "Similar to @smark91, in my Ionic project I could run locally just fine (ionic serve) but the ionic upload command to build and upload to their cloud services failed with this same issue:\nError: ./node_modules/firebase/utils/promise.js\nModule not found: Error: Can't resolve 'promise-polyfill' in '/Users/david/Projects/my-app/node_modules/firebase/utils'\nMy relevant dependencies:\n\"angularfire2\": \"^4.0.0-rc.2\",\n    \"firebase\": \"^4.3.0\",\nPlease advise if this seems like a new issue, an issue for Ionic team, or other.. See also https://github.com/angular/angularfire2/issues/1055\nWhich was closed, but it seems to me like the promise-polyfill dep should be automagically handled by the parent dep.. ",
    "NickKirschke": "I am having the same issue. Very frustrating. No problems locally, only with building on ionic. @MaciejCaputa That worked! Thank you for your help!. ",
    "benjimeltzer": "I am having the same issue as @smark91 and @DavidFrahm. The project is running perfectly locally, however it is not running on uploading the project. Is there any update here?. Worked perfectly, thanks @MaciejCaputa . ",
    "MaciejCaputa": "@smark91, @NickKirschke, @benjanisa current solution (I came up with it once reading this issue) would be to run npm install promise-polyfill --save (note that it is not the same as --save-exact which doesn't modify package.json itself, only the node_modules). This way Ionic build will install everything from package.json including the promise-polyfill.. ",
    "ryokk94": "same for AuthMethods and AuthProviders. ",
    "swftvsn": "OK, trying to wrap my head around this. Please bear with me, it's a long post and any pointers are welcome.\nFor background our project has a bit of history, and when Firestore came available, we couldn't enable it in our project because we used datastore in the app engine side of the project. Hence we have user authentication and realtime database in project1 and firestore database in project2. We obviously authenticate the users for both projects using one login and for that we need also two Auths.\nWe use service classes that handle all interactions with firestore, divided per domain if the size grows too much like this: \n```ts\n@Injectable()\nexport class UserAddressService {\nconstructor(\n    private errorHandler: ErrorHandler,\n    private firestore: AngularFirestore\n  ) { }\npublic async addNewPrimaryAddress(address: Address): Promise {\n    // compute search indexes etc.\n    const batch = this.firestore.firestore.batch()\n    // add all that needs to be added / updated / deleted..\n    return batch.commit()\n  }\n}\n```\nNow, how can I differentiate to which project the injected AngularFirestore connects to? We also have plans to use third project to host data that only a back office app uses and this back office app will need to connect to all three projects, so I'm not too keen to initialize the databases over and over again in different components.\n@jamesdaniels I'm extremely interested in the two (or more) modules setup mentioned in https://github.com/angular/angularfire2/issues/1567#issuecomment-386722529 can you elaborate a bit more?\nI tried to \nts\n@NgModule({\n  imports: [\n    AngularFireModule.initializeApp(environment.project2FirebaseConfig, 'project2'),\n    AngularFireAuthModule,\n    AngularFireDatabaseModule,\n    AngularFirestoreModule,\n    AngularFireStorageModule,\n  ]\n})\nexport class Project2FirebaseModule {\n  static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: Project2FirebaseModule,\n      providers: [\n        { provide: Project2FirebaseApp, useExisting: FirebaseApp },\n        { provide: Project2AngularFirestore, useExisting: AngularFirestore },\n        { provide: Project2AngularFireAuth, useExisting: AngularFireAuth },\n        { provide: Project2AngularFireDatabase, useExisting: AngularFireDatabase }\n      ]\n    };\n  }\n}\nand then later in my main module\nts\nimports: [\n    Project2FirebaseModule.forRoot(),\n    AngularFireModule.initializeApp(environment.project1FirebaseConfig, 'project1'),\n    AngularFireAuthModule,\n    AngularFireDatabaseModule,\n    AngularFirestoreModule,\n    AngularFireStorageModule,\n   ...\nbut no luck, it fails with this:\n\n\n\u00a0 | console.(anonymous function) | @ | console.js:35\n-- | -- | -- | --\n\u00a0 | defaultLogHandler | @ | index.esm.js:77\n\u00a0 | push../node_modules/@firebase/logger/dist/index.esm.js.Logger.error | @ | index.esm.js:167\n\u00a0 | error | @ | index.cjs.js:99\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.OnlineStateTracker.logClientOfflineWarningIfNecessary | @ | index.cjs.js:13284\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.OnlineStateTracker.handleWatchStreamFailure | @ | index.cjs.js:13254\n\u00a0 | (anonymous) | @ | index.cjs.js:13540\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | awaiter | @ | tslib.es6.js:61\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.onWatchStreamClose | @ | index.cjs.js:13536\n\u00a0 | (anonymous) | @ | index.cjs.js:12684\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.close | @ | index.cjs.js:12650\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.handleStreamClose | @ | index.cjs.js:12787\n\u00a0 | (anonymous) | @ | index.cjs.js:12751\n\u00a0 | (anonymous) | @ | index.cjs.js:12732\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | (anonymous) | @ | index.cjs.js:12728\n\u00a0 | (anonymous) | @ | index.cjs.js:12204\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | XMLHttpRequest.send (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2969\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:3001\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1328\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.fa | @ | index.js:65\n\u00a0 | Xc | @ | index.js:35\n\u00a0 | Yc | @ | index.js:34\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.Pa | @ | index.js:81\n\u00a0 | Vb | @ | index.js:29\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | XMLHttpRequest.send (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2969\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:3001\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1328\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.fa | @ | index.js:65\n\u00a0 | Xc | @ | index.js:35\n\u00a0 | Vc | @ | index.js:34\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.Qa | @ | index.js:77\n\u00a0 | (anonymous) | @ | index.js:33\n\u00a0 | wrapped | @ | raven.js:375\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:496\n\u00a0 | ZoneTask.invoke | @ | zone.js:485\n\u00a0 | timer | @ | zone.js:2054\n\u00a0 | setTimeout (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2075\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:2090\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1097\n\u00a0 | Ec | @ | index.js:33\n\u00a0 | Fe | @ | index.js:74\n\u00a0 | Td | @ | index.js:82\n\u00a0 | Sd | @ | index.js:55\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.fb | @ | index.js:96\n\u00a0 | sendFn | @ | index.cjs.js:5982\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.StreamBridge.send | @ | index.cjs.js:5799\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.sendRequest | @ | index.cjs.js:12613\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentListenStream.watch | @ | index.cjs.js:12829\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.sendWatchRequest | @ | index.cjs.js:13476\n\u00a0 | (anonymous) | @ | index.cjs.js:13529\n\u00a0 | forEachNumber | @ | index.cjs.js:433\n\u00a0 | (anonymous) | @ | index.cjs.js:13528\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.onWatchStreamOpen | @ | index.cjs.js:13523\n\u00a0 | (anonymous) | @ | index.cjs.js:12746\n\u00a0 | (anonymous) | @ | index.cjs.js:12732\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | (anonymous) | @ | index.cjs.js:12728\n\u00a0 | (anonymous) | @ | index.cjs.js:12204\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | ZoneTask.invoke | @ | zone.js:485\n\u00a0 | timer | @ | zone.js:2054\n\u00a0 | setTimeout (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2075\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:2090\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1097\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.WebChannelConnection.openStream | @ | index.cjs.js:6067\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentListenStream.startRpc | @ | index.cjs.js:12806\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.startStream | @ | index.cjs.js:12740\n\u00a0 | (anonymous) | @ | index.cjs.js:12703\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | ZoneTask.invoke | @ | zone.js:485\n\u00a0 | timer | @ | zone.js:2054\n\u00a0 | setTimeout (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2075\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:2090\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1097\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.DelayedOperation.start | @ | index.cjs.js:12139\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.DelayedOperation.createAndSchedule | @ | index.cjs.js:12130\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.AsyncQueue.enqueueAfterDelay | @ | index.cjs.js:12242\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.ExponentialBackoff.backoffAndRun | @ | index.cjs.js:12403\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.performBackoff | @ | index.cjs.js:12765\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.start | @ | index.cjs.js:12561\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.startWatchStream | @ | index.cjs.js:13498\n\u00a0 | (anonymous) | @ | index.cjs.js:13543\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.onWatchStreamClose | @ | index.cjs.js:13536\n\u00a0 | (anonymous) | @ | index.cjs.js:12684\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.close | @ | index.cjs.js:12650\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.handleStreamClose | @ | index.cjs.js:12787\n\u00a0 | (anonymous) | @ | index.cjs.js:12751\n\u00a0 | (anonymous) | @ | index.cjs.js:12732\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | (anonymous) | @ | index.cjs.js:12728\n\u00a0 | (anonymous) | @ | index.cjs.js:12204\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | XMLHttpRequest.send (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2969\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:3001\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1328\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.fa | @ | index.js:65\n\u00a0 | Xc | @ | index.js:35\n\u00a0 | Yc | @ | index.js:34\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.Pa | @ | index.js:81\n\u00a0 | Vb | @ | index.js:29\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | XMLHttpRequest.send (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2969\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:3001\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1328\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.fa | @ | index.js:65\n\u00a0 | Xc | @ | index.js:35\n\u00a0 | Vc | @ | index.js:34\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.Qa | @ | index.js:77\n\u00a0 | (anonymous) | @ | index.js:33\n\u00a0 | wrapped | @ | raven.js:375\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:496\n\u00a0 | ZoneTask.invoke | @ | zone.js:485\n\u00a0 | timer | @ | zone.js:2054\n\u00a0 | setTimeout (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2075\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:2090\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1097\n\u00a0 | Ec | @ | index.js:33\n\u00a0 | Fe | @ | index.js:74\n\u00a0 | Td | @ | index.js:82\n\u00a0 | Sd | @ | index.js:55\n\u00a0 | push../node_modules/@firebase/webchannel-wrapper/dist/index.js.g.fb | @ | index.js:96\n\u00a0 | sendFn | @ | index.cjs.js:5982\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.StreamBridge.send | @ | index.cjs.js:5799\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.sendRequest | @ | index.cjs.js:12613\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentListenStream.watch | @ | index.cjs.js:12829\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.sendWatchRequest | @ | index.cjs.js:13476\n\u00a0 | (anonymous) | @ | index.cjs.js:13529\n\u00a0 | forEachNumber | @ | index.cjs.js:433\n\u00a0 | (anonymous) | @ | index.cjs.js:13528\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.RemoteStore.onWatchStreamOpen | @ | index.cjs.js:13523\n\u00a0 | (anonymous) | @ | index.cjs.js:12746\n\u00a0 | (anonymous) | @ | index.cjs.js:12732\n\u00a0 | step | @ | tslib.es6.js:91\n\u00a0 | (anonymous) | @ | tslib.es6.js:72\n\u00a0 | (anonymous) | @ | tslib.es6.js:65\n\u00a0 | ZoneAwarePromise | @ | zone.js:891\n\u00a0 | __awaiter | @ | tslib.es6.js:61\n\u00a0 | (anonymous) | @ | index.cjs.js:12728\n\u00a0 | (anonymous) | @ | index.cjs.js:12204\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | ZoneTask.invoke | @ | zone.js:485\n\u00a0 | timer | @ | zone.js:2054\n\u00a0 | setTimeout (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2075\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:2090\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1097\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.WebChannelConnection.openStream | @ | index.cjs.js:6067\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentListenStream.startRpc | @ | index.cjs.js:12806\n\u00a0 | push../node_modules/@firebase/firestore/dist/index.cjs.js.PersistentStream.startStream | @ | index.cjs.js:12740\n\u00a0 | (anonymous) | @ | index.cjs.js:12703\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | XMLHttpRequest.send (async) | \u00a0 | \u00a0\n\u00a0 | scheduleTask | @ | zone.js:2969\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:407\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMacroTask | @ | zone.js:255\n\u00a0 | scheduleMacroTaskWithCurrentZone | @ | zone.js:1114\n\u00a0 | (anonymous) | @ | zone.js:3001\n\u00a0 | proto.(anonymous function) | @ | zone.js:1394\n\u00a0 | (anonymous) | @ | raven.js:1328\n\u00a0 | Ug | @ | auth.js:122\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.xh.o | @ | auth.js:143\n\u00a0 | Fh | @ | auth.js:141\n\u00a0 | (anonymous) | @ | auth.js:147\n\u00a0 | z | @ | auth.js:15\n\u00a0 | Lh | @ | auth.js:147\n\u00a0 | (anonymous) | @ | auth.js:159\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:182\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:181\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneTask.invokeTask | @ | zone.js:500\n\u00a0 | invokeTask | @ | zone.js:1540\n\u00a0 | globalZoneAwareCallback | @ | zone.js:1566\n\u00a0 | IndexedDB (async) | \u00a0 | \u00a0\n\u00a0 | (anonymous) | @ | auth.js:179\n\u00a0 | z | @ | auth.js:15\n\u00a0 | Ui | @ | auth.js:179\n\u00a0 | Vi | @ | auth.js:180\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.set | @ | auth.js:181\n\u00a0 | (anonymous) | @ | auth.js:184\n\u00a0 | e.g | @ | auth.js:19\n\u00a0 | Db | @ | auth.js:22\n\u00a0 | zb | @ | auth.js:22\n\u00a0 | push../node_modules/@firebase/auth/dist/auth.js.g.Ub | @ | auth.js:21\n\u00a0 | ib | @ | auth.js:15\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | (anonymous) | @ | zone.js:872\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invokeTask | @ | zone.js:421\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.runTask | @ | zone.js:188\n\u00a0 | drainMicroTaskQueue | @ | zone.js:595\n\u00a0 | Promise.then (async) | \u00a0 | \u00a0\n\u00a0 | scheduleMicroTask | @ | zone.js:578\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:410\n\u00a0 | onScheduleTask | @ | zone.js:297\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.scheduleTask | @ | zone.js:401\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleTask | @ | zone.js:232\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.scheduleMicroTask | @ | zone.js:252\n\u00a0 | scheduleResolveOrReject | @ | zone.js:862\n\u00a0 | ZoneAwarePromise.then | @ | zone.js:962\n\u00a0 | push../node_modules/@angular/router/fesm5/router.js.RouterInitializer.appInitializer | @ | router.js:5435\n\u00a0 | push../node_modules/@angular/core/fesm5/core.js.ApplicationInitStatus.runInitializers | @ | core.js:3166\n\u00a0 | (anonymous) | @ | core.js:4740\n\u00a0 | _callAndReportToErrorHandler | @ | core.js:4883\n\u00a0 | (anonymous) | @ | core.js:4738\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:388\n\u00a0 | onInvoke | @ | core.js:4071\n\u00a0 | push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke | @ | zone.js:387\n\u00a0 | push../node_modules/zone.js/dist/zone.js.Zone.run | @ | zone.js:138\n\u00a0 | push../node_modules/@angular/core/fesm5/core.js.NgZone.run | @ | core.js:3927\n\u00a0 | push../node_modules/@angular/core/fesm5/core.js.PlatformRef.bootstrapModuleFactory | @ | core.js:4727\n\u00a0 | ./src/main.ts | @ | main.ts:11\n\u00a0 | __webpack_require | @ | bootstrap:81\n\u00a0 | 0 | @ | main.ts:11\n\u00a0 | webpack_require | @ | bootstrap:81\n\u00a0 | checkDeferredModules | @ | bootstrap:43\n\u00a0 | webpackJsonpCallback | @ | bootstrap:30\n\u00a0 | (anonymous) | @ | main.js:1\n\n. I'm also ready to (help?) author documentation about this, but it's a bit hard when the best approach for this is not known to me. Maybe it's obvious, certainly I'm missing something \ud83d\ude04 . Ok, I'm going to go forward with this:\nGiven \n```ts\nimport { Injectable } from '@angular/core'\nimport { AngularFireAuth } from 'angularfire2/auth'\n@Injectable()\nexport class Project1AngularFireAuth extends AngularFireAuth { }\n@Injectable()\nexport class Project2AngularFireAuth extends AngularFireAuth { }\n```\nYou can add this to your app.module: (in the providers section)\n```ts\nimport { NgModule, NgZone, PLATFORM_ID } from '@angular/core'\n@NgModule({\n  ...,\n  providers: [\n    ...,\n    { provide: Project1AngularFireAuth, deps: [PLATFORM_ID, NgZone], useFactory: Project1AngularFireAuthFactory },\n    { provide: Project2AngularFireAuth, deps: [PLATFORM_ID, NgZone], useFactory: Project2AngularFireAuthFactory },\n    ...\n  ],\n  ...\n})\nexport class AppModule { }\n```\nThe factories are here, just functions in the app module file\nts\nexport function Project1AngularFireAuthFactory(platformId: Object, zone: NgZone): Project1AngularFireAuth {\n  return new Project1AngularFireAuth(environment.project1FirebaseConfig, 'project1', platformId, zone)\n}\nexport function Project2AngularFireAuthFactory(platformId: Object, zone: NgZone): Project2AngularFireAuth {\n  return new Project2AngularFireAuth(environment.project2FirebaseConfig, 'project2', platformId, zone)\n}\nAnd finally, now you can inject, anywhere be it component or service, the services as you would like to:\nts\n@Injectable()\nexport class SuperService {\n  constructor(private auth1: Project1AngularFireAuth, private auth2: Project2AngularFireAuth) {}\n}. Should snapshotChanges also work? When I hit conditions that produce zero results, the list is not cleared, but displays the old results. This is due to the .snapshotChanges() never being called.\nI can fix it by having .snapshotChanges().startWith([]).map(snapshots => {, but then there's a double call everytime there's data.\nI have code like this:\n```ts\nreturn this.firestore.collection('invoices/9/invoices', ref => {\nconst direction = sort.direction == 'asc' ? 'asc' : 'desc'\n  let q: firebase.firestore.Query = ref.orderBy(sort.active, direction)\nif (state && state != InvoiceState.all) {\n    q = q.where('state', '==', state)\n  }\nif (page.pageIndex > 0 && page.pageIndex - 1 in this.lastVisible) {\n    return q.startAfter(this.lastVisible[page.pageIndex - 1]).limit(limitSize)\n  } else {\n    return q.limit(limitSize)\n  }\n}).snapshotChanges().startWith([]).map(snapshots => {\n  if (snapshots.length == limitSize) {\n    this.rowCountSubject.next(Number.MAX_SAFE_INTEGER)\n    snapshots.pop()\n  } else {\n    this.rowCountSubject.next(this.lastPageSize * page.pageIndex + snapshots.length)\n  }\n  if (snapshots.length > 0) {\n    this.lastVisible[page.pageIndex] = snapshots[snapshots.length-1].payload.doc\n  }\n  const invoices: Invoice[] = []\n  for (const snapshot of snapshots) {\n    const $key = snapshot.payload.doc.id\n    const data = { $key, ...snapshot.payload.doc.data() } as Invoice\n    invoices.push(data)\n  }\n  return invoices\n}).map(invoices => {\n  const data = this.filterAndMap(invoices)\n  return data\n})\n```. @jamesdaniels dropping you a message cause this issue is already closed. See previous comment.. @jamesdaniels Thank you for the support! So I've missed a bit how Angular injection works. \nCould you still show how to inject multiple instances of the same service to same component? The \nstackblitz only shows how to inject one service. (It does let one choose which one to inject though.)\nWhat do I do when I need all three in the same service? . @nguyenluucuong, @magleahy, @lemas-projetpos I've opened new issue #1305 to track the documentation of this, hopefully we'll then find out how to do it properly.. The solution here can be easily adapted for frontend too: https://github.com/firebase/firebase-admin-node/issues/361 . @jamesdaniels I need to access data from both databases in the same component. How can I achieve that?\nHmm. Can the injection token be defined per @Injectable()? That way I could wrap all my database access to services and be done with it. Is it possible?. Yeah @JanOschii, I need to experiment more, I've tried to solve this earlier, for context see #1240 . I think it should be noted, in the documentation also, that the switch to timestamp will be a permanent one, and the use of Date objects in model interfaces/classes is discouraged. While you convert your models and write bunch of angular pipes etc. to directly deal with Timestamp, you CAN restore the old functionality by adding this provider in your app.module.ts file:\nts\nimport { AngularFirestoreModule, FirestoreSettingsToken } from 'angularfire2/firestore'\n// later in file\n{ provide: FirestoreSettingsToken, useValue: { timestampsInSnapshots: false } },\nWhere the value for useValue conforms to firebase.firestore.Settings from the main firebase.js. The story does not yet tell how long this setting will be available.... ",
    "fearless23": "@markgoho I solved it after 2 days of head scratching\nconstructor(private ps: ProjectsService, public afdb: AngularFireDatabase) {\n   this.userId = this.ps.userId;\n   this.url = '/users/'+'this.userId'+'/projects/base';\n   this.afdb.list(this.url).subscribe(data => this.baseProjects = data);\n}}\n\nNew Code is moving declarations to ngOnInit\nconstructor(private ps: ProjectsService, public afdb: AngularFireDatabase) {}\nngOnInit(){  \n   this.userId = this.ps.userId;\n   this.url = '/users/'+'this.userId'+'/projects/base';\n   this.afdb.list(this.url).subscribe(data => this.baseProjects = data);\n}\n. @markgoho user is logged in on localhost (localhost is added as domain in firebase console) {while developing}, This is small portion of code.\n\nIn login.component.ts\nconstructor(public afa: AngularFireAuth, private router: Router) { }\n\n  loginGoogle() {\n    this.afa.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider()).then(\n        (success) => {\n        this.router.navigate(['']);\n      }).catch(\n        (err) => {\n        this.error = err;\n      });\n  }\n\nand this works well with angularfire2 ^4.0.0.rc.1\nthe working version with angularfire2 v2.0.0 is at www.weektweak.ga. If i go to firebase console > Firestore and update some field of data, as soon i press update button, the data shows up. (Both in json format and ngFor list item) But when reload locally with ng serve nothing shows up.. @davideast  no firestore is in test mode\nservice cloud.firestore {\n    match /databases/{database}/documents {\n      match /{document=**} {\n      allow read, write;\n    }\n  }\n}. @davideast  https://angular-xsovop.stackblitz.io/    here is the stackblitz. It seems like working here but not on local environment.. i need uid value everywhere in my project, like for getting user projects from /users/${uid}/projects as all of my database in divided on user UID`s.\n\nI don`t to write component logic inside this.x.subscribe( x => {\n  fetchProject(x),\n})\nhow can i access value of x inside component.ts or another service.. actually, i was asking for firestore collection or document link like afs.collection(' users/${uid}/projects')\nhere i need uid to pass from a service say projects.service or a component, i have to do this:\nthis.userService.uid.subscribe( (uid) => /* then grab the collection from firestore )\n\nbecause if i do\nngOnInit {\n  this.proProjects = this.projectsService.getProjects( userUID,  'pro' );\n}\n\n/* Inside Service */\n\ngetProjects( userUID,  category) {\n  this.afs.collection( 'users/${userUID/projects/${category} ' );\n}\n\nthis will throw error or do nothing because i can`t get value of UID outside of uid observable subscription.\nOther Way is: i can import AngularfireAuth in each component...\ni don`t have a use case for uid | async in HTML template as you mentioned..\nDo i have to subscribe to observable and run my function inside obsevable.subscribe block .     ngOnInit() {\n        const user = this.route.snapshot.data;\n       console.log(user); // {{}\n        console.log(user.uid); // undefined\n     }\nconsole output \n{}\nundefined. ",
    "JoshWilliams92": "Hi @WebAddict thanks for your help but the issue still persists but now I have a rough idea of what needs to be solved after reading through security rules under the main documentation. After changing the rules from public to user under \n(https://firebase.google.com/docs/database/security/quickstart) it still says the client does not have permission to access the data. \n. ",
    "Ploppy3": "@davideast I don't know how to create a plunker with angular libraries.. Your plunker is broken.. @davideast @xtazy same for me, it does not always happen which is really weird. It has nothing to do with my code as explained into the report.\nNB: I did not test with newer versions of angular.. @xtazy As I said the problem only happen sometimes which is extremely weird, you'll probably get it later again.\nOr was it patched recently by angular or firebase ?. @xtazy As I said the problem only happen sometimes which is extremely weird, you'll probably get it later again.\nOr was it patched recently by angular or firebase ?. @xtazy I can reproduce it. Nice.. @xtazy I can reproduce it. Nice.. @jamesdaniels Firebase team seems to claim that they use a setInterval and that its Angular's problem.\nIf a setInterval always trigger a ngDoCheck, should running it outside of zonejs fix the issue?\nIn this case, could you fix it?. @jamesdaniels Firebase team seems to claim that they use a setInterval and that its Angular's problem.\nIf a setInterval always trigger a ngDoCheck, should running it outside of zonejs fix the issue?\nIn this case, could you fix it?. @jamesdaniels Hello, do you have any information available?. @jamesdaniels Hello, do you have any information available?. @jamesdaniels I know it's been a long time I know but recent events bring me back to this issue. \nI'm wondering if there is still some setInterval/setTimeout running in ngZone. \nAngular recently released their service worker package, and as you can see in this issue https://github.com/angular/angular/issues/20970 I was told that the service worker won't start if the ngZone is not stabilized, the zone never stabilizes if a setInterval/setTimeout is started inside it. So the only solution right now is to run them outside the zone.\nIn a project where I use only the Angularfire2 & ngx-charts the service worker won't start. So there must be a setInterval/setTimeout running somewhere. I doubt that it is in the ngx-charts library.\nDo you know any way to check quickly if all the setInterval/setTimout use in this library are running outside the zone?. @jamesdaniels I know it's been a long time I know but recent events bring me back to this issue. \nI'm wondering if there is still some setInterval/setTimeout running in ngZone. \nAngular recently released their service worker package, and as you can see in this issue https://github.com/angular/angular/issues/20970 I was told that the service worker won't start if the ngZone is not stabilized, the zone never stabilizes if a setInterval/setTimeout is started inside it. So the only solution right now is to run them outside the zone.\nIn a project where I use only the Angularfire2 & ngx-charts the service worker won't start. So there must be a setInterval/setTimeout running somewhere. I doubt that it is in the ngx-charts library.\nDo you know any way to check quickly if all the setInterval/setTimout use in this library are running outside the zone?. @davideast I have the same issue as @davideast , I created a new issue https://github.com/angular/angularfire2/issues/1596. @davideast I have the same issue as @davideast , I created a new issue https://github.com/angular/angularfire2/issues/1596. @jamesdaniels Updating comes with a bunch of new errors, so I can't even test.\nIncompatibilities with rxjs which I managed to fix.\nOne still persist:\n\nCannot read property 'GoogleAuthProvider' of undefined\n\n```\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\n@Component({\n  ...\n})\nexport class WelcomeComponent {\nconstructor(\n    public afAuth: AngularFireAuth,\n  ) { }\npublic signIn() {\n    this.afAuth.auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider());\n  }\n}\n```\n\n\"angularfire2\": \"^5.0.0-rc.8\",\n\"firebase\": \"5.0.2\",\n\nSeems pretty similar to the official doc: https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md. @jamesdaniels Updating comes with a bunch of new errors, so I can't even test.\nIncompatibilities with rxjs which I managed to fix.\nOne still persist:\n\nCannot read property 'GoogleAuthProvider' of undefined\n\n```\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\n@Component({\n  ...\n})\nexport class WelcomeComponent {\nconstructor(\n    public afAuth: AngularFireAuth,\n  ) { }\npublic signIn() {\n    this.afAuth.auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider());\n  }\n}\n```\n\n\"angularfire2\": \"^5.0.0-rc.8\",\n\"firebase\": \"5.0.2\",\n\nSeems pretty similar to the official doc: https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md. @jamesdaniels \nChanging from \nimport * as firebase from 'firebase';\nto\nimport { firebase } from '@firebase/app';\nFixed this issue.\nPlease change the docs accordingly: https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md. @jamesdaniels \nChanging from \nimport * as firebase from 'firebase';\nto\nimport { firebase } from '@firebase/app';\nFixed this issue.\nPlease change the docs accordingly: https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md. @jamesdaniels So it's even more broken now. It won't even start to compile: \n\n\nERROR in Error during template compile of 'AppModule'\nFunction calls are not supported in decorators but 'AngularFireModule' was called.\n\nSo please, reopen.. @jamesdaniels So it's even more broken now. It won't even start to compile: \n\n\nERROR in Error during template compile of 'AppModule'\nFunction calls are not supported in decorators but 'AngularFireModule' was called.\n\nSo please, reopen.. @jamesdaniels Nailed it, it works, and build properly now.\nAre those providers subject to change anytime soon? Is it OK to stay in this situation or should I find what's going wrong?\nAlso, all of this somehow fixed my karma tests which would not run. Thank you!. @jamesdaniels Nailed it, it works, and build properly now.\nAre those providers subject to change anytime soon? Is it OK to stay in this situation or should I find what's going wrong?\nAlso, all of this somehow fixed my karma tests which would not run. Thank you!. @jamesdaniels I understand why you aggressively close most of the issues. But sometimes it's not a solution. You could at least wait till we get the answer from the Firebase JavaScript SDK team. It also help prevent other users from opening similar issues. And if the Firebase JavaScript SDK team approve, you will have to reopen it anyway.\nhttps://github.com/firebase/firebase-js-sdk/issues/944. @jamesdaniels I understand why you aggressively close most of the issues. But sometimes it's not a solution. You could at least wait till we get the answer from the Firebase JavaScript SDK team. It also help prevent other users from opening similar issues. And if the Firebase JavaScript SDK team approve, you will have to reopen it anyway.\nhttps://github.com/firebase/firebase-js-sdk/issues/944. ",
    "xtazy": "Same problem.. I'm not able to reproduce the problem in a plunkr, sorry. It seems to be related to my code, then.. The problem comes from the Firebase library, where a setInterval is registered in the auth.js file. I'll open an issue on their github because I don't remember this was the case before.. Hi there,\nDon't know why, but after I restarted my laptop, the problem has gone away.. Indeed, problem has appeared again. In fact, if I close my browser, everything works fine. But as soon as I refresh a page, the Firebase's setInterval is registered, causing Angular to refresh every second.\nReally strange :). After an intense debug session (:p) I think I found out why the problem appears:\nIn the auth.js file of firebase there is at some point a check on the User-agent that will later register or not the setInterval. Briefly, if the User-agent matches 'android', then the setInterval is registered, otherwhise not.\nThe first time I open my browser, the dev tools are not opened and my user agent is the default one -> it doesn't matches android and the setInterval is not registered.\nIf I open the dev tools in mobile mode, the user agent is modified and 'android' is included in it -> it matches android and the setInterval is registered.\nSo it seems that there is a different behavior depending if the code is executed on a mobile or not.\nI'll try to create plunkr to demonstrate this.. Plunkr created: https://plnkr.co/edit/h6Ku3qtTicNO8N0VEFjU?p=preview\nOpen a new tab in Chrome, toggle to mobile mode, navigate to the plunk url and then look at the console.. ",
    "jshcrowthe": "@xtazy thanks for your hard work reproducing this issue! I believe you are correct that it is a JS SDK issue and we can close this in favor of that. Lets give @bojeil-google a chance to verify the issue and we can track this here.. ",
    "surazzarus": "The same user data gets added to the database for every login. How do you fix it?. ",
    "DiedrikDM": "@superstarmcawesome nope, it doesn't... Back to the drawing board then I guess...\nFor the record, if you want a quick solution, in your JS file you can change firebase.auth into firebase.firebase.auth to make it work. \nI guess something is going wrong when importing the firebase library with TypeScript.. @superstarmcawesome I found another (better) solution. The SystemJS config needs to change. I'll need to update the Pull Request as well though.. I've edited the first comment in this PR to have the correct SystemJS configuration. When you add a meta configuration option to load firebase as a global variable, everything starts to come together!. @davideast I can see your point in doing it like that. It will provide with a lot cleaner solution at the end! Can I state though that the current state of this PR can be a short-term workaround for people looking for a solution right now?\nTo answer your question whether I'm willing to help you guys around? Yes, you can count on me!. @salacis I don't really know what happened with your compilation step. As far as I know, this pull request did not change any files that are being referenced by that build step you mentioned in the error message.\nAs for the other error message in the browser console: Maybe you need to change to the \"build_npm\" script instead of the \"build\" script from package.json? Is your systemjs configuration correct? Do you have the correct files hosted? ... I cannot really tell by the error you're providing me with, but I do hope that I provided you with a direction you can continue your search with!. ",
    "tobiaseisenschenk": "I would also highly appreciate this fix, since the workaround did not do it for me and I am currently blocked by this issue.. Installing the mentioned version results in a low level error for me as shown in the screenshot.\n\nI found exactly the same behavior with firebase 4.0.0 as well as firebase 4.2.0 and Angular 4.3.3.\nHowever before I tried locally downloading the core and database bundles from your systemjs20 feature branch @davideast, which worked except breaking the AOT build.. @davideast somehow there is no database.umd.js bundle anymore in your latest version?. yes, @aamir1995 you need to specify each bundle separately, but you do not need the package meta spec for umd bundles. I only use the core and database e.g.\n// ANGULARFIRE2 - Core\n            {\n                name: 'angularfire2',\n                path: `${this.NPM_BASE}angularfire2/bundles/core.umd.js`\n            },\n            // ANGULARFIRE2 - Database\n            {\n                name: 'angularfire2/database',\n                path: `${this.NPM_BASE}angularfire2/bundles/database.umd.js`\n            },\n@davideast It does fix the issue with the AOT build! I overlooked that npm install -save angularfire2@next puts a ^ in my package json, which makes npm resolve it to the next stable version on the next npm install :). ",
    "akserg": "Hi David,\nThank you for your library. \nI used your package in my book Web Development with Bootstrap 4 and Angular 2 - Second Edition in chapters 9 and 10. \nI have updated the chapter 9 with npm install -save angularfire2@next and it works for SystemJS now. Here is the content of my systemjs.config.js file:\n```\n(function (global) {\n  System.config({\n    paths: {\n      // paths serve as alias\n      'npm:': 'node_modules/'\n    },\n    // map tells the System loader where to look for things\n    map: {\n      // our app is within the app folder\n      app: 'app',\n      // angular bundles\n      '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n      '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n      '@angular/compiler':'npm:@angular/compiler/bundles/compiler.umd.js',\n      '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n      '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n      '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n      '@angular/router':'npm:@angular/router/bundles/router.umd.js',\n      '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n      // other libraries\n      'rxjs': 'npm:rxjs',\n  'firebase': 'npm:firebase',\n  'promise-polyfill':'npm:promise-polyfill',\n\n  'angularfire2': 'npm:angularfire2/bundles/core.umd.js',\n  'angularfire2/database': 'npm:angularfire2/bundles/database.umd.js',\n  'angularfire2/auth': 'npm:angularfire2/bundles/auth.umd.js'\n},\n// packages tells the System loader how to load when no filename and/or no extension\npackages: {\n  app: {\n    main: './main.js',\n    defaultExtension: 'js'\n  },\n  rxjs: {\n    defaultExtension: 'js'\n  },\n  'firebase': { \n    main: 'firebase-browser.js',\n    defaultExtension: 'js'\n  },\n  'promise-polyfill': {\n    main: 'promise.js',\n    defaultExtension: 'js'\n  }\n},\nmeta: {\n  firebase : {\n    format: 'global',\n    exports: 'firebase'\n  }\n}\n\n});\n})(this);\n```\nThe source code for the full project is here. \nThe version ready to deploy on Firebase web hosting here.\nPlease release it soon.. Ok, thanks.. ",
    "JunusErgin": "Hello, \ni'm having the same issue with SystemJS.\nIn the beginning, i just tried to import the umd bundle:\nname: 'angularfire2',\n        path: `${this.NPM_BASE}angularfire2/bundles/angularfire2.umd.js`\nThe log told me that database.js is missing, so i imported it:\nname: 'angularfire2/database',\n        path: `${this.NPM_BASE}angularfire2/database.js`,\nAfterwards, SystemJS was not able to resolve the database module, i fixed it with the following config (Already very ugly):\nname: 'angularfire2/database/module',\n        path: `${this.NPM_BASE}angularfire2`,\n        packageMeta: {\n          defaultExtension: 'js',\n          main: 'database/database.module.js'\n        }\nNow i'm at the exact same error:\n(index):87 TypeError: Object prototype may only be an Object or null: undefined\n    at setPrototypeOf (<anonymous>)\n    at __extends (http://localhost:5555/node_modules/angularfire2/database/firebase_list_observable.js!transpiled:24:21)\n    at eval (http://localhost:5555/node_modules/angularfire2/database/firebase_list_observable.js!transpiled:30:17)\n    at Object.execute (http://localhost:5555/node_modules/angularfire2/database/firebase_list_observable.js!transpiled:86:14)\n    at declarativeExecute (http://localhost:5555/node_modules/systemjs/dist/system.src.js?1501864017769:1136:13)\n    at doEvaluate (http://localhost:5555/node_modules/systemjs/dist/system.src.js?1501864017769:1068:13)\n    at doEvaluate (http://localhost:5555/node_modules/systemjs/dist/system.src.js?1501864017769:1052:17)\n    at doEvaluate (http://localhost:5555/node_modules/systemjs/dist/system.src.js?1501864017769:1052:17)\n    at doEvaluate (http://localhost:5555/node_modules/systemjs/dist/system.src.js?1501864017769:1052:17)\n    at ensureEvaluate (http://localhost:5555/node_modules/systemjs/dist/system.src.js?1501864017769:1000:13) Not expecting this error? Report it at https://github.com/mgechev/angular-seed/issues\nDid someone manage to fix it?. ",
    "keith-nativemobile": "I am also hitting this problem. Any known workaround?. ",
    "IncognitoCore": "I signed it!. ",
    "fancyydk": "Thanks for the reply.\nThe reason I asked about the set method is I noticed it was used in one of\nthe examples not just for objects but for lists as well in the github doc\nhere (https://github.com/angular/angularfire2/blob/master/docs/3-retrieving-data-as-lists.md)\n\nGranted, set is not listed in the API summary table. But the example above\nis clearly using 'set' and I think I saw a pull request that made 'set'\navailable for lists too. If this is incorrect, would you mind updating the\ndocs please?\nThanks!\nOn Fri, Jun 30, 2017 at 9:47 PM, James Brinkerhoff <notifications@github.com\n\nwrote:\nlist doesn't have a method called set. You add to it with push.\nconst list = this.afDb.list(url);\nlist.push(value);\nor you can use an object to get the set method\nconst myObject = this.afDb.object(url);\nmyObject.set(key, value);\nbtw, you might want to use update instead of set because set replaces all\nthe data on the path with the value you pass.\nGo study the docs some more.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1051#issuecomment-312410347,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AMNt67UCoCc-R2NKN1gcqFe_qH10SBRwks5sJc9jgaJpZM4OLM2n\n.\n. \n",
    "jashanbhullar": "Were you able to figure it out? I am stuck on the same thing!\n. @jamesdaniels  I was able to fix it\nGo to authentication tab in firebase console and under Google authentication there will be option to setup Web SDK configuration, setup that and you are good to go \nDon't forget to the origin uri and redirect uri correctly. ",
    "kobvel": "@jamesdaniels no, I did not. And my Question was kindly closed. @BradyShober any resolution here? I am facing the same issue. ",
    "rm-rf-etc": "Was also seeing this error. For future readers: I wrote up a detailed answer here:\nhttps://serverfault.com/questions/949696/firebase-auth-error-getting-access-token-from-google-oidc/. ",
    "danielyule": "I ran into the same problem.  The docs do indeed mention testing:\n```\n7. Inject AngularFireDatabase\nOpen /src/app/app.component.ts, and make sure to modify/delete any tests to get the sample working (tests are still important, you know):\n```\nand getting TestBed working with providers is non-trivial for a newcomer.\n. ",
    "joha0033": "Any pointers on any information or direction on testing in Karma with AngularFireDatabase? I'll be needing a different approach/library if not.\nTypical solutions didn't work for me, but I'm no QA.\nany hints to test ngDatabase? (should be simple, but I'm not getting it.)\n`\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from 'angularfire2/database';\n@Component({\n  selector: 'app-joke-list',\n  templateUrl: './joke-list.component.html',\n  styleUrls: ['./joke-list.component.css']\n})\nexport class JokeListComponent implements OnInit {\ncoursesObservable: Observable\nconstructor(private db: AngularFireDatabase) { }\nngOnInit() {\n    this.coursesObservable = this.getCourses('/courses')\n  }\ngetCourses(listPath): Observable {\n    return this.db.list(listPath).valueChanges()\n  }\n}`\ntests being:\n`\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { JokeListComponent } from './joke-list.component';\ndescribe('JokeListComponent', () => {\n  let component: JokeListComponent;\n  let fixture: ComponentFixture;\nbeforeEach(async(() => {\n    TestBed.configureTestingModule({\n      declarations: [ JokeListComponent ],\n      providers: []\n    })\n    .compileComponents();\n  }));\nbeforeEach(() => {\n    fixture = TestBed.createComponent(JokeListComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\nit('should create', () => {\n      expect(component).toBeTruthy();\n  });\n});`\nI can find resources for auth, but not for database. . ",
    "Fealios": "I am also having this issue.  Getting the error that AngularFireDatabase has no provider when trying to instantiate my database service in Karma. . ",
    "cbutton01": "Did this ever get solved? I am having the same issue. Did this ever get solved? I am having the same issue. ",
    "kelle62819": "Here you go: https://github.com/kelle62819/conflict\nYou should see the behavior described. When you take out the BrowserAnimationsModule everything works properly.\nThanks for looking at this.. @davideast Were you able to reproduce this?\n. @davideast Were you able to reproduce this?\n. I tried upgrading and am running into this error: (not my post, but I am getting the same error)\nhttps://stackoverflow.com/questions/46557694/update-issues-in-angularfire-5-0. ",
    "karlvd": "I experience the same issue, I use the BrowserAnimationsModule and experience ~20 delay when routing, I also notice that the delay occurs when changing things in the template with a variable.\nFor example;\nthis.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider()).then((data) => { \nthis.showThing = true;\nAnd in the template you have \n<div * ngIf=\"showThing\">show me</div>\nSo for some reason is seems that change detection is not triggered for a while after the promise resolves.\nIt\u00b4s possible to workaround it by manually triggering change detection for dom manipulation\n``import { ChangeDetectorRef } from '@angular/core';`\nconstructor(  \n    private cd: ChangeDetectorRef\n  ) \nthis.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider()).then((data) => { \nthis.showThing = true;\nthis.cd.detectChanges();\n```\nUnfortunately it doesn\u00b4t work while routing since you are leaving the view and no code after the routing statement will execute, and you can\u00b4t trigger change detection in the new view until it\u00b4s rendered.\nNo solution really but I thought it might help and may be easier to troubleshoot looking at change detection with a simple template manipulation than with routing. \n. ",
    "sudhan-impekable": "+1. +1. ",
    "ChakrounAnas": "I have exactly the same issue !. ",
    "jalerg": "I've been very frustrated about this issue. It was happening to me too even when I updated to Angular 5.0.0, AngularFire2 5.0.0-rc.3, and firebase 4.6.1; \nI have a login component that does a this.router.navigate(['dashboard']) on successful firebase google login, however both the sign in component and the dashboard components are rendered after the routing event triggers a few seconds after the popup closes. And it only happens when I add the BrowserAnimationsModule to the project. If I remove the module everything works fine.\nI tried setTimeout() but it didn't help. I was ready to give up, either choosing to not use the animations module, or to replace the signin setup with a dropdown auth component on the navigation bar on my dashboard instead, however I was googling something else when I found NgZone and I managed to make my desired setup work fine by using zone.run() like:\n```typescript\nthis.afAuth.auth.signInWithPopup(this.googleProvider)\n      .then((result) => {\n        // ...\n    // Redirecting without this.zone.run() messes up routing, and change detection\n    this.zone.run(() => {\n      this.router.navigate(['/', 'app', 'dashboard']);\n    });\n  })\n\n```\nIt works for me! no 20 second delay to route, no issues with the 'from' component being left in the DOM, and all my animations work fine!\nI hope this helps. ",
    "derridHeidegger": "npm install promise-polyfill --save-exact\nthat fixed it. that should be clearer :). ",
    "nikmartin": "Is installing AngularFire2 via npm not an option for you? Otherwise, you'll have to build angularfire2 and then import friom the dist folder in the angularfire2 directory from your project. ",
    "ArthurianX": "Do you guys have a ready made PlunkR with AngularFire2 and Angular 4 ? \n(I have no idea how to make one, I saw some SystemJS ones but I don't have the rest of the evening to spend on researching this.). Actually, now that I think about it, even on PlunkR you can't test the issue because you have to have a HMR server connected to that PlunkR instance.\nHow could I show you guys this ?\n. @davideast I'm also trying to make a production build for my app and on AoT it AngularFire fails to initializeApp().\nhere: https://www.dropbox.com/s/ka8s1nnstcrn0eo/Screenshot%202017-07-09%2016.28.20.png?dl=0\nI tried a lot of options, the conclusion is that JiT works, AoT doesn't.\nI'll put together a more comprehensive repo to test this the next few days and I'll share the link here.. @Kamshak Thanks a lot!  Will try it out asap.. I just realized, after trying my hand at this error for the past few days ...  no matter what version combination I tried the errors were the same. \nI realized I still had @types/firebase installed, read about it, found out it's deprecated, and now firebase 5.1.0 and angularfire2  -rc11 works perfect.\n\ntakeaway - remove @types/firebase if you have the package, also delete it from node_modules. I just realized, after trying my hand at this error for the past few days ...  no matter what version combination I tried the errors were the same. \n\nI realized I still had @types/firebase installed, read about it, found out it's deprecated, and now firebase 5.1.0 and angularfire2  -rc11 works perfect.\n\ntakeaway - remove @types/firebase if you have the package, also delete it from node_modules. \n",
    "amitsinghv": "Better, you should keep steps for that as well. Its will be great for new\npeople.\nOn Fri, Jul 7, 2017 at 9:52 PM, David East notifications@github.com wrote:\n\nHey @amitsinghv https://github.com/amitsinghv! What @lehrenberg\nhttps://github.com/lehrenberg is the cast. You likely have your default\nrules set to authenticated only. For development you can change it to read\ntrue and write true.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1059#issuecomment-313728145,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ATMdxmU1Ioqxd1t5Vw4rn35O2JIdOd-cks5sLls5gaJpZM4OPN3U\n.\n\n\n-- \nRegards,\nAmit Kumar Singh\nSoftware Engineer, Voonik\n+91 8095709110\n. ",
    "hdsantos89": "Also, this has happened to me. I was logged in with the incorrect Google account at the time, the moment I swapped to the correct one and reloaded, it all started working again. Hope it helps.\nContext: Ionic / Firebase project. ",
    "gsauzande": "For anyone else having this issue, try logging out and then back in with the same account. Your session could have expired.. ",
    "KevinGrant12": "I have the same issue except I am logged in to my only google account and read/write are enabled.\nI have tried logging in and out several times.\nAny other suggestions?. ",
    "noboddee": "@MarinoRaul are you find a solution ? I have the same issue... ",
    "MichaelSolati": "Some prerendering tools are windowless environments. So ideally you can wrap it in something like \nif (typeof window !== 'undefined') {\n     // Your firebase function...\n}\nAnd that way you can prevent it from running.. @davideast when you say that you intend to wrap the calls, how do you plan on doing so? I imagine there is the possibility to wrap the socket connection into an RxJS websocket but I imagine that would require a lot of work and wouldn't be the right approach... If you want though I would love to help you in any endeavor/steps you want to move forward with this!. ",
    "TheBolmanator": "@davideast Sorry have not been keeping watch on this.  If you don't mind being my first PR, I would gladly.\nUpdate,  PR done,  it was not as hard to do as I thought it would be.  \nDavid, am a big fan of you and Firebase.  I look forward to showing you how I am using the Angular-NgRx-Firebase+GoogleCloudFunctions.   It has been a long patch of work, but I am very happy with the results so far.  \nBest regards,\nSteve.     \"@ngrx/db\": \"^2.0.2\",\n    \"@ngrx/effects\": \"^4.0.5\",\n    \"@ngrx/router-store\": \"^4.0.4\",\n    \"@ngrx/store\": \"^4.0.3\",\n    \"@ngrx/store-devtools\": \"^4.0.0\",\nNot sure why the key NgRx parts of the above package.json does not print, so copied here.. @davideast  thanks for the note;  the error was mine.  After revisiting the problem, I discovered I had imported \"AngularFirestore\" instead of \"AngularFirestoreModule\" into my app module.. ",
    "travislaynewilson": "I signed it!. ",
    "diwu1989": "I signed it!. looks like the bot is acting up and double posting. ",
    "rahulrsingh09": "@markgoho it like a issue or a feature that i wanted to know about. ",
    "jotatoledo": "this is not \"like\" an issue nor a request. ",
    "justingrayston": "I've just run into this too trying out universal build with angular-cli, so would love to know what your work around was. I was going to try to build targeting commonjs and pull in to packages.json direct from my own branch. Alternatively I was thinking about swapping out for the firebase admin sdk using getPlatform and some jigging about with the code.\nBoth seemed horrid options atm, the later in particular. \nI haven't tried either yet. I'll keep my fingers crossed, in the mean time I will continue to play if I get the chance.. ",
    "KrGyan": "@davideast when can we expect this release. I am using \"angularfire2\": \"^4.0.0-rc.1\" with \"firebase\": \"^4.2.0\" . AOT with angular cli . I am getting the same issue.\nE:\\Angular\\designcourse\\angular-seo\\node_modules\\angularfire2\\app\\firebase.app.module.js:1\n(function (exports, require, module, __filename, __dirname) { import { InjectionToken, } from '@angular/core';\n                                                              ^^^^^^\nSyntaxError: Unexpected token import\n    at Object.exports.runInThisContext (vm.js:76:16)\n    at Module._compile (module.js:542:28)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.require (module.js:497:17)\n    at require (internal/module.js:20:19)\n    at Object. (E:\\Angular\\designcourse\\angular-seo\\dist\\ngfactory\\src\\app\\app.server.module.ngfactory.ts:26:1)\n    at Module._compile (module.js:570:32)\nWaiting eagerly for your positive response and next release as well. :) . @davideast , does rc2 fixes this issue ?. ",
    "EreckGordon": "@davideast any progress with getting AngularFire2 to play nice with Universal?. ",
    "iiAtlas": "Any fix for this?. ",
    "ncherian": "I tried to do SSR on Cloud functions with AngularFire2 included. There are no errors and data is fetched from RTDB as it can be seen printed in to the logs. But the html pages never render and soon timeout. @davideast Any updates on the possible fix you mentioned?. ",
    "sureshprabhu2218": "We use angularfire2 and firestore in our application. Firestore does not render data as @davideast mentioned. From this conversation I understand its going to take time. @hiepxanh you can try other solutions. One which I saw recently is to use chrome's rendertron. Definitely not better than universal. But will work. Check this blog. ",
    "hamedbaatour": "Finally Server Side Rendering with Firebase :blush:\n\n\n\n\ud83c\udf89 Introducing AngularFire Lite \ud83c\udf89\nAnglularFire Lite is a very very simple library to use Angular with Firebase it supports server-side rendering out of the box for both firebase realtime database and firestore. It renders the SSR app and then switches to the non-SSR to receive real-time updates from firebase with no flickering at all when the angular app bootstraps.\nVisit AngularFire Lite repo to get started today:\n\nGet Started\n\n\nDemo App\n\nPlease note that this is a personal initiative I started and it's still in very early beta so your help by contributing and supporting the library will be the only way to improve it.. ",
    "khalid-halo": "Looking forward to SSR support . ",
    "hiepsieuviet": "well, without support for socket method from angular. We (angularfire, or anything use socket) cannot work with universal. That really bad news, \n1) there are some investment in socket.io with ssr  from angular universal but look like very slow. They are trying to doing something with ZoneMacroTaskWrapper but i don't understand.\n2) Sir @jamesdaniels  is trying to doing something different, Support Angular Universal he work with service worker and xmlhttprequest to make our dream come true. I hope that work. \ud83d\udc4d  everything I can help, you just mention, sir.. well, without support for socket method from angular. We (angularfire, or anything use socket) cannot work with universal. That really bad news, \n1) there are some investment in socket.io with ssr  from angular universal but look like very slow. They are trying to doing something with ZoneMacroTaskWrapper but i don't understand.\n2) Sir @jamesdaniels  is trying to doing something different, Support Angular Universal he work with service worker and xmlhttprequest to make our dream come true. I hope that work. \ud83d\udc4d  everything I can help, you just mention, sir.. ",
    "kpsrinivas": "\"angularfire2\": \"^5.0.0-rc.6\" seems to be working with ssr. Did anything change ?. @andreaaschei yes.. ",
    "andreaaschei": "@kpsrinivas were you able to make the ssr work with rc.6?. ",
    "anasbaddyr": "Seems to be working with RC.7 although some modifications are needed to the official universal guide if you're using material and other libraries in the server.ts file. Thanks @jamesdaniels and the team at angular firebase for the very helpful video highly recommend checking it out.\nhttps://www.youtube.com/watch?v=wij2-gyG12E\nStill will need to test it further but great job guys!. Hey guys i was having similar issues.\nAfter upgrading to the latest firebase \"firebase\": \"^4.12.1\", it decided to remove some packages that i needed in my app so i had to add them back explicitly and it works now using:\n```\nnpm i @firebase/auth\nnpm i @firebase/auth-types\nnpm i @firebase/firestore\n```\nTry doing this for the what it says you're missing it may have removed them in the upgrade.. From what I've seen you need to enable persistence in app.module.ts not in the component.\n```\n//app.module.ts\n@NgModule({\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule.enablePersistence(),\n  ],\n```\nfrom https://github.com/angular/angularfire2/blob/master/docs/firestore/offline-data.md\nTo test it out i would recommend loading images in 2 different components navigating between them then disabling your internet and seeing if the images still load while making sure your cache is disabled.\nAs for the platform, offline persistence is enabled by default on ios and android and disabled on the web. So you can either explicitly enable for all or disable for all or leave the default configurations. There may be more options too.. Correct , but i would still test it to make sure it's working as intended.. Hi xkLander I tested your code and modified the itemsRef for it to work.  Also im calling this code from what would be firebase service to handle the request.\naddItem(data, uid) {\nconsole.log('Data: ', data, 'UID: ', uid);\nconst itemsRef = this.afdb.list('items/'+uid);\nitemsRef.push(data);\n}\n\nTry this instead worked for me.. If it doesn't work then my guess would be that there is something wrong with your firebase configuration and not with the code.  Good luck!. @yugank1991 did you try the solution i posted above? Seems to have solved the issue for me.. ",
    "nsantosdaveiga": "I have the same problem do you find something ?. ",
    "juntaforce": "Are there any solution with this ??. this.groupsRef = this.afDatabase.list('/Groups');\n    this.groups = this.groupsRef.snapshotChanges().map(changes => {\n      return changes.map(c => ({ key: c.payload.key, ...c.payload.val() }));\n    });\nVisual studio code gives an error that  Object is possibly 'null' for  key: c.payload.key and ...c.payload.val(). @hiepxanh You are right.. ",
    "atinybeardedman": "It looks like you are using a list when you don't want to be for that second database call. You should be using the object in this case. You are getting 14 lists instead of 14 objects. So your code should read \naf.database.list('/students', {\n    }).subscribe(res => {\n        this.students = res;\n        this.final_data = this.students.map(function (key) {\n          return af.database.object('/applicants/' + `${key.$key}`);\n      });\n      this.loading = false;\n    });\n  }\nAnd if I'm not mistaken, your template should make use of the async pipe since that data won't be available immediately. You're template should then be:\n<section class=\"contacto-main\">\n    <div class=\"container cont\">\n        <div *ngFor=\"let user of final_data\">\n            <b>{{(user | async)?.name}}</b><br>\n        </div>\n    </div>\n</section>\nHonestly when I am querying 2 parts of the database and I need both pieces of data before I can display anything I start looking at some observable combinators to help with that type of issue. This would let you get data from both places and combine them into 1 observable without subscribing outside of a single async pipe in your template. It results in a little bit cleaner code I find, but it's up to you. In your case you need the list of students and then you use that list to get the info from the other node. You might try using combineLatest or zip, depending on how your data gets updated in the database.\nEdit: Formatting was stupid. It looks like as of RC9 they added this ability through a new module called AngularFireFunctionsModule (I was literally just coming to this repo to look for this ability as well)\nYou can import that module with all the other angularfire ones and then use the AngularFireFunctions object exported from it in your component. There's no documentation but it looks like there's a method called httpsCallable just like in the firebase sdk. I assume it is just a wrapper around that same method.. ",
    "Montellanos": "I am not understanding your point very clearly, you would have some example code of the solution that you propose. The solution is print in template as async\nand retriev data as a object\nThanks\n<div *ngFor=\"let user of final_data\">\n            <b>{{(user | async)?.name}} </b><br>\n        </div>\naf.database.list('/students', {\n    }).subscribe(res => {\n      this.students = res;\n      this.final_data = this.students.map(function (key) {\n        return af.database.object('/applicants/' +${key.$key});\n      });\n      this.loading = false;\n    });. ",
    "jeeteshnariya": "@atinybeardedman  Hi, As your upper comment can we do that with   items: FirebaseListObservable;  how to better code as below;\nwork with arrayItems:Array ,but not work with listObservable ,so it array is right rather than firebaseListObservable what different of them , please explain if possible .! \n```\nexport class AppComponent {\n  items: FirebaseListObservable;\n  wathlist: FirebaseListObservable;\n  arrayItems: Array = [];\n  arrayWathlist: Array = [];\n  newSubject: Subject;\nconstructor(db: AngularFireDatabase) {\n    // this.items = db.list('/ktmarket');\n    // this.items.subscribe(element => {\n    //         console.log(element);\n    // });\n    // this.wathlist = db.list('/watchlist');\n    // this.wathlist.subscribe(element => {\n    //         console.log(element);\n    // });\ndb.list('/watchlist', {\n}).subscribe(res => {\n  this.arrayWathlist = res;\n  this.arrayItems = this.arrayWathlist.map(function (key) {\n    return db.object('/ktmarket/' + `${key.$value}`);\n    // console.log(`${key.$value}`);\n  });\n  // this.loading = false;\n});\nconsole.log(this.arrayItems);\n\n}\n```. ",
    "Vivek-abstract": "Hi all,\nI am trying to read the attribute of an object like the way specified above but I'm getting an error: Cannot read property dateCreated of null.\nI was going to ask this question here but then I solved it so I'm writing the solution here. You can correct me if you want.\nI solved the error by doing the following\n<h5>Complaint Submitted on: {{ hello(item | async) }}</h5>\nand in my typescript file:\nhello(item) {\n  if(item != null) {\n      return item.dateCreated;\n  }\n}. I'm getting this error in the 5.1.1 release. I have no idea how to fix it. I tried downgrading to 5.0.0.rc3 and rc4 but it didn't work. ",
    "adityavarma9": "I found the problem. Some of my profiles didn't have a availability key in it. So added that. Even after that i get the results but they are not filtered based on profile/jobLists/jobid being null. I am getting all profiles. Please help . ",
    "dschnelldavis": "I had the exact same problem, with the same setup - trying to use the latest versions of all the libraries.\nWhen I downgraded firebase back to 4.1.3 (by setting  \"firebase\": \"4.1.3\" in package.json) my app started working again.\nIt's not ideal, but continuing to use firebase 4.1.3 is a workable temporary fix until angularfire2 is updated to support firebase 4.1.4 (which will hopefully be soon).. ",
    "rtpHarry": "I signed it!. ",
    "zjoh5253": "Here's the Typescript\nreturn this.af.database.list('/jobList', {\n        query: {\n          orderByChild: 'employerId',\n          equalTo: employerId\n        }\n    });. ",
    "ChogyDan": "I signed it!. I'm not sure what is failing here.  This is a simple edit to the tutorial docs. ",
    "jdk339": "@davideast Thanks, that makes sense! I was receiving a TS error when trying to import AngularFireAuthModule and AngularFireDatabaseModule, so I removed the 'Module' part of the names and that worked. Now I uninstalled firebase and AngularFire2, and that solved the original issue.. ",
    "Kuziwa": "Hi David, how can the packaging problem be resolved when working on stackblitz.com? \nI get the error below when trying to import the AngularFireModule and AngularFireDatabaseModule \n\n. ",
    "bashisha": "Thank you  fahadhussain2 , it works like a champ.. ",
    "fernando-nog": "Thanks @fahadhussain2, your tip solved my problem. . ",
    "troyb408": "Somebody get this man a beer asap!\n. ",
    "Dragneel7": "Thank You, It was really helpful!. ",
    "ToonvanStrijp": "Damnnn my hero!!! <3. ",
    "elliotwesoff": "Damn, talk about a Hail Mary.... ",
    "celse": "Yes , your tip solved my problem, it works. thanks. ",
    "mo7mdmans": "| import { ListPage } from '../pages/list/list';\n-- | --\n\u00a0 | import { Recipespage } from '../pages/recipes/recipes'\n\u00a0 | \u00a0\n. \n\u00a0 | import { ListPage } from '../pages/list/list';\n-- | --\n\u00a0 | import { Recipespage } from '../pages/recipes/recipes'\n. ",
    "davicoradini": "thanks man!. ",
    "jo-ngei": "thanks buddy. it worked for me too. ",
    "rmfwebmaster": "Thank you @fahadhussain2! This solve to me. Thank you @fahadhussain2! This solve to me. ",
    "p4pupro": "@fahadhussain2 Awesome!! ;). ",
    "playnox": "Damn! my ninja... Big thanks! @fahadhussain2 . ",
    "rachnabalani": "Good lord! I spent more than 5 hours fixing multiple chain of issues and this finally helped! Thanks @fahadhussain2 !!!. ",
    "gadekarpreetam": "i am getting this errors .. can someone help me to fix this\nERROR in D:/angularsite/my-app/node_modules/@angular/fire/angularfire2.d.ts (1,10): Module '\"D:/angularsite/my-app/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nERROR in D:/angularsite/my-app/node_modules/firebase/index.d.ts (176,9): Type expected.\nERROR in D:/angularsite/my-app/node_modules/firebase/index.d.ts (183,9): Type expected.\nERROR in D:/angularsite/my-app/node_modules/firebase/index.d.ts (619,9): Type expected.\nERROR in D:/angularsite/my-app/node_modules/firebase/index.d.ts (1938,5): Type expected.\nERROR in D:/angularsite/my-app/node_modules/@angular/fire/firebase.app.module.d.ts (1,10): Module '\"D:/angularsite/my-app/node_modules/@angular/core/index\"' has no exported member 'InjectionToken'.\nERROR in D:/angularsite/my-app/node_modules/@angular/fire/firebase.app.module.d.ts (2,42): Module '\"D:/angularsite/my-app/node_modules/firebase/index\"' has no exported member 'functions'.\n# package.json file\n{\n  \"name\": \"my-app\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update --standalone false --gecko false\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.3.1\",\n    \"@angular/compiler\": \"^2.3.1\",\n    \"@angular/core\": \"^2.3.1\",\n    \"@angular/forms\": \"^2.3.1\",\n    \"@angular/http\": \"^2.3.1\",\n    \"@angular/material\": \"^6.4.7\",\n    \"@angular/platform-browser\": \"^2.3.1\",\n    \"@angular/platform-browser-dynamic\": \"^2.3.1\",\n    \"@angular/router\": \"^3.3.1\",\n    \"angularfire2\": \"^5.1.1\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.13.1\",\n    \"ngx-clipboard\": \"^7.0.4\",\n    \"npm\": \"^6.4.1\",\n    \"rxjs\": \"^5.0.1\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^2.3.1\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.28.3\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"~4.0.13\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.3\"\n  }\n}\n. ",
    "Drusantia": "I have the same issue. When I get data from firebase, $key is available and I'd like to use it as ID.\nHowever after I want to work with the data later, coming from ngrx store, I don't have the $key anymore (object['$key'] is undefined), even if I define a $key: string; in my model object.\nThis would be the logical way I would expect to work with the data. I know that if something starts with a dollar sign, it's generated by firebase, the others are \"mine\".. ",
    "gmeans": "As a quick follow up, we opted to use the methods recommended here by Redux:\nhttp://redux.js.org/docs/recipes/reducers/NormalizingStateShape.html\nAnd have some simple generic code that pulls the $key property and uses it as the key (and id in the case of a list) to store in our local state.\nThis felt simpler than forcing a workaround for $key and offers some nice benefits when it comes to listing objects and being able to pull additional details.. ",
    "kachhawayamehulgmailcom": "npm-debug.txt\nAlso add debug file\n. No My Project Name is \"firebasecheaking\".. ",
    "tomNjerry": "want to select value from one control and switch the content of the variable i tired both querying method but not supported. I am messing up between two import \n1) import { AngularFireDatabase, FirebaseListObservable, FirebaseObjectObservable } from 'angularfire2/database-deprecated';\n2) import { AngularFireDatabase } from 'angularfire2/database';\nboth support different method ,\nPlease do help Sir,\nThank you in advance.. ",
    "anurag-aadi": "\"davideast\" on that case how we print it on console or page, because i got something like below image\n\n. ",
    "ralph-fuechtenkort": "@Kamshak \ndidn't get you code running on a ionic3 app.module.ts.\nMy Versions are:\n\"@angular/common\": \"4.4.4\",\n \"@angular/compiler\": \"4.4.4\",\n    \"@angular/compiler-cli\": \"4.4.4\",\n    \"@angular/core\": \"4.4.4\",\n    \"@angular/forms\": \"4.4.4\",\n    \"@angular/http\": \"4.4.4\",\n    \"@angular/platform-browser\": \"4.4.4\",\n    \"@angular/platform-browser-dynamic\": \"4.4.4\",\n    \"@ionic-native/core\": \"4.3.2\",\n    \"@ionic-native/splash-screen\": \"4.3.2\",\n    \"@ionic-native/status-bar\": \"4.3.2\",\n    \"@ionic/storage\": \"2.0.1\",\n    \"angularfire2\": \"^5.0.0-rc.3\",\n    \"firebase\": \"^4.6.0\",\n    \"ionic-angular\": \"3.8.0\", \nMy imports are as followed:\nimport * as firebase from 'firebase'\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport {TestService} from './test.service';\nTh errors are in:\nthis.database = new AngularFireDatabase(app);\nthis.auth = new AngularFireAuth(app);\n\"Argument of type App is not assignable to parameter of type FirebaseApp\nThe same happens here:\nconst auth = new AngularFireAuth(firstApp);\nconst db = new AngularFireDatabase(firstApp);\nI am pretty new to firebase, just evaluating it for a new project so i think i make a stupid beginners error :)\nAny help appreciated, thanks. ",
    "efraespada": "@ralph-fuechtenkort this solution works for me getting the Firebase configuration from a JSON assets file:\nmain.ts\ntypescript\nfetch('/assets/config.json').then(resp => resp.json()).then(config => {\n  window['firebase_config'] = config.firebase;\n  window['config'] = config;\n  platformBrowserDynamic().bootstrapModule(AppModule).catch(err => console.error(err));\n});\napp.module.ts\n```typescript\nexport function initializeApp(appConfig: AppConfigService) {\n  return appConfig.fireConfig()\n}\n@NgModule({\n  imports: [\n    AngularFireModule,\n    AngularFireAuthModule,\n    AngularFireStorageModule\n  ],\n  providers: [\n    AppConfigService,\n    {\n      provide: FirebaseOptionsToken,\n      deps: [AppConfigService],\n      useFactory: initializeApp\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n```\napp.config.service.ts\ntypescript\n@Injectable({\n  providedIn: 'root'\n})\nexport class AppConfigService {\n  static settings: IAppConfig;\n  constructor() {}\n  fireConfig() {\n    AppConfigService.settings = window['config'];\n    return window['firebase_config']\n  }\n}\nassets/config.json\njson\n{\n  \"production\": true,\n  \"name\": \"Hello world\",\n  \"firebase\": {\n    \"apiKey\": \"...\",\n    \"authDomain\": \"...\",\n    \"databaseURL\": \"...\",\n    \"projectId\": \"...\",\n    \"storageBucket\": \"...\",\n    \"messagingSenderId\": \"...\"\n  }\n}\ni.app.config.ts\ntypescript\nexport interface IAppConfig {\n  production: boolean;\n  name: string;\n  firebase: {\n    apiKey: string;\n    authDomain: string;\n    databaseURL: string;\n    projectId: string;\n    storageBucket: string;\n    messagingSenderId: string;\n  };\n}\nI think it's similar on a ionic3 app.. ",
    "tplk": "I signed it!. @davideast Sure, thanks!. ",
    "exequiel09": "@davideast All requested changes have been applied. Kindly check if it is okay. Thanks.. ",
    "axis80": "I also ran into this issue but I believe it's with Firebase, not angularfire2.. ",
    "sonirahul": "@funkizer - can you please share your code as a reference. ",
    "ruucm-working": "@funkizer I really have exactly same problem when I using angular universal with firebase\nIt alwasy goes to as I start import AngularFireDatabase from 'angularfire2/database'\nCould you share some codes of your solution?. ",
    "FrozenPandaz": "I faced this issue as well, never found the root cause. Everything works locally but does not work when deployed as a firebase cloud function. I faced this issue as well, never found the root cause. Everything works locally but does not work when deployed as a firebase cloud function. Hey All,\nMay I be of any assistance here?\nI may be able to suggest a solution to the TransferState integration:\n The HttpInterceptors API is perfect for it\n  * Something Similar to a redux reducer might be able to help here\n The alternative is to wrap AngularFirestore.... Hey All,\nMay I be of any assistance here?\nI may be able to suggest a solution to the TransferState integration:\n The HttpInterceptors API is perfect for it\n  * Something Similar to a redux reducer might be able to help here\n The alternative is to wrap AngularFirestore.... ",
    "raviphilips": "Have u got the solution.. ",
    "jamesgroat": "AngularFire 4.0.0-rc.1 does not seem to have this issue, 4.0.0-rc.2 does. I rolled back for now.. @allanpoppe latest everything (including devDependencies) working for me. I was earlier having this issue but in last couple of weeks tried again and am not. . ",
    "petver": "That solved it indeed.\nThanks!!. ",
    "robrecht-vanmelckebeke": "@davideast  I have the same issue in my Ionic 3 project\nWhat files should I send to ?. @davideast  I have the same issue in my Ionic 3 project\nWhat files should I send to ?. https://www.dropbox.com/s/oazatwyayer9chb/app.module.ts?dl=0. https://www.dropbox.com/s/oazatwyayer9chb/app.module.ts?dl=0. @hungdangdo  You can rolback to specific version with this command for example \nnpm i --save angularfire2@4.0.0-rc.2. @hungdangdo  You can rolback to specific version with this command for example \nnpm i --save angularfire2@4.0.0-rc.2. @davideast \nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { IBeacon } from '@ionic-native/ibeacon';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { WaitPage } from '../pages/wait/wait';\nimport { CurrentDayPage } from '../pages/currentday/currentday';\nimport { RankingPage } from '../pages/ranking/ranking';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { CloudSettings, CloudModule } from '@ionic/cloud-angular';\n// Import the AF2 Module\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuth } from 'angularfire2/auth'\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\n// Facebook\nimport { Facebook } from '@ionic-native/facebook';\n// Auth provider\nimport { AuthProvider } from '../providers/auth/auth';\n// AF2 Settings\nexport const firebaseConfig = {\n  //HIDDEN FOR ISSUE\n};\nconst cloudSettings: CloudSettings = {\n  'core': {\n    'app_id': 'HIDDEN'\n  }\n};\n@NgModule({\n  declarations: [\n    MyApp,\n    ProfilePage,\n    CurrentDayPage,\n    RankingPage,\n    TabsPage,\n    LoginPage,\n    WaitPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    CloudModule.forRoot(cloudSettings),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    ProfilePage,\n    CurrentDayPage,\n    RankingPage,\n    TabsPage,\n    LoginPage,\n    WaitPage\n  ],\n  providers: [\n    Facebook,\n    AuthProvider,\n    StatusBar,\n    SplashScreen,\n    IBeacon,\n    AngularFireAuth,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n. @davideast \nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { IBeacon } from '@ionic-native/ibeacon';\nimport { ProfilePage } from '../pages/profile/profile';\nimport { WaitPage } from '../pages/wait/wait';\nimport { CurrentDayPage } from '../pages/currentday/currentday';\nimport { RankingPage } from '../pages/ranking/ranking';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { LoginPage } from '../pages/login/login';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { CloudSettings, CloudModule } from '@ionic/cloud-angular';\n// Import the AF2 Module\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireAuth } from 'angularfire2/auth'\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\n// Facebook\nimport { Facebook } from '@ionic-native/facebook';\n// Auth provider\nimport { AuthProvider } from '../providers/auth/auth';\n// AF2 Settings\nexport const firebaseConfig = {\n  //HIDDEN FOR ISSUE\n};\nconst cloudSettings: CloudSettings = {\n  'core': {\n    'app_id': 'HIDDEN'\n  }\n};\n@NgModule({\n  declarations: [\n    MyApp,\n    ProfilePage,\n    CurrentDayPage,\n    RankingPage,\n    TabsPage,\n    LoginPage,\n    WaitPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    CloudModule.forRoot(cloudSettings),\n    AngularFireModule.initializeApp(firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    ProfilePage,\n    CurrentDayPage,\n    RankingPage,\n    TabsPage,\n    LoginPage,\n    WaitPage\n  ],\n  providers: [\n    Facebook,\n    AuthProvider,\n    StatusBar,\n    SplashScreen,\n    IBeacon,\n    AngularFireAuth,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n. ",
    "hungdangdo": "I get the same issue. I edited AngularFire 4.0.0-rc.2 to AngularFire 4.0.0-rc.1 and rebuild by deleting  node_modules then 'npm install' but still get same error =.= How can I roll back AngularFire 4.0.0-rc.1 and solve this problem? Please help!!. I get the same issue. I edited AngularFire 4.0.0-rc.2 to AngularFire 4.0.0-rc.1 and rebuild by deleting  node_modules then 'npm install' but still get same error =.= How can I roll back AngularFire 4.0.0-rc.1 and solve this problem? Please help!!. ",
    "almoore": "I am having this same issue witn angularfire2@4.0.0-rc.2 on building on Mac. When I go to angularfire2@4.0.0-rc.1 it will build fine.. ",
    "raju1979": "I am also having this same issue witn angularfire2@4.0.0-rc.2 on building on Mac / windows-10.. @lordgreg , install angularfire2.rc1. It works with cordova build --prod. I just moved to Firestore + angularfire(5.0.0-rc.3). It works great and android build also works.. @Toxicable , are you using angularfire rc1 or rc2.\nIts not working in RC1 at my end.. @Toxicable , are you using angularfire rc1 or rc2.\nIts not working in RC1 at my end.. ",
    "lordgreg": "Same issue here :(. @raju1979 thank you. did just that.. ",
    "krlozadan": "I'm using angularfire2.rc1 and it is not working\nHere's my ionic info:\ncli packages: \n    @ionic/cli-plugin-cordova       : 1.6.2\n    @ionic/cli-plugin-ionic-angular : 1.4.1\n    @ionic/cli-utils                : 1.7.0\n    ionic (Ionic CLI)               : 3.7.0\nglobal packages:\n    Cordova CLI : 7.0.1\nlocal packages:\n    @ionic/app-scripts : 2.1.4\n    Cordova Platforms  : android 6.2.3\n    Ionic Framework    : ionic-angular 3.2.1\nSystem:\n    Node       : v8.4.0\n    OS         : macOS Sierra\n    Xcode      : Xcode 8.3.2 Build version 8E2002\n    ios-deploy : 1.9.1\n    npm        : 5.3.0. I rolled back to firebase@3.9.0 and worked just fine. @davideast  the \"angularfire2/database-deprecated\" didn't work out for me I don't know if there's a specific version that has that module integrated. . ",
    "cmartin81": "I'm facing the same problem.  Downgrading to rc1 will let ionic build it with prod flag enabled. But then I get a white screen + an error saying:  \"Cannot read property 'databaseURL' of undefined\". Running without the --prod flag works fine.. @chris-eduardo I had the same problem until I installed @ ionic/app-scripts@nightly (and updated angular to 4.4.3 this is not necessarily).\nAfter this I manage to build with --prod flag.\nGood luck :)\nPS. I'm still running angularfire2@4.0.0-rc-1. ",
    "FazioNico": "got the same issue with AngularFire2 4.0.0-rc.2 and ionic 3.6.0\nproblem only with --prod flag \n:-(\n. maybe is the same cause... see issue: #1124 . ",
    "prashanteb": "I am facing same issue. \n@davideast Did you have any solution? . Thank you @EduardoLZ \nThat's work for me. \n\nnpm install --save angularfire2@4.0.0-rc.1\nionic cordova build android --prod --release\n\nbuild successfully . ",
    "silverio": "Same problem here.. . Hi @sionfletcher, @davideast I have the same problem, is there a fix for this issue?\nERROR Error: Uncaught (in promise): Error: FIRESTORE (4.8.0) INTERNAL ASSERTION FAILED: Unknown FieldValue {\"localWriteTime\":{\"seconds\":1516818651,\"nanos\":709000000},\"typeOrder\":3}\nError: FIRESTORE (4.8.0) INTERNAL ASSERTION FAILED: Unknown FieldValue {\"localWriteTime\":{\"seconds\":1516818651,\"nanos\":709000000},\"typeOrder\":3}\n    at fail (assert.js:33)\n    at JsonProtoSerializer.toValue (serializer.js:336)\n    at serializer.js:944\n    at Array.map (<anonymous>)\n    at JsonProtoSerializer.toCursor (serializer.js:944)\n    at JsonProtoSerializer.toQueryTarget (serializer.js:823)\n    at JsonProtoSerializer.toTarget (serializer.js:888)\n    at PersistentListenStream.watch (persistent_stream.js:402)\n    at RemoteStore.sendWatchRequest (remote_store.js:230)\n    at RemoteStore.listen (remote_store.js:209)\n    at fail (assert.js:33)\n    at JsonProtoSerializer.toValue (serializer.js:336)\n    at serializer.js:944\n    at Array.map (<anonymous>)\n    at JsonProtoSerializer.toCursor (serializer.js:944)\n    at JsonProtoSerializer.toQueryTarget (serializer.js:823)\n    at JsonProtoSerializer.toTarget (serializer.js:888)\n    at PersistentListenStream.watch (persistent_stream.js:402)\n    at RemoteStore.sendWatchRequest (remote_store.js:230)\n    at RemoteStore.listen (remote_store.js:209)\n    at c (polyfills.js:3)\n    at polyfills.js:3\n    at polyfills.js:3\n    at t.invoke (polyfills.js:3)\n    at Object.onInvoke (core.js:4629)\n    at t.invoke (polyfills.js:3)\n    at r.run (polyfills.js:3)\n    at polyfills.js:3\n    at t.invokeTask (polyfills.js:3)\n    at Object.onInvokeTask (core.js:4620). ",
    "gocha-gochitashvili": "I downgraded to\nnpm i --save angularfire2@4.0.0-rc.0\nand works now.. ",
    "josiekiwanuka": "Same issue here, wondering if an update is available!. ",
    "Nexeuz": "Any update for this?. I hope use the next version!!.. ",
    "soumak77": "My build is working with the --prod flag and angularfire2@4.0.0-rc-2 after installing ionic-angular@nightly and @ionic/app-scripts@nightly. @Ross-Rawlins not for your production environment, but it does indicate that this issue should be resolved with the next release of those two libraries. @MarcoLeko you could use this library for mocking firebase: https://github.com/soumak77/firebase-mock\nI'm not exactly sure how to inject this mock into angularfire though, see https://github.com/angular/angularfire2/issues/1557. Anyone have feedback on this?  Dependency injection is a must have to test apps that use this library.. @davideast angularfire2 already makes use of a FirebaseAppProvider.  Is there a way to override this provider to allow me to control how the app is generated?. @rtm there is no add method for batched writes.  When I need to do an add method in a batch, I first generate a new ID, then use that ID in a set.\nThis library provided a utility method for generating IDs: https://github.com/angular/angularfire2/blob/master/src/firestore/firestore.ts#L172-L174. @rtm I haven't tried using batched writes in offline mode.  For your last question, I don't know if it's possible to reuse a batch after committing.  Even if possible, I would suggest not trying to do this to avoid confusion in your codebase and instead create a utility method for generating the batch.. ",
    "EduardoLZ": "Step 1:\nDELETE node_modules FOLDER\nStep 2:\nin package.json delete angularfire2 in dependencies, after that: npm install\nStep 3:\nnpm install --save angularfire2@4.0.0-rc.1\nStep 4:\nionic cordova build android --prod\nthat works for me, see ya !. ",
    "Abrahamh08": "I'm having the same problem with 5.0.0-rc.2. @davideast Can you link the issue relating to this in the ionic CLI please?. @San10694 Yep, just build through XCode. ",
    "chrismclarke": "same issue with 5.0.0-rc.3 and app-scripts nightly. . > @chrismclarke have you find a way of doing this without the angularfire2 implementation?\nNo sorry I haven't attempted. ",
    "Gabrielr47": "same with \"angularfire2\": \"^5.0.0-rc.2\",. ",
    "San10694": "it is fixed now  in \"angularfire2\": \"^5.0.0-rc.3\",.... \njust run \"npm install angularfire2 firebase promise-polyfill --save\" \nand then run - \"ionic cordova build android --prod \". @sloznjak    yes bro ,\n\"dependencies\": {\n        \"@angular/common\": \"4.4.3\",\n        \"@angular/compiler\": \"4.4.3\",\n        \"@angular/compiler-cli\": \"4.4.3\",\n        \"@angular/core\": \"4.4.3\",\n        \"@angular/forms\": \"4.4.3\",\n        \"@angular/http\": \"4.4.3\",\n        \"@angular/platform-browser\": \"4.4.3\",\n        \"@angular/platform-browser-dynamic\": \"4.4.3\",\n        \"@angular/platform-server\": \"2.2.1\",\n        \"@angular/tsc-wrapped\": \"^4.4.5\",\n        \"@firebase/webchannel-wrapper\": \"0.2.2\",\n        \"@ionic/storage\": \"2.0.1\",\n         \"ionic-angular\": \"3.7.1\",\n        \"@types/firebase\": \"^2.4.32\",\n        \"angular-animate\": \"^1.6.1\",\n        \"angular2-moment\": \"^1.3.3\",\n        \"angularfire2\": \"^5.0.0-rc.3\",\n        \"firebase\": \"^4.6.0\"\n]\nand here is my ionic-info ---->\ncli packages:\n   @ionic/cli-utils  : 1.15.2\n   ionic (Ionic CLI) : 3.15.2\n\nglobal packages:\ncordova (Cordova CLI) : 7.0.1\n\nlocal packages:\n@ionic/app-scripts : 3.0.0\nCordova Platforms  : none\nIonic Framework    : ionic-angular 3.7.1\n\nSystem:\nAndroid SDK Tools : 25.2.5\nNode              : v6.10.1\nnpm               : 3.10.10\nOS                : Windows 10\n\nhope it will help you . . ",
    "LloydVincent": "I had this problem too, I think... At least something very similar to it.\nThe problem started happening in my Ionic 3 project after I updated firebase to 4.6.0 and angularfire2 to 5.0.0-rc.3 (so that I could use Firestore). Everything worked fine with dev builds but when I tried to push a production build it seems like webpack failed.\nHere's my working package configuration, after much pain...\n\"@angular/common\": \"4.4.4\",\n    \"@angular/compiler\": \"4.4.4\",\n    \"@angular/compiler-cli\": \"4.4.4\",\n    \"@angular/core\": \"4.4.4\",\n    \"@angular/forms\": \"4.4.4\",\n    \"@angular/http\": \"4.4.4\",\n    \"@angular/platform-browser\": \"4.4.4\",\n    \"@angular/platform-browser-dynamic\": \"4.4.4\",\n    \"@ionic-native/core\": \"3.12.1\",\n    \"@ionic-native/splash-screen\": \"3.12.1\",\n    \"@ionic-native/status-bar\": \"3.12.1\",\n    \"@ionic/app-scripts\": \"3.0.1\",\n    \"@ionic/cli-plugin-ionic-angular\": \"1.4.1\",\n    \"@ionic/storage\": \"2.0.1\",\n    \"angularfire2\": \"5.0.0-rc.3\",\n    \"express\": \"^4.15.3\",\n    \"firebase\": \"^4.6.0\",\n    \"ionic\": \"^3.15.2\",\n    \"ionic-angular\": \"^3.8.0\",\n    \"ionicons\": \"3.0.0\",\n    \"promise-polyfill\": \"6.0.2\",\n    \"rxjs\": \"5.4.3\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"typescript\": \"2.3.4\",\n    \"zone.js\": \"0.8.18\"\nI think node/npm version has something to do with this too. \nStarted with 6.9.0/3.10.8 (prod build failing) but ended up with 6.11.5/3.10.10 (working)\nHowever, I think recently I needed to switch my node/npm version to get a stencil.js project working, so the version I used to update firebase/angularfire2 might not have been 6.9.0 (sorry, kinda lost track). ",
    "allanpoppe": "Any news on this? I'm also having this issue.\n\"@angular/common\": \"4.1.3\",\n        \"@angular/compiler\": \"4.1.3\",\n        \"@angular/compiler-cli\": \"4.1.3\",\n        \"@angular/core\": \"4.1.3\",\n        \"firebase\": \"^4.6.0\",\n        \"angularfire2\": \"^5.0.0-rc.3\",\n        \"ionic\": \"3.16.0\",\n        \"ionic-angular\": \"3.6.0\",\n        \"promise-polyfill\": \"^6.0.2\". Solved the issue by updating @angular/* and ionic-angular dependencies.. @kaushikred actually I did it manually...\n\nnpm install --save @angular/animations@4.4.3 @angular/common@4.4.3 @angular/compiler@4.4.3 @angular/compiler-cli@4.4.3 @angular/core@4.4.3 @angular/forms@4.4.3 @angular/http@4.4.3 @angular/platform-browser@4.4.3 @angular/platform-browser-dynamic@4.4.3 ionic-angular@3.7.1\n\nAfter that, I also had to update some other packages because npm threw some WARNs.. I also updated rxjs, zone.js and typescript.\n\n    \"promise-polyfill\": \"6.0.2\",\n    \"rxjs\": \"5.4.3\",\n    \"zone.js\": \"0.8.18\"\n\n    \"@ionic/app-scripts\": \"2.1.3\",\n    \"ionic\": \"3.17.0\",\n    \"typescript\": \"2.3.4\".\n\n",
    "sloznjak": "@San10694 could you post your dependencies from package.json file and \"ionic info\" of your project here?. @San10694 Thanks a lot! That helped \ud83d\ude03 . ",
    "kaushikred": "@allanpoppe which command did you run to update all the dependencies\n. @allanpoppe  thanks but I just updated so many things it's just may I know which version of typescript and rxjs was in dependencie. ",
    "biagruot": "@San10694 Thanks a lot! lt worked!. ",
    "ksnyde": "I am getting the same error message but NOT using ionic at all so I guess somehow I've recreated this problem. Can someone quickly describe how this issue was addressed in Ionic?\nNote I am using Typescript and the following deps in package.json:\n  \"dependencies\": {\n    \"@firebase/app\": \"^0.1.5\",\n    \"firebase\": \"^4.8.1\",\n  },\n  \"peerDependencies\": {\n    \"@firebase/database-types\": \"0.1.0\",\n    \"@firebase/app-types\": \"^0.1.0\",\n    \"@firebase/auth\": \"^0.3.1\",\n    \"@firebase/auth-types\": \"^0.1.0\"\n  },\n  \"devDependencies\": {\n    \"@firebase/app-types\": \"^0.1.0\",\n    \"@firebase/auth\": \"^0.3.1\",\n    \"@firebase/auth-types\": \"^0.1.0\",\n    \"@firebase/database-types\": \"0.1.0\",\n\n\nnote: I did remove the non firebase deps for brevity\n\nI do find it very confusing with the source code in @firebase versus that in firebase. I originally figured @firebase was just TS typings but there is implementation code there too.\nAlso note the full stack trace of the error I'm getting:\nTypeError: Cannot read property 'databaseURL' of undefined\n    at RepoManager.databaseFromApp (/Users/ken/mine/forest-fire/abstracted-client/node_modules/@firebase/database/dist/cjs/src/src/core/RepoManager.ts:82:45)\n    at Object.instance.INTERNAL.registerService.Reference [as database] (/Users/ken/mine/forest-fire/abstracted-client/node_modules/@firebase/database/dist/index.node.ts:60:53)\n    at FirebaseAppImpl._getService (/Users/ken/mine/forest-fire/abstracted-client/node_modules/@firebase/app/dist/cjs/src/dist/cjs/src/firebaseApp.ts:160:8)\n    at FirebaseAppImpl.(anonymous function) [as database] (/Users/ken/mine/forest-fire/abstracted-client/node_modules/@firebase/app/dist/cjs/src/dist/cjs/src/firebaseApp.ts:375:25)\n    at DB.connect (/Users/ken/mine/forest-fire/abstracted-client/src/db.ts:76:40)\n    at new DB (/Users/ken/mine/forest-fire/abstracted-client/src/db.ts:39:12)\n    at Suite.describe (/Users/ken/mine/forest-fire/abstracted-client/test/db-spec.ts:39:14)\n    at Object.create (/Users/ken/mine/forest-fire/abstracted-client/node_modules/mocha/lib/interfaces/common.js:114:19)\n    at context.describe.context.context (/Users/ken/mine/forest-fire/abstracted-client/node_modules/mocha/lib/interfaces/bdd.js:44:27)\n    at Object.<anonymous> (/Users/ken/mine/forest-fire/abstracted-client/test/db-spec.ts:37:1)\n    at Module._compile (module.js:643:30)\n    at Module.m._compile (/Users/ken/mine/forest-fire/abstracted-client/node_modules/ts-node/src/index.ts:392:23)\n    at Module._extensions..js (module.js:654:10)\n    at Object.require.extensions.(anonymous function) [as .ts] (/Users/ken/mine/forest-fire/abstracted-client/node_modules/ts-node/src/index.ts:395:12)\n    at Module.load (module.js:556:32)\n    at tryModuleLoad (module.js:499:12)\n    at Function.Module._load (module.js:491:3)\n    at Module.require (module.js:587:17)\n    at require (internal/module.js:11:18)\n    at /Users/ken/mine/forest-fire/abstracted-client/node_modules/mocha/lib/mocha.js:231:27\n    at Array.forEach (<anonymous>)\n    at Mocha.loadFiles (/Users/ken/mine/forest-fire/abstracted-client/node_modules/mocha/lib/mocha.js:228:14)\n    at Mocha.run (/Users/ken/mine/forest-fire/abstracted-client/node_modules/mocha/lib/mocha.js:514:10)\n    at Object.<anonymous> (/Users/ken/mine/forest-fire/abstracted-client/node_modules/mocha/bin/_mocha:480:18)\n    at Module._compile (module.js:643:30)\n    at Object.Module._extensions..js (module.js:654:10)\n    at Module.load (module.js:556:32)\n    at tryModuleLoad (module.js:499:12)\n    at Function.Module._load (module.js:491:3)\n    at Function.Module.runMain (module.js:684:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3.\n",
    "littlemercury": "This is an issue with rc2. Reverting to rc1 will fix this. \nDelete your node_modules directory, revert to rc1 and run npm install. . This is a duplicate of this issue - https://github.com/angular/angularfire2/issues/1124. ",
    "danseid": "Same here with rc0 and rc1. ",
    "yidongw": "I use to use http calls. I can save Date obj to Firebase no problem.\nDo you know why i need to change to string and is it something will be improved later?. ",
    "azamalvi": "You can use this using current angularfire2 version like below \ncontroller.ts\nimport { Observable } from 'rxjs/Observable';\n.......\nsurveys2 : Observable<any>;\n\nconstructor(public db: AngularFireDatabase) {\n    this.surveys2 = this.db.object('surveys/-Kss5Jp2IlnBWiK6V4MC')\n        .snapshotChanges().map(res => {\n            return res.payload.val();\n        });\n}\n\nhtml\n{{surveys2 |async|json}}.\n",
    "vhosamane": "I am also facing same issue. I am not able to get single value.\nMy ts file passing id to get single record.\nimport { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute, Params } from '@angular/router';\nimport { UserService } from '../user.service';\n@Component({\n  selector: 'app-user-details',\n  templateUrl: './user-details.component.html',\n  styleUrls: ['./user-details.component.css']\n})\nexport class UserDetailsComponent implements OnInit {\nid: any;\n  userList: any;\n  imageUrl: any;\nconstructor(private _user: UserService, private router: Router, private arouter: ActivatedRoute) { }\nngOnInit() {\n    this.id = this.arouter.snapshot.params['id'];\n    console.log(this.id);\n    this._user.getUserDetails(this.id);\n    console.log(this.userList);\n  }\n}\nMy service file\nimport { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\nimport { Observable  } from 'rxjs/Observable';\nimport { User } from './user';\nimport * as firebase from 'firebase';\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\nuserList:  AngularFireList;\n  folder: any;\n  userDetails: Observable;\nconstructor(private _fb: AngularFireDatabase) {\n    this.folder = 'userProfile';\n    this.userList = _fb.list('/user');\n  }\ngetAllUser() {\n    return this.userList;\n  }\ninserUser(contFrm: User){\n      this.userList.push(contFrm);\n  }\ngetUserDetails(id) {\n    console.log('user/'+id);\n    this.userDetails = this._fb.object('user/'+id).snapshotChanges().map(res => {\n      let x = res.payload.val();\n    });\n  }\n}. Above solution is working for me. thanks @kanafghan . ",
    "ganeshnischayp": "\naf.object('surveys/-KtG6W10NVSUn5V17eRy') gives you an item as a single object\nSee here https://github.com/angular/angularfire2/blob/master/docs/2-retrieving-data-as-objects.md\nFor more info\n\nDoesn't work with AngularFireStore, any solutions to this? . I solved it using AngularFirestoreDocument.. ",
    "caph1993": "The link is dead.\nhttps://github.com/angular/angularfire2/blob/master/docs/2-retrieving-data-as-objects.md. ",
    "jayserdny": "@davideast https://github.com/ionic-team/ionic-cli/issues/2686. @FazioNico Thanks! Solved by downgrading.. ",
    "Wanted92": "@katowulf why has been the issue closed?\n@ivanhdzd do you solve the problem?. @eduardowickertg I have the same problem and I'm getting mad, @Toxicable Do you have a simple solution?. ",
    "ivanhdzd": "@Wanted92 I had to downgrade Angularfire2 to 4.0.0-rc.1:\n[npm install --save-exact | yarn add --exact] angularfire2@4.0.0-rc.1. ",
    "nyousaf47": "I am facing same issue. ",
    "OAnouman": "Facing the same issue \"angularfire2\": \"^5.0.0-rc.7.0-next\",. ",
    "Supamiu": "The final goal of this is to create a generic abstract service to have methods for data management, using an abstract method to get the base uri of the resource managed by the child service.\nSomething like this:\n```tyepscript\nexport abstract class DataService{\nprotected abstract getBaseUri(): Observable<string>;\n\nprotected abstract getClass(): any;\n\nconstructor(private firebase: AngularFireDatabase, private serializer: NgSerializerService){}\n\npublic get(uid: string): Observable<T>{\n    return this.oneRef(uid).map(data => this.serializer.deserialize<T>(data, this.getClass()));\n}\n\npublic update(uid: string, data: T): firebase.Promise<void>{\n    return this.oneRef(uid).update(data);\n}\n\npublic push(data: T): firebase.database.ThenableReference{\n    return this.listRef().push(data);\n}\n\nprivate get listRef(): FirebaseListObservable<T[]> {\n    return this.getBaseUri().mergeMap(uri => this.firebase.list(uri));\n}\n\nprivate oneRef(uid: string): FirebaseObjectObservable<T> {\n    return this.getBaseUri().mergeMap(uri => this.firebase.object(`${uri}/${uid}`));\n}\n\n}\n```\nUsing this, I should be able to create a new data service on the fly, just by implementing the two abstract methods providing the class (for serialization) and the base uri (for firebase data access).. Just in case someone comes here and want to see how it's going: https://github.com/firebase/firebase-js-sdk/issues/311. A code example is quite hard to show, that being said you can check the service I'm using to connect with database (quite light): https://github.com/Supamiu/ffxiv-teamcraft/blob/master/src/app/core/database/storage/firebase/firebase-storage.ts\nThe issue is that I'd like these changes to be merged somehow, in one request. Because of a quite heavy front-end, I have performance drops when I'm making rtdb calls, especially update because it calls the change detector a lot of time because of these little updates.\nChanging this for one \"big\" update of the whole object doesn't fix the perf issue but makes it worse, the freeze is for a longer time.. So this might come from a corrupted package-lock.json file?\nI think that the error you have with Observable might come from a different version of typescript being used, as I don't have any issues with it on my local version.\nSee travis build for more details: https://travis-ci.org/Supamiu/ffxiv-teamcraft/builds/350227378. Fixed by deleting and recreating the package-lock.json file.\nThanks for your help \ud83d\udc4d . I'd love to see this too but I'm wondering how breaking this change would be, let me explain:\nAt the moment, if I want to delete an item from the database, I'm calling db.collection<User>(Collections.user).doc(id).delete() for instance, and that's all.\nIf we change Promises for cold Observables, all the calls following the approach above will no longer work, as the operation will be cold, it'll need a .subscribe() appended, which would be a breaking change for a lot of applications using these calls.\nThat being said, being able to create cold operations would be really nice, as it allows to fully handle race conditions and gives more control over the general data persistence flow.\nSo maybe it would be like another method (prepareDelete?), just a random idea but maybe it would be a better approach to avoid breaking applications that are using the current Promise version.. ",
    "dkandari": "thanks sir,. ",
    "PeterKassenaar": "I signed it. ",
    "magleahy": "@davideast you seem to be very helpful in these situations. :) . @Toxicable have you tried with the same version of firebase? You are using 4.3.0.\nThanks. . @davideast not for me. Throws a TypeScript error. \n@Toxicable specifically I am looking to know what replaces: this.db.database.ref(refURL)?. @kaceo thanks for concurring! :) \n. I am confused why it works for you @Toxicable and not for me. Life is hard sometimes! ;) \n. Also struggling to find how to implement 2 Firebase instances in the same project. \n@nguyenluucuong as far as I can see - the second one is initialised when I try to initialise two in the app.module - imports e.g.\nAngularFireModule.initializeApp(environment.firebaseConfig),\nAngularFireModule.initializeApp(environment.firebaseConfig2, 'second'),. ",
    "kaceo": "I'm just starting on AngularFireDatabase and I was stumped that a working Ionic code from 3 months back no longer able to compile properly, because of the missing \"database\" from AngularFireDatabase class.  Since I don't know the details of how AFDB works I just let the typescript editor guide me down the defined types, and it suggests this line\n this.afDatabase.database.ref(this.userRef)\n\nshould be replaced with\n this.afDatabase.app.database().ref(this.userRef)\n\nCan I ask the experts here if this is the correct changes, to use v4?. ",
    "Robbie106gti": "hasn't that change a long time ago?\ni thought you were suppose to call the action you wanted to perform on the db ( object or list or smth like that)\nprivate db: AngularFireDatabase\nthis.db.list(ref);. ",
    "pnu": "@larssn That's a valid point, but please change // to # in your example rm \u2026command. Someone may copy-paste that to a terminal as such, without noticing the difference.. ",
    "tinomen": "@Toxicable those links are 404\nAs I just ran an npm update and encountered this same issue it's still not clear in this thread what the new API should be. I'm still on 4 rc0 and don't see the database prop removed from the AngularFireDatabase class on github.\nIs v5 compatible with the old firebase db? It's my understanding it is not.. FYI it appears that the git tag 4.0.0-rc0 on github has the property #database still in place but the npm package installed for 4.0.0-rc.0 does not have it. Bummer.. Reverting firebase back to ^3.6.6 with 4.0.0-rc.0 works. . I don't want to upgrade to v5. How does one stay on 4.0.0-rc.0 (or 1,2)? Is there an actual working v4 anymore?. @mubasshir I downgraded and it is working fine. \n\"angularfire2\": \"4.0.0-rc.0\", \n\"firebase\": \"^3.6.6\",\nI'm too close to completion that I don't want to spend anytime upgrading to v5. Unfortunately, it is generally allowed to introduce breaking changes in rc versions but it's too bad there wasn't much explanation until folks started logging issues. It's the unfortunate side of open source when a major version has this experience then abandoned. . @davideast I was speaking of the v4 changes. I got the error when npm installed rc.1. 4-rc0 with firebase 3.6.6 doesn't throw the error and I can just move on with dev. When my POC is done I'll evaluate an upgrade to v5. ",
    "Martin-Andersen": "Is the new API in RC2?. ",
    "willgm": "I believe there is an error at the new query API example: the .equalTo method should receive the parameter size of the switchMap, right? I'm just asking to make sure I understood the proposal.\nts\nconstructor(db: AngularFireDatabase) {\n    const size$ = new Subject().startWith('large');\n    size$.switchMap(size => {\n      return this.db.list('todos', ref => \n        ref.orderByChild('size').equalTo(size)) // <<~~~~ here, and also an extra parentheses \n        .valueChanges(['child_added', 'child_changed']);\n    });\n}. ",
    "jaufgang": "@Toxicable, @Martin-Andersen, while it does say \"Proposal\" in the issue title, take note that doesn't mean that these changes are just in an early proposal/design stage.  These changes are fully implemented and @davideast posted this issue as a \"Proposal\" in order to solicit feedback on the new API before releasing it. \nIf you look closely at the original post, you will see that there is a PR (#1156) in place with for this new API, and a stackblitz sample project which consumes this new API by using angularfire2@4.0.0-rc.3-exp.7\nSo it looks like these changes are on track to potentially be part of RC3.\nThat having been said, I feel compelled to point out that using proper semantic versioning, a major breaking API change like this should not be introduced between minor RC releases.  The major version number should be bumped up to 5 for this change.. I have taken the suggestion by @Kamshak to \"extract the database part of the library as something like RxjsFirebase\" and posted it as a separate issue  (#1162) where it can take on a life of it's own and be discussed independently of these particular API changes.. The above solution may work but it is unsatisfactory.   It should not be necessary to open a subscription in order to access the ref or the onDisconnect() method.  It would be preferable if both of these could be added to the AngularFireObject and AngularFireList classes. . @TheShashank, your error is due to versioning issues and unrelated to my issue.  In previous versions afdb.list() returns a FirebaseListObservable, but with version 5 the new API returns an AngularFireList.  .valueChanges() is a method of AngularFireList.  You seem to  be attempting to use the version 5 API but running version 4.  Check you package.json and update to the latest version and your error should go away.. No, please post that as a separate issue.. i think a more elegant workaround until this gets fixed would be to explicitly cast the output of .valueChanges() to your desired type\n``typescript\n(afDb.object<FooBar>(\"/foo-bar/1\")\n    .valueChanges() as Observable<FooBar>)\n    .subscribe(fooBarItem => {\n        if (fooBarItem !== null) {\n            console.log(Foo: ${fooBarItem.foo}, Bar:${fooBarItem.bar}`);\n        }\n    });\n(afDb.list(\"/foo-bar\")\n    .valueChanges() as Observable)\n    .subscribe(fooBarArray => {\n        fooBarArray.forEach(fooBarItem => {\n            console.log(Foo: ${fooBarItem.foo}, Bar:${fooBarItem.bar});\n        });\n    });\n``\n. Same here.  I am getting this error on a previously working project after upgrading angularfire2 fromrc.4torc.9`. Help us @davideast,  you're our only hope!. ",
    "shakhrillo": "const itemsList = this.db.list('all_posts_id');\n const items$: Observable = itemsList.valueChanges(['child_added', 'child_removed']);\n items$.subscribe(console.log); // only receive \"child_added\" and \"child_changed\" events\n@davideast Is there any ways to return only new added element without \"child_changed\" events?. ",
    "nikhil-mahirrao": "list.valueChanges() is not giving keys and list.snapshotChanges() gives too much completex object.\nIs there anything which gives array of objects with keys? . ",
    "sparqueur": "I agree with nikhil-mahirrao.\nIn my case I want to do client side filtering for performance purpose.\nTherefore I do something like :\n```\nclassroomsAf: AngularFireList;\nclassroomsObs: Observable;\nclassroomsValues: Classroom[];\nclassroomsFiltered: Classroom[];\nqueryText: string;\nngOnInit() {\n    this.classroomsAf = this.afDatabase.list('/classrooms');\n    this.classroomsObs = this.classroomsAf.valueChanges();\n    this.classroomsObs.subscribe( (classroomValues) => {\n      this.classroomsValues = classroomValues;\n      this.filterClassrooms();\n    });\n  }\nfilterClassrooms() {\n    this.classroomsFiltered= _.filter(this.classroomsValues, (classroom) => \n   classroom.name.toLowerCase().indexOf(this.queryText.toLowerCase()) != -1);\n}\n```\nProblem : I can't delete an item as I \"lose\" the $key.\nUsing snapshot is possible but it makes this more complicated for nothing.\nWouldn't it be possible to have an implicite $key mapping on the retrieved objects ?\nAt least please change SnapshotAction to a generic class in order to have things cleaner \ud83d\udc4d \nclassroomsAf: AngularFireList<Classroom>;\nclassroomsSnap: Observable<SnapshotAction<Classroom>[]>;\nclassroomsValues: SnapshotAction<Classroom>[];\nclassrooms: SnapshotAction<Classroom>[];\nOr maybe I doing this wrong ?. ",
    "MaximusDesign": "I have got a question. I cannot seem to add a key to the object i want to push.. I know i have to use update(). What exactly constitutes a Firebaseoperation?. I have got a question. I cannot seem to add a key to the object i want to push.. I know i have to use update(). What exactly constitutes a Firebaseoperation?. ",
    "SpiralOutDotEu": "This PR has only doc changes. The build failed error comes from the master branch and it is not relative to this PR.. ",
    "xiaofeizhu1": "Hi David\nThanks a lot for your answer above.\nIf my JSON file is like this\n[\n   {\n     \"name\":\"Jack\",\n     \"age\":\"12\"\n   },\n  {\n    \"name\":\"peter\",\n    \"age\":\"13\"\n  }\n]\nI tried to use query feature in this way\n  this.items = db.list('/',\n    {\n       query: {\n       orderByChild: 'age',\n        equalTo: '13' \n      }\n    }\nIn HTML, I do get the value \"peter\" \n\n\n    {{ item.name }}\n \n\nHowever in the component, is it possible to get and use this value as well?\n. ",
    "j0hnskot": "@davideast  Thank you,\nng -v outputs: \n@angular/cli: 1.4.2\nnode: 6.10.2\nos: win32 x64\n@angular/animations: 4.1.3\n@angular/common: 4.0.3\n@angular/compiler: 4.0.3\n@angular/compiler-cli: 4.0.3\n@angular/core: 4.0.3\n@angular/forms: 4.0.3\n@angular/http: 4.0.3\n@angular/material: 2.0.0-beta.10\n@angular/platform-browser: 4.0.3\n@angular/platform-browser-dynamic: 4.0.3\n@angular/router: 4.0.3\n@angular/cli: 1.4.2\ntypescript: 2.1.6\ntypescript-eslint-parser: 5.0.1\nnode_modules/.bin/ng -v outputs:\n@angular/cli: 1.4.2\nnode: 6.10.2\nos: win32 x64\n@angular/animations: 4.1.3\n@angular/common: 4.0.3\n@angular/compiler: 4.0.3\n@angular/compiler-cli: 4.0.3\n@angular/core: 4.0.3\n@angular/forms: 4.0.3\n@angular/http: 4.0.3\n@angular/material: 2.0.0-beta.10\n@angular/platform-browser: 4.0.3\n@angular/platform-browser-dynamic: 4.0.3\n@angular/router: 4.0.3\n@angular/cli: 1.4.2\ntypescript: 2.1.6\ntypescript-eslint-parser: 5.0.1. @davideast  I did not have webpack installed globally, but after I did the version installed was 3.6.0 .\nnode_modules/.bin/webpack -v returns 3.5.6\n. @davideast , thank you. I'll start an issue on the cli. \nEdit: rc.1 did not change anything, sadly.. Updating @angular/cli and @angular to the latest versions fixes this issue.. ",
    "MustafaHossaini": "Is this because onDisconnect runs under admin and not the authenticated user?. I am getting this error using version ^5.0.0-rc.3. ",
    "lyonzy": "Just created pull request #1165 for this.. No worries. I only use this for debugging anyway so in the meantime I've just patched it into my own node_modules dir. Looking forward to the new API \ud83d\udc4d . Actually it turns out my prototype code doesn't work - it also blocks usage of take(1).toPromise(). Any ideas are appreciated :). ",
    "alorle": "This is due to the latest changes made to the code. Here you can see that the way to use the Firebase database has changed.\nAt this point you have two possibilities:\n\nUse the version currently published in npm (angularfire2@4.0.0-rc.2) and follow this documentation.\nUse the new version (angularfire2@4.0.0-rc.3-exp.7) and follow the documentation published in Github.\n\nIn my opinion, if you are going to start a new project, I would use the new version (npm i --save angularfire2@4.0.0-rc.2), since the trend of the project goes in that direction.. ",
    "prantikv": "Yes. Updated to the latest @next version and things are working now. ",
    "kongalim": "execuse me master i am new in angular\n i want to make service crud with new firebase , but i cannot please built example and how to use in component . ",
    "albertososa95": "@davideast I tried it, but Stackblitz uses Angular 4 and I have some errors trying to migrate my code. Clone my repositorie and try it please.. @davideast Hi! Debugging my AuthService, the promise returned in signInWithRedirect is never reached (I added .then() and .catch()). With signInWithPopup all is ok.. @elvnthaus @jamesdaniels @davideast I just opened up an issue there. The promise is never reached with redirect method. I put there a better version of the code: https://github.com/firebase/firebase-js-sdk/issues/266\nThanks!. ",
    "elvnthaus": "Having the same issue. ",
    "tagazok": "Great !\nWhen will this be available through npm?. ",
    "tgensol": "@davideast Perfect thanks !. ",
    "Anystrous": "The problem is with new documentation. Please check it yourself. Thank you.. ",
    "ayoubboum": "Hi, when i remove an item, all the data deleted in the same time, although i used the same code of @davideast, any idea ?\n. I am new in github, i didn't get what you mean, sorry . Did you fixe my problem?. Hi,\nI've just checked my source code and it's worked just fine.\nOn Tue, Jan 30, 2018 at 11:48 AM, ayoub boumzebra boumzebraa@gmail.com\nwrote:\n\nHi, that pretty weird because if you the video it's worked for me very\nwell , sorry for that, but i'll check it again.\nThanks\nhttp://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail Garanti\nsans virus. www.avg.com\nhttp://www.avg.com/email-signature?utm_medium=email&utm_source=link&utm_campaign=sig-email&utm_content=webmail\n<#m_-2196113848313040215_DAB4FAD8-2DD7-40BB-A1B8-4E2AA1F9FDF2>\nOn Tue, Jan 30, 2018 at 4:58 AM, Abhin Pai notifications@github.com\nwrote:\n\nHi, When I remove a particular item at the same time all the item gets\ndeleted from the database. I followed the same documentation of\n@davideast https://github.com/davideast and I think my issue is pretty\nsimilar which you asked before @ayoubboum https://github.com/ayoubboum\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1180#issuecomment-361477546,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APHL8-IBK-WOLYgUZocV-VLV7pr6zrsYks5tPqGLgaJpZM4PsZjY\n.\n\n\n. \n",
    "heena-tech": "Property do does not exist on firebaseAngularList.Can anyone please help me?. ",
    "abhinpai": "Use AngularFireList instead of firebaseAngularList, firebaseAngularList is replaced to AngularFireList in latest version of ionic \n. ",
    "horlah": "please am still unable to use $key in my html to get the key to a set of data, any way out?\n. I just created my project (ionic) and installed AngularFire, restarted the project and started getting this error: \nCannot find namespace 'firebase'.. ",
    "ericmulcahy": "I just want to share my experience, as someone trying to learn Firebase and Ionic. I started with a tutorial on Youtube \"How to Build An Ionic App with Firebase and AngularFire 4\" where you make a shopping list. Super, super basic. Then I figured, \"why not upgrade to angularfire version 5?\". I found this thread, and tried @davideast 's approach of using separate variables for \"items\" and \"itemsRef\". It seemed weird, why do I now need 2 views of basically the same thing? But it worked. Then I tried to remove an item, which means I needed to stop using item.$key. So I tried @andy-parinas 's approach of using snapshotChanges(), mapping it to an array, and all of that. Now I have 3 views of the same data, and it doesn't work at all - it displays on the screen, but items are repeated, and it fails when there are no items at all in the list. I have no idea why, and frankly, I don't care. \nIt's ridiculous. How is this better than the angularfire version 4 way? Why not provide a full working example? \nSorry to gripe, but I challenge anyone to link me to a basic working example that can display, add, and remove items from a list. How are beginners supposed to learn this?\n. ",
    "Onelastfall": "Anyone has an update on this? I am struggling to get AngularFire2 v 5.0.0 rc-9 up and running. :/. ",
    "just67": "\"How are beginners supposed to learn this?\" \nsame goes for me. it's very confusing with all those changes in the last 6 months and no useful up-to-date example.. ",
    "EstiShay": "Still getting the \"no exported member 'Promise'\" error.. angularfire: 5.0.0-rc.0-next\nfirebase: 4.2.0-4.5.0\nangular: 4.2.4\nWe're still getting it. Tried to roll back to pre-Firebase 4.5.0 and use AngularFire 4.0.0-rc.0. This way we get a screen full of Promise errors. When we update to 5.0, we still get one Promise error.\nERROR in /Users/Guest/Desktop/.../node_modules/angularfire2/firebase.app.module.d.ts (12,28): Namespace 'firebase' has no exported member 'Promise'.\n. ",
    "seetadev": "Is there a documentation for updating the previous code in accordance with AngularFire 5.0?\nI have tried the changes mentioned here.Still I'm unable to resolve the issue.. ",
    "hichamshadow": "Hi,\ni have the same problem here, and i don't want to make changes on my code, because in this case i should make a lot of changes \nhow can i downgrade firebase and angularfire to resolve this issue ? . ",
    "CharlesSuttie": "Hi,\nI had a look at the commit that @Maistho mentions above. But when I look at that file in my local node_modules, the changes are not there. So, I checked the version of angularfire2 in my local node_modules: it's 5.0.0-rc.0-next.\nIn my project, my package.json specifies \"angularfire2\": \"^5.0.0-rc.3\"\nWhen I run yarn add angularfire2 5.0.0-rc3 I get error Couldn't find package \"5.0.0-rc.3\" on the \"npm\" registry.\nWhen I delete node_modules and run npm install I can see \"version\": \"5.0.0-rc.3\" in my local node_modules. And I don't get the firebase has no exported member 'Promise error. The specific error message for that error is:\nERROR in /home/circleci/repo/node_modules/angularfire2/firebase.app.module.d.ts (12,28): Namespace 'firebase' has no exported member 'Promise'.\nI'm not sure why there is a difference between yarn and npm, but I hope this helps\nCharlie\n. Having \"angularfire2\": \"^5.0.0-rc.3\" in my package.json seemed to make yarn install 5.0.0-rc.0-next.\nBut after checking  npm semver calculator, I found that changing the entry in package.json to \"angularfire2\": \"5.0.0-rc.3\" (i.e without the carat) causes yarn to install 5.0.0-rc.3 instead of 5.0.0-rc.0-next. This fixed the problem for me.\n. ",
    "lastamazing7": "when update \nthe version of angularfire2 in my local node_modules: it's 5.0.0-rc.0-next.\nthen getting this error :\n\nnode_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'. \n",
    "nanomo": "\nI don't want to upgrade to v5. How does one stay on 4.0.0-rc.0 (or 1,2)? Is there an actual working v4 \nanymore?\n\nim having the same problem.... ",
    "SuperRoo123": "Same problem..\"angularfire2\": \"^5.0.0-rc.3\" and \"firebase\": \"^4.6.0\"...that's using npm install firebase@latest so don't know how you're getting firebase V5.\nError is:\nNamespace 'firebase' has no exported member 'Promise'.. Found some answers...Firebase doesn't have a promise any more...it is just a generic promise so change firebase.promise to Promise.\nAlso Angularfire2 doesn't have a submit on the object any more...read the conversions from 4 to 5...you have to do some mapping to get it to behave in a similar fashion.... beware breaking updates!!!. Yeah, rollback from  V5 if you don't want the breaking changes or look at the blogs from Jorg at  javebratt.com to work out how to use the new features...he's been updating his blogs to cover V5. ",
    "sumardi": "I'm having the same problem. \nangular: 4.1.3\nangularfire2: 5.0.0-rc.3\nfirebase: 4.6.0\nNode: v6.10.0\nnpm: 4.2.0\nOS: macOS Sierra\nXcode: Xcode 9.0.1 Build version 9A1004. ",
    "davvit": "I get this error but its coming from node_module.\nmy package.json says       \"angularfire2\": \"^5.0.0-rc.3\",\ni did npm update/install and deleted node_modules folder and re-installed..but i keep getting this file with Promise in it.\n/node_modules/angularfire2/firebase.app.module.d.ts (12,28): Namespace 'firebase' has no exported member 'Promise'.\nangularfire2/database-deprecated  does not help me. any idea?. ",
    "NimaiMalle": "I've got \"angularfire2\": \"^5.0.0-rc.3\" too, and can't get the right declaration for delete, so...\nI'm just manually editing firebase.app.module.d.ts and manually changing:\ndelete: () => firebase.Promise<any>;\nto\ndelete: () => Promise<any>;\nTerrible, but I'm doing this just to get back to work until this issue is resolved.. ",
    "trn450": "@NimaiMalle  - I know it's less than ideal, but this is an instance where learning to use some of the great GNU tools like find, sed, and grep in a terminal can make your life a little easier. https://unix.stackexchange.com/questions/112023/how-can-i-replace-a-string-in-a-files. @almothafar - yeah, Always easier said ham done of course. But, files are nothing but strings. With the exception of binaries, it\u2019s pretty straight forward. And even that can be accounted for. It doesn\u2019t hurt to give it a shot. One simple command in the CLI. And if you can\u2019t make it work, you just roll back the changes in one more simple line of text in a CLI. . ",
    "davhad": "What I'm seeing is: Namespace 'firebase' has no exported member 'firestore' in the following .d.ts files: \nnode_modules/angularfire2/firebase.app.module.d.ts\nnode_modules/angularfire2/firestore/collection/changes.d.ts\nnode_modules/angularfire2/firestore/firestore.d.ts\nnode_modules/angularfire2/firestore/interfaces.d.ts\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts\nI'm on \"angularfire2\": \"^5.0.0-rc.3\".. ",
    "kjvelarde": "Is there a documentation for v5? Old namespace don't work anymore.. ",
    "wooltar": "I have to do rollback to   \n\"angularfire2\": \"4.0.0-rc.0\",\n\"firebase\": \"^3.6.6\",\nand works for me\nhere, the steps to migrate to V5.\n StepsToupdateV5. ",
    "mateusduraes": "It was released in 5.0.0-rc.2?\nBecause seems like empty sets still not being returned from valueChanges()\nI have the following code\ntypescript\npublic userExists(email: string): Observable<boolean> {\n    return this.afDb.list('/clients', ref =>\n      ref.orderByChild('email').equalTo(email))\n      .valueChanges()\n      .map((users: User[]) => users.length > 0);\n  }\nWhen my query should return an empty array, the map / observables is not fired.. @jamesdaniels yeah, it is. I've opened the issue #1220\nthanks. ",
    "SGissubel": "I have tried this a thousand times in the last two days, and I continually get the ts errors that \n\"The supplied parameters do not match any signature of call target\".... Hey @houfu, thank you for your response.  I know that the above code is not perfect.  As I mentioned, this is simply one iteration of 10's that I attempted.  Each one returns the exact same response.\nPlease see the image below, it is a screen shot of code directly from the Udemy course I was taking.  It shows the exact same error in my IDE. \n\n. @houfu \nhttps://github.com/SGissubel/code-scissors\nfile located in src/app/dashboard/services/snippets.service.ts\nWhen you have logged in -- it runs the fetch (where the code breaks).  Which is fine, because at first you will have nothing to fetch.  But after you create a 'snippet', it should load the fetch again. This is where it should return the values and should of course return the created id to access each saved item -- for later editing/deleting purposes.  But it never makes it past the snapshotChanges(). . @houfu \nCorrect. It does nothing. There is no error... but also, I assume it didn't log the return data, because it never gets that far. \nThe subscribe is inside of that service, commented out. If you uncomment it, it should not reach that either, because it never makes it past that map function.. \n\n\n. I don't know what happened... I swear this didn't work when I tried it... But currently, I am getting back the \"payload\" inside of the map function (even though my IDE is crazy filled with these errors)\nbut the subscribe is returning \"undefined\".\nWithin the map(), I can retrieve using doc.payload.doc.data();\nBut subscribe returns an array of undefined's. Okay... I'm starting to figure this all out... \n```\nfetchCreatedSnippets() {\n    this.snippetsAll = [];\n    this.db\n      .collection('snippets')\n      .doc(this.userID)\n      .collection('user-snippets')\n      .snapshotChanges()\n      .map(results => {\n        return results.map((snippet) => {\n          return {\n            id: snippet.payload.doc.id,\n              name: snippet.payload.doc.data().name,\n              code: snippet.payload.doc.data().code,\n              other_tags: snippet.payload.doc.data().other_tags,\n              created_at: snippet.payload.doc.data().created_at,\n              language: snippet.payload.doc.data().language,\n              isprivate: snippet.payload.doc.data().private,\n              favorite: snippet.payload.doc.data().favorite\n            }\n        });\n      })\n      .subscribe(result => {\n        this.snippetsAll.push(result);\n        if (result) this.snippetsExist.next(true);\n        this.snippetsAdded.next(this.snippetsAll\n      });\n```\nThank you all for your help and patience. I'm not really sure I understand the context here - without matching my nomenclature.  \nPlus that does't 100% apply when you have to go inside of collection, then doc, then collection, etc. \nBut my last one was how I solved it already.  \nAnd I was not using pipes when I created this.  Though it's a good note to go back in and update some code!\nCheers!. ",
    "dauledk": "@jamesdaniels do you now if there is a workaround to this for now? My objective is to get notified when the collection has data (to update loading indication in the UI). I tried with the do operator, but with no success.. @davideast your are awesome \ud83d\ude80 \ud83d\udc4d !. @markgoho one thing is the error. The other thing is that I don't see any dinosaurs in the html. . @Toxicable - I removed and re-installed angularfire2. It solved the problem. @markgoho - I now see that I dont reference the correct template file, and when I do stackblitz crashes :expressionless: Thanks for the help regardless \ud83d\udcaf . @jamesdaniels can you enable firestore on the project?. duplicate of: https://github.com/angular/angularfire2/issues/1199. signIn(email: string, password: string): Promise<void> {\nreturn this.auAuth.auth.signInWithEmailAndPassword(email, password);\n}. This repo demonstrates a how to use firebase and authentication. It is very good for beginners. There is a demo here. Currently the library uses angular 4 - but the structure of the project should give you a very good idea of where to export your codes.  The actual location is here. Hope this can help you get started :) . Thanks for the help - it works.\nIs there a resume somewhere about @firebase/app? \nIs it correct that you now have to install both firebase and @firebase/app, when using angularfire2?. Hi @sarunint thanks for clarifying that, but look at the dependency list: \n\nIs it just me or are they not documented at all in angularfire2? When do we need the different dependencies? Do we need both firebase and @firebase/app for example?. Ok - but why are they not just included in firebase then? Sorry for asking those questions, but it would be awesome with some background info about this, when suddenly the package.json changes shape complete, when just upgrading one package :). I get this error when trying to import FirebaseOptionsToken from angularfire2: \nModule '\"/Users/alexbjorlig/Documents/eddystone/node_modules/angularfire2/index\"' has no exported member 'FirebaseOptionsToke. I get this error when trying to import FirebaseOptionsToken from angularfire2: \nModule '\"/Users/alexbjorlig/Documents/eddystone/node_modules/angularfire2/index\"' has no exported member 'FirebaseOptionsToke. Thanks for the quick response.\nAm also playing around, and the suggeste fix work.\nI think it boils down to my (limited) understanding of functions that handle types dynamically. Like the queryCollection function should probably have a return signature, of a different type than, say, Observable \ud83d\ude03 \nBut thanks anyway!. ",
    "erikagtierrez": "Hi @almothafar I get what you mean.\nBack in 4.0:\nTS\nvar query = this.database\n      .list(\"items\", {\n        query: {\n          orderByChild: \"id\",\n          equalTo: this.itemID\n        }\n      })\n      .subscribe(result => {\n           // You could go through the result just by:\n           result.forEach( item =>{\n            console.log(item.id);\n           });\n       });\nNow in 5.0:\nTS\n// If you don't cast your variable to string you'll probably get no result\nconst query = this.database\n      .list(\"items\", ref=> ref.orderByChild('id').equalTo((this.itemID).toString()))\n      .valueChanges();\n      .subscribe(result => {\n           // Now, I can't access to the json keys directly, so I save the object.\n           this.myItems=result;\n           this.myItems.forEach( item =>{\n                console.log(item.id);\n           });\n       });\nYou can find more querying lists documentation :smiley:. ",
    "yaircarreno": "Hi guys. I did this for multiple parameters:\nBefore in 4.0:\n```js\nprivate itemsObservable$: FirebaseListObservable;\nthis.equalSubject$ = new BehaviorSubject(null);\nthis.childSubject$ = new BehaviorSubject(null);\nthis.pageSubject$ = new BehaviorSubject(200);\nthis.itemsObservable$ = db.list('/items', { \n   query: {\n        orderByChild: this.childSubject$,\n        equalTo: this.equalSubject$,\n        limitToFirst: this.pageSubject$\n      }\n});\nfilterByValue(value: any) {\n    this.equalSubject$.next(value);\n    this.childSubject$.next('items/id');\n    this.pageSubject$.next(200);\n}\n``` \nNow in 5.0:\n```js\nprivate pagerSubject$: BehaviorSubject;\n//In constructor:\nthis.pagerSubject$ = new BehaviorSubject(new Pager(null, 200, null));\n//filter by order, limit, value. Firts to validate that child && value is not null\nthis.cupoObservable = this.pagerSubject$.switchMap(pager =>\n   db.list('/items', ref => (pager.child && pager.value) ? \n                              ref.orderByChild(pager.child)\n                                   .equalTo(pager.value)\n                                   .limitToFirst(pager.limit) : ref)\n                                   .valueChanges());\nfilterByValue(value: any) {\n    this.pagerSubject$.next(new Pager('items/id', 200, value));\n}\n```\n```js\n//Model Pager:\nexport interface IPager {\n    child: string;\n    limit: number;\n    value: any;\n}\nexport class Pager implements IPager {\nconstructor(\n    public child: string,\n    public limit: number,\n    public value: any) {\n}\n\n}\n```\n. ",
    "rjain15": "I have the same exact error, it works on my local env and doesn't work on by build system (wercker) and I am not using firebase.Promise in my code. Could it be version mismatch in my package.json\nMy auth service uses AngularFireAuth\n```\n      import { AngularFireAuth } from 'angularfire2/auth';\nsigninUser(email: string, password: string) {\n    return firebase.auth().signInWithEmailAndPassword(email, password);\n}\n```\n    \"@angular/common\": \"^4.3.2\",\n    \"@angular/compiler\": \"^4.3.2\",\n    \"@angular/core\": \"^4.3.2\",\n    \"@angular/forms\": \"^4.3.2\",\n    \"@angular/http\": \"^4.3.2\",\n    \"@angular/platform-browser\": \"^4.3.2\",\n    \"@angular/platform-browser-dynamic\": \"^4.3.2\",\n    \"@angular/router\": \"^4.3.2\",\n    \"@types/youtube\": \"0.0.31\",\n    \"angular2-flash-messages\": \"^1.0.8\",\n    \"angularfire2\": \"^4.0.0-rc0\",\n    \"bootstrap\": \"^4.0.0-beta\",\n    \"core-js\": \"^2.4.1\",\n    \"feedme\": \"^1.0.1\",\n    \"firebase\": \"^4.2.0\",\n. Thanks, works and I had to make some more code adjustments. \n. I had to also downgrade the version of firebase from latest to 4.2.0\nhttps://forum.ionicframework.com/t/namespace-firebase-has-no-exported-member-promise/107627/12. ",
    "ChannabasappaH": "Looks like firebase is still not stable.\nI had to run into the same issue.\nI had to change \n  \"angularfire2\": \"^4.0.0-rc.0\",\n  \"firebase\": \"^3.9.*\",\nin my package.json file to fix it.\n@rjain15: Thanks!!! and @davideast Thanks for the latest update.. ",
    "voogi": "Upgraded both packages to latest version, but i cant \"ng serve\" at all. Same error\nERROR in X:/own/fireRPG/node_modules/angularfire2/firebase.app.module.d.ts (12,28): Namespace 'firebase' has no exported member 'Promise'.\nps:. just a fresh ng new project. @Maistho yes i see now, its works like a charm . ",
    "amouly": "@Maistho this was released already? Because I still seeing the same issue as reported above.. @Maistho this was released already? Because I still seeing the same issue as reported above.. ",
    "sssdesilva": "Chanasx fix worked for me. \nChanged:\n\"angularfire2\": \"^4.0.0-rc.0\",\n\"firebase\": \"^3.9.*\",\nin package.json.\nnpm install again.\ndone.. ",
    "ggravand": "I am using angularfire2-offline which does not yet support AngularFire 5.0, so upgrading is not an option at the moment for me. The root problem seems to be Firebase 4.5.1 introducing a breaking change as indicated above without updating the major version number and this version being installed by the \"firebase\": \"^4.0.0\" entry in angularfire2's package.json files. Changing \"^4.0.0\" to \"4.4.0\" in all of these in node_modules worked in a pinch for me for the time being.\nThis was the final push I needed to start looking into npm shrinkwrap or yarn. What a bloody mess this is.. @katowulf I just explained what I did to work around the issue for the sake of assisting other people in the same situation that might stumble upon this. And general venting a bit about a breaking change on something that is not a major version bump (4.x to 4.5 is a minor version bump).. ",
    "eai301": "where i put this code??\nsignIn(email: string, password: string): Promise {\n    return this.auAuth.auth.signInWithEmailAndPassword(email, password);\n  }. do you find where export this codes ?. ",
    "cbanzet": "I have the same issue and I can't seem to correct it while trying to compile...\n    \"firebase\": \"^4.4.2\",\n    \"angularfire2\": \"^5.0.0-rc.4\",\nI have the following errors with ng serve \nERROR in node_modules/angularfire2/firebase.app.module.d.ts(12,19): error TS2709: Cannot use namespace 'firebase' as a type.\nand this one with npm run build \nERROR in node_modules/angularfire2/firebase.app.module.d.ts(12,28): error TS2694: Namespace 'firebase' has no exported member 'Promise'.\nI have seen that there is a problem with the file firebase.app.module.d.ts\n    delete: () => firebase.Promise;\nSo I stopped using the signin function but I still have the bug...\n. so I just changed l12 of the file firebase.app.module.d.ts\nto :     \ndelete: () => Promise;\nand it fixed my bug\n. ",
    "gerrymcdonnell": "\nas said by Chanasx above; \nChanged:\"angularfire2\": \"^4.0.0-rc.0\",\"firebase\": \"^3.9.*\",in package.json\nnpm install\n\nThat worked for me\n. ",
    "renatoredes": "Esse problema \u00e9 resolvido instalando as bibliotecas npm install firebase angularfire2@next --save ou npm install firebase angularfire2 --save. There is no firebase3.d.ts file created after we do: npm install firebase angularfire2@next --save or npm install firebase angularfire2 --save\n. ",
    "iclems": "Sure! I always start by opening tickets to remember it myself ;-) . ",
    "codediodeio": "On a related note, it looks like these methods require a plain object. \n\nIs this expected or should the methods look like this?\nreturn this.ref.update({ ...data }); \n. This issue has already been fixed with #1332. No need to use the workaround above. You can do it like this. \ncityRef.set({ capital: 'sactown' }, { merge: true });. @Toxicable that makes sense, but it seems like AngularFire could convert instances implicitly without harm? For example, you have PhoneNumber class you instantiate, then send that to update the userDocument - you wouldn't expect an instance back, but also wouldn't expect an error. \nWhat do you think about removing the generic type on the data argument, it was an Object type in previous versions?. That's how update should work. If it's typed to a generic it's almost identical to set because you need to send all object data to the method based on its interface (even if updating one property). If that's the case, it should not be documented like this: \"Update some fields of a document without overwriting the entire document\". @larssn An easier solution would be the spread syntax, collection.add({ ...order }). However, I'm still in favor of AF2 doing this by default - that's how v4 worked. . @larssn Nope, one-level. . This PR would also close #1215 . You won't get a consistent server side timestamp with a JS date. Instead, send the server timestamp from the SDK. \nts\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp()\nref.update({ updatedAt: timestamp }). @notsonotso JS Date objects do get saved as timestamps in Firestore. Are you sure you're not converting it to a string on your end? \nts\nref.update({ updatedAt: new Date() })\n// results in timestamp in Firestore. @surajbarkale-dolby Another workaround is this community maintained plugin: https://www.npmjs.com/package/protractor-testability-plugin. Your specs may finish before Firebase, but you can use browser.sleep(...); as needed. Not an ideal solution, but just FYI. . Looks great overall. Threw together a demo at https://angular-z2ucyg.stackblitz.io and noticed a couple issues. \n\ntask.cancel() stops the upload, but throws. It should emit a snapshot with state \"cancelled\", right?\nIt never sends a \"success\" snapshot even though bytesTransferred === totalBytes.\n\n. @BluebambooSRL I'm the guy that wrote that post. I also use the same basic process here https://angularfirebase.com/lessons/google-cloud-vision-with-ionic-and-firebase/. @Heckthor it should in theory, but iOS can have some quirks that vary. Can you post the error  and details on stack overflow?. I like this idea also, but only as an addition alongside Promises like @Supamiu mentioned. It would be a very breaking change and losing async/await might make some people sad (me). \nIt gets weird because Firebase performs optimistic updates, so your UI will update before an Observable emits. And if you unsubscribe before it emits your UI will still update, even though you canceled it. \nIn any case, I wouldn't mind having choices\n```\n// promise \nawait ref.update(...);\nconsole.log('done');\n// rx\nref.update$(...).pipe(tap( () => console.log('done')).subscribe();\n```\n. I think the Angular compiler is having trouble analyzing these lines initializeApp.\nhttps://github.com/angular/angularfire2/blob/a8414f5d62ec073db760e0b7e9346e4d946bd3a3/src/core/firebase.app.module.ts#L50-L51\nPossible Solution?\nForce the second arg to initializeApp to be a FirebaseAppConfig object and remove the string union type, which would also eliminate he need for optional deps. It'd be a breaking change, but minor. . Another possible solution is define the dowlnoad URL after the task has been completed. \n```\nimport { finalize } from 'rxjs/operators';\n// ...\ntask.snapshotChanges().pipe(\n    finalize(() => this.downloadURL = this.storage.ref(path).getDownloadURL() )\n )\n.subscribe()\n```. Just noticed this is a duplicate. Will close for #1635. @jamesdaniels That looks to me, best of both worlds. It fixed the error on my end. . I've been working with schematics for AF2 and have the following proposals. Please post ideas and feedback so we can get the ball rolling:\n\nng add angularfire2/schematics\n\nUpdates the NgModule with imports, initializeApp, and credentials \nInstalls packages\n\n\nng generate component --firestore --auth\n- Generates a component with Firestore and AfAuth injected + some starter code\n- Mocks firebase in the component spec\n\nng generate module --template <crud|login|forms>\nGenerates a fully fleshed-out feature module based on a goal like CRUD, user auth, forms, etc. The idea is here is to provide a best practices example to be used as a starting point or just solve common problems. (This will be the most difficult schemtic to build and maintain)\n. @sulco That would be amazing. I've not had the time recently to move this forward. Just having ng add would be a valuable addition. . @somombo I worked on SSR on Cloud Functions this weekend, but was not able to get it fully working in production. It's possible to deploy a function that works locally, but Universal will fail with the following error when it goes live. Not sure how to fix it yet...\nUnhandled Promise rejection: el.querySelector is not a function ; Zone: <root> ;. I like this and it aligns better with other modules in Angular like reactive forms valueChanges or the rotuer's queryParams. \nOne thing I'm not clear on... will the docs prop map the call to data() for you? Otherwise I believe you will get a \"circular JSON\" error with the async pipe, unless you map it yourself with RxJS, which is painful. \n. Ah, that makes more sense. I think that's a reasonable way to go. The alternative would another prop like itemsCollection.data. A little less code, but not quite as flexible as Rx operators. . @bradyisom the workaround from @cmer4 looks good. Here is another option that works, but pulls in the full firebase SDK, so really only suitable for development. Use try/catch otherwise your app will fail catastrophically on Safari. \n```\nimport * as app from 'firebase';\n@Injectable({\n  providedIn: 'root'\n})\nexport class SomeService {\n  constructor( ) {\n  try {\n    const _messaging = app.messaging();\n    _messaging.onTokenRefresh = _messaging.onTokenRefresh.bind(_messaging);\n    _messaging.onMessage = _messaging.onMessage.bind(_messaging);\n  } catch(e) {}\n}\n}\n``. If you're on Ionic v3 you wantnpm i @ionic-native/google-plus@4.12.2` and  the import should look like\nimport { GooglePlus } from '@ionic-native/google-plus'\nOn Ionic v4, you need all native plugins updated to 5.0.0-beta and imported from npx. \nimport { GooglePlus } from '@ionic-native/google-plus/npx'. Are you sure,  v4 should have \"@ionic/angular\": \"^4.0.0-beta\", but the package on this issue is \"ionic-angular\": \"3.9.2\". \ud83e\udd2f to my amazement, firebase.messaging().useServiceWorker(ngsw) actually works. I never considered doing it this way, but was able to confirm that messages are handled by the SwPush service and caching still works as expected. This seems like an ideal solution at first glance, so thanks for putting it out there @markgoho.\nThis is much better than just concatenating files and also preserves the angular worker - are there issues I'm not aware of @davideast ?. Can you use import { messaging } from 'firebase/app' ? Here's what I did for now to validate that it works with vanilla firebase. One issue I've noticed is that messages seem to be shown on the browser while the app is in the foreground. \n```\nimport * as firebase from 'firebase/app';\nimport 'firebase/messaging';\nfirebase.initializeApp({...})\nimport { SwPush } from '@angular/service-worker';\n@Component(...)\nexport class AppComponent {\nconstructor(private sw: SwPush) {\n   sw.messages.subscribe(console.log);\nconst messaging = firebase.messaging();\n  navigator.serviceWorker.getRegistration().then(registration => {\n      console.log(registration);\n      messaging.useServiceWorker(registration);\n      messaging.requestPermission();\n      messaging.getToken();\n  });\n}\n```. I agree, this should align with the Firebase SDK. A potential workaround is to use a pattern like this: \nconst id = this.afs.createId();\nconst ref = this.afs.collection(this.collectionRef).doc(id);. Build your own stuff from scratch. I like that :+1: . ",
    "bergergit": "Any updates on this? \nBeing able to use { merge: true } is crucial. ",
    "jtomek": "Indeed this is a crucial feature.\n```\nvar cityRef = db.collection('cities').doc('BJ');\nvar setWithMerge = cityRef.set({\n    capital: true\n}, { merge: true });\n```\nhttps://cloud.google.com/firestore/docs/manage-data/add-data\nEDIT: It is possible to use the firebase ref endpoint:\nthis.afs.collection(`users/${variable}/collection`).doc(\"yourid\").ref\n .set({\n  capital: true\n }, { merge: true });. ",
    "sionfletcher": "Seems to work if you import all of firebase...\n``\nimport * as firebase from 'firebase';\n...\nticket.createdAt = firebase.firestore.FieldValue.serverTimestamp()\n````. @Metsuryu are you subscribing the second one anywhere?. @Metsuryu I don't think the observable will emit any values until it's subscribed to, or you useusers | async` in your template.. @davideast Sooo much easier, thanks for the tip - here's a stackblitz. I've made a temp firebase app for now, I'll delete once this is closed. The example is a little contrived but it's the simplest I could do to throw the error.. ",
    "eduardowickertg": "maaan.. I'm getting mad at this.\n`private clientsCollection: AngularFirestoreCollection;\nconstructor(private db: AngularFirestore) {\n}\n\ngetAll() {\n    return this.db.collection<ClientModel>('clients');\n}\n\nadd(client: ClientModel) {\n    this.clientsCollection = this.db.collection<ClientModel>('clients');\n    return this.clientsCollection.add(client);\n}`\n\nLook at this, it is a simple add ObjectModel to collection, but when I try to execute it I receive this:\nFunction CollectionReference.add() requires its first argument to be of type object, but it was: a custom ClientModel object\nIt is almost the same as your piece of code, but it does not work :/. maaan.. I'm getting mad at this.\n`private clientsCollection: AngularFirestoreCollection;\nconstructor(private db: AngularFirestore) {\n}\n\ngetAll() {\n    return this.db.collection<ClientModel>('clients');\n}\n\nadd(client: ClientModel) {\n    this.clientsCollection = this.db.collection<ClientModel>('clients');\n    return this.clientsCollection.add(client);\n}`\n\nLook at this, it is a simple add ObjectModel to collection, but when I try to execute it I receive this:\nFunction CollectionReference.add() requires its first argument to be of type object, but it was: a custom ClientModel object\nIt is almost the same as your piece of code, but it does not work :/. ",
    "callen5914": "@stubborncoder does your add method work? Without the the time stamp? I followed the docs and didn\u2019t use the second line where you use \u201creturn xxxx\u201d. Maybe that\u2019s why my add method is broken. . @stubborncoder I think I found something that you could try for timestamps. It works for me wonderfully!\n```typescript\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport * as firebase from 'firebase';\nimport { Observable } from 'rxjs/Observable';\nexport interface Announcement { id: string; title: string; body: string, createdAt: Date }\n@Component({\n  selector: 'app-announcement-form',\n  templateUrl: './announcement-form.component.html',\n  styleUrls: ['./announcement-form.component.css']\n})\nexport class AnnouncementFormComponent implements OnInit {\nprivate announcementCollection: AngularFirestoreCollection;\n  announcements: Observable;\nconstructor(private afs: AngularFirestore) { \n    this.announcementCollection = afs.collection('announcements');\n    this.announcements = this.announcementCollection.valueChanges();\n  }\nngOnInit() {\n    console.log(\"Hello\");\n  }\naddAnnouncement(title: string, body: string){\n    const id = this.afs.createId();\n    const createdAt = new Date();\n    console.log(createdAt);\n    const announcement: Announcement = {id: id, title: title, body:body, createdAt: createdAt };\n    console.log(announcement);\n    this.announcementCollection.add(announcement);\n  }\n}\n```. No I didn\u2019t see anything in the console. I also set the project Firestore to allow open read and write for dev purposes. Thanks for viewing and your response. Cheers. For what it\u2019s worth I also think there is an issue with using the form tag as it makes the component make a query string in the address bar of the browser. I will have to remove that when I have access to my computer. This could be the reason the browser refreshes after clicking the save button. . Its working now please close issue. Thanks for your help guys.. Did we go to school together?. Yes indeed. I\u2019m glad you mentioned that. I did the update thinking maybe I was behind in release. So at least I am thinking like others. Is there a good plugin for chrome that I can debug click events?. I think I might be onto something here. \nWhen I console log the announcement it gives the whole object. I can clearly see the ID of document I wish to delete. However when I console log out this:\ntypescript\nconsole.log(this.announcementCollectionRef.doc(announcement.id));\nI get something completely different. The ID is way different!. When I try this:\ntypescript\n console.log(this);\nI get this in the console:\nOperator: MapOperator {thisArg: undefined, project: \u0192}\nDoes this mean anything to you guys? Is it possible the ID of the Doc is never being passed?. Ooh even better!\nWhen I use:\ntypescript\nconsole.log(this.announcementCollectionRef.ref.doc().path);\nI get back: \nannouncements/GB1MWkVsFHY4tKZj4w2M\nWhich if this is actually supposed to be the ID, it should have been:\nVqnGFugIvLLGTuajg85q\nSo if I \"Hard Code\" in the ID like:\ntypescript\nthis.announcementCollectionRef.doc('VqnGFugIvLLGTuajg85q').delete();\nThe Announcement will indeed be deleted! So maybe there is an issue with how the metadata is being stored somehow. Like it's not matching what Firebase has.. Okay, so I have figured it out. I feel so foolish for not catching this. In my app I have a parent component with two children one child is the form used to create a doc and the other child is the list of all docs within a collection. The form component was using valueChanges() with a field generated id. The listing component was built using the snapshotChanges(). So the id's were never lining up.. So I read this one. Thanks for taking the to share it. This is kind of confusing to me though. AngularFire is already mapping the data and ID to an Observable. I guess I was expecting this to be an Object that can be used.\n```typescript\nrouteCollection: AngularFirestoreCollection;\n  routes: Observable;\n  constructor(private afs: AngularFirestore) {    \n    this.routeCollection = this.afs.collection('routes');\n    this.routes = this.routeCollection.snapshotChanges().map(actions => {\n      return actions.map(a => {\n        const data = a.payload.doc.data() as Route;\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    });\n  }\ngetRoutes(){\n    return this.routes;  \n  }\n```\nand I get this error:\nCannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.\nwhen consuming like so:\n```typescript\nroutes = new Observable();\nconstructor(private service: RouteService) {\n  }\nngOnInit() {\n    this.routes = this.service.getRoutes();\n  }\n```. @tja4472 I have two files here that I would like to share:\nRouteInterface\ntypescript\nexport interface Route {\n    id?: string,\n    value?: string,\n    display?: string\n}\nRouteService\n```typescript\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject, BehaviorSubject } from 'rxjs';\n//import { Operator } from 'rxjs';\nimport 'rxjs/add/operator/map';\nimport { Route } from '../interfaces/route';\n@Injectable()\nexport class RouteService {\nrouteCollection: AngularFirestoreCollection;\n  routes: Observable;\n  constructor(private afs: AngularFirestore) {    \n    this.routeCollection = this.afs.collection('routes');\n    this.routes = this.routeCollection.snapshotChanges().map(actions => {\n      return actions.map(a => {\n        const data = a.payload.doc.data() as Route;\n        const id = a.payload.doc.id;\n        return { id, ...data };\n      });\n    });\n  }\ngetRoutes(){\n    return this.routes;  \n  }\n}\n```\nI tried the extends method you demonstrated above and I get an error stating the id is not a property of Route. ",
    "rubs": "@callen5914 yes my method works without the timestamp line, your suggestion works fine but bear in mind that you are saving the client's date value, and I would like that field to be more reliable to avoid messing with ordering that collection for example. \nWith new Date() you will set the date to whatever date you user has in her computer...\nSorry I loged as another user, I'm still the original poster.. ",
    "akiraandy": "I'm also having this issue as @stubborncoder. I'm working in Ionic 3 and I've imported angularfire2 and the Firestore module but when I call\n````\nimport { AngularFirestore } from 'angularfire2/firestore';\nimport { Injectable } from '@angular/core';\n@Injectable()\nexport class FirebaseService {\nconstructor(private db: AngularFirestore) { }\naddUser(user) {\n    this.db.collection(\"users\").doc(user.id).set({\n        firstName: user.firstName,\n        lastName: user.lastName,\n        email: user.email,\n        DoB: user.dateOfBirth,\n        created_at: this.db.firestore.FieldValue.serverTimestamp(),\n        updated_at: this.db.firestore.FieldValue.serverTimestamp()\n    }).then(res => {\n        console.log(\"User created. \")\n    }).catch(error => {\n        console.error(\"Error adding user: \", error);\n    });\n}\n\nI get property \"FieldValue\" does not exist on type Firestore when I call:\nthis.db.firestore.FieldValue.serverTimestamp(),\n````\n. ",
    "stubborncoder": "As @sionfletcher stated some days ago, you have to use the whole firebase thingy, the service approach here does not work for some reason:\nimport * as firebase from \u2018firebase\u2019;\nticket.createdAt = firebase.firestore.FieldValue.serverTimestamp(). ",
    "jlguenego": "Just a small improvement for going to production with Firestore.\nIf you don't want to see warning development messages.\nimport * as firebase from 'firebase/app';\nimport 'firebase/firestore';\nticket.createdAt = firebase.firestore.FieldValue.serverTimestamp();\n. ",
    "mhlg": "\nimport * as firebase from 'firebase/app';\nstill get the warning\nIt looks like you're using the development build of the Firebase JS SDK.. \n",
    "edvillareal26": "@davideast so far still having this error. Hope to see fix soon.\nAngular@4.4.4\nFirebase@4.5.0\nAngularFire@5.0.0-rc.2\nOutput during --aot --prod\nWarning: Can't resolve all parameters for AngularFirestore in /Users//Documents/Projects//node_modules/angularfire2/firestore/index.d.ts: ([object Object], ?). This will become an error in Angular v5.x. ",
    "Arystosedes": "I have similar problem too\nUncaught Error: Can't resolve all parameters for AngularFirestore: ([object Object], ?).\n    at syntaxError (compiler.es5.js:1540)\n    at CompileMetadataResolver._getDependenciesMetadata (compiler.es5.js:14877)\n    at CompileMetadataResolver._getTypeMetadata (compiler.es5.js:14745)\n    at CompileMetadataResolver._getInjectableMetadata (compiler.es5.js:14731)\n    at CompileMetadataResolver.getProviderMetadata (compiler.es5.js:15021)\n    at compiler.es5.js:14950\n    at Array.forEach ()\n    at CompileMetadataResolver._getProvidersMetadata (compiler.es5.js:14911)\n    at CompileMetadataResolver.getNgModuleMetadata (compiler.es5.js:14566)\n    at JitCompiler._loadModules (compiler.es5.js:25630)\n@angular/common: 4.1.1\n@angular/compiler: 4.1.1\n@angular/core: 4.1.1\n@angular/forms: 4.1.1\n@angular/http: 4.1.1\n@angular/platform-browser: 4.1.1\n@angular/platform-browser-dynamic: 4.1.1\n@angular/router: 4.1.1\n@angular/cli: 1.0.0\n@angular/compiler-cli: 4.1.1\nFirebase@4.5.0\nAngularFire@5.0.0-rc.2\n. ",
    "ahmadalibaloch": "AngularFirestore is not a provider i know, but in a rename process I got the same error, For me it was occurring, in development ng server,  when I had listed AngularFirestore in providers of one of my AngularModules.\nproviders: [MatSnackBar, AngularFirestore],\nWhen I removed it from the providers, the error disappeared.. AngularFirestore is not a provider i know, but in a rename process, i mistakenly did it and got the same error, so I posted here that may be it could be of help for identification and resolution.. @habib786 AngularFirestoreModule is the module which needs to be added in imports of your app.module file.. ",
    "habib786": "So is there any solution for it? \nWhen I just import AngularFirestore in my component, the error was No provider for AngularFirestore and when I import it my app.module file and call it in provider array, I am getting this error Can't resolve all parameters for AngularFirestore: ([object Object], ?).\nDoes anyone have solution for this?. ",
    "Shemahmforash": "@davideast It seems that in the situation @habib786 described the warning suggests it will become an error in version 5 of angular, not version 6:\nactiveWarning: Can't resolve all parameters for AngularFirestore in /code/angular4/test-project/node_modules/angularfire2/firestore/index.d.ts: ([object Object], ?). This will become an error in Angular v5.x. ",
    "brndex": "any updates?. ?. ",
    "bdogan": "same error using version 5.0.0-rc.3\n. ",
    "yaozuwang": "This seems to be fixed for AFS now, i think James is working on a fix for AFDB #1220, will wait for new commit. Thanks James. ",
    "jeanvanwyk": "Hi @Toxicable, @jamesdaniels , \nThanks for the quick response. Unfortunately I copied the wrong link. I should have copied: https://github.com/angular/angularfire2/blob/master/docs/rtdb/lists.md not querying-lists.md\nI was referring specifically to the Example app portion at the bottom of that page just below https://github.com/angular/angularfire2/blob/master/docs/rtdb/lists.md#deleting-the-entire-list\nThe sections I was referring to was the template and the constructor:\nTemplate:\nhtml\n    <li *ngFor=\"let item of items | async\">\n      <input type=\"text\" #updatetext [value]=\"item.text\" />\n      <button (click)=\"updateItem(item.$key, updatetext.value)\">Update</button>\n      <button (click)=\"deleteItem(item.$key)\">Delete</button>\n    </li>\nand constructor\njavascript\n    this.itemsRef = db.list('messages');\n    this.items = this.itemsRef.valueChanges();\nSpecifically item.$key from the template and valueChanges() from the constructor.\n\nI took the example from the list guide above and I tried to convert to the code listed in the migration guide:\njavascript\nconstructor(afDb: AngularFireDatabase) {\n  afDb.object('items').snapshotChanges().map(action => {\n    const $key = action.payload.key;\n    const data = { key, ...action.payload.val() };\n    return data;\n  }).subscribe(item => console.log(item.key));\n}\nI tried to convert \njavascript\n    this.itemsRef = db.list('messages');\n    this.items = this.itemsRef.valueChanges();\nin a similar way so that I can access the key / $key (The migration example uses $key in one place and key in others. I used $key throughout to match the template.)\nThis is my attempt that fails:\njavascript\n    this.itemsRef = db.list('messages');\n    // this.items = this.itemsRef.valueChanges();\n    this.items = this.itemsRef.snapshotChanges().map(action => {\n      const $key = action.payload.key;\n      const data = { $key, ...action.payload.val() };\n      return data;\n    });\nThis is where I got the message for *ngFor\nSorry for the confusion and thanks for your time and very nice library.. Thank you very much. That fixes my problem.. ",
    "Borsaliino": "For a list, you could do something like\njavascript\nthis.itemsRef = db.list('messages');\nthis.items = this.itemsRef.snapshotChanges().map(messages => {\n  return messages.map(message => {\n    const $key = message.key;\n    const data = { $key, ...message.payload.val() }\n    return data\n  });\n});. I signed it!. @orahul1 Just curious, what kind of weird value gets returned? In my current environment, I'm getting the object's key as expected, using item.$key in application logic.. ",
    "sabeehshah": "@sionfletcher hey man, i need ur help with something similar to this post, i am trying to return the id from the payload of the doc in a method but struggling to do so, let me know if u  can help - sabeeh.shah@hotmail.com. ",
    "fobando93": "After upgrading to ^5.0.0-rc.9 it finally works like this:\nthis.tasksCollection.snapshotChanges().pipe(\n        map(\n            changes => { return changes.map(a => {\n            const data = a.payload.doc.data() as Task;\n            data.id = a.payload.doc.id;\n            return data;\n          });\n          }\n        )).subscribe();. ",
    "leonardocoutinho": "@fobando93 the map still not working inside .pipe( map ), what i have to do?. ",
    "Gregorio19": "is working for me with the map inside the pipe() \nthanks\n i am in the last version of rxjs and firebase ( 11/06/2018) \nimport {\n  AngularFirestore,\n  AngularFirestoreCollection,\n  AngularFirestoreDocument\n} from 'angularfire2/firestore';\nimport { Observable } from 'rxjs/Observable';\nimport { map } from 'rxjs/operators';\nthis.tasks = this.tasksCollection.snapshotChanges().pipe(\n    map(changes => {\n      return changes.map(a => {\n        const data = a.payload.doc.data() as Task;\n        data.id = a.payload.doc.id;\n        console.log(\"hola\");\n        return data;\n      });\n    }));\ni do that in my code. ",
    "FryannM": "\nAfter upgrading to ^5.0.0-rc.9 it finally works like this:\nthis.tasksCollection.snapshotChanges().pipe(\n        map(\n            changes => { return changes.map(a => {\n            const data = a.payload.doc.data() as Task;\n            data.id = a.payload.doc.id;\n            return data;\n          });\n          }\n        )).subscribe();\n\n.  THANKS ITS WORK FOR ME , TE AMO :$. ",
    "gifthlong": "\nAfter upgrading to ^5.0.0-rc.9 it finally works like this:\nthis.tasksCollection.snapshotChanges().pipe(\n        map(\n            changes => { return changes.map(a => {\n            const data = a.payload.doc.data() as Task;\n            data.id = a.payload.doc.id;\n            return data;\n          });\n          }\n        )).subscribe();\n\nIt took a while to find but this works . ",
    "lakinduakash": "\nWell still, it feels a bit silly.\nIt's nice being able to do:\nconst order = new Order(); and get default values for certain fields filled out automatically (for complex objects).\nMy current (silly) workaround is collection.add(JSON.parse(JSON.stringify(order)));\n\nStill this workaround for nested objects?. ",
    "ihateids": "Ups, sorry, sending the right reference:\n\"dependencies\": {\n    \"@angular/animations\": \"^4.2.4\",\n    \"@angular/common\": \"^4.2.4\",\n    \"@angular/compiler\": \"^4.2.4\",\n    \"@angular/core\": \"^4.2.4\",\n    \"@angular/forms\": \"^4.2.4\",\n    \"@angular/http\": \"^4.2.4\",\n    \"@angular/platform-browser\": \"^4.2.4\",\n    \"@angular/platform-browser-dynamic\": \"^4.2.4\",\n    \"@angular/router\": \"^4.2.4\",\n    \"angularfire2\": \"^5.0.0-rc.1\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.5.0\",\n    \"rxjs\": \"^5.4.2\",\n    \"zone.js\": \"^0.8.14\"\n  }, . ",
    "RoseReatherford": "Thanks! I pulled the changes and it works. Closing issue. . ",
    "iskonation23": "if I run my project ionic serve -l\nsee this error :\nTypescript Error\nNamespace 'firebase' has no exported member 'Promise'.\n...oject/apps/ionic-splasher/node_modules/angularfire2/app/firebase.app.module.d.ts\n12    delete: () => firebase.Promise \nplsss help how can fix this problem ? anyone can help me tnx :). How ? \nlike this ? \nsignIn(email: string, password: string): Promise {\n    return this.auAuth.auth.signInWithEmailAndPassword(email, password);\n  }. where place to export your codes ?  I'm sorry because I'm a beginner :)\nOn Fri, Oct 13, 2017 at 11:31 PM, dauledk notifications@github.com wrote:\n\nsignIn(email: string, password: string): Promise { return\nthis.auAuth.auth.signInWithEmailAndPassword(email, password); }\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1261#issuecomment-336486729,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ae1cfWz13yjEgkGiJB39STpDnArdKYuFks5sr4JggaJpZM4P4Kdo\n.\n. \n",
    "orahul1": "I signed it!. But $key returns a weird value . That's why i didn't change during my edit.. First i'm new to firebase. I expect a key like \"kaDdfdEREraEREdddfd\" this. I used to receive key like this in 4.0. . thank you man..... ",
    "MSkraburski": "When I change 'update' to 'set' or 'push' same thing happens.... ",
    "guillefd": "Same here, also snapshotChanges() doesn\u00b4t trigger when list is empty. Had the same issue after upgrading to angularfire2 5.0.0-rc-11 and firebase 5.0.4.\nReinstalled node_modules, cleaned node cache, and app.auth is not a function keep showing.  \nSOLUTION\nAfter pretty much time debugging, did the following and it worked:\n- created a new FRESH angular project\n- installed angularfire and firebase $ npm install firebase angularfire2 --save\n- replaced complete /src folder in new project with previous project /src folder.\n- added required dependencies to package.json from previous project and run npm install\n- run $ ng serve and worked.  \nCLI and package versions:\n```\n  Angular CLI: 6.1.4\n  Node: 8.11.2\n  OS: win32 x64\n  Angular: 6.1.3\n\"angularfire2\": \"^5.0.0-rc.11\",\n  \"firebase\": \"^5.4.0\"\n``` \n. ",
    "SlimenTN": "And how can I do it please, this is my first project with angular and firebase. Ok I did it thank you.. @MahmoodAhmaed98 yes, as @fanals said :\n\nSelect your project then click on Database and change the dropdown from \"Realtime Database\" to \"Cloud Firestore\". \n",
    "fanals": "To let others knows where it is in the firebase console:\nSelect your project then click on Database and change the dropdown from \"Realtime Database\" to \"Cloud Firestore\"\n. ",
    "PreciousDiaz": "thank you so much!\n. ",
    "encode101": "Solution :\nLogin To Console.\nClick on Database \nThere You Can Select Any of The Two FileStorage you want.. # Solution : \nLogin To Console.\nClick on Database \nThere You Can Select Any of The Two FileStorage you want.. ",
    "joseduno": "Thanks!, I had the same problem and could solve it!. ",
    "jacobnaran": "i'm having the same issue with $key. has the sample app in rtdb/lists.md been updated yet?. can someone post sample code on how to update/delete items, like the example app in \nhttps://github.com/angular/angularfire2/blob/master/docs/rtdb/lists.md\nis trying to do?. i did have that, thanks @elmergu . my problem is that i still can't figure out how to edit or delete a specific item; i can create and read, though.\nedit: oh i just saw that example you linked. i will try it out!. ",
    "chensifeng": "@kleeb : It works like this.\nthis.afd.object(path).query.ref.transaction(....);. @kleeb : It works like this.\nthis.afd.object(path).query.ref.transaction(....);. Your solution works for me. Thanks a lot!. > It would be nice that the error points you in the right direction, for example the path which was not unsubscribed or the last path segment. Anything.\n@LanderBeeuwsaert You were right. It would save me a lot of time to have this info.\n. ",
    "Jecri": "Hi, I have the same problem. Do not create the document in firestore. How did you solve it or what was the problem? Thank you.. ",
    "marcboehret": "dito. add() is not adding anything to the firestore. i am using firestore.collection('profiles').doc() and set the values then via set(). seems to work. i was wondering if there the doc() will create an empty record if validation fails - but it doesn't. as far as i have tested it. so it should be equivalent to add().. ",
    "Cillian-Collins": "I encountered this same issue when forking an Ionic project.\nFixed this by editing my package.json which was referencing an outdated version of angularfire2. Changed it from \"angularfire2\": \"2.0.0-beta.7\" to \"angularfire2\": \"2.0.0-beta.8\".\nHope this works for you!. ",
    "zuandre": "orderbykey(true) not working if i remove boolean it works and yes the fact that i need to change the code just to get the key of elements.\nfirestore update is great though.. my package json got ----->\"angularfire2\": \"^5.0.0-rc.3\",\nthe orderby key is not taking any parameters but in documentation it takes a boolean parameter . ",
    "tombalcaen": "Hi all, \nI don't know if this is the right topic, or if this is a question for stackoverflow.. anyways.. I'll put on some brave shoes and ask it anyway..\nI'm having some questions regarding the dropping of the metadata from valueChanges. I recently switched to V5. Meaning that, if i want to receive the metadata I have to use snapshot \"snapshotChanges()\".\nRequesting data:\nroomObject$: Observable;\nthis.roomObject$ = this.db.object('room/' + key).snapshotChanges();\nDisplay data in html:\nIs it possible to display the data in the html code like this?\n{{(roomObject$ | async)?.size}}\nThis doesn't seem to work. Am I missing something?. ",
    "onewiseburdman": "I think its because of the version you are using I had this problem initially, uninstall using npm and reinstall making sure your version is angularfire2@5.0.0-rc.2.  That fixed my issue with that error.  I am now experiencing some weird issue with importing firebase2 database with a no provider error.  . I think its because of the version you are using I had this problem initially, uninstall using npm and reinstall making sure your version is angularfire2@5.0.0-rc.2.  That fixed my issue with that error.  I am now experiencing some weird issue with importing firebase2 database with a no provider error.  . yes still the same problem. yes still the same problem. This is the module I user for the home page component which is where this search form would go:\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NavigationComponent } from '../../pages/shared/navigation/navigation.component';\nimport { BodyComponent } from '../../pages/shared/body/body.component';\nimport { FooterComponent } from '../../pages/shared/footer/footer.component';\nimport { LoginPageComponent } from '../login-page/login-page.component';\nimport { SignupPageComponent } from '../signup-page/signup-page.component';\nimport { UserFormComponent } from '../../pages/shared/user-form/user-form.component';\nimport { ReactiveFormsModule, FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ZipcodeSearchComponent } from '../../pages/shared/zipcode-search/zipcode-search.component';\nimport { ZipService } from '../../pages/shared/zip.service';\n@NgModule({\n    declarations: [\n      NavigationComponent,\n      BodyComponent, FooterComponent, LoginPageComponent, SignupPageComponent, UserFormComponent, ZipcodeSearchComponent\n    ],\n    imports: [\n    CommonModule, ReactiveFormsModule\n    ],\n    exports: [NavigationComponent,\n      BodyComponent, FooterComponent, LoginPageComponent, SignupPageComponent, UserFormComponent,  ZipcodeSearchComponent ],\n    providers: [ZipService],\n  })\n  export class HomePageModule {\n   }\nand this is the app-module. \nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ModalModule } from 'ngx-bootstrap';\n///// Start FireStarter\nimport { environment } from '../environments/environment';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nexport const firebaseConfig = environment.firebaseConfig;\nimport { ReactiveFormsModule, FormGroup, FormBuilder, Validators, FormsModule } from '@angular/forms';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { SharedComponent } from './pages/shared/shared.component';\nimport { HomePageComponent } from './pages/home-page/home-page.component';\nimport { UserDashboardPageComponent } from './pages/user-dashboard-page/user-dashboard-page.component';\nimport { HomePageModule } from './pages/home-page/home-page.module';\nimport { AuthService } from './pages/shared/auth.service';\nimport { ContactPageComponent } from './pages/contact-page/contact-page.component';\nimport { NotFoundComponent } from './pages/not-found/not-found.component';\nimport { TitleBarComponent } from './pages/shared/title-bar/title-bar.component';\n@NgModule({\n  declarations: [\n    AppComponent,\n    SharedComponent,\n    HomePageComponent,\n    UserDashboardPageComponent,\n    ContactPageComponent,\n    NotFoundComponent,\n    TitleBarComponent],\n  imports: [\n    BrowserModule, AppRoutingModule, HomePageModule, ModalModule.forRoot(), AngularFireAuthModule,\n    AngularFireModule.initializeApp(firebaseConfig), ReactiveFormsModule, AngularFireDatabaseModule,\n    FormsModule\n  ],\n  providers: [AuthService, AngularFireDatabase],\n  bootstrap: [AppComponent],\n  exports: [AngularFireModule]\n})\nexport class AppModule { }\n. This is the module I user for the home page component which is where this search form would go:\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NavigationComponent } from '../../pages/shared/navigation/navigation.component';\nimport { BodyComponent } from '../../pages/shared/body/body.component';\nimport { FooterComponent } from '../../pages/shared/footer/footer.component';\nimport { LoginPageComponent } from '../login-page/login-page.component';\nimport { SignupPageComponent } from '../signup-page/signup-page.component';\nimport { UserFormComponent } from '../../pages/shared/user-form/user-form.component';\nimport { ReactiveFormsModule, FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { ZipcodeSearchComponent } from '../../pages/shared/zipcode-search/zipcode-search.component';\nimport { ZipService } from '../../pages/shared/zip.service';\n@NgModule({\n    declarations: [\n      NavigationComponent,\n      BodyComponent, FooterComponent, LoginPageComponent, SignupPageComponent, UserFormComponent, ZipcodeSearchComponent\n    ],\n    imports: [\n    CommonModule, ReactiveFormsModule\n    ],\n    exports: [NavigationComponent,\n      BodyComponent, FooterComponent, LoginPageComponent, SignupPageComponent, UserFormComponent,  ZipcodeSearchComponent ],\n    providers: [ZipService],\n  })\n  export class HomePageModule {\n   }\nand this is the app-module. \nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ModalModule } from 'ngx-bootstrap';\n///// Start FireStarter\nimport { environment } from '../environments/environment';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nexport const firebaseConfig = environment.firebaseConfig;\nimport { ReactiveFormsModule, FormGroup, FormBuilder, Validators, FormsModule } from '@angular/forms';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { SharedComponent } from './pages/shared/shared.component';\nimport { HomePageComponent } from './pages/home-page/home-page.component';\nimport { UserDashboardPageComponent } from './pages/user-dashboard-page/user-dashboard-page.component';\nimport { HomePageModule } from './pages/home-page/home-page.module';\nimport { AuthService } from './pages/shared/auth.service';\nimport { ContactPageComponent } from './pages/contact-page/contact-page.component';\nimport { NotFoundComponent } from './pages/not-found/not-found.component';\nimport { TitleBarComponent } from './pages/shared/title-bar/title-bar.component';\n@NgModule({\n  declarations: [\n    AppComponent,\n    SharedComponent,\n    HomePageComponent,\n    UserDashboardPageComponent,\n    ContactPageComponent,\n    NotFoundComponent,\n    TitleBarComponent],\n  imports: [\n    BrowserModule, AppRoutingModule, HomePageModule, ModalModule.forRoot(), AngularFireAuthModule,\n    AngularFireModule.initializeApp(firebaseConfig), ReactiveFormsModule, AngularFireDatabaseModule,\n    FormsModule\n  ],\n  providers: [AuthService, AngularFireDatabase],\n  bootstrap: [AppComponent],\n  exports: [AngularFireModule]\n})\nexport class AppModule { }\n. I got it on my own-if anyone else runs into this, and since the documentation doesn't make it real clear:  import import {AngularFireDatabase} from 'angularfire2/database-deprecated';\non your module, then add AngularFireDatabase to your provider.   . I got it on my own-if anyone else runs into this, and since the documentation doesn't make it real clear:  import import {AngularFireDatabase} from 'angularfire2/database-deprecated';\non your module, then add AngularFireDatabase to your provider.   . Sorry and thanks.  Just learning - it takes a while....\nOn Tue, Oct 10, 2017 at 11:10 AM, Mark Goho notifications@github.com\nwrote:\n\nHey @onewiseburdman https://github.com/onewiseburdman if you use\nmarkdown on your code examples it really helps the readability. At the top\nof the block do three back ticks and then ts (ts), then at the\nbottom, another three backticks () and it'll format the whole thing\nand even use syntax highlighting. Just a tip! \ud83d\udc4d\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1233#issuecomment-335504911,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASsLVwOeRpcogZ3gZ1cqY38qhwO5_p5pks5sq4iVgaJpZM4Pys8k\n.\n. Sorry and thanks.  Just learning - it takes a while....\n\nOn Tue, Oct 10, 2017 at 11:10 AM, Mark Goho notifications@github.com\nwrote:\n\nHey @onewiseburdman https://github.com/onewiseburdman if you use\nmarkdown on your code examples it really helps the readability. At the top\nof the block do three back ticks and then ts (ts), then at the\nbottom, another three backticks () and it'll format the whole thing\nand even use syntax highlighting. Just a tip! \ud83d\udc4d\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1233#issuecomment-335504911,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASsLVwOeRpcogZ3gZ1cqY38qhwO5_p5pks5sq4iVgaJpZM4Pys8k\n.\n. The fix for new people like me:\n\nGo to your terminal:\nin your app directory ->\nopen package.json with your editor of choice (VSCODE in my case)\nchange \"firebase\": \"^4.8.1\" to \"firebase\": \"4.8.0\"\ncommand s to save\nthen in your terminal type->\nnpm install\nyou don't have to type update or uninstall because npm should do it for you.  in your editor make a note that you changed it so that someday if you have to come back to it you know you changed it.\n//changed from \"firebase\": \"^4.8.1\" on 12-29-17 \nyou will be glad you did.\nThat does fix it.. ",
    "xeeeveee": "Same fundamental issue in #1234. ",
    "elmergu": "Based on what I understood from the documentation if you need the $key then we should use snapshotChanges()  so I think that the constructor in the example should be like this\nconstructor(db: AngularFireDatabase) {\n   this.itemsRef = db.list('messages');\n   this.itemsRef.snapshotChanges().map(actions => {\n     return actions.map(action => {\n       const data = action.payload.val();\n       const $key = action.payload.key;\n       return { $key, ...data };\n     });\n   }).subscribe(items => {\n     this.items = items;\n   });\n}\nlet me know if I'm right or if we are able to access the key using valueChanges()\n. Stackblitz Template Example - Remember to set your Firebase configuration in app/app.module.ts.\n@jacobnaran . ",
    "nguyenluucuong": "Hi @jamesdaniels, I'm not clear with your stackblitz.\nIn AppComponent, I see:\nproviders: [\n    { provide: FirebaseAppName, useValue: 'asdf' },\n    FirebaseAppProvider\n  ]\nBut, in Console, the FirebaseApp seems not to use the value 'asdf' in providers.\n\nI've tried to rename 2 apps in initializeApp() function of AppModule to any thing, it did not affect to the FirebaseApp.\nAnd, when I switched the position of 2 initializeApp() functions, I saw the changing of the FirebaseApp. I think it always use the last initialized app.\nPlease help, thanks.. Hi @jamesdaniels, I'm not clear with your stackblitz.\nIn AppComponent, I see:\nproviders: [\n    { provide: FirebaseAppName, useValue: 'asdf' },\n    FirebaseAppProvider\n  ]\nBut, in Console, the FirebaseApp seems not to use the value 'asdf' in providers.\n\nI've tried to rename 2 apps in initializeApp() function of AppModule to any thing, it did not affect to the FirebaseApp.\nAnd, when I switched the position of 2 initializeApp() functions, I saw the changing of the FirebaseApp. I think it always use the last initialized app.\nPlease help, thanks.. ",
    "jakeleveroni": "@jamesdaniels example works for swapping the FirebaseApp object between configurations. But if you are relying on providers that inject providers like AngularFireAuth etc. They -- in this case AngularFireAuth object -- will use the configuration of the last initialized AngularFireModule in your app.module.ts. \nIt also seems like the FirebaseApp object does not expose the same methods that, for example, the AngularFireAuth module does. i.e. app.auth()does not contain an authState object (although it does have an onAuthStateChanged() callback). Is there a way to allow the other angularfire2 providers to swap easily between configurations as well?. ",
    "tamama": "@jamesdaniels \nInstead of initializing in app.module.ts, can I initialize dynamically?\nAt the time of compiliation, I do not know the coordinates of the firebase project, which I will only obtain after the client signs in.\nI also need to delete the firebase coordinates as the user signs out.\nThanks in advance.\nKind regards,\nTamama. I found the solution:\nfirebaseApp1.delete()  \nshould do the work.. Thanks! I will do this.. ",
    "fbayanati": "Just to share as I was looking into multiple issues to find out something around Firestore, you may look into this stalkblitz, or the stackoverflow item in case.. Also you may look into this stalkblitz,\nOr the stackoverflow item in case you may thinking about Firestore.. ",
    "nuvoPoint": "Looking into the code and I think the issue lies in the firebase-js-sdk so you better post the issue there https://github.com/firebase/firebase-js-sdk. That issue is for the Realtime DB, but you need it for the Firestore DB. They are referring to the new Firestore DB as a solution for offline first, but they will end up with the same issue as you and me.\nEither firebase needs to modify the js sdk so it will use data from cache (IndexDB) first and sync it in the background with the server or AngularFire needs to make the wrapper use the fromCache method instead. . ",
    "mparpaillon": "This issue seems to be related indeed https://github.com/firebase/firebase-js-sdk/issues/17. I see. I don't have time right now so feel free to create the issue.. ",
    "LennyZ71": "Not only the partial typescript issue but it appears .update() is not creating a document if it doesn't already exist. .set() works.\n``\nconst path =users/${this.currentUserId}`; // Endpoint on firebase\nthis.userDocument = this.afs.doc<any>(path);\n\nconst data = {\n  email: this.authState.email,\n  name: this.authState.displayName\n}\n\nthis.userDocument.update(data) // .set() works correctly right here...\n  .catch(error => console.log(error));\n\n}\n```. ",
    "itjustwerks": "According to the Node.js documentation for \"Set a document\" at https://firebase.google.com/docs/firestore/manage-data/add-data:\n\nThe option to merge data is not yet available for Node.js. Instead, call the update method and pass the option to create the document if it's missing.\n\nI couldn't find that feature documented anywhere, but tried appending \"create: true\" to the update request and it works swimmingly.\n// Updates \"widget-1\" doc if it exists, or creates it if it doesn't\ndb.collection('widgets').doc('widget-1').update({\n   thingamajig: true\n}, { create: true });. @Azmos , my bad. The {create: true} 2nd parameter is only applicable to the firebase-admin Node.js library for some reason. I just tried it myself for the web today and got the same error as you. I ended up doing the set in the catch block if there was an error on the update, but your solution is better for sure. Thanks!.\n",
    "Azmos": "@itjustwerks can you tell me why using create: true I get [ts] Expected 1 arguments, but got 2. from my linter? What could it be that I have different from you?\n\"angularfire2\": \"^5.0.0-rc.3\",\n\"firebase\": \"^4.5.2\"\n```\nconstructor(\n    private db: AngularFirestore\n)\nconst userRef: AngularFirestoreDocument = this.db.collection('users').doc(user.uid);\nconst data: User = {\n    // some data\n};\nreturn userRef.update(data, { create: true });\n. Ok I got it:\n[...]\nconst userRef = this.db.firestore.collection('users').doc(user.uid);\n[...]\nreturn userRef\n    .get()\n    .then(doc => {\n        if (!doc.exists) {\n            userRef.set(data);\n        } else {\n            userRef.update(data);\n        }\n    })\n    .catch(err => {\n        console.log([LOGIN] ${err});\n    });\n[...]\n```. Tried once again and neither of them work on my code, in my case checking \"manually\" if the document exists is the only way to achieve that.. ",
    "Venryx": "It seems you can also do:\nuserRef.set(data, {merge: true});\nAs documented here: https://firebase.google.com/docs/firestore/manage-data/add-data\nAm I missing something which would make this different than update(data, {create: true})?\nEDIT: Nevermind, this project uses the NodeJS client instead of the web client. (odd that they would implement set(...{merge: true}) in one, and update(...{create: true}) in the other). ",
    "kkbear1985": "after some digging, i think i have some hints into this issue\nmy app actually did subscribe with the key in action[3] and action[7] somewhere else\nthis.postRef = db.object('/Categories/0'/' + navParam.get('key'));\nthis.postSub = this.postRef.valueChanges().subscribe(post => {\n  doSomething();\n})\nas long as i am still subscribing, those order would be messed\nbut once i unsubscribe it, the returned order are perfect. confirm fixed, thank you very much. import firebase from 'firebase';. facing same issue, anyone have a work around?. ",
    "diegotham": "Hi @jamesdaniels, sorry about that, I tried several times but I always got the same: \n\"It looks like you've already signed this CLA. If you'd like to edit your contact information, you may do so below.\"\n\n. The previous example works If I use the async pipe instead of subscribing. But it fails again in the same way if I add another query to the same path, but this time to count the total items.\nHere is the Stackblitz: https://stackblitz.com/edit/angular-fl45ty. Do you use .limit()? Or query more than once to the same path? It might be the similar to what happens to me https://github.com/angular/angularfire2/issues/1356. I think is the same bug than this one https://github.com/angular/angularfire2/issues/1356, there are 2 stackblitzs. You are using Firestore, no Realtime Database. There is no $key in Firestore.\nYou have to use snapshotChanges() in order to retrieve the id of the document: https://github.com/angular/angularfire2/blob/master/docs/firestore/collections.md#snapshotchanges. I'm having the same issue with version angularfire2@5.0.0-rc.10, if you use 5.0.0-rc.9 it does not happen (same firebase version \"firebase\": \"^5.0.4\" for both cases).\nThe affected line is the one with \"var existingApp\":\nfunction _firebaseAppFactory(options, nameOrConfig) {\n    var name = typeof nameOrConfig === 'string' && nameOrConfig || '[DEFAULT]';\n    var config = typeof nameOrConfig === 'object' && nameOrConfig || {};\n    config.name = config.name || name;\n    var existingApp = firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"apps\"].filter(function (app) { return app && app.name === config.name; })[0];\n    return (existingApp || Object(firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"initializeApp\"])(options, config));\n}\nDoing a console.log of \"firebase_app__WEBPACK_IMPORTED_MODULE_1__\" shows: \nfirebase_app__WEBPACK_IMPORTED_MODULE_1__ { default: \n   { __esModule: true,\n     initializeApp: [Function: initializeApp],\n     app: { [Function: app] App: [Function: FirebaseAppImpl] },\n     apps: [Getter],\n     Promise: \n....\n . Sorry, my bad, it must be something related to my code that I don't see yet, since I see it happens in both cases I mentioned. \nCan be closed!. ",
    "rashid-softordi": "@davideast \n```\nadd (convDetail: ConversationDetailFirebase, msgTo: string)\n{\n    if (!convDetail.lastMessaged)\n    // convDetail.lastMessaged = firebase.database.ServerValue.TIMESTAMP;\n        convDetail.lastMessaged = FirebaseApp.Timestamp.TIMESTAMP;\nif (!convDetail.lastMessagedBy)\n    convDetail.lastMessagedBy = this.meSlug;\n\nif (!convDetail.totalCount)\n    convDetail.totalCount = 0;\n\nif (!convDetail.isPrivate)\n    convDetail.isPrivate = false;\n\nif (!convDetail.people)\n{\n    convDetail.people = {\n        [this.meSlug]: {\n            newCount: 0\n        },\n        [msgTo]: {\n            newCount: 0\n        }\n    };\n}\n\nthis.info = convDetail;\n\nreturn convDetail;\n\n}\n```\nIts a firebase chat app and using one of these 2 statements: \ndetail.lastMessaged = firebase.database.ServerValue.TIMESTAMP;\nor\ndetail.lastMessaged = FirebaseApp.Timestamp.TIMESTAMP;\ndetail.lastMessaged is string type. @kkbear1985 \nAlready did it but still getting same error.. @kkbear1985 \nAlready did it but still getting same error.. Problem solved!\nstep1- Upgrading to AngularFire 5.0\nStep2 - \n.......\nimport * as firebase from 'firebase';\nexport class .....  {\nlastMessageTime: any;\n   consturctor(){\n      lastMessageTime = firebase.database.ServerValue.TIMESTAMP;\n    }\n}\n. ",
    "rodrigoreal": "Thanks, it is working now.. ",
    "xdw898618984": "Have you solved the problem?I have the same problem. ",
    "ivangainutsa": "I had the same bug, but I had a problem and for what I wrote \"provider\" but you had to write \"provide\". ",
    "octaviomarchi": "\nwhere place to export your codes ?  I'm sorry because I'm a beginner :)\n\nI don't know where to export the codes too =/\n. ",
    "Sagiri-chan": "Yea same where do u even export this codes.\nI'm a beginner too!. ",
    "willshowell": "This should accomplish the same thing, I think\nts\nthis.shirts = this.shirtCollection.snapshotChanges()\n  .map(...)\n  .shareReplay(1);. ",
    "goekaypamuk": "Your solution to this problem is really awesome. I have tested it and it works!\nThx a lot. . I think you Need to upgrade your Firebase\n\nnpm install firebase@4.5.0 --save. \n",
    "ButhSitha": "@jamesdaniels  I import the operator take already but i got error\ni can't use doc with take operator.\n. ",
    "dhawken": "I'm doing it manually - hopefully there is a better way?\n```javascript\n  this.dataDoc = this.myDataCollectionRef.doc(id); \nthis.data = this.dataDoc.snapshotChanges().map(action => {\n        if (action.payload.exists === false) {\n            return null;\n        } else {\n            const data = action.payload.data() as Whatever;\n            const id = action.payload.id;\n      return { id, ...data };;\n   });\n```\nMight be incorrect usage of snapshotChanges(), but its able to determine if something is there.  If you wanted to manually create it, I believe you could do that once you've determined it doesn't exist.\n. ",
    "sneurlax": "Just popping in to report that neither take() nor do() work (exist) for me on AngularFirestoreDocument. Just popping in to report that neither take() nor do() work (exist) for me on AngularFirestoreDocument. Currently handling this by attempting an update and setting on error as such:\nnode\nthis.afs.doc(`users/${uid}`)\n  .update({data})\n  .then(() => {\n    // update successful (document exists)\n  })\n  .catch((error) => {\n    // console.log('Error updating user', error); // (document does not exists)\n    this.afs.doc(`users/${result.uid}`)\n      .set({data});\n  });. Currently handling this by attempting an update and setting on error as such:\nnode\nthis.afs.doc(`users/${uid}`)\n  .update({data})\n  .then(() => {\n    // update successful (document exists)\n  })\n  .catch((error) => {\n    // console.log('Error updating user', error); // (document does not exists)\n    this.afs.doc(`users/${result.uid}`)\n      .set({data});\n  });. ",
    "vaurelios": "@jamesdaniels example is missing somethings:\n .snapshotChanges()\n exists isn't a function, is a property.\nSo,\nthis.afs.doc('/path').snapshotChanges().take(1).do(d => d.payload.exists). ",
    "Vicky443": "i check simply , not sure if that is the right way to do .. \nconst userRef: AngularFirestoreDocument = this.afs.doc(users/${user.uid});\n userRef.valueChanges().subscribe(res=>{ \n     if(res){\n                  // do your perform \n           }\n } );\n. ",
    "mk4yukkalab": "And if i need a query like : this.afs.collection('users', ref => ref.where('email', '==', email)) how i can do that?\n. ",
    "buchmiller": "Here's a variation of @sneurlax's example:\n```typescript\n//Create an empty document, or do nothing if it exists.\nthis.afs.doc('users/sam').set({ }, { merge: true });\n//Create a document with name property set to 'Sam'.\n//If document already exists, it will still set the name property to 'Sam'\nthis.afs.doc('users/sam').set({ name: 'Sam' }, { merge: true });\n```. ",
    "Zufarsk8": "@buchmiller \nBut by doing so, it will be a write in the document. \nA write in the document is more costly in terms of pricing according to firebase pricing.\nIf we can read before we write it will be more cost efficient :). ",
    "olanRay94": "How about searching 2 parameters, like username and email? \nI am looking for username and email that I type in input.\nI think it could be in 2 ways:\n\n\nMaybe we can do all in one query in where clause using OR statement. I am not sure if firestore support it.\n\n\nI think we can search the username first. If it return null, we continue search the email. I am looking for this possible way. Any suggestion?\n. \n\n",
    "math-a3k": "FTR: https://angularfirebase.com/lessons/firestore-advanced-usage-angularfire/#4-Upsert-Update-or-Create-Method\n// *** Usage\nthis.db.upsert('notes/xyz', { content: 'hello dude'})\n// *** Code\nupsert<T>(ref: DocPredicate<T>, data: any) {\n  const doc = this.doc(ref).snapshotChanges().take(1).toPromise() \n  return doc.then(snap => {\n    return snap.payload.exists ? this.update(ref, data) : this.set(ref, data)  })\n}. ",
    "jwv": "You can use \ndb.doc('collectionName/documentId').ref.get().then((documentSnapshot) => {\n  console.log(documentSnapshot.exists);\n});. ",
    "miglrodri": "Hello,\nI am using firestore from firebase(npm) and the property .exists was not available on the querySnapshot:\nhttps://firebase.google.com/docs/firestore/query-data/get-data\ndb.collection(\"cities\").get().then(function(querySnapshot) {\n    querySnapshot.forEach(function(doc) {\n        // doc.data() is never undefined for query doc snapshots\n        console.log(doc.id, \" => \", doc.data());\n    });\n});\nquerySnapshot in that context have a property .empty that I use to know if I get a document or not from the query. Hope this helps too.. ",
    "Hanan0o0": "\nAnd if i need a query like : this.afs.collection('users', ref => ref.where('email', '==', email)) how i can do that?\n\ndo you know how do that ??. > @mk4yukkalab do you got workaround to ur concern\n\n\nAnd if i need a query like : this.afs.collection('users', ref => ref.where('email', '==', email)) how i can do that?\n\ndo you know how do that ??. ",
    "hafizmowais": "firestore\n.collection('YourCollection')\n.doc('YourDocumentID').set(\n  {a: {b: {c: true}}},\n  {merge: true}\n)\nThis one should work. ",
    "JeffGreat": "@mk4yukkalab @Hanan0o0 @Vino16491 \nin angular 6 I manage like that\nthis.afs.collection('users', (ref) => ref.where('email', '==', email).limit(1)).get().subscribe(users => { \nif(users.size >= 0)\n...do smthg\n}). ",
    "funct7": "\nCurrently handling this by attempting an update and setting on error as such:\njs\nthis.afs.doc(`users/${uid}`)\n  .update({data})\n  .then(() => {\n    // update successful (document exists)\n  })\n  .catch((error) => {\n    // console.log('Error updating user', error); // (document does not exists)\n    this.afs.doc(`users/${result.uid}`)\n      .set({data});\n  });\n\nTrying to do something similar in iOS. I think this should be done in a transaction though because there's plenty of time for data to be written with the ID between the update response and the set. Also, I'm questioning whether this is a good solution since we're using an error in order to proceed.. ",
    "lossless1": "Plz devs, add to 5.0.0-rc.5 angularfire2/firestore. ",
    "nakulkundra": "Any Update on the issue.\nplease help , I am using Stackblitz.. and i am getting the same error .. \nplease check  and guide ... \nhttps://stackblitz.com/edit/angular-tpbntg?file=app%2Fhello.component.ts\n. ",
    "johnrivelt": "@nakulkundra remove your angularfire2 npm package and \ninstall angularfire2@5.0.0-rc.3\n. Great, thank you.\nOn Sun, Mar 18, 2018 at 2:49 PM, David East notifications@github.com\nwrote:\n\nsnapshotChanges() is the state of your list, therefore you will never\nreceive a child removed event because the item is gone from the state. If\nyou want events use stateChanges(['child_removed').\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1513#issuecomment-373970887,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAuzKGsbYBNG8dM0ao707e5N8fVV3g4Fks5tfdlCgaJpZM4SrrNW\n.\n\n\n-- \nRegards\nJohn, Cho\n\u738b\u8a00, \u8d99\nWang Eon, Cho\n. ",
    "increos": "I am seeing the same issue https://stackblitz.com/edit/angular-38ocpf?file=app/app.module.ts  . This is forked from the stackblitz template  provided\nangularfire2@5.0.0-rc.9\n. ",
    "SilverMountainSoftware": "Okay, I was just wondering because it is different than update or remove so the CRUD methods are not consistent and the documentation is wrong. I'll find and update the documentation.\n. ",
    "cheooool": "I signed it!. ",
    "EduardoIbarra": "Thanks! But my elements' .$key gives me undefined. Am I doing this right? This is the code on my service to retrieve all records:\ngetGames() {\n    return this.afDB.collection('games');\n}\nAnd this is my code on my component:\n```\ngamesService.getGames()\n            .valueChanges().subscribe((games) => {\n            this.games = games;\n        }, (error) => {\n            console.log(error);\n        });\nThis is how I access them on my html: \n`<tr *ngFor=\"let game of games\">`\n. Thank you both! My code ended up like this:\nimport { Injectable } from '@angular/core';\nimport {AngularFirestore, AngularFirestoreCollection} from 'angularfire2/firestore';\nimport {Observable} from 'rxjs/Observable';\n@Injectable()\nexport class GamesFirebaseService {\n    private itemsCollection: AngularFirestoreCollection;\n    items: Observable;\n    countItems = 0;\n    constructor(public afs: AngularFirestore) {\n        this.itemsCollection = this.afs.collection('games');\n        this.items = this.itemsCollection.snapshotChanges()\n            .map(actions => {\n                this.countItems = actions.length;\n                return actions.map(action => ({ $key: action.payload.doc.id, ...action.payload.doc.data() }));\n            });\n    }\n    public store = (game) => {\n        return this.itemsCollection.add(game);\n    }\n    public update(game) {\n        return this.itemsCollection.doc(game.$key).update(game);\n    }\n}\n```. ",
    "blackbear003": "const id = this.afs.createId();\n    this.xDocument = this.afs.doc(uid + '/' + id);\n    x.key = id;\n    return this.xDocument.set(x). ",
    "cbstodd": "Thank you for posting your code @EduardoIbarra. Helped big time. . ",
    "anuj9196": "\nI'm getting this error Unresolved map().. ",
    "Mironor": "Looks like a duplicate of #1206. ",
    "ssuperczynski": "To anyone who has this error\nhttps://stackoverflow.com/a/47051516/1168786. Solution https://stackoverflow.com/a/47051516/1168786. ",
    "snakenstein": "@ajonp how did you fix that? I have the same problem with AOT compiler and webpack.. Yes, something like what @ippeiukai have suggested.\nActually, I am using this wrapper class as a workaround for now:\ntypescript\nexport class Angularfire2WorkaroundConfigModule {\n    static initializeApp(configFactory: () => FirebaseAppConfig, appNameFactory: () => string) {\n        return {\n            ngModule: AngularFireModule,\n            providers: [\n                {provide: FirebaseAppConfigToken, useFactory: configFactory},\n                {provide: FirebaseAppName, useFactory: appNameFactory}\n            ]\n        };\n    }\n}. ",
    "peterennis": "Have a look at this:\nhttps://github.com/angular/angularfire2/issues/1281\nIt points to a repo that may help.\n. ",
    "MvRemmerden": "Had the same problem, solved itself by restarting Visual Studio Code.. I'm having a problem with get(), as when I'm using it in combination with Angular Universal to prerender pages, it takes around one minute per page to complete. I suspect there might be a problem with a promise that doesn't resolve, both valueChanges() and snapshotChanges() work perfectly, but only give the cached results, as my prerendering script only waits for the first emission.. ",
    "pmullot": "Done. It's here : Issue 245\n. ",
    "corysimmons": "Wouldn't Date.now() provide easier querying?\nhttps://stackoverflow.com/questions/47000854/firestore-query-by-date-range. Yeah I've just been using new Date() per docs and works fine.. ",
    "shadez95": "I know I'm late to this but storing as UNIX timestamp makes for easy querying and ordering. Also, every language has support for UNIX timestamps.. I know I'm late to this but storing as UNIX timestamp makes for easy querying and ordering. Also, every language has support for UNIX timestamps.. ",
    "egalot": "Are any of you having problems reading the timestamp back from Firebase and displaying on angular? Whenever a javascript date is recorded into Firebase, once date is read back it comes as an incompatible object. Something like \"Timestamp(seconds=1486443600, nanoseconds=0)\" . This object is not compatible with Angular Date Pipes. Anybody knows how to deal with this?. ",
    "diginikkari": "@egalot just convert it to date  .toDate()  before your pipe.. +1 for this. I would really much like to see this implemented.\nI'm dispatching ngrx actions based on DocumentChangeAction from collection snapshotChanges and It would be nice to be able to use same logic with individual documents.. I have been hit by this very badly. In my opinion it is a bug.\nexample:\nyou have collection where you have following docs:\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nIf you have open subscription to item no 9 and you make query where you limit to 5 first items with take(1) you will receive item [9] instead of [0, 1, 2, 3, 4].\nSample project: https://angular-f6nfor.stackblitz.io\nThis makes e.g. pagination queries unreliable. When you relay that last item received will be last item of your previous pagination query and you use this item as startAfter for next query.. ",
    "bdawie": "@diginikkari Thank you! . ",
    "kamran-mushtaq": "@egalot  I added toDate() and now shows the date in the correct format. But I get the following error in console: TypeError: Can not read property 'toDate' of undefined\n. ",
    "elron": "Thanks @codediodeio this helped alot.\nI was trying to add a new document to a collection with the server timestamp, so set() or update() was not a function I could run, since the document is not created yet.\nYes, I can create and then update which will work, but I wanted to prevent doing a double http call just to set the date.\nI've found a solution, in case anyone else needs it:\n// The object you want to add to the collection\nlet newDoc = {your: 'object'}\n\n// Adding the server timestamp as finishedAt to the object\nnewDoc.finishedAt = firebase.firestore.FieldValue.serverTimestamp();\n\n// Calling add()\nthis.someCollection.add(newDoc)\n  .then(ok)\n  .catch(error);\n\n. ",
    "DarshanGowda0": "Is there a way to convert Date to Timestamp object ? As @kamran-mushtaq mentioned we get the following error in all the MaterialDatePickers which use ngModel for binding.\n . Okay, the only work around I was able to come up with is using a rxjs map operator and converting Timstamp to Date objects in my firestore observables. Thanks to @codediodeio for his amazing tutorials as always.. ",
    "mehmettkocc": "I had a problem with Firebase Storage timestamps vs Firestore timestamps. You can use this code to convert between them:\nexport function tryConvertFSTimestamp(obj: any) {\n    if (!obj || !obj._seconds)\n        return obj;\n    const millisec = obj._seconds * 1e3 + (obj._nanoseconds || 0) / 1e6;\n    return new Date(millisec).toISOString();\n}\n\n. ",
    "trenthm": "Since I was trying to get to the bottom of this, I just basically used the example code from this repos README.\n(I updated the OP with the code)\nIf i run Chrome from the terminal with:\nopen -a Google\\ Chrome --args --disable-web-security --user-data-dir=\"\"\nthings work fine, it seems.. ",
    "gustavobrian": "sorry, and thanks!!!. ",
    "TheShashank": "Could this be related to why I'm getting this error on building?\n`Property 'valueChanges' does not exist on type 'FirebaseListObservable'. \n  L24:    constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, afDB: AngularFireDatabase) {\n  L25:      this.items = afDB.list('snippets'+this.title).valueChanges();`\n\nError: Failed to transpile program\n    at new BuildError (/Users/sr/Ionic/http/node_modules/@ionic/app-scripts/dist/util/errors.js:16:28)\n    at /Users/sr/Ionic/http/node_modules/@ionic/app-scripts/dist/transpile.js:137:20\n    at transpileWorker (/Users/sr/Ionic/http/node_modules/@ionic/app-scripts/dist/transpile.js:103:12)\n    at Object.transpile (/Users/sr/Ionic/http/node_modules/@ionic/app-scripts/dist/transpile.js:61:12)\n    at buildProject (/Users/sr/Ionic/http/node_modules/@ionic/app-scripts/dist/build.js:97:78)\n    at /Users/sr/Ionic/http/node_modules/@ionic/app-scripts/dist/build.js:47:16. @jaufgang - thanks for the reply. So that error did indeed go away - you seem to be right about the versioning. However, now I have a new issue about 'browser' not containing a valid alias configuration. Would you possibly know anything about that?. ",
    "bautistaaa": "had to set the return type to any to get it to stop complaining -_-. ",
    "newmesiss": "@fbayanati this works well, I implemented it in my project and it goes well, but how do I integrate the session start of the second database?. ",
    "mveer08": "It worked thanks @ravivit9 . ",
    "tja4472": "I found this useful\nhttps://coryrylan.com/blog/angular-observable-data-services\n. look at https://github.com/angular/angularfire2/blob/master/docs/firestore/collections.md#example\nNote the  shirtId interface\ntypescript\nexport interface Shirt { name: string; price: number; }\nexport interface ShirtId extends Shirt { id: string; }\nSo your\ntypescript\nroutes: Observable<Route[]>;\nshould be\n```typescript\nexport interface RouteId extends Route { id: string; }\nroutes: Observable;\n```\n. I think you are missing some brackets.\n```\nconstructor(public readonly afs: AngularFirestore) {}\ndoc.id = this.afs.createId();\n\n```\n. Try these changes.\npackage.json\njson\n    \"build\": \"rimraf dist && node tools/build.js\",\ntools\\build.js\nts\n// Constants for running typescript commands\nconst TSC = 'node_modules\\\\.bin\\\\tsc.cmd';\nconst NGC = 'node_modules\\\\.bin\\\\ngc.cmd';\n. ",
    "viavj": "Forget it all, and do as it says here.\nhttps://angularfirebase.com/lessons/reactive-crud-app-with-angular-and-firebase-tutorial/. ",
    "irashid25": "Ah sorry about that, this is no longer an issue now.\nThanks.. ",
    "battistaar": "I'm experiencing the same problem, how did you solve it? I have a list page and an edit one, if I edit the record and go back to the list it doesn't update until a refresh. Strange fact: if i open the list and the edit page in different windows it works fine.\n. ",
    "ippeiukai": "Something like this?\n```TS\nclass AngularFireModule {\n// AngularFireModule.initializeAppWithDependency(\n  //   [MyOwnConfig], \n  //   (ownConfig) => ownConfig.getFirebaseConfig(), \n  //   (ownConfig) => ownConfig.getFirebaseAppName()\n  // )\n  static initializeAppWithDependency(dep: any[], configFactory: Function, appNameFactory: Function): ModuleWithProviders {\n    / \n          { provide: FirebaseAppConfigToken, dep: dep, useFactory: configFactory },\n          { provide: FirebaseAppName, dep: dep, useFactory: appNameFactory }\n    /\n  }\n}\n```. ",
    "juristr": "Thinking of this, it would also be cool if we could get rid of the compile-time configuration and get the Firebase config at runtime, like via some call to a config JSON (I recently wrote an article on that).\nThe point is when I'm creating a CD pipeline I'd like to build once and then move that same package from testing, staging to production environment, without the need of rebuilding my Angular app again. That obviously doesn't work when you use the Angular CLI environment.<env>.ts approach. Rather, I'd like to fetch it via a config using an approach like Angular's APP_INITIALIZER.. @jnorkus \ud83d\ude05I ran into this when working on a personal project. For now I don't have a workaround, as I didn't continue the last week working on it. And probably this week neither. Once I have a way to go around this I'll let you know \ud83d\ude04.\nThe main reason I'd like to get these runtime configs is for avoiding to re-build my app when moving between the CD pipeline stages.\nApparently right now the best way is to instantiate all the parts manually...but that's something I'd like to avoid. We'll see.. . Awesome, thx. Will try it \ud83d\udc4d. ",
    "jnorkus": "@juristr I actually followed your article as example of run-time configuration but running into exactly same issue with Firebase. Do you have any kind of workaround for the time being?. @juristr I actually followed your article as example of run-time configuration but running into exactly same issue with Firebase. Do you have any kind of workaround for the time being?. ",
    "brendonwm": "Does anyone have an example of how to \"pass a factory of FirebaseAppConfig to AngularFireModule.initializeApp()\" or alternative solution using runtime DI? Thanks.. ",
    "EstebanFuentealba": "How to fix this? @theblindprophet. ",
    "RyannGalea": "@davideast,\nThanks for the reply.\nI just did some more testing on this... wait btw this is my rules, open at the moment,\n `service cloud.firestore {\n   match /databases/{database}/documents {\n     match /{document=**} {\n       allow read, write;\n     }\n   }\n }`\n\nAfter some time testing, it seems that the .take(1) is working, and receiving the empty value which I am getting,  for some unknown reason an empty value.\nIf I remove the  '.take(1)' it works fine it seems,  I'm not sure why it receives an empty string first back from that doc call. I think when it's hosted it is getting an inconsistent value because it would work intermittently. It would actually work on my production site sometimes, and sometimes not.\nIt is also to be noted it is being pushed to the dev hosting, but using the prod DB on another firebase.\n. ",
    "dhayhak": "I don't believe it is a Stackblitz error as I'm getting it locally on my machine. I've attached an Stackblitz so you can easily reproduce it. Could you please confirm? Thanks. ",
    "nirav4273": "Any one have solution for used firestore inside angular5 version. ?. @cvandyke1217 \nhere is my packege.json details\n\"dependencies\": {\n        \"@angular/animations\": \"5.2.10\",\n        \"@angular/common\": \"5.2.10\",\n        \"@angular/compiler\": \"5.2.10\",\n        \"@angular/compiler-cli\": \"5.2.10\",\n        \"@angular/core\": \"5.2.10\",\n        \"@angular/forms\": \"5.2.10\",\n        \"@angular/http\": \"5.2.10\",\n        \"@angular/platform-browser\": \"5.2.10\",\n        \"@angular/platform-browser-dynamic\": \"5.2.10\",\n        \"@ionic-native/core\": \"4.7.0\",\n        \"@ionic-native/splash-screen\": \"4.7.0\",\n        \"@ionic-native/status-bar\": \"4.7.0\",\n        \"@ionic/storage\": \"2.1.3\",\n        \"angularfire2\": \"^5.0.0-rc.4\",\n        \"cordova-android\": \"^6.2.3\",\n        \"cordova-plugin-device\": \"^2.0.2\",\n        \"cordova-plugin-ionic-keyboard\": \"^2.0.5\",\n        \"cordova-plugin-ionic-webview\": \"^1.1.19\",\n        \"cordova-plugin-splashscreen\": \"^5.0.2\",\n        \"cordova-plugin-whitelist\": \"^1.3.3\",\n        \"firebase\": \"^4.13.1\",\n        \"ionic-angular\": \"3.9.2\",\n        \"ionicons\": \"3.0.0\",\n        \"rxjs\": \"5.5.10\",\n        \"sw-toolbox\": \"3.6.0\",\n        \"zone.js\": \"0.8.26\"\n    },\nstill stuck while ionic cordova run android --prod.\nIssue faced in prod build only.\n. @cvandyke1217 \nhere is my packege.json details\n\"dependencies\": {\n        \"@angular/animations\": \"5.2.10\",\n        \"@angular/common\": \"5.2.10\",\n        \"@angular/compiler\": \"5.2.10\",\n        \"@angular/compiler-cli\": \"5.2.10\",\n        \"@angular/core\": \"5.2.10\",\n        \"@angular/forms\": \"5.2.10\",\n        \"@angular/http\": \"5.2.10\",\n        \"@angular/platform-browser\": \"5.2.10\",\n        \"@angular/platform-browser-dynamic\": \"5.2.10\",\n        \"@ionic-native/core\": \"4.7.0\",\n        \"@ionic-native/splash-screen\": \"4.7.0\",\n        \"@ionic-native/status-bar\": \"4.7.0\",\n        \"@ionic/storage\": \"2.1.3\",\n        \"angularfire2\": \"^5.0.0-rc.4\",\n        \"cordova-android\": \"^6.2.3\",\n        \"cordova-plugin-device\": \"^2.0.2\",\n        \"cordova-plugin-ionic-keyboard\": \"^2.0.5\",\n        \"cordova-plugin-ionic-webview\": \"^1.1.19\",\n        \"cordova-plugin-splashscreen\": \"^5.0.2\",\n        \"cordova-plugin-whitelist\": \"^1.3.3\",\n        \"firebase\": \"^4.13.1\",\n        \"ionic-angular\": \"3.9.2\",\n        \"ionicons\": \"3.0.0\",\n        \"rxjs\": \"5.5.10\",\n        \"sw-toolbox\": \"3.6.0\",\n        \"zone.js\": \"0.8.26\"\n    },\nstill stuck while ionic cordova run android --prod.\nIssue faced in prod build only.\n. ",
    "TGibsonn": "This causes a runtime error with Ionic 3 and does not pass it as just a warning.. ",
    "phra": "hope to see this implemented soon! :smiley: . as a workaround you can double cast the payload as { payload: 'payload' } as any as T in strict environments.. I signed it!. until this PR is not merged, you can experience casting problems when using a strict configuration of typescript.. semver done right. :joy: . ",
    "Mazvys": "Are there any news? . ",
    "jornare": "I'm running fine on Angular v5 (only installation warnings), but gets errors with firebase 4.6+ (needs 4.5). ",
    "JasherIO": "Nah, sorry. I've been browsing different front-end and back-end frameworks and have moved on from Angular and Firebase for the project I'm working on.. ",
    "gsanseverino": "I think the error isn't in the documentation, but in the code. SnapshotChanges should have the same interface both for collections and documents.\nSo the return values of SnapshotChanges should be:\nObservable<DocumentChangeAction[]> for collections\nObservable<DocumentChangeAction> for documents. ",
    "manucho007": "https://www.youtube.com/watch?v=2ZDeT5hLIBQ\nI recommend you to watch this vid, It's one of the best ones I've seen on Youtube.. Using:\nangularfire2: 5.0.0-rc6 \nfirebase: 4.10.0\nAngular: 5.2.0 \nI get my upload percentage by setting my percentage as an Observable of a number \ntask:AngularFireUploadTask;\npercentage : Observable<number>;\n\nThe main task\n\nthis.task = this.storage.upload(pathUpload, file, { customMetadata })\n\nProgress monitoring\n\nthis.percentage= this.task.percentageChanges();. ",
    "Crewnie": "That's right brother, I could not either, I hope those of angular firebase help us.. ",
    "desarrollotrimax": "That would be perfect, so that the user can not enter until verified his mail there, and once verified, in real time to detect the verification and redirect the user inside the platform.. ",
    "ThatBrianDude": "Why was this closed? What would be the recommended way of doing this?. I implemented this by fetching current userinfo and checking if user.isEmailVerified() in an interval. ",
    "conradjonp": "What's the solution here? 1464 doesn't even address this issue.. Thanks Brian. Just in case someone uses this for react native, I added something extra for reloading the auth.currentUser details:\nauth.currentUser.reload().then(() => {});. ",
    "colinskow": "I jerry-patched firebase.app.module.d.ts to work:\ntypescript\nexport declare class FirebaseApp implements firebase.app.App {\n    name: string;\n    options: {};\n    auth: () => firebase.auth.Auth;\n    database: () => firebase.database.Database;\n    messaging: () => firebase.messaging.Messaging;\n    storage: () => firebase.storage.Storage;\n    delete: () => Promise<any>;\n    firestore(): firebase.firestore.Firestore;\n}. @davideast thanks for the response. I had the dependency set to \"angularfire2\": \"^5.0.0-rc.3\". Apparently yarn was installing RC.0-next. Using an exact version 5.0.0-rc.3 resolved the issue. . Firebase really should have done this refactor this at a SemVer major point since it is going to break everyone's TypeScript builds. Instead they did it between 4.8.0 and 4.8.1.. ",
    "TehCrucible": "We are actually using something very similar in our app already. Inspired by this post I created a service to wrap and extend angularfire with this functionality.  It looks like this:\n```\n// types\ntype CollectionPredicate = string | AngularFirestoreCollection;\ntype DocPredicate = string | AngularFirestoreDocument;\n// return a reference\ncol(ref: CollectionPredicate, queryFn?): AngularFirestoreCollection {\n    return typeof ref === 'string' ? this.afs.collection(ref, queryFn) : ref;\n}\ndoc(ref: DocPredicate): AngularFirestoreDocument {\n    return typeof ref === 'string' ? this.afs.doc(ref) : ref;\n}\n// return an observable\ndoc$(ref: DocPredicate): Observable {\n    return this.doc(ref).snapshotChanges().map(doc => {\n        return doc.payload.data() as T;\n    });\n}\ncol$(ref: CollectionPredicate, queryFn?): Observable {\n    return this.col(ref, queryFn).snapshotChanges().map(docs => {\n        return docs.map(a => a.payload.doc.data()) as T[];\n    });\n}\n```. I mean, the errors are reasonably self explanatory? Looks like rc.4 requires Angular 5, however Ionic 3.8.0 is built on Angular 4.\nYou'll need to upgrade to Ionic >3.9.0 which is also compatible with Angular 5. Upgrade instructions are located here:  https://github.com/ionic-team/ionic/releases. ",
    "jonathansimonet": "Thanks @davideast . ",
    "amolumesh12": "@markhoward02  after deleting node_module folder ..while performing npm cache clean it gives me error like this \" G:\\ion\\shoplist>npm cache clean\nnpm ERR! As of npm@5, the npm cache self-heals from corruption issues and data extracted from the cache is guaranteed to be valid. If you want to make sure everything is consistent, use 'npm cache verify' instead.\".. and after trying npm install it gives me this error \nModule '\"G:/ion/shoplist/node_modules/angularfire2/database/index\"' has no exported member 'FirebaseObjectObservable'. @PivitParkour94 your solution work for me ..but it gives me other error in my project \nnode_modules/angularfire2/database/index\"' has no exported member 'FirebaseListObservable'.\nimport { AngularFireDatabase, FirebaseListObservable } from 'angularfire2/database';\n. ",
    "MichaelHuy": "@androidovshchik .Thanks.. ",
    "yaseleylo123": "I still have the Error:\nERROR in ...node_modules/angularfire2/firebase.app.module.d.ts (10,22): Class 'FirebaseApp' incorrectly implements class 'FirebaseApp'. Did you mean to extend 'FirebaseApp' and inherit its members as a subclass?\n  Property 'automaticDataCollectionEnabled' is missing in type 'FirebaseApp'.\nERROR in Error: Metadata version mismatch for module .../node_modules/angularfire2/index.d.ts, found version 4, expected 3, resolving symbol AppModule in ....\nAnd here is the dependencies section of my package.json file:\n\"dependencies\": {\n    \"@angular/animations\": \"^4.0.0\",\n    \"@angular/cdk\": \"^2.0.0-beta.12\",\n    \"@angular/common\": \"^4.0.0\",\n    \"@angular/compiler\": \"^4.0.0\",\n    \"@angular/core\": \"^4.0.0\",\n    \"@angular/forms\": \"^4.0.0\",\n    \"@angular/http\": \"^4.0.0\",\n    \"@angular/material\": \"^2.0.0-beta.12\",\n    \"@angular/platform-browser\": \"^4.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^4.0.0\",\n    \"@angular/platform-server\": \"^4.0.0\",\n    \"@angular/router\": \"^4.0.0\",\n    \"@ng-bootstrap/ng-bootstrap\": \"^1.0.0-beta.6\",\n    \"angular-material\": \"^1.1.8\",\n    \"angular2-jwt\": \"^0.2.3\",\n    \"angularfire2\": \"^5.0.0-rc.6.0\",\n    \"auth0-js\": \"^8.10.1\",\n    \"bcryptjs\": \"^2.4.3\",\n    \"body-parser\": \"^1.17.2\",\n    \"bootstrap\": \"^4.0.0-alpha.6\",\n    \"bunyan\": \"^1.8.12\",\n    \"concurrently\": \"^3.5.0\",\n    \"core-js\": \"^2.4.1\",\n    \"dotenv\": \"^4.0.0\",\n    \"express\": \"^4.15.4\",\n    \"firebase\": \"^4.12.1\",\n    \"jsonwebtoken\": \"^7.4.2\",\n    \"mongoose\": \"^4.11.6\",\n    \"morgan\": \"^1.8.2\",\n    \"multer\": \"^1.3.0\",\n    \"ng2-file-upload\": \"^1.2.1\",\n    \"nodemailer\": \"^4.0.1\",\n    \"rxjs\": \"^5.4.2\",\n    \"zone.js\": \"^0.8.4\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"^1.7.4\",\n    \"@angular/compiler-cli\": \"^4.4.7\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.106\",\n    \"codelyzer\": \"~2.0.0\",\n    \"install-peers\": \"^1.0.2\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"jasmine-spec-reporter\": \"~3.2.0\",\n    \"karma\": \"~1.4.1\",\n    \"karma-chrome-launcher\": \"~2.0.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^0.2.0\",\n    \"karma-jasmine\": \"^1.1.1\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.0\",\n    \"ts-node\": \"~2.0.0\",\n    \"tslint\": \"~4.5.0\",\n    \"typescript\": \"^2.8.3\"\n  }\nSo the fix of @androidovshchik didnt work in my case. Do u have an idea ?. @victorvsantos \ngetting this error now:\nERROR in Error: Metadata version mismatch for module .../node_modules/angularfire2/index.d.ts, found version 4, expected 3, resolving symbol AppModule in .../src/app/app.module.ts, resolving symbol AppModule in .../src/app/app.module.ts, resolving symbol AppModule in .../src/app/app.module.ts. SOLVED: \n\nupdate latest @angular/common, compiler-cli, core, compiler\nrxjs update on 5.5.5\nbuild in production mode. \n",
    "victorvsantos": "@yaseleylo123 hey, try this:\nnpm install @firebase/app@^0.1.6 --save. ",
    "Ahkam95": "try this one. it might work for you.\nnpm install -s firebase@4.1.3\nangularfire2@4.0.0-rc.1\nthen run ionic serve. ",
    "vmasek": "updating the angularfire2 to next helped me npm i --save angularfire2@next\n\"angularfire2\": \"^5.0.0-rc.7.0-next\",\n\"firebase\": \"^4.13.1\",\nThis has worked even without adding a @firebase/app as a direct dependency.\nThere might be a warning about a future deprecation of dates (if you are using updated_at or created_at), but it is easy to cover that.. ",
    "millbj92": "Just add the automaticDataCollectionEnabled property to the FirebaseApp class.\ntypescript\nexport declare class FirebaseApp implements _FirebaseApp {\n    name: string;\n    options: {};\n    auth: () => FirebaseAuth;\n    database: (databaseURL?: string) => FirebaseDatabase;\n    messaging: () => FirebaseMessaging;\n    storage: (storageBucket?: string) => FirebaseStorage;\n    delete: () => Promise<void>;\n    firestore: () => FirebaseFirestore;\n    automaticDataCollectionEnabled: false;        // <-- Add this line.\n}. ",
    "souhailmerroun": "@Ahkam95 solution works for me.. ",
    "alfinlorence": "@millbj92  Thanks man\n. ",
    "xonex1208": "@millbj92 Thanks, It works. . ",
    "asrar7": "Hi everyone.\nI have the same error plz anyone help me . thanks \nclass FirebaseApp.docx\n. It works now. But now have another error in app/app.module.ts; \nimport { AngularFireDatabase } from 'angularfire2/database';\n'AngularFireDatabase' is declared but its value is never used. \n@PivitParkour94 @davideast @xonex1208 @souhailmerroun @millbj92 @jonathansimonet . @souhailmerroun @Ahkam95 @millbj92  now i have this below problem \n\n. ",
    "Rosso84": "@PivitParkour94  i could kiss you.. i have been dealing with this hell for 3 weeks now,,.. thank you mate.. ",
    "arjunyel": "https://github.com/angular/angularfire2/blob/master/docs/firestore/querying-collections.md. ",
    "douglashm": "AngularFire relies on Rxjs. e.g.:\nlet userDoc = this.afs.doc<User>('/users/' + user.uid)\n  .valueChanges()\n  .take(1)\n  .subscribe(x => console.log(x));. @jamesdaniels I think this is related to #1328 and can be closed. \" Group by is a SQL function. The reason SQL can't do real-time data is because this sort of method does not scale. Mongo provides similar functionality, but once again, it doesn't scale.\" Source: firebase-count-group-by.\nIMHO, you have 2 ways: \n\n\nCreate a field (an array) in the parent document called Sum, for example, and every time you add, update or remove an item in moneyCost collection, you update this field accordingly, e.g.: [ { \"date\" : \"2017-11-01\",  \"amount\": 190}, ...]. And you should use a firestore transaction. Also, you can rely on Cloud Functions to do this job.\n\n\nAnother option is to get all items in memory and group the items in JS:\nthis.itemsCollection = afs.collection<Item>('moneyCost');\nthis.items = this.itemsCollection.valueChanges();\ngroupBy(this.items) ....\n. ```\n\n\nexport interface City{\n  $id: string;\n  name: string;\n  population: number;\n}\nconstructor(public afs: AngularFirestore) {\n    let citiesRef = afs.collection(cities);\n    citiesRef.snapshotChanges().map(arr => {\n      return arr.map(snap => {\n        const city = snap.payload.doc.data();\n        console.log(city); \n      })\n  }\n```. ",
    "kautily": "this is not working for me. ",
    "Damasy": "this is not working for me also. this my code and it works good, but the problem is that product in set method is undefined! @alberthoekstra \nconst item$ = this.db.object('/shopping-carts/' + cartId + '/items/' + product.key);\nitem$.snapshotChanges().pipe(take(1)).subscribe(item => {\n  if (item.payload.exists()) {\n      item$.update({ quantity: item.payload.val().quantity + 1 });\n    } else {\n      item$.set({product: product, quantity: 1});\n    }\n});.\n",
    "alberthoekstra": "I think there\u2019s a typo. \nReplace \nitem.quantity + 1\nWith\nitem$.quantity + 1. Indeed, a BehaviorSubject is what you wanna use.. I\u2019m thinking it could have something to do with the from() you are wrapping everything with. \nI don\u2019t use it and never experienced this behavior before. \nThe authstate should become empty after you sign out, is this actually happening?. remove node_modules folder and NPM install in root of project again?. Have you checked out the docs?. You could so something like this:\nhtml\n<div *ngIf=\"(product | async); let productObj\">\n <span>title: {{productObj.title }}</span>\n <span>Category: {{productObj.category}}</span>\n <span>Price: {{productObj.price | currency:'EUR' }}</span>\n</div>. Where do you clear the this.categoriesitemArray ?\nWhy don\u2019t you use the observable?. Are you not getting CORS errors? I do, while localhost is added in the authorised domain list in the firebase console. \nI'm testing an Ionic 3 app local (localhost:8100). Don't know yet.. I resolved it by adding CORS in the functions. \nIt is documented right here. Link. Sure no problem !\nIn my case the problem wasnt in the frontend code but in the functions code. \nCheck this example of Firebase where they created one function that return a CORS response. \nIn my case I added the CORS package. Then I added this code at the top of the code:\nconst cors = require('cors')({ origin: true }); \nThen wrapped the original response in this code.\nreturn cors(req, res, () => {\n // enter existing code here\n });\nHopefully this makes any sense :-)\n. Maybe the docs can answer those? . Sweet, this saved me some time.\nI'm developing a Ionic3 app and was trying the new Functions module. Without the above solution the url started with 'https://null-' because the region info is missing.\nThis is also not documented here. Could you at least format it correctly? With script tags and such? This isn\u2019t really readable. . Try to remove the take(1) operator from your pipe. . Could you provide a plunkr please?. I think you don\u2019t use the promise the way it should. I believe promises are used to retrieve an object once and your able to await it to be sure you retrieve the object. \nLoad full program does subscribe on a observable and return resolves the promise multiple time probably. I\u2019m not sure that\u2019s the result you are looking for. \nI think you should rewrite it to an observable expression optionally save the result in an subject variable or just add the take(1) operator so you only get the value once from Firebase.\nSame thing for load exercises. . Check PR.\nFixed it after adding the take operator.. Awaiting an observable doesn\u2019t mean the observable will just trigger once. Therefor use the take(1) operator. \nCheck the pull request in the previous post. \nBtw. After you \u2018piped\u2019 the take operator. You can do .toPromise() to get it as a promise. . Found it. \nI created a request instead of a call function. \nCall functions are providing a context which contains the Auth state. . I agree with @davidbarrero38! \nEven Firebase has a free plan to get you up and running. \nWhy would you need an alternative for Firebase if I may ask?. try this:\nasync userSignUp(signUpForm: FormGroup): Promise<string> {\n    await this.afAuth.auth.createUserWithEmailAndPassword(signUpForm.value.email, signUpForm.value.password);\n    await this.afAuth.auth.currentUser.sendEmailVerification();\n    this.token = this.afAuth.auth.currentUser.uid;\n    this.tokenChanged.next(this.token);\n    return this.token;\n  }. ",
    "vijaya1407": "There is still one error showing i.e. Property 'quantity' doesn't exist on '{}' . To resolve this, you have to change item.payload.val().quantity to item.payload.exportVal().quantity.\nconst item$ = this.getItem(cartId, product.key);\nitem$.snapshotChanges().pipe(take(1)).subscribe(item => {\n  if (item.payload.exists()) {\n    item$.update({\n      quantity: item.payload.exportVal().quantity + 1\n    });\n  } else {\n    item$.update({product: product, quantity: 1});\n  }\n});.\n",
    "btribouillet": "I'm closing the issue for now since i can't recreate the issue https://stackblitz.com/edit/ionic-wkpvpe.. ",
    "joyceHong": "thank you . ",
    "surajbarkale": "Hi @codediodeio, do you have any examples of protractor-testability-plugin used for firebase? I am not sure on how to filter out setInterval() calls made by firebase using this plugin. Since user must be logged in do perform any action in the app, I can not bypass auth completely.. ",
    "playground": "I have a somewhat different issue, seems like return ApplicationRef; never got executed.\nI'm new to angularfire2, can someone offer some good use cases for using angularfire2?. ",
    "deftomat": "The same issue when I injects AngularFirestore.\nWe cannot use an @angular/service-worker as it is not registered due to this issue.. ",
    "ArtDesire": "angularfire2 cannot leave RC stage until this is fixed.. seems like the issue persists even on js sdk. ~~@yoda888 that doesn't seem to fix the issue~~\nmixed up with 4.10.1 and forgot to deploy\ud83d\ude11. must be tired.\nThanks for pointing out though, would be interesting to see what caused such a strange delay.. @yoda888 I actually do. Seems like they touched the bug but haven't eliminated it.. fixed in https://github.com/firebase/firebase-js-sdk/issues/461. ",
    "PierreDuc": "The issue persists in the Auth module. \nAfter you login some setTimeout is set at 3300000ms. The code is too obfuscated to pinpoint where it exactly comes from, but it is somewhere inside auth.js from firebase.\nBy using a so called TaskTrackingZoneSpec, I was able to determine that when this zone task is created, the NgZone.isInAngularZone() returns true, and the e2e tests will timeout. \nWhen I put this inside the onScheduleTask of the trackingZone:\nif (task.type === 'macroTask' && task.data.delay > 3200000 && task.data.delay < 3400000) {\n  setTimeout(() => {\n    Zone.current.cancelTask(task);\n  });\n}`\n\nThe tests will run fine, because that particular task is no longer blocking the stable state of the angular zone, but also that task no longer exists, and I don't know how important it is ;).\nApparently some calls inside the AngularfireAuthModule trigger this timeout to run inside the zone. I haven't figured out which one exactly yet. My best guess is that it has something to do with the IdToken, judging by the stack trace\n. After a little more digging I found that the problem is originating from the fireauth.AuthUser.prototype.initializeProactiveRefreshUtility_. \nThis is at least triggered on login with using just email and password, or by using the getIdToken() and setting forceRefresh to true.\nFor now the workaround is whenever you call these functions is to wrap it inside a ngZone.runOutsideAngular -> ngZone.run. Just talking with myself here, I managed to work around it by having to override the AngularFireAuth like this:\n{ provide: AngularFireAuth, useClass: AngularFireOwnAuth },\n\nAnd have this:\n```\n@Injectable()\nclass AngularFireOwnAuth extends AngularFireAuth {\n  readonly idToken: Observable;\nconstructor(\n     @Inject(FirebaseOptionsToken) options: any,\n     @Optional() @Inject(FirebaseNameOrConfigToken) nameOrConfig: string|any|undefined,\n     @Inject(PLATFORM_ID) platformId: Object,\n     zone: NgZone\n  ) {\n    super(options, nameOrConfig, platformId, zone);\nthis.idToken = this.user.pipe(\n  switchMap(async user =>\n    user ? zone.run(async() => await zone.runOutsideAngular(() => user.getIdToken())) : null\n  )\n);\n\n}\n}\n```\nThis will make sure the getIdToken is called outside the angular zone. If this is called inside the zone, it will trigger the long setTimeout and prevent angular from ever getting stable. At least not for 3300000ms :)\n. @jamesdaniels The problem is that the observable this.user is inside the zone. So any pipe from it will be in the zone as well. Besides having to override the service, I also had to make any call to the AngularFireAuth, which in turn can possibly trigger the initializeProactiveRefreshUtility_ from firebase, to run outside the zone, and reenter after done.\nI didn't have the time to figure out which of the calls trigger it, but I'm sure that at least user.getIdToken is a naughty one. @JiaLiPassion well, the issue is a long lasting setTimeout, triggered by firebase itself. This timeout is running inside the angular zone, and preventing the zone to be without macroTasks. Don't think that goog.Promise is involved here.\nTo reproduce a repo, I have to set-up a mock firebase app, where you can register and login. Don't think I have time soon to make something like that. @JiaLiPassion Ah, but that's just in an additional test class called a TaskTrackingZoneSpec, which I modified a bit to determine what was causing the hanging angular zone. \nBut yes instead of overriding the AngularFireAuth, I could implement it like this, just in the e2e, although I don't really want something like this in my specs. It will make the e2e code different from the production code.. ",
    "epelc": "Thanks @PierreDuc! I can confirm the run outside zone method works as intended. I'm not using angular fire but it fixes it with interval from rxjs since it's the same idea.. ",
    "JiaLiPassion": "@PierreDuc, maybe the problem is goog.Promise is not zone aware? Could you provide a reproduce repo?. @PierreDuc , ok, I know about the long lasting setTimeout one. \nAbout the code here \njavascript\nif (task.type === 'macroTask' && task.data.delay > 3200000 && task.data.delay < 3400000) {\n  setTimeout(() => {\n    Zone.current.cancelTask(task);\n  });\n}`\nMaybe there is a better way to solve this one, if this long setTimeout is not relevant to test, \nyou can try this in onScheduleTask,\njavascript\nonScheduleTask: (delegate, curr, target, task) => {\n  if ( task.source === 'setTimeout' && task.data.delay > 3200000 && task.data.delay < 3400000) {\n      task.cancelScheduleRequest();\n      task = Zone.root.scheduleTask(task);\n      return task;\n  }\n  return delegate.scheduleTask(target, task);\n}. @PierreDuc , got it, I believe in Testability there is an additional API to let you decide when to done, but anyway, it also use TaskTrackingZoneSpec. When you have time, if you can share your e2e code, maybe I can help to find out how to make it look better, because it maybe a common use case for using zone for test. Thanks. . @jamesdaniels , I think the issue is here, https://github.com/angular/angularfire2/blob/master/src/core/angularfire2.ts#L11,\nwhy we need to import 'zone.js' here? I believe in browser or universal environment, zone.js should already be loaded.\nDo we just need the Typing? \nBut I see in tsconfig.json, \n\"../../node_modules/zone.js/dist/zone.js.d.ts\"\nhas already been loaded, so I am not sure why we need to import zone.js, I delete the import and everything works fine, so this is an universal  issue?\n. @Celtiore, you can try the attached zip file\ndist.zip\n, and I also updated your project, src/providers/af/af.ts.\nyou need to pass ngZone to create a new AngularFirestore.\n```javascript\nimport {Injectable, NgZone} from '@angular/core';\nimport {AngularFirestore} from 'angularfire2/firestore';\nimport {firebaseConfig} from '../../app/app.module';\n@Injectable()\nexport class AfProvider {\n  canUexplainMe2: any;\nafsClient: AngularFirestore;\nconstructor(private ngZone: NgZone) {\n    console.log('Hello AfProvider Provider');\n  }\n  createAFS() {\n    this.afsClient = new AngularFirestore(\n        firebaseConfig, 'firebaseUsers', false, 'can you explain me',\n        this.ngZone);\n  }\n}\n. @Celtiore , thank you for confirm, I am not sure why `import 'zone.js';` is there , so we can close it when we confirm the reason with the `angularfire2` team.. @AnthonyNahas , in `nodejs` or `server side rendering`, `zone-node.js` is already been loaded.\nSo I think it is not necessary to import it again.. @Nilesh-TA , for now, you can downgrade to `5.0.0-rc.4` or use this zip https://github.com/angular/angularfire2/files/1977627/dist.zip for test. @pookdeveloper , could you provide a reproduce repo?. @pookdeveloper , after install `angularfire2` from npm, even you change the src to\nimport {} from 'zone.js';\n``\nIt will not be loaded into bundle, could you try this zip https://github.com/angular/angularfire2/files/1977627/dist.zip to replacenode_modules/angularfire2/`. ",
    "danielsogl": "I fixed my J\u00b4jests test by adding the --browser flag but thank you for your response.\nLet me know when you fixed it. They refactored the firebase javascript sdk typing files. AngularFire2 has to refactor the firebase typing imports to fix that issue.\nhttps://firebase.google.com/support/release-notes/js. ",
    "hhimanshu": "Hey,\nI face the same issue, I have ejected version of create-react-app and the package.json has the following entry\n\"scripts\": {\n    \"start\": \"node scripts/start.js\",\n    \"build\": \"node scripts/build.js\",\n    \"test\": \"node scripts/test.js --env=jsdom\"\n  },\nI changed it to \n\"test\": \"node scripts/test.js --env=jsdom --browser\" \nBut no change, what is the fix you did exactly? Thanks a ton. ",
    "snaveenkumareee": "I ran into same issue. i am not able to fetch the data before a pointer. i need this endbefore if i am navigating to page 1 from page 2. i need to fetch page 1 records, passing the page 2 first record.\n@bob-lee I am confused with your reply. is this a bug and addressed with a code change? or am i wrong in using the API.\ni am using angularfire2@5.0.0-rc.10\n@George35mk please suggest me the solution for this.. I ran into same issue. i am not able to fetch the data before a pointer. i need this endbefore if i am navigating to page 1 from page 2. i need to fetch page 1 records, passing the page 2 first record.\n@bob-lee I am confused with your reply. is this a bug and addressed with a code change? or am i wrong in using the API.\ni am using angularfire2@5.0.0-rc.10\n@George35mk please suggest me the solution for this.. ",
    "guptasanchit90": "I tried this today and found the same issue with both endAt and endBefore. My quick workaround to this was to pass order by with 'asc' for getting next page and 'desc' for previous page.\nget(limit: number, startAfter?: string, endBefore?: string): Observable<any> {\n    if (startAfter) {\n      return this.afs.collection(this.COLLECTION_NAME, ref => ref.orderBy('id', 'asc').limit(limit).startAfter(startAfter)).valueChanges();\n    } else if (endBefore) {\n      return this.afs.collection(this.COLLECTION_NAME, ref => ref.orderBy('id', 'desc').limit(limit).startAfter(endBefore)).valueChanges();\n    } else {\n      return this.afs.collection(this.COLLECTION_NAME, ref => ref.orderBy('id').limit(limit)).valueChanges();\n    }\n  }\nThis is not the ideal code, but for prototyping purpose this should save your day.. ",
    "bkingg": "@George35mk \nTo get the previous page results (a bit of mental math but totally worth it)\n1. Reverse the sorting order, \n2. startAfter the first document of the currently viewed page\n3. Store the snapshot docs into an array\n4. Reverse the array from step 3\n5. Display array from step 4. ",
    "Dan-Ser": "I'm having the same issue. ",
    "luismiguelbravo": "\nsame problem . ",
    "matthewharwood": "Same problem any luck?. Yeah I had to install angularfire2@next to remove these errors. ",
    "thongnx6": "@diegotham I have the same problem. Then I read document as below https://firebase.google.com/docs/firestore/manage-data/delete-data ,and I try this.afs.collection('categories').doc(pathOfdoc).delete();, this works.\nSo,  I using is .snapshotChanges()It returns an array with a lot more information. Then you can use a map operator to get the data and the object Id from the array.. I have faced the same issue. After that, I tried this code, it works for me.\nthis.angularFireMessaging.messaging.subscribe((_messaging) => {\n        _messaging.onMessage = _messaging.onMessage.bind(_messaging);\n        _messaging.onTokenRefresh = _messaging.onTokenRefresh.bind(_messaging);\n})\nthen\n/**\n * hook method when new notification received in the foreground\n */\nreceiveMessage() {\n    this.angularFireMessaging.messages.subscribe((payload) => {\n        console.log(\"new message received. \", payload);\n        this.currentMessage.next(payload);\n    })\n}. ",
    "marcosseki": "Hey guys, any news about this issue?. ",
    "ckouassi": "Hello everyone, is this issue has been resolved ?\n. ",
    "YamanSehzade": "Hi @davideast, any news about this issue?. Hi @davideast, @jamesdaniels. Could you help me please ?\ni think i have a similar issue...\nI get different results when I delete a few objects. \nDo I have to get the same result?\nCould you check the link below ?\nStackblitz link\nthis.afs.collection('items', ref => ref.orderBy('date', 'desc'))\n    .snapshotChanges().map(actions => {\n      return actions.map(action => {\n        const data = action.payload.doc.data();\n        const _id = action.payload.doc.id;\n        return {_id,...data};\n      });\n    });\nthis.afs.collection('items', ref => ref.orderBy('date', 'desc')).valueChanges();\nresults image:\n. @Luke-Rogers  Unfortunately, no. ",
    "muffinrecon": "No i'm not using any queries/limits. Just pulling the collection and calling snapshotChanges() to get the document ids with the docs.\nI believe we are having the same issue. For me to force the update, I just call the collection again.. ",
    "jkossis": "Any update on this? I am having the same issue. When a document is deleted, a new value is emitted within the snapshotChanges() subscription. Only, the DocumentChangeAction[] is empty. There is no 'removed' action.. ^ I think it is a different bug. I switched over to stateChanges, and I now receive 'removed' events. It seems like snapshotChanges does not provide 'remove' events.. @slyedoc, I am having the same issue. I thought it was interesting that it was defined as being either string | null. Wonder when and why the null code path is executed.. I am seeing the same issue. None of my registered interceptors are being performed with requests made by the angularfire2 modules/submodules.. ",
    "luke-rogers": "@YamanSehzade Did you manage to resolve this issue? I am facing almost exactly the same.. @davideast Unfortunately your fork does not seem to fix the issue. For example, if you add until around 5 items are in the list, then start deleting them, you will see that sometimes, two are removed from the UI until you refresh.\nHappy to open this as a new issue if necessary.. ",
    "robert-king": "in the second call, I would just call this.afs.collection('sports').valueChanges() again to create a new observable, I assume this won't put twice the load on the server as hopefully firebase is smart enough to dedupe if you're watching the same collection multiple times. (from my testing, the second call to valueChanges() seemed instant).\n. in some of the docs, you guys import from firebase, rather than from firebase/app - not sure if that maters or not.. https://stackblitz.com/edit/angular-g4ppdt?file=src%2Fapp%2Fhello.component.ts\nhttps://angular-g4ppdt.stackblitz.io/. It would be cool to show progress too - e.g. show some things quickly from the cache, but have a loading spinner to show while more results are being fetched from the server.. \"angularfire2\": \"^5.0.0-rc.10\",\nhave:\nimport { firestore } from 'firebase';\ndate: firestore.FieldValue.serverTimestamp(),\ncould that be it?. ",
    "Gardemarin": "Can You give package.json content ? I think the problem is inside this file. ",
    "fayeyen": "@Gardemarin don't have the package.json but I have package-lock.json\n. it's work now, I add the path at .bash_profile\nexport PATH=/Users/admin/.npm-global/bin:$PATH\nAngular CLI: 1.5.4\nNode: 8.9.1\nOS: darwin x64\nAngular: . I found the problem, is ng2-img-max not work on edge, if I not use resize the image the upload work fine in all the browser.\n. ",
    "slyedoc": "Great work!  Though I think there is an issue with the downloadURL Observerable, if the file is large (few mb), download URL is always null.\n```\nuploadFile(event) {\n    const file = event.target.files[0];\n    const filePath = \"some-path\";\n    const task = this.storage.upload(filePath, file);\n    this.uploadPercent = task.percentageChanges();\n    this.downloadURL = task.downloadURL();\nthis.downloadURL.subscribe(url => {\n  console.log('wrong', url); // will be null on files larger then a few kb\n});\n\ntask.then().then(a => {\n  console.log('correct', a.metadata.downloadURLs[0]);  // correct download url\n});\n\n}\n```\nAnyone else having this issue?\n. ",
    "anonymuos1": "@slyedoc same here :-/. ",
    "kyleabens": "This is awesome, great work!  Is there a way to retrieve the names of the files that reside in a specific folder in storage?. ",
    "cesarsalesgomes": "@davideast Hi! \nhttps://github.com/cesarsalesgomes/marina\nGit project helps? \nThis is a server-side rendering app with cloud functions to host my syster-in-law restaurant site.\nIt's a way to repay her for letting me eat there for free =D\nHere's the link:\nhttps://marina-c0b30.firebaseapp.com/. @davideast \nhttps://github.com/cesarsalesgomes/marina/commit/dda1f8aab09a56ccfc36aca5655eb46ddde7a47e\n. ",
    "sugarme": "@jamesdaniels Could you give more details about how to use those services on server side and client side, please? I mean how to integrate them in to a angular universal project using angularfire2. . @jamesdaniels the angularfire2/firebase-node does not appear when yarn add angularfire2@5.0.0-rc.5-next. I tried to install directly from universal_support branch and replaced them into node_modules/angularfire2 and also installed required peer dependencies (both at project level and angularefire2/firebase-node level) but when adding import \"angularfire2/firebase-node\"; at server.ts and building server npm run webpack:server I had red message ERROR in ./node_modules/angularfire2/firebase-node/index.js\nModule not found: Error: Can't resolve 'XMLHttpRequest'. Any idea everyone?\n. @jamesdaniels I have a look at file angularfire2/firebase-node and found you wrote global['XMLHttpRequest'] = require(\"XMLHttpRequest\").XMLHttpRequest; while in node_modules package name is xmlhttprequest. When I changed this line to global['XMLHttpRequest'] = require(\"xmlhttprequest\").XMLHttpRequest; and recompiled, the red complaint disappeared. Was it a typo?\n  . ",
    "hrangel": "Anybody know when this will be available as a packaged version?. ",
    "yharaskrik": "Any movement on this Pull Request? I see it has been merged in but angularfire2/firebase-node cannot be found when being imported. on angularfire2@5.0.0-rc.6. @davideast thank you very much for the quick response. I will do that right now. Is there an estimated time on a release for it?. For anyone else that is trying to pack the current master branch as @davideast suggested there was one edit I had to make to get it to work correctly\n`git clone https://github.com/angular/angularfire2.git\ncd angularfire2\nyarn\nyarn build\ncd pack/package-dist # this needs to be done or else pack tries to pack a git repo named package-dist\nnpm pack\nthis will create a tarball you can install like a regular npm package\ncd ../my-universal-project\nyarn add ../angularfire2/angularfire2-rc.5-0.tgz`. @davideast I was able to get it all packaged up but when adding it with yarn it does not add all of the things inside the tar file, firebase-node is left out of the yarn add for some reason, but if I copy and paste the package folder into my node_modules folder it works fine. Unsure of why that is happening but for now I will just forcfully add it as I need to get it working and will wait for the official angularfire2 release.. Wondering what the status is on this commit. My application does not serve and this commit seems to have fixed the issue.. ",
    "ishandutta2007": "Got Resolved here . ",
    "javieraviles": "Let's try to make some points here:\n\nWhen working with the real-time database, version 5 is not using FirebaseListObservable and FirebaseObjectObservable anymore, instead, now it uses AngularFireList for lists and AngularFireObject for objects.\ndb.object(.....) will give you back an AngularFireObject; db.list(.......) and AngularFireList. So you could do AngularFireObject<any> author = db.object('authors').\nif you add \".valueChanges()\" afterwards, directly in the same statement, you are basically getting the Observable (whether it is a list or an object) of that AngularFireObject/List to which you can subscribe then. Observable<any> author = db.object('authors').valueChanges()\nOn the other hand, If you just get 'authors', it seems to me like you want to get a List, not an object, the whole list of authors, as you are not specifying any authorId to get just one... AngularFireObject<any> author = db.object('authors/${authorId}') or AngularFireList<any> authorsList = db.list('authors')\nIt is also a good practice if you previously define an interface or a class \"Author\" with correspondent attributes so you can do AngularFireObject<Author> instead of <any>\nAnother suggestion just so you know, your lines 1 and 3 could be merged together as import { Component, OnDestroy } from '@angular/core';\n\nI hope this answer is readable and helpful for you:). Let's try to make some points here:\n\nWhen working with the real-time database, version 5 is not using FirebaseListObservable and FirebaseObjectObservable anymore, instead, now it uses AngularFireList for lists and AngularFireObject for objects.\ndb.object(.....) will give you back an AngularFireObject; db.list(.......) and AngularFireList. So you could do AngularFireObject<any> author = db.object('authors').\nif you add \".valueChanges()\" afterwards, directly in the same statement, you are basically getting the Observable (whether it is a list or an object) of that AngularFireObject/List to which you can subscribe then. Observable<any> author = db.object('authors').valueChanges()\nOn the other hand, If you just get 'authors', it seems to me like you want to get a List, not an object, the whole list of authors, as you are not specifying any authorId to get just one... AngularFireObject<any> author = db.object('authors/${authorId}') or AngularFireList<any> authorsList = db.list('authors')\nIt is also a good practice if you previously define an interface or a class \"Author\" with correspondent attributes so you can do AngularFireObject<Author> instead of <any>\nAnother suggestion just so you know, your lines 1 and 3 could be merged together as import { Component, OnDestroy } from '@angular/core';\n\nI hope this answer is readable and helpful for you:). Hi @kaygeeklaas,\nMaybe in the \"get started\" section is not fully updated, but here you have the documentation in detail, all fine :)\nreal time db docs updated\nAnyway here is the solution to your problem:\ndb.object will return an AngularFireObject indeed, but what you need to display on the view is an Observable (or Observable in case you don't want to define the object); to get an observable out of an AngularFireObject you need to call .valueChanges(), then your binding to the view for the authors list will work with the async pipe correctly.\ncomponent.ts\n```\nexport class AppComponent {\n    authors:Observable\nconstructor(db:AngularFireDatabase) {\n    this.authors=db.object('/authors/1').valueChanges();\n}\n\n}\n**component.html**\n{{ authors | async }}\n```\nI would encourage you to read a bit more of information about Observables in order to fully understand them. Hi @kaygeeklaas,\nMaybe in the \"get started\" section is not fully updated, but here you have the documentation in detail, all fine :)\nreal time db docs updated\nAnyway here is the solution to your problem:\ndb.object will return an AngularFireObject indeed, but what you need to display on the view is an Observable (or Observable in case you don't want to define the object); to get an observable out of an AngularFireObject you need to call .valueChanges(), then your binding to the view for the authors list will work with the async pipe correctly.\ncomponent.ts\n```\nexport class AppComponent {\n    authors:Observable\nconstructor(db:AngularFireDatabase) {\n    this.authors=db.object('/authors/1').valueChanges();\n}\n\n}\n**component.html**\n{{ authors | async }}\n```\nI would encourage you to read a bit more of information about Observables in order to fully understand them. ",
    "dnnycortes": "I've been struggling with firebase angular and observables a couple of days and this really helped me a lot.  Thank you so much @javieraviles!. ",
    "KaraboMaimane": "Im not getting any output whatsoever from my database. Anything wrong im doing. i followed this documentation but to no avail: https://github.com/angular/angularfire2/blob/master/docs/rtdb/lists.md\n\n\n. ",
    "isylhdin": "Hum, my case is not exactly as I described. I can make it work with zone.run now \n```\nthis.afAuth.auth.signInWithPopup(new firebase.auth.FacebookAuthProvider())\n    .then((userResponse) => this.test1(userResponse)});\n...\nprivate test1(userResponse) {\n  firebase.auth().currentUser.getToken(true)\n                                            .then(this.test2)\n}\nprivate test2() = (idToken) => {\n  this.httpCall().then( (response) => {\n    this.zone.run(() =>{\n      this.router.navigate(['/test']);\n    }\n  }\n}\n```\nAnd it works like that. Routing has to be surrounded by zone.run. ",
    "bjornharvold": "Same setup and I think same issue:\nERROR in node_modules/@firebase/database/dist/esm/src/api/Database.d.ts(4,33): error TS2307: Cannot find module '@firebase/app-types/private'.. ",
    "hanihoumani93": "Go back to firebase 4.8.0:\n\nIn your CLI with you project path type: npm uninstall firebase (which is 4.8.1)\nthen once fish uninstall, type: npm cache clear\n-then type: npm install firebase@^4.8.0\n\n-finally: Remove \"firebase\": \"^4.8.1\" in dependencies in package.json and Type \"firebase\": \"4.8.0\"\n(Note: without ^). Save All and your problem will be solved! :). Go back to firebase 4.8.0:\n\n\nIn your CLI with you project path type: npm uninstall firebase (which is 4.8.1)\n\nthen once finished uninstall, type: npm cache clear\n-then type: npm install firebase@4.8.0\n-finally: Remove \"firebase\": \"^4.8.1\" in dependencies in package.json and Type \"firebase\": \"4.8.0\"\n(Note: without ^). Save All and your problem will be solved! :). \n",
    "TudorIoanMarin": "This still happens in firebase 4.10.1 with angularfire2 5.0.0-rc.6, is there a fix for this?. ",
    "devHamza": "I have the same issue in the latest version \"firebase\": \"^4.12.1\", \"angularfire2\": \"^5.0.0-rc.6.0\" !! \n. ",
    "vchannabasav": "even I have the same issue in the latest version \"firebase\": \"^4.12.1\", \"angularfire2\": \"^5.0.0-rc.6.0\", please suggest some solution. ",
    "jobehi": "the issue remains with \"angularfire2\": \"^5.0.0-rc.6.0\" and \"firebase\": \"^4.13.0\",. it worked just fine when I downgraded firebase version, actual config : \"angularfire2\": \"5.0.0-rc.6.0\",\n    \"firebase\": \"4.12.1\",. ",
    "agosto-chrisbartling": "@anasbaddyr Thanks for the tip. Adding the individual module packages seems to fix the issue. . ",
    "pedrocoder": "I solved with npm install @firebase/app@0.1.10. ",
    "gary60405": "I solved it by reinstalling @firebase/auth. ",
    "JimBlaney": "angularfire2 ^5.0.0-rc.9\nfirebase     ^5.0.3\n\nI solved it by putting this interface definition in the file where I keep my models exports:\nTypescript\nexport interface Timestamp {\n  constructor(seconds: number, nanoseconds: number);\n  readonly seconds: number;\n  readonly nanoseconds: number;\n  toDate(): Date;\n  toMillis(): number;\n  isEqual(other: Timestamp): boolean;\n}. ",
    "vincent-cm": "npm i @firebase/auth\nnpm i @firebase/auth-types\nnpm i @firebase/firestore \n....\nThanks this solved the issue. npm i @firebase/auth\nnpm i @firebase/auth-types\nnpm i @firebase/firestore \n....\nThanks this solved the issue. Following are runtime exception using AoT build on angular6 project\n@firebase/database: FIREBASE WARNING: Exception was thrown by user callback. TypeError: Cannot read property 'OVERWRITE' of undefined\nUncaught TypeError: Cannot read property 'OVERWRITE' of undefined. Following are runtime exception using AoT build on angular6 project\n@firebase/database: FIREBASE WARNING: Exception was thrown by user callback. TypeError: Cannot read property 'OVERWRITE' of undefined\nUncaught TypeError: Cannot read property 'OVERWRITE' of undefined. @davideast https://github.com/vincent-cm/angular-starter-test\nThis can reproduce Cannot read property 'OVERWRITE' of undefined\nPlease run: npm run build:aot and npm run serve:prod to locate the runtime error. @davideast https://github.com/vincent-cm/angular-starter-test\nThis can reproduce Cannot read property 'OVERWRITE' of undefined\nPlease run: npm run build:aot and npm run serve:prod to locate the runtime error. @bluebaroncanada did u install npm install rxjs@6 rxjs-compat@6 --save?. @bluebaroncanada did u install npm install rxjs@6 rxjs-compat@6 --save?. @lewiswashere you can try to downgrade the firebase version. @lewiswashere you can try to downgrade the firebase version. Related https://github.com/firebase/firebase-js-sdk/issues/904. Related https://github.com/firebase/firebase-js-sdk/issues/904. Had downgrade angularfire2 to 4.0.0-rc.6.0 and firebase to 4.12.1, and it worded @hiepxanh thanks for your demo project, I did not use ng cli, probably the latest webpack I am using is not compatible with this version of @firebase SDKs, But had to revert all my code back to rxjs 5\nBtw, @hiepxanh I cloned your repository, although the build is complete, but when I serve the dist folder it failed to load:\nmain.1d1305110076e41075c4.js:1 ERROR Error: StaticInjectorError(Wa)[function(t){this.title=t.object(\".info/connected\").valueChanges()} -> t]: \n  StaticInjectorError(Platform: core)[function(t){this.title=t.object(\".info/connected\").valueChanges()} -> t]: \n    NullInjectorError: No provider for t!\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at main.1d1305110076e41075c4.js:1\n    at t (main.1d1305110076e41075c4.js:1)\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at main.1d1305110076e41075c4.js:1\n    at t (main.1d1305110076e41075c4.js:1)\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at ai (main.1d1305110076e41075c4.js:1)\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at Hi (main.1d1305110076e41075c4.js:1). Had downgrade angularfire2 to 4.0.0-rc.6.0 and firebase to 4.12.1, and it worded @hiepxanh thanks for your demo project, I did not use ng cli, probably the latest webpack I am using is not compatible with this version of @firebase SDKs, But had to revert all my code back to rxjs 5\nBtw, @hiepxanh I cloned your repository, although the build is complete, but when I serve the dist folder it failed to load:\nmain.1d1305110076e41075c4.js:1 ERROR Error: StaticInjectorError(Wa)[function(t){this.title=t.object(\".info/connected\").valueChanges()} -> t]: \n  StaticInjectorError(Platform: core)[function(t){this.title=t.object(\".info/connected\").valueChanges()} -> t]: \n    NullInjectorError: No provider for t!\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at main.1d1305110076e41075c4.js:1\n    at t (main.1d1305110076e41075c4.js:1)\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at main.1d1305110076e41075c4.js:1\n    at t (main.1d1305110076e41075c4.js:1)\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at ai (main.1d1305110076e41075c4.js:1)\n    at t.get (main.1d1305110076e41075c4.js:1)\n    at Hi (main.1d1305110076e41075c4.js:1). Potential bug found\nConflict with @angular-devkit/build-optimizer/webpack-loader'\nSee below code snippet:\nconfig buildOptimizerLoader\nconst buildOptimizerLoader = {\n    loader: '@angular-devkit/build-optimizer/webpack-loader',\n    options: {\n      sourceMap\n    }\n  };\nexeclude @firebase/database/dist from buildOptimizerLoader(AoT) build success in AoT mode\nconst loaders = [{\n      test: /(?:\\.ngfactory\\.js|\\.ngstyle\\.js|\\.ts)$/,\n      exclude: [helpers.root('node_modules', '@firebase/database/dist')],\n      use: buildOptimizer ? [buildOptimizerLoader, '@ngtools/webpack'] : ['@ngtools/webpack']\n    },\n    ...buildOptimizer ? [{\n      test: /\\.js$/,\n      exclude: [helpers.root('node_modules', '@firebase/database/dist')],\n      use: [buildOptimizerLoader]\n    }] : [],\n    ...[{\n      test: /(?:\\.ngfactory\\.js|\\.ngstyle\\.js|\\.ts)$/,\n      include: [helpers.root('node_modules', '@firebase/database/dist')],\n      use: ['@ngtools/webpack']\n    }]\n  ];\nBut if not, the build will freeze at\n69% building modules 1720/1726 modules 6 active \u2026ient/node_modules/....js\nThis can not be reproduced when the project is small.\n. Potential bug found\nConflict with @angular-devkit/build-optimizer/webpack-loader'\nSee below code snippet:\nconfig buildOptimizerLoader\nconst buildOptimizerLoader = {\n    loader: '@angular-devkit/build-optimizer/webpack-loader',\n    options: {\n      sourceMap\n    }\n  };\nexeclude @firebase/database/dist from buildOptimizerLoader(AoT) build success in AoT mode\nconst loaders = [{\n      test: /(?:\\.ngfactory\\.js|\\.ngstyle\\.js|\\.ts)$/,\n      exclude: [helpers.root('node_modules', '@firebase/database/dist')],\n      use: buildOptimizer ? [buildOptimizerLoader, '@ngtools/webpack'] : ['@ngtools/webpack']\n    },\n    ...buildOptimizer ? [{\n      test: /\\.js$/,\n      exclude: [helpers.root('node_modules', '@firebase/database/dist')],\n      use: [buildOptimizerLoader]\n    }] : [],\n    ...[{\n      test: /(?:\\.ngfactory\\.js|\\.ngstyle\\.js|\\.ts)$/,\n      include: [helpers.root('node_modules', '@firebase/database/dist')],\n      use: ['@ngtools/webpack']\n    }]\n  ];\nBut if not, the build will freeze at\n69% building modules 1720/1726 modules 6 active \u2026ient/node_modules/....js\nThis can not be reproduced when the project is small.\n. https://github.com/angular/angular-cli/issues/11639. https://github.com/angular/angular-cli/issues/11639. ",
    "ohabash": "Is this still the best solution today? This break other parts of my app.\nhttps://stackoverflow.com/questions/52374952/ng-build-prod-cant-resolve-public-api-in-node-modules-angularfire2-d\n{\n  \"name\": \"fornida-ng6\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\",\n    \"prestart\": \"ng build --prod && ngc\",\n    \"build:ssr\": \"npm run build:client-and-server-bundles && npm run webpack:server\",\n    \"serve:ssr\": \"node dist/server\",\n    \"build:client-and-server-bundles\": \"ng build --prod && ng run fornida-ng6:server\",\n    \"webpack:server\": \"webpack --config webpack.server.config.js --progress --colors\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^6.1.7\",\n    \"@angular/common\": \"^6.1.7\",\n    \"@angular/compiler\": \"^6.1.7\",\n    \"@angular/core\": \"^6.1.7\",\n    \"@angular/forms\": \"^6.1.7\",\n    \"@angular/http\": \"^6.1.7\",\n    \"@angular/platform-browser\": \"^6.1.7\",\n    \"@angular/platform-browser-dynamic\": \"^6.1.7\",\n    \"@angular/platform-server\": \"^6.1.7\",\n    \"@angular/router\": \"^6.1.7\",\n    \"@angular/service-worker\": \"^6.1.7\",\n    \"@ng-toolkit/universal\": \"^1.1.41-beta.110\",\n    \"@nguniversal/express-engine\": \"^6.1.0\",\n    \"@nguniversal/module-map-ngfactory-loader\": \"^6.1.0\",\n    \"angularfire2\": \"^5.0.0-rc.10\",\n    \"core-js\": \"^2.5.4\",\n    \"desandro-classie\": \"^1.0.1\",\n    \"express\": \"^4.16.3\",\n    \"firebase\": \"^5.0.4\",\n    \"font-awesome\": \"^4.7.0\",\n    \"jquery\": \"^3.3.1\",\n    \"jsoneditor\": \"^5.24.6\",\n    \"jwt-decode\": \"^2.2.0\",\n    \"jwt-simple\": \"^0.5.1\",\n    \"ng-snotify\": \"^4.3.1\",\n    \"ngx-slick\": \"^0.1.3\",\n    \"node-bigcommerce\": \"^3.0.0\",\n    \"rellax\": \"^1.7.0\",\n    \"request\": \"^2.88.0\",\n    \"rxjs\": \"^6.2.1\",\n    \"rxjs-compat\": \"^6.2.1\",\n    \"sticky-js\": \"^1.2.0\",\n    \"ts-loader\": \"^5.1.1\",\n    \"zone.js\": \"^0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"~0.6.8\",\n    \"@angular/compiler-cli\": \"^6.1.7\",\n    \"@angular/language-service\": \"^6.1.7\",\n    \"@nativescript/schematics\": \"^0.3.1\",\n    \"@types/jasmine\": \"~2.8.6\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/jquery\": \"^3.3.6\",\n    \"@types/node\": \"^8.10.29\",\n    \"codelyzer\": \"~4.2.1\",\n    \"jasmine-core\": \"~2.99.1\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~1.7.1\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^2.0.4\",\n    \"karma-jasmine\": \"~1.1.1\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.3.0\",\n    \"ts-node\": \"~5.0.1\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"~2.7.2\",\n    \"webpack-cli\": \"^3.1.0\"\n  }\n}. ",
    "megabytemb": "For anyone who's looking to  test their code without building angularfire2 manually, i've pushed the new build to a github repo. You can install with npm install --save github:megabytemb/angularfire2-builds\nMake sure you change your package.json back to the official angularfire2 repo when its released. . ",
    "rts-cwalker": "I started getting this error last night as well out of the blue. I even reran builds that has just completed successfully that then failed with no changes. \nI think this new error may be related to the firebase refactoring specified in the latest comments in angular/angularfire2#1385\nThere is a PR open for this issue. https://github.com/angular/angularfire2/pull/1386. @Sandeep3005 did you uninstall the prior firebase version before changing to use firebase:  4.8.0? I made sure to run npm uninstall --save firebase and then ran npm install with firebase: 4.8.0. Although if you already updated to 4.8.0 in package.json, I wouldnt add the --save flag to npm uninstall\nSo the steps I followed were:\nnpm uninstall --save firebase\nnpm install --save firebase@4.8.0\nRemove the leading ^ in front of resulting package version for firebase. ",
    "a-cordoba10": "@rts-cwalker The same happened to me. \nChanging it to firebase 4.8.0 fixed the issue as stated in the other thread. . ",
    "rezid": "finally !!! i know the problem and could fix it with a downgrade to 4.8.0. ",
    "mayordwells": "I'm getting this same error right now, downgraded, upgraded, did everything but still didn't work.\nI'm using:\n \"angularfire2\": \"^5.0.0-rc.4\",\n \"firebase\": \"4.8.1\",\nI also upgraded to rc.5 but that didn't fix the error\nMy error log looks like so:\nERROR in node_modules/angularfire2/auth/auth.d.ts(10,20): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/auth/auth.d.ts(11,36): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/firebase.app.module.d.ts(5,45): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/firebase.app.module.d.ts(8,17): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/firebase.app.module.d.ts(9,21): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/firebase.app.module.d.ts(10,22): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/firebase.app.module.d.ts(11,20): error TS2503: Cannot find namespace 'firebase'.\nnode_modules/angularfire2/firebase.app.module.d.ts(13,22): error TS2503: Cannot find namespace 'firebase'.\nWhen is a bug fix likely to be released?. @asgarli Thanks, I'll try to do the same. . ",
    "asgarli": "Downgrading to firebase 4.8.0 fixed it for me. Might be because of https://github.com/firebase/firebase-js-sdk/issues/332. Can we keep this bug open to track the upstream dependencies?. Thank you so much @davideast! Since this was in Typescript, I did import * as firebase from 'firebase/app'; and it did the trick. There was no need for import 'firebase/auth'; - I guess because I'm importing it with AngularFireAuthModule. \nShould we update the documentation, or is there a reason it was done that way?\n. Based on https://github.com/angular/angularfire2/issues/1879. ",
    "darlondjc": "this resolution doesnt work for me.\n\n\"dependencies\": {\n    \"@angular/common\": \"5.0.3\",\n    \"@angular/compiler\": \"5.0.3\",\n    \"@angular/compiler-cli\": \"5.0.3\",\n    \"@angular/core\": \"5.0.3\",\n    \"@angular/forms\": \"5.0.3\",\n    \"@angular/http\": \"5.0.3\",\n    \"@angular/platform-browser\": \"5.0.3\",\n    \"@angular/platform-browser-dynamic\": \"5.0.3\",\n    \"@ionic-native/core\": \"4.4.0\",\n    \"@ionic-native/splash-screen\": \"4.4.0\",\n    \"@ionic-native/status-bar\": \"4.4.0\",\n    \"@ionic/pro\": \"1.0.16\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"@types/firebase\": \"^2.4.32\",\n    \"angularfire2\": \"^5.0.0-rc.4\",\n    \"firebase\": \"4.8.0\",\n    \"ionic-angular\": \"3.9.2\",\n    \"ionicons\": \"3.0.0\",\n    \"promise-polyfill\": \"^6.1.0\",\n    \"rxjs\": \"5.5.2\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.18\"\n  }. @myspivey:\n{\n  \"_from\": \"firebase@4.8.0\",\n  \"_id\": \"firebase@4.8.0\",\n  \"_inBundle\": false,\n  \"_integrity\": \"xxx\",\n  \"_location\": \"/firebase\",\n  \"_phantomChildren\": {\n    \"@firebase/webchannel-wrapper\": \"0.2.5\",\n    \"faye-websocket\": \"0.11.1\",\n    \"grpc\": \"1.8.0\"\n  },\n  \"_requested\": {\n    \"type\": \"version\",\n    \"registry\": true,\n    \"raw\": \"firebase@4.8.0\",\n    \"name\": \"firebase\",\n    \"escapedName\": \"firebase\",\n    \"rawSpec\": \"4.8.0\",\n    \"saveSpec\": null,\n    \"fetchSpec\": \"4.8.0\"\n  },\n  \"_requiredBy\": [\n    \"/\"\n  ],\n  \"_resolved\": \"https://registry.npmjs.org/firebase/-/firebase-4.8.0.tgz\",\n  \"_shasum\": \"c0b5bad5c1241222f3a6f06065ea121ebbc14fd3\",\n  \"_spec\": \"firebase@4.8.0\",\n  \"_where\": \"C:\\workspace\\loteca\",\n  \"author\": {\n    \"name\": \"Firebase\",\n    \"email\": \"firebase-support@google.com\",\n    \"url\": \"https://firebase.google.com/\"\n  },\n  \"browser\": \"index.js\",\n  \"bugs\": {\n    \"url\": \"https://github.com/firebase/firebase-js-sdk/issues\"\n  },\n  \"bundleDependencies\": false,\n  \"dependencies\": {\n    \"@firebase/app\": \"0.1.4\",\n    \"@firebase/auth\": \"0.3.0\",\n    \"@firebase/database\": \"0.1.5\",\n    \"@firebase/firestore\": \"0.2.1\",\n    \"@firebase/messaging\": \"0.1.5\",\n    \"@firebase/polyfill\": \"0.1.3\",\n    \"@firebase/storage\": \"0.1.4\",\n    \"dom-storage\": \"^2.0.2\",\n    \"xmlhttprequest\": \"^1.8.0\"\n  },\n  \"deprecated\": false,\n  \"description\": \"Firebase JavaScript library for web and Node.js\",\n  \"devDependencies\": {\n    \"compression-webpack-plugin\": \"^1.0.0\",\n    \"git-rev-sync\": \"^1.9.1\",\n    \"gulp\": \"github:gulpjs/gulp#4.0\",\n    \"gulp-concat\": \"^2.6.1\",\n    \"gulp-sourcemaps\": \"^2.6.1\",\n    \"npm-run-all\": \"^4.1.1\",\n    \"webpack\": \"^3.5.6\",\n    \"webpack-dev-server\": \"^2.8.1\",\n    \"webpack-stream\": \"^4.0.0\",\n    \"wrapper-webpack-plugin\": \"^1.0.0\"\n  },\n  \"homepage\": \"https://firebase.google.com/\",\n  \"keywords\": [\n    \"authentication\",\n    \"database\",\n    \"Firebase\",\n    \"firebase\",\n    \"realtime\",\n    \"storage\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"main\": \"index.node.js\",\n  \"name\": \"firebase\",\n  \"react-native\": \"index.react-native.js\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/firebase/firebase-js-sdk.git\"\n  },\n  \"scripts\": {\n    \"dev\": \"run-p watch:compiler watch:server\",\n    \"prepare\": \"gulp build\",\n    \"watch:compiler\": \"gulp watch\",\n    \"watch:server\": \"webpack-dev-server --config webpack.dev.js --colors\"\n  },\n  \"typings\": \"index.d.ts\",\n  \"version\": \"4.8.0\"\n}\n. \"angularfire2\": \"5.0.0-rc.5\", and \"firebase\": \"4.8.0\" did not work yet. :(. @cdosorio i did it right now (again), just for confirm, but stays the same error. \ntypescript error\n            Cannot find type definition file for 'firebase'.. The mine one's like this (and it doesnt work anway): \n\"angularfire2\": \"^5.0.0-rc.5\",\n\"firebase\": \"4.8.0\". \n",
    "andriandresson": "Upgrading angularfire2 and downgrading firebase fixed it for me.\n\"angularfire2\": \"5.0.0-rc.5\", + \"firebase\": \"4.8.0\",\n\"dependencies\": {\n    \"@angular/animations\": \"^5.0.0\",\n    \"@angular/common\": \"^5.0.0\",\n    \"@angular/compiler\": \"^5.0.0\",\n    \"@angular/core\": \"^5.0.0\",\n    \"@angular/forms\": \"^5.0.0\",\n    \"@angular/http\": \"^5.0.0\",\n    \"@angular/platform-browser\": \"^5.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.0.0\",\n    \"@angular/router\": \"^5.0.0\",\n    \"@angular/service-worker\": \"^5.0.0\",\n    \"@ngrx/store\": \"^4.1.1\",\n    \"angularfire2\": \"5.0.0-rc.5\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"4.8.0\",\n    \"rxjs\": \"^5.5.2\",\n    \"zone.js\": \"^0.8.14\"\n  },. ",
    "fazanki": "\"angularfire2\": \"5.0.0-rc.5\", and \"firebase\": \"4.8.0\" did work for me :) . ",
    "cdosorio": "@darlondjc , did you ran npm update on the root folder? I was missing that step . ",
    "richard457": "I am having bad time with this error. did anyone got a fix?\n. ",
    "alexbaron50": "Be sure on your package.json file that the firebase version doesn't have the ^ symbol, otherwise you will be importing version 4.8.1 not 4.8.0.:\n\"angularfire2\": \"^5.0.0-rc.5\",\n\"firebase\": \"4.8.0\",. ",
    "oluway": "Step1  -- Downgrade firebase to 4.8.0 and remove ^, \nStep2-- Remove ^ from   \"angularfire2\": \"5.0.0-rc.4\",\nStep3--  run npm update  and restart your VSCODE\n\"dependencies\": {\n    \"@angular/common\": \"5.0.3\",\n    \"@angular/compiler\": \"5.0.3\",\n    \"@angular/compiler-cli\": \"5.0.3\",\n    \"@angular/core\": \"5.0.3\",\n    \"@angular/forms\": \"5.0.3\",\n    \"@angular/http\": \"5.0.3\",\n    \"@angular/platform-browser\": \"5.0.3\",\n    \"@angular/platform-browser-dynamic\": \"5.0.3\",\n    \"@firebase/firestore\": \"^0.2.2\",\n    \"@firebase/webchannel-wrapper\": \"0.2.5\",\n    \"@ionic-native/core\": \"4.4.0\",\n    \"@ionic-native/splash-screen\": \"^4.5.2\",\n    \"@ionic-native/status-bar\": \"4.4.0\",\n    \"@ionic/pro\": \"1.0.16\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"angularfire2\": \"5.0.0-rc.4\",\n    \"cordova-android\": \"6.3.0\",\n    \"cordova-plugin-device\": \"^1.1.7\",\n    \"cordova-plugin-ionic-webview\": \"^1.1.16\",\n    \"cordova-plugin-splashscreen\": \"^4.1.0\",\n    \"cordova-plugin-whitelist\": \"^1.3.3\",\n    \"cordova-splashscreen\": \"^3.1.0\",\n    \"firebase\": \"4.8.0\",\n    \"ionic-angular\": \"3.9.2\",\n    \"ionic-plugin-keyboard\": \"^2.2.1\",\n    \"ionicons\": \"3.0.0\",\n    \"promise-polyfill\": \"^6.1.0\",\n    \"rxjs\": \"5.5.2\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.18\"\n. ",
    "jverk": "@hanihoumani93 Thank you.  Had to remove ^ and it worked fine.  \nnpm install firebase@4.8.0. ",
    "Etosticity": "Solution:\n1. Inside package.json, remove ^ from \"firebase\": \"^4.8.1\"\n1.1 Downgrade Firebase from 4.8.1 to 4.8.0 by changing 4.8.1 to 4.8.0\n1.2 End result should look like this: \"firebase\": \"4.8.0\"\n2. Run npm update in the Project Root. NPM will downgrade Firebase for ya\n3. Run ng serve --open to check for compilation errors. There shouldn't be any.\n4. Enjoy!\nReason:\nFirebase had introduced some breaking changes that AngularFire2 had not coped up with yet. Until the AngularFire2 team work it out, this will be the solution.\nAdd a thumbs up emoji and direct anyone having the same trouble here! Would save a lot of their time!. ",
    "ilivestrong": "\"angularfire2\": \"^5.0.0-rc.5\",\n    \"firebase\": \"4.8.0\",\nWorked for me... I don't know why there are so many breaking changes these days.. I signed it.. I signed it.. ",
    "mkamranhamid": "+-- UNMET PEER DEPENDENCY @firebase/app@^0.1.0  \n+-- angularfire2@5.0.0-rc.4  \n-- UNMET DEPENDENCY firebase@4.8.0\ngetting this error with rc-4\nThe below versions worked for me\n\"angularfire2\": \"^5.0.0-rc.4\",\n \"firebase\": \"4.5.0\",\n. ",
    "zeddarn": "On a Christmas, breaking changes!!! I tried below and it worked. \n\"angularfire2\": \"5.0.0-rc.4\",\n\"firebase\": \"4.8.0\",. Updating to version \"firebase\": \"^4.8.2\", should fix the issue. \n. ",
    "ChellappanRajan": "if you roll back to firebase 4.8.0.then the error wil go away.. . ",
    "Sandeep3005": "Tried everything not working.\nCurrent Error - \nERROR in ../../../../node_modules/@firebase/database/dist/esm/src/api/Database.d.ts(4,33): error TS2307: Cannot find module '@firebase/app-types/private'.\n../../../../node_modules/@firebase/database/dist/esm/src/core/AuthTokenProvider.d.ts(17,39): error TS2307: Cannot find module '@firebase/app-types/private'.\nand Versions are \n\"angularfire2\": \"^5.0.0-rc.4\",\n    \"firebase\": \"4.8.0\",\nAlso tries this combination\n\"angularfire2\": \"5.0.0-rc.4\", OR \"angularfire2\": \"5.0.0-rc.5\",\n    \"firebase\": \"4.8.0\",\nTried with Yarn as well as Npm\nHas anybody still facing the problem.\nFacing problem in this git repo\nhttps://github.com/Sandeep3005/ng-chat-app.\nCan anybody take a look\n. ",
    "nicholasjativa": "I used this solution, and it works for serving my project locally. However, whenever I try to build the project, I get Error: Metadata version mismatch for module ../node_modules/angularfire2/index.d.ts, found version 4, expected 3. How would I fix this so that my project builds successfully?. ",
    "NataliaBeltranC": "Hola, me ocurri\u00f3 lo mismo pero al colocar este c\u00f3digo funciono:\nimport * as firebase from 'firebase/app';\nEspero les sirva :). ",
    "lfelipeserrano": "@oluway this work for me, thanks!. ",
    "tuballeonel": "npm install firebase@4.8.0 angularfire2@5.0.0-rc.0 --save. ",
    "kamrulhassan": "firebase@4.8.0 resolved the issue for me too. ",
    "BinsGuns": "I have also experienced this one. On your package.json file check on the dependecies property and update your firebase version.\n\"dependencies\": {\n      \"firebase\": \"4.8.0\"\n}\nplease take note to remove the ^ before the version number as it will install and use the updated version.. ",
    "nunesdaniel": "I have \"angularfire2\": \"5.0.0-rc.4\", and \"firebase\": \"4.8.1\", (Downgrading to firebase \"4.8.0\") and after npm install I Worked here.\nBe sure on your package.json file that the firebase and angularfire2 version doesn't have the ^ symbol, otherwise you will be importing version 4.8.1 not 4.8.0.:. ",
    "MihowBogucki": "Hi all, I had the same issue as most on my MacBook. I pulled my code onto my windows machine and the downgrade works. Not sure what's different between the two, both using VS Code. ",
    "nueko": "@MihowBogucki if you search the issue, it's a known issue with firebase 4.8.1. Hello @Endran you need to see this \nimport {AngularFireModule} from 'angularFire2';\nnotice the 'angularFire2' with uppercase F. also, replace line#17\njs\nthis.example = this.db.list('example');\nto \njs\nthis.example = this.db.list('example').valueChanges();. @sarojrout maybe you forgot to import the AngularFireDatabaseModule\n```js\n// app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AppComponent } from './app.component';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { environment } from '../environments/environment';\n@NgModule({\ndeclarations: [\nAppComponent\n],\nimports: [\nBrowserModule,\nAngularFireModule.initializeApp(environment.firebase),\nAngularFireDatabaseModule \n],\nproviders: [],\nbootstrap: [AppComponent]\n})\nexport class AppModule { }\n//app.component.ts\nimport { Component } from '@angular/core';\nimport { AngularFireDatabase} from 'angularfire2/database';\nimport { Observable } from 'rxjs/Observable';\n@component({\nselector: 'app-root',\ntemplate: {{ message | json }}}) \nexport class AppComponent { items: Observable; constructor(db: AngularFireDatabase) { this.items = db.list('messages').valueChanges(); } } \n```\n. @sarojrout and maybe you want to read this\nhttps://guides.github.com/features/mastering-markdown/#GitHub-flavored-markdown. @sarojrout you need to read the docs to the end\nhttps://github.com/angular/angularfire2/blob/master/docs/install-and-setup.md#6-setup-individual-ngmodules\nalso, I made an PR to your repo. isn't it better using scoped one?\njs\nimport  '@firebase/auth';\n// .... Oh my bad. Sorry, I think I need some coffee.. ",
    "jhcao23": "did anyone try 4.8.2?. ",
    "YoungsooJang": "Hi, guys. I'm working with ionic3, angularfire2, and firebase.\nBut I found two errors 'Cannot find module '@firebase/app-types/private'.\nIn my package.json,\n{\n  \"angularfire2\": \"^5.0.0-rc.4\",\n  \"firebase\": \"4.8.0\",\n}\nI tried npm uninstall firebase angularfire2 --save, then npm install.\nOr removed node_modules directory, and then npm install.\nBut these didn't solve my issue.\nHow can I solve this?\n. @vyasm9 Then, how can we solve the issue in ionic project?\n@renjithvk How can I use firebase library directly? Can you explain in detail for me?. ",
    "JimmyOnGitHub": "Following the above steps (down grading to 4.8.0) does not fix this glitch for me, this is holding up production release; \n\"dependencies\": {\n    \"@angular/common\": \"5.0.3\",\n    \"@angular/compiler\": \"5.0.3\",\n    \"@angular/compiler-cli\": \"5.0.3\",\n    \"@angular/core\": \"^5.2.0\",\n    \"@angular/forms\": \"5.0.3\",\n    \"@angular/http\": \"5.0.3\",\n    \"@angular/platform-browser\": \"5.0.3\",\n    \"@angular/platform-browser-dynamic\": \"5.0.3\",\n    \"@angular/router\": \"^5.2.0\",\n    \"@ionic-native/core\": \"4.4.0\",\n    \"@ionic-native/splash-screen\": \"4.4.0\",\n    \"@ionic-native/status-bar\": \"4.4.0\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"@ngrx/core\": \"^1.2.0\",\n    \"@ngrx/effects\": \"^4.1.1\",\n    \"@ngrx/store\": \"^4.1.1\",\n    \"add\": \"^2.0.6\",\n    \"angularfire2\": \"^5.0.0-rc.4\",\n    \"cordova-android\": \"7.0.0\",\n    \"cordova-plugin-device\": \"^1.1.7\",\n    \"cordova-plugin-ionic-webview\": \"^1.1.16\",\n    \"cordova-plugin-splashscreen\": \"~4.0.1\",\n    \"cordova-plugin-whitelist\": \"^1.3.3\",\n    \"firebase\": \"4.8.0\",\n    \"install\": \"^0.10.2\",\n    \"ionic-angular\": \"3.9.2\",\n    \"ionic-plugin-keyboard\": \"^2.2.1\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.5.2\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"typings\": \"^2.1.1\",\n    \"zone.js\": \"0.8.18\"\n  },. ",
    "timstoute": "Still struggling with this issue; upgrading like this:\n    \"angularfire2\": \"^5.0.0-rc.5\",\n    \"firebase\": \"^4.8.2\",\nstill results in this and other errors:\nerror TS2307: Cannot find module '@firebase/app-types/private'.\nHere are my dependencies; please help - struggling for days on this.\n\"dependencies\": {\n    \"@angular/animations\": \"^5.0.3\",\n    \"@angular/common\": \"^5.0.3\",\n    \"@angular/compiler\": \"^5.0.3\",\n    \"@angular/core\": \"^5.2.0\",\n    \"@angular/forms\": \"^5.0.3\",\n    \"@angular/http\": \"^5.0.3\",\n    \"@angular/platform-browser\": \"^5.0.3\",\n    \"@angular/platform-browser-dynamic\": \"^5.0.3\",\n    \"@angular/router\": \"^5.2.0\",\n    \"angularfire2\": \"^5.0.0-rc.5\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.8.2\",\n    \"firebase-admin\": \"^5.8.0\",\n    \"firebase-functions\": \"^0.8.0\",\n    \"rxjs\": \"^5.5.2\",\n    \"zone.js\": \"^0.8.14\"\n  },\n. Thank you @davideast  - webpack now compiles successfully here.. ",
    "deadzer0": "In firebase 4.9.0 there is no errors :). ",
    "daniele-pecora": "Updating both fixed it for me.\nThis may help someone.\n\"angularfire2\": \"^5.0.0-rc.6\",\n    \"firebase\": \"^4.9.1\",. ",
    "DJFreh": "thank you much Daneile-pecora, I updated firebase to \"^4.9.1, it's work perfectly.\n. ",
    "DuaneQ": "Can someone help...I'm still getting the same issue.  Followed all of the steps above to install     \"firebase\": \"4.8.0\",\n`[20:53:56]  typescript: node_modules/angularfire2-offline/database/angularfire2-interfaces.d.ts, line: 7 \n            Namespace 'firebase' has no exported member 'Promise'. \n   L6:      snapshotCase?: () => firebase.Promise<void>;\n   L7:      unwrappedSnapshotCase?: () => firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2-offline/database/object/afo-object-observable.d.ts, line: 53 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L53:  remove(): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2-offline/database/object/afo-object-observable.d.ts, line: 63 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L63:  set(value: any): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/app/firebase.app.module.d.ts, line: 5 \n            Class 'FirebaseApp' incorrectly implements interface 'App'. Property 'firestore' is missing in type \n            'FirebaseApp'. \n   L4:  export declare const FirebaseAppConfigToken: InjectionToken<FirebaseAppConfig>;\n   L5:  export declare class FirebaseApp implements firebase.app.App {\n   L6:      name: string;\n\n[20:53:56]  typescript: node_modules/angularfire2/app/firebase.app.module.d.ts, line: 12 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L11:      storage: () => firebase.storage.Storage;\n  L12:      delete: () => firebase.Promise<any>;\n\n[20:53:56]  typescript: node_modules/angularfire2/database/firebase_list_observable.d.ts, line: 14 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L13:  push(val: any): firebase.database.ThenableReference;\n  L14:  update(item: FirebaseOperation, value: Object): firebase.Promise<void>;\n  L15:  remove(item?: FirebaseOperation): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/database/firebase_list_observable.d.ts, line: 15 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L14:  update(item: FirebaseOperation, value: Object): firebase.Promise<void>;\n  L15:  remove(item?: FirebaseOperation): firebase.Promise<void>;\n  L16:  _checkOperationCases(item: FirebaseOperation, cases: FirebaseOperationCases): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/database/firebase_list_observable.d.ts, line: 16 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L15:      remove(item?: FirebaseOperation): firebase.Promise<void>;\n  L16:      _checkOperationCases(item: FirebaseOperation, cases: FirebaseOperationCases): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/database/firebase_object_observable.d.ts, line: 11 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L10:  lift<T, R>(operator: Operator<T, R>): Observable<R>;\n  L11:  set(value: any): firebase.Promise<void>;\n  L12:  update(value: Object): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/database/firebase_object_observable.d.ts, line: 12 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L11:  set(value: any): firebase.Promise<void>;\n  L12:  update(value: Object): firebase.Promise<void>;\n  L13:  remove(): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/database/firebase_object_observable.d.ts, line: 13 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L12:      update(value: Object): firebase.Promise<void>;\n  L13:      remove(): firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/interfaces.d.ts, line: 12 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L11:  export interface FirebaseOperationCases {\n  L12:      stringCase: () => firebase.Promise<void>;\n  L13:      firebaseCase?: () => firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/interfaces.d.ts, line: 13 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L12:  stringCase: () => firebase.Promise<void>;\n  L13:  firebaseCase?: () => firebase.Promise<void>;\n  L14:  snapshotCase?: () => firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/interfaces.d.ts, line: 14 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L13:  firebaseCase?: () => firebase.Promise<void>;\n  L14:  snapshotCase?: () => firebase.Promise<void>;\n  L15:  unwrappedSnapshotCase?: () => firebase.Promise<void>;\n\n[20:53:56]  typescript: node_modules/angularfire2/interfaces.d.ts, line: 15 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L14:      snapshotCase?: () => firebase.Promise<void>;\n  L15:      unwrappedSnapshotCase?: () => firebase.Promise<void>;\n\n[20:53:56]  typescript: src/pages/home/home.ts, line: 154 \n            Namespace 'firebase' has no exported member 'Promise'. \n L154:      logoutOfFacebook():firebase.Promise<void> {\n L155:            //const userId:string = firebase.auth().currentUser.uid;\n\n[20:53:56]  typescript: src/pages/settings/settings.ts, line: 88 \n            Namespace 'firebase' has no exported member 'Promise'. \n  L88:      logoutOfFacebook(): firebase.Promise<void> {\n  L89:            //const userId:string = firebase.auth().currentUser.uid;\n\n[20:53:56]  typescript: src/providers/firebase-service/firebase-service.ts, line: 25 \n            Property 'database' does not exist on type 'AngularFireDatabase'. \n  L24:  this.userId = user.uid\n  L25:  this.setSettings = this.afDatabase.database.ref(`/users/${user.uid}/settings`);\n  L26:  });\n\n[20:53:56]  typescript: src/providers/firebase-service/firebase-service.ts, line: 36 \n            Cannot find namespace 'firebase'. \n  L36:      firebase.Promise<any>{\n  L37:      return this.afDatabase.object(`/users/${this.userId}/settings`).set({ location,\n\n[20:53:56]  typescript: src/providers/login-service/login-service.ts, line: 27 \n            Property 'database' does not exist on type 'AngularFireDatabase'. \n  L26:  setUpUser(_credentials, _authData) {\n  L27:    this.ref = this.afDatabase.database.ref('/users/' + _authData.uid)\n  L28:    this.data = {\n\nError: Failed to transpile program\n    at new BuildError (/Users/laroca/Documents/Mundo/node_modules/@ionic/app-scripts/dist/util/errors.js:16:28)\n    at /Users/laroca/Documents/Mundo/node_modules/@ionic/app-scripts/dist/transpile.js:159:20\n    at Promise ()\n    at transpileWorker (/Users/laroca/Documents/Mundo/node_modules/@ionic/app-scripts/dist/transpile.js:107:12)\n    at Object.transpile (/Users/laroca/Documents/Mundo/node_modules/@ionic/app-scripts/dist/transpile.js:64:12)\n    at /Users/laroca/Documents/Mundo/node_modules/@ionic/app-scripts/dist/build.js:109:82\n    at `. ",
    "ZenPylon": "@arashbi Looks like they released 5.0.0-rc.10 the day after you posted.  The following combination is working for me:\n\"angularfire2\": \"^5.0.0-rc.10\",\n\"firebase\": \"^5.0.3\",. ",
    "Sliqric7053": "@ZenPylon I have the same combination, however, I get the following error:\n```\nERROR in node_modules/@firebase/auth-types/index.d.ts(271,21): error TS2314: Generic type 'Observer' requires 2 type argument(s).\nnode_modules/@firebase/auth-types/index.d.ts(276,21): error TS2314: Generic type 'Observer' requires 2 type argument(s).\nnode_modules/@firebase/storage-types/index.d.ts(80,9): error TS2314: Generic type 'Observer' requires 2 type argument(s).\n```. ",
    "beli7706": "Friends, I have a problem. In trying to install firebase, I add this :\n \"angularfire2\": \"^5.0.0-rc.6\",\n \"firebase\": \"^4.9.1\",\n to my dependencies.\nBut I have this error:\nnpm ERR! code ERR_STREAM_WRITE_AFTER_END\nnpm ERR! write after end\nPlease help me.\nThank you.\nAlso I would like to know the usefulness of : \"promise-polyfill\": \"^6.0.2\",\nIs it necessary to include it too ?\nhere are my dependencies;\n\"dependencies\": {\n    \"@angular/common\": \"5.0.0\",\n    \"@angular/compiler\": \"5.0.0\",\n    \"@angular/compiler-cli\": \"5.0.0\",\n    \"@angular/core\": \"5.0.0\",\n    \"@angular/forms\": \"5.0.0\",\n    \"@angular/http\": \"5.0.0\",\n    \"@angular/platform-browser\": \"5.0.0\",\n    \"@angular/platform-browser-dynamic\": \"5.0.0\",\n    \"@ionic-native/core\": \"^4.3.1\",\n    \"@ionic-native/in-app-browser\": \"^4.3.1\",\n    \"@ionic-native/splash-screen\": \"^4.3.1\",\n    \"@ionic-native/status-bar\": \"^4.3.1\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"angularfire2\": \"^5.0.0-rc.6\",\n    \"cordova-android\": \"^6.2.3\",\n    \"cordova-ios\": \"^4.5.2\",\n    \"cordova-plugin-crosswalk-webview\": \"^2.3.0\",\n    \"cordova-plugin-device\": \"^1.1.6\",\n    \"cordova-plugin-inappbrowser\": \"^1.7.1\",\n    \"cordova-plugin-ionic-keyboard\": \"^2.0.2\",\n    \"cordova-plugin-ionic-webview\": \"^1.1.15\",\n    \"cordova-plugin-splashscreen\": \"^4.0.3\",\n    \"cordova-plugin-statusbar\": \"^2.2.3\",\n    \"cordova-plugin-whitelist\": \"^1.3.2\",\n    \"ionic-angular\": \"3.9.2\",\n    \"firebase\": \"^4.9.1\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.5.2\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.18\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"3.1.5\",\n    \"typescript\": \"~2.4.2\"\n  },. ",
    "DevJoseWeb": "{\n    \"name\": \"firestarter\",\n    \"version\": \"0.0.0\",\n    \"scripts\": {\n        \"ng\": \"ng\",\n        \"start\": \"ng serve\",\n        \"build\": \"ng build --prod\",\n        \"test\": \"ng test --watch false\",\n        \"lint\": \"ng lint\",\n        \"e2e\": \"cypress open\",\n        \"build:all\": \"ng build --prod && ng run firestarter:server && npm run webpack:prerender && npm run prerender\",\n        \"serve:prerender\": \"http-server dist/firestarter -c-1\",\n        \"webpack:prerender\": \"webpack --config webpack.prerender.config.js\",\n        \"prerender\": \"node dist/firestarter/prerender.js\"\n    },\n    \"private\": true,\n    \"dependencies\": {\n        \"@angular/animations\": \"^6.0.1\",\n        \"@angular/common\": \"^6.0.1\",\n        \"@angular/compiler\": \"^6.0.1\",\n        \"@angular/core\": \"^6.0.1\",\n        \"@angular/forms\": \"^6.0.1\",\n        \"@angular/http\": \"^6.0.1\",\n        \"@angular/platform-browser\": \"^6.0.1\",\n        \"@angular/platform-browser-dynamic\": \"^6.0.1\",\n        \"@angular/platform-server\": \"^6.0.1\",\n        \"@angular/pwa\": \"^0.6.1\",\n        \"@angular/router\": \"^6.0.1\",\n        \"@angular/service-worker\": \"^6.0.1\",\n        \"@nguniversal/module-map-ngfactory-loader\": \"^6.0.0\",\n        \"angularfire2\": \"^5.0.0-rc.9\",\n        \"core-js\": \"^2.5.4\",\n        \"firebase\": \"^5.0.2\",\n        \"rxjs\": \"^6.0.0\",\n        \"zone.js\": \"^0.8.26\"\n    },\n    \"devDependencies\": {\n        \"@angular-devkit/build-angular\": \"~0.6.1\",\n        \"@angular/cli\": \"~6.0.1\",\n        \"@angular/compiler-cli\": \"^6.0.1\",\n        \"@angular/language-service\": \"^6.0.1\",\n        \"@cypress/webpack-preprocessor\": \"^2.0.1\",\n        \"@types/chance\": \"^1.0.1\",\n        \"@types/jasmine\": \"~2.8.6\",\n        \"@types/jasminewd2\": \"~2.0.3\",\n        \"@types/node\": \"~8.9.4\",\n        \"bulma\": \"^0.7.1\",\n        \"chance\": \"^1.0.16\",\n        \"codelyzer\": \"~4.2.1\",\n        \"cypress\": \"^3.0.1\",\n        \"firebase-tools\": \"^3.18.6\",\n        \"fs-extra\": \"^6.0.1\",\n        \"jasmine-core\": \"~2.99.1\",\n        \"jasmine-spec-reporter\": \"~4.2.1\",\n        \"karma\": \"~1.7.1\",\n        \"karma-chrome-launcher\": \"~2.2.0\",\n        \"karma-coverage-istanbul-reporter\": \"~1.4.2\",\n        \"karma-jasmine\": \"~1.1.1\",\n        \"karma-jasmine-html-reporter\": \"^0.2.2\",\n        \"protractor\": \"~5.3.0\",\n        \"ts-loader\": \"^4.3.0\",\n        \"ts-node\": \"~5.0.1\",\n        \"tslint\": \"~5.9.1\",\n        \"typescript\": \"~2.7.2\",\n        \"webpack-cli\": \"^2.1.3\",\n        \"ws\": \"^5.1.1\",\n        \"xmlhttprequest\": \"^1.8.0\"\n    }\n}\n. ",
    "tkto": "The following combination is working for me:\n$npm install --save firebase@5.0.3 angularfire2@5.0.0-rc.10\n\"angularfire2\": \"^5.0.0-rc.10\",\n\"firebase\": \"^5.0.3\",. ",
    "viswanathamsantosh": "oops I fixed this by replacing rc3 with rc.3 ! However I still get the following error by running\nionic cordova run android --prod --release\n```\nError: ./src/app/app.module.ngfactory.js\nModule not found: Error: Can't resolve '../../angularfire2/auth' in '/home/gaian/Documents/projects/incois/src/app'\nresolve '../../angularfire2/auth' in '/home/gaian/Documents/projects/incois/src/app'\n  using description file: /home/gaian/Documents/projects/incois/package.json (relative path: ./src/app)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: /home//package.json (relative path: ./src/app)\n    using description file: /home//incois/package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        /home//angularfire2/auth doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        /home//angularfire2/auth.js doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        /home//angularfire2/auth.ts doesn't exist\n      as directory\n        /home//angularfire2/auth doesn't exist\n[/home//angularfire2/auth]\n[/home/gaian/Documents/projects/incois/angularfire2/auth.js]\n[/home//angularfire2/auth.ts]\n[/home/\n    at new BuildError (/home//node_modules/@ionic/app-scripts/dist/util/errors.js:16:28)\n    at /home//node_modules/@ionic/app-scripts/dist/preprocess.js:18:21\n    at \n    at process._tickCallback (internal/process/next_tick.js:188:7)\nError: ./src/app/app.module.ngfactory.js\nModule not found: Error: Can't resolve '../../angularfire2/auth' in '/home/gaian//src/app'\nresolve '../../angularfire2/auth' in '/home//src/app'\n  using description file: /home//package.json (relative path: ./src/app)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: /home//incois/package.json (relative path: ./src/app)\n    using description file: /home//package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        /home//angularfire2/auth doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        /home//angularfire2/auth.js doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        /home//angularfire2/auth.ts doesn't exist\n      as directory\n        /home//angularfire2/auth doesn't exist\n[/home//angularfire2/auth]\n[/home//angularfire2/auth.js]\n[/home//angularfire2/auth.ts]\n[/home//angularfire2/auth]\n @ ./src/app/app.module.ngfactory.js 48:0-52\n @ ./src/app/main.ts\n    at new BuildError (/home/*/node_modules/@ionic/app-scripts/dist/util/errors.js:16:28)\n    at /home//incois/node_modules/@ionic/app-scripts/dist/preprocess.js:18:21\n    at \n    at process._tickCallback (internal/process/next_tick.js:188:7)\n```. ",
    "cceballos-cas": "in my case, update ionic did not solve the problem.\nIonic version: 3-19.1\n\nionic cordova run android --prod\n\nerror\nError: ./src/pages/forgot-password/forgot-password.ngfactory.ts\nModule not found: Error: Can't resolve '../../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\pages\\forgot-password'\nresolve '../../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\pages\\forgot-password'\n  using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/pages/forgot-password)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/pages/forgot-password)\n    using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.ts doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.js doesn't exist\n      .json\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.json doesn't exist\n      as directory\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.ts]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.js]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.json]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n @ ./src/pages/forgot-password/forgot-password.ngfactory.ts 37:0-55\n @ ./src/app/app.module.ngfactory.ts\n @ ./src/app/main.ts,./src/pages/login/login.ngfactory.ts\nModule not found: Error: Can't resolve '../../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\pages\\login'\nresolve '../../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\pages\\login'\n  using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/pages/login)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/pages/login)\n    using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.ts doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.js doesn't exist\n      .json\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.json doesn't exist\n      as directory\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.ts]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.js]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.json]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n @ ./src/pages/login/login.ngfactory.ts 48:0-55\n @ ./src/app/app.module.ngfactory.ts\n @ ./src/app/main.ts,./src/pages/signup/signup.ngfactory.ts\nModule not found: Error: Can't resolve '../../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\pages\\signup'\nresolve '../../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\pages\\signup'\n  using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/pages/signup)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/pages/signup)\n    using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.ts doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.js doesn't exist\n      .json\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.json doesn't exist\n      as directory\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.ts]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.js]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.json]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n @ ./src/pages/signup/signup.ngfactory.ts 52:0-55\n @ ./src/app/app.module.ngfactory.ts\n @ ./src/app/main.ts,./src/app/app.module.ngfactory.ts\nModule not found: Error: Can't resolve '../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\app'\nresolve '../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\app'\n  using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/app)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/app)\n    using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.ts doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.js doesn't exist\n      .json\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.json doesn't exist\n      as directory\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.ts]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.js]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.json]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n @ ./src/app/app.module.ngfactory.ts 32:0-52\n @ ./src/app/main.ts,./src/app/app.component.ngfactory.ts\nModule not found: Error: Can't resolve '../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\app'\nresolve '../../angularfire2/auth' in 'C:\\Proyectos\\mibsas\\src\\app'\n  using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/app)\n    Field 'browser' doesn't contain a valid alias configuration\n  after using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./src/app)\n    using description file: C:\\Proyectos\\mibsas\\package.json (relative path: ./angularfire2/auth)\n      no extension\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n      .ts\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.ts doesn't exist\n      .js\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.js doesn't exist\n      .json\n        Field 'browser' doesn't contain a valid alias configuration\n        C:\\Proyectos\\mibsas\\angularfire2\\auth.json doesn't exist\n      as directory\n        C:\\Proyectos\\mibsas\\angularfire2\\auth doesn't exist\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.ts]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.js]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth.json]\n[C:\\Proyectos\\mibsas\\angularfire2\\auth]\n @ ./src/app/app.component.ngfactory.ts 54:0-52\n @ ./src/app/app.module.ngfactory.ts\n @ ./src/app/main.ts\n    at new BuildError (C:\\Proyectos\\mibsas\\node_modules\\@ionic\\app-scripts\\dist\\util\\errors.js:16:28)\n    at callback (C:\\Proyectos\\mibsas\\node_modules\\@ionic\\app-scripts\\dist\\webpack.js:123:28)\n    at emitRecords.err (C:\\Proyectos\\mibsas\\node_modules\\webpack\\lib\\Compiler.js:269:13)\n    at Compiler.emitRecords (C:\\Proyectos\\mibsas\\node_modules\\webpack\\lib\\Compiler.js:375:38)\n    at emitAssets.err (C:\\Proyectos\\mibsas\\node_modules\\webpack\\lib\\Compiler.js:262:10)\n    at applyPluginsAsyncSeries1.err (C:\\Proyectos\\mibsas\\node_modules\\webpack\\lib\\Compiler.js:368:12)\n    at next (C:\\Proyectos\\mibsas\\node_modules\\tapable\\lib\\Tapable.js:218:11)\n    at Compiler.compiler.plugin (C:\\Proyectos\\mibsas\\node_modules\\webpack\\lib\\performance\\SizeLimitsPlugin.js:99:4)\n    at Compiler.applyPluginsAsyncSeries1 (C:\\Proyectos\\mibsas\\node_modules\\tapable\\lib\\Tapable.js:222:13)\n    at Compiler.afterEmit (C:\\Proyectos\\mibsas\\node_modules\\webpack\\lib\\Compiler.js:365:9)\nany ideas?\n. ",
    "himharsh1997": "import {FirebaseListObservable} from 'angularfire2/database-deprecated';\n// tslint:disable-next-line:max-line-length\nimport { Component, trigger, state, style, transition, animate, keyframes, group, ViewContainerRef, OnInit, Inject, Injectable } from '@angular/core';\nimport { FormGroup, FormControl, Validators, FormBuilder, FormsModule, FormArray } from '@angular/forms';\nimport {NgIf} from '@angular/common';\nimport {AngularFireAuth} from 'angularfire2/auth/auth';\nimport { Router } from '@angular/router';\nimport * as firebase from 'firebase';\nimport { toObservable } from '@angular/forms/src/validators';\nimport {AngularFireDatabase} from 'angularfire2/database';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent\n  {\n   title = 'app works!';\n }\n@Component({\n  selector: 'app-sigin',\n  template: `\n   \n        <div class=\"form-group\" style=\"display:inline-block\" class=\"divFORM row\" align=\"center\" formGroupName=\"collumn1\" [ngClass]=\"{\n          'has-danger': first.invalid && last.invalid && (first.dirty || first.touched || last.dirty || last.touched),\n          'has-success': first.valid && last.valid && (first.dirty || first.touched || last.dirty || last.touched)\n        }\">\n             <div class=\"col-lg-6\">\n            <label name=\"first\"> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black\">First name</h5></label>\n            <input class=\"form-control\" id=\"first\" type=\"text\"  name=\"first\" placeholder=\"eg; Ramesh\"  formControlName=\"first\" required/>\n            <div class=\"form-control-feedback\"\n            *ngIf=\"first.errors && (first.dirty || first.touched)\" class=\"alert alert-danger\" style=\"height: 20px;\">\n         <p *ngIf=\"first.hasError('required')\">First Name is required</p>\n       <p *ngIf=\"first.hasError('pattern')\">Start with uppercase ,use a-z,no space</p>\n            </div>\n\n            </div>\n            <div class=\"col-lg-6\">\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black\">Last name</h5></label>\n            <input class=\"form-control\" id=\"lst\" type=\"text\" name=\"last\" placeholder=\"eg; Singh\"  formControlName=\"last\">\n            <div class=\"form-control-feedback\"\n            *ngIf=\"last.errors && (last.dirty || last.touched)\" class=\"alert alert-danger\" style=\"height: 20px;\">\n         <p *ngIf=\"last.hasError('required')\">Last Name is required</p>\n       <p *ngIf=\"last.hasError('pattern')\">Start with uppercase ,use a-z,no space</p>\n            </div>\n            </div>\n       </div>\n\n\n        <div class=\"form-group\" class=\"divFORM row\" align=\"center\" id=\"coll2\" formGroupName=\"collumn2\" [ngClass]=\"{\n          'has-danger': emailid.invalid && phone.invalid && (emailid.dirty || emailid.touched || phone.dirty || phone.touched),\n          'has-success': emailid.valid && phone.valid && (emailid.dirty || emailid.touched || phone.dirty || phone.touched)\n        }\">\n             <div class=\"col-lg-6\">\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black\">Email ID</h5></label>\n            <input class=\"form-control \" id=\"eid\" type=\"text\"  name=\"emailid\" placeholder=\"eg; ab12@exmaple\"  formControlName=\"emailid\">\n            <div class=\"form-control-feedback\"\n            *ngIf=\"emailid.errors && (emailid.dirty || emailid.touched)\" class=\"alert alert-danger\" style=\"height: 20px;\">\n         <p *ngIf=\"emailid.hasError('required')\">Emailid is required</p>\n       <p *ngIf=\"emailid.hasError('pattern')\">Wrong emailid format</p>\n       </div>\n            </div>\n            <div class=\"col-lg-6\">\n\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black;margin-left:-17px\">Phone no.</h5></label>\n            <input class=\"form-control\" id=\"phone\" type=\"text\" name=\"phone\" placeholder=\"eg; 76236223\" formControlName=\"phone\">\n            <div class=\"form-control-feedback\"\n            *ngIf=\"phone.errors && (phone.dirty || phone.touched)\" class=\"alert alert-danger\" style=\"height: 20px;\">\n         <p *ngIf=\"phone.hasError('required')\">Phone no is required</p>\n       <p *ngIf=\"phone.hasError('pattern')\">Wrong format</p>\n       </div>\n            </div>\n        </div>\n\n        <div  class=\"form-group\" class=\"divFORM row\" align=\"center\" id=\"coll2\" formGroupName=\"collumn3\"\n        [ngClass]=\"{\n          'has-danger': passdd.invalid && passwdcon.invalid && (passdd.dirty || passdd.touched || passwdcon.dirty || passwdcon.touched),\n          'has-success': passdd.valid && passwdcon.valid && (passdd.dirty || passdd.touched || passwdcon.dirty || passwdcon.touched)\n        }\"\n        >\n             <div class=\"col-lg-6\">\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black;margin-left:-12px\">Password</h5></label>\n            <input class=\"form-control\" id=\"passdd\" type=\"password\" name=\"passdd\" placeholder=\"eg; ab12*$#\"  formControlName=\"passdd\">\n            <div class=\"form-control-feedback\"\n            *ngIf=\"passdd.errors && (passdd.dirty || passdd.touched)\" class=\"alert alert-danger\" style=\"height: 20px;\">\n         <p *ngIf=\"passdd.hasError('required')\"> required</p>\n\n       <p *ngIf=\"passdd.hasError('minlength')\"> atleast 1 length</p>\n       <p *ngIf=\"passdd.hasError('maxlength')\"> atmost 20 length</p>\n       </div>\n            </div>\n            <div class=\"col-lg-6\">\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black;margin-left:-15px\">Confirm Password</h5></label>\n            <input class=\"form-control\" id=\"passwdcon\" type=\"password\" name=\"passwdcon\" placeholder=\"eg; anc12*$#\"  formControlName=\"passwdcon\">\n            <div class=\"form-control-feedback\"\n            *ngIf=\"passwdcon.errors && (passwdcon.dirty || passwdcon.touched)\" class=\"alert alert-danger\" style=\"height: 20px;\">\n         <p *ngIf=\"passwdcon.hasError('required')\"> required</p>\n\n       <p *ngIf=\"passwdcon.hasError('minlength')\"> atleast 6 length</p>\n       <p *ngIf=\"passwdcon.hasError('maxlength')\"> atmost 20 length</p>\n       </div>\n            </div>\n        </div>\n         <br>\n        <div class=\"form-group\"  style=\"display:inline-block\" class=\"divFORM row\" align=\"center\">\n            <br>\n            <input class=\"btn-sm btn-info\" type=\"submit\" value=\"Sign up\"  id=\"signbt\"><br>\n\n        </div><br>\n    </form>\n <div id=\"toast\"> </div>\n\n`\n  , styleUrls: ['./app.component.scss']\n})\n// tslint:disable-next-line:one-line\nexport class AppSignComponent  implements OnInit {\ntitle = 'signinn';\n  SignForm: FormGroup;\n  collumn1: FormGroup;\n  first: FormControl;\n  last: FormControl;\n  collumn2: FormGroup;\nemailid: FormControl;\n  phone: FormControl;\n  collumn3: FormGroup;\n  passdd: FormControl;\n  passwdcon: FormControl;\n  authState = null;\n  users: FirebaseListObservable ;\nconstructor(private afAuth: AngularFireAuth, private fdata: AngularFireDatabase, private router: Router) {\n    this.afAuth.authState.subscribe((auth) => {\n      this.authState = auth;\n});\n\nthis.users = this.fdata.list(users/).valueChanges();\n  }\nngOnInit() {\nthis.initialize();\nthis.create();\n  }\ninitialize() {\nthis.first = new FormControl(null, [Validators.required, Validators.pattern('[A-Z][a-z]*')]);\nthis.last = new FormControl(null, [Validators.required, Validators.pattern('[A-Z][a-z]+')]);\n\n// tslint:disable-next-line:max-line-length\nthis.emailid = new FormControl(null, [Validators.required, Validators.pattern(\"\")]);\nthis.phone = new FormControl(null, [Validators.required, Validators.minLength(6), Validators.maxLength(10), Validators.pattern('[0-9]+')]);\n\nthis.passdd = new FormControl(null, [Validators.required, Validators.maxLength(20), Validators.minLength(6)]);\nthis.passwdcon = new FormControl(null, [Validators.required, Validators.maxLength(20), Validators.minLength(6)]);\n\n}\ncreate(){\n this.SignForm = new FormGroup({\n   collumn1: new FormGroup(\n     {\n      first: this.first,\n      last: this.last\n     }\n   ),\n   collumn2: new FormGroup({\n     emailid: this.emailid,\n     phone: this.phone\n   }),\n   collumn3: new FormGroup({\n     passdd: this.passdd,\n     passwdcon: this.passwdcon\n   })\n });\n}\nvalidate() {\n   if (this.SignForm.valid)\n    {\n      // tslint:disable-next-line:max-line-length\n if (this.passdd.toString() === this.passwdcon.toString())\n\n    {\n      console.log('Succesfull' + this.SignForm.value);\n\n    let  xp = document.getElementById('toast');\n    xp.innerHTML = 'Successfull';\n    xp.className = 'show';\n\n    console.log('Look type' + typeof(this.SignForm.get('collumn2.emailid').value.toString()));\n    // tslint:disable-next-line:max-line-length\n    this.signUpWithEmail(this.SignForm.get('collumn2.emailid').value.toString(),this.SignForm.get('collumn3.passdd').value.toString());\n    setTimeout(function(){ xp.className = xp.className.replace('show', ''); }, 3000);\n\n\n\n  }\n  // tslint:disable-next-line:one-line\n  else {\n    let xp = document.getElementById('toast');\n    xp.innerHTML = 'Password not same';\n    xp.style.backgroundColor = 'red';\n\n}\n}\n// tslint:disable-next-line:one-line\nelse\n// tslint:disable-next-line:one-line\n{console.log('Unsuccessful submission by user');}\n}\n\nsignUpWithEmail(email: string, password: string) {\n  console.log('Succesfull signup done' + email + ' '+ password);\n  this.afAuth.auth.createUserWithEmailAndPassword(email, password)\n    .then((user) => {\n      this.authState = user;\n      console.log(user.uid + 'UID' + typeof(user.uid));\n      const udet = {\n        'name': this.SignForm.get('collumn1.first').value.toString() + ' ' +  this.SignForm.get('collumn1.last').value.toString(),\n        'emailid': this.SignForm.get('collumn2.emailid').value.toString(),\n        'phonenumber': this.SignForm.get('collumn2.phone').value.toString()\n      };\n      this.users.push(udet);\n\n    })\n    .catch(error => {\n      console.log(error);\n      throw error;\n    });\n\n }\n\n}\n@Component({\nselector: 'app-login',\ntemplate: `\n            \n        <div class=\"form-group\" class=\"divFORM\" align=\"center\">\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black\">Email Id</h5></label><br>\n            <input class=\"form-control\" id=\"usr\" type=\"text\" name=\"Eid\"  placeholder=\"eg; abc@example.com\" required formControlName=\"Eid\">\n        </div>\n\n        <div class=\"form-group\" class=\"divFORM\" align=\"center\">\n            <label> <h5 style=\"font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;font-size: 20px;color:black\">Password</h5></label><br><input class=\"form-control\" id=\"pwd\" type=\"password\" name=\"passwd\"\n                placeholder=\"eg; abc123\" required formControlName=\"password\"><br>\n            <input class=\"btn-sm btn-info\" type=\"submit\" value=\"Login\"><br>\n            <a class=\"btn btn-sm btn-light\" style=\"font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;color: black;font-size:10px;color:black\" align=\"center\" (click)=\"Reset()\">forgot password</a>\n            </div><br>\n            <div id=\"toast\"> </div>\n    </form>\n\n `\n    ,\n    styleUrls: ['./app.component.scss']\n\n})\nexport class AppLogComponent {\n  title = 'loginn';\n  authState = null;\n  resetpassword = false;\n  constructor(private afAuth: AngularFireAuth, private router: Router) {\n    this.afAuth.authState.subscribe((auth) => {\n      this.authState = auth;\n    });\n  }\n  logForm = new FormGroup({\n    Eid: new FormControl(),\n    password: new FormControl()\n   });\n   validate() {\n    // tslint:disable-next-line:max-line-length\n    let p = 0;\n    this.afAuth.auth.signInWithEmailAndPassword(this.logForm.get('Eid').value.toString(), this.logForm.get('password').value.toString()).then(() => this.sucessme()\n).catch(function(error){\n    // Error Code\n    let  xp = document.getElementById('toast');\n    xp.innerHTML = 'UnSuccessful';\n    xp.className = 'failshow';\n    setTimeout(function(){ xp.className = xp.className.replace('show', ''); }, 3000);\n    console.log(this.logForm.value);\n\n    console.log(error);\n    this.p = -1;\n  });\n  console.log(this.logForm.value);\n  this.logForm.reset();\n  }\n\nsucessme(){\n    this.router.navigateByUrl('/user');\n    let  xp = document.getElementById('toast');\n    xp.innerHTML = 'Success';\n    xp.className = 'show';\n    setTimeout(function(){ xp.className = xp.className.replace('show', ''); }, 3000);\n    console.log(this.logForm.value);\n}\nReset()\n\n{ const auth = firebase.auth();\n   auth.sendPasswordResetEmail(this.logForm.get('Eid').value.toString())\n  .then(() => console.log('email sent'))\n  .catch((error) => alert('' + error))\n}\n  }\nI was having Angular version 5 and firebase version 2+.I was trying to write the data of user during signup in the real-time database of firebase but I unable to do it.Is there any mistake in my AppSignComponent class code.. ",
    "davidjpfeiffer": "I signed it!. ",
    "Upskxkit": "Thanks, i'm gonna look it. ",
    "syncreticudon": "Getting this error on brand new project.\n\"angularfire2\": \"^5.0.0-rc.10\",\n\"firebase\": \"^5.0.4\",. @davideast I was running old versions of CLI and Angular. I updated all and now everything seems to be working. Closing issue.\nThanks!. ",
    "RamkumariAmbati": "hey @vyasm9  iam suffering  with the same problem .\ndo u have any solution for that. tq @vyasm9  and @renjithvk . ",
    "vyasm9": "Yes it will solve the issue.\nOn Jan 6, 2018 12:48 PM, \"RamkumariAmbati\" notifications@github.com wrote:\n\nhey @vyasm9 https://github.com/vyasm9 iam suffering with the same\nproblem .\ndo u have any solution for that\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1398#issuecomment-355733305,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADP1xzwcO6s8rf7dBt8Y4xsEcCE0Ch60ks5tHzN0gaJpZM4RPxmX\n.\n. If we do like that the issue is not fixed in ionic project.\n\nOn Jan 6, 2018 4:59 PM, \"Renjith VK\" notifications@github.com wrote:\n\nSOLVED\n\nOpen package.json and update firebase version to 4.8.0\n\n\"firebase\": \"4.8.0\"\n\nRun npm install\n\nThat's it!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1398#issuecomment-355745423,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADP1x95uEZp1M3L_dE6U5THfHT7Gf3NSks5tH24YgaJpZM4RPxmX\n.\n. \n",
    "kctang": "Hi all,\nSharing a function to delete all documents in named collections, by batches. It returns a promise with total number of deleted documents. It does not delete subcollections. Internally, uses rxjs to do the magic of streaming and batching values to be deleted.\n``` typescript\n  /\n   * Delete all documents in specified collections.\n   \n   * @param {string} collections Collection names\n   * @return {Promise} Total number of documents deleted (from all collections)\n   /\n  async deleteCollections (...collections: string[]) {\n    let totalDeleteCount = 0\n    const batchSize = 500\n    return new Promise((resolve, reject) => Observable\n      .from(collections)\n      .concatMap(collection => Observable.fromPromise(this.fireStore.collection(collection).ref.get()))\n      .concatMap(q => Observable.from(q.docs))\n      .bufferCount(batchSize)\n      .concatMap((docs: QueryDocumentSnapshot[]) => Observable.create((o: Observer) => {\n          const batch = this.fireStore.firestore.batch()\n          docs.forEach(doc => batch.delete(doc.ref))\n          batch.commit()\n            .then(() => {\n              o.next(docs.length)\n              o.complete()\n            })\n            .catch(e => o.error(e))\n        })\n      )\n      .subscribe(\n        (batchDeleteCount: number) => totalDeleteCount += batchDeleteCount,\n        e => reject(e),\n        () => resolve(totalDeleteCount)\n      )\n    )\n  }\n```. ",
    "tgangso": "Thanks @kctang works like a charm.. I am not able to use your temporary solution when i have AngularFirestoreModule.enablePersistence()\nError i get: \nERROR Error: Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.. @egaviriarestrepo Thank you made it work also like @nathanfan46 sais you have to remove enablePersistence from module load.. ",
    "AdamSHurwitz": "I used this as a workaround to delete a user's Collection from the Android client. Passed into the method is the reference of the user's Collection and the batch size to process. I will refactor this onto the server as recommended by the documentation, but am using this for my proof of concept in the meantime.\n```\n    fun deleteCollection(collection: CollectionReference, batchSize: Int) {\n        try {\n            // Retrieve a small batch of documents to avoid out-of-memory errors/\n            var deleted = 0\n            collection\n                    .limit(batchSize.toLong())\n                    .get()\n                    .addOnCompleteListener {\n                        for (document in it.result.documents) {\n                            document.getReference().delete()\n                            ++deleted\n                        }\n                        if (deleted >= batchSize) {\n                            // retrieve and delete another batch\n                            deleteCollection(collection, batchSize)\n                        }\n                    }\n        } catch (e: Exception) {\n            System.err.println(\"Error deleting collection : \" + e.message)\n        }\n    }. ",
    "MaryCooperGD": "4.4.3. As I said in the question, that is what I tried, but just to the get the error saying \" no matching version found for angular/core^5.5.0\". The original version was in fact 4.4.3, but if I change to 5.5.0 give the not found error.. Same error :( keeps telling me that it needs ^5.0.0 even if it is 5.0.0. ",
    "Chan4077": "@MaryCooperGD Can you try running npm ls @angular/core?. @SanoLitch Could you close the issue?. Any updates? I have an app that has the @next version of angularfire2, as well as firebase version 4.13.1. Please fix ASAP.. Version of Angularfire2? Consider updating to 5.0.0-rc.7 which fixes this issue.. @kenken64 You should probably consider checking the comment thread before commenting that. https://github.com/angular/angularfire2/issues/1688#issuecomment-392205266. /cc @davideast Could you take a look?. Could you modify your commit to use a valid commit type?\nSomething like:\ndocs(firestore/documents): add missing interface\nSee the Angular Commit Guidelines for more info.. Closing this issue as the docs for AngularFireMessaging have been created: 78a9736b4bb97de66019445efcc8f9a0e1c4e174. Could you attach a screenshot of the Firebase Console on the Storage view?\nAlso, please take note that your issue may get closed if you don't use the issue template.. Why the ping @IOAyman?\nI'm not a collaborator of this project.. So will the angularfire2 package be marked as deprecated?\nThis can be a breaking change for old projects that still rely on this (soon to be) old package.. Schematics maybe?\nEDIT: Maybe an upgrade schematic in the 5.0.0 release that makes consumers use @angular/fire instead?. @ashishpatelcs Could you create a single PR instead of multiple PRs just on typo fixes?. If you're using the latest version of AngularFire2, please import from @angular/fire instead of angularfire2. The NPM package for the original angularfire2 has been deprecated in favour of the new NPM package @angular/fire.\n\nP.S. Please consider filling in the issue template or the members of the AngularFire2 team may immediately close your issue without any consideration.. Another nitpick: sumary should be summary. Add syntax highlighting perhaps?\n`xml\n```\n````. Syntax highlighting here as well\n`ts\n```\n````. Typos:\n\n\"Following instructions\" -> \"The following instructions\"\n\"use ng add command\" -> \"use the ng add command\"\nAdd a comma to \"If you want to set up things manually\". Probably simpler to just say \"Edit Firebase configuration\"?. Remove the leading comma here. Once again, remove the leading comma here.. Remove leading comma here. What about AngularFireMessaging?. You should be more specific here. Do you mean the project's root, or something else?. There's a newer version of AngularFire2 as of 3rd September: 5.0.0-rc.12. Oops. Didn't see the line in the markdown file earlier.. \n",
    "awsaunier": "I am having the same problem as above.  New app created with the latest angular cli (1.6.6).  I also ran npm ls @angular/core' and it returned: -- @angular/core@5.2.2 \nHere is my install log: 2018-01-28T03_44_51_312Z-debug.log\n. This is no longer a problem for me.  The npm instructions gave me errors but I installed it a different way with npm and then there were no errors.. ",
    "sconix": "We just migrated from the deprecated database api to the new one and bumped into this. For us its a rather big change to update all the places to use the defer workaround so would really apreaciate if this could be fixed soon.. Thanks for the explanation and fully agree that ideally this would not be an issue. Also we would be happy with either option (cold or hot observables) since the application code can be changed to work with both, but as you said its good that it would match the Firebase SDK since not matching that and that it worked differently with the old api made (would make) this seem like a bug.. Would be nice to get even some @next release for this. I can see that there was already changes made that removed the usage of observeOn so some sort of pre-release would allow us to start migrating to Angular 6.. ",
    "rolandjitsu": "I'm having a similar issue where on subscribe I get an old change instead of the most recent one. Maybe using publishReplay(1)(...) instead of share() would solve this issue.. I made a simple fn that works as I expect it:\n```ts\nimport {FirebaseFirestore, QueryDocumentSnapshot} from '@firebase/firestore-types';\nimport {Observable} from 'rxjs/Observable';\nimport {publishReplay} from 'rxjs/operators/publishReplay';\nimport {Observer} from 'rxjs/Observer';\nexport function snapshotChanges(firestore: FirebaseFirestore, path: string) {\n    const collection = firestore.collection(path);\nconst source = new Observable((observer: Observer<QueryDocumentSnapshot[]>) => {\n    const destroy = collection.onSnapshot(snapshot => {\n        const {docs} = snapshot;\n        observer.next(docs);\n    });\n    return () => {\n        destroy();\n    };\n});\n\nconst shared = publishReplay<QueryDocumentSnapshot[]>(1)(source)\n    .refCount();\n\nreturn shared;\n\n}\n```\nThis ensures that any new subscriptions on the returned observable will reuse one observable and also replay the most recent snapshot change.\nThe drawback is that this is running outside the Angular zone, so you have to make sure you emit your results in a zone if that's important.. ",
    "developcodeza-matthew": "So glad to have finally found an explanation of what is going on. Any updates on your progress with changing to a cold observable emission @davideast .\nFor now though what is the recommended workaround as I am very keen to move over to as much async await with take(1) that makes sense.\nAny chance you could elaborate on\n\nThe current workaround in my code is to surround all the valueChanges() and snapshotChanges() calls with an Observable.defer()\n@njirem . The solution I have found is to rather use the normal Firebase Firestore package when doing data fetches when I can see this issue potentially showing up.\n\nSo in my cases I have replaced: \nconst dbCollectionArray = await this.angularFirestore.collection('... collection reference...').take(1).toPromise\nwith this:\nconst dbCollectionArray = (await firestore().collection('... collection reference...').get()).docs.map(doc => doc.data())\n. ",
    "DaveRicho": "@jamesdaniels  It would be fantastic to see a change that does make this issue less confusing. Requiring .subscribe() to be called once only in an angular service seems to contradict the prevailing angular teachings that encourage using the async pipe (eg: {myObservable$ | async}) in component views. (Unless I have misunderstood something).\nI wish I could be more helpful, but I\u2019m still a newbie trying to learn this stuff. Thanks for your hard work.. ",
    "RichardZandi": "I've tried the suggested defer workaround. It doesn't work for me. The firebase request doesn't fire after a first subscribe.  Perhaps, I'm not implementing the defer workaround correctly. This is my code: \ngetList(pth): Observable {\n        return  Observable.defer(() => this.fs.list(pth).valueChanges());\n    }\nThanks\n. ",
    "sgarciac": "I'm using the operator shareReplay on snapshotChanges() to be able to subscribe several times. . ",
    "SonuSahoo": "@sgarciac can you please share a sample of code i am struggling a lot on it.Thanks in advance . @sgarciac can you please share a sample of code i am struggling a lot on it.Thanks in advance . ",
    "KSingh1980": "I am getting the same error. does that mean we can use only one service ????\n. ",
    "ZouYouShun": "Hi @famousTM , you can user ActivatedRoute with params to switch map data.\nFor Example, like below\n```ts\n  constructor(\n    private _route: ActivatedRoute,\n    private db: AngularFirestore) {\nthis.items = this._route.params\n  .switchMap(params => db.collection(params.id).valueChanges())\n\n}\n```. ",
    "isaiastavares": "I have the same problem. Someone resolved?. ",
    "webcat12345": "@famousTM , You can write like this.\nthis.items = this.activatedRoute.params\n  .switchMap(params =>\n   db.collection('items')\n   .doc(${variablename}) // <= how do I make this a dynamic id (AUTO-ID)\n   .valueChanges());\n   }\nTemplate string syntax. \"${var}\". @famousTM , You can write like this.\nthis.items = this.activatedRoute.params\n  .switchMap(params =>\n   db.collection('items')\n   .doc(${variablename}) // <= how do I make this a dynamic id (AUTO-ID)\n   .valueChanges());\n   }\nTemplate string syntax. \"${var}\". https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\nReference this article. https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\nReference this article. ",
    "0x6368656174": "Thank you @davideast . Understood. The problem arose in that we use firebase.storage as follows:\nimport * as firebase from 'firebase';\n\nprivate _storage: firebase.storage.Storage;\nconstructor() {\n    this._storage = firebase.storage();\n}\n\nAt the same time, webpak completely imports all of the meat.\nWhile storage is not part of AngularFire2, it is necessary to use it as follows:\nimport * as firbase from 'firebase/app';\nimport 'firebase/storage';\n\nprivate _storage: firebase.storage.Storage;\nconstructor(private _firebaseApp: FirebaseApp) {\n    this._storage = _firebaseApp.storage();\n}\n\n. ",
    "gauravweni": "Metadata version mismatch for module E:/fhc-app-temp/node_modules/angularfire2/index.d.ts, found version 4, expected 3 getting this error plz help me\n. ",
    "BobaFett58": "@gauravweni try to \n' npm install angularfire2@5.0.0-rc.3 --save '. ",
    "ericcancil": "The guides on the actual firebase site has this example\ndb.collection(\"cities\").get().then(function(querySnapshot) {\n    querySnapshot.forEach(function(doc) {\n        console.log(doc.id, \" => \", doc.data());\n    });\n});\nI'm guessing this is from a different version because it no longer exists.. ",
    "Endran": "I'll see if I can get on stackblitz tomorrow morning, for now, please see https://github.com/Endran/AngFireIssues/blob/master/src/app/app.module.ts. @nueko , thanks! That .valueChanges(); was a sloppy mistake, I didn't see it yet since the app didn't start yet. \nHowever that uppercase F was the actual problem! IntelliJ for some reason is able work with the uppercase F, and the typescript compiler as well. Only at Runtime did this occur. Shouldn't the typescript compiler or linter pick this up ideally?. @sarojrout I've pushed my fixes, please try to build and run my example to see if it works for you.. ",
    "iyushaw": "I had similar error but was solved after I imported the AngularFireModule.initializeApp(environment.firebase),\nproperly. ",
    "abubakarmuneer": "Failed to compile.\nnode_modules/angularfire2/angularfire2.d.ts(4,33): error TS2307: Cannot find module '@firebase/app-types'.\nnode_modules/angularfire2/auth/auth.d.ts(1,36): error TS2307: Cannot find module '@firebase/auth-types'.\nnode_modules/angularfire2/auth/auth.d.ts(2,33): error TS2307: Cannot find module '@firebase/app-types'.\nnode_modules/angularfire2/database/database.d.ts(2,34): error TS2307: Cannot find module '@firebase/database-types'.\nnode_modules/angularfire2/database/database.d.ts(4,33): error TS2307: Cannot find module '@firebase/app-types'.\nnode_modules/angularfire2/database/interfaces.d.ts(1,67): error TS2307: Cannot find module '@firebase/database-types'.\nnode_modules/angularfire2/database/list/audit-trail.d.ts(3,30): error TS2307: Cannot find module '@firebase/database-types'.\nnode_modules/angularfire2/database/list/state-changes.d.ts(5,30): error TS2307: Cannot find module '@firebase/database-types'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,62): error TS2307: Cannot find module '@firebase/app-types'.\nnode_modules/angularfire2/firebase.app.module.d.ts(3,30): error TS2307: Cannot find module '@firebase/auth-types'.\nnode_modules/angularfire2/firebase.app.module.d.ts(4,34): error TS2307: Cannot find module '@firebase/database-types'.\nnode_modules/angularfire2/firebase.app.module.d.ts(5,35): error TS2307: Cannot find module '@firebase/messaging-types'.\nnode_modules/angularfire2/firebase.app.module.d.ts(6,33): error TS2307: Cannot find module '@firebase/storage-types'.\nnode_modules/angularfire2/firebase.app.module.d.ts(7,35): error TS2307: Cannot find module '@firebase/firestore-types'.. can anyone help me to resolve this issue firebase package is not found in node modules  ....I also  type this command  npm i --save firbase@4.10.0 angularfire2@4.0.0-rc.1\n. ",
    "mrugesh008": "I tried your way. But now it is giving me the error as shown below:\nHTTP404: NOT FOUND - The server has not found anything matching the requested URI (Uniform Resource Identifier).\n(XHR)GET - http://localhost:3000/node_modules/firebase/app/app.js\nMy systemjs.config.js is \n(function(global) {\n    System.config({\n        paths: {\n            // paths serve as alias\n            'npm:': 'node_modules/'\n        },\n        // map tells the System loader where to look for things\n        map: {\n            // our app is within the app folder\n            'app': 'app',\n            ......\n            ......\n            'angularfire2': 'node_modules/angularfire2',\n            'firebase': 'npm:firebase/app'\n        },\n        // packages tells the System loader how to load when no filename and/or no extension\n        packages: {\n            app: {\n                main: './main.js',\n                defaultExtension: 'js',\n                meta: {\n                    './*.js': {\n                        loader: 'systemjs-angular-loader.js'\n                    }\n                }\n            },\n            rxjs: {\n                defaultExtension: 'js'\n            },\n            angularfire2:{\n                main: './bundles/core.umd.js',\n                defaultExtension: 'js'\n            },\n            firebase: { defaultExtension: 'js',\n                main: './firebase.js' },\n        }\n    });\n})(this);. ",
    "Joebob12": "@davideast Now when I do a AOT build I get a lot more errors like the following:\ntypescript: node_modules/angularfire2/firebase.app.module.d.ts, line: 3 \n            Cannot find module '@firebase/app-types'.\ntypescript: node_modules/angularfire2/firebase.app.module.d.ts, line: 4 \n            Cannot find module '@firebase/auth-types'.\ntypescript: node_modules/angularfire2/firestore/collection/changes.d.ts, line: 1 \n            Cannot find module '@firebase/firestore-types'.\ntypescript: node_modules/angularfire2/database/database.d.ts, line: 1 \n            Cannot find module '@firebase/database-types'.. Ok updated to firebase 4.8.2 and it looks like the same error is occuring now:\nWarning: Can't resolve all parameters for AngularFirestore in /Users/imac/Documents/projects/test/node_modules/angularfire2/firestore/index.d.ts: ([object Object], ?). This will become an error in Angular v6.x\nWarning: Can't resolve all parameters for AngularFirestore in /Users/imac/Documents/projects/test/node_modules/angularfire2/firestore/index.d.ts: ([object Object], ?). This will become an error in Angular v6.x\n[18:38:00]  typescript error \n            Expected 0 arguments, but got 2.\nThank you for looking into it.\nIonic 3.19.1\nand updated to angularfire2@next. @davideast I agree in that it is a warning but below the warning it results in a typescript error as follows:\ntypescript error \n            Expected 0 arguments, but got 2.\nBefore the warning and the typescript error is ngc started... and then the warning/error. Trying to give more information so we can resolve this issue. I see this version of angularfire in my node_modules: angularfire2@5.0.0-rc.5.6-next\nBecause the typescript does not finish the compile I do not get a generated ionic application as a result.\nEDIT: Diving a little deeper I thought upgrading to firebase 4.9.* would solve the issue because I'm now seeing typings for firestore in my node_modules: @firebase/firestore-types@0.2.1-1 but alas no luck.. ",
    "wojtek1150": "Still failing in rc.6.0-next Uncaught TypeError: Cannot read property 'apply' of undefined. @davideast It Only appear with --aot=true --t=production On zone.js I think. But angularfire2 was the only package that I've updated.\n\n. ",
    "davidpobi": "@wojtek1150 hello, were you able to find a solution ?. ",
    "bnfrnz": "Hey @davideast! Understand... no worries. Bit swamped and not been able to write up the stackblitz/firebase... Hot is fine. It's a single subscription and my workaround, ordering by child timestamp, fires as expected so I'll just use this for now. Might revisit this some time and reopen this when I get to it... tks . ",
    "yoda888": "Firebase team are saying it is fixed on Feb 15 in 4.10\nhttps://firebase.google.com/support/release-notes/js. I am still experience same performance issues in Edge as you described. Is it resolved for you?. Yes appears they touched it , but people are saying the underlying issue is with Edge itself \n... Edge issue https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\n... Discussion https://groups.google.com/forum/#!topic/google-cloud-firestore-discuss/C60Ah-V20W8. ",
    "anup5708": "Hi there,\nI just managed by writing the below code:\nHtml File\n<input type=\"file\" (change)=\"registerNewCandidate($event)\" />\nSource Code\nfirebase.storage().ref().child('myupload/mountains.jpg').put(event.srcElement.files[0]).then(function(snapshot) {\n        snapshot.downloadURL;\n });\nI hope this help. ",
    "Tom-Checkley": "I'm getting a very similar error, I'm quite new to this so if I've made a dumb mistake forgive me for time wasting. Also, when other errors occur it's normally quite easy to spot where / why they're happening, this one not so much so if anyone can give any hints to make debugging easier in future I'd be very grateful\njavascript\ncreatePost(post: Blog) {\n    const storageRef = firebase.storage().ref();\n    storageRef.child(`blogImg/${post.imgTitle}`).putString(post.img, 'base64')\n      .then((snapshot) => {\n        const url = snapshot.metadata.downloadURLs[0];\n        const dbRef = firebase.database().ref('blogPosts/');\n        const newPost = dbRef.push();\n        newPost.set({\n          title: post.title,\n          content: post.content,\n          location: post.location,\n          imgTitle: post.imgTitle,\n          img: url,\n          id: newPost.key\n        });\n      })\n      .catch((err) => {\n        alert(`failed upload: ${err}`);\n      });\n  }\njavascript\nBlogAddComponent.html:4 ERROR Error: [object Object]\n    at viewWrappedDebugError (core.js:9764)\n    at callWithDebugContext (core.js:15066)\n    at Object.debugHandleEvent [as handleEvent] (core.js:14643)\n    at dispatchEvent (core.js:9962)\n    at eval (core.js:12301)\n    at SafeSubscriber.schedulerFn [as _next] (core.js:4343)\n    at SafeSubscriber.__tryOrUnsub (Subscriber.js:240)\n    at SafeSubscriber.next (Subscriber.js:187)\n    at Subscriber._next (Subscriber.js:128)\n    at Subscriber.next (Subscriber.js:92). ",
    "Aadencoder": "Has anyone found the solution I am also facing the same issue https://stackoverflow.com/questions/49333848/uncaught-in-promise-object-object-ionic-3-angular-firebase. Hello Codediodeio thanks for your blog post. I will check that out.\n. http://masteringionic.com/blog/2017-02-24-integrating-firebase-into-an-ionic-app-with-angularfire2-part-2/ I followed this post and able to upload the image. . ",
    "BluebambooSRL": "Check this blog. It works! https://alligator.io/ionic/angularfire2-file-uploads-ionic/. Hi there, could someone implemente SSR with angular2?. Same problem here.... Hi @jamesdaniels, @davideast \nDo you know if there is any update on this?\nMany thanks for the work/information that you provide.\nFederico. Same problem.. @davidheis  did you find the solution?. ",
    "rogeraleite": "Hello everyone,\nI am also having the same problem. I have already tried:\n                  //1 - ..putString(image) works!! But uploaded image can not be readed because it gets type \"application/octet-stream\" \n                  //this.storage.ref(filePath).putString(image);\n\n                  //2 - Error: Uncaught (in promise): [object Object]\n                  //this.storage.ref(filePath).put(image);\n\n                  //3 - Error: Uncaught (in promise): [object Object]\n                  //this.storage.ref(filePath).putString(image, 'data_url');\n\n                  //4 - Error: Uncaught (in promise): [object Object]\n                  //this.storage.upload(filePath,image);\n\n                  //5 - Error: Uncaught (in promise): [object Object]\n                  //this.storage.ref(filePath).putString(image,'base64');\n\n                  //6 - ERROR Error: Uncaught (in promise): [object Object]\n                  //this.storage.ref(filePath).putString(image,'base64url');\n\n                  //7 - ERROR Error: Uncaught (in promise): [object Object]\n                  //this.storage.ref(filePath).putString(image,'data_url');\n\n                  //8 - ERROR Error: Uncaught (in promise): [object Object]\n                  //this.storage.ref(filePath).put(image, metadata);\n\n                  //9 - ERROR Error: Uncaught (in promise): [object Object]\n                  // var storageRef = firebase.storage().ref();\n                  // var imagesRef = storageRef.child(filePath);\n                  // imagesRef.put(image,metadata);\n\n                  //10 - ERROR Error: Uncaught (in promise): [object Object]\n                  // if(image){\n                  //   firebase.storage().ref().child(filePath).put(image).then((snapshot) => {\n                  //     console.log(\"snapshot.downloadURL\" ,snapshot.downloadURL);\n                  //   });\n                  // }\n\nno success with neither =/.\nAny suggestions?. ",
    "Heckthor": "@codediodeio Will the code in your post work with iOS devices? I'm having issues uploading from iPhone. OK, I'll post the details in a few minutes. \nThanks. @codediodeio Here is the Stack overflow post\nHopefully, you can think of something, I've spent all day trying to figure it out.. @codediodeio I know what happened. My super slow, third-world country network was responsible. The pictures uploaded a few hours later while I was sleeping. Thanks, though.. ",
    "Robinyo": "@Heckthor \nI just noticed an issue with my Ionic 3/Angular 5 PWA (that uses angularfire2) when trying to upload files on iOS 11.4.1.\nIt turns out it is related to Safari's experimental support for Service Workers.\nmy-page-component.ts:\n```\n...\nimport { AngularFireStorage, AngularFireUploadTask } from 'angularfire2/storage';\nimport { Observable } from 'rxjs/Observable';\n...\nprivate downloadURL: Observable;\npublic uploadFile(event) {\nconst file = event.target.files[0];\nconst filePath = 'reviews' + '/' + this.beer.id + '/' + this.authService.getUserId();\nconst task: AngularFireUploadTask = this.afStorage.upload(filePath, file);\n\nthis.downloadURL = task.downloadURL();\n\nthis.downloadURL.subscribe((url) => {\n\n  // do stuff\n\n});\n\n}\n```\nmain.ts:\n```\nplatformBrowserDynamic().bootstrapModule(AppModule).then(() => {\nconst isIos = () => {\n    const userAgent = navigator.userAgent.toLowerCase();\n    return /iphone|ipad|ipod/.test(userAgent);\n  };\nif (isIos()) {\n// https://github.com/angular/angular/issues/23244\nconsole.log('Service Worker not registered');\n\n} else {\n// https://stackoverflow.com/questions/48723206/angular-5-service-worker-not-working\n// Seems to be a problem in registering service worker in module where also importing AngularFire2\nif ('serviceWorker' in navigator && ENV.production) {\n  navigator.serviceWorker.register('/ngsw-worker.js');\n  console.log('Service Worker registered');\n}\n\n}\n}).catch(error => console.log(error));\n```\n. ",
    "DorianLovera": "@davideast thanks for your quick reply ! . > you should add redirect url in facebook app config too\nIn your Facebook DashBoard go to Products --> Facebook Login --> Settings --> Valid OAuth Redirect URIs (That you get from Firebase) . ",
    "isawk": "Fixed issue with solutions found here\nand here\n\nAdded referrer (firebase authDomain and localhost) to API keys  Browser key (auto created by Google Service) in Google Cloud Console > APIs and Services\nAdded  referrer (firebase authDomain and localhost) to OAuth 2.0 client IDs Web client (auto created by Google Service) in Google Cloud Console > APIs and Services\n. \n",
    "Terkwood": "Thanks @isawk - this really helped me out!. ",
    "ames89": "I signed it!. ",
    "arthurcohen": "Installation problem solved with the node-pre-gyp, as follow:\nnpm install node-pre-gyp -g. ",
    "MurhafSousli": "@fellz did you solve it?. @fellz did you solve it?. Any update on this! I cannot delete files by the URL!!!. It works like this\nts\nthis._storage.storage.refFromURL(post.coverPic).delete(). It just worked when I implemented it in the stackblitz. Looks like I have something wrong in my project. @rinkukumar-kiwi I don't really know what was the cause and cannot remember how I solved it, but you can check the stackblitz above, it is working. They changed it in the recent update\n```ts\nupload(path)\n    this._ref = this._storage.ref(path);\n    this._task = this._storage.upload(path, this.file);\n    return from(this._task).pipe(\n       switchMap((task: UploadTaskSnapshot) => this.onTaskComplete(task))\n    );\n}\nonTaskComplete(task: UploadTaskSnapshot) {\n    return this._ref.getDownloadURL().pipe(\n      tap((downloadURL: string) => {\n        // Download url\n      })\n    );\n}\n```. @rtm This is the code you are suppoused to write, (it is my usage in my ngx-fire-uploader plugin).\nWhen I updated to firebase 5.x, I had to change the way I get the downloadURL.\nyou can do this too\nts\nupload(path: string, file: File)\n    const storageRef = this._storage.ref(path);\n    const task = this._storage.upload(path, file);\n    return from(task).pipe(\n       switchMap((task: UploadTaskSnapshot) => storageRef.getDownloadURL())\n    );\n}. ",
    "jcuervas": "Not implemented yet in firestore. Have a look at this post.\nhttps://stackoverflow.com/questions/46573014/firestore-query-subcollections\nWhat you can do for now is to query your collection first, then get it's id and query for subcollections. ",
    "stanleyeosakul": "I solved this issue using this StackOverflow post:\nhttps://stackoverflow.com/questions/38008334/angular-rxjs-when-should-i-unsubscribe-from-subscription\nIn my app, I kept getting this error, and it turned out that I missed unsubscribing from a subscription to the snapshotChanges() Observable reading from my firestore database.\nTL;DR\n1. Define variable ngUnsubscribe: Subject<void> = new Subject();\n2. Call .takeUntil(this.ngUnsubscribe) before each .subscribe() call\n3. Call this.ngUnsubscribe.next(); followed by this.ngUnsubscribe.complete(); in ngOnDestroy()\nExample:\n```\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/takeUntil';\nimport { MyThingService } from '../my-thing.service';\n@Component({\n    selector: 'my-thing',\n    templateUrl: './my-thing.component.html'\n})\nexport class MyThingComponent implements OnDestroy, OnInit {\nprivate ngUnsubscribe: Subject = new Subject();\nconstructor(private myThingService: MyThingService) { }\nngOnInit() {\n    this.myThingService.getThings()\n      .takeUntil(this.ngUnsubscribe)\n      .subscribe(things => console.log(things));\nthis.myThingService.getOtherThings()\n  .takeUntil(this.ngUnsubscribe)\n  .subscribe(more_things => console.log(more_things));\n}\n\n}\nngOnDestroy() {\n    this.ngUnsubscribe.next();\n    this.ngUnsubscribe.complete();\n  }\n}\n``\nCalling.takeUntil(this.ngUnsubscribe)before each of our.subscribe()` calls will guarantee that all subscriptions will be cleaned up when the component is destroyed.. I solved this issue using this StackOverflow post:\nhttps://stackoverflow.com/questions/38008334/angular-rxjs-when-should-i-unsubscribe-from-subscription\nIn my app, I kept getting this error, and it turned out that I missed unsubscribing from a subscription to the snapshotChanges() Observable reading from my firestore database.\nTL;DR\n1. Define variable ngUnsubscribe: Subject<void> = new Subject();\n2. Call .takeUntil(this.ngUnsubscribe) before each .subscribe() call\n3. Call this.ngUnsubscribe.next(); followed by this.ngUnsubscribe.complete(); in ngOnDestroy()\nExample:\n```\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subject } from 'rxjs/Subject';\nimport 'rxjs/add/operator/takeUntil';\nimport { MyThingService } from '../my-thing.service';\n@Component({\n    selector: 'my-thing',\n    templateUrl: './my-thing.component.html'\n})\nexport class MyThingComponent implements OnDestroy, OnInit {\nprivate ngUnsubscribe: Subject = new Subject();\nconstructor(private myThingService: MyThingService) { }\nngOnInit() {\n    this.myThingService.getThings()\n      .takeUntil(this.ngUnsubscribe)\n      .subscribe(things => console.log(things));\nthis.myThingService.getOtherThings()\n  .takeUntil(this.ngUnsubscribe)\n  .subscribe(more_things => console.log(more_things));\n}\n\n}\nngOnDestroy() {\n    this.ngUnsubscribe.next();\n    this.ngUnsubscribe.complete();\n  }\n}\n``\nCalling.takeUntil(this.ngUnsubscribe)before each of our.subscribe()` calls will guarantee that all subscriptions will be cleaned up when the component is destroyed.. ",
    "rwmb": "I'm having this problem too, but I subscribe to data in my services, so unsubscribing upon component destruction is not enough, neither listening for changes in the authState apparently, because these errors happen before the onAuthStateChanged is triggered, so making a switchMap on that doesn't help.\nCan someone help me with that?. Hi, @YeFFreY, thanks for the response. I saw this approach somewhere but didn't give too much attention because making switchMap and checking for a null value in the authState seemed to make so much sense that I didn't give this a chance. I'll try it tomorrow.. @YeFFreY This approach doesn't work for me. I've used it in every assignment of the Observable and I still have the same amount of errors regarding permission. The only way to fix them seems to be removing the reference (not a solution). The workaround I'm using for the moment is to route the user back using window.location. Thanks for the help.. @MoradAbdelgaber I didn't find a way to refresh the database subscribers, because I access the data from the templates as well, so even by saving the subscriptions and unsubscribing on logout, the template ones don't refresh. The only solution I could find was to refresh the whole application after logout (a bad workaround), using window.location.href = '/'. Here's what I did to solve this problem: I wrapped the authState in a BehaviourSubject (it's possible to use a ReplaySubject as well, or a simple Subject I guess) like this:\nthis.afAuth\n      .authState\n      .subscribe((data) => {\n        if (!this.$logged) {\n          this.$logged = new BehaviorSubject<any>(data);\n          this.user.initialize(this.$logged);\n        } else {\n          this.$logged.next(data);\n        }\n      });\nand to fix the problem I use this $logged subject instead, because I can easily send null from this one upon sign out.\nsignOut() {\n    this.afAuth\n      .auth\n      .signOut()\n      .then(() => {\n        console.log('signout');\n        this.$logged.next(null);\n        this.router.navigate(['/']);\n      });\n  }\nI know there's a better way to implement this, maybe extending the afAuth and using our own auth handler, but since I wanted to control the user initialization I did it this way.\nI appreciate suggestions on improvements and hope this helps.\n@larssn @MoradAbdelgaber . I'll try this right now.. Awesome! It worked!\nDo you know if there's a way to prevent this from happening?\nThanks a lot @davideast. Alright @davideast, thanks again!. Also waiting for the fix, we shouldn't be making edits to packages like that.. ",
    "YeFFreY": "I'm also using services (and ngrx effects), doing that seems to be working:\ngetActivities(): Observable<DocumentChangeAction[]> {\n    return this.firestore\n      .collection(this.path, ref => ref.where('authorId', '==', this.fireAuth.auth.currentUser.uid))\n      .stateChanges()\n      .pipe(takeUntil(this.fireAuth.authState.filter(u => !u)));\n  }\n. ",
    "MoradAbdelgaber": "hi @rwmb I'm stuck in this problem a week ago . what did you do for this problem . please explain with code if possible :). @rwmb is there any problem to console log this error ? is that affect the performance of the application ?. ",
    "jrodl3r": "Having the same issue w/ my user init, can't figure out how to prevent or catch the error on logout:\njavascript\nthis.user = this.afAuth.authState.pipe(\n  switchMap(user => {\n    if (user) {\n      return this.afs.doc<IUser>(`users/${user.uid}`).valueChanges();\n    } else {\n      return of(null);\n    }\n  }),\n  tap(user => localStorage.setItem('user', JSON.stringify(user))),\n  shareReplay(1), // Cache me\n  startWith(JSON.parse(localStorage.getItem('user')))\n);\nUpdate: This code was not the cause of the issue. I had accidentally set up a subscription in a buried service that wasn't being unsubscribed from. I pulled the sub out of that service and set it up for components to sub to... and no more permissions issue on logout.\nIf you have a large app, try killing all services + components (accept your auth) + routes first to make sure it's not a rouge subscription like it was for me \ud83d\udc4d \nReally looking forward to more detailed Firebase error/debug console output for stuff like this...\n. Like @hiepxanh mentioned above... This would complete the SSR + Angular + Firebase visionquest.\nThe only thing I've come up w/ so far (and this just a hack to get rid of auth'd refresh flicker) is to return true; until you get to the client:\njavascript\ncanActivate(): Observable<boolean> | boolean {\n    if (typeof window !== 'undefined') {\n      return this.afAuth.user.pipe(\n        take(1),\n        map(state => !!state),\n        tap(loggedIn => {\n          if (!loggedIn) {\n            this.system.log('You must be logged in.');\n            this.router.navigate(['/login']);\n          }\n        })\n      );\n    }\n    return true;\n  }\nThis just flips the problem around, to where when you hit a route-guarded page without auth, it will flicker the unauthorized page on the initial render, and then kick you back to the login page once it's got the firebase user response in the client. Again, FYI - This is a total hack.. ",
    "adamk22": "I had a very similar issue and was able to solve it with the help of @stanleyeosakul's solution. I added a takeUntil() operator which includes the Subject that I used to emit to unsubscribe from the authState in my logout function (see below).\nThe subject property:\nprivate ngUnsubscribe$: Subject<void> = new Subject();\nThe subscription that caused problems and where I added the takeUntil() before subscribing:\nthis.auth.afAuth.authState\n  .takeUntil(this.ngUnsubscribe$)\n  .subscribe(\n    user => {\n      if (user) {\n        this.rootPage = HomePage;\n        this.getUser = this.db\n          .collection(\"users\", ref =>\n            ref.where(\"email\", \"==\", user.email)\n          )\n          .valueChanges();\n      } else {\n        this.rootPage = LoginPage;\n      }\n    }\n  );\nThe logout function that emits a value before it signs out:\npublic logout(): void {\n    this.ngUnsubscribe$.next();\n    this.ngUnsubscribe$.complete();\n    this.auth.signOut();\n    this.nav.setRoot(LoginPage);\n  }. ",
    "chakrachi": "having the same issue to use angularfire with SSR. Does this seem to be the current case still? does the angularfire library intend to support SSR support or still pending PR?. ",
    "davidmartinezros": "I have the same issue. There's any solution for running AngularFire2 with Angular5 and Universal?. ",
    "fatlover360": "thanks i will try that out! . ",
    "vnscriptkid": "For me, this combination works fine:\n\"angularfire2\": \"5.0.0-rc.9\",\n\"firebase\": \"5.0.3\",. ",
    "vbuser2004": "You got it. I will post shortly. In the meantime, I switched to the SDK an it is working. . @davideast - Based on your comment, I double-checked my dependencies and deleted/reinstalled modules. That fixed the issue. Thank you for your quick response!. ",
    "kamilo81": "@davideast still, it seem to be a problem.\n\"firebase\": \"^4.10.0\",\n    \"firebase-admin\": \"~5.12.0\",\n    \"firebase-functions\": \"^1.0.1\",\ndownloadUrl return null when file size is > 2MB. yea sure. but how? my console says this error is from polyffils.js.\ni can't see opportunity to catch this error. Its strange why its works with previous versions. ",
    "kierandesmond": "Any resolution here? Having the same issue... ",
    "markstuart": "Hi James, thanks for getting back to me.\nMy use case is this:\nOn registration to our app we have a form which takes the user's firstname and lastname, as well as their email and password. We then chain some calls to firebase like this:\njs\nthis.af.auth.createUserWithEmailAndPassword(email, password)\n  .then((afUser: firebase.User) => {\n    return afUser.updateProfile({\n      displayName: [firstName, lastName].join(' ').trim(),\n    }).then(() => afUser.sendEmailVerification());\n  })\n  .then(() => this.af.auth.signInWithEmailAndPassword(email, password))\n  .catch((err) => {\n    this.handleFirebaseError(err);\n  });\nUnder pre-4.0.0 angularFire2, the authState subscription would fire after the createUserWithEmailAndPassword and after signInWithEmailAndPassword, allowing us to get a fully updated user and token to send to our backend API.\nAfter the update, authState no longer fires after signInWithEmailAndPassword, so we only ever see a user object emitted from the createUserWithEmailAndPassword which has no displayName attribute.\nI had hoped to just change af.authState.subscribe to af.idToken.subscribe and everything would work as before. The idToken subscription does fire at the same times as the old authState did, just that it provides a string instead of a User.\nIt seems odd to me that the idToken interface does not match firebase's onIdTokenChanged when authState matches onAuthStateChanged.. Hi James, thanks for getting back to me.\nMy use case is this:\nOn registration to our app we have a form which takes the user's firstname and lastname, as well as their email and password. We then chain some calls to firebase like this:\njs\nthis.af.auth.createUserWithEmailAndPassword(email, password)\n  .then((afUser: firebase.User) => {\n    return afUser.updateProfile({\n      displayName: [firstName, lastName].join(' ').trim(),\n    }).then(() => afUser.sendEmailVerification());\n  })\n  .then(() => this.af.auth.signInWithEmailAndPassword(email, password))\n  .catch((err) => {\n    this.handleFirebaseError(err);\n  });\nUnder pre-4.0.0 angularFire2, the authState subscription would fire after the createUserWithEmailAndPassword and after signInWithEmailAndPassword, allowing us to get a fully updated user and token to send to our backend API.\nAfter the update, authState no longer fires after signInWithEmailAndPassword, so we only ever see a user object emitted from the createUserWithEmailAndPassword which has no displayName attribute.\nI had hoped to just change af.authState.subscribe to af.idToken.subscribe and everything would work as before. The idToken subscription does fire at the same times as the old authState did, just that it provides a string instead of a User.\nIt seems odd to me that the idToken interface does not match firebase's onIdTokenChanged when authState matches onAuthStateChanged.. @jamesdaniels It seems to me that one of the aims of the AngularFire2 4.0 upgrade was to simplify the authentication api, and in doing so bring it more in line with the Firebase library.\nTo me, the meaning of onIdTokenChanged signifies that the users authentication token has changed in some way, not that it should return a token.\nFirebase provide it as a backward compatible way of detecting changes in the auth state (including refresh events), and it was originally your intention to do the same. Given that the AngularFire2 auth api is not extensively documented, and Firebase's api docs are rather more extensive (completely understandable of course, on both counts) it makes sense for the auth methods to follow the Firebase ones so that there aren't too many surprises like this one.. Thanks for the heads up @jamesdaniels, looking forward to replacing my hack of your original implementation of idToken (that did return the user) from our codebase once the user observable comes into play. Do you know what release that is likely to be in?. I think by default the AF auth stores information in the browsers localStorage, so that on refresh it can make a request to firebase to get the currently logged in user information. If you're using Chrome developer tools, have a look in the Application tab under LocalStorage and see if you can see a key starting with firebase:authUser:. That will stay in there over page refreshes. You should see it disappear if you call this.af.auth.signOut().\nSince you are subscribing to events emitted from af.authState, an event is emitted once the firebase request resolves, and you get your alert(this.name) triggered.. If you are looking for the expiry of the token you can do something like:\n```js\nconst jwtDecode = require('jwt-decode');\nthis.firebaseAuth.authState.subscribe(currentUser => {\n  if (currentUser) {\n    currentUser.getIdToken()\n      .then(token => {\n         const tokenObject = jwtDecode(token);\n         console.log(tokenObject.exp);\n      });\n  }\n});. The Firebase library refreshes the users token itself, every hour by default. So the session length is effectively as long as the user has your app open in their browser. If you log in, then close the tab/window, then go back to the app after an hour you should be logged out I believe.. Hey Kevin, looking at this: https://firebase.google.com/docs/auth/web/auth-state-persistence\n\nFor a web application, the default behavior is to persist a user's session even after the user closes the browser.\n\nFrom what I have read, the refresh token never expires. If your firebase session is stored in localStorage (default behaviour), the only way to prevent that refresh token from gaining you a valid auth token is to actively log the user out, which removes the key from localStorage.\nIf you want the user to have to log back in if they close the tab or browser, you should be able to use the .setPersistence(firebase.auth.Auth.Persistence.SESSION) as detailed in the link above.\nI have not tested this, and there may be a different way to set the persistence strategy in AngularFire2.. ",
    "kevintanhongann": "Have to agree with @markstuart  that it should return the User instead a string, since I want to store the User information in cookie. . Yep. I also wish that the scenario that you mentioned would happen, but it\ndidn't. I had to write my own REST API to correct this.\nOn Tue, Mar 13, 2018, 5:41 PM Mark Stuart notifications@github.com wrote:\n\nThe Firebase library refreshes the users token itself, every hour by\ndefault. So the session length is effectively as long as the user has your\napp open in their browser. If you log in, then close the tab/window, then\ngo back to the app after an hour you should be logged out I believe.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1507#issuecomment-372604680,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAV8cU2XdZHS7wv1g65XXWxBNN_X2lJ9ks5td5RTgaJpZM4SmGMx\n.\n-- \n\nSincerely,\nKevin H.A. Tan\nPolyglot Software Developer, Technopreneur\nhttp://about.me/kevintanhongann\n+60182013739\n. ",
    "DenisBarzanov": "Yes I am kind of confused to see that authState and user do the same? Is There any difference?. ",
    "midhunadarvin": "@prantikv \nFor anyone else stuck with phone authentication. You have to write it like this inside of your component.\nAdd this element to your component template .\n<div id=\"recaptcha-container\"></div>\nInside your component class\nimport * as firebase from 'firebase/app';\n...\nngAfterViewInit() {\n    //Called after ngAfterContentInit when the component's view has been initialized. Applies to components only.\n    //Add 'implements AfterViewInit' to the class.\n    this.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n  }\nand finally the login method. Here appVerifier argument passed should be the recaptchaVerifier.\n// Phone Login\n  phoneLogin(phoneNumber: any, appVerifier: any) {\n    this.AngularFireAuth.auth.signInWithPhoneNumber(phoneNumber, appVerifier)\n      .then((confirmationResult) => {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        console.log(confirmationResult);\n      }).catch((error) => {\n        // Error; SMS not sent\n        // ...\n      });\n  }. @ravivit9 I believe you need to open chrome with disabled web security inorder to test this. I was using it with ionic. But in your case I am not sure why it's happening. \nMaybe you can share the error log . ",
    "arifullahjan": "@midhunadarvin Didn't work for me :/ . Thannksssssss God\n\n. ",
    "bbonet": "Same here. ",
    "jeremyben": "Use types added with recent firebase updates : \nimport { Query } from '@firebase/firestore-types'\nThen simply cast your reference to a query like so :\nlet query: Query = ref;\nNo need for union type anymore, since the CollectionReference type inherits his methods from Query type.. Use types added with recent firebase updates : \nimport { Query } from '@firebase/firestore-types'\nThen simply cast your reference to a query like so :\nlet query: Query = ref;\nNo need for union type anymore, since the CollectionReference type inherits his methods from Query type.. ",
    "IlCallo": "Similar problem here, but with DocumentReference.\nFirebase SDK version: 4.12.0\nAngular version: 5.2.9\nAngularFire version: 5.0.0-rc.5-next (but it doesn't work with 5.0.0-rc.6 either)\nFirebase Product: firestore\nFrom what I understood reading around, I shall import typings using import { DocumentReference } from '@firebase/firestore-types';\nBut there seems to be a mismatch of some kind with the SDK.\nIf I use that import statement I get an error when calling add method on a collection\n'Promise<firebase.firestore.DocumentReference>' type is not assignable to 'Promise<DocumentReference>' type.\nTypes of property 'firestore' are not compatible.\n'Firestore' type doesn't have 'enableNetwork' property.\nI'm forced to use import * as firebase from 'firebase/app'; and reference to the type as firebase.firestore.DocumentReference\nHints?. ",
    "kepuza": "yes, when im using async pipe freezes the application i don't understand really. ",
    "kespeart": "thanks. ",
    "mskinho": "@SGissubel \nSolution:\nfetchAvailableExercises() {\n    this.fbSubs.push(this.db\n      .collection('availableExercises')\n      .snapshotChanges().pipe(\n      map(docArray => {\n        return docArray.map(doc => {\n          const data = doc.payload.doc.data() as Exercise;\n          const id = doc.payload.doc.id;\n          return {\n            id, ...data\n          };\n        });\n      })). ",
    "c-goosen": "Did sign the CLA, might not be reflecting yet.. I signed it!. No problem. Will fix as I work through the project.. ",
    "boly1604": "i think this page may help you:\nhttps://blog.angular.io/file-uploads-come-to-angularfire-6842352b3b47. ",
    "sam-lex": "Hello, I followed the blog link and implemented the controls pause, resume, and cancel.\nI'm having an issue with cancel, it can't cancel when it's paused.\ntypescript\nconst cancelResult = task.cancel();\nthis.logger.debug('cancelResult:', cancelResult); // false\nthe only way to cancel it, would be to resume it first, then cancel it.\nso this is my current work-around:\ntypescript\nlet cancelResult = task.cancel(); // returns false\nif (!cancelResult) {\n  task.resume();\n  cancelResult = task.cancel();\n  this.logger.debug('cancelResult:', cancelResult); // true\n}\nwondering if anyone is having this issue.. ",
    "MauricioMarques3809": "screenshot:\n\ncode:\nhttps://1drv.ms/u/s!AigwYqF-kpVZkAqoHxmp33duO6al\n. @hiepxanh hello, thank you, you're correct, I already found the solution here.:\nhttps://github.com/jeduan/cordova-plugin-facebook4/issues/599. ",
    "jenkinshouse": "Is there a separate Cloud Messaging issue? I'd like to subscribe to it so I'll get notified when it's ready.. ",
    "FallenRiteMonk": "@jenkinshouse  #1543. ",
    "abel672": "Great guys!. Thanks for the reference. Will have a look on it and let you know my result :). Great guys!. Thanks for the reference. Will have a look on it and let you know my result :). ",
    "moda20": "Fixed: \nupgrading to firebase 4.9.0 and angularfire2 5.0.0-rc.6 did the trick. . ",
    "Willie2020": "ok, will do the modification asap. Thanks very much, the issue has been resolved. ",
    "tanjunior": "not an AngularFire bug as\ndeletePost() {\n  firebase.database().ref(`posts/${this.postId}`).remove()\n    .then(() => {\n      console.log('success');\n      firebase.database().ref(`users/${this.ownerId}/posts/${this.postId}`).remove()\n        .then(() => {\n          console.log('success2');\n          this.navCtrl.popToRoot();\n        })\n        .catch(err => {\n          console.log(err, 'error2');\n        });\n    })\n    .catch(err => {\n      console.log(err, 'error1');\n    });\n}\nGives the same behavior. ",
    "jessycormier": "For anyone coming here for their question for firestore please check out the following\nfrom Cloud Firestore Docs on data model \n\nWarning: Deleting a document does not delete its subcollections!\nWhen you delete a document that has associated subcollections, the subcollections are not deleted. They are still accessible by reference. For example, there may be a document referenced by db.collection('coll').doc('doc').collection('subcoll').doc('subdoc') even though the document referenced by db.collection('coll').doc('doc') no longer exists. If you want to delete documents in subcollections when deleting a document, you must do so manually, as shown in Delete Collections.\n\n. ",
    "sonicwong": "@houfu, thanks.. ",
    "neelavar": "What is the issue? Please use stackoverflow for questions / how to ...\nThanks.. ",
    "ccosme": "I will, of course, thank you so much, will try your code :). ",
    "MarkAdell": "@davideast Sure! I already did https://github.com/angular/angularfire2/pull/1502. I signed it!. ",
    "ertkjern": "Pull Request: https://github.com/angular/angularfire2/pull/1505. Pull request #1505 merged and Issue is solved. Closing PR.. ",
    "psrcek": "I can't seem to reproduce this on my PC running arch. Builds just fine, like all of my projects with angularfire2.. ",
    "connor-odoherty": "Hmm, are there any Angular event cycle issues we could run into if we access the Firestore instance directly instead of in the context of Angular Firestore? I'm assuming not, but I'm still relatively fresh in my Angular knowledge\nEDIT: Also, big thanks to your team, you all have been super helpful and I appreciate the quick implementation . ",
    "mohitidol": "\ndb.list('people') will return an AngularFireList not an observable. Use the valueChanges() method instead.\nts\nthis.persons = db.list('/people').valueChanges();\n\nType 'Observable<{}[]>' is not assignable to type 'AngularFireList'.. ",
    "rdethurens": "Hi,\nI Found the error and the solution \nThe error was on minifyJS : because i use Reflection to automatically get the entitiesName class Injected in as the Collection Name\nangularFirestore.collection(entitiesName, ref => ref.where(\"IdUserCreator\", \"==\", Variables.UserLogged.IdUser));\nHere is the Consolg log on AngularFirestoreCollectionquery._query.memoizedCanonicalId\nDev : \"[MyClassName]|f:IdUserCreator==[MyIdUser],|ob:__name__asc,\"\nPROD: \"d|f:IdUserCreator==[MyIdUser],|ob:__name__asc,\"\nIn Fact my uglifyJs override to avoid Mangle on my Class Name doesn't work. I finally Correct it.\nThanks hiepxanh. ",
    "tfpereira": "I actually did ask for help there https://github.com/firebase/firebase-js-sdk/issues/497 and I was asked to request help here, since it could possibly be angularfire related.. ",
    "sarunint": "@firebase/app is automatically installed when you installed firebase. @dauledk You don't need to install the @firebase/* ones since they are declared as dependencies of firebase already.\nSee https://unpkg.com/firebase@4.12.0/package.json. That's because the fix in this PR has not been released yet.. @jamesdaniels But why this issue doesn't appear in rc7 but only rc8. The call signature is same. Or I am missing something?. What is the current workaround (for now)?. @ajonp \nimport {\n  AngularFireModule,\n  FirebaseOptionsToken,\n  FirebaseAppNameToken,\n  FirebaseAppConfigToken\n} from 'angularfire2';. @alsit remove AngularFireDatabase from providers array.\nAnd add these 2 object to the providers array.\n{ provide: FirebaseAppNameToken, useValue: '[DEFAULT]' },\n{ provide: FirebaseAppConfigToken, useValue: undefined }. @innovationven see https://github.com/angular/angularfire2/issues/1635#issuecomment-389568397. > Just cut rc.9, which fixes this issue. We've replaced FirebaseAppConfigToken and FirebaseAppNameToken with a new FirebaseNameOrConfigToken which takes a string | FirebaseAppConfig.\nPlease update to rc.9 or greater.. Note: currently, this PR is in all one big commit. But I'm happy to split it up later.. It seems the original code is correct already.\nhttps://firebase.google.com/docs/reference/js/firebase.auth.GoogleAuthProvider. Hmmmm, strange.. yarn add?. Should these be changed?. ",
    "Dorsaf95": "thnx u .. but the same problem when I change the type of key .. plz any suggestion of code to delete with key. ",
    "MrSparklle": "This maybe solve your problem:\nReplace this\nreturn this.profileObject.take(1);\nby this:\nreturn this.profileObject.valueChanges();. I get a similar error when trying to install Angularfire2 on a Ionic 3 project.\n`npm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/common@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/core@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/platform-browser@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/platform-browser-dynamic@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of rxjs@^6.0.0 but none is installed. You must install peer dependencies yourself.\nIonic 3 still using Angular 5.5 and it's not recommended to upgrade to 6 until Ionic 4 has ben relesed. Is it safe to use Angularfire2@5.0.0-rc.10 in a Ionic 3/Angular 5.5 project disposing this warnings?. ",
    "iNViTiON": "@jamesdaniels look like @firebase willing to support generic type for DataSnapshot. Should we wait for their decision before extend it by ourselve?. ",
    "jdjuan": "Nevermind, persisting the id might end up being a better approach for those who need the id often \ud83d\ude05. ",
    "matiishyn": "@davideast can you please write a quick example or send me a link how can I use the underlying reference?\nIt looks like I really need to use the Priority - setting and ordering by it.\nWill it be possible to do with angularfire2?. try to revert firebase package to 4.12.0 in your package.json:\n\"firebase\": \"4.12.0\",. ",
    "shainti": "I would continue the discussion about this..\nAfter copypaste, base example how to connect to database:\nthis.itemsCollection = af.collection<Item>('items');\nthis.items = this.itemsCollection.valueChanges();\nI have the same error:\n@firebase/firestore: Firestore (4.13.0): Could not reach Firestore backend.\nAnd can't find solution for it...  any one have any idea where is the problem?\n. ",
    "kroupa1985": "Angular CLI: 1.6.5\nNode: 8.9.4\nOS: win32 x64\nAngular: 5.2.2\n... animations, common, compiler, compiler-cli, core, forms\n... http, language-service, platform-browser\n... platform-browser-dynamic, router\n@angular/cli: 1.6.5\n@angular-devkit/build-optimizer: 0.0.42\n@angular-devkit/core: 0.0.29\n@angular-devkit/schematics: 0.0.52\n@ngtools/json-schema: 1.1.0\n@ngtools/webpack: 1.9.5\n@schematics/angular: 0.1.17\ntypescript: 2.5.3\nwebpack: 3.10.0\nfirebase Version:\nangularfire2: 5.6.0\nfirebase: 5.6.0. Thank you for your help. i managed to create a code hack/changed approach so i got it work.. ",
    "NELBNL": "try it like this: https://stackblitz.com/edit/angular-storage-experiment-rmcqn4\nedit: I just took a closer look at this with my IDE. It seems to make things worse ('then' shouldn't be used that way, and it defeats the purpose of the Percentage observable.). @expert26111  The screenshot that you've posted(https://user-images.githubusercontent.com/6114495/38134798-ffd941b2-3414-11e8-8cc8-723d7066c183.png) is not from the stackblitz i posted ( https://stackblitz.com/edit/angular-storage-experiment-rmcqn4 )\nIt should catch the error. However, I don't think you want to use it in that way.... hey @davideast you're right, it seems to be an issue with chrome -_-\nThank you, and keep up the good work \ud83d\udc4d . ",
    "expert26111": "Hi @NELBNL  thank you for your respond, I tried out the stackblitz you send me and uploaded a pdf. I still get an uncaught error for my Post request(403), and would really like to be able to catch that error as well. The picture below shows what I mean and to reproduce the conditions please use the stackblitz you send me.\nIs that possible?\n\n. Hi @NELBNL  I am sorry I posted wrong picture, this the actual picture after I used your stackblitz.\n\nAs you can see here  I still have uncaught error for my Post request(403). Please try to reproduce the error using your own stackblitz. Do you think it is possible to prevent it?\n. ",
    "rurziceanu": "Hi\nI see in npm version 5.0.0-rc.7.0-next published 4 days ago\nAfter upgrading to angular 6 rc and rxjs 6, and  angularfire 5.0.0-rc.7.0-next I still have the errors in angularfire related to use of old rxjs functions\nModule not found: Error: Can't resolve 'rxjs/add/operator/mergeMap'\nERROR in ./node_modules/angularfire2/database/list/changes.js\nDid I miss something? wasn't the next version supposed to be based on the new rxjs version? like angular 6 rc?\nI started the migration of my project to angular 6 rc but I'm stuck because of angularfire :(. Is there release date for the v6.next? because angular v6 is now at release candidate 5.. and no angularfire2 package since now for v6.. all other dependencies are up to date.. :( \nI have only angularfire2 to migrate. ",
    "robertbaker": "rxjs just release 6.0 stable. They included a migration script to avoid the compat-layer.. @kawamoto Do you mind if I take this over or are you working on the changes?. @davideast I would prefer to do Rx6 has 1 clean PR, I see risk mixing Rx5 and 6 together. One PR also allows a beta release for people to test. I'm happy to work on this and chat if needed. Let me know your thoughts.. @jamesdaniels @davideast I'm curious how this PR differs and why it's being favored. #1582 was rejected for being too big, but this PR has 37 files changed. I'm also disappointed in the lack of communication from the team. I'm happy I didn't spend the time working on the PR because I would have been upset to learn that a PR was being worked on by an org member and therefore would supercede any community effort. Regardless, thank you.. ",
    "larssin": "I use the rxjs@5.6.0-forward-compat.4 to run the angularfire2@5.0.0-rc.6.0 and angular@6.0.0-rc.5 together.\nSee the Rxjs upgrade guide: https://docs.google.com/document/d/12nlLt71VLKb-z3YaSGzUfx6mJbc34nsMXtByPUN35cg/preview. ",
    "ssrahul96": "update to RxJS 6 soon!. ",
    "rojasjandro89": "Any updates on this topic?? This renders AngularFire2 useless with the new version of angular. I can see it compiles just fine now. But it's giving me another error now. After I install the compat package I can't map or even subscribe to AngularFirestoreCollection.snapshotChanges() to get the document id:\n\nI get the following error in console:\n\nThis is my package.json:\n{\n  \"name\": \"support-portal\",\n  \"version\": \"0.0.0\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^6.0.0\",\n    \"@angular/common\": \"^6.0.0\",\n    \"@angular/compiler\": \"^6.0.0\",\n    \"@angular/core\": \"^6.0.0\",\n    \"@angular/forms\": \"^6.0.0\",\n    \"@angular/http\": \"^6.0.0\",\n    \"@angular/platform-browser\": \"^6.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^6.0.0\",\n    \"@angular/router\": \"^6.0.0\",\n    \"angularfire2\": \"^5.0.0-rc.7\",\n    \"core-js\": \"^2.5.4\",\n    \"firebase\": \"^5.0.1\",\n    \"rxjs\": \"^6.0.0\",\n    \"rxjs-compat\": \"^6.1.0\",\n    \"zone.js\": \"^0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^6.0.0\",\n    \"@angular-devkit/build-angular\": \"~0.6.0\",\n    \"typescript\": \"~2.7.2\",\n    \"@angular/cli\": \"~6.0.0\",\n    \"@angular/language-service\": \"^6.0.0\",\n    \"@types/jasmine\": \"~2.8.6\",\n    \"@types/jasminewd2\": \"~2.0.3\",\n    \"@types/node\": \"~8.9.4\",\n    \"codelyzer\": \"~4.2.1\",\n    \"jasmine-core\": \"~2.99.1\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~1.7.1\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"~1.4.2\",\n    \"karma-jasmine\": \"~1.1.1\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.3.0\",\n    \"ts-node\": \"~5.0.1\",\n    \"tslint\": \"~5.9.1\"\n  },\n  \"prettier\": {\n    \"printWidth\": 250\n  }\n}\nIs anybody else having this problem?. I have the exact same problem here. Something as simple as this won't work:\n\nI'm using angular 6, rxjs 6.0 (with rxjs-compat), firebase \"^5.0.1\" and angularfire2 \"^5.0.0-rc.7\"\nSo much trouble to get an Id huh??. Yeah, that's what I did. I downgraded the whole project. I hope they fix this soon.... ",
    "litchian18": "@jamesdaniels  Please look at @rojasjandro89  issue, I am facing the same issue, cant map to read firestore after update angular 6. \nAngularfire2@next doesnt fix.. ",
    "felcampos": "I've experienced the exact same thing, but with AngularFireStorage with a production build... When I pass it a class object and call uptade, nothing happens. But it works fine when using a development build.. ",
    "mcs4uweb": "service firebase.storage {\n  match /b/{bucket}/o {\n    match /{allPaths=**} {\n      allow read, write: if true;\n    }\n  }\n}. Hi, no issue, it was a solution not a ticket, there is alot of issues about\nfirebase storage not working and when I updated the security rules it\nworked.\nThx. Mike\nOn Tue, Apr 10, 2018 at 9:57 AM, David East notifications@github.com\nwrote:\n\nHi @mcs4uweb https://github.com/mcs4uweb I'm not sure what your issue\nis about. But yes, to write to your storage bucket you need to have the\nproper permissions.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1556#issuecomment-380173253,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ALLwRuushpBNweELCAWQbfw27E5vPFYpks5tnORigaJpZM4TOiXr\n.\n. \n",
    "4inn": "Hello James ..\nI understood the operation as you say .. although I do not understand what would be its usefulness ..\nI already made the query to Firebase and really still lacks development to be used in production.\nI will try to use firebase realtime database to see if with this I have better luck ..\nThank you. ",
    "loicmarie": "Thank you @jymdman I finally made it work with your solution. \nSo I actually missed that in the doc, but I am still surprised we can only find this sample code in the \"Deleting the entire list\" section. \nThe most anodin use of angular lists is to display it and access individual items. The only way to do this is by using something similar to:\nhtml\n<div *ngFor=\"let item of items\" (click)=\"doSomething(item.id)\">\n  ...\n</div>\nPersonally, I think your sample code should be in a dedicated section  and should be the first thing someone discovering AngularFire should see in the documentation.\nAnyway, thank you a lot, it really helped.. ",
    "jimfilippou": "typescript\nthis._db\n      .collection('collection')\n      .snapshotChanges()\n      .pipe(first())\n      .subscribe((res: DocumentChangeAction<any>[]) => {\n        res.forEach((result: DocumentChangeAction<any>) => {\n          const data = result.payload.doc.data();\n          this.extendedItems.push({\n              id: result.payload.doc.id,\n              data\n            })\n        });\n      });. ",
    "Spartanace1024": "Ah so it seems I actually don't need to add anything in order to achieve the behavior I want. \nYour saying if I just leave off  AngularFirestoreModule.enablePersistence() ios and Android will automatically still have persistence enabled, but the web won't. Is that correct?. I've confirmed via testing @anasbaddyr just in case anyone else finds there way to this thread.. ",
    "xkLander": "Hi Anas, thanks for trying to help but still it is not working :/ . Thanks for the help, will look into the configs now.. ",
    "fnhipster": "Hi @jamesdaniels, I've been needing to change to different databases into the same project. You mentioned RealtimeDatabaseURL injection token on the @next release. Could you elaborate a little bit more on that? Is there any documentation? Sample? Specific files to glance at?\nAny help is highly appreciated.. I found a workaround that works with current @5.0.0-rc.6.0. \nconstructor(private _rtdb: AngularFireDatabase) { }\n``\nconst dbRef = this._rtdb.database.app\n      .database(https://.firebaseio.com/`)\n      .ref('/');\nthis._rtdb.object(dbRef).valueChanges();\n```. @texano00, @florent1933 \nThe solution works but it does throw that typing error. \nYou could fix it by adding instance?: string to /node_modules/firebase/index.d.ts line 122\ndeclare namespace firebase.app {\n  interface App {\n    auth(): firebase.auth.Auth;\n    database(instance?: string): firebase.database.Database;\n    delete(): Promise<any>;\n    messaging(): firebase.messaging.Messaging;\n    name: string;\n    options: Object;\n    storage(url?: string): firebase.storage.Storage;\n    firestore(): firebase.firestore.Firestore;\n    functions(): firebase.functions.Functions;\n  }\n}\nThis is an issue with the firebase npm package. Please refer to this PR https://github.com/firebase/firebase-js-sdk/pull/1001. ",
    "JanOschii": "@swftvsn If @carlosacabrera code is running, I wouldn't call it a workaround.\nIt is the way I would like to use angularfire with multiple databases.\n@jamesdaniels Do you see any problem with this implementation?. ",
    "florent1933": "@texano00 , I have the same problem. Did you resolve this?\nDoes anyone had the same problem?. Thanks for your answer @carlosacabrera, it's very helpful. . ",
    "Tamango92": "Temporary fix: https://github.com/angular/angularfire2/issues/1571#issuecomment-383079493. This issue is related to latest firebase update https://github.com/firebase/firebase-js-sdk/commit/7c1aa4470c0f5474b11fe57ada4edff65ed90adc\nTemporary solution is to set version of firebase in your projects package.json to 4.12.1\n\"dependencies\": {\n     \"firebase\":\"4.12.1\",\n     \"angularfire2\":\"^5.0.0-rc.6\"\n}\n. It worked for me, but with \u2018npm cache clean\u2019 before installing. ",
    "iwasingh": "\"@angular/core\": \"5.0.3\",\n\"angularfire2\": \"^5.0.0-rc.6\",\n\"firebase\": \"^4.11.0\",\n\nSame here with Android 5.1.1. Just after successful login, it emits the first correct value, then all values are null. ",
    "NicolasERT": "I had the same problem, temporarily I solved it installing the version 4.8.2 of firebase\n\"firebase\": \"^4.8.2\". ",
    "muehan": "I have fix it with\n\"firebase\": \"^4.13.0\",. ",
    "zverbeta": "@Tamango92 Does it work for you? I trying your solution and it's doesn't working. I have installed \"@firebase/app\": \"^0.1.10\" and it's working. ",
    "MingyuJeon": "@Tamango92 actually I was using firebase 4.12.1. So it didn't work for me.\nBut I would solve this issue @zverbeta 's solution.\nThank you.\n1572 and I sent PR about this.. @madhu72\nI guess you need to change angular version.\nHere's my package.json.\nI also got the same issue, but after I downgraded angular version, it was solved.\n\"dependencies\": {\n    \"@angular/animations\": \"^5.2.9\",\n    \"@angular/cdk\": \"^5.2.4\",\n    \"@angular/common\": \"^5.2.0\",\n    \"@angular/compiler\": \"^5.2.0\",\n    \"@angular/core\": \"^5.2.0\",\n    \"@angular/flex-layout\": \"^5.0.0-beta.13\",\n    \"@angular/forms\": \"^5.2.0\",\n    \"@angular/http\": \"^5.2.0\",\n    \"@angular/material\": \"^5.2.4\",\n    \"@angular/platform-browser\": \"^5.2.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.2.0\",\n    \"@angular/router\": \"^5.2.0\",\n    \"angularfire2\": \"^5.0.0-rc.6.0\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.13.1\",\n    \"hammerjs\": \"^2.0.8\",\n    \"rxjs\": \"^5.5.6\",\n    \"zone.js\": \"^0.8.19\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"~1.7.1\",\n    \"@angular/compiler-cli\": \"^5.2.0\",\n    \"@angular/language-service\": \"^5.2.0\",\n    \"@types/jasmine\": \"~2.8.3\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.8.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"~2.5.3\"\n  }. Even though you change firebase.app.module.ts to this, the error could happen because ionic pro npm install automatically when it build an app. So, if the error occurs, you would need to downgrade to @firebase/app@0.1.10 in this situation. . ",
    "okeefem2": "I can confirm this worked for me as well. . ",
    "madhu72": "Compiling successfully but, getting issue with Google Authentication Provider\nERROR TypeError: Cannot read property 'GoogleAuthProvider' of undefined. @Patrick\nDo you able to sucessfully connect after these installations?\nThanks and Regards,\nVenkateswararao Thota\nOn Mon, Apr 23, 2018 at 11:51 PM, Patrick Opie notifications@github.com\nwrote:\n\nI fixed it by installing\n\"@firebase/app\": \"0.1.10\",\n\"@firebase/auth\": \"0.4.1\",\n\"@firebase/database\": \"0.2.1\",\n\"@firebase/firestore\": \"0.3.7\",\n\"@firebase/functions\": \"0.1.0\",\n\"@firebase/messaging\": \"0.2.3\",\n\"@firebase/polyfill\": \"0.3.0\",\n\"@firebase/storage\": \"0.1.8\",\n\nwhich seems kind of stupid... not sure why firebase isn't resolving these\ndependencies\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1571#issuecomment-383673936,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AJ2In0z-xjkqMZB1d8ahYkeqkBUWobvaks5trhvFgaJpZM4TdJnM\n.\n. \n",
    "Guhanganesan": "import { InjectionToken } from '@angular/core';\nimport { FirebaseAppConfig } from './';\nimport { FirebaseApp as FBApp } from '@firebase/app-types';\nimport { FirebaseAuth } from '@firebase/auth-types';\nimport { FirebaseDatabase } from '@firebase/database-types';\nimport { FirebaseMessaging } from '@firebase/messaging-types';\nimport { FirebaseStorage } from '@firebase/storage-types';\nimport { FirebaseFirestore } from '@firebase/firestore-types';\nexport declare const FirebaseAppConfigToken: InjectionToken;\nexport declare class FirebaseApp implements FirebaseApp { // FBApp to FirebaseApp\n    name: string;\n    options: {};\n    auth: () => FirebaseAuth;\n    database: () => FirebaseDatabase;\n    messaging: () => FirebaseMessaging;\n    storage: () => FirebaseStorage;\n    delete: () => Promise;\n    firestore: () => FirebaseFirestore;\n}\nexport declare function _firebaseAppFactory(config: FirebaseAppConfig, appName?: string): FirebaseApp;\n/// change in firebase.app.module.d.ts . ",
    "qorbani": "Simple 1-line patch for lazy people like \ud83d\ude0a\nsed -i.bak 's|^}$|    automaticDataCollectionEnabled: false;}|' node_modules/angularfire2/firebase.app.module.d.ts. ",
    "opiepj": "@Tamango92 Downgraded, but facing more issues\n1. npm cache clean\n2. \njson\n\"dependencies\": {\n     \"firebase\":\"4.12.1\",\n     \"angularfire2\":\"^5.0.0-rc.6\"\n}\nNow I'm asked to install all @firebase modules, for example:\n```\n[11:08:28]  typescript: node_modules/angularfire2/firestore/observable/fromRef.d.ts, line: 1 \n            Cannot find module '@firebase/firestore-types'. \n   L1:  import { DocumentReference, Query, QuerySnapshot, DocumentSnapshot } from '@firebase/firestore-types';\n   L2:  import { Observable } from 'rxjs/Observable';\n\n```. I fixed it by installing \njson\n    \"@firebase/app\": \"0.1.10\",\n    \"@firebase/auth\": \"0.4.1\",\n    \"@firebase/database\": \"0.2.1\",\n    \"@firebase/firestore\": \"0.3.7\",\n    \"@firebase/functions\": \"0.1.0\",\n    \"@firebase/messaging\": \"0.2.3\",\n    \"@firebase/polyfill\": \"0.3.0\",\n    \"@firebase/storage\": \"0.1.8\",\nwhich seems kind of stupid... not sure why firebase isn't resolving these dependencies. @cicode225 nice!. @estrellajm when would this get resolved?. ",
    "nguyentk90": "I have seen this change already merged so we need to wait for a new release of angularfire2 on npm.\nIn the mean time, just update @firebase/app\": \"0.1.10\". It works for me.. ",
    "arturasgusevas": "export declare class FirebaseApp implements FBApp {\nname: string;\noptions: {};\nautomaticDataCollectionEnabled: boolean; // this is the missing line\nauth: () => FirebaseAuth;\ndatabase: () => FirebaseDatabase;\nmessaging: () => FirebaseMessaging;\nstorage: () => FirebaseStorage;\ndelete: () => Promise;\nfirestore: () => FirebaseFirestore;}\nalso: npm i -S @firebase/app\nsource: https://stackoverflow.com/a/49968060/9692516. ",
    "cicode225": "Same issue solved as suggested above...\nAt first, I had : \n\"dependencies\": {\n     \"firebase\":\"^4.13.1\",\n     \"angularfire2\":\"^5.0.0-rc.6\"\n}\nThen after visiting here I did : \n\nnpm uninstall firebase\nnpm cache clean --force\nnpm install firebase@4.12.1\n\nAs a result, it all works well for me. I got : \n\"dependencies\": {\n     \"firebase\":\"^4.12.1\",\n     \"angularfire2\":\"^5.0.0-rc.6\"\n}. ",
    "junweipan": "It is worked for @cicode225 ,Thanks a lot\nSame issue solved as suggested above...\nAt first, I had :\n\"dependencies\": {\n     \"firebase\":\"^4.13.1\",\n     \"angularfire2\":\"^5.0.0-rc.6\"\n}\nThen after visiting here I did :\nnpm uninstall firebase\nnpm clean cache --force\nnpm install firebase@4.12.1\nAs a result, it all works well for me. I got :\n\"dependencies\": {\n     \"firebase\":\"^4.12.1\",\n     \"angularfire2\":\"^5.0.0-rc.6\"\n}. ",
    "yuehernkang": "@cicode225  thanks it work . ",
    "torresdaniel11": "@cicode225  Thank you!!! solved mi problem. ",
    "tecxperts": "@cicode225 works fine thanks.....but i had to use 'npm cache clean --force' :). ",
    "josephprasanth": "Thank you cicode225  .... This saved my work. Thank you cicode225  .... This saved my work. ",
    "wroobell94": "The problem still occurs in Angular CLI. \nI'm not using firebase/app.\nOnly angularfire2 and firebase to manage firestore calls. \nSame error.. ",
    "software770": "Is it realesed today ? How Do I fix it now ?. I have the same issue and the temporary fix didn't work for me. Sorry it's working, just put it in the config too and had to remove it from there:\nvar firebaseConfig = {\n    ...\n   timestampsInSnapshots: true\n};. ",
    "olivierlevy": "the error also says:\nProperty 'automaticDataCollectionEnabled' is missing in type 'FirebaseApp'.\nIt seems it's for GDPR\nBefore a fix, temporary adding this on line 19 solved the issue:\nts\nautomaticDataCollectionEnabled: boolean;\nAlso it's a duplicated issue:\nhttps://github.com/angular/angularfire2/issues/1571. the error also says:\nProperty 'automaticDataCollectionEnabled' is missing in type 'FirebaseApp'.\nIt seems it's for GDPR\nBefore a fix, temporary adding this on line 19 solved the issue:\nts\nautomaticDataCollectionEnabled: boolean;\nAlso it's a duplicated issue:\nhttps://github.com/angular/angularfire2/issues/1571. ",
    "helabenslimene": "ERROR in node_modules/angularfire2/firebase.app.module.d.ts(10,22): error TS2720: Class 'FirebaseApp' incorrectly implements class 'FirebaseApp'. Did you mean to extend 'FirebaseApp' and inherit its members as a subclass?\n  Property 'automaticDataCollectionEnabled' is missing in type 'FirebaseApp'.. ",
    "amittrehan44": "Add the line \"automaticDataCollectionEnabled: boolean;\" to the firebase.app.module.d.ts. \nThis worked for me \nhttps://stackoverflow.com/questions/49963223/property-automaticdatacollectionenabled-is-missing-in-type-firebaseapp. ",
    "codeRodriguez": "As said above add  the line \"automaticDataCollectionEnabled: boolean;\" \n to the node_modules\\angularfire2\\firebase.app.module.d.ts\n\nexport declare class FirebaseApp implements FBApp {\n    name: string;\n    automaticDataCollectionEnabled: boolean; // add this line\n    options: {};\n    auth: () => FirebaseAuth;\n    database: () => FirebaseDatabase;\n    messaging: () => FirebaseMessaging;\n    storage: () => FirebaseStorage;\n    delete: () => Promise;\n    firestore: () => FirebaseFirestore;\n}\n\nyou can see the fix commit here: https://github.com/angular/angularfire2/commit/f2cf1592e2bde10eef810b6d731c0b5aa97b4348\nit works as a temporary solution. ",
    "labTifo": "the same problem as @tgangso \n. ",
    "nathanfan46": "@tgangso \nI have the same issue here.\nPlease have more details of how is it working. I've checked FirebaseAppConfig interface\nand it seems not having \"timestampsInSnapshots\"\nexport interface FirebaseAppConfig {\n    apiKey?: string;\n    authDomain?: string;\n    databaseURL?: string;\n    storageBucket?: string;\n    messagingSenderId?: string;\n    projectId?: string;\n}\nI use the code below:\nAngularFireModule.initializeApp({...firebaseconfig, timestampsInSnapshots: true}),\nand it's not working. Please let me know how to add correct config to it. Thank you.\n. @egaviriarestrepo \nThank you, but my issue is that our app need to enable offline support.\nSo if I add \"AngularFirestoreModule.enablePersistence(),\"\nI will get this error:\nconsole.error: Unhandled Promise rejection: Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.\n`\n@NgModule( {\n  imports: [\n    ...,\n    AngularFireModule.initializeApp( environment.firebase, 'XXX' ),\n    AngularFirestoreModule.enablePersistence(),\n  ],\n  declarations: [\n    ...\n  ],\n  providers: [\n    ...\n  ]\n} )\nexport class CoreModule {\n  constructor( @Optional() @SkipSelf() parentModule: CoreModule,\n               private afs: AngularFirestore ) {\nconst settings = { timestampsInSnapshots: true };\nafs.app.firestore().settings( settings );\n\n...\n\n}\n}\n`. @egaviriarestrepo \nThank you, it works. \nImport AngularFirestoreModule instead of AngularFirestoreModule.enablePersistence() then it's working.\n. ",
    "egaviriarestrepo": "try something like this:\n```\n@NgModule( {\n  imports: [\n    ...,\n    AngularFireModule.initializeApp( environment.firebase, 'XXX' ),\n  ],\n  declarations: [\n    ...\n  ],\n  providers: [\n    ...\n  ]\n} )\nexport class CoreModule {\n  constructor( @Optional() @SkipSelf() parentModule: CoreModule,\n               private afs: AngularFirestore ) {\nconst settings = { timestampsInSnapshots: true };\nafs.app.firestore().settings( settings );\n\n...\n\n}\n}\n```\nif u need, use AppModule  instead of CoreModule. \ntry something like this:\n```\n@NgModule( {\n  imports: [\n    ...,\n    AngularFireModule.initializeApp( environment.firebase, 'XXX' ),\n  ],\n  declarations: [\n    ...\n  ],\n  providers: [\n    ...\n  ]\n} )\nexport class CoreModule {\n  constructor( @Optional() @SkipSelf() parentModule: CoreModule,\n               private afs: AngularFirestore ) {\nconst settings = { timestampsInSnapshots: true };\nafs.app.firestore().settings( settings );\n\n...\n\n}\n}\n```\nif u need, use AppModule  instead of CoreModule. you can try, but i dont know if it work :\nafs.app.firestore().settings( settings );\n    afs.app.firestore().enablePersistence();\nand comment:\nAngularFirestoreModule.enablePersistence()\n. you can try, but i dont know if it work :\nafs.app.firestore().settings( settings );\n    afs.app.firestore().enablePersistence();\nand comment:\nAngularFirestoreModule.enablePersistence()\n. ",
    "ziftytodd": "This solution isn't working for me.  I've modified my app.module.ts to look like this:\n```\nimport { AngularFirestoreModule, AngularFirestore } from 'angularfire2/firestore';\n...\n  imports: [\n    ...,\n    AngularFireModule.initializeApp(environment.firebase, 'test-app'),\n    AngularFirestoreModule\n  ]\n...\nexport class AppModule {\n  constructor( @Optional() @SkipSelf() parentModule: AppModule,\n                 private afs: AngularFirestore ) {\n  const settings = { timestampsInSnapshots: true };\n  afs.app.firestore().settings( settings );\n}\n\n}\n```\nBut I get the error error TS2339: Property 'app' does not exist on type 'AngularFirestore'.. ",
    "pshields": "@ziftytodd Try afs.firestore.settings({timestampsInSnapshots: true});, that's what worked for me when I got that error.. I was able to work around this by caching the .valueChanges() results in a ReplaySubject in my service and just subscribing/unsubscribing from that in my various service methods. I'll go ahead and close this since I'm not planning to create a repro of the initial issue anymore.. ",
    "SaHeinem": "Just \nimport { AngularFirestoreModule, AngularFirestore } from 'angularfire2/firestore';\nin your app.module\nthen also in your app.module\nexport class AppModule {\n   constructor(private afs: AngularFirestore) {\n    afs.firestore.settings({\n      timestampsInSnapshots: true,\n    });\n    afs.firestore.enablePersistence();\n  }\n }\nAnd we are fine since the dependency injector will always inject the configured instance\nthanks for all the suggestions. This one is working for me\n(Angular 6). ",
    "suvedhaGanapathy": "Thank you so much @SaHeinem , worked well for me!!!. ",
    "josejaner": "and if I have  active AngularFireAuthModule\nimports: [\n...\n     AngularFireModule.initializeApp(firebaseConfig),\n    // AngularFirestoreModule.enablePersistence(),\n     AngularFireAuthModule,\n...\n],\n. I have the same problem using: \n+ \"angularfire2\": 5.0.0-rc.9\n+ firebase@5.0.3\n+ ionic-angular\": 3.9.2\nWhat was the last stable configuration?\nafter updating, I tried to recover it and I could not\n. ",
    "pdela": "export class AppModule {\n   constructor(private afs: AngularFirestore) {\n    afs.firestore.settings({\n      timestampsInSnapshots: true,\n    });\n    afs.firestore.enablePersistence();\n  }\n }\nDoesn't work for me with angularfire@5.0.0-rc.7.\nI get:\n\"ERROR Error: Uncaught (in promise): FirebaseError: [code=failed-precondition]: Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object\"\nThe same rearranging to enable persistence before applying settings: \"Firestore already started, and settings cannot be changed anymore...\"\nI'm in a loop and cannot update to >rc.7 due to other dependencies in project not yet updated to use firebase >5.0.0\nAny help?\n. ",
    "estrellajm": "Looks like they're working on the resolving this with #1572. \nAdd the line \"automaticDataCollectionEnabled: boolean;\" to the firebase.app.module.d.ts. ensure you have \"@firebase/app\" as well\nGot the solution from Elizabeth. Thanks a question for @jamesdaniels  James Can you help?\nIt looks like it's been merged. #1572.. Thanks James\nJose\nOn Apr 23, 2018, at 8:35 PM, James Daniels notifications@github.com wrote:\nSorry been out of office, will cut a release tomorrow.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. ",
    "manimani1014": "@jamesdaniels \nWe are waiting for your update(release).. ",
    "JoseASolis": "This new version of AngularFire (v5) does include a Messaging Module? I had the same issue that the OP, but then I installed @angular/app and then i got another error : \"ERROR TypeError: firebase.messaging is not a function\". This new version of AngularFire (v5) does include a Messaging Module? I had the same issue that the OP, but then I installed @angular/app and then i got another error : \"ERROR TypeError: firebase.messaging is not a function\". ",
    "uloga": "ERR: Property 'automaticDataCollectionEnabled' is missing in type 'FirebaseApp'.\njust add \"automaticDataCollectionEnabled: boolean;\"  to FirebaseApp interface in file: firebase.app.module.d.ts  located in your firebase node_modules\nautomaticDataCollectionEnabled: boolean;\nexport declare class FirebaseApp implements FBApp {\n    automaticDataCollectionEnabled: boolean; // add this line\n    name: string;\n    options: {};\n    auth: () => FirebaseAuth;\n    database: () => FirebaseDatabase;\n    messaging: () => FirebaseMessaging;\n    storage: () => FirebaseStorage;\n    delete: () => Promise<any>;\n    firestore: () => FirebaseFirestore;\n} . ",
    "jmarbutt": "It seems this is not fixed in the release. Any ideas of when it will be fixed?. ",
    "b-mi": "After adding automaticDataCollectionEnabled: boolean;\nthese errors:\nERROR in ./node_modules/angularfire2/database/database.module.js\nModule not found: Error: Can't resolve '@firebase/database' in 'C:\\Users\\aaa\\node_modules\\angularfire2\\database'\nERROR in ./node_modules/angularfire2/firestore/firestore.module.js\nModule not found: Error: Can't resolve '@firebase/firestore' in 'C:\\Users\\aaa\\node_modules\\angularfire2\\firestore'\n.... but helped deleting firebase folders from node_modules and npm install. ",
    "gfaganli": "\nnpm uninstall firebase\nnpm clean cache --force\nnpm install firebase@4.12.1\nThat one solves problem without manually editing node-modules.. what is the alternative way for sending notifications in safari? can we use APNs with FCM ? or other solutions that not related to FCM. so what is the last decision? which versions of angularfire and firebase  solves problem? or how to import firebase? still i got the error \n    \"firebase\": \"^5.0.4\",\n    \"angularfire2\": \"^5.0.0-rc.11\",\n    \"@angular/compiler\": \"^5.0.0\",\n\nTypeError: Cannot read property 'filter' of undefined at firebaseAppFactory. still not working, now error switched to that one --  : \n Error: The XMLHttpRequest compatibility library was not found.\ni followed @philip-firstorder  but again not working\n// Required for Firebase\n(global as any).WebSocket = require('ws');\n(global as any).XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\nafter all - \nError: Unable to Instantiate Firebase Messaing ReferenceError: self is not defined\np.s ng serve works fine, SSR not working . ",
    "renansigolo": "As the fix as already been committed at f2cf159 is there any date scheduled for a proper release of a new version?. Try to replace it for\nimport { firebase } from '@firebase/app'\nimport '@firebase/auth'\nI'm assuming that you're trying to load the auth module, if not, you might wanna try these...\nimport '@firebase/auth' - Firebase Authentication.\nimport '@firebase/firestore' - The Cloud Firestore Database.\nimport '@firebase/firestorage' - Firebase Storage.\nAlternatively, you can also try to import it all...\nimport * as firebase from 'firebase';\nAlthough it's not recommended to import everything at once.\n. Even though you're able to import the lib as a whole with import * as firebase from 'firebase';  it's recommended to only import the module that you will address.\nNormally I create a service for each kind of module and at this service I will handle everything related to it.\nSo for example, you can create an auth service and import the module with import '@firebase/auth' then when you need to handle any sort of authentication you'll be using the service instead of importing firebase again.. The downloadUrl method has been deprecated in favor of the new .getDownloadURL()\n```\nexport class AppComponent {\n  uploadPercent: Observable;\n  downloadURL: Observable;\n  constructor(private storage: AngularFireStorage) {}\n  uploadFile(event) {\n    const file = event.target.files[0];\n    const filePath = 'name-your-file-path-here';\n    const fileRef = this.storage.ref(filePath) // Add this line to get the path as a ref\n    const task = this.storage.upload(filePath, file);\n// observe percentage changes\nthis.uploadPercent = task.percentageChanges();\n// get notified when the download URL is available\nthis.downloadURL = fileRef.getDownloadURL() // And this one to actually grab the URL from the Ref\n\n}\n}\n```\nAlso you might wanna subscribe to the function to extract the url given that it's returning you an Observable...\nfileRef.getDownloadURL().subscribe(ref => {\n            console.log('REF', ref)\n            this.downloadURL = ref\n    })\n. I'd updated the example with a more thorough description of this change, moreover, I've noticed that the type of the Observable changed to getDownloadURL(): Observable<any>,  instead of  getDownloadURL(): Observable<string>, thus I've matched the new declaration at the docs. storage ref - line 7. Even though I've added Jeff's example, on my tests I was only able to retrieve the url by actually subscribing to the Observable that receives the data from the getDownloadURL() function inside the finalize method.\nThere's an example \n```\nimport { finalize } from 'rxjs/operators';\n// ...\ntask\n   .snapshotChanges()\n     .pipe(\n        finalize(() => {\n           this.downloadURL = storageRef.getDownloadURL()\n           this.downloadURL.subscribe(ref => {\n           this.update(this.user, ref)\n           })\n        })\n     )\n.subscribe()\n```. ",
    "talbronfer": "Can you please close this PR so we can solve the problem? It's really a small fix and would really help. Thanks.. ",
    "andregomars": "Please fix it asap. ",
    "shanehsu": "We're having problem with the example in authentication where\ntypescript\nimport * as firebase from 'firebase'\nis using 4.13.1 and AngularFire2 is using another app of 4.11.0.\nDoes AngularFire work as a firebase replacement? Or does it load a version of firebase on its own?. ",
    "pabloxn": "I think that its the promise part (.then) that's causing the problem.. ",
    "jsdevtom": "@davideast Please update the documentation appropriately. You would not be faced with so many issues like this! For others who come here due to this issue: this worked for me: firebase@4.13.1, angularfire2 5.0.0-rc.6.0. In auth.service.ts: \nimport { User, AuthProvider } from '@firebase/auth-types'\nimport { AngularFireAuth } from 'angularfire2/auth'\nimport { firebase } from '@firebase/app'. ",
    "kawamoto": "Hi @davideast. thank you for respond. I basically agree with your suggestion. but with this topic, I think it's hard to split PR simply. without whole of those changes, even building does not work. maybe it's better to update latest RxJS 5.x and migrate operators first. after that, I guess updating process looks more simple. wdyt?. Hi @robertbaker , I'm happy with someone solve this \ud83d\udc4d I guess I can not take time for this PR in this week.. ",
    "juanpablodelatorre": "Is there any new information about this? Can we expect this to be working any time soon?. ",
    "oshri": "Thanks @matiishyn . ",
    "paulstelzer": "For me RC7 is not working. He says: \"Uncaught Error: Zone already loaded.\" using Angular 5.2.10 and Ionic Angular 3.9.2. After downgrading to RC6 everything is working. I cannot provide any further details because I need to check it first, what fails. Maybe another user can take a look, too. Changing the import did not work for me. I had to remove the complete line to make my application work again (using Ionic). See #1607 - Everything else is okay in angularfire2 with firebase@5.0.1\nYou also using Angular 6, please take a look at #1602. @JancoBH Take a look at my PR  #1607 - docChanges is now a method, that's causing the error what i fixed in that PR. @JancoBH at the moment you have to manually change it in node_modules because angularfire2 does not have this change yet. As @hiepxanh said after angularfire2 releases a new version, you can update to the latest version. @jamesdaniels Updated the firebase and firebase/firestore version in package.json to latest, but travis still could not complete - so I think I have to remove my PR. @jymdman Thanks for providing the new way to init the firebase config. @sarunint As @jymdman wrote:\nSolution is to drop .initializeApp(...) and use providers like this:\n@NgModule({\n  declarations: [AppComponent, LoginComponent],\n  entryComponents: [],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    FormsModule,\n    RouterModule.forRoot(APP_ROUTES),\n    SharedModule,\n    AngularFireModule,\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    AngularFireStorageModule,\n    HomeModule,\n    ArtiklarModule,\n    MaskinerModule,\n    StallbladModule,\n    DialogsModule\n  ],\n  providers: [\n    { provide: FirebaseOptionsToken, useValue: environment.firebase }\n  ],\n  exports: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {}\n. @ajonp @fergalmoran at the providers, just use \n{ provide: FirebaseOptionsToken, useValue: environment.firebase }\nwhere ' environment.firebase' is the path to your firebase config!\nIf you need a AppNameToken or AppConfigToken, you can use the following (replace undefined (default) with the token you want to use)\n{ provide: FirebaseAppNameToken, useValue: undefined },\n        { provide: FirebaseAppConfigToken, useValue: undefined }. Update to the latest version of angularfire2, there this issue is fixed. ",
    "tayambamwanza": "@byrondover That change fixed everything for me, I'll use it until another official fix is developed. Thank you so much you saved me a lot of hours \ud83e\udd23 \ud83d\udc90 !. I experienced the same issue after running ng update @angular/core, which prevented the operation from running successfully :\n\n. @chunkingz hopefully this will work for you.\nthis.businessCollection = this.fb.collection('businesses');\nthis.businesses = this.businessCollection.snapshotChanges();\nthis.business.pipe(\n  map(changes => {\n    const data = changes.payload.data();\n    const id = changes.payload.id;\n    return { id, ...data };\n  })\n).subscribe(changes => {\n  console.log(changes.id);\n});. @chunkingz Hi, did you solve your problem yet? I wrote a function that handles all this for me, would you be able to repost this problem/question to stackoverflow? Then leave a link here that I can follow. I'll post the full modified service there, it should work for you then. Also what version of angularfire2 are you using?\n. @chunkingz Great I'll be on standby.. @Steven4294 I'm going to post an updated answer soon, I simplified my service to something more general, I'll let you know when it's up :). @Steven4294 what does the .get() method do, I haven't seen that before \ud83e\udd14. This is just an update to my last answer as well  (@Steven4294 can you check this for me?) :\n```\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore, AngularFirestoreCollection } from '@angular/fire/firestore';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nthis.businessCollection = this.fb.collection('businesses');\nthis.businesses = this.businessCollection.snapshotChanges();\nthis.businesses.pipe(\nmap(changes => {\n          return changes.map(change => {\n            const data = change.payload.doc.data();\n            const id = change.payload.doc.id;\n            return { id, ...data };\n        });\n      }\n   )).subscribe(changes => {\n         console.log(changes[0].id);\n});\n```. @Steven4294 Yes that's what I was going for \ud83d\ude02, anyways thanks for coming back to this old issue, glad you're problem got sorted as well.. ",
    "retepmahnob": "Did you actually resolve this problem. (I appear to be having the same issue). Thanks for the update, have done the same thing.. ",
    "Methy659": "I did not, I ended up going back to an earlier stage where it worked, and started looking for other solutions :). ",
    "eleventhaus": "@Methy659 what was the most recent combination of angularfire2 and firebase that worked for you?. ",
    "lapachuka": "+\n. ",
    "mrpatel15": "in angular 6.0\nnode_modules/rxjs/BehaviorSubject.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/BehaviorSubject'.\nnode_modules/rxjs/Observable.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Observable'.\nnode_modules/rxjs/Observer.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Observer'.\nnode_modules/rxjs/Operator.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Operator'.\nnode_modules/rxjs/ReplaySubject.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/ReplaySubject'.\nnode_modules/rxjs/Subject.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Subject'.\nnode_modules/rxjs/Subscription.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Subscription'.\nsrc/app/fa/fa.component.ts(8,10): error TS2305: Module '\"/Users/aaaaa/workspace/fs-tool/fs/fs-app/node_modules/rxjs/Ob\nservable\"' has no exported member 'Observable'.. ",
    "miaupip": "It looks like rxjs-compat is missing. Use npm i rxjs-compat to install the missing rxjs-compat.. ",
    "jcarlin": "@miaupip thank you, that worked.. ",
    "sharma2910": "@miaupip thanks that worked for me too. ",
    "ayotycoon": "worked for me too. ",
    "EmmaNendza": "Awesome.  Works great.  Lost without that piece of advice.  Thanks. ",
    "hasithlakshan": "thanks lot  @miaupip that is work\n. ",
    "glemiere": "npm tried to mess with me but @miaupip solution worked for me using yarn.. ",
    "vitor9": "@miaupip Thanks! The error is gone.. ",
    "skoope": "Thank you very much @miaupip !. Thank you very much @miaupip !. ",
    "Qaizer": "Angular Update instructions specified removing rxjs-compat.. ",
    "stephengardner": "If you're reading this, adding rxjs-compat is not the \"correct\" way to solve a compatibility issue.  That being said, it might be the only way.  Your bundle size will now increase. . ",
    "maddy027": "npm i rxjs-compat worked . Thank you @miaupip . ",
    "ganapathi004": "The issue is gone when changed the import to import { Observable } from 'rxjs';. ",
    "amf0154": "\nThe issue is gone when changed the import to import { Observable } from 'rxjs';\n\nThx). ",
    "EfosaSO": "The above methods didn't work for me. \nImporting from import { ObservableInput } from 'rxjs/Observable'; worked for me.. ",
    "bluebaroncanada": "I'm getting a straight error with ng serve\nERROR in node_modules/angularfire2/angularfire2.d.ts(3,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Subscription\"' has no exported member 'Subscription'.\nnode_modules/angularfire2/auth/auth.d.ts(3,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/angularfire2/database/interfaces.d.ts(2,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/angularfire2/database/list/audit-trail.d.ts(2,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/angularfire2/database/list/changes.d.ts(1,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/angularfire2/database/list/snapshot-changes.d.ts(1,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/angularfire2/database/list/state-changes.d.ts(2,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/angularfire2/database/observable/fromRef.d.ts(2,10): error TS2305: Module '\"/projects/blog/node_modules/rxjs/Observable\"' has no exported member 'Observable'.\nnode_modules/rxjs/Observable.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Observable'.\nnode_modules/rxjs/Subscription.d.ts(1,15): error TS2307: Cannot find module 'rxjs-compat/Subscription'.\n. @vincent-cm You're a gentleman and a scholar.  Thanks.. ",
    "lewiswashere": "@vincent-cm after trying & serving I'm getting:\n```\nERROR in node_modules/angularfire2/firebase.app.module.d.ts(10,22): error TS2720: Class 'FirebaseApp' incorrectly implements class 'FirebaseApp'. Did you mean to extend 'FirebaseApp' and inherit its members as a subclass?\n  Property 'automaticDataCollectionEnabled' is missing in type 'FirebaseApp'.\ni \uff62wdm\uff63: Failed to compile.\n```. @BrandonCravener thanks!. ",
    "BrandonCravener": "@lewiswashere RC7 has a fix for that issue. #1574\nRC7 Install Command\nyarn add angularfire2@5.0.0-rc.7\nor\nnpm install --save angularfire2@5.0.0-rc.7. @Sun3 If you are upgrading from a verison prior to 5.0.0 checkout the 5.0 upgrade guide.. ",
    "ElecTreeFrying": "I honestly dont know about peer dep warnings your talking about @davideast until now \ud83d\ude01 I always take per ders seriously.\nI have the same issue as @bluebaroncanada and @Sun3 \nnpm install rxjs@6 rxjs-compat@6 --save replied by @vincent-cm resolved my issue. can now use ng/m2/cdk v6 along with af2. Ill close the issue.. @byrondover they're still using rxjs-compat with @angular/fire. ",
    "cedvdb": "Is the package gonna be updated to not need rxjs-compat ?. Is the package gonna be updated to not need rxjs-compat ?. ",
    "danielandresm": "npm install rxjs@6 rxjs-compat@6 --save me sirvio . ",
    "byronglendon": "Has this been updated yet?\n. ",
    "felipecaparelli": "\nI get a similar error when trying to install Angularfire2 on a Ionic 3 project.\n`npm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/common@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/core@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/platform-browser@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of @angular/platform-browser-dynamic@^6.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN angularfire2@5.0.0-rc.10 requires a peer of rxjs@^6.0.0 but none is installed. You must install peer dependencies yourself.\nIonic 3 still using Angular 5.5 and it's not recommended to upgrade to 6 until Ionic 4 has ben relesed. Is it safe to use Angularfire2@5.0.0-rc.10 in a Ionic 3/Angular 5.5 project disposing this warnings?\n\nI have the same warnings as well... ionic v3 / Angular 5.0.3 ... I'm trying to install angular/fire v 5.1.1. > ionic 4 already release. I'm using ionic 4 with lastest firebase and angularfire2. everything is working. Try remove your node_modules.\nHi @hiepxanh, thanks for for your reply, but I can't update the ionic version of this app right now. Can you suggest any version of the firebase and angularfire2 libraries that are directly compatible with the ionic v3?. ",
    "fjoalland": "Hello,\nI have exactly the same issue than you. I think it's because of the version of angularfire2 but not sure, I will try something and if it works I will tell you.. Change this version in your package.json\n\"angularfire2\": \"^5.0.0-rc.4\",\n    \"firebase\": \"^4.6.2\",. Hello @hiepxanh ,\nThank you for your answer! I followed your instruction but it's still failed. But we progressed, now when I push the button \"sign in with Google\", il will launch a browser on my application and Google will return an error \"disallowed_useragent\".\nSecondly, I have a question about this instruction: https://firebase.google.com/docs/auth/web/cordova\nI add a new Dynamic Link, but I don't really know which configuration they need. Because I have to write an URL in the configuration of my dynamic link.. ",
    "ngocongcan": "Still happens \ud83d\udc4e . ",
    "bacarybruno": "+1. ",
    "Celtiore": "thanks you @JiaLiPassion \nwait and see now :). @JiaLiPassion , i try to modify nodes_modules/angularfire2/angularfire2.js and nodes_modules/angularifre2.d.ts in my project, but i have same error ?. Ok, i try later,\nthanks you @JiaLiPassion. thanks you so much, can't wait later to try :) :) :)\nworking fine\nrepo updated : \nhttps://github.com/Celtiore/test-angularfire2\nCan we close this issue ?. thanks you @JiaLiPassion @jamesdaniels \nhttps://github.com/angular/angularfire2/pull/1599/files/aefedc2af5026e00b6344ff3d9249ecf7dbf6c7b. hi,\n@nirav4273 \nif you want firebase 4.13.1 angularfire2 5.0.0-rc.7 : \ncheck here : \nhttps://github.com/angular/angularfire2/issues/1597\nif you want firebase 4.13.1 angularfire2 5.0.0-rc-6 : \ncheck here : \nhttps://github.com/angular/angularfire2/pull/1572. git clone https://github.com/angular/angularfire2.git\ninside /angularfire2\nnpm i\nnpm run build\nreplace /yourproject/node_modules/angularfire2/ with angularfire2/dist/packages-dist/\n. angularfire2 @next rc8 :+1 \nfirestore.d.ts : \nconstructor(options: FirebaseOptions, config: FirebaseAppConfig, name: string, shouldEnablePersistence: boolean, settings: Settings, platformId: Object, zone: NgZone);\nwhy 7 arguments ?. ",
    "Nilesh-TA": "Hi @JiaLiPassion \nI am facing same issue \"Zone already loaded\". Can you please help me.\nSee below info \nVersion info\nAngular:\n\"@angular/common\": \"5.2.10\"\nFirebase:\n\"firebase\": \"^5.0.1\"\nAngularFire:\n\"angularfire2\": \"^5.0.0-rc.7\"\nOther (e.g. Ionic/Cordova, Node, browser, operating system):\n\"ionic-angular\": \"3.9.2\"\nDebug output\nError: Zone already loaded.\n    at http://localhost:8100/build/vendor.js:117673:15\n    at http://localhost:8100/build/vendor.js:118285:3\n    at FUNCTION (http://localhost:8100/build/vendor.js:117650:10)\n    at Object. (http://localhost:8100/build/vendor.js:117653:2)\n    at Object. (http://localhost:8100/build/vendor.js:120703:30)\n    at webpack_require (http://localhost:8100/build/vendor.js:55:30)\n    at Object.defineProperty.value (http://localhost:8100/build/vendor.js:69158:66)\n    at webpack_require (http://localhost:8100/build/vendor.js:55:30)\n    at Object. (http://localhost:8100/build/vendor.js:117168:72)\n    at webpack_require (http://localhost:8100/build/vendor.js:55:30). Thanks @JiaLiPassion. \nI will try this.\n. ",
    "nikjeni": "@JiaLiPassion \nStill it is not working. Even i have the same version as @Nilesh-TA  mentioned in his comment. But still it is giving same error \"zone already loaded\".\nPlease help me to resolve this. @JiaLiPassion  well done. i fixed it with zip which you uploaded.\nThank you. ",
    "Arlette-Liliane": "i hav same problem, \ni fixed with :  npm update angularfire2\nNew version in package.json : \"angularfire2\": \"^5.0.0-rc.5-next\". i hav same problem, \ni fixed with :  npm update angularfire2\nNew version in package.json : \"angularfire2\": \"^5.0.0-rc.5-next\". ",
    "rahuljograna": "This is the problem of new firebase update, here is a solution for this error\n Step: 1 Install the lower version of firebase using this command\nnpm install angularfire2@5.0.0-rc.4\n Step: 2\nnpm install\nTry.. ",
    "takahser": "Didn't work for me!\nI tried the following constellations:\n\n\"firebase\": \"4.13.1\" and \"angularfire2\": \"5.0.0-rc.5-next\"\n\"angularfire2\": \"5.0.0-rc.11\" and \"firebase\": \"^5.0.2\"\n\"angularfire2\": \"5.0.0-rc.11\" and \"firebase\": \"5.3.1\"\n\nI'm using Angular 6.\nAny suggestions?. @jamesdaniels thanks for the info. Did they replace it with something else or can't we use this functionality anymore?. @jamesdaniels thanks for your advice, this is actually what I tried however, in my case I'm uploading a file and I'd like to get the download url as soon as the file is uploaded. Even if I wait with requesting the file after it was uploaded (I tried wait for the AngularFireStorage.upload to be fulfilled), we have race conditions, since at this time the firebase storage service won't necessarily have processed the new image and therefore I get a 404. The only way I was able to make it work in a \"reliable\" way was by using setTimeout which is obviously very ugly... Is there a better way to do this?. ",
    "DanyalKhawaja": "Solution to zone issue:\nhttp://olengski.com/subpages/angular5/angular5.html. ",
    "LRonHubs": "This zip did not work for me or fix it. ",
    "gbarrionuevo": "@hiepxanh hi, those steps are not working for me on android > 7.0 but it does on android's higher , onAuthStatechanged is never being fired after redirect and like you suggested\nafAuth.authState.subscribe(user => {\n            this.user = user;\n        });\n    }\nis null. ",
    "lcnvdl": "I tried but didn't work. When I click on \"login\" button, the app freezes.\nAlso, I couldn't install the browsertab plugin, it said that is deprecated.\ncordova plugin add cordova-plugin-browsertab\nAnyone else are having this throubles?. ",
    "chrisunderdown": "@h2u Did you find a solution with Android 7+ ? I'm having issues getting universal-links working on Android.\n. ",
    "h2u": "\n@h2u Did you find a solution with Android 7+ ? I'm having issues getting universal-links working on Android.\n\nI moved to solution with signInAndRetrieveDataWithCredential method and native google and facebook libs. It's the best way you can do it imho.. Im on v4 and imports are as you say.\n. I thought @ionic-native/core is ionic version and it's 4.12.2, and there is no package @ionic/angular, only ionic-angular and the latest version is 4.0.0-alpha.0 not 4.0.0-beta. You sure that i need to update ionic-angular?. Okay, everything works now. I did not installed @ionic/angular. Downgraded @ionic-native/google-plus to 4.12.2 and it's working now. Thank you.\nBut the main issues still exists.. ",
    "cagline": "I fixed this issue by installing rxjs-compat\nnpm install --save rxjs-compat \n\nupdate.angular.io\nAccording to this rxjs-compat can be removed after all of your dependencies have updated to RxJS 6.\n\nany way here is my package.json\n\"angularfire2\": \"^5.0.0-rc.7\",\n\"firebase\": \"^4.13.1\",\n\"rxjs\": \"^6.1.0\",\n\"rxjs-compat\": \"^6.1.0\",\n```\n{\n  \"name\": \"findmyproperty\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"build\": \"ng build --prod\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"6.0.0\",\n    \"@angular/cdk\": \"^6.0.0\",\n    \"@angular/common\": \"6.0.0\",\n    \"@angular/compiler\": \"6.0.0\",\n    \"@angular/core\": \"6.0.0\",\n    \"@angular/forms\": \"6.0.0\",\n    \"@angular/http\": \"6.0.0\",\n    \"@angular/material\": \"^6.0.0\",\n    \"@angular/platform-browser\": \"6.0.0\",\n    \"@angular/platform-browser-dynamic\": \"6.0.0\",\n    \"@angular/router\": \"6.0.0\",\n    \"angularfire2\": \"^5.0.0-rc.7\",\n    \"core-js\": \"^2.4.1\",\n    \"firebase\": \"^4.13.1\",\n    \"rxjs\": \"^6.1.0\",\n    \"rxjs-compat\": \"^6.1.0\",\n    \"zone.js\": \"^0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"6.0.0\",\n    \"@angular/compiler-cli\": \"6.0.0\",\n    \"@angular/language-service\": \"6.0.0\",\n    \"@types/jasmine\": \"~2.8.3\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.8.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"2.7.2\",\n    \"@angular-devkit/build-angular\": \"~0.6.0\"\n  }\n}\n``. [update.angular.io](https://update.angular.io/)\nAccording to thisrxjs-compatcan be removed after all of your dependencies have updated to RxJS 6.\nfor now i think you can make an update in angularfire2 to includesrxjs-compat`\n\n. same here. ",
    "SebastianPodgajny": "rxjs-compat is not meant to be used in libraries.... ",
    "FouomaOscar": "That is my code example fine https://github.com/FouomaOscar/firebase-authentication-with-angular-6. It's works fine. ",
    "cvandyke1217": "I suffer from this issue as well.  Looks like the last working version before issues within Ionic projects is angularfire2 5.0.0-rc4\nReverting to rc5 no longer appears to work, as npm tells me that version no longer exists (could just be me though).\nCordova: 7.1.0\nIonic: 3.20.0\nPackage.json Dependencies: \n  \"@angular/animations\": \"5.2.10\",\n    \"@angular/common\": \"5.2.10\",\n    \"@angular/compiler\": \"5.2.10\",\n    \"@angular/compiler-cli\": \"5.2.10\",\n    \"@angular/core\": \"5.2.10\",\n    \"@angular/forms\": \"5.2.10\",\n    \"@angular/http\": \"5.2.10\",\n    \"@angular/platform-browser\": \"5.2.10\",\n    \"@angular/platform-browser-dynamic\": \"5.2.10\",\n    \"@ionic-native/core\": \"4.7.0\",\n    \"@ionic-native/splash-screen\": \"4.7.0\",\n    \"@ionic-native/status-bar\": \"4.7.0\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"angularfire2\": \"^5.0.0-rc.4\",\n    \"firebase\": \"^4.13.1\",\n    \"ionic-angular\": \"3.9.2\",\n    \"ionicons\": \"3.0.0\",\n    \"rxjs\": \"5.5.10\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.26\"\nGenerating a new ionic project will requires specifying the RC4 build until this is fixed.\n. ",
    "AndresBillini": "\"dependencies\": {\n    \"@angular/animations\": \"5.2.10\",\n    \"@angular/common\": \"5.2.10\",\n    \"@angular/compiler\": \"5.2.10\",\n    \"@angular/compiler-cli\": \"5.2.10\",\n    \"@angular/core\": \"5.2.10\",\n    \"@angular/forms\": \"5.2.10\",\n    \"@angular/http\": \"5.2.10\",\n    \"@angular/platform-browser\": \"5.2.10\",\n    \"@angular/platform-browser-dynamic\": \"5.2.10\",\n    \"@firebase/app\": \"^0.3.0\",\n    \"@ionic-native/core\": \"4.7.0\",\n    \"@ionic-native/splash-screen\": \"4.7.0\",\n    \"@ionic-native/status-bar\": \"4.7.0\",\n    \"@ionic/pro\": \"1.0.20\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"angularfire2\": \"^5.0.0-rc.7\",\n    \"firebase\": \"^4.13.1\",\n    \"ionic-angular\": \"3.9.2\",\n    \"ionicons\": \"3.0.0\",\n    \"promise-polyfill\": \"^7.1.2\",\n    \"rxjs\": \"5.5.10\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"^0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@ionic/app-scripts\": \"3.1.9\",\n    \"typescript\": \"~2.6.2\"\n  },\nand \nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { AngularFireModule } from 'angularfire2';\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(firebaseConfig)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\nit shows me this error \nError\nClose\nRuntime Error\nZone already loaded.\nStack\nError: Zone already loaded.\n    at http://localhost:8100/build/vendor.js:123676:15\n    at http://localhost:8100/build/vendor.js:124288:3\n    at FUNCTION (http://localhost:8100/build/vendor.js:123653:10)\n    at Object. (http://localhost:8100/build/vendor.js:123656:2)\n    at Object. (http://localhost:8100/build/vendor.js:126706:30)\n    at webpack_require (http://localhost:8100/build/vendor.js:55:30)\n    at Object. (http://localhost:8100/build/vendor.js:76554:66)\n    at webpack_require (http://localhost:8100/build/vendor.js:55:30)\n    at Object. (http://localhost:8100/build/vendor.js:123174:72)\n    at webpack_require (http://localhost:8100/build/vendor.js:55:30). ",
    "ahmed-eg": "The jamesdaniels solution didn't work with me, any suggestions what might be the problem?\nI'm getting error \nTypeError: Cannot read property 'GeoPoint' of undefined\nI'm using:\n \"angularfire2\": \"^5.0.0-rc.8.0\",\n \"firebase\": \"^5.0.2\",. ",
    "inorganik": "You are correct, GeoPint is not implemented. \ud83c\udf7b. ",
    "manunoly": "I use this to make the GeoPoint work\nimport { firestore } from 'firebase';\nlet point = new firestore.GeoPoint(32.5522, 34.556656);\n. ",
    "JancoBH": "I get changes.forEach is not a function error with Firebase 5.0.0 or 5.0.1, with 4.13.0 there is not problem.. @paulstelzer thanks, im new with Git, I have to change it manually in my node_modules folder? or how can I implement it? I just saw the change in the firebase js release note. I'm still getting the TypeError: Cannot read property 'filter' of undefined error @jamesdaniels :(. Is there any news? :(. I have the same question of @danwulff . ",
    "adheegm": "fixed by this https://github.com/firebase/firebase-js-sdk/issues/787. ",
    "ChargerIIC": "The build succeeds locally when I try it. Could this be a false positive from Travis CI?. @paulstelzer Looks like you updated the package.json but not the package-lock.json file. Seems silly, but the Travis CI script insists on having both updated.. ",
    "lakerko": "Is this available now please? And could you maybe show an example of how to use it? Thank you.. ",
    "uamithril": "Same issue. ",
    "angoloservicios": "I have the same issue.\nI had to reinstall angularfire2 5.0.0-rc.6.0  firebase 4.12.1. ",
    "hajiskyy": "thanks . ",
    "ericjohns": "Same here!! After running ng serve I get the error \"ERROR in No NgModule metadata found for 'AppModule'.\"\nIf I edit one of my .ts files and save I then get \"ERROR in src/app/core/auth.service.ts(65,35): error TS2339: Property 'auth' does not exist on type 'typeof \"C:/project/node_modules/firebase/app/index\". ",
    "andre-gois": "Same here. ",
    "gate3": "Haven't tested Firefox but yes I get this error in chrome\nOn Fri, May 11, 2018, 9:09 PM Ian Christner notifications@github.com\nwrote:\n\nAre you getting this error on Chrome? Personally, I only get this error on\nchrome and my production application retrieves data properly on Firefox.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1614#issuecomment-388472761,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADbkfWYw05hTN9xB72wJBryI42Woxt1dks5txe_ggaJpZM4T6UtH\n.\n. \n",
    "trojek": "Did you try npm install --save rxjs-compat? . Hi James,\nAs you can see in my package.json I use rxjs-compact, but I also use rxjs. Could it be a problem? \nMy problem occurs in this file:\n```\nimport { Injectable } from '@angular/core';\nimport { AngularFireAuth } from 'angularfire2/auth';\nimport * as firebase from 'firebase/app';\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\nconstructor(public afAuth: AngularFireAuth) { }\nlogin() {\n    this.afAuth.auth.signInWithPopup(new firebase.auth.GoogleAuthProvider());\n  }\n  logout() {\n    this.afAuth.auth.signOut();\n  }\n}\n```\nAnd It is related to the third line. . ",
    "GaryB432": "Can the status of angular and rxjs 6 be clarified please?. ",
    "maguro": "Wow, this mega change gets pushed out in a release candidate?!?!  . ",
    "alsit": "I have already tried removing the platform, deleting the node_modules and the plugins, and I still have the same problem.\nFor this reason, I consulted with you.\nBelow I leave the output of the ng v command that executes it in the project directory.\nng v\nAngular CLI: 1.6.1\nNode: 8.11.0\nOS: darwin x64\nAngular: 5.2.9\n... animations, common, compiler, compiler-cli, core, forms\n... http, platform-browser, platform-browser-dynamic\n@angular-devkit/build-optimizer: 0.0.35\ntypescript: 2.6.2\nwebpack: 3.8.1\n. Configuration app.module.ts\nimport {BrowserModule} from '@ angular / platform-browser';\nimport {ErrorHandler, NgModule} from '@ angular / core';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {SplashScreen} from '@ ionic-native / splash-screen';\nimport {StatusBar} from '@ ionic-native / status-bar';\nimport {MyApp} from './app.component';\nimport {HomePage} from '../pages/home/home';\nimport {AdMobFree} from '@ ionic-native / admob-free';\nimport {AngularFireModule} from 'angularfire2';\nimport {AngularFireDatabaseModule, AngularFireDatabase} from 'angularfire2 / database';\nimport {AngularFireAuthModule} from 'angularfire2 / auth';\nexport const firebaseConfig = {\n  apiKey: \"xxxxxxxx\",\n  authDomain: \"xxxxxxxx\",\n  databaseURL: \"xxxxxxxx\",\n  projectId: \"xxxxxxx\",\n  storageBucket: \"xxxxxx\",\n  messagingSenderId: \"xxxxx\"\n};\n@NgModule ({\n  declarations: [\n    MyApp,\n    Homepage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot (MyApp),\n    AngularFireModule.initializeApp (firebaseConfig),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    Homepage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    AdMobFree,\n    AngularFireDatabase,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\nWhen in the imports I add AngularFireDatabaseModule and in the providers AngularFireDatabase is when the command is blocked\nionic cordova build android --prod --release. To me in Ionic 3 I have that problem as I configure the buildOptimizer.?. The truth is all very confusing and it is not clear.\nWhat was previously used was AngularFireModule.initializeApp and the firebase config file firebaseConfig was kept as indicated by the documentation now where it should be used.\nAnd the modules AngularFireDatabaseModule, AngularFireDatabase that are used to access the base are configured or not, because that is what I can not understand yet.\nBecause in a new project only with angularfire2 and adding in the app.module AngularFireDatabaseModule, AngularFireDatabase the command ionic cordova build android --prod --release is still stuck.\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n// import { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport {\n  AngularFireModule,\n  FirebaseOptionsToken,\n  FirebaseAppNameToken,\n  FirebaseAppConfigToken\n} from 'angularfire2';\nexport const firebaseConfig = {\n  apiKey: \"AIzaSyC_t5XQmq4O81BOEIPKqRBXAsEcOoXZJmQ\",\n  authDomain: \"pencaonline.firebaseapp.com\",\n  databaseURL: \"https://pencaonline.firebaseio.com\",\n  projectId: \"pencaonline\",\n  storageBucket: \"pencaonline.appspot.com\",\n  messagingSenderId: \"698016836224\"\n};\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule,\n    AngularFireAuthModule,\n    AngularFireDatabaseModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    AngularFireDatabase,\n    { provide: FirebaseOptionsToken, useValue: firebaseConfig },\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n. ",
    "guibas741": "@alsit did you get it fixed? I'm facing the same problem, tried upgrading, downgrading but nothing seems to work. ",
    "willxd42": "Please where's the git link to so I look into the codes. fixed\nurl\nuploadFile(event) {\n    const file = event.target.files[0];\n    const filePath = 'name-your-file-path-here';\n    const task = this.storage.upload(filePath, file).then(() => {\n         const ref = this.storage.ref(filePath);\n         const downloadURL = ref.getDownloadURL().subscribe(url => { \n         const Url = url; // for ts\n         this.url = url // with this you can use it in the html\n         console.log(Url);\n     })\n  }\n. Awesome! your solutions are always unique thanks @codediodeio . ",
    "brijmcq": "I'm having this error too.\nMy temporary fix ( not recommended ) for now is to make aot and buildOptimizer to false in angular.json . ",
    "tuneis": "It works for me when I add just the main provider instead of all of them.\n{ provide: FirebaseOptionsToken, useValue: environment.firebase },. ",
    "sherinali": "thanks. ",
    "juanlet": "Could you describe the solution? I'm having trouble with that line for --aot option....Which are the steps to replace     AngularFireModule.initializeApp(environment.firebase) statement? since it's the line is breaking the build\n. I fixed the issue but i had to put angularfire2 initialization in providers array, otherwise it was not fixed....I have the last version. Yo missread my question. This does not require any code display. The listener is being called if user logs in or out. But if I link or unlink a provider like facebook or twitter the listener doesn't receive the new state, hence the data is not being broadcasted if a user links or unlinks a provider( all of this being logged in)..... Thanks! Can you give a code example of how could I get notified with that user object when the user links or unlinks a provider? Is that object supossed to work as an observable?. ",
    "innovationven": "I can`t solve the problem, please i need help :\nionic 3.20.0\ncordova 8.0.0\n\"firebase\": \"^5.2.0-0\",\n \"angularfire2\": \"^5.0.0-rc.8.1-next\",\n  \"promise-polyfill\": \"^8.0.0\",\nimport { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n//I deleted the firebase data for post here, but this data is setup good in my code\nexport const firebaseConfig = {\n  apiKey: \"\",\n  authDomain: \"\",\n  databaseURL: \"\",\n  projectId: \"\",\n  storageBucket: \"\",\n  messagingSenderId: \"\"\n};\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { CallNumber } from '@ionic-native/call-number';\nimport { HttpClientModule } from '@angular/common/http';\nimport { OneSignal } from '@ionic-native/onesignal';\nimport { UsuarioSesionService } from '../providers/usuario-sesion';\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    TabsPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\nAngularFireModule.initializeApp(firebaseConfig),\nAngularFireDatabaseModule,\nAngularFireAuthModule,\n\nHttpClientModule,\n\n],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    TabsPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    AngularFireDatabase,\nUsuarioSesionService,\nInAppBrowser,\n\nCallNumber,\nOneSignal,\nInAppBrowser,\n\n{provide: ErrorHandler, useClass: IonicErrorHandler}\n\n]\n})\nexport class AppModule {}\n. I did see that comment but the problem is the same, i don`t know what to do. ",
    "therepo90": "{ provide: FirebaseOptionsToken, useValue: environment.firebase } fixed my issue. ",
    "kamisamabingo": "from \nimport * as firebase from 'firebase/app';\nto \nimport * as firebase from 'firebase';\nthe issue is ok \nthx. ",
    "rjcoupe": "Same happening here, identical versions of Angular, Angularfire2 and Firebase.. ",
    "SergioV85": "I have the same issue with latest versions of @firebase/* and @firebase/app-types\nPackage.json\n\"dependencies\": {\n    \"@angular/animations\": \"~6.0.1\",\n    \"@angular/cdk\": \"~6.0.1\",\n    \"@angular/common\": \"~6.0.1\",\n    \"@angular/compiler\": \"~6.0.1\",\n    \"@angular/core\": \"~6.0.1\",\n    \"@angular/forms\": \"~6.0.1\",\n    \"@angular/http\": \"~6.0.1\",\n    \"@angular/platform-browser\": \"~6.0.1\",\n    \"@angular/platform-browser-dynamic\": \"~6.0.1\",\n    \"@angular/platform-server\": \"~6.0.1\",\n    \"@angular/router\": \"~6.0.1\",\n    \"@ngrx/core\": \"^1.2.0\",\n    \"@ngrx/effects\": \"~5.2.0\",\n    \"@ngrx/store\": \"~5.2.0\",\n    \"@ngrx/store-devtools\": \"~5.2.0\",\n    \"@nguniversal/module-map-ngfactory-loader\": \"~6.0.0\",\n    \"angularfire2\": \"^5.0.0-rc.8.1-next\",\n    \"bootstrap\": \"~4.1.0\",\n    \"cookie-parser\": \"^1.4.3\",\n    \"core-js\": \"^2.5.1\",\n    \"firebase\": \"~5.0.2\",\n    \"font-awesome\": \"^4.7.0\",\n    \"moment\": \"^2.22.1\",\n    \"ng4-social-login\": \"^1.3.5\",\n    \"ngx-bootstrap\": \"^2.0.1\",\n    \"ngx-chips\": \"^1.9.2\",\n    \"ramda\": \"^0.25.0\",\n    \"rxjs\": \"~6.1.0\",\n    \"rxjs-compat\": \"^6.1.0\",\n    \"ts-loader\": \"^3.1.1\",\n    \"xhr2\": \"^0.1.4\",\n    \"zone.js\": \"^0.8.18\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"~6.0.1\",\n    \"@angular/compiler-cli\": \"~6.0.1\",\n    \"@angular/language-service\": \"~6.0.1\",\n    \"@firebase/app-types\": \"^0.3.1\",\n    \"@types/jasmine\": \"~2.8.3\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~8.0.53\",\n    \"@types/ramda\": \"0.25.20\",\n    \"codelyzer\": \"~4.3.0\",\n    \"jasmine-core\": \"~2.8.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-cli\": \"~1.0.1\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"~2.7.2\",\n    \"webpack-bundle-analyzer\": \"^2.9.0\",\n    \"@angular-devkit/build-angular\": \"~0.6.1\"\n  }. ",
    "pacoita": "@SergioV85 a new release has been published (5.0.0-rc.8.0). \nBy updating to this version, instead of using 5.0.0-rc.8.1-next, I fixed the error in my solution, therefore I would suggest you to give it a try.\nNow I have only a warning:\n83:36-54 \"export 'firestore' (imported as 'firebase') was not found in 'firebase/app'\nBut it will be easier to fix.\nThanks @jamesdaniels!. ",
    "Lx": "The table in the updated docs still references getDownloadURL as an available method on AngularFireUploadTask, which doesn't seem to be the case.. ",
    "herkulano": "I have a similar problem with ng serve\nAt build time:\nWARNING in ./src/app/auth/services/auth.service.ts\n25:47-54 \"export 'auth' (imported as 'fb') was not found in 'firebase/app'\nAt runtime:\nERROR TypeError: Cannot read property 'GoogleAuthProvider' of undefined\nCode:\nnew fb.auth.GoogleAuthProvider(). The issue was in firebase import\nThis solves it: https://github.com/firebase/firebase-js-sdk/issues/820. @jamesdaniels could you clarify which dependencies are needed beyond npm install firebase angularfire2 --save because following the instructions here https://github.com/angular/angularfire2#install and importing like it's described here https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md doesn't work.\nStackBlitz with the issue:\nhttps://stackblitz.com/edit/angular-firebase-import-issue?file=app/app.component.ts\nError in const provider = new firebase.auth.GoogleAuthProvider():\nProperty 'auth' does not exist on type 'FirebaseNamespace'.. This might be related: https://github.com/firebase/firebase-js-sdk/issues/818. ",
    "xlxAciDxlx": "So I'm assuming I should modify the AngularFire line that's erroring then? None of the errors pertain to my code.\nImports: (app.module.ts)\njs\n...\nimport { AngularFireModule, FirebaseAppConfig } from 'angularfire2';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\nimport { AngularFireStorageModule } from 'angularfire2/storage';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\n...\nFirebase Initialization: (app.module.ts)\njs\n...\n        AngularFireModule.initializeApp(FirebaseConfig),\n        AngularFireAuthModule,\n        AngularFireStorageModule,\n        AngularFirestoreModule\n...\nImports: (services.service.ts)\njs\n...\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from 'angularfire2/firestore';\n...\nUsage: (services.service.ts)\n```js\n...\n    servicesCollection: AngularFirestoreCollection;\n    services: Observable;\n    itemDoc: AngularFirestoreDocument;\nconstructor(private afs: AngularFirestore) {\n    this.servicesCollection = this.afs.collection('services', ref => ref.orderBy('title', 'asc'));\n\n    this.services = this.servicesCollection.snapshotChanges().map(changes => {\n        return changes.map(a => {\n            const data = a.payload.doc.data() as Service;\n            data.id = a.payload.doc.id;\n            return data;\n        });\n    });\n}\n\n...\n```\n\nUnless some of that is incorrect, I can't see what I can change to fix the error.. > I'm also having the same problem. Any solution?\nPhew, glad I'm not the only one. I followed numerous tutorials and they all led to the same result, this error. I manually tried @jamesdaniels proposed PR, but to no avail. \nSo at least from my side, I've not been able to find a solution, unfortunately. :/. \"dependencies\": {\n        \"angular\": \"^1.7.0\",\n        \"angularfire2\": \"^5.0.0-rc.8.0\",\n        \"firebase\": \"^5.0.2\",\n    },. So would I just use those in package.json, or in my actual component/service as well? If so, could you type up a quick example for me? Or even point me to documentation would work as well.. The same result, unfortunately.\npackage.json:\njson\n    \"dependencies\": {\n        \"@firebase/app\": \"^0.3.1\",\n        \"@firebase/app-types\": \"^0.3.1\",\n        \"@firebase/auth\": \"^0.5.2\",\n        \"@firebase/auth-types\": \"^0.3.2\",\n        \"@firebase/firestore\": \"^0.5.2\",\n        \"@firebase/firestore-types\": \"^0.4.1\",\n        \"@firebase/storage\": \"^0.2.2\",\n        \"@firebase/storage-types\": \"^0.2.2\",\n        \"angular\": \"^1.7.0\",\n        \"angularfire2\": \"^5.0.0-rc.8.0\",\n...\n        \"firebase\": \"^5.0.2\",\n...\n    },\n\nI'll try clearing my node_modules directory and running npm i again.. Tried clearing out my node_modules directory, running npm i again, and still got the same result.. Thanks @JamesKnippel - I'll give that a shot now!. ",
    "ruandeveloper": "I'm also having the same problem. Any solution?. ",
    "JamesKnippel": "Hey y'all, I had a similar, if not exact problem throughout my updating journey today. \nNotable error: \nWARNING in ./src/app/core/auth.service.ts\n35:27-40 \"export 'auth' (imported as 'firebase') was not found in 'firebase/app'\nIt took me a little bit, but I went all in to fix this experimenting with the link @herkulano provided.\n\nIf you're updating to the newest angularfire2, make sure to update your angular to 6.0 as well as rxjs5 to rxjs6. \n\nYou can find instructions at: https://update.angular.io/ (I updated from 5.2 to 6.0.1)\n\n\nI followed the instructions at update.angular.io with some additional tweaks to rxjs to fix errors at compile time.  \n\nI refactored .map(code) into .pipe(map(code))\n\nand refactored any return Observable.of(code) into their new separate functions return of(code) \n-https://www.academind.com/learn/javascript/rxjs-6-what-changed/ great link to explain all the changes to rxjs which will affect angularfire and firebase updating. \n\n\nThen I refactored my import statement to utilize the new @firebase style.\n\n\nbefore: import * as firebase from 'firebase/app';\n\nafter: import firebase from '@firebase/app'; \n\nNow it works without error!\n. ",
    "realgsong": "@renansigolo I'm also having this warning. To apply  your comment, I had to install @ firebase/app, @firebase/auth which was dependencies of \"firebase\". I have doubt that this is right approach. Is there any related issues you know with importing from firebase/app?. ",
    "avb100": "@jamesdaniels After a long time working my way through dependency hell, I determined that the Angular CLI and ng update --all was not doing what I imagined it was doing. Thanks for the tip!. ",
    "JavierFuentes": "I've solved this issue in my new 6.0.3 Angular CLI project with:\n$ npm install --save firebase@latest            # 5.0.3 \n$ npm install --save angularfire2@latest     # 5.0.0-rc.9. ",
    "inhaq": "I'm getting same error with identical code in Angular 6 with angularfire2 5.0.0-rc.9 @davideast  @jamesdaniels \nThere is some problem in this code, I'm doing the same as did in this example.. Yes right, working fine with firebase latest version. I was on v4 of firebase. Thanks @jamesdaniels . ",
    "notmikenot": "Same error with the last version \"5.0.0-rc.9\".\nThis is my code:\nngOnInit() {\n    var x = this.itemService.getAds();\n    x.snapshotChanges().subscribe(item => {\n      this.itemList = [];\n      item.forEach(element => {\n        var y = element.payload.toJSON();\n        y[\"$key\"] = element.key;\n        this.itemList.push(y as Ad);\n      });\n    });\n  }\n. ",
    "ammarthayani": "I am having the same issues yet I'm on the latest versions of Angular, Firebase, Firestore, and angularfire. Please help. ",
    "JustinMyers": "I signed it!\nOn Tue, May 15, 2018 at 4:22 PM, googlebot notifications@github.com wrote:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project (if not, look below for help).\nBefore we can look at your pull request, you'll need to sign a Contributor\nLicense Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I\nsigned it!) and we'll verify it.\n\nWhat to do if you already signed the CLA Individual signers\n\nIt's possible we don't have your GitHub username or you're using a\n   different email address on your commit. Check your existing CLA data\n   https://cla.developers.google.com/clas and verify that your email is\n   set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are\n   authorized to participate. Ask your POC to be added to the group of\n   authorized contributors. If you don't know who your Point of Contact is,\n   direct the Google project maintainer to go/cla#troubleshoot (Public\n   version https://opensource.google.com/docs/cla/#troubleshoot).\nThe email used to register you as an authorized contributor must be\n   the email used for the Git commit. Check your existing CLA data\n   https://cla.developers.google.com/clas and verify that your email is\n   set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\nThe email used to register you as an authorized contributor must\n   also be attached to your GitHub account\n   https://github.com/settings/emails.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/1656#issuecomment-389345266,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAAu6KStyRb6qrOzQSiZnYpcebMPmTShks5ty2M6gaJpZM4UAa1W\n.\n. \n",
    "canhazn": "thank's\n. thank's\n. ",
    "macbem": "The issue is already being discussed in #1635.. ",
    "jbgomez21": "Hi @jamesdaniels \nI solved the problem.\nfirst I tried to use: \nimport { firebase } from '@firebase/app';\nas @davideast suggested here #1518, but all typed are unknown, e.g:\nfirebase.firestore.FieldValue -->  cannot find firebase\nthen I imported all type necessary from  '@firebase/firestore-types'; and my source code compile again but when I ran I get \"Cannot find module @firebase/firestore-types\"\nusingimport { firebase } from 'firebase/app'; without @ solved my problem.\nRegards\n. I close the issue. Yes, it works\nI have a ionic 3 app (android and iOS) and offline access data works great\nGreetings. ",
    "akashjadhav1221": "I am facing the same issue.\ntypescript: ../node_modules/geofirex/dist/interfaces.d.ts, line: 1\nCannot find module '@firebase/firestore-types'.. I am facing the same issue.\ntypescript: ../node_modules/geofirex/dist/interfaces.d.ts, line: 1\nCannot find module '@firebase/firestore-types'.. ",
    "bnayak0225": "https://github.com/bnayak0225/Biswajit-Note-Ionic-Firebase-angularfire2-5.0.0-rc-9 Here is my working project for IONIC and Angularfire2 5.0.0 rc-9. ",
    "rahulshrm2109": "I'm also getting same after updating to rc.9 also.. ",
    "hgchrre": "Same here after updating to rc.9\nI also happen to use Ionic v3. ",
    "diego-lipinski-de-castro": "Same here. rc8 is broke, r7 gives zone already loaded error, the only solution is go to rc4, because  zone already loaded error happens until de rc7. reference https://github.com/angular/zone.js/issues/1081. Yeah, solved this issue, the problem now is with rxjs =>  Cannot find module \"rxjs-compat/Observable\". I needed to install rxjs-compat, after that I updated all packaged and it's working. ",
    "Nox04": "@jamesdaniels Yes. \nnpm install rxjs@6 rxjs-compat@6 --save\nIt solved the issue.\n. ",
    "vandres": "Will it be possible to use this library also without rxjs-compat?. ",
    "OliveIT": "Thank you, Nox04.. ",
    "jhonnathanH": "thx Nox04 u save me. ",
    "wilfried01": "I got a similar error with AngularFirestore. . @Iccopinger I'm sorry but I didn't. I'm also waiting for the answer.. ",
    "lcoppinger": "@wilfried01 how did you solve it?. I tried that but I still get the error:\nTypeError: Cannot read property 'database' of undefined at new AngularFireDatabase\nIts as though my firebase config is not being initialised on the server, but it works fine locally.. I tried that but I still get the error:\nTypeError: Cannot read property 'database' of undefined at new AngularFireDatabase\nIts as though my firebase config is not being initialised on the server, but it works fine locally.. ",
    "salmoro": "Rolling back to the following versions solved it for me:\n\"angularfire2\": \"5.0.0-rc.6\",\n\"firebase\": \"4.10.1\",. Had the same experience and this was quite jarring as you develop without --prod and all works well but then you go to build for prod (in my case a huge chunk of code) and it hangs with no clues of what the issue might be.\nFor me the issue turned out to be the mere fact that I was importing the firebase package in my app (e.g. import {firestore} from 'firebase'). The moment I've removed that import everything worked (including Auth and Firestore).\nI've tried rolling-back several versions on both the firebase and @angular/fire packages but none of that helped.\nSo for now, as an alternative for the only function I need from the firebase package which is Timstamp.fromMillis() I'm using the native new Date() but I'm sure this won't be a long term solution as I can see myself quickly needing other utility functions from the firebase package.. @jtpdev the solution I used won't do it for you?. @jtpdev that actually wasn't my solution. Read above.. @jtpdev\nRemove import * as firebase from 'firebase/app';\nThough IDK that your app can manage without it.. Remove all imports from firebase (including { User, auth, etc. })\nIf that doesn't work then you'll have to wait for some help from the angularfire2 folks or someone else. Hopefully the info we've provided above can help guild them to finding the source of this bug and fixing it.. ",
    "vinacmg": "I've done as @jamesdaniels said, but still getting the error. Rolling back as @salmoro recommended worked here.. ",
    "dmytro-grankin": "@jamesdaniels I'm still experiencing the issue using \"@angular/fire\": \"5.1.0\" and \"firebase\": \"5.5.8\". But, the downgrade to \"angularfire2\": \"5.0.0-rc.6\" is a real trouble since the module structure is different. I also tried to use \"angularfire2\": \"5.1.1\", but the database() method was not resolved either. The version of Angular is 7.0.0.\nIs there another workaround, except the downgrade to the \"angularfire2\": \"5.0.0-rc.6\"?. For now, I ended up with the following workaround:\n```js\nclass Foo {\nconstructor(\n    private database: AngularFireDatabase\n    private _firebaseApp: FirebaseApp\n) {\n    // Redefine the problem method.\n    this.firebaseApp.database = () => database.database;\n}\n\n}\n```. ",
    "jaswanth1998": "Thank you so much . no\nOn Fri, Jun 22, 2018 at 1:35 PM hiepxanh notifications@github.com wrote:\n\ndo you still have that problem ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1718#issuecomment-399358671,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYrxbIi1SIvV_YErdD5FnY5RRjoUrv_xks5t_KVfgaJpZM4UhV58\n.\n. \n",
    "rafareyes7": "5.0.0-rc.10 requires angular 6. What if I have angular 5? @jamesdaniels . ",
    "levarberry": "For me, it was to make sure that your Project wasn't included in a folder that had a parent node_modules folder.  . ",
    "RemusGrigorescu": "It's already taken by AngularFire, the Firebase wrapper for AngularJS. Also chaning the name would cause dependency problems.. ",
    "sulco": "Hey @codediodeio , I think it would be great to start even (or: especially) with having ng add angularfire2 command available that would \n- install the module\n- prepare configuration object to be filled\n- and setup the module\nIf you're opened to it, I would gladly help with this one (I've already prepared analogous part on other projects). Great, I'm on it then - should have a PR within the next couple of days.. Thanks @Chan4077, I've made the requested changes.. Hi @davideast! Yeah, I've seen that \ud83d\ude33Well, waiting is hard but actually leaving things undone is much worse, so full support to the plan. Let's wait for that landing and pick it up from there.. I can update this over the weekend so it doesn't break travis, and take a look if it still works after all these months, but other than that it's out of my hands. \nIt just needs that review, I'll probably just bug the maintainers more for it.. ",
    "sis0k0": "Heya, @sulco any updates on this? I can help if you have any problems :). ",
    "williamJmelton": "@sulco I'm also willing to help out with this if needed.. ",
    "StreamsYT": "I expected that but in my version: angularfire2@5.0.0-rc.9 its not existing. I also checked the interface definition in node_modules. There is no method existing. Is it maybe missing in the rc version?\nReinstall of npm was also not working.\nmy code:\n```\nimport { AngularFireAuth } from 'angularfire2/auth';\nconstructor(private firebaseAuth: AngularFireAuth) {\nthis.firebaseAuth.auth.//here missing method\n}\n```. ",
    "IsaacSomething": "Worked for me, needed to update firebase to 4.13.1. ",
    "agil-NUBBA": "Had your same problem, my whole Angular app broken due to this.\n```typescript\nimport { Injectable } from '@angular/core';\nimport * as firebase from 'firebase/app'\nimport 'firebase/messaging';\nimport { BehaviorSubject } from 'rxjs';\nimport { ApiService } from './api.service';\nimport { AppApiResponse } from '../interfaces/interfaces'\nimport { environment } from 'environments/environment';\n@Injectable()\nexport class MessagingService {\npublic messaging;\n  public messages = new BehaviorSubject(null);\nprivate permission: boolean = false;\nconstructor(private api: ApiService) {\n    try {\n      this.messaging = firebase.messaging();\n    } catch (e) {\n      console.log('Unable to Instantiate Firebase Messaing', e);\n    }\n  }\npublic init() {\nthis.getPermission();\n\ntry {\n  this.messaging.onMessage((payload) => {\n\n    if (!environment.production) console.log('PUSH: ', payload);\n\n    // [...]\n  });\n} catch (e) {\n  console.log('Unable to Listen PUSH Messages', e);\n}\n\n}\n// [...]\nprivate getPermission() {\n    try {\n      this.messaging.requestPermission()\n      .then(() => {\n        this.permission = true;\n        return this.messaging.getToken();\n      })\n      .then(token => this.updateToken(token))\n      .catch((err) => console.log('Unable to get permission to notify.', err));\n    } catch (e) {\n      console.log('Unable to Request PUSH Permission', e);\n    }\n  }\n}\n```\nin my case, in safari, the key line was:\ntypescript\nthis.messaging = firebase.messaging();\nMS Edge prints the error, but surprisingly doesn't stop the app.. ",
    "aminalali8": "Any update on this ? . ",
    "suparnavg": "@jamesdaniels is there an official \"angularfire2\" way to catch the Safari error or is @agil-NUBBA 's answer the only way of doing this? Asking because that answer necessitates importing the entire firebase library which is not recommended in a production environment.... Facing the same error when subscribing in a component.\nUsing \"firebase\": \"5.4.2\",\nEdit: tried the @cmer4 workaround with no luck. @chegola i managed to get it working with this..\nthis.afMessaging.messaging.subscribe(messaging => {\n        messaging.onTokenRefresh = messaging.onTokenRefresh.bind(messaging);\n        messaging.onMessage = messaging.onMessage.bind(messaging);\n..\n..\n..\n        this.afMessaging.messages\n                   .subscribe(message => {. ",
    "tranvicuongit": "\nHad your same problem, my whole Angular app broken due to this.\n```ts\nimport { Injectable } from '@angular/core';\nimport * as firebase from 'firebase/app'\nimport 'firebase/messaging';\nimport { BehaviorSubject } from 'rxjs';\nimport { ApiService } from './api.service';\nimport { AppApiResponse } from '../interfaces/interfaces'\nimport { environment } from 'environments/environment';\n@Injectable()\nexport class MessagingService {\npublic messaging;\n  public messages = new BehaviorSubject(null);\nprivate permission: boolean = false;\nconstructor(private api: ApiService) {\n    try {\n      this.messaging = firebase.messaging();\n    } catch (e) {\n      console.log('Unable to Instantiate Firebase Messaing', e);\n    }\n  }\npublic init() {\nthis.getPermission();\n\ntry {\n  this.messaging.onMessage((payload) => {\n\n    if (!environment.production) console.log('PUSH: ', payload);\n\n    // [...]\n  });\n} catch (e) {\n  console.log('Unable to Listen PUSH Messages', e);\n}\n\n}\n// [...]\nprivate getPermission() {\n    try {\n      this.messaging.requestPermission()\n      .then(() => {\n        this.permission = true;\n        return this.messaging.getToken();\n      })\n      .then(token => this.updateToken(token))\n      .catch((err) => console.log('Unable to get permission to notify.', err));\n    } catch (e) {\n      console.log('Unable to Request PUSH Permission', e);\n    }\n  }\n}\n```\nin my case, in safari, the key line was:\nts\nthis.messaging = firebase.messaging();\nMS Edge prints the error, but surprisingly doesn't stop the app.\n\nthanks agil for solution !!!. ",
    "alexSantosIf": "Really thanks for the fast and straight answer man, you saved my day :). ",
    "andipaetzold": "AngularFire2 already supports deleting items from firebase storage. It is implemented here but isn't documented, yet.\nYour code would look the following using AngularFire2:\nJavaScript\nangularFireStorage.ref(urlToDelete).delete().toPromise().then( () => {\n    // successful deletion\n}).catch( err => {\n    // handle err\n}). Support for firebase storage was added in 5.0.0-rc.6. Therefore, you need to update the angularfire2 dependency, in order to use firebase storage.. This is not an issue of angularfire2 but with your project dependencies.\nYour missing the RxJS dependency. Have a look at the official documentation of Angular.. ML Kit is only available for iOS and Android (see docs). \nBefore angularfire2 can support ML Kit it needs to be implemented in the Firebase JavaScript SDK.. I had the same issue after upgrading firebase to version 5.5.0. I am not fully sure what caused the bug but deleting and regenerating package-lock.json fixed it for me.. ",
    "jwuestef": "That's awesome, I'm sorry I didn't notice that. Thanks again for the awesome package!. I'm going to reopen this issue - the .ref method expects a path and fails when given a URL. \nI've found a solution, and I feel this functionality needs to be added to the package. Firebase includes a refFromUrl() method - I think AngularFire2 should too. I've played around inside the AngularFire2 package and I think I've got it working to accept a URL... here is how:\n(All of this is in the angularfire2 -> storage directory)\nInside storage.js, right below the existing AngularFireStorage.prototype.ref declaration, you need:\nAngularFireStorage.prototype.refFromURL = function (url) {\n        return createStorageRef(this.storage.refFromURL(url), this.scheduler);\n    };\nInside storage.d.ts, right below the existing ref(path: string): line, you need:\nrefFromURL(url: string): AngularFireStorageReference;\nInside storage.js.map, you will need to do some hunting... include this:\nrefFromUrl(url: string) {\\n    return createStorageRef(this.storage.refFromUrl(url), this.scheduler);\\n  }\\n\\n\nimmediately after ref(path: string) {\\n    return createStorageRef(this.storage.ref(path), this.scheduler);\\n  }\\n\\n and before the upload(path: string, data: any, metada.... really close to the end of the file.\nThat adds the ability to delete a file in Firebase Storage when given the URL... this is an example of it in use:\nthis.afStorage.refFromURL(urlToDelete).delete().toPromise().then( () => {\n                 // Successfully deleted\n        }).catch( err => {\n                 // Handle err\n        })\nI'm too inexperienced to know if there are other locations in the code that need updated / tested, and I've never done a pull request before... if this could be included in the next release, that would be amazing.\n(and thanks again for the great package). This is not an issue with the package, and this is not the place to ask for help troubleshooting your code. In the future you should ask for help on StackOverflow. \nThere's a post from a week and a half ago for this exact error message:\nhttps://stackoverflow.com/questions/50541836/property-downloadurl-does-not-exist-on-type-angularfireuploadtask/50663965#50663965. ",
    "gonzalezlrjesus": "Well I could solve,the URL that returns storage \nis always the same, the only thing that changes is the path of \nyour file. what I do is shorten the url to the part of the path\n of the file:\ngetDownloadURL.slice(72,81);\nand I pass it as a parameter to the function of Ref\n```\nangularFireStorage.ref(getDownloadURL.slice(72,81)).delete().toPromise().then( () => {\n    // successful deletion\n}).catch( err => {\n    // handle err\n})\n```\nand it worked. ",
    "L96Github": "I've done it using \nlet fileRef = angularFireStorage.storage.refFromURL(downloadUrl);. I've done it using \nlet fileRef = angularFireStorage.storage.refFromURL(downloadUrl);. ",
    "JamesRArroyo": "For anyone else that runs across this issue it most likely has to do with your firebase version not being compatible with your angularfire2 version. . ",
    "gashho": "I am new in npm, I still get the same problem when I type \"ng serve\" even if my version are the latest, I need help please! thanks in advance.\nVersion:\nangularfire2@5.0.0-rc.10\nfirebase@5.0.4\nError message\nERROR in node_modules/angularfire2/firebase.app.module.d.ts(2,42): error TS2305: Module '\"D:/NPM projects/excel2firestore/node_modules/firebase/index\"' has no exported member 'functions'.\ni \uff62wdm\uff63: Failed to compile.. ",
    "darthsitthiander": "I'm on the same version as gashho:\nangularfire2@5.0.0-rc.10\nfirebase@5.0.4\n And I get these errors in a blank project with only angularfire2.\nERROR in node_modules/angularfire2/firebase.app.module.d.ts(2,10): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'app'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,15): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'auth'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,21): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'database'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,31): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,42): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'functions'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,53): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'messaging'.\nnode_modules/angularfire2/firebase.app.module.d.ts(2,64): error TS2305: Module '\"C:/Users/Sander/Documents/GitHub/CFTS/node_modules/firebase/app/index\"' has no exported member 'storage'.. ",
    "malindakpt": "These dependencies fixed the issue for me\n\"dependencies\": {\n    \"@angular/animations\": \"^6.0.3\",\n    \"@angular/common\": \"^6.0.3\",\n    \"@angular/compiler\": \"^6.0.3\",\n    \"@angular/core\": \"^6.0.3\",\n    \"@angular/forms\": \"^6.0.3\",\n    \"@angular/http\": \"^6.0.3\",\n    \"@angular/platform-browser\": \"^6.0.3\",\n    \"@angular/platform-browser-dynamic\": \"^6.0.3\",\n    \"@angular/router\": \"^6.0.3\",\n    \"angularfire2\": \"^5.0.0-rc.10\",\n    \"core-js\": \"^2.5.4\",\n    \"firebase\": \"^5.0.3\",\n    \"rxjs\": \"^6.0.0\",\n    \"zone.js\": \"^0.8.26\"\n  },. ",
    "ZdebK": "I have the same problem :(\n. ",
    "jsariasgeek": "There is a problem with \"angularfire2\": \"^5.0.0-rc.10\" \nThe solution for me was uninstall angularfire2^5.0.0-rc.10 and install angularfire2^5.0.0-rc.9\nnpm uninstall angularfire2\nnpm install angularfire2@5.0.0-rc.9\n. Yes, you\u00b4re right. ",
    "technbuzz": "But than you have to change rxjs version to 6.0 as well, which I don't want.. I had to go back to old pc where the project is working with existing environment setup and continue developing from that machine.\nI am experiencing this issue in ionic, so the next solution might be to create new project using ionic4 and move old project to new one. ",
    "kenken64": "omg ! can we have a backward compatible version ?. This doesn't work for me angularfire2 5.0.0-rc.7\nfirebase 4.12.1. what if we need to launch our project asap ? tell my bosses ionic 3 need to upgrade to 4 need another 2 months re rest everything because of this silly bug ?\n. yes i have this error also !. https://github.com/angular/angularfire2/issues/1688 they just ignore and close the issue!. ",
    "cfkarthick": "I got the same error fixed with the following version combination \n\nangularfire2 5.0.0-rc.7\nfirebase 4.12.1. \n",
    "tiagolimpe": "@cfkarthick Thanks! Worked for me!. ",
    "andreagosto": "what a mash! but angularfire is not an official Angular lib?. ",
    "ThaSaltyDawg": "WOW, this just halts my work! Has there been any updates on this issue yet, and where can I be notified when it's fixed?. is this due to versions of npm libraries not being compatible? If so what version of each package is good? Should I have a certain version on Nodejs and Angular and AngularFire and Rxjs and others? . ",
    "asmaa3107": "I tried to uninstall all packages globally then install it again and everything going well with me. ",
    "ZeroxDark": "i tried  angularfire2 5.0.0-rc.11 and firebase\": 5.1.0 \nit doen\u00b4t work ,the error is \"/node_modules/firebase/index\"' has no exported member 'functions'.\". ",
    "assassin-ninja": "Also, I got the same error.\nthis is my dependencies:\n\"dependencies\": {\n    \"@angular/animations\": \"^6.1.0\",\n    \"@angular/common\": \"^6.1.0\",\n    \"@angular/compiler\": \"^6.1.0\",\n    \"@angular/core\": \"^6.1.0\",\n    \"@angular/forms\": \"^6.1.0\",\n    \"@angular/http\": \"^6.1.0\",\n    \"@angular/platform-browser\": \"^6.1.0\",\n    \"@angular/platform-browser-dynamic\": \"^6.1.0\",\n    \"@angular/router\": \"^6.1.0\",\n    \"angularfire2\": \"^5.0.0-rc.12\",\n    \"core-js\": \"^2.5.4\",\n    \"firebase\": \"^5.4.1\",\n    \"rxjs\": \"^6.0.0\",\n    \"zone.js\": \"~0.8.26\"\n  },. @malindakpt \ni am using angular-cli: 6.1.0\nI followed you, but got the same error.. ",
    "erperejildo": "what a mess... always this problem between JS libs.\nSo any solution so far?. what was the solution here?. import firebase from 'firebase/app' needs to be imported as well?. ok, started a new project and working again. ",
    "JuanSeBestia": "1+. ",
    "Javril": "this solve for me\nnpm install node-pre-gyp -g. ",
    "kshitijmahajan72": "Getting the same issue\nPlease help!!!. ",
    "Moji0098": "Where do I put my problem?. ",
    "salamander194": "I can't use angularfire2 until this is fixed; is there a way to install a previous release?. ",
    "tom-mayer": "For some people in our team, downgrading firebase to 4.8.0 seems to have fixed the issue, also on my machine it still exists, but you can try it and see if it helps you @salamander194. We are trying to find a consistently working workaround right now. I'll keep posting if somehting comes up.. ",
    "MichFe": "I have the same issue, I tryed with \"angularfire2\": \"5.0.0-rc.9\" version and the compile errores are not showing up. \nAnyone knows if that's an error with rc.10 release or found out why are that errors showing up? . ",
    "surajsingh-itian": "Hello,\nI'm facing similar issue after upgrading to Angular 6, which is using new version of rxjs\nI'm doing same thing, using snapshotChanges & map in 1 case to get a document with id & in other case to get collection of document with id. ",
    "neo-xy": "@surajsingh-itian  sorry , should have put a solution to that before closing: U have to change your syntax to something like this:\n.collection('companies').snapshotChanges().pipe(map(changes => {\n      return changes.map(a => {\n        const company = a.payload.doc.data() as Company;\n        company.companyId = a.payload.doc.id;\n        return company;\n      });\n so the key is to use \".pipe(map(\" \nhope it helps (y)\n. @jamesdaniels well I did it like in the code bellow but it looks preaty ugly -is there better solution?: \nsnapshotChanges().pipe(map(changes => {\n        return changes.map(a => {\n          const shift = a.payload.doc.data() as Shift;\n          const timeStemp: any = shift.startDate;\n          shift.startDate = (timeStemp as Timestamp).toDate();\n          return shift;\n        });. yeap U can do it like this as well but U still can not do something like this:\nshift.startDate = new Date((shift.startDate as Timestemp).seconds*1000) beacuse like in my case 'startDate' is an Date Object and can not be cast to \"TimeStemp\" direcly. So I would have to do something like I did in my answer before or I would have to change Date object in all my classes to \"any\" -which I don't think that @jamesdaniels had in mind when he wrote that it can be easily convert in 'map':S\n. ",
    "CajetanRodrigues": "fetchAvailableExercises() {\n    this.fbSubs.push(this.db\n      .collection('availableExercises')\n            .snapshotChanges().pipe(    map(docArray => {\n                      return docArray.map(doc => {\n                        return {\n                          id: doc.payload.doc.id,\n                          name: doc.payload.doc.data().name,\n                          duration: doc.payload.doc.data().duration,\n                          calories: doc.payload.doc.data().calories\n                        };\n                      });\n                    })      )\n      .subscribe((exercises: ExerciseModel[]) => {\n        this.availableExercises = exercises;\n        this.exercisesChanged.next([...this.availableExercises]);\n      }));\n  }\n@neo-xy @surajsingh-itian I already used pipe but its giving me the same error , plz assist me !. ",
    "cjmash": "@CajetanRodrigues I'm not sure where this was solved but you can declare the doc to be of type any\netchAvailableExercises() {\nthis.fbSubs.push(this.db\n.collection('availableExercises')\n.snapshotChanges().pipe( map(docArray => {\nreturn docArray.map((doc:any) => {\nreturn {\nid: doc.payload.doc.id,\nname: doc.payload.doc.data().name,\nduration: doc.payload.doc.data().duration,\ncalories: doc.payload.doc.data().calories\n};\n});\n}) )\n.subscribe((exercises: ExerciseModel[]) => {\nthis.availableExercises = exercises;\nthis.exercisesChanged.next([...this.availableExercises]);\n}));\n}. ",
    "semla": "How do you convert the returned Timestamp back to a Date object (without moment)?. I was getting dates in the 70's because I removed too many zeros. But if you add the seconds and nanoseconds / 1000  and create a Date from that it looks ok. ",
    "indianazhao": "Hi @WB3Tech , have you solved this issue?. ",
    "WB3Tech": "Yes, thank you. I switched to RxJS 6\nOn Mon, Jul 23, 2018 at 2:44 AM, Indiana Zhao notifications@github.com\nwrote:\n\nHi @WB3Tech https://github.com/WB3Tech , have you solved this issue?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1700#issuecomment-406956222,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AcdvYKXlgFJXBNtuSV1WRKFmmCS9Z5Geks5uJXDOgaJpZM4UXALH\n.\n\n\n-- \nCheers,\nBill Bensing\nWB3 Tech | https://wb3tech.com\n. ",
    "reganrn": "Thank you for reply my error. I updated version 5.0.0-rc.6  below error showing.\nERROR in ../../node_modules/@angular/core/src/application_ref.d.ts(8,28): erro\nTS2307: Cannot find module 'rxjs/Observable'.\n../../node_modules/@angular/core/src/event_emitter.d.ts(8,25): error TS2307: C\nnot find module 'rxjs/Subject'.\n../../node_modules/@angular/core/src/linker/query_list.d.ts(8,28): error TS230\n Cannot find module 'rxjs/Observable'.\n../../node_modules/@angular/core/src/util/lang.d.ts(8,28): error TS2307: Canno\nfind module 'rxjs/Observable'.\n../../node_modules/angularfire2/angularfire2.d.ts(3,30): error TS2307: Cannot\nnd module 'rxjs/Subscription'.\n../../node_modules/angularfire2/firebase.app.module.d.ts(3,38): error TS2307:\nnnot find module '@firebase/app-types'.\n../../node_modules/angularfire2/firebase.app.module.d.ts(4,30): error TS2307:\nnnot find module '@firebase/auth-types'.\n../../node_modules/angularfire2/firebase.app.module.d.ts(5,34): error TS2307:\nnnot find module '@firebase/database-types'.\n../../node_modules/angularfire2/firebase.app.module.d.ts(6,35): error TS2307:\nnnot find module '@firebase/messaging-types'.\n../../node_modules/angularfire2/firebase.app.module.d.ts(7,33): error TS2307:\nnnot find module '@firebase/storage-types'.\n../../node_modules/angularfire2/firebase.app.module.d.ts(8,35): error TS2307:\nnnot find module '@firebase/firestore-types'.\n../../node_modules/angularfire2/storage/observable/fromTask.d.ts(1,48): error\n2307: Cannot find module '@firebase/storage-types'.\n../../node_modules/angularfire2/storage/observable/fromTask.d.ts(2,28): error\n2307: Cannot find module 'rxjs/Observable'.\n../../node_modules/angularfire2/storage/ref.d.ts(1,61): error TS2307: Cannot f\nd module '@firebase/storage-types'.\n../../node_modules/angularfire2/storage/ref.d.ts(3,28): error TS2307: Cannot f\nd module 'rxjs/Observable'.\n../../node_modules/angularfire2/storage/storage.d.ts(1,49): error TS2307: Cann\n find module '@firebase/storage-types'.\n../../node_modules/angularfire2/storage/task.d.ts(1,48): error TS2307: Cannot\nnd module '@firebase/storage-types'.\n../../node_modules/angularfire2/storage/task.d.ts(2,28): error TS2307: Cannot\nnd module 'rxjs/Observable'.. ",
    "AlunoHappy": "@hiepxanh \"por favor, atualize seu c\u00f3digo, instale o rxjs 5.5\"\nHow to do this?. ",
    "arissofan": "It's just compatibility issues.. downgrading the angularfire2 version and that's all. ",
    "Ntshuxekani": "Error: Uncaught (in promise): TypeError: Function expected\nTypeError: Function expected\n. ",
    "kapilkk": "Still no impact, situation is same. ",
    "jsparks19": "One thing that looks odd to me is your app.module has AngularFirestoreModule under imports, but your test file has it under providers. Is it supposed to be consistent? Also, if you put it under providers is it supposed to be AngularFirestore instead of AngularFirestoreModule?. ",
    "acc2link": "When i put AngularFirestore as provider  in my test I get \n No provider for InjectionToken angularfire2.app.options!\nThanks @jsparks19 ..\nMy version of angular is 6.. Created a new issue \nhttps://github.com/angular/angularfire2/issues/1706. @ksaifullah  Khalid. Thank you sir.. ",
    "ksaifullah": "https://github.com/angular/angularfire2/issues/1706#issuecomment-394212606. Hi @acc2link ,\nThe service AngularFirestore relies on initialization of AngularFireModule and import of AngularFirestoreModule which you have done for your actual code.\nFor the test, you don't have that setup. Which is correct in the sense that ideally you shouldn't call out to actual firestore database from your test. So the solution is you need to stub the service.\nExample:\nCreate a stub:\nconst FirestoreStub = {\n    collection: (name: string) => ({\n      doc: (_id: string) => ({\n        valueChanges: () => new BehaviorSubject({ foo: 'bar' }),\n        set: (_d: any) => new Promise((resolve, _reject) => resolve()),\n      }),\n    }),\n  };\nAdd whatever the methods you are using, this example doesn't have all available methods stubbed\nThen provide that stub:\nTestBed.configureTestingModule({\n      providers: [\n        { provide: AngularFirestore, useValue: FirestoreStub },\n      ],\n    });\nDon't forget to add your other dependencies (if any). ",
    "rogervanwile": "@ericel As a workaround you can use version 5.0.0-rc.9\n$ npm install angularfire2@5.0.0-rc.9 --save. ",
    "gayankalhara": "\nSame here. I still get this issue.\n\nfunction _firebaseAppFactory(options, nameOrConfig) {\n    var name = typeof nameOrConfig === 'string' && nameOrConfig || '[DEFAULT]';\n    var config = typeof nameOrConfig === 'object' && nameOrConfig || {};\n    config.name = config.name || name;\n    var existingApp = firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"apps\"].filter(function (app) { return app && app.name === config.name; })[0];\n    return (existingApp || Object(firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"initializeApp\"])(options, config));. \nSame here. I still get this issue.\n\nfunction _firebaseAppFactory(options, nameOrConfig) {\n    var name = typeof nameOrConfig === 'string' && nameOrConfig || '[DEFAULT]';\n    var config = typeof nameOrConfig === 'object' && nameOrConfig || {};\n    config.name = config.name || name;\n    var existingApp = firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"apps\"].filter(function (app) { return app && app.name === config.name; })[0];\n    return (existingApp || Object(firebase_app__WEBPACK_IMPORTED_MODULE_1__[\"initializeApp\"])(options, config));. @jwuliger Can you try removing package-lock.json and running npm install again?. @jwuliger Can you try removing package-lock.json and running npm install again?. ",
    "bfan1256": "I am still getting this error. @jamesdaniels. But it is working for me in rc.9. Awesome thanks @davideast! . Any updates on a fix yet @davideast ?. ",
    "yugank1991": "it is not working yet..Anyone has a solution of it ?. ",
    "ninthdecimal-dev1": "@anasbaddyr \nI have tried with import firebase from 'firebase/app';\n but it is giving error related to export . ",
    "alexdabast": "@jwuliger unfortunately this is not working for me.\nCould you confirm the npm package that you are using and why do you need to import firebase that way ? to use messaging ?\nThanks . Thank you I made it work by downgrading to angularfire2 to rc9 so for me I think there is still something wrong in the rc10/11 release. Seems to be a real bug\nThe last event is not emitted on the snapshotChanges() however it will be emitted in the .then() promise\nthis._task.snapshotChanges()\n  .subscribe(snapshot => {\n    this.snapshot = snapshot; // To get updates on progress\n  });\nthis._task.then(snapshot => {\n  this.snapshot = snapshot; // To know when it is done\n}).catch(snapshot => {\n  this.snapshot = this._task.task.snapshot; // To know whenever there is an error/cancel from user\n});. ",
    "philip-firstorder": "Fixed it with \"angularfire2\": \"^5.0.0-rc.9\", but then I got this error from my prerenderer\n```\n\ntogaimperial@0.0.0 generate:prerender /Users/philip_sultanescu/Projects/togaimperial.com\ncd dist && node prerender\n\n/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:282\n                        throw error;\n                        ^\nReferenceError: XMLHttpRequest is not defined\n    at Qc (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:194013:1401)\n    at T.g.fa (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:194043:234)\n    at Xc (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:194015:266)\n    at Vc (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:194014:297)\n    at ye.g.Qa (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:194057:22)\n    at Timeout. (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:194013:802)\n    at ZoneDelegate.invokeTask (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:511:31)\n    at Zone.runTask (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:278:47)\n    at ZoneTask.invokeTask (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:586:34)\n    at Timeout.ZoneTask.invoke (/Users/philip_sultanescu/Projects/togaimperial.com/dist/prerender.js:575:48)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! togaimperial@0.0.0 generate:prerender: cd dist && node prerender\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the togaimperial@0.0.0 generate:prerender script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n```\nI fixed this by adding these 2 lines from server.ts also in prerender.ts\n// Required for Firebase\n(global as any).WebSocket = require('ws');\n(global as any).XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;. Also important is to call process.exit(); at the end of prerender.ts file in care you use firebase or firestore, otherwise the cd dist && node prerender will just wait forever because of the persistent db connections.\nFor prerendering with firebase there is a great article here:\nhttps://angularfirebase.com/lessons/angular-6-universal-ssr-prerendering-firebase-hosting/#Prerendering-vs-Server-Side-Rendering-vs-Rendertron. @gfaganli Here is my project for you to do a side-by-side comparison with yours, maybe it helps. Mine compiles for ssr, prerender, serve, everything...\nhttps://github.com/firstorder-gmbh/firstorder.io. ",
    "noilly": "I get this error using rc9 and rx11! I fixed it by using @jwuliger's fix.. ",
    "RudiPersson": "Got everything to work using: \n\"firebase\": \"^5.3.0\",\n\"angularfire2\": \"^5.0.0-rc.9\". ",
    "itsthesteve": "Thanks @jamesdaniels!  Universal doesn't throw that error with rc12 anymore. The XMLHttpRequest fix mentioned by @philip-firstorder is still required which is simple enough.. My understanding is there was a regression in rc.11, some workarounds in #1705.. @inmogr With SSR you should have a server.ts (or whatever you want to name it) which has your express app.  Import the required libraries there.  See the docs.. It's impossible to say from the images you provided.  You might get better feedback from Stack Overflow.. You're binding to main, which isn't a variable in your class.  You probably meant let item of feed | async. So happy to see it come under the @angular scope!!. ",
    "viralsv2010": "Hello, \nI have the same issue but it is not in the test file. It is in my dev environment and below is the code of the x.component.ts file.\n```\nimport { Component, OnInit } from '@angular/core';\nimport { GroupService } from '../shared/group.service';\nimport { NgForm } from '@angular/forms';\n// import { NullTemplateVisitor } from '@angular/compiler';\nimport { AngularFirestore } from '@angular/fire/firestore';\n// import { AngularFireModule } from 'angularfire2';\n// import { AngularFirestoreModule } from 'angularfire2/firestore';\n@Component({\n  selector: 'app-group',\n  templateUrl: './group.component.html',\n  styleUrls: ['./group.component.css']\n})\nexport class GroupComponent implements OnInit {\nconstructor(private groupService: GroupService, private firestore: AngularFirestore) { }\nngOnInit() {\n    this.resetForm();\n  }\nresetForm(form ?: NgForm){\n    if(form!= null)\n      form.resetForm();\n    this.groupService.formData = {\n      $key : null,\n      firstname: '',\n      lastname: '',\n      age: null\n    }\n  }\nonSubmit(form : NgForm){\n    let data = form.value;\n    // this.firestore.collection('groups').add(data);\n    this.resetForm(form);\n  }\n}\n```\nThe error I get is as below.\n```\nERROR Error: StaticInjectorError(AppModule)[AngularFirestore -> InjectionToken angularfire2.app.options]: \n  StaticInjectorError(Platform: core)[AngularFirestore -> InjectionToken angularfire2.app.options]: \n    NullInjectorError: No provider for InjectionToken angularfire2.app.options!\n    at NullInjector.push../node_modules/@angular/core/fesm5/core.js.NullInjector.get (core.js:8895)\n    at resolveToken (core.js:9140)\n    at tryResolveToken (core.js:9084)\n    at StaticInjector.push../node_modules/@angular/core/fesm5/core.js.StaticInjector.get (core.js:8981)\n    at resolveToken (core.js:9140)\n    at tryResolveToken (core.js:9084)\n    at StaticInjector.push../node_modules/@angular/core/fesm5/core.js.StaticInjector.get (core.js:8981)\n    at resolveNgModuleDep (core.js:21217)\n    at _createClass (core.js:21270)\n    at _createProviderInstance (core.js:21234)\n```. ",
    "mohamedshameer": "@MartinNuc which version of firebase/app are you using. ",
    "ziyaddin": "@hiepxanh unfortunately, your version suggestion did not work. I personally use angularfire2@5.0.0-rc.3 and firebase@4.8.0 and it works fine with Angular 6.x. You can use it as an alternative.. ",
    "Qarun-Qadir-Bissoondial": "@MartinNuc  When you imported auth from firebase/app, can you provide some code as to how you used the import?. ",
    "GuilhermeSanches": "+1\n. I solved with these versions\n\"firebase\": \"4.12.1\",\n  \"rxjs\": \"5.5.10\",\n  \"angularfire2\": \"5.0.0-rc.6\"\n. ",
    "UnEpicFail": "Hello, i have the same trouble.\n\nFailed to compile.\nnode_modules/angularfire2/firebase.app.module.d.ts(5,54): error TS2694: Namespace '\"/home/unepicfail/projects/roster/node_modules/firebase/app/index\"' has no exported member 'app'.\nnode_modules/angularfire2/firebase.app.module.d.ts(8,26): error TS2694: Namespace \"/home/unepicfail/projects/roster/node_modules/firebase/app/index\"' has no exported member 'auth'.\nnode_modules/angularfire2/firebase.app.module.d.ts(9,30): error TS2694: Namespace '\"/home/unepicfail/projects/roster/node_modules/firebase/app/index\"' has no exported member 'database'.\nnode_modules/angularfire2/firebase.app.module.d.ts(10,31): error TS2694: Namespace '\"/home/unepicfail/projects/roster/node_modules/firebase/app/index\"' has no exported member 'messaging'.\nnode_modules/angularfire2/firebase.app.module.d.ts(11,29): error TS2694: Namespace '\"/home/unepicfail/projects/roster/node_modules/firebase/app/index\"' has no exported member 'storage'.\nnode_modules/angularfire2/firebase.app.module.d.ts(13,31): error TS2694: Namespace '\"/home/unepicfail/projects/roster/node_modules/firebase/app/index\"' has no exported member 'firestore'.\n\n\"firebase\": \"^5.0.4\",\n\"angularfire2\": \"^5.0.0-rc.5-next\",\n. ",
    "sagarp2901": "Same issue with angularfire2 5.0.0 rc 10 and firebase 5.0.4. ",
    "albertvp": "+1. Had to upgrade to ngx6 and cover backwards compatibility with rxjs-compat...\n\"@angular/common\": \"^6.0.4\",\n    \"@angular/compiler\": \"^6.0.4\",\n    \"@angular/core\": \"^6.0.4\",\n    \"@angular/forms\": \"^6.0.4\",\n    \"@angular/platform-browser\": \"^6.0.4\",\n    \"@angular/platform-browser-dynamic\": \"^6.0.4\",\n    \"@ionic/storage\": \"2.1.3\",\n    \"ajv\": \"^5.5.2\",\n    \"angularfire2\": \"^5.0.0-rc.10\",\n    \"firebase\": \"^5.0.4\",\n    \"ionic-angular\": \"^3.9.2\",\n    \"ionicons\": \"3.0.0\",\n    \"moment\": \"^2.22.1\",\n    \"rxjs\": \"^6.2.0\",\n    \"rxjs-compat\": \"^6.2.0\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.26\",. ",
    "TimGeerts": "I've got the same issues (had them a few weeks back, fixed it, have it again).\n\nERROR in node_modules/angularfire2/firebase.app.module.d.ts(5,54): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'app'.\nnode_modules/angularfire2/firebase.app.module.d.ts(8,26): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'auth'.\nnode_modules/angularfire2/firebase.app.module.d.ts(9,30): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'database'.\nnode_modules/angularfire2/firebase.app.module.d.ts(10,31): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'messaging'.\nnode_modules/angularfire2/firebase.app.module.d.ts(11,29): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'storage'.\nnode_modules/angularfire2/firebase.app.module.d.ts(13,31): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(8,52): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(9,55): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(9,89): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(10,58): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(10,104): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(10,149): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(10,191): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(11,58): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(11,103): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/changes.d.ts(11,139): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(8,63): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(8,105): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(10,28): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(12,31): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(12,78): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(13,36): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(14,34): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(15,39): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(16,36): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/collection/collection.d.ts(17,36): error TS2694: Namespace\n'\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/document/document.d.ts(8,19): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/document/document.d.ts(9,31): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/document/document.d.ts(10,37): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/document/document.d.ts(14,51): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/firestore.d.ts(9,64): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/firestore.d.ts(12,34): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/interfaces.d.ts(4,20): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/interfaces.d.ts(5,23): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/interfaces.d.ts(14,46): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/interfaces.d.ts(14,89): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/interfaces.d.ts(16,19): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/interfaces.d.ts(17,21): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts(6,50): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts(6,89): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts(7,50): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts(7,107): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts(8,57): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\nnode_modules/angularfire2/firestore/observable/fromRef.d.ts(8,102): error TS2694: Namespace '\"C:/Stuff/TiMo/node_modules/firebase/app/index\"' has no exported member 'firestore'.\n\n\"firebase\": \"^5.0.4\",\n\"angularfire2\": \"^5.0.0-rc.4\". \"firebase\": \"4.5.0\"\n\"angularfire2\": \"5.0.0-rc.4\"\nfixed it for me, for now. ",
    "stann84": "i have same probleme and also\n npm update check failed                   \u2502\n\u2502            Try running with sudo or get access             \u2502\n\u2502            to the local update config store via            \u2502\n\u2502 sudo chown -R $USER:$(id -gn $USER) C:\\Users\\stann.config\nis it a probleme to have npm update failed all time ?\n. ",
    "apamies": "For this issue I executed \n\"npm dedupe\"\nthen uninstall and reinstall the exact version of firebase and angularfire2 (in my setup was: firebase@4.12.1  &&  angularfire2@5.0.0-rc.6.0) and this issue was solved.. ",
    "schankam": "The last firebase version is breaking things (5.3.0). Stay below that for now until the issue get fixed... ",
    "cstodor": "Same issue with:\nangularfire2 ^5.0.0-rc.3\nfirebase ^4.11.0\nrxjs ^5.5.11\n. ",
    "rica01": "firebase is on last version and i have the same problem with: \n+ @angular/cli@6.1.4\n+ @angular/flex-layout@5.0.0-beta.14-17a70ee\n+ @types/jasmine@2.8.8\n+ angularfire2@5.0.0-rc.5-next\n+ karma-jasmine@1.1.2\n+ karma-coverage-istanbul-reporter@1.4.3\n+ codelyzer@4.4.4\n+ rxjs@5.5.11\n+ karma@2.0.5\n+ core-js@2.5.7\n+ @angular-devkit/build-angular@0.6.8\n+ @types/node@6.0.116\n+ firebase@4.13.1. ",
    "juniordevs": "\n5.0.0-rc.6\n\nThis works for me, thanks a lot.. ",
    "manisoft83": "Worked for me with these combinations,\n\"angularfire2\": \"^5.0.0-rc.6\",\n\"firebase\": \"^5.1.0\",\n\"rxjs\": \"^6.1.0\",. ",
    "NDMCreative": "+1. ",
    "JonaSoft": "Hola espero les sirva pero yo hice lo siguiente \nnpm audit, para hallar y actualizar las vulnerabilidades \nnpm update, para actualizar una dependencia especifica ejemplo\n npm update firebase.\nY todo me sale OK.\nSaludos.\n. ",
    "GideonWislang": "The token wasn't empty and persist login doesnt seem to be automatically set up for me any solution to this?. ",
    "noeldelgadom": "I solved it by running\nnpm install --save angularfire2@latest\nnpm install --save firebase@latest. ",
    "audacitus": "in the spirit of passing it on like @eat-sleep-code, you need to use a return statement in the map function inside the pipe to avoid any undefined errors in your subscribe.\nThanks @eat-sleep-code. You saved my day with this example.\nHere's my working code example (gives your the key and value):\nprivate db : AngularFireDatabase\nthis.db.list('team/'+this.ifiAuth.userMeta.teamRef).snapshotChanges().map(actions => {\n    return actions.map(a => ({key: a.key, value: a.payload.val()}));\n  }).subscribe(\n    (items) => {\n      console.log('Data with key:', items);\n    }\n  ). ",
    "dioubernardo": "My code is very similar, but i not use ionic is only angular with install option.\n    \"@angular/pwa\": \"^0.6.8\",\n    \"@angular/service-worker\": \"^6.0.4\"\nBut I discovered that the promise is not executed in the return of the authentication.\nexport class AuthService {\n  constructor(private _firebaseAuth: AngularFireAuth) {\n  }\n  login(): Promise<any> {\n    return this._firebaseAuth.auth.signInWithRedirect(\n      new firebase.auth.FacebookAuthProvider()\n    );\n  }\n  ....\n}\nexport class LoginComponent {\n  constructor(\n    public authService: AuthService,\n    private router: Router\n  ) {\n  }\n  login() {\n    this.authService.login().then((res) => {\n      this.router.navigate(['/']);\n    }).catch((err) => {\n      this.erro = 'Erro ao autenticar: ' + err;\n    });\n  }\n}\n. I created a test sample https://github.com/dioubernardo/firebaseAuth\nHow it was created\nng new firebaseAuth\ncd firebaseAuth\nnpm install firebase angularfire2 --save\nTo test you have to correct the data in environment\nWhen clicked on login with popup the promise is executed when executed with redirect the promise is not executed. This is normal?. Sorry, only two countries were released, but I just removed the country restriction.\nTo identify the problem, I decided to isolate the code, because the whole process seems to be ok, but when the app is installed on the phone, it seems that the redirect return can not identify the user.\nFor this I created another repository https://github.com/dioubernardo/firebaseAuth and it is publishing in a tests app in firebase https://the-best-dev.firebaseapp.com\nWhen I was writing this test I noticed that the promise in signInWithRedirect is not executed.\nTomorrow I will publish a new version with the installation process and the actual problem, I am just verifying that the process is in accordance with the angular recommendations.. Okay, both do sign, but to close the popup promise is resolved, and the return redirection the promise is not resolved.\nIn my last commit I followed the guide https://angular.io/guide/service-worker-getting-started\nng add  @angular/pwa --project frontend\nng build --prod\nThe link https://the-best-dev.firebaseapp.com/ is with this version\nIf I run in desktop browser - OK\nIf I add the PC home screen - OK\nIf I run in the mobile - Error\nI know that when installing on mobile the popup will not work, so hopefully only the redirect will work.\nWatch the videos below.\nWhen running on Android after you have installed it on the home screen\nhttps://photos.app.goo.gl/vMh9ooUsLepRXU9S7\nAfter that I removed the initial screen and tried again via browser\nhttps://photos.app.goo.gl/wjZfD3gXfDYLmXXMA\n. Now I really do not know anything else :(\nI removed all the part of the service-work which was what I thought was causing problems in authentication, and even then it is not authenticating.\nI think it might be something related to opening the facebook app during the redirect.\nThis version with authentication problems is at https://pedidosthebest.firebaseapp.com/\nLook the problem in movie\nhttps://photos.app.goo.gl/6MWeVfGaiWWEjnp28. Now I really do not know anything else :(\nI removed all the part of the service-work which was what I thought was causing problems in authentication, and even then it is not authenticating.\nI think it might be something related to opening the facebook app during the redirect.\nThis version with authentication problems is at https://pedidosthebest.firebaseapp.com/\nLook the problem in movie\nhttps://photos.app.goo.gl/6MWeVfGaiWWEjnp28. Something has changed in the last few days and authentication has started to work correctly.\nOne difference I saw, is that now authentication is no longer opening in the facebook APP, but a m.facebook.com link. I'll close the case, because I believe the problem was elsewhere.\nThe videos will stay to document the case, however the domain the-best-dev.firebaseapp.com will no longer contain the codes.. ",
    "mappedinn": "Issue solved:\nthe correct way to get access to these properties (starting from angularfire2@5.0.0-rc.9) is:\nts\n  fetchAvailableExercices() {\n    this.db.collection('availablesExercices')\n    .snapshotChanges()\n    .pipe(map( docArray => {\n      return docArray.map( doc => {\n        console.log(doc);\n        return(\n          {\n          id: doc.payload.doc.id,\n          name: doc.payload.doc.data()['name'],\n          duration: doc.payload.doc.data()['duration'],\n          calories: doc.payload.doc.data()['calories'],\n        }\n        // doc\n      );\n      });\n    }))\n    .subscribe(exercices => {\n      this.availableExercices = exercices;\n      this.availableExercicesChanged.next([...this.availableExercices]);\n    });\n  }\n}. ",
    "rinkukumar-kiwi": "@MurhafSousli  I'm also facing same problem so can you please tell me that how you get rid of this problem it'll save my day if you help me in this problem.. ",
    "Bielik20": "I am facing a similar issue.\nLet's say we have a collection with ids:\nts\nmyCollection = ['1', '2', '3', '4', '5']\nCorrect Behavior\nWe do something like that:\nts\nthis.afs.collection('myCollection').snapshotChagnes().subscribe(data => console.log(data))\nThis gives us:\n(5)\u00a0[{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\nEverything is fine, just as expected.\nUnexpected Behavior\nHowever, if we do this:\n```ts\nthis.afs.collection('myCollection').doc('1').valueChanges().subscribe()\nthis.afs.collection('myCollection').snapshotChagnes().subscribe(data => console.log(data))\n```\nThis would produce:\n[{\u2026}]\n(5)\u00a0[{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\nNote that I am not printing anything from the doc subscription.\nConclusion\nHaving subscription anywhere to a document that is part of a collection subscription results in collection returning twice. First time an array with just the document we have a subscription to. The second time an array with the entire collection.\nI don't think this is by design. It makes it very hard to do something like take(1) to reduce network usage. Can anyone comment on that?. @jamesdaniels I am using \"@angular/fire\": \"^5.0.0\", \"firebase\": \"^5.4.2\" and the issue still persists.. ",
    "YoannBureau": "Bump, the issue still persists. ",
    "miluksandrades": "No need, I already found the solution. ",
    "Bendrog": "[Solved]\nHere is what I did:\n1. It was an error related to Python. Saying it didn't find Python's executeble.\nSo i downloaded python2.7 \n2. ran \"npm install firebase angularfire2 --save\"\n3. I then had an Error related to visual studio c++\nSo i've downlded whatever they wanted me to install. \nDid nothing satisfying\n4. What worked for me was to install node-gyp dependencies : \nnpm install --global --production windows-build-tools. ",
    "manar-mk": "\n[Solved]\nHere is what I did:\n1. It was an error related to Python. Saying it didn't find Python's executeble.\nSo i downloaded python2.7\n2. ran \"npm install firebase angularfire2 --save\"\n3. I then had an Error related to visual studio c++\nSo i've downlded whatever they wanted me to install.\nDid nothing satisfying\n4. What worked for me was to install node-gyp dependencies :\nnpm install --global --production windows-build-tools\n\nCould you please describe in details?. ",
    "FergusZhou": "@mohamedaboelmagd Thanks for your kindly help. I still can get 404 error in console.\nWhat I need is that catch the Firebase errors log and not output in console. I found that there is a similar issue https://github.com/angular/angularfire2/issues/595 here. It looks like it can't implement?. Actually I am facing the issue of properly handle 404 log message in web browser console, when I trying to getDownloadURL of none exist file in the firebase storage. The issue is very similar with Unable to keep Firebase exceptions from logging. We tried several ways to catch this error, but no lucky to find the solution.\nWe have fixed this by modified our code base. So I think that I am cool now. \nThanks for your guys help. @hiepxanh @mohamedaboelmagd . ",
    "rfreethy": "Is there any known solution to this?. ",
    "KgotsoK": "Also facing this issue!!!\nTried the hardest to kill the 404 exceptions logged in the console. No luck. This is an actual issue. If the file doesn't exist, yes throw an exception, but don't log it regardless.. ",
    "alecsawatzky": "Thanks for the response. What are the benefits of using this 3rd party plugin vs. the Firecloud web SDK from google in an Angular2 with Ionic 3 project?\nThanks. ",
    "joaqcid": "Im getting a similar error with Hot Module Replacement enabled. ",
    "phpet": "@davideast thanks for the update.\nUnfortunately, ever since you started that \"server side frender\" video last September, I tried again and again and could never quite make SSR work on Firebase Functions. So, you see, somehow it's your fault. :)\nNow, I was able to make it work on Node8 in App Engine but I really like the simplicity and ease of mind of Firebase Functions. So I guess my question is, should I give up and implement it with App Engine or should I wait for the fix so I can use my favorite Firebase services? And if I should wait, how much do you think this would take?\nReally appreciate your time spent on this.\nLet me know if there is anything I can do to help.. ",
    "maktarsis": "Is there any news?\nPlease solve it. . ",
    "vroussel35": "Hi @jamesdaniels, @davideast,\nWithout adding pressure on you, do you have a rough idea about a date for the fix to be delivered? Are we speaking about days? months?\nWhy this question? => to know if I can include this functionality in my next project release planned for the end of this month, or if I have to postpone it.\nThank you guys !\n(and thanks for your hard work !). ",
    "danwulff": "With the announcement of the Node 8 runtime, will this now work?\n\nNew runtime configuration options with Cloud Functions for Firebase\nAugust 13, 2018\nNode.js 8 runtime now available\n\nhttps://firebase.googleblog.com/2018/08/cloud-functions-for-firebase-config-node-8-timeout-memory-region.html. Angular Version 7.0.0 is dependent on Typescript 3.1.\nSee blog: https://blog.angular.io/version-7-of-angular-cli-prompts-virtual-scroll-drag-and-drop-and-more-c594e22e7b8c\nOr Release notes: https://github.com/angular/angular/blob/master/CHANGELOG.md#700-2018-10-18. ",
    "fcalderon": "I just learned about this issue the hard way :cry: \nOS (environment): Docker image node:carbon (hosted on Ubuntu)\nnode version: v8.10.0\nangular fire: 5.0.0-rc.9\nangular: ^6\nI spent a few hours trying to debug my app which has hanging for some reason. The hanging started after pushing a fix to a bug which was preventing a call to AngularFireDatabase#object. it was hanging because of this, right were AngularFireDatabase#object was being called. However, there was no error, no warning, and no log, from AngularFire indicating that it doesn't work on SSR. \nI was wondering if, while this issue is resolved, an error can be thrown from AngularFireDatabase, if called on the server side, to indicate that this is not supported instead of just hanging for ever?. ",
    "odineshrao": "@maktarsis ya, my problem is also solved after update angularfire2. ",
    "hungerregnuh": "Just ran into this issue also with another dev, where are you importing switchmap and of from?  check that it's rxjs and rxjs/operators. ",
    "jgan42": "Hi,\nThe auto import gave me this :\nimport {switchMap} from 'rxjs/internal/operators';\neffectively it works well with :\nimport {switchMap} from 'rxjs/operators';\nTested with firebase 5.0.4 to 5.2.0.\nMy bad, thanks for your time.. Hi, I had a similar issue, in my case it was a wrong import of switchtMap. maybe it may help : \n1746\n. Hi,\nI'm not familiar with firestore but if it works like rtDb, \nI think .delete method is like .set(null).  It doesn't care if the data is here or not, it just delete it, \nThe Promise might fail only if the request can't reach the server, like if you are offline.. ",
    "trentjones21": "I can confirm that this is a problem.  It would be nice if there was a way to disable the cache completely for an individual query.  Something like\njs\ndb.collection('users').valueChanges({ source: 'server' });\nThis appears to be how it works when using firestore directly.  I can't seem to find a way to do it with angularfire2 though.  Here is the relevant firestore documentation:\nhttps://firebase.google.com/docs/reference/js/firebase.firestore.GetOptions\n```js\nvar docRef = db.collection(\"cities\").doc(\"SF\");\n// Valid options for source are 'server', 'cache', or\n// 'default'. See https://firebase.google.com/docs/reference/js/firebase.firestore.GetOptions\n// for more information.\nvar getOptions = {\n    source: 'cache'\n};\n// Get a document, forcing the SDK to fetch from the offline cache.\ndocRef.get(getOptions).then(function(doc) {\n    // Document was found in the cache. If no cached document exists,\n    // an error will be returned to the 'catch' block below.\n    console.log(\"Cached document data:\", doc.data());\n}).catch(function(error) {\n    console.log(\"Error getting cached document:\", error);\n});\n```\n. I can confirm that this is a problem.  It would be nice if there was a way to disable the cache completely for an individual query.  Something like\njs\ndb.collection('users').valueChanges({ source: 'server' });\nThis appears to be how it works when using firestore directly.  I can't seem to find a way to do it with angularfire2 though.  Here is the relevant firestore documentation:\nhttps://firebase.google.com/docs/reference/js/firebase.firestore.GetOptions\n```js\nvar docRef = db.collection(\"cities\").doc(\"SF\");\n// Valid options for source are 'server', 'cache', or\n// 'default'. See https://firebase.google.com/docs/reference/js/firebase.firestore.GetOptions\n// for more information.\nvar getOptions = {\n    source: 'cache'\n};\n// Get a document, forcing the SDK to fetch from the offline cache.\ndocRef.get(getOptions).then(function(doc) {\n    // Document was found in the cache. If no cached document exists,\n    // an error will be returned to the 'catch' block below.\n    console.log(\"Cached document data:\", doc.data());\n}).catch(function(error) {\n    console.log(\"Error getting cached document:\", error);\n});\n```\n. ",
    "mikhailmelnik": "Spent a few hours yesterday debugging same thing, ended up with the following snippet illustrating the issue: \nafs.collection('profiles').valueChanges().pipe(take(1), tap(console.log)).subscribe(() =>\n  afs.doc('profiles/SOME_ID').valueChanges().pipe(tap(console.log), delay(2000)).subscribe(() =>\n    afs.collection('profiles').valueChanges().pipe(tap(console.log)).subscribe()));\nwith output [N], {...}, [1], [N] where N/1 is the reported collection length, so if I add take(1) to the last line which was my original intention I would never receive the full collection.\nAs a workaround started using underlying firestore which allows to set a source:\nafs.firestore.collection('profiles').get({source: 'server'}).then(...)\nWould be great to have a parameter for the valueChanges() call as @trentjones21 have suggested.. ",
    "TyagiAnkit40": "I have the same issue. Did anyone find a workaround on how to disable caching when using valuechanges or onSnapShot?. I can test. Currently, I am using an ugly workaround by calling get directly inside get collection which I want to avoid. \nthis.db.collection('OrderBom', ref => {\n      let query : firebase.firestore.Query = ref;\n      query = query.where('orderNo', '==', orderNo).where('inEntityLC', '==', entity);\n      query.get({source: 'server'}).then(result=>{\n        var arr=[];\n        result.forEach((doc) => {\n          arr.push(doc.data());\n        });\n        this.createOrderTab(arr);\n      })\n      return query;\n    }). Will it be better if we can directly specify {source : 'server'} instead of reading metadata? That way, the subscribe to valuechanges / snapshot will only fire once. Today, subscribe fires two times, one for cached data and another for server data. Even today, I can look at 'fromCache' property and identify whether it's cached data or loaded from server. Not sure how including metadata will be different.. Will it be better if we can directly specify {source : 'server'} instead of reading metadata? That way, the subscribe to valuechanges / snapshot will only fire once. Today, subscribe fires two times, one for cached data and another for server data. Even today, I can look at 'fromCache' property and identify whether it's cached data or loaded from server. Not sure how including metadata will be different. . ",
    "desainr": "I am getting an error with this too. \nthis.db.list<Player>(\"/Players\").valueChanges().subscribe((data) => {\n      list = data;\n    });\nThe error I'm getting in the console is \nTypeError: Object(__WEBPACK_IMPORTED_MODULE_1_rxjs__[\"of\"]) is not a function. (In 'Object(__WEBPACK_IMPORTED_MODULE_1_rxjs__[\"of\"])(snapshotAction)', 'Object(__WEBPACK_IMPORTED_MODULE_1_rxjs__[\"of\"])' is an instance of Object)\n. ",
    "arthurgsf": "npm install rxjs@6 rxjs-compat@6 --save\nit solved for me.. ",
    "wilfried11": "using angularfire2\": \"^5.0.0-rc.11\ngot a same error but after installation of rxjs@6 rxjs-compat@6 promise-polyfill \nthis code work for me !!!\nthis.db.list('/customers').valueChanges().subscribe((datas) => { \n    console.log(\"datas\", datas)\n    },(err)=>{\n       console.log(\"probleme : \", err)\n    });\n. ",
    "amgoun": "Hi , thank you for your help.\nfinally i realized why i get this error only when i upload big images size. because the query looking for the url of image in storage before the upload is finished . so he return null.\nany help how i make a condition  to searching url in storage after the upload is finished. ????\nthank you . Hi @hiepxanh ok thank you so much :). sure :). ",
    "DavidCGarcia89": "I'm using: AngularFireAuth\nI build the constructor of the class with:\nconstructor(private afAuth :  AngularFireAuth) {\n    console.log('Hello AuthProvider Provider');\n  }\nAnd then use it here:\nlogout(){\n    this.afAuth.auth.signOut().then(()=>{\n    // hemos salido\n    })\n  }\n. ",
    "eddiejaoude": "What was the solution used to solve this?. ",
    "davidheis": "thankyou so much! . it was all too hard in the end. too many moving pieces, too complicated. just went back to normal SPA and live with the fact my page partially renders on google bot. i dont have time to debug overly complicated apps let alone could you image if i had heaps of these to debug? no way.. ",
    "vithanidarpan": "Getting same error. Also getting warnings in the project like below.\n    npm ERR! peer dep missing: @angular/common@^6.0.0, required by angularfire2@5.0.0-rc.11\nnpm ERR! peer dep missing: @angular/core@^6.0.0, required by angularfire2@5.0.0-rc.11\nnpm ERR! peer dep missing: @angular/platform-browser@^6.0.0, required by angularfire2@5.0.0-rc.11\nnpm ERR! peer dep missing: @angular/platform-browser-dynamic@^6.0.0, required by angularfire2@5.0.0-rc.11\nnpm ERR! peer dep missing: firebase@^5.0.3, required by angularfire2@5.0.0-rc.11\nnpm ERR! peer dep missing: rxjs@^6.0.0, required by angularfire2@5.0.0-rc.11\nIs it the reason behind AngularFireDatabase not working.\n. ",
    "wh1terose": "Following this thread, mine also does not retrieve data anymore from firebase. It was working a week ago, now it's all effed up... ",
    "Noext": "same issue on ubuntu \nthis.db.collection('polls').doc('id').snapshotChanges().subscribe(poll => {})\npoll.payload  is not a DocumentChange, so you can't call .doc property to retrieve le document \n. ",
    "CheckMater": "How can I know which change occurred (added, modified, removed) if the type field is always equal to \"value\"?\nThanks.. ",
    "AnthonyGilliam": "Hi @davideast thanks for all the hard work on this great project, love the way it auto-syncs data.  Favor: could one of the contributors update the docs on the doc.snapshotChanges() method?  I'm using @angular/fire 5.0.0 and this change is in there, but I have next to no idea how to use this method now.\nTHANKS!. ",
    "AreejNour": "at the first I was using \nprofileObject: FirebaseObjectObservable;\n// FirebaseObjectObservable and database(AngularFireDatabase) imported from \"'angularfire2/database-deprecated';\" because it is not found at \"angularfire2/database\"\nconstructor(private database:AngularFireDatabase) {\n}\n//the fuction saveProfile always return false and I don't know why\nasync saveProfile(user:User , profile:Profile){\nthis.profileObject = this.database.object(/profiles/${user.uid});\ntry{\nawait this.profileObject.set(profile);\nreturn true;\n}\ncatch(e){\n  console.log(e);\nreturn false;\n}\n}\n//and then I have replace FirebaseObjectObservable and database(AngularFireDatabase) with \nimport { , AngularFireObject , AngularFireList  } from \"angularfire2/database\"; \nand it work but then it give me error at searchUser function\nsearchUser(firstName :string){\n    const query = this.database.list('/profiles', ref => ref.orderByChild('firstName').equalTo(firstName))\n    return query.valueChanges();\n  }\n//I'm very sorry for my broken English I wish you could understand @hiepxanh . ",
    "inmogr": "\nYou'll need to import a compatibility framework to your Functions && server.ts for SSR.\nts\n(global as any).WebSocket = require('ws');\n(global as any).XMLHttpRequest = require('xmlhttprequest').XMLHttpRequest;\n\nI'm having the same issue, could you please tell me why you said your Functions how it is related, and where can i find server.ts do you mean main.server.ts. Hi,\nThanks,\nI have followed those steps, but the issue I'm facing i guess is a combination of Angular Guard and Angular Fire. I'll try to create a sample new project and upload it into GitHub then I'll share the link.\nI'll just need some time.\nRegards,\nMorhaf\n\nFrom: Steve notifications@github.com\nSent: Tuesday, January 22, 2019 3:40:33 AM\nTo: angular/angularfire2\nCc: Morhaf Shamia; Mention\nSubject: Re: [angular/angularfire2] The XMLHttpRequest compatibility library was not found. (#1766)\n@inmogrhttps://github.com/inmogr With SSR you should have a server.ts (or whatever you want to name it) which has your express app. Import the required libraries there. See the docshttps://angular.io/guide/universal.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/angular/angularfire2/issues/1766#issuecomment-456180483, or mute the threadhttps://github.com/notifications/unsubscribe-auth/AZFRIcs6_0CtJz_qkHh_l0oBbBahveOHks5vFhexgaJpZM4VBz6Z.\n. ",
    "Omar-Qalei": "ngFor=\"let itemof itemArray\"\n  img ngFor=\"let url of imageURLArray\" [src]=\"image\"\n. I solved this problem last 2 weeks ago. \ud83d\udc4d using file reader and for loop.\n thanks for help.. please help. import {AngularFireAuth} from 'angularfire2/auth';. ",
    "xcash": "Hi @davideast, thanks for the reply. :) Ok as I return from holidays i'll open an issue there referring here. . ",
    "djabif": "Hey @ananbetak, how did you solve this issue? It's happening to me now and don't know how to solve it :( . Thanks.. ",
    "ananbetak": "Hey @djabif \nI Think firebase returns nothing when something is deleted.\ntry to use .then() , if it works , good.\ni mean , it doesn't return an observable , so we can't subscribe to the result , there is no success or fail ..\nbut what you can do is to use .then , which means, after you have successfully deleted, then you can run anything in side this function. if you need further help , you can skype me ankassis , or email anan.kassis@gmail.com\nThanks. i fixed all the errors i had already , but i forgot where this problem came from honestly.... ",
    "younesdiouri": "I found finally a counter way to get accessToken without getting the error message for those who still have it : \nprivate oAuthLogin(provider) {\n    return this._firebaseAuth.auth.signInWithPopup(provider)\n      .then((credential) => {\n        var myProp = 'accessToken';\n        if(credential.credential.hasOwnProperty(myProp)){\n          this.token = credential.credential[myProp];\n      }\n        this.updateUserData(credential.user)\n      })\n  }\n(not reaching it with dots but with brackets) \ud83e\udd47 . I found finally a counter way to get accessToken without getting the error message for those who still have it : \nprivate oAuthLogin(provider) {\n    return this._firebaseAuth.auth.signInWithPopup(provider)\n      .then((credential) => {\n        var myProp = 'accessToken';\n        if(credential.credential.hasOwnProperty(myProp)){\n          this.token = credential.credential[myProp];\n      }\n        this.updateUserData(credential.user)\n      })\n  }\n(not reaching it with dots but with brackets) \ud83e\udd47 . ",
    "arikanorh": "You need to use snapshotChanges instead of valuechanges. ",
    "chunkingz": "Hi guys, thanks for your feedback @arikanorh & @tayambamwanza , but i still get errors,\nI copied the snippet and modified it, this is what i have:\nprivate businessCollection2: AngularFirestoreCollection<Ibusiness>;\n  businesses2: Observable<any>;\n this.businessCollection2 = this.fb.collection('businesses');\n this.businesses2 = this.businessCollection2.snapshotChanges();\n\nthis.businesses2.pipe(\n       map(\n         changes => {\n       const data = changes.payload.data();\n       const id = changes.payload.id;\n       return {id, ...data};\n    })).subscribe(changes => {\n      console.log(changes.id);\n    });\ni get an error in my browser console that says: \nERROR TypeError: Cannot read property 'data' of undefined\n    at MapSubscriber.eval [as project] (app.component.ts:63)\n    at MapSubscriber._next (map.js:35)\n    at MapSubscriber.Subscriber.next (Subscriber.js:54)\n    at eval (angularfire2.js:36)\n    at ZoneDelegate.invoke (zone.js:388)\n    at Object.onInvoke (core.js:4760)\n    at ZoneDelegate.invoke (zone.js:387)\n    at Zone.run (zone.js:138)\n    at NgZone.run (core.js:4577)\n    at SafeSubscriber.eval [as _next] (angularfire2.js:36)\ni am suspecting there's either an issue with using data(), or something else.\n. okay, i'll do that, my version of angularfire2 is the latest version 5.0.0-rc.11. Here we go\nhttps://stackoverflow.com/questions/51336131/how-to-retrieve-document-ids-for-collections-in-angularfire2s-firestore. I'll advice you to update all your packages if you haven't done so already,\nLast time i checked, rxjs packages have been updated to version 6.2.1, so it may cause breakage.. ",
    "Steven4294": "im getting the error cannot find name 'map. im getting the error cannot find name 'map. @tayambamwanza  awesome! this is a bit of a blocker for me, so that would be SOOO appreciated :). @tayambamwanza  awesome! this is a bit of a blocker for me, so that would be SOOO appreciated :). this.db.collection('posts').snapshotChanges().pipe(\n     map(changes => {\n       console.log('log some data: ' + changes.payload.data ); // <-- this errors out\n       return { changes };\n    })\n    ).subscribe(changes => {\n      console.log(changes);\n    });\nerror TS2339: Property 'payload' does not exist on type 'DocumentChangeAction<{}>[]'.\nAm i missing something really obvious here @tayambamwanza? It looks like the payload property does not exist on the DocumentChangeAction. All I'm trying to do is grab the id from the post object lol . this.db.collection('posts').snapshotChanges().pipe(\n     map(changes => {\n       console.log('log some data: ' + changes.payload.data ); // <-- this errors out\n       return { changes };\n    })\n    ).subscribe(changes => {\n      console.log(changes);\n    });\nerror TS2339: Property 'payload' does not exist on type 'DocumentChangeAction<{}>[]'.\nAm i missing something really obvious here @tayambamwanza? It looks like the payload property does not exist on the DocumentChangeAction. All I'm trying to do is grab the id from the post object lol . this.db.collection('posts')\n    .get()\n    .subscribe((snapshot) =>{\n      snapshot.forEach(doc => {\n        console.log(doc.id, '=>', doc.data());\n      });\n    })\nhere's a solution i found btw for anyone wondering. pretty retarded imo.... this.db.collection('posts')\n    .get()\n    .subscribe((snapshot) =>{\n      snapshot.forEach(doc => {\n        console.log(doc.id, '=>', doc.data());\n      });\n    })\nhere's a solution i found btw for anyone wondering. pretty retarded imo.... @tayambamwanza, I believe it just returns all of the objects in the collection as an Observable, so then you have to .subscribe for changes in order to access the snapshot object. @tayambamwanza, I believe it just returns all of the objects in the collection as an Observable, so then you have to .subscribe for changes in order to access the snapshot object. ",
    "nitzuga": "I am having issues with rxjs library update, started this week with a working project.  Followed the migration guide:\nnpm i -g rxjs-tslint\nrxjs-5-to-6-migrate -p [path/to/tsconfig.json]\nDidn't have better results.\nError: Uncaught (in promise): Error: Cannot find module \".\"\nError: Cannot find module \".\"\nIonic Framework: 3.9.2\nIonic App Scripts: 3.1.10\nAngular Core: ^6.0.9\nAngular Compiler CLI: ^5.2.11\nNode: 10.6.0\nOS Platform: macOS High Sierra\nNavigator Platform: MacIntel\nUser Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36\n. Using NVM and downgrading versions of Angular, AngularFire2 and firebase y manage to get my app to work. I suggest using older versions that are still compatible until the release of Ionic 4. Apparently with Ionic 3 there's no complete rxjs6 compatibility.\nWith NVM I set up this environment :\nNode 9.11.2\nNPM 5.6.0\nIonic 3.20.0\nFirebase Tools 3.19.0\nThis is the dependencies I am using in my package.json :\ndependecies: {\n    .... [other dependencies]\n    \"@ionic-native/core\": \"4.4.0\",\n    \"@angular/common\": \"5.0.3\",\n    \"@angular/compiler\": \"5.0.3\",\n    \"@angular/compiler-cli\": \"5.0.3\",\n    \"@angular/core\": \"5.0.3\",\n    \"@angular/forms\": \"5.0.3\",\n    \"@angular/http\": \"5.0.3\",\n    \"@angular/platform-browser\": \"5.0.3\",\n    \"@angular/platform-browser-dynamic\": \"5.0.3\",\n    \"@firebase/app\": \"^0.1.10\",\n    \"angularfire2\": \"^5.0.0-rc.6\",\n     \"firebase\": \"^4.10.1\",\n    \"firebase-admin\": \"^5.12.0\",\n    \"firebase-functions\": \"^1.0.2\",\n    \"ionic-angular\": \"3.9.2\",\n    \"jshint\": \"^2.9.5\",\n    \"node-gcm\": \"^1.0.1\",\n    \"npm\": \"^6.0.0\",\n    \"promise-polyfill\": \"^7.1.0\",\n    \"rxjs\": \"5.5.2\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.18\"\n},\n  \"devDependencies\": {\n    \"typescript\": \"2.4.2\"\n  },\nHope this helps anyone.\n. ",
    "alejandrobovino": "I can\u00b4t change ionic version. must be 2.0. ",
    "Devqon": "I also get errors when using Ionic 3. Because Ionic 4 (with angular6 integration) isn't released yet, I'm forced to use angular 5 (which is in Ionic 3).\nWhich version of angularfire2 works with angular5?\nEDIT:\n1748 suggested to use rxjs6 and compat instead, which worked!.",
    "mazeethd": "possible work around: try manually initializing firebase as below\nfirebase.initializeApp(Config)\ni have faced a similar issue but different environment. i was working with ionic and phone authentication. the same code which was working earlier was not working with latest update with error saying default app not initialized. \nthis error is raised irrespective on initialization via angularfire2\nafter two days of struggle found a workaround by manually calling firebase initialization\nnot sure this can solve for your environment. but it had worked for me :-)\n. ",
    "musaddiq-pk": "Can we set custom claims using Angular not NODE.JS.. ",
    "Steven-Harris": "@musaddiq-pk please do not comment on closed issues.  - One way to store JWT claims with angular is using the built in localstorage.. ",
    "ceekem": "hi @Freelancersunil, you should have this \nionViewDidLoad() {\n    this.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container');\n  } \nafter the constructor and also declare\npublic recaptchaVerifier:firebase.auth.RecaptchaVerifier; \nbefore the constructor.\nhope this helps \n. ",
    "mr-weber": "Hi @freelancersunil ,, if you working with ionic, you should go to native implementation of firebase phone authentication\nionic cordova plugin add cordova-plugin-firebase\nnpm install --save @ionic-native/firebase\nAfter Installation \nimport { Firebase } from '@ionic-native/firebase';\nand provide it in providers array in app.module.ts\nlogin.html\n`\n<ion-list>\n\n    <ion-item>\n        <ion-label stacked>Phone Number</ion-label>\n        <ion-input type=\"number\" [(ngModel)]=\"phoneNumber\"></ion-input>\n        <ion-input type=\"text\" [(ngModel)]=\"code\" placeholder=\"eg:123456\" *ngIf=\"showCodeInput\"></ion-input>\n    </ion-item>\n\n    <ion-item>\n        <button full ion-button (click)=\"signInWithPhoneNumber(phoneNumber)\" *ngIf=\"!showCodeInput\" icon-left>Login with Number</button>\n        <button full ion-button (click)=\"verify()\" *ngIf=\"showCodeInput\">Verify Code</button>\n    </ion-item>\n\n</ion-list>\n\n`\nlogin.ts\n```\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport * as firebase from 'firebase'\nimport { Firebase } from '@ionic-native/firebase';\n@IonicPage({\n  name: \"login\"\n})\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage {\n  verificationId: any;\n  code = '';\n  showCodeInput = false;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private FireBase: Firebase) { }\nPhoneLoginNative(phoneNumber) {\n    console.log(phoneNumber);\n    this.FireBase.verifyPhoneNumber(+${phoneNumber}, 60)\n      .then((credential) => {\n        console.log(credential);\n        this.verificationId = credential.verificationId;\n        this.showCodeInput = true;\n      }).catch((error) => console.error(error));\n  }\nverify() {\n    let signInCredential = firebase.auth.PhoneAuthProvider.credential(this.verificationId, this.code);\n    firebase.auth().signInWithCredential(signInCredential).then((success) => {\n      console.log(success);\n    })\n  }\n}\n```\nI Hope This Will Help You ^^\n. ",
    "Lesruez93": "first argument \"verification id\" must be a valid string. \nGetting this error while trying to verify the Codw please help. ",
    "lenanex": "It seems to be working but it's not :)\nconstructor(public db: AngularFirestore, public functions: AngularFireFunctions) {}\n  getData(id){\n    var getData =  this.functions.httpsCallable('getData');\n     return getData({id: id}).then((result) => console.log(result)).catch((e)=> console.log(e));\n  }\nDoing this, sends the HTTPS request to the server but I have a \"Response for preflight is invalid (redirect)\" error then.... ",
    "pradt": "@lenanex , @atinybeardedman  @runtimeZero try Angularfirebase's example : https://angularfirebase.com/lessons/saas-metered-subscriptions-with-stripe-billing-and-firebase/\nThere's an implementation that can help. . ",
    "madakk": "@davideast Any idea why the angularfire2 wrapper converts the Promise returned from the native API to an Observable? A Promise seems to make more sense, which means any consumer needs to convert the Observable back to a Promise with Observable.toPromise, as is shown in the example posted by @pradt  above.. ",
    "sketchthat": "An update to @lenanex's code for anyone else that is having problems. \nthis.functions.httpsCallable('functionName')({ text: 'Some Argument' })\n  .toPromise()\n  .then(resp => {\n    console.log({ resp });\n   })\n  .catch(err => {\n    console.error({ err });\n  });. Of course, but why have the wrapper convert it to an Observable if the API returns a Promise?\nObservable indicates that the state might change after request - but it's always final.\n. ",
    "aaronhma": "Why don't you read the official angularfire2 documentation about authentication: https://github.com/angular/angularfire2/blob/master/docs/auth/getting-started.md. Just an idea, guys. You might want to upgrade your RXJS, rxjs-compat(if using), and also angularfire2 for better compatibility.. It has slow Google authentication because it needs to contact FIrebase's server to retrieve your secret access key, then use that key to authenticate to Google's authentication server. Then, on your browser, it puts out a success or a error response,. ",
    "george43g": "This is still an ongoing issue and I believe the problem is with Firebase SDK itself. Im surprised this has not yet been solved.. Am also experiencing the same issue. It seems to be that it's not setting the region properly (even if left as default) and it's showing 'null' in the URL.. ",
    "Awoshe": "you can do that using security rules on firebase.. ",
    "ImAbinash": "I got the solution . ",
    "yuliankarapetkov": "@davideast Hey, thanks for looking into this for me. \nHere's a stackblitz link\nUPDATE:\nJust noticed that state doesn't change at all, even if the upload has actually been successful. However, the snapshot embedded task object has the correct state, so I guess that this is really a bug.\nSee screenshot: https://imgur.com/HixmZ2T. @davideast did you get the chance to check the stackblitz link provided? . +1 Is this going to be fixed in future releases? . ",
    "z3phyro": "hi @sachinpatil1920 how did you solved this issue?\n. ",
    "simonpeters": "Is there an example of how to do this with angularfire2 or should we use the native SDK? . ",
    "bradtaniguchi": "Just leaving the \"obvious\" answer on how to do this using just the native typescript firestore apis for those confused. (I was for like 20 minutes until I stopped being dumb)\ntypescript\nimport { firestore } from 'firebase';\n//...\nthis.firestore.collection(<collectionName>).doc(<docID>).update({\n  answers: firestore.FieldValue.arrayUnion(<AnswersObject>)\n});. ",
    "skotturi": "I get a warning when importing all of firestore:\n```\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\nFor the module builds, these are available in the following manner\n(replace  with the name of a component - i.e. auth, database, etc):\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/');\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/';\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/';\n```\nVSCode and all its package management doesn't throw an error when I try:\nimport { FieldValue } from 'firebase/firestore'; but ng build doesn't like this. \nIs there a way to import just FieldValue? Is there a reason why the FieldValue class isn't available as an export? . ",
    "Matttaylor8910": "Hi @davideast, could you give an example or point to documentation? \nUsing 'array-contains' within the where clause throws the following error:\n\n[ts] Argument of type '\"array-contains\"' is not assignable to parameter of type 'WhereFilterOp'.\n\nThis is the code I'm trying to use with version 5.0.0-rc.11 of angularfire2:\nreturn this.afs.collection('games', ref => {   \n      return ref  \n        .orderBy('timestamp')  \n        .where('playerIds', 'array-contains', uid)\n        .limit(30);\n    }). ",
    "leonlovett": "@Matttaylor8910 I had the same issue. Searching does work as David East says, but for some reason the typings weren't correct for me locally. I had to edit the typings file for firebase, then the app started building again.\nOpen node_modules/firebase/index.d.ts to line 1543 and added 'array-contains' to the type WhereFilterOp.\n\n. ",
    "davidtlee": "@davideast thanks! it does look like it works. But I realized I was reading it wrong. I thought array-contains allows passing in an array for matching anything within the array. But I realized it only allows passing in a single value and checking if an array on the backend contains the query item. whoops!. ",
    "gtcdevop": "I manage to solve this issue using the following dependencies version\n```javascript\n{\n// all Angular deps on version 5.0.3\n...\n \"angularfire2\": \"5.0.0-rc.6\",\n \"rxjs\": \"5.5.4\",\n \"firebase\": \"5.3.0\",\n \"@firebase/app\": \"0.1.10\",\n...\n}\n```. ",
    "yogeshdakre": "array-contains only work with string?? the examples which are given shows that it works with string but how to deal when array contains objects\n/mycollection\n    /array +{name:'yogi'},\n                 {name:'yogi1'},\n                 {name:'yogi2'}\nhere how the query will be for object with name==yogi?\nthis.afs\n      .collection('userroutes', ref =>\n       { return ref.where('mycollection','array-contains','name==yogi') }  //where we should put the condtion\n      )\n      .valueChanges()\n      .subscribe(data => {\n        //data is empty\n      });. ",
    "IchordeDionysos": "array-contains is indeed consistent across platforms only the Python SDK seems to use the underscore version and as well in the docs it's everywhere mentioned with an underscore.. ",
    "willykc": "Hi, I reproduced this issue and #1384 on angular 6.1.4, angularfire 5.0.0-rc.12 & firebase 5.4.1.. ",
    "brijkhatri5": "SDK_VERSION: '5.0.4',\nI have installed angularfire2 in my system.\n. version of angulaarfire2 is 4.0.0 and  Can u please if possible tel me how to check the minimum repository.. Sry ,but I am just a beginner. ",
    "giladrom": "For anyone experiencing the same issue - the problem was with the   \n\"@firebase/app\": \"^0.3.3\",\ndependency. . ",
    "SymbhaWhambhaw": "here you have the component\nimport { Component, OnInit, OnChanges } from '@angular/core';\nimport {FirebaseListObservable } from 'angularfire2/database-deprecated';\nimport { Observable } from 'rxjs';\nimport {ChatMessage} from '../models/chat-message.models';\nimport {ChatService} from '../services/chat.service';\n@Component({\n  selector: 'app-feed',\n  templateUrl: './feed.component.html',\n  styleUrls: ['./feed.component.css']\n})\nexport class FeedComponent implements OnInit, OnChanges {\n  feed: FirebaseListObservable;\nconstructor(private chat: ChatService) { }\nngOnInit() {\n    console.log('Inicializando...');\n    this.feed = this.chat.getMessages();\n}\nngOnChanges(){\n    this.feed = this.chat.getMessages();\n}\n}\n. I tried both ways this is giving the same error. ",
    "Django987": "Thank you. I am quite new at committing something on GitHub, next time I will use the template-format from the Angular Commit Guidelines.. ",
    "akilmakda": "@davideast  any update on  AngularFireMessaging?\nKindly provide some timeline. . ",
    "shashankalivenet": "@Chan4077 \n\n. yes i used this ->>   yofoodie-epos-development.appspot.com\nin the configuration but then also it gave me the error\nOn Thu, Aug 30, 2018 at 2:18 AM James Daniels notifications@github.com\nwrote:\n\nThis is due to storageBucket not being defined in the Firebase options\nyou pass to initializeApp. Click \"Add Firebase to your web app\" here\nhttps://console.firebase.google.com/project/_/settings/general/ to get\nthe object you should be passing into initializeApp.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1843#issuecomment-417100571,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AoygHPbPE617bx6MFPwqrrfpQjZcdjeBks5uVv4ngaJpZM4WPY9s\n.\n. ok thank you\n\nOn Thu, Aug 30, 2018 at 2:21 AM James Daniels notifications@github.com\nwrote:\n\nYou're running incompatible versions of angularfire and firebase.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1844#issuecomment-417101305,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AoygHD0MGDOIjlVRgdtRfLS7mHaVnCIoks5uVv6_gaJpZM4WPaKR\n.\n. \n",
    "Newbie012": "@robert-king you can change the import to something like:\nimport * as firebase from 'firebase/app';\nBut my index.cjs.js is still big (888kb). ",
    "vixson": "You have to manually write the data onInput\n*.component.html\n<input *ngIf=\"itemDoc | async as item\" (keydown)=\"setValue($event.value)\" [value]=\"item.name\"/>\nor\n<input *ngIf=\"itemDoc | async as item\" (input)=\"setValue($event.value)\" [value]=\"item.name\"/>\n*.component.ts\n\n...\npublic itemDoc = this.db.doc('path/to/document').valueChanges();\npublic setValue(value: string) {\n    itemDoc.update(value);\n}\n...\n. Oh, I think I've gotten it.\nUse snapshotChanges() instead of valueChanges()\nThe map the observable to an array with the $key or id\n```TS\n...\n\npublic getItemList(path: string, query?: QueryFn) { // Get list of items in a path\n  return this.db.collection(path, query).snapshotChanges().pipe(map((mutation: any[]) => mutation.map(p => {\n    return { ...p.payload.doc.data(), '$key': [p.payload.doc.id][0] };\n  })));\n// OR\npublic getItemList(path: string, query?: QueryFn) { // Get list of items in a path\n  return this.db.collection(path, query).snapshotChanges().pipe(map((mutation: any[]) => mutation.map(p => {\n    return { ...p.payload.doc.data(), 'id': [p.payload.doc.id][0] };\n  })));\n}\n...\n```\nRead the Documentation. ",
    "drahuks": "Same behaviour observed in my ionic pwa app. Upload sometimes never reach the finalize function\nusing angularfire2 5.0.0 & firebase 5.4.2. ",
    "JohnGallego": "Same on my angular app, anything smaller than 2 MB returns the download url anything larger doesn't.\n. ",
    "lundelius": "Hi Guys,\nI just checked out the NG v7...\nWould be lovely if you finish this PR for ng add @angular/fire !. ",
    "IOAyman": "Thanks everybody for the good work :)\nAny updates or ETA for this, please?\n/cc @davideast @Chan4077 @sulco . @sulco That'd be great, thanks. Hopefully a collaborator will merge and release it soon.\n@Chan4077 Sorry, my bad.. ",
    "bradyisom": "I am having the same issue while subscribing in a service. \nHowever, I cannot get the workaround to work either. I'm not able to get access to the onTokenRefresh method. @cmer4 or @wvanderdeijl can you share a little more context of your workaround? Where are you getting the reference to the messaging or app object?. Thanks. I used something similar to the workaround by @cmer4. It seems to be working fine for me with the workaround. Seems like binding these functions in the angularfire2 library should fix this issue.. ",
    "cmer4": "@bradyisom the messaging with the method can be accessed once you subscribe to the observable i guess:\ninitFCMforPWA() {\n    navigator.serviceWorker.getRegistration(\"service-worker.js\").then((registration)=>{\n      this.firebaseMessaging.messaging.subscribe((messaging)=>{\n        // we use this trick here to access useServiceWorker method:\n        messaging.useServiceWorker(registration);\n        // small workaround below:\n        messaging.onTokenRefresh = messaging.onTokenRefresh.bind(messaging);\n        // small work around above\n        this.enableNotifications();\n      });\n    })\n  };\nI got rid of error this way but I have not tested it yet fully. So if you can take a stab at it - great;)\nupdate: well notifications definitely work as just tested this.. @suparnavg  @chegola  so which version of AngularFire2 you had? As @jamesdaniels mentioned the fix was in 5.0.2 of AngularFire2. So no wonder this issue is present in @chegola 's 5.0.1 version. Or am I missing something?. ",
    "chegola": "Same issue here.\n\"@angular/core\": \"6.0.0\",\n \"angularfire2\": \"5.0.1\",\n\"firebase\": \"5.4.2\",\n. ",
    "salah3x": "Hi don,\nI encountered the same issue, did you solve it ?. ",
    "raphrmx": "Hello,\nI also encounter this problem since switching to ionic V4 and its latest plugin \"cordova-plugin-ionic-webview\" without finding an alternative.\nI wish I could connect with other social networks (Facebook, Twiter, etc.)\nIf I understand correctly the problem comes from an ionic webview compatibility issue that uses an internal web server.\nDo you plan to patch this to make it compatible with this one?\nThank you in advance for your responsiveness :). ",
    "ngrealish": "I'm also having an issue with this.  Both signInWithRedirect and signInWithPopUp don't work.  When I use redirect, I get the exact same issue as above with the same alert boxes.  I have everything upgraded\n\"dependencies\": {\n    \"@angular/common\": \"6.0.9\",\n    \"@angular/core\": \"6.0.9\",\n    \"@angular/fire\": \"^5.1.1\",\n    \"@angular/forms\": \"6.0.9\",\n    \"@angular/http\": \"6.0.9\",\n    \"@angular/platform-browser\": \"6.0.9\",\n    \"@angular/platform-browser-dynamic\": \"6.0.9\",\n    \"@angular/router\": \"6.0.9\",\n    \"@ionic-native/core\": \"5.0.0-beta.14\",\n    \"@ionic-native/splash-screen\": \"5.0.0-beta.14\",\n    \"@ionic-native/status-bar\": \"5.0.0-beta.14\",\n    \"@ionic/angular\": \"4.0.0-beta.0\",\n    \"@ionic/ng-toolkit\": \"1.0.0\",\n    \"@ionic/schematics-angular\": \"1.0.0\",\n    \"angularfire2\": \"^5.0.0-rc.11\",\n    \"cordova-android\": \"7.1.4\",\n    \"cordova-browser\": \"^5.0.4\",\n    \"cordova-ios\": \"^4.5.5\",\n    \"cordova-plugin-device\": \"^2.0.2\",\n    \"cordova-plugin-file\": \"^6.0.1\",\n    \"cordova-plugin-file-transfer\": \"^1.7.1\",\n    \"cordova-plugin-ionic\": \"^5.2.10\",\n    \"cordova-plugin-ionic-keyboard\": \"^2.1.3\",\n    \"cordova-plugin-ionic-webview\": \"^2.3.2\",\n    \"cordova-plugin-splashscreen\": \"^5.0.2\",\n    \"cordova-plugin-whitelist\": \"^1.3.3\",\n    \"core-js\": \"^2.5.3\",\n    \"dragula\": \"^3.7.2\",\n    \"firebase\": \"^5.7.3\",\n    \"hammerjs\": \"^2.0.8\",\n    \"jquery\": \"^3.3.1\",\n    \"moment\": \"^2.22.2\",\n    \"rxjs\": \"6.2.2\",\n    \"zone.js\": \"^0.8.26\"\n  },. ",
    "euberdeveloper": "Thank you! \nActually, I had already changed all the code to use promises, I was new with observables and when I learn something new I have the vice of applying it everywhere.\nNow, also by looking firestore, I understood better when obs are needed and when not\nThank you. ",
    "aligassan": "@codediodeio you are right . after l updated npm i rxjs-compat the code working fine . thank you . Sure, thanks . Sure thank you . ",
    "jonathan-chin": "It seems the error comes from using https.onRequest instead of https.onCall.. Thanks @davideast I guess my question is if the wrapper exposes this functionality. I believe it already exists from the JS side.. If this is useful to anyone (it was immensely useful for me), the solution already exists. I implemented this kludge from AngularFire1:\nhttps://github.com/firebase/firebase-js-sdk/issues/941#issuecomment-421894947. ",
    "Tolitech": "I had already tried this option, as I described above.\nI had already gone through this post and a few others.\nI'll keep trying.\nthank you.. hello, @realronchi \nWe had to change the strategy and separate each PWA into subdomains.. ",
    "realronchi": "@Tolitech Alguma novidade?. ",
    "gonzad77": "I tried your recommendation , but the document is not being deleted form my firebase database in both cases.. ",
    "galki": "The docs leave me confused - why does it still say AppModule when I can just change the firebase config directly? ~Also my attempt at using StorageBucket to specify a non-default bucket in a lazy-loaded module did not work.~ \u2190 solved by importing AngularFireStorageModule in same module. ",
    "aravindas4": "In app.module.ts we have code snippet like this: \nproviders: [\n        { provide: StorageBucket, useValue: 'xyz-1' }\n]\nWe need to implement dynamic useValue. We'll get the value after login happens. (Ex: 'xyz-2').\nIs there a way to do?. ",
    "tanaytoshniwal": "As the Angularfire2 v5+ rc10 requires rxjs6, you need to install rxjs-compat for angular version < 6.0:\nnpm install rxjs@6 rxjs-compat@6 promise-polyfill --save. ",
    "alanjo4": "Yes, already install rxjs, and got this error \"Cannot find module 'rxjs-compat'.\". @hiepxanh Hey! I already resolvet it. Thank u for ur help, romove my node_modules and then install again works for me!. ",
    "mazlano27": "Hi @davideast, it's as follows:\nimports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    MaterialModule,\n    FlexLayoutModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule,\n    AngularFireAuthModule,\n    Routing,\n    FormsModule,\n    ReactiveFormsModule,\n    HttpClientModule\n  ]. @Wordenskjold In this project, i'm using rxjs v6.3.2. ",
    "Wordenskjold": "Hi @mazlano27! What version of rxjs are you running? The new version of AngularFire requires rxjs v6, which was not the case previously.. ",
    "buzzware": "I've got this problem with 5.5.7. Deleting package-lock.json then npm install did not fix it for me. I'm not using Angular or RxJS.\nUPDATE: removing node_modules and package-lock.json then npm install did fix it for me. ",
    "davvoz": "The solution that works for me is \npackage.json -> dependecies -> \"firebase\":\"^5.5.0\"\n. ",
    "gilcreque": "I just had a group of students setting up Angular and Firebase and ran across this error. Any word on getting a fix? \nWhat was put in package.json from following the tutorial: \"firebase\": \"^5.8.3\",\nI had them put in: \"firebase\": \"^5.4.2\",, delete the node_modlues folder and package-lock.json, and run npm install ` again. It worked like charm.. ",
    "yglin": "Bumped into this problem today, also solved it by\n1. Delete node_modules and package-lock.json\n2. npm install again.\nBy the way, my firebase version is the same 5.9.0 before and after the solution.\nSo... Don't really know what the problem is.... ",
    "Max5007": "this.db.list('/categories', ref => ref.orderByChild('name')).valueChanges()\nreturn an ListObservable which changes the $key value. There is a way to fix it by using snapShotChanges() method instead of valueChanges().\nBut for now, you can proceed by binding c.key instead of c.$key. Also, to make this work, you have to add an extra node of key with same category on your firebase database. See if this works for you.. ",
    "edycarreyes99": "i have the same problem too... Exactly like you are discribing it. Someone that can help us please?. ",
    "docaohuynh": "@edycarreyes99  I have found that you must copy all dependencies on package json to functions/package.json and install it. ",
    "agustinhaller": "@jamesdaniels when the documentation says AngularFireMessaging is not compatible with the Angular Service Worker does that mean there's a technical incompatibility?\nI just tried combining both service workers in a combined-worker.js\njavascript\nimportScripts('ngsw-worker.js');\nimportScripts('firebase-messaging-sw.js');\nAnd register that one in my AppModule\ntypescript\nAngularFireModule.initializeApp(environment.firebase),\nAngularFireMessagingModule,\nServiceWorkerModule.register('combined-sw.js', { enabled: environment.production })\nEverything seems to be working ok (at least on my early smoke tests). I am missing some technical details in my solution? Am I oversimplifying the incompatibility between both service workers?. ",
    "kbala": "Yes, it doesn't trigger for second time changes. Any help please..... ",
    "futuredayv": "I started to learn about RxJS recently and I don't think it is an appropriate way to use Subjects like this but I am using Subjects on services to hold and serve data. Not the best but surely works for me. It works when you revisit component because BehaviorSubject always have recently passed value.. ",
    "dalepo": "I suggest using the shareReplay operator in this case.. I have this very same issue. I use different queries with snapshotChanges() depending on user's actions, for example I have 2 use cases:\n\nUser visits a view, I get paginated queries (limit=10,20...n)\nUser downloads CSV, I query the whole collection (without limit)\n\nIn the 'whole collection subscription', I get the same results as the paginated subscriptions, it's really weird.\nIf I paginate to 20 elements on the view, I'll get the same 20 documents on the full query.\nI tried using get() but I have some issues, apparently my view hangs when I try a paginated method :/\n. ",
    "mehmet2006": "I opened same issue at firebase js sdk repository. ",
    "madhatterph": "i fixed it by ng update zone.js maybe it would fix yours too. ",
    "kim-marcel": "This could also be a problem in the firebase SDK. I've opened an issue in their repository too.. ",
    "predorock": "I have found the solution time ago, this is how i figured out:\n```typescript\n// firebase.factory.ts\nimport {Injectable, NgZone} from '@angular/core';\nimport {AngularFireAuth} from '@angular/fire/auth';\nimport {environment} from '../../environments/environment';\nexport enum ConfigNames {\n  APP = 'app-config',\n  SIGNUP = 'sign-up-config'\n}\n@Injectable()\nexport class AppAngularFireAuth extends AngularFireAuth {}\n@Injectable()\nexport class SignUpAngularFireAuth extends AngularFireAuth {}\nexport function AppAngularFireAuthFactory(platformId: Object, zone: NgZone): AppAngularFireAuth {\n  return new AppAngularFireAuth(environment.firebase, ConfigNames.APP, platformId, zone);\n}\nexport function SignUpAngularFireAuthFactory(platformId: Object, zone: NgZone): SignUpAngularFireAuth {\n  return new AppAngularFireAuth(environment.firebase, ConfigNames.SIGNUP, platformId, zone);\n}\n//firebase.module.ts\n@NgModule({\n  imports: [\n    ...\n  declarations: [\n   ...\n  ],\n  providers: [\n  ...\n    { provide: AppAngularFireAuth, deps: [PLATFORM_ID, NgZone], useFactory: AppAngularFireAuthFactory},\n    { provide: SignUpAngularFireAuth, deps: [PLATFORM_ID, NgZone], useFactory: SignUpAngularFireAuthFactory},\n  ],\n  exports: [\n   ...\n  ]\n})\nexport class FirebaseModule { }\n```\nBasically I have two instances of Firebase Auth, because firebase by default keeps one session per instance so you cannot for example register another user while you are logged in.. Same problem for me.\nAngular CLI: 6.0.8\nNode: 8.11.3\nOS: darwin x64\nAngular: 6.0.5\n... animations, common, compiler, compiler-cli, core, forms\n... http, language-service, platform-browser\n... platform-browser-dynamic, router\nPackage                           Version\n@angular-devkit/architect         0.6.8\n@angular-devkit/build-angular     0.6.8\n@angular-devkit/build-optimizer   0.6.8\n@angular-devkit/core              0.6.8\n@angular-devkit/schematics        0.6.8\n@angular/cdk                      6.4.7\n@angular/cli                      6.0.8\n@angular/fire                     5.1.0\n@angular/material                 6.4.7\n@ngtools/webpack                  6.0.8\n@schematics/angular               0.6.8\n@schematics/update                0.6.8\nrxjs                              6.2.2\ntypescript                        2.7.2\nwebpack                           4.8.3\n. ",
    "Jonasdero": "When using .signInWithRedirect it routes me to a correct google Login site but redirects me (of course) to the hosted site. So this would be a workaround but not suitable for development. Resolved: Problem was that Kaspersky blocked the scripts. ",
    "fmandres92": "I have the same issue please. How can help me ??. ",
    "KourdacheHoussam": "Hello, i'am facing to the same error, nothing found to resolve this ?. ",
    "lehno": "Need this option as well. @chrismclarke have you find a way of doing this without the angularfire2 implementation?. Saw it was merged, when will it be released?. Testing it now, thanks. Waiting for this. ",
    "felipealbinogomes": "Me too, I need this option as well. ",
    "rcomiskey": "I require this too . ",
    "adrgerez": "Same error here.... ",
    "mtschauer": "I'm having this issue as well. Thank you for documenting it so well. Do you know if StaticInjectorService is specific to Ionic? I don't see how to implement in plan AngularFire. Thanks!. ",
    "rsarky": "I have signed my CLA :smile: . ",
    "mitulgolakiya": "I just followed the same doc. same error. any luck on this? @ananbetak . I fixed it by fixing import of AngularFireModule. I was previously using the RC version and upgraded to the latest version for messaging module, so AngularFireModule was imported from angularfire2.\nBut then I see the release notes and found that this module is deprecated and it should be imported from @angular/fire which fixed the problem.\nMaybe this can be useful to someone.. ",
    "kurtzmarc": "Perhaps this is what is happening: https://groups.google.com/forum/#!topic/google-cloud-firestore-discuss/wEVPfgvLCFs. ",
    "DavidBowdoin": "I signed it!. ",
    "zhangxin511": "I am able to use the way @codediodeio did to hook up firebase and default angular ngsw-worker by do following. The foreground also receive notifications like @codediodeio point out, haven't test the background app yet. I thought the SwPush might caused the alerts on foreground app so commented out and using my own service to do logging, but it looks like not related.\napp.module.ts:\nimports: [\n    ...\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireMessagingModule,\n    ...\n  ],\napp.component.ts:\n```\nimport { Component } from '@angular/core';\nimport { SwPush } from '@angular/service-worker';\nimport { FirebaseApp } from '@angular/fire';\nimport { MessagingService } from 'services/firebase';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = '...';\n  constructor(\n    private sw: SwPush,\n    private firebase: FirebaseApp,\n    private messagingSvc: MessagingService\n  ) {\n    // this.sw.messages.subscribe(console.log);\n    const messaging = this.firebase.messaging();\n    navigator.serviceWorker.getRegistration().then(registration => {\n      if (!!registration && registration.active && registration.active.state && registration.active.state === 'activated') {\n        messaging.useServiceWorker(registration);\n        this.messagingSvc.requestPermission('');\n        this.messagingSvc.receiveMessage();\n      } else {\n        console.warn('No active service worker found, not able to get firebase messaging');\n      }\n    });\n  }\n}\n```\nmessaging.service.ts:\nrequestPermission(userId: string) {\n    this.angularFireMessaging.requestToken.subscribe(\n      (token) => {\n        console.log(token);\n      },\n      (err) => {\n        console.error('Unable to get permission to notify.', err);\n      }\n    );\n  }\n  receiveMessage() {\n    this.angularFireMessaging.messages.subscribe(\n      (payload) => {\n        console.log('new message received: ', payload);\n        // We decide not to do anything yet.\n      });\n  }. @SauceCode84 I think it may because you didn't initialize the firebase app properly in your module. Can you show how you initialize it? I think you might miss the messaging module?\nFor me, I end up not using angular dependency injection since I used dynamic firebase configurations that got from api, this is what the partial code looks like:\nThe module doing nothing for me now: \n\nThe component using the firebase messaging:\n1. import\n\n\n\ndefining as a class property:\n\n\n\ninitialize app and messaging object, note, the configs for the app is dynamic I don't know the proper way to include in module.ts therefore I get ride of the DI system of angular:\n\n. \n\n",
    "SauceCode84": "@zhangxin511 \nIt seems to fail on the line const messaging = this.firebase.messaging(); with the error that firebase.messaging is not a function.\nIs there something missing perhaps?. ",
    "ashishpatelcs": "@Chan4077 I just found and created them quickly with Github GUI. how do I combine them in a single PR?\nand what's the problem with these PRs? they all changes different files.. @davideast Thank you so much the detailed explanation. I'll create a new PR soon. . ",
    "dramentol": "+1 Why was angular 5 support dropped mid way through RC?\n@cresjie I'm using this patched version, but gotta find the right firebase version to use with it.\n@cresjie Just found this and so far it is working for me.. @davideast How is he supposed to use the new @angular/fire package when he is on angular 5?. @davideast  I guess you mean upgrade to Angular 6+, but that is not possible since Angular 5 is a dependency of Ionic 3.. @davideast No, it's not yet. What about using rxjs 6 + rxjs-compat as dependencies?. @davideast You may be right. In any case, the solution I posted up here works for me.. ",
    "tcarlsen": "@ericel already tried that, but thanks. seems like 5.5.6 fixed it. @chrillewoodz I guess it was showing the version of this package https://www.npmjs.com/package/firebase\nYou need to add that to your functions dependencies. ",
    "chrillewoodz": "@tcarlsen 5.5.6 of what exactly? Your example shows @firebase/firestore: Firestore (5.5.0) but the latest version is 0.9.0.. Please help I'm completely stuck :( . ",
    "achendrick": "The issue seems to come from #1920 (this file) resolving #1874.\nTo get around it for now, you can do this in your app.module.ts:\njavascript\nproviders: [\n  { provide: FunctionsRegionToken, useValue: 'us-central1' }\n]. ",
    "karlmnz": "same here ..., getting same as george43g with the url = https://null-mysite-dev.cloudfunctions.net/somefunc\nachendrick solution worked for me (but needs angularfire fix). ",
    "algoj": "Thanks @achendrick , it works.. ",
    "sami6002": "how to resolve the CORS errors? get firestore data doesn't happen, but function. how to resolve the CORS errors? get firestore data doesn't happen, but function. @alberthoekstra  can you tell me more detail? which file I can change? I can not found the functions.https or express. do I need to install firebase-functions and cors?  btw, I use the ngx-admin. thanks so much. \nmy code just like this https://github.com/angular/angularfire2/blob/master/docs/functions/functions.md. @alberthoekstra  can you tell me more detail? which file I can change? I can not found the functions.https or express. do I need to install firebase-functions and cors?  btw, I use the ngx-admin. thanks so much. \nmy code just like this https://github.com/angular/angularfire2/blob/master/docs/functions/functions.md. ",
    "smtapp-smtio-cloud": "\"AngularFireFunctions is super easy. You create a function on the server side and then \"call\" it by its name with the client library. This is all I find in terms of documentation for httpsCallable. \"\nWondering if there is any other useful documentation than this available for this function. \nI would like to make a POST request with multipart/form-data to a cloud function. How do I do this??\n. ",
    "M-Blobby": "\nI would like to make a POST request with multipart/form-data to a cloud function. How do I do this??\n\nSame question, how to specify POST method ?. > I would like to make a POST request with multipart/form-data to a cloud function. How do I do this??\nSame question, how to specify POST method ?. Sorry, I mean with the client side. My firebase functions is deployed and works well, but I'm searching how to call it from my application with angularfire2:\nthis.fns.httpsCallable('createNewUser')({\n          email: email,\n          password: password\n        })\n          .subscribe(res => {\n            console.log('add user', res);\n          });\nFrom the chrometools I see my request has been send with \"OPTIONS\" method and return status 400. I'm not familiar with CORS, I'm reading docs about this but if you have any clue ...\nEDIT: My problem was cors misunderstood. Your previous comment helped me. Thank you.. Sorry, I mean with the client side. My firebase functions is deployed and works well, but I'm searching how to call it from my application with angularfire2:\nthis.fns.httpsCallable('createNewUser')({\n          email: email,\n          password: password\n        })\n          .subscribe(res => {\n            console.log('add user', res);\n          });\nFrom the chrometools I see my request has been send with \"OPTIONS\" method and return status 400. I'm not familiar with CORS, I'm reading docs about this but if you have any clue ...\nEDIT: My problem was cors misunderstood. Your previous comment helped me. Thank you.. ",
    "akarai9": "WebSocket connection to 'wss://s-usc1c-nss-240.firebaseio.com/'  failed: Error in connection establishment: net::ERR_CONNECTION_CLOSED. ",
    "D2KX": "There are some restrictions to several countries (Crimea, Cuba, Iran, North Korea, Sudan, and Syria) due to sanctions imposed by the US government. This will likely be the case here, and is an issue that GitLab also ran into when they recently moved to Google Cloud.\nThat being said, your versions are also pretty old, so if you are developing behind a VPN to work around these stupid restrictions and still face problems, it might be worth trying to update your project to a newer AngularFire release.. ",
    "geromegrignon": "you need to initialize your storyList: AngularFireList;\nstoryList: AngularFireList = [];. ",
    "claimis": "Have you tried to initialize the line this.storyList = this.firebase.list('stories'); trace in your getData() in the constructor ?. ",
    "Rageshcnc": "Thanks Geromegrignon and Claimis. This worked!. \n. Thanks Geromegrignon and Claimis. This worked!. \n. ",
    "miyelo": "Hi.\nNot quite is an issue with this package, is more like bussines logic. The solution is a mix between rules [https://firebase.google.com/docs/database/security/?hl=es-419 ] on you database, then query before try login. \n. ",
    "orestes": "I'm running into the same issue\n```\nAngular CLI: 1.7.1\nNode: 9.11.2\nOS: darwin x64\nAngular: 5.2.6\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, platform-browser, platform-browser-dynamic\n... router\n@angular/cdk: 5.2.4\n@angular/cli: 1.7.1\n@angular/fire: 5.1.0\n@angular/flex-layout: 5.0.0-beta.13\n@angular/material: 5.2.4\n@angular-devkit/build-optimizer: 0.0.35\n@angular-devkit/core: 0.3.2\n@angular-devkit/schematics: 0.3.2\n@ngtools/json-schema: 1.2.0\n@ngtools/webpack: 1.10.1\n@schematics/angular: 0.3.2\n@schematics/package-update: 0.3.2\ntypescript: 2.6.2\nwebpack-bundle-analyzer: 3.0.2\nwebpack: 3.11.0\n```\nThe build process doesn't break for me but the dev-server does. Same line and error.. ",
    "Jemonge": "The error still happening. \nAngular with Angular Universal build the application correctly, but when I try to run the build using the command: firebase serve --only functions,hosting the error appears.\nThe error also appears when I try to upload the build to firebase using the command: firebase deploy.\n```\nC:\\angular-universal\\functions\\node_modules\\@angular\\fire\\bundles\\messaging.umd.js:23\n                var requireMessaging = rxjs.from(import('firebase/messaging'));\n                                                 ^^^^^^\nSyntaxError: Unexpected token import\n    at createScript (vm.js:80:10)\n    at Object.runInThisContext (vm.js:139:10)\n    at Module._compile (module.js:607:28)\n    at Object.Module._extensions..js (module.js:654:10)\n    at Module.load (module.js:556:32)\n    at tryModuleLoad (module.js:499:12)\n    at Function.Module._load (module.js:491:3)\n    at Module.require (module.js:587:17)\n    at require (internal/module.js:11:18)\n    at Object.@angular/fire/messaging (C:\\angular-universa\\functions\\dist\\server\\main.js:2303:18)\nShutting down...\n```\n. @davideast, @jamesdaniels  I have a clean installation with Angular Universal and @angular/fire here:\nhttps://github.com/Jemonge/angular-universal-firebase\nAfter installing @angular/fire and configuring AngularFireMessagingModule in app.module.ts I got the same error.\nYou can reproduce the error following these steps:\n\ngit clone https://github.com/Jemonge/angular-universal-firebase.git\ncd angular-universal-firebase\nnpm install\nnpm run build:ssr\nnpm run serve:ssr\n\n. Any news about this problem? Any estimated date when it could be solved? \nMy project has been delayed by this problem. :confused:. @jamesdaniels the error is not building the application, the application breaks when it's running and it calls Messaging.\nHe has the same problem: https://github.com/angular/angularfire2/issues/1938#issuecomment-436322753. The error was solved deleting the folder node_modules/@angular and installing again.. I'm facing the same issue. Please help with this error.. ",
    "CaerusKaru": "Until @davideast can find a way to not have import in the UMD bundles, you'll need to use Webpack to bundle your server build. We handle this for you if you use the Angular Universal schematics instead of the universal-starter or the default Universal schematics.\nTo set up, do the following:\nbash\nng new <projectName>\ncd <projectName>\nng add @nguniversal/express-engine --clientProject <projectName>. ",
    "James-Brown98": "Looks like this has been fixed with firebase@5.5.9. ",
    "SaMiCoOo": "@markgoho I agree, I spent 2 days checking and testing my app, thought I had my lazy load setup broken, took me a lot of time to actually notice it was from the build-optimizer. \ud83d\ude1e . ",
    "avances123": "I signed it!\nEl s\u00e1b., 3 nov. 2018 a las 22:25, googlebot (notifications@github.com)\nescribi\u00f3:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project (if not, look below for help).\nBefore we can look at your pull request, you'll need to sign a Contributor\nLicense Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I\nsigned it!) and we'll verify it.\n\nWhat to do if you already signed the CLA Individual signers\n\nIt's possible we don't have your GitHub username or you're using a\n   different email address on your commit. Check your existing CLA data\n   https://cla.developers.google.com/clas and verify that your email is\n   set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are\n   authorized to participate. Ask your POC to be added to the group of\n   authorized contributors. If you don't know who your Point of Contact is,\n   direct the Google project maintainer to go/cla#troubleshoot (Public\n   version https://opensource.google.com/docs/cla/#troubleshoot).\nThe email used to register you as an authorized contributor must be\n   the email used for the Git commit. Check your existing CLA data\n   https://cla.developers.google.com/clas and verify that your email is\n   set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\nThe email used to register you as an authorized contributor must\n   also be attached to your GitHub account\n   https://github.com/settings/emails.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/1944#issuecomment-435622056,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAIWeSsy1mBH0vKYXZQcqN23OPZ8b2Cpks5urgnggaJpZM4YNAgX\n.\n. \n",
    "RavenColEvol": "root@kali:~# npm install @angular/fire firebase --save\nnpm ERR! Unexpected end of JSON input while parsing near '...11.4.1\",\"ts-loader\":\"'\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2018-11-09T07_54_18_957Z-debug.log\n. ",
    "dnayak696": "same issue...\nunexpected end of Json input. npm install firebase @angular/fire --save\nthis command shows error while installing angularfire. ",
    "abbassiddiqi": "Cleaning the corrupted local npm cache may fix this error.\nnpm cache clean --force\n\nJust run your npm command again after executing the above command in your terminal.\n\nThere could be few other reasons for the invalid JSON, as described in the official documentation here.\nThe official npm website has well documented most of the common errors. But unfortunately they don\u2019t appear on the top results when you google the error.. ",
    "sercada": "Hi, I'm having the same issue deploying the Library in an Ionic 4 app : \nVersion info\n\"@angular/common\": \"~6.1.1\",\n\"@angular/core\": \"~6.1.1\",\n\"@angular/fire\": \"^5.1.0\",\n\"@angular/forms\": \"~6.1.1\",\n\"@angular/http\": \"~6.1.1\",\n\"@angular/platform-browser\": \"~6.1.1\",\n\"@angular/platform-browser-dynamic\": \"~6.1.1\",\n\"@angular/router\": \"~6.1.1\",\n\"@ionic-native/core\": \"5.0.0-beta.21\",\n\"@ionic-native/splash-screen\": \"5.0.0-beta.21\",\n\"@ionic-native/status-bar\": \"5.0.0-beta.21\",\n\"@ionic/angular\": \"4.0.0-beta.15\",\n\"core-js\": \"^2.5.3\",\n\"firebase\": \"^5.5.8\",\n\"rxjs\": \"6.2.2\",\n\"zone.js\": \"^0.8.26\"\n\nActual behavior\nERROR in node_modules/@angular/fire/firebase.app.module.d.ts(2,79): error TS2307: Cannot find module 'firebase/app'.. Well, I've found that I was using Node.JS Latest version (11.1.0). I just changed the environment to Node LTS version and it works like charm. \nNo need to revert to previous versions of @angular/fire \n. ",
    "georgelviv": "+1. Temporary fix. revert to version\nnpm i --save firebase@5.0.3 @angular/fire@5.0.2. ",
    "bonusskate": "npm i firebase . ",
    "akshatbhargava123": "You can get downloadUrl like this:\nIn your service:\nuploadImageToFirebase(file) {\n  const randomId = new Date().getTime() + Math.random().toString(36).substring(2);\n  const ref = this.afStorage.ref(randomId);\n  const task = ref.put(file);\n  return {\n    task: task.snapshotChanges(),\n    ref,\n    path: randomId\n  };\n}\n\nIn your component:\nconst { task, ref, path } = this.utilService.uploadImageToFirebase(event.target.files[0]);\n\ntask.subscribe(\n  snapshot => {\n    // get image upload progress\n    this.imageUploadProgress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n  },\n  error => alert('Some error occured while uploading the picture'),\n  () => ref.getDownloadURL().subscribe(downloadUrl => {\n    // finally get download url from ref on completion of observable\n    alert('Image uploaded!');\n\n    // and push it to your db or anywhere\n    this.images.push({\n      downloadUrl,\n      path\n    });\n    this.uploadingImage = false;\n  })\n);\n\n. ",
    "jereckley": "Same issue... as soon as I subscribe to snapshot changes I get insufficient permissions. I've been over and over my rules... they are good. Request should work.. ",
    "karx": "In your app.module.ts, import AngularFireDatabaseModule instead of AngularFireDatabase.\nAnd then you can use AngularFireDatabase in your service/component \n```\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\n......\nimports: [\n....\nAngularFireDatabaseModule,\n.....\n]\n```. ",
    "stephanfx": "Doubt it, I tried without the take 1, still it returns nothing. Also, I am unsure how you say there is no clear error, what more info do you need to confirm this? \nOn Thu, 03 Jan 2019, 19:45 James Daniels <notifications@github.com wrote:\n\nIs it your take(1) returning only the cached results maybe?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/issues/1967#issuecomment-451221273,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAnkmpxt6_On2lscejtOnSg_dwmT01PUks5u_kG9gaJpZM4Y_WNV\n.\n. Hi again, created a stackblitz to illustrate this issue. https://stackblitz.com/edit/angular-unable-search-objects?file=app%2Fapp.component.ts. . \n",
    "Alphonse99": "I got error\n\nUnhandled Promise rejection: Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing. ; Zone:  ; Task: Promise.then ; Value: DOMException: Failed to execute 'transaction' on 'IDBDatabase': The database connection is closing.\nwhen try to open in multitab on chrome. \n",
    "peterpeterparker": "@jamesdaniels thx for the feedback. exactly it's what I meant, just the doc \"need\" to be updated. ",
    "JavierConde": "Hello, sorry for the interspersed text.\nThe problem is that it hangs on that line, if I use the AngularFireDatabase module.\nThese are the packages that I am using.\nOne solution that I found, was to make a downgrade of the Database version:\nnpm install firebase angularfire2 --save\nnpm uninstall @ firebase / database\nnpm install @ firebase / database @ 0.2.1\nin this way I was able to compile without problems.\nBut the error would be in some version incompatibility.. ",
    "jtpdev": "I have the same problema when I import the AngularFireDatabaseModule to my app.module.ts in ionic project.. Someone knows a workaround to make it work?. Well I'm using AngularFireDatabase to access the database, so I cannot remove the  AngularFireDatabaseModule import.. Oh I think I understood... I'm going home now anda I'll tri do ti.. @salmoro, If I understood right, the fix you found was to remove the import of firestone, correct? If so, I can not do it, because I do not have this import in the code anywhere :(\nMy imports are: \n```\n// app.module.ts\nimport { AngularFireModule } from '@angular/fire';\nimport { AngularFireAuthModule } from '@angular/fire/auth';\nimport { AngularFireDatabaseModule } from '@angular/fire/database';\nimport { AngularFireStorageModule } from '@angular/fire/storage';\n// provider.ts\nimport { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\n// auth.service.ts\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport * as firebase from 'firebase/app';\nimport AuthProvider = firebase.auth.AuthProvider;\n```\nAnd in my package json I have:\n\"@angular/fire\": \"^5.1.0\",\n\"firebase\": \"^5.5.6\",\n\nAny idea?. I try remove firebase import and remove it of my package.json as well. But now don't build 'cause the @angular/fire didn't find the firebase/app\n```\n[09:56:38]  typescript: ...cts/ionic-projects/garcomnet/node_modules/@angular/fire/firebase.app.module.d.ts, line: 2\n            Cannot find module 'firebase/app'.\n   L1:  import { InjectionToken } from '@angular/core';\n   L2:  import { app, auth, database, firestore, functions, messaging, storage } from 'firebase/app';\n   L3:  export declare type FirebaseOptions = {\n\n[09:56:38]  typescript: C:/projects/ionic-projects/garcomnet/node_modules/@angular/fire/auth/auth.d.ts, line: 4\n            Cannot find module 'firebase/app'.\n   L3:  import { FirebaseAppConfig, FirebaseOptions } from '@angular/fire';\n   L4:  import { User, auth } from 'firebase/app';\n   L5:  import { FirebaseAuth } from '@angular/fire';\n\n[09:56:38]  typescript: ...cts/ionic-projects/garcomnet/node_modules/@angular/fire/database/interfaces.d.ts, line: 2\n            Cannot find module 'firebase/app'.\n   L1:  import { Observable } from 'rxjs';\n   L2:  import { database } from 'firebase/app';\n   L3:  export declare type FirebaseOperation = string | database.Reference | database.DataSnapshot;\n\n[09:56:38]  typescript: ...ects/ionic-projects/garcomnet/node_modules/@angular/fire/storage/interfaces.d.ts, line: 1\n            Cannot find module 'firebase/app'.\n   L1:  import { storage } from 'firebase/app';\n   L2:  export declare type UploadTask = storage.UploadTask;\n\n[09:56:38]  typescript: ...c-projects/garcomnet/node_modules/@angular/fire/storage/observable/fromTask.d.ts, line: 3\n            Cannot find module 'firebase/app'.\n   L2:  import { UploadTask } from '../interfaces';\n   L3:  import { storage } from 'firebase/app';\n   L4:  export declare function fromTask(task: UploadTask): Observable<storage.UploadTaskSnapshot>;\n\n```. I removed all imports from firebase, the problem above occurs inside the @angular/fire \ud83d\ude25\nThanks @salmoro \nI'll wait.... @nilebma it works perfectly. Thanks a lot.. ",
    "acegreen": "Tried it, it didn\u2019t make a difference . ",
    "JonasJW": "Thanks for the help!\nI'm not 100% sure if I fully understand what you mean but I do actually want to await my programm and I don't really care at this point if there will be an update to the programm data. So awaiting a promise should be fine to my knowledge.\nHowever I did update my minimum repo so it doesn't use any Promises and my problem still exists. I also cleaned up a lot of code thats not neccessary to show the problem. Here are the updated functions:\nasync loadExerciseForTutor(programmId: string, sectionId: string, routineIndex: string, exerciseIndex: string) {\n    this.db.collection('Programms').doc(programmId).collection('Sections').doc(sectionId).valueChanges().subscribe(\n        async (sec: Section) => {\n            console.log('loaded Section Item', sec);\n        }\n    );\n}\n\nasync loadFullProgramm(id: string) {\n    this.db.collection('Programms').doc(id).valueChanges().subscribe(\n        async (programm: Programm) => {\n            programm.id = id;\n            this.loadSections(programm);\n        }\n    );\n}\n\nprivate async loadSections(programm: Programm) {\n    const pipe = this.db.collection('Programms').doc(programm.id).collection('Sections').snapshotChanges().pipe(\n        map(changes => changes.map(a => {\n            const section = a.payload.doc.data() as Section;\n            section.id = a.payload.doc.id;\n\n            return section;\n\n        }))\n    );\n    const sub = pipe.subscribe(\n        (sections: Section[]) => {\n            programm.sections = sections;\n            console.log(programm.sections, 'Loaded Sections List');\n            sub.unsubscribe();\n        }\n    );\n}. Ah Thank you! Now I get it. Using `take(1)` seems to work. I really appreciate the help!.\n",
    "AJHanekom": "Yes please.\n. ",
    "balajkhan07": "That would be great.. ",
    "rmolinamir": "Ran into this earlier as well, had to pass a randomly generated string using date constructors to force creation in the database as a workaround, but was totally caught off guard by this error thrown since it contradicts the docs.. If you\u2019re getting this error when trying to delete, I think you might be sending an undefined id.. ",
    "cwborion": "I am getting this error as well, when trying to delete a document, however, it is working in another place in the app, so I am extra confused.. ah yes you were right! Thank you! Because of the type and positioning of the component I needed to access the id differently. ",
    "woniel123mx": "Sorry, I solved when updated\nFirebase and angular/fire references.. ",
    "antoniomaxi": "Thanks for the Help!! @woniel123mx . ",
    "nadhir-falta": "Getting the same issue when running universal locally too. ",
    "lwolteri": "On Ionic 4 it works fine. Getting the same issue when running cordova on iOS. Version 8.1.2.. ",
    "michaelgambold": "I'm having the same issue. Did you find a work around?\nIt's very frustrating this only happens with build prod.\nEdit: Added photo of error as well if it helps\n\n. ",
    "Syntactual": "I don't believe data is a method. Take the () out and it should work. oops I was wrong. ",
    "irazvodov": "try this\ninterface Exercise {\n  name: string;\n  duration: number;\n  calories: number;\n}\nconst data = doc.payload.doc.data() as Exercise;\nconst id = doc.payload.doc.id;\nreturn {\n  id,\n...data\n}. ",
    "services4smb": "I would help, if you could show your implementation of the interceptor.\n. ",
    "Bretto": "`\nAppInterceptor\nimport {Injectable} from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport * as _ from 'lodash';\n@Injectable()\nexport class AppInterceptor implements HttpInterceptor {\n  constructor() {\n    console.log('AppInterceptor');\n  }\nintercept(request: HttpRequest, next: HttpHandler): Observable> {\n    return next.handle(request);\n  }\n}`\n{\n       provide: HTTP_INTERCEPTORS,\n       useClass: AppInterceptor,\n       multi: true\n     }\n. ",
    "davidbarrero38": "There is a lot  of alternatives to firebase, like mongoDB witch is also so popular but with all the thinks that comes firebase, storage, authentication and the documentation is very easy to develop platforms, i really recommend you to learn firebase.\nOr if you dont want to use none of these you can make your own database with nodejs and some server\n:). ",
    "Marcusg62": "I am new to angularfire2 and following the installation and setup guide I kept getting this error. I'm not sure if this error is preventing the code from working or if I'm just doing something wrong. . It doesn't seem like this is stopping any development for you, if it is you can explicitly change the version of firebase in your package.json. \n\n. ",
    "zbream": "@Marcusg62 \nUntil @angular/fire is updated, there should be no harm in clearing that setting yourself. \nWherever you import AngularFirestoreModule...\n```typescript\nimport { FirestoreSettingsToken } from '@angular/fire/firestore';\n...\n{ provide: FirestoreSettingsToken, useValue: {} }\n```\n. ",
    "SnisarOnline": "eg:  app.module.ts\nimport { AngularFirestoreModule, FirestoreSettingsToken } from '@angular/fire/firestore';\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n     ...\n     AngularFirestoreModule,\n     ...\n  ],\n  providers: [{ provide: FirestoreSettingsToken, useValue: {} }],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }. ",
    "yonathan06": "Would suggest to validate firebase peer dependency is in the right version (at least 5.8.3). Typescript expects string[] and you provide a different type (arrayUnion does not return a string array)\nI suggest to create a new interface called UserUpdate with FieldValue as the type, or add the FieldValue as a second type to regions: string[] | firebase.firestore.FieldValue. Can you provide the code where you initialize the observable?\nFrom first sight it looks like a bug in RxJS or in the async pipe in angular. Do you get any errors in any of the subscriptions?\nWhen there is an error in the parent subscription, it is unsubscribes automatically, unless you handle catch the error or wraps the subscription in an other subscription.. ",
    "fv-david": "try this dude \"angularfire2\": \"^4.0.0-rc.1\",. ",
    "Tiedye": "I signed it!. ",
    "HerveGagnon": "I was not signout the user between switching. Everything is ok now.. ",
    "alexcsandru": "I signed it! Thanks :)\nOn Fri, Feb 8, 2019 at 3:04 PM googlebot notifications@github.com wrote:\n\nThanks for your pull request. It looks like this may be your first\ncontribution to a Google open source project (if not, look below for help).\nBefore we can look at your pull request, you'll need to sign a Contributor\nLicense Agreement (CLA).\n\ud83d\udcdd Please visit https://cla.developers.google.com/\nhttps://cla.developers.google.com/ to sign.\nOnce you've signed (or fixed any issues), please reply here (e.g. I\nsigned it!) and we'll verify it.\n\nWhat to do if you already signed the CLA Individual signers\n\nIt's possible we don't have your GitHub username or you're using a\n   different email address on your commit. Check your existing CLA data\n   https://cla.developers.google.com/clas and verify that your email is\n   set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\n\nCorporate signers\n\nYour company has a Point of Contact who decides which employees are\n   authorized to participate. Ask your POC to be added to the group of\n   authorized contributors. If you don't know who your Point of Contact is,\n   direct the Google project maintainer to go/cla#troubleshoot (Public\n   version https://opensource.google.com/docs/cla/#troubleshoot).\nThe email used to register you as an authorized contributor must be\n   the email used for the Git commit. Check your existing CLA data\n   https://cla.developers.google.com/clas and verify that your email is\n   set on your git commits\n   https://help.github.com/articles/setting-your-email-in-git/.\nThe email used to register you as an authorized contributor must\n   also be attached to your GitHub account\n   https://github.com/settings/emails.\n\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/angular/angularfire2/pull/2004#issuecomment-461796214,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAsnecSOSkphSFcB8MVvLwwUm6-dF4koks5vLXXKgaJpZM4avjJT\n.\n. Auci, sorry :) I will close it. . \n",
    "Karasuni": "Duplicate of https://github.com/angular/angularfire2/pull/1994. Not sure why Travis is complaining about the other PR. Looking forward to this fix myself.. ",
    "miroprocessor": "I solved this issue by importing firestore from firebase/app\nimport * as firebase from 'firebase/app';\nthen using it in update method \nthis.AngularFirestoreObj.doc('document-path')\n      .ref.update({ arrayField: firebase.firestore.FieldValue.arrayUnion(new_Item)}). ",
    "Karman40": "constructor( ... ) {\n    const kategoriaURL = this.getCategoryUrlFromPath();\n    this.getKategoria(kategoriaURL);\n}\n\ngetCategoryUrlFromPath(): string {\n    const currentPath = this.location.path();\n    const splittedPath = currentPath.split(/\\//g);\n    return splittedPath[splittedPath.length - 1];\n}\n\ngetKategoria(url) {\n    this.kategoriaDoc = this._afs.doc('kategoria/' + url);\n    this.kategoria = this.kategoriaDoc.valueChanges();\n}. ",
    "uncvrd": "@alberthoekstra thanks for the suggestion! No luck there unfortunately. I did make some progress and maybe my concept of observables is off but I have the following observable on two different tabs within ngOnInit: Home and Search.\nthis.auth.user$.subscribe((user) => {\n    console.log(user)\n})\nWhen the app loads up, the home page is loaded and I subscribe to this.auth.user$ in my ngOnInit like seen above. I route to my profile tab and register. I go back to my home page and nothing is logged to my screen, but when I visit my search page for the first time (which also has the this.auth.user$ on init) it prints out my user info as expected. \nBut what I don't understand is, I do the same exact thing with the login feature from AngularFire. I start on the Home Page -> go to profile page and log in -> and when I route to the home page for the first time, all my data is loaded (this part doesn't happen when I use the register function)\nI can make a video of this if it is confusing haha. @alberthoekstra so I made more progress and would like your opinion on best practices with the authState. In my AuthService constructor I initially had the following, which queries for a firebase document:\nthis.user$ = this.afAuth.authState.pipe(\n      switchMap(\n        (user) => {\n          return user ? db.doc$(`users/${user.uid}`) : of(null)\n        } \n      )\n    );\nIn my DbService you can see the method here:\ndoc$(path): Observable<any> {\n    return this.afs\n      .doc(path)\n      .snapshotChanges()\n      .pipe(\n        map(doc => {\n          return { id: doc.payload.id, ...doc.payload.data() };\n        })\n      );\n  }\nAnd when I register, the authState changes which means that observable in my AuthService constructor is triggered again. However, when I change to my custom api backend it stops working\nThis is now my authState observable in my `AuthService:\nthis.user$ = this.afAuth.authState.pipe(\n      switchMap(\n        (user) => {\n          return user ? db.query$(`user/find?userUID=${user.uid}`) : of(null)\n        } \n      )\n    );\nWhere query$ is an HttpClient GET request to my db.\nquery$(path: string, data?: Object) {\n    if(data) {\n      return this.http.post(`${this.apiUrl}/${path}`, data)\n    } else {\n      return this.http.get(`${this.apiUrl}/${path}`);\n    }\n  }\nMy theory is that when the authState is changed, the data in the database hasn't been added yet so when it's triggered to update the this.user$ variable in AuthService, it still doesn't find anything to return. Unlike Firestore document subscriptions which pushes an update to the observable when something changes in the database. A normal HttpClient GET only sends one response to the observable on the initial GET request. Is this theory correct?. ",
    "s2young": "I signed it. ",
    "zainfathoni": "Hi @yashmurty , just a small misspell.\nYou misspelled reference to refernece.\nThanks. \ud83d\ude04 \n. ",
    "taylorjason2016": "@mukesh51 \nI've confirmed on multiple machines and a fresh Ubuntu VM. Also reported by others in my company. Is it possible this used to be an issue and therefore it's a version problem?\n. ",
    "sphippen": "Hmm, is the problem just that you don't get an event inside the 'state_change' stream that indicates 100% progress? Based on my understanding of the code, that shouldn't be happening. I'll test it out.. I tested some code that looks like this:\nvar task = ref.put(getFiles()[0]); task.on('state_changed', (snap) => { console.log(snap.bytesTransferred + ' / ' + snap.totalBytes); }, () => { console.log('error'); }, () => { console.log('done'); });\nand the snapshot callback was called with bytesTransferred == totalBytes before the \"done\" callback was called.\nIs that consistent with what you are seeing? I don't understand the context here very well, so it'd help if you could make a MCVE of the thing you consider a bug.. ",
    "NielsNijhofJool": "storage undefined.\nChange private afs: AngularFireStorage to private storage: AngularFireStorage.. ",
    "Worthy7": "With the latest version of the typings and the sdk, it says it cannot find auth. If I use default as shown, it not only compiles, but also runs fine.. ",
    "rafaelzuckerberg": "Thanks. "
}