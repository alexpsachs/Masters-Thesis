{
    "deadprogram": "This is at least a huge step forward... let's merge it and keep working from there. Good one @XixeBombilla!\n. Commanding! Merging...\n. :zap: merging...\n. Thanks! Merging...\n. :lantern: merging\n. Merging...\n. Merging...\n. Merging this too...\n. @jingweno I think you might need to connect to the Sphero using a serial to socket proxy such as socat to use this library. @adzankich can you confirm?\n. Artoo already supports both serial and socket based communication seamlessly \"under the hood\". Gobot does not  yet have this feature, gobot-sphero requires socket based communication.\n. Go! Merging...\n. I suggest run gofmt -tabwidth=2 on all the examples. \n. I was serious about running gofmt -tabwidth=2 when are we going to do this?\n. @XixeBombilla please run this command on all examples, and ideally add it to the script that imports them.\n. Looks good. Merging...\n. :fast_forward: merging...\n. :books: :books: :books: \n. :book:\n. That commit is massive... :truck: \n. :+1: \n. :book: \n. :book: \n. :book: \n. :books: \n. :footprints: \n. :books: \n. :scroll: \n. :ring: \n. :books: \n. :gift: \n. :stars: \n. :scroll: :scroll: :scroll: \n. I see some Cylon.js references in the examples....\n. :banana: \n. I find this a bit confusing. Specifically, having these breadcrumbs below the page-level navigation is weird:\n\nAnd I do not see any way to visually switch them. We should probably not do this.\n. @hunterboerner that certainly looks better to me, and uses up less space. @MarioRicalde & @dfischer any opinion?\n. :+1:\n. :book: \n. :book: \n. @zankich needs to review this one, please.\n. Thanks!\n. :rocket: \n. :cake: thank you!\n. $ make test\ngo test ./...\nok      github.com/hybridgroup/gobot    0.011s\nok      github.com/hybridgroup/gobot/api    0.007s\n?       github.com/hybridgroup/gobot/examples   [no test files]\n?       github.com/hybridgroup/gobot/gobot  [no test files]\nok      github.com/hybridgroup/gobot/platforms/ardrone  0.003s\nok      github.com/hybridgroup/gobot/platforms/beaglebone   0.006s\nok      github.com/hybridgroup/gobot/platforms/digispark    0.003s\nok      github.com/hybridgroup/gobot/platforms/firmata  3.015s\nok      github.com/hybridgroup/gobot/platforms/gpio 0.003s\nok      github.com/hybridgroup/gobot/platforms/i2c  0.002s\nok      github.com/hybridgroup/gobot/platforms/joystick 0.009s\nok      github.com/hybridgroup/gobot/platforms/leap 0.003s\nok      github.com/hybridgroup/gobot/platforms/neurosky 0.003s\nok      github.com/hybridgroup/gobot/platforms/opencv   0.020s\nok      github.com/hybridgroup/gobot/platforms/pebble   0.002s\nok      github.com/hybridgroup/gobot/platforms/spark    0.003s\nok      github.com/hybridgroup/gobot/platforms/sphero   1.002s\n. \"We can\u2019t automatically merge this pull request.\" looks like needs some merge love...\n. :telescope: \n. :stars: :statue_of_liberty: :station: :stars: \n. Why are tests failing?\n. Would be great to have a better API for that, for sure.\n. Hi, @nathany \nDid you ever look over the added functionality for Sphero, and see if it addressed your needs?\nIf so, can you please close this issue? Thanks.\n. I am closing this issue due to age. Please reopen if needed, and thanks!. Thanks for reporting!\n. This project is under very active development by many people. Please contribute too! \nIf not, at least please check back often to see if issues or lack of docs you mention has been addressed.\nThanks!\n. Also, be aware that the dev branch is the active development branch as we mention here: https://github.com/hybridgroup/gobot#contributing\nThanks!\n. @zankich can you please help out here?\n. All that is needed to add Raspi support to Gobot is to create a mapping similar to https://github.com/hybridgroup/gobot/blob/master/platforms/beaglebone/beaglebone_adaptor.go\n. Now that the sysfs code has landed in the dev branch, seems like this should be pretty easy to do...\n. :bulb: \n. This is actually a gort issue: it currently only supports Arduino Uno, due to only including that .HEX data. You should report it over there.\n. Anything ever happen with this?\n. This PR is just too far out of date, despite being interesting. Closing.. :syringe: \n. :grapes: \n. :seedling: \n. :scissors: \n. :mount_fuji: \n. :mountain_railway: \n. :mountain_cableway: \n. Hi @scottefein I know this is seriously like years overdue, but just added support to the dev branch for this feature.. :+1: \n. You might want to open a new issue @matipan this one has been closed for a long time.. :globe_with_meridians: \n. @mwskz8 hopefully this answers your questions. We will reopen if needed. Thanks!\n. Hi @losinggeneration looks to me like you are absolutely correct. Would you be willing to submit a PR with that fix?\n. Seems like this was addressed already. Please reopen if needed.\n. Hi, @blalor \nDid you ever create a fix for this issue, and if so, can you submit a PR?\nThanks!\n. This issue should now be addressed in the https://github.com/hybridgroup/gobot/tree/feature/beaglebone-4 branch.. Here is a PR for any comments: https://github.com/hybridgroup/gobot/pull/342. This has been merged into the dev branch. Thanks everyone!. OK, @zankich they've been squashed.\n. Hi, everyone\nI think the docs located here are sufficient: https://github.com/hybridgroup/gobot/blob/dev/platforms/firmata/README.md\nIf not, someone can re-open this issue. Thanks, and closing.\n. Hi @kedare the original example code works for me, albeit by changing my serial port to /dev/ttyACM0 as I am on Linux.\n$ go run ./examples/check.go \n2017/01/08 17:29:05 Initializing connections...\n2017/01/08 17:29:05 Initializing connection Firmata ...\n2017/01/08 17:29:05 Initializing devices...\n2017/01/08 17:29:05 Initializing device LED ...\n2017/01/08 17:29:05 Robot bot initialized.\nStarting\n2017/01/08 17:29:05 Starting Robot bot ...\n2017/01/08 17:29:05 Starting connections...\n2017/01/08 17:29:05 Starting connection Firmata on port /dev/ttyACM0...\n2017/01/08 17:29:10 Starting devices...\n2017/01/08 17:29:10 Starting device LED on pin 13...\n2017/01/08 17:29:10 Starting work...\nUpdating LED\nUpdating LED\nUpdating LED\nUpdating LED\nUpdating LED\nUpdating LED\nSince the v1.0 release you can use \"Classic Gobot\" as the first example does, so no need for the Master() part.\nI then tested the code on OSX, and both examples worked with my serialport /dev/tty.usbmodem1421. I suggest you use the tty vs the cu version of the serial port on OSX.\nHope that helps!. Hi, @lkalneus did you flash the Firmata sketch onto your Arduino before running Gobot? You can use Gort (http://gort.io) to do this.\n. That looks really cool. Seems like it would be relatively easy to add support for it via standard Linux GPIO and just getting the mappings setup in similar fashion to how Beaglebone Black is https://github.com/hybridgroup/gobot/blob/master/platforms/beaglebone/beaglebone_adaptor.go#L37-L125\n. Paging Mr. @rayhightower here! :)\n. Hi @befedo I do not have this particular hardware myself for testing, but I'd be happy to help someone who does.. The dev branch of Gobot has many changes, one of which is that you can now run Gobot just using Robots aka \"Classic Gobot\". You can also use \"Master Gobot\" if what you want is to control multiple robots or use the API.\nI am going to close this issue, please reopen if needed. Thanks.\n. Hi, @stengaard sorry I have not followed up on this PR. These days the work in progress branch is the dev branch, so this PR should be submitted against that branch. Can you please look at doing that, sinec it looks like a great thing to have!\nAny opinion from @trevrosen or @mattetti on this code?\n. Hi, @guochongxin \nHave you recently tried out Ubuntu on the BBB? Alternatively, have you looked into Ubuntu Snappy Core?\n. Closing due to inactivity. Please reopen as required.\n. Hi, @coxx \nWe do not have Ollie support yet, due to still adding core Bluetooth LE support. The Sphero is Bluetooth classic, and so was easier to add support.\nHope that helps!\n. Hi, @ryanfaerman I am working on BLE support, hope to have something pretty soon.\nThen the Ollie/BB-8 API will be next!\n. Checkout my work in progress branch here: https://github.com/hybridgroup/gobot/tree/feature/ble-wip\n. Hi, everyone\nInitial support for Ollie & BB-8 is now in Gobot 0.12+ sorry I did not update this issue. Please check it out!\n. A much needed refactor! Good stuff.\n. :zero: :one: \n. That looks about like what I expected. Example or 2 please?\n. Also, do we have this documented in the godoc?\n. This PR is no longer valid, being that it is against master instead of dev. Closing.\n. I merged directly into dev branch, as the tests appeared to be passing.\n. :book: \n. Updated to include all current platforms.\n. Works on OSX?\n. Tried on Linux, it worked, however, after terminating the example, the keys I press are no longer displayed in my terminal.\n. Looks good now, thanks @stewart \n. The docs are now updated with more info. Thanks, everyone.. Hi, @seanmarcia I picked up the corrected link in https://github.com/hybridgroup/gobot/commit/afd2e81911c5e8e62939da071ef087bdf0be1c19\nThank you!\n. Hi @saulshanabrook \nYou can use an Adaptor separately if you just want to use Gobot as a library, aka \"Metal Gobot\".\nA Robot has a Connections struct in order to manage each Connection that is under its control. Each Connection is an Adaptor to some type of hardware or software \"thing\".\nHope that helps! I am going to close this issue, please reopen if needed.\n. Thanks everyone for the good discussion. Took a while, but I've finally created https://github.com/hybridgroup/gobot/pull/336 which just returns a normal error instead of a slice of errors, and uses multierror as suggested by @mattetti in the case where a list of errors is really needed.\nPlease feel free to add any comments to the PR, otherwise it will be merged into the dev branch later this week.\n. This has now been merged into the dev branch. Thanks everyone!\n. Thanks @mattetti & @rakyll we appreciate it!\n. That has been corrected in https://github.com/hybridgroup/gobot-site/commit/68d1805c4a1856b1bb1e07169a5db80d82b4fb9b thank you for reporting!\n. Finally addressed this is part of the working done in reference to https://github.com/hybridgroup/gobot/pull/410\nThere is now a PWMPin that can used with all of the Linux SoC boards for more granular control over the PWM on each board.\nFor example:\n```\na := edison.NewAdaptor()\npin := a.PWMPin(\"3\")\n// get period\nperiod := pin.Period()\n// set to 50% duty cycle\nduty := period / 2\npin.SetDutyCycle(duty)\n```\nThis is all available in the dev branch. I will close this issue as soon as it lands in master as part of the next release.. This code has now been released as part of Gobot 1.5 so please either open a new issue if needed with any specifics, or reopen this one.\nThanks.. Make sure the switch on the side of the Grove shield is set to 5V instead of 3.3V\n. Hi, @joshk can we close this PR now?\n. @joushou the Work is the user's defined function for whatever the Robot is supposed to do. robot.Start should mean \"robot, start doing your defined work\".\nAs such, \"work\" is an important part of the semantics of the design patterns behind Gobot.\nAnyhow, this is somewhat off topic of the original issue. @pborman any chance of getting a PR against dev branch?\nThanks everyone!\n. There has been substantial changes to how Gobot handles Work. Cross-posted from https://github.com/hybridgroup/gobot/issues/283#issuecomment-255311798\nThere has been subtancial changes to how Gobot creates and manages the goroutines used. Please take a look at the dev branch to see what we've been doing: https://github.com/hybridgroup/gobot/tree/dev\nIn short:\nevery Robot's Work is now run inside of a separate goroutine that exists for the life of the Robot.\nevery Device's On and Once event handlers are each run in a separate goroutine that exists for the life of the Device.\nchannels are now used for Events, and the implementations of On and Once use the event channels as their implementation to communicate when things happen.\nThe dev branch has a lot of breaking changes, but I think you will find the syntax is simpler, and the implementation much cleaner and more concurrent by default.\nI am going to close this issue, please reopen if so needed. Thanks everyone!\n. Cool looking platform, please update or submit a new PR if you would like to add support to Gobot 1.0. Thanks.. @joushou can you please resubmit this PR against the dev branch?\n. Hi @joushou I put back part of the original code for handling the interrupt, in order to keep the default behaviour and not force all users to add this code to even a simple Gobot program in this commit https://github.com/hybridgroup/gobot/commit/632058c47aea3be68bfaa8b4dd3297d0959960c5\nThe AutoStop == true is the default, but you can set it to false in the gobot.NewGobot constructor to write your own exit handling code.\nI think this seems to accommodate the use case you want.\n. This was accommodated in a release last year. Closing, please reopen if needed.\n. Hi, @joushou there have been some recent related changes in this area as part of https://github.com/hybridgroup/gobot/pull/332 what do you think?\n. OK, I think this commit should now entirely take care of the time.Sleep() thing: https://github.com/hybridgroup/gobot/commit/9faf9eb52a5fb57bb0ff654b69ef5d9d04d356b3 \nThanks for the feedback, @joushou \n. I'm going to close this now, please reopen if needed.\n. @joushou can you please rebase the latest dev into your branch, so we can make sure the tests are passing?\n. The failure in 1.2 has nothing to do with this PR, it is because MQTT package no longer supports 1.2. \nPlus in both dev and master we now allow Travis failures in build.\nIn other words, I'm merging this.\n. Hi, @joushou \nUsing Firmata requires polling the serial port that is connected to the Arduino. THis is needed to determine if there are any pin changes, new i2c data, etc. As such, a fairly constant rate of communication is required with the serial port being used when using the Firmata protocol.\nPlease let me know if I can provide any further info, and reopen this issue if so. Thanks!\n. Hi @joushou the implementation of the Firmata's digital and analog readers should have been awaiting report notifications for a while now. I did not testing myself recently and did not see the behavior you are describing. This time I really am going to close, please open a new issue if you see this behavior. Thanks again!\n. Thanks, @aliafshar \n. The problem here is that you are trying to run the wrong thing in Gobot. You want to run your own program, that uses the various adaptors/drivers. For example, you should be trying to run one off the BBB examples.\nHope that helps!\n. Hi, @alioygur \nYou cannot run Golang directly on an Arduino. Gobot communicates with the Firmata program running on an Arduino microcontroller, by using a serial interface.\nPlease let me know if that is clear. Thank you!\n. People have done this several different ways, usually with some cloud-based component such as how Particle does it. I do not have any specific links offhand, I will look into it.\n. Hi @alioygur please checkout the recent support added to the dev branch for the ESP8266 using firmata.TCPAdaptor() here: https://github.com/hybridgroup/gobot/blob/dev/examples/wifi_firmata_blink.go\nThis will also work with any Arduino that is using a WiFi shield and has the Wifi variation of ConfigurableFirmata loaded onto the board.. Experimental support for this was just released as part of v1.1.0. Now closing.. Thank you, @pruggia \n. Thanks!\n. Hi, @brunoksato we currently use the \"Firmata\" protocol with the Arduino platform. You would need to either extend Firmata, or use some different custom firmware on the Arduino, to support the digital interface used by most of these cameras (SCCB).\nWe do have OpenCV support, but that is running on a Linux system, not on the Arduino itself. Perhaps that might suit your needs?\n. If in that scenario you will have a Linux single-board computer controlling everything, then yes. Since you cannot run Golang on the Arduino itself, that is the only way to do what you describe.\n. @brunoksato did my last answer address your question?\n. Hi, @joek can you please resubmit this PR against the dev branch? Thank you!\n. Hi, @joek this looks good, can you please resubmit against the dev branch? \nWe added some guidelines for contributors that explains why: https://github.com/hybridgroup/gobot/blob/dev/CONTRIBUTING.md#general-guidelines\nThank you!\n. Hi, @beni55 \nThanks for the PR, but it is more customary to submit one from your own commits. \nWe will be merging the bebop branch very soon, please be patient. Thanks!\n. Hi @trevrosen thanks for your question, but could you please explain what you mean by 'editing things in the \"gobot\" dummy package'? I'm sorry I'm not sure what that means.\n. I'm interested if you have any other suggestions on code organization. Relative paths are really frowned on, but I certainly know what you mean. I would probably just symlink or something to avoid that problem?\n. That sounds great, and of course @campoy suggestion nice and simple. Yes, please, PR appreciated!\n. Oops.\n. Thanks, @trevrosen \n. Done. Thanks for the reminder, I've messed up a few times on this myself.\n. If you are satisfied it is complete, then yes. :family: \n. Hi, @deadjoe we will need BLE support in order to implement support for that platform. We're working on it...\n. Hi @deadjoe we are just adding experimental support in the ble-wip branch. Currently works on OS X but we're trying to get it working on Linux as well.\n. Since I originally responded to this issue, we released v0.12.x that includes the experimental BLE support and support on OSX. The dev branch also includes the Linux support for the minidrone, which will also be released soon. \n. The docs are now updated with this info. Thanks, everyone.. Thanks @joushou can you please rebase against dev just one more time? The build there is now \"fixed\". Thanks!\n. Also, @mattetti and anyone else, any opinion about this PR?\n. Looking good, merging.\n. Hi, @ryanskidmore \nI was just looking at our implementation for MPU6050 in Cylon.js and I see a couple of differences. One in particular being https://github.com/hybridgroup/cylon-i2c/blob/master/lib/mpu6050.js#L113\nI will try to find my MPU6050 and play around with this, but if you have a chance to write a little code to send the \"wake up\" that looks to be worth trying.\n. I will play with this when I'm back in the lab later this week. Thanks for reporting.\n. This was overlooked, in part due to most of the examples having been put into the /examples directory. Having examples in both locations is a bit confusing, I think. Any thoughts on that?\n. OK how about we have platform specific examples under platforms, and multi platform can just be under examples, and put a README in both places mentioning more examples can be found in the other location.\n. That was not exactly what I was suggesting @mattetti but I like your idea better.\n. I will merge this PR, then we can deal with moving around the lower-level example in a separate commit/series of commits as needs be. Thanks!\n. :european_post_office: muy bien, gracias!\n. Hi, @sgilani \nCan you please try this code in substitute for the initialize method?\n```\nfunc (h *MPU6050Driver) initialize() (err error) {\n    if err = h.connection.I2cStart(mpu6050Address); err != nil {\n        return\n    }\n// setClockSource\nif err = h.connection.I2cWrite(mpu6050Address, []byte{MPU6050_RA_PWR_MGMT_1,\n    MPU6050_PWR1_CLKSEL_BIT,\n    MPU6050_PWR1_CLKSEL_LENGTH,\n    MPU6050_CLOCK_PLL_XGYRO}); err != nil {\n    return\n}\n\n// setFullScaleGyroRange\nif err = h.connection.I2cWrite(mpu6050Address, []byte{MPU6050_RA_GYRO_CONFIG,\n    MPU6050_GCONFIG_FS_SEL_BIT,\n    MPU6050_GCONFIG_FS_SEL_LENGTH,\n    MPU6050_GYRO_FS_250}); err != nil {\n    return\n}\n\n// setFullScaleAccelRange\nif err = h.connection.I2cWrite(mpu6050Address, []byte{MPU6050_RA_ACCEL_CONFIG,\n    MPU6050_ACONFIG_AFS_SEL_BIT,\n    MPU6050_ACONFIG_AFS_SEL_LENGTH,\n    MPU6050_ACCEL_FS_2}); err != nil {\n    return\n}\n\nreturn nil\n\n}\n```\nPlease let me know if that works for you!\n. According to the MPU6050 docs I could find:\nGet sleep mode status. Setting the SLEEP bit in the register puts the device into very low power sleep mode. In this mode, only the serial interface and internal registers remain active, allowing for a very low standby current. Clearing this bit puts the device back into normal mode. To save power, the individual standby selections for each of the gyros should be used if any gyro axis is not used by the application. \nSo perhaps, a better thing would be to add a new constant const MPU6050_PWR1_ENABLE_BIT = 0 and use that. I'd love a a PR that did that! :)\n. Hi, @sgilani did you ever have a chance to work up a PR with this? :)\n. Hi, @sgilani thanks for looking into this. From reading OpenCV docs, seems like WaitKey(0) waits indefinitely until keyboard input occurs. Can you please try WaitKey(10) and see if it redraws display correctly for you?\n. What exact version of opencv are you using? Also which version of Windows?\n. OK, so if I get it working correctly with any of those versions, sounds like we should be good. I'll get my Windows 8.1 VM unpacked.\n. The previous OpenCV implementation in Gobot has now been replaced by GoCV (https://gocv.io) in this release https://github.com/hybridgroup/gobot/releases/tag/v1.7.0\nI am going to close this issue, please reopen if needed.. Sounds like this could use to be in the README for the Firmata platform.\n. This is now part of the docs for the Firmata platform https://github.com/hybridgroup/gobot/tree/master/platforms/firmata#how-to-use\nThanks everyone!. Hi, @knifeedge thanks for the PR!\n. Thanks, @cathalgarvey \n. Hi, @cathalgarvey \nTotally love what you are doing here.\nSo yes, you are exactly correct about packetReceiver.\nThis is how we did the same thing in node-bebop https://github.com/hybridgroup/node-bebop/blob/master/lib/bebop.js#L198\nIf you implemented the same equivalent in Gobot as we have done there in Node.js, it would be an amazing step forward.\nThe best docs I've found on the Bebop protocol are thanks to @robotika located here:\nhttps://github.com/robotika/katarina/blob/master/bebop-protocol.md\n. Seems like you are making some great progress!\nPlease let me know anything I can do to help out.\n. Hi, @cathalgarvey just wondering if you were still up for submitting a PR for your changes for Bebop? \nIn the interim, we've got the \"full API\" supported now in https://github.com/hybridgroup/node-bebop thanks to work from @johan-olsson that might be helpful to look at.\n. Sounds great, thanks @cathalgarvey \n. Hi @cathalgarvey I was just checking out your branch with the Bebop changes, and there are a bunch of interesting ideas and useful-looking code there. Thanks again for having worked on that.\nOf course is way out of date with the massive refactors that have happened with Gobot 1.0. Sorry about that. You might not be doing anything with Bebop these days, but I'd love to figure out how to get some of this back into the mainline Gobot, if possible. Or at least incorporate some of it. Any thoughts?. Forgot to merge this. Thanks!\n. Well, in that case I am closing this issue :sob: \nAll joking aside, I think this is a duplicate of https://github.com/hybridgroup/gobot/issues/152 \nBottom line is I need to work on this!\n. You could be easily done in Gobot by extending via the needed Linux files paths to the other i2c buses in the intel-iot-/edison platform. I do not think you need to drag in all of MRAA just for that.\nMRAA has the limitations of blocking, and cgo also has many limitations. The current implementation has the advantage of being pure Go.\nThat said, there are platforms in Gobot that use cgo wrappers, such as opencv. Nothing prevents a parallel implementation that wraps mraa and/or upm. But the pure Golang approach has many benefits.\n. That sounds like a good approach towards a first implementation to me. If you work on this, and you want feedback, submit a PR early with comment that it is Work In Progress and not ready to merge. Or just do it! :)\n. The only possible problem would be with breaking compatibility with other platforms. Since we're really only talking about 1 more optional param, perhaps a variadic param would be a better idea.\n. Looks like you really did make progress on this, @abourget sorry I did not look into it sooner. @ryanhatfield this does appear to solve some of your needs, although I think you have a good idea in making the code modular to support multitudes of different breakout boards.\nHow can we put this all together into something coherent with the latest dev branch? Seems to me there is some good work here, we just need to put it all together.\n. Hi, @abourget & @ryanhatfield anything I can do to help unify your respective work? :busts_in_silhouette: \n. As mentioned here https://github.com/hybridgroup/gobot/issues/317#issuecomment-252161858 after the current refactoring effort merges, I'll also be turning my attentions back to this issue. Likewise, if there has been any progress, or further ideas, please share. Thanks everyone!\n. Now that version 1.0 is out, I'd like to help out further with this effort.. The code from https://github.com/hybridgroup/gobot/pull/364 is now in the dev branch. I'd love to hear any feedback from anyone about it.\nNext step will be another set of changes intended to expose to developer the ability to specify exactly which bus to use for a particular i2c device.. All of the work I referred to has now been released as part of v1.2.0 thanks again everyone!. Hi, @TheInsideMan thank you for the photo. Looks to me line you are plugged into pin labeled on board number 12, which maps to Linux BCM18. When programming using Gobot, you just use whatever the board is labelled, and we do the mapping for you, so you code should be using \"12\" for the pin number. We probably need to make a bigger deal of explaining this on every platform.\n. I highly recommend https://pinout.xyz/. Hi @mattetti is this ready for merge?\n. Hi, @mattetti anything I can assist with on this?\n. You mean interrupts on a connected microcontroller? Please elaborate a bit, if you will.\n. Closing this, will revisit in Gobot 1.1. Great work, @ekyoung thank you very much! Merging.\n. Thanks, @iroller for this. Merging.\n. I'd love to see this. I have a couple of them, but have not had a chance to really dig into cross-compiling golang for it yet.\n. Hi, @hrishikesh195 I have not been using my wiichuck for so long, it is certainly possible there is some problem with the Gobot driver. Do you have any other i2c devices to test with? Perhaps you can submit a preliminary PR, and I can setup my CHIP to test with.\n. Hi, @hrishikesh195 took a little longer to test things, but I was able to use my GroveLCD https://vine.co/v/iJ6VwDqB737\nSeems like we need to open a separate issue on the wiichuck. In the meantime, I am merging this, thank you!\n. There is a Node.js module from @sandeepmistry that looks like it may have run into the same blocker. I added a GH issue on that repo, just so we can all share info on implementation. https://github.com/sandeepmistry/node-chip-io/issues/1 \n. This was released, closing. Thanks again @hrishikesh195 \n. Hi, @SellJamHere we'd love your PR adding support for steppers. Please and thank you!\n. Hi, @SellJamHere ever have a chance to work on this? :) We'd still love your PR, if you have.\n. Hi, @npotts \nA couple answers:\n- Probably should go into GPIO, since that is the required interface to be able to support s stepper motor controller.\n- The RGB Led is the closest one to what you are doing, I think. Check it out here: https://github.com/hybridgroup/gobot/blob/dev/platforms/gpio/rgb_led_driver.go\nThank you!\n. Well, these are really 2 different activities (simple motor control vs. coordinated steppers). \nFor sure, some higher level abstraction around stepper motor control would be very useful. For example, something that would allow for an \"easy\" inverse kinematics API.\n. Hello, all. I'm getting ready to devote some attention again to this subject. I will likely implement the simplest possible 4-pin stepper based on the ULN200XA first, and then look at any abstractions on top of it.\nAny thoughts on this from anyone here?. Hi @coding-yogi I have not had time to work on this. However, I think that perhaps someone has done so in a fork? In any case, we'd love to have a contribution!. That looks good to me!. That looks great to me, @coding-yogi\nPlease submit a PR at your convenience, and thank you!. The new stepper created by @coding-yogi is now in the dev branch. Please check it out, everyone.\nI will close this issue once the code makes it into the next release.. Stepper motor driver was included in v1.8.0 so I am now closing this issue. Please reopen if needed, and thank you to everyone especially @coding-yogi for the PR.. :computer: \n. Hi, @ryanhatfield thanks for those links... I'll dig in soon.\n. The solution to that in Gobot, is to define an interface for 1Wire, and then adaptors for different platforms can implement that interface in their own way. For Raspi & other Linux systems probably using driver, for Arduino targeting ConfigurableFirmata, etc.\n. Thanks @hrishikesh195 for working on this. Could you please look into the failing test here: https://travis-ci.org/hybridgroup/gobot/jobs/107532507#L665\n. Hi, @hrishikesh195 my LCD works perfectly. I'm looking for one of my i2c devices that is r/w just to be sure... I'll get back to you shortly.\n. Tried with my MMA7660 and works perfectly. Thank you so much for your fine work here, @hrishikesh195 this is great. Merging.\n. Thanks for this update, @hrishikesh195 that is how we have tried to do the pin mapping on other boards. The \"PX_Y\" format is specific to the Beaglebone Black, hence why we used that system.\nI restarted the Travis build, looks like we need a small tweak to the tests to avoid that timing problem.\n. I am going to merge this, since the current Travis build failure is not related. Great work, @hrishikesh195 thank you!\n. Hi, @ryanhatfield thanks for pointing this out, you are correct that the current implementation makes some assumptions about the Arduino-compatible breakout board being present. \nAre you using the mini-breakout board, the Sparkfun board, or something else entirely?\nOne possible solution that comes to mind, is pulling out the shared Edison muxing functions into a separate file, and then creating new adaptors for each of the specific breakout boards.\nWhat do you think?\n. I also have mini-breakout board + Sparkfun blocks, so I can help as well, as far as either covering, or at least documenting any gaps. This sounds great!\n. As mentioned here https://github.com/hybridgroup/gobot/issues/317#issuecomment-252161858 after the current refactoring effort merges, I'll be turning my attentions back to this. If there has been any progress, or further ideas, please do tell. Thanks!\n. @devfubar which board are you using?\n. OK, I have a WIP branch here https://github.com/hybridgroup/gobot/tree/feature/edison-other-boards that I cannot test myself due to not having the HW right now. However, it might work :)\nTo use, you need to change the expansion board using SetBoard() to something other than \"arduino\" like this:\ngo\nboard := edison.NewAdaptor()\nboard.SetBoard(\"miniboard\")\nIf anyone can give this a try with a Miniboard or Sparkfun expansion board, that would be awesome!\n. All of these changes have been merged into the current dev branch https://github.com/hybridgroup/gobot/tree/dev please take a look and try it out!\nNote that there have been some other substantial changes to Gobot that will be coming soon as part of the upcoming 1.0 release that are also part of the dev branch.\n. That sounds amazing, exactly what it needs. Thanks!\n. The dev branch now has all of these changes, any interested parties should please give it a try. Reopen this issue if needed, thank you very everyone who contributed to the discussion and the resulting code.\n. Thanks, @ryanhatfield \n. This is really cool, @stengaard I'm plugging in a few devices to give it some \"real-world\" testing right now...\n. OK, so far I am extremely impressed by the performance boot. I do not have the formal benchmarks that you did @stengaard but anecdotally it is notable.\nI am merging this with great pleasure, thanks @trevrosen for you help in landing it, as well.\n. :book: thanks @trevrosen \n. This was fixed by @kittuov https://github.com/hybridgroup/gobot/commit/e84326b129610719bbad88ab3d596411b3839e7e\n. Thank @kittuov looks good, and works for me. Merging.\nThe test fail is indeed a spurious error with one of the GPIO tests that I need to look into.\n. Hi, @gmarik I like the concept, but as you can tell https://travis-ci.org/hybridgroup/gobot/jobs/110869133 that are many tests that depend on the current setup.\nIf you want to run all the tests on your machine, use the command make test\nPerhaps a gobot/gobottest subdirectory would be a nice way to implement this refactoring. \nMany tests would need to be rewritten from this change, however, sounds like that is the case no matter what, at this point.\nWhat do you think?\n. A separate test package would be so much nicer, if you please, and thank you!\n. Not sure about the first fail, but the second is due to the mqtt package requires versions of Go >= 1.3, which is why 1.2 is in the Travis allows failure section: https://github.com/hybridgroup/gobot/blob/dev/.travis.yml#L13\n. This looks like the right idea to me. Any feedback @trevrosen or @mattetti or anyone else?\n. :mag: \n. Thanks to you, @gmarik \n. I liked the gobottest package, and that seems more the correct pattern in Golang, no?\n. Hi, @knifeedge thanks for the PR. Looks like the Travis fail is unrelated to your changes, so I am going to merge.\n. Looks like this is an oversight that does not impact you if you are using an i2c adaptor that does not support the block data reads.\nThe solution is probably use the first byte of b as the register for that call. What do you think?\n. Hi @allanglen looked at this with fresh eyes, and I see that the Write() command is doing the right thing: https://github.com/hybridgroup/gobot/blob/dev/sysfs/i2c_device.go#L128\nI am going to make a similar change to Read(), would you be able to test this out on your hardware config?. Hi @allanglen this should now be fixed in the dev branch.. Thanks @nobodyzzz looks good. We will probably add a few function like this to allow for certificate-based auth as well.\n. Hi @jeromefroe that looks great, thank you very much! Merging...\n. Hi @dsockwell thanks for creating this issue. I'm still running Wheezy myself on my various BBBs, so I've not run into this yet.\n. Hi everyone. Please check out the https://github.com/hybridgroup/gobot/tree/feature/beaglebone-4 branch which should work with the latest Debian, as well as with the older kernel versions if needed.. Here is a PR for any comments: https://github.com/hybridgroup/gobot/pull/342. This has been merged into the dev branch. Thanks everyone!. Hi @DexterInd I was reviewing your code/hardware. I see you have a daughterboard which is an i2c device. Seems like the slick route is to use the Gobot raspi platform and its i2c support, to create a new platform for GoPiGo. This new platform would implement an adaptor with the standard Gobot interfaces:\n```\nvar _ gobot.Adaptor = (*GoPiGoAdaptor)(nil)\nvar _ gpio.DigitalReader = (GoPiGoAdaptor)(nil)\nvar _ gpio.DigitalWriter = (GoPiGoAdaptor)(nil)\nvar _ gpio.AnalogReader = (GoPiGoAdaptor)(nil)\nvar _ gpio.PwmWriter = (GoPiGoAdaptor)(nil)\nvar _ gpio.ServoWriter = (*GoPiGoAdaptor)(nil)\n```\nThis would allow using any of the current GPIO devices. \nThe new GoPiGo Gobot platform would also want to additionally implement some Gobot devices specific to the GoPiGo's built-in hardware, such as the IRReceiver. These devices would ideally define their own interfaces. In the IRReceiver's case something based on io.Reader might be cool. \nDoes all this make sense?\n. Hi @DexterInd I was looking thru my gear, and seems I was one of your Kickstarter backers, as I have one of your boards. Do please let us know anything needed to help out.\n. GoPiGO3 support has just been released as part of https://github.com/hybridgroup/gobot/releases/tag/v1.7.0 so I am now going to close this. Thank you everyone who contributed!. Hi @tlrobinson we for sure need a way to set all the various ClientOptions. A PR that added this would be very appreciated... :)\n. The simplest implementation is probably: \n- add a slice to the Adaptor struct to keep track of the current topics. \n- in the Adaptors's Connect() method you can hookup the OnConnectHandler to a method that subscribes to all of the topics in your list.\n- the Adaptor's On handler can add new topics to the list, and also calls Subscribe() if the connection is already live.\n- When a connect or reconnect occurs, it will call the OnConnectHandler to subscribe to all the list topics\nDoes that sound about right to you?\n. That sounds like a very reasonable idea to me as well.\n. Hi @tlrobinson did you ever have a chance to do anything on this, or do you need any additional assistance? Please let us know if there is anything we can do to help. Thanks.\n. I was just looking at the code for the Paho MQTT lib, and looks to me like a reconnect() will maintain the same subscribe handlers, since all of the clidnt.msgRouter routes are preserved until the mqtt.Client is destroyed.\nBasically, all we need to do is expose the clientoptions, and let Paho do the rest.. OK this feature is now in the dev branch, and I verified it against a remote MQTT broker. I will close this issue next release.. Thanks @dsockwell please let us know anything we can do to help.\n. Hi @dsockwell any update here? We're able to provide assist if needed.\n. Hi @dsockwell \nCan you please elaborate on what you mean by \"operate on the entire i2c output from the device for all i2c read access\"? I did not fully understand that, sorry.\nIdeally you would have complete test coverage, but at the very least \"build and smoke\" tests are desirable. as far as multiple read/write, that sounds a a case where the function should probably be composed into smaller, more atomic functions for easier testing/readability.\nThanks!\n. Hi @dsockwell if you were to submit a new PR with bme280_driver.go and bme280_driver_test.go under /drivers/i2c it would be gladly accepted. If you did not have time to do this, I'd be happy to help out. I have an BME280 around for testing.. I am working on an alternative implementation off a BME280 driver in this branch: https://github.com/hybridgroup/gobot/tree/feature/i2c/bme280\nThe only thing is currently is missing is adjusting the humidity reading based on the calibration settings.. Notice that it has them by virtue of encapsulating the BMP180Driver: https://github.com/hybridgroup/gobot/blob/feature/i2c/bme280/drivers/i2c/bme280_driver.go#L37\nThe BME280 is a BMP180 that also has a humidity sensor.. @dsockwell I saw you had already done some work to understand the calibration adjustment needed https://github.com/hybridgroup/gobot/pull/278/files#diff-ac932e15092d20aa6795db12d0bbf246R277\nIf you could help implement the calculateHumidity() method https://github.com/hybridgroup/gobot/blob/feature/i2c/bme280/drivers/i2c/bme280_driver.go#L108 it would be very much appreciated! :). Hi @enkoder \nWe used our own fork of mavlink (https://github.com/hybridgroup/mavlink) that was able to generate the golang code. \nRecently we've been evaluating some of the newer Golang mavlink libs that are looking interesting, with an eye at using that in the Gobot implementation.\n. Hi, @lunakid thanks for pointing that out. The old invalid link has been removed here https://github.com/hybridgroup/gobot-site/commit/060f18ae26485ffddedc2a1b2490bdf3f6c853d6 and the site has been updated.\n. Hi, @lyrixx\nThat sounds great, we'd love a PR with a SevenSegmentLedDriver.\n. Sorry, I am not fully understanding. Please elaborate on \"May be with two Drivers ? or with a flag ?\"\n. OK, now I think I understand. You are proposing both a SevenSegmentLedDriver and also a BcdLedDriver that have the same interface, but the implementation uses either 8 pins (for the  SevenSegmentLedDriver or 4 pins (for the BcdLedDriver)?\n. Also, you might want to use a map with arrays to represent the different digits, vs. a long conditional statement. Just a small suggestion.\n. Hi @nhooyr \nSome platforms such as the Beaglebone Black label their pins using formats such as \"P8_3\". When using Gobot, we make it possible to use whatever the board itself is labeled, then we translate that to whatever the underlying interface expects. Hope that helps!\n. I've been thinking a lot about this issue since it was opened, and it identified 2 things. One was that the internal architecture of how Gobot handled events needed to be refactored. The second was that we needed to explain a lot better what is happening \"under the hood\" as well as better allow for \"bare metal\" style of development using Gobot as a library and not necessarily the entire framework.\nhttps://github.com/hybridgroup/gobot/pull/306 is the result of our current work on the first issue. Events will be now handled using event channels, which makes the concurrency just work how you expect in Golang.\nRegarding the documentation of this, we've started an issue here https://github.com/hybridgroup/gobot-site/issues/48 that should also include information such as being discussed in this one.\nLet the conversation continue, and thanks!\n. Hi there.\nThere has been subtancial changes to how Gobot creates and manages the goroutines used. Please take a look at the dev branch to see what we've been doing: https://github.com/hybridgroup/gobot/tree/dev\nIn short:\n- every Robot's Work is now run inside of a separate goroutine that exists for the life of the Robot.\n- every Device's On and Once event handlers are each run in a separate goroutine that exists for the life of the Device.\n- channels are now used for Events, and the implementations of On and Once use the event channels as their implementation to communicate when things happen.\nThe dev branch has a lot of breaking changes, but I think you will find the syntax is simpler, and the implementation much cleaner and more concurrent by default.\n. I am going to close this issue now, please reopen if needed. Thanks, everyone!\n. Hi, @nhooyr you are correct, that is an error in that docs page. As you pointed out, the raspi has no AIO.\nIf you have a moment, would you mind opening an issue on https://github.com/hybridgroup/gobot-site\nThanks!\n. The docs are now updated with this info. Thanks, everyone.. As the pi-blaster docs say \"The technique used is extremely efficient: does not use the CPU and gives very stable pulses\".\nSo, is this really needed?. Furthermore, pi-blaster says it \"uses the hardware PWM generator of the raspberry pi to get precise timings\".\nI think I will close this issue. Please reopen if from some further research you feel it is needed.. Hi, @nhooyr the interface only supports that many, to provide compatibility with other interfaces such as Firmata etc. So really no good reason at all.\nPerhaps a \"PWMScale\" method or something like that to allow setting different variations of PWM control. What do you think? \nI'd be happy to accept a PR for the Raspi platform which added this. ;)\n. I'm going to close this issue due to inactivity, please reopen if needed. Thanks!\n. Hi, @jish what version of golang are you using?\n. Hi, @jish I was able to reproduce your problem on OSX, but have not come up with a solution yet. Something to do with the paths to the includes, and linker when using CGO on OSX that is a little bit out of the ordinary.\nI'm currently playing around with ideas in the https://github.com/hybridgroup/gobot/tree/bugfix/digispark-osx . I've just pushed a fix for this to the dev branch, I will mark as closed once it is released.\nThanks, everyone!. Hi @ranjib golang 1.2/1,3 test fails are due to known incompatibility within the Paho MQTT libs. The 1.4 fail was due to intermittent problem with test timing for API tests that probably could use some work.\nIn any case, thanks for the PR. Now merging.\n. @trevrosen I think you are correct, but even a larger value seems to have test failures occasionally. I'd love some help looking into it, or suggestions.\n@dgryski as you said, your changes certainly did not impact the test. I restarted the build, and all passed. Hence, I am merging.\n. Thanks, @dgryski merging.\n. Thanks @dgryski for this. Merging.\n. Thanks, this is great. Merging.\n. Awesome!! Merging.\n. Looks good, thank you.\n. This looks great @caledhwa thank you so very much for your contribution! Merging.\n. You have to disable the cgo check by using the flag GODEBUG=cgocheck=0 flag when running on OSX, as mentioned here: https://github.com/paypal/gatt/issues/76\nFor example, use:\nGODEBUG=cgocheck=0 go run rover/ollie/1-color.go BB-EFCC\n. The docs are now updated with this info. Thanks, everyone.. I personally do not have one of these boards, however adding support for it should not be difficult. Please take a look at the Raspberry Pi platform implementation here: https://github.com/hybridgroup/gobot/blob/dev/platforms/raspi/raspi_adaptor.go\nThe mapping of the GPIO pins on the specific version of the Raspi you are using is located here: https://github.com/hybridgroup/gobot/blob/dev/platforms/raspi/raspi_adaptor.go#L37-L122\nThe Banana Pi has several different variations in similar fashion, so something like this would be needed to support that platform.\nHope that helps!\n. Hi @losinggeneration thanks for the PR. Yes, please, can you also add to the Gobot adaptor?\n. Hi @losinggeneration ideally yes, but if not, this thread should serve as indication of your intent to contribute :) Let me know if you end up doing so, and thanks again.\n. Thanks again, @losinggeneration merging.\n. This should be totally doable, by running StandardFirmataWiFi on the ESP8266, and then by passing a struct whihc is a net/UDPConn instead of a tarm/goserial in the NewFirmataAdaptor constructor, since both support io.ReadWriteCloser.\n. Hi @olliephillips running Golang directly on MCUs is not currently possible. However, in similar fashion to how Espruino is a stripped-down JavaScript, there are a couple of projects trying to get a Golang-like syntax running on the MCU itself. Check out https://github.com/ziutek/emgo \n. @olliephillips yes, it can be treated as an Arduino if you are running the Firmata firmware on it. However, we will still need a \"serial over TCP/UDP\" adaptor for Gobot.\n. Hi everyone. Just commited some work to the dev branch with a preliminary implementation of TCPAdaptor for Firmata. Check out https://github.com/hybridgroup/gobot/blob/dev/examples/wifi_firmata_blink.go which works with my NodeMCU 1.0 ESP8266 running WifiFirmata.. Experimental support for this was just released as part of v1.1.0. Now closing.. One other small thing worth mentioning. You should also call Start() on the driver, to ensure that it is properly initialized:\n```\npackage main\nimport (\n    \"time\"\n    \"github.com/hybridgroup/gobot/platforms/gpio\"\n    \"github.com/hybridgroup/gobot/platforms/intel-iot/edison\"\n)\nfunc main() {\n    e := edison.NewEdisonAdaptor(\"edison\")\n    led := gpio.NewLedDriver(e, \"led\", \"13\")\n    e.Connect()\n    led.Start()\n    for {\n        led.Toggle()\n        time.Sleep(1000 * time.Millisecond)\n    }\n}\n```\n. We should update the docs with this info, so people realize they can use Gobot as a set of Golang device libraries, not just use the entire framework.\n. Hi @trevrosen I just added https://github.com/hybridgroup/gobot-site/issues/48 to discuss this.\n. Thanks, @ericho \n. Wow @deadjoe that is one incredibly well entered Github issue. Let me look into that on my OSX machine, and I will get back to you.\n. Hi @deadjoe I do not think that the Parrot Minidrone supports those particular characteristics. Did you try running https://github.com/hybridgroup/gobot/blob/master/examples/minidrone.go by any chance?\n. Hi, @deadjoe \nJust noticed you have the panic: runtime error: cgo argument has Go pointer to Go pointer error as discussed here: https://github.com/hybridgroup/gobot/issues/298\nPlease try running your code like this:\nGODEBUG=cgocheck=0 go run minidrone.go 8b2f8032290143e18fc7c426619632e8\n. Hi @deadjoe did you ever have a chance to try the command i suggested?\n. The docs are now updated with this info. Thanks, everyone.. Thanks @yurigorokhov this look great. Merging.\n. @trevrosen indeed, it is rather sizable, which is why I've asked the community for help :)\nThe changes here can be thought of as 3 sets of related changes:\n- Gobot core changes to Eventer/Event and utils\n- Changes to various drivers/adaptors to accommodate the new Eventer\n- Changes to the examples that consume drivers/adaptors\nHopefully that provides a little more clarity as to the nature of the changes in this PR. Thanks again for your help!\n. Hi @rafael-azevedo you are correct, sorry about the confusion. The repo should have all been updated, however the site still shows older syntax.\nWe did not mean to release all this new functionality until the upcoming 1.0 version. However, I misunderstood how Golang was getting the code from Github, as discussed here https://github.com/hybridgroup/gobot/issues/319#issuecomment-252676389\nVery sorry about the confusion, and the upcoming release should have all the code + docs in sync. If you want to see what is coming next, please checkout the dev branch: https://github.com/hybridgroup/gobot/tree/dev\n. @trevrosen I was thinking exactly the same thing.\n@agocs given that currying is not a common Golang idiom, I am very hesitant to add this. \n. Well-thought out feedback, thanks.\n@trevrosen adding SetName to the interface, combined with a clearly-defined auto-naming, seems like a nicer way to go. The common case where there are params to the constructor that are significant such as pin numbers or a port, are more interesting to consider than the simpler Edison case. For example, if we just go with \"default\" names:\ngo\na := firmata.NewFirmataAdaptor(\"firmata\", \"/dev/ttyACM0\")\nled := gpio.NewLedDriver(a, \"led\", \"13\")\nlooks a lot better to me as:\ngo\na := firmata.NewAdaptor(\"/dev/ttyACM0\") // Name() == \"firmata\"\nled := gpio.NewLedDriver(a, \"13\") // Name() == \"led\"\nIf we do care about specific names to be used by external APIs:\ngo\na := firmata.NewFirmataAdaptor(\"arduino\", \"/dev/ttyACM0\")\nled := gpio.NewLedDriver(a, \"blinker\", \"13\")\nbecomes\ngo\na := firmata.NewAdaptor(\"/dev/ttyACM0\")\na.SetName(\"arduino\")\nled := gpio.NewLedDriver(a, \"13\")\nled.SetName(\"blinker\")\nI do appreciate the consideration of reducing the breakage, but since it would change anyhow, seems like getting the work out of the way all at once would be kinder.\n. This is the branch where my WIP on this can be found: https://github.com/hybridgroup/gobot/tree/feature/new-adaptor-driver-signatures\n. This has now been merged into the dev branch, thanks everyone for all the great feedback!\n. Hi @jfinken thanks very much for working on this. Can you please run go fmt on all the files? Also make sure to remove any commented out code. Thank you!\n. Hi @jfinken I must have misread your code. No need to go fmt any files that you did not change.\nThanks!\n. Hi @jfinken that test fail was a spurious one, I think some (all?) of those are fixed in the dev branch.\nIn any case this is great stuff, thank you very much for the contribution. Merging.\n. Thanks @ericho for the correction.\n. Hi @th002 looks to me that https://github.com/hybridgroup/gobot/blob/dev/platforms/i2c/mcp23017_driver.go#L160 is missing some code like https://github.com/hybridgroup/gobot/blob/dev/platforms/i2c/mcp23017_driver.go#L147-L150 to set to input mode.\nI do not have one of these handy to test out with at the moment, but a PR with this would be gladly accepted.\n. That looks like a good approach.\n. Hi @th002 can you submit a PR with this fix? I'm sure all users of this expander would appreciate it.\nThanks!\n. If the platform does not support block reads, it performs the file-based read https://github.com/hybridgroup/gobot/blob/dev/sysfs/i2c_device.go#L94 \nOtherwise, it continues executing the Read() using the block-based read https://github.com/hybridgroup/gobot/blob/dev/sysfs/i2c_device.go#L97-L119\nHope that helps!\n. Hi @th002 please provide some more specific details about the differences, and then we can come up with a plan to accommodate them. Sounds good?\n. Hi @th002 did you mean to close this on purpose?\n. Thank you, @th002 \n. Hi @johanhenselmans thanks for pointing this out. A PR with this fix would be gratefully accepted :)\n. Hi @johanhenselmans this has been fixed as part of https://github.com/hybridgroup/gobot/commit/17cc57d9d1844a3fc97234fd8ae2304552cb9e12\nI will leave this issue open until that code is released.\n. This code is now in PR https://github.com/hybridgroup/gobot/pull/316\n. This has now been merged into the dev branch. Please re-open if needed.\n. Hola, @DaBlitzStein \nLooks like that board is basically 8 relays on a single board. You should be able to use the Gobot Relay driver with it, just by connecting the various Raspi pins to the IN1, IN2 pins on the Kuman board.\nFor example, this should work with the Raspi pins 33-40 conneccted to IN1 thru IN8 on the Kuman board:\n``` go\npackage main\nimport (\n    \"time\"\n\"github.com/hybridgroup/gobot\"\n\"github.com/hybridgroup/gobot/platforms/gpio\"\n\"github.com/hybridgroup/gobot/platforms/raspi\"\n\n)\nfunc main() {\n    gbot := gobot.NewGobot()\nr := raspi.NewRaspiAdaptor(\"raspi\")\nrelay1 := gpio.NewRelayDriver(r, \"relay1\", \"33\")\nrelay2 := gpio.NewRelayDriver(r, \"relay2\", \"34\")\nrelay3 := gpio.NewRelayDriver(r, \"relay3\", \"35\")\nrelay4 := gpio.NewRelayDriver(r, \"relay4\", \"36\")\nrelay5 := gpio.NewRelayDriver(r, \"relay5\", \"37\")\nrelay6 := gpio.NewRelayDriver(r, \"relay6\", \"38\")\nrelay7 := gpio.NewRelayDriver(r, \"relay7\", \"39\")\nrelay8 := gpio.NewRelayDriver(r, \"relay8\", \"40\")\n\nwork := func() {\n    gobot.Every(3*time.Second, func() {\n        relay1.Toggle()\n        relay2.Toggle()\n        relay3.Toggle()\n        relay4.Toggle()\n        relay5.Toggle()\n        relay6.Toggle()\n        relay7.Toggle()\n        relay8.Toggle()\n    })\n}\n\nrobot := gobot.NewRobot(\"kuman\",\n    []gobot.Connection{r},\n    []gobot.Device{relay1, relay2, relay3, relay4, relay5, relay6, relay7, relay8},\n    work,\n)\n\ngbot.AddRobot(robot)\n\ngbot.Start()\n\n}\n```\n. Hi, @DaBlitzStein I'm going to close this issue. Please reopen if you need further assist.\n. Hi, @Inux I think we need a standard SPI interface. If there is a software SPI implementation, also, that would be great. \nThen whatever SPI drivers can use that interface, such as the LED strip you mention.\nDoes this make sense?\n. I think this is now ready for public review.\ncc @trevrosen @mattetti and anyone else who would like to chime in!\n. Hi @devfubar that is no doubt true. Once the current refactoring in PR https://github.com/hybridgroup/gobot/pull/316 has been merged into dev, I expect to add some code to handle the Arduino as well as the mini-breakout board, as well as to show other contributors how to more easily add other Edison breakout boards.\n. The dev branch now has all of these changes, thank you very much @devfubar for your awesome contributions on this.\n. Awesome! This is great news.\n. Hi @conoro \nboth the i2c and gpio packages are now under /drivers in the dev branch, but this seems to be an unforeseen consequence of Github, having set the default branch to dev, and how Golang gets packages.\nWhat I thought was happening was Golang would simply always get the master branch, sinec that used to be the default behavior. My knowledge on that subject was way out of date, it would seem. What appears to actually be happening is that Github serves up the default branch https://github.com/golang/go/issues/9032\nOuch, my bad. So much for our careful release planning.\nI think the best thing to do for now, is switch the default branch back to master. Hopefully that will give a chance to complete the refactoring work taking place right now, for which the docs are not yet complete.\n. Did you obtain the code for that sample from the web site? I ask because the code in the repo itself has been modified for compatibility with the latest changes.\n. I cut a release yesterday (0.13.0) with the code up the point I merged the new refactored branch on Monday, and then switched back the master branch to be the default branch. This way, anyone who was tracking the default up to that point has a master branch to match.\nI will close this issue now, thanks for pointing it out @conoro \n. Hi @radovskyb thanks for the corrections, but could you please resubmit this PR against the dev branch? Thank you!\n. And of course now \"This branch has conflicts that must be resolved\" :)\n. That would probably work. I suggest making sure to always start edits from a new feature branch off of the dev branch, since that is where all the action is right now.\n. OK, this time submitted to wrong branch. But I suspect it will work, once resubmitted against dev. Thanks for doing this!\n. Thanks for taking the time!. Merging. :smile_cat: \n. Thank you!\n. Hi, @gpaixao \nI ran your code against the current release, and received the following output:\n$ go run examples/firmata_analog.go \n2016/10/21 08:40:44 Initializing Robot bot ...\n2016/10/21 08:40:44 Initializing connections...\n2016/10/21 08:40:44 Initializing connection arduino ...\n2016/10/21 08:40:44 Initializing devices...\n2016/10/21 08:40:44 Initializing device sensor ...\n2016/10/21 08:40:44 Starting Robot bot ...\n2016/10/21 08:40:44 Starting connections...\n2016/10/21 08:40:44 Starting connection arduino on port /dev/ttyACM0...\n2016/10/21 08:40:49 Starting devices...\n2016/10/21 08:40:49 Starting device sensor on pin 0...\n2016/10/21 08:40:49 Starting work...\n0 <nil>\nIt ran, and printed a single value from the sensor, in this case 0. Is that not what you expected? If you want to print the value over and over, you need to do that in your work. For example, to read and print the value every 1 second:\n``` go\npackage main\nimport (\n    \"fmt\"\n    \"time\"\n\"github.com/hybridgroup/gobot\"\n\"github.com/hybridgroup/gobot/platforms/firmata\"\n\"github.com/hybridgroup/gobot/platforms/gpio\"\n\n)\nfunc main() {\n    gbot := gobot.NewGobot()\nfirmataAdaptor := firmata.NewFirmataAdaptor(\"arduino\", \"/dev/cu.usbmodem1421\")\nsensor := gpio.NewAnalogSensorDriver(firmataAdaptor, \"sensor\", \"0\")\n\nwork := func() {\n    gobot.Every(1*time.Second, func() {\n        fmt.Println(sensor.Read())\n    })\n}\n\nrobot := gobot.NewRobot(\"bot\",\n    []gobot.Connection{firmataAdaptor},\n    []gobot.Device{sensor},\n    work,\n)\n\ngbot.AddRobot(robot)\n\ngbot.Start()\n\n}\n```\nHope that helps!\n. Hi @rraulinio please take a look at this feature branch with initial PIR sensor support: https://github.com/hybridgroup/gobot/tree/feature/devices/pirmotion\nYou would use it as follows:\n``` go\npackage main\nimport (\n    \"github.com/hybridgroup/gobot\"\n    \"github.com/hybridgroup/gobot/drivers/gpio\"\n    \"github.com/hybridgroup/gobot/platforms/firmata\"\n)\nfunc main() {\n    firmataAdaptor := firmata.NewAdaptor(\"/dev/ttyACM0\")\nsensor := gpio.NewPIRMotionDriver(firmataAdaptor, \"5\")\nled := gpio.NewLedDriver(firmataAdaptor, \"13\")\n\nwork := func() {\n    sensor.On(gpio.MotionDetected, func(data interface{}) {\n        led.On()\n    })\n    sensor.On(gpio.MotionStopped, func(data interface{}) {\n        led.Off()\n    })\n}\n\nrobot := gobot.NewRobot(\"motionBot\",\n    []gobot.Connection{firmataAdaptor},\n    []gobot.Device{sensor, led},\n    work,\n)\n\nrobot.Start()\n\n}\n```\nNote that this branch is based on the dev branch, and so will not be compatible with the current master. Please give it a try if you have a chance.\n. Hi @rraulinio I had to make another commit to correct an error in the original code, and I just tested it with my HC-SR501 sensor. Please give another try when you get a chance.\n. The correct code is now checked in. This is my output:\n$ go run examples/firmata_pir_motion.go \n2016/10/30 22:05:21 Initializing connections...\n2016/10/30 22:05:21 Initializing connection Firmata ...\n2016/10/30 22:05:21 Initializing devices...\n2016/10/30 22:05:21 Initializing device PIRMotion ...\n2016/10/30 22:05:21 Initializing device LED ...\n2016/10/30 22:05:21 Robot motionBot initialized.\n2016/10/30 22:05:21 Starting Robot motionBot ...\n2016/10/30 22:05:21 Starting connections...\n2016/10/30 22:05:21 Starting connection Firmata on port /dev/ttyACM0...\n2016/10/30 22:05:26 Starting devices...\n2016/10/30 22:05:26 Starting device PIRMotion on pin 5...\n2016/10/30 22:05:26 Starting device LED on pin 13...\n2016/10/30 22:05:26 Starting work...\nmotion-detected\nmotion-stopped\nmotion-detected\nmotion-stopped\nmotion-detected\n. I know my HW is plugged in correctly, and as you can see form the above output is working. There is no calibration on the sensor from software, it just does it's thing.\n. I'd check your version of Firmata. Where did you obtain it from? Also verify your pin, my test used digital pin 5, you mentioned you were using digial 7. Also make sure you are using correct 5v voltage.\nI used an Arduino Uno. Are you using some other Arduino variant?\nIn any case, check all the above, since we know the code itself \"works\".\n. Did you verify that the Gobot firmata_blink.go program works as you expect? Try testing that on the Gobot dev branch as sanity check.\nI use ConfigurableFirmata with most everything activated (DigitalIO, AIO, I2C), usually uploaded via the latest version of Gort (https://github.com/hybridgroup/gort). Also have tested using Arduino101 using the Firmata uploaded via IMRAA.\nIf not, something else must be different on your setup. Are you just running the https://github.com/hybridgroup/gobot/blob/feature/devices/pirmotion/examples/firmata_pir_motion.go program, or something else?\n. This is my hw setup:\n\n. When you said \"Tested in that very basic example... nothing\" did you mean that the firmata_blink.go example did not work for you?\n. Here are my connections to the HC-SR501:\n\nThe OUT pin on the sensor is connected to the digital pin 5.\n. Did the firmata_blink.go work, or not work?\n. I was asking about the firmata_blink.go, not the firmata pir.\n. Sounds great, thanks.\n. You probably want to set the jumper to \"auto-reset\" right now looks like you are set to \"no reset\": https://www.mysensors.org/build/motion\nThe Arduino code from what I could tell in the video looks opposite to what I would expect. The HC-SR501 goes HIGH when motion is detected, and LOW when no motion.\n. Switch your jumper to the \"auto-reset\" position, I suppose.\n. I have a bunch of these same sensors, they are very slow to reset (needs at minimum 5 seconds) but generally reliable if you set the calibration. You for sure need auto reset or it will only trigger once.\nI have tested successfully with a real Arduino Uno, a clone Arduino Uno, and an Arduino 101. I've also tested with a couple of different pins.\nIn any case, check your sensor, or your cables, or try another Arduino. Seems like everything is working as expected to me.\n. I have merged this branch into the dev branch, so please continue to test from there.\n2 other questions:\n- which brand of Arduino are you using?\n- what version of Golang are you running.\nPlease let me know anything new you might discover.\n. This device is now in the 'dev' branch. I am closing this issue, please reopen if needed, and thanks to @rraulinio for your work on this.\n. Great stuff, @devfubar thank you.\n. This would be great, thanks. Your PR will be gratefully accepted.\n. Thanks, @wfernandes \n. This is very good stuff @wfernandes thanks very much. Makes me want to get rid of even more time.After() calls now.\n. Hi @wfernandes thanks for working on this. Currently we're trying to always target the latest Golang release, as well as maintain backwards compatibility with the release immediately before the current one. Hence the dev build right now uses https://github.com/hybridgroup/gobot/blob/dev/.travis.yml#L6-L8\nIf you would not mind making the change your suggest for golang 1.6+ I think many users would appreciate it, as would I. Thank you!\n. Thanks, @wfernandes merging.\n. Hi, @alexander-yun \nWhat does the \"1:11\" in your installation signify? In any case, please make sure you have followed the official Golang install instructions for OSX https://golang.org/doc/install\nSeems like this is a problem with your Golang installation, not with Gobot itself.\nHope that helps!\n. Thanks @wfernandes for this. I just merged into dev.\n. Hi @JohannWeging first of all, thanks for working on this.\nI would move the driver you wrote to under /platforms/gopigo since it only applies to the GoPiGo. Things under /drivers are those intended to be able to work on on multiple platforms.\nRegarding your proposed TurnLeft() API, I like your proposed version more than the original one you describe, certainly.\nLastly, please make sure that your tests all pass locally. Once you move the driver into the \"correct\" location, it might be easier to look into why the tests are not passing.\nLooking good, please keep going!. OK, it is officially muerto. Thanks everyone.. Use the dev branch for now, that was addressed a bit ago.\n. Hi @georgik that fixes the import, however not the code itself. Seems like we need to get that release 1.0 out!. Hi @wfernandes do you think we should possibly support the newer CHIP update, instead of this? Or possibly support both?. Hi, @wfernandes check out the branch here, it should work with either version of the OS:\nhttps://github.com/hybridgroup/gobot/tree/feature/chip-44. I've verified on both 4.3 and 4.4, so merging into dev. Thanks everyone!. Hi @sbinet thanks for this. I will merge into master, and also take care of cherry-picking this commit into the dev branch.. Hi, @nickryand thanks for the report. Some code was indeed missing, and has been updated. You can now get the package with the -u option and the updated code is available.\nPlease reopen if needed, and thanks again.. Hi @elopio thanks for the PR. Could you please resubmit it against the dev branch? Thank you!. What version of OSX are you running?. Hi @durgeshm if you can, please give this branch a try https://github.com/hybridgroup/gobot/tree/feature/currantlabs-ble\nIt uses https://github.com/currantlabs/ble instead of https://github.com/currantlabs/gatt and seems to work well on my OSX with El Capitan.\n. Hi @durgeshm you are correct, the implementation is still incomplete. There is a bunch of code in /platforms/sphero that can be reused for ollie and bb8, but I've not had a chance to work on that yet. Specifically all the packet creation code can be reused, since ollie & bb8 are the same API, but sent/received using BLE characteristics instead of Bluetooth serial.\nA PR that worked on this would be gratefully accepted :). Hi @durgeshm not sure if you are working on this, or possibly planning to, but you should check out the changes in the dev branch. We're now using https://github.com/currantlabs/ble for our BLE communication, and it works a lot better. There have been a couple internal API changes to be aware of that you can see in that branch.. https://github.com/hybridgroup/gobot/tree/dev is the dev branch.\n1.1 uses currantlabs/gatt, but not currantlabs/ble which is pretty similar name.. Hi @durgeshm the HandleResponses method is called whenever there is a data notification that comes in from the responseCharacteristic. When using any of the Sphero robots, you send commands to the commandsCharacteristic and then get the responses via the responseCharacteristic.\nOne way to test, would be to call HandleResponses directly using some known response byte arrays, and insure that whatever event handlers you are creating in your new implementation are being called as expected.. Hi @durgeshm the Sphero API does not start sending the collision packets until it receives the command packet to begin doing so. Then the notifications are just the means for sending the data. This is how the Sphero API works, which is an artifact of the serial interface on which the API was originally designed. I agree it is not exactly what a \"normal\" BLE app would do, but it certainly works once you understand the interaction model.\nAnyhow, this is now in the dev branch, I will close the issue once the next release comes out. Thanks again!. This has now been released as part of v1.2.0 thanks again!. Hi, @elopio this is great, thank you. I have a couple of comments/requests.\n\nCan you please resubmit against the dev branch instead of master. This allows us to have a proper release of new features. due to how golang fetches packages.\nFor i2c drivers, instead of a goroutine to update the data, the typical pattern has been to let the user call at whatever periodicity they wish. The HMC6352 is a good example of this. The Start() method just initializes the i2c commication and does whatever configuration is needed. In your case, that would mean removing lines 113-127 of bmp180_driver.go\n\nThanks again for working on this!. Thank you very much for this, @elopio now merging.. Hi @elopio seriously love all you are doing! Can you please change this PR over to the dev branch? Thanks for your efforts!. Thanks, @elopio this looks great. Now merging... :globe_with_meridians: . Hi @elopio I think an analog accelerometer driver that handled the scaling from a raw analog value to a specific Gs value is useful. It should also require 3 analog pins, somewhat like how the RGBLEDDriver requires 3 PWM pins.. Hi @schmidtw this is really great, thank you for working on it.\nI noticed a few failing tests, probably function signature was changed in one without adjusting the other:\ndrivers/i2c/sht3x_driver_test.go:21: too many arguments in call to NewSHT3xDriver\ndrivers/i2c/sht3x_driver_test.go:28: too many arguments in call to NewSHT3xDriver\ndrivers/i2c/sht3x_driver_test.go:34: too many arguments in call to NewSHT3xDriver\nCould you please correct this, and then add to the PR. Thank you very much!. Yes, that did it. Now merging. Thanks again @schmidtw . This is excellent work @elopio I've been wanting to see this happen for a while. I'd love to help out however needed, can't wait to see your BBB snaps!. Also, can we get your assistance to add a snapcraft file to Gort? https://github.com/hybridgroup/gort :). The snap I built locally used golang 1.6. I want to build using 1.7.4 at the very least. How can I do this?. In the meantime, here is https://myapps.developer.ubuntu.com/dev/click-apps/6777/. Hi @elopio looks like a good plan to me. I've already posted a comment on the bug tracker.. Hi @DerekL you cannot build Gobot code intended for Raspi without using the correct cross-compilation flags as mentioned here https://gobot.io/documentation/platforms/raspi/#how-to-connect\nThe correct syntax in your case should be GOARM=6 GOARCH=arm GOOS=linux go build -o test test.go. Glad to have been of assistance. OK, closing.. Hi @erkkah thanks for this PR, I like the more dynamic approach. Also, like the additional pin mappings. \nCould you please resubmit this to the dev branch? Thank you.. Thanks @erkkah now merging.. We'd love to see some work in this area. No one currently on it I know of.... Hi @erkkah thanks for working on this, and it is a great start.\nHere are a few items of feedback:\n\nI think it would be better to extend the current api using functional options to allow passing in a specific bus if desired but use the default bus on the target platform as a default if you pass no params ala @davecheney article https://dave.cheney.net/2014/10/17/functional-options-for-friendly-apis\n\nSo for https://github.com/erkkah/gobot/blob/tsl2561-driver/drivers/i2c/tsl2561_driver.go#L128 it would be possible to keep the current interface to just pass in the adaptor, along with any extra options for example: \nIf we were using the CHIP adaptor\na := chip.NewAdaptor()\nYou could have pure defaults:\nd := i2c,NewTSL2561Driver(a)\nOr we can pass what we need:\nd := i2c.NewTSL2561Driver(a, i2c.TSL2561AddressLow)\nor\nd := i2c.NewTSL2561Driver(a, i2c.TSL2561AddressLow, i2c.Bus(1))\n\n\nThe file-based implementations are needed for i2c platforms that do not support SMBUS, so perhaps SMBusOperations is not the best name, perhaps I2CBusOperations? Certainly a good idea to make the convenience functions available.\n\n\nI do not think we want a separate i2c API for some devices, and a different one for others. I assume you implemented this in parallel just for exploring the ideas.\n\n\nFor this PR to land, we would of course need to implement it for all current platforms that support i2c & all i2c drivers.\n\n\nWhat do you think?. Oops, just noticed this was awaiting some comment back, sorry @erkkah \n\n\nRegarding functional options, they will need to be scoped to the i2c package since that is where all of the drivers \"live\". I suggest i2c.[Drivername][optionname] e.g. i2c.TSL2561AddressLow for device scoped options, and just i2c.[optionname] for options that apply to all i2c drivers.\n\n\nI just meant that we want to make sure the register convenience functions such as WriteRegisterByte() work with both SMBUS as well as the sysfs file writes, don't we?\n\n\nThe file based Read/Writes just assume that the first byte is the register, if the target i2c device uses registers. If you look at the i2c specs, \"register\" just means an agreement to use the first byte that way, it is not a true standard as we might consider it\n\n\nPlease oh please do take a stab at it, and I can help out however you like. :)\n. Hi @erkkah that was an error that was introduced thru some incomplete refactoring. Thanks for the catch.\n\n\nWhat we want to be happening, is that the gpio.ServoDriver should be passing along the angle value to adaptor.ServoWrite(). Then the specific adaptor can handle it however it needs to. In the Beaglebone case, by accepting an angle and scaling to a pwm duty cycle and calling PWMWrite. In the Firmata case, by just passing along the angle value.\nSo the conversion logic should be in the adaptor, not the ServoDriver.. I've just corrected the servo part with this commit https://github.com/hybridgroup/gobot/commit/53ffbbd2bb0d8671362480fc0e62badf43d2ac1b which is now in the dev branch so you should be all good for your C.H.I.P. implementation.\nThanks again @erkkah for the report.. Thanks very much for this @durgeshm it is appreciated. Also looks like a great start to implementing more of the response messages for the other sensors.\nMerging.. This requires a pulseIn style of API to be able to function, in similar fashion to what https://github.com/hybridgroup/gobot/issues/246 would need.. Also same as #152 . We do not have one of these boards, but looks like creating an adaptor for the pin mappings would not be too difficult. Looks like this web page has the information that would be needed: http://joey.hazlett.us/pine64/pine64_pins.html\nA PR that added this support would be gladly accepted.. That example, and a couple others, should probably be more like this:\nhttps://gist.github.com/deadprogram/dfe1ebf67d0b64c542a10c4260983462\n@anisse what do you think?. That was my first implementation (muted), but then I tried channels. Just discovered atomic, interesting.... Not \"muted\", \"mutex\". Autocorrect.... Due to how joystick sends data indepenently per axis per stick, in this case we cannot update both at the same time. But I agree this is a much nicer implementation using sync/atoomic.\nHere is my take on this: https://gist.github.com/deadprogram/a103e6fe5868ef24c282e73bf472d9f7. @anisse I'm glad you brought up this issue. Going to do some testing, but I think this helps refine the pattern in a way that is much clearer as well as actually thread safe, not just \"seems to work\".. @anisse I've just pushed a commit to the dev branch with these changes.\nGoing to close this issue now, please reopen if you think is needed.\nThank you again!. Hi @erkkah this is looking pretty amazing. I like the additional operations, perhaps the methods that you named ReadByteData etc should be named like ReadRegisterByte(), ReadRegisterWord(). I think that might be a little more obvious as to their function. What do you think of that?\nGreat idea to initial leave the current behaviour, and then extend to allow for multiple simultaneous bus usage.\nThe register operations that you made for Firmata are absolutely needed, and the implementations look OK. I am going to test all of this in more depth this week.\nVery exciting progress!. So far I've tested on Firmata and Edison. Had to fix a couple small things surfaced from these changes, but so far no problems with the new code itself.\nToday I will test a few more platforms, I'll post updated status here.. C.H.I.P. worked fine. For Beaglebone I had to make some corrections to match the proper mappings.. You make a good point about sticking to the SMBus-style naming. If we do change those names, which I am not completely convinced of since, we can do in a separate PR.\nNow merged into dev.\nGreat job @erkkah thanks for taking this task on! Closing this PR now.. @erkkah you can check out my WIP on the I2cConfig in https://github.com/hybridgroup/gobot/tree/feature/i2c-bus-param branch.. Hi @martinlindhe thanks for your contribution.\nHowever, we've switched to using the ble package instead of the gatt package in the dev branch, so this code will no longer apply to the next release of Gobot coming next week.\nThe dev branch is where all of the active Gobot development takes place. Check out https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#target-branch for more info.. Hi @brandonblock we have just added preliminary support for C.H.I.P. Pro in the dev branch here: https://github.com/hybridgroup/gobot/commit/8cfb7db7cdcb54d1978b4cb3c84b075c5f55ad6f\nAnyone who has one and wants to test things out, your feedback and bug reports are appreciated!. Support for the C.H.I.P. Pro has just been released as part of Gobot 1.5 so please open a new issue with any specifics.\nThanks!. Hi @elopio thanks for this update.\nMerging.... On a related note, I've just created this page which needs some info filled in: https://gobot.io/documentation/guides/snapcraft/ \nThe repo is here https://github.com/hybridgroup/gobot-site/blob/master/source/documentation/guides/snapcraft.html.haml\n:). I thought I already had! I had done everything but the final release step. In any case:\n```\n$ snap info gobot\nname:      gobot\nsummary:   \"Gobot is a framework for robotics, physical computing, and IoT.\"\npublisher: deadprogram\ndescription: |\n  Gobot is a framework using the Go programming language for robotics, physical\n  computing, and the Internet of Things.\n  It provides a simple, yet powerful way to create solutions that incorporate\n  multiple, different hardware devices at the same time.\nchannels:       \n  beta:   dev (2) 978kB -\n  edge:   dev (2) 978kB -\n```. Thanks for reporting this @Zanadar seems like a coveralls problem, which we have reported.\nI'll update this issue once it is resolved.. Seems to be same problem as https://github.com/lemurheavy/coveralls-public/issues/596#issuecomment-138922490. @Zanadar doing some experimenting with codecov.io check out https://codecov.io/gh/hybridgroup/gobot see what you think.... OK, we've just \"officially\" switched to codecov.io :)\nClosing this issue, please re-open if needed.. Hi @dnishimura first of all thanks for this PR. I'm going to get it into an immediate point release momentarily.\nRegarding running an actual NATS server as part or our CI test, I can see where NATS themselves would want to do so for the NATS CI tests, since it is the central point of the NATS project. \nHowever, for Gobot, for our own CI we only want to test the interfaces for external systems, not the external systems themselves. The correct form for full integration testing from Gobot's POV would probably be running tests right on some boards directly (raspi, edison, etc).\nSo if someone wanted to create a separate repo with a NATS integration test, that sounds like a way to accomplish such a thing, but launching a NATS instance as part of Gobot's own CI does not seem correct to me.\nAnyhow, I hope my reasoning is clear on that. And thanks again for the PR!. For sure that seems interesting, and also a daunting undertaking.. Hi @kevinjos \nWhich sensor are you thinking about?\nWe have a couple of platforms that already use serial connections. For example, Firmata (https://github.com/hybridgroup/gobot/blob/master/platforms/firmata/firmata_adaptor.go#L9), and also Sphero (https://github.com/hybridgroup/gobot/blob/master/platforms/sphero/sphero_adaptor.go#L8).\nHow we look at the architecture, is that an Adaptor that is part of a Gobot platform typically provide an interface that uses a platform-specific implementation. An example would be GPIO. Then Gobot drivers consume that interface.\nSerial interfaces, on the other hand, are more like a transport than a protocol. The protocol is dependent on the device being communicated with. For example, a GPS sensor is not going to use a different serial interface, just a different port.\nAnyhow, I hope that makes some sense. I'd like to know more about what you want to do, to better understand how to address your desired use case.\nThanks!. Hi, @kevinjos \nI just switched several of the Gobot platforms that use serial communication over to use https://github.com/bugst/go-serial so this issue has returned to my attentions.\nOne thought, is to create an Adaptor to wrap around the serial communication, and then provide Drivers as needed. Those Drivers would not need necessarily to live inside of gobot/drivers/uart or gobot/drivers/serial or whatever one might wish to call it, although that also seems like a good place to put them.\nAnyhow, what do you think?. Hi, everyone\nI notice that the implementation being used by PiGlow calls to WriteByte() and WriteByteBlock() are basically does the equivalent of what Gobot is doing as WriteByteData() and WriteBlockData().\nAt least one immediate difference I see, is that the implementation of WriteByte() is simply using the sysfs and not actually calling the SMBUS implementation:\nhttps://bitbucket.org/gmcbay/i2c/src/1235f1776ee749f0eaeb6de69d8804a6dd70d9d5/i2c_bus.go?at=master&fileviewer=file-view-default#i2c_bus.go-80\nNot sure if that is actually the issue here, but seems worth pointing out.. This is great work, thanks for looking into it!\nOne question: if you replace only the WriteByteData() with Write(), but left in the WriteBlockData() did that work? Trying to determine of all the syscalls were not working as expected, or only that one, since this is similar to what the gmcbay/i2c package does.. Thanks @owenwaller for helping track this down. I renamed the issue to better reflect what the problem seems to be here.\nAlso, please feel free to create a PR with your PIGlow driver, if you get a chance. We would probably however want it to accept a Connector instead of an already existing Connection as the param, which would break your own current code.. @owenwaller if you get a chance to test this, it would be greatly appreciated.. This is a great conversation here.\nRegarding block operations, that might also be platform/kernal version based, not device based. @owenwaller you are on Raspi but @erkkah you are using CHIP, correct? Some platforms still work on older kernels right now, I'd rather not lose that.\nI'd also rather continue to let Driver authors avoid knowing quite this much about the low level i2c implementations if they do not have to. The original naive sysfs implementation has the advantage of not having to know as much about what you are doing to get it to work as you expect. \nOn a side not, we should probably failover to the sysfs equivalent operation if the desired block operation is not available, so Drivers can \"just work\", but can use the new helper functions.\nThe current WriteBlockData() should probably continue to accept []byte and then either return an error if over the limit, or automatically chunk the write. We should not make Driver authors have to deal with that themselves.\nIf for a particular Driver we need a specific block operation, and it is supported on the platform, we could use an optional config to set that, or something?\nAnyhow those are a few of my thoughts. This is awesome.\n. That probably makes sense, @erkkah \nHow about we leave in the WriteBlockData() interface, but just use it as a wrapper for a sysfs implementation for now. We can revisit the details on the \"pure\" SMBUS impl in the near future.. This seems like a good plan. What needs to be done next?. This PR is now in the dev branch and will go out with the next release. I'll leave this open until it lands. Thanks everyone!. This code was just released with v1.3.0 thanks everyone!. Hi @erkkah looks good. Can you also add a simple example as well?\nThanks again!. Thanks @erkkah now merging.. Hi @matipan thanks for the detailed report.\nI personally do not have a MEGA2560 to test with, so a little hard to diagnose your problem.\nAny way you can provide the call stack at the point where it hangs?. Anyone find out more information on this?. Hi @rkjdid to me that makes sense to increase the size of the one buffered channel, and to the make the other one buffered. It does not introduce any race conditions that are not already there, certainly.\nI'd be happy to accept a PR with that change, if you wanted to submit one. :). The buffered channel code that seems to have addressed this has now been released as part of Gobot 1.4 so I am now closing this issue. Please reopen if needed. Thank you!. Hi @emmeblm I suspect that the problem lies in the specific firmware being loaded to the Mega. The version that is part of Gort is specific to the Uno and clones, and so even tho it might flash properly, it probably is not executing correctly.\nOne way to test this out is to try compiling and flashing Firmata onto the Mega directly from the Arduino IDE, and then try running the Gobot code.\nMy man @thoughtentity is working on some updates to Gort to allow for compiling and flashing with different boards, such as the mega. Also, I now have a Mega (somewhere) to test with.\nI am going to reopen this issue, since it seems like it is still around.. I just tried flashing my Arduino Mega 2560 with the StandardFirmata sketch. I then ran the firmata_blink.go program with no problems:\n$ go run examples/firmata_blink.go /dev/ttyACM0 \n2017/08/04 11:25:28 Initializing connections...\n2017/08/04 11:25:28 Initializing connection Firmata-19F592BB979D619A ...\n2017/08/04 11:25:28 Initializing devices...\n2017/08/04 11:25:28 Initializing device LED-4AC7E7C7618A98B1 ...\n2017/08/04 11:25:28 Robot bot initialized.\n2017/08/04 11:25:28 Starting Robot bot ...\n2017/08/04 11:25:28 Starting connections...\n2017/08/04 11:25:28 Starting connection Firmata-19F592BB979D619A on port /dev/ttyACM0...\n2017/08/04 11:25:31 Starting devices...\n2017/08/04 11:25:31 Starting device LED-4AC7E7C7618A98B1 on pin 13...\n2017/08/04 11:25:31 Starting work...\nI did notice that I needed to exit the Arduino IDE before trying to run the Gobot program, possibly the Arduino IDE connected itself to the serial port for debugging?\nAlso which version of Arduino and StandardFirmata did you use to flash your board?. Hello, there. Just checking in to see if there was any further info, I am not able to reproduce with the latest code.. I've been doing a bunch of experiments with different boards, and have found some cases where when  partial data has been read from the board, the messages can get out of sync. Currently experimenting with some different fixes for additional robustness.\nMore very soon.... The dev branch now includes this commit https://github.com/hybridgroup/gobot/commit/eb3b166158e8a3e0acb449bda54bf5c3d70603da which should better handle cases with extra out-of-sync data bytes.\nI've just tested on a real Arduino Uno R3, a real Arduino 101, a clone Arduino Uno, and a clone Arduino Mega 2560, and they all were able to connect multiple times.\nNext release of Gobot will include this update. In the meantime, any testing/feedback is appreciated.. This code was released in v1.8.0 so now closing. Please reopen if needed. Thanks everyone!. Great work @erkkah :ok_hand: \nMerging.. The buffered channel code that seems to have addressed this has now been released as part of Gobot 1.4 so I am now closing this issue. Please reopen if needed. Thank you!. Hello, everyone\nI'm made some changes to the https://github.com/hybridgroup/gobot/tree/dev branch to refactor the Firmata client/adaptor as well as switching to https://github.com/bugst/go-serial for all serial port communication.\nThis bug appears to be fixed from my testing on OSX El Capitan. If anyone else can confirm or deny that it is  working for them, it would be greatly appreciated.\nThanks!. Version 1.6.0 is now out, and includes fixes for this. Now closing, please reopen if needed. Thank you!. This page exists https://gobot.io/documentation/guides/adding-hardware-support/ but needs a lot more information.. Actually, I was more pointing out that is the placeholder page for the needed explanation. Right now as you mention, it tells you very little.. Looks like the failing check is due to code coverage % going down?. Hi @thetooth this is great.\nThere are a few references to CHIP that were not modified from the original copy/paste that you started with. Can you please update them to match the DragonBoard?\nThank you for working on this!. @thetooth I made some specific inline code comments, hopefully they are clear.\nThanks again for working on this!. OK, sorry just one last thing :)\nI made an error in a change to the TravisCI build a few days ago, and as a result the failure of the tests in your new package did not trigger a failure in the Travis build.\nCan you please make sure to run go test gobot.io/x/dragonboard and ensure all tests are passing?\nThanks!. Thank you very much @thetooth for contributing! Now merging.... Hi @erkkah thanks for working on this, looks to me to be exactly what you and @owenwaller have been discussing. Perhaps @owenwaller you can give a final checkout before we merge?. Oh, I see @owenwaller already did that. Merging, thanks again to both of you!. Hi, @erkkah \nWas just looking this PR over. Seems to me that the device tree overlay should be handled by the developer separately, not done by Gobot itself. You can do an lazy init of the PWM so it is not initialized by default, the assumption being that it is probably not installed. If the developer tried to use PWM0 then it could try to perform initialization, again the assumption being that the developer has installed the device tree overlay themselves.\nIf anything, perhaps adding the overlay builder to Gort? In any case, I think that it probably does not belong in Gobot itself.\nWhat do you think?. Hi @erkkah Gort is our CLI interface for \"RobotOps\": https://github.com/hybridgroup/gort\nSeems like a gort chip install pwm command would be ideal here! :). Hi @erkkah ideally the command would be run 1 time and then would be \"permanent\".\nI've added an issue to Gort here to discuss: https://github.com/hybridgroup/gort/issues/49. Hi @BChip this commit to the docs site https://github.com/hybridgroup/gobot-site/commit/fa6d1f638a08dcfab668653cf5239b4052559c2b corrects this problem.\nThank you!. Thanks @maruel looking forward to having Gobot tests run easily using https://github.com/maruel/gohci. Hi @erkkah this looks very promising. Now we need to give people the ability to install the needed device tree overlay using Gort. :palm_tree: . Thanks @erkkah now merging.. Thanks, @erkkah . Hi, @rgdaddio we dropped official support for versions of Golang < 1.7 in the last release. I just realized that we did not add that important information to the CHANGELOG, and I apologize for that.\nDo you need to use golang v1.5 for a particular reason?. We have some plans for this... more on that soon.. There is progress indeed!\nPlease checkout the latest work here: https://github.com/hybridgroup/gobot/tree/dev/drivers/spi. Initial SPI support has now been released as part of https://github.com/hybridgroup/gobot/releases/tag/v1.7.0 so I an going to close this issue. Please repoen if needed.. Hi @SafaiWeb thanks for pointing that out. The missing page has been updated. Thank you!. Hello @SafaiWeb & @trevrosen please take a look at my changes to the README here https://github.com/hybridgroup/gobot/commit/95a433a84aff04a13698950448f8816ee2da6c06\nI think they should make things a bit clearer.. These docs have now been released as part of Gobot 1.4 so I am now closing this issue. Please reopen if needed. Thank you!. Hi, @b3b thank you for these corrections! Merging.. Hi @dsockwell can you please resubmit this PR against dev branch? Thank you!. Hi @dsockwell so got confused about which sensor was which, with all the variations.\nThe BME280 is a BMP280 with the humidity sensor, NOT the same as the BMP180. Sorry about the mistake on my part.\nIn any case, I have now updated my https://github.com/hybridgroup/gobot/tree/feature/i2c/bme280 branch with your commits from this branch, plus a few others that I put in place.\nStill need to implement a number the functions, all of which have been marked with \"TODO\" in the branch. \nI think only the BMP280 functions will need to be implemented, since the BME280 should be able to pick up the shared functionality.\nIf you are able to help further, it would be hugely appreciated. If not I will continue to work on it later this week. Thanks!\n. When I initially tried that, I was getting the \"wrong\" result. I looked into some Arduino code samples and discovered that the calibration coefficients were named differently.\nPerhaps with your greater experience studying the datasheet, you can more easily spot the similarities/differences?. Hi @dsockwell I have updated my branch to do almost everything except the conversions themselves:\nhttps://github.com/hybridgroup/gobot/blob/feature/i2c/bme280/drivers/i2c/bmp280_driver.go#L165-L173\n. Hi @dsockwell I have updated my branch to do almost everything except the conversions themselves:\nhttps://github.com/hybridgroup/gobot/blob/feature/i2c/bme280/drivers/i2c/bmp280_driver.go#L165-L173\nand\nhttps://github.com/hybridgroup/gobot/blob/feature/i2c/bme280/drivers/i2c/bme280_driver.go#L69-L73. OK nearly there.\nHere is the data I am getting back, obviously my conversions are off:\nTemperature 23.79412\nPressure 65254.918\nHumidity -108.65291\n@dsockwell could you please take a look at my branch and see if you can spot what I'm doing wrong here? Thank you!. Thanks!. Oops, sorry @dsockwell I just noticed your request for some data. Sorry, my bad. I will set things back up to get an accurate data dump later.. Hi @dsockwell finially got set back up, and figured out what was wrong with my previous attempt to merge some of your code. I got things setup correctly, and now all is working as expected:\nTemperature 25.155273\nPressure 99185.875\nHumidity 50.553627\nTemperature 25.165318\nPressure 99191.47\nHumidity 50.55474\nTemperature 25.170341\nPressure 99192.805\nHumidity 50.555317\nI've merged the branch with the various updates, so I am going to close this one. \nThank you again for your working on this!. I did not merge this yet, for the main reason that the race conditions that are identified by the new test commands should probably be fixed first, don't you think?. FInally got all of the race conditions and resolved, and have merged this. Thanks again @maruel for your fine efforts!. Hmmm, I see what you mean with the slowdown. How do you suggest we proceed?. Hi @maruel so I tried your suggestion, and it had no effect on the run times for the coverstep:\nhttps://travis-ci.org/hybridgroup/gobot/jobs/217886327 without -i flag\nhttps://travis-ci.org/hybridgroup/gobot/jobs/218117124 with go test -i ./...\n. Yes, I quite agree that the fact that any race conditions are now exposed by the current tests is much preferable. So at least for now, we're good. Thanks again for your help!. Thanks for this, @maruel now merging.. Hi @DavidMcDonnel thank you for reporting this. It has been corrected by https://github.com/hybridgroup/gobot-site/commit/6450b3674ceec459026c25f89f860ee8094f16b1\nNow closing. Thanks again.. Hello, @SafaiWeb perhaps you can upload a photo of your exact setup, in particular your circuit.. Looks like the LED is reversed in that photo. The flat side should be GND (negative). Normally I use a black wire to indicate ground, and use colors for pins. I reserve red for power.\nHope that helps!. It will only work in one direction, that is for sure! :) Flat means GND.. Also, looks like you are using a 1K ohm resistor. You might want to try 270 ohm instead.. Hi @SafaiWeb I'm not exactly sure what you mean by \"The Arduino returns a new command prompt, so there was no way to print to the terminal.\"\nPerhaps bringing in both an Arduino and other sensors into the mix might be clouding your original issue, as opposed to clearing it. Not sure on that, perhaps it is helping establish a baseline.\nIn any case, a few more basic questions:\n- What version of OS X are you using on your desktop machine?\n- What version of Golang do you have installed?\n- How exactly did you load Fimata onto your Arduino?\n- Which Arduino model are you using?\n- What is the command line you are using to run the firmata_blink.go program?\n. If you are running the firmata_blink.go from your OSX machine to the connected Arduino, you would need to change up the serial interface name here https://github.com/hybridgroup/gobot/blob/master/examples/firmata_blink.go#L16 to match the name of whatever serial port your Arduino is mapped to on OS X.. Ubuntu happens to be my own preferred desktop OS. Perhaps permissions related? Try building, and then execute your program using sudo.. You probably will need to run your code on the raspi using sudo as well, unless you have added udev rules to give yourself whatever needed permissions to read/write to GPIO.. OK so I have a solution now thanks to a tip from @fivdi to ensure that the GPIO exports have correctly happened before trying to use the GPIO pins. This addresses the issue when running as a normal user.\nThe code is now in the dev branch @SafaiWeb if you want to try it out on your raspi. I will leave this issue open until this code has made it into the next release.\nThanks you @SafaiWeb for pointing this problem out.. This code has now been released as part of Gobot 1.4 so I am now closing this issue. Please reopen if needed. Thank you everyone!. Hi @llonchj this looks great thanks you very much for working on it!\nCould you also please add a simple example program? Thank you again!. Thank you @llonchj now merging.. Hmm, @matipan only thing I could find on this error is https://forum.golangbridge.org/t/go-build-exits-with-signal-killed/513. OK seems like an open issue possibly https://github.com/golang/go/issues/19734. Hi @rkjdid could you please resubmit this PR against the dev branch? Thank you!. Thank you, @rkjdid for this. I think it might also address https://github.com/hybridgroup/gobot/issues/376\nNow merging.. Hi @willis7 I think your problem is probably the same as https://github.com/hybridgroup/gobot/issues/401. Hi @willis7 try connecting by ID instead of name, that might help you out.. This might sound silly, but did you rotate the Microbit in a circle first after flashing the firmware, but before trying to connect?\nStep 4 from here:\nhttps://github.com/sandeepmistry/node-bbc-microbit#flashing-microbit-firmware\nWe absolutely need to add this to the Gobot docs.\n. The docs have now been updated. @willis7 did that solve your problem?. Hi @willis7 any update on testing this? Thanks!. No restrictions I am aware of. That said, I do almost all of my work on Linux.\nThe ble package that Gobot uses is different for Linux vs. OSX, in that the OSX code uses the Mac's API. I will need to setup to do some further testing.. Hi @rkjdid thanks for your thoughts.\nThe idea, perhaps not well expressed, is that in most cases, what you want is for your Gobot code to run indefinately, letting the various goroutines that have been started up by On() and Once() event handlers run awaiting their events. We called this Autorun == true although in retrospect that was not a good naming. Perhaps it would be better to call it TrapInterrupts? In any case, this is supposed to run until the user interrrupts the program with a Ctrl-C.\nIn the case of a program that is supposed to just do some Work, and exit afterwards, the condition is supposed to be Autorun == false. Since this is not my own personal usual use case, it has not received the kind of attentions the first case has.\nRegarding the implementation of Work being done, etc. it would be much better to switch to using context, since we have already stated the intentions of only supporting Golang 1.7+ for all active Gobot development. I agree that we need to way for Work itself to notify any calling goroutine that the Work is done. However, in the \"Autorun\" case, the Work is never done, it just gets started, and runs until interrupted.\nI really like this conversation and seeing your ideas. What do you think of the above?. Hi @rkjdid not sure if you saw my response. What do you think?. Thanks for the response @rkjdid if you could provide any details about any problem you encountered with the Firmata adaptor that would be greatly appreciated.\nhttps://github.com/bugst/go-serial looks like a good package, might switch over to that since it has a few cool features such as enumerating serial ports.. Hi @vlastv thanks for noticing this issue.\nCould you please resubmit this PR against the dev branch? Thank you very much!. Just did it, @vlastv . Thank you very much @vlastv now merging.. Hi @nzmichaelh this is really great, we really needed this capability. Thank you for working on it.\nCould you please update the README with info on how to use the UDP adaptor, and also ideally add an example showing it in use?\nThanks again for your contributions!. Thank you, @nzmichaelh that will make it a lot easier for people to get started.\nOn related note: I was looking at https://github.com/liamstask/go-mavlink a while back, specifically for the purpose of parsing the various dialects of packets. Any thoughts on that?\nIn the meantime, I will merge this PR. Thanks again for working on it.. Hello again @nzmichaelh I was adding some test coverage to the UDPAdaptor, and I noticed that it seemed like this change is needed to be able to send messages: https://github.com/hybridgroup/gobot/commit/5817b7d8de7985c3d442f8d90a4950df38a2e83e\nPerhaps your real-world code is listen only, or maybe I am missing something here. What do you think?. @nzmichaelh I've made a few changes in the branch https://github.com/hybridgroup/gobot/tree/feature/mavlink-tests perhaps you can test it with your hardware and make sure it still works as you expect. Also, my question about sending message still applies.\nThanks!. @nzmichaelh my updated code with tests and the change to Write() are now in the dev branch. Please verify that it still functions for you as you expect. Thanks again for working on this.. Hi, @nzmichaelh thank you for working on this.\nI am just wondering if perhaps this should be the default behavior to always just return the topic along with the data?\nAlso, seems like this same functionality is also needed in the Driver, however it gets implemented: https://github.com/hybridgroup/gobot/blob/dev/platforms/mqtt/mqtt_driver.go#L77\nWhat do you think?. I do not like breaking the API, but wildcards are an essential capability of MQTT. There does not seem to be any way around this, other than your current PR, or breaking the API. I see this as an omission on my part when implementing the original API.\nOther messaging systems also have the same wildcard feature. We should also change the NATS adaptor https://github.com/hybridgroup/gobot/blob/dev/platforms/nats/nats_adaptor.go#L115 to do the same as whatever we decide to do here.. OK @nzmichaelh you will probably want to kill me, but I have yet another idea :)\nWhat if we did this?\ngo\nmqttAdaptor.On(\"hello\", func(msg mqtt.Message) {\n   fmt.Println(msg.Topic(), msg.Payload())\n})\nmqtt.Message in this case means https://github.com/eclipse/paho.mqtt.golang/blob/master/message.go#L24\nIt allows your use case, plus a few other we do not yet know about for speccific purposes. Basically just  exposes everything.. We could probably declare type Message paho.Message in the Gobot mqtt package, to allow Gobot devs to refer to mqtt.Message and have it do what they expect.. Hello @nzmichaelh what did you think of my idea?. Thanks @nzmichaelh this looks good. Now merging.. FYI @nzmichaelh I updated the examples that use mqtt to match the new signature here: https://github.com/hybridgroup/gobot/commit/311bfcfb451fb423f70dcb002b8355066ec25859. Hi @nzmichaelh if you get a chance to update this PR to do the same thing that you did you MQTT as far as passing the message itself to the handler, I could merge it.\nYour work on these items is very much appreciated. Thank you!. Thank you very much for taking care of this @nzmichaelh now merging.. Hi @bezineb5 thanks for your thoughts and work on this.\nI am in the process of extracting the PWMPin implementation and interface into a shared part of the sysfs package. Please take a look at https://github.com/hybridgroup/gobot/blob/dev/sysfs/pwm_pin.go\nI think we can accomodate some of what you are proposing in a way that does not require an entirely new driver, but instead some of that work can be incorporated into the existing Servo driver with some additional options.\nAs far the as ServoWriter interface, there are platforms such as Firmata that perform specific functionality in the microcontroller specific to servo control. Seems like some additional options could solve this problem in the general case, while allowing for higher resolution servos.\nWhat do you think?. Hi @bezineb5 agreed about not using string for Period. But I was thinking more of switching to uint32 as the Linux expects that param to be an integer expressing the period in nanoseconds, same as duty cycle.\nIn any case, I will work a little more on the PWMPin implementation to make that change. Anything else you'd like to see in the implementation?. @bezineb5 I've made those changes to the dev branch. Please take a look at the latest implementation.. Hi @bezineb5 not sure if you had a chance to look over the updated PWMPin implementation, but I think it is completed, at least for now.\nI am going to close this PR, please open a new one when you continue working on your servo improvements.\nThanks again for helping!. There is one last round of refactoing I am doing, specifically to expose the PWMPin pins to programmers via  PWMPin() method on the Adaptor. My incomplete work is in the https://github.com/hybridgroup/gobot/tree/feature/pwmpin branch.. Hi @bezineb5 I've completed the refactoring enough that it was merged into the dev branch. I've added implementations of the new PWMPinnerProvider & PWMPinner interfaces into all but 1 of the Adaptor's that can support such functionality.\nYou can use it for your more advanced servo code and other such needs, by obtaining a PWMPin from the adaptor like this:\n```\na := raspi.NewAdaptor()\npin := a.PWMPin(\"17\")\n// get period\nperiod := pin.Period()\n// set to 50% duty cycle\nduty := period / 2\npin.SetDutyCycle(duty)\n```\nI think this should accomodate your needs. If you need anything specific from these changes, or just want to comment, please open an issue.. Hi @triberraar if what you want to do is immediately terminate your Gobot program after running, instead of continuing to run and await commands and events, you can pass false to the Start() method, which turns off the \"autorun\" feature.\nFor example:\n```go\npackage main\nimport (\n    \"fmt\"\n    \"time\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/platforms/sphero\"\n\n)\nfunc main() {\n    adaptor := sphero.NewAdaptor(\"/dev/rfcomm0\")\n    spheroDriver := sphero.NewSpheroDriver(adaptor)\nwork := func() {\n    r := uint8(gobot.Rand(255))\n    g := uint8(gobot.Rand(255))\n    b := uint8(gobot.Rand(255))\n    spheroDriver.SetRGB(r, g, b)\n}\n\nrobot := gobot.NewRobot(\"sphero\",\n    []gobot.Connection{adaptor},\n    []gobot.Device{spheroDriver},\n    work,\n)\n\nrobot.Start(false)\n\n}\n```\nNotice that when the program disconnects from the Sphero, the Sphero will turn off once the Bluetooth connection is broken. This is the behavior of the Sphero's firmware, not something specific to Gobot.\nHope that helps!. Hi @bezineb5 thanks for working on this. Second time we are working on the same thing at the same time, we need to coordinate efforts better.\nAnyhow, I like several things about your implmentation. Support for both ADS1x15 devices is one. Better validation of params such as data rates is another.\nThe conversion to V is cool but slightly less interesting, only because my priority was obviously to implement AnalogReader interface, which the dev branch has. Also, tests.\nSo I really like a lot of your implementation. How do you suggest we proceed? One option that comes to mind is just to replace the dev implementation with your branch, after adding the AnalogReader interface and test coverage. Another option would be to incorporate some of your work into the dev branch. Not sure that is any easier, and probably harder.\nAnyhow, if you are up for it, I'd love to see your branch get the above changes, and then replace the current dev implementation. What do you think?. Sounds like you are on the right track to me.\nI will hold off on any further changes to ADS1015 pending your PR to reify both versions into a single code base.\nAlso, looking forward to the MPU9250 & VL6180X implementations!. Hi @bezineb5 the tests are failing in Golang 1.7.x due to a difference in the error returned by the parser. Still an error, so probably changing the test would be best. https://github.com/bezineb5/gobot/blob/ads1x15_driver/drivers/i2c/ads1x15_driver_test.go#L171 could just test for gobottest.Refute(t, err.Error(), nil)\nAlso, still need to correct the scaling for the voltage function. When I run the example and https://github.com/bezineb5/gobot/blob/ads1x15_driver/examples/raspi_ads1015.go#L22 with the correct v, _ := ads1015.ReadWithDefaults(0) line, I get this result:\nA0 32.752\nThat is what is being returned by the voltage function, since you cannot simply multiply here and obtain the correct result: https://github.com/bezineb5/gobot/blob/ads1x15_driver/drivers/i2c/ads1x15_driver.go#L370\nThe proper formula for the calculation there should be value = d.converter(data) / voltageMultiplier * voltageMultiplier. No I am using my actual ADS1015 on my Raspberry pi for that.. Hi @bezineb5 to elaborate a little:\nI have a Raspberry Pi 3 with an ADS1015 attached. I am using an analog rotary sensor connected to pin 0 on the ads1015.\nThis gist shows my output when I run the sample, and turn the knob from one extreme to another: https://gist.github.com/deadprogram/a0e3c649d0fe088b0793a29a400e7bc4\nHopefully that makes clear what is going on here. Thanks again for your help on this!. Hi @bezineb5 anything more I can do to help this PR land? :). Tested, and the V is what I expected for my setup. Now merging, thanks again for working on this @bezineb5 . Looks good, @pauleyj thank you very much for your contribution!. @pauleyj I've added some test coverage with this commit https://github.com/hybridgroup/gobot/commit/b8572849a98639ca3c0abd997198e3f2a34f8dd4\nIf you were able to use your actual sensor to adjust the values marked TODO, and the corresponding expected Assert tests, that wold be truly epic. You would need to submit another PR, sinec this one has already been merged into dev.\nThanks again!. Hi @mighe thank you for your contribution. I like the idea if what you want to do here, and have been meaning to do something similar.\nHowever, all PRs need to be made against the dev branch, and dev has changed quite a bit since the last release a few weeks ago with the introduction of the PWMPin.\nCould you please pull the latest dev and then try this again?\nThank you again for working on this.. The dev branch compiles and passes all tests currently on Linux. Are you on OSX? Also, what is your exact error?\nI would personally start fresh from the dev branch and reimplement your changes. That seems \"easier\" to me.. Hi @mighe thanks for resubmitting.\nCould you please run gofmt on the files, and then commit those changes? That part of the Travis test suite is failing: https://travis-ci.org/hybridgroup/gobot/jobs/229094248#L898\nThank you.. Thanks @mighe now merging.. Hi everyone. Somehow I previously missed @larsth comment when it was originally made. Yes, epoll would be a great solution. Seems like by adding some wrapper code to the Gobot sysfs package, getting to work on any Linux such as Raspi, Beaglebone Black, etc. would be straightforward.\n@larsth if there is a kernel module that blocks the interrupt, that probably means a kernel driver that is already using it, and so it would be best for Gobot to leave it alone, right? What is the correct way to handle this?\n@mikegleasonjr yes, that seems like the most likely pattern for a Gobot implementation. I personally avoid adding kernel modules unless absolutely needed for some special purpose.. Thanks, @pauleyj now merging.. Thank you @wootsaejao now merging.. Thanks @pauleyj . Hello @1lann was finally looking into this, and I see that actually the Client is doing a AnalogMapping query, and so obtains the actual pin mappings for any board on initial connection.\nThe problem is that the Adaptor is not using this information, instead using the \"hard wired\" value as you pointed out. I have not had a chance to actually work on the code, but https://github.com/hybridgroup/gobot/blob/master/platforms/firmata/client/client.go#L450 is where the values are populated. \nThe solution could be that the  https://github.com/hybridgroup/gobot/blob/master/platforms/firmata/firmata_adaptor.go#L239 function should probably be renamed to analogPinLookup() and the implementation use f.Board.Pins() to lookup the actual mapping.\nHopefully this makes sense. I will try to get to working in the next weeks on an improvement to handle this case, but if someone else wanted to write a PR to handle this, it would be greatly appreciated!. The easy way to establish if it is permissions related, is to run your program under sudo.\nIf it runs correctly, it is permissions related. If not, it is something else.\nPlease give that a try.\nAlso, from where did you obtain your Firmata? Try using the Firmata that is uploaded using Gort (http://gort.io/) it was created using ConfigurableFirmata and includes all the needed capabilities.. Did you try switching to the dev branch of Gobot? There are some important Firmata/serial related changes in that branch.. Hi @half2me did you try the dev branch as I had suggested?. We will release an update with these fixes once we have confirmation from someone else that this issue and https://github.com/hybridgroup/gobot/issues/376 have been addressed in the dev branch. \nWe've tested on OSX El Capitan, just need testing on some more recent OSX versions.. @half2me did you flash the Arduino with Firmata first?. https://gobot.io/documentation/platforms/arduino/ first paragraph in \"How to install\" documents this.. @half2me I added some code to the firmata.Connect() to some ideas that have emerged from this issue. The new code is much cleaner, and provides a new ConnectTimeout field that defaults to 15 seconds.\nIn the case that Gobot is unable to connect, the updated Firmata \"blink\" example will display any connection errors: https://github.com/hybridgroup/gobot/blob/dev/examples/firmata_blink.go#L32\nAlso, the error displayed in the case of a timeout, suggests flashing Firmata on your Arduino, for people who might not realize that requirement.\nI am going to reopen this issue until the new code makes it into a Gobot release. In the meantime, anyone who can test the dev branch, your feedback in appreciated.. Version 1.6.0 is now out, and includes all these fixes. Now closing, please reopen if needed. Thank you everyone!. Hi @gedw99 as you said the same patterns apply, and Gobot also has support for some external hardware devices that themselves provide APIs such as Parrot drones. \nWe'd absolutely love to see a contribution to add support for Kuka!. Hi @jadr2ddude this post has the GPIO mappings for this board: https://kaspars.net/blog/linux/orange-pi-zero-gpio\nSeems like adding it would not take long. Are you planning on working on this? :). This appears to provide the Orange Pi One mappings if you wanted to add that as well: https://cdn.instructables.com/FVP/79LM/INRJEEUJ/FVP79LMINRJEEUJ.LARGE.jpg. Hi @ssorc thanks for the report. I will setup to test this issue shortly and get back to you.. Hi @ssorc yes, I can confirm that error is being returned.\nInterestingly, restarting the program causes the readings to come thru correctly on subsequent runs.\nIn any case, your PR to address this would be appreciated. Thank you!\n. Version 1.6.0 is now out, and includes this fix. Now closing, thanks again @ssorc for this!. Thanks! Now merging.. Thanks @erkkah for the PR! Now merging.. Thanks @pauleyj now merging.. Hi @kehribar nice to hear from you. Thanks for the corrective PR, now merging.. All you need is the:\ngo get -d -u gobot.io/x/gobot/...\nDocs were already updated here, just awaiting the next release: https://github.com/hybridgroup/gobot/blob/dev/platforms/firmata/README.md#how-to-install\nThanks for the report.   . Version 1.6.0 is now out, and includes documentation fixes for this. Now closing, please reopen if needed. Thank you!. Hi @hairyhenderson \nSo I've been working on this for a bit, your issue prompted me to get a little further.\nThe branch https://github.com/hybridgroup/gobot/tree/feature/neopixels contains some of my WIP. The initial implementation uses a plugin for ConfigurableFirmata that I've committed some initial work on here https://github.com/hybridgroup/FirmataNeopixels\nSince it extends ConfigurableFirmata, it should work fine with Gobot's TCPFirmata on an ESP8266 once I get a little further I will test that out to confirm.\nThe next major milestone will be to implement a GPIO \"bitblaster\" interface that can send the signals from one of the GPIO pins on a Raspberry Pi, Beaglebone Black, etc. I intend to work on this further over the next week or so. This document show pretty much exactly what the pin bitblaster will need to do: \nhttps://cdn-shop.adafruit.com/datasheets/WS2812.pdf\nWhat do you think?. TO elaborate a little more:\nFirmata-based Neopixel driver that already at least mostly works is here:\nhttps://github.com/hybridgroup/gobot/blob/feature/neopixels/platforms/firmata/neopixel_driver.go\nPlaceholder for GPIO-based Neopixel driver is here:\nhttps://github.com/hybridgroup/gobot/blob/feature/neopixels/drivers/gpio/neopixel_driver.go\n. Hi @joek you are correct, I have a repos with some work in progress on the Arduino side of things.\nhttps://github.com/hybridgroup/FirmataNeopixels \nSorry about the complete lack of docs, as of yet. It is a pluging for configurablefirmata if that helps get you started before I can update the READMEs.\nYou are indeed correct about the speed issues with the raspi, but I expect that for at least a very short length of LEDs a Golang sysfs bitbanging approach might be viable.. Hi @hairyhenderson your best bet with Raspberry Pi is probably to use a SPI based LED strip like the APA102 https://github.com/hybridgroup/gobot/blob/master/drivers/spi/apa102.go the speed of the Raspi bus is not really enough to drive NeoPixels without an attached microcontroller.. The ESP8266 basically goes into the reboot loop under many circumstances and one in particular is when it does not have enough time to process all the WiFi data. I ran into that exact problem with it, and was not even using code that is so timing dependent as the Neopixels. My Neopixel experiments were using an Intel TinyTile and using BLE not WiFi, as I recall.\nOne thought was to switch over to using Homie on the ESP8266 https://github.com/marvinroger/homie-esp8266 and use an MQTT based protocol. I have done some experiments with defining a Firmata-like protocol on top of Homie but it is far from complete.\nAnother useful approach might be to do the same sort of thing as Homie, but using COAP instead of MQTT. That would have quite a few benefits, such as not requiring a server, and also allowing for pure browser-based clients to test the device, but I have not seen that anyone has done anything even close to that yet. It is just one of several ideas I have been playing with.. That is good news. Please update this issue with details once you get it working to your liking.. That is the expected Firmata response sent from the Arduino back to the caller. The exception is on the ESP8266 side or the Go side?. Thanks @kpashka. Hi @chaitanya9186 check out the dev branch where we have just recently done work on this driver:\nhttps://github.com/hybridgroup/gobot/blob/dev/drivers/i2c/pca9685_driver.go\nExample code here:\nhttps://github.com/hybridgroup/gobot/blob/dev/examples/firmata_pca9685.go\n. Yes, it is just an I2C device.. Yes, that is correct. You would just use the raspi package and Adaptor instead of the firmata one. SImilar to this example: https://github.com/hybridgroup/gobot/blob/master/examples/raspi_blinkm.go#L17-L18\nHope that helps!. I'm going to leave this issue open until the PCA9685 driver makes it to the master branch. Once it has been merged, I'll come back and close this issue unless further assistance is needed.. Good news is this was merged into master a couple weeks ago with the release of v1.6.1 however, the needed documentation is lagging a little behind. I'll continue to leave this open until the docs update.. A example of use and docs page has been added to site. Now closing this issue, thanks everyone.. Good idea, @elopio thanks and I'll look into the auto publish.\nCan you please make this PR against the dev branch to avoid merge conflicts with other upcoming changes?\nThank you!. Thanks @elopio now merging.. Hello @amits1995 this was an unexpected consequence of adding support for BLEFirmata, since there is not yet Windows support in the BLE library. \nThanks for reporting. I'll look into either making that dependency conditional, or some other solution.. Hello, everyone.\nJust committed code to the dev branch that corrects this issue. \nIn addition, I have now created a Windows-based build in Appveyor to hopefully help avoid sudden surprises in the future. \nSorry about the inconvenience, and thanks everyone who reported this issue with good debugging details.\nThis issue will remain open for comment until the code gets to master in this week's release.. Hi, everyone\nI released v1.6.1 a few days ago. This issue has now been resolved, so I am now closing. Thanks again to everyone who helped out!. Although it is possible to wrap C/C++ code in Golang, all of our i2c drivers, and most of the code that we can, is written in pure Golang to make it easier to cross-compile, and reduce dependencies.\nWe would normally just examine the C++ reference code, and \"manually transpile\" it into Golang. It would be ideal if we had some docs on this, or someone wrote a blog post.. Hi @ljfranklin thanks for this. I installed that udev rule so long ago I had forgotten it.\nNow merging. Thanks again.. This PR was replaced by #448 thanks again @iplay88keys @brimstone & @ulisesflynn for all the great work!. Hi @chaitanya9186 so the Gobot interfaces predate that work by a couple of years. Also, x/exp/io work is not actually being developed on any longer, as you might notice from the commits. :(\nThe interfaces are largely equivalent. Gobot is intended to work with both embedded Linux as well as microcontrollers connected via various serial or wireless adaptors, so the interface design is informed to some extent by things like Arduino etc.\nIf the community at large wants to start supporting the x/exp/io interfaces, the internal implementations of Gobot could evolve in that direction. However, so far, that has not been the case.\nHope that helps clarify a bit.. Hello @kc1116 can you please point us to the specific example so we can update it? You are most certainly correct about it being out of date.. HI @kc1116 please check out this commit https://github.com/hybridgroup/gobot/commit/1312c20d4be94fde9b600ce5976effde3c1d9b50 to the dev branch. I think it should address most of your issue.\nI am going to reopen this, please close if you think it has been handled, or provide additional feedback.\nThanks!. You mean like using a laser to send or receive a signal? Not that I have seen.. This is great stuff, @GuySirton I will get my drone out this weekend to play with it.. Time to merge this in. Thanks @GuySirton for working on this!. Hi @kc1116 we do have some support for the ARDrone 2 video stream, by using OpenCV. \nHere is an example: https://github.com/hybridgroup/gobot/blob/master/examples/ardrone_face_tracking.go\nThat might be what you are looking for?. No parser yet, but probably several places to find code to write one.\nCan you please provide a stack trace or other info for your opencv problem?. Hi @Remo thanks for the comments. Seems like a good idea to implement.\nRegarding optional arguments, the best way to handle this is using variadic configuration ala https://dave.cheney.net/2014/10/17/functional-options-for-friendly-apis\nGobot's i2c drivers all already do this, to provide a slightly more in-context example: https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/bme280_driver.go#L42\nReturning a paho.Token from Publish() certainly seems like a small but useful change, as well.\nWe'd be very happy to accept a PR with these changes. Please let me know if I can help out in any way.. Hi @qarth right now the functionality is rather limited. \nOnce a SPI interface has landed into Gobot dev, a more performant interface to the SSD1306 will be possible, and drawing text a more reasonable prospect.\n. I think that @ulisesflynn is going to work on the SPI version of this driver in the near future. :smile_cat: . Hi @mikegleasonjr that transfer looks useful. Perhaps a version of that function TransferImage could be added to the driver itself? I'd gladly accept such a PR.. Hi @mikegleasonjr any chance of still getting this PR? :smile_cat: . Now closing this issue since ssd1306 support is in fact in Gobot. Still love to see a PR with the image transfer feature.. Hello @crsrusl \nEach of those functions take a param from 0-100 to control the speed in that direction. For example:\nhttps://godoc.org/gobot.io/x/gobot/platforms/parrot/minidrone#Driver.Forward \nIs this what you are looking for?. Hi @crsrusl was that what you needed?. Hi @ulisesflynn this looks really awesome! Could you please change it to be against the dev branch instead of master? Thank you!. Thanks for changing the branch for merge, @ulisesflynn \nLast request I think that the file drivers/spi/gopigo3_driver.go should go into platforms/gopigo/gopigo3_driver.go instead since it is specific to the GoPiGo \"platform\", similar to the PR https://github.com/hybridgroup/gobot/pull/438 that @iplay88keys submitted. \nWhen we have an ssd1306 driver that supports the SPI interface, that would be an example of something that would go into drivers\\spi\\ssd1306_driver.go.\nThis PR has general purpose SPI communication on the raspi, as well as the GoPiGo implementation, so I think it is a great push in that direction. I'd love to have the platform move I mention above, what  does everyone think?. Hi @ulisesflynn I see you are in process to make changes to this PR. Thanks.\nOne suggestion I have, is to leave the SPI implementation in the raspi platform, and then have the gopigo driver in the new gopigo platform. This would allow for using the SPI implementation for other devices.\nWhat do you think of this?. I'm getting very excited about this!. @ulisesflynn looks like this is ready! Anything else you want to add, or can I merge into dev now?. I am now merging into dev branch. \nThank you very much @ulisesflynn @brimstone and @iplay88keys for all of the code and efforts! This work both adds the GoPiGo3 platform, and also moves forward the overall goal of adding SPI interface to Gobot.\n:1st_place_medal: :1st_place_medal: :1st_place_medal: . This is a duplicate of https://github.com/hybridgroup/gobot/issues/362. Hello @akumbhani66 thank you for your contribution. Could you please change it to be against the dev branch? Thank you!. Thank you, @akumbhani66 now merging.. Hello @joek that seems like a great thing, please submit a PR, and thank you!. This has been released as part of https://github.com/hybridgroup/gobot/releases/tag/v1.7.0 so I am now closing. Thanks again, @joek . This looks great @ulisesflynn thank you! \nI noticed that the build failed, due to the test coverage dropping. Any chance of adding a few tests? :sun_with_face: . Thank you for adding some test coverage, @ulisesflynn \nThe codecov \"patch\" test checks the % of test coverage of the new code. According to the stats, this PR has 66.52% of diff hit (target 84.87%), which I think means that 66.52% of the new code has code coverage, and codecov wants to see at least 84.87%. It is very strict.\nSince the overall code coverage for the entire project is going up with this PR by 1.3% I'm not really concerned about those few lines. Additional test coverage could be added in a subsequent PR.\nIn other words, time to finally merge this into dev branch!. Hi @trevrosen this seems like a great idea to me.. Hello @trevrosen regarding your question about what has been driving the backward version compatibility. We have been trying to ensure support for the current version of Go - 2, but perhaps we should instead mimic the Go languages's own policy: https://golang.org/doc/devel/release.html#policy. This thread describes some specific issues regarding Go language compat. and Gobot: https://github.com/hybridgroup/gobot/issues/390#issuecomment-289812820. Thanks to @trevrosen this is now in the dev branch. I will close this issue once it makes it into the next release.. Hi @trevrosen this really looks great, thank you so very much for working on it! Now merging.. This seems like an extremely good idea. Probably should have done this a while ago, or at the very least I should have done that instead of switching to the Travis build cache for the recent changes to support GoCV and OpenCV 3.3.. This was released as part of v1.8.0 thanks again for your awesome work, @trevrosen . This looks great @joek thank you for contributing. Now merging.. Hi @muhtadi are you wanting to use an Arduino with some specialized functionality as an I2C slave device, and the Raspi as the controller?. You might want to check out the blog post at https://oscarliang.com/raspberry-pi-arduino-connected-i2c/ as far as how to wire up the Arduino to the Raspi. The Gobot side requires either writing a new Driver, or just using the Raspi Adaptor's I2C interface directly.\nIf you can provide the Arduino sketch I can provide further details on the Gobot side.. Yes, Gobot should act as the master, and performing a Read() on the same address as your arduino, should retrieve data. Check out https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/hmc6352_driver.go for a relatively simple example of an i2c driver.. Hi @jjjachyty did you have something specific in mind?. HI @mikegleasonjr sounds like you have the right idea on how to handle via WithDisplayWidth() or WithDisplayHeight() param functions that get passed along to init the DisplayBuffer.\nI have added an implementation into the dev branch that does this, but I currently do not have an OLED driver with any other characteristics then the default. Can you please give this a try, and let me know if it works as you expect?. This has been released as part of https://github.com/hybridgroup/gobot/releases/tag/v1.7.0 so I am going to close this issue. Please reopen if needed.. Hi @mikegleasonjr I do not have one of these hats, but was looking thru the docs on the Adafruit site. Seems like the Python code samples expect that the buttons are pulled up.\nI have just added some code to the dev branch to the gpio.ButtonDriver for DefaultState. Please try setting DefaultState = 1 like this:\ngo\n    d := NewButtonDriver(a, \"1\")\n    d.DefaultState = 1\nIt should reverse the behavior, making a change from LOW TO HIGH trigger a release, and HIGH to LOW trigger a push.. OK, cool. I'll leave this issue open until this code is released. Thanks for testing.. This is now released as part of https://github.com/hybridgroup/gobot/releases/tag/v1.7.0 so closing. Thanks again!. Hello @sachithnalaka could you please explain the intended purpose of this PR? Thank you.. Hi @trevrosen I did a search but could not find any examples still using the older path. I will close this, please reopen if you find any others.. Thank you for the corrections, @sapiens-sapide now merging.. Hi @Gouthamve thanks for the correction. Please note that I changed the branch for your PR to the dev branch as mentioned here: https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#general-guidelines\nNow merging. thank you.. Hi @johanhenselmans thanks for bringing this up.\nThe ensureSlots() function is intended to initialize the ADC interface. As you point out, that has now been deprecated.\nSeems like the best solution here, is probably to use the sysfs and pixmux interfaces directly to configure pins as desired. The page https://github.com/beagleboard/bb.org-overlays/tree/master/tools/beaglebone-universal-io#details breaks down the newer simplified patterns. Seems like we just need to basically do the same thing as config-pin does.\nSo, you seem to be offering to help out, in which case the answer is \"yes\"!\n. Looks like Adafruit's Python lib is doing a lot of the right things, as a source of inspiration: https://github.com/adafruit/adafruit-beaglebone-io-python. I can help, as well. Always happy to collaborate on improvements.. Hello @johanhenselmans or anyone else interested in the BBB. I have a branch with some work in progress on this located here: https://github.com/hybridgroup/gobot/tree/feature/pocket-beaglebone\nPlease take a look if you can, and thanks.. Code that runs on the latest Beaglebone Debian OS is now in the dev branch. I will leave this issue open until the next Gobot release.. This was released with v1.8.0 a few days ago, so now closing. Thanks!. Hi @johanhenselmans I am going to close this issue, as it is the same core issue as #467 so we can use that one to associate the needed changes.. From the error, looks like perhaps you do not have the correct directory for the OpenCV lib files. I see you are creating your own Dockerfile. Are you sure that OpenCV is being built first before trying to build the GoCV code? I would expect it to take a long time just to build OpenCV itself.. I think your linker settings are incorrect possibly? GoCV is known to work on Ubuntu, Arch Linux, OS X, and Windows 10.\nI have not made any effort as of yet to get things working inside of a Docker container myself, but paging @trevrosen who knows more on this.. Hi @kpeu3i are you trying to use Gobot, or only GoCV? If the latter, seems like it would be best to open an issue in that repo https://github.com/hybridgroup/gocv. OK, then you are in the right place. :+1: \nAlso, sounds very cool. I want to do exactly the same thing.. This is great @coding-yogi thank you.\nAny chance you could also add a very basic example of it in use to examples? This also helps when we're preparing the docs.\nThanks!. The pin mapping/naming on the GoPiGo can be found here:\nhttps://github.com/hybridgroup/gobot/blob/master/platforms/dexter/gopigo3/driver.go#L619\nSeems like you would be better off with just a pure Raspi example. Even when using with the GoPiGo3, if you connected the pins to the stepper controller, you would just connect the Raspi pins, and use the GoPiGo3 grove ports for other devices.\n. Thanks again for contributing @coding-yogi now merging.. Hi @kpeu3i there is support for the GoPiGo3 motors:\nhttps://godoc.org/gobot.io/x/gobot/platforms/dexter/gopigo3#Driver.SetMotorDps\nhttps://godoc.org/gobot.io/x/gobot/platforms/dexter/gopigo3#Driver.SetMotorLimits\nhttps://godoc.org/gobot.io/x/gobot/platforms/dexter/gopigo3#Driver.SetMotorPosition\nhttps://godoc.org/gobot.io/x/gobot/platforms/dexter/gopigo3#Driver.SetMotorPower\nThere does not appear to be a specific example using those API, but we do have a few other examples to use as reference for the GoPiGo3 in general:\nhttps://github.com/hybridgroup/gobot/blob/master/examples/gopigo3_servo.go\nHope that helps!. I'm not completely sure what that function is supposed to do. Paging Dr. @ulisesflynn for assistance.. This code was released in v1.8.0 so now closing. Please reopen if needed.. Hello @stuomas it should work, can you please submit your exact code?. So one important question @stuomas is have you installed pi-blaster in order to use PWM on the Raspi?\nhttps://github.com/hybridgroup/gobot/tree/master/platforms/raspi#enabling-pwm-output-on-gpio-pins\nYou can now install pi-blaster using Gort, by install Gort on your Raspiberry Pi and then running the gort raspi install piblaster command.. Well, the assumption behind this particular driver is to have an LED that can support all of the RGB colors, which requires PWM. That should probably be documented upfront.\nThat said, if https://github.com/hybridgroup/gobot/blob/master/drivers/gpio/rgb_led_driver.go#L141 could be modified to handle your use case.\nFor example:\n```\nif level == 0 || level == 255 {\n    // use DigitalWriter instead of PwmWriter, cause we do not need it.\n    return\n}\n// current logic using PwmWriter\n```\nWhat do you think?. Hi @NomadMaker the PWM mapping of the Raspi Adaptor expects that pi-blaster is installed.\nCan you please open a GH issue on Gort repo with details about your pi-blaster install issue?. Thanks @ulisesflynn now merging.. Hello @zerok we will keep you posted as soon as we release this capability.... Hello @usualwyy normally you would define all the possible work or commands, and then if you want to trigger additional behavior after the robot is started, you call those commands externally.\nDoes that match what you want to do?. Hello @muehlburger thank you for the PR. I changed the branch from master to dev as described in our contribution guidelines here: https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#target-branch\nThanks again, now merging.. This is great, @PrasadG193 thank you very much. Now merging.. Hi @bgould thank you for the detailed info. I just added the needed redirect page for the custom domain to gobot.io in this commit https://github.com/hybridgroup/gobot-site/commit/4a83dbb34d9339eba690afe9871b459466392e1e\nI redeployed the site and it seems to be corrected now, please give it a try.. I think this looks very good. Any chance of getting an example for it like https://github.com/hybridgroup/gobot/blob/master/examples/firmata_mpu6050.go please?. Thank you, @conejoninja now merging.. Hi @sergeyu in order to use the GoCV support in Gobot, you will need to run the env.sh script that is included in GoCV to setup the needed environment vars: https://github.com/hybridgroup/gocv/blob/master/env.sh\nThis is needed in order to configure the CGo compilation settings for OpenCV.. These docs have now been released as part of v1.9.0 thank you. Now closing.. Hello @tttmaximttt you can control a Microbit from a Go program running on a connected computer, but cannot compile/run Go on any RTOS yet. Seems like https://github.com/hybridgroup/gobot/blob/master/platforms/microbit/README.md could use a specific mention of this.\nHope that helps!. Hi @monouser7dig it is not yet possible to compile/run Go on any RTOS. I look forward to this capability someday!. To clarify, there is not currently any way to execute Go code directly on any microcontrollers. The typical pattern for using microcontrollers from Gobot has been to run Go code on an embedded Linux, and communicate with a microcontroller using serial/wifi/bluetooth/i2c. . The llvm go compiler work can be found at http://llvm.org/viewvc/llvm-project/llvm/trunk/bindings/go/\nAlso check out this interesting project from @lpereira called Gomoku https://github.com/lpereira/gomoku\nLastly, this work also looks interesting: https://github.com/ycoroneos/G.E.R.T. Hello, @PrasadG193 I would expect the implementation to be similar to https://github.com/hybridgroup/gobot/blob/master/platforms/sphero/ollie/ollie_driver.go#L194\nHopefully that is helpful as a point of reference.. I would expect that something like this should work:\ns.packetChannel <- s.craftPacket([]uint8{uint8(heading >> 8), uint8(heading & 0xFF)}, 0x02, 0x01)\n. See https://github.com/hybridgroup/gobot/blob/master/platforms/sphero/sphero_driver.go#L275. I think that function does not operate the way you think it does? Not 100% sure on that but as I vaguely recall it is very odd behavior.. There are some real limitations with the TCPFirmata/ESP8266 approach. The main one I ran into was that the Firmata protocol itself is just a little too chatty for the ESP8266 itself. I was locking up the microcontroller forcing it to reboot, due to this, and it took me a while to debug. \nThe alternative idea I was playing with was doing something based on https://github.com/maruel/homie-esp8266 and MQTT. I need to make some more progress before that could be viable.. I meant to link to the main repo on Homie: https://github.com/marvinroger/homie-esp8266. @conejoninja a couple more questions. Which version of the ESP8266 Firmata are you running? How are you controlling the number of bytes being returned in a single message? \nThe Firmata spec says that the data being returned uses 7-bit encoding so requires 2 bytes for each byte being moved around in LSB/MSB order, as documented here: https://github.com/firmata/protocol/blob/master/i2c.md#i2c-reply\nSo there should not be a proper case where there is a single byte being returned. Hope that is clear.\nRegarding the ESP8266 resetting itself, that is the HW behavior when a wdt reset condition occurs, which can occur for many different reasons. Might be worth it to update to the master branch version of https://github.com/esp8266/Arduino since there have been a few updates that look like they might apply.. Hi @FerventGeek you found the answer, that mutex is there to protect concurrent access to a bus/address aka i2cConnection.. Sounds like it might be an issue with Robeaux, not the api. We're gearing up for an iteration of improvements to the api and tooling soon.... Very cool @conejoninja thank you very much for the contribution. Now merging.. Hi @curtiswpaul sounds like a permissions problem, possibly. If you run your program under sudo, what happens? . I'll pull out one of my BBBs, grab the latest OS image, and check it out, then.. Sure, that seems reasonable.. OK @curtiswpaul I spent a few moments, and thanks to some help from @RobertCNelson I have some updates that will address this, especially to the initial setup instructions. I will get some updates committed on this later today.. Hi @curtiswpaul I just pushed this commit to the dev branch: https://github.com/hybridgroup/gobot/commit/f54403303d7e5caca9c737358f0b8f44f9c60a7c\nPlease note the small difference in pin naming for a couple of the pins. The examples have all been updated to the correct names.\nLet me know how this works for you.. There were 2 issues, one being the setup instructions, the other being that the pin naming changed at some point, requiring a leading zero in the file name used by the pin muxing. If you never used a single digit pin number, you would never notice, hence why we did not get a report until now.\nIn any case, I appreciate the issue report, and we will be releasing a new version soon.. This code has now been released as part of v1.9.0 thank you again for your help. Now closing.. @conejoninja you are on :fire: thank you, now merging.. Hello @ZLXT if what you want is to execute a compiled Gobot program on your Raspi, you can cross compile it on another system, and then move the executable to the Raspi using your local network a USB thumb drive/etc. No need to install Go or Gobot on the Raspi itself, since Go produces a standalone executable program.\nHope that helps! \n. Hi @ulisesflynn this looks really cool, thank you! Now merging.. :+1: . @conejoninja @trevrosen I suggest this should indeed be 2 drivers:\n\na gpio driver for max7219\na spi driver for max72xx\n\nSeems like this allows the most flexibility based on the desired hardware interface.. Hi @bloudermilk sorry about the delayed response, somehow just noticed this.\nI pulled out my MCP3008 (the RasPiO Analog Zero) and just need to solder it up to look into this.\nHowever, I have to travel this week, so I will probably not be able to help until next week.. One thing I just noticed, you should not call adc.Start() in your work function. it is called for you by robot.Start().. There is a problem with reading SPI data that I am currently working on. \nThere is a very high probability of Gobot changing out the SPI API, which will fix the devices, but break the API for device implementors.\nMore soon.... Hi @bloudermilk the dev branch has a new set of code for SPI devices that should work a lot better for you, and others.\nThe sample program is located here: https://github.com/hybridgroup/gobot/blob/dev/examples/raspi_mcp3008.go\nPlease let me know if that solves your issue for your particular configuration.. This has now been released as part of v1.10.0 so I am now closing this issue. Please reopen if needed, @bloudermilk and thanks.. There is a problem with reading SPI data that we are currently working on. \nThat means there is a very high probability of Gobot changing out the SPI API, which will fix the devices, but break the API for device implementors.\nOnce this work is completed, we will update the code generator to assist in creating the skeleton for new SPI drivers.. Hi @simonbrugger the dev branch now has the new SPI implementation.\nTake a look at any of the SPI driver implementations for inspiration. Seems like the MFRC522 has a complex API of its own, so there appears to be a fair bit of work needed to support all of its features.\n. Looks like either a bug or an API change. Either way, needs to be looked into.. Hi @ghostsquad I just committed this branch with what should address this issue: https://github.com/hybridgroup/gobot/tree/bugfix/joystick-scanner\nIf you have a chance, can you please give it a try? I am currently travelling and do not have any joystick/gamepad to try out.. I've added code and merged into the dev branch, which is working on my machine:\n$ ./scanner \nJoystick 0 connected\n[5880 ms] Axis: 4       value:-32768\n[5880 ms] Axis: 5       value:-32768\nI will leave this issue open until the next release.. This has now been released as part of v1.10.0 so now closing this issue. Thank you everyone!. Hi @eric-s-raymond thanks for looking at this. A couple comments:\n\nthere is a separate example for using the usr LED here https://github.com/hybridgroup/gobot/blob/master/examples/beaglebone_blink_usr_led.go\nWe should probably add a comment somewhere in the example that mentions the need to connect an LED to that pin.\nThere should not be a permissions issue if you are running the latest BBB Debian OS, as mentioned here: https://gobot.io/documentation/platforms/beaglebone/ Are you running under a different user account than debian on the BBB?\nGobot does not do anything to restore other programs that were previously running using the usr LEDs, I'm not too sure how to do that, or if we even really should be. Any further info on that would be appreciated. In the meantime, we should add info to the docs page, and possibly use a different usr LED for the example. What do you think?\n\n. Hi @eric-s-raymond all PRs need to be made against the dev branch, as mentioned in this doc here: https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#general-guidelines\nAlso, please make all PR's atomic in that they only do a single thing. Both of your outstanding PRs have the same commits in them, which makes them very hard to review.\nI think the simplest resolution is to close these PR's and then you can resubmit if you so choose.\nThank you!. Hi @eric-s-raymond as mentioned in my other comment, this outstanding PR has 2 commits in it which do 2 different things, which makes it very hard to review.\nI will close this PR and then you can resubmit if you so choose.\nThank you!. I think it is an excellent idea.. There is a problem with reading SPI data that I am currently working on.\nThere is a very high probability of Gobot changing out the SPI API, which will fix the devices, but break the API for device implementors.\nOne of the needed changes would accommodate setting both the device bus ID, and chip ID. This would address your particular concerns, @bodokaiser \nMore soon.... Hi @bodokaiser please take a look at the dev branch which has the new SPI implementation.\nAll the the spi drivers now support optional params. You can now set the specific device bus and chip like this:\ngo\na := raspi.NewAdaptor()\nadc := spi.NewMCP3008Driver(a, spi.WithBus(1), spi.WithChip(0))\nWhich should give you access to /dev/spidev1.0 as you require.\nPlease give it a try, your feedback is appreciated.. This has now been released as part of v1.10.0 so now closing this issue. Thanks everyone!. Hello @lucavallin there is not yet GrovePi support for Gobot, but it looks like a relatively modest task to add a new i2c Driver for it, and then implement the DigitalReader/DigitalWriter and AnalogReader interfaces.\nLet me know if I can be of assistance. I have a GrovePi+ around here in the lab somewhere...\nThanks!. Hi @lucavallin I think the functions you are looking for are d.connection.Read() and d.connection.Write().\nI would expect your implementation of AnalogRead() to be something like this:\n```go\nfunc (d *GrovePiDriver) AnalogRead(pin string) (value int, err error) {\n    nPin, err := strconv.Atoi(pin)\n    if err != nil {\n        return 0, err\n    }\nif _, err = d.connection.Write([]byte{CommandReadAnalog, nPin, 0, 0}); err != nil {\n    return\n}\n\ntime.Sleep(100 * time.Millisecond)\n\nif _, err = d.connection.Write([]byte{1, 1}); err != nil {\n    return\n}\n\nval := make([]byte, 4)\n_, err = d.connection.Read(val)\nif err != nil {\n    return\n}\n\nreturn ((int(val[1]) << 8) | int(val[2])), nil\n\n}\n```\n. The only reason for the mapping to \"int\" is that is seems like that is what is expected by the GrovePi's i2c interface.\nThat, along with the bitshifting, I copied from the @DexterInd repo here https://github.com/DexterInd/GrovePi/blob/master/Software/Go/grovepi/grovepi.go#L67\nAlso, looks like a 0x1 needs to be written as the first byte in any command sent to the GrovePi. Which means that the code above should actually be changed to this:\ngo\nif _, err = d.connection.Write([]byte{1, CommandReadAnalog, nPin, 0, 0}); err != nil {\n    return\n}\nI have not found my GrovePi yet, so I have not been able to test it out myself.. The DHTXX is a pulse based device, similar to some ultrasonic range finders. There is in fact already an issue discussing this https://github.com/hybridgroup/gobot/issues/361\nThe \"best\" solution is probably to use some edge-detection/epoll type solution. Some ongoing work in this area within Gobot, but still as of yet not released anywhere.. Hi @lucavallin any chance of still getting a PR for this?. Thanks for the update, @lucavallin . Hi @lucavallin I've just merged into the dev branch a driver for the GrovePi based to some extent on the code from your branch.\nhttps://github.com/hybridgroup/gobot/blob/dev/drivers/i2c/grovepi_driver.go\nIt implements the DigitalReader, DigitalWriter and AnalogReader interfaces, so you can just use it with any of the GPIO or AIO drivers. Here are a couple examples:\nhttps://github.com/hybridgroup/gobot/blob/dev/examples/raspi_grove_pi_button.go\nand\nhttps://github.com/hybridgroup/gobot/blob/dev/examples/raspi_grove_pi_rotary.go\nShould be useful for anyone with the @DexterInd hardware. I will have to acquire a GrovePi Zero to test if that also works in the same way.. This was just release as part of v1.12.0 thank you. Now closing.. Thanks @jig for the PR. Now merging.. Hello @GreenFantomas I am not able to reproduce your problem on a clean Go install using Go 1.9.5.\n$ gvm use go1.9.5\nNow using version go1.9.5\n$ go get -d -u gobot.io/x/gobot/...\nWhat OS and Go version are you using?. Which Linux distro do you use? I personally use Ubuntu 16.04 with this setup without problems.. This automated PR cannot be merged against our dev branch. Either the bot can correct that, or I will close.. Closing due to bot.. Hi @fabriziomarini just wondering if you need to change the line https://github.com/hybridgroup/gobot/blob/master/examples/tello_video.go#L29 to use \"mplayer.exe\" as the first param to the exec.Command() function due to running on Windows. Please give that a try, and let me know.. Are you able to run the example tello.go?. What version of Windows are you using? Also, is mplayer.exe in your PATH?. Also, I wonder if https://www.reddit.com/r/golang/comments/8e9las/problem_using_readfromudp_on_windows_to_discover/ might be related?. Hello @fabriziomarini please give a try with the latest Gobot, GoCV, and OpenCV versions. Also make sure that you are using the latest example code, which is a bit different.. Thanks @jadr2ddude that is very helpful.. Yes, please, and thank you!. Hi @rlanari does the player window open, but no video in it? \nI don;t think you should find the mplayer process running separately from the go process when the go code is not running. Perhaps you need to kill a stray mplayer process?. I am using same Ubuntu as you, and I installed from package manager. So nothing very interesting.\nWhat output do you get when you run mplayer -h?. Also, what version of Go?. You are using pretty much the exact same versions of everything as I am.\nOK one thought is are you already using port 6038 for something else? I have intentions to allow changing the port used for the video when received, but still have not implemented that: https://github.com/hybridgroup/gobot/blob/master/platforms/dji/tello/driver.go#L248. Hi @jyzadeh you might want to try the dev branch of GoCV to resolve the syntax on macOS linting.\nI have a few time needed to restart the program (not the drone) to get the video to start, might be some timing issue not yet fully understood.. You now appear to be missing the correct path for linking OpenCV to GoCV. What change did you make, if you did not checkout the dev branch?\nThe easiest way to switch to dev branch for GoCV is probably:\ncd $GOPATH/src/gocv/x/gocv\ngit checkout dev\ngit fetch\n. Do you happen to have more than 1 version of OpenCV installed via homebrew? Some people have seen this sort of thing before https://github.com/hybridgroup/gocv/issues/129. You do realize you have to run the env.sh script once per session, right?. I do not have that version of macOS installed, and do not have that issue. Other people have used GoCV successfully on macOS perhaps one of them can chime in.. I personally use Ubuntu 16.04. That is a fine question, not too sure really. I will play around with my macOS machine a little today to see if I can reproduce. But sounds like perhaps that particular UDP port on your machine might be busy doing something else already.. If unable to read any data on that UDP port, then no event will be sent:\nhttps://github.com/hybridgroup/gobot/blob/master/platforms/dji/tello/driver.go#L659-L660. Hi @jyzadeh have you tried lately with the latest versions of Gobot, GoCV, and the Tello firmware?. Looking good @conejoninja I changed the branch to dev and will merge. Thank you!. Hi @emf42 that is a very interesting question. According to the docs for ffmpeg that is the default pipe in, however I think for sure worth exploring.. Just the args in the code itself here:\nhttps://github.com/hybridgroup/gobot/blob/master/examples/tello_opencv.go#L37-L38\nOne thing perhaps worth trying would be running that command just on your command line and seeing what happens, such as some error.\nshell\nffmpeg -i pipe:0 -pix_fmt bgr24 -vcodec rawvideo -an -sn -s 960x720 -f rawvideo pipe:1. How about this: check to see if you are even getting video data back from the Tello, by adding a fmt.Println(\"here\") right before this line: https://github.com/hybridgroup/gobot/blob/master/examples/tello_opencv.go#L75\nPerhaps you are not even getting video frame data from drone.. No idea on that, sorry. Obviously some internal macOS error, but ?. Generally the main thread and highgui windows are handled by https://github.com/hybridgroup/gocv/blob/master/highgui.go#L34\nSince that problem just started, you might want to see if some lingering process is running?. Do you get the message \"Connected\" in your log?. You might trying adding this to the program:\ngo\nfunc init() {\n    runtime.LockOSThread()\n}\nIt might help in this case. \nFor sure, I will look into this in the next couple of days, but I have a few deadlines coming up first.. I would expect is more a matter of OpenCV, threads, and macOS. If you search the internets, you will find some references to this. Do not think at all related to os.Exec and friends.. Hi @emf42 please take a try with the latest Gobot, GoCV, OpenCV. Also, make sure you are using the latest Gobot examples. I have tested the latest changes on macOS and they are now working for me.. Thanks @fawick for catching this. Also, thanks for submitting on the dev branch. Now merging.. This is great @morfeo8marc thank you very much! :drum: Now merging.. Hi @morfeo8marc I think yes, that needs to be added to the docs.. Hi @SMerrony thank you for this PR. \nThe chance you made to scanner.go is incompatible with the latest SDL. This is the reason that the tests are failing on Travis. The reason they pass on AppVeyor (Windows) is that AppVeyor uses an SDL build.\nI am going to make a change to exclude the scanner.go from the test run anyhow, since it is not intentional that it run as part of the tests.\nNow merging, thanks again for the PR.. We should probably install that version ourselves on Travis ala https://stackoverflow.com/questions/48733550/how-to-add-a-recent-version-of-libsdl2-to-my-travis-ci-build. Also, we need to update to https://github.com/veandco/go-sdl2/releases/tag/v0.3. @trevrosen looks good to you? It does to me.. Thank you @SMerrony for the PR it looked good, so I already merged it. Thanks again!. I just switched the branch to dev so I can merge. Thanks @bloudermilk . Hi @zlederman you normally run tests in Go by running:\nbash\ngo test ./platforms/dji/tello\nFor which you should obtain the result:\nbash\nok      _/home/ron/Development/gobot/gobot/platforms/dji/tello  0.001s\nFiles in Go named *_test.go are literally tests, not example programs. You probably want to look at the examples directory for example, the file https://github.com/hybridgroup/gobot/blob/master/examples/tello.go\nHope that helps!. I'm going to close this now. Please reopen if needed.. Hi @SMerrony that was strictly an oversight. We'd be grateful for a PR that exported all of them!. Thanks!. Version 1.11.0 has just been released that includes this. Now closing, thank you @SMerrony . Wow, thank was quick @SMerrony thanks! Now merging.... Seems like a good idea to me!. Version 1.11.0 has just been released that includes this. Now closing, thanks @SMerrony !. Thanks @SMerrony :helicopter: now merging.. Thank you @SMerrony now merging.. @cbwang2016 you should try to combine efforts with @SMerrony who also is working on this.. This is great, @SMerrony any chance of also adding an example that uses them?. This is so very cool, I'm merging right now.. Hi @cbwang2016 I cannot find where I originally obtained those values from, and I suspect your efforts are probably more correct than whatever mine were. Hence, merging. Thank you for the PR!. Just out of curiously, how do you use this? You call it then throw the drone up in the air? :helicopter: \nI just want to make sure that is correct before I try it... perhaps a note in the GoDoc comment for the method would be good.. Oops, when I merged the PR from @SMerrony it added a conflict with this one. @cbwang2016 can you resolve, or do you need assist?. Thank you. Now merging.. @cbwang2016 we will likely have a Gobot release next week, to correspond with a parallel release of GoCV.. Thank you @jadr2ddude now merging.. Hi @jadr2ddude thanks for the PR. However, I'm not really all that into commented out code.\nI do agree that this test is a bit weird. It is a negative test that assumes that there is NOT an MQTT server running available on the usual port. If however the environment you are running in has such a server the test will fail. Basically this is not really a great way to test.\nAnyhow, I'm totally into some better solution, please keep working on it.. We want to be testing the Gobot integration, not the Paho MQTT package itself. That probably means we really want to be using a interface for interacting with the package for testing purposes.\nWhat do you think?. Basically, that seems like the most pragmatic approach at the moment.. Hi @jadr2ddude we probably do not want this code here, as it then fails with the latest update to SDL. See https://github.com/hybridgroup/gobot/pull/525#issuecomment-387696758 . Probably so, yes @jadr2ddude . That also looks incorrect to me, @jadr2ddude . Thanks @ulisesflynn . This has been released as part of v1.11.1 so closing. Thank you to everyone.. I've been using my DS3 controllers mostly, so it is very likely that whatever you are seeing is whatever everyone is. In other words, PR appreciated please!. Version 1.11.0 has just been released that includes these fixes. Now closing, thank you everyone!. :video_game: thanks @SMerrony now merging.. Hi @cbwang2016 it is really just an overlooked function. A PR that implemented would be welcomed.. Thanks @cbwang2016 now merging.. Thanks @cbwang2016 now merging.. @cbwang2016 you are on :fire: thank you! Now merging.. You should try the dev branch @imathno . Yes, please and thank you.. Version 1.11.0 has just been released that includes this. Now closing, thanks everyone!. Please see https://github.com/hybridgroup/gobot/pull/543. Hi @imathno thanks for the PR. I just changed the branch over to the dev branch as mentioned here: https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#general-guidelines. Hi @imathno appears there is a test failure: https://travis-ci.org/hybridgroup/gobot/jobs/383288875#L3295. Thanks @imathno now merging.. Probably want to look at \"Master Gobot\" for controlling a swarm of things... I certainly like the concept!. Hello @dhruvasagar thanks for the PR. Now merging.. I like where this is going. We can certainly also allow the developer to disable any auto-recovery in the case they are using \"metal Gobot\", but I suspect that most devs want it to \"just work\".. Hi, @moncho thank you for the correction. I changed the branch over to dev as mentioned here:\nhttps://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#general-guidelines\nNow merging, thanks again.. This is due to a breaking change in the periph package used for Gobot's SPI support. You can solve this by installing the 2.3 version of periph:\nshell\ncd $GOPATH/src/periph.io/x/periph\ngit fetch\ngit checkout v2.3.0\nNow you can change back to your Gobot directory and should be able to build correctly. There is also a PR not yet merged with the same change but to the dep file #561 . Hi @galenchurch thank you for this PR. Don't we also need to update the Gopkg.lock file as well?. Question for @trevrosen should the Gopkg.lock be in the repo, or just built from dep ensure as mentioned by @galenchurch . Hello @galenchurch just reading dep documentation and saw this: https://github.com/golang/dep/blob/master/docs/FAQ.md#how-do-i-roll-releases-that-dep-will-be-able-to-use\nSeems like the .lock file should also be committed, please.. Something went wrong there on codecov, not too sure. I sent a support request already. Seems good to me!. Merging this PR since test coverage report is not correct.. The Robot's Start() currently ensures that all the Adaptors are correctly started. However it does NOT do anything about restarts/failover etc.\nThere is a conversation started in #558 about this very topic. I think this issue can be closed in favor of tracking that one.. Hi @acarlonvs I think this sounds like a very good idea. You are correct, that some tests will need to be changed to accommodate this. It also seems to me that this probably needs to be consistent across all Adaptors that support the various GPIO interfaces.\nAnyone else want to weigh in on this?. Hello @pepijnschildkamp the short version is that I have not used vgo yet at all, so I do not know the answer from experience.\nHowever according to the docs, you should be able to do this:\nshell\nvgo get gobot.io/x/gobot@1.11.0\nPlease let us know how it works out!. That seems like a bug in vgo to not support semver without v. See https://github.com/semver/semver/issues/204. Closing due to not following our contribution guidelines.. @ulisesflynn any comments on this?. Hi @barrowkwan there is a PR from @ulisesflynn that appears should fix things that is located here:\nhttps://github.com/hybridgroup/gobot/pull/569 \nAre you able to test it out and ensure it solves your specific issues?. @ulisesflynn can you please help out again? \nSeems I need to obtain a MCP23017 for the workshop so I can also help test this out.. This has just been released as part of v1.11.1 so now closing. Thanks again!. Thanks @ulisesflynn now merging.. @trevrosen this is one of the things we want to be able to solve with your latest work in progress.. Hi @ulisesflynn looks like the tests are failing here: https://travis-ci.org/hybridgroup/gobot/jobs/395712343#L1440. Thanks @ulisesflynn now merging this as well. :+1: . Hello @barrowkwan I believe you have run into https://github.com/hybridgroup/robeaux/issues/22. Thank you! Now merging.. Thanks @maruel I was just going to look into doing this! :racehorse: Now merging.. Hello @gilgameshskytrooper until the next release you probably want to either use dep to handle the dependencies, or else use the Gobot dev branch which includes the update to the latest periph with the breaking changes.\nHope that helps!. @gilgameshskytrooper that is a custom or \"vanity\" domain in Go. In order to check out the dev branch:\ncd $GOPATH/src/gobot.io/x/gobot\ngit checkout dev\nHope that helps!. Hello @RadhiFadlillah thanks for your interest.\nI would take a look at https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/bmp180_driver.go and the associated test file https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/bmp180_driver_test.go as an example of how to create a new i2c Driver.\nAlso make sure to check out our contribution guide https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md\nThank you.. Hi @medteck thanks for posting. It will require a few additions to the ble package in order to support the functionality you are asking for. I will think about it a bit.. Hello @ssnover95 I think you've got the right idea here. The reason for my original implementation was this: https://github.com/adafruit/Adafruit-PWM-Servo-Driver-Library/issues/11\nMore recently the Adafruit libraryhas this issue https://github.com/adafruit/Adafruit-PWM-Servo-Driver-Library/issues/40 which seems much closer to your implementation.\nWhat do you think?. Sounds good @ssnover95 thanks for the contribution. Now merging.. Hi @oliverpool this looks really great, thank you for working on it. Also, thank you for starting to add test coverage, which is really needed. Please continue! Now merging this PR.. Seems like this should be doable... anyone want to chime in here?. Hello @mulysatest you might want to verify that you are using the latest release of SDL. Which OS and version are you using?. If you are using Linux, you should update your kernel to 4.14+, as I just discovered on a fresh Raspbian install. I ran into the same behavior with SDL2 2.0.8 and the latest Gobot release.\nHope that helps!. Thanks @ocarneiro I moved to dev branch anyhow just to avoid possible future merge conflicts.. Thank you for the PR @dandua98 I moved into the dev branch to avoid conflicts with other work going on for the next Gobot release. Thanks again!. Hello @vendelin8 in order for an Adaptor to support i2c it needs to implement both the I2cOperations interface https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/i2c.go#L29 as well as the Connector interface https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/i2c.go#L48\nYou can verify this is complete if you add the following lines here https://github.com/hybridgroup/gobot/blob/master/platforms/digispark/digispark_adaptor_test.go#L18\nvar _ i2c.I2cOperations = (*Adaptor)(nil)\nvar _ i2c.Connector = (*Adaptor)(nil). Take a look at https://github.com/littlewire/littlewire.rb/blob/master/lib/i2c.rb for a working client lib that uses the i2c interface of littlewire.. I have found my Digisparks so if you submit a work-in-progress PR to the dev branch, I can also try to help out.. Hi @vendelin8 thank you very much for the PR. I made a few small tweaks, but it worked for me with 2 different i2c devices:\n\nBlinkM\nMPL115A2\n\nI flashed my DIgispark with Littlewire firmware using Gort.\nThen I connected my Digispark via P0 (SDA) P2 (SCL) 5V and GND pins to the i2c devices.\nThe 2 new examples that I wrote both worked as expected.\nWhat I would suggest is to make sure that you have flashed your Digispark correctly, and also make sure that your device has 10K pullup resistors on both SDA and SCL if needed for your device.\nI have now merged the PR thank you again for working on this!\nI will close this issue after the next release of Gobot.. This has just been released at part of v1.12.0 thanks again! Now closing.. Hello, @starryalley that seems like a very useful, and modest change. Perhaps we can just change piBlasterPeriod to a public member of the Adaptor ala PiBlasterPeriod so it can be set before the work routine starts.\nI'd be happy to accept a PR with this update!. As I recall, PiBlaster only lets you set a single period for all pins. \nIn any case, the this is what the PWMPinner interface SetPeriod() method is for:\nhttps://github.com/hybridgroup/gobot/blob/master/sysfs/pwm_pin.go#L27. Here is what I would do:\nFirst,add a new member PiBlasterPeriod to the Raspi's Adaptor struct who's default value is 10000000: https://github.com/hybridgroup/gobot/blob/master/platforms/raspi/raspi_adaptor.go#L24\nThis allows you to create your adaptor like this:\ngo\nr := raspi.NewAdaptor()\nr.PiBlasterPeriod = 20000000\nNext, modify the Raspi's PWMPin struct to include a member period uint32.\nhttps://github.com/hybridgroup/gobot/blob/master/platforms/raspi/pwm_pin.go#L16\nThen modify the SetPeriod() method\nhttps://github.com/hybridgroup/gobot/blob/master/platforms/raspi/pwm_pin.go#L58\nWith something like this:\ngo\n// SetPeriod uses PiBlaster setting, so it cannot be changed once set.\nfunc (p *PWMPin) SetPeriod(period uint32) (err error) {\n    if p.period != 0 {\n        return errors.New(\"Cannot set the period of individual PWM pins on Raspi\")\n    }\n    p.period = period\n    return nil\n}\nThen, change the Raspi's Adaptor's PWMPin() method, so that right after it creates the NewPWMPin(), it calls\ngo\nr.pwmPins[i].SetPeriod(r.PiBlasterPeriod)\nhttps://github.com/hybridgroup/gobot/blob/master/platforms/raspi/raspi_adaptor.go#L263\nIn theory, this should give you exactly what you are looking for.. Hi @starryalley thanks for the PR updates. I changed the branch from master to dev as mentioned here https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#general-guidelines\nNow merging, thanks again!. Hello, @luedigernet \nYou probably did not wait quite long enough before sending your Land() command after the takeoff. The example at https://github.com/hybridgroup/gobot/blob/master/examples/tello.go waits 5 seconds after take off.\nThe drone sends the video frames regardless of the StartVideo() command. StartVideo() actually tells the Tello to send the h264 headers that contain the info considered the start of the stream, which are needed to decode the video.\nHope that helps!. It would be cool if someone were to add support to Gobot using https://github.com/adrianmo/go-nmea for example.. Hello @nilskuhn you probably will need to update your kernel in order to use multiple BLE connections to at least 4.13+ or at least that was my experience.. I promise I will review by tomorrow, @trevrosen . Good work on this @trevrosen now merging.. Hello @npotts thank you for the PR. Are you able to add at least a \"smoke\" test for the new code? Ideally more complete test coverage, but that at least gets us started. Thanks!. Restarted AppVeyor build and passes. Now merging, thanks for the PR!. This appears to be an issue with the GrovePi+ as I just brought up here: https://github.com/DexterInd/GrovePi/pull/423. Code to correct this has just been committed to the dev branch. I will close this after after the next release.. We're you able to test this on both the 128x32 from Gophercon as well as the 128x64 display, @ulisesflynn or do I need to unpack my displays?. I tested on both the 128x64 and the 128x32 and works like a charm. Thanks, @ulisesflynn now merging.. Hello @krancour are you saying that it DOES work when you add that call? If so can you please submit a PR with that addition?. The latest API for Parrot is \"documented\" in the form of XML files such as https://github.com/Parrot-Developers/arsdk-xml/blob/master/xml/ardrone3.xml\nIt has been a while since Gobot was updated to match the latest commands. I'd gladly accept a PR that brought the Gobot code into sync with the latest Parrot API.. That is a very possible scenario. Please do report back with whatever you discover!. The method packetReceiver() needs to be extended to parse the messages coming from the Bebop. Please see https://github.com/hybridgroup/gobot/blob/master/platforms/parrot/bebop/client/client.go#L526\nMany of the values are already in https://github.com/hybridgroup/gobot/blob/master/platforms/parrot/bebop/client/constants.go and just need to get hooked up.\n```go\nif frame.Id == int(BD_NET_DC_EVENT_ID) {\n    // parse the frame.Data header here\n    project := uint(frame.Data[0])\n    class := uint(frame.Data[1])\n    commandId := int(frame.Data[2]) + int(frame.Data[3]) << 8\n// handle the now identified event...\n\n}\n```\nFor example, \ngo\nif project == ARCOMMANDS_ID_PROJECT_ARDRONE3 && class == ARCOMMANDS_ID_ARDRONE3_CLASS_PILOTINGSTATE && commandId == ARCOMMANDS_ID_ARDRONE3_PILOTINGSTATE_CMD_FLYINGSTATECHANGED {\n    // next 4 bytes contain the actual flying state as little-endian int32\n}\nhttps://github.com/hybridgroup/gobot/blob/master/platforms/parrot/bebop/client/constants.go\nMy Bebop drones are currently in storage so I'm sorry I cannot directly help much at the moment. Hopefully this can point you in the right direction.. You can certainly do that. However one thing that makes writing it within Gobot a LOT easier is having the whole event system built-in. Check out the Firmata adaptor/client for example of what I mean: https://github.com/hybridgroup/gobot/tree/master/platforms/firmata\nIn any case, keep us all informed on your progress.. So turns out I have 1 of my Bebops in the closet here, not all off them in storage. I will try to take a look at some of this next week.. All of the Gobot code was written by hand, we do not have a code generator for this task. It certainly would be possible to create one.... That comment was added by hand to provide some reference point back to the original place it came from, which was part of the old Parrot tools. It was never used to generate Go code.. Hello @krancour please take a look at https://gobot.io/documentation/core/robots/ and the other pages within that section.. Hello @gilgameshskytrooper those instructions tell you to use physical pin 11. With Gobot you would use:\ngo\nled := gpio.NewLedDriver(r, \"11\")\nWe always go by how the pin is marked or numbered on the board itself.\nIf you are still having trouble, try running using sudo to see if you have a permissions problem.\nHope that helps!. Hi @wallyqs thank you for the PR. I changed the branch to dev as mentioned here: https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md#general-guidelines\nNow merging, thanks again.. Thannks @brendanstennett for the PR. Looks good, thanks for adding the test coverage. Now merging.. Hello @Quasilyte I agree that looks very odd to me. @conejoninja any reason not to simplify this code?. There is now code in the dev branch thanks to @conejoninja so I will leave this open until the next release. Thanks everyone!. Thanks @conejoninja now merging.. You would need to implement a SPI driver for Gobot to use this device. Please take a look at  https://github.com/hybridgroup/gobot/tree/master/drivers/spi. Hello @lucavallin make sure that you update your GrovePi to firmware v1.3 https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/grovepi_driver.go#L26\nIf you have never updated that will surely be the issue.. OK now closing. Thanks for confirming that it works! :). I suggest that you check your kernel version to make sure is 4.14+ on Linux, and alternatively if on OSX try using the \"older\" mapping that is in the config/dualshock4.json directory.. Hello, @ahmetb the event handling is now attached to each driver, instead of to the main package. You should be able to use the following syntax:\ngo\nbutton.On(button.Event(\"push\"), func(data interface{}) {\n    fmt.Println(\"button pressed\")\n})\nThere are also now const values for the event names. For example:\ngo\nbutton.On(gpio.ButtonRelease, func(data interface{}) {\n   fmt.Println(\"button released\")\n})\nSeems like we need to update those docs. Been a while since I used that platform.. Hi @steevehook not too sure about that. The higher-end DJI drones have DRM and more to lock them down a lot more, from what little I know. If you find out anything interesting, do please let us all know.. Seems good to me, go for it @trevrosen and thank you @silkeh . This is great @kml183 thank you very much for the contribution. Now merging.... Hi, @eleniums thank you very much for this PR. Test coverage would be nice, certainly, but the coverage in this platform is not very high to begin with. In any case, now merging, as I need this myself! Thanks again.. Hello @emirb thank you for the PR. I just merged a different PR that had the same sort of idea here: https://github.com/hybridgroup/gobot/pull/637\nNow closing this one, thanks again for working on it.. Hello @HaraldNordgren thank you for the PR. I switched to the dev branch as mentioned here: https://github.com/hybridgroup/gobot/blob/master/CONTRIBUTING.md\nNow merging. Thanks again!. I think it would be great!. Hello @recabyte008 when using Windows your port for connecting to the Arduino is named differently than on Linux. See https://github.com/hybridgroup/gobot/tree/master/platforms/firmata#windows for more information.. Seems like adding a method like SetQoS(val int) to allow overriding this value, and keeping a sensible default, is the least intrusive. What do you think?. That works for me, since that is mostly how the current use case is setup.. How about then we add a PublishWithQoS() and SubscribeWithQoS() and modify the current functions to call the new ones with a default value?. Excellent change, thanks for doing it so quickly. Now merging.. This looks great @trevrosen exactly what I was hoping for. Now merging. Thank you!. Same comment as on the other repos @solojavier this should really be consistent aka camelCase, no?\n. :heart: error events\n. This could be just return, right?\n. This can be just return\n. return\n. Case?\n. I agree with @toxeus we should use the labels from datasheet.\n. Please remove commented out lines :)\n. Yes, makes perfect sense. Thanks.\n. That is probably true, so as to clarify the exact intentions here. Thanks.\n. Actually, I think we should leave it just Event() so we can keep the nice looking syntax like:\ngo\nsensor.On(sensor.Event(\"data\"), func(data interface{})\nI did update the comments as you suggested @trevrosen \n. Shouldn't this be labeled \"GP12\" to exactly match the labels on the board? Likewise with the rest of the pins.\n. I get what you are saying, seems like a good thing. \nAt some point I think I will implement something to strip off unneeded but nice looking alpha prefixes, just to match board labeling, but that is entirely separate.\n. I suggest instead of requiring a param for scale, instead set a sensible default in line 49, and then add a SetScale() method. What do you think?. These pins probably need to be changed to match DragonBoard.. What this test is testing, is it implemented, and working on DragonBoard?. Shouldn't this be changed to just init the DragonBoard pins only?. According to the docs, the DragonBoard has bus 0 and bus 1 only.. This function can be removed entirely.. Last chip reference to be removed here.... Actually, I can correct that after I merge. Which I will do now.. This is where instructions on how to install the dtc overlay on CHIP using Gort should go :). I think this line should be:\nvalue = int(gobot.ToScale(gobot.FromScale(read, 0, d.gainVoltage[d.DefaultGain]), 0, 1023))\n. I think this line should be:\nvalue = d.converter(data) / voltageMultiplier * voltageMultiplier. Isn't this doing the same thing as the DigitalPin method? Seems like should be using that method. What do you think?. You should leave it, your implementation seems quite reasonable.\nSeems like this same locking is needed for PWMPin(), do you agree?. What does the value 0x3F mean in this context? Perhaps that should be a const.. Same question here are the above line.. Sounds good to me. Yes, please.. Hi @ssorc I'd really like to merge this in preparation for the next Gobot release. Any chance of getting that update soon? :)\nThank you!. I really like what's going on here overall!\nSo regarding adding the spi interfaces to Gobot...\nThe way that this would best fit into Gobot's architecture, is by defining an interface that Gobot uses for spi. \nDifferent Gobot adaptors would then implement this interface. For example the raspi platform could use the x/io/spi interface to provide its implementation. The firmata platform would add additional calls to the appropriate Firmata sysex calls, etc.\nThen any Gobot spi drivers would work with any Gobot adaptor that provides the Gobot spi interface. The GoPiGo is obviously design just for the raspi platform, but other Gobot spi drivers would be able to work as described here.\nDoes this make sense?. Also, some changes to the Makefile https://github.com/hybridgroup/gobot/blob/master/Makefile#L44 are going to be needed to this branch, in order to allow the test suite to run.\nPlease let me know anything I can do to help out!. Hi @brimstone & @iplay88keys anything I can do to help out? I want this! :). Thanks for adding me @iplay88keys to the repo.\n@brimstone what about your branch's improvements? How can we get all this into one branch for development/testing?. This example will need to be updated, right @ulisesflynn ?. Docs updated needed here, I think.. Agreed, we need for Godocs generation.. Same as other comment, needed for godocs.. Please remove this function from here entirely instead of commenting, since it is already implemented https://github.com/hybridgroup/gobot/blob/master/platforms/dji/tello/pitch.go#L8. Perhaps just change to \ngo\nbinary.Read(buf, binary.LittleEndian, &wd.Disturb) \ninstead of\ngo\n_ = binary.Read(buf, binary.LittleEndian, &wd.Disturb). You should probably create a constant for the command byte here, to match the other commands.. If you make a change to your branch, commit it, and then push to Github, it should update this PR.. Good point @SMerrony yes, that is also needed.. I'd leave this line alone since it is actually a test that ensures that the driver supports the gobot.Driver interface, or else it will not compile.. The NewPWMPin() function signature is the same across all the Adaptors that support it, so you probably should not add another param here.. Since you renamed Set() to SetPixel() you should also rename the command here.. Wait my bad. That was the Buffer not the Driver. Never mind. Just wondering if this method should be:\nfunc (r *Robot) Every(d time.Duration, ctx context.Context, f func()) *RobotWork\nThe idea being that the signature would be a little closer to the gobot.Every() function.. Same comment applies to After() as did to Every(). Shows how much I know about context. OK, then, let's just carry on with it.. ",
    "zankich": ":beer: \n. Let the testing begin!\n. @jingweno Can you please pull down the latest code and try it again\n. @jingweno, are you still having issues?\n. Thanks, I'll merge this in when you've pushed the new api changes to master\n. :+1: \n. :+1: \n. :closed_lock_with_key: \n. Lookin good!\n. @solojavier, https://github.com/hybridgroup/gobot/blob/master/gobot/generate.go#L182-L184\nyour local code is out of date\n. @solojavier the cylon and artoo references are extra noise for people who are generating their gobot projects and don't care about artoo or cylon\n. This is definitely much cleaner. Adding a similar type for a collection of connections will be a great next step too.\nThanks! \n. @zs- and I talked about a possible api route to help determine your current firmware. Until that is the case we need to better document the requirement to run the default tinker firmware on your spark core.\n. please recreate this pr against the dev branch\n. Thanks! :+1: \n. Lookin good!\n. :saxophone: \n. @jarias \nThis PR does not fully resolve the issue, but it's on the right track\n2014/05/15 03:44:42 Initializing Robot pwmBot ...\n2014/05/15 03:44:42 Initializing connections...\n2014/05/15 03:44:42 Initializing connection beaglebone ...\n2014/05/15 03:44:42 Initializing devices...\n2014/05/15 03:44:42 Initializing device led ...\n2014/05/15 03:44:42 Starting Robot pwmBot ...\n2014/05/15 03:44:42 Starting connections...\n2014/05/15 03:44:42 Starting connection beaglebone...\n2014/05/15 03:44:42 Connecting to beaglebone on port ...\n2014/05/15 03:44:42 Starting devices...\n2014/05/15 03:44:42 Starting device led...\n2014/05/15 03:44:42 Device led started\n2014/05/15 03:44:42 Starting work...\npanic: open /sys/devices/ocp.3/pwm_test_P9_14.15/run: no such file or directory\nI'm going to cherry-pick this commit into a branch I've been working on to resolve this issue.\nThanks for the PR!\n. @deadprogram fixed the merge conflicts \n. @nordicdyno The reason why that gouroutine exists is so that it doesn't block execution on the rest of your Gobot program. So you would propose running this line https://github.com/hybridgroup/gobot/blob/dev/examples/hello_api.go#L11 as a goroutine? \n. @ninetwentyfour Thanks for the updated PR! I commented on an issue with one of your examples.\n. Works great!\n. :electric_plug: \n. Thanks! :surfer: \n. @yuhki50 The issue has been fixed here https://github.com/hybridgroup/gobot/commit/f88ecd1a3e9fc23d8fcb0a73a4d57c670b8663e7\n. @r1cky1337 I created a branch with a hotfix for the issue: https://github.com/hybridgroup/gobot/tree/neurosky_hotfix\nCan you pull this code and verify it fixes your issue?\n. Good catch, thanks!\n. @strongh The naming convention for Event names I'm establishing is lower case Event names, so the bug was actually in the Driver and not in the examples. Can you lower case this https://github.com/hybridgroup/gobot/blob/dev/platforms/leap/leap_motion_driver.go#L23 and switch the examples  back to lower case. After that if you rebase your commits, I'll merge it through, thanks!\n. @strongh Thanks for the changes, can you squash your commits then I'll merge\n. perfect, thanks for the pr!\n. :tophat: \n. Works like a charm\n. :crystal_ball: \n. @solojavier I fixed the test\n. We currently don't have any benchmarks written, but if you're volunteering I'd love to see that blog post!\n. @tangsoft thank's for reporting the issue, I'll look into it\n. @tangsoft I created this branch with a hotfix https://github.com/hybridgroup/gobot/tree/sphero_hotfix. Can you pull the code a test that it works for you?\nSometimes the sphero takes too long to respond, or the packet it sends back is incomplete. If that is the case I will now return an empty array, but if the packet is well formed you will get an array with the three RGB values.\nHere's the output from my local test\n2014/07/25 09:12:18 Initializing Robot sphero ...\n2014/07/25 09:12:18 Initializing connections...\n2014/07/25 09:12:18 Initializing connection Sphero ...\n2014/07/25 09:12:18 Initializing devices...\n2014/07/25 09:12:18 Initializing device sphero ...\n2014/07/25 09:12:18 Starting Robot sphero ...\n2014/07/25 09:12:18 Starting connections...\n2014/07/25 09:12:18 Starting connection Sphero on port /dev/rfcomm0...\n2014/07/25 09:12:18 Starting devices...\n2014/07/25 09:12:18 Starting device sphero...\n2014/07/25 09:12:18 Starting work...\nspheroDriver.SetRGB(153, 61, 202)\nspheroDriver.GetRGB() [153 61 202]\nspheroDriver.SetRGB(45, 18, 187)\nspheroDriver.GetRGB() [45 18 187]\nspheroDriver.SetRGB(103, 214, 72)\nspheroDriver.GetRGB() [103 214 72]\nspheroDriver.SetRGB(215, 63, 139)\n. @tangsoft Yes it takes the sphero about half of a second to respond to your request, so you may not be able to request information from the sphero at the speed that you want.\nWe do plan on implementing more of the sphero API, and pull requests are graciously accepted! So if you've implemented more of the API, you're more than welcome to submit a pull request to the dev branch and we'll get it merged in.\nI will merge this hotfix into the master branch and cut a new release. \n. @tangsoft, thanks for the pull request! There is a build error\n```\ngithub.com/hybridgroup/gobot/platforms/sphero\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:187: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:192: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:197: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:202: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:213: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:218: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:228: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:233: too many arguments in call to s.craftPacket\n/tmp/go-build830046469/github.com/hybridgroup/gobot/platforms/sphero/_test/sphero_driver.go:268: undefined: did\nFAIL    github.com/hybridgroup/gobot/platforms/sphero [build failed]\n``\n. @tangsoft can you please squash these commits, and then I'll merge. Thanks!\n. I'm testing this branch now, and will also fix the test error\n. Works like a charm!\n. :jack_o_lantern: \n. Thanks!\n. :crocodile: \n. I'm planning on implementing the rest of the sphero api as well as exposing more configuration parameters. I will update this issue when I have the necessary commits.\n. @nathany you may find this pull request interesting https://github.com/hybridgroup/gobot/pull/168\n. I'll check this out, thanks for reporting the issue!\n. @krylovsk @nathany I'm currently working on completely overhauling the error handling, in the dev branch, because I do agree that throwing apanic` is not the correct approach. \n. @derailed Thanks for the pull request! Can you please update the examples here https://github.com/hybridgroup/gobot/pull/92/files#diff-c600e36ce3a4b55c3d5f591c4ea6bed9R12 to match these examples\nhttps://github.com/hybridgroup/gobot/blob/master/examples/hello.go\nhttps://github.com/hybridgroup/gobot/blob/master/examples/hello_api.go\nhttps://github.com/hybridgroup/gobot/blob/master/examples/firmata_blink.go\nAfter you've done that, squash your commits and I'll merge it through!\n. Thanks!\n. :horse_racing: \n. :+1: \n. Thanks!\n. :chart_with_upwards_trend: \n. thanks!\n. :four_leaf_clover: \n. thanks!\n. :guardsman: \n. Thanks!\n. :poodle: \n. @rafmagana I have a fix for that test and will push it\n. Reopen the PR when it's ready\n. @Bazmundi the gobot-beaglebone platform was merged into the main gobot repo, you can install it with\ngo get github.com/hybridgroup/gobot/platforms/beaglebone\nYou must also keep in mind that the code is designed to be build for the linux/arm architecture and run on the beaglebone black itself\n. @Bazmundi I added support for blinking usr leds in the dev branch. Here is an example\nhttps://github.com/hybridgroup/gobot/blob/39d3795f5a5397ffc24c2278a0e8ae45c1a03f4f/examples/beaglebone_blink_usr_led.go\nvalid usr leds are usr0, usr1, usr2 and usr3\nCan you please pull down the dev branch and verify?\n. @Bazmundi Sorry for the delayed response!\nYou should be able to switch to the dev branch with something like this\n$ go get -u github.com/hybridgroup/gobot\n$ cd $GOPATH/src/github.com/hybridgroup/gobot\n$ git checkout dev\n$ git pull origin dev\n$ go install github.com/hybridgroup/gobot/platforms/beaglebone\nAs far as this error\n```\nInstalled on bbb and got:\nopen /sys/devices/ocp.3/gpio-leds.8/leds/beaglebone:green:usr0/brightness: no such file or directory\n```\nWhich operating system are you running on your beaglebone?\n. @Bazmundi I tested the built in USR LED code on the new debian Image, so it appears that angstrom has a different USR LED location. I'll have to look at where the USR LED is on angstrom and get it resolved on that OS....\n. @Bazmundi that's great that it's working! I need to set up an angstrom environment and on my BBB to test the built in LED, but it should be a similar process as the Debian image. \n. I'm going to merge this through, but I'm going to refactor the code along with the other middleware we have. Our current setup has a few issues.....\n. :+1: \n. Currently we don't have support for the raspberry pi, but it's on the near roadmap. We do have support in our javascript framework Cylon.js https://github.com/hybridgroup/cylon-raspi\n. We added Raspberry Pi support with the release which came out today \nhttp://gobot.io/documentation/platforms/raspi/\n. For visibility, this issue is a continuation of this thread https://groups.google.com/forum/#!topic/golang-nuts/9-IjwRJxkaY\n. @golangdaddy You may have better luck uploading firmata to your arduino through the official arduino ide. Here's a quick guide on how to upload http://www.instructables.com/id/The-SnapMobile-Start-Your-Physical-Computing-Engin/step4/Upload-Standard-Firmata-to-the-Arduino/\nI've never tested Gort with an Arduino Due before, and it appears there is a compatibility issue\n. Awesome! If you can create the issue on Gort and help us diagnose the problems with the Due, we'd appreciate it\n. @golangdaddy The correct pin number for firmata analog pins is pin \"0\" for the pin labaled \"A0\" on the board.\nI have never tested firmata on the Arduino Due, so it's likely there is an issue with our firmata implementation or the Due's firmata compatibility. According to the Firmata wiki, the Due supports firmata version v2.3.6, so if you could double check your version to make sure you're running a compatible version.\nAre you sure your circuit is configured correctly? The Due io supports a maximum of 3.3v, unlike the higher voltage of the uno. Do you have an arduino sketch you can test it with, just so can isolate that it's a Gobot issue?\n. @golangdaddy If you purchase an uno, then Gobot will definitely work with no issues. RadioShack sells them, so if you have one near your house you can pick one up lickety split!\n. @jpetitcolas Thanks for reporting the issue! The source for gobot.io is located here https://github.com/hybridgroup/gobot-site\n. @1am you're missing the underlying go-ardrone library, you can fix that by running\ngo get github.com/hybridgroup/go-ardrone && go install github.com/hybridgroup/go-ardrone/client\n. @nzmichaelh \nI completely agree with abstracting out most of the linux sysfs programming into a shared package. We do similar things in our javascript and ruby frameworks \nCylon - https://github.com/hybridgroup/cylon/tree/master/lib/io\nArtoo - https://github.com/hybridgroup/artoo/tree/master/lib/artoo/adaptors/io\nI don't have an Arietta , so I'll have to take your word for it that the it all works on the board. This board seems really interesting, I'm going to have to get my hands on one.....\nYour test coverage is quite low, the Go coverage tool reports it at a 7.2% of statements. Can you please add more test coverage to this before I merge it. \nThanks for the pull request!\n. @nzmichaelh I've started working on a linux sysfs package, you can check out my WIP branch here\nhttps://github.com/hybridgroup/gobot/tree/sysfs\n. @nzmichaelh I added a label property to the DigitalPin struct which should handle the use case for a pin having a different exported label\nhttps://github.com/hybridgroup/gobot/commit/08c74113fbba416508f4213666c5c54dc2f87eb7\n. @nzmichaelh Sorry for the delayed response, but I really like the  direction you were going with mocking out the filesystem. I cherry-picked your mocking commit into a branch with my own sysfs code, as well as added more tests and syscall mocking https://github.com/hybridgroup/gobot/tree/fs_mock.  I'd love to get your feedback on this interface in your arietta code.\n. @BooneJS are you running the firmata sketch on your arduino?\n. :doughnut: \n. :sandal: \n. :hamburger: \n. @AndersonTaylor Can you please include the entire stack trace, thanks!\n. @AndersonTaylor I pushed a potential fix to the branch https://github.com/hybridgroup/gobot/tree/gh-148, can you please verify that fixes your issue?\n. @AndersonTaylor from your stack trace I don't think you're building against the new branch with the fix. \nYou need to \n$ cd $GOPATH/src/github.com/hybridgroup/gobot\n$ git fetch\n$ git checkout gh-148\n$ go build -a github.com/hybridgroup/gobot/platforms/opencv\n$ go run examples/opencv_window.go\n. @AndersonTaylor fantastic, I'll cut a new release with this fix\n. @AndersonTaylor this fix has been merged and Gobot 0.7.1 has been released\n. @krylovsk This looks great. Can you please add tests for the new methods you added, thanks for the pull request!\n. Sorry for the long delay, but please see https://github.com/hybridgroup/gobot/pull/168 and feel free to make any comments there!\n. @Yanzay I commented on your pull request and added support for this on dev branch with https://github.com/hybridgroup/gobot/commit/56e849653954287175a260f1cee5e3a0cadcffd3. This will accept any io.ReadWriteCloser as an optinal parameter, so this will allow you to create a connection in your program and pass it to your FirmataAdaptor for it to use.\n. @chakming I pushed a change to the dev branch which will accept an io.ReadWriteCloser as an optional parameter https://github.com/hybridgroup/gobot/commit/56e849653954287175a260f1cee5e3a0cadcffd3. Using this you may pass in a serial connection with whatever baude rate or connection parmeters you need!\n. @chakming this has been released with 0.8\n. @Yanzay I appreciate the pull request, but I had a different approach in mind to solve this issue. I commited a change to the dev branch which will allow support for any io.ReadWriteCloser https://github.com/hybridgroup/gobot/commit/56e849653954287175a260f1cee5e3a0cadcffd3\nYou can simply pass in any io.ReadWriteCloser as an optional parameter to the NewFirmataAdaptor constructor and it will use that for it's io operations.\n. @rasputnik thanks for pointing that out! Updated in https://github.com/hybridgroup/gobot/commit/f9237bf4a168c4c3b56645abbba44fdb7070066f\n. Sorry for the long delay, but please see https://github.com/hybridgroup/gobot/pull/168 and feel free to make any comments there!\n. @karalabe thanks for filing the issue, I'm looking into it\n. @karalabe this issue has  been fixed in the dev and should be released soon \n. @karalabe this issue has been fixed with the 0.8 release\n. Yeah the Odroid looks like a cool platform, especially with the io shield. The implementation should be similar to the beaglebone, raspi and edison. If I get my hands on an Odroid, I can implement it, or if you want to contribute the platform, I can provide assistance in the process!\n. Sounds good. I suggest you base your work off of the dev branch due to interface changes which are going to land in the next release. Let me know how it goes!\n. @razic The problem is that the raspberry pi adaptor does not currently support pwm. In order for pwm to work we need to implement support for pi blaster https://github.com/sarfata/pi-blaster.\n. @razic I created a branch with initial pi-blaster support https://github.com/hybridgroup/gobot/tree/raspi_pwm. In order to get this to work you'll have to follow the installation instructions for pi-blaster. I don't currently have access to a raspberry pi, so I only tested locally with manually verifying values and it should work.... If you're feeling brave you can check out that branch and let me know how it goes!\n. @razic and @SellJamHere pwm support has just landed in the master branch. You need to follow the instructions here to enable PWM pins.\n. This has been released and I tested with a servo and led on a raspi b+\n. @gittex TinkerForge looks like a great platform, I don't have any tinkerforge hardware, but I'd love to help with the implementation! It should be fairly straightforward to add support for their tcp/ip and modbus protocols.\n. @dmarkham This looks great, can you please add tests for the new methods and api commands. Thanks for the pull request!\n. Looks great thanks!\n. :space_invader: \n. @alecthegeek, Can you please place this content in the \"How to Install\" section below the go get instructions, thanks!\n. and squash the two commits into one\n. :cocktail: \n. @alecthegeek I just went ahead and merged the pr made the edit myself https://github.com/hybridgroup/gobot/commit/7c1e67d336218a8474de89a8a4bd57be64b1bff7\nThanks for the pull request!\n. Hi @mwskz8 \nA great way to contribute to Gobot is by adding documentation. Our documentation is still a work in progress and kinda sparse in some places, so any help there would be very much appreciated! Another easy way to contribute is by adding tests. \nWhen a person asks for a new feature we don't currently support, I mark it with the enhancement tag, so those are pretty much open if somebody wants to jump in and help get that implemented.\nWe often get requests for new platform support that we don't currently have, and I want to make it easy for people to link their platform implementations from the main Gobot readme/website, I need to write something about that in our readme. I've also been playing around with the idea of having something like a gobot-contrib repo or org where people can host their platform implementations.\nAs far as contribution guidelines, we have a section at the bottom of the readme which details that.\n. @pipejesus at the moment no, we don't have that capability, however I'm currently working on a refactor of our firmata implementation and based off of the servo protocol document, it should be easy to add.\n. @dkinzer does https://github.com/hybridgroup/gobot/pull/180 fix the problem you're experiencing? \n. @dkinzer the firmata package has been updated, can you please pull the latest master branch and test, thanks!\n. @blalor it seems like doing a glob similarly to how the ocp and slots are figured out should be an easy fix. I would gladly accept a pr to fix this issue :+1: \n. @deadprogram can you squash these commits please\n. :taxi: \n. @myalexer Is your arduino flashed with firmata and are you sure that COM15 is the correct port number? I just tested on windows 7 and it worked for me...\n. @LaraChicharo I'll add more documentation about steps for loading firmata on your arduino, sorry for the confusion!\n. :shaved_ice: \n. @saljam I just pushed a substantial refactor for the firmata package https://github.com/hybridgroup/gobot/commit/02a62d043a05b26c451ce4f6bc362b26cdbb994d, so this pull request may no longer be necessary. Can you please test and verify, thanks!\n. @Symmetric so basically the MCP is what controls and coordinates all of your robots. It is represented as the gobot type. When you do a NewGobot() you are instantiating a new MCP which you can then add robots to. The MCP can run locally on a computer, in the case of a laptop or raspberry pi, or it can run in a cloud instance, and remotely control robots, or communicate with other MCP instances to do some work. The MCP is the part that allows the api to access your robots, and does the auto initialization and cleanup of your robots in your program. This architecture diagram might help understand what's going on. Our sister project cylon.js has a section on the website discussing the architecture, which needs to be added to the gobot site as well. You can check it out here and even though it's talking about cylon, the general architecture is still the same.\nAs far as running gobot on a microcontroller, that is currently not possible due the limitations in the go language. Go requires an operating system to run, so if your board does not have an OS then you can't run go on it. This however does not mean that you can't use gobot to control a microcontroller. If the microcontroller has a remote interface, such as firmata, littlewire, etc, then you can use gobot to remotely control the device. In the case of a teensy or an arduino, if you add something like a zigbee or wifi radio, you can use gobot to remotely control them from a central server, which will hold your app logic and coordinate your devices.\nI hope this helps answer some of your questions. The architecture diagram and info really needs to be added to the website so that more of this stuff is clear.\n. @Symmetric I've used gobot on a teensy 3.0 using the firmata package, so it should work with the 3.1. The teensy website has more information about firmata compatibility here. Unfortunately you can't run go directly on the board itself, due to go's runtime requirements.\n. Thanks!\n. @btracey I agree that some of the labels aren't exactly clear, but I do want to match what the leap motion responds with so that it's easier for people to follow the leap motion documentation. The leap motion platform in Gobot could for sure use more documentation to help with the obscurity of some of the labels though.\n. @guochongxin I've tested Gobot with the default Debian and the Angstrom linux, but Ubunut should work if you have all the necessary kernel modules loaded.\n. @deadprogram fixed the typo\n. fixed with https://github.com/hybridgroup/gobot/commit/5b94e593ec443639c2f0ca38d47d3fc6c5d0d22b\n. The places where Gobot returns a []error is on the Connect and Finalize methods. The reason for this is to allow partial failures in connection or disconnection routine, but still continue to operate, instead of bombing out. An example of this in a Finalize is in the Edison adaptor. If one part of the cleanup process fails, we don't want to completely stop, but clean up whatever we can and deal with the errors as they arise. I would like to return a custom error in those cases instead of a []slice, but when I was originally refactoring the code, the error system was really bad and this was the first step in properly handling errors throughout the packages.\n. @saulshanabrook I actually have a bash script which I run locally to do this, but it should probably be part of the make test process as well.\n``` bash\n!/bin/bash\nFILES=($(ls examples/*.go | sed -e 's/examples\\///'))\nfor file in \"${FILES[@]}\"\ndo\n  echo $file\n  go build -o /tmp/$file examples/$file\ndone\n``\n. Closing this PR due to https://github.com/hybridgroup/gobot/pull/209\n. Thanks for the pull request, testing now....\n. @mattetti I was able to fix theScrollmethod locally, so I will push up my fix once I merge. I am also going to make a change to theWritefunction so  that it will  accept theio.Writerinterface and create a newWriteString` function  which will accept a string.\nThanks @mattetti and @toxeus!\n. @mwhooker Thanks for reporting the issue! I pushed an update to the driver and everything should be good now\n. @mwhooker the problem is that the i2c rgb led on the jhd1313m1 has the same i2c address of the lidar....\n. @mwhooker there is a pwm interface to the lidar, but that will require implementing a pulseIn equivalent in Gobot\n. @pborman can you please create a pull request with this patch?\n. @joushou the work routine is a primitive of a Robot once it has successfully Started. When you start your Robot it has it's Work that it does. Adding the Gobot.Start/Stop wouldn't change that behavior.\n. @dhart-alldigital thanks for the pull request! I've been thinking about this PR for the past few days and how I want to approach it's inclusion. Since I don't have an Odroid and I'm not sure if/when I'll get one, it will be hard to support this package. The options which I've come up with is either you can create a repo for this Odroid code and I'll link it on the Gobot readme/website or I'll create a Gobot-contrib repo and give you, and anyone else who wants it, commit access over the repo.\nWhat are your thoughts?\n. @joushou I completely agree and refactoring that section of code has been on my radar for a while.\n. @joushou that is what the dev branch is for! There are actually quite a few breaking changes that I want to make.  \nThis change really requires edits in both the Gobot and Robot structs. \nThis code should pretty much be turned into a Robot.Stop() method, similarly to the Start\nAnd the Gobot.Stop() method should iterate over each Robot and call it's stop.\n. This should be a private function, we don't want to expose the ability to directly start the api outside of the master\n. This examples fails to compile\n./beaglebone_direct_pin.go:5: imported and not used: \"github.com/hybridgroup/gobot/platforms/beaglebone\"\n./beaglebone_direct_pin.go:13: undefined: beagleboneAdaptor\n./beaglebone_direct_pin.go:14: undefined: beagleboneAdaptor\n./beaglebone_direct_pin.go:27: undefined: beagleboneAdaptor\nyou're missing the BeagleboneAdaptor instantiation \n. Do we want an event for each hand or one event with all the hands?\n. ",
    "jingweno": "To give more details, I was running this example. And I was using the Ruby library just fine without any socket proxy\n. @deadprogram Is there any tutorial I could follow to get gobot-sphero to work? The Ruby library doesn't use Artoo at all? Sorry, I'm a newbie here \n. @adzankich Nope. I was able to get it going. Thanks!\n. ",
    "sbinet": "note that the new API isn't yet merged into master...\nI plan to leave some time for people (with non-godoc-indexed code) to migrate to the new API (~beg January)\nsee:\ngonuts/commander#6\n. not sure if this considered as hot-fix or not (thus the PR is based off master). ",
    "XixeBombilla": "Im sorry for the delay\n. thanks for the comments, let me change that\n. some of the files have that because are platforms or drivers that we dont have yet, let me take a look\n. What about this? \n\n. What do you think @MarioRicalde ? \n\nall works fine on the responsive\n. no border radius\n\n. done :smiley: \n. ",
    "stewart": "These look awesome!\n. :palm_tree: \n. @solojavier This is because Robeaux currently isn't bundled in automatically with Gobot.\nVisiting http://localhost:4000/robots should give you a JSON response.\njavascript\n[{\"name\":\"hello\",\"commands\":[\"Hello\"],\"connections\":[],\"devices\":null}]\n. https://github.com/hybridgroup/gobot#api\n. That looks like the correct port for OS X... have you uploaded the Firmata sketch to your Arduino? Without it; Gobot can't talk to the Arduino.\nIf you have the Arduino IDE installed, you can find it under \"Examples > Firmata > StandardFirmata\". Alternatively, you can upload it with Gort.\n. :mag_right: :earth_africa: \n. The install steps work correctly for us (or me, at least), and the go-opencv repo referenced exists.\nCan you manually install it (go get github.com/hybridgroup/go-opencv/opencv) and then attempt to run the gobot install again?\nAdditionally, the Gobot repo + packages are already hooked up to Travis.\n. Oh, that's right.\u00a0(\u256f\u00b0\u25a1\u00b0\uff09\u256f\ufe35 \u253b\u2501\u253b\n. :books: \n. That's what I tested it on, would like for Linux users to test it as well though\n. Hey @alioygur - Arduinos are microcontrollers, and incapable of hosting an operating system or running Go code directly. To provide support in Gobot, we leverage the Firmata protocol to communicate with a sketch the Arduino is capable of running. We then send commands to Firmata over a serial port the Arduino is connected to, and Firmata executes them for us.\nHowever, on more complex single-board Linux computers (Beaglebone Black, Intel Edison, Raspberry Pi, etc), Gobot can be installed and run directly on-board.\n. these can just be indented 4 spaces, rather than surrounding as a fenced code block\n. ",
    "solojavier": "Also I'm noticing that test files are not generated...\nand Halt & Init functions were missing to fulfil Driver interface.\n. @zankich I've seen that in my local... it's up to date.... but when I ran\ngobot generate pebble\nThose things were missing ... or maybe I did something wrong, but not sure what...\n. How do I bundle Robeaux into Gobot?\n. This is no longer needed with sidebar...\n. What about something like this? https://github.com/hybridgroup/gobot/pull/58/files\n. :cake:  Thanks!\n. Let's do this! \nKudos @zankich... looks good.\n. We have a release!\n. Looks good but... there is a failing test: https://travis-ci.org/hybridgroup/gobot/jobs/29927504#L712, it fails locally too here...\nCould we configure travis so it detects failing tests? :(\n. Examples I ran worked correctly\n. Reason given by @zankich  about tests failing:\nit's a sporadic test failure with testing the \"Every\" function\nthat fails on travis\nI need to rewrite that test to make it more bullet proof\n. +1.. @zankich and I talked about having something like that a while ago... \nIt's probably a good idea to abstract the details by having some predefined settings (ex. low, medium, high) or a range of values from 0..100 and modulate sensitivity with that....\nIf you are willing to send a pull request @nathany that would be great.\n. Sounds like a good start...\n. Could you provide what version of gobot are you using for reference?\n. This has been addressed on dev branch : https://github.com/hybridgroup/gobot/blob/dev/platforms/sphero/sphero_adaptor.go#L28-L31\nCan we close this issue @zankich @nathany ?\n. You need to run gofmt so the code has the correct style and indentation....\n. Cool :), let me know when done and I'll merge it in :ship: \n. Seems like build is failing sometimes.... :/\n. It's green now, not sure why it fails sometimes... \n@zankich could you take a look to this PR when you have a chance?\n. Thanks :+1: \n. :+1: Thanks !\n. Travis failed, but seems unrelated to this changes...\n. Please reopen if there is still an issue....\n. Errors everywhere ! and no more panic... kudos to @zankich \n. Same as in cylon... but this names are only for the api, internally you can call them with camelCase, that is why the line below does something like this:\np.PublishEvent(params[\"name\"].(string), params[\"data\"].(string))\n. :+1:  :)\n. ",
    "tsudot": "Perfect! That indeed was the issue. Uploaded the firmware through the IDE. Thanks.\n. ",
    "hunterboerner": "Why not this? \n\n. I prefer the slight radius.\n. ",
    "MarioRicalde": "On first inspection, the first thing that pops to my eyes is the fact that the amount of vertical space that is added looks like a lot. \nThe second thing that pops to my eyes, is the fact that you're using really rounded corners, when nowhere in the site we use them like that.\nMy suggestions:\n1. Reduce the rounded corners by 50%\n2. Figure out if you can lower the margin bottom.\nAlso, make sure that this is going to be working correctly on responsive.\n. Keep the 50% radius that I originally suggested, I agree with @hunterboerner \n. AS a general comment for styling on SCSS, leave a empty line between selectors and rules.\n. Use dashed-words for selectors. Classes or ids.\n. ",
    "coveralls": "\nCoverage decreased (-1.83%) when pulling 6b8a03041a43f3c30e19e099d3f84d526614d09d on pebble-support into 30b92ac39fa287ad6654d982d845c63e20c89e72 on dev.\n. \nCoverage decreased (-1.83%) when pulling c7d0fdd91c3f766e3ae05289f2c1d1bd9153ee1b on pebble-support into 30b92ac39fa287ad6654d982d845c63e20c89e72 on dev.\n. \nCoverage remained the same when pulling 3d454a7b057a2e229922b41591933f903ecde57b on pebble into 5e61ab6dbd89bf5db5b67351e7f2c59873f13958 on dev.\n. \nCoverage remained the same when pulling 6e1eb9cfbe21ca782b4ead419ab7901001ec16a2 on jarias:ensureSlot into 2a2a435a7c276f19cb8b6fd82817a7830be2b3da on hybridgroup:dev.\n. \nCoverage decreased (-2.98%) when pulling f1dbe8b1e2d44ddc59e3e83b6eacf9dcdca38b9f on api_refactor into 2a2a435a7c276f19cb8b6fd82817a7830be2b3da on dev.\n. \nCoverage remained the same when pulling 84c2576467432f100c052fec820d56fba7bdfdab on andrew:patch-1 into e03d39901858fccd4b13fffd5836a243a89d3094 on hybridgroup:master.\n. \nCoverage decreased (-1.93%) when pulling a3e4cb0049e005332aa4b45d1d155b718f731a29 on test_refactor into 4f5d23a3af154cf8fe67f8a3d7923f0fed221fc2 on dev.\n. \nCoverage decreased (-1.68%) when pulling 7857354d939b448a8343a0c60d0eef81316bb185 on test_refactor into b782423fa1f75303eb79930018a522ef9d49d260 on dev.\n. \nCoverage decreased (-0.18%) when pulling 7a6c165d83f6e33170822f74709b5fafcc5fdbb4 on nordicdyno:patch-1 into 27858750892283104de20aa437561e37bb6891f7 on hybridgroup:dev.\n. \nCoverage decreased (-37.64%) when pulling 072a43c44160f1673a86a3438b89b029a9aa7d63 on dev into e8b5dcca8b74540fdd5d4b5f5b870c0d936a9443 on master.\n. \nCoverage decreased (-0.29%) when pulling 2bc86be4bc70c1c73da67d37debd0222345ad2ac on ninetwentyfour:dev into 73ea4e53abf867c374e026ba567bcd75f8b74626 on hybridgroup:dev.\n. \nCoverage decreased (-0.11%) when pulling c5cd47a1d2ffd07f34b5a2c8d6693a0d545a044e on ninetwentyfour:dev into 34ccc13ecbab1ccf7fcbb19f30d4506a07749800 on hybridgroup:dev.\n. \nCoverage remained the same when pulling f0d822a0a1185f1006c841d36db27479816c88dd on JacobHayes:master into 85e6cd35bf51664bd31f02db6ca7ad6112cbc807 on hybridgroup:master.\n. \nCoverage decreased (-1.64%) when pulling c86123c69454f841469df76c390185f109687c2a on refactor_device_connection into 9fdc9abe1ae8ee6831b4783eaf652ef4896b5b66 on dev.\n. \nCoverage increased (+2.72%) when pulling 1700c1276c8ec9f8cdf1ae32ed940a1c6112ad22 on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.72%) when pulling 8d76823af7253927fafb0cf3c347d004c645dc6b on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+1.27%) when pulling f0ca761030d75db0013d5fbe7090f2236deda10f on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.55%) when pulling 129bb7041af7284b28c831b0a93fc7a9b3b3e270 on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.75%) when pulling 1d24bd886666da1275f3e3caf1ee8e4b053eb588 on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.55%) when pulling 244ec0a0cf6bf2362ff5ce7faeaac74cf9ca2735 on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.55%) when pulling 2cb53965669a0b75e680111e4b271130d6927055 on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.53%) when pulling 11262956ab736a803b32903d25ff180becc58a5f on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.53%) when pulling 436f8464c70c69522a558a8fb5f500a5173b9b2b on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage increased (+2.73%) when pulling b044c1b0ef05cce903a1d15bf5eae2faaa2e87e3 on dev into be058d520f344d8ae6b2497e7e01d57a5d03d833 on master.\n. \nCoverage remained the same when pulling 7d81f9720e3371682fc06b0c4fb28298453605a4 on yuhki50:fix-cli into 8e68601cfe4cf122f4a9b6e5db8a6551c444df9c on hybridgroup:master.\n. \nCoverage remained the same when pulling 2bf1cbfa76049b12a1111b6c49a788b1d926a0c1 on strongh:leap-fix into b74d4c4b5f44d78e3be9d3031718eda5395f44f7 on hybridgroup:dev.\n. \nCoverage decreased (-0.13%) when pulling 1d9e9916507c95afcb0a201e7277e2dfe9c82617 on strongh:leap-fix into 874d6e82c89e0350fd16d62c0aeafb46e1da2513 on hybridgroup:dev.\n. \nCoverage decreased (-0.13%) when pulling 1d9e9916507c95afcb0a201e7277e2dfe9c82617 on strongh:leap-fix into 874d6e82c89e0350fd16d62c0aeafb46e1da2513 on hybridgroup:dev.\n. \nCoverage decreased (-0.4%) when pulling 4427d0f42beb090228c1e1935b1d4db3b953ac56 on strongh:leap-fix into 31e28f97009ab9b14a6223370af98bc3475f0b35 on hybridgroup:dev.\n. \nCoverage decreased (-0.13%) when pulling 884f1e1869c2273328f0f0f6e3bc65b928366a10 on enable-stop-on-disconnect into a540f91adda9527210b04fa35e78fb34544cfbfc on dev.\n. \nCoverage increased (+0.12%) when pulling fbe02950407289ba7cbae7b56eef376cf6c7c9d5 on firmata_refactor into a540f91adda9527210b04fa35e78fb34544cfbfc on dev.\n. \nCoverage increased (+0.12%) when pulling 8cb5db3936170bbc9cd9a0c897121829c9cb230f on firmata_refactor into a540f91adda9527210b04fa35e78fb34544cfbfc on dev.\n. \nCoverage increased (+1.08%) when pulling e0bad9c42aaf6d39acbd2c5cdad58cc530d0de6e on opencv-tests into 419193db49450b35c39fc3a847121de6b2d03e56 on dev.\n. \nCoverage increased (+1.28%) when pulling e0bad9c42aaf6d39acbd2c5cdad58cc530d0de6e on opencv-tests into 419193db49450b35c39fc3a847121de6b2d03e56 on dev.\n. \nCoverage increased (+1.28%) when pulling fd533745132fa600898bc7306025b3dcc0d2db2c on opencv-tests into 419193db49450b35c39fc3a847121de6b2d03e56 on dev.\n. \nCoverage increased (+1.28%) when pulling fd533745132fa600898bc7306025b3dcc0d2db2c on opencv-tests into 419193db49450b35c39fc3a847121de6b2d03e56 on dev.\n. \nCoverage increased (+0.97%) when pulling 548b3f268222d8dc2093de16ee9d512a9ab731c2 on opencv-tests into 419193db49450b35c39fc3a847121de6b2d03e56 on dev.\n. \nCoverage remained the same when pulling cb0486e074c45fff71c770b4f769f2ec10ceaf95 on tangsoft:dev into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 85b65161da8e360ac53175f7ddead8d6bac45406 on tangsoft:dev into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage increased (+0.04%) when pulling a155efab14cbe6b7f376668c905dd185e36a0437 on pebble-api into 2d8ba7206d31e4881fa135c0dc83b43a1d1db62e on dev.\n. \nCoverage decreased (-1.14%) when pulling 01cbcf8ec13b340d8b74d6a6102c4e37dc722899 on mavlink into cd797fed65481636f9db166e083ea76df20c6e9b on dev.\n. \nCoverage decreased (-1.14%) when pulling 01cbcf8ec13b340d8b74d6a6102c4e37dc722899 on mavlink into cd797fed65481636f9db166e083ea76df20c6e9b on dev.\n. \nCoverage decreased (-1.14%) when pulling 01cbcf8ec13b340d8b74d6a6102c4e37dc722899 on mavlink into cd797fed65481636f9db166e083ea76df20c6e9b on dev.\n. \nCoverage remained the same when pulling 7408e0259b0412c024df2b4093297237077ab176 on tangsoft:dev into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 564e1d2f62ecfcde6c6bebe61cb5904b65699c40 on tangsoft:dev into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 564e1d2f62ecfcde6c6bebe61cb5904b65699c40 on tangsoft:dev into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 564e1d2f62ecfcde6c6bebe61cb5904b65699c40 on tangsoft:dev into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 5e92d4c81821d77e58809bcc4e45001ed4851a78 on derailed:doc_test into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 47eb6287c8e9dff907f0dc9c5897cb26e315b798 on derailed:doc_test into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage remained the same when pulling 11ff06b0ace921e35010ed1e307acca1cd7396f6 on derailed:doc_test into 30dc0f68016206917d286ee5d88d8659f5434894 on hybridgroup:dev.\n. \nCoverage decreased (-0.14%) when pulling 0783b002e70c08eb9d5be49102b199330089268c on nathany:sphero_collision into b910bf6bb841f347517509aca8f6323805beb541 on hybridgroup:dev.\n. \nCoverage decreased (-0.12%) when pulling 2fa8b5b77c69909607db68c5cbca543e09953cee on nathany:sphero_collision into b910bf6bb841f347517509aca8f6323805beb541 on hybridgroup:dev.\n. \nCoverage increased (+1.81%) when pulling ac5f63efdb31173304da0245b5ca3eed333af927 on 148-spark-tests into b910bf6bb841f347517509aca8f6323805beb541 on dev.\n. \nCoverage increased (+2.18%) when pulling 6a817c649a4d2e9597edbe2cda8cd6b9ef873d81 on 148-spark-tests into b910bf6bb841f347517509aca8f6323805beb541 on dev.\n. \nCoverage increased (+1.14%) when pulling d5130870dc1327912c6ef9154a97c297df1b6363 on 148-spark-tests into b910bf6bb841f347517509aca8f6323805beb541 on dev.\n. \nCoverage remained the same when pulling a06689e561824b34086b6e6bd43560cdfca6a637 on svanharmelen:fix-readme-digispark into 86e32b9e9ea08d83cdec64a3f664f330570bb034 on hybridgroup:master.\n. \nCoverage remained the same when pulling 37cd804f2009f67cf9766ba7d61a9c218ae70223 on trevrosen:master into 885376e7f70e557a403aad6f780bdcd777f513ac on hybridgroup:master.\n. \nCoverage remained the same when pulling f0d1154270d87fe55e066ff6784b66ee77184b39 on trevrosen:dev into c08c82b91a02a2bcd08816c0df31f5bdd91b323f on hybridgroup:dev.\n. \nCoverage remained the same when pulling f0d1154270d87fe55e066ff6784b66ee77184b39 on trevrosen:dev into c08c82b91a02a2bcd08816c0df31f5bdd91b323f on hybridgroup:dev.\n. \nCoverage increased (+0.17%) when pulling 613c7d85697c531b2990fcbd95d279b4e736590f on nathany:sphero-readNextChunk into 1c20ec7eaf7d9e6457d4b5c3487b69c709beb1e7 on hybridgroup:dev.\n. \nCoverage remained the same when pulling bd7168961f054e2bdbd43d0a311eeb5258a3872a on leap-sphero into 0ef0ca4355a83fd4b65b3a293b78843295e5600c on dev.\n. \nCoverage decreased (-0.0%) when pulling 44d34d1ce71673fd3e01c3a656eee621d6981d77 on nathany:sphero_checksum into 1b61814ee18f6d05518ed80e3f1757d74f80463f on hybridgroup:dev.\n. \nCoverage decreased (-2.48%) when pulling 46d46a8ad0e073bcb1e5f6c2a38c7b624a4b3d33 on nathany:collision_struct into 96918d358d8359b8d78993e3f959c19ed26b5bee on hybridgroup:dev.\n. \nCoverage increased (+5.06%) when pulling 6a24792d5c1362c98a9ec909ccedbaf482231ede on 152-i2c-test-coverage into 1fc619544a2314a8bd44fe630e6d41c94748900a on dev.\n. \nCoverage decreased (-2.34%) when pulling 11bcc03ad114d83507af48ba646a26316de744ab on 176-cors-header into 96918d358d8359b8d78993e3f959c19ed26b5bee on dev.\n. \nCoverage increased (+0.3%) when pulling 3f537796ebbe4488211d6b2111852b11e786002a on 176-cors-header into 39d3795f5a5397ffc24c2278a0e8ae45c1a03f4f on dev.\n. \nCoverage increased (+0.56%) when pulling f6023442e91ae55fbbc5291a6af17c6d0a9030b5 on 176-cors-header into 39d3795f5a5397ffc24c2278a0e8ae45c1a03f4f on dev.\n. \nCoverage increased (+4.96%) when pulling 5148562deef887b5f286715dd70555a6e1191e75 on 152-i2c-test-coverage into 843ee4d0787dd23da72d5ef8ae8e2e80de06ac9a on dev.\n. \nCoverage decreased (-6.31%) when pulling 1742707ed5f35bbe58e1426568ec681cb5227bc9 on edison into 61b36ed9d0eb3854012841c298a31b700ad3c03a on dev.\n. \nCoverage decreased (-5.96%) when pulling 72aade7b3f3e7a134e18363be1ae1b48fff12746 on edison into 61b36ed9d0eb3854012841c298a31b700ad3c03a on dev.\n. \nCoverage decreased (-6.31%) when pulling 72aade7b3f3e7a134e18363be1ae1b48fff12746 on edison into 61b36ed9d0eb3854012841c298a31b700ad3c03a on dev.\n. \nCoverage decreased (-0.07%) when pulling 364a177aea309554e0c05e62cc0ee00ba68c2eaf on api-docs into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.08%) when pulling 4c98ba5b0302436d9ee55750be2144c52c17e342 on api-docs into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.08%) when pulling 8270bb00c1b0bccf577b86df6d77749d919c9e91 on api-docs into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.08%) when pulling ca08c4475917ab6b09c0040456cb994c828f0608 on api-docs into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.08%) when pulling dfeec6f2d53ad00812424e243f8dc08c2121e9b8 on api-docs into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage decreased (-0.08%) when pulling dfeec6f2d53ad00812424e243f8dc08c2121e9b8 on api-docs into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 303427fce717f62bbbdb66e8935185bc9b34e179 on ardrone-godoc into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 46ce818f5805ef7dc6ce1f21cc16718003d9714f on ardrone-godoc into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 46ce818f5805ef7dc6ce1f21cc16718003d9714f on ardrone-godoc into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 8d0b12ce9502b643df90bbe970dec7f7d4242aa0 on ardrone-godoc into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 3dce190b27acd68ae7fa9482fae60fb25f8ea823 on ardrone-godoc into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 3dce190b27acd68ae7fa9482fae60fb25f8ea823 on ardrone-godoc into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 262b213c17f51394c849c3660420f496996c84dc on ardrone-godoc into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 99d2476f00e0aec4a63c78830d212851046ee726 on beaglebone-godoc into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 9923ae0c8f46451953ae6aa69a2733dcd0720bf4 on beaglebone-godoc into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling d8daf6e87d14bb94e70417316b55e23f61ab62d4 on beaglebone-godoc into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 21616d5225748dd90653314799a95f27c8f49b00 on beaglebone-godoc into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling fdf8742f3ba96974008c58377ed649ffc34d299d on godoc-pebble into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 0b62211a9b4a215ff296a31c62f5cf1fefa63a78 on godoc-pebble into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 43f3bb1b007b0f884975d0e7197cf5b2a07f84ec on godoc-pebble into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 93ea921c9756bd36ee17dcc9668b52c962c81bbc on godoc-pebble into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 656035be42f5b49d9996a18e19b7d72a85384f1f on godoc-spark into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 7680627cd2e86862a69d62149da2494f2bd31727 on godoc-spark into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 31d508f75a2484813889ca58d93d93a1d3e71638 on godoc-spark into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 708b0a19cde8ded69312f346622e0e52fa02ebaf on godoc-spark into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 304b3dd43fa8dd5e0f5c647d3c8e2995352baab7 on godoc-spark into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same at 62.643% when pulling d61615fd12cd7fff7d32ae73800353e9f5ed77e8 on godocs-leap into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 8b7ecd51522171fff031ff8ab12a97fba4d05d27 on godocs-leap into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling b7ad43608abebd35ce4d8a20804c36a76211b97b on godocs-leap into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 73b9b26158dfba110be5f26abd4051e10c898dbf on godocs-leap into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage decreased (-0.04%) when pulling 12d3de7f96b682ae415efebd87b7fcbfb218acdc on godoc-firmata into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.04%) when pulling eea1e3190fb62993b00229961b6b5713d26d45ee on godoc-firmata into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.04%) when pulling 317576f2b3ad512e3fa0e91c3ccf9b225ede5ff8 on godoc-firmata into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.04%) when pulling 317576f2b3ad512e3fa0e91c3ccf9b225ede5ff8 on godoc-firmata into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage decreased (-0.04%) when pulling 58c15eb116d8d8bfe15cf6de2ac9e7fb8334b8c0 on godoc-firmata into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 034ee9daafb64d7b57f18576b68e6a5a191820f6 on godocs-joystick into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling b9c98d0ffdba899ba37c2a99dae23d28d73a0e6d on godocs-joystick into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling a7f3c4b1ad355385d50ca45dd0992ef4a6bb4dcd on godocs-neurosky into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling e1312ed15063ddf11c543b43e47c1ec3e353d0ef on godocs-neurosky into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling c8652c483ff01892d0d3a308a5819b10e97ebf31 on godocs-neurosky into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage increased (+0.27%) when pulling d693e7acd507c8c81eeb39ea4fd1e8a45c767514 on godocs-opencv into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage increased (+0.27%) when pulling dff7d50de772fbffbcd52f288a659b6c2fa70494 on godocs-opencv into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 5a4aae6014f2887ebbb89add37306c0bc25c2495 on godocs-digispark into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 0aa9a65c6d5e9442b84d7c731bff34428fc78abb on godocs-digispark into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 04eb685a6c8a74cea2fddbdb6b3ac4235fd874ef on godocs-digispark into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 52f07548e4d93e71c4b7ade3fb54a72eed93664c on godocs-i2c into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling aa33976ced2f16249c6b1726968e9214894317ca on godocs-i2c into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling 76a81eaef7bbfa2a0a29fa90c6e4ab38de2e41b9 on godocs-i2c into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 71b0bc3ff53cd9f66814c8713fbe05cb368d4735 on godocs-intel-iot into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling d8f4b776e40446f968425059355ff1dce55a91b5 on godocs-intel-iot into bf7bc97c3aa1fa87684192d5216a7d8eb2203ace on dev.\n. \nCoverage remained the same when pulling de0efc266686675a53ca630e89a5a8deddb26d4f on godocs-intel-iot into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling e6840308250d331c47e65798fc5e1937008a5eee on godoc-mavlink into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling a9a2a4f46ff4ead57d68f3eb43af922bcd66afec on godoc-mavlink into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage decreased (-0.08%) when pulling dfeec6f2d53ad00812424e243f8dc08c2121e9b8 on api-docs into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage decreased (-0.08%) when pulling ad96293edb049c2ad9f7dbfe8741a7dbec050bf1 on godoc-api into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling 15055f1ae25dacdb63201f525a8efb0eb53c156f on godocs-ardrone into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same when pulling fbcad959739060809fbaeba85e2579f4e2702317 on godoc-leap into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on dev.\n. \nCoverage remained the same at 62.643% when pulling d7c0e351d69cb019a7460c5ab12c11aef95c524f on nzmichaelh:arietta into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on hybridgroup:dev.\n. \nCoverage decreased (-0.06%) when pulling e913786c4f40431b799a4a9a583b5139f574301d on nzmichaelh:arietta into 6d2e25b0d8141d8d75e7f25c22b7b00bdc86f17f on hybridgroup:dev.\n. \nCoverage remained the same when pulling 1e723648e831ccdd1972b1a0b06a5d57155b41f5 on godoc-beaglebone into 1c02083d5ba3cc4db31b0187b20b7a85377c01ca on dev.\n. \nCoverage increased (+3.08%) when pulling e78257c2014d260889280275d45adcc976e7ee6b on sysfs into 04ea7b057efd84e649b922738862793c2245c3a4 on dev.\n. \nCoverage increased (+7.86%) when pulling d33c6868843e7c314eabdc7532723302ce668964 on sysfs into 04ea7b057efd84e649b922738862793c2245c3a4 on dev.\n. \nCoverage increased (+0.17%) when pulling ccbe8b21f5b050ebd01f0402b4c37c4d8620dc57 on mqtt into 476aaafd885461122dac2ad046bfac99893d9c78 on dev.\n. \nCoverage decreased (-0.3%) when pulling 5ddfd4a8481a9e2dbfc01d0232e2b69c981fdeca on raspi into e888b780357a283fdfa120bc725490b5903a9eea on dev.\n. \nCoverage decreased (-0.31%) when pulling 9c2462678251cab772e7ba0da33cdb91c5fee07d on raspi into e888b780357a283fdfa120bc725490b5903a9eea on dev.\n. \nCoverage increased (+5.35%) when pulling b33513b8b1b2761008005ca22036efe5818615ed on fs_mock into dd6c0b49a9a2cdcddd4bbe8f861ccf3a2f2dda0b on dev.\n. \nCoverage increased (+0.04%) when pulling 3b43a99611ed41f402eb5dc4611444cc1af69e08 on mpu6050 into b856655be621d98491a6f1749d68cb9a7f841a94 on dev.\n. \nCoverage increased (+0.05%) when pulling c7c73ea2c8a3ff62789a4e06c7a7b228b9db795c on mpu6050 into b856655be621d98491a6f1749d68cb9a7f841a94 on dev.\n. \nCoverage increased (+0.04%) when pulling b4ff16d14b5de8803517d647e15bae30a030d0bd on mpu6050 into 7eae6ebe23b214567b690441dbb13dfce3c8fe62 on dev.\n. \nCoverage decreased (-0.17%) when pulling 9d864d4f1d22b7513717a5eb7fd1d4465ea86295 on mpl115a2 into 7eae6ebe23b214567b690441dbb13dfce3c8fe62 on dev.\n. \nCoverage decreased (-0.42%) when pulling 9e126b84b2c9a60d368e0384c74f72eacef75495 on krylovsk:master into 444d9ffbde4b18d77388e2867be0f36317926624 on hybridgroup:master.\n. \nCoverage increased (+0.01%) when pulling 6f7f6da11091cb01e8eec77f8ecc5eb98f6dc5dd on gh-148 into 444d9ffbde4b18d77388e2867be0f36317926624 on master.\n. \nCoverage decreased (-2.89%) when pulling a638e0d049915a1572bf76a54a706e402ed1b4cb on Yanzay:firmata-ethernet into 0e1252651d83de22326256108d3994dbb1644096 on hybridgroup:master.\n. \nCoverage decreased (-0.19%) when pulling 647b37ac8632edaf61e392b33bc140b78801dc7f on Yanzay:firmata-ethernet into 0e1252651d83de22326256108d3994dbb1644096 on hybridgroup:master.\n. \nCoverage decreased (-8.01%) when pulling 56ceb26484b9e688c96bcca1771c5c6ad20b9b9c on errors into 56e849653954287175a260f1cee5e3a0cadcffd3 on dev.\n. \nCoverage decreased (-8.01%) when pulling e187096a5a728b7ada0efa257807be4f9e9b5563 on errors into 56e849653954287175a260f1cee5e3a0cadcffd3 on dev.\n. \nCoverage decreased (-10.59%) when pulling 586507a4894c3dc815c8461d0f54f74bd5483704 on errors into 56e849653954287175a260f1cee5e3a0cadcffd3 on dev.\n. \nCoverage decreased (-2.87%) when pulling 972219c62b1fe53d65408881b7926fd489592ff8 on refactor_interfaces into 67e8da6c3640b8ef054ccfa0b8fe99e1d0e343a4 on dev.\n. \nCoverage decreased (-2.87%) when pulling 3047c5c092af9ec1ae59fb1de99bf9947e4b0d55 on refactor_interfaces into 67e8da6c3640b8ef054ccfa0b8fe99e1d0e343a4 on dev.\n. \nCoverage decreased (-0.77%) when pulling 560ebaf3e0bce2c916127c78869e53ab55e6ff02 on gpio_interfaces into 91a0123c789d3985a0c2e267b73b2877fa58b032 on dev.\n. \nCoverage decreased (-0.12%) when pulling 8a44b38891053df8bb16eb0cb36c848b221ba4ea on variables-and-functions into 5dd554dbc6f1893b09cef37566f216ab5f8beb3b on dev.\n. \nCoverage increased (+11.7%) when pulling aba4e2a2587fb2ec146eecec55e7d7dd6a7823e2 on variables-and-functions into 5dd554dbc6f1893b09cef37566f216ab5f8beb3b on dev.\n. \nCoverage increased (+11.7%) when pulling 48254ceb313033fd125e7d03922872099dff3d8b on variables-and-functions into 5dd554dbc6f1893b09cef37566f216ab5f8beb3b on dev.\n. \nCoverage increased (+0.24%) when pulling 51feaa9985ae6834e19a1cf795f5b1d5be53953b on variables-and-functions into 944b878e12db8e0727fe123f7ff988e1fb85da76 on dev.\n. \nCoverage decreased (-0.27%) when pulling 70e89aec054f62555113f86b3b18896faf2de3b0 on event-stream into 5dd554dbc6f1893b09cef37566f216ab5f8beb3b on dev.\n. \nCoverage decreased (-0.33%) when pulling 541761b98e27413740efaf4316694f7b3d799f9e on event-stream into 1b571123e15af2bbf0d906732804923e984daff5 on dev.\n. \nCoverage increased (+0.0%) when pulling 78436285ecc8f2d61d229ab3cdb3c2a3a64584b0 on event-stream into 1b571123e15af2bbf0d906732804923e984daff5 on dev.\n. \nCoverage remained the same when pulling 4091681da6d46c0b472d4e08d079d95902556e10 on readme-updates into f9237bf4a168c4c3b56645abbba44fdb7070066f on master.\n. \nCoverage decreased (-0.07%) when pulling 7c836d6c6bbaa1f91e6eaf473a059c8e4af83930 on sphero_enhancements into 3e8e4519e120718c41243738c53559456aa00589 on master.\n. \nCoverage decreased (-0.07%) when pulling 7c836d6c6bbaa1f91e6eaf473a059c8e4af83930 on sphero_enhancements into 3e8e4519e120718c41243738c53559456aa00589 on master.\n. \nCoverage decreased (-0.89%) when pulling dac315ecaef448e8d2adcac528f38692afe8c362 on dmarkham:master into f19fd7dfa6940f3bffa92f683244ca1e9d813327 on hybridgroup:master.\n. \nCoverage decreased (-0.3%) when pulling 5e194462305ebf1723e2abbb4bb1762298b5ef2a on dmarkham:master into f19fd7dfa6940f3bffa92f683244ca1e9d813327 on hybridgroup:master.\n. \nCoverage decreased (-0.1%) when pulling 67a4d4ac4760348022b1682648c886e8964a9c81 on dmarkham:master into f19fd7dfa6940f3bffa92f683244ca1e9d813327 on hybridgroup:master.\n. \nCoverage increased (+0.13%) when pulling dd867212e591eba0e5a2f5319a2cc9c6740ad450 on dmarkham:master into f19fd7dfa6940f3bffa92f683244ca1e9d813327 on hybridgroup:master.\n. \nCoverage remained the same when pulling 26521e792dea8c724db5649cdf244a7bf96ec240 on alecthegeek:patch-1 into f19fd7dfa6940f3bffa92f683244ca1e9d813327 on hybridgroup:master.\n. \nCoverage increased (+0.08%) to 83.07% when pulling 94762f4a751dec76b8934ee3ad39e529455f9dee on lidarlite into 5ffa399bb8c09a5df6c478dc43880713a0fe472f on master.\n. \nCoverage increased (+0.08%) to 83.07% when pulling 65fce5a4b9243eee23c6a50a94042c742727d214 on lidarlite into 5ffa399bb8c09a5df6c478dc43880713a0fe472f on master.\n. \nCoverage increased (+0.08%) to 83.07% when pulling 65fce5a4b9243eee23c6a50a94042c742727d214 on lidarlite into 5ffa399bb8c09a5df6c478dc43880713a0fe472f on master.\n. \nCoverage increased (+1.1%) to 83.88% when pulling 5b0d2fb0e936112aa5d157a6b4563b2bd9885e9e on rafmagana:api-test-coverage into 3f0dd3efb97abbd189c050cbc7c5d71264838420 on hybridgroup:dev.\n. \nCoverage increased (+0.81%) to 84.69% when pulling 72fd4b3244710551ddd7cd00e9750b5a23bdda94 on raf/event-stream-test into e31c205749cb600abed05d543f676ed0f5ff37a0 on master.\n. \nCoverage increased (+0.73%) to 84.62% when pulling 70394aff01677c6df6acf8d6e2d034791c557f98 on raf/event-stream-test into e31c205749cb600abed05d543f676ed0f5ff37a0 on master.\n. \nCoverage increased (+0.79%) to 84.67% when pulling 069cd214fe453fb0fb766c9ff7f4b89781586464 on raf/event-stream-test into e31c205749cb600abed05d543f676ed0f5ff37a0 on master.\n. \nCoverage increased (+0.79%) to 84.67% when pulling d7ab100503abab2b7302c0f5370606e4660f6b3d on raf/event-stream-test into e31c205749cb600abed05d543f676ed0f5ff37a0 on master.\n. \nCoverage increased (+0.79%) to 84.66% when pulling 1f09fb021bd6b06a9dca9969219236eba4963679 on raf/event-stream-test into bc8bb36f8f2fc08e8efc7cccfea29ec76ea686dc on master.\n. \nCoverage increased (+0.79%) to 84.66% when pulling 1f09fb021bd6b06a9dca9969219236eba4963679 on raf/event-stream-test into bc8bb36f8f2fc08e8efc7cccfea29ec76ea686dc on master.\n. \nCoverage remained the same at 84.66% when pulling 5a25e247aa527e60b1eadb1d041e55534a283c85 on sbinet:use-x-net into ca9a9f3a62b833f21458fc2509d15e0b7745e120 on hybridgroup:master.\n. \nCoverage decreased (-0.13%) to 84.53% when pulling 09e095560f43933961a92f953f107e5426e671c1 on stengaard:sysfs-seek into ebf36af9d6c4d62595adb4e600d3280bd0aeaa18 on hybridgroup:master.\n. \nCoverage remained the same at 76.008% when pulling 61201913b170a87142fd43a8a797ce29c59bde18 on jeromefroe:arduino-temp36 into d317e7c407de0ddd34e618fe4542a945e8a06a00 on hybridgroup:dev.\n. \nCoverage decreased (-0.2%) to 76.857% when pulling 9c56dab09b5b5814b5ec42deb10ff385b30d6dc9 on ranjib:dw_on_off into 50ea4143f9ae9e11a7cdc5144e9856f0693123f0 on hybridgroup:dev.\n. \nCoverage decreased (-0.08%) to 69.25% when pulling 977c878a8b3fe584d2c3852e8ad0477ad2c7ad6a on dgryski:gosimple into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage remained the same at 69.334% when pulling f131a82e695c2614522a0eb721a595fef1b363ee on dgryski:bebop-bool-binarywrite into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage remained the same at 69.334% when pulling a8ea32ce562e974aefd22c4dfefff89fcbea5877 on dgryski:misspell into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage remained the same at 69.334% when pulling b5083e67d36eb66c6fd947b007f42094cca8b3d8 on dgryski:interface-assertions into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage decreased (-0.05%) to 69.285% when pulling f6920ab65c48f88befc651fa16a35826d628742d on alytvynov:dev into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage remained the same at 69.334% when pulling e65048e795bf12d1485c747dc8aa980223d372d2 on dgryski:go-vet into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage remained the same at 69.334% when pulling e65048e795bf12d1485c747dc8aa980223d372d2 on dgryski:go-vet into 67ff7da9e3bd7ae9adc54dd89a533ab4c1a557c4 on hybridgroup:dev.\n. \nCoverage increased (+0.2%) to 69.404% when pulling dcb6354b49dab7c4016bd9e648ba8271d327c8a8 on caledhwa:platform-nats into 913e9371a7a16990f13c639e120d7ea874975dc2 on hybridgroup:dev.\n. \nCoverage increased (+0.2%) to 69.47% when pulling 7cdd995d1cf34b04f7353bc22382cb6e68098d99 on caledhwa:platform-nats into 913e9371a7a16990f13c639e120d7ea874975dc2 on hybridgroup:dev.\n. \nCoverage remained the same at 69.47% when pulling 5086b2a0d5b2da43172c4c09bba3d990a442cbc3 on losinggeneration:servo_config into fc31d4e3c29ad3cd565146654fecad2b80854974 on hybridgroup:dev.\n. \nCoverage increased (+0.2%) to 69.693% when pulling f4d5651d8f2d45e5e46bb8188f81253b18bc547e on losinggeneration:servo_config into fc31d4e3c29ad3cd565146654fecad2b80854974 on hybridgroup:dev.\n. \nCoverage increased (+0.2%) to 69.693% when pulling f4d5651d8f2d45e5e46bb8188f81253b18bc547e on losinggeneration:servo_config into fc31d4e3c29ad3cd565146654fecad2b80854974 on hybridgroup:dev.\n. \nCoverage increased (+0.2%) to 69.693% when pulling f8be611424dbbd4d59e9c20871e9d9d1faa66144 on losinggeneration:servo_config into fc31d4e3c29ad3cd565146654fecad2b80854974 on hybridgroup:dev.\n. \nCoverage remained the same at 69.693% when pulling 3b6bf4da745608befb2cdb5b80a7bc0d62d27075 on ericho:edison-gobot-as-library into 64d520c75601bf159fc1bb51a2e1eb93a712a860 on hybridgroup:dev.\n. \nCoverage remained the same at 69.693% when pulling 1b8212ebcfa338a25c5941d4872c5502e1589783 on yurigorokhov:megapi_motors into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on hybridgroup:dev.\n. \nCoverage remained the same at 69.693% when pulling 1b8212ebcfa338a25c5941d4872c5502e1589783 on yurigorokhov:megapi_motors into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on hybridgroup:dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling 290b165d10b5a42ee89488eb4b4553b92a14b8ff on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling e4d38d5419ddf7556f5a9ddebd055d29874130f6 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling db46ed328f3f69570667f33fb0a3475deb51db21 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling db46ed328f3f69570667f33fb0a3475deb51db21 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling db46ed328f3f69570667f33fb0a3475deb51db21 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling db46ed328f3f69570667f33fb0a3475deb51db21 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling 66f666c90ae433b38c0670c7295eb0d8c7b79011 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling 66f666c90ae433b38c0670c7295eb0d8c7b79011 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling 66f666c90ae433b38c0670c7295eb0d8c7b79011 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.858% when pulling 66f666c90ae433b38c0670c7295eb0d8c7b79011 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.906% when pulling ba1c538d8c917c895ed1b896bc670d0927ce42c9 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.906% when pulling ba1c538d8c917c895ed1b896bc670d0927ce42c9 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.8%) to 68.906% when pulling ba1c538d8c917c895ed1b896bc670d0927ce42c9 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.1%) to 69.558% when pulling 8ca8d5a4c9f46832dfd57735f33e3255b1f59d73 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.1%) to 69.558% when pulling 5b8a9dbd7b4f3672449e40dbce7f841b10705b34 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.1%) to 69.558% when pulling da0e5e7842b7d5d392f35dc3f5ed4e454e06a822 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.1%) to 69.558% when pulling da0e5e7842b7d5d392f35dc3f5ed4e454e06a822 on feature/event-handler-channels into fe057ba6bf2b3061f440f82f6231e3ca9493cbdd on dev.\n. \nCoverage decreased (-0.5%) to 69.192% when pulling 8a4e5a6771745bb7feb60804d139a03d305bb320 on jfinken:dev into afeddde39fc19cb6b9d3c8fac426133d497130af on hybridgroup:dev.\n. \nCoverage increased (+1.0%) to 70.654% when pulling 409cdfb0412a7349aa94ddb88b372c18d0230a87 on jfinken:dev into afeddde39fc19cb6b9d3c8fac426133d497130af on hybridgroup:dev.\n. \nCoverage decreased (-0.005%) to 69.688% when pulling 5d156f9a6c29cdc2fbe32e61505172505845d2c0 on ericho:remove_i2c_debug_message into dfb9dfea51c6c5b849324ba2975f0c874c4b117a on hybridgroup:dev.\n. \nCoverage decreased (-0.08%) to 69.603% when pulling bc56a9cacdf0ac2ed8cbdb769a7c7948d3427a7a on th002:dev into 7f153da14b212793557a06311842f6f1eefc7d5e on hybridgroup:dev.\n. \nCoverage increased (+0.04%) to 69.725% when pulling 05f7c872e1e3faa0f3c3f367144f15a3acf3efeb on th002:dev into 7f153da14b212793557a06311842f6f1eefc7d5e on hybridgroup:dev.\n. \nCoverage decreased (-0.01%) to 68.656% when pulling ac5c501f40357e5c6b0d20328a65a15d7166cd4c on devfubar:feature/edison-other-boards into a25aa79c88fe3c6fcedcdc570d3872fc1ef82b7f on hybridgroup:feature/edison-other-boards.\n. \nCoverage decreased (-0.01%) to 68.656% when pulling ac5c501f40357e5c6b0d20328a65a15d7166cd4c on devfubar:feature/edison-other-boards into a25aa79c88fe3c6fcedcdc570d3872fc1ef82b7f on hybridgroup:feature/edison-other-boards.\n. \nCoverage remained the same at 68.205% when pulling d2fd378d00f142252c7543529b4f89cbeb193d5d on radovskyb:patch-1 into 79e787d516c9c52278a7e22d3c9e6cb6eb857c5c on hybridgroup:dev.\n. \nCoverage remained the same at 68.205% when pulling d2fd378d00f142252c7543529b4f89cbeb193d5d on radovskyb:patch-1 into 79e787d516c9c52278a7e22d3c9e6cb6eb857c5c on hybridgroup:dev.\n. \nCoverage remained the same at 69.066% when pulling 90c0fcc5529aaaa3cfc360df20f6f7466610152c on radovskyb:master into 0999c23207fe8cd7ffae1d18685110bd1d8bb226 on hybridgroup:master.\n. \nCoverage remained the same at 68.205% when pulling 6c93f492c705d5e42896fabefd0b5a3ed39c655b on radovskyb:dev into 79e787d516c9c52278a7e22d3c9e6cb6eb857c5c on hybridgroup:dev.\n. \nCoverage decreased (-0.1%) to 67.909% when pulling bf4b74cb5746ca90f01d02d3e8b1fa08befe47b4 on devfubar:feature/edison-sparkfun into 54d9b161417e4b329dc27070d460936be35ba444 on hybridgroup:dev.\n. \nCoverage decreased (-0.05%) to 67.953% when pulling bbf0b36a91f8e23c7a01df97aa053a2a0f690088 on wfernandes:dev into 54d9b161417e4b329dc27070d460936be35ba444 on hybridgroup:dev.\n. \nCoverage increased (+0.7%) to 68.7% when pulling facc7e5ae1c7478548b21b55a9890278d59405eb on wfernandes:test-fixing into 54d9b161417e4b329dc27070d460936be35ba444 on hybridgroup:dev.\n. \nCoverage increased (+0.7%) to 68.7% when pulling facc7e5ae1c7478548b21b55a9890278d59405eb on wfernandes:test-fixing into 54d9b161417e4b329dc27070d460936be35ba444 on hybridgroup:dev.\n. \nCoverage increased (+1.3%) to 70.079% when pulling 7eb7d875ebe7cfabc3b9be6858061eaf204fc0f9 on wfernandes:dev into 9faf9eb52a5fb57bb0ff654b69ef5d9d04d356b3 on hybridgroup:dev.\n. \nCoverage increased (+1.3%) to 70.079% when pulling 39eb212e35c4b1d8195dd0d80b920e931d046437 on wfernandes:dev into 9faf9eb52a5fb57bb0ff654b69ef5d9d04d356b3 on hybridgroup:dev.\n. \nCoverage increased (+1.3%) to 70.079% when pulling 39eb212e35c4b1d8195dd0d80b920e931d046437 on wfernandes:dev into 9faf9eb52a5fb57bb0ff654b69ef5d9d04d356b3 on hybridgroup:dev.\n. \nCoverage decreased (-0.1%) to 69.91% when pulling 91cc0c42997c39191a5929a11c6f07ccf2c63112 on feature/multierrors into a93bc5f0fabf3555a5985b6d2bf50af14e84787f on dev.\n. \nCoverage decreased (-0.009%) to 69.9% when pulling 12596bfcfdb5ab16ef1741567936de5b0ca23d46 on wfernandes:minor-fix into 370b296651a03e22c36584a937a4190eceb41d3c on hybridgroup:dev.\n. \nCoverage decreased (-0.009%) to 69.9% when pulling 12596bfcfdb5ab16ef1741567936de5b0ca23d46 on wfernandes:minor-fix into 370b296651a03e22c36584a937a4190eceb41d3c on hybridgroup:dev.\n. \n\nCoverage decreased (-1.3%) to 68.555% when pulling d09dc7bb21737eb8fdc5358826dc8f67100dfd68 on JohannWeging:feature/platform/gopigo into 388c2de942f88a70f5c0af77ba45f695286096a1 on hybridgroup:dev.\n. \n\nCoverage remained the same at 69.9% when pulling 17c6a16d51fa95cbe96bcd466fe42179b8c72653 on wfernandes:update-chip-readme into 0cb944f7e7de19a0ced5abdf7a1af2369e07e084 on hybridgroup:dev.\n. \n\nCoverage increased (+0.05%) to 69.992% when pulling edc46a6558cda4830c3ed760bec14448ef96ebce on feature/chip-44 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage increased (+0.05%) to 69.992% when pulling edc46a6558cda4830c3ed760bec14448ef96ebce on feature/chip-44 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage decreased (-0.02%) to 69.918% when pulling 37882b17f5842cd3b6abe8cf073875bbfd84a7e4 on feature/beaglebone-4 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage decreased (-0.2%) to 69.71% when pulling 50394b6f5ab357fcb8536e418bfcb970365b06a7 on feature/beaglebone-4 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage decreased (-0.2%) to 69.71% when pulling 50394b6f5ab357fcb8536e418bfcb970365b06a7 on feature/beaglebone-4 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage decreased (-0.3%) to 69.664% when pulling 50394b6f5ab357fcb8536e418bfcb970365b06a7 on feature/beaglebone-4 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage decreased (-0.3%) to 69.664% when pulling 50394b6f5ab357fcb8536e418bfcb970365b06a7 on feature/beaglebone-4 into 4ef57b6d7228577d6435ff4084601ffaad5a2abe on dev.\n. \n\nCoverage remained the same at 70.175% when pulling 0ce6ba645f242a11ed270fbeeeacce740d3cd197 on elopio:patch-1 into ecb03b64e1dc53ece3550090dc7049f7665e93d1 on hybridgroup:master.\n. \n\nCoverage remained the same at 70.175% when pulling 0ce6ba645f242a11ed270fbeeeacce740d3cd197 on elopio:patch-1 into ecb03b64e1dc53ece3550090dc7049f7665e93d1 on hybridgroup:master.\n. \n\nCoverage remained the same at 70.175% when pulling 0ce6ba645f242a11ed270fbeeeacce740d3cd197 on elopio:patch-1 into ecb03b64e1dc53ece3550090dc7049f7665e93d1 on hybridgroup:master.\n. \n\nCoverage increased (+0.07%) to 70.244% when pulling e3fa891e4f1c68e0f411d2324481a7cffb7360f9 on elopio:driver-bmp180 into ecb03b64e1dc53ece3550090dc7049f7665e93d1 on hybridgroup:master.\n. \n\nCoverage increased (+0.04%) to 69.921% when pulling dd068d379c567caf0faedc0ae024fe593a730980 on elopio:driver-bmp180 into 3dd9e0af047d12d77d00f90f81fcc9481b26bba7 on hybridgroup:dev.\n. \n\nCoverage increased (+0.04%) to 69.921% when pulling dbbec9ff4f1d61759196f4a4520c7b322a87b7b9 on elopio:driver-bmp180 into 3dd9e0af047d12d77d00f90f81fcc9481b26bba7 on hybridgroup:dev.\n. \n\nCoverage decreased (-0.2%) to 69.98% when pulling c9eb50285f41f3730b7477b1eb7c4a0f0bb989e2 on elopio:l3gd20h into ecb03b64e1dc53ece3550090dc7049f7665e93d1 on hybridgroup:master.\n. \n\nCoverage decreased (-0.1%) to 69.774% when pulling eb54ce864bee091bb76d0e840aec117d9e319c6e on elopio:l3gd20h into 12a6d4dda6da85b81981069c2e076e7eddab27fa on hybridgroup:dev.\n. \n\nCoverage decreased (-0.04%) to 69.88% when pulling 0a34fd1b0235adee71609b9185bdbf26620a4afd on elopio:l3gd20h into 12a6d4dda6da85b81981069c2e076e7eddab27fa on hybridgroup:dev.\n. \n\nCoverage increased (+0.5%) to 70.375% when pulling 2fde08fbf1173af0cc37c9691b9a10cba25bbf33 on schmidtw:dev into 7f9062d0ba256db0b5f0a3f0f944d353e9bd2b65 on hybridgroup:dev.\n. \n\nCoverage increased (+0.04%) to 70.315% when pulling 2658ac1a862270a1c5e260b60a4443d7b663dac8 on elopio:snapcraft into e0ccab8f2ec7bf00f79367db9bcd544eb3b2d80c on hybridgroup:dev.\n. \n\nCoverage decreased (-0.2%) to 70.151% when pulling 32e99599687ff77a703263d2e443a6a1a60d498a on erkkah:fix-chip-4.4.13 into 5b337ac2fe4b82d48049212cafaebf75173111d1 on hybridgroup:master.\n. \n\nCoverage decreased (-0.1%) to 70.194% when pulling 32e99599687ff77a703263d2e443a6a1a60d498a on erkkah:fix-chip-4.4.13 into 5b337ac2fe4b82d48049212cafaebf75173111d1 on hybridgroup:dev.\n. \n\nCoverage decreased (-0.5%) to 69.905% when pulling 9f0bc79dc247b66310e74cbc3b76196e8fe7424a on durgeshm:bugfix/bb8-collision into bc857d5cc71c6443b4551aa5186982dfd57bb482 on hybridgroup:dev.\n. \n\nCoverage decreased (-1.5%) to 67.992% when pulling 09142c55ee8a13a6fdfbb5b2bfad213b80d4d32b on erkkah:better-i2c into 3daa17dd99916c36bc29018d8f985da1e19321d6 on hybridgroup:dev.\n. \n\nCoverage decreased (-1.5%) to 67.923% when pulling 398663a20003341483ab3fee0eda85c69945051c on erkkah:better-i2c into 3daa17dd99916c36bc29018d8f985da1e19321d6 on hybridgroup:dev.\n. \n\nCoverage remained the same at 70.315% when pulling b8b5f56051ec79ec4f8b8653aa35e9498e80e08c on martinlindhe:typo into 5b337ac2fe4b82d48049212cafaebf75173111d1 on hybridgroup:master.\n. \n\nCoverage remained the same at 70.315% when pulling a51553453ced22be80f583bb55665143acc8f3a8 on elopio:snap-go1.7 into 5b337ac2fe4b82d48049212cafaebf75173111d1 on hybridgroup:master.\n. \n\nCoverage decreased (-0.03%) to 71.058% when pulling 4c74d03eecde617c186d42813e1ea31e74190fb4 on zenbulabs:nats-adaptor-tls-support into 3407c88d7b83a35dd15cd4b02a5ebd78dd85c2bd on hybridgroup:dev.\n. \n\nCoverage decreased (-0.03%) to 71.058% when pulling 4c74d03eecde617c186d42813e1ea31e74190fb4 on zenbulabs:nats-adaptor-tls-support into 3407c88d7b83a35dd15cd4b02a5ebd78dd85c2bd on hybridgroup:dev.\n. \n\nCoverage decreased (-0.03%) to 71.058% when pulling 4c74d03eecde617c186d42813e1ea31e74190fb4 on zenbulabs:nats-adaptor-tls-support into 3407c88d7b83a35dd15cd4b02a5ebd78dd85c2bd on hybridgroup:dev.\n. ",
    "nordicdyno": "Maybe, I'm not sure. You could choose right way probably better than me\n. ",
    "ninetwentyfour": "@zankich should be all fixed up now.\n. My bad! That's what copy/paste gets me. Should be all good now.\n. ",
    "yuhki50": "Thanks!\n. ",
    "rkirkendall": "It does fix the issue. Thanks.\n. ",
    "strongh": "@zankich np! The squashing seems successful.\n. ",
    "tangsoft": "@zankich thanks, it works now.\nadditionally, i have to wait about half a second before sending a request to sphero like this, especially when you want send several requests sequentially:\ntime.Sleep(500 * time.Millisecond)\nby the way, is there any plan you guys will implement a full set of sphero API 1.5?\nat the same time, i have a suggestion, since there are more than one DID, shall we have one more parameter pass to craftPacket func? for example when I want to get power state, i have to send request virtual device 0x00, not 0x02.\nfunc (s *SpheroDriver) GetPowerState() []uint8 {\n189         return s.getSyncResponse(s.craftPacket([]uint8{}, 0x00, 0x20))\n190 }\nfunc (s SpheroDriver) craftPacket(body []uint8, did byte, cid byte) packet {\n249         packet := new(packet)\n250         packet.body = body\n251         dlen := len(packet.body) + 1\n252         packet.header = []uint8{0xFF, 0xFF, did, cid, s.seq, uint8(dlen)}\n253         packet.checksum = s.calculateChecksum(packet)\n254         return packet\n2014/07/26 10:46:10 Starting work...\nChassisID is [255 255 0 1 3 0 4 247]\nCurrent DeviceMode is [255 255 0 2 2 1 250]\nVersioning is [255 255 0 3 9 1 3 1 3 59 51 23 6 96]\nPowerState is [255 255 0 4 9 1 2 3 33 0 43 6 63 91]\n2014/07/26 10:46:22 Sphero Changing Direction 306\nGetRGB is [244 2 197]\nSetRGB is 37 196 9\nPowerState is [255 255 0 8 9 1 2 3 28 0 43 6 73 82]\n2014/07/26 10:46:32 Sphero Changing Direction 69\nGetRGB is [37 196 9]\nSetRGB is 47 163 34\n. @zankich cool. let me close this case at first.\n. fix a missing argument, pls try to build it one more time.\n. This time it seems being well in Travis CI build.\nAll though it is first time I make commit in github, let me know if anything else I need to do.\n. ",
    "nathany": "Thanks @zankich. Let me know how I can help. We are planning a Sphero hacking Go meetup on August 25th. https://github.com/edmontongo/presentations/issues/11\n. @solojavier To start I think I'd like to just add a well-documented API that matches the raw Sphero driver. We can always make an easy version later once we find the right settings. Maybe something like this to start?\ngo\nfunc (s *SpheroDriver) ConfigureCollisionDetectionRaw(xt, xSpd, yt, ySpd, deadTime uint8)\nfunc (s *SpheroDriver) DisableCollisionDetection()\nI'd still like the defaults to apply if nothing is set, so I need to take a closer look at the code to ensure that works. Happy to send a pull request.\nI'm debating whether deadTime should be a time.Duration up to 2550ms that gets converted. Maybe just in the easy version?\n. I added a commit to https://github.com/hybridgroup/gobot/pull/93, but I'm not entirely happy with the solution yet. The ConfigureCollisionDetectionRaw() call needs to be within the \"work\" function. If it's earlier on the defaults override it. \nI could tuck the values away to be sent to the Sphero when Start is called.\n. Or  maybe there could be no default collision sensitivity, which just leaves the settings as they were before (afaik).\n. Thanks.\n. I don't recall. It's been a while since i've used my Sphero for anything. Happy to close the issue though.\n. Tested with 0.7.x dev 30dc0f68016206917d286ee5d88d8659f5434894 and 0.6.2 86e32b9e9ea08d83cdec64a3f664f330570bb034.\n. Trying with a Sphero 2.0 (Firmware 3.59) and the issue isn't happening.\nI do see \"resource is busy\" error if the Sphero 2 has gone to sleep. Maybe the Sphero 1.0's were just going to sleep right away? (I'm not sure of the settings, but they weren't fully charged as well).\n. It does happen sometimes with Sphero 2.0 as well. Why does the library panic?\n2014/08/16 20:24:37 Starting connection Sphero on port /dev/tty.Sphero-WOO-AMP-SPP...\npanic: open /dev/tty.Sphero-WOO-AMP-SPP: resource busy\nI suppose I can recover and exit cleanly from my calling code.\n. Using log.Fatal(err) is a little nicer than blowing up with a panic. \nsphero_adapter.go:28\n. But not recoverable by the app like with panic, so maybe the current error handling is best.\nJust not sure if there is any way to avoid the error altogether.\n. Thanks @zankich. Curious to see what you come up with.\n. thanks.\n. sphero_driver_test.go is fairly sparse. I could certainly add more tests before merging.\nWhat's here will probably be sufficient for our hack night on Monday, but perhaps a little more API work should happen before exposing it to others.\n. FYI: I'm working on a fork for our Monday hack night, but I will clean up the code and do a nice pull request later.\nAlso ran into a bug with only receiving partial collision data which I've fixed in readNextChunk.\n. I'll come back to this. \n. thank you.\n. Having trouble getting tests running on OS X. I have libusb installed \nIn file included from platforms/digispark/littleWire.go:4:\n./littleWire.h:34:13: fatal error: 'usb.h' file not found\n   #include <usb.h>       // this is libusb, see http://libusb.sourceforge.net/\nNeed libusb-dev to run all tests which isn't in Homebrew.\n. looks like the issue was resolved (or the test is just flaky)\n. I'm not sure if the original code intended to configure Xt/Xspd at 0x40 and Yt/YSpd at 0x50 like here.\nMaybe the XSpd/YSpd were intended to be 0x50. That would make more sense to me.\n. this checksum code should be moved down to apply to all responses sent to us.\n. now that I have a fix for partial collision data, this shouldn't be needed.\n. ",
    "krylovsk": "I've also encountered some BT connectivity issues with sphero (2.0), but I wouldn't blame OS X/gobot for it. In fact, it works even better than with android (where sometimes I have to re-pair sphero to make it work after sleep).\nPanic is a little bit annoying indeed, but I think it makes sense, at least for the prototyping I did so far.\n. @zankich I don't see a straightforward way to implement tests for this: I just added two simple methods: one configuring the data streaming on sphero, and another one publishing the sensor data into a channel.\n. ",
    "derailed": "Thanks Adrian! Updated the samples per your advise.\n. ",
    "rafmagana": "Yes, I'll do it when I'm done\n. Weird, pretty sure it doesn't have to do with the code, we should run this manually and see what happens.\n. @solojavier @zankich There you have it, it's green, I ran the build manually.\n. @zankich @solojavier so?\n. @zankich This is the reason the build is failing:\n--- FAIL: TestEvery (0.01 seconds)\ntest_helper.go:16: utils_test.go:15: 1 - \"int\", should equal,  2 - \"int\"\nbut I didn't touch anything about that, of course, this is passing locally, any idea?\n. Don't merge this PR yet, I still need to add some things.\n. Sure, I'm on it\n. @zankich  The time the test suite takes to run was increased more than 2 seconds, don't know if that's a problem for Travis because it doesn't say what the problem was, I didn't find another way to test the events stream, I'll check this out tomorrow morning.\n. @zankich a test is failing in Go 1.2, I only tested locally with Go 1.3, so I'm going to install go 1.2 and see what's the problem.\n. @zankich I added another way to test the /events/:event endpoint, I realized that in the first way I did it I was only testing if the value was being sent to the channel not the actual response, in my last commit I test the actual response (and it works with Go 1.2), please, check it out and let me know.\n. ",
    "svanharmelen": "Ow... So it does seem to install OK, it just gives a lot or warnings but no actual errors :smile:\nSo adding the requirement to also run brew install libusb-compat should be enough. Will create a PR for that...\n. ",
    "trevrosen": "In the spirit of solving my own issue, I have been looking into this. It seems that the digitalPins array has a length of 0 at the time that it is being accessed. Still investigating, but feeling like I'm on the right track. \n. Sorry for thrash on this -- realized that I would need to call Connect(), which I would've known if I'd have rtfm'd harder in the first place. :+1: \n. Closing to re-open against dev per contributing guidelines\n. @deadprogram I'm a big fan of this change. I'm also wondering if we shouldn't make the dev branch requirement higher up/bolded/etc to make it more prominent in CONTRIBUTING.md, because you have to read pretty far down to see that and we've had several high-value PRs that were originally opened against master\n@stengaard, I understand that it's been a long time since you've made this PR and you may have moved on to other things. If you'd be so kind as to re-open against dev, I have a feeling that @deadprogram will merge it quickly. If not, we thank you for the contribution anyway and will probably move forward remaking the PR ourselves. In any case, thanks for your interest in and contributions to Gobot!\n. :+1: \nThis would solve issues I've had in making large-scale refactors to the api internal package -- the 80+ goroutines spawned in a normal run of api_test.go make any panic in there annoying.\nNow that we have go test -trace in 1.5, I've traced tests of api_test.go and that's it. I agree with @joushou that this might not make for any kind of huge perf gain (tho it will likely be non-zero), but the big win is easier debugging of stuff that implicates the event system.\n. :+1: \nI'm in favor of this change -- any comment from maintainers?\n. Is the only thing holding this up the failure on 1.2? Do we really care? :smiley_cat:\n. w00t! :smiley:\n. Gobot contains a package called \"gobot\" that is imported throughout the library. For instance, the api package imports it. This package is not standalone and appears to be  a method of code organization. These are frequently called \"dummy packages\" in Go parlance. \nThroughout the Gobot code base, it's imported as a fully qualified path. If you were to fork github.com/hybridgroup/gobot, edits to files in the gobot package won't be picked up in the importing package. \nIn other words, I have to rewrite all instances of \"github.com/hybridgroup/gobot\" to \"github.com/trevrosen/gobot\" in order to make changes. \nThis complicates the PR review/merge process because of the need to be building against the right paths, do a post-merge rename, etc. Different projects handle this in different ways -- I just wanted clarification on how you'd want me to proceed. \nDoes that make sense?\n((It may be desirable to explore relative paths for solving this issue, which would preserve the package as a code organization mechanism, but not treat it as an external dep as is happening now))\n. Yeah if you don't want to do relative paths, the best way is to publish some workflow advice. There's a pretty good suggestion here, which relies on making your fork into a remote on your copy of the original.\nBottom line is that this is totally solvable w/ some workflow stuff, but there are steps that should probably be taken to make it clear to all contributors what to do. I can take a stab at some changes to CONTRIBUTING.md if you like.\n. Derrrp. Accidentally made this for master\n. So... should I close this issue now? :smiley_cat: \n. :+1: \n. :+1: \n. @osiloke have a look at the commits referenced in #216 and you should have a sense of how to get the behavior you're looking for. Thanks for using Gobot!\n. @stengaard can you repro Travis' test failure for the Edison adapter locally?\n. Yeah that would be a regression... :crying_cat_face:  If you can put together a fix, pretty sure @deadprogram would be willing to merge tho!\n. :shipit: \n. @deadprogram happy to help!\n. Shizzam! That was fast! :100: \n. :+1: \nReally happy to see some of this test stuff getting love. This will help me with some long-time goals that I'm woefully behind on. :smiley_cat: \n:shipit: \n. +1 for map to hold this data\n. Any movement on this feature? Looking forward! Please reach out if you happen to require any general help with Go. \ud83d\ude3a \n. :shipit: when \ud83c\udf4f \n. Looks like this test broke, potentially b/c of some kind of ephemeral clock value: https://travis-ci.org/hybridgroup/gobot/jobs/144491653#L727\n@deadprogram I'm thinking that this delay might not be sufficient for the infrastructure Travis is running it on. Just a guess tho, haven't really delved any deeper.\n. Nice! :shipit: \n. Excellent! Really glad to see some work get done in this area. :shipit: \n. Try something like this, but with the Edison adaptor and let me know what happens.\nhttps://github.com/hybridgroup/gobot/blob/dev/examples/beaglebone_basic_direct_pin.go\n. You're basically on the right track, you just need to Connect() the adaptor.\n. @deadprogram if you want to make an issue and assign it to me w/ some details about what you'd like to see and what platforms to cover, I can take on that docs update.\n. @deadprogram this is a monster PR -- any guidance on how I should break it down for review?\n. @deadprogram awesome I'll get into it.\n. @deadprogram I'm still grokking/reviewing, but I like the change so far. I hope that we can come up with a good narrative-style documentation for this so that it gets quick adoption!\n. \ud83d\udc4d this is much more idiomatic and clear. Since it's a breaking change, would you want to take the version to 1.0.0 here? That's what semver compliance would require. That being said, there are probably enough people NOT doing this yet that you might be able to get away with just a minor version bump (i.e. to 0.13.1)\n. Yeah I'd also be hesitant to use currying here. I feel like porting the existing behavior of passing in the name as the constructor's only argument keeps it simple and honors the principle of least surprise.\n@deadprogram I actually think it'd be nice to simplify the function names but keep the behavior of setting the name via the constructor. That would:\n- Lessen the impact of this API change\n- Not rely on directly setting an exported struct attribute, which I'm hesitant to do given that Gobot relies on names to some extent internally (iirc). I.e. it should be done by adding SetName to the interface, IMO. \n. @deadprogram I've got no new additions since we discussed the API earlier. I'm a huge fan of this change and really glad you took the time to do it. Have a squirrel! :shipit: \n. Hi @JohannWeging are you still working on this? Happy to help you get it over the goal line if you're stuck. \ud83d\ude38 . This PR will have a one-year anniversary next month. I humbly suggest it should be closed if no activity by then. \ud83d\ude38 . @deadprogram can we close this out? Selfishly I just want it out of my Trailer.app list... \ud83d\ude08 . @SafaiWeb you can compile on your local machine as long as you're not using any cgo stuff.\nSomething like: GOOS=linux GOARCH=arm7 go build\nThen you can do like file foo and see that foo has been built as an ELF for ARM.\nHope that helps!. @deadprogram just chiming in to say I think this export check is a great idea and something that has bitten me in the past, so I'm excited to see it land on mainline.. @deadprogram this is now (at long last!) ready for review. Once you bless, I'll squash merge so that my out-loud thinking isn't in our Git history... \ud83d\ude3a . Ok cool. I've put together a container locally and am figuring out how Travis works when you're using both a container and testing different versions of Go. Ideally it'd let me just install each supported version of Go myself in different tagged containers, b/c then I could move just about everything except for the test run and style vetting into the image, but I need to play around with it a bit.\nDo you have a DockerHub account for Gobot?. PS I realized after I wrote this original ticket that the lengthy build time was still a lot shorter than every single thing getting installed from scratch. OpenCV is a beast... \ud83d\ude04 . Yay! Happy to contribute. All for the love of robots. :-). This particular piece of the puzzle isn't 100% worked out yet so I'm going to re-open until I can put together the full container and have it leveraged in Travis.. Hi @sachithnalaka per CONTRIBUTING.md please open this PR against the dev branch. Also, please make sure that you've used git rebase -p so you don't accidentally interleave other people's commits into your PR.. I think this was local to my env. . (USA has the Thanksgiving holiday right now so I can\u2019t give this a much attention until the weekend.)\nI\u2019ve been working on a Docker container that I\u2019ll have up soon, but it\u2019s mostly geared toward x86 / CI. Meanwhile I recommend using the build script for opencv in this repo\u2019s root. I can run Gobot\u2019s test suite in a container when I copy that script in to build opencv. \nHope that helps. . Hi @kpeu3i,\nYou won't be able to cross-compile GoCV, as it uses Cgo. You'll need to do an native compile of all components on ARM to achieve your goals.\nSince the compilation of OpenCV works fine in this repo, I'm going to close this issue. Please feel free to open another one if you have trouble getting the existing OpenCV build scripts from this repo to work on ARM.. @kpeu3i you can't cross compile anything that uses cgo. All cgo-implicating Go code must be compiled on the target architecture/OS.. Apologies -- I should've been more specific:\nWhen using cgo, you lose the go build command's support for making it \"just work\". In other words, the \"effortless cross-compile\" feature of Go is gone and you must manage every aspect of the cross compilation process yourself. This means not only setting things like CC_FOR_TARGET to working cross-compilers for each target platform, but also debugging any C-level issues that come up in the cross compilation process.\nUnfortunately, helping you to achieve this goal is well outside the scope of the Gobot and GoCV projects at this time (though we'd be interested in documentation contributions for achieving cross compilation). I would suggest a workflow that involves maintaining parallel projects on your ARM and x86 machines and compiling on ARM to verify that something you've gotten working on x86 also works there.. Merging now that @deadprogram's feedback has been addressed.. @deadprogram I'm good to merge but wanted to check with you on whether this meets the expectations you had in the roadmap.. @ZLXT just to expand on what @deadprogram said, keep in mind that Gobot is a library and there's not a runtime to \"install\". Because Go produces static binaries, your compiled Gobot program is all you need. Something like this:\nGOOS=linux GOARCH=arm7 go build will produce an ARM Linux binary. Hope that helps!. @deadprogram you have a ruling here on whether we tighten the name up before merge?. Thanks for the fix!. I\u2019ve actually wanted to do this for awhile. @deadprogam what say ye? There are a lot of good things we could do with better logging, but I\u2019d want to make sure we deliberate a bit first on the best approach. . #528 might not be the final word here. But I thought it'd be valuable to write something up that helps to start a conversation toward some more intuitive leveled logging.\nI'm thinking that it could be interesting to have the platforms (even maybe drivers?) adopt a convention for leveled logging such that there's always log in scope. \nHonestly it could make sense to have this just be dot imported into gobot as long as the resulting API is small enough.... Addressed by #526  -- thanks for the contribution!. :shipit: . @FerventGeek please have a look here when you get a chance and let me know if this is what you have  in mind or if you'd like to see further extension. Also: as we appear to have the same employer, feel free to get in touch IRL any time re Gobot. \ud83d\ude3a . @deadprogram the thought occurs that we could go a step further and formalize a method of log support at either the driver or platform level. I've got a couple ideas around what that could look like.. @deadprogram any thoughts on whether we should continue w/ merging here? I'll update to fix the deps conflict if so. I'd also like to squash merge this one if possible due to my own vain desire to keep some of my derping around from the log and reduce noise \ud83d\ude03 . Closing. May re-open later.. The PR is closed now after being open for comment for 7 months. I\u2019m not satisfied with the change as it stood anyway. May revisit at some point in the future. . Thanks for the contribution/fix -- LGTM!\n@deadprogram are you OK w/ this going straight to master instead of dev?. Hi @jadr2ddude -- thanks for your interest in Gobot! This is the oldest PR currently open, so you've now become a part of my quest to get to PR Inbox Zero \ud83d\ude04 \nDo we want to:\n\nDeclare an interface for the MTT driver in this PR? \nMerge as-is? \nClose?\n\n@deadprogram lemme know your preference here when you get a chance. Not hard to do the interface route, which is good to have anyway.. @jadr2ddude any update here?. We can re-visit this with a patch for dependency injection, but I'm going to close this particular patch.\nThanks for the effort here, @jadr2ddude  -- happy to collaborate w/ you if you want to take on the dep injection bit here to make this test a little less janky.. Are you wanting to see it as like a middleware in api?. (cc @deadprogram since this is potentially a fairly fundamental discussion)\nWe could think through some middleware-style patterns that let us intercept and recover from a panic in situations where that makes sense. Would need to be configurable, I'd be in favor of offering such an option.\nIt can be argued that the robot work construct in Gobot is very similar to an http.HandlerFunc in the sense that it's a chunk of code whose execution really shouldn't negatively affect the supervisory entity. It's very common practice in Go (and many other langs) to handle exceptions in such a way that a server doesn't terminate but merely logs the issue. See Negroni or grpc-ecosystem's recovery interceptor for examples of recovery concepts in a server context.. Thinking out loud here:\n\n\nWe could start by adding some basic recover-and-log to the Robot work goroutine. This would enable the user to do something with their failure panic traces before the program exits and could be very useful for anyone working with a collection of Robots, especially in some scenario where they're set up to do remote work and an operator wants to collect a mass of diagnostic info.\n\n\nPast that, we could extend with some re-try functionality. This would enable the supervisor function (Robot.Start()) to re-start the Robot.Work function a configurable number of times, logging each crash via the previous functionality. This would be useful in scenarios where failure conditions inside a Robot.Work function are rare or acceptable.. @deadprogram \"metal Gobot\" is basically just directly accessing hardware using provided drivers and connectors, right? If so, yeah I'd not even want to touch that line of use cases here. I'm specifically thinking about making the Robot orchestration concept more robust in the face of specific failure modes. I'll have something whipped up for you to react to this weekend. \ud83d\ude03 . @deadprogram here's a first stab at what recovery support might look like. Things to note:\n\n\nthis is still a work in-progress\n\nA general API improvement here is the addition of support for functional options to Robot. Due to the nature of how NewRobot takes arguments, you add these and then call them with AddConfigFunc() and RunConfigFuncs() after initializing a new Robot.\nRobot now also has a mutex-guarded lastError field that can be set with SetLastError(error). This enables a panicking Work function to note a failure before exit. This isn't super useful right now but 1) it gives me something relatively easy/meaningful to test and 2) it would be very useful if/when we take the next step and implement retries.\nI added a sync.WaitGroup on Robot to make testing of concurrent code possible/easier. As a bonus, this makes it simpler to synchronize other concurrent Go code along w/ a Robot's work.\nThere's a new _gobot_test directory that implements a gobot_test package. There is a single test in there now showing how a user would work with the new config func/panic handler stuff. But this also represents the beginning of some over-all refactoring I'd like to do on some of our tests:\nRemove usage of the gobottest package in favor of the more widely known and capable Testify lib\nLeverage the TestMain function for global init/teardown needs\nTest the gobot package's primary functionality from outside the package itself, helping to enforce some API boundaries.\n\nFurther Discussion/Questions\n\nShould we leave Stop() to be called within the panic handler function itself as I've done in the test or should we take the more restrictive (but possibly more responsible) approach of automatically calling Stop() once the panic handler has executed? This is the key question of this new functionality, IMO.\nHow do we feel about the new WaitGroup support? I think the code as written is fine to keep this from breaking existing instances of Robots people have, but we should double-check before I finalize this into a PR.\nAnything I've missed in this overall approach?. Yes pls update. That behavior with line breaks is due to a recent change in how dep formats lock files and is fine to commit. . Honestly can\u2019t remember if line breaks is the new behavior or the old. Either way if you update your local dep, run dep ensure and commit the resulting lock file, we should be in good shape. I\u2019ll review the PR for unintended version alterations. . @deadprogram not understanding this codecov diff, but if we're fine ignoring that, I'm good to merge.. @deadprogram indeed! Speaking of which you want me to proceed to PR w/ the implementation basically as it stands? Should we talk through some implications for existing installs etc?. @neewbee sorry for my silence on this -- it fell through the cracks. There's a new construct in the dev branch called RobotWork which gives you some external control of the workloads a robot is using. Please have a look at that and let me know (via this thread) whether it gives you the semantics you need to help solve your issue.. Hi @neewbee I believe that this PR may also help you. I'm going to close this issue for now.. The Slack channel (#gobot in Gophers Slack) is the best place to ask these kinds of questions. I'm going to close this now, but hopefully you've figured out your issue. Thanks for your interest in Gobot!. Thanks for the PR!\n\nFYI this Travis fail looks to be an ephemeral build fail that needs addressing at the build level. Landing this.. @deadprogram any objection to me just landing this? \ud83d\ude04 . Thanks for your interest in gobot and apologies for the late reply! Gocv is compatible with both OpenCV 3 and 4. I've attempted to repro your issue on macOS Mojave w/ OpenCV 3.4.5 and I get a fully functional output. With more information on your specific platform, we may be able to help, but I'm going to close this for now. Feel free to pop into #gobot in Gophers Slack if you'd like to discuss in real time.. Yes you should be able to do this with defer and the like.. @vaskoz @deadprogram I think that the correct resolution here is to break out the mappings into separate files. Do we have any idea which model we're supporting in the existing mapping?. @vaskoz the existing Dual Shock 4 mappings work fine for the models we've tested with / used. They were most recently in heavy usage at the GopherCon hack day where we used them to drive RC cars. If you've identified some sub model with a different control set, the solution is to submit a new mapping in a new file per #621. \nI'm therefore closing this for now, but welcome a new PR -- thanks for your interest in Gobot!. This isn't possible with the current driver implementation. There's been some discussion around implementing a generic communications channel that implicates a browser for this kind of thing because then you can leverage DOM events to get these events w/out having to deal w/ cross-platform issues, but there's no plan to alter the current driver to use anything other than stty\nSo because a resolution isn't possible without significant other work, I'm going to close this issue for now. This is the 2nd or 3rd time that this feature has been requested though, so that will factor into roadmap.\nThanks for your interest in Gobot!. @silkeh I'm OK with merging this, but I'd love a bit more context about what's driving the change here and what this is enabling. That info could be usefully captured as documentation on the Vector() method. Apologies for getting to this so late, and thanks for your interest in Gobot!. @silkeh thanks for the patch -- sorry the merge has taken a long time \ud83d\ude22 \n@deadprogram This is purely additive and I see no reason not to merge it, so I'm going ahead.\n. @deadprogram I'm ok w/ these renames. They fix issues I've had myself. Let me know if you want me to hold off on merging.. @eleniums Thanks for the contribution! Finally reviewing here in a minute... \ud83d\ude38 . Nice catch. This wad my bad in the first place... Doh! \ud83d\ude38 . Do we need further work on this issue or can I close?. Hi @andrewebdev thanks for the comment. I believe that such a helper would be outside the intended scope of Gobot, but @deadprogram might have another opinion.\nIf you're interested in finer-grained control, I've added an experimental \"work management\" system for Robots on the dev branch: https://github.com/hybridgroup/gobot/blob/dev/robot_work.go. I'm not aware of a good way to do this because there aren't any good way finding capabilities built into it. No GPS, no LIDAR, etc. It's basically a really really fun toy :-). @deadprogram the QoS is currently hardcoded to 0 in the subscription code and also in the publishing code. I can alter this API to allow a user to set in a variety of ways, but I'm looking to you for your opinion/direction here. For instance, variadic argument added to the function calls would be backwards compatible, but also kind of a hack. We could also add new version of the functions (not a big fan of that idea) or we could just live with a backwards-incompatible change (tho I'm not sure what that does to our semver assertions b/c I'm not certain what's covered by the versioning yet).. yeah that can work as long we we're not looking for per-message granularity. Yeah I tend to agree. Your only other option here would be to setup / teardown multiple clients, which would likely have other issues. \n@deadprogram I think we're down to either:\n\nVariadic arg at the end of the existing function signature\nA totally new function/interface\nAltering the existing function signature (backwards-incompatible change)\n\nLet me know which you prefer and I'll make it happen. I'm currently leaning toward 1 as it solves the current issue and doesn't break back compat.. Yeah honestly it's more about how @deadprogram wants to manage the semver implications of a back-incompat change in this area of Gobot.. I like it. I'll make it happen.. @wieringen check it out and let me know what you think: https://github.com/hybridgroup/gobot/pull/650. @deadprogram I like this patch and am wondering how you want to handle version implications.. @samkass thanks for this patch -- I'm going to merge this as-is and we'll figure out version implications at release time. Sorry for the delay in merging!. @schmorrison thanks for your interest in Gobot, and apologies for getting back late on this. Unfortunately we don't have the bandwidth to help folks debug their individual devices over GitHub. You can always reach out on Gopher Slack in #gobot and frequently there's someone there who'll have some insights.. Thanks for the patch -- this will be helpful to folks in the future for sure.. @Rearth hey thanks for your patch -- I will not have time to review until later in the week.\n@deadprogram have you been able to take a look?. Thanks for the work here @Rearth -- glad to see this patch!. @chmorgan apologies for the late reply -- something weird is going on w/ my GitHub notifications. Merging. Thanks for your patch and your interest in Gobot!. Hi there! There are several examples of using the Tello driver in our examples directory. Unfortunately we don't have the bandwidth to help you debug your Java code. :-( . There are multiple sub-models of that controller, but since you're on a Mac you might want to give the JSON config a shot. We had mapping problems specific to macOS at the hack day during the last GopherCon and had to do this for Dualshock 3, so give the same a shot for Dualshock 4 and see if that gets you there: https://github.com/hybridgroup/gophercon-2018/blob/master/drone/tello/step5/main.go#L34. I like capturing this kind of thing in a constant.\n. Doc here seems incorrect, since Event returns a string\nAlso wondering if maybe Event shouldn't be GetEvent or something to match up as an obvious companion with AddEvent.\n. Caveat for all this feedback: I need to get all my Gobot knowledge back into a higher-lvl mental cache than it's in right now, so please forgive me if some of this comes across as a bit out-of-date or ignorant.\nIf I want to delete an event, it would seem that right now I would just call AddEvent in such a way as to force a key collision and reset the value in the map. I suggest having DeleteEvent for removing a key and to make AddEvent throw an error if you try to add one with the same name. Does that make sense for what you're trying to achieve with this interface?\n. Comment string?. Comment string?. A little doc for this struct would be helpful. A little doc for this struct would be helpful. A little doc for this struct would be helpful. A little doc for this struct would be helpful. I'm not dead-set against that, but in most Go code that takes a context, the context is usually passed as the first arg by convention. This still leaves the time.Duration and the func() next to each other -- potentially it's more confusing to have those two split by the new var in the signature, no?. \ud83d\ude3a I tried to basically follow how it works in the stdlib. Here's an example: https://tip.golang.org/pkg/net/#Dialer.DialContext. ",
    "campoy": "Related to this, I won't be finally using the library, the main reason being lack of documentation in the code.\nAre you planning on fixing this? If you did I'd love to contribute reporting/fixing bugs\n. ",
    "Bazmundi": "@zankich I get the idea of cross compilation etc.\nI succumb to following the guidance at http://gobot.io/documentation/platforms/beaglebone/\nAre you actually telling me that the guidance is out of date?\n. @zankich yep tried your suggestion.  First attempt timed out exit status 128 .  Timed out against git-upload-pack.\nRan command line a second time to get the same error I reported in the first place (SYS_LOCAL etc.)\n. Sorted problem by ripping out everything and re-installing.\n. Never mind, I found the mapping in the BBB manual.  So it appears the demo expects you to add an LED does it?  It doesn't appear to be using the USER LED so why wasn't the need to add an LED mentioned?  What change does one make to get one of the USER LED to blink?\nLooks like the \"offending\" code is in beaglebone.go.  It doesn't appear to break out the USER LED.  So question is the pin numbers are numeric in the code,  the ball numbers on the chips are alphanumeric (A1 etc.).  Do the numeric pin numbers in var pins = map[string]int{} map to the alphanumeric ball numbers with some simple algorithm?\n. @zankich thanks, first week of my Master's Dissertation so I will take a break this coming weekend to try the changes out and get back to you.\nThanks again.\nCheers,\nB\n. Smoke'm if you've got'em.\nI got a \"panic: Not a valid pin result\"\nHowever, I am new to go and go building and I think I am still picking up the original install.  \nSo, leave it with me, I need to muddle through this new build approach anyway.\nCheers,\nRay\n. Not sure this helps.\nStill vague on the building side.\n\"go get\" et all seemed not to want to pull from the /tree/dev from git source on web so I downloaded the zip copied the dev directory contents over the gobot directory under GOPATH. \nRan:\ngo get github.com/hybridgroup/gobot && go install github.com/hybridgroup/gobot/platforms/beaglebone\nThe second line I modified because it wasn't working and I assumed this would pick up the platform changes you added to dev (which was copied over gobot in GOPATH).\nThen built.\nInstalled on bbb and got:\nopen /sys/devices/ocp.3/gpio-leds.8/leds/beaglebone:green:usr0/brightness: no such file or directory\nThat is better than panic?  grimace\nI think I have  a bit of work to develop an understanding of the building so if you're happy to muddle through with me great.  Otherwise I may actually hinder :(\nCheers,\nRay\n. Cold trail?\nAnyone else?\nWhat is the best way to go about this?  Should I clean out all of the gobot installations and start clean with the dev branch?  I am assuming the go caching mechanism was stopping me from picking up the dev (somehow)?\nIf so, how would I modify the following line?:\ngo get github.com/hybridgroup/gobot && go install github.com/hybridgroup/platforms/beaglebone\nWill it be as straight forward as?:\ngo get github.com/hybridgroup/gobot/tree/dev && go install github.com/hybridgroup/platforms/beaglebone\nCheers,\nRay\n. Yes of course I will help.  Though I might be slow responding as ferociously working on Dissertation.\nI will try the steps out this coming weekend here in sunny Adelaide Oz.\nIn the meantime.  The software I am running is the out of the box Angstrom.\nHappy to sort another linux so don't be afraid to ask if that is the problem. \n. @zankich Great!  Thanks.  I am happy that my muddling may have helped.  Thanks for the insight into the go getting aspect.  I am with my morning coffee and will walk through your suggestion to double check in any event - just to make sure my back door antics wasn't the cause any glitches.\n. @zankich All good.  I have caffeine, improved knowledge of go building and cross compiling for bbb, and also confirmed no hidden glitches.  Same issue with:\nopen /sys/devices/ocp.3/gpio-leds.8/leds/beaglebone:green:usr0/brightness: no such file or directory\n. Yep, so I created a Debian SD card and, go figure, having trouble with SCP sending the blink executable from windoze host to BBB.  Will update once I have sorted that problem.\nUpdate. Yep. I took out the SD card and fell back to angstrom and I can scp the blinking file but once I run from Debian on SD card scp doesn't seem happy.  Some \"bug\" reports on the issue on web so still sorting that :(\n. Yep.  Sorted upload to BBB running Debian.  I can't, for some dang reason, use scp from cygwin shell - which is coincidentally what I do for the Angstrom.  \nHowever, if I use my Tera Term I can SSH SCP transfer fine to the Debian (running off SD) and when I run the file the user LED is blinkingwell blinking!\nI really should re-bomb my BBB with Debian but I will leave it as Angstrom if you like while you sort the Angstrom patch.\ncheers\nB\n. @zankich Well, thanks for your good work.\n. If you want to use csp-like processes and channels you can always use a Pi port of erlang at: https://www.erlang-solutions.com/about/news/erlang-embedded-raspberry-pi-video-tutorials \nhttps://www.youtube.com/watch?v=HjbNyA1ASkE \n. ",
    "golangdaddy": "Thanks for the help, I got firmata uploaded via the arduino IDE. I managed to run my Go test program successfully afterwards.\n. Thanks for your reply. I tried checking with a sketch but it's not gobot so I dont know how to tell whether it's working because I have no feedback on the Arduino IDE telling me whether input is triggered. It didn't work but that's not conclusive enough, I will have to play around, I tried loading other firmata versions but they all panic with the code I was using.\nI might just have to order a UNO asap.. I'm very sure I should have got some input events triggered with all of the circuits i built, ports and combinations i tried.\nThanks again\n. Thanks have ordered one. Should have properly read the gobot page. I'm sure\nthe Due will be usable in the future however.\nOn 2 October 2014 02:52, Adrian Zankich notifications@github.com wrote:\n\n@golangdaddy https://github.com/golangdaddy If you purchase an uno,\nthen Gobot will definitely work with no issues. RadioShack sells them, so\nif you have one near your house you can pick one up lickety split!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/116#issuecomment-57564773.\n. \n",
    "1am": "Thank you.\n. ",
    "gmlewis": "Weird!  OK, thanks.  I installed it manually.\nCool that you are already on Travis... glad to hear it.\nOK, closing issue.  Thanks again.\n. ",
    "nzmichaelh": "@zankich +1 to your sysfs branch.  Looks pretty good.  Note that the hw id (as in 'echo 123 > .../gpio/export') may be different to the exported pin path (such as '/sysfs/class/gpio/pioC17').  See http://acmesystems.it/pinout_arietta and click on a pin for an example.\nI'll look at mocking out the sysfs access to get decent test coverage.\n. @zankich I created a filesystem interface and mock to catch the sysfs accesses.  If you're happy with the design then I'll add more Arietta tests.\nI'm not to happy with the name 'internal', but I didn't want the Filesystem interface to leak into the Gobot API.\n. Done.  PTAL.. Hi @deadprogram thanks for the response!  I'm happy to change On(payload) to be On(topic, payload).  Its a breaking change to the API, but if you're happy with that then I'm happy with that.. Done, PTAL.  The NATS patch is in #409.. Hey @deadprogram.  Yip, LGTM.  Working on it now.. Done.  PTAL.  I'll update the NATS branch after this is merged.. Thanks!  I spotted the README but not the examples :). Hi @deadprogram.  All done.  PTAL.. ",
    "BooneJS": "I should add that the connection opens as far as OS X is concerned; if I don't ctrl-c blink.go when it hangs on Starting connection arduino, the Arduino IDE hangs when it tries to upload a binary.\n. Ahh, I was not! I uploaded \"StandardFirmata\" from the Arduino IDE and now gobot's example_blink.go works. I misunderstood how gobot works; it compiles and runs continuously over the USB cable whereas sketches get uploaded. Much appreciated!\n. ",
    "AndersonTaylor": "go install github.com/hybridgroup/gobot/platforms/opencv\nseems to have stopped the warnings.  But still getting the crashes.\n. ```\nexamples anderson$ ./opencv_window\n2014/11/15 11:15:57 Initializing Robot cameraBot ...\n2014/11/15 11:15:57 Initializing devices...\n2014/11/15 11:15:57 Initializing device window ...\n2014/11/15 11:15:57 Initializing device camera ...\n2014/11/15 11:15:57 Starting Robot cameraBot ...\n2014/11/15 11:15:57 Starting connections...\n2014/11/15 11:15:57 Starting devices...\n2014/11/15 11:15:57 Starting device window...\n2014/11/15 11:15:57 Starting device camera...\n2014/11/15 11:16:01 Starting work...\nruntime/cgo: pthread_create failed: Resource temporarily unavailable\nSIGABRT: abort\nPC=0x7fff87e23282\ngoroutine 0 [idle]:\ngoroutine 16 [chan receive]:\ngithub.com/hybridgroup/gobot.(*Gobot).Start(0xc20803e040)\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/gobot.go:68 +0x8f\nmain.main()\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/examples/opencv_window.go:28 +0x39c\ngoroutine 19 [finalizer wait]:\nruntime.park(0x4016030, 0x421f3c0, 0x4202269)\n    /usr/local/go/src/pkg/runtime/proc.c:1369 +0x89\nruntime.parkunlock(0x421f3c0, 0x4202269)\n    /usr/local/go/src/pkg/runtime/proc.c:1385 +0x3b\nrunfinq()\n    /usr/local/go/src/pkg/runtime/mgc0.c:2644 +0xcf\nruntime.goexit()\n    /usr/local/go/src/pkg/runtime/proc.c:1445\ngoroutine 20 [syscall]:\nos/signal.loop()\n    /usr/local/go/src/pkg/os/signal/signal_unix.go:21 +0x1e\ncreated by os/signal.init\u00b71\n    /usr/local/go/src/pkg/os/signal/signal_unix.go:27 +0x32\ngoroutine 17 [syscall]:\nruntime.goexit()\n    /usr/local/go/src/pkg/runtime/proc.c:1445\ngoroutine 21 [chan receive]:\ngithub.com/hybridgroup/gobot.(*Event).Read(0xc20803e080)\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/event.go:37 +0x6d\ngithub.com/hybridgroup/gobot.func\u00b7001()\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/event.go:21 +0x33\ncreated by github.com/hybridgroup/gobot.NewEvent\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/event.go:23 +0xe2\ngoroutine 23 [chan receive]:\ngithub.com/hybridgroup/gobot.func\u00b7011()\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/utils.go:17 +0x4e\ncreated by github.com/hybridgroup/gobot.Every\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/utils.go:20 +0x9e\ngoroutine 753 [syscall]:\ngithub.com/hybridgroup/go-opencv/opencv._Cfunc_cvGrabFrame(0x7823990, 0x0)\n    github.com/hybridgroup/go-opencv/opencv/_obj/_cgo_defun.c:548 +0x31\ngithub.com/hybridgroup/go-opencv/opencv.(*Capture).GrabFrame(0x7823990, 0x0)\n    /Users/anderson/go/src/github.com/hybridgroup/go-opencv/opencv/highgui.go:486 +0x27\ngithub.com/hybridgroup/gobot/platforms/opencv.func\u00b7002()\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/platforms/opencv/camera_driver.go:46 +0x4b\ncreated by github.com/hybridgroup/gobot.func\u00b7011\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/utils.go:18 +0x5e\ngoroutine 1699 [syscall]:\ngithub.com/hybridgroup/go-opencv/opencv._Cfunc_cvGrabFrame(0x7823990, 0x4035caa)\n    github.com/hybridgroup/go-opencv/opencv/_obj/_cgo_defun.c:548 +0x31\ngithub.com/hybridgroup/go-opencv/opencv.(*Capture).GrabFrame(0x7823990, 0x5310768)\n    /Users/anderson/go/src/github.com/hybridgroup/go-opencv/opencv/highgui.go:486 +0x27\ngithub.com/hybridgroup/gobot/platforms/opencv.func\u00b7002()\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/platforms/opencv/camera_driver.go:46 +0x4b\ncreated by github.com/hybridgroup/gobot.func\u00b7011\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/utils.go:18 +0x5e\ngoroutine 2756 [runnable]:\ngithub.com/hybridgroup/go-opencv/opencv._Cfunc_cvShowImage(0x5600020, 0x7834020)\n    github.com/hybridgroup/go-opencv/opencv/_obj/_cgo_defun.c:998 +0x31\ngithub.com/hybridgroup/go-opencv/opencv.(Window).ShowImage(0xc208078180, 0x7834020)\n    /Users/anderson/go/src/github.com/hybridgroup/go-opencv/opencv/highgui.go:136 +0x39\ngithub.com/hybridgroup/gobot/platforms/opencv.(WindowDriver).ShowImage(0xc20802a0e0, 0x7834020)\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/platforms/opencv/window_driver.go:43 +0x4a\nmain.func\u00b7001(0x412c140, 0x7834020)\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/examples/opencv_window.go:17 +0x5e\ncreated by github.com/hybridgroup/gobot.(*Event).Read\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/event.go:40 +0x165\ngoroutine 819 [runnable]:\ngithub.com/hybridgroup/go-opencv/opencv._Cfunc_cvGrabFrame(0x7823990, 0x1)\n    github.com/hybridgroup/go-opencv/opencv/_obj/_cgo_defun.c:548 +0x31\ngithub.com/hybridgroup/go-opencv/opencv.(*Capture).GrabFrame(0x7823990, 0x0)\n    /Users/anderson/go/src/github.com/hybridgroup/go-opencv/opencv/highgui.go:486 +0x27\ngithub.com/hybridgroup/gobot/platforms/opencv.func\u00b7002()\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/platforms/opencv/camera_driver.go:46 +0x4b\ncreated by github.com/hybridgroup/gobot.func\u00b7011\n    /Users/anderson/go/src/github.com/hybridgroup/gobot/utils.go:18 +0x5e\nrax     0x0\nrbx     0x6\nrcx     0xb0080c38\nrdx     0x0\nrdi     0xa03\nrsi     0x6\nrbp     0xb0080c60\nrsp     0xb0080c38\nr8      0xb0080b40\nr9      0xb0081000\nr10     0x8000000\nr11     0x206\nr12     0x7fff77e3c070\nr13     0xcc51c6b9070\nr14     0xb0081000\nr15     0xb0080cb8\nrip     0x7fff87e23282\nrflags  0x206\ncs      0x7\nfs      0x0\ngs      0x0\n```\n. That's the gist.  It was too long for Github.\nGoroutines like goroutine 753 appeared 1760 times \nand ones like goroutine 1699 appeared 255 times.\nHere's the full thing:\nhttps://www.dropbox.com/s/4wyhmicqsfjoew5/gobot_stacks.txt?dl=0\n. Unfortunately no, it still seems to do the same thing.\nUsually crashes about 15 seconds after the video window opens.\nFull trace:\nhttps://www.dropbox.com/s/1alys6apvkdj43k/gobot_stacks2.txt?dl=0\n. My bad!!  That's what I get for trying to have two separate GOPATHs.\nYes, that seems to have solved the problem.   Thanks for the quick response!\n. ",
    "yanzay": "Added a pull-request for this feature https://github.com/hybridgroup/gobot/pull/154\n. Thanks for answer! \nYour approach looks great and code much cleaner then mine, but.\nHave you tried this for net connection? I had an issue here https://github.com/hybridgroup/gobot/blob/56e849653954287175a260f1cee5e3a0cadcffd3/platforms/firmata/firmata_adaptor.go#L64 it's just reporting version in infinite loop. I've added initial event chain run by adding event handler on f.board.events[\"report_version\"].\nBut maybe it's only issue with my arduino, don't know =)\nSo, please let me know if your solution work for you good. Thanks.\n. ",
    "scottefein": "Haha nice!! Thanks @deadprogram :). ",
    "HendrikRoth": "Perfect. Started using the raspi platform as a template. Will try out to \"solve\" it. My odroid u3 is on the way to me, so i could test hopefully this next week.\n. ",
    "jcw": "+1\n. ",
    "ghost": "Hey guys, any update on Odroid integration?\nThanks. I was thinking using gobot alone without an RTOS?\nAs far as I read gobot should be able to compile code for the esp32, only question is if some sort of concurrency can be used (easily). \nOr do you mean, using the two cores is not possible without an RTOS?\nIs it possible to target each core using gobot so one could work on that?. ok sorry, misunderstood, thought it was something along the lines of micropython providing a subset of go for micrcontrollers.\n\nGo on any RTOS. I look forward to this capability someday!\n\nyes. > Go on any RTOS. I look forward to this capability someday!\nmaybe a llvm go compiler and avr-llvm can help, seems like they are slowly getting integrated . ",
    "razic": "@zankich great. sounds like we're almost there. is it possible you would be able to explain on a high level a bit more in-depth what it would take to get the pi blaster support going?\ncorrect me if i'm wrong, but it seems like pi-blaster is either a process or a script that needs to be run at least once. then, we can write values to /dev/pi-blaster?\n. ",
    "SellJamHere": "Has there been any further work on PWM support?\n. ",
    "edgarsilva": "We should close this since pwm support has been added, or are we waiting for release?\n. Closing this since it seems fixed in master and latest release.\n. Hi guys,\nFirst things first, the process to get the blink example working is as follows:\nUpload Firmata Sketch to the Arduino.\nYou can do this using the Arduino IDE or using (gort.io)[gort.io].\nWhen using the Arduino IDE just click on file > examples > firmata > StandardFirmata and upload that sketch to the arduino.\nWhen using (gort.io)[gort.io] first install it, then run:\n```\nThis installs avrdude, which allows to upload the firmata sketch to the arduino\ngort arduino install\nScan serial port for arduino serialport address\ngort scan serial\nUpload firmata protocol/sketch to the correct port the arduino is connected to\n$ gort arduino upload firmata /dev/ttyACM0\n```\nCompile and run arduino_blink.go\nMake sure you are using the correct port, in the case of windows you can check the port is the correct one if you can upload an example (like blink sketch) in the arduino IDE. If it uploads and works you should be good. Just update the port in the gobot example and compile.\nIn Linux is even easier to identify the serial port by using either gort scan serial or just checking /dev/ttyACM*.\nCompile and run the program, after that it should work fine.\nLet me know if that helps.\n. ",
    "matipan": "@zankich Do you have an example I could follow? I'm trying with a MG90 servo tower connected to GPIO 11 on a pi b+ but it does not seem to be working. Hi @deadprogram, thanks for the quick response!\nSure, this is the stack trace I could get:\n```\npanic: STACK TRACE\ngoroutine 1 [running]:\ngithub.com/tarm/serial.(Port).Read(0xc420080058, 0xc42006f482, 0x3, 0x3, 0x2, 0x4294960, 0x0)\n    /Users/Matias/Code/GoWorkspace/src/github.com/tarm/serial/serial_posix.go:180 +0x64\nio.ReadAtLeast(0x4504098, 0xc420080058, 0xc42006f482, 0x3, 0x3, 0x3, 0x41385e0, 0x4010700, 0x4504098)\n    /usr/local/opt/go/libexec/src/io/io.go:307 +0xa9\nio.ReadFull(0x4504098, 0xc420080058, 0xc42006f482, 0x3, 0x3, 0x3, 0x4031afe, 0xc4200001a0)\n    /usr/local/opt/go/libexec/src/io/io.go:325 +0x58\ngobot.io/x/gobot/platforms/firmata/client.(Client).read(0xc4200b6280, 0x3, 0x4, 0xc42006f481, 0x1, 0x1, 0x0)\n    /Users/Matias/Code/GoWorkspace/src/gobot.io/x/gobot/platforms/firmata/client/client.go:343 +0xbb\ngobot.io/x/gobot/platforms/firmata/client.(Client).process(0xc4200b6280, 0x0, 0x12)\n    /Users/Matias/Code/GoWorkspace/src/gobot.io/x/gobot/platforms/firmata/client/client.go:348 +0x4c\ngobot.io/x/gobot/platforms/firmata/client.(Client).Connect(0xc4200b6280, 0x41f37e0, 0xc420080058, 0xc420080058, 0x0)\n    /Users/Matias/Code/GoWorkspace/src/gobot.io/x/gobot/platforms/firmata/client/client.go:192 +0x3db\ngobot.io/x/gobot/platforms/firmata.(Adaptor).Connect(0xc4200b0240, 0x1, 0x1)\n    /Users/Matias/Code/GoWorkspace/src/gobot.io/x/gobot/platforms/firmata/firmata_adaptor.go:83 +0x53\ngobot.io/x/gobot.(Connections).Start(0xc4200826c0, 0x3, 0x3)\n    /Users/Matias/Code/GoWorkspace/src/gobot.io/x/gobot/connection.go:54 +0x293\ngobot.io/x/gobot.(*Robot).Start(0xc4200b0300, 0x0, 0x0, 0x0, 0xc420084190, 0xc42006f200)\n    /Users/Matias/Code/GoWorkspace/src/gobot.io/x/gobot/robot.go:151 +0x1a7\nmain.main()\n    /Users/Matias/Code/GoWorkspace/src/github.com/kriox26/gobot/main.go:30 +0x33d\nexit status 2\n``\nThe problem is that this stack trace is not complete, this is right before it hangs. I don't know whichRead` method this function uses, so I can't get inside that funcion and run panic there to get the real call stack.\nDo you know how I can do that?\nThanks!. So I created a Docker image with all the things I needed to run the program.\nThen I executed:\ndocker run -it --privileged --device=/dev/tty.usbmodem1411:/dev/ttyS0 [image_id]\nto run the program inside the container, and It gets stuck in the same point. So it's not a problem of Mac OS apparently. Hi again! I tried running the same program on an Arduino UNO and it worked. So it's either an issue with the mega2560 in general or with mine in particular!\nShould we close this or keep it open in case someone else with an arduino mega2560 has the same problem?. Hi there, no updates here. I don't know what else I can do though. Ok, thanks for pointing out that issue. It seems to be a problem with Xcode 8.3. I checked the update logs and the day this started to happen is the day Xcode got updated.\nSo, for anybody that reads this issue, a quick workaround is to build the program using the -ldflags and -s flags. There seems to be with an issue with how the linker in Darwin invokes dsymutil. The -s flag disables that invocation.\nAnother workaround is going back to Xcode 8.2\nAccording to what is being discussed they will try to have it fix for go 1.8.1, but there are no guarantees.\nAs always, thanks for the quick response @deadprogram!. ",
    "dmarkham": "@zankich : It's ready for you to take a look at again.\n. ",
    "alecthegeek": "BTW -- This is taken from my work on automation of Raspian set up for IoT at \nhttps://github.com/alecthegeek/CCHS_Raspian_for_IoT/tree/machine.local\n. No tonight I'm afraid. Laptop at the Apple hospital. I've been doing all this on the Web UI :-). In a few days\n. So no squashing, just move the text?\n. ",
    "pipejesus": "Superb! Great project, thank you Adrian for bringing Gobot to Earth :-)\n. ",
    "losinggeneration": "It looks like this might be implemented (at least on the client library.) https://github.com/hybridgroup/gobot/blob/dev/platforms/firmata/client/client.go#L217 However, it looks like the bytes are sent as max,min instead of min,max unless I'm misunderstanding the code and/or protocol doc.\n. I'll pick up a servo tomorrow to verify it works and then get a PR in for it.\n. Yes. I'm also currently writing unit tests for ServoConfig. After I'm finished with that. I'll add the adapter.\n. I've added this to the FirmwareAdapter. If this is something all platforms could benefit from, adding it to the gpio.ServoDriver would be a possibility. However, that will require that all platforms be updated to implement ServoConfig.\n. I just realized I didn't sign off on all commits. Should I rebase to correct this?\n. Sorry for the delayed response. I've updated the commits with sign offs. I'd there's anything else needed let me know.\n. @mccurdyc After GopherCon would you be able to give my branch a try?. I talked with @deadprogram and he said he has some, it's just a matter of digging them out and trying it out.. ",
    "saljam": "I can reproduce this but only on Linux. OS X seems to work fine.\nAlso worth mentioning that unbinding and rebinding the USB serial driver doesn't seem to affect it. Only unplugging and plugging back in again or pressing the reset button on the Arduino seems to do the job.\nI'm using the firmata (github.com/hybridgroup/gobot/platforms/firmata) package directly.\n. OK it seems that when the Firmata firmware is reset it preemptively sends over its firmwareQuery answer, which triggers the rest of the initialisation process in the package.\nBut for some reason, the reset command doesn't actually register on my Arduino when send from a Linux host :-/ Explicitly sending a firmwareQuery when connecting works around this, however. I'll send a PR in a bit.\n. @dkinzer thanks for testing! I'll try to make it produce the same behaviour as that when I get some time. When I tried it it seemed to work fine here.\nTo try out a pull request you could run:\n$ git fetch origin pull/<pull-request-id>/head:<new-branch-name>\n$ git checkout <new-branch-name>\nand rebuild the project. The GitHub documentation has more about this.\n. The go tool checks out the repository into $GOPATH if it doesn't already exist, and that's pretty much all it knows about version control. Other than that, the import path is just the path to the package source files. So if you cd $GOPATH/github.com/hybridgroup/gobot then fetch and checkout the pull request in there it will use the new version.\n. FWIW the latest master works for me. Thanks again.\n. I just tested master, works for me. :+1: Thanks!\n. ",
    "dkinzer": "Yes, I should have mentioned that I was using Ubuntu 14.04 LTS when I ran into this issue.\n. Sorry, I can't check this until tomorrow.\n. @saljam @zankich it works, but not consistently.  Almost invariable on the first attempt it fails.  I control C out of that and try again and then it works.  Sometimes have to even try several failed attempts before it works.\nBy the way, what's the canonical way of trying out patches in go projects?  For this one I just manually made the change on my local firmata.go file.\n. @saljam thanks.  The problem regarding testing of a patch had more to do with the Go System then the technicality of pulling in new code and running it, because go imports take repo source direclty (i.e \"github.com/hybridgroup/gobot/platforms/firmata\").\n. cool. thanks!\n. ",
    "myalexer": "yes i test it with arduino program - in arduino ide port is COM15  - blink program with arduino syntax is ok and it work\n. how can i found COM port number?\n. i test it but it can't work\ni found port . but led not toggle every second \ni use arduino uno ! gobot can interact with arduino uno?\n. zankich please help me for solved this problem \ni start 2 month ago , but still i have problem in blink led !!!!\n. ",
    "mukosolu": "Hi, I also struggled with this problem. it might be an idea for this page: http://gobot.io/documentation/getting-started/ to also tell users to run the firmata example first. \n. ",
    "LaraChicharo": "I have the same problem on Arduino uno, but Ubuntu 14.10. It blinks three times no matter what port I set, even when led is not in that port. According to me, my serial port is correct 'ttyACM0'. If I get something I will let you know.\n. I can run it now!\nMy problem was that I was not flashed the Arduino with firmata.\nhttp://firmata.org/wiki/Main_Page#Arduino_Uno\nI'm not really sure, but, in gobot's getting started documentation there is nothing about firmata.\n. ",
    "pedromorgan": "Yea I;m kinda stuck with Firmata not working also,... amd confused..\n. ",
    "kedare": "Same problem here, Arduino Uno with the firmata firmware flashed fine ( I could use pyFirmata to test), nothing happens, I added some logs in the program to have more information :\n```\npackage main\nimport (\n    \"fmt\"\n    \"time\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/drivers/gpio\"\n\"gobot.io/x/gobot/platforms/firmata\"\n\n)\nfunc main() {\n    firmataAdaptor := firmata.NewAdaptor(\"/dev/cu.usbmodem1411\")\n    led := gpio.NewLedDriver(firmataAdaptor, \"13\")\nwork := func() {\n    gobot.Every(1*time.Second, func() {\n        fmt.Println(\"Updating LED\")\n        led.Toggle()\n    })\n}\n\nrobot := gobot.NewRobot(\"bot\",\n    []gobot.Connection{firmataAdaptor},\n    []gobot.Device{led},\n    work,\n)\n\nfmt.Println(\"Starting\")\nrobot.Start()\nfmt.Println(\"Started\")\n\n}\n```\n2017/01/07 22:43:22 Initializing connections...\n2017/01/07 22:43:22 Initializing connection Firmata ...\n2017/01/07 22:43:22 Initializing devices...\n2017/01/07 22:43:22 Initializing device LED ...\n2017/01/07 22:43:22 Robot bot initialized.\nStarting\n2017/01/07 22:43:22 Starting Robot bot ...\n2017/01/07 22:43:22 Starting connections...\n2017/01/07 22:43:22 Starting connection Firmata on port /dev/cu.usbmodem1411...\nIt's not even running the work function.\nThe TTY port is correct (Detected by Arduino IDE and working fine with pyFirmata)\nWhat could be the cause ?. Ok I found the issue, looks like for master part is missing from the example code, here is the working one :\n```\npackage main\nimport (\n    \"fmt\"\n    \"time\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/drivers/gpio\"\n\"gobot.io/x/gobot/platforms/firmata\"\n\n)\nfunc main() {\n    gbot := gobot.NewMaster()\n    firmataAdaptor := firmata.NewAdaptor(\"/dev/cu.usbmodem1411\")\n    led := gpio.NewLedDriver(firmataAdaptor, \"13\")\nwork := func() {\n    gobot.Every(1*time.Second, func() {\n        fmt.Println(\"Updating LED\")\n        led.Toggle()\n    })\n}\n\nrobot := gobot.NewRobot(\"bot\",\n    []gobot.Connection{firmataAdaptor},\n    []gobot.Device{led},\n    work,\n)\n\ngbot.AddRobot(robot)\n\nfmt.Println(\"Starting\")\ngbot.Start()\nfmt.Println(\"Started\")\n\n}\n```. ",
    "lkalneus": "@deadprogram, yeah you are right.\nIt was a stupid mistake, sorry) \n. ",
    "befedo": "Is there any work-in-progress here?!. ",
    "Symmetric": "Thanks!\n. ",
    "ericwq": "sorry myself problem\n. ",
    "stengaard": "Ok, I'll go ahead and re-open against dev. \n. @trevrosen @deadprogram here's the rewritten version. Feedback is of course more than welcome!\n. Yeah, I see the same problem popped up in the original PR. \n. @trevrosen - should be fixed by f839367\n. ",
    "razasayed": "OK,got it to work !. Realised my mistake and uploaded Standard Firmata to the board using the IDE :)\n. ",
    "ryanfaerman": "Any updates on Ollie/Bluetooth LE support?\n. Is there anything I can do to help?\nI've recently purchased a BB8 sphero and I'm debating returning it and getting a Sprk so that I can play with things. \n\nOn Mar 2, 2016, at 22:19, Ron Evans notifications@github.com wrote:\nHi, @ryanfaerman I am working on BLE support, hope to have something pretty soon.\nThen the Ollie/BB-8 API will be next!\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "zankavrogin": "@stewart The way the import script is set up, it needs the fenced blocked of code to convert it to be Haml compatible. Here is the code.\n. I updated the code with the Windows connection documentation.\n. ",
    "seanmarcia": "Sorry about that. The first time I clicked on the link it took me to a page and told me the document has moved and the second time I clicked on the page it correctly routed me! So the link is valid but may not be needed!\nThis was the page I saw:\n\nSo this may save someone a click in the future! :)\n. ",
    "mattetti": "I would recommend https://github.com/hashicorp/go-multierror I know this adds an extra dependency but this package is used in packer and many other popular great packages.\n. +1 for this PR, ideally we would also refactor a few places where we use 0x40 and switch to using the newly defined constant.\n. @zankich @deadprogram This is currently a blocker for me to generate a proper audio signal via PWM. \nFor anyone else looking at this issue, here is a good document on PWM: https://www.arduino.cc/en/Tutorial/SecretsOfArduinoPWM\n. Adrian and I discussed this issue in RL and he suggested to create a new PWM interface for devices offering access to period and duty cycles\n. \ud83d\ude0e thanks. That was indeed the issue, thank you Ron!\n. I tried to implement this method:\n``` go\n// Scroll scrolls the dispay to the right or the left based on the passed\n// param.\nfunc (h *JHD1313M1Driver) Scroll(leftToRight bool) error {\nif leftToRight {\n    return h.connection.I2cWrite(h.rgbAddress, []byte{LCD_CMD, LCD_CURSORSHIFT | LCD_DISPLAYMOVE | LCD_MOVELEFT})\n}\n\nreturn h.connection.I2cWrite(h.rgbAddress, []byte{LCD_CMD, LCD_CURSORSHIFT | LCD_DISPLAYMOVE | LCD_MOVERIGHT})\n\n}\n```\nWhich is supposed to be a port of https://github.com/intel-iot-devkit/upm/blob/master/src/lcd/jhd1313m1.cxx#L109\nUnfortunately this feature doesn't seem to work, I'm not getting an error but nothing happens and the backlit seems to be in a weird state where I can't set the rgb colors anymore.\nI also tried on an arduino and on the edison. I tried to change the first byte we write, from 0x80 to 0x40, it wasn't doing anything on the arduino and it returned an error on the edison.\n. addressed in #209 \n. fixed in #209 (from PR provided in #202)\n. also merged and rebased #202 onto this PR\n. I'm looking forward to seeing how you fixed the scrolling issue\n. LGTM, besides saving a lot of goroutines (which mainly affect stack traces as mentioned by @joushou ), I do find the new code more readable. It's a :+1: for me, thanks Kenny!\n. I find it nice to be able to get examples close to the code I care about. I wanted to use the low level version of the library for a talk I'm giving. I wouldn't have thought about going up to another package to find an example just for this package. But I might be misunderstanding the situation\n. Just to be clear, there are 2 blink examples:\n- https://github.com/hybridgroup/gobot/blob/dev/examples/firmata_blink.go\n  and \n- https://github.com/hybridgroup/gobot/blob/dev/platforms/firmata/client/examples/blink.go\nThe first one is higher level and uses and adaptor and the gpio package when the second one uses the board directly.\nI think we should keep both examples since they are very valuable.\nI think you're suggesting to have an examples directory in the platforms folder (at the same level as all the platform folders). Inside this directory we would move the second example shown above (inside a nested folder called firmata) and also add a README to mention that at the root level, there are more high level examples.\nIf my understanding of your suggestion is right, I agree that it's a good idea.\n. I'm pretty happy with the end result, it took me a little while to figure out how to manage custom characters but I think the result is pretty straight forward and useful. The only downside is that developers have to load the custom chars they want and they need to edit their display text on the fly to swap custom characters for their positions. As @deadprogram knows, not having accented characters such as \u00f1 is Spanish can be extremely problematic ;)\n. @TheInsideMan here is an example app using the grove lcd: https://github.com/mattetti/eddie\n. More info about encoders and why I think my reading is off: http://playground.arduino.cc/Main/RotaryEncoders\n. To do this properly, we need to be able to use interrupts which we can't with the current version of firmata used by gobot. Ideally we would be moving to confgurable firmata and load an encoder wrapper such as: https://github.com/firmata/FirmataEncoder \n. Not really... There is something wrong, we aren't getting the data, I'll need someone help to get it to work.\n. you can try to make it work or reject the PR. I don't think gobot supports interrupts and that seems to be the main issue here.\n. @steffenmllr the reason I stopped is because gobot doesn't support interrupts, once that's being addressed, then I think it shouldn't be an issue to finish the driver.. nitpick, shoudn't we use LCD_2NDLINEOFFSET instead of 0x40 in the I2cWrite call?\n. I chose to use the constants used in the C++ code so it's easier to compare code changes\n. ",
    "kennylevinsen": "Most of the places where I saw []error, it did not seem to serve a purpose, suggesting that one should simply return one error, and in cases with multiple errors, fail on first error.\nLet's wait to hear if the author had a good reason we're missing for this slightly peculiar construct.\n. The suggestion in #216 (split gobot.Start into gobot.Start and gobot.Stop) would most likely deprecate Work (it would no longer serve a purpose), which I find to be a bit of a peculiar construct.\n. Ah, I think I was a bit too quick and rough in my wording. Work is called is called at the end of Robot.Start. It is currently necessary because Gobot.Start, which has the responsibility of calling Robot.Start, blocks, and doesn't terminate before os.Interrupt is issued.\nNow, if Gobot.Start only called Robot.Start, or a Robot.Stop is made available so that Gobot.Start wasn't necessary, then normal program flow can follow immediately after Robot.Start/Gobot.Start, effectively making Work a redundant construct. It would make:\nr := gbot.NewRobot(lalala, lalala, func(){ fmt.Println(\"DONE!\") })\n   r.Start()\ncompletely equivalent to:\nr := gbot.NewRobot(lalala, lalala, nil)\n   r.Start()\n   fmt.Println(\"DONE!\")\nTherefore, while the issue of changing Gobot.Start/Stop doesn't directly affect the behaviour of Work, it does make it somewhat redundant, and I was suggesting that its presence should maybe be reconsidered.\nDoes my message make more sense this way?\n. Done\n. I'm glad! Would a PR on the simple part of this (split gobot.Start into Start and Stop) be of interest, or would you rather wait for the large refactoring to avoid potentially breaking API too often?\n. There are still a few <-time.After() calls left (a lot in examples, but a few in \"real\" code too - a quick git grep shows a good list), where a time.Sleep() was intended, but it certainly has improved.\n. This would close #216 \n. At least some of these tests appear to be fixed on master, so I suggest merging master into dev, and then rebasing this on top.\n. If I read the implementation correctly, you're not supposed to poll any of that. REPORT_DIGITAL is supposed to handle info about digital pins, I2C will report back if it's set to continous mode, etc., etc.. It's meant to be a push protocol, not polling.\nOf course, I may be wrong, but that's what it looks like from the StandardFirmata Arduino implementation.\n. Also, I can't reopen issues. :/\n. Sounds good to me. I'll reopen if I get around to testing and trying this again.\n. ",
    "saulshanabrook": "@zankich ahh thats pretty cool. \n. ",
    "toxeus": "\nideally we would also refactor a few places where we use 0x40\n\nIMHO we should use constants instead of plain values everywhere. Let's clean this up in a dedicated PR :wink: \n. No, I don't think so. In this context it should be LCD_SETCGRAMADDR.\n. Please use LCD_SETDDRAMADDR instead of LCD_CMD and LCD_SETCGRAMADDR instead of LCD_DATA.\n. I see. Rather then copying the constant names from the C++ code they should be chosen such that they match the datasheets. The whole point of Gobot is to enable developers to write code for embedded devices in Go instead of C++.\nNow, we have 3 different styles in the code:\n- Gobot constants that match the spec\n- constants taken from the C++ code\n- plain values\nBut as long as the maintainers are fine with that then I'm too :wink: \n. ",
    "rakyll": "This is great, thanks!\n. ",
    "mwhooker": "awesome! looks like we ended up doing the same thing https://github.com/mwhooker/speedo/blob/b6a116c9403cd26db63183fe1aaea9f006d43dc7/lidar.go\n. that's unfortunate. Is there any chance of a workaround? perhaps I can take a screwdriver to the led i2c controller...\n. okay. I think I'll just modify https://github.com/hybridgroup/gobot/blob/f63fab81a3fecf2d9cc6fdfd643625fdb60fd834/platforms/i2c/jhd1313m1_driver.go to not interact with the led, or perhaps a hardware solution. thanks!\n. above didn't work, which should have been obvious. the i2c slave still listens on the conflicting address\naccording to http://www.nxp.com/documents/data_sheet/PCA9533.pdf, the slave address is hard coded, but there's another version I can get with a different address (PCA9533/02). I think I'll try to track down one of those. closing, thanks!\nI'm not sure this is possible, but it would be neat if gobot could detect i2c collisions and give me an error about it.\n. ",
    "pborman": "The patch, without being marked down, is:\ndiff --git a/robot.go b/robot.go\nindex 8775e87..131fade 100644\n--- a/robot.go\n+++ b/robot.go\n@@ -131,7 +131,7 @@ func (r *Robot) Start() (errs []error) {\n    }\n    if r.Work != nil {\n        log.Println(\"Starting work...\")\n-       r.Work()\n+       go r.Work()\n    }\n    return\n }\n. ",
    "boardthatpowder": "I like the idea of a dedicated Gobot-contrib project rather than a standalone repo that would need to be maintained just for the odroid.  We could keep the contrib project streamlined to just providing extensions to the platforms package (plus examples).  A clear cut separation of concerns.\n. ",
    "explicite": ":thumbsup:\n. ",
    "aurelien-git": "Thanks for your light!\nSorry for the disturb.\nSure that helps!\n. Sorry I was wrong .. I have not well writtent the line \"p9_14\" it should be \"P9_14\"\n. ",
    "alioygur": "So it doesn't work standalone ?\nOn Aug 27, 2015 8:42 PM, \"Ron Evans\" notifications@github.com wrote:\n\nHi, @alioygur https://github.com/alioygur\nYou cannot run Golang directly on an Arduino. Gobot communicates with the\nFirmata program running on an Arduino microcontroller, by using a serial\ninterface.\nPlease let me know if that is clear. Thank you!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/224#issuecomment-135503646.\n. Okey, thank you so much\nOn Aug 27, 2015 9:21 PM, \"Andrew Stewart\" notifications@github.com wrote:\nHey @alioygur https://github.com/alioygur - Arduinos are\nmicrocontrollers https://en.wikipedia.org/wiki/Microcontroller, and\nincapable of hosting an operating system or running Go code directly. To\nprovide support in Gobot, we leverage the Firmata protocol\nhttps://www.arduino.cc/en/Reference/Firmata to communicate with a\nsketch the Arduino is capable of running. We then send commands to\nFirmata over a serial port the Arduino is connected to, and Firmata\nexecutes them for us.\nHowever, on more complex single-board Linux computers (Beaglebone Black,\nIntel Edison, Raspberry Pi, etc), Gobot can be installed and run directly\non-board.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/224#issuecomment-135513261.\n. Dear, can I communicate with it over network instead of USB?\nOn Aug 27, 2015 9:24 PM, \"ali oygur\" alioygur@gmail.com wrote:\nOkey, thank you so much\nOn Aug 27, 2015 9:21 PM, \"Andrew Stewart\" notifications@github.com\nwrote:\n\nHey @alioygur https://github.com/alioygur - Arduinos are\nmicrocontrollers https://en.wikipedia.org/wiki/Microcontroller, and\nincapable of hosting an operating system or running Go code directly. To\nprovide support in Gobot, we leverage the Firmata protocol\nhttps://www.arduino.cc/en/Reference/Firmata to communicate with a\nsketch the Arduino is capable of running. We then send commands to\nFirmata over a serial port the Arduino is connected to, and Firmata\nexecutes them for us.\nHowever, on more complex single-board Linux computers (Beaglebone Black,\nIntel Edison, Raspberry Pi, etc), Gobot can be installed and run directly\non-board.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/224#issuecomment-135513261.\n. good job!. \n\n",
    "brunoksato": "i'm need communication for camera + motor + arduino, need to make the communication of these three synchronous way, one depending on the other, using opencv the Gobot I can integrate with Arduino Gobot?\n. Sorry delay, yes resolved ! \nThanks\n. ",
    "joek": "@deadprogram sorry for the delay, but I am on parentel leave and don't got frequent access to the internet. The Problem is, the change is not working... The function is only sending an reset to the board. It is not resetting all the values in the go lib. So e.g. a servo pin is still in servo mode inside the go routine but reset on arduino level. \nI will close the ticket, because I don't get time to fix it at the moment.\n. Hi,\nwhat is the status about this project? I am looking for something similar. Do you have the Arduino code, you where using somewhere? It seems the StdFirmata will not work.\nOne thought about the GPIO Version. There are some problems and limitations to raspberry, which makes it more complicated to implement. Details: https://learn.adafruit.com/neopixels-on-raspberry-pi/overview. ",
    "deadjoe": "Awesome !\n. Hi , just want to know if Parrot Rolling Spider supported yet?\n. Thanks , cool !\n. Thanks, \nI saw the BLE support in the latest release. I am looking for  documents or examples about the BLE support with my rolling spider ? Can't find it from the gobot website and appreciate if you can give a clue.\n. Just to try confirm that the \"central\"(OSX laptop) to the device(rolling spider) are working well, i installed & ran the cylon.js via https://github.com/ChrisTheBaron/cylon-rolling-spider and it does working perfect.\n```\n\"use strict\";\nvar Cylon = require(\"cylon\");\nCylon.robot({\n        connections: {\n            /\n             * Remember to change the uuid to your own devices uuid\n             /\n            spider: { adaptor: \"rolling-spider\", uuid: \"8b2f8032290143e18fc7c426619632e8\" }\n        },\n    devices: {\n        drone: { driver: \"rolling-spider\" }\n    },\n\n    work: function (my) {\n        my.drone.wheelOn();\n        my.drone.flatTrim();\n        my.drone.takeOff();\n\n        after(5000, function () {\n            my.drone.land();\n        });\n    }\n\n}).start();\n```\n. Any luck  or clue?\n. Hi @deadprogram , below are the result when running minidrone.go\n```\n examples git:(master) \u2717 go run minidrone.go 8b2f8032290143e18fc7c426619632e8\n2016/09/22 21:33:38 Initializing Robot bleBot ...\n2016/09/22 21:33:38 Initializing connections...\n2016/09/22 21:33:38 Initializing connection ble ...\n2016/09/22 21:33:38 Initializing devices...\n2016/09/22 21:33:38 Initializing device drone ...\n2016/09/22 21:33:38 Starting Robot bleBot ...\n2016/09/22 21:33:38 Starting connections...\n2016/09/22 21:33:38 Starting connection ble...\nState: PoweredOn\nscanning...\n2016/09/22 21:33:39 Unhandled event: xpc.Dict{\"kCBMsgId\":81, \"kCBMsgArgs\":xpc.Dict{\"kCBMsgArgConnectionInterval\":22, \"kCBMsgArgConnectionLatency\":0, \"kCBMsgArgSupervisionTimeout\":500, \"kCBMsgArgDeviceUUID\":xpc.UUID{0x8b, 0x2f, 0x80, 0x32, 0x29, 0x1, 0x43, 0xe1, 0x8f, 0xc7, 0xc4, 0x26, 0x61, 0x96, 0x32, 0xe8}}}\n2016/09/22 21:33:39 Unhandled event: xpc.Dict{\"kCBMsgId\":53, \"kCBMsgArgs\":xpc.Dict{\"kCBMsgArgDeviceUUID\":xpc.UUID{0x8b, 0x2f, 0x80, 0x32, 0x29, 0x1, 0x43, 0xe1, 0x8f, 0xc7, 0xc4, 0x26, 0x61, 0x96, 0x32, 0xe8}, \"kCBMsgArgATTMTU\":104}}\nConnected Peripheral ID:8b2f8032290143e18fc7c426619632e8, NAME:()\nFailed to set MTU, err: Not implemented\n2016/09/22 21:33:40 Unhandled event: xpc.Dict{\"kCBMsgId\":81, \"kCBMsgArgs\":xpc.Dict{\"kCBMsgArgConnectionInterval\":18, \"kCBMsgArgConnectionLatency\":0, \"kCBMsgArgSupervisionTimeout\":500, \"kCBMsgArgDeviceUUID\":xpc.UUID{0x8b, 0x2f, 0x80, 0x32, 0x29, 0x1, 0x43, 0xe1, 0x8f, 0xc7, 0xc4, 0x26, 0x61, 0x96, 0x32, 0xe8}}}\n2016/09/22 21:33:41 Starting devices...\n2016/09/22 21:33:41 Starting device drone...\n2016/09/22 21:33:41 Starting work...\n[4 1 2 3 0 0]\npanic: runtime error: cgo argument has Go pointer to Go pointer\ngoroutine 35 [running]:\npanic(0x40ea540, 0xc42011c450)\n    /usr/local/go/src/runtime/panic.go:500 +0x1a1\ngithub.com/currantlabs/gatt/xpc._cgoCheckPointer0(0xc42005a104, 0x0, 0x0, 0x0, 0x40dd601)\n    ??:0 +0x59\ngithub.com/currantlabs/gatt/xpc.valueToXpc(0x40dd6e0, 0xc42011a5e0, 0x97, 0x40dd6e0)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:254 +0x3ff\ngithub.com/currantlabs/gatt/xpc.valueToXpc(0x40e7f80, 0xc42011c440, 0x94, 0x40df300)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:269 +0x68b\ngithub.com/currantlabs/gatt/xpc.valueToXpc(0x40fe180, 0xc420113890, 0x15, 0x40fe180)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:239 +0x8b2\ngithub.com/currantlabs/gatt/xpc.valueToXpc(0x40e7f80, 0xc42011c380, 0x94, 0x40df300)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:269 +0x68b\ngithub.com/currantlabs/gatt/xpc.valueToXpc(0x40fe180, 0xc4201138c0, 0x15, 0xc4201138c0)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:239 +0x8b2\ngithub.com/currantlabs/gatt/xpc.goToXpc(0x40fe180, 0xc4201138c0, 0x0)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:213 +0x57\ngithub.com/currantlabs/gatt/xpc.(XPC).Send(0xc4200a0030, 0x40fe180, 0xc4201138c0, 0xc4200d6e00)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/xpc/xpc_darwin.go:23 +0x85\ngithub.com/currantlabs/gatt.(device).sendCBMsg(0xc4200a0000, 0x42, 0xc420113890)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/device_darwin.go:509 +0x15b\ngithub.com/currantlabs/gatt.(peripheral).loop.func1(0xc4200a0200, 0xc4200cc3c0)\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/peripheral_darwin.go:243 +0x119\ncreated by github.com/currantlabs/gatt.(peripheral).loop\n    /Users/joe/goproj/src/github.com/currantlabs/gatt/peripheral_darwin.go:253 +0x7f\nexit status 2\n```\n. and corresponding code of /Users/joe/goproj/src/github.com/currantlabs/gatt/peripheral_darwin.go:253 is \n236 func (p *peripheral) loop() {\n237         rspc := make(chan message)\n238\n239         go func() {\n240                 for {\n241                         select {\n242                         case req := <-p.reqc:\n243                                 p.d.sendCBMsg(req.id, req.args)\n244                                 if req.rspc == nil {\n245                                         break\n246                                 }\n247                                 m := <-rspc\n248                                 req.rspc <- m.args\n249                         case <-p.quitc:\n250                                 return\n251                         }\n252                 }\n253         }()\n. ",
    "ryanskidmore": "@deadprogram When I first looked at the driver I initially thought the wakeup instruction was handled by https://github.com/hybridgroup/gobot/blob/dev/platforms/i2c/mpu6050_driver.go#L104, but now that i've looked at it again I can't see any wake up instruction. Just noticed this line though https://github.com/hybridgroup/gobot/blob/dev/platforms/i2c/mpu6050_driver.go#L128 - not entirely sure what this does \"setSleepEnabled\" gives the impression it's putting it back into sleep mode.\nI know that a 0x00 needs to be sent to the PWR_MGMT_1 Register, so I'm guessing that's what's going wrong. I'll try and work on a fix next week sometime.\n. I've had a chance to modify the gobot code but no luck - I removed the set sleep enabled part and send the wake up byte to pwr_mgmt_1 but still getting constant values.\n. ",
    "sgilani": "Hi @ryanskidmore \ni think you have the same problem like me before. I think this will help you:\nopen the file mpu6050_driver.go and change:\nconst MPU6050_PWR1_SLEEP_BIT = 6 \nto \nconst MPU6050_PWR1_SLEEP_BIT = 0\n. By the end i solved my problem in another way for get the values in go:\n1.: Adruino Uploaded the MPU6050 RAW Example\n2.: Done a conection with serial to get the values\npackage main\nimport (\n         serial \"github.com/tarm/serial\"\n         \"log\"\n)\nfunc main() {\n         conf := new(serial.Config)\n         conf.Name = \"COM4\"\n         conf.Baud = 57600\n                 conf.ReadTimeout = 0\n```\n     sc, err := serial.OpenPort(conf)\n     if err != nil {\n             log.Fatal(err)\n     }\n buf := make([]byte, 1024)\n\n for {\n         n, err := sc.Read(buf)\n         if err != nil {\n                 log.Fatal(err)\n         }\n         log.Printf(\"%s\\n\", buf[:n])\n }\n\n```\n}\nOUTPUT:\ncX = 16824 | AcY = -164 | AcZ = -1284 | Tmp = 24.11 | GyX = -669 | GyY = -91 | GyZ = -150\nAcX = 16744 | AcY = -120 | AcZ = -968 | Tmp = 24.01 | GyX = -686 | GyY = -74 | GyZ = -143\n. UPDATE:\nIn Release 8.2 the MPU6050 Driver is Broken. In Version 8.1 it works more or less, the Values are not refreshed, after removing in github.com/hybridgroup/gobot/platforms/i2c/mpu6050_driver.go this part:\n// setSleepEnabled\nif err = h.connection.I2cWrite([]byte{MPU6050_RA_PWR_MGMT_1,\n    MPU6050_PWR1_SLEEP_BIT,\n    0}); err != nil {\n    return\n}\nAll looks fine and i have all my values. Later i will make a diff between 8.2 and 8.1 to see what is broken and why.\nMaybe for the moment it is helpfull for other users.\n. HI deadprogramm,\nthanks for help, this is the result after implentation, no values.\nAccelerometer {0 0 0}\nGyroscope {0 0 0}\nTemperature 0\n. Maybe also helpful for debuging:\nThis freezes the values:\nh.adaptor().I2cWrite([]byte{MPU6050_RA_PWR_MGMT_1,\n        MPU6050_PWR1_SLEEP_BIT,\n        0})\nbut when i remove just MPU6050_RA_PWR_MGMT_1 so the part looks like this:\nh.adaptor().I2cWrite([]byte{\n        MPU6050_PWR1_SLEEP_BIT,\n        0})\nI get again refreshed values, but some are missing:\nAccelerometer {20268 -120 14648}\nGyroscope {-5008 -747 0}\nTemperature 0\nGyro part 3 and Temp are lost somewhere... really strange\n. Solved for v.8.1, change this \nconst MPU6050_PWR1_SLEEP_BIT = 6\nto this\nconst MPU6050_PWR1_SLEEP_BIT = 0\nthen we can also use the setSleepEnabled part without troubles, to get the right values:\nAccelerometer {16472 -680 1772}\nGyroscope {-3872 406 -13133}\nTemperature 35\nAccelerometer {17472 408 4456}\nGyroscope {-3888 -3898 -3417}\nTemperature 33\nAccelerometer {16836 -120 856}\nGyroscope {-3824 -625 238}\nTemperature 35\n. You are right and i like your idea :) i will change it and share it. \n. I changed the code and for creating the window i am using now the original go-opencv and a cv.WaitKey(0) helps a lot, i think you need ti implement this WaitKey to, then all will be fine.\npackage main\nimport (\n    cv \"github.com/hybridgroup/go-opencv/opencv\"\n    \"github.com/hybridgroup/gobot\"\n    \"github.com/hybridgroup/gobot/platforms/opencv\"\n)\nfunc main() {\n    gbot := gobot.NewGobot()\n```\nwindow := cv.NewWindow(\"Go-OpenCV\")\ndefer window.Destroy()\ncamera := opencv.NewCameraDriver(\"camera\", 0)\nwork := func() {\n    gobot.On(camera.Event(\"frame\"), func(data interface{}) {\n        window.ShowImage(data.(*cv.IplImage))\n        cv.WaitKey(0)\n    })\n}\nrobot := gobot.NewRobot(\"cameraBot\",\n    []gobot.Device{camera},\n    work,\n)\ngbot.AddRobot(robot)\ngbot.Start()\n```\n}\n. Hello,\nYes also with WaitKey(10) all is fine, but we need to fix some other parts. \nLike:\nwindow := cv.NewWindow(\"Go-OpenCV\")\ndefer window.Destroy()\nHere i am using the original part from opencv the gobot part for creating the window crashes. and another point for the Camera which is missing in Gobot Opencv is the camera.Release()  without this every frame stays in the memory and the app crash after the memory is full.\nRegards,\nSaber\n. Hi,\ni tryed 2.4.2 , 2.4.9 , 2.4.10 and 3.0 with gobot 0.8.2 and 0.10 in differnt combination, all with the same result.\nTryed on Windows 8.1 32bit and 64bit and also on Windows 10 32bit and 64bit all with the same result, i would like to try on Windows 7 but i have no active install anymore. \n. Ohh yes please when you got it working, share with me your setup details so i can get it working with gobot. :) Thanks\n. You are using firmata and A4 & A5 is by default for I2C, open the StandardFirmata.ino and disable I2C, then all must be fine i think.\n. :(( NO not directly, by the end i did it with node.js and from GO i do now a API call to node.js to get the values inside of Go.\nThis is just a bad unfriendly workaround. I am sorry...\n. ",
    "cathalgarvey": "Just documenting my learning process as I tease apart the code..\nIn bebop's client, UDP messages seem to be received by the goroutine on line 273, and are passed to the Bebop.packetReceiver([]byte) method, which at present appears to only decide what, if any, ACKs to send.\nIf I'm not mistaken then, this is the appropriate place to put code that decodes the data returned by the device, looking for telemetry data and state changes?\nFor a more specific guidance-question then, is there any readable documentation on how incoming packets are structured, how to parse and identify them relative to one another, and how the payload data is structured (besides its being Little-Endian..)? Will keep digging.\nIf I figure this out and can parse packets, I can start doing something with them.. what's the Gobot-way to handle streams of incoming events like this? I imagine registering more event handlers (currently only \"flying\") is a good place to start, and then just start pushing them to the global event queue?\n. Fantastic, thanks; I'll go read up. :)\n. By way of documentation and to invite comment early: I'm in the process of writing something I hope will suffice. Rough outline of where I'm going with this so far:\n- Adding a method to the Bebop client: Telemetry() chan struct{Title string, Data []byte} (I don't know if re-using anon structs between packages in this way is kosher, I'll find out when it fails to compile). This returns a 10-buffered channel that telemetry events are sent back on. All non-video Bebop frames received are sent; if they aren't handled specifically, they are sent as \"unknown\". Telemetry data is parsed if it's understood, but is still returned as a []byte. So, a uint32 decoded to an expected byte between 1 and 8 is cast to a single byte and sent back. This is probably the wrong way to do things.\n- Setting up a goroutine in the Bebop driver to pull from this channel and post global events in the usual way. This happens in the drivers' \"start\" method.\n- Trying to cleanly shut down this telemetry system when the driver's \"stop\" method is called. Likewise the client's \"Stop\" method closes a channel to let all existing goroutines waiting on Telemetry stop.\nHas anyone got a handy reference of the heirarchy of constants? I.e. which Classes belong to which Types/Projects, and which Ids belong to which Classes? Assuming they are heirarchical, which is perhaps not a reasonable assumption, but it is based on an XML template..\n. Finally getting the hang of reading the XML code, thanks to having @robotika's code to compare against and learn from.\nHave some raw, untested, incomplete code committed to my repo, will spend some time tomorrow adding more.\nLooking forward to testing this. If even the GPS works, I'll be happy; killer feature, right there. :)\n. Oh yea, and I changed things so the events are emitting JSON, which is slightly more sane than emitting parsed-then-re-dumped binary. Not ideal, but compatible with the way things are done in gobot already and somewhat intuitive provided the keys in the JSON correspond to Bebop API parameters (which I've tried to hew to).\n. OK, I've pushed to my own repo some incomplete additions that have partial telemetry support. It appears to be working on my Bebop while it rests on the table, and when it encounters events it can't yet handle it posts \"unknown\" event with a useful message.\nThere's a new example file: platforms/bebop/client/examples/telemetry.go (which properly ought to live a directory down as technically it's using the Driver, not the Client). This connects to the 'bot, issues no instructions, and just prints all incoming events that aren't too spammy to handle.\nObservation: there are only two \"commandProject\" values expected according to the XML layouts and other reference code, but according to this it's picking up an incrementing set of commandProjects that rise to 255 and roll over. This likely indicates something nasty going on in the frame handling code. It doesn't stop the spammier events (camerastate!) from getting through though, so actual data frames appear unaffected?\nI'm not confident that this won't blow up a drone yet so I'm not issuing a PR, but would love thoughts if you have time. Or, if you feel like risking a bot and have space to test (which I lack right now), a flight test! :)\n. OK, good news: I tracked down and killed a bunch of bugs, implemented an incomplete but acceptable set of telemetry class handlers, and tested on my drone in live flight, and I've got telemetry working. :)\nThere's a lot of it: It spams a load of information about attitude/altitude/gps, though GPS is either broken or simply returns dummy values (500,500,500) in indoor mode. Altitude only reports greater than nil in flight. Attitude appears to work even when inactive.\nI don't suggest a pull yet, and am not issuing a PR, because the Land() method seems not to be working anymore, which is odd because I don't recall touching it! When I get that working I'll issue a PR?\nBefore I do, if you have a chance to check out the coding arrangement I've got going it might avoid questions later.\nBasic strategy: Dataframes go to a dispatcher, which looks up commandProject in a map, then looks up commandClass in the returned sub-map, and issues the frame to the handler. Handlers mostly use a switch to pick the right code by commandId, and dispatch, passing back (found bool, commandName string, err error) for error messaging context. Dispatching of all telemetry is done in its own goroutine but when it comes to messaging to the global cue it happens through a 10-length channel, discarding overflow, so if the telemetry channel isn't read the messages (and goroutines) are discarded.\nThe incoming telemetry is pulled by a goroutine that's spun up at Bebop starttime and posted to the Gobot event cue, though the event names could do with an overhaul to namespace them and make them clearer.\nHope you like it! :)\n. Yes, absolutely; they should still be considered \"beta grade\" though, I\nhaven't flown the Bebop much yet and certainly haven't been controlling\nit much from the computer, either (life's been busy..). Here be dragons\nand flying death machines of another sort, etcetera.\nI'll give it a code review later and check my stale notes to be sure\nnothing glaring is yet to be finished, finally check if it's OK with the\nmaster branch as-is, then issue a PR.\nOn Tue, 2016-02-16 at 18:04 -0800, Ron Evans wrote:\n\nHi, @cathalgarvey just wondering if you were still up for submitting a\nPR for your changes for Bebop? \nIn the interim, we've got the \"full API\" supported now in\nhttps://github.com/hybridgroup/node-bebop thanks to work from\n@johan-olsson that might be helpful to look at.\n\u2014\nReply to this email directly or view it on GitHub.\n. Right.. I've done some cleanup, and some re-org, currently incomplete. I haven't tested the code as-is on my bebop, so I'm not comfortable PRing yet. But, you're welcome to give it a look over, if you like!\n. \n",
    "billettc": "Here your solution ...\n`package main\nimport (\n    \"gobot.io/x/gobot/platforms/raspi\"\n    \"gobot.io/x/gobot/drivers/gpio\"\n    \"gobot.io/x/gobot\"\n    \"time\"\n    \"fmt\"\n)\nfunc main() {\n    r := raspi.NewAdaptor()\ntrigPin := gpio.NewDirectPinDriver(r, \"11\")\nechoPin := gpio.NewDirectPinDriver(r, \"12\")\nled := gpio.NewLedDriver(r, \"7\")\n\nwork := func() {\n\n    gobot.Every(1 * time.Second, func() {\n\n        println(\"Starting probing \")\n        led.Toggle()\n\n        trigPin.DigitalWrite(byte(0))\n        time.Sleep(2 * time.Microsecond)\n\n        trigPin.DigitalWrite(byte(1))\n        time.Sleep(10 * time.Microsecond)\n\n        trigPin.DigitalWrite(byte(0))\n        start := time.Now()\n        end := time.Now()\n\n        for {\n            val, err := echoPin.DigitalRead();\n            start = time.Now()\n\n            if (err != nil) {\n                println(err)\n                break\n            }\n\n            if val == 0 { continue }\n\n            break\n        }\n\n        for {\n            val, err := echoPin.DigitalRead();\n            end = time.Now()\n            if (err != nil) {\n                println(err)\n                break\n            }\n\n            if val == 1 {\n                continue\n            }\n\n            break\n        }\n\n\n        duration := end.Sub(start)\n        durationAsInt64 := int64(duration)\n        distance := duration.Seconds() * 34300\n        distance = distance / 2 //one way travel time\n        fmt.Printf(\"Duration : %v %v %v \\n\", distance, duration.Seconds(), durationAsInt64)\n    })\n}\n\nrobot := gobot.NewRobot(\"makeyBot\",\n    []gobot.Connection{r},\n    []gobot.Device{trigPin, echoPin, led},\n    work,\n)\n\nrobot.Start()\n\n}`. ",
    "stevemcquaid": "@billettc - thanks so much for providing this!\nUnfortunately in my testing, the latency was so bad over the network (wifi) that measurements were unusable.  Personally, I think that the time differential really needs to be measured and computed on the hardware itself. Network latency can add +-10 full milliseconds even under the best conditions. (Plus it would stink to have measurements change as a function of distance from wifi router.)\nI ended up sending this PR to firmata to hopefully expose a pulseIn hook that gobot would be able to implement and use to achieve these measurements.\nhttps://github.com/firmata/arduino/pull/396\n. I think the correct approach here is emulate pyfirmata and use a modified Firmata sketch. The network latency is never going to be fast or stable enough to get any sort of accuracy for these timing-based sensors. The time differential really needs to be done on the hardware itself. Since network latency can add +-10 full milliseconds even under the best conditions. (Plus it would stink to have measurements change as a function of distance from wifi router.)\nI will make a PR to get these changed into firmata itself. Would someone be willing to implement that firmata PulseIn/PulseOut method in gobot?\nhttps://github.com/jgautier/arduino-1/commit/eb48b875db50b467b59f6cd0e0b741efbf1e6a97. ",
    "abourget": "I'm looking at many things in mraa that we could use.. is the goal here to have a clean rewrite of those features ? or could we imagine using mraa (cgo)  at some point ?\n. Yeah.. I'd want to keep pure go too.. what about adding a layer behind I2cStart / I2cRead / I2cWrite .. which would use a DefaultI2cBus.. and add the notion of an I2cBus .. I2cStart for all platforms that have only one would continue to work, creating a Adaptor.I2cBus .. but some adaptors could expose the different I2cBuses as a list or map or something..\nThis would keep retrocompatibility, keep the easy way like it is, but allow for adaptors with many buses.. and give you a way to pass the I2cBus around if you want..\nWhat do you think ?\n. I wanted to implement the LSM9DS0 first.. and see what would be needed.\nYou can take a look here: https://github.com/abourget/gobot/commits/master\nThe i2c interface isn't very slick.. but I do feel it should be more furnished.. It is a re-implementation\nof what we have in C in the kernel or in mraa.. and I agree it's useful that it be in Go, but I think we'd need to make it a more generic solution.. perhaps that other projects could use.. but that would be more complete.\nWhat do you think ?  Most boards use the /dev/i2c-X bus.. only the firmara doesn't use that.. I'm not sure what messages can go through there.. but it'd be neat to have a solid /dev/i2c-X interface.\nI'd like to model an I2CDevice with its address (and keep Go conventions of caps for acronyms), an I2CBus to represent /dev/\u00ec2c-X..  and a few read/write methods.. this would make porting libs a lot easier..  Also, it'd be nice to be able to decouple the Adaptor from an I2CBus.. and perhaps get a DefaultI2CBus() on the Adaptor .. or embed it, so the Adaptor is also an I2CBus (with a default bus?)\nthere.. my 2 cents and a half ! good night\n. Didn't I push any proposal ? I remember working on this quite a bit.. maybe\nit's only in my fork..\nLe jeu. 18 f\u00e9vr. 2016 12:50, Ron Evans notifications@github.com a \u00e9crit :\n\nThe only possible problem would be with breaking compatibility with other\nplatforms. Since we're really only talking about 1 more optional param,\nperhaps a variadic param would be a better idea.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/247#issuecomment-185832479.\n. \n",
    "ryanhatfield": "If there's no objections, I'll likely take a crack at this in the next week or so.\nMy plan is to convert the i2cStarter.i2cStart method to accept a params object, something like below:\ngo\ntype i2cParams struct {\n  // Address would help retain existing functionality.\n  Address int\n  // BusID would default to existing behavior in platforms with multiple i2c bus\n  //   but be configurable now for platforms like the Intel Edison that have \n  //   multiple i2c bus available.\n  BusID int\n}\nI need to be able to use the /dev/i2c-2 bus instead of the /dev/i2c-6 bus that's currently hard coded. What's the best way to do this, so I can have it pulled back into the main repo? :smile: \n@deadprogram or @abourget thoughts?\n. As I remember, the 1 wire protocol is fairly slow and easy to implement if you can time things right.\nHere's the wiki article about the 1 wire protocol, and they explain the timing structure there if you wanted to implement it in go.\nAlso, here's a 1 wire protocol for RaspberryPi written in go, and looks simple enough.\n. I think having the Arduino section as it's own Platform or device would be another way to solve this. I would think since the i2c expansion is being added, a \"i2c port expander\" device could be added, and the edison arduino might have a platform specific version to handle the unique way it gets added?\nI have the mini-breakout board, the Sparkfun Edison blocks, and a fully custom board at my disposal, so pure abstraction of the Intel Edison's base functionality is a requirement for me. \nAlso, I do a certain amount of Kernel configuration for some pins / registers, I will likely look into a way of dynamically or statically defining the pin mappings (if different than default) and that could also facilitate the additional pins available on the Arduino variant.\n. Also, with the speed I'm moving at with some of these things, I might not take the time to back port functionality into all platforms right away. I might just keep a branch open on my fork to hold these modifications and when someone (possibly me) has time, they can be fully integrated or modified to be pulled back upstream.\n. ",
    "Hadlock": "Merging in lsm9ds0 would be fantastic, currently using @abourget 's fork for my project due to support for this device\n. ",
    "erkkah": "I spent a little time on this, since I needed to get better control of i2c when working on drivers for the Adafruit TSL2561 and DRV2605L lux meter and haptic controller.\nI incorporated some of the changes from @abourget to sysfs/i2c_device.go and added a layer in drivers/i2c/i2c.go to use multiple buses.\nI kept the old interface in parallel, but an added bonus is that the new interface is leaner on each adaptor as well.\nhttps://github.com/erkkah/gobot/commits/better-i2c\n. Ok, great. Will do!\n. Hi @deadprogram, thanks for the feedback, and yes, I did this in parallel for experimenting locally, and getting something in place to talk about.\n\n\nFunctional options should work fine. Thanks for the link! Do you have a suggestion for an interface for the option functions? I'm thinking that the first option in your example, i2c.TSL2561AddressLow, would operate on the TSL2561Driver, while the function returned by i2c.Bus(1) needs to be generic to all different drivers.\n\n\nI'm not sure what you mean about the file-based implementation vs the convenience functions. If drivers are supposed to be platform agnostic, they cannot used any of the SMBUS based functions if SMBUS is not supported. Maybe I'm just confused :) Renaming the interface sounds like a good idea though.\n\n\nThe main problem I have with the Read(b []byte)  file based fallback is that the contracts to file.Read() and ReadBlockData() are different. The first does not use the command byte and the second might. That will cause drivers to behave differently on different platforms.\n\n\nI'd be happy to take a stab at refactoring existing platforms and devices if we can sort out what we want.. No worries about the delay, @deadprogram, I've been busy :)\n\n\nRe functional options, that makes perfect sense. My question was more about the actual interface of the argument functions. The driver generic case might look something like this:\nfunc Bus(bus int) func(s *I2cSettings) error {\n    return func(s *I2cSettings) {\n        s.setBus(bus)\n    }\n}\nwith the driver specific setting looking like this:\nfunc TSL2561AddressLow(s *TSL2561Settings) {\n        s.setAddressLow()\n}\nIn which case the constructor argument would need to use the more generic type, and we would have to type cast / switch to implement the \"apply\" - loop. Maybe I'm just slow.\nfunc NewTSL2561Driver(a I2c, options ...func(*I2cSettings)) *TSL2561Driver {\n}\nHaving looked through different driver implementations, I can see that they use a number of different  schemes for setting options. I think the more generic handling of device driver options should be handled separately from the I2C changes. No need to refactor both at the same time.\n\n\nI'm not sure falling back to generic I2C is a good idea, but please tell me if I'm misinformed. Reading https://www.kernel.org/doc/Documentation/i2c/smbus-protocol and https://www.kernel.org/doc/Documentation/i2c/dev-interface, I find these sections helpful in sorting out compatibility and fallback solutions:\n\n\n\nNote that only a subset of the I2C and SMBus protocols can be achieved by\nthe means of read() and write() calls. In particular, so-called combined\ntransactions (mixing read and write messages in the same transaction)\naren't supported. For this reason, this interface is almost never used by\nuser-space programs.\nSome adapters understand only the SMBus (System Management Bus) protocol,\nwhich is a subset from the I2C protocol. Fortunately, many devices use\nonly the same subset, which makes it possible to put them on an SMBus.\nIf you write a driver for some I2C device, please try to use the SMBus\ncommands if at all possible (if the device uses only that subset of the\nI2C protocol). This makes it possible to use the device driver on both\nSMBus adapters and I2C adapters (the SMBus command set is automatically\ntranslated to I2C on I2C adapters, but plain I2C commands can not be\nhandled at all on most pure SMBus adapters).\n\nIn my case, I wanted to read a word from a specific register. The device datasheet recommended using SMBus Read Word. I could not get it working using block read or raw read.\nThat to me indicates what the linux docs suggests, that different devices need different methods of communication, and that it is best to expose those methods to the gobot device drivers. They are not simply convenience methods.\nThe only SMBus methods that directly map to raw read/write are \"Send Byte\" and \"Receive Byte\", but I think we should keep Read and Write, and let them do just that, always talk raw I2C.\n. Hey, @deadprogram, I'm closing this PR now, but I'll open a new one with a somewhat complete refactoring of all devices and platforms to support more than one I2C bus and a more detailed interface.\nNo changes to option handling, all devices should work exactly like before.. Great, thanks, that makes sense.\nThen I know and will adapt the implementation accordingly.\n. Hi there.\nThanks for the nice feedback.\nGreat to see that you have time to pick this up now, and that it's mostly working so far!\nI'm all for name changes, if they make more sense. I kept names close to the actual protocol operations, to make it easier if someone is sitting with a device datasheet that talks about a specific I2C/SMBus operation.\nI agree that the names you suggest better describe what the methods actually do.\nLet me know if I can assist on my end.\n. Thank you, @deadprogram, looking forward to the next steps!\n. Great, I'll have a look!. Hi there.\nA difference from Toon's code is that you do a \"reset\" and then return. I don't know how the PiGlow works, but it seems as you init everything, turn on a light, and then reset everything again before exiting. Don't know what \"reset\" does, but it's not used in Toon's example.\nPossibly the default raspi bus in GoBot is not the same as bus 1 used in the other code. But you should have gotten errors then, I guess.\n. Interesting.\nSo I guess one test would be to use the Write method instead of WriteByteData to see if it works any better.. Hi Owen,\nI think it's the other way around, or something like it :)\nThe WriteXXX and ReadXXX calls in i2c call the corresponding methods in sysfs, which in turn are implemented using the SMBUS ioctl calls.\nThe Write and Read calls on the other hand use direct file IO (direct I2C).\nThe library used by Toon's code mixes, and uses SMBUS for the block call and file IO for the WriteByte call.\nTo test with as little differences as possible, you could try to replace your WriteByteData calls with Write calls.\nThat was all I meant.\n. Yes, great find!\nReally interesting if the device supports SMBUS block operations but not the WriteByteData() call.\n. I found a difference between the i2c module used in Toon's code and the Gobot implementation in that that the prior always uses the PEC block transaction while Gobot always uses the non-PEC.\nAdded a possible fix in PR #378. . Hi Owen, that's curious, thanks for trying it out.\nCan you go directly to  WriteBlockData in sysfs/i2c_device.go and hard code it to use I2C_SMBUS_BLOCK_DATA_PEC?\nWith that, it should be the exact same code as in the other library, it would be interesting to figure out if it's the functionality check that fails or what it is.\n/Erik. Sure, change the WriteBlockData method to this: https://gist.github.com/erkkah/503607981df5c3ed2b74bbde61221a3a\nThe 32 byte limit comes from the SMBus standard. I agree I could document the 32 byte limiting better. I did not want to change the contract when I changed the implementation during refactoring, but I guess we should return an error for too large requests.\n. Looks like I made a mistake when importing constants from the c headers. Really confusing. \nI have updated the PR,  but I need to get a device that behaves consistently with block transfers to test and really fix this. \nThanks again Owen for reporting and testing on your end. \n/Erik . Hi Owen.\nGreat find that silly copy thing! Looks like we can share that humble pie :)\nAnd - that shadowing thing can be really confusing. I mainly use vendoring, and have fooled myself a number of times. Thank you so much for continuing to investigate.\nMy confusion, and what I would like to understand better, is the different \"size\" argument options. I have seen a bit of contradictory information, but now trust the \"latest\" linux header files (/usr/include/linux/i2c.h).\nI believe the constants I have in https://github.com/erkkah/gobot/blob/i2c-pec-fix/sysfs/i2c_device.go, should work, and that the I2C_SMBUS_BLOCK_DATA (value 5) you use in your gist is correct.\nHowever, the I2C lib that Toon's code is using uses I2C_SMBUS_I2C_BLOCK_DATA (value 8).\nIf it turns out that the latter is more widely supported, we should probably move to that, and change the functionality check accordingly.\nYour latest gist, does it work?\n/Erik. BTW, that copy fix made both my devices \"behave\", accepting I2C_SMBUS_BLOCK_DATA writing just fine. Changing to I2C_SMBUS_I2C_BLOCK_DATA made one of the devices (TSL2561) fail.\n/Erik. Great news!\nTo answer your question - no, but I'll try to explain.\nWhen entering this, I did what I use to do, and read the documentation. In this case, I went to https://www.kernel.org/doc/Documentation/i2c/dev-interface and https://www.kernel.org/doc/Documentation/i2c/smbus-protocol.\nFrom there, I got the picture that I2C_SMBUS_BLOCK_DATA is to be preferred over I2C_SMBUS_I2C_BLOCK_DATA:\nThe following I2C block transactions are supported by the\nSMBus layer and are described here for completeness.\nThey are *NOT* defined by the SMBus specification.\nHowever, when I started to look into other I2C libraries, I found that they used the I2C_SMBUS_BLOCK_DATA_PEC constant (value 8) for block operations, which made me read up on PEC.\nNow - the meaning of that constant seems to have changed with Linux versions, and PEC control is now a separate ioctl.\nDon't know exactly when that changed, but it looks like a 2.X vs 4.X change. We should be safe with the values now in /usr/include/linux/i2c.h.\nIn addition to this confusion, different devices, as we now have shown, support different block operations. The PiGlow likes 8 but not 5, while the TSL2561 is the exact opposite. The DRV2605L supports both.\nI'm starting to think that we should expose both, and document thoroughly.\n@deadprogram, what do you think?\n/Erik. In my case the support is device dependent, but might very well be platform dependent as well.\nSo, three dimensions of compatibility.. I'm starting to think that block operations are too complex to be worth supporting at this level. It seems as direct sysfs writes \"always works\" for block type writes.\nFailover would be great, but in my case, would not work either. I never get any errors, the functionality checks seem to pass, yet it did not work.\nIf we keep WriteBlockData() I agree we should keep the []byte interface. Passing a [32]byte would need a separate length argument for all cases where the intention is to write less than 32 bytes.\nWhy I started to work on this area in the first place was that I could not get word size reads to work on the TSL2561 using the original implementation. Then I tried to make the interface as close to the underlying system calls as possible, reusing the same operation names, et.c.\nI think it's easier now to write correct driver code using the exposed Byte and Word methods, but the Block stuff so far has proven the opposite.\nSo, right now, I would suggest removing block operations, or adding separate methods for the two kinds. . Hi @owenwaller, the reason I started to look into this in the first place was that I could not get the TSL2561 to work using simple Read/Write operations. :)\nI like the suggestion from @deadprogram, to back off the smbus block operations until they are really needed, but keeping the WriteBlockData() as a convenience. However, I think we should remove ReadBlockData() for now since that is not easily implemented using Read().\nThat would leave us with a less confusing, and more widely compatible I2C layer.\nThe WriteBlockData() implementation should still limit writes to 32 bytes. Don't think it will be a problem, since that is the expected behavior. If there is a need to write more, we are back in I2C (non-SMBus) land and plain Write() is the appropriate operation.. I put together a version with the suggested changes in place, and added capabilities checks for all smbus operations: https://github.com/erkkah/gobot/commits/i2c-remove-smbusblock.\nHad to extend MockSyscall to make tests pass, hope that was OK.\nTake a look, if it seems to work, I can make it a PR.. @owenwaller, the layer in drivers/i2c does two things, first it adds support for i2c on platforms that do not have sysfs, currently the firmata has it's own implementation. Second, it makes it possible to support several different i2c buses at the same time in a consistent manner.\nIn the sysfs case, it acts as a proxy on top of sysfs/i2c_device.go, so you are right that the interfaces are duplicated.\nThe general idea of the chosen set of methods is to make it easy to follow datasheets and preexisting example code. WriteBlockData happens to be part of the SMBus lingo, and is always limited to 32 bytes. For a pure SMBus device, it is not possible to use Write() with bigger blocks.\nThe challenge with implementing ReadBlockData() using Read() is to write the register/command byte to the device before reading. Some devices will accept setting the register/command by a single byte write before reading. If that is not accepted, Read() will always start from register 0, so even if you want to read from regs 5 to 15 you would have to read the first 5 and throw away the result.\nBecause of this, I think it is safe to leave ReadBlockData() out.\n. Hey, @owenwaller, I'm moving forward with the PR then, it should resolve this issue.\nRegarding your questions, I really don't know :) There is a lot to read on the subject, though, both on the Linux side and from hardware manufacturers.\n/E. Great, thanks!\nI added a simple example.\nWill do the same for the DRV2605L driver.. Needs more testing, closing for now. . Hey, @deadprogram. Thanks for merging!\nI hope this version provides a more stable interface.\n. Hi, @deadprogram.\nThanks for the feedback. I think it makes sense to move the overlay manager out, I just added it because it was a natural place for me to put it since I need it. I'll move it to a separate package, outside of Gobot.\nI will give the lazy init suggestion a try, and resubmit.\nDon't know enough about Gort to know what that would mean :) I'll start with just moving it out of Gobot.\n. Hi @deadprogram. I'll close this PR and resubmit from a clean branch instead.\nRe Gort, what would be the expected outcome of a gort chip install pwm command? Would it simply do the overlay juggling to get the device in place, or would it also modify init scripts to make it permanent?\nIn other words, would it be expected that a user would have to run the command on each boot?. Feels like an uphill battle fighting the coverage gods \u263a\ufe0f. Oops. Had obviously not tested that one enough, also not sure if the same condition as on C.H.I.P holds on other platforms, that polarity cannot be set when PWM is enabled.. Just checked https://www.kernel.org/doc/Documentation/pwm.txt, and the contract holds, cannot set polarity when enabled.. Done!. ",
    "osiloke": "reinstalled gobot, and it stopped spawning infinite goroutines. I must not have been using the latest master. Although, i now notice that a signal interrupt (ctrl+c) does not shut it down\n. ",
    "TheInsideMan": "hi @mattetti @zankich @deadprogram do you have any sample code you can share ?\n. update... I easily adapted edison_grove_lcd.go from the example folder. Works perfectly with Raspberry Pi. Thanks again guys.\n. @mattetti Perfect, many thanks!\n. I tried to run $ sudo ./aambr \nThis does stop the error printing but still no flashing LED :(\n. thank you @deadprogram thats working now! much appreciated. Let me take the opportunity to thank you for your work on Gobot. Im very excited to have be writing go on raspberry pi. Have ordered my Grove LCD for my pet project to a monitor remote server performance.\n. ",
    "Depado": "Hi, yes that sure needs some explanation ! \nI had the exact same issue as you @TheInsideMan, thanks a lot for the clarification @deadprogram :D\n(When I say, exact same issue, we have the exact same setup and approximately quite the same code haha)\n. ",
    "gherlein": "Probably need some error handling if you call gpio.NewLedDriver with a pin that is not a GPIO pin...\n. this branch fixes the error for me, thanks.. ",
    "nilskuhn": "Where do you see labels on the raspberry gpio pins? \nI'm using version 2 B of the pi.. thx, I already found it in the meanwhile. @deadprogram Could you please show an example for defining commands that can be called after robot is started?\nI'm controlling a stepper motor with the snippet below. But my robots work function never returns and hangs after printing \"Work done.\". My program acts like a daemon doing some house automization tasks on a raspberry pi and I would like to do the stepper motor (i.e. the robot) some work from time to time. What would be the way to go to achieve that?\n```go\nfunc (sdm *SanyoDenkiMotor) Rotate(revolutions float32, direction RotationDirection, speed RotationSpeed){\nmotorWork := func() {\n\n    defer sdm.deactivate()\n    sdm.activate()\n\n    stepsPerRevolution := int(sdm.GetBaseStepsPerRevolution()) * sdm.rMode.microStepCount\n    var delay time.Duration\n            delay = time.Duration(((1 / float32(stepsPerRevolution)) * float32(time.Second)) / float32(speed))\n    steps := int(float32(stepsPerRevolution) * revolutions)\n\n    sdm.SetDirection(direction)\n    for i := 0; i < steps; i++ {\n        sdm.stepPin.On()\n        time.Sleep(delay * time.Nanosecond)\n        sdm.stepPin.Off()\n        time.Sleep(delay * time.Nanosecond)\n    }\n    fmt.Println(\"Work done.\")\n}\n\nrobot := gobot.NewRobot(\"SanyoDenkiStepper\",\n    []gobot.Connection{sdm.rAdaptor},\n    []gobot.Device{sdm.dirPin, sdm.stepPin, sdm.sleepPin, sdm.modePins[0], sdm.modePins[1], sdm.modePins[2]},\n    motorWork,\n)\nrobot.Start()\n\n}\n. ok, obviously that's intentionally, because sprk+ driver is just a wrapper around embedded ollie driver....\n$ uname -a\nLinux iteratec-laptop 4.15.0-32-generic #35~16.04.1-Ubuntu SMP Fri Aug 10 21:54:34 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\n```\nBy multiple you mean more than two? Because two are already working.. The problem was my laptop or the kernel version/os on it. \nOn a raspberry pi version 3 it worked :). ",
    "steffenmllr": "Any chance to add support for the mpr121 in 1.8 ? . ",
    "hrishikesh195": "I have coded up the support for GPIO and I2C for the CHIP. The GPIO (digital read/write) seems to be working fine but I'm having trouble with I2C. The device I'm using is a Wii Nunchuk. When I start the code the following error floods the screen -\n2016/01/31 22:15:53 Event does not exist\n2016/01/31 22:15:53 Event does not exist\n2016/01/31 22:15:53 Event does not exist\n2016/01/31 22:15:53 Event does not exist\n2016/01/31 22:15:53 Event does not exist\n...\n...\nTo see if this was something specific to the CHIP, I tried to run it on a Raspberry Pi but the same thing happened. Here's the raspi example code -\n``` go\npackage main\nimport (\n    \"fmt\"\n\"github.com/hybridgroup/gobot\"\n\"github.com/hybridgroup/gobot/platforms/i2c\"\n\"github.com/hybridgroup/gobot/platforms/raspi\"\n\n)\nfunc main() {\n    gbot := gobot.NewGobot()\nraspiAdaptor := raspi.NewRaspiAdaptor(\"raspi\")\nwiichuck := i2c.NewWiichuckDriver(raspiAdaptor, \"wiichuck\")\n\nwork := func() {\n    gobot.On(wiichuck.Event(\"joystick\"), func(data interface{}) {\n        fmt.Println(\"joystick\", data)\n    })\n\n    gobot.On(wiichuck.Event(\"c\"), func(data interface{}) {\n        fmt.Println(\"c\")\n    })\n\n    gobot.On(wiichuck.Event(\"z\"), func(data interface{}) {\n        fmt.Println(\"z\")\n    })\n}\n\nrobot := gobot.NewRobot(\"chuck\",\n    []gobot.Connection{raspiAdaptor},\n    []gobot.Device{wiichuck},\n    work,\n)\n\ngbot.AddRobot(robot)\n\ngbot.Start()\n\n}\n```\nUsing the command line tools (i2cset and i2cdump) I'm able to read bytes off of the nunchuk on both the CHIP and the Pi -\n```\ni2cset -y 0 0x52 0x40 0x00\ni2cset -y 0 0x52 0x00\ni2cdump -y -r 0-5 0 0x52 c\n 0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f    0123456789abcdef\n\n00: 7e 70 8e 4b 73 7b                                  ~p?Ks{\n```\nAre there any known issues with the Wii Nunchuk code in gobot? I'm using the code from the latest dev branch.\n. Unfortunately I don't have any other I2C device right now. I have submitted a PR. It would be great if you could test it with some other I2C device. Thanks.\n. Great! Thanks.\nI looked into the wiichuck problem a little bit more. Let me open a new issue and add my findings there.\nAlso, I had tried the forums to get more details on PWM (here's the post) but didn't have much luck there. Let me see if directly emailing them helps.\n. It turns out that the ioctl for I2C_FUNCS doesn't take in any argument identifying the specific device address. So the available I2C functionality depends on the hardware and not the device being used. I wrote a little C program to get the functionality available on a Raspberry Pi.\nThe mask turns out to be 0xeff0009, which includes the following -\n```\ndefine I2C_FUNC_I2C            0x00000001\ndefine I2C_FUNC_SMBUS_PEC      0x00000008\ndefine I2C_FUNC_SMBUS_QUICK        0x00010000\ndefine I2C_FUNC_SMBUS_READ_BYTE    0x00020000\ndefine I2C_FUNC_SMBUS_WRITE_BYTE   0x00040000\ndefine I2C_FUNC_SMBUS_READ_BYTE_DATA   0x00080000\ndefine I2C_FUNC_SMBUS_WRITE_BYTE_DATA  0x00100000\ndefine I2C_FUNC_SMBUS_READ_WORD_DATA   0x00200000\ndefine I2C_FUNC_SMBUS_WRITE_WORD_DATA  0x00400000\ndefine I2C_FUNC_SMBUS_PROC_CALL    0x00800000\ndefine I2C_FUNC_SMBUS_WRITE_BLOCK_DATA 0x02000000\ndefine I2C_FUNC_SMBUS_READ_I2C_BLOCK   0x04000000 / I2C-like block xfer  /\ndefine I2C_FUNC_SMBUS_WRITE_I2C_BLOCK  0x08000000 / w/ 1-byte reg. addr. /\n```\nNotably absent is -\n```\ndefine I2C_FUNC_SMBUS_READ_BLOCK_DATA  0x01000000\n```\nOn a CHIP, the mask is 0xeff000b (for /dev/i2c-1); I2C_FUNC_SMBUS_READ_BLOCK_DATA is absent there as well.\nI ran an experiment to read and write using basic read/write syscalls on the file descriptor and it seems to be pretty reliable. Here's the C code to do that on the Raspberry Pi -\n``` C\ninclude \ninclude \ninclude \ninclude \ninclude \ninclude \ninclude \ninclude \ninclude \ninclude \ndefine WII_ADDR 0x52\nint main()\n{\n        int i, fd;\n        char init_seq[] = {0x40, 0x00};\n        char reset_seq[] = {0x00};\n        char buf[6];\n        bzero(buf, sizeof(buf));\n    if ((fd = open(\"/dev/i2c-0\", O_RDWR)) < 0) {\n            fprintf(stderr, \"open failed: %s\\n\", strerror(errno));\n            exit(1);\n    }\n    if (ioctl(fd, I2C_SLAVE, WII_ADDR) < 0) {\n            fprintf(stderr, \"ioctl failed: %s\\n\", strerror(errno));\n            exit(1);\n    }\n    if (write(fd, init_seq, sizeof(init_seq)) < 0) {\n            fprintf(stderr, \"write init sequence failed: %s\\n\", strerror(errno));\n            exit(1);\n    }\n    usleep(10000);  // let the wiichuck recover\n    if (write(fd, reset_seq, sizeof(reset_seq)) < 0) {\n            fprintf(stderr, \"write reset sequence failed: %s\\n\", strerror(errno));\n            exit(1);\n    }\n    usleep(10000);  // let the wiichuck recover\n    if (read(fd, buf, sizeof(buf)) < sizeof(buf)) {\n            fprintf(stderr, \"read failed: %s\\n\", strerror(errno));\n            exit(1);\n    }\n\n    printf(\"Wiichuck data: \");\n    for (i = 0; i < sizeof(buf); i++) {\n            printf(\"%x \", buf[i]);\n    }\n    printf(\"\\n\");\n    return 0;\n\n}\n```\nExample run -\n$ gcc -Wall basic_io.c && ./a.out\nWiichuck data: 70 71 81 7f 69 3\nSo we can fix this by either always doing direct read/write calls to the file descriptor like in the code above, or by querying for functionality first and falling back to the above method if SMBus block read/write is not available. What do you think @deadprogram ?\n. Resolved by commit 4fdcb6e71850458134aec567c1507a6ba649283e. Closing the issue.\n. I think the assertion in the test is incorrect. The assertion should expect 3 bytes, not 4 since only 3 were previously written -\n``` go\n    buf := []byte{0x01, 0x02, 0x03}\nn, err := i.Write(buf)\n\n```\nSo even though the buffer used for reading has size 4, the read should return the number of bytes actually read.\nThe test did not fail earlier because the function func (d *i2cDevice) Read() would stash away the length of the passed-in buffer in the first byte of the buffer given to ioctl. Since the mock syscall is a no-op, that value would remain unchanged and would end up as the return value.\nI'll change the test assertion and update the PR.\n. Do you think you could also test this change with your Grove LCD just as a regression test? Thanks.\n. My pleasure!\n. Sorry I should have picked the right naming scheme for the pins in the initial commit itself. I had based it off of the Beaglebone Black naming scheme but I realized that the C.H.I.P. has pin names printed right on the header itself and it would be better to use those names.\n. I'm not sure why this test failed. The changes seem unrelated to the makey button. I'm wondering if this is a timing issue. In the test, it seems like one goroutine is expected to receive something from a recently spawned goroutine within 15 ms. I'm wondering if the spawned goroutine didn't get a chance to run at all, thereby causing the timeout.\nIs there a way to trigger a re-run of this test?\n. ",
    "npotts": "So Im giving this a shot.  Before I start getting buried in details and state charts - A few questions:\n- Should there be a \"platforms/motors\" category or just cram everything in \"platforms/gpio\"?\n- In order to fulfill the gobot.Driver interface, Ill need to implement the gobot.Connection interface.  Do you have any other places where multiple pins are marshaled into a single robot.Connection (eg i2c, spi, etc) so I can see what would be a reasonable approach?\n. Hey @deadprogram \nIm not ready for a pull request as Ive got to mock this mess up and actually make some motors move, but Ive stubbed out the logic on my fork.  My question is more asking if this the right idea?  Ive never used a stepper in \"go\" mode, but always in more of a \"step 230 times to the left\" fashion.\n. Yeah.  Thats on my near term plate.  Life has been, err, Xtra busy.\nDont merge this yet.. @deadprogram - give this a whirl.  It looks like AppVeyor build fails, but its shouldn't be related to the changes Ive made. I am not sure if I should close or reopen this pull request.. ",
    "Ravenwater": "Is there appetite to design a proper abstraction for the concept of motor control so that both stepper as well as DC+Encoder solutions can be used to accomplish motion control? The higher level abstractions would be valuable for simplifying/unifying GN&C solutions, so it would be good to build this into the overall structure of Gobot. As motion control requires the geometry of the drive configuration this is a non-trivial task. Hierarchical GN&C can be used to subsystem the motion control so that you can used closed loop motor control algorithms to approximate positioning.\nFrom a system design point of view the idea that stepper motors are like LEDs is not helping the architecture of the software.\n. Conceptually, what would be the situation you want to avoid:\n1- that the initiator has multiple outstanding requests queuing up, or\n2- that the target has multiple overlapping state updates?\nFor #1, the initiator would test the button press state and filter out concurrent presses (it doesn't matter that you don't know if the down stream has started, all you need to know is if you have dispatched the work, at which point it is in play). For #2, the target would filter the state update overlap. Using a single slot channel should be sufficient to never have multiple overlapping state updates). There is one condition that is up to you to define and that is what to do with multiple button presses? Do you want to keep them as actual actionable events, or can you drop them if they overlap? Clearly, dropping them would yield a simpler system.\n. ",
    "coding-yogi": "any updates on this? If not, I would like to contribute as well. I am planning to replicate this. @deadprogram , please check this. Works fine for me. Sure, let me add one. I am able to drive motor with raspi adaptor but not with gpg3, any pointers?\nI see this error : open /dev/spidev0.1: no such file or directory.\n Here is my code . ",
    "pbdeuchler": "FYI there is support with arduino configurable firmata, if that would be easier to write a go shim for\n. Seconded on the thanks @ryanhatfield... I might implement this as well @deadprogram since I'm currently in need of it for a project. Just glad I don't have to reverse engineer the arduino library.\n. On a quick inspection it looks like that go library is just using the official driver to read/write from a device file, which we won't have the luxury of doing since AFAIK gobot requires direct control due to the different platforms \n. ",
    "devfubar": "Is there any update on this?  I just ran into exactly this issue.....\n. Thanks, was just interested to see if this was still on the agenda since the last comment was a while ago.\nI'm under a bit of time pressure for my project to create a POC.  I really want to use gobot so is there anything I can do as a work around?  I have tried commenting out the offending parts such as this section as @ryanhatfield mentioned however I suspect this has consequences as I see some weird behaviour.\n. Sparkfun with GPIO block\n. Thanks @deadprogram .  I'll give it a bash and see how far I get...\n. OK, I'll probably give it a shot over the weekend.  I also want to add an Edison pinmap file and a switch here to handle the arduino, miniboard and SparkFun GPIO block.\nThe reason for the new pinmap is because the miniboard one has differant labels to what people with a SparkFun would expect eg \"J19-9\" should be just \"14\".\nHow does that sound @deadprogram ?\n. @deadprogram the fix applied on PR #318 doesn't seem to be in the dev?\n. Thanks @deadprogram for getting back to me.  I was just interest to see if this was still the plan as the last comment on #262 was in Feb. I raised this issue as an interim solution to prevent people from wondering why the basic example wasn't working.\nI'm happy to contribute so some sort of guide that you mentioned would be very useful.\n. No problem @deadprogram happy to help especially since you guys are saving em a lot of time :-)  I may add a few sensors and such as I go through, currently working on srf05 as I have a few of them kicking about...\n. If there is no work been done on this already and there are no objections I will probably add this my self.  Just wanted an issue to develop it against.\n. I did think about that as it is what is on the board it self.  However most of the documentation including a lot of the Intel stuff references just the port number eg echo 14 > /sys/class/gpio/export.  When I came to try the code for the first time my natural instinct was to use \"14\" so thats what swayed it in my mind.....\n. ",
    "kittuov": "the build failed about some button driver not related to above changes i suppose\n. ",
    "gmarik": "@deadprogram yeah, i've noticed. Took me a bit to get tests failing.\nHacked together a quick-fix, but if you think we should do it the right way with gobottest package i'll rewrite it. Let me know.\n. @deadprogram done! (unless test suite fails)\nAlso please double check your latest merge is successfully fixed (as it introduced conflict on my side) \n. Any ideas why Is this failing? (looks like Publish order is not predictable)\n--- FAIL: TestPublish (0.00s)\n    gobottest.go:12: utils_test.go:51: 4 - \"int\", should equal,  1 - \"int\"\nAnd this:\n```\ngit.eclipse.org/gitroot/paho/org.eclipse.paho.mqtt.golang.git\n../../../git.eclipse.org/gitroot/paho/org.eclipse.paho.mqtt.golang.git/net.go:59: undefined: tls.DialWithDialer\n``\n. @deadprogram please review! \nMerged fix to this PR from #269\n. Thanks guys!\n. this also takes care of #268 (unless havinggobottest` package is preferred)\n. Ok, closing this one, in favour of #268. This attempt to figure out why tests were failing.\n. ",
    "dsockwell": "A big part of the difference is that the current GPIO driver calls on cape files that are not present in 4.x. It looks like individual pin configuration could be worked into the individual pin drivers as opposed to the overarching GPIO driver for the BBB, but also approximating the PWM configuration at least could go into the connect code to keep things laid out the same. This is a plug-and-play framework so i wouldn't be too upset about dictating pin configurations for the sake of keeping it uniform.\n. Oops, looks like I gave up trying to write tests. Something about having to fake multiple i2c reads. I'll see about finishing this.\n. Sure - the issue here is the test I wrote, platforms/i2c/bme280_driver_test.go , is  incomplete. Are meaningful tests strictly necessary for inclusion in gobot? It feels dirty, but I could null out the tests. This driver has been working continuously in my embedded system for weeks now.\nOtherwise, the bme280 driver operates on several i2c transactions, whereas the test I copied from another driver only uses one. Is there another driver test that simulates multiple i2c read/write cycles that I could crib from?\nAnother option would be to modify bme280_driver.go to operate on the entire i2c output from the device for all i2c read access. The test could then provide the entire 255-byte read and have the driver read multiple times and sort it out.\nWhich of these ideas is most in line with how gobot is meant to work?\n. Will you include temperature and pressure readings in your driver, @deadprogram ?\nI have been using this driver for quite a while and (notwithstanding hardware failures) it's been accurate for months and months of runtime. Please feel free to crib my calculation code, but my golang skills have improved a lot since I wrote this one.. Ha! Good thinking, I like it.. I will give it a shot this morning.. https://github.com/hybridgroup/gobot/pull/393. This PR is pretty ugly, it turns out.. closing as requested\nhttps://github.com/hybridgroup/gobot/pull/394. I have verified that the official drivers from Bosch perform the same temperature calculation on the BMP180 as on BMP280. \nhttps://github.com/BoschSensortec/BME280_driver/blob/master/bme280.c#L179\nhttps://github.com/BoschSensortec/BMP280_driver/blob/master/bmp280.c#L183\nIt is probably only necessary to adjust the i2c address in the drivers for these two sensors.. oh, yeah, the addresses of the calibration constants are different. check out https://github.com/BoschSensortec/BMP280_driver/blob/master/bmp280.h#L563. yeah in a few hours\ncan you post an i2cdump so i can have the data you're actually working with?. ",
    "nevers": "I just upgraded to Debian Jessy and I stumbled on this very same issue. Really sad that its still broken... Is anyone still working on this? I'll try and an have a look myself too.\n. Great work! Sadly, I won't have the time to test it any time soon.. ",
    "DexterInd": "Hey @deadprogram , we are going to put this on our list of projects, sorry for the slow response here.  Just need to find the time.  If anyone is interested in developing on this or working on this though, we're happy to send along a GoPiGo.\n. ",
    "tlrobinson": "(Sorry, accidentally closed this)\nHappy to submit a PR, just wanted to make sure it was desirable.\nI'm guessing even if you set AutoReconnect to true it won't automatically re-subscribe to any topics you initially subscribed to, so you should do so in an OnConnectHandler. I'm new to gobot, is there an existing pattern for that sort of thing?\n. That makes sense, and would be really nice to use in a lot of cases. I went ahead and implemented this and it seems to work well.\nHowever, in my case I need to ignore the first message my MQTT server sends when I subscribe, so if we transparently re-subscribe I won't be able to know if it's the first message or not (though I suppose I could check to see if it's identical to the previous message). There may be other reasons why someone would want to know if the connection is lost as well, so perhaps we should expose OnConnect and OnDisconnect events?\n. ",
    "enkoder": "Thanks @deadprogram. \n. ",
    "lyrixx": "But I have few questions before doing a PR:\nA very strict mapping is needed between pins and ship, so I'm not sure how to handle that. Maybe with a figure like the one about the button documentation\nThe other question is about the BCD (Binary code Decimal) Decoder. I did not use it for now and so I used 8 pins. I'm going to see if I have one to test how does it work. But I don't know how to handle this in the code. May be with two Drivers ? or with a flag ?\nFor now my code looks like this:\n``` go\n    displayNumber := func(i int) {\n        for _, pin := range pins {\n            pin.DigitalWrite(0)\n        }\n    i = i % 10\n\n    if i == 0 {\n        pin2.DigitalWrite(1) // low right\n        pin3.DigitalWrite(1) // low middle\n        pin4.DigitalWrite(1) // low left\n        pin6.DigitalWrite(1) // high left\n        pin7.DigitalWrite(1) // high middle\n        pin8.DigitalWrite(1) // high right\n    } else if i == 1 {\n        pin2.DigitalWrite(1) // low right\n        pin8.DigitalWrite(1) // high right\n    } else if i == 2 {\n        pin7.DigitalWrite(1) // high middle\n        pin8.DigitalWrite(1) // high right\n        pin5.DigitalWrite(1) // middle middle\n        pin4.DigitalWrite(1) // low left\n        pin3.DigitalWrite(1) // low middle\n    } else if i == 3 {\n        pin2.DigitalWrite(1) // low right\n        pin3.DigitalWrite(1) // low middle\n        pin5.DigitalWrite(1) // middle middle\n        pin7.DigitalWrite(1) // high middle\n        pin8.DigitalWrite(1) // high right\n    } else if i == 4 {\n        pin2.DigitalWrite(1) // low right\n        pin5.DigitalWrite(1) // middle middle\n        pin6.DigitalWrite(1) // high left\n        pin8.DigitalWrite(1) // high right\n    } else if i == 5 {\n        pin2.DigitalWrite(1) // low right\n        pin3.DigitalWrite(1) // low middle\n        pin5.DigitalWrite(1) // middle middle\n        pin6.DigitalWrite(1) // high left\n        pin7.DigitalWrite(1) // high middle\n    } else if i == 6 {\n        pin2.DigitalWrite(1) // low right\n        pin3.DigitalWrite(1) // low middle\n        pin4.DigitalWrite(1) // low left\n        pin5.DigitalWrite(1) // middle middle\n        pin6.DigitalWrite(1) // high left\n        pin7.DigitalWrite(1) // high middle\n    } else if i == 7 {\n        pin2.DigitalWrite(1) // low right\n        pin7.DigitalWrite(1) // high middle\n        pin8.DigitalWrite(1) // high right\n    } else if i == 8 {\n        pin2.DigitalWrite(1) // low right\n        pin3.DigitalWrite(1) // low middle\n        pin4.DigitalWrite(1) // low left\n        pin5.DigitalWrite(1) // middle middle\n        pin6.DigitalWrite(1) // high left\n        pin7.DigitalWrite(1) // high middle\n        pin8.DigitalWrite(1) // high right\n    } else if i == 9 {\n        pin2.DigitalWrite(1) // low right\n        pin3.DigitalWrite(1) // low middle\n        pin5.DigitalWrite(1) // middle middle\n        pin6.DigitalWrite(1) // high left\n        pin7.DigitalWrite(1) // high middle\n        pin8.DigitalWrite(1) // high right\n        i = -1\n    }\n}\n\n```\n. Right now, I use 8 wires from the arduino to the seven segment display.\nBut I saw I can also use a BCD decoder to save some arduino pins. But as I said, I'm a noob with everything ;) \nI have to dig more in this direction to see how BCD works. \nI'm going to try ASAP and I will update this RFC ASAP.\n. Hello. Sorry. I did not get time to work again on this project :/\n. ",
    "nhooyr": "alright, thanks\n. I think I realized a small problem with option two. There is no guarantee that the work goroutine is launched and listening on the channel for input when the button is pressed. Thus at the start, it could lose input (unless I add a timeout or something instead of using default) whereas in option one it is guaranteed. Thus I think option one is the cleaner approach.\n. Thank you, I will take a closer look when I get back to using my raspberry pi.\n. No idea, just thought I'd mention it.. ",
    "jish": "It looks like I'm using version 1.6.2:\n$ go version\ngo version go1.6.2 darwin/amd64\n. ",
    "ranjib": "@deadprogram any thoughts on this? \nI think go 1.2/1.3/1.4 related test failures are unrelated. \n. ",
    "dgryski": "I have no idea why the coverage dropped, nor why the test failed :(\n. My automated tooling only picked up some of these (and those are the ones I fixed), but a grep shows lots of other examples of this.  I'll file a PR for those too at some point.\n. ",
    "caledhwa": "So, as I've seen I've broke the build (probably due to the unit tests), I'll refactor the tests. I need to see why the MQTT build WORKS but this one doesn't. Is there an MQTT server being used/set up during the testing?\n. Finally, all checks have passed. I just needed to make some edits, add a few NATS servers and up the coverage. We have the first pass! Review away @deadprogram \n. Hey! No problem @deadprogram - looking forward to adding more. What a great project. Thanks!\n. ",
    "broady": "$ go version\ngo version devel +29ed5da Wed Jul 13 21:18:19 2016 +0000 darwin/amd64\n. ",
    "icecrasher321": "Agree with him. With its brilliant and cheap iot capabilities, the ESP8266 would be a great addition.\n\nOn 16-Aug-2016, at 2:49 AM, AndreyS1 notifications@github.com> wrote:\nWould be great if gobot could support this chip as well.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub https://github.com/hybridgroup/gobot/issues/301, or mute the thread https://github.com/notifications/unsubscribe-auth/ARHpBpWvX4EfHtD9v2_Xq8Qa-qqKodj8ks5qgNf7gaJpZM4JkyEl.\n. \n",
    "olliephillips": "I have no idea what's involved here. But I use Espruino on ESP8266. Being able to use Go would be amazing. It's also worth mentioning ESP3212, which has started to ship, could be more significant in terms of impact than even the ESP8266 was/is\n. @deadprogram thanks I'll check out that link. In terms of gobot.io can we currently treat the ESP8266 as an arduino platform? This was where my thinking started out.\n. ",
    "ericho": "Awesome! The connect() was the thing I needed. Now this code works\n``` go\npackage main\nimport (\n    \"time\"\n    \"github.com/hybridgroup/gobot/platforms/gpio\"\n    \"github.com/hybridgroup/gobot/platforms/intel-iot/edison\"\n)\nfunc main() {\n    e := edison.NewEdisonAdaptor(\"edison\")\n    led := gpio.NewLedDriver(e, \"led\", \"13\")\n    e.Connect()\n    for {\n        led.Toggle()\n        time.Sleep(1000 * time.Millisecond)\n    }\n}\n```\nThanks :)\n. ",
    "juliancheal": "I have a feeling this is related to https://github.com/currantlabs/ble/issues/16 in either currantlabs/ble or currantlabs/gatt\n. @deadprogram Thanks Ron :)\n. ",
    "rafael-azevedo": "The documentation for On() Off() functions need to be changed universally. I spent a good amount of time troubleshooting today when the issue was this change all along . \n. @deadprogram  thanks for the info. I love the project , just trying to make sure there was not looked over .\n. ",
    "agocs": "Would it make sense to allow currying NewAdaptor() and Name, e.g.\ne := edison.NewAdaptor().Name(\"board\")\nedit: Allow but not require\n. @deadprogram It wouldn't have to disallow the other method. E.g.\nfunc (a *Adaptor) Name(name string) *Adapter {}\nwould both mutate the adaptor on which it is a method, and would return a reference to the mutated adaptor such that\ne := edison.NewAdaptor()\ne.Name(\"Bob\")\nis equivalent to\ne := edison.NewAdaptor().Name(\"Bob\")\nNevertheless, I understand why you might not want to add an affordance for currying.\n. ",
    "jfinken": "Hi @deadprogram, many thanks for taking a look and getting back to me.  \nGood catch regarding raspi_adafruit.go.  I previously split that example into raspi_adafruit_dcmotor.go, raspi_adafruit_servo.go and raspi_adafruit_stepper.go, but hadn't yet removed the original, I did that now.\nAlso, gofmt is run on save for files I've modified (as is govet, golint and go build), so I believe the Adafruit code is properly formatted.  That being said I find ~21 files that would be modified on gofmt over the entire tree.  Is this what you would like me to do?  I didn't want to step on any toes...\n~/projects/go/src/github.com/hybridgroup/gobot$ gofmt -l .\nexamples/ardrone_face_tracking.go\nexamples/bebop.go\nexamples/bebop_ps3_video.go\nexamples/ble_battery.go\nexamples/chip_grove_accelerometer.go\nexamples/chip_grove_lcd.go\nexamples/chip_mpu6050.go\nexamples/edison_button_led.go\nexamples/edison_button_led_api.go\nexamples/firmata_integration.go\nexamples/firmata_mpl115a2.go\nexamples/joystick_ps4.go\nexamples/minidrone.go\nexamples/minidrone_ps3.go\nexamples/ollie.go\nexamples/opencv_face_detect.go\nexamples/opencv_window.go\nexamples/sphero_dpad.go\nplatforms/bebop/client/constants.go\nplatforms/bebop/test_helper.go\nplatforms/i2c/mpu6050_driver.go\nThanks!\n. Hi @deadprogram,  anything I can do to help on this PR (or in general for that matter)?  If this isn't of interest that is totally fine too.\nRegarding the failed Travis build, it's a little unclear why it failed.  I do see\ngobottest.go:14: utils_test.go:100: 20 - \"int\", should equal,  30 - \"int\"\nin the log.  In line 100 of utils_test.go, perhaps it should assert i is 20 not 30.  But as I didn't touch anything there I am reluctant to modify that assertion.  \nThanks,\nJosh\n. Radical.  Thanks for merging @deadprogram.  I'm continuing to work on projects with gobot as the driver layer so I'll certainly keep tabs on adafruit_driver, and gobot in general.  Thanks again.\n. ",
    "th002": "I had add function PinMod\nfunc (m *MCP23017Driver) PinMode(pin, val uint8, portStr string) (err error) {\n    selectedPort := m.getPort(portStr)\n    // Set IODIR register bit for given pin to an output/input.\n    if err = m.write(selectedPort.IODIR, uint8(pin), val); err != nil {\n        return\n    }\n    return\n}\n. The data from file-based read is difference of the data from SMBus block-base read\nPlatform is raspberry pi 3\nraspberry pi 3 is support SMBus block read\n. ```\npackage main\nimport (\n    \"fmt\"\n    \"os\"\n    \"syscall\"\n    \"unsafe\"\n)\nconst (\n    I2C_SLAVE = 0x0703\n    I2C_SMBUS = 0x0720\nI2C_SMBUS_READ           = 1\nI2C_SMBUS_I2C_BLOCK_DATA = 8\n// Adapter functionality\nI2C_FUNCS = 0x0705\n\n)\ntype i2cSmbusIoctlData struct {\n    readWrite byte\n    command   byte\n    size      uint32\n    data      uintptr\n}\nfunc main() {\n    f, err := os.OpenFile(\"/dev/i2c-1\", os.O_RDWR, os.ModeExclusive)\n    if err != nil {\n        fmt.Println(\"open file error====>\", err)\n        return\n    }\nvar funcs uint64\n_, _, errno := syscall.Syscall(\n    syscall.SYS_IOCTL,\n    f.Fd(),\n    I2C_FUNCS,\n    uintptr(unsafe.Pointer(&funcs)),\n)\nif errno != 0 {\n    fmt.Printf(\"Querying functionality failed with syscall.Errno %v\\n\", errno)\n    return\n}\n\n_, _, errno = syscall.Syscall(\n    syscall.SYS_IOCTL,\n    f.Fd(),\n    I2C_SLAVE,\n    uintptr(byte(0x20)),\n)\n\nif errno != 0 {\n    fmt.Printf(\"Setting address failed with syscall.Errno %v\\n\", errno)\n    return\n}\n\n//SMBus block read mcp23017 pin 0 port A\nb := make([]byte, 19)\ndata := make([]byte, len(b)+1)\ndata[0] = byte(len(b))\n\nsmbus := &i2cSmbusIoctlData{\n    readWrite: I2C_SMBUS_READ,\n    command:   0,\n    size:      I2C_SMBUS_I2C_BLOCK_DATA,\n    data:      uintptr(unsafe.Pointer(&data[0])),\n}\n_, _, errno = syscall.Syscall(\n    syscall.SYS_IOCTL,\n    f.Fd(),\n    I2C_SMBUS,\n    uintptr(unsafe.Pointer(smbus)),\n)\n\nif errno != 0 {\n    fmt.Printf(\"Read failed with syscall.Errno %v\\n\", errno)\n    return\n}\ncopy(b, data[1:])\nfmt.Println(\"read from SMBus data==========>\", b)\nf.Close()\n\nf, err = os.OpenFile(\"/dev/i2c-1\", os.O_RDWR, os.ModeExclusive)\nif err != nil {\n    fmt.Println(\"open file error====>\", err)\n    return\n}\ndefer f.Close()\n\n_, _, errno = syscall.Syscall(\n    syscall.SYS_IOCTL,\n    f.Fd(),\n    I2C_FUNCS,\n    uintptr(unsafe.Pointer(&funcs)),\n)\n\nif errno != 0 {\n    fmt.Printf(\"Querying functionality failed with syscall.Errno %v\\n\", errno)\n    return\n}\n\n_, _, errno = syscall.Syscall(\n    syscall.SYS_IOCTL,\n    f.Fd(),\n    I2C_SLAVE,\n    uintptr(byte(0x20)),\n)\n\nif errno != 0 {\n    fmt.Printf(\"Setting address failed with syscall.Errno %v\\n\", errno)\n    return\n}\n\n    //file-base read mcp23017 pin 0 port A\ndata2 := make([]byte, 19)\n_, err = f.Read(data2)\nif err != nil {\n    fmt.Println(\"file-based read error====>\", err)\n    return\n}\nfmt.Println(\"read from file-base data=======>\", data2)\n\n}\n```\n- This result is the first run this code:\nread from SMBus data==========> [255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 255]\n    read from file-base data=======> [127 0 0 255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0]\n- This result is the second run this code:\nread from SMBus data==========> [255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 3]\n   read from file-base data=======> [0 0 0 255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0]\n- This result is the third run this code:\nread from SMBus data==========> [255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 3]\n   read from file-base data=======> [0 0 0 255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0]\n- This result is the fourth run this code:\nread from SMBus data==========> [255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 255]\n   read from file-base data=======> [255 0 0 255 255 0 0 0 0 0 0 0 0 0 0 1 0 0 0]\nPlatform is raspberry pi 3 B\n. Yeah,Raspberry pi 3 is not support SMBus block read.\nsmbus := &i2cSmbusIoctlData{\n        readWrite: I2C_SMBUS_READ,\n        command:   0,\n        size:      I2C_SMBUS_I2C_BLOCK_DATA,\n        data:      uintptr(unsafe.Pointer(&data[0])),\n    }\nThis code is i2c_smbus_read_i2c_block_data?\n. ",
    "DaBlitzStein": "Thank you, I will try. I tell you. If not, we will try to develop the driver.\n. It worked perfectly, only the pinout have to be changed due the gnd pins. After this everything ok. Thank you! \n. This is working for queues and subjects?\nThank you.. ",
    "conoro": "@deadprogram Thanks! I also found a quick workaround which was just to use govendor like so:\ngovendor init\ngovendor fetch github.com/hybridgroup/gobot/...@master\nI was then able to build and run the sample app\n. Yeah I just used the code from the bottom of this page: https://gobot.io/documentation/platforms/chip/ \n. ",
    "radovskyb": "Haha sorry whoops! Done, unless you don't just mean changing the base to dev and want me to close and re-pull?\n. I'll close the request and re-submit without the pebble/doc.go file?\n. Whoops almost pulled into master again, sorry!\n. @deadprogram, I switched the base to dev again. Sorry about that... As you can tell I haven't made too many pull requests lol!\n. Anytime! \ud83d\udc4d \n. ",
    "guiferpa": "Don't work, my log:\n2016/10/23 16:09:25 Initializing Robot bot ...\n2016/10/23 16:09:25 Initializing connections...\n2016/10/23 16:09:25 Initializing connection arduino ...\n2016/10/23 16:09:25 Initializing devices...\n2016/10/23 16:09:25 Initializing device sensor ...\n2016/10/23 16:09:25 Starting Robot bot ...\n2016/10/23 16:09:25 Starting connections...\n2016/10/23 16:09:25 Starting connection arduino on port /dev/cu.usbmodem1421...\n. I found the solution, I required install firmata in Arduino UNO\n. ",
    "rraulinio": "@deadprogram I will test the PIR sensor and come back with an answer. Tested the branch files, everything works fine (after editing main.go as you said).\n. Nope, the function doesn't work. The sensor is not detecting anything or it isn't starting, don't know exactly. If I test the sensor via Arduino's compiler, it works perfectly. Nothing via Gobot. Also, if trying to close the program (ex: ctrl+c on windows cmd), it freezes, and I need to restart the cmd (this happens ONLY IF I INITIALIZE A PIR MOTION SENSOR). Please help me asap!\n. Hi, are you sure that you commited the right code? It still doesn't work and you forgot that fmt.println in an infinite loop...\n. Mnope, still not working. Not detecting any motion at all, don't even know if it's calibrating or something... Be sure that everything is plugged corectly, because as I said, it works when runned by Arduino's compiler. I'm running this very basic example and nothing... led on 13, sensor on 7... nothing. I don't know...\n. Mnope, tested again via Arduino's compiler and works perfectly.\nReuploaded Firmata.\nTesting via Gobot, not working. I'm out of ideas...\n. https://s17.postimg.org/rdo910isf/image.png\n. Firmata is at ir's latest version, from October 2016, being updated in Arduino's compiler and then uploaded by me.\nI'm sure that the cables are plugged in ok and the sensor works, because as i said, if i run \"pir motion example on arduino compiler\" it works perfectly.\nI'm using Uno, compatible with Arduino... it's the same thing.\n. I really can't see why it does not work, mostly because it worked for you. Are you sure that you uploaded all the corrections for the code? Maybe you forgot something, don't know.\n. Everything runs properly. \nIn parallel, I run 3 leds and a buzzer from the breadboard, so yes, everything is allright at this point. \nI'm running that example, yes.\n. Uploaded firmata via Gort, retested...  still nothing.\nTested in that very basic example... nothing.\nIt can't be possible that the configuration could have something, because in this case, running it via Arduino's compiler wouldn't work at all, in the first place. It's crystal clear that the problem is either at my version of firmata (don't think so, it's the last one), either on something related to gobot. Please post 2-3 more pictures, with the connections of wires and all, so I can make a check with yours.\n. Yes, very basic example = firmata_blink.go.\nI'm gonna get back at it in a few hours (it's morning here in Romania and I need to go away from home with work).\n. Not work. Initialising and starting sensor, but that's it, no detection further on.\n. Sorry, I was in s hurry, didn't pay full attention. Yes, it worked perfectly, firmata_blink.\n. I will get back at it in about 6-7 hours. I think i'm gonna record a short video with the configuration and with the startup and email it to you on your account's address. Is that ok?\n. No, I thank you. Than, talk to you via email and i will get back here with a new post with the solution when it's done (for others in the same situation).\n. Email sent, check your inbox.\n. So what should I do? I don't understand.\n. Switched, no change... still not working. Sometimes (not always), if I replug the red wire (GRD), it goes on and detects, and than goes off. After that... nothing. I tried every single posibility, with the jumper on L and on H, nothing.\n. Ok, I will see, than. I will try to figure it out. Thanks for all the help,\nI really thank you. Hope this will help others, too.\nOn Nov 1, 2016 19:14, \"Ron Evans\" notifications@github.com wrote:\n\nI have a bunch of these same sensors, they are very slow to reset (needs\nat minimum 5 seconds) but generally reliable if you set the calibration.\nYou for sure need auto reset or it will only trigger once.\nI have tested successfully with a real Arduino Uno, a clone Arduino Uno,\nand an Arduino 101. I've also tested with a couple of different pins.\nIn any case, check your sensor, or your cables, or try another Arduino.\nSeems like everything is working as expected to me.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/325#issuecomment-257628074,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADcd5LhpxIaWSlLMwhxC1DVHg02j6Zntks5q53NYgaJpZM4Kdy0B\n.\n. Uno R3, made like Arduino. Is a replica of Arduino, it's around $6-7 here and does the same thing as an original one. :)) I've tested a lot of algorithms on it, made by me or not, and it works very well. I'm running Go 1.7.3 on Win.\n. No, I just can't make it work. I've tried everything, really everything. It doesn't work with Gobot... only with that Arduino's Compiler. I need to give up for now, I can't focus on this anymore. I will get back at it in a few weeks or something like this. Thanks again for all your help!\n. I've managed to do it properly. I've left Tone() alone and created a separate function called Buzz, with some code similiar with what's in Tone().\nLook at the result (<3): https://www.youtube.com/watch?v=hYrdMETpcW0\nIf you want, I can send you the Buzz function, so you can test it and implement it for other users.\n. \n",
    "wfernandes": "Nevermind. I figured out what I did. Closing until I fix the issue.\n. Just noticed that the build failed because t.Run() is not available in go1.6 \nIf support for go1.6 is required I can update the tests to not use Subtests feature of 1.7\n. @deadprogram Sure. Will make the changes.\n. Hi Ron. I think we should support both.\nI was planning on submitting a PR for it after the Thanksgiving holidays which would also include usage docs for either platform.. ",
    "alexander-yun": "Hi, deadprogram\n1:11 is time when I run the command \"go get -d -u github.com/hybridgroup/gobot/...\"\nYour answer helped me. \nIn  Golang install instructions official page I review again environment variables and find mistake.\nNow install works.\nThank you.\n. ",
    "yoo": "I split up the GoPiGo implementation into a platform and an I2C driver. I tried to make the driver easy to use while keeping the platform compatible with existing gobot components. \nThere are still some functions missing and no unit tests. \nThe 'gopigo_driver_test.go' has an example function using the GoPiGo platform with the GoPiGo driver and the gobot LED driver.   . ",
    "eduncan911": "Same here.. This PR seems to have been superseded by #438 .\nAnd then other devs jumped in and made a final PR #448 which finally got merged.\nSo yes, this one is dead.  \n. ",
    "georgik": "Would it be possible to add this simple patch to master?\nIt took me about hour to find out where is the problem and that there is no such repository at eclipse.org.\nManual workaround is to update: github.com/hybridgroup/gobot/platforms/mqtt/mqtt_adaptor.go\nAnd change line 4 to: \"github.com/eclipse/paho.mqtt.golang\"\nThank you for considering such a change.\n. Thank you for explanation. I also noticed that Gobot web site contains examples from master version and they are not always compatible with dev version of the library. Examples from Github dev branch works. The dev branch is working without problem. I'm looking forward to using release 1.0.. ",
    "nickryand": "Working good now! Thanks for the quick response!. ",
    "elopio": "Oh look, github now has a nice way to change the base ^_^.\nSorry about that, it seems good now.. Wait, I think the whole comment is wrong, because MPL115A2 is not an accelerometer :/\nI will just close this for now, and maybe get back later to fix all the comments.. This is my first attempt at playing with i2c, so any feedback will be appreciated.. on it.. @deadprogram thanks for the review. Please check it again.\nI moved the mode as an argument to the Pressure method. I'm not sure if I should have left it as an attribute of the driver.. \\o/ thank you!. I had some fun today with this gyroscope. But there are quite a few things that I don't know how to write for gobot. In addition to scale, this has high-pass filter, different fifo queue modes, interrupts, output data rate and bandwidth selection. I don't really understand how to use all of them. I usually look at the adafruit library when I get lost, but they are just using the default values for all of that.\nIt would be just fine to use the default values in here, but go doesn't have optional parameters. So if we ever want to support something else, it will break the API.\nPlease take a look.\nI would also be OK donating this PR to somebody who know more about this gyroscope :). Damn it! I'm never going to get it right. I changed the base, sorry about that.. Thanks @deadprogram. I also have here an accelerometer: https://www.adafruit.com/products/163\nBut if I'm understanding correctly, that would be just 3 analog sensors. Should I make an driver for it?. Today I'm back at work, and I love everything I learned with gobot and my bbb over the holidays. I think it will be an awesome component of our snappy systems with Ubuntu Core. If you haven't heard about snaps yet, you can take a look at http://snapcraft.io/\nAs soon as we improve a little our bbb kernel snap I will be writing a few simple demos using gobot to make snaps that interact with the board. But in the mean time, I thought that it wouldn't hurt to make a snap for the gobot code generator. It's not terribly useful because you would get the binary with a go get + go build, but it might serve to expose it a little more to all the ubuntu users. And maybe you can start looking at the security, isolation, automatic updates, unstable channels and the store, which I think would be really useful for gort. A gort snap would be amazing! And making sure that it works in strict isolation would be quite fun.\nSo please take a look at this, and let me know it seems interesting for your projects. For us any kind of feedback would be great, to help us assign the priorities on our backlog.\nTo give it a try in any Ubuntu 16.04 or later:\n$ sudo apt install git snapcraft\n$ git clone https://github.com/elopio/gobot\n$ cd gobot\n$ git checkout snapcraft\n$ snapcraft\n$ sudo snap install *.snap --dangerous\n$ gobot\n\n. Thanks @deadprogram. It would be nice if you register the snap and push it once to the edge channel, to get a feel of what the store offers: https://myapps.developer.ubuntu.com/dev/click-apps/register-name/\nAnd I will be happy to assist with gort. Would you like to meet next week to talk about it?. Thanks a lot for the release @deadprogram!\nWe have an open bug for go 1.7: https://bugs.launchpad.net/snapcraft/+bug/1616985\nIt would be nice to get your comment in there about your use case, so my other teammates take it into account when discussing about priorities.\ngo 1.7 is not super simple to support, because in xenial we have go 1.6. This bug made us discuss about having snapcraft parts [1] that can provide binaries to build other parts. We all loved the idea, and now that you requested it I hope we'll get to work on it soon. In the meantime, I have a solution that I can propose for gobot: https://github.com/elopio/hashicorp-snaps/blob/master/consul/parts/plugins/x-go.py#L3 I want to try to clean it up a little using the most recent features of snapcraft, so I'll send you a PR tomorrow to see if you like it.\npura vida.\n[1] http://snapcraft.io/docs/build-snaps/parts. oh, that's so nice :D\nI'm on vacations next week, and I will use a few of those days to play with my hardware toys. I'll have some good info to fill there afterwards. And hopefully also the gort basics working.\n@deadprogram now, why don't you push this gobot snap to the store? It would be really useful for us to get your feedback there. https://snapcraft.io/docs/build-snaps/publish\nAnything that you hate, that you find wrong or that you would like to see improved, please let me know.. With the installation steps in the README we will get more testers to install it, so we can later move it to stable.\n@deadprogram we also have a new service that will take care of the continuous delivery of the snap every time you make a change in master. You will only have to click a couple of buttons in https://build.snapcraft.io/ Please take a look and let me know what do you think.. ahh, sorry. Luckily, github makes that very simple to change. Now it's proposed in dev.. This should be updated to mention humidity instead of accelerometer.. That sounds good. I have made the change.\nI was thinking a little about this, and it seems that it's a common thing for most drivers to have some sort of options. Maybe for later, when you bump the major version, all drivers could take in the init a kind of generic options as a parameter, and offer a SetOptions in all of them to change it. . ",
    "durgeshm": "macOS Sierra  10.12.2. Yes, feature/currantlabs-ble branch works correctly. No errors. Thank you.. Thanks Ron. Just wanted to clarify if the code from sphero could be applied to ollie/bb8 except for BLE/serial and there wasn't some other fundamental difference. Thanks for confirming. I will see what I can do.. Is this different than the changes in master branch? It looks like 1.1 release already uses currantlabs/ble. Please correct me if I am missing something.\nUpdate: Looking at the newer updates in dev branch. Thanks.. Is there a way to test the HandleResponses method? https://github.com/hybridgroup/gobot/blob/dev/platforms/sphero/ollie/ollie_driver.go#L154\nIt gets added as an event handler/subscriber at https://github.com/hybridgroup/gobot/blob/dev/platforms/sphero/ollie/ollie_driver.go#L107 . \nI also copied (and invoked) the ConfigureCollisionDetection method from sphero_driver. \nUnder what conditions/events, is the \"HandleResponses\" method supposed to get called? Any insights would be great. Thanks.. Hi Ron,\nThe accompanied pull request (https://github.com/hybridgroup/gobot/pull/360) works for me. I have also added an example that is tested for BB-8.\nAdmittedly, I am new to BLE, but it was was not very obvious to me why ReadCharacteristic had to be called (repeatedly) in order to start receiving notification events (that were registered with Subscribe). But, this was the only way, HandleResponses started getting invoked with collision response packets.. ",
    "mtoto": "I encountered the same issue on OSX High Sierra 10.13.6. . ",
    "schmidtw": "That's exactly what I did & somehow thought I'd run the tests.  Hopefully the 2nd change fixes it for travis (worked locally).. ",
    "popey": "Is there a blocker getting gobot in the store? I'd also like to help get this in the store!. ",
    "DerekL": "Can confirm this works, thanks!. ",
    "pakohan": "I'd also be interested in that. I'm a little concerned about the fact that we're dealing with a digital signal where we'd need to differentiate a 28\u00b5s signal from a 50\u00b5s signal (from what I can see in the data-sheet. My concern is that the Go garbage collector and/or scheduler will make it impossible to read the correct value of the GPIO pin.\nI was searching for another driver that solves this problem already but the only drivers reading values from a pin are button drivers that poll in a relatively long interval to get the value of the input.\nSince I'd be interested in writing the driver, here's my background: I'm a experienced Go backend software developer (writing REST APIs for our company) but I'm not very deep into the Go runtime and garbage collector. Additionally, some years ago when studying I had to write a C-Linux driver for the RPi, but just for reading a button value and toggling a LED. After that, I've done nothing anymore with embedded systems, and I never worked with Gobot before.\nFrom this tutorial I found some python that includes a C driver for the sensor. It seems like it is running in user space and so we might be able to write a driver using CGo. The relevant parts of the driver can be found here. I think the fact that it sets the kernels scheduler priority so the reading process doesn't get interrupted speaks for itself.\nNevertheless, it's a nice challenge. What could be the best solution? Maybe we can implement some tiny low-level reading logic in C and make it available via a generic driver that outputs []byte via the io.Reader interface? Asking @deadprogram, what is already there? What is missing? Since you know Gobot, how would you do it?\nI'm really interested about the solution we'll come up with ;-). Hey guys, I've hacked sth. together :-)\n@tiagoboldt That could be interesting for you: https://github.com/pakohan/dht\n@deadprogram I'd like to see this in the Gobot repo, but I think before supporting the other two platforms of the upstream driver the quality isn't good enough. Also, do you really want to have CGo in the Gobot repo, I think this will affect the compilation time of the whole library :-(\nIf you have any ideas or a solution that would be great. I still hope it's possible to write it entirely in Go, but the weather is too nice to develop and debug all of this until it works ;-). ",
    "anisse": "@deadprogram this looks good, but you'd need to drain the channels to get the same functionality as before (use latest value). Something like this:\ngo\nfunc getLeftStick() {\n    for {\n        select {\n        case leftStick.x = <-leftX:\n        case leftStick.y = <-leftY:\n        default:\n            return\n        }\n    }\n}\nAnd even then, it is not enough, because since channels are blocking, the function called by the stick.On Eventer will block, and you won't have the latest value all the time.\nThinking more about this, the mutex is probably the easy way out. But I'd probably use the atomic package; it doesn't support directly using float64s, but you can convert them using the math package.. Just discovered the abstract atomic.Value. Looks nice. I'd probably use it with the whole structure for the sake of simplicity, like this:\n```go\nvar leftValue atomic.Value\nvar leftStick pair\nleftStick = pair{x: 0, y: 0}\nsetLeftStick(leftStick)\nfunc setLeftStick(l pair) {\n    leftValue.Store(l)\n}\nfunc getLeftStick() pair {\n    return leftValue.Load()\n}\n```\nI'm not sure this is correct code though. Needs more testing.. @deadprogram : I like your implementation. Simple and straightforward.. ",
    "martinlindhe": "Thanks, I'll check out the dev branch instead. ",
    "dnishimura": "Wow that was the fastest merge ever \ud83d\ude01. Happy to contribute!. ",
    "kevinjos": "Hi @deadprogram \nHere are the serial devices that I am hooking up to a BeagleBone Black:\nhttp://www.co2meter.com/products/k-30-co2-sensor-module\nhttps://learn.sparkfun.com/tutorials/openscale-applications-and-hookup-guide\nI agree that serial UART is a transport for sensor specific protocol. I am thinking about serial UART as similar to I2C and GPIO.. a ReadWriteCloser with transport specific configurations (baud rate, data bits, parity bits, stop bits, etc.).. Hi @deadprogram,\nThanks for bumping this back up.\nI like your idea to wrap github.com/bugst/go-serial and standardize interacting with serial devices on the Adaptor and Driver interface.. ",
    "owenwaller": "Hi Erkkah,\nFirstly, if I take out the reset behaviour (aka the call to PiGlow.Halt()) I see the same behaviour - i.e. nothing. So it's not the reset call that is the problem. Although you are correct that pointing it in does seem a bit pointless if I want the led to stay on.\nSecondly there is only one i2c device on the Rasp Pi 1 and its at /dev/i2c-1.\nIf I print the result of Adaptor.GetDefaultBus() call as used in the Adaptor.GetConnection call it will return 1.\nToon's code also uses 1 as the i2c bus number.\nIn fairness, I do believe that on a Rasp Pi 2 and 3 the default i2c bus is in fact 0.\nOwen. Erkkahj,\nI'm not 100% sure what you mean here but...\nAll the WriteXXX, ReadXXX, Write and Read calls in i2c.go are just wrappers around calls to\nsysfs.I2cDevice.Write(byte) or sysfs.I2cDevice.Read() \nThe source is here\nWhere as Toon's code bypasses sysfs entirely, and writes directly on the SMBUS. Which I think is Ron's point above.. Erkkah,\nErr exactly which type do you want me to call Write on? The Connection type?\nOwen. Ah ha!\nOkay if I take Erkkah's suggestion and swap all of the WriteXXX calls to i2cDevice.Write calls then it works. I get exactly what I expect - no errors and lights in the PiGlow.\nMy updated code is here:\nhttps://play.golang.org/p/-zcc2ODfLZ\nWhich enables LED zero for 5 seconds before turning it off again.\nSo, if this is a direct write to the i2c bus then it works. But if the WriteXXX calls are via syscalls to the ioctl on the smbus then it doesn't.\nSo it looks like you syscalls aren't working as you expect. Which at least narrows down the problem.\nOwen. OK so I have just tried this.\nIn the Start() method if I swap out the 2nd call to Write()\n```\n// Start initiates the Driver\nfunc (p *PiGlowDriver) Start() error {\n    b := []byte{enableOutput, 0xFF}\n    w, err := p.conn.Write(b)\n    if err != nil {\n        return err\n    }\n    if w != 2 {\n        return errors.New(\"Start: Failed to write the enableOutput bytes\")\n    }\nb2 := []byte{enableLeds, 0xFF, 0xFF, 0xFF}\nw, err = p.conn.Write(b2)\nif err != nil {\n    return err\n}\nif w != 4 {\n    return errors.New(\"Start: Failed to write the enableLeds bytes\")\n}\n\n}\nfor a call to WriteBlockData() like this:\n// Start initiates the Driver\nfunc (p *PiGlowDriver) Start() error {\n    b := []byte{enableOutput, 0xFF}\n    w, err := p.conn.Write(b)\n    if err != nil {\n        return err\n    }\n    if w != 2 {\n        return errors.New(\"Start: Failed to write the enableOutput bytes\")\n    }\n    err = p.conn.WriteBlockData(enableLeds, []byte{0xFF, 0xFF, 0xFF})\n    if err != nil {\n        return err\n    }\nreturn nil\n\n}\n```\nIt breaks the code. Nothing happens on the PiGlow after the change to WriteBlockData - no lights and no errors when the code runs.\nSo whatever is going on WriteBlockData() is broken.\nOwen. And just to confirm this. \nIf I swap a call to Write() for a call to WriteByteData() for the enableOutut byte at the start of the Start() method. And then replace the WriteDataBlock() with a Write() again for the enableLeds write in the above code everything still works.\nSo the combinations of:\nWrite() everywhere works ok\nWriteByteData() and Write works ok\nWriteByteData() and WriteBlockData() fails\nWrite() and WriteBlockData() fails\nSo the issue is defiantly under the call-stack of WriteBlockData.\nOwen. NP. Once things are fixed I'd be happy to put together a PR for the PiGlow. \nI'll open a new issue for it as I need some advice as how best to achieve that.. So pulling the request with:\ngit fetch origin pull/378/head:i2c-pec-fix\ngit checkout i2c-pec-fix\nThen trying a quick a dirty test, by swapping the previous and working call to Write() to WriteBlockByte in the Start() method. So from this:\n```\nfunc (p *PiGlowDriver) Start() error {\n    err := p.conn.WriteByteData(enableOutput, 0x01)\n    if err != nil {\n        return err\n    }\n    b2 := []byte{enableLeds, 0xFF, 0xFF, 0xFF}\n    w, err := p.conn.Write(b2)\n    if err != nil {\n        return err\n    }\n    if w != 4 {\n        return errors.New(\"Start: Failed to write the enableLeds bytes\")\n    }\n    return nil\n}\nto this\nfunc (p *PiGlowDriver) Start() error {\n    err := p.conn.WriteByteData(enableOutput, 0x01)\n    if err != nil {\n        return err\n    }\n    err = p.conn.WriteBlockData(enableLeds, []byte{0xFF, 0xFF, 0xFF})\n    if err != nil {\n        return err\n    }\n    return nil\n}\n```\nThe code fails. There are no lights. The first version works, the later doesn't. \nSo WriteDataBlock() is still broken in the PR :(\nOwen. Hi Erkkah,\nErr, I can do but I'm not entirely sure what I'm supposed to change in WriteBlockData to enable this.\nCan you paste in a diff of some sort and I'll make the change?\nOwen. Err but while I look in sysfs/i2c.go at the `WriteBlockData code, it looks like you are throwing away data, if the function is passed more than 32 bytes. We have this circa line 167...\nif len(data) > 32 {\n        data = data[:32]\n    }\nWhich is silently throwing away data. Why? And surely that should fail with an error - the input data byte slice was to large or something similar?\nIn my case I'm only ever passing in 19 bytes, so I'm not falling foul of this. But others might be.\nOwen. Hi Erkkah,\nYeah, it works! And err, I need to eat some humble pie....\nSo what I have just tried is this:\ngit fetch origin pull/378/head:i2c-pec-fix\ngit checkout i2c-pec-fix\nI am assuming this includes the updates to the PR.\nIf I then replace just the Start() method with the version above then I get what I expect. No errors and a light on the PiGlow.\nAt the minute this is the only Write() that I have replaced with a call to WriteDataBlock().\nLet me add calls to WriteDataBlock everywhere else to confirm things, but at the minute it looks like the PR is good and works. Adding the extra error when the data is truncated would be nice, as I didn't actually know there was a 32 byte limit on the data block size.\nAnd now for my humble pie...\nErkkah, I feel I own you an apology. I suspect your PR, may have worked first if I'd have tested it correctly.\nAt some point I have done either go get github.com/hybridgroup/gobot or a git clone https://github.com/hybridgroup/gobot ~/go/src/github.com/hybridgroup/. So I'd shadowed the gobot tree under ~/go/src/github.com/hybridgroup/gobot.\nThen of course when I tested your PR I pulled your PR into the source tree rooted under ~/go/src/github.com/hybridgroup/gobot which is the wrong source tree and err, not even being built. I only realised this when I added some trace lines into you PR and they didn't appear. \ngo get aliasing might be useful in terms of keeping a project canonical path consistent but it does rely on a very fallible human, like me, to remember not to go get or git clone the root repository directly from github.\nApologies if I mislead you or Ron.\nOwen\n. Hi Erkkah,\nNope we are still broken. Sorry. I can't write more than a single byte using WriteDataBlock.\nAs soon as I change the code that writes the 18 byte data block needed to turn on the leds I get no output (and no errors). If I replace that call with a Write() that writes the 18 bytes I need for the leds + one more for the command, everything works again. \nAs far as I can tell there are two separate issues going on. One I can fix the second I think is down to you.\nIn the code the call to copy is wrong. You had:\ncopy(buf[:1], data)\nBut that needs to be:\ncopy(buf[1:], data)\nCopy copies min(len(dest), len(src)) bytes. In your code buf[:1] is a slice is one byte. So you only copy one byte, not the whole array.\nMy current version - with some tracing and error detection - looks like this gist\nAs an example of what I am trying this output using the above gist should explain things:\nNumber of bytes copied: 18\nlen(data)=18\ndata:[]byte{0xff, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}\nlen(buf)=19\nbuf:[]byte{0x12, 0xff, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0}\nIt looks like the call to d.smbusAccess(...) just isn't writing (all?) of the bytes.\nYour gist, includes an undefined constant I2C_SMBUS_BLOCK_DATA_PEC which might fix things but I need the value to try it. :)\nOwen. Ah ha! I have success.\nSo my change is:\nI2C_SMBUS_BLOCK_DATA       = 8 //5\ni.e. from 5 to 8. If I rebuild everying (with my copy fix) it works. I get a light on the PiGlow and no errors.\nOn my Pi a uname -r returns 4.4.38+\nSo yes, redefining I2C_SMBUS_BLOCK_DATA and using my gist means I have a working solution.\nBut what you seem to be saying is that the value of I2C_SMBUS_BLOCK_DATA is kernel version dependant. Is that correct?\nOwen. You mean have a\nWriteBlockData(...)\nand new\nWriteBlockI2CData(...)\nWe could make WriteBlockData(...) take a [32]byte not a []byte. That would both remove the if check, and fix the block length at a maximum. Which is what the protocol docs seem to suggest. That would be a breaking change though. WriteBlockI2CData(...) would still take a []byte. But then the protocol docs aren't clear. As I read this:\nI2C block transactions do not limit the number of bytes transferred\nbut the SMBus layer places a limit of 32 bytes.\nYou can send more than 32 bytes to the IC, but things will be chunked into 32 byte blocks. So should the implementation do this chunking for the programmer?\nIn this case the COMM \"byte\" can be multi-byte so presumably more than 32 bytes + whatever length of data it needs.\nAll of this would be fine with me. As a driver writer you'd then have to read the IC docs and take your best guess. If as I've found out, if one write call fails then you'd just have to try the other one.\nOwen. @deadprogram. Yes, I am on using a Raspi 1 running a 4.4.38+ kernel on jessie.\nWriteBlockData should not chunk. It can only ever write 32 bytes max.. The SMBus spec seems to forbid chunking in this case. From the spec \nThe opposite of the Block Read command, this writes _up to_ 32 bytes to \na device, to a designated register that is specified through the\nComm byte. The amount of data is specified in the Count byte.\nIf the data parameter remains as a []byte then it should error if its passed more than 32 bytes.\nThe new WriteBlockI2CData that I'm suggesting has no max limit, but would instead write all the data out in 32 byte chunks automatically.\nI would agree that the signature or WriteBlockData should not change. But nor should we delete/depreciate it in favour of just a Read/Write pair.\n@erkkah one difference I have with the PiGlow is that its a write only device. You can't read the values of registers from the IC itself. \nIn terms of knowing which function to use. I've just checked the PiGlow's datasheet and it doesn't say anything about writing to the SMBus in  I2C_SMBUS_BLOCK_DATA vs. I2C_SMBUS_I2C_BLOCK_DATA mode. To paraphrase the data-sheet it just says \"write bytes to this address to get things to happen\". So from the data-sheet alone I'd have no way to know which one of WriteBlockData or WriteBlockI2CData to call. I'd just have to try both and find which one works.\nHaving thought about this again is not ideal. It makes me question my suggestion of a new WriteBlockI2CData method in the first place.\nBut I don't see a way to avoid it. The functions act differently in relation to chunking - as per the spec.\nThe only other option that I see, would be to replace the implementation of WriteBlockData (and maybe all the WriteXXXX methods) with simple call the the underlying Write. @deadprogram is this in effect way you are saying? But then do you error if you are passed more than 32 bytes? I'm not sure you can...\nIs the flip-side of this decision that we'd be using userland access to the i2c device. Rather than off loading the work to the kernel side driver as the native SMBus ioctl's would do?\nI am not sure there are any easy or clear cut decisions on this, other than that we can't break existing code that is out in the wild.\nOwen. @erkkah Thinking about this for 2 seconds more :).\nWhy don't you try the reverse of what I did. In your TSL2561 code, swap all of your ReadXXX calls for Read and similarly swap all of the WriteXXX calls for Write.\nDoes your device still work? Do you need to care if you write (or Read?) form the SMBus in I2C_SMBUS_BLOCK_DATA or I2C_SMBUS_I2C_BLOCK_DATA?\nOwen . I'm not sure. But I need to check my facts first :)\nSo for the PiGlow, I'm calling \n(d *i2cDevice) WriteBlockData(reg uint8, data []byte) (err error) in sysfs/i2c_device.go.\nAnd that needs to write to the SMBus in I2C_SMBUS_I2C_BLOCK_DATA mode not I2C_SMBUS_BLOCK_DATA modes which is what the code v1.2 code currently does.\nBut just to confuse things there we also have this:\nfunc (c *i2cConnection) WriteBlockData(reg uint8, b []byte) (err error)\nin drivers/i2c/ic2.go. Which as far as I know I'm not calling at all...\nSo my first dumb question is:\nWhy do we have both of these? They appear to do the same things in different ways. Where are they different? Which one is the \"SMBus\" one and which one is the \"ic2\" one? \nI actually have two bits of code at the minute. A really simple \"light an led\" program for the PiGlow. This is the code I'm be using to debug the  (d *i2cDevice) WriteBlockData problems. I'm using GoBot with @erkkah's patch when I build this code. This is the PiGlow code I'm been discussing so far.\nBut I also have a much larger bit of code that I plan to turn iinto the PiGlow driver got GoBot. That code is working well but it replaces (d *i2cDevice) WriteBlockData with this:\nunc (p *PiGlowDriver) writeBlockData(address byte, values []byte) error {\n    b := []byte{address}\n    b = append(b, values...)\n    w, err := p.conn.Write(b)\n    if err != nil {\n        return err\n    }\n    if w != len(b) {\n        return fmt.Errorf(\"failed to write the expected number of bytes. Wrote %d but expected %d\", w, len(b))\n    }\n    return nil\n}\nwhere conn is an i2c.Connection.\nThis code has been completely reliable.\nSo why don't we just replace:\n(d *i2cDevice) WriteBlockDatawith a similar Write() in a loop approach? This has the benefit of never needing to know which SMBus(?) write mode you should be in. If we want to clip this at 32 bytes then we can.\n@erkkah at the minute I don't understand why ReadDataBlock (I assume from i2cDevice) can't be similarly implemented as a Read in a loop.\nThoughts?\nOwen . @erkkah So looking at the PR you have more of less done what I suggested in WriteBlockData. So that's fine. I believe the Write() I am calling maps down to you d.file.Write(). But correct me if I am wrong.\nBut looking at the ReadBlockData calls that you have removed it does look like it can be reimplemented as a Read() in a loop.\nOwen. @erkkah. OK two different implementations to access i2c for platforms with different capabilities. That makes sense.\nIf I follow this correctly. Then a Raspi has both implementations available. Yes?\nIf I need to use I2C_SMBUS_I2C_BLOCK_DATA to do a block write to the PiGlow. That would suggest it's not an SMBus compliant device. SMBus isn\u2019t mentioned in the data sheet for the IC either.\nYes?\nSo, if sysfs exists on a platform, is it intended to support the full range of i2c or just the SMBus subset?\nIn terms of ReadBlockData() yes I see what you mean. I don't think its hard to implement. You'd always try the Write() to limit the data first. Then, depending on the failure of the write (or not) you'd know if you needed to throw away bytes from the following Read(). But it is yucky.\nOwen\n. @erkkah Yes the PR should be fine when I looked at it. Let me know when its merged in and where and I'll update things and try building my test code again.\nOwen. Sorry I've been away from working on my PiGlow project for a few days.\nBut, just to say that I've pulled the v1.3.0 release, updated my code to use the i2c WriteBlockData and everything still works. Yeah. So, yes, it looks like this is fixed.\nThank you everyone\nOwen. Hi Ron,\nYes, I've seen that page but it doesn't really help :) I'm looking for an explanation of the drivers architecture and a set of steps to create a new driver.\nAlthough all of the existing drivers seem to follow an similar style, it is not actually obvious - at least not to me at the minute :) - what you need to to to create a new driver.\nOwen. @deadprogram I think I am going to need a few hints on this in the coming days.\nAt the minute the test code I have that I plan to move into the driver can:\n light any single led in any spiral\n light a single arm/spiral, so that's all 6 leds in a arm\n light a single ring, so that's the same colour lit in each of the three spiral arms\n light any random pattern of leds\n fade up-down or down-up over a period any single led, spiral arm or ring\n throb so, that's fade up-down-up or down-up-down, over a period for any led, spiral arm or ring\n flash n times over a period for any led, spiral arm or ring\n Fade, throb, or flash any random pattern of leds\n* Turn all of the leds off\nPlus the usual Start(), Halt(), GetName() and SetName() functions.\nAlso far, as far as I can tell, the code is also go routine safe.  If a fade (for example) is called in one go routing to take place over 3 second, that driver will block and prevent any changes to the PiGlows leds until the fade has finished.\nSo, things are getting close to needing to refactor this into the GoBot driver plan.\nOwen. And finally... :)\nI've got my skeletal PIGlow driver in a state that I can do an early preview off.\nThe code is in  my new PiGlow repo.\nPlease see the README for details of the current state of play. The code is released under the same Apache 2 license as GoBot. You will need GoBot v1.3.0 or better to use this as the code relies on the fix to issue #372 to function correctly.\nCan someone please help me out with converting this to a proper GoBot driver so that the rest of the GoBot community can make use of this. I would very much welcome pull requests for both this and general code review comments. \nOnce the driver is in the correct form I can start the process of adding it to the root GoBot tree.\nIn the meantime I need to create a proper set of go test style tests by converting the demo piglow program into something more test friendly.\nThanks\nOwen\n. Oops... I accidentally closed the issue. Re-opening it.... ",
    "codecov-io": "Codecov Report\n\nMerging #373 into dev will increase coverage by 6.67%.\nThe diff coverage is n/a.\n\n```diff\n@@            Coverage Diff            @@\ndev    #373      +/-\n=========================================\n+ Coverage   68.73%   75.4%   +6.67%   \n=========================================\n  Files         108      42      -66   \n  Lines        5981    2472    -3509   \n=========================================\n- Hits         4111    1864    -2247   \n+ Misses       1541     434    -1107   \n+ Partials      329     174     -155\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| device.go | 42.51% <\u00f8> (-51.24%) | :x: |\n| platforms/pebble/pebble_adaptor.go | | |\n| drivers/i2c/blinkm_driver.go | | |\n| drivers/gpio/led_driver.go | | |\n| drivers/gpio/motor_driver.go | | |\n| platforms/mavlink/mavlink_adaptor.go | | |\n| platforms/parrot/bebop/bebop_adaptor.go | | |\n| platforms/intel-iot/edison/edison_adaptor.go | | |\n| platforms/particle/adaptor.go | | |\n| sysfs/i2c_device.go | | |\n| ... and 61 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3650241...29c6a14. Read the comment docs.. # Codecov Report\nMerging #375 into dev will increase coverage by 0.12%.\nThe diff coverage is n/a.\n\n```diff\n@@            Coverage Diff             @@\ndev     #375      +/-\n==========================================\n+ Coverage   75.75%   75.87%   +0.12%   \n==========================================\n  Files          42       42            \n  Lines        2462     2462            \n==========================================\n+ Hits         1865     1868       +3   \n  Misses        429      429            \n+ Partials      168      165       -3\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| driver.go | 78.52% <\u00f8> (+0.59%) | :white_check_mark: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8895f60...a144fd6. Read the comment docs.. # Codecov Report\nMerging #378 into dev will decrease coverage by -0.02%.\nThe diff coverage is n/a.\n\n```diff\n@@            Coverage Diff             @@\ndev     #378      +/-\n==========================================\n- Coverage   75.68%   75.66%   -0.02%   \n==========================================\n  Files          42       42            \n  Lines        2472     2470       -2   \n==========================================\n- Hits         1871     1869       -2   \n  Misses        432      432            \n  Partials      169      169\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| device.go | 43.2% <\u00f8> (-0.9%) | :x: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4ab1c69...b8b6331. Read the comment docs.. # Codecov Report\nMerging #379 into dev will increase coverage by 0.04%.\nThe diff coverage is n/a.\n\n```diff\n@@            Coverage Diff             @@\ndev     #379      +/-\n==========================================\n+ Coverage   75.68%   75.72%   +0.04%   \n==========================================\n  Files          42       42            \n  Lines        2472     2472            \n==========================================\n+ Hits         1871     1872       +1   \n  Misses        432      432            \n+ Partials      169      168       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| adaptor.go | 74.37% <\u00f8> (+0.25%) | :white_check_mark: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4ab1c69...1cc9cc9. Read the comment docs.. # Codecov Report\nMerging #384 into dev will increase coverage by 0.46%.\nThe diff coverage is n/a.\n\n```diff\n@@            Coverage Diff             @@\ndev     #384      +/-\n==========================================\n+ Coverage   67.16%   67.63%   +0.46%   \n==========================================\n  Files         111      112       +1   \n  Lines        6378     6522     +144   \n==========================================\n+ Hits         4284     4411     +127   \n- Misses       1739     1751      +12   \n- Partials      355      360       +5\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/aio/grove_temperature_sensor_driver.go | 72.09% <0%> (-6.98%) | :x: |\n| platforms/particle/adaptor.go | 86.11% <0%> (\u00f8) | |\n| drivers/i2c/drv2605l_driver.go | 63.33% <0%> (+6.66%) | :white_check_mark: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b7791a9...50d5869. Read the comment docs.. # Codecov Report\nMerging #385 into dev will decrease coverage by 1.25%.\nThe diff coverage is 5.3%.\n\n```diff\n@@            Coverage Diff            @@\ndev    #385      +/-\n=========================================\n- Coverage   67.16%   65.9%   -1.26%   \n=========================================\n  Files         111     112       +1   \n  Lines        6378    6509     +131   \n=========================================\n+ Hits         4284    4290       +6   \n- Misses       1739    1863     +124   \n- Partials      355     356       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/chip/chip_pwm.go | 0% <0%> (\u00f8) | |\n| platforms/chip/chip_adaptor.go | 51.92% <28%> (-8.08%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b7791a9...74da855. Read the comment docs.. # Codecov Report\nMerging #386 into dev will increase coverage by 0.09%.\nThe diff coverage is 50%.\n\n```diff\n@@            Coverage Diff             @@\ndev     #386      +/-\n==========================================\n+ Coverage   67.16%   67.26%   +0.09%   \n==========================================\n  Files         111      111            \n  Lines        6378     6378            \n==========================================\n+ Hits         4284     4290       +6   \n+ Misses       1739     1731       -8   \n- Partials      355      357       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/drv2605l_driver.go | 63.33% <50%> (+6.66%) | :white_check_mark: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b7791a9...7328471. Read the comment docs.. # Codecov Report\nMerging #392 into dev will not change coverage.\nThe diff coverage is n/a.\n\n```diff\n@@           Coverage Diff           @@\ndev     #392   +/-\n=======================================\n  Coverage   67.35%   67.35%         \n=======================================\n  Files         116      116         \n  Lines        6512     6512         \n=======================================\n  Hits         4386     4386         \n  Misses       1765     1765         \n  Partials      361      361\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1e26f48...2b2ef9b. Read the comment docs.. # Codecov Report\nMerging #393 into master will increase coverage by 1.14%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster     #393      +/-\n==========================================\n+ Coverage   67.35%   68.49%   +1.14%   \n==========================================\n  Files         116       85      -31   \n  Lines        6512     3847    -2665   \n==========================================\n- Hits         4386     2635    -1751   \n+ Misses       1765     1129     -636   \n+ Partials      361       83     -278\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/firmata/ble_firmata_adaptor.go | | |\n| platforms/raspi/raspi_adaptor.go | | |\n| drivers/i2c/drv2605l_driver.go | | |\n| drivers/i2c/l3gd20h_driver.go | | |\n| platforms/intel-iot/edison/edison_adaptor.go | | |\n| drivers/i2c/mpl115a2_driver.go | | |\n| platforms/beaglebone/pwm_pin.go | | |\n| drivers/i2c/mpu6050_driver.go | | |\n| platforms/dragonboard/dragonboard_adaptor.go | | |\n| platforms/firmata/tcp_firmata_adaptor.go | | |\n| ... and 22 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1e26f48...e83fa19. Read the comment docs.. # Codecov Report\nMerging #394 into dev will increase coverage by 1.76%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #394      +/-\n==========================================\n+ Coverage   67.01%   68.77%   +1.76%   \n==========================================\n  Files         117       85      -32   \n  Lines        6664     3901    -2763   \n==========================================\n- Hits         4466     2683    -1783   \n+ Misses       1817     1133     -684   \n+ Partials      381       85     -296\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/firmata/ble_firmata_adaptor.go | | |\n| platforms/chip/chip_adaptor.go | | |\n| drivers/i2c/drv2605l_driver.go | | |\n| drivers/i2c/l3gd20h_driver.go | | |\n| platforms/intel-iot/edison/edison_adaptor.go | | |\n| drivers/i2c/mpl115a2_driver.go | | |\n| platforms/beaglebone/pwm_pin.go | | |\n| drivers/i2c/mpu6050_driver.go | | |\n| platforms/chip/chip_pwm.go | | |\n| platforms/intel-iot/joule/joule_adaptor.go | | |\n| ... and 24 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1a3c52c...e83fa19. Read the comment docs.. # Codecov Report\nMerging #396 into dev will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #396   +/-\n=======================================\n  Coverage   67.01%   67.01%         \n=======================================\n  Files         117      117         \n  Lines        6664     6664         \n=======================================\n  Hits         4466     4466         \n  Misses       1817     1817         \n  Partials      381      381\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/opencv/window_driver.go | 93.75% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/opencv/camera_driver.go | 85.29% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/parrot/bebop/test_helper.go | 0% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1a3c52c...88addd4. Read the comment docs.. # Codecov Report\nMerging #400 into dev will decrease coverage by 0.36%.\nThe diff coverage is 93.45%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #400      +/-\n==========================================\n- Coverage   67.01%   66.65%   -0.37%   \n==========================================\n  Files         117      106      -11   \n  Lines        6664     6378     -286   \n==========================================\n- Hits         4466     4251     -215   \n+ Misses       1817     1737      -80   \n- Partials      381      390       +9\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ssd1306_driver.go | 93.45% <93.45%> (\u00f8) | |\n| platforms/joystick/test_helper.go | 0% <0%> (-100%) | :arrow_down: |\n| drivers/gpio/led_driver.go | 34.69% <0%> (-65.31%) | :arrow_down: |\n| drivers/gpio/button_driver.go | 85.18% <0%> (-14.82%) | :arrow_down: |\n| platforms/opencv/utils.go | 92.3% <0%> (-7.7%) | :arrow_down: |\n| platforms/firmata/client/client.go | 74.82% <0%> (-2.46%) | :arrow_down: |\n| drivers/gpio/motor_driver.go | 83.16% <0%> (-2.18%) | :arrow_down: |\n| platforms/intel-iot/edison/pwm_pin.go | | |\n| version.go | | |\n| platforms/particle/adaptor.go | | |\n| ... and 16 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update fc5f64f...6ea0383. Read the comment docs.. # Codecov Report\nMerging #402 into master will decrease coverage by 0.04%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\nmaster    #402      +/-\n=========================================\n- Coverage   67.35%   67.3%   -0.05%   \n=========================================\n  Files         116     116            \n  Lines        6512    6512            \n=========================================\n- Hits         4386    4383       -3   \n- Misses       1765    1767       +2   \n- Partials      361     362       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| eventer.go | 100% <100%> (\u00f8) | :arrow_up: |\n| drivers/aio/grove_temperature_sensor_driver.go | 72.09% <0%> (-6.98%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1e26f48...3ed572f. Read the comment docs.. # Codecov Report\nMerging #403 into dev will decrease coverage by 0.04%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #403      +/-\n=========================================\n- Coverage   75.4%   75.36%   -0.05%   \n=========================================\n  Files        121      121            \n  Lines       7015     7015            \n=========================================\n- Hits        5290     5287       -3   \n- Misses      1344     1346       +2   \n- Partials     381      382       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| eventer.go | 100% <100%> (\u00f8) | :arrow_up: |\n| platforms/particle/adaptor.go | 84.02% <0%> (-2.09%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update f89113c...d86f406. Read the comment docs.. # Codecov Report\nMerging #406 into dev will not change coverage.\nThe diff coverage is 100%.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #406   +/-\n=======================================\n  Coverage   80.39%   80.39%         \n=======================================\n  Files         121      121         \n  Lines        7007     7007         \n=======================================\n  Hits         5633     5633         \n- Misses       1047     1048    +1   \n+ Partials      327      326    -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/gpio/motor_driver.go | 83.62% <100%> (-1.73%) | :arrow_down: |\n| drivers/i2c/tsl2561_driver.go | 85.64% <0%> (+0.95%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9f03dff...8c62d8c. Read the comment docs.. # Codecov Report\nMerging #407 into dev will decrease coverage by 0.23%.\nThe diff coverage is 50.94%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #407      +/-\n=========================================\n- Coverage   80.7%   80.46%   -0.24%   \n=========================================\n  Files        122      123       +1   \n  Lines       7125     7172      +47   \n=========================================\n+ Hits        5750     5771      +21   \n- Misses      1047     1069      +22   \n- Partials     328      332       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/mavlink/mavlink_driver.go | 91.89% <100%> (\u00f8) | :arrow_up: |\n| platforms/mavlink/mavlink_adaptor.go | 86.95% <100%> (+2.74%) | :arrow_up: |\n| platforms/mavlink/mavlink_udp_adaptor.go | 40.9% <40.9%> (\u00f8) | |\n| sysfs/syscall.go | 80% <0%> (-1.82%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 227b528...47e95b5. Read the comment docs.\n. # Codecov Report\nMerging #408 into dev will not change coverage.\nThe diff coverage is 20%.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #408   +/-\n=======================================\n  Coverage   80.46%   80.46%         \n=======================================\n  Files         123      123         \n  Lines        7172     7172         \n=======================================\n  Hits         5771     5771         \n  Misses       1069     1069         \n  Partials      332      332\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/mqtt/mqtt_driver.go | 60% <0%> (\u00f8) | :arrow_up: |\n| platforms/mqtt/mqtt_adaptor.go | 42.16% <50%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 15823a6...749caed. Read the comment docs.\n. # Codecov Report\nMerging #409 into dev will increase coverage by 0.02%.\nThe diff coverage is 25%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #409      +/-\n=========================================\n+ Coverage   81.4%   81.43%   +0.02%   \n=========================================\n  Files        122      122            \n  Lines       7159     7157       -2   \n=========================================\n  Hits        5828     5828            \n+ Misses      1004     1002       -2   \n  Partials     327      327\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/nats/nats_driver.go | 61.53% <0%> (+4.39%) | :arrow_up: |\n| platforms/nats/nats_adaptor.go | 58.92% <50%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9356573...412fa0a. Read the comment docs.\n. # Codecov Report\nMerging #412 into dev will decrease coverage by 0.08%.\nThe diff coverage is 83.6%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #412      +/-\n==========================================\n- Coverage   82.65%   82.57%   -0.09%   \n==========================================\n  Files         123      123            \n  Lines        7324     7407      +83   \n==========================================\n+ Hits         6054     6116      +62   \n- Misses        956      973      +17   \n- Partials      314      318       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ads1x15_driver.go | 83.6% <83.6%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 912a175...03f178e. Read the comment docs.\n. # Codecov Report\nMerging #413 into dev will decrease coverage by 0.51%.\nThe diff coverage is 37.03%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #413      +/-\n==========================================\n- Coverage   84.88%   84.36%   -0.52%   \n==========================================\n  Files         123      124       +1   \n  Lines        7381     7462      +81   \n==========================================\n+ Hits         6265     6295      +30   \n- Misses        849      899      +50   \n- Partials      267      268       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ina3221_driver.go | 37.03% <37.03%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 959a406...2697b2b. Read the comment docs.\n. # Codecov Report\nMerging #415 into dev will increase coverage by 0.04%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #415      +/-\n==========================================\n+ Coverage   84.88%   84.92%   +0.04%   \n==========================================\n  Files         124      124            \n  Lines        7462     7485      +23   \n==========================================\n+ Hits         6334     6357      +23   \n  Misses        857      857            \n  Partials      271      271\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/raspi/raspi_adaptor.go | 93.27% <100%> (+1.61%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update b857284...82ca627. Read the comment docs.\n. # Codecov Report\nMerging #417 into dev will increase coverage by 0.05%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #417      +/-\n==========================================\n+ Coverage   84.91%   84.96%   +0.05%   \n==========================================\n  Files         124      124            \n  Lines        7490     7490            \n==========================================\n+ Hits         6360     6364       +4   \n+ Misses        858      854       -4   \n  Partials      272      272\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ina3221_driver.go | 90.12% <0%> (+4.93%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 3505704...1bce89a. Read the comment docs.\n. # Codecov Report\nMerging #418 into dev will decrease coverage by <.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #418      +/-\n==========================================\n- Coverage   85.07%   85.06%   -0.01%   \n==========================================\n  Files         124      124            \n  Lines        7542     7540       -2   \n==========================================\n- Hits         6416     6414       -2   \n  Misses        854      854            \n  Partials      272      272\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/firmata/client/client.go | 85% <0%> (-0.13%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update e9c6cdc...a321e71. Read the comment docs.\n. \n",
    "tampajohn": "I just tested blink with my mega2560 and all seems to work.  It certainly may be your board.  I'm running on OSX Sierra with go 1.7.3.. Well that's weird, it worked once, and now no longer works.  Will try to see what's going on.. ",
    "rkjdid": "Hi all,\nI'm having a recurrent hang-at-connect on a Arduino Nano (I think v3.2) - just starting to tackle that but I'm under the impression that there's a problem either with locks or order of \"Events\" triggered (CapabilityQuery etc.)\nSo yeah basically program hangs on client.Connect() 95/100 times, I've seen it work 2 times so far.... tell me if you think this is unrelated I'll start another issue ;\nhere's the stack trace - definitely a deadlock here :\n```\ngoroutine 10 [running]:\nmain.main.func3()\n        /home/rkj/go/src/github.com/solar3s/regenbox/goregen/main.go:52 +0x9e\ncreated by main.main\n        /home/rkj/go/src/github.com/solar3s/regenbox/goregen/main.go:53 +0x3a1\ngoroutine 1 [chan receive]:\nmain.main()\n        /home/rkj/go/src/github.com/solar3s/regenbox/goregen/main.go:55 +0x3d7\ngoroutine 17 [syscall, locked to thread]:\nruntime.goexit()\n        /usr/local/go/src/runtime/asm_amd64.s:2197 +0x1\ngoroutine 5 [syscall]:\nos/signal.signal_recv(0x0)\n        /usr/local/go/src/runtime/sigqueue.go:116 +0x104\nos/signal.loop()\n        /usr/local/go/src/os/signal/signal_unix.go:22 +0x22\ncreated by os/signal.init.1\n        /usr/local/go/src/os/signal/signal_unix.go:28 +0x41\ngoroutine 6 [chan send]:\ngobot.io/x/gobot.NewEventer.func1(0xc42000c8a0)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:68 +0x115\ncreated by gobot.io/x/gobot.NewEventer\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:73 +0x154\ngoroutine 7 [chan receive]:\ngobot.io/x/gobot.NewEventer.func1(0xc42000c8c0)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:65 +0x6c\ncreated by gobot.io/x/gobot.NewEventer\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:73 +0x154\ngoroutine 8 [chan receive]:\ngobot.io/x/gobot.NewEventer.func1(0xc42000c9c0)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:65 +0x6c\ncreated by gobot.io/x/gobot.NewEventer\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:73 +0x154\ngoroutine 9 [chan send]:\ngobot.io/x/gobot.(eventer).Publish(0xc42000c8a0, 0x55571c, 0xd, 0x520760, 0xc420011650)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:102 +0xa3\ngobot.io/x/gobot/platforms/firmata/client.(Client).process(0xc4200a0140, 0x0, 0x0)\n        /home/rkj/go/src/gobot.io/x/gobot/platforms/firmata/client/client.go:481 +0x655\ngobot.io/x/gobot/platforms/firmata/client.(Client).Connect(0xc4200a0140, 0x7f3a40, 0xc42000e078, 0xc42000e078, 0x0)\n        /home/rkj/go/src/gobot.io/x/gobot/platforms/firmata/client/client.go:192 +0x3db\ngobot.io/x/gobot/platforms/firmata.(Adaptor).Connect(0xc42006e2a0, 0x1, 0x1)\n        /home/rkj/go/src/gobot.io/x/gobot/platforms/firmata/firmata_adaptor.go:83 +0x53\ngobot.io/x/gobot.(Connections).Start(0xc42000c9e0, 0x3, 0x3)\n        /home/rkj/go/src/gobot.io/x/gobot/connection.go:54 +0x293\ngobot.io/x/gobot.(Robot).Start(0xc42006e3c0, 0x0, 0x0, 0x0, 0x0, 0x0)\n        /home/rkj/go/src/gobot.io/x/gobot/robot.go:151 +0x1a7\nmain.main.func2(0xc42006e3c0)\n        /home/rkj/go/src/github.com/solar3s/regenbox/goregen/main.go:44 +0x4a\ncreated by main.main\n        /home/rkj/go/src/github.com/solar3s/regenbox/goregen/main.go:48 +0x389\ngoroutine 13 [semacquire]:\nsync.runtime_SemacquireMutex(0xc42000c8bc)\n        /usr/local/go/src/runtime/sema.go:62 +0x34\nsync.(Mutex).Lock(0xc42000c8b8)\n        /usr/local/go/src/sync/mutex.go:87 +0x9d\ngobot.io/x/gobot.(eventer).Unsubscribe(0xc42000c8a0, 0xc42006e540)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:116 +0x3a\ngobot.io/x/gobot.(eventer).Once.func1(0xc42006e540, 0x55571c, 0xd, 0xc420011470, 0xc42000c8a0)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:146 +0xe9\ncreated by gobot.io/x/gobot.(eventer).Once\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:150 +0x79\ngoroutine 14 [chan receive]:\ngobot.io/x/gobot.(eventer).Once.func1(0xc42006e5a0, 0x555cec, 0xf, 0xc420011480, 0xc42000c8a0)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:143 +0x4e\ncreated by gobot.io/x/gobot.(eventer).Once\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:150 +0x79\ngoroutine 15 [chan receive]:\ngobot.io/x/gobot.(eventer).Once.func1(0xc42006e600, 0x5567f0, 0x12, 0xc420011490, 0xc42000c8a0)\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:143 +0x4e\ncreated by gobot.io/x/gobot.(eventer).Once\n        /home/rkj/go/src/gobot.io/x/gobot/eventer.go:150 +0x79\n```. this above solves it for me, probably not the way to do it though.\n@matipan could you try it on your hardware?. gladly, let me get back to you soon. sorry I wasn't sure. not certain it does, I'm having the issue you mention also when interrupting.\nI think it doesn't happen if explicitly calling robot.Stop(). nvm, it might be the case. I had a wrong use-case (can't reproduce #376). Hey @deadprogram, I wanted to give a proper answer but I've been a swamped mofo these last weeks..\nI agree with you, the use-case of no Autorun makes sense, and the trap makes sense too. What troubled me is that Work() routine which has litteraly no way of ever doing any more \"work\", waiting on a chan receive - taking into account the debugging purpose of seeing your routine running makes sense, but I would argue that it can be achieved better with a simple log.Print(\"work done\"), although that might be opinionated.\nWhat I didn't take into account are the event handlers, thus calling bot.Stop() is probably not the way to go I agree with that.\nI would really like diving more into the project, unfortunately I've had to switch to a more handcrafted / simplistic communication protocol, since I had an inconsist uint value using firmata adapter when reading on an analog pin, and since I have very little time on this side project I didn't dive in the debugging of that and opted for the simple approach, for now.\n. for the record the project lies here: https://github.com/solar3s/goregen - is just starting and is about regeneration of standard alcaline batteries : https://regenbox.org/\nall hands welcome :). yeah that's why I opted for it, but I have no clue who's doing the best underlying implementation, you might want to use only the port-discover feature and keep whatever serial lib you're using.\nCurrently I'm trying to get a proper way of keeping touch with the serial connection throughout savage disconnects/reconnects, not trivial at all!\n. I will try to reproduce/illustrate my analog test-case, and get back to you. ",
    "emmeblm": "Hi everyone!\nI'm having the exact same problem as the original one in this issue. I'm using an Arduino Mega 2560 with the blinking example.\nThe problem now is that instead of hanging out in the Starting connection Firmata-7E113A8AAF4C13D2 on port /dev/cu.usbmodem1411... line, some seconds later this error message appears:\n```\n2017/08/02 15:34:45 1 error occurred:\n\nunable to connect. Perhaps you need to flash your Arduino with Firmata?\n```\n\nBut firmdata was sucessfully loaded in the Arduino.\nI'm not able to run any gobot nor artoo program into my arduino. I checked the hardware loading the same blinking example in c with Arduino Ide and the hw works fine. It's definitely something with the firmdata platform creating the adaptor that's not able to communicate with Mega 2560.\nFor instance, when running:\ngort arduino upload firmata /dev/tty.usbmodem1411 -b mega2560\nyou can see that the -b mega2560 option is needed (as it doesn't work when it is not specified). Only when sending this option in the gort command, it is able to sync with the arduino and load firmdata on it. The error that outputs when you just type gort arduino upload firmata /dev/tty.usbmodem1411 is the following:\n```\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 1 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 2 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 3 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 4 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 5 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 6 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 7 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 8 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 9 of 10: not in sync: resp=0x00\navrdude: stk500_recv(): programmer is not responding\navrdude: stk500_getsync() attempt 10 of 10: not in sync: resp=0x00\navrdude done.  Thank you.\n2017/08/02 17:27:55 exit status 1\n```\nI can just imagine that the same is happening at the firmdata adaptor level of gobot as the error that I see is printed on port communication timeout.\nCan you help me @deadprogram?\nThanks!. Hi @deadprogram, thanks for the answer.. I tried what you mentioned with no success.. Uploaded firmata directly from Arduino Ide and still get the message:\n2017/08/03 12:40:19 1 error occurred:\n* unable to connect. Perhaps you need to flash your Arduino with Firmata?\nwhen running go run blink_led.go. I still have the feeling that this problem lies at the firmata client level.. ",
    "allsputnik": "Hello, I also had a problem with Arduino Mega 2560.\n```\nsudo ./gobot \n2017/11/09 00:26:10 Initializing connections...\n2017/11/09 00:26:10 Initializing connection Firmata-382E6917 ...\n2017/11/09 00:26:10 Initializing devices...\n2017/11/09 00:26:10 Initializing device LED-789CC02E ...\n2017/11/09 00:26:10 Robot bot initialized.\n2017/11/09 00:26:10 Starting Robot bot ...\n2017/11/09 00:26:10 Starting connections...\n2017/11/09 00:26:10 Starting connection Firmata-382E6917 on port /dev/ttyACM0...\n2017/11/09 00:26:25 1 error occurred:\n\nunable to connect. Perhaps you need to flash your Arduino with Firmata?\n\n\"I did notice that I needed to exit the Arduino IDE before trying to run the Gobot program, possibly the Arduino IDE connected itself to the serial port for debugging?\" - Did not quite understand what you meant? \nI ran both in the MAC OS and in the Raspberry Pi result is the same (. Hello, now I tried to do the same with Arduino Uno\ngort scan serial\n1 serial port(s) found.\n\n[/dev/ttyACM0] - [usb-Arduino__www.arduino.cc__0043_5543830343935101A1D0-if00]\n  USB device:  Bus 001 Device 004: ID 2341:0043 Arduino SA Uno R3 (CDC ACM)\n\n```\n```\n./gobotLinux\n2017/11/09 09:15:55 Initializing connections...\n2017/11/09 09:15:55 Initializing connection Firmata-BA337390F6407B4 ...\n2017/11/09 09:15:55 Initializing devices...\n2017/11/09 09:15:55 Initializing device LED-7B8343061C1A48E4 ...\n2017/11/09 09:15:55 Robot bot initialized.\n2017/11/09 09:15:55 Starting Robot bot ...\n2017/11/09 09:15:55 Starting connections...\n2017/11/09 09:15:55 Starting connection Firmata-BA337390F6407B4 on port /dev/ttyACM0...\n2017/11/09 09:16:10 1 error occurred:\n\nunable to connect. Perhaps you need to flash your Arduino with Firmata?\n```. \n",
    "gyldcs": "I am getting the same issue with esp8266 and gobot 1.12. ",
    "anweiss": "I'm currently seeing this issue using the latest release of Gobot. Running go 1.8.1 on macOS 10.12.4. Running simple program:\n```go\npackage main\nimport (\n    \"time\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/drivers/gpio\"\n\"gobot.io/x/gobot/platforms/firmata\"\n\n)\nfunc main() {\n    firmataAdapter := firmata.NewAdaptor(\"/dev/tty.usbmodem1421\")\n    led := gpio.NewLedDriver(firmataAdapter, \"8\")\nwork := func() {\n    gobot.Every(1*time.Second, func() {\n        led.Toggle()\n    })\n}\n\nrobot := gobot.NewRobot(\"bot\",\n    []gobot.Connection{firmataAdapter},\n    []gobot.Device{led},\n    work,\n)\n\nrobot.Start()\n\n}\n```. ",
    "rgdaddio": "Ok thanks.\nI have migrated to golang v1.7 but it should be noted that the migration to < 1.7 does not work with gccgo for current official releases of GCC.\nUsers wishing to use gccgo for gobot.io will have to migrate to GCC-7.0 which currently supports golang v1.8 --note GCC-7.0 is not officially released at this time. \nAFAICT there is no gccgo version that supports anything between golang v1.5 and v1.8. \nsvn checkout svn://gcc.gnu.org/svn/gcc/trunk .\n. At least in the Gobot with Arduino case I tested, the file causing the build error is: \ngithub.com/hashicorp/go-multierror/prefix.go\nI don't believe this file is actually used with this architecture as the link completes without it. And so can probably be safely removed or commented out to build and run successfully. \nI built and ran with GCC-7.0 and golang v1.8 with the gccgo option without the prefix.go file and had no issues in a very basic compile and run it test.\nHTH, \nRich. It didn't seem like there were anything other than \"dodgy\" workarounds for issue in 15628 AFAICT. Not aware of any patches. This issue with gccgo has been around for almost a year. \nThe best current workaround for our project was to use the standard gc compiler which works fine and seems to have much more consistent support than gccgo at this point. \ngccgo is not supported for golang v1.6 and golang v1.7. in the GCC-6.x releases (golang v1.5) series. Maybe there are patches I don't know. \nGCC-7.0 does support golang v1.8. So that means that you cannot use GCC with current gobot.io unless you use the yet unreleased GCC-7.0,  since gobot.io no longer support anything below golang v1.7: https://github.com/hybridgroup/gobot/issues/387\nHTH,\nRich. ",
    "sir-buckyball": "is it soon yet?\nMy specific use case is for reading from a RC522 RFID module using a raspberry pi zero w.. ",
    "trex58": "Would you mind elaborate about how a workaround can be built ?. Thx.\nHowever, I expected a generic patch, for any Go product with the 15628 issue.\nI'll reread 15628 explanations.\nTony. ",
    "maruel": "Oh I forgot the \"go get golang.org/x/tools/cmd/cover\" in .travis.yml is broken, this line can be removed.\n\"go test -race ./...\" failed: https://travis-ci.org/hybridgroup/gobot/jobs/214951802  :(\n. FTR, coverage took 66s and race took 57s, so 123s total. The build itself took 4m2s due to the significant overhead.\nRecent runs:\nhttps://travis-ci.org/hybridgroup/gobot/builds/214412620 took 5m35s\nhttps://travis-ci.org/hybridgroup/gobot/builds/214220640 took 5m6s\nhttps://travis-ci.org/hybridgroup/gobot/builds/214219508 took 4m53s\nso the saving is maybe around 20% after all, not as much as I'd expect but still better than nothing.. Yes. :) I haven't taken time to investigate the race conditions now exposed.\nI wonder why you are not seeing these otherwise: I suspect that using both -coverprofile and -race reduces the effectiveness of race detection but I haven't tried to confirm.. Humm I'm seeing 3m30s for the commit merge but 2m17s for the run before.\nThe later are much faster than what I had previously anecdotally observed (which was in the 5minutes range) so maybe other things changed in the meantime(?) My patch increases the test coverage a bit but I wouldn't expect this much slow down.\nAnyhow I think it's good to settle for coverage then race as it seems to have exposed more race conditions than before, a few whitelisted packages had race conditions but these weren't detected but I'm concerned about the overall slowdown.. https://travis-ci.org/hybridgroup/gobot/jobs/217883390\n./ci/travis.sh took 36s for 37 packages\nhttps://travis-ci.org/hybridgroup/gobot/jobs/217886327\n\ngofmt check took 0.5s so negligible\ngo test -cover took 62s for 43 packages\nif you look at each test runtime, it doesn't add up. It seems to have hidden overhead.\ngo test -race took 58s\nyou can clearly see that the runtime on each package is much longer than it was with ./ci/travis.sh, which means that travis.sh wasn't fully testing for race conditions, as exposed with the fixes you did.\nthe sum of the displayed runtime make sense with the overall runtime so there doesn't seem to be much overhead.\n\nMy current hypothesis is that maybe I was wrong on travis and that a go test -i may be helpful when using go test -cover but likely has no effect when using go test -race. Still the gain from the race condition detection to actually work overweight the slow down. So my recommendation would be to try to add go test -i ./... back as a step before line 26 and see if it improves performance of the cover step..\n. I think the current state is the best solution as it ensures that everything is compilable and is well race tested but that's really up to you. It is clear to me that using simultaneously -cover and -race did not detect race conditions so it's still preferable to run the tests twice.. ",
    "mccurdyc": "Here is information about my Go version: go version go1.8 linux/amd64\nAnd system information: 4.9.11-1-ARCH x86_64 GNU/Linux\nWireless chip: 04:00.0 Network controller: Intel Corporation Wireless 8260 (rev 3a)\nLet me know if there is any additional information that would help you! Thank you in advance!\n. It seems to run perfectly for about 10 seconds, then I repeatedly receive this same error.. @losinggeneration I would love to, but I don't have access to the drone anymore. It was a course I was taking in school. . ",
    "matiasinsaurralde": "I'm having the same issue, also I'm not able to get the video when using Bebop 2, any idea?. ",
    "SafaiWeb": "Thank you so much, I feel like it has to be something very silly on my part:\n\n\n\n. I have tried it in both directions just to be sure :(. Have now tried a different resistor.  Have tried a different RP3.  No response.\nTook circuit and switched to an arduino UNO. Followed instructions, used Gort. Uploaded Firmata, copy-pasted led blinking program.  No response.  The only discernable difference between the arduino and the RP3 is that when I execute the compiled program for the RP3 the terminal says \"starting work...\" before not responding and remains there without giving me a new command prompt, whereas with the arduino it says \"starting connection firmata...on port....\" before giving me a new command prompt and also not responding.\nI'm as lost as a lamb in a snowstorm as to what could be wrong.. I also attached a PIR Motion Sensor to both the PI and the Arduino with the hopes of printing a line on the screen when motion was detected.  The Pi gave no response to either motion or lack of motion.\nThe Arduino returns a new command prompt, so there was no way to print to the terminal.  \nGiven the strange behavior of lights, and inability of motion sensing technology to detect me, current working theory is that I am a vampire.. I wasn't sure if it was helpful to change up the hardware or not. I thought there might be a potential defect in my actual pi, but it seems my issue is not there. \n\nMacOS Sierra. I have also tried using an Ubuntu 14.04 installation on a separate computer. \nI am using Golang 1.8. Installed via the binary on the Go project webpage on the mac. Installed via gvm on tge ubuntu machine\nI uploaded with gort using the \"gort arduino upload firmata /dev/ttyACM0\". As this is the default address I also tried it once without the /dev/ttyACM0. This was the address given by gort scan serial. I really like Gort, by the way. \nArduino UNO R3. \nGo run firmata_blink.go. I am running it on my Ubuntu machine, gort scan serial gives me the address [/dev/ttyACM0] as the address for my arduino.. \n",
    "llonchj": "Thanks @deadprogram. \nAdded the example.. Amazing @deadprogram. Thank you!. ",
    "willis7": "Thanks for getting back to me. If I add the flags as suggested then the application gets a little further, but there's still no output on the device:\nwills7:pomodoro-bit/ $ GODEBUG=cgocheck=0 go run -ldflags -s main.go \"BBC micro:bit [tupov]\"                                                                                                                                                                         [17:05:00]\n2017/04/09 17:05:07 Initializing connections...\n2017/04/09 17:05:07 Initializing connection BLEClient-666C9345B9D5A4E4 ...\n2017/04/09 17:05:07 Initializing devices...\n2017/04/09 17:05:07 Initializing device Microbit LED-583534B99F62E730 ...\n2017/04/09 17:05:07 Robot blinkBot initialized.\n2017/04/09 17:05:07 Starting Robot blinkBot ...\n2017/04/09 17:05:07 Starting connections...\n2017/04/09 17:05:07 Starting connection BLEClient-666C9345B9D5A4E4...\n2017/04/09 17:05:10 Starting devices...\n2017/04/09 17:05:10 Starting device Microbit LED-583534B99F62E730...\n2017/04/09 17:05:10 Starting work...\nCurrently just using the following:\n```\nfunc main() {\n        bleAdaptor := ble.NewClientAdaptor(os.Args[1])\n        ubit := microbit.NewLEDDriver(bleAdaptor)\n    work := func() {\n            ubit.Blank()\n            gobot.After(1*time.Second, func() {\n                    ubit.WriteText(\"Hello\")\n            })\n            gobot.After(7*time.Second, func() {\n                    ubit.Smile()\n            })\n    }\n\n    robot := gobot.NewRobot(\"blinkBot\",\n            []gobot.Connection{bleAdaptor},\n            []gobot.Device{ubit},\n            work,\n    )\n\n    robot.Start()\n\n}\n```. Hi @deadprogram,\nI stupidly took the ubit into work and haven't been able to test it. I will test it tomorrow and get back to you.\nIf it helps I had actually performed the calibration step. I haven't tried connecting by ID, so I shall give that a go.. Apologies for the delay.\nI had performed the rotation and got the smiley face.\nI tried using the UUID of the device, but it didn't even reach the Starting work... line in the logs.\nAre there any restrictions on versions? I'm fairly certain I had one of the pre-release devices.\n. Is there anything I can do my end to support the debugging?. ",
    "vlastv": "I fix test, but driver incorrect use currentMode.\nIf use speedPin and forwardPin, after call On() currentMode changed to analog.\nI will refactoring motor driver for fix it.. @deadprogram you can restart job https://travis-ci.org/hybridgroup/gobot/jobs/221384585 ?. @deadprogram, thx. Test passed:). ",
    "bezineb5": "Hi @deadprogram,\nThanks for the reply!\nYes, for sure, the AngularServoDriver should be integrated in the regular Servo driver, it's just that I didn't want to break everything. By the way, shouldn't gobot also support continuous servos?\nI had a look at your new PWMPin implementation, and I fully agree that the new period/duty cycle methods allow the finer control I'm looking for. The only think I don't understand is the use of a string for the period. Why not use a float64/float32, in seconds or milliseconds?. Agreed, I'll work with the new PWMPn implementation. I've just seen that there is an implementation of ADS1015 in dev. Maybe it would be worth merging the 2 versions. My version has the following advantages:\n support of ADS1015 and ADS1115\n conversion of the integer values to volts.. Actually, it's my fault, I didn't have a look at the dev branch before... Sorry for that! FYI, I have other work in progress for the MPU9250 Gyro/accelerometer/compass and the VL6180X \"time-of-flight\" chip.\nConcerning the use of volts, I think this is useful. Let me try to make my point:\n For example, I'm using an ADS1015 to read the voltage from a power supply (https://www.adafruit.com/product/1944), so that I can detect when the battery is about to run low. In that case, it's meaningful to have volts to interpret the values.\n Using volts for all ADCs make them interchangeable. I have ADS1015 and ADS1115, and I can just switch them with almost no code change (apart from the constructor of the driver).\n* During my searches, I came across that article from Adafruit which explains why they decided to use SI units in their drivers. I think that would be a great approach for Gobot, too! https://learn.adafruit.com/using-the-adafruit-unified-sensor-driver/introduction\nI like many things in your implementation:\n The nice const names with comments\n The option \"WithADS1015Gain\"\n The AnalogReader support\n For the difference, I don't really like to use \"1\" to mean \"0-3\"... I like what you did with the pin name to make it clearer.\nTo proceed, do you want me to do the merge? I can do that in the next couple of days and propose you a draft.\nThanks!. Mmmh, sounds like the rebase did not go so well, there are other files in that PR.. Ok, I see your problem: you're testing with fake values which return more than 12 bits of actual precision, right? The ADS1015 is a 12-bit ADC, I'm going to add some ore checks there. It's not a problem of voltageMultiplier.. Ok, I found it. It was a reading bug for the ADS1015. I managed to get a 1015 and try with both components. That should be good now!. ",
    "pauleyj": "Thanks for adding tests!  I'll update as requested this evening.. ",
    "mighe": "When I try to switch to the dev branch I get some compilation error for raspi_adaptor.go and I'm not able to run the tests. \nIs it a problem of mine or a project one? Can you check please?. I tried to download the repo (without my changes) and I still get those errors when I run go test in platforms/raspi for the dev branch:\n./raspi_adaptor.go:73: pin.Unexport undefined (type *sysfs.DigitalPin is pointer to interface, not interface)\n./raspi_adaptor.go:96: undefined: sysfs.DigitalPinner\n./raspi_adaptor.go:104: cannot use sysfs.NewDigitalPin(i) (type sysfs.DigitalPin) as type *sysfs.DigitalPin in assignment:\n    *sysfs.DigitalPin is pointer to interface, not interface\n./raspi_adaptor.go:105: r.digitalPins[i].Export undefined (type *sysfs.DigitalPin is pointer to interface, not interface)\n./raspi_adaptor.go:110: r.digitalPins[i].Direction undefined (type *sysfs.DigitalPin is pointer to interface, not interface)\n./raspi_adaptor.go:123: not enough arguments to return\n./raspi_adaptor.go:153: undefined: sysfs.PWMPinner\n./pwm_pin_test.go:11: undefined: sysfs.PWMPinner\n./raspi_adaptor_test.go:21: undefined: sysfs.DigitalPinnerProvider\n./raspi_adaptor_test.go:22: undefined: sysfs.PWMPinnerProvider\n./raspi_adaptor.go:123: too many errors\nI'm on OSX. My fault, it was a problem with $GOPATH \ud83d\ude1e \nOk, give me a couple of hours and I'll send the new pull request \ud83d\udc4d . Sorry, I forgot to check \"go fmt\" in my IDE :no_good_man: . I extracted this part to minimize the mutex locking and make it easier to implement.\nDoing so in DigitalPin would require either to lock currentPin.Direction or unlock the mutex without defer with a more error prone code.\nThis way DigitalPin just call getExportedDigitalPin without using the mutex in an explicit way.\nIf you prefer I can inline the new function, but I think this way is better. in PWMPin() I preferred an explicit locking strategy (lines 199 and 200) without creating a new func because in this case we're just creating a new struct and returning it immediately.. ",
    "larsth": "Linux OS specific comment:\nEpoll is your friend:\nWorks if there is an entry in the /sys file system, /sys/class/gpio/\nCreate a device file, by using the export file: https://www.kernel.org/doc/Documentation/gpio/sysfs.txt via https://www.kernel.org/doc/Documentation/gpio/ via https://www.kernel.org/doc/\nNote that a kernel module can deny access to a GPIO pin, the kernel space gpio_unexport function\nIf a character device kernel module had blocked access to a GPIO pin, it is available via it's character device file, if the kernel module had added epoll syscall support on that device file.\nhttps://godoc.org/syscall#EpollCreate\nhttps://godoc.org/syscall#EpollCreate1\nhttps://godoc.org/syscall#EpollCtl\nhttps://godoc.org/syscall#EpollWait\nepoll(7) man page: http://man7.org/linux/man-pages/man7/epoll.7.html\nepoll(2) man page: https://linux.die.net/man/4/epoll\nUse EPOLLET mode / flag when using EpollCreate, or EpollCreate1. > @larsth if there is a kernel module that blocks the interrupt, that probably means a kernel driver that is already using it, and so it would be best for Gobot to leave it alone, right? \nYes\n\nWhat is the correct way to handle this?\n\nThe only thing that can be done is to remove the module from the kernel:\nsudo rmmod >name of the offending kernel module goes here<\nWhat happens after that command shows whether or not removing the module from the kernel was a good idea, however, I think it would be safe to remove the module, because the user of Gobot is probably doing something else with the GPIO pins.\nControlling a piece of hardware with only one GPIO pin at a time is highly undesirable because context switches creates long delays. \nIf only there was a GPIO kernel module with poll syscall support it would be great, but I don't have any time anytime soon to create such a module. The 2 times earlier that I had made a character device module was very fun. It was 9 years ago.\nBTW,\nIt is fun to watch that after fx a shell command like this:\necho 1 > /dev/my_character_device_file \n... there continues to be action, because inertia prevents anything to happen instantly.. ",
    "mikegleasonjr": "So should we implement this in userland and not user specific drivers?. Here's an example displaying the current time:\n```\npackage main\nimport (\n    \"image\"\n    \"time\"\n\"github.com/fogleman/gg\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/drivers/i2c\"\n\"gobot.io/x/gobot/platforms/raspi\"\n\n)\nfunc main() {\n    r := raspi.NewAdaptor()\n    d := i2c.NewSSD1306Driver(r)\nwork := func() {\n    d.Clear()\n    d.Display()\n\n    ctx := gg.NewContext(d.Buffer.Width, d.Buffer.Height)\n\n    gobot.Every(time.Second, func() {\n        ctx.SetRGB(0, 0, 0)\n        ctx.Clear()\n        ctx.SetRGB(1, 1, 1)\n        ctx.DrawStringAnchored(time.Now().Format(\"15:04:05\"), 0, 0, 0, 1)\n        transfer(d, ctx.Image())\n    })\n}\n\nrobot := gobot.NewRobot(\"blinkBot\",\n    []gobot.Connection{r},\n    []gobot.Device{d},\n    work,\n)\n\nrobot.Start()\n\n}\nfunc transfer(d *i2c.SSD1306Driver, img image.Image) {\n    d.Clear()\n    for y, w, h := 0, img.Bounds().Dx(), img.Bounds().Dy(); y < h; y++ {\n        for x := 0; x < w; x++ {\n            c := img.At(x, y)\n            if r, , , _ := c.RGBA(); r > 0 {\n                d.Set(x, y, 1)\n            }\n        }\n    }\n    d.Display()\n}\n```\nBasically I render an image in memory using a 3rd party library, then I set the pixels one by one of that image on the ssd1306.. @deadprogram Great, will happily do!. @deadprogram Yup this is working fine now in dev \ud83d\udc4d . ",
    "codecov[bot]": "Codecov Report\n\nMerging #419 into dev will not change coverage.\nThe diff coverage is 100%.\n\n\n```diff\n@@          Coverage Diff          @@\ndev    #419   +/-\n=====================================\n  Coverage   85.3%   85.3%         \n=====================================\n  Files        124     124         \n  Lines       7573    7573         \n=====================================\n  Hits        6460    6460         \n  Misses       845     845         \n  Partials     268     268\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ina3221_driver.go | 90.12% <100%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c9cfd31...e96ea41. Read the comment docs.\n. # Codecov Report\nMerging #425 into dev will increase coverage by 0.26%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #425      +/-\n==========================================\n+ Coverage   86.55%   86.82%   +0.26%   \n==========================================\n  Files         124      124            \n  Lines        7611     7630      +19   \n==========================================\n+ Hits         6588     6625      +37   \n+ Misses        756      732      -24   \n- Partials      267      273       +6\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/bme280_driver.go | 94.87% <100%> (+0.27%) | :arrow_up: |\n| sysfs/pwm_pin.go | 86.81% <0%> (-1.96%) | :arrow_down: |\n| platforms/tinkerboard/adaptor.go | 89.74% <0%> (-1.57%) | :arrow_down: |\n| platforms/chip/chip_adaptor.go | 82.66% <0%> (-1.12%) | :arrow_down: |\n| platforms/intel-iot/edison/edison_adaptor.go | 86.4% <0%> (-0.65%) | :arrow_down: |\n| robot.go | 100% <0%> (\u00f8) | :arrow_up: |\n| platforms/parrot/minidrone/minidrone_driver.go | 94.04% <0%> (+8.32%) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.31% <0%> (+18.42%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9df6714...c09f9c1. Read the comment docs.\n. # Codecov Report\nMerging #426 into dev will decrease coverage by 0.06%.\nThe diff coverage is 20%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #426      +/-\n==========================================\n- Coverage   86.88%   86.82%   -0.07%   \n==========================================\n  Files         124      124            \n  Lines        7620     7626       +6   \n==========================================\n  Hits         6621     6621            \n- Misses        728      732       +4   \n- Partials      271      273       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/tinkerboard/adaptor.go | 89.74% <0%> (-1.57%) | :arrow_down: |\n| platforms/chip/chip_adaptor.go | 82.66% <28.57%> (-1.12%) | :arrow_down: |\n| sysfs/pwm_pin.go | 86.81% <33.33%> (-1.96%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 27db91f...297eba9. Read the comment docs.\n. # Codecov Report\nMerging #427 into dev will decrease coverage by 0.09%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #427     +/-\n=========================================\n- Coverage   86.82%   86.73%   -0.1%   \n=========================================\n  Files         124      124           \n  Lines        7630     7630           \n=========================================\n- Hits         6625     6618      -7   \n- Misses        732      740      +8   \n+ Partials      273      272      -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ina3221_driver.go | 90.12% <100%> (\u00f8) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 57.89% <0%> (-18.43%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1a92cda...f131713. Read the comment docs.\n. # Codecov Report\nMerging #428 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff           @@\nmaster    #428   +/-\n======================================\n  Coverage    85.3%   85.3%         \n======================================\n  Files         124     124         \n  Lines        7573    7573         \n======================================\n  Hits         6460    6460         \n  Misses        845     845         \n  Partials      268     268\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c9cfd31...160cd90. Read the comment docs.\n. # Codecov Report\nMerging #431 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #431   +/-\n=======================================\n  Coverage   86.97%   86.97%         \n=======================================\n  Files         125      125         \n  Lines        7763     7763         \n=======================================\n  Hits         6752     6752         \n  Misses        737      737         \n  Partials      274      274\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 71adcc3...dc48528. Read the comment docs.\n. # Codecov Report\nMerging #437 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff          @@\ndev    #437   +/-\n=====================================\n  Coverage   86.8%   86.8%         \n=====================================\n  Files        126     126         \n  Lines       7828    7828         \n=====================================\n  Hits        6795    6795         \n  Misses       754     754         \n  Partials     279     279\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 4c834e7...11cb199. Read the comment docs.\n. # Codecov Report\nMerging #442 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff          @@\ndev    #442   +/-\n=====================================\n  Coverage   86.8%   86.8%         \n=====================================\n  Files        126     126         \n  Lines       7828    7828         \n=====================================\n  Hits        6795    6795         \n  Misses       754     754         \n  Partials     279     279\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 80548f9...483e1fb. Read the comment docs.\n. # Codecov Report\nMerging #443 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff           @@\nmaster    #443   +/-\n======================================\n  Coverage    86.8%   86.8%         \n======================================\n  Files         126     126         \n  Lines        7828    7828         \n======================================\n  Hits         6795    6795         \n  Misses        754     754         \n  Partials      279     279\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ca421ef...80548f9. Read the comment docs.\n. # Codecov Report\nMerging #443 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff           @@\nmaster    #443   +/-\n======================================\n  Coverage    86.8%   86.8%         \n======================================\n  Files         126     126         \n  Lines        7828    7828         \n======================================\n  Hits         6795    6795         \n  Misses        754     754         \n  Partials      279     279\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ca421ef...80548f9. Read the comment docs.\n. # Codecov Report\nMerging #448 into dev will increase coverage by 0.13%.\nThe diff coverage is 88.88%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #448      +/-\n==========================================\n+ Coverage   86.67%   86.81%   +0.13%   \n==========================================\n  Files         126      126            \n  Lines        7828     7873      +45   \n==========================================\n+ Hits         6785     6835      +50   \n+ Misses        764      758       -6   \n- Partials      279      280       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| version.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/raspi/raspi_adaptor.go | 92.07% <88.88%> (-1.21%) | :arrow_down: |\n| platforms/particle/adaptor.go | 89.26% <0%> (+2.01%) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.31% <0%> (+18.42%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 6b51c9d...ec9a437. Read the comment docs.\n. # Codecov Report\nMerging #450 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff           @@\nmaster    #450   +/-\n======================================\n  Coverage    86.8%   86.8%         \n======================================\n  Files         126     126         \n  Lines        7828    7828         \n======================================\n  Hits         6795    6795         \n  Misses        754     754         \n  Partials      279     279\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| api/cors.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| drivers/i2c/ssd1306_driver.go | 95.32% <\u00f8> (\u00f8) | :arrow_up: |\n| event.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ca421ef...927aee5. Read the comment docs.\n. # Codecov Report\nMerging #452 into dev will increase coverage by 1.3%.\nThe diff coverage is 66.52%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #452     +/-\n=========================================\n+ Coverage   84.87%   86.17%   +1.3%   \n=========================================\n  Files         127      127           \n  Lines        8053     8255    +202   \n=========================================\n+ Hits         6835     7114    +279   \n+ Misses        938      814    -124   \n- Partials      280      327     +47\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dexter/gopigo3/driver.go | 73.03% <66.52%> (+73.03%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 50c3d42...80f89f5. Read the comment docs.\n. # Codecov Report\nMerging #457 into dev will increase coverage by <.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #457      +/-\n==========================================\n+ Coverage   86.15%   86.15%   +<.01%   \n==========================================\n  Files         127      127            \n  Lines        8253     8258       +5   \n==========================================\n+ Hits         7110     7115       +5   \n  Misses        816      816            \n  Partials      327      327\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/mqtt/mqtt_adaptor.go | 82.95% <100%> (+1.02%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a998b0b...a9c130e. Read the comment docs.\n. # Codecov Report\nMerging #465 into dev will decrease coverage by 0.04%.\nThe diff coverage is 60%.\n\n\n```diff\n@@           Coverage Diff            @@\ndev   #465      +/-\n========================================\n- Coverage   85.04%    85%   -0.05%   \n========================================\n  Files         131    131            \n  Lines        8413   8417       +4   \n========================================\n  Hits         7155   7155            \n- Misses        930    932       +2   \n- Partials      328    330       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/jhd1313m1_driver.go | 76% <60%> (-3.17%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 9f153db...4d1612b. Read the comment docs.\n. # Codecov Report\nMerging #466 into dev will increase coverage by 0.05%.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff            @@\ndev     #466      +/-\n========================================\n+ Coverage    85%   85.05%   +0.05%   \n========================================\n  Files       131      131            \n  Lines      8417     8413       -4   \n========================================\n+ Hits       7155     7156       +1   \n+ Misses      932      929       -3   \n+ Partials    330      328       -2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/aio/grove_temperature_sensor_driver.go | 90.69% <0%> (+2.32%) | :arrow_up: |\n| drivers/i2c/jhd1313m1_driver.go | 79.16% <0%> (+3.16%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0945a19...1728f3f. Read the comment docs.\n. # Codecov Report\nMerging #528 into dev will decrease coverage by 0.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #528      +/-\n==========================================\n- Coverage   51.49%   51.48%   -0.02%   \n==========================================\n  Files         162      162            \n  Lines       15536    15540       +4   \n==========================================\n  Hits         8001     8001            \n- Misses       7133     7137       +4   \n  Partials      402      402\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/mcp23017_driver.go | 91.25% <\u00f8> (\u00f8) | :arrow_up: |\n| device.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| drivers/i2c/adafruit_driver.go | 74.46% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/ble/ble_client_adaptor.go | 12.19% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/audio/audio_adaptor.go | 80% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/keyboard/keyboard_driver.go | 38.23% <\u00f8> (\u00f8) | :arrow_up: |\n| robot.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| connection.go | 92.3% <0%> (-7.7%) | :arrow_down: |\n| api/api.go | 94.8% <0%> (-0.83%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0f859ff...9ee6b8b. Read the comment docs.\n. # Codecov Report\nMerging #559 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #559   +/-\n=======================================\n  Coverage   78.23%   78.23%         \n=======================================\n  Files         153      153         \n  Lines       10227    10227         \n=======================================\n  Hits         8001     8001         \n  Misses       1824     1824         \n  Partials      402      402\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 635adea...f0ad67c. Read the comment docs.\n. # Codecov Report\nMerging #561 into dev will decrease coverage by 26.73%.\nThe diff coverage is n/a.\n\n\n```diff\n@@             Coverage Diff             @@\ndev     #561       +/-\n===========================================\n- Coverage   78.23%   51.49%   -26.74%   \n===========================================\n  Files         153      162        +9   \n  Lines       10227    15536     +5309   \n===========================================\n  Hits         8001     8001             \n- Misses       1824     7133     +5309   \n  Partials      402      402\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| cli/main.go | 0% <0%> (\u00f8) | |\n| platforms/megapi/motor_driver.go | 0% <0%> (\u00f8) | |\n| platforms/mavlink/common/common.go | 0% <0%> (\u00f8) | |\n| platforms/mavlink/common/mavlink.go | 0% <0%> (\u00f8) | |\n| examples/raspi_stepper_move.go | 0% <0%> (\u00f8) | |\n| api/robeaux/robeaux.go | 0% <0%> (\u00f8) | |\n| cli/generate.go | 0% <0%> (\u00f8) | |\n| platforms/megapi/megapi_adaptor.go | 0% <0%> (\u00f8) | |\n| platforms/parrot/bebop/client/client.go | 0% <0%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ea599d3...daa77c3. Read the comment docs.\n. # Codecov Report\nMerging #567 into master will decrease coverage by 26.73%.\nThe diff coverage is 100%.\n\n\n```diff\n@@             Coverage Diff             @@\nmaster     #567       +/-\n===========================================\n- Coverage   78.23%   51.49%   -26.74%   \n===========================================\n  Files         153      162        +9   \n  Lines       10227    15536     +5309   \n===========================================\n  Hits         8001     8001             \n- Misses       1824     7133     +5309   \n  Partials      402      402\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/gpio/aip1640_driver.go | 47.82% <100%> (\u00f8) | :arrow_up: |\n| drivers/i2c/bh1750_driver.go | 94.73% <100%> (\u00f8) | :arrow_up: |\n| drivers/gpio/tm1638_driver.go | 84% <100%> (\u00f8) | :arrow_up: |\n| platforms/mavlink/common/mavlink.go | 0% <0%> (\u00f8) | |\n| platforms/megapi/motor_driver.go | 0% <0%> (\u00f8) | |\n| cli/main.go | 0% <0%> (\u00f8) | |\n| cli/generate.go | 0% <0%> (\u00f8) | |\n| platforms/megapi/megapi_adaptor.go | 0% <0%> (\u00f8) | |\n| platforms/parrot/bebop/client/client.go | 0% <0%> (\u00f8) | |\n| api/robeaux/robeaux.go | 0% <0%> (\u00f8) | |\n| ... and 2 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 635adea...9629af7. Read the comment docs.\n. # Codecov Report\nMerging #569 into dev will decrease coverage by 0.06%.\nThe diff coverage is 67.44%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #569      +/-\n==========================================\n- Coverage   51.49%   51.43%   -0.07%   \n==========================================\n  Files         162      162            \n  Lines       15536    15545       +9   \n==========================================\n- Hits         8001     7996       -5   \n- Misses       7133     7140       +7   \n- Partials      402      409       +7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/mcp23017_driver.go | 83.43% <67.44%> (-7.82%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 0f859ff...1e99976. Read the comment docs.\n. # Codecov Report\nMerging #571 into dev will increase coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #571      +/-\n==========================================\n+ Coverage   51.49%   51.51%   +0.01%   \n==========================================\n  Files         162      162            \n  Lines       15536    15528       -8   \n==========================================\n- Hits         8001     7999       -2   \n+ Misses       7133     7128       -5   \n+ Partials      402      401       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dexter/gopigo3/driver.go | 74.55% <100%> (+0.99%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update c85eca7...180a7ee. Read the comment docs.\n. # Codecov Report\nMerging #576 into dev will increase coverage by <.01%.\nThe diff coverage is 75%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #576      +/-\n==========================================\n+ Coverage   51.45%   51.45%   +<.01%   \n==========================================\n  Files         162      162            \n  Lines       15537    15540       +3   \n==========================================\n+ Hits         7994     7996       +2   \n- Misses       7135     7136       +1   \n  Partials      408      408\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/mcp23017_driver.go | 83.13% <75%> (-0.3%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 088f12b...88b78ff. Read the comment docs.\n. # Codecov Report\nMerging #578 into dev will not change coverage.\nThe diff coverage is 0%.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #578   +/-\n=======================================\n  Coverage   51.45%   51.45%         \n=======================================\n  Files         162      162         \n  Lines       15540    15540         \n=======================================\n  Hits         7996     7996         \n  Misses       7136     7136         \n  Partials      408      408\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/spi/spi.go | 42.85% <0%> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 84180c6...7bbdeee. Read the comment docs.\n. # Codecov Report\nMerging #582 into dev will decrease coverage by <.01%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #582      +/-\n==========================================\n- Coverage   77.35%   77.35%   -0.01%   \n==========================================\n  Files         154      154            \n  Lines       10041    10040       -1   \n==========================================\n- Hits         7767     7766       -1   \n  Misses       1882     1882            \n  Partials      392      392\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/pca9685_driver.go | 65.62% <\u00f8> (-0.53%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a966a22...a7d568e. Read the comment docs.\n. # Codecov Report\nMerging #583 into dev will increase coverage by 0.84%.\nThe diff coverage is 8.33%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #583      +/-\n==========================================\n+ Coverage   77.96%   78.81%   +0.84%   \n==========================================\n  Files         152      152            \n  Lines        9961     9964       +3   \n==========================================\n+ Hits         7766     7853      +87   \n+ Misses       1803     1701     -102   \n- Partials      392      410      +18\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dji/tello/driver.go | 26.47% <8.33%> (+21.28%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a4d5479...146b37d. Read the comment docs.\n. # Codecov Report\nMerging #588 into master will decrease coverage by 0.07%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster     #588      +/-\n==========================================\n- Coverage   77.96%   77.89%   -0.08%   \n==========================================\n  Files         152      152            \n  Lines        9961     9961            \n==========================================\n- Hits         7766     7759       -7   \n- Misses       1803     1811       +8   \n+ Partials      392      391       -1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/leap/leap_motion_driver.go | 57.89% <0%> (-18.43%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a4d5479...8eb8c0b. Read the comment docs.\n. # Codecov Report\nMerging #589 into master will decrease coverage by 0.01%.\nThe diff coverage is 33.33%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster     #589      +/-\n==========================================\n- Coverage   77.96%   77.94%   -0.02%   \n==========================================\n  Files         152      152            \n  Lines        9961     9963       +2   \n==========================================\n  Hits         7766     7766            \n- Misses       1803     1804       +1   \n- Partials      392      393       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/joystick/joystick_driver.go | 72.54% <33.33%> (-1.46%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a4d5479...21088b5. Read the comment docs.\n. # Codecov Report\nMerging #591 into dev will decrease coverage by 0.07%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #591      +/-\n==========================================\n- Coverage   78.86%   78.78%   -0.08%   \n==========================================\n  Files         152      152            \n  Lines        9984     9994      +10   \n==========================================\n  Hits         7874     7874            \n- Misses       1698     1708      +10   \n  Partials      412      412\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dji/tello/driver.go | 25.83% <0%> (-0.64%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 1d76ed6...96afbcf. Read the comment docs.\n. # Codecov Report\nMerging #594 into master will increase coverage by 0.01%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster     #594      +/-\n==========================================\n+ Coverage   77.96%   77.98%   +0.01%   \n==========================================\n  Files         152      152            \n  Lines        9961     9970       +9   \n==========================================\n+ Hits         7766     7775       +9   \n  Misses       1803     1803            \n  Partials      392      392\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/raspi/pwm_pin.go | 100% <100%> (\u00f8) | :arrow_up: |\n| platforms/raspi/raspi_adaptor.go | 89.11% <100%> (+0.15%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a4d5479...5ca29d0. Read the comment docs.\n. # Codecov Report\nMerging #598 into dev will decrease coverage by 0.65%.\nThe diff coverage is 26.71%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #598      +/-\n=========================================\n- Coverage   78.4%   77.75%   -0.66%   \n=========================================\n  Files        153      154       +1   \n  Lines      10166    10297     +131   \n=========================================\n+ Hits        7971     8006      +35   \n- Misses      1781     1869      +88   \n- Partials     414      422       +8\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/digispark/littleWire.go | 6% <0%> (-3.38%) | :arrow_down: |\n| platforms/digispark/digispark_i2c.go | 30.76% <30.76%> (\u00f8) | |\n| platforms/digispark/digispark_adaptor.go | 71.92% <31.81%> (-25.22%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d306c34...8f707f0. Read the comment docs.\n. # Codecov Report\nMerging #601 into dev will increase coverage by <.01%.\nThe diff coverage is 77.77%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #601      +/-\n==========================================\n+ Coverage   77.76%   77.76%   +<.01%   \n==========================================\n  Files         154      155       +1   \n  Lines       10286    10376      +90   \n==========================================\n+ Hits         7999     8069      +70   \n- Misses       1864     1884      +20   \n  Partials      423      423\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| robot.go | 100% <100%> (\u00f8) | :arrow_up: |\n| robot_work.go | 76.74% <76.74%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ed53198...1ff89c1. Read the comment docs.\n. # Codecov Report\nMerging #602 into dev will decrease coverage by 0.53%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #602      +/-\n==========================================\n- Coverage   77.76%   77.23%   -0.54%   \n==========================================\n  Files         154      155       +1   \n  Lines       10286    10357      +71   \n==========================================\n  Hits         7999     7999            \n- Misses       1864     1935      +71   \n  Partials      423      423\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/th02_driver.go | 0% <0%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ed53198...0ea1646. Read the comment docs.\n. # Codecov Report\nMerging #602 into dev will decrease coverage by 0.68%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #602      +/-\n==========================================\n- Coverage   77.76%   77.08%   -0.69%   \n==========================================\n  Files         154      155       +1   \n  Lines       10286    10377      +91   \n==========================================\n  Hits         7999     7999            \n- Misses       1864     1955      +91   \n  Partials      423      423\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/th02_driver.go | 0% <0%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ed53198...ebdaca8. Read the comment docs.\n. # Codecov Report\nMerging #606 into dev will increase coverage by 0.39%.\nThe diff coverage is 80.43%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #606      +/-\n==========================================\n+ Coverage   77.36%   77.76%   +0.39%   \n==========================================\n  Files         154      154            \n  Lines       10313    10326      +13   \n==========================================\n+ Hits         7979     8030      +51   \n+ Misses       1900     1867      -33   \n+ Partials      434      429       -5\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ssd1306_driver.go | 88.43% <80.43%> (-3.3%) | :arrow_down: |\n| platforms/particle/adaptor.go | 89.26% <0%> (+2.01%) | :arrow_up: |\n| platforms/parrot/minidrone/minidrone_driver.go | 94.06% <0%> (+10.16%) | :arrow_up: |\n| drivers/i2c/pca9685_driver.go | 83.52% <0%> (+13.88%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 7b97c7c...fdc54b9. Read the comment docs.\n. # Codecov Report\nMerging #615 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster     #615   +/-\n=======================================\n  Coverage   77.76%   77.76%         \n=======================================\n  Files         154      154         \n  Lines       10286    10286         \n=======================================\n  Hits         7999     7999         \n  Misses       1864     1864         \n  Partials      423      423\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/nats/nats_adaptor.go | 71.42% <\u00f8> (\u00f8) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d7818a7...c5b507a. Read the comment docs.\n. # Codecov Report\nMerging #616 into dev will increase coverage by 0.07%.\nThe diff coverage is 84.42%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #616      +/-\n==========================================\n+ Coverage   77.65%   77.73%   +0.07%   \n==========================================\n  Files         156      157       +1   \n  Lines       10550    10672     +122   \n==========================================\n+ Hits         8193     8296     +103   \n- Misses       1916     1928      +12   \n- Partials      441      448       +7\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/gpio/easy_driver.go | 84.42% <84.42%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d975c8f...66b61fa. Read the comment docs.\n. # Codecov Report\nMerging #627 into dev will decrease coverage by 0.31%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #627      +/-\n==========================================\n- Coverage   77.73%   77.41%   -0.32%   \n==========================================\n  Files         157      157            \n  Lines       10672    10716      +44   \n==========================================\n  Hits         8296     8296            \n- Misses       1928     1972      +44   \n  Partials      448      448\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dji/tello/driver.go | 23.27% <0%> (-2.44%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8f3b295...693f0cd. Read the comment docs.\n. # Codecov Report\nMerging #628 into dev will decrease coverage by 0.06%.\nThe diff coverage is 30.76%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #628      +/-\n==========================================\n- Coverage   77.73%   77.67%   -0.07%   \n==========================================\n  Files         157      157            \n  Lines       10672    10681       +9   \n==========================================\n  Hits         8296     8296            \n- Misses       1928     1937       +9   \n  Partials      448      448\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dji/tello/driver.go | 25.17% <30.76%> (-0.54%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8f3b295...d7a0596. Read the comment docs.\n. # Codecov Report\nMerging #630 into dev will decrease coverage by 0.16%.\nThe diff coverage is 63.7%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #630      +/-\n==========================================\n- Coverage   77.73%   77.57%   -0.17%   \n==========================================\n  Files         157      158       +1   \n  Lines       10672    10796     +124   \n==========================================\n+ Hits         8296     8375      +79   \n- Misses       1928     1971      +43   \n- Partials      448      450       +2\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| drivers/i2c/ccs811_driver.go | 63.7% <63.7%> (\u00f8) | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8f3b295...935d4a8. Read the comment docs.\n. # Codecov Report\nMerging #631 into dev will decrease coverage by <.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #631      +/-\n==========================================\n- Coverage   77.73%   77.72%   -0.01%   \n==========================================\n  Files         157      157            \n  Lines       10672    10673       +1   \n==========================================\n  Hits         8296     8296            \n- Misses       1928     1929       +1   \n  Partials      448      448\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dji/tello/driver.go | 25.65% <0%> (-0.07%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 8f3b295...e23c01d. Read the comment docs.\n. # Codecov Report\nMerging #632 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster     #632   +/-\n=======================================\n  Coverage   77.76%   77.76%         \n=======================================\n  Files         154      154         \n  Lines       10286    10286         \n=======================================\n  Hits         7999     7999         \n  Misses       1864     1864         \n  Partials      423      423\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d7818a7...ef9043e. Read the comment docs.\n. # Codecov Report\nMerging #633 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #633   +/-\n=======================================\n  Coverage   77.72%   77.72%         \n=======================================\n  Files         157      157         \n  Lines       10673    10673         \n=======================================\n  Hits         8296     8296         \n  Misses       1929     1929         \n  Partials      448      448\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d0f5ba5...64456b7. Read the comment docs.\n. # Codecov Report\nMerging #635 into master will decrease coverage by <.01%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster     #635      +/-\n==========================================\n- Coverage   77.76%   77.75%   -0.01%   \n==========================================\n  Files         154      154            \n  Lines       10286    10287       +1   \n==========================================\n  Hits         7999     7999            \n- Misses       1864     1865       +1   \n  Partials      423      423\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/dji/tello/driver.go | 25.65% <0%> (-0.07%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d7818a7...31555a0. Read the comment docs.\n. # Codecov Report\nMerging #637 into master will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nmaster     #637   +/-\n=======================================\n  Coverage   77.76%   77.76%         \n=======================================\n  Files         154      154         \n  Lines       10286    10286         \n=======================================\n  Hits         7999     7999         \n  Misses       1864     1864         \n  Partials      423      423\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update d7818a7...a4ed128. Read the comment docs.\n. # Codecov Report\nMerging #645 into dev will increase coverage by <.01%.\nThe diff coverage is 66.66%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #645      +/-\n==========================================\n+ Coverage   77.56%   77.56%   +<.01%   \n==========================================\n  Files         158      158            \n  Lines       10797    10798       +1   \n==========================================\n+ Hits         8375     8376       +1   \n  Misses       1972     1972            \n  Partials      450      450\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/mqtt/mqtt_adaptor.go | 83.14% <66.66%> (+0.19%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ac0cad7...0ea9ede. Read the comment docs.\n. # Codecov Report\nMerging #646 into master will decrease coverage by <.01%.\nThe diff coverage is 68.75%.\n\n\n```diff\n@@            Coverage Diff             @@\nmaster     #646      +/-\n==========================================\n- Coverage   77.75%   77.75%   -0.01%   \n==========================================\n  Files         154      154            \n  Lines       10287    10295       +8   \n==========================================\n+ Hits         7999     8005       +6   \n- Misses       1865     1866       +1   \n- Partials      423      424       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/leap/parser.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/leap/leap_motion_adaptor.go | 82.35% <0%> (\u00f8) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.08% <73.33%> (-0.23%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 58db149...24ec8a3. Read the comment docs.\n. # Codecov Report\nMerging #647 into dev will decrease coverage by <.01%.\nThe diff coverage is 68.75%.\n\n\n```diff\n@@           Coverage Diff            @@\ndev    #647      +/-\n========================================\n- Coverage   77.5%   77.5%   -0.01%   \n========================================\n  Files        158     158            \n  Lines      10807   10815       +8   \n========================================\n+ Hits        8376    8382       +6   \n- Misses      1981    1982       +1   \n- Partials     450     451       +1\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/leap/parser.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/leap/leap_motion_adaptor.go | 82.35% <0%> (\u00f8) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.08% <73.33%> (-0.23%) | :arrow_down: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 209256b...b843702. Read the comment docs.\n. # Codecov Report\nMerging #650 into dev will increase coverage by 0.02%.\nThe diff coverage is 93.33%.\n\n\n```diff\n@@            Coverage Diff            @@\ndev     #650      +/-\n=========================================\n+ Coverage   77.5%   77.52%   +0.02%   \n=========================================\n  Files        158      158            \n  Lines      10807    10817      +10   \n=========================================\n+ Hits        8376     8386      +10   \n  Misses      1981     1981            \n  Partials     450      450\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/mqtt/mqtt_adaptor.go | 84.84% <93.33%> (+1.7%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 209256b...6d1e099. Read the comment docs.\n. # Codecov Report\nMerging #651 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\ndev     #651   +/-\n=======================================\n  Coverage   77.52%   77.52%         \n=======================================\n  Files         158      158         \n  Lines       10817    10817         \n=======================================\n  Hits         8386     8386         \n  Misses       1981     1981         \n  Partials      450      450\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update ad31c39...a27beca. Read the comment docs.\n. # Codecov Report\nMerging #652 into dev will increase coverage by 0.09%.\nThe diff coverage is n/a.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #652      +/-\n==========================================\n+ Coverage   77.43%   77.52%   +0.09%   \n==========================================\n  Files         158      158            \n  Lines       10817    10817            \n==========================================\n+ Hits         8376     8386      +10   \n+ Misses       1991     1981      -10   \n  Partials      450      450\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/particle/adaptor.go | 89.26% <0%> (+2.01%) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.31% <0%> (+18.42%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update aa34bc3...1f3cd7b. Read the comment docs.\n. # Codecov Report\nMerging #653 into dev will increase coverage by 0.18%.\nThe diff coverage is 80.88%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #653      +/-\n==========================================\n+ Coverage   77.43%   77.61%   +0.18%   \n==========================================\n  Files         158      158            \n  Lines       10817    10874      +57   \n==========================================\n+ Hits         8376     8440      +64   \n+ Misses       1991     1980      -11   \n- Partials      450      454       +4\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| platforms/sphero/ollie/ollie_packets.go | 100% <\u00f8> (\u00f8) | :arrow_up: |\n| platforms/sphero/ollie/ollie_driver.go | 66.49% <80.88%> (+11.17%) | :arrow_up: |\n| sysfs/pwm_pin.go | 89.24% <0%> (+0.11%) | :arrow_up: |\n| platforms/particle/adaptor.go | 89.26% <0%> (+2.01%) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.31% <0%> (+18.42%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update aa34bc3...62e9176. Read the comment docs.\n. # Codecov Report\nMerging #654 into dev will increase coverage by 0.09%.\nThe diff coverage is 100%.\n\n\n```diff\n@@            Coverage Diff             @@\ndev     #654      +/-\n==========================================\n+ Coverage   77.43%   77.52%   +0.09%   \n==========================================\n  Files         158      158            \n  Lines       10817    10818       +1   \n==========================================\n+ Hits         8376     8387      +11   \n+ Misses       1991     1981      -10   \n  Partials      450      450\n```\n| Impacted Files | Coverage \u0394 | |\n|---|---|---|\n| sysfs/pwm_pin.go | 89.24% <100%> (+0.11%) | :arrow_up: |\n| platforms/particle/adaptor.go | 89.26% <0%> (+2.01%) | :arrow_up: |\n| platforms/leap/leap_motion_driver.go | 76.31% <0%> (+18.42%) | :arrow_up: |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update aa34bc3...756d38d. Read the comment docs.\n. # Codecov Report\nMerging #660 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff          @@\ndev    #660   +/-\n=====================================\n  Coverage   77.3%   77.3%         \n=====================================\n  Files        158     158         \n  Lines      10926   10926         \n=====================================\n  Hits        8446    8446         \n  Misses      2025    2025         \n  Partials     455     455\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 554dd04...43ac254. Read the comment docs.\n. # Codecov Report\nMerging #660 into dev will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@          Coverage Diff          @@\ndev    #660   +/-\n=====================================\n  Coverage   77.3%   77.3%         \n=====================================\n  Files        158     158         \n  Lines      10926   10926         \n=====================================\n  Hits        8446    8446         \n  Misses      2025    2025         \n  Partials     455     455\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 554dd04...43ac254. Read the comment docs.\n. \n",
    "conejoninja": "Same results with sudo and chmod the file, sometime it works, sometime it doesn't.\nI tried with both, installing firmata from gort and from the IDE.\nI will try with a different board, in case something is wrong with this one, since it works at times, it may be the problem. I'm running out of ideas.. Yes, I'm using dev branch, last commit 4e05c7f2c60604ae6f67ac4ae8f69378f6616d32\nEven if this is a hardware problem, I think there could be some timeout, or at least some verbose option, that will help sort this out.. I close this issue, I used a different board and so far so good, no problems for now. Looked like a hardware problem.. @half2me go to your GOPATH/src/gobot.io/x/gobot/  and there just change the git branch with \n```bash\ngit checkout dev && git pull origin dev\n```\ngit checkout dev will change the branch to \"dev\"\ngit pull origin dev will download latest updates of said branch. Nice, I can confirm the timeout is working properly, much better than before. In my case, it was a faulty hardware issue, that sometimes worked, sometimes not.. Thanks for the feedback, added the comments and the sensor to the readme.md list.\nIt should be ok now.. The library it's based on has the most used features but lacking a few others.\nFeel free to send any feedback about this or in general as I'm planning on adding a few more devices, it would be really helpful. . Example added \ud83d\ude03 . Thanks for the feedback, this happened with an Arduino Pro (through serial) too. I will give it another try, with different ways of reading the sensor I wasn't getting this error any more, but the ESP8266 was locking/rebooting itself.. I was using the one at firmatabuilder (configurable firmata 2.1.0) which should be the last stable.\nI too saw the spec and it was strange, as it looks like the address is not being sent (or is 0?), there's some code for when the register is not specified and something about interrupts, which may be the issue here. I didn't have yet enough time to dig into this issue further.\nI tried several ways for reading the data, reading as much bytes as the sensor told me, reading the same amount in 32-bytes batches (as the sensor really does) and reading byte by byte. And several combinations of them, reading less or more data to see if I could trigger the issue or find the bug.\nI wasn't sure to open it since by the specs it shouldn't be happening, it was more of a question if anyone has experienced something similar before, I can't consistently reproduce the issue and I'm more inclined to think it's in my code. Feel free to close the issue until I could look further into it.. Thanks for merging, that was fast :)\nI'm not sure if I have any sensor/device left at home, maybe I should continue with the website (new sensors are in the example section, but not in the drivers menu). Is there any guideline to follow or something I should know?\n. great! will make the changes accordingly . Continued this on #520 and made it clearer with just one commit. ",
    "half2me": "I have the same problem with Arduino UNO and OSX 10.12.4\n2017/05/23 15:51:22 Initializing connections...\n2017/05/23 15:51:22 Initializing connection Firmata-A283223A5671633 ...\n2017/05/23 15:51:22 Initializing devices...\n2017/05/23 15:51:22 Initializing device LED-62505DE4731EE1DF ...\n2017/05/23 15:51:22 Robot bot initialized.\n2017/05/23 15:51:22 Starting Robot bot ...\n2017/05/23 15:51:22 Starting connections...\n2017/05/23 15:51:22 Starting connection Firmata-A283223A5671633 on port /dev/cu.usbmodem1421...\nIt just hangs here, and the program doesn't get loaded onto the Arduino. @deadprogram I'm just starting to learn go, so I'm not sure how I would go about doing that :)\nSearching on the net is giving me forums where they say its not possible with go get ... wha?. @deadprogram  @conejoninja I just tested with dev branch... same problem :(. @deadprogram nope :/ I was under the impression that gobot would handle flashing that, but I'll try now.. @deadprogram Awesome work, thank you! I will test the dev branch as much as possible and report any bugs I might find. \ud83d\udc4d . ",
    "JDogHerman": "Seems to be working for me also, The dev branch let me know I was having a permissions error. After running ln -s /usr/local/go/bin/go /usr/bin/go I was able to run sudo go run blink.go without issue.. ",
    "gedw99": "https://github.com/nullboundary/goKuka/blob/master/goKuka.go\nvery simple code gen.\nno parametrics as its just a low level code generator.\nthe isue with kuka is the price. 100 K for a 6d arm that does not need\nfencing.\nto be frank, i used this stuff 20 years ago in japan on jap bots. Its was\nway easier then with a basic serial control interface and not layers of\n\"enterprise\" shiny happy layers in your way. All you wanted was a bot with\na IK engine and basic feedback. Hallo go routines :)\nallot of the new comers that are no abb, kuka, etc etc get brought after a\nyear and their stuff gets swallowed and into the cave of the shiny happy\nenterprise layers again.\nthis one actually lookd good for many reasons. they come from Coro and have\nhelped on the ROS project immensly with open source abstraction drivers\netc. Now they have a few bots that give the old boys a good kick\nhttp://www.mecademic.com/\nhttp://coro.etsmtl.ca/blog\nOn Fri, 19 May 2017 at 14:12 Ron Evans notifications@github.com wrote:\n\nHi @gedw99 https://github.com/gedw99 as you said the same patterns\napply, and Gobot also has support for some external hardware devices that\nthemselves provide APIs such as Parrot drones.\nWe'd absolutely love to see a contribution to add support for Kuka!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/422#issuecomment-302686496,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ATuCwmHbkYu3pPXYCwwV1TVkKFpiXBixks5r7YcogaJpZM4NgaQY\n.\n. \n",
    "jadr2ddude": "@deadprogram yes I will work on it. However I only have Orange Pi One at the moment. I will need to wait for it to be shipped before I can test Zero pin mappings.. I feel like we could simplify this by just making a multipurpose struct for a SBC where we can just provide a mapping.. @jjjachyty Is there a specific PLC that you want support for? Different PLCs work very differently.. It looks like someone tried interacting with the plc in node.js https://github.com/plcpeople/mcprotocol\nMight be able to base this off of how that implementation worked.. @vendelin8 the main issue with this is that you cannot really run Go on a microcontroller. Most microcontrollers do not have enough flash to store the go runtime, plus it heavily relies on an OS. There is a project called emgo now, but it is far from usable at the moment - it doesnt even have memory management yet.. I have the exact same go version and OS and this works fine. Also btw we have go1.10.1 in travis. . . which works. Most likely a network issue.. For the platforms/leap/leap_motion_driver_test.go fail:\nPlease see this line for one of the main issues - the int is 32-bits on 32-bit systems, and thus overflows. The frame should be changed to either uint64 or int64 to maintain an appropriate width on 32-bit platforms. Also we will need to specify the number type for the test value here.\nI would also suggest trying to do 32-bit CI somehow.. should i submit a PR?. @deadprogram how do the MQTT tests work? is there some hidden internal server that they are testing against?. Ok i think i have deciphered it. I think paho changed to return the underlying connect error, and this code has not been updated.. I just ran the SDL build on my machine and I got the same error (using Manjaro - pretty recent). I will investigate this.. SDL was a pretty quick fix. Sending a PR.. @deadprogram just for reference, what version of SDL are you using that does not pass? I had run the build with version 2.0.8 on my local machine.. I cannot see any particularly good solution. Paho appears to use a public testing server see this. I am not sure how using the testing server would or would not work.. @deadprogram we could potentially reimplement the Client interface in the mqtt package, although that wouldnt help test the connect code. What do you think?. If you want me to modify this, I might have a bit of time in the next few days. No. I will be able to set up an MQTT interface this week.. Do not merge. Replaced by #544.. @deadprogram  should this be JHD1313M1_REG_RED? It does not currently follow the convention you have been using.. I am currently busy at the moment. I will hopefully have this ready for the next release cycle.. same type of thing here: https://github.com/hybridgroup/gobot/blob/108cfecd02fa6904b91983064647af2b0dd3543d/platforms/dexter/gopigo3/driver.go#L571. I currenly have a lack of knowledge of what the first code is supposed to do. Does anyone here understand what these were supposed to do? If you can explain it or link relevant docs, I can fix it.. can you try running this to see if it works:\nhttps://github.com/jadr2ddude/ds4/blob/master/example/main.go\nIf this works, maybe we can borrow the mapping.. Hi. I have added some suggestions for improvement. Also, has this been tested?. Can you please share where the panic came from? In go, panic/recover is usually bad.. While I do think this is possible to implement, this definitely should definitely not be the default behavior. Panic is considered bad practice, with the exception of 2 conditions:\n1. Conditions indicating that there is an unrecoverable error and it is impossible to continue\n2. Programmer error (e.g. null deference/index out of bounds)\nIn neither of these conditions is it safe to continue. If you hit a bug and decide to continue, there is an indeterminate state which could/would result in a cascade of more bugs.. For builtin CAN devices handled by OS, x/sys/unix should be used for this interface:\nhttps://godoc.org/golang.org/x/sys/unix#SockaddrCAN. ",
    "chneau": "Hello, I'm willing to help for the Orange Pi One (H3 allwiner) I don't remember my source but here is a json of the mapping.  \n[\n  {\n    \"key\": 3,\n    \"value\": 12\n  },\n  {\n    \"key\": 5,\n    \"value\": 11\n  },\n  {\n    \"key\": 7,\n    \"value\": 6\n  },\n  {\n    \"key\": 8,\n    \"value\": 13\n  },\n  {\n    \"key\": 10,\n    \"value\": 14\n  },\n  {\n    \"key\": 11,\n    \"value\": 1\n  },\n  {\n    \"key\": 12,\n    \"value\": 110\n  },\n  {\n    \"key\": 13,\n    \"value\": 0\n  },\n  {\n    \"key\": 15,\n    \"value\": 3\n  },\n  {\n    \"key\": 16,\n    \"value\": 68\n  },\n  {\n    \"key\": 18,\n    \"value\": 71\n  },\n  {\n    \"key\": 19,\n    \"value\": 64\n  },\n  {\n    \"key\": 21,\n    \"value\": 65\n  },\n  {\n    \"key\": 22,\n    \"value\": 2\n  },\n  {\n    \"key\": 23,\n    \"value\": 66\n  },\n  {\n    \"key\": 24,\n    \"value\": 67\n  },\n  {\n    \"key\": 26,\n    \"value\": 21\n  },\n  {\n    \"key\": 27,\n    \"value\": 19\n  },\n  {\n    \"key\": 28,\n    \"value\": 18\n  },\n  {\n    \"key\": 29,\n    \"value\": 7\n  },\n  {\n    \"key\": 31,\n    \"value\": 8\n  },\n  {\n    \"key\": 32,\n    \"value\": 200\n  },\n  {\n    \"key\": 33,\n    \"value\": 9\n  },\n  {\n    \"key\": 35,\n    \"value\": 10\n  },\n  {\n    \"key\": 36,\n    \"value\": 201\n  },\n  {\n    \"key\": 37,\n    \"value\": 20\n  },\n  {\n    \"key\": 38,\n    \"value\": 198\n  },\n  {\n    \"key\": 40,\n    \"value\": 199\n  }\n]. ",
    "ssorc": "The restart may work because the call to d.initialization() in Start() is writing to the ctrl_meas register (see the bmp280RegisterControl register in the BPM280 driver's initialization() function) and this may be enough to finally enable the humidity sensor.\nI will send through a PR: it's only a couple of lines.. I've submitted the PR.. Ignore that last commit; there is an incorrect error check in initHumidity() that causes the unit tests to fail. Fixing now.. Updated PR. \nThe unit test that was failing now passes but I would welcome feedback if I haven't appropriately modified the TestBME280DriverStart() unit test. The change I made is to ensure the ReadByteData() call in initHumidity() doesn't fail.. I had taken line 117 from the initialisation code that calls into the BMP280 driver's initialisation code. Re-reviewing the BMP280 and BME280 data sheets, a value of 0x3F does not seem correct for either of the lines in question.\nLine 117 above would be better replaced with this:\n// The 'ctrl_hum' register sets the humidity data acquisition options of\n// the device. Changes to this register only become effective after a write\n// operation to 'ctrl_meas'. Read the current value in, then write it back\ncmr, err := d.connection.ReadByteData(bmp280RegisterControl)\nif err != nil {\n    d.connection.WriteByteData(bmp280RegisterControl, cmr)\n}\nThis is the approach taken by other BME280 drivers, including the official Bosch BME280 driver (https://github.com/BoschSensortec/BME280_driver/blob/master/bme280_support.c, lines 172 - 180) as it does not override existing oversampling rates that have been set up for the ctrl_meas register.\nFor the byte written to bme280RegisterControlHumidity, the value is the oversampling rate, as defined in Table 20 of the Bosch BME280 data sheet where basically three bits control an oversampling rate of x0 (skipped) to x16.\nI would suggest a default oversampling rate of 1 (as per Section 3.5 of the data sheet: \"Recommended modes of operation\"). \nIf you are happy with this approach, I will update the code.. Hi @deadprogram; yes; expect an update later today.. At some point, we should revisit the 0x3F magic constant here:\nd.connection.WriteByteData(bme280RegisterControlHumidity, 0x3F)\n\nwhich existed before my PR as well as the similar line in the bmp280_driver.go initialization() function:\nd.connection.WriteByteData(bmp280RegisterControl, 0x3F)\n\nBeing able to specify the oversampling rates for temperature and pressure in the BMP280 driver, as well as humidity in the BME280 driver, would eliminate these magic constants and also ensure that we are using the correct values.. ",
    "miko-code": "@deadprogram  IM having the same issue on win 10  i did the go get as you can see.\nbut I'm receiving the same error as above \n\nPS C:\\projects\\go\\src\\temp> go build\ngobot.io/x/gobot/platforms/ble\n..\\gobot.io\\x\\gobot\\platforms\\ble\\ble_client_adaptor.go:189: undefined: defaultDevice\ngobot.io/x/gobot/sysfs\n..\\gobot.io\\x\\gobot\\sysfs\\i2c_device.go:88: undefined: syscall.SYS_IOCTL\n..\\gobot.io\\x\\gobot\\sysfs\\i2c_device.go:102: undefined: syscall.SYS_IOCTL\n..\\gobot.io\\x\\gobot\\sysfs\\i2c_device.go:219: undefined: syscall.SYS_IOCTL\n..\\gobot.io\\x\\gobot\\sysfs\\syscall.go:34: not enough arguments in call to syscall.Syscall\n        have (uintptr, uintptr, uintptr, uintptr)\n        want (uintptr, uintptr, uintptr, uintptr, uintptr)\n\n\nGO  GET \n\nC:\\WINDOWS\\system32>go get -v -d -u gobot.io/x/gobot/...\nFetching https://gobot.io/x/gobot?go-get=1\nParsing meta tags from https://gobot.io/x/gobot?go-get=1 (status code 200)\nget \"gobot.io/x/gobot\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot?go-get=1\ngobot.io/x/gobot (download)\ngithub.com/hashicorp/go-multierror (download)\nFetching https://gobot.io/x/gobot/api?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/api?go-get=1 (status code 404)\ngithub.com/bmizerany/pat (download)\nFetching https://gobot.io/x/gobot/api/robeaux?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/api/robeaux?go-get=1 (status code 404)\nFetching https://gobot.io/x/gobot/cli?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/cli?go-get=1 (status code 404)\ngithub.com/codegangsta/cli (download)\nFetching https://gobot.io/x/gobot/drivers/aio?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/drivers/aio?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/drivers/aio\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/drivers/aio?go-get=1\nget \"gobot.io/x/gobot/drivers/aio\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot?go-get=1\nParsing meta tags from https://gobot.io/x/gobot?go-get=1 (status code 200)\nFetching https://gobot.io/x/gobot/drivers/gpio?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/drivers/gpio?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/drivers/gpio\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/drivers/gpio?go-get=1\nget \"gobot.io/x/gobot/drivers/gpio\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/drivers/i2c?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/drivers/i2c?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/drivers/i2c\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/drivers/i2c?go-get=1\nget \"gobot.io/x/gobot/drivers/i2c\": verifying non-authoritative meta tag\ngithub.com/sigurn/crc8 (download)\ngithub.com/sigurn/utils (download)\nFetching https://gobot.io/x/gobot/sysfs?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/sysfs?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/sysfs\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/sysfs?go-get=1\nget \"gobot.io/x/gobot/sysfs\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/examples?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/examples?go-get=1 (status code 404)\nFetching https://gobot.io/x/gobot/platforms/raspi?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/raspi?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/raspi\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/raspi?go-get=1\nget \"gobot.io/x/gobot/platforms/raspi\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/gobottest?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/gobottest?go-get=1 (status code 404)\nFetching https://gobot.io/x/gobot/platforms/audio?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/audio?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/audio\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/audio?go-get=1\nget \"gobot.io/x/gobot/platforms/audio\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/beaglebone?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/beaglebone?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/beaglebone\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/beaglebone?go-get=1\nget \"gobot.io/x/gobot/platforms/beaglebone\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/ble?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/ble?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/ble\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/ble?go-get=1\nget \"gobot.io/x/gobot/platforms/ble\": verifying non-authoritative meta tag\ngithub.com/currantlabs/ble (download)\ngithub.com/pkg/errors (download)\nFetching https://golang.org/x/net/context?go-get=1\nParsing meta tags from https://golang.org/x/net/context?go-get=1 (status code 200)\nget \"golang.org/x/net/context\": found meta tag main.metaImport{Prefix:\"golang.org/x/net\", VCS:\"git\", RepoRoot:\"https://go.googlesource.com/net\"} at https://golang.org/x/net/context?go-get=1\nget \"golang.org/x/net/context\": verifying non-authoritative meta tag\nFetching https://golang.org/x/net?go-get=1\nParsing meta tags from https://golang.org/x/net?go-get=1 (status code 200)\ngolang.org/x/net (download)\nFetching https://gobot.io/x/gobot/platforms/chip?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/chip?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/chip\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/chip?go-get=1\nget \"gobot.io/x/gobot/platforms/chip\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/digispark?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/digispark?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/digispark\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/digispark?go-get=1\nget \"gobot.io/x/gobot/platforms/digispark\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/dragonboard?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/dragonboard?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/dragonboard\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/dragonboard?go-get=1\nget \"gobot.io/x/gobot/platforms/dragonboard\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/firmata?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/firmata?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/firmata\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/firmata?go-get=1\nget \"gobot.io/x/gobot/platforms/firmata\": verifying non-authoritative meta tag\nFetching https://go.bug.st/serial.v1?go-get=1\nParsing meta tags from https://go.bug.st/serial.v1?go-get=1 (status code 200)\nget \"go.bug.st/serial.v1\": found meta tag main.metaImport{Prefix:\"go.bug.st/serial.v1\", VCS:\"git\", RepoRoot:\"https://go.bug.st/git/serial.v1.git\"} at https://go.bug.st/serial.v1?go-get=1\ngo.bug.st/serial.v1 (download)\nFetching https://golang.org/x/sys/windows?go-get=1\nParsing meta tags from https://golang.org/x/sys/windows?go-get=1 (status code 200)\nget \"golang.org/x/sys/windows\": found meta tag main.metaImport{Prefix:\"golang.org/x/sys\", VCS:\"git\", RepoRoot:\"https://go.googlesource.com/sys\"} at https://golang.org/x/sys/windows?go-get=1\nget \"golang.org/x/sys/windows\": verifying non-authoritative meta tag\nFetching https://golang.org/x/sys?go-get=1\nParsing meta tags from https://golang.org/x/sys?go-get=1 (status code 200)\ngolang.org/x/sys (download)\nFetching https://gobot.io/x/gobot/platforms/firmata/client?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/firmata/client?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/firmata/client\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/firmata/client?go-get=1\nget \"gobot.io/x/gobot/platforms/firmata/client\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/intel-iot?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/intel-iot?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/intel-iot\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/intel-iot?go-get=1\nget \"gobot.io/x/gobot/platforms/intel-iot\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/intel-iot/curie?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/intel-iot/curie?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/intel-iot/curie\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/intel-iot/curie?go-get=1\nget \"gobot.io/x/gobot/platforms/intel-iot/curie\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/intel-iot/edison?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/intel-iot/edison?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/intel-iot/edison\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/intel-iot/edison?go-get=1\nget \"gobot.io/x/gobot/platforms/intel-iot/edison\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/intel-iot/joule?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/intel-iot/joule?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/intel-iot/joule\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/intel-iot/joule?go-get=1\nget \"gobot.io/x/gobot/platforms/intel-iot/joule\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/joystick?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/joystick?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/joystick\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/joystick?go-get=1\nget \"gobot.io/x/gobot/platforms/joystick\": verifying non-authoritative meta tag\ngithub.com/veandco/go-sdl2 (download)\nFetching https://gobot.io/x/gobot/platforms/keyboard?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/keyboard?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/keyboard\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/keyboard?go-get=1\nget \"gobot.io/x/gobot/platforms/keyboard\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/leap?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/leap?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/leap\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/leap?go-get=1\nget \"gobot.io/x/gobot/platforms/leap\": verifying non-authoritative meta tag\nFetching https://golang.org/x/net/websocket?go-get=1\nParsing meta tags from https://golang.org/x/net/websocket?go-get=1 (status code 200)\nget \"golang.org/x/net/websocket\": found meta tag main.metaImport{Prefix:\"golang.org/x/net\", VCS:\"git\", RepoRoot:\"https://go.googlesource.com/net\"} at https://golang.org/x/net/websocket?go-get=1\nget \"golang.org/x/net/websocket\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/mavlink?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/mavlink?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/mavlink\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/mavlink?go-get=1\nget \"gobot.io/x/gobot/platforms/mavlink\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/mavlink/common?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/mavlink/common?go-get=1 (status code 404)\nFetching https://gobot.io/x/gobot/platforms/megapi?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/megapi?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/megapi\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/megapi?go-get=1\nget \"gobot.io/x/gobot/platforms/megapi\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/microbit?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/microbit?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/microbit\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/microbit?go-get=1\nget \"gobot.io/x/gobot/platforms/microbit\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/mqtt?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/mqtt?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/mqtt\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/mqtt?go-get=1\nget \"gobot.io/x/gobot/platforms/mqtt\": verifying non-authoritative meta tag\ngithub.com/eclipse/paho.mqtt.golang (download)\nFetching https://golang.org/x/net/proxy?go-get=1\nParsing meta tags from https://golang.org/x/net/proxy?go-get=1 (status code 200)\nget \"golang.org/x/net/proxy\": found meta tag main.metaImport{Prefix:\"golang.org/x/net\", VCS:\"git\", RepoRoot:\"https://go.googlesource.com/net\"} at https://golang.org/x/net/proxy?go-get=1\nget \"golang.org/x/net/proxy\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/nats?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/nats?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/nats\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/nats?go-get=1\nget \"gobot.io/x/gobot/platforms/nats\": verifying non-authoritative meta tag\ngithub.com/nats-io/nats (download)\ngithub.com/nats-io/go-nats (download)\ngithub.com/nats-io/nuid (download)\nFetching https://gobot.io/x/gobot/platforms/neurosky?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/neurosky?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/neurosky\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/neurosky?go-get=1\nget \"gobot.io/x/gobot/platforms/neurosky\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/opencv?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/opencv?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/opencv\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/opencv?go-get=1\nget \"gobot.io/x/gobot/platforms/opencv\": verifying non-authoritative meta tag\ngithub.com/lazywei/go-opencv (download)\nFetching https://gobot.io/x/gobot/platforms/parrot?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/parrot?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/parrot\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/parrot?go-get=1\nget \"gobot.io/x/gobot/platforms/parrot\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/parrot/ardrone?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/parrot/ardrone?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/parrot/ardrone\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/parrot/ardrone?go-get=1\nget \"gobot.io/x/gobot/platforms/parrot/ardrone\": verifying non-authoritative meta tag\ngithub.com/hybridgroup/go-ardrone (download)\nFetching https://gobot.io/x/gobot/platforms/parrot/bebop?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/parrot/bebop?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/parrot/bebop\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/parrot/bebop?go-get=1\nget \"gobot.io/x/gobot/platforms/parrot/bebop\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/parrot/bebop/client?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/parrot/bebop/client?go-get=1 (status code 404)\nFetching https://gobot.io/x/gobot/platforms/parrot/minidrone?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/parrot/minidrone?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/parrot/minidrone\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/parrot/minidrone?go-get=1\nget \"gobot.io/x/gobot/platforms/parrot/minidrone\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/particle?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/particle?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/particle\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/particle?go-get=1\nget \"gobot.io/x/gobot/platforms/particle\": verifying non-authoritative meta tag\ngithub.com/donovanhide/eventsource (download)\nFetching https://gobot.io/x/gobot/platforms/pebble?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/pebble?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/pebble\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/pebble?go-get=1\nget \"gobot.io/x/gobot/platforms/pebble\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/sphero?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/sphero?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/sphero\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/sphero?go-get=1\nget \"gobot.io/x/gobot/platforms/sphero\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/sphero/bb8?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/sphero/bb8?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/sphero/bb8\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/sphero/bb8?go-get=1\nget \"gobot.io/x/gobot/platforms/sphero/bb8\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/sphero/ollie?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/sphero/ollie?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/sphero/ollie\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/sphero/ollie?go-get=1\nget \"gobot.io/x/gobot/platforms/sphero/ollie\": verifying non-authoritative meta tag\nFetching https://gobot.io/x/gobot/platforms/tinkerboard?go-get=1\nParsing meta tags from https://gobot.io/x/gobot/platforms/tinkerboard?go-get=1 (status code 200)\nget \"gobot.io/x/gobot/platforms/tinkerboard\": found meta tag main.metaImport{Prefix:\"gobot.io/x/gobot\", VCS:\"git\", RepoRoot:\"https://github.com/hybridgroup/gobot\"} at https://gobot.io/x/gobot/platforms/tinkerboard?go-get=1\nget \"gobot.io/x/gobot/platforms/tinkerboard\": verifying non-authoritative meta tag. \n",
    "hairyhenderson": "\nWhat do you think?\n\nI think this is awesome! Thanks @deadprogram \ud83d\ude01\nI'll try to test this out too once I get a little free time.. ",
    "rucuriousyet": "any updates? I would love to use the raspberry pi with Gobot and some neopixels.... ",
    "n00dles": "Hey Guys, any update on getting this working? \nThought I had it going (1 pixel lit up for me) but I haven't been able to replicate. \nWhen adding to the esp firmware do I need to add : \nfirmataExt.addFeature(Neopixels);\nor similar? to the initFirmata() function. \n. ok figured I did need to use addFeature and I get lights !!\nbut just a flash the I get an exception on the ESP and it goes in to a reboot loop. \nI'm just using your example code. \nany suggestions?. @deadprogram Thanks for the update and advise. \nI have it working now on wifi on esp8266 but I still get the odd reboot after about a minute. so I'll keep at it.\nI'm so close to having it for what I want, not fancy animations just to be able to light up sequences of leds. \n. quick question. \nwhat is the purpose of the lines \n[code]\n   Firmata.write(START_SYSEX);\n   Firmata.write(NEOPIXEL_CMD);\n   Firmata.write(PIXEL_SHOW);\n   Firmata.write(END_SYSEX);\n[/code]\nin the arduino code? \nRemoving it seems to get rid of any exceptions I'm getting. is this required for proper operation? \n. ignore the above, I was doing something stupid.... . ",
    "NomadMaker": "It would probably be a lot easier to use DotStar strips than NeoPixel ones. DotStar is AdaFruit's name for LED's controlled via the APA102. They don't have the strict speed requirement that the NeoPixel ones do.\nI have both DotStar and NeoPixel things, but I can't get to them for the next week or so because I'm packing up my motorhome and moving it from Florida to Pennsylvania shortly. If I can find a DotStar strip fast enough then I will see if I can test it when I'm stopped for the night. However, they may be already boxed and put away and I don't have the time to search for them until I get to my destination.\nI am planning on eventually replacing the LED strips on my RV with DotStar strips so that I can be ready for holidays with a simple command. Imagine various types of Christmas lighting, then 4th of July, then just basic white, then Halloween, then Easter. That way nobody can make me change lights. :). Do you need Pi-Blaster even if you use the native PWM pins of the Raspberry Pi? There are four hardware PWM pins that I hope will work without PI-Blaster.\nUnfortunately Gort can't build pi-blaster for me. And manually fails in the same way.. ",
    "chaitanya9186": "Overview and details: https://learn.adafruit.com/16-channel-pwm-servo-driver?view=all. Awesome @deadprogram. Thank you. Can I use this driver from Raspberry Pi as well?. I am pretty new to this. \nIn the example, it is using firmata platform. If I want to use in Raspberry Pi, I need to use raspi platform?!!. Thanks @deadprogram. . ",
    "eriawan06": "hallo @deadprogram, I also encountered problem like this. How to fix it?. ",
    "tural-esger": "The same issue with me too.. ",
    "brimstone": "Apologies for the delay. I finally found some time tonight to work in my Read patches. Let me know what you think.. I also rebased this PR off the latest dev.. exp/io/spi does support reading, I've got a little of that worked out in my fork. The second parameter in TX() should be the same size as the first parameter and it will hold the results of request, if there is one.. ",
    "spatil": "Is there any workaround for this? . ",
    "kc1116": "This example is outdated https://github.com/hybridgroup/gobot/tree/master/platforms/joystick, it is also on the gobot.io website. Also it might be worth mentioning on macOS in order to get gobot to detect my xbox joystick I had to install https://github.com/360Controller/360Controller your joystick won't get detected automatically without some sort of driver for it. . Looks good !. Does gobot support anything for transceiving lasers or something to that extent ?. I've tried to run this example but the go-opencv library keeps giving a index out of range error. The bebop supports streaming to ffmpeg, is there a PaVE parser somewhere in this code I can use to manipulate the video stream manually ?. I am currently working on a parser will create a branch and have you look at it.. ",
    "jsaterfiel": "merged. ",
    "Remo": "@deadprogram thanks! I'm still evaluating, not sure I'll spend time learning go and gobot at this point. Currently playing around with python libraries and framework.. ",
    "ulisesflynn": "I've been pretty busy this past week, but I'll get to this soon!. Thanks Ron for the feedback, I did see putting the gopigo3 into a platform from the PR from @iplay88keys, but I was not sure at the time which way to go.  However it does make sense to move it to a platform, and if everyone is good with it, I'll make the change.. Thanks @deadprogram I think this is good for now, and I've tested this with the gopigo3 hardware.. Thanks @deadprogram! I've finally had time to add tests to driver. What do I need to add to pass the codecov/patch threshold?. Awesome, thank you for all your help with this PR! I'll try to add more testing to get better coverage in the next PR.. @kpeu3i I'll look at this to see if there is a problem, thanks!. @kpeu3i I found the problem and I will get a PR soon to fix that and a few other issues.. @jadr2ddude I'll look into this as I wrote this code awhile back and I'll get this fixed, thank you!. @barrowkwan I am looking into this now, I'll get back to you on this issue by tomorrow.. I'll look at this tomorrow and see what's going on, I apologize for my slow response.. @barrowkwan I've pushed up a PR for the writegpio/readgpio code, let me know if this fixes it.. Thanks again @barrowkwan for testing this out.. I tested this code on the 128x32 oled on the Gopher car, but I don't have the 128x64 or 96x16 displays on i2c, so if you have them and can test it that would be great!. Thank you for reviewing the changes, I've added that line back to the test file.. ",
    "jerson": "rock64 is different than pine64 board. ",
    "muhtadi": "yes, please help\n. // Wire Slave Sender\ninclude \nvoid setup() {\n  Wire.begin(8);                // join i2c bus with address #8\n  Wire.onRequest(requestEvent); // register event\n}\nvoid loop() {\n  delay(100);\n}\n// function that executes whenever data is requested by master\n// this function is registered as an event, see setup()\nvoid requestEvent() {\n  Wire.write(\"hello \"); // respond with message of 6 bytes\n  // as expected by master\n}. master receiver raspi i2c in gobot code?\n. ",
    "jjjachyty": "There is no idea, can the MQTT protocol through the gateway to PLC, don't know how to read and write directly PLC?. Mitsubishi FX series. ",
    "gouthamve": "Thanks! Sorry for not checking the guidelines.. ",
    "johanhenselmans": "Hmm,  I am not fluent in Gobot/Golang, so spare me some slack...\nI'll see what I come up with.\n. Interesting, I was working to put the adafruit python code in a go-able version. It's not working nor tested yet. I'll have time to work on it tomorrow.\n. Ron, I was hoping to see you at Fosdem, but was too influensa'd to get in Brussels. The current version does not take into account that about all the pins can behave as GPIO's, or as PWMs for that matter (with some PRU massaging). I tried to come up with a better solution, but I am having trouble understanding how I should compile my branch so that I can test it properly.  I seem to be missing some step. \n'go build' in the $GOPATH/src/gobot.io/x/gobot does not seem to work, should I build with make? I ran make, but make ran tests, and then gave an error:\n--- PASS: TestPwmPinDutyCycleError (0.00s)\nPASS\nok      gobot.io/x/gobot/sysfs  0.405s\nmake: *** [test] Error 2\nHow do I build local branches so that I can test locally and contribute afterwards?\n. Ron, I have some problems with it as a bunch of pins that can also act as PWM are not defined. I have tried to come up with a solution, but I am unable to get the stuff compiled properly.\nIs there some kind of manual that explains step by step how to build a test version that than can be used for submitting pull requests?\n\nOn 26 Dec 2017, at 18:24, Ron Evans notifications@github.com wrote:\nClosed #467 https://github.com/hybridgroup/gobot/issues/467.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/hybridgroup/gobot/issues/467#event-1401774263, or mute the thread https://github.com/notifications/unsubscribe-auth/AAlM2a9beYhBjFdFyi3k5HV3wo1qyAXwks5tESu2gaJpZM4QgvPe.\n\n\nVriendelijke Groeten,\nJohan Henselmans\njohan@netsense.nl\n+31 6 51362675\n. ",
    "kpeu3i": "Yes, of course. First of all, I build an image from a Dockerfile and only then compile GoCV code.\nIt might help (https://golang.org/cmd/cgo/#hdr-Go_references_to_C):\nTo access a struct, union, or enum type directly, prefix it with struct_, union_, or enum_, as in C.struct_stat.\n. Thanks for your reply! I would be thankful for any help.\nMy main goal is to build OpenCV for ARM architecture using Docker and then cross-compile GoCV code in a container.. Hi!\nI'm trying to run GoCV (face detection) on my robot (GoPiGo) which controlled by Gobot.. Hi @trevrosen!\nCould you please provide more information about the reason why I won't be able to cross-compile GoCV using CGO?. Sorry, maybe I don't understand something, but I found this https://golang.org/cmd/cgo:\n\nWhen cross-compiling, you must specify a C cross-compiler for cgo to use. You can do this by setting the CC_FOR_TARGET environment variable when building the toolchain using make.bash, or by setting the CC environment variable any time you run the go tool. The CXX_FOR_TARGET and CXX environment variables work in a similar way for C++ code.\n. Hi, @deadprogram! You've helped me a lot! it works :)\n\nHere is a simple working example (motors will rotate forth):\n```\nraspiAdaptor := raspi.NewAdaptor()\ngopigoDriver := gopigo3.NewDriver(raspiAdaptor)\nwork := func() {\n    gopigoDriver.SetMotorPower(gopigo3.MOTOR_LEFT+gopigo3.MOTOR_RIGHT, 100)\n}\nrobot := gobot.NewRobot(\"gopigo\",\n    []gobot.Connection{raspiAdaptor},\n    []gobot.Device{gopigoDriver},\n    work,\n)\nrobot.Start()\n``. It looks like methodSetMotorDps` doesn't work:\nwork := func() {\n    err := gopigoDriver.SetMotorDps(gopigo3.MOTOR_LEFT, 180)\n    if err != nil {\n        return log.Fatal(err)\n    }\n}\nNothing happens when I run it on my robot. Did I miss something?. I think this function is a port of GoPiGo Python Driver.\nSet the motor target speed in degrees per second\n    Keyword arguments:\n        port -- The motor port(s). MOTOR_LEFT and/or MOTOR_RIGHT.\n        dps -- The target speed in degrees per second. @ulisesflynn thanks a lot for your help in resolving the problem!. ",
    "stuomas": "@deadprogram For example this works, and turns red led on. Works with pins 13 and 15 too.\n```\npackage main\nimport (\n    \"gobot.io/x/gobot\"\n    \"gobot.io/x/gobot/drivers/gpio\"\n    \"gobot.io/x/gobot/platforms/raspi\"\n)\nfunc main() {\n    r := raspi.NewAdaptor()\n    led := gpio.NewLedDriver(r, \"11\")\nwork := func() {\n    led.Off()\n}\n\nrobot := gobot.NewRobot(\"ledbot\",\n    []gobot.Connection{r},\n    []gobot.Device{led},\n    work,\n)\n\nrobot.Start()\n\n}\n```\nThis doesn't respond to anything\n```\npackage main\nimport (\n    \"gobot.io/x/gobot\"\n    \"gobot.io/x/gobot/drivers/gpio\"\n    \"gobot.io/x/gobot/platforms/raspi\"\n)\nfunc main() {\n    r := raspi.NewAdaptor()\n    led := gpio.NewRgbLedDriver(r, \"11\", \"13\", \"15\")\nwork := func() {\n    led.SetRGB(255, 0, 0)\n}\n\nrobot := gobot.NewRobot(\"ledbot\",\n    []gobot.Connection{r},\n    []gobot.Device{led},\n    work,\n)\n\nrobot.Start()\n\n}\n```\nOn, Off, or Toggle neither work. Led stays off (or in the state it was left before)\n. @deadprogram I haven't. Is it mandatory with rgb functions even if you don't want to modulate the pins, but just on/off?. I installed pi-blaster and now everything is fine. You're right it makes sense to require it, if you want to just turn on/off single colors of a rgb led, you can probably use the LedDriver for them separately. Or like that in your example, I think it would work nicely.\nMaybe it could be mentioned in the documentation though :)\nThanks!. ",
    "zerok": "Thank you very much \ud83d\ude42. ",
    "simonswine": "If it helps I could provide a bluetooth pcap dump form the Android app for a Sphero mini. ",
    "igbopie": "Hi! I developed an js library to connect with Sphero mini! It is still a little bit work in progress:\nhttps://github.com/igbopie/spherov2.js. ",
    "usualwyy": "Thanks for fast response.\nYeah,I can do as what you said.But I think it's better to have a work pool so I can control the works dynamicly,may be in the future :) \n. ",
    "muehlburger": "Awesome, thank you. Next time I'll review the contribution guidelines before. ;-). ",
    "lexfrei": "Any news?. ",
    "bgould": "Awesome, thanks for the quick fix.  Tried it out and it seems to be working now.  I'm new to gobot but so far I like it a lot and I really appreciate how willing you are to quickly help out.. ",
    "vendelin8": "Hi,\nI had the same question. Is there a plan for this for the future? Is there anything I could help?\nI'm asking it not specifically to Microbit, but in general, I'm more interested in Disigpark.\nThanks!\n. I started to write the missing parts, but it doesn't seem to work.\nhttps://github.com/hybridgroup/gobot/compare/master...vendelin8:master\nI'm using this code to get it work:\ndigisparkAdaptor := digispark.NewAdaptor()\npca9685 := i2c.NewPCA9685Driver(digisparkAdaptor, i2c.WithAddress(0x27))\n\nwork := func() {\n    val := 0\n    gobot.Every(50 * time.Millisecond, func() {\n        val += 50\n        if val > 4096 {\n            val = 0\n        }\n        pca9685.SetPWM(0, 0, val)\n        fmt.Println(val)\n    })\n}\n\nrobot := gobot.NewRobot(\"pwmBot\",\n    []gobot.Connection{digisparkAdaptor},\n    []gobot.Device{pca9685},\n    work,\n)\n\ndefer func() {\n    pca9685.SetPWM(channel, 0, 0)\n}()\nrobot.Start()\n\nWhen I tried to add\npca9685.SetPWMFreq(60)\n\nIt broke with:\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x40 pc=0x4af58c]\n\ngoroutine 1 [running]:\ngobot.io/x/gobot/drivers/i2c.(*PCA9685Driver).SetPWMFreq(0xc4200620c0, 0xc442700000, 0xc420057ef8, 0x1)\n\nI'm quite new to gobot, cgo and low level programming, that's what I could figure out by myself. If you have some time, please look at it. Thanks!\n. I found this example, that helped me with the issue:\nhttps://github.com/littlewire/Little-Wire/blob/master/software/examples/i2c_blinkM.c\nSo I improved the code. I added a Test functionality that is able to check available addresses, with a code like:\ndigisparkAdaptor.TestConnection(0, 127, func(a int) {\n    fmt.Println(a)\n})\n\nIt gives me 0 and 64 (=0x40), so I changed the calling code to this\npca9685 := i2c.NewPCA9685Driver(digisparkAdaptor, i2c.WithAddress(0x40))\n\nBut it still doesn't work, not sure why. Still waiting for any help, please.\n. Ok, I added\nvar _ i2c.Connector = (*Adaptor)(nil)\n\nto the test file, and wrote some new tests as well. I think that the other line shouldn't be necessary. Because:\n1. not the Adaptor itself, but the connection returned by GetConnection should implement i2c.I2cOperations.\n2. if a connection returned by GetConnection implements i2c.Connection, it will implement i2c.I2cOperations also.\n3. I grepped the whole project for I2cOperations, and I found it only in https://github.com/hybridgroup/gobot/blob/master/drivers/i2c/i2c.go\nSo my current branch looks like this:\nhttps://github.com/hybridgroup/gobot/compare/master...vendelin8:master\nIt compiles, tests are passing, but it doesn't seem that my PCA9685 sends appropriate PWM signals. Possible errors are:\n1. I made something wrong in the code.\n2. I failed to connect hardware parts properly. Not very likely, but I'm really new to this field.. Nice, thanks!\nhttps://github.com/hybridgroup/gobot/pull/598\n. Ok, finally I was able to make it work. Thanks for the assistance, and for this awesome tool! :). ",
    "PrasadG193": "@deadprogram, I have already tried that approach but it didn't work. If you see structure of Roll command in API reference doc, \nDID | CID | SEQ | DLEN | Speed | Heading | Heading | STATE\n02h | 30h | \\<any>| 05h | \\<val> | \\<msb> | \\<lsb> | \\<bool>\nwhich is different than that of Set Heading command. In Roll command heading is split into MSB and LSB. But in Set Heading, 16-bit heading parameter is passed as it is.. I have tried that. Didn't work for Ollie bot. I am not sure if it even works for sphero bot also.. ",
    "ferventgeek": "Thanks. I'm showing this live on-stage for a Cisco IoT conference in May, but using a custom client for /API. The Robeaux interface is just sexy-cool to promote Gobot, so if it's not working, I can skip it. Thanks again, this is a really helpful library.. Update. Close this :) I realized you can override any existing route after the API initializer is called.\ngolang\na := api.NewAPI(gbot)\na.Get(\"/\", func(res http.ResponseWriter, req *http.Request) {\n        res.Write([]byte(\"hey there i see you!\"))\n    })\nI'm good!  Thx. Thanks. Easy may just be to allow drop in replacement Logs. Combining them into a logging interface would be cool, but as a start, just a method on a few of the major objects to update the log object. Thanks for this project.  Oh, also I added a webhook to the API host, and overrode the \"/\" path.  Super simple, so good. Gobot Metal, FTW.. Thanks, I'll test for #528.. This is awesome, thanks for the update. Logging refactoring is always tricky- this will really help with IoT projects and random robot images with no serial connector. I'll have time to test in early January.   . Ahh, well it happens. Would still like integrated exportable logs, but then again who doesn't. ;-) I'm all over the Arduino/ESP32 gizmo over the holiday anyway. ;-) . ",
    "curtiswpaul": "Same issue.  Also tried root.\nOn Mon, Feb 12, 2018, 1:37 PM Ron Evans notifications@github.com wrote:\n\nHi @curtiswpaul https://github.com/curtiswpaul sounds like a\npermissions problem, possibly. If you run your program under sudo, what\nhappens?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/491#issuecomment-365054073,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFsxVg5N_bIG7YsQ0CJKHg2lBS0mmwA8ks5tUKEfgaJpZM4SBs8a\n.\n. Got a recommendation on golang-nuts from Silviu Capota Mera to try something like this just to see if the code is reading the button push...hold down the button and execute code, etc...\n\nSomething like this...\ndVal, err := beagleboneAdaptor.DigitalRead(\"P8_8\")\nif err != nil {\n  fmt.Println(\"Error reading the pin: \", err)\n  return\n}\nfmt.Println(\"Pin read correctly, the value is: \", dVal). Right on!. So the issue was the instructions for the uEnv.txt?\nI changed button pin over to P8_10 and it works.. ",
    "bloudermilk": "@deadprogram thank you for following up. Now I must offer you an apology for going MIA on this issue. This week I will try to recompile my program without adc.Start to see if that has any affect. Let me know if there's anything else I can do to help you debug this. Happy to lend my Pi over SSH if that's helpful.. @deadprogram I just validated the fix on my end! The example script you provided build and runs successfully on my pi. Thank you so much for addressing this issue!. @FerventGeek you can actually close this issue yourself since you opened it. You should see a 'Close issue' button next to the 'Comment' button. \ud83c\udf7b . ",
    "simonbrugger": "thank you I'll dig into it :) . ",
    "ghostsquad": "I'll try it out. Stay tuned. . Sorry I haven't had a chance to check this out. I'm terrible.\nOn Thu, Apr 12, 2018 at 7:04 AM Ron Evans notifications@github.com wrote:\n\nI've added code and merged into the dev branch, which is working on my\nmachine:\n$ ./scanner\nJoystick 0 connected\n[5880 ms] Axis: 4       value:-32768\n[5880 ms] Axis: 5       value:-32768\nI will leave this issue open until the next release.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/hybridgroup/gobot/issues/502#issuecomment-380816651,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AA3JQCB-mP0sZ6JKjxY0zBN_i56OSf3Rks5tn17-gaJpZM4S6Yxd\n.\n. Upon further investigation, and using this comment to guide a test:\nhttps://github.com/hybridgroup/gobot/issues/363#issuecomment-277943574\n\nI've setup the following which seems to work out really well. 3000 as the minimum x/y values seems to be a good at least for my joystick to consistently put me back to 0 on very low (but non-zero) values.\n```go\npackage main\nimport (\n    \"fmt\"\n    \"time\"\n    \"sync/atomic\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/platforms/joystick\"\n\n)\ntype pair struct {\n    x float64\n    y float64\n}\nvar leftX, leftY, rightX, rightY atomic.Value\nfunc getLeftStick() pair {\n    s := pair{x: 0, y: 0}\n    s.x = leftX.Load().(float64)\n    s.y = leftY.Load().(float64)\n    return s\n}\nfunc getRightStick() pair {\n    s := pair{x: 0, y: 0}\n    s.x = rightX.Load().(float64)\n    s.y = rightY.Load().(float64)\n    return s\n}\nfunc main() {\n    joystickAdaptor := joystick.NewAdaptor()\n    stick := joystick.NewDriver(joystickAdaptor,\n        \"./xboxone.json\",\n    )\nleftX.Store(float64(0.0))\nleftY.Store(float64(0.0))\nrightX.Store(float64(0.0))\nrightY.Store(float64(0.0))\n\nwork := func() {\n    stick.On(joystick.LeftX, func(data interface{}) {\n        val := float64(data.(int16))\n        leftX.Store(val)\n    })\n\n    stick.On(joystick.LeftY, func(data interface{}) {\n        val := float64(data.(int16))\n        leftY.Store(val)\n    })\n\n    stick.On(joystick.RightX, func(data interface{}) {\n        val := float64(data.(int16))\n        rightX.Store(val)\n    })\n\n    stick.On(joystick.RightY, func(data interface{}) {\n        val := float64(data.(int16))\n        rightY.Store(val)\n    })\n\n    gobot.Every(10*time.Millisecond, func() {\n        leftStick := getLeftStick()\n\n        switch {\n        case leftStick.y < -3000:\n            fmt.Println(\"left_y\", leftStick)\n        case leftStick.y > 3000:\n            fmt.Println(\"left_y\", leftStick)\n        default:\n            fmt.Println(\"left_y\", 0)\n        }\n\n        switch {\n        case leftStick.x > 3000:\n            fmt.Println(\"left_x\", leftStick)\n        case leftStick.x < -3000:\n            fmt.Println(\"left_x\", leftStick)\n        default:\n            fmt.Println(\"left_x\", 0)\n        }\n    })\n\n    gobot.Every(10*time.Millisecond, func() {\n        rightStick := getRightStick()\n\n        switch {\n        case rightStick.y < -3000:\n            fmt.Println(\"right_y\", rightStick)\n        case rightStick.y > 3000:\n            fmt.Println(\"right_y\", rightStick)\n        default:\n            fmt.Println(\"right_y\", 0)\n        }\n\n        switch {\n        case rightStick.x > 3000:\n            fmt.Println(\"right_x\", rightStick)\n        case rightStick.x < -3000:\n            fmt.Println(\"right_x\", rightStick)\n        default:\n            fmt.Println(\"right_x\", 0)\n        }\n    })\n}\n\nrobot := gobot.NewRobot(\"joystickBot\",\n    []gobot.Connection{joystickAdaptor},\n    []gobot.Device{stick},\n    work,\n)\n\nrobot.Start()\n\n}\n```. ",
    "eric-s-raymond": "I am aware that you have a separate example for usr1.  Part of what I am trying to convey is that the \"main\" demo blinking P9_12 is poorly written as is and should be replaced with an example that blinks a visible LED and provides an indication in its output of when the LED should be blinking.\nWhat is the point of a demo that doesn't demo without special attached equipment when you have one that works with the bare board?\nYes, I was running under a development account I created. I am aware that the debian account is in group gpio.  It is good practice to inform the user up front of preconditions like that.  The comment I added was as important as the minor code modification. \nI don't think restoring the default LED binding is very important as long as warning that it will be left unbound until the next reboot is added to the header comment.  Again, if you do not inform users of these things they are  likely to be surprised, confused, and have unnecessary problems\nI chose usr1 because in normal operation on the BB (as opposed to reflashing) the SD is only accessed if the user does so explicitly.  It is thus the least ambiguous pin to use as a success indicator\nThe incoming merge request addresses all these issues.  I don't know how to change the doc page in the repository; if I did, I'd replace the beaglebone_blink_usr_led.go with a link to the improved version.. ",
    "bodokaiser": "I can confirm that \n```go\npackage main\nimport (\n    \"log\"\n\"gobot.io/x/gobot/platforms/beaglebone\"\n\n)\nfunc main() {\n    beagle := beaglebone.NewAdaptor()\nc, err := beagle.GetSpiConnection(1, 0, 0, 8, 5e6)\nif err != nil {\n    log.Fatal(err)\n}\n\nw := []byte{\n    8, 0, 0,\n    1, 3, 64, 8, 32,\n    14, 63, 255, 0, 0, 1, 137, 0, 0,\n    0, 0, 128, 2, 2,\n    9, 0, 0, 255, 252,\n    7, 1, 137, 0, 0,\n}\nr := make([]byte, len(w))\n\nerr = c.Tx(w, r)\nif err != nil {\n    log.Fatal(err)\n}\n\nlog.Printf(\"%v\", r)\n\n}\n```\nworks as expected. Thank you!. ",
    "lucavallin": "Hey @deadprogram! Thanks for your reply: I'd like to give it a shot, just starting with this kind of low level stuff so it'd be good for me to play around with it. However, do you know if there's documentation about the architecture of Gobot? Like, besides adding a dexter driver for the GrovePi, do I need to take care of anything else?\nI am going to work on it this week, maybe the next one as it's getting busy now.. Started to work on it, however not very clear to me the bigger picture (is this a platform? or a driver?).\nAnyways, this is it so far: https://github.com/lucavallin/gobot/blob/feature/grovepi-i2c-driver/drivers/i2c/grovepi_driver.go\nI'm not sure about the read methods in particular... I used to specify a size for the amount of data to read. I don't see support for that in the i2c connection we're using... any suggestions?. I see, looks good, that should be enough for me to go on with it.\nStill two questions tho:\n\nYou're doing strconv.Atoi(pin) but, pin can be \"D7\" or \"A2\" for example, is there a particular reason why these values should be converted to int?\n(int(val[1]) << 8) | int(val[2]) : I understand we're left shifting int(val[1]) by 8 bits and then OR it with int(val[2]). But why are we doing so? Also why are casting it to int first? (Just lacking some knowledge on this one!)\n\nThank you!. Thanks again! Tonight I will play around with it a bit more :). Update: I've successfully implemented DigitalWrite. Now I can turn on my leds...\nOne more question: in my project I have digitalRead, analogRead and dhtRead. The last one is basically a digitalRead, but it does something extra on the raw data because the DHT sensor sends a few bits, but some represent the humidity and some other the temperature. I think this should go to some kind of \"parser\" but I don't think we have such concept here. Where do you think that operation belongs?. Alright, thanks. Not directly related but good for the record: https://www.dexterindustries.com/GrovePi/programming/grovepi-protocol-adding-custom-sensors/. Update: I just ordered a digital sensor from which I can read from, with this I should be able to add the digitalRead part. Hi @deadprogram, need to check what I have left. I remember I had the digitalwrite working but no tests, then I moved to arduino because it's just simpler to work with. Will check asap.. @deadprogram No luck so far, I don't think I'll be submitting a PR any soon, sorry!. Hi @deadprogram, that's awesome news! I will take  another look at it so I can see what I was missing, maybe I can help maintaining too or something... Thanks!!!. Hi @deadprogram, just got back from my holidays, the driver works nicely, approved!. Not sure if the case, but remember to add these flags when compiling:\nGOOS=linux GOARCH=arm GOARM=6 go build\nI remember I had some issue because of the missing GOARM. Hello, just updated, it works! Thanks!. I see this is tagged as enhancement, but in the meantime, do you have any suggestions about how to wrap this up? Maybe by wrapping each sensor in some object which implements an interface, and then having a big list of sensors to loop through?. ",
    "GreenFantomas": "I use Go 1.10.1 on linux/amd64.. I use ArchLinux(4.15.15-1-ARCH).. @jadr2ddude, yes, you are right. My provider blocked gocv.io, and I just cloned the gocv project from github and compiled it. Now it works! Thanks to everyone for replies!. ",
    "adg": "Hi there,\nWe're sorry if we bothered you with this pull request.\nIf you've got a moment, could you describe your rationale for refusing the change?\nYour feedback will help us better understand the open source ecosystem and make @functionary more well-behaved in the future.\nThank you.\n. ",
    "fabriziomarini": "I have tried but nothing change.\nI have also used a cmd as administrator to start the \"go run ....\"\nMy dubt is that I do not see \"Connected\" on the console the one used in line https://github.com/hybridgroup/gobot/blob/master/examples/tello_video.go#L37\n. Yes tello.go work fine.. OS Name  Microsoft Windows 10 Pro\nVersion 10.0.15063 Build 15063\nYes mplayer it is in the path. ",
    "rlanari": "I checked it but before running go process I didn't find any mplayer process: I saw mplayer process only after typing the command: go run tello_video.go\n\n I have this OS:\nDISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=16.04\nDISTRIB_CODENAME=xenial\nDISTRIB_DESCRIPTION=\"Ubuntu 16.04.4 LTS\"\nWhat OS are you using ? Is there some particulare mplayer plugin that should be installed ?. mplayer -h\nUsage:   mplayer [options] [url|path/]filename\nBasic options: (complete list in the man page)\n -vo         select video output driver ('-vo help' for a list)\n -ao         select audio output driver ('-ao help' for a list)\n vcd://  play (S)VCD (Super Video CD) track (raw device, no mount)\n dvd://  play DVD title from device instead of plain file\n -alang/-slang    select DVD audio/subtitle language (by 2-char country code)\n -ss    seek to given (seconds or hh:mm:ss) position\n -nosound         do not play sound\n -fs              fullscreen playback (or -vm, -zoom, details in the man page)\n -x  -y     set display resolution (for use with -vm or -zoom)\n -sub       specify subtitle file to use (also see -subfps, -subdelay)\n -playlist  specify playlist file\n -vid x -aid y    select video (x) and audio (y) stream to play\n -fps x -srate y  change video (x fps) and audio (y Hz) rate\n -pp     enable postprocessing filter (details in the man page)\n -framedrop       enable frame dropping (for slow machines)\nBasic keys: (complete list in the man page, also check input.conf)\n <-  or  ->       seek backward/forward 10 seconds\n down or up       seek backward/forward  1 minute\n pgdown or pgup   seek backward/forward 10 minutes\n < or >           step backward/forward in playlist\n p or SPACE       pause movie (press any key to continue)\n q or ESC         stop playing and quit program\n + or -           adjust audio delay by +/- 0.1 second\n o                cycle OSD mode:  none / seekbar / seekbar + timer\n * or /           increase or decrease PCM volume\n x or z           adjust subtitle delay by +/- 0.1 second\n r or t           adjust subtitle position up/down, also see -vf expand\n\n\n\n\n\nSEE THE MAN PAGE FOR DETAILS, FURTHER (ADVANCED) OPTIONS AND KEYS * * *\n\n\n\n\n\nMPlayer 1.2.1 (Debian), built with gcc-5.3.1 (C) 2000-2016 MPlayer Team\n. go version\ngo version go1.10.2 linux/amd64\n. ",
    "jyzadeh": "Hi @rlanari, I'm having the same issue. Have you found a fix?. Unfortunately no matter how many times I restart the program, I get the same result.\nIs there some installation difference between the master and dev branch? How would I switch to using dev branch?\nI have fixed the issues in imgproc.cpp, but now get this:\n```\n{\ngocv.io/x/gocv\nUndefined symbols for architecture x86_64:\n  \"cv::HoughLines(cv::InputArray const&, cv::_OutputArray const&, double, double, int, double, double, double, double)\", referenced from:\n      _HoughLines in _x017.o\n  \"cv::bitwise_or(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&)\", referenced from:\n      _Mat_BitwiseOr in _x012.o\n  \"cv::convexHull(cv::_InputArray const&, cv::_OutputArray const&, bool, bool)\", referenced from:\n      _ConvexHull in _x017.o\n  \"cv::meanStdDev(cv::_InputArray const&, cv::_OutputArray const&, cv::_OutputArray const&, cv::_InputArray const&)\", referenced from:\n      _Mat_MeanStdDev in _x012.o\n  \"cv::medianBlur(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _MedianBlur in _x017.o\n  \"cv::moveWindow(cv::String const&, int, int)\", referenced from:\n      _Window_Move in _x015.o\n  \"cv::selectROIs(cv::String const&, cv::_InputArray const&, std::__1::vector, std::__1::allocator > >&, bool, bool)\", referenced from:\n      _Window_SelectROIs in _x015.o\n  \"cv::warpAffine(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, cv::Size, int, int, cv::Scalar_ const&)\", referenced from:\n      WarpAffine in _x017.o\n      _WarpAffineWithParams in _x017.o\n  \"cv::HoughLinesP(cv::_InputArray const&, cv::_OutputArray const&, double, double, int, double, double)\", referenced from:\n      _HoughLinesP in _x017.o\n  \"cv::VideoWriter::fourcc(char, char, char, char)\", referenced from:\n      _VideoWriter_Open in _x021.o\n  \"cv::VideoWriter::VideoWriter()\", referenced from:\n      _VideoWriter_New in _x021.o\n  \"cv::addWeighted(cv::_InputArray const&, double, cv::_InputArray const&, double, double, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_AddWeighted in _x012.o\n  \"cv::arrowedLine(cv::_InputOutputArray const&, cv::Point, cv::Point_, cv::Scalar_ const&, int, int, int, double)\", referenced from:\n      ArrowedLine in _x017.o\n  \"cv::bitwise_and(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&)\", referenced from:\n      _Mat_BitwiseAnd in _x012.o\n  \"cv::bitwise_not(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&)\", referenced from:\n      _Mat_BitwiseNot in _x012.o\n  \"cv::bitwise_xor(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&)\", referenced from:\n      _Mat_BitwiseXor in _x012.o\n  \"cv::cartToPolar(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, cv::_OutputArray const&, bool)\", referenced from:\n      _Mat_CartToPolar in _x012.o\n  \"cv::contourArea(cv::_InputArray const&, bool)\", referenced from:\n      _ContourArea in _x017.o\n  \"cv::convertFp16(cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_ConvertFp16 in _x012.o\n  \"cv::findNonZero(cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_FindNonZero in _x012.o\n  \"cv::getTextSize(cv::String const&, int, double, int, int)\", referenced from:\n      GetTextSize in _x017.o\n  \"cv::namedWindow(cv::String const&, int)\", referenced from:\n      _Window_New in _x015.o\n  \"cv::GFTTDetector::create(int, double, double, int, bool, double)\", referenced from:\n      _GFTTDetector_Create in _x014.o\n  \"cv::GaussianBlur(cv::_InputArray const&, cv::_OutputArray const&, cv::Size, double, double, int)\", referenced from:\n      GaussianBlur in _x017.o\n  \"cv::HoughCircles(cv::_InputArray const&, cv::_OutputArray const&, int, double, double, double, double, int, int)\", referenced from:\n      _HoughCircles in _x017.o\n      _HoughCirclesWithParams in _x017.o\n  \"cv::VideoCapture::VideoCapture()\", referenced from:\n      _VideoCapture_New in _x021.o\n  \"cv::approxPolyDP(cv::_InputArray const&, cv::_OutputArray const&, double, bool)\", referenced from:\n      _ApproxPolyDP in _x017.o\n  \"cv::boundingRect(cv::_InputArray const&)\", referenced from:\n      _BoundingRect in _x017.o\n  \"cv::completeSymm(cv::_InputOutputArray const&, bool)\", referenced from:\n      _Mat_CompleteSymm in _x012.o\n  \"cv::cornerSubPix(cv::_InputArray const&, cv::_InputOutputArray const&, cv::Size, cv::Size_, cv::TermCriteria)\", referenced from:\n      CornerSubPix in _x017.o\n  \"cv::countNonZero(cv::_InputArray const&)\", referenced from:\n      _Mat_CountNonZero in _x012.o\n  \"cv::drawContours(cv::_InputOutputArray const&, cv::_InputArray const&, int, cv::Scalar const&, int, int, cv::InputArray const&, int, cv::Point)\", referenced from:\n      DrawContours in _x017.o\n  \"cv::findContours(cv::_InputOutputArray const&, cv::_OutputArray const&, int, int, cv::Point)\", referenced from:\n      FindContours in _x017.o\n  \"cv::morphologyEx(cv::_InputArray const&, cv::_OutputArray const&, int, cv::_InputArray const&, cv::Point, int, int, cv::Scalar_ const&)\", referenced from:\n      MorphologyEx in _x017.o\n  \"cv::resizeWindow(cv::String const&, int, int)\", referenced from:\n      _Window_Resize in _x015.o\n  \"cv::HOGDescriptor::getDefaultPeopleDetector()\", referenced from:\n      _HOG_GetDefaultPeopleDetector in _x018.o\n  \"cv::applyColorMap(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&)\", referenced from:\n      _ApplyCustomColorMap in _x017.o\n  \"cv::applyColorMap(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _ApplyColorMap in _x017.o\n  \"cv::batchDistance(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, int, cv::_OutputArray const&, int, int, cv::_InputArray const&, int, bool)\", referenced from:\n      _Mat_BatchDistance in _x012.o\n  \"cv::destroyWindow(cv::String const&)\", referenced from:\n      _Window_Close in _x015.o\n  \"cv::insertChannel(cv::_InputArray const&, cv::_InputOutputArray const&, int)\", referenced from:\n      _Mat_InsertChannel in _x012.o\n  \"cv::matchTemplate(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, int, cv::_InputArray const&)\", referenced from:\n      _MatchTemplate in _x017.o\n  \"cv::copyMakeBorder(cv::_InputArray const&, cv::_OutputArray const&, int, int, int, int, int, cv::Scalar const&)\", referenced from:\n      _Mat_CopyMakeBorder in _x012.o\n  \"cv::createTrackbar(cv::String const&, cv::String const&, int, int, void ()(int, void), void)\", referenced from:\n      Trackbar_Create in _x015.o\n  \"cv::extractChannel(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_ExtractChannel in _x012.o\n  \"cv::getTrackbarPos(cv::String const&, cv::String const&)\", referenced from:\n      _Trackbar_GetPos in _x015.o\n  \"cv::setTrackbarMax(cv::String const&, cv::String const&, int)\", referenced from:\n      _Trackbar_SetMax in _x015.o\n  \"cv::setTrackbarMin(cv::String const&, cv::String const&, int)\", referenced from:\n      _Trackbar_SetMin in _x015.o\n  \"cv::setTrackbarPos(cv::String const&, cv::String const&, int)\", referenced from:\n      _Trackbar_SetPos in _x015.o\n  \"cv::setWindowTitle(cv::String const&, cv::String const&)\", referenced from:\n      _Window_SetTitle in _x015.o\n  \"cv::bilateralFilter(cv::_InputArray const&, cv::_OutputArray const&, int, double, double, int)\", referenced from:\n      _BilateralFilter in _x017.o\n  \"cv::calcCovarMatrix(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputOutputArray const&, int, int)\", referenced from:\n      _Mat_CalcCovarMatrix in _x012.o\n  \"cv::convertScaleAbs(cv::_InputArray const&, cv::_OutputArray const&, double, double)\", referenced from:\n      _Mat_ConvertScaleAbs in _x012.o\n  \"cv::groupRectangles(std::__1::vector, std::__1::allocator > >&, int, double)\", referenced from:\n      _GroupRectangles in _x018.o\n  \"cv::warpPerspective(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, cv::Size, int, int, cv::Scalar_ const&)\", referenced from:\n      WarpPerspective in _x017.o\n  \"cv::convexityDefects(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _ConvexityDefects in _x017.o\n  \"cv::CascadeClassifier::detectMultiScale(cv::_InputArray const&, std::__1::vector, std::__1::allocator > >&, double, int, int, cv::Size, cv::Size_)\", referenced from:\n      CascadeClassifier_DetectMultiScale in _x018.o\n      _CascadeClassifier_DetectMultiScaleWithParams in _x018.o\n  \"cv::CascadeClassifier::load(cv::String const&)\", referenced from:\n      _CascadeClassifier_Load in _x018.o\n  \"cv::CascadeClassifier::CascadeClassifier()\", referenced from:\n      _CascadeClassifier_New in _x018.o\n  \"cv::CascadeClassifier::~CascadeClassifier()\", referenced from:\n      _CascadeClassifier_Close in _x018.o\n  \"cv::adaptiveThreshold(cv::_InputArray const&, cv::_OutputArray const&, double, int, int, int, double)\", referenced from:\n      _AdaptiveThreshold in _x017.o\n  \"cv::borderInterpolate(int, int, int)\", referenced from:\n      _Mat_BorderInterpolate in _x012.o\n  \"cv::getOptimalDFTSize(int)\", referenced from:\n      _Mat_GetOptimalDFTSize in _x012.o\n  \"cv::getWindowProperty(cv::String const&, int)\", referenced from:\n      _Window_GetProperty in _x015.o\n  \"cv::setWindowProperty(cv::String const&, int, double)\", referenced from:\n      _Window_SetProperty in _x015.o\n  \"cv::SimpleBlobDetector::Params::Params()\", referenced from:\n      _SimpleBlobDetector_Create in _x014.o\n  \"cv::SimpleBlobDetector::create(cv::SimpleBlobDetector::Params const&)\", referenced from:\n      _SimpleBlobDetector_Create in _x014.o\n  \"cv::FastFeatureDetector::create(int, bool, int)\", referenced from:\n      _FastFeatureDetector_Create in _x014.o\n  \"cv::getRotationMatrix2D(cv::Point, double, double)\", referenced from:\n      GetRotationMatrix2D in _x017.o\n  \"cv::goodFeaturesToTrack(cv::_InputArray const&, cv::_OutputArray const&, int, double, double, cv::_InputArray const&, int, bool, double)\", referenced from:\n      _GoodFeaturesToTrack in _x017.o\n  \"cv::AgastFeatureDetector::create(int, bool, int)\", referenced from:\n      _AgastFeatureDetector_Create in _x014.o\n  \"cv::calcOpticalFlowPyrLK(cv::_InputArray const&, cv::_InputArray const&, cv::_InputArray const&, cv::_InputOutputArray const&, cv::_OutputArray const&, cv::_OutputArray const&, cv::Size, int, cv::TermCriteria, int, double)\", referenced from:\n      CalcOpticalFlowPyrLK in _x020.o\n  \"cv::getStructuringElement(int, cv::Size, cv::Point_)\", referenced from:\n      _GetStructuringElement in _x017.o\n  \"cv::getPerspectiveTransform(cv::_InputArray const&, cv::_InputArray const&)\", referenced from:\n      _GetPerspectiveTransform in _x017.o\n  \"cv::calcOpticalFlowFarneback(cv::_InputArray const&, cv::_InputArray const&, cv::_InputOutputArray const&, double, int, int, int, int, double, int)\", referenced from:\n      _CalcOpticalFlowFarneback in _x020.o\n  \"cv::createBackgroundSubtractorKNN(int, double, bool)\", referenced from:\n      _BackgroundSubtractorKNN_Create in _x020.o\n  \"cv::createBackgroundSubtractorMOG2(int, double, bool)\", referenced from:\n      _BackgroundSubtractorMOG2_Create in _x020.o\n  \"cv::LUT(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _LUT in _x012.o\n  \"cv::Mat::deallocate()\", referenced from:\n      _Mat_Close in _x012.o\n      _Mat_Clone in _x012.o\n      std::__1::__vector_base >::~__vector_base() in _x012.o\n      std::__1::__split_buffer&>::~__split_buffer() in _x012.o\n      _Image_IMRead in _x016.o\n      _Image_IMDecode in _x016.o\n  \"cv::Mat::create(int, int const, int)\", referenced from:\n      _Mat_NewWithSize in _x012.o\n      _Mat_NewFromScalar in _x012.o\n  \"cv::Mat::copySize(cv::Mat const&)\", referenced from:\n      _Mat_Merge in _x012.o\n      _Mat_Split in _x012.o\n      void std::__1::vector >::__push_back_slow_path(cv::Mat const&) in _x012.o\n      std::__1::vector >::__swap_out_circular_buffer(std::__1::__split_buffer&>&) in _x012.o\n      _Image_IMRead in _x016.o\n      _Image_IMDecode in _x016.o\n  \"cv::Mat::Mat(cv::Mat const&, cv::Rect const&)\", referenced from:\n      Mat_Region in _x012.o\n  \"cv::Mat::operator=(cv::Scalar const&)\", referenced from:\n      Mat_NewWithSize in _x012.o\n      _Mat_NewFromScalar in _x012.o\n  \"cv::ORB::create(int, float, int, int, int, int, int, int, int)\", referenced from:\n      _ORB_Create in _x014.o\n  \"cv::add(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, int)\", referenced from:\n      _Mat_Add in _x012.o\n  \"cv::dct(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_DCT in _x012.o\n  \"cv::dft(cv::_InputArray const&, cv::_OutputArray const&, int, int)\", referenced from:\n      _Mat_DFT in _x012.o\n  \"cv::dnn::experimental_dnn_v4::blobFromImage(cv::_InputArray const&, double, cv::Size const&, cv::Scalar_ const&, bool, bool)\", referenced from:\n      Net_BlobFromImage in _x013.o\n  \"cv::dnn::experimental_dnn_v4::readNetFromCaffe(cv::String const&, cv::String const&)\", referenced from:\n      _Net_ReadNetFromCaffe in _x013.o\n  \"cv::dnn::experimental_dnn_v4::readNetFromTensorflow(cv::String const&, cv::String const&)\", referenced from:\n      _Net_ReadNetFromTensorflow in _x013.o\n  \"cv::dnn::experimental_dnn_v4::Net::forward(cv::String const&)\", referenced from:\n      _Net_Forward in _x013.o\n  \"cv::dnn::experimental_dnn_v4::Net::setInput(cv::_InputArray const&, cv::String const&)\", referenced from:\n      _Net_SetInput in _x013.o\n  \"cv::dnn::experimental_dnn_v4::Net::~Net()\", referenced from:\n      _Net_Close in _x013.o\n  \"cv::exp(cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Exp in _x012.o\n  \"cv::log(cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Log in _x012.o\n  \"cv::max(cv::Mat const&, cv::Mat const&, cv::Mat&)\", referenced from:\n      _Mat_Max in _x012.o\n  \"cv::pow(cv::_InputArray const&, double, cv::_OutputArray const&)\", referenced from:\n      _Mat_Pow in _x012.o\n  \"cv::sum(cv::_InputArray const&)\", referenced from:\n      _Mat_Sum in _x012.o\n  \"cv::KAZE::create(bool, bool, float, int, int, int)\", referenced from:\n      _KAZE_Create in _x014.o\n  \"cv::MSER::create(int, int, int, double, double, int, double, double, int)\", referenced from:\n      _MSER_Create in _x014.o\n  \"cv::blur(cv::_InputArray const&, cv::_OutputArray const&, cv::Size, cv::Point_, int)\", referenced from:\n      Blur in _x017.o\n  \"cv::flip(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_Flip in _x012.o\n  \"cv::gemm(cv::_InputArray const&, cv::_InputArray const&, double, cv::_InputArray const&, double, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_Gemm in _x012.o\n  \"cv::idct(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_Idct in _x012.o\n  \"cv::idft(cv::_InputArray const&, cv::_OutputArray const&, int, int)\", referenced from:\n      _Mat_Idft in _x012.o\n  \"cv::line(cv::_InputOutputArray const&, cv::Point, cv::Point_, cv::Scalar_ const&, int, int, int)\", referenced from:\n      Line in _x017.o\n  \"cv::mean(cv::_InputArray const&, cv::_InputArray const&)\", referenced from:\n      _Mat_Mean in _x012.o\n  \"cv::norm(cv::_InputArray const&, int, cv::_InputArray const&)\", referenced from:\n      _Norm in _x012.o\n  \"cv::AKAZE::create(int, int, int, float, int, int, int)\", referenced from:\n      _AKAZE_Create in _x014.o\n  \"cv::BRISK::create(int, int, float)\", referenced from:\n      _BRISK_Create in _x014.o\n  \"cv::Canny(cv::_InputArray const&, cv::_OutputArray const&, double, double, int, bool)\", referenced from:\n      _Canny in _x017.o\n  \"cv::eigen(cv::_InputArray const&, cv::_OutputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Eigen in _x012.o\n  \"cv::erode(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, cv::Point, int, int, cv::Scalar_ const&)\", referenced from:\n      Erode in _x017.o\n  \"cv::error(int, cv::String const&, char const, char const, int)\", referenced from:\n      cv::Mat::Mat(int, int, int, void, unsigned long) in _x012.o\n      cv::Mat::Mat(int, int, int, void, unsigned long) in _x013.o\n  \"cv::merge(cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Merge in _x012.o\n  \"cv::pyrUp(cv::_InputArray const&, cv::_OutputArray const&, cv::Size const&, int)\", referenced from:\n      PyrUp in _x017.o\n  \"cv::split(cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Split in _x012.o\n  \"cv::Scharr(cv::_InputArray const&, cv::_OutputArray const&, int, int, int, double, double, int)\", referenced from:\n      _Scharr in _x017.o\n  \"cv::String::deallocate()\", referenced from:\n      cv::Mat::Mat(int, int, int, void, unsigned long) in _x012.o\n      cvflann::anyimpl::big_any_policy::static_delete(void) in _x012.o\n      cvflann::anyimpl::big_any_policy::move(void const, void) in _x012.o\n      _Net_ReadNetFromCaffe in _x013.o\n      _Net_ReadNetFromTensorflow in _x013.o\n      _Net_SetInput in _x013.o\n      _Net_Forward in _x013.o\n      ...\n  \"cv::String::allocate(unsigned long)\", referenced from:\n      cv::Mat::Mat(int, int, int, void, unsigned long) in _x012.o\n      _Net_ReadNetFromCaffe in _x013.o\n      _Net_ReadNetFromTensorflow in _x013.o\n      _Net_SetInput in _x013.o\n      _Net_Forward in _x013.o\n      cv::Mat::Mat(int, int, int, void, unsigned long) in x013.o\n      _Window_New in _x015.o\n      ...\n  \"cv::circle(cv::_InputOutputArray const&, cv::Point, int, cv::Scalar_ const&, int, int, int)\", referenced from:\n      Circle in _x017.o\n  \"cv::dilate(cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, cv::Point, int, int, cv::Scalar_ const&)\", referenced from:\n      Dilate in _x017.o\n  \"cv::divide(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, double, int)\", referenced from:\n      _Mat_Divide in _x012.o\n  \"cv::imread(cv::String const&, int)\", referenced from:\n      _Image_IMRead in _x016.o\n  \"cv::imshow(cv::String const&, cv::_InputArray const&)\", referenced from:\n      _Window_IMShow in _x015.o\n  \"cv::invert(cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_Invert in _x012.o\n  \"cv::resize(cv::_InputArray const&, cv::_OutputArray const&, cv::Size, double, double, int)\", referenced from:\n      Resize in _x017.o\n  \"cv::absdiff(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_AbsDiff in _x012.o\n  \"cv::compare(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, int)\", referenced from:\n      _Mat_Compare in _x012.o\n  \"cv::ellipse(cv::_InputOutputArray const&, cv::Point, cv::Size_, double, double, double, cv::Scalar_ const&, int, int, int)\", referenced from:\n      Ellipse in _x017.o\n  \"cv::hconcat(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Hconcat in _x012.o\n  \"cv::imwrite(cv::String const&, cv::_InputArray const&, std::__1::vector > const&)\", referenced from:\n      _Image_IMWrite in _x016.o\n      _Image_IMWrite_WithParams in _x016.o\n  \"cv::inRange(cv::_InputArray const&, cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_InRange in _x012.o\n  \"cv::moments(cv::_InputArray const&, bool)\", referenced from:\n      _Moments in _x017.o\n  \"cv::noArray()\", referenced from:\n      _Mat_Mean in _x012.o\n      _Mat_Add in _x012.o\n      _Mat_BitwiseAnd in _x012.o\n      _Mat_BitwiseNot in _x012.o\n      _Mat_BitwiseOr in _x012.o\n      _Mat_BitwiseXor in _x012.o\n      _Mat_MeanStdDev in _x012.o\n      ...\n  \"cv::putText(cv::_InputOutputArray const&, cv::String const&, cv::Point, int, double, cv::Scalar_, int, int, bool)\", referenced from:\n      PutText in _x017.o\n  \"cv::pyrDown(cv::_InputArray const&, cv::_OutputArray const&, cv::Size const&, int)\", referenced from:\n      _PyrDown in _x017.o\n  \"cv::waitKey(int)\", referenced from:\n      _Window_WaitKey in _x015.o\n  \"cv::cvtColor(cv::_InputArray const&, cv::_OutputArray const&, int, int)\", referenced from:\n      _CvtColor in _x017.o\n  \"cv::fastFree(void)\", referenced from:\n      _Mat_Close in _x012.o\n      _Mat_Clone in _x012.o\n      std::__1::__vector_base >::~__vector_base() in _x012.o\n      std::__1::__split_buffer&>::~__split_buffer() in _x012.o\n      _Image_IMRead in _x016.o\n      _Image_IMDecode in _x016.o\n  \"cv::fillPoly(cv::_InputOutputArray const&, cv::_InputArray const&, cv::Scalar const&, int, int, cv::Point_)\", referenced from:\n      FillPoly in _x017.o\n  \"cv::imdecode(cv::_InputArray const&, int)\", referenced from:\n      _Image_IMDecode in _x016.o\n  \"cv::imencode(cv::String const&, cv::_InputArray const&, std::__1::vector >&, std::__1::vector > const&)\", referenced from:\n      _Image_IMEncode in _x016.o\n  \"cv::multiply(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, double, int)\", referenced from:\n      _Mat_Multiply in _x012.o\n  \"cv::subtract(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&, cv::_InputArray const&, int)\", referenced from:\n      _Mat_Subtract in _x012.o\n  \"cv::Laplacian(cv::_InputArray const&, cv::_OutputArray const&, int, int, double, double, int)\", referenced from:\n      _Laplacian in _x017.o\n  \"cv::arcLength(cv::_InputArray const&, bool)\", referenced from:\n      _ArcLength in _x017.o\n  \"cv::magnitude(cv::_InputArray const&, cv::_InputArray const&, cv::_OutputArray const&)\", referenced from:\n      _Mat_Magnitude in _x012.o\n  \"cv::minMaxLoc(cv::_InputArray const&, double, double, cv::Point, cv::Point_, cv::InputArray const&)\", referenced from:\n      _Mat_MinMaxLoc in _x012.o\n  \"cv::normalize(cv::_InputArray const&, cv::_InputOutputArray const&, double, double, int, int, cv::_InputArray const&)\", referenced from:\n      _Mat_Normalize in _x012.o\n  \"cv::rectangle(cv::_InputOutputArray const&, cv::Point, cv::Point_, cv::Scalar_ const&, int, int, int)\", referenced from:\n      _Rectangle in _x017.o\n  \"cv::selectROI(cv::String const&, cv::_InputArray const&, bool, bool)\", referenced from:\n      _Window_SelectROI in _x015.o\n  \"cv::threshold(cv::_InputArray const&, cv::_OutputArray const&, double, double, int)\", referenced from:\n      _Threshold in _x017.o\n  \"cv::Mat::copyTo(cv::_OutputArray const&) const\", referenced from:\n      _Mat_Clone in _x012.o\n      _Mat_CopyTo in _x012.o\n  \"cv::Mat::copyTo(cv::_OutputArray const&, cv::_InputArray const&) const\", referenced from:\n      _Mat_CopyToWithMask in _x012.o\n  \"cv::Mat::reshape(int, int) const\", referenced from:\n      _Mat_Reshape in _x012.o\n  \"cv::Mat::convertTo(cv::_OutputArray const&, int, double, double) const\", referenced from:\n      _Mat_ConvertTo in _x012.o\n  \"cv::dnn::experimental_dnn_v4::Net::empty() const\", referenced from:\n      _Net_Empty in _x013.o\n  \"vtable for cv::HOGDescriptor\", referenced from:\n      _HOGDescriptor_New in _x018.o\n  NOTE: a missing vtable usually means the first non-inline virtual member function has no definition.\nld: symbol(s) not found for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\n``\n. I fixed the threeexpected '(' for function-style cast or type construction`\nerrors that I had by parenthesizing the types. \nI undid the changes and swapped to the dev branch, and have same issue as above. . I've only got the latest version installed.\n$ brew info opencv\nopencv: stable 3.4.1 (bottled)\nOpen source computer vision library\nhttps://opencv.org/\n/usr/local/Cellar/opencv/3.4.1_5 (551 files, 97.8MB) *\n  Poured from bottle on 2018-05-04 at 15:26:31\n. Yep. I\u2019ve been running it every time I open terminal. Program and linter behavior remain consistent.. What version are you on?\nI\u2019ll try and install Linux with parallels and see if I can get anything working there.. I've swapped over to an Ubuntu 16.04 environment. \nEverything compiles and runs properly now, and all go extensions for VSCode work. \nThe only issue is when running any files that use the video feed (mplayer, ffmpeg, opencv), no window opens up to show the video. \nThis is probably an issue with my Ubuntu rather than Go. \nEven with just the mplayer example, the code properly runs and connects to the drone, but no mplayer window opens. \nDo you have any ideas on whats going on?. $ netstat -l\nActive Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State      \n...              \nudp6       0      0 [::]:6038               [::]:*\nLooks like the data is properly coming through. The only issue is the literal mplayer/opencv player window doesnt open. Could it be a permission or firewall issue?\nIf I try to just use mplayer to play an mp4 file, a new window opens and it plays fine. It is just when writing to it from the go code that no new window opens.. oh man. I should have realized this sooner. \nThe \ndrone.On(tello.VideoFrameEvent, func(data interface{}) {\nblock is never executing. What would cause that?. Tracing the call hierarchy, it looks like the code is getting stuck in\nfunc (fd *FD) ReadFrom(p []byte) (int, syscall.Sockaddr, error) {\n    if err := fd.readLock(); err != nil {\n        return 0, nil, err\n    }\n    defer fd.readUnlock()\n    if err := fd.pd.prepareRead(fd.isFile); err != nil {\n        return 0, nil, err\n    }\n    for {\n        n, sa, err := syscall.Recvfrom(fd.Sysfd, p, 0)\n        if err != nil {\n            n = 0\n            if err == syscall.EAGAIN && fd.pd.pollable() {\n                if err = fd.pd.waitRead(fd.isFile); err == nil {\n                    continue\n                }\n            }\n        }\n        err = fd.eofError(n, err)\n        return n, sa, err\n    }\n} \nin fd_unix.go\nIt gets to\nif err = fd.pd.waitRead(fd.isFile); err == nil {\nand never gets a return from that waitRead function.\nHow can I make sure that port is open and listening for data?. I receive data for FlightDataEvent and other events, just not for the VideoFrameEvent. \nHow can I check why no data is coming through to 6038?. ",
    "NikolaeVarius": "I can't run this with arch either. The tello works fine but no video window opens. So, what were you not satisfied with? Is there some sort of design goal we want to work torward with logging?\nI'm specifically interested in how we might want to handle telemetry data. I think that should be considered a seperate thread alongside logging.. ",
    "sebsto": "I had a similar issue on MacOSX and found out that my company IT enforced a firewall rule on our laptops preventing to accept UDP packets. Disabling the firewall solved the problem. \nOn Mac : type sudo pfctl -d. ",
    "emf42": "@deadprogram, ya I've been trying all sorts of args formatting but still get the same error. Did you have to do anything special for yours to work?. $ ffmpeg -i pipe:0 -pix_fmt bgr24 -vcodec rawvideo -an -sn -s 960x720 -f rawvideo pipe:1\nffmpeg version 4.0 Copyright (c) 2000-2018 the FFmpeg developers\n  built with Apple LLVM version 9.1.0 (clang-902.0.39.1)\n  configuration: --prefix=/usr/local/Cellar/ffmpeg/4.0 --enable-shared --enable-pthreads --enable-version3 --enable-hardcoded-tables --enable-avresample --cc=clang --host-cflags= --host-ldflags= --enable-gpl --enable-libmp3lame --enable-libx264 --enable-libxvid --enable-opencl --enable-videotoolbox --disable-lzma\n  libavutil      56. 14.100 / 56. 14.100\n  libavcodec     58. 18.100 / 58. 18.100\n  libavformat    58. 12.100 / 58. 12.100\n  libavdevice    58.  3.100 / 58.  3.100\n  libavfilter     7. 16.100 /  7. 16.100\n  libavresample   4.  0.  0 /  4.  0.  0\n  libswscale      5.  1.100 /  5.  1.100\n  libswresample   3.  1.100 /  3.  1.100\n  libpostproc    55.  1.100 / 55.  1.100\nTheres the output. Execution does not halt. . I am getting the video data. \nThe pipe closed error stems from the ffmpegIn.Write(pkt) in that same block. . @deadprogram I just tried it a few more times, and now I am getting this error:\ntello_opencv[2836:86136] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'nextEventMatchingMask should only be called from the Main Thread!'. It looks to be an openCV issue, not macOS\ntello_opencv[3236:110730] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'nextEventMatchingMask should only be called from the Main Thread!'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x00007fff401af32b __exceptionPreprocess + 171\n    1   libobjc.A.dylib                     0x00007fff67829c76 objc_exception_throw + 48\n    2   AppKit                              0x00007fff3de5b297 -[NSApplication(NSEvent) _nextEventMatchingEventMask:untilDate:inMode:dequeue:] + 4167\n    3   libopencv_highgui.3.4.dylib         0x0000000005016a2c cvWaitKey + 351\n    4   libopencv_highgui.3.4.dylib         0x0000000005012149 _ZN2cv9waitKeyExEi + 34\n    5   libopencv_highgui.3.4.dylib         0x00000000050121af _ZN2cv7waitKeyEi + 34\n    6   tello_opencv                        0x00000000041194d3 Window_WaitKey + 19\n    7   tello_opencv                        0x000000000410915c _cgo_4c3040cb4e6c_Cfunc_Window_WaitKey + 28\n    8   tello_opencv                        0x0000000004054f90 runtime.asmcgocall + 112\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\nSIGABRT: abort\nPC=0x7fff68593b6e m=12 sigcode=0. Heres something interesting. If I remove the go func and take everything out of the work function, there are no problems writing the video data to ffmpegIn.\nhttps://pastebin.com/XTD2WE1R\nWhen I try to add back the go function for reading from ffmpegout, I get the same error as above, but theres no pipe errors.. Yes I do.. Have you got any other ideas on how to create an OpenCV image mat from the video data? I havent been able to find anything else to work.. Hi @deadprogram, desperate to get this working. Have you got any ideas on a possible workaround, like feeding from mplayer to opencv instead of using ffmpeg? Or possibly restructuring the code so execution occurs in the main function instead of a gobot work function - that solved the write error but brings the NSInternalInconsistencyException when trying to create an image mat from stdout data.. Unfortunately that made no difference. \nI think the issue is something to do with the goroutine. Writing to stdin works fine until the goroutine starts. The broken pipe error only begins once the goroutine attempts to read from stdout. Possibly something to do with synchronization across stdin and stdout?. Not to do with os.Exec. To do with the goroutine and synchronization of variables across the multiple threads.. For Mac OS, all opencv code must be run from the main thread, so using the goroutines provided by gobot are out of the question. \nUse this instead https://github.com/hybridgroup/gocv/blob/master/cmd/capwindow/main.go. ",
    "jamesalbert": "@deadprogram on macos high sierra 10.13.6, gobot 1.12, opencv 3.4.2, and gocv 0.16; same issue trying every solution mentioned here. ",
    "zlederman": "THANK YOU SO MUCH <3 . ",
    "SMerrony": "PR #532 submitted :-). It's trivial to correct the existing code - I just wanted to make sure that others are also seeing wrong mappings with the current version. Eg, buttons mixed up, RH stick not mapped etc.. Will do - was just being conservative with my changes :-). If you prefer - I only left those there to show explicitly that we were ignoring possible errors; I thought that might be useful in the future?. Also, add the event and handle it.... ",
    "cbwang2016": "@deadprogram Do you have the protocol information for these modes?. @deadprogram Yes. And personally I think you should release a new version now for all those minor bug fixes for tello.. Yep. \n1. Put your drone on your hands\n2. Execute the ThrowTakeOff function, the propellers would rotate slowly\n3. Throw your drone up in the air\nYou can try it on Windows using my app: https://github.com/cbwang2016/tello-control. resolved.. @deadprogram When will you release a new version of Gobot?. Oh, sorry, so stupid of me. Can you help me to edit my code?. @SMerrony There's no such event, I think. It's just FlightData.ThrowFlyTimer and receives with FlightDataEvent. ",
    "tomo0310": "Thank you for your answer. I finally want to run tello_opencv.go. It doesn't work because of the same reason. I'll use my old windows PC until opencv for Mac OS supports multi thread.. ",
    "imathno": "@deadprogram I checked out the dev branch and it seems to still be a problem.. I figured out a fix should I open a PR?. ",
    "cyriacr": "my bad, please ignore this pull request, need to figure how to fix routing metric problem first, or this may not work.. ",
    "Coolerfall": "@jadr2ddude, some foo bar panic,  maybe we didn't get it when testing. There always come some unknown bugs and maybe these bugs will crash.\n@trevrosen, yes. The bots cannot stop working in some cases you know. Maybe we should keep them alive for further updates.. ",
    "algogrit": "To anyone using dep & coming to this issue, add the following override section to your Gopkg.toml:\n[[override]]\n  name = \"periph.io/x/periph\"\n  version = \"2.3.0\"\nIt fixes the issue for now.. ",
    "galenchurch": "Its up to you if you want me to include it in the PR. Gopkg.lock file is auto-updated and overwritten when dep ensure is run.  When I ran it there were some formatting changes to it (it removed all the line breaks on the arrays) so I left it out of the commit.  I can re-submit the PR with my updated version included if you would like? Just let me know if style is important ;). Ok, thanks...should be all set.. ",
    "sdistefano": "Thank you! Is there no known workaround at the moment? I have tried making a digital read as a form of PING, but even this is returning normal values even when I unplug the card after connection. ",
    "carl-ranson": "I did some tinkering on this today and managed to come up with the following joystick adaptor newAdaptor function. You pass in the joystick name like NewAdaptor(\"Magicsee R1\"). \nhope that helps with resolving this ticket. \nfunc NewAdaptor(targetName string) Adaptor {\n    return &Adaptor{\n        name: gobot.DefaultName(\"Joystick\"),\n        connect: func(j Adaptor) (err error) {\n            sdl.Init(sdl.INIT_JOYSTICK)\n            foundIndex := -1\n            for i := 0; i -1 {\n                j.joystick = sdl.JoystickOpen(foundIndex)\n                return\n            }\n            return errors.New(\"No joystick available\")\n        },\n    }\n}. ",
    "acarlonvs": "@deadprogram, judging by the comments it seems that at one point Connect() was responsible for creating the digital and pwm pin adaptor maps:\n// Connect starts connection with board and creates\n// digitalPins and pwmPins adaptor maps\nfunc (r *Adaptor) Connect() (err error) {\n    return\n}. @deadprogram, also PWM does not work quite right. Currently, pwm_pin.go does this: \nfunc (p *PWMPin) Unexport() error {\n    return p.piBlaster(fmt.Sprintf(\"release %v\\n\", p.pin))\n}\nrelease will actually remove this pin from the known pins in pi blaster - see release_pin in https://github.com/sarfata/pi-blaster/blob/master/pi-blaster.c\nThis means when the Robot is started after being stopped, the pin can no longer be used. Error on pi-blaster is \"GPIO  is not enabled for pi-blaster.\"\nIdeally it would be possible to call release_pin2gpio, but since this is not available, the next best is to set the PWM to 0: \nfunc (p *PWMPin) Unexport() error {\n    return p.piBlaster(fmt.Sprintf(\"%v=%v\\n\", p.pin, 0))\n}\nA workaround would have been to set the duty cycle to 0, but pwm_pin.go does not allow it. There is the block: \nfunc (p *PWMPin) SetDutyCycle(duty uint32) (err error) {\n        ...\n    // never go below minimum allowed duty for pi blaster\n        if val < 0.05 {\n        val = 0.05\n    }\nThis seems incorrect, 0 should be allowed to stop pulsing for that pin without stopping robot. . ",
    "pepijnschildkamp": "That doesn't work. See output below\nvgo: finding gobot.io/x/gobot v1.11.0\nvgo: gobot.io/x/gobot v1.11.0: unknown revision \"v1.11.0\"\nvgo: finding gobot.io/x/gobot v1.11.0\nvgo: gobot.io/x/gobot v1.11.0: unknown revision \"v1.11.0\"\nvgo get: unknown revision \"v1.11.0\"\nThe unknown revision give me the idea vgo is looking for a tag called v.1.11.0. Which explains why it can find the v1.9.0 but not the tag 1.11.0.\nYou could consider adding an go.mod file to support vgo in the future.. I will address this issue to the vgo community. I will use Dep for now for versioning. Thanks for your response.. ",
    "barrowkwan": "Yes that fixed it.  thanks!. Hi\n  I think this clean up has introduce another bug.  I used mcp23017 to drive a 16 relay board, before the fix, I can turn the relay on or off ( I have to use the PinMode method to set the pin input/output mode ).  Right now the PinMode function has gone and I can't change the PIN's mode. \nAfter looking at the code, I think the problem is with the WriteGPIO.  We should be able to set 1 or 0 to the pin ( ie on or off ).  However, if we try to send a value \"1\" ( ie write 1 to the output pin, it will change the pin to be input instead of output ).\n. The problem is with the WriteGPIO function.  It should always use clearBit and write to IODIR.  so instead of\n// set or clear iodir value, a 1 sets the pin as an input, 0 as an output\n    var iodirVal uint8\n    if val == 1 {\n        iodirVal = clearBit(iodir, uint8(pin))\n    } else {\n        iodirVal = setBit(iodir, uint8(pin))\n    }\n    // write IODIR register bit\n    err = m.write(selectedPort.IODIR, uint8(pin), uint8(iodirVal))\n    if err != nil {\n        return err\n    }\nit should just \n// set or clear iodir value to make pin in an output mode\n    err = m.write(selectedPort.IODIR, uint8(pin), uint8(clearBit(iodir, uint8(pin))))\n    if err != nil {\n        return err\n    }. yes, that fixed it.  thanks!. ",
    "neewbee": "```golang\n// +build example\n//\n// Do not build by default.\npackage main\nimport (\n    \"fmt\"\n    \"time\"\n\"gobot.io/x/gobot\"\n\"gobot.io/x/gobot/platforms/mqtt\"\n\n)\nfunc main() {\n    mqttAdaptor := mqtt.NewAdaptor(\"tcp://localhost:1883\", \"pinger\")\nwork := func() {\n    mqttAdaptor.On(\"hello\", func(msg mqtt.Message) {\n        fmt.Println(\"hello\")\n    })\n    mqttAdaptor.On(\"hola\", func(msg mqtt.Message) {\n        fmt.Println(\"hola\")\n    })\n    data := []byte(\"o\")\n    gobot.Every(1*time.Second, func() {\n        mqttAdaptor.Publish(\"hello\", data)\n    })\n    gobot.Every(5*time.Second, func() {\n        mqttAdaptor.Publish(\"hola\", data)\n    })\n}\n\nrobot := gobot.NewRobot(\"mqttBot\",\n    []gobot.Connection{mqttAdaptor},\n    work,\n)\n\nrobot.Start()\n\n}\n```\nseveral seconds after stopping mqtt server, reconnect will happen. But Work no longer works\n. Any update on this? \nHow can I help?. ",
    "grtfou": "I use two settings and it looks fine to my case. (gobot v1.12.0)\nMaybe it's a solution if we're hard to monitor connection status.\ngo\nmqttAdaptor.SetAutoReconnect(true)\nmqttAdaptor.SetCleanSession(false)\nand workaround for resubscribe topic (the same client id)\ngo\ngobot.Every(30*time.Second, func() {\n        mqttAdaptor.On(\"hello\", func(msg mqtt.Message) {\n            fmt.Println(\"hello\")\n    })\n}). ",
    "ssnover95": "Ah good to know there's already existing utility for this. I've used SocketCAN before so I know it also works on the Raspberry Pi with this CAN controller IC.. I'm also running into this issue while importing the gobot.io/x/gobot package. I am not even using the SPI driver.. The discussion in issue 40 resolves around the rounding because they're using integer math instead of float math. This is currently accounted for in the driver here with the addition of 0.5 which has the effect of mathematically rounding when converted to an integer instead of the normal \"floor\" function when a float is converted to integer.\nThere's just going to be variation in the oscillator frequency due to the environment and manufacturing variation. One possible solution would be to let the user specify a multiplier optionally which would be used to scale the nominal frequency, but the user would still need to measure it first. For the time being, removing the 0.9 scaling factor will sufficiently accuracy of the final output frequency.. ",
    "gogene": "My first ever PR and just messed around. I'm sorry it was a mistake.. ",
    "gilgameshskytrooper": "drivers/spi/spi_test.go|11 col 42 error| cannot use TestSpiConnection literal (type TestSpiConnection) as type spi.PortCloser in argument to NewConnection: TestSpiConnection does not implement spi.PortCloser (wrong type for Connect method) have Connect(int64, spi.Mode, int) (spi.Conn, error) want Connect(physic.Frequency, spi.Mode, int) (spi.Conn, error)\ndrivers/spi/spi_test.go|11 col 60 error| cannot use TestSpiDevice literal (type TestSpiDevice) as type spi.Conn in argument to NewConnection: TestSpiDevice does not implement spi.Conn (missing String method). Okay thanks.. Just for clarification, I am using the packages in gobot.io when I ran into these issues rather than github.. There is no dev branch in the git repo on gobot.io. Ahh, for some reason, I didn't see the dev branch initially in the git repo. Thanks a bunch. For anyone having trouble, you need to checkout the remote branch (If you try to do git checkout dev, git won't find it since by default, only the master branch is fetched from the remote git repo. Hence, you would do something like git checkout --track origin/dev.\nCheers. Also tried the idiomatic method.\n```go\npackage main\nimport (\n    \"time\"\n\"gobot.io/x/gobot/drivers/gpio\"\n\"gobot.io/x/gobot/platforms/raspi\"\n\n)\nfunc main() {\nr := raspi.NewAdaptor()\n\nled := gpio.NewLedDriver(r, \"17\")\nled.Start()\n\nfor {\n    led.Toggle()\n    time.Sleep(1000 * time.Millisecond)\n}\n\n}\n```\n(And I tried 13). I believe this was a hardware issue. Sorry to bother you guys!. ",
    "medteck": "Thank you! :+1: . ",
    "thaiacepilot": "It can do? I want to build autopilot like scratch but faster and longer distance.. ",
    "ssenthil416": "@deadprogram : I want to do, but I need initial support from you.... ",
    "mulysatest": "I managed to fix it by myself using scanner and remapped  all the key already. . ",
    "dandua98": "I see the documentation for joystick package defines Error for func Start() as On Button Error which is not the only error returned by the function anymore. Shouldn't be necessary to update but just wanted to point it out. ",
    "starryalley": "Thanks for the suggestion and also this great project. I just sent a PR https://github.com/hybridgroup/gobot/pull/594\nLet me know what you think. . PR merged. Closing.. Yes pi-blaster uses a fixed period and affects all pins on that board. I thought SetPeriod() should actually change the period so I didn't choose to use it. However since pi-blaster doesn't support this we can then use SetPeriod()? I'll update the PR. . @deadprogram The proposed way looks great! I'll give it a try and update. Thanks!. @deadprogram  any chance to review the PR? Let me know if there is anything I need to do. Thanks.. Didn't notice I should push to dev. Thanks!. Thanks. I'll try other way around it.. ",
    "luedigernet": "Hi deadprogram,\nthx for your comment.  The timing of the land command might be the issue so for now we can close the issue.. ",
    "krancour": "After digging through lots of Parrot docs and discovering that stream mode has to do with latency and stream quality (and nothing to do with method of streaming), I tried again and I can't reproduce this. Closing.. @deadprogram I could be reading the bebop client code all wrong, but if I'm not, it looks a lot like the client doesn't receive any state, events, or even acks from the drone. Looking at similar libraries written in other languages, this seems like a conspicuous absence from this one... I'm not sure how to reasonably control a drone when I cannot query any of its state.. Thanks @deadprogram.\nAs I pour over docs, I'm finding this client somewhat incomplete and out-of-date (as you had acknowledged). It seems the ARNetwork/ARNetworkAL protocol is only partially implemented here-- for instance, there are no retries executed for frames that time out waiting for an ack. Logic for dropping duplicate and out-of-sequence frames in the manner described by the protocol is also missing.\nI'm sure you can imagine how the above could be a critical factor in a request to land seemingly having gone unacknowledged.\nI'm going to try my hand at writing a complete ARNetwork/ARNetworkAL protocol library first then I'll retrofit existing commands to use that library. I'll also probably write a layer that consumes device --> client events (much as you suggested in your previous comment) and state information so that it will become possible to do things like \"land and then wait for flying state to be 'landed'\".\nLast, if I nail all of the above (which is all pretty generic / protocol oriented) it may be possible for me pretty easily add client support for dozens of supported commands that aren't included today.\nI think in the end, what I'm going to end up with is going to be indistinguishable from the client that exists now, so I'm going to start this effort as its own library and then maybe we can discuss later if / how to fold it back into gobot.. > However one thing that makes writing it within Gobot a LOT easier is having the whole event system built-in.\nTotally agree. However, as it stands now, the bebop client, as you have noted, takes all events that the drone sends it over the ARNetwork protocol and drops them on the floor. Before I can think about propagating such events up to higher levels of abstraction (i.e. a robot), I need to implement some kind of event-handling within the client itself... that's all I was referring to.. @deadprogram I'm closing in on a more complete implementation of the arnetwork and arnetworkal protocols. These will actually wait for acks for outbound data that is intended to receive an ack.\nWhen I am done, I'd be happy to donate those. It should be fairly easy to plug the existing client into that.\nI am working on my own client as well because I need a client that receives/understand drone state and makes this available to the client's user. This may be of less interest to you, but I'd be happy to donate that as well if you wanted it.. @deadprogram it seems there's something in the API for setting whether video is automatically recorded from take off to a moment after landing:\nhttps://github.com/Parrot-Developers/arsdk-xml/blob/master/xml/ardrone3.xml#L2220-L2234\nThe Bebop client in gobot doesn't seem to expose this. I think it would be easy enough for me to add, but I am trying to understand whatever code generation is in play for generating this client, as many of the functions have an appearance of having been generated.\nAny chance of pointing me in the right direction?. Well... if it's written by hand, that certainly makes it a little easier for me to wrap my head around how to expose this setting. :)\nBut just to confirm... in the following, example, ARCOMMANDS_Generator_GenerateARDrone3PilotingTakeOff in the comment is not indicative of some generation?\n```\nfunc (b *Bebop) TakeOff() error {\n    //\n    //  ARCOMMANDS_Generator_GenerateARDrone3PilotingTakeOff\n    //\ncmd := &bytes.Buffer{}\n\ncmd.WriteByte(ARCOMMANDS_ID_PROJECT_ARDRONE3)\ncmd.WriteByte(ARCOMMANDS_ID_ARDRONE3_CLASS_PILOTING)\n\ntmp := &bytes.Buffer{}\nbinary.Write(tmp, binary.LittleEndian, uint16(ARCOMMANDS_ID_ARDRONE3_PILOTING_CMD_TAKEOFF))\n\ncmd.Write(tmp.Bytes())\n\n_, err := b.write(b.networkFrameGenerator(cmd, ARNETWORKAL_FRAME_TYPE_DATA, BD_NET_CD_NONACK_ID).Bytes())\nreturn err\n\n}\n```. @deadprogram thanks for the explanation!. ",
    "wallyqs": "Thanks for the merge! I'll submit to dev branch next time, sorry I missed this from the contrib docs.... ",
    "brendanstennett": "And let me know if you would prefer to name this off the chip (A3967) instead of this board? I figured the board because it does seem to be quite popular but the chip would be more general.. I added a couple extra tests to try and get coverage to a point that is passable.  They are pretty thin though so I'm not sure if you really want these types of tests included.  I have them as a separate commit for your review but I can rebase and squash when ready.. ",
    "sang-dao": "sorry, I have no idea how to implement this driver :(. ",
    "vaskoz": "Thx @deadprogram ! I'm on OSX and the mapping in config/dualshock4.json doesn't appear to be correct for my model either. I used platforms/joystick/bin/scanner.go to get the correct mapping for my DualShock4 model. After the changes in my PR, I can fly my drone as expected using https://github.com/hybridgroup/gophercon-2018/blob/master/drone/tello/step6/main.go  In addition to my PR #622 , the only local change needed was https://github.com/hybridgroup/gophercon-2018/blob/master/drone/tello/step6/main.go#L36 to read configLocation = \"dualshock4\". I only have a single model of the DualShock4 controller, but it appears they have at least 4 different models. 3 listed on this wiki page and the model that I own. If this is a model variation issue then perhaps we could breakout the dualshock4 into different variations like dualshock4-t1u.. ",
    "ahmetb": "similarly chip-pro instructions are broken, too https://gobot.io/documentation/platforms/chip-pro/\nIt seems like gobot.On isn't really a thing anymore. But I can't really find an On method for platforms/chip package to handle button press to refactor/fix the example code.. ",
    "steevehook": "Hmmm, I recently ordered both a Tello and a Spark. I'll see if I can play with the Spark. Thanks for awesome support on gobot again, it's a nice piece of work. ",
    "HajunKim": "I need it as well. there is no way getting event of releasing key. . ",
    "eleniums": "Do I need to increase code coverage in order for this pull request to be addressed and accepted?. ",
    "HaraldNordgren": "@deadprogram Ping. ",
    "rt974": "Hi, in the leapmotion control panel, you need to check web applications.\nAfter that you can access the websocket server. Just had the same issue.. ",
    "wieringen": "You guys are fast! However I do think it would be nice if this was granular on subscription level.\nTake a look at this example from Google:\nhttps://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/master/iot/mqtt_example/cloudiot_mqtt_example_nodejs.js\nOn line 257 you will see:\n``\n// Subscribe to the /devices/{device-id}/config topic to receive config updates.\n// Config updates are recommended to use QoS 1 (at least once delivery)\nclient.subscribe(/devices/${argv.deviceId}/config`, {qos: 1});\n// Subscribe to the /devices/{device-id}/commands/# topic to receive commands\n// commands is recommended to use QoS 0 (at most once delivery)\nclient.subscribe(/devices/${argv.deviceId}/commands/#, {qos: 0});\n```\n. New methods and deprecating the old ones seems reasonable?. ",
    "samkass": "I should note that there are 2 breaking changes to Gesture-- Hands becomes HandIds and Pointables becomes PointableIds. There are no breaking changes to Hand. There are no breaking changes to Pointable. There is one breaking change to InteractionBox-- Center is now an array of float64 instead of ints (as per the v6 API). I suspect most people using the Leap Motion platform were not using these fields, but if so they will have to change their code.. I realized there was an existing example of HandIDs, so I changed HandIds and PointableIds from Gesture to HandIDs and PointableIDs respectively. I also updated the unit test to match the new sample data.. Ugh. I just realized I made this pull request against master. I will open a new pull request against dev. Sorry for all the noise.. ",
    "chmorgan": "Any updates on this PR? Just ran into a clean checkout that pulled the normal repository and I'm seeing the issue at runtime. If this were merged in I wouldn't have to update to point at my fork :-). @trevrosen possible to merge this PR back in?. ",
    "csduarte": "Thanks. I'll try it out and open up a PR if needed. Thank you.. ",
    "thetooth": "Thanks, haven't tested i2c in hardware but I had 0-2 in sysfs.. This currently just maps the entire gpio device, actual use case would be to use GPIO_A..L or UART0_TxD, not the GPIO_0..122, This will be removed once all the IO has been mapped and drivers for most peripherals are working.. ",
    "iplay88keys": "Wonderful! I can add you to the collaborators if you'd like to drop that onto the pr!. I'll look into those when I have a chance! Thanks for the details!. @deadprogram Unfortunately, life has been hectic as I'm in the process of moving, but I've added you to the repo if there's anything you particularly want to work on regarding it. Beyond that, I hope to be getting back to it in the next week or two.. ",
    "kml183": "I grabbed the needed calculation from here. "
}