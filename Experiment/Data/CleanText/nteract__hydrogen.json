{
    "rgbkrk": "Forgot to mention, I poked the IJavascript developer to extract the messaging protocol into a separate package as jmp (Jupyter Messaging Protocol). It would be nice to share some common ground there.\n. Well, not surprisingly I was in a weird state from master that I figured out by dumping errors from when the kernel is booted. Now I get at least a check mark but no output.\n\n. Oops! I should have reported back that it now works beautifully after getting everything setup with current master. Hydrogen does work with IPython 3.1.x and the future release (at the moment).\n. Nevermind me, I thought it was overriding the autocomplete+ look and feel with the jupyter output.\n. On a separate note (and not the fault of Hydrogen), matplotlib should still by default respond with rich output if it can for all frontends. :tired_face: \n. The way I was going to lay it out was with a separate pane or tab that can be moved around (the way Atom script was initially created). It would be nice to be able to dock it. One flow that I've considered is a swipable collection of outputs though I really like the output next to run line UI.\n. At least for me, I'm going to want a pane so that I can interact with widgets, Bokeh plots, etc.\nThere's always the option of making alternative UIs (in separate packages), but sharing common components. Beyond just the Jupyter stuff, some of the code I looked over in Hydrogen is the same stuff we had to do in atom script for contextual running of code (selection, whole file, temp file). Making a Jupyter package for Atom has been high on my list to break away from the script package, so I'm super excited you've gotten this going.\n. After the latest upgrade, I'm still seeing a plot like this:\n\nThis is probably because two mimetypes are being displayed instead of just image/png.\n. @takluyver should IRkernel be declaring a language or is that an optional field?\n. Also worth noting that the ijavascript developer,@n-riesco is very responsive and open to ideas. I've also enjoyed the amount of documentation he's put in.\n. Multiples. It's the aggregation of all of them...\n```\nIn [1]: import jupyter_core.paths\nIn [2]: jupyter_core.paths.jupyter_path(\"kernels\")\nOut[2]:\n['/Users/rgbkrk/Library/Jupyter/kernels',\n '/usr/local/Cellar/python/2.7.9/Frameworks/Python.framework/Versions/2.7/share/jupyter/kernels',\n '/usr/local/share/jupyter/kernels',\n '/usr/share/jupyter/kernels']\n```\nThis is where I was bantering around with creating a simple wrapper script that would dump JSON to stdout with options we'd need from an alternate front end (like Hydrogen). The other alternative is to use what we've got and launch a python kernel just for Hydrogen that queries for this same information.\nIt's either that or always searching particular paths.\n. As the migration happens, IPython will just be one of the kernels for Jupyter. It's all the same team.\nWhen I get some free time after work, I'll start poking at what scripts could be useful for Hydrogen and Jupyter sidecar to call out to Jupyter for accurate information.\n. Totally, I'll end up making a script that straddles both.\nAlso, people are strange and install from master whether or not they're contributing to IPython/Jupyter. For this release it's a bit silly since it's mostly repackaging, but in previous versions it was a big delta.\n. Done in #19.\n. This is actually related to where the kernel itself gets launched, iirc.\nThat's more of an issue for the subprocess or BufferedProcess spawning from node. I'll check this out though.\n. Hey @fonnesbeck!\nThat's a known issue with node-gyp (https://github.com/TooTallNate/node-gyp/issues/384), which builds native add ons (in this case zmq). I've been pushing to fix this upstream in node-gyp but haven't seen any responses by maintainers (even on issues from 2014).\nCan you try installing hydrogen with the command line apm tool, setting the PYTHON environment variable?\nPYTHON=python2.7 apm install hydrogen\nTechnically, the node-gyp instructions tell people to set it via node-gyp or npm config but with apm bundling both node-gyp and npm I'm not sure how to overwrite it.\n. From https://github.com/TooTallNate/node-gyp/issues/193, seems like much of the issue actually comes from gyp: https://code.google.com/p/gyp/issues/detail?id=36 \n. With new versions of node-gyp, they'll now also check for python2 (via https://github.com/TooTallNate/node-gyp/pull/527). Hurrah!\n. Here we go...\n\nFML\n\n. That was just a base install of Atom, nothing fancy.\n. Check this out:\n\nSteps for me to get there:\n- Installed Anaconda (with Python 2.7) from Continuum (which includes IPython)\n- Installed Visual Studio Community Edition\n- Installed ZeroMQ headers/build. (via http://zeromq.org/distro:microsoft-windows). I think this wasn't actually necessary and I just needed Visual Studio.\n- Restarted machine\n- Ran apm install hydrogen\n. Proof, there it is:\n\n. I'll go ahead and update the README.\n. Juno will be the base library for comms, the opinionated version for hydrogen will be under a separate name. I'm hoping to try out goczmq and its model for idiomatic go for working with zmq.\n. Looks like atom detects bash as shell script, which is not how the kernel is named. \nI think in cases like these the kernel should be selectable, but for some we should have a mapping structure lang->kernel_name.\n. The other alternative is to run apm install hydrogen from the command line (to get your full path suite).\n. ~~Weird, having trouble getting a kernel to start even off master.~~\n~~Totally my fault. There was a problem on a branch I was running in dev mode that the IPython kernel was depending on. Working well. That's what I get for straddling two projects at once.~~\n\n. I'd also be open to making a package like this that can be used across packages, as I'd use this in side car.\n. I'm starting to add tests. In the process I tore out the boilerplate Atom specs for a new package (caused failures). Once this is done, it would be nice to enable Travis CI.\n. Haven't been able to test this on Windows. I did a minimal amount of adding some mocking specs in (while tossing the skeleton code), but that doesn't say for sure how Windows goes.\n. Well now I wish I had a Windows box quite a bit... I'm surprised readSync doesn't work but perhaps it's not finding python on the path.\n. Hey @zooba, any ideas?\n. Thank you @willwhitney, sorry about that.\n. This may be related to other path and kernel search issues, which might be addressed in #19. I'm assuming arch uses the XDG directories and env variables?\n. Jupyter is just the next release. Which version of IPython are you on?\n. Can you run \npython\nfrom IPython.utils.path import get_ipython_dir; get_ipython_dir()\nin a python or IPython terminal?\n. That is so crazy that the Windows installer doesn't include Python on the path by default. O___O. Booting up a Windows Server now to try this out.\nPer https://github.com/TypeStrong/atom-typescript/issues/33, can you try fully quitting and restarting Atom?\n. This is down to just the execSync trying to find Python. It's weird.\n\n. Seems like it can't find the Python I installed. :(\n\n. WTF and thank you.\n. This sounds eerily like it could use the comms channel that the ipython widgets use.\n. Likely precursor upstream: https://github.com/ipython/ipywidgets/issues/13\n. We certainly plan to have it in nteract, though @jdfreder and I have only sketched out ways we can handle it.\nSeems like it might be worth seeing if Atom can let you create an iframe or a WebView.\n. The one thing I'd want to be sure of is that fix-path won't override what's currently in the path (if someone is being explicit).\n. Pictures for posterity:\n\n\n. With the realization of the PATH being overwritten for virtualenvs (or anything else that relies on PATH), I'm against adding this directly. With some launchctl checking we could roll with this.\n. Well, there's a way but it's hacky.\n\nnode\ncp.exec('launchctl list | grep ' + process.pid, function(err,stdout,stderr){console.log(stdout);})\n. Definitely appropriate. I'll bet someone has posted the bug - there's got to be a way for Atom to detect being launched by launchctl and performing its own tomfoolery to get the PATH. There are lots of packages that need this (go-plus, atom-script, travis, terminal, the list goes on).\n. Went ahead and finished up the hacky solution earlier, figured I should post it anyway:\n``` CoffeeScript\nif process.platform == \"darwin\"\nchildProcess = require('child_process')\n  shell = process.env.SHELL || '/bin/sh'\nchildProcess.exec(\"launchctl list\", launchCtlPathFix)\nlaunchCtlPathFix = (error, stdout) ->\n    if error and error.code != 0\n      # Launchctl errored\n      console.log(\"Launchctl errored, not patching path:\")\n      console.log(stderr)\n      console.error(error)\n      return\nif stdout\n  # process.pid was in the list, make sure that it was a reasonable match\n  output = stdout.trim()\n  lines = output.split('\\n')\n\n  # Verify that at least one of the lines matches the exact pattern of\n  # process.pid\\t[0\\-]\\t.*\\.Atom\n  launchRegex = ///^#{process.pid}\\t[0\\-]\\t.*\\.Atom///\n  matches = (line for line in lines when launchRegex.exec(line))\n\n  if matches.length > 0\n    # Now we think we can fix the path since launcctl was clearly running\n    console.error(\"Atom was launched from Launchctl, attempting to shim PATH\")\n    childProcess.execFile(shell, ['-c', 'echo $PATH'], patchPath)\n  else\n    console.log(\"Your Atom process wasn't in the launchctl list. Using your $PATH as is.\")\n\npatchPath = (error, stdout, stderr) ->\n    if (error)\n      console.error(\"Unable to get $PATH\")\n      console.error(\"stderr: #{stderr}\")\n      return\nconsole.log(\"Old $PATH: #{process.env.PATH}\")\nprocess.env.PATH = stdout.trim()\nconsole.log(\"New $PATH: #{process.env.PATH}\")\n\n```\nShould probably accept a callback on finish, emit an event, or use promises, but hey it's just some throwaway code.\n. More launchctl tomfoolery:\n$ launchctl getenv PATH\n/usr/bin:/bin:/usr/sbin:/sbin\n$ launchctl setenv PATH $PATH\n$ launchctl getenv PATH\n./bin:/usr/local/bin:/usr/local/sbin:/Users/kyle6475/.dotfiles/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin:/opt/X11/bin:/usr/local/opt/go/libexec/bin:/Users/kyle6475/.rbenv/bin:/Users/kyle6475/.rbenv/shims:/Users/kyle6475/go/bin\n. Now for my new init script.\n``` CoffeeScript\ntry\n  childProcess = require('child_process')\natomProcs = childProcess.execSync(\"launchctl list | grep #{process.pid} | grep Atom\").toString().split()\n  launchRegex = ///^#{process.pid}\\t[0-]\\t.*.Atom///\n  matches = (line for line in atomProcs when launchRegex.exec(line))\nif matches.length > 0\n    console.log(\"Fixing paths for Atom\")\n    process.env.PATH = childProcess.execFileSync('/bin/bash', ['-c', 'echo $PATH']).toString().trim()\n    process.env.GOPATH = childProcess.execFileSync('/bin/bash', ['-c', 'echo $GOPATH']).toString().trim()\ncatch exception\n  console.error(\"Exception during PATH fixes: #{exception}\")\n``\n. [Sidecar](https://github.com/nteract/sidecar) detects new runtime directories, though the code has grown stale (no one hacking on it, lots of outdated libraries, no shared knowledge of what's going on in there). For Hydrogen, I'd write the kernel checking all over again or make it part ofkernelspecs`.. We could bring the default python detection to kernelspecs though, which is currently buried away in old PRs of mine on nteract/nteract that I've closed.. As V8 changes, function signatures changes, structs change, etc. To adapt to this, nan abstracts above these changes for you. https://github.com/JustinTulloss/zeromq.node uses this for instance. My assumption here is that if we create a build, it's a build for that specific version of node on that architecture since we don't want to rebuild with nan again.\n\nGetting zmq being bundled into Atom would be the best outcome for us, but I don't know how many other Atom packages use it and if that would be a good move for Atom as a whole.\n\nI think Hydrogen could easily change this. :smile: Yeah, it's a bit of a stretch for the moment.\n. rk appears to be over SSH which works for a lot of folks, myself included. The \"template\" kernel would probably work just fine as is. Might as well try it out. I wouldn't want to manage dependencies this way, but it's at least simple for most users. It doesn't seem like it would require any special requirements on Hydrogen at all.\nAs for my concerns, these are my observations from teaching classes, running a few tmpnb deployments, JupyterHub deployments, and my own security perspectives. Feel free to take it all with a grain of salt.\nRemotes over ZeroMQ\nIt's all about the kernels communication layer. Not every ZeroMQ installation includes encryption by default (libsodium is an optional dependency for \u00d8MQ). \u00d8MQ4 does have curve, which is wire-compatible with \u00d8MQ3, but won't necessarily have libsodium. One can build it that way for themselves, certainly. This tends to mean either using websockets (through a notebook server) or tunneling through SSH.\nRemotes over websockets\nThe most reliable way I've seen for getting websockets through is making sure they're served over HTTPS on the standard port (443). That boils down to corporate (MITM) proxies totally mucking up the sticky connection with websockets, interfering with the flow, and generally being nasty. As for port, that's about stringent controls (no high ports getting through, etc.) Use HTTPS and you're fine!\nUpstream!\nThat being said, I think the remote kernel issue should be addressed with upstream Jupyter projects to work for the notebook server, etc. As long as we're adhering to the same protocol, it should help multiple projects at once.\nI see a near future where folks can consume kernels remotely from wherever they have them deployed, whether that means O'Reilly Media providing them for static content (e.g. https://beta.oreilly.com/learning/an-illustrated-introduction-to-the-t-sne-algorithm, through the use of tmpnb + thebe), a JupyterHub deployment (complete with auth), or some other spawning mechanism. There's not a current authentication construct/config around providing support for remote kernels (from a project level) other than IPython parallel and full notebooks with the JupyterHub spawners, but I'd like to see it soon.\n. > Forgive my ignorance, is the security issue with the remote kernel only relevant in open networks? Lots of use cases involve only talking to closed networks through a vpn or some such.\nFor someone advanced enough to do that, they can already use remote kernels just fine. It's the launcher that has to perform it. The kernel.json spec file could specify whatever IP you bind to:\n{\n  \"stdin_port\": 57985,\n  \"ip\": \"127.0.0.1\",\n  \"control_port\": 61088,\n  \"hb_port\": 55956,\n  \"signature_scheme\": \"hmac-sha256\",\n  \"key\": \"1fab9810-6e36-40df-a400-ceb196fbf9a7\",\n  \"shell_port\": 54211,\n  \"transport\": \"tcp\",\n  \"iopub_port\": 56874\n}\nThe default in the notebook is to do localhost so that we're not exposing typical users to remote execution of their laptop while, e.g. at a cafe.\n. My major issue with not using message signing, even though local, is that anything else that can reach those ZMQ sockets can get remote execution. They have to know the port, but it's not like they can't port scan.\nIf someone got it to work through the flash binding (zmqsocket.js) you would have a XSS attack with full remote execution from random sites on the internet. That's not good. There's a reason the key and signature scheme is provided.\n. We've got a couple remote kernel setups working as part of enchannel, though they're not ready for utility consumption.\n. On current master, the IPython kernel is installed as a standalone kernel with a kernel.json. This will be better on the coming 4.0 release, which is much better focused on supporting alternative kernels.\nHowever, there is a way to install the kernels when on a 3.x release:\npython2 -m IPython kernelspec install-self # Viva la Python 2\npython3 -m IPython kernelspec install-self # Viva la Python 3\nI'm on an :airplane:, but I'll come back to this thread later. I certainly agree with needing a UI for switching\n. Oops, autoclosed since I merged the PR.. I definitely would have wished for one kernel per file when I was running through tutorials yesterday. It was frustrating to have to restart the kernel for each file I was going to, at least with a JS kernel (mostly because of const x = require(...)).. I like that @BenRussert . Can also open a blank file and run it.\n. Block decorations should be the way forward. http://blog.atom.io/2016/02/03/introducing-block-decorations.html\n. It's the IJavascript kernel I assume (I just read https://github.com/n-riesco/ijavascript/issues/31).\n. First thing - make sure to run atom from the command line:\n$ atom .\nSecond, try installing it from the command line\n$ apm install hydrogen\n. Hmm, I see white on white results there. This looks like a theming misalignment.\n. \n. PHP for that matter too.\n. Yup, there is an IPHP kernel though it hasn't been touched since July 2014 and is reliant on IPython 2.x.\nThis is where I wonder if there's a way to rely on the grammars and autocomplete providers more directly...\n. Oh yeah, JavaScript. Silly me.\n. Nice. :smile: \n. :+1: \n. The Python regex works for Python2 but not for Python3 which allows a certain subset of Unicode characters. The spec is just so darn exciting that I wouldn't know how to implement it in JavaScript though.\n. That's awesome. Not that it helps me, but this is especially useful for the non-English speaking folk.\n. @BrianMiner From the command line (within your conda environment), can you run:\npython -m ipykernel install --user\n. No idea, though on the surface this looks like a lack of handling old versions of the message spec (Hydrogen is hardcoded to 5.0 with some adapting to various quirks).\n. On a side note, I've had to delete old kernels and reinstall them to get them to work with Hydrogen (not wanting to dive deep into why, just moving forward with the future).\n. If we're able to make cleaner symlinks to the libzmq provided by Anaconda (or even pyzmq), that might be a great thing to add to node-zmq.\n/cc @minrk\n. :+1: That's the behavior I love in Atom Script.\n. Ah, yeah. That was me. https://github.com/JuliaLang/IJulia.jl/pull/298\n. legit\n. We definitely need a better model for tracebacks in Jupyter. Right now, as you know, it's a strange split of error names and values.\nThings we know in frontends (currently):\n- The code we sent over\n- The traceback we get in response\n/cc @smashwilson\n. :cake: :tada:\n. This looks great. We could change _send to signedSend.\n. Perhaps the text should read:\n\nFor Debian/Ubuntu based variants, you'll need libzmq-dev or libzmq3-dev\nFor RedHat/CentOS/Fedora based variants, you'll need zeromq and zeromq-devel.\n. Since you did #102 @n-riesco, should we close this down or would you want to make more progress?\n. I'm going to post an issue about where I'd like to take a refactor here as well as start thinking about/experimenting with the new inline support in Atom.\n. I agree with us having two bindings for executing code. The notebook has this notion too. \nctrl-enter tends to mean \"just run\" while shift-enter means \"run and move down\". I'm guessing these conflicted with other Atom bindings at the time of creation (or an unwillingness to cover a binding used elsewhere), so we may not match amongst bindings with the notebook environments.\n. Yeah, let's go for it and iterate.\n. Ditto. :+1: \n. > My rationale for doing it with extensions is that there are several pressing language-specific features* which are going to take a nontrivial amount of code. By building an API for Hydrogen extensions, any language-specific features can be independently maintained and distributed by the people who use those languages. I don't want to have any language-specific code in the core Hydrogen package, and I don't want every user to have to go add this themselves.\n*most notably, a per-language function for finding the preceding block of code to execute from the buffer\n\nWow that's sounding great.\n. Thinking on this, I might make a PR to the notable mind js kernel to have coffeescript, babel, etc. be kernelspecs you can install instead of using magics.\n. Thanks @n-riesco and @terraquot!\n. What happens when this is run with e.g. Python or Julia?\n. Thanks for checking it out @n-riesco. \n. Just a note that I was able to use jupyter-scala with Hydrogen. One extra thing you need to do is install the language-scala package.. I'll go ahead and close this. If you pick it up or another person does @onyxfish, let's have at it.\n. Now that you've got atom notebook working with the js packages, feel free to submit a PR and I'll happily merge it on in and add you to the repo.\n. How are you feeling about this if we go ahead and merge it and iterate @slavaGanzin?\n. I prefer more of the jupyter centric code to move to separate libraries and used as dependencies.\n. Done. Just made a new library called ipython-paths.\nhttps://github.com/nteract/ipython-paths\nTwo functions exported: one for getting the expected set of kernel directories (existence not checked) and another which returns a Promise that resolves to an array of directories that do exist.\n. The usefulness of the original or the current code in ipython-paths? ipython-paths implements exactly the paths listed in kernel-specs.\n|  | Unix | Windows |\n| --- | --- | --- |\n| System | /usr/share/jupyter/kernels /usr/local/share/jupyter/kernels | %PROGRAMDATA%\\jupyter\\kernels |\n| User | ~/.ipython/kernels |  |\nAs for that path you're asking about, that comes from the very Python specific sys.prefix. It was certainly in the original implementation that was here before. Since you questioned that old IPython code (which covers lots of cases not shown here), I didn't include it - just the bare ones that could be done without having to rely on a Python installation.\nIt's not hard to add back in, and I'll push back on wanting to introduce that. What would make me say so? sys.prefix comes from python, virtualenv and conda installations included. This also means that in order for Hydrogen/Atom to pick up this value properly, it needs to be run from the command line directly, requiring atom .. If we stop doing this, we have one less irritation about paths as set after an Atom restart.\nHere's sys.prefix on my machine followed by what it looks like if in a virtualenv:\nbash\n$ python -c \"import sys; print(sys.prefix)\"\n/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5\n$ mkvirtualenv test\nUsing base prefix '/usr/local/Cellar/python3/3.5.1/Frameworks/Python.framework/Versions/3.5'\nNew python executable in test/bin/python3.5\nNot overwriting existing python script test/bin/python (you must use test/bin/python3.5)\nInstalling setuptools, pip, wheel...done.\nOverwriting test/bin/activate with new content\n$ python -c \"import sys; print(sys.prefix)\"\n/Users/rgbkrk/.virtualenvs/test/bin/..\nAsk yourself if Jupyter is truly language independent when relying on this.\nIf a user wants one of these, they should be setting up a kernel for their virtualenv instead of coding Hydrogen according to any given language (see the last bullet in #149).\n. > I would prefer parsing ipython kernelspec list --json approach, it simplifies code. But it should be tested.\nI certainly agree with that. Perhaps we had a miscommunication here. I thought you wanted the old ipython paths, which is why I put together ipython-paths. ipython kernelspec list --json is the same as jupyter kernelspec list --json, as that command doesn't exist in old ipython. I'd make it jupyter in your code there.\nWhile you're at it if you're looking for good user experience, you should use the async spawn instead of the synchronous one.\n\nI had troubles install path of different kernels, https://github.com/alexarchambault/jupyter-scala for example. They tend to settle in unexpected folders and I don't think it's good idea say to user: \"it's your trouble that kernel you use don't give a care to install folder we like\".\n\nWe would want to open an issue or patch it upstream if possible, instead of maintaining a large collection of hacks to make things work for every language.\n. Cool, have at it.\n. This is definitely a really good idea for prompting users.\n. Dependencies.js should likely be gitignored (or so I assume). Other than that, how's about we roll this?\n. How do you feel about writing plain JS for that one?\nWe can also package it before publication like one does for transpiled scripts, using the prepublish key on scripts. Then we'd have to make coffeescript be a dev dependency.\n. Works for me.\n. We can always make that idiomatic JS after.\n. I'm not using hydrogen right now, though that's related to the work I'm doing during the day as well as language (primarily Go). Policy looks good to me, especially\n\nNo code should be added to Hydrogen that is specific to a particular kernel language\n\nIf there's an issue with an upstream kernel, get it patched there instead of having to maintain it here.\n. Awesome.\nWe should really make the language mappings a separate package sometime soon for both atom-notebook and hydrogen. /cc @gnestor\n. Thanks!\n. We've got zmq-prebuilt working for 64-bit OS X and Linux (as well as some portion of Windows) if we want to start using that. Those who aren't able to use the prebuilt will end up letting the normal build run. Worth testing:\n- https://github.com/nteract/zmq-prebuilt\n- https://github.com/rgbkrk/zmq-prebuilt-example\n. It's hard for me to understand what's wrong with the ok and fails there, likely because I understand the syntax very clearly for ES6. Now, I put it on my wishlist because I personally have noted better participation within JS code bases over coffeescript code bases. JavaScript is the language that offends equally. We don't even have to use Babel though, we can use the current day version of ES5 and ES6 that Atom supports.\nI digress. We can always keep this as coffeescript and if people are so inclined, they can make additional packages that encapsulate Hydrogen pieces separately, tested, and exporting commonjs.\n. What I should do know is acknowledge how you're feeling about this @slavaGanzin. You're strongly opposed to ES6, want to carry on with CoffeeScript. This should be a fun project for you and others to work on. As long as you're still submitting PRs and merging others' PRs, we're moving along together.\nEven if we disagree, the consensus is in the current code base. What would you like to see us do moving forward @slavaGanzin?\n. > And here where it bites: I can't use \"es6\" I should use \"es6 that atom supports\".\nYou seemed very opposed to using Babel, I offered an alternative that would require no build steps. I'm not stating it as the only way, primarily seeking feedback.\nSeems like there's a hard stance on sticking with CoffeeScript. I'll remove my anecdote way above and we can continue the conversation in a positive direction.\n. That's great! Thanks @n-riesco. I'll close this issue.\n. I can give it a shot and see what happens, let me look into the state of things.\n. Done, shipped it as a minor release - v0.7.0.\nHopefully we can start honing in #158 next.\n. Anyone with push access can make a release (technically speaking that is) and if things are well tested we should ship fairly often.\n. We can go with this for now and a Windows developer can chime in with a tighter binding after with a follow on PR.\n. Welcome to the party! Would you be interested in helping maintain Hydrogen? We're on a relatively new path now that Hydrogen has moved over to nteract, which follows the C4.1 process. We're lightly planning out future plans in #158, to rely on some common amongst projects node packages.\n. We're all learning through life and happy to help you. Happy to recommend books and tutorials (ahem JavaScript the Good Parts).\n. Hey @schlichtanders!\nDesign wise, I'd prefer that we emit an event that another package can listen to for this. That Atom package can then launch the qt-console with:\nbash\njupyter qtconsole --existing /path/to/Jupyter/runtime/kernel-16113.json\n\nIf the qt-console/jupyter-process can optionally be embedded into atom directly, this would be nice, of course.\n\nAs another pane within Atom with a qt-console like experience? I agree! Probably again as a different Atom package, and should definitely exist.\n. Generally for Jupyter spec conforming projects, a connection file is created somewhere like ~/Library/Jupyter/runtime:\n$ ls ~/Library/Jupyter/runtime/\nkernel-20275.json      notebook_cookie_secret\nWithin that file is the information for connecting to that kernel:\n$ cat ~/Library/Jupyter/runtime/kernel-20275.json\n{\n  \"stdin_port\": 51222,\n  \"ip\": \"127.0.0.1\",\n  \"control_port\": 51223,\n  \"hb_port\": 51224,\n  \"signature_scheme\": \"hmac-sha256\",\n  \"key\": \"17f8a27f-612c-4c63-be5f-95a718243cf6\",\n  \"shell_port\": 51220,\n  \"transport\": \"tcp\",\n  \"iopub_port\": 51221\n}\nAny frontend, including jupyter console, jupyter qtconsole, sidecar, nteract, and others can use this to connect to the backing runtime/language. The rest that flows from there is the jupyter message spec.\n. At the command line, open up jupyter console then run %connect_info:\n```\n$ jupyter console\nJupyter Console 4.1.0.dev\n[ZMQTerminalIPythonApp] Loading IPython extension: storemagic\nIn [1]: %connect_info\n{\n  \"stdin_port\": 51357,\n  \"ip\": \"127.0.0.1\",\n  \"control_port\": 51358,\n  \"hb_port\": 51359,\n  \"signature_scheme\": \"hmac-sha256\",\n  \"key\": \"e45ce22b-907b-4d07-bdb1-f344efcb82d5\",\n  \"shell_port\": 51355,\n  \"transport\": \"tcp\",\n  \"iopub_port\": 51356\n}\nPaste the above JSON into a file, and connect with:\n    $> ipython  --existing \nor, if you are local, you can connect with just:\n    $> ipython  --existing /Users/kyle6475/Library/Jupyter/runtime/kernel-20347.json\nor even just:\n    $> ipython  --existing\nif this is the most recent IPython session you have started.\n```\nUsing that --existing line with the full path, open another terminal on the side and run jupyter console with the arguments: \n```\n$ jupyter console --existing /Users/kyle6475/Library/Jupyter/runtime/kernel-20347.json\nJupyter Console 4.1.0.dev\n[ZMQTerminalIPythonApp] Loading IPython extension: storemagic\nIn [1]: 2\nOut[2]: 2\nIn [3]: 3\nOut[3]: 3\nIn [4]: x = 2\n```\nYou'll then see that they're both connected and the second one didn't have to know what language was running.\n\n. jupyter console can also take an argument (for the first one launched) for what language/kernel to use:\njupyter console --kernel=javascript\n\nthanks for explaining\n\nNo problem.\n. Actually, looking at current day Atom APIs, seems like we need to offer a service that other packages can consume. Perhaps a kernel launching service and store?\nJust sketching things out here, I don't have a plan for our events. It's worth writing a spec and experimenting with it.\n. If you connect to a kernel using the connection information and need to know the language information, you can send a kernel_info request.\nExample code from ick, a prototype cli:\n``` javascript\nconst enchannel = require('enchannel-zmq-backend');\nconst uuid = require('uuid');\nfunction createMessage(msg_type) {\n  const username = process.env.LOGNAME || process.env.USER ||\n                   process.env.LNAME || process.env.USERNAME;\n  return {\n    header: {\n      username,\n      session,\n      msg_type,\n      msg_id: uuid.v4(),\n      date: new Date(),\n      version: '5.0',\n    },\n    metadata: {},\n    parent_header: {},\n    content: {},\n  };\n}\nconst identity = uuid.v4();\n// Passing the connect_info to create a connection to the SHELL socket\nconst shell = enchannel.createShellSubject(identity, connectInfo);\nconst kernelInfoRequest = createMessage('kernel_info_request');\nconst kernelReply = shell.filter(msg => msg.parent_header.msg_id === kernelInfoRequest.header.msg_id)\n                         .map(msg => msg.content);\nkernelReply.subscribe(content => {\n  console.log(content.banner);\n});\nshell.next(kernelInfoRequest);\n```\nWhat do you need to know the language for before launching the Qt Console?\n. Ah, I see. In the short term case I think that means we need to implement a service for kernels which would store a lot more metadata. This seems like a good package for atom-notebook to use as well.\nIn the long term case, we would need the jupyter spec to include more information in the connection info to be compatible. A little bit of this was done upstream, https://github.com/jupyter/jupyter_client/pull/96, amusingly at my request in https://github.com/jupyter/jupyter_client/issues/50. We'd need adhere to the same standard within Hydrogen's code base.\n\nHowever for completeness it would be great to have also additional descriptions, for example that the kernel was indeed launched by Hydrogen. Even better, it would be great if apps would specify a short identifying description of the concrete kernels they started.\n\nSuch information is not currently available. We'd have to track it ourselves if we really need it.\n. Thanks @lgeiger!\n. That missing comma! :eyes:\n. @lgeiger would you like to help us maintain this package, aiming for #158? We love accepting your patches and hope you'll love ours too. :wink:\n. Welcome to the nteract party! :tada:\nWe're all learners. :smile:\n. Hard to tell without logs, though I'd be a bit afraid of our transition to nteract mucking up Atom metadata. Have you fully restarted Atom?\n. Thanks for getting through it @kescobo.\n. I agree with doing away with spawnSync, relying on the asynchronous libraries we've been writing for Jupyter support in general. I'm not going to go back and forth on measurements if we don't have benchmarks. The fact is, JS is an asynchronous language by design and the slow startup is an issue for less beefy boxes - we can't act like our dev boxes are the best reflection.\nAtom isn't using 0.10 though is it? My current version is 4.1.1. Is that an issue that which happens on install with apm?\n\nall code is synchronous\n\nNot all of Hydrogen is sync, especially the kernel messaging.\nWe're getting really close to where we need zmq-prebuilt to be and I'll be shipping a release soon for us to use, which dodges both the python2/node-gyp problem and the need zmq headers problem.\nThere are more packages for us (nteract at large) to finalize, then we can start getting them in Hydrogen (mostly to be spec compliant with Jupyter and also so we're not duplicating so much code).\n. @n-riesco Have you tried out aggregating outputs from ipython-paths and jupyter-paths?\n. @slavaGanzin do you think we could merge this PR and you could address the review feedback in a follow on PR? \n. Thank you @lgeiger!\n. > I can run Julia without opening from terminal since ever on Mac...\nI'll bet that's because your kernel is installed properly, as is the case for non-Python kernels (the default kernel of jupyter's Python is not installed to a kernelspec directory by default).\n. This should be solved soon, with a coming Atom release:\nSee:\n- https://github.com/atom/atom/issues/6956\n- https://github.com/atom/atom/pull/11054\n. What would you say our version bump is here?\n. Great, done! :tada: \n$ apm publish patch\nPreparing and tagging a new version \u2713\nPushing v0.7.1 tag \u2713\nPublishing Hydrogen@v0.7.1 \u2713\n. We tend to require libzmq3, there is no libzmq 5 (4.1 was the last release of libzmq, with 4.2 likely to come down the pipe relatively soon). What does apt-cache search libzmq show?\n. Very slick.\n. :tada: feel free to make a release, you have the power\n. After pulling master / syncing up with master, and making sure that your remote is configured for this source repo:\napm publish minor\nDepending on the changes, you can also do major or patch (like npm, with less steps).\n. Let me know if you want me to publish, I'm happy to as well.\n. Though it looks like there's a new related PR from @lgeiger, so we can hold off til you want to cut the release.\n. Sounds good to me, not all kernels support it anyways.\n. :+1: for readability\n. Awesome. Thanks for moving forward with this @n-riesco \n. Thanks @n-riesco!\n. In the future we can use ansi to html here to show the colors instead.\n. There are a few packages you can try out with jupyter kernel output as well, depending on if you want to do React or not:\n- https://github.com/nteract/react-jupyter-display-area\n- https://github.com/nteract/jupyter-display-area\nNo one is maintaining the web component (2nd option), though the underlying packages that it depends on are, since they're used in https://github.com/jupyter/jupyter-js-notebook.\n. That's really cool.\nYou'll want to do an interactive rebase against origin/master so this can be merged cleanly.\n. :rocket: \n. @n-riesco want to try your hand at a release today or tomorrow?\n. We need to use the inline markers feature that is coming to Atom. They built it specifically for our use case here as well as merge conflicts (I talked with the Atom team at CodeConf about this and now it exists)\n. http://blog.atom.io/2016/02/03/introducing-block-decorations.html\n. Dude, awesome.\n. > I'm reviewing this PR. Please, don't merge it for the time being.\nThanks for the heads up as well as the thorough review.\n. Great!\n. Could we apply a filter based on the user's theme?\n. That's ok. I think we'd have to switch formats to use CSS filters well here.\n. Ah, great.\n. This is great, thank you so much for taking this for a spin @n-riesco.\n. /cc @jdfreder transformime live!\n. > I think it would also be possible to pass document.createElement instead of document\nThat makes sense.\n\nInstead of passing document in the call to transform, I could pass it to the constructor.\n\nThe reason this was broken up separately was likely for iframe usage, which no one is doing with transformime currently. I'm not opposed to that. If I changed the interface, I'd make document or document.createElement the first argument so that a user could declare const t = transform.bind(null, document) and use the bound function.\nFor our React components, the API for transformime-react (and by extension the display area) are quite different, very declarative, and opinionated in the usage of Immutable.js.\n. Feel free to make PRs or issues to transformime, I'm not opposed to that. Will be good to see what other users of transformime think.\n. > stress more the need to install a kernel\nI agree with this one. Jupyter assumes a default kernel of the python for that version of jupyter. We can't reliably start what the \"default\" is either. We need our instructions to include:\npython3 -m pip install ipykernel\npython3 -m ipykernel install --user\n. > I remember using hydrogen in the past without a separate Node installation on my system. Or am I wrong?\nAs long as Atom is able to build zmq from within Atom, you don't have to have node installed globally. Actually, as long as apm handles the node-gyp stuff correctly, we don't have to have node.\n. Woo, awesome!!!\n. Yuck, thanks for finding the problem @n-riesco. Seems like with your solution, transformime for jupyter should behave just like the rest of the image transforms.\n. Related project to dig through (not necessarily rely on), for Jupyter output in general: https://github.com/nteract/jupyter-display-area\n. Seems like we're definitely gearing up for a major release here.\n. Make the PR and explain there. I did the same with spans inside a code block in nteract/nteract, when using ansi-to-react.\n. Even better case to try out is two Jupyter consoles connected to the same kernel.\n. > Also note that in your example the kernel doesn't write to stdout and stderr, but rather it invokes a library that writes to stdout and stderr yet not on stream IO messages\n. Ahhhhh! I gotcha now! Yup I was definitely confused there. They're not re-piping stderr from child processes, hence it doesn't show up in the notebook.\n. I'm a fan of this because I like my tracebacks in the native colors.\n. If someone uses a library that outputs ANSI colors, what happens with IJavaScript?\n. > Or we remove the hasAnsi check and simply render all text/plain messages as jupyter/console-text.\nI'm certainly a fan. That's what the notebook does too.\n. Interesting. I'll give that a shot here shortly.\n. Interesting!\nAny ideas @IonicaBizau?\nWe're using ansi-up in another code base (for the React based stuff). Seems like we would need to extend those. I'm noticing that my terminal type on my local box doesn't produce ANSI coloring in the jupyter notebook yet the same code does on tmpnb.org.\n. The backends (kernels) these are built on send messages that have text with ANSI code. It's small enough most of the time and very static that it's fairly cheap to convert to a straight markup. Otherwise we have to manage many term.js instances on a page. It would be cool if someone tried it out regardless of whether I think that's an expensive operation or not.\n. Now that I'm thinking about it, I see how the flow would be with term.js. Each time we send execution to a kernel, we would create a DOM node for term.js and everytime we got stdout or stderr stream we would term.write.\n. Think this is fit to ship now?\n. We fit to take this in now @n-riesco?\n. Ah, sorry. I noticed the [WIP] tag coming off and assumed that was you stating intent. :smile:\n. Anything else we want to do before we make a release?\nWere people willing to try out zmq-prebuilt? It has prebuilds for Linux, OS X, and 32-bit Windows. 64-bit Windows users still have to build (as they would in the past too).\n. Looks good! It won't be able to use embedded scripts in SVG when using innerHTML, though it should display nicely.\n. > I've tested the new and the previous SVGTransform and none of them run the embedded JS. Am I doing something wrong? Did the previous SVGTransform run embedded JS?\nNo, I was just stating what I saw. This is good.\nHonestly, I'm glad about the default CSP in Atom. We likely need to figure out a secure way to sandbox.\n/cc @jdfreder \n. Sounds good to me.\n. :+1:\n. Great!\n. With all the other changes that went in since v0.7.2, I say we make a minor release v0.8.0.\n. Also, :+1: to the lowercasing for normalization.\n. $ apm publish minor\nPreparing and tagging a new version \u2713\nPushing v0.8.0 tag \u2713\nPublishing Hydrogen@v0.8.0 \u2713\n. Done deal.\n. We had so much sitting here that it was scaring me a little bit. Since we needed this one to go out, it seemed imperative we push on releasing. Time to see how people like it. It's a LOT of fun to use right now.\n. On a side note, it would be great if folks added on to the release notes. I added a few things, definitely didn't capture all (since there was a good bit of refactoring work).\n. I'd love if we somehow finish off the zmq prebuilt story so we have less bug reports related to installation/python2/node-gyp/needing headers.\n. That or we make a patch release.\n. On OS X I use LICEcap.\n. That's interesting. Is this demarcating chunks of code to be a code cell like in the notebook?\n. Was there more you wanted to think on before we introduce this @n-riesco?\n. Ah, that's going to break user space then... would we want to shelve this until a major release?\n. That seems like a good way to start trying this out.\n. > I would suggest we merge and add the keybindings later. What do you think?\nWorks for me.\n. Would you want to ship a patch release or wait until the block decoration fix?\n. Shipped v0.8.1!\n. Love it! I just did something similar in https://github.com/nteract/nteract/pull/269\n. Your new avatar threw me off! I thought we had a new collaborator. :smile: Great to see you're a living person!\n. Uh oh, needs a rebase!\n. I love all the http -> https bits here.\nWe do merge quickly, it just happened that I merged another PR that produced conflicts. If you submit again we'll be happy to take it.\n. Awesome! Thank you.\n. :eyes: soooooo good\n. Want me to make a patch release?\n. Done!\n. I wish we had better insight into # of users or at least time series data on downloads - we get a lot of \"downloads\" just in upgrading. This is likely misleading for atom-script, which in the past upgraded fairly regularly:\n\n. It looks like those were in a virtualenv, which Atom won't pick up unless Atom is launched as atom . within the virtualenv. The alternative is to create a kernel specifically for a virtualenv.\n. Open the command palette (cmd-shift-p on Mac) then start typing hydrogen.. I'm guessing you're looking for browser style \"right-click -> save image\"?\n\n. I've labeled this as up-for-grabs because no one is known to be working on this yet there are lots of +1s. If you want to tackle it, please do. \nIt looks like the API you'd want to use is the Atom ContextMenuManager, likely scoping it to .output-area img (or something similar).. I think it's an Atom thing we have to somehow expose, based on experience with context menus for Electron.. Ack! Sorry I closed this on accident while reading on mobile.\n. We have a commonmark transform that we used in other places which I tended towards because commonmark is moving forward (even as a spec) while marked is fairly stagnant.\nThat being said, I think we should include a markdown transform by default in transformime.\n. D'oh! Now I see the markdown transformer included from before yet not included.\n. > Is this something you would like to see in transformime?\nNo harm in making the PR. Now that jupyterlab efforts are running their own phosphor based version of transformime, I don't think you'll conflict with anyone (and they can always override it). The only other project that I'm aware of that uses transformime is sidecar. A simpler thing to do is to create yet another repo just for the marked transform, much like how the commonmark one stands alone.\n. Do you have an npm account and everything set up already @lgeiger? Feel free to push the code out to a public repository and we can discuss the release there.\n. That'll work!\n. We have enough piled up here that I'll go ahead and make a patch release since it's this bug fix + style changes.\n. $ apm publish patch\nPreparing and tagging a new version \u2713\nPushing v0.8.3 tag \u2713\nPublishing Hydrogen@v0.8.3 \u2713\n. Related Twitter conversation\n. oh that, thank you\n. I'm unable to ship a release for the next day though I think we should soon.\n. Excellent!\n. I ran into that too and somehow rebuild packages worked flawlessly (I was surprised it fixed itself).\n. I'm happy to make a patch release for this one.\n. Ah that makes sense. The Jupyter notebook does roughly the same, with a link.\n. version bump sounds good\n. That's quite a bit of cleanup! I'll have to check this out later. Happy to see patches flowing.\n. I'd like to assume only good here since @lgeiger says it's working well. How about we merge and keep going?\n. It's ok for you to merge others' PRs as well @lgeiger, so feel free when you're happy to.\nWant to cut the release?\n. Very awesome.\n. > I've been developing a Python module in one Atom instance, and using Hydrogen and a script in another to do some rough debugging. It's a really nice workflow!\nso very nice feedback, thank you!\n. :boom:\n. Awesome.\n. Having a way to map from grammar to a kernel certainly needs to exist. How the settings are stored and dealt with should rely on Atom APIs for settings as much as possible.\n. I tend to assume that kernelspec files are managed by Jupyter within, for example, ~/Library/Jupyter/kernels on OS X.\n. kernelspecs is the library for querying kernel specs.\nHowever, it only relies on jupyter-paths at the moment. We could introduce a way to check for ipython-paths as well as old IPython. Based on the fact that we \"require\" a kernel to be installed, even with jupyter, we likely need a hokey default kernel to be provided back from kernelspecs.\n. Would you want to enable Travis @lgeiger?\n. Still WIP?\n. > Oh I just noticed the slack badge isn't working anymore.\nAh, looks like that container was down. I'll get that back up.\n. All set, though it will take some time for DNS to propagate around the world.\n. Rekicking your build just in case.\n. For my OS X machine, it's been enough to install homebrew, zeromq, zmq, and pkg-config. This is assuming the node environment is set to use Python2 for node-gyp.\n. I'm assuming you turned off autocomplete plus for Python in the meantime?\nWhat was your solution/temp-fix @nmiculinic?\n. > Why this hasn't been merged?\n- @n-riesco had an unresolved question\n- this branch has conflicts with master\n. All good, seemed like it had gone back and forth a bit and that Lukas was a ok with it. We can keep making follow up PRs as necessary.\n. > I copied the setup part from atom-script\n:wink:\n. Since it's opt-in, I'm fine with that. It does seem odd to me that we're not using the jupyter configuration or runtime folders in general though.\n. Yup, it's at ~/Library/Jupyter/runtime/ on OS X. If using jupyter-paths, you can get it via require('jupyter-paths').runtimeDir().\n. Welcome to nteract, @tiangolo!\n. @minrk, @parente, and I have talked about making kernels available remotely by API (REST API first for request, websockets for the actual connection).\n. Interesting. I don't think that's specified anywhere in the messaging spec. I'll raise an issue on jupyter-client.\n. This is on the Spark roadmap for Jupyter at least, with updatable displays being the primary avenue to implement this.. If I had more time, I'd go after making a remote API that's simple to use and automatic to secure.\nFrom both Electron apps and Atom (which is basically Electron under the hood), we can generate private and public key pairs to connect over TLS, launch a Docker container (or vagrant box), and connect with strict PKI that was setup before, relying on websockets to connect to the kernel (a la the the notebook server). When the work is finished, the keys can be deleted and the box can be torn down.\n. @lgeiger I'm certainly a fan of the kernel gateway approach, though you're not going to escape all the \"ZMQ related problems\". If you'd like to take a stab at an Atom plugin that folks are using that uses the kernel gateway underneath, check out https://github.com/jupyter/atom-notebook.\nMy main fears with trying to exclusively rely on a separate process and CLI that the user installs is that we have zero control over what version is installed (the interface) as well as helping them with migrations (including the first one). The zeromq story can be fixed and I'm back in a situation to carve out more of that in the coming weeks. @hintjens made good progress with libzmq and czmq for us, even setting up some initial bindings - we need to finish up the prebuild work.\nAll that being said, I'm a fan of handling remote kernels in this way especially if using a token based auth approach (as you can do with kernel gateway). How are you escaping the cross origin websocket security protections @nikitakit?\n. > Should we update the contribution guidelines to advise that substantial changes need discussing in issue.\nIf someone feels impassioned to write code, they take a risk in submitting a big PR. Sometimes it's easier to communicate with code instead of just issues. We're not going to merge this, but I certainly want to have the discussion.\nThe work can always be split up - the remote kernel approach is why enchannel abstracts across using any of our available transports: zmq, websockets via notebooks, and socket.io websockets. We haven't yet done it in Hydrogen and we need people to explore approaches.\n. Cool, thanks for giving this a go @nikitakit. Checking it out now.\nEnchannel is meant to be lower level on purpose, with a higher level setup tailored to how you spawn, list kernels, etc. which can vary. That part of the API hasn't been extracted to a separate piece yet.\n. > In this PR we're calling GatewayKernel the kernel class that makes use of jupyter-js-services. I've also noticed the proposal for a Kernel Gateway. Are they related?\n\nHow do you think? Is it OK to name GatewayKernel the kernels created using jupyter-js-services? Is there a better name?\n\nThis is related. I'd probably call them JupyterWebsocketKernel (or WSKernel if you want something shorter) as the remote kernel setup done here works interchangeably with the kernel gateway and the standalone notebook.\n. Woo!\n. Now that we have the inline decorators, I've wondered why we can't always show it below.\nAs for the mouse over, that sounds like a good idea.\nThe only other thing that comes to mind is showing Out[num]. I'll be thinking on this.\n. What would it be like to translate the messaging protocol v4 <---> v5?\n. Lawrencium is definitely not happening as a name change.\nAmusingly, our logo changed to purple some time ago (and flipped direction) to look less like the Ionic logo (we were unaware). Someone flipped this back to the \"cool blue\" again. Someone can certainly make a new one that continues to work well as the in-Atom logo.\n. Keep in mind that it has to fit as a 32x32px logo within the use of Atom. The logo we stick on the README can be almost anything.\n. Thank you both!\n. Totally on board with removing it.\n. Totally agree with switching that image out.\n. Nice!\n. Well that's awesome.\n. > how about image/svg, I think SVG can contain JS?\nSVG can indeed contain JS.\n. Should that src attribute be 'data:text/html;charset=utf-8,' + data?\n. I appended that directly into Atom like so:\n\n. It depends on if inspect has a side effect on the object. I think for the Python kernel it's likely not too bad. Worth exploring to see!\n. Yay! Check it out @jdfreder, @willingc, and @captainsafia!\n. We're sitting on 67 commits since the last release, do you think we'll be shipping a new version soon, possibly with this PR?\n. This sounds like we're not passing process.env on to the spawned process. Went ahead and made #405 for this.\n. Oooooh, I don't think we've been using the env key in the spec there.\n. I think it would be ok/appropriate to set this in spawnteract by default, while allowing it to be overridden using Object.assign on the opts object.\n. Excellent. Yay for good defaults in spawnteract.\n. Woo!\n. If we throw, does it break all of Hydrogen then?\n. That sounds like a good idea.\n. Great!\n. Neat!\n. @willingc I think that works because you have a working zmq environment. Hydrogen is still doing require('zmq') within it's node environment and doing a build using Atom's built-in node - it doesn't match the node environment you run on the CLI.\n. Curiosity - we handle stdin now, how does ipdb look in Hydrogen?\n. Great! Thanks.\n. Yup! Welcome!\nMain thing to keep in mind is that we want to keep moving the code together. We tend to merge sooner and try to iterate. The only thing that should hold us back is breaking userspace in some way. Since we're largely UI focused, we don't have to worry about APIs as much. \n. If you're unsure if modifying both to work is the best, I'd aim for creating the new one until a refactor is obvious later.\n. > Should we simply initialize the status bar with Kernel: started since it is created on construction of the Kernel class after the process was spawned?\nI would, though I'd probably send a kernel_info_request and make sure you get a kernel_info_reply within reasonable time. Might even want to send several requests after a delay to give the kernel time to start up.\n. Okee doke, if it's working then we can go ahead and close this. We can reopen if it comes up again.\n. Another PR sounds good. I'd love to see this services approach.\n. @fasiha I've also added you on as a collaborator, even though this wasn't merged because both PRs and general contributions have been incredibly thoughtful (and patient while plugins were stagnant). Thanks for building Hydrogen with us. Welcome to the nteract party! :tada:\n. Once I see that green check mark, I'll merge it and you can :shipit:.\n. Interesting, what's the structure they're using for matches?\n. One thing I can tell from there is that it looks like matched_text part is pre-5.0.\n. :cool:\n. Messages can definitely happen in any order. Done tends to be when execution_state is idle within a status message.\n. Also, this is awesome!\n. I still really like a lot of this approach, should this still be adapted? What do you think @nikitakit?\n. I'll go ahead and close this since it hasn't been come back to in a while and would now require quite a rebase. Thank you for the contribution @fasiha!. Sure, we can chat about it at the dev meeting. Next meeting is Monday the 26 at 9 am central. nteract/nteract has the beginnings of a plugin system, though it will likely form on top of our redux layer and be fairly similar to hyperterm.\n. People talk about what they're going to do in the next 2 weeks as well as what they did in the past 2 weeks, if they want to. Discussions spawn naturally from there as a bit of cross-pollination amongst the various projects.\n. While totally a meta on the missing new (I don't recommend doing this), you can return a properly constructed newed object as part of the function constructor:\njs\nfunction X() { \n  if (!(this instanceof X)) {\n    return new X(arguments);\n  }\n}\nWhich results in a proper new X() to be setup. :wink:\n. Here we go!\n. There's an even \"easier solution\" that Microsoft is aiming for now:\nnpm install --global --production windows-build-tools\nThat's linked within node-gyp's install steps, and is fairly recent.\n. @lgeiger no idea, I was trying to use that when debugging https://github.com/nteract/zmq-prebuilt/issues/2\n. Yeah, I think it's worth checking out. If I had more free time, I'd start mocking it up with some of the packages available from nteract on npm.\n. There's vscodeJupyter for this, I'm going to go ahead and close the issue. @DonJayamanne has done stellar work on VSCode + Jupyter. \ud83d\ude04 . Thanks @jflam! What should non-Python users install for interactive Jupyter kernel usage in Visual Studio Code?. Yay tests!\n. :coffee:\n. \\r (by itself with no newline) is a carriage return. It returns the console writer to the first position.\nHistorically, this \"carriage\" was the printer head on a type writer. When you hit the key, the printer head would go back to the start - allowing you to type over the line you were just on.\n\nUsing this, you can overwrite the previous line.\nThe more general problem is to handle more of the character codes to allow the cursor to move all over. You basically need to manage a TTY then, which, if you're interested I'm happy to explore.\n. @lgeiger - you may want to check out stdout and stderr joining as is done in nteract.\nHowever, I'd probably combine stdout and stderr to be more like a terminal.\njs\nfunction reduceOutputs(outputs, output) {\n  const lastOutputIndex = outputs.length - 1\n  if (outputs[lastOutputIndex].output_type === 'stream' && output.output_type === 'stream') {\n    outputs[lastOutputIndex].text = outputs[lastOutputIndex].text + output.text;\n    return outputs\n  }\n  outputs.push(output);\n  return outputs;\n}. Jupyter started enforcing authentication on vanilla servers by using a temp token.\n~You could set c.NotebookApp.token='' in your jupyter notebook config on the latest release.~ That does make your notebook server susceptible to cross site request forgery though, so I don't recommend it. You can also set the token or password directly in the notebook config and then use it.. I'd merge because it looks like the right fix, but we can wait for feedback. Let me know.\n. The only part I find a bit invasive is the automatic write to clipboard. Other than that, I think this is good to go.\n. Derp, nevermind me. The copy happens when you click the execution count.\n. Token authentication in jupyter notebook is in progress: https://github.com/jupyter/notebook/pull/1831\n/cc @minrk \n. As for the jupyter-js-services monkey patching, feel free to raise an issue with them to see if they have a way to provide what you need (or a reasonable way to workaround).\n. > \u261d\ufe0f \ud83d\ude2e \ud83c\udf89\nExcellent emoji choice.\n. @nikitakit can you give this a spin?\n. Since Atom will be on later Electron releases that aren't supported by prebuild, we end up always having to do a rebuild. \ud83d\ude22  However, this setup is simpler in that it does link statically and requires a lot less dependencies on the end user. They are still stuck needing Python2 (for the build).\n. Sounds great.\n. Ohhhhhh yes I could talk about comms at length. I'll point out some stuff happening in the nteract notebook when I get back to my laptop.\n. Can you brew install pkg-config?\n. Great to see! Nice Atom package!\n. Yeah I wish the jupyter binding was cmd-enter too. If I had to imagine, that might have been a browser limitation? I'm not sure.\n. :shipit:\n. Thanks @nikitakit, your approval is a merge decree for me.\n. @nikitakit didn't miss the discussion, we talked out-of-band in email about it. He's very much still welcome here.\nAmusingly, one of the reasons we switched to 2FA was because of our automated posting of binaries for ZMQ and now we're on an org (zeromq) that doesn't have 2FA across the board. \n\u00af_(\u30c4)_/\u00af\nThen again, nteract/hydrogen is a release just by being tagged. nteract/nteract has built assets as well.\n. I'm certainly more likely to contribute if it's ES6 instead of CoffeeScript.\n. I'm happy even if I'm writing vanilla ES5, we probably aren't going to use most ES6 features. Even node 4 was a dramatic improvement.\n. > The only thing I fear and will probably miss is the existential operator in coffeescript.\nThat's my favorite feature from coffeescript that didn't end up as part of ES6.\nOur best bet here is to rely on lodash heavily with _.has, _.at and _.get. Lodash has excellent deep path support. We already have it as a dependency if I recall correctly.\n. It would be neat to see if you can convert single files within the code base to JS (with use babel; at the top) yet still require them from coffeescript in Atom.\n. Last time I used this I had to run atom . from the command line to get it to pick up my virtualenv.\nNowadays I create a kernel spec for the virtualenv (or conda environment) like this:\nworkon someenv\nipython kernelspec install-self --user --name someenv\n. > Please, don't use 2-space indentation. Besides the readability issue, it doesn't discourage sloppy coding (with high cyclomatic complexity).\nThe 2 space indentation comes from the airbnb eslint configuration. standard js also uses 2 space. Most developers I work with use 2-space indents.\nI realize it's arbitrary - this is more about aligning with standards others use that we want to collaborate with.\n. > Perhaps it's obvious, but I couldn't find the list of rules in that link.\nFrom https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/.eslintrc it says it extends from index.js which loads each of the rules in rules/.\n. > I've given a reason why 2-space indent is bad. It doesn't penalise deep levels of indentation.\nNoted. I agree that 2-space indent does not penalize deep levels of indentation.\nI'm still in favor of 2-space indent which is used by\n- airbnb\n- standard\nWhich are the two primary eslint setups I come across in projects. However, I will refrain from going back and forth on this. It's up to you how you wish to carry this out with collaborators.\n. If I seem strongly opinionated on this, I'm not really. I'm pointing out the community effects. I can adapt to whatever convention the linter tells me to do.\n. The main thing that I'm seeing an issue with (possibly) is that:\nC:\\\\Users\\\\Pingshun Huang\\\\\nturns into\nC:\\Users\\PINGSH~1\\\ninconsistently above. I hope that Windows and Atom are handling those well (it seems they're not).\n. Well, we are on the latest libzmq now which could be cause for issue.\n. I noticed this while looking into #511, thinking maybe there was a validation error. \n\u00af\\_(\u30c4)_/\u00af. Whoa, I didn't realize cross-org/repo issues would close based on other PRs. Guess it's because I have rights on both. Cool! (and yet not, since it hasn't been fully solved.). > > svg output is centered unlike all the other outputs\n\nI adopted the behavior of nteract here.\n\nI feel like our centering is a bad idea for images inside of nteract/nteract. We should use the default image layout that comes from the browser. Thank you!. ^4.4.0 will cover >= 4.4.0 < 5.0.0, which means that new users (or fresh installs) will get the latest prebuild. To help current users, we'll need to bump the prebuild requirement.. Hoorah for unity.. Uh oh, I merged the other PR -- you'll need to rebase this one.. > I apologize for possibly not using the technical terms like 'console', etc. correctly.\nThat's ok, there's a lot of terminology here to get through.\nHow do you have these separate python setups installed? If you have separate environments, you'll want to create a separate kernel installation for each (so that Hydrogen can pick from them). You can create this from the command line by running:\n/path/to/python -m pip install ipykernel\n/path/to/python -m ipykernel install --user --name SomeNameForEnv\nThis way they're both able to be selected by name.. Thanks for making the write up. It helps for me to see the way in which you want this to work and where the gap is. Sadly, the technical answer to this isn't very pleasing. \ud83d\ude05\nUsing $PATH to your advantage\nHydrogen will only be able to launch one python by default. It can only run the python it sees on your $PATH. Hydrogen makes a best faith effort to use your default Python kernel (the runtime) for your interactive Python session. If you want to get things working without the approach I suggested originally, there is another workaround. You will have to run atom. explicitly with your PATH including /opt/local/bin/ at the beginning like this:\nPATH=/opt/local/bin:$PATH atom .\nYou have to fully quit atom (at least on the mac) every time you want to switch to your other python environment though. For this reason, I highly recommend learning about Jupyter's kernel installations and how they can benefit you.\nKernel specifications (kernel specs)\nTo make it so your notebook server, nteract, Hydrogen, or any other frontend can run any language runtime (kernel), the concept of a kernel specification was created. These are installed into a known directory. For example, on my mac they're in ~/Library/Jupyter/kernels:\n```\n/Users/kylek/Library/Jupyter/kernels/ir:\nkernel.js      kernel.json    logo-64x64.png\n/Users/kylek/Library/Jupyter/kernels/python2:\nkernel.json    logo-32x32.png logo-64x64.png\n/Users/kylek/Library/Jupyter/kernels/python3:\nkernel.json    logo-32x32.png logo-64x64.png\n/Users/kylek/Library/Jupyter/kernels/scala:\nkernel.json    launcher.jar   logo-64x64.png\n```\nHere's what is in my python3 kernel's kernel.json:\njson\n{\n \"argv\": [\n  \"/usr/local/opt/python3/bin/python3.5\",\n  \"-m\",\n  \"ipykernel\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}\nThis provides a description for Hydrogen to know how to launch this specific kernel. When I try to run Python code with Hydrogen, I get to choose which runtime I want:\n\nNote that it shows both the Python 2 and Python 3 kernel. This is based on the current language shown inside of Atom as well as the fact that the kernel spec has a language key of python. What shows in the Atom menu is the display_name from the kernel spec.\nThere's an excellent post from @mottalrd on installing kernel specs per environment (what I would call your two python installations). It hopefully gives another perspective on this that I can't provide, as well as the means to set up these kernel specs.. Smart!. /cc @parente for feedback as a user of kernel gateway. Thanks @nikitakit for taking the time to improve the documentation and to outline the reasoning and history so well.. Woo!. We need to put pressure on the packages to use UMD bundles in their text/html payloads. It's failing in Hydrogen there because it's expecting require to be from requirejs when the require in Hydrogen/Atom is the node commonjs require.. It's either that or Hydrogen has to provide a requirejs shim within the scope of the output somehow.. I've been using Bokeh in nteract, I don't see why it wouldn't work in Hydrogen unless there are still content security policies dictated by Atom that we need to play well with.. Do you have node locally? I'm curious if we can boil this down to an issue for prebuild-install, node, or your proxy.. To be more generic, we'll probably need to add support for working with the proxy in prebuild (assuming we know what to do). To help us figure this out, would you be able to install node https://nodejs.org/en/ then run npm install zeromq in a new directory somewhere?. prebuild-install does have proxy configuration, so I want to see if we can find the specific issue inside there.. Ok, great thank you. Now for another to try out, can you npm install leveldown?. This does change user land behavior, would it really be major or was it never able to work right before with this prior key binding?. I think doing a patch release is A-OK.. What do the dev tools show with View -> Developer -> Toggle Developer Tools?\nYou'll want to check the js console for error messages.. The way we handle vega in nteract/nteract right now is a custom renderer/transform for mimetypes application/vnd.vega+json and application/vnd.vegalite+json. It currently requires the user to form a custom payload though:\npython\nimport IPython.display\ndef vegify(spec):\n    IPython.display.display({\n        'application/vnd.vegalite+json': spec.to_dict()\n    }, raw=True)\n```python\nfrom altair import Chart, load_dataset\nload data as a pandas DataFrame\ncars = load_dataset('cars')\nspec = Chart(cars).mark_point().encode(\n    x='Horsepower',\n    y='Miles_per_Gallon',\n    color='Origin',\n)\nvegify(spec)\n```\nResulting notebook:\n\n. I'd like to support vega and plotly as standard transforms in all the jupyter environments so libraries don't have to dump JS and HTML payloads for these.. > it makes sense to mention nteract somewhere in Hydrogen README, it can interest some of Hydrogen users\nWe would certainly welcome a pull request with that. \ud83d\ude04 \n\nSo custom handling of these mimetypes is going to be added to Hydrogen eventually?\n\nThey wouldn't be too hard to add right now, it would probably be better to do it after nteract/nteract exports more modules so we don't have to maintain it in so many places.. @jakevdp is Altair only publishing the new spec now? Is it ok to deprecate the handling of the old spec at any point?. @jakevdp - I just checked and vega v3 and vega-lite v2 are both supported in nteract desktop:\n\nHydrogen needs to upgrade to the latest of the display area. nteract desktop is totally fine and has been since nteract v0.6.0, which was released at the end of January. We're now on v0.8.4 so any system that allows the auto-upgrades should be all set.. As of today's release of Hydrogen, we support Vega 3 and Vega-lite 2. Slick interactives!\n\n. Oh interesting, we could be using the transformime stuff here in general for inspection results to show rich results.. I'll leave this to @lgeiger to review and merge. Thanks for the contribution @BenRussert!. > That's exactly what we're doing\nAh, cool. What was the whitelisting/conditional for?. Welcome to the nteract party! :tada:. Our DNS is switching over, feel free to use https://slackin-egwcornswi.now.sh/ to sign up for now. Woo, thanks!. > If the kernel is busy we generally cannot receive any completions from the jupyter kernel, is that right?\nTo expand on what @n-riesco said, the Python kernel will not send completions when it is busy. Kernels can send completion information over ZMQ while the kernel is busy, regardless of if the frontend will handle it -- jupyter notebook avoids asking for completion when the kernel is busy.. You did it!. I'm certainly in favor of this, my one nit (which will require a search-replace refactor) is mostly for code clarity.. How does kernel cleanup happen with multiple kernels?. > we would need it to be also triggered on a grammar change caused by the cursor moving to an other grammar block. \nWhat we're wanting and it doesn't seem like we have access to easily is when the scope changes so we can run atom.grammars.grammarForScopeName. The only way I'm seeing that now is if we watch all the buffer changes (get the scope, do the rest of the calculations in here).. Checkout #637 for this now.. Thanks for noting that! I'm so happy they made a specification on top of commonmark.. Deprecated yet not replaced so I ended up supporting them in nteract notebook.. @lgeiger why are plaintext outputs trimmed to begin with?. Oh I see, that's the trick to make it similar to our LightTable like single-line-values whereas Jupyter frontends are generally assumed to be an overall output.. Can you document the full behavior and show the current version of Atom, MagicPython, and Hydrogen that you're on?. You next need to open the console so we can see the errors:\n\n. Mega \ud83d\udc4d . Whoa, seems like we should definitely handle the callback for when it's really connected - especially before we try to send any initial messages.. Ref for the nteract notebook side: https://github.com/paulcbetts/spawn-rx/issues/11 (spawn-rx sets up a proper process group on Windows, we don't have a way to send signals though).. Yes please @Foucl! I don't think anyone is working on this and we don't have the expertise.. /cc @blink1073. Ah ok, so probably no breaking changes for us here?. Yeah that's why I've started to make packages start at 1.0.0 so that the semver mechanics are manageable.. I'm beginning to think that I'll only use 1.0 for user focused applications, recognizing it mostly as a marketing measure for the first major release.. Classic greenkeeper bot. Thanks Steven.. /cc @alexarchambault ^^ happy jupyter scala user!. Wow I just accidentally clicked approve after \"requesting changes\". Oops.. Ooooh, happy to see you're trying out MobX for this. \ud83d\ude04 . ~~Are you able to do some summary statistics to find out which packages are taking the most space?~~\nNevermind, the only stuff being added here is more eslint config, mobx, react.. I'm generally in favor of us being able to share components, with React currently being the leading contender for cross project collaboration (even beyond nteract).. Just based on the commits this is looking pretty cool!. I use nuclide and could test this out.. It's the weekend now so I can still take this for a spin later on.. Are you wanting to merge as much as you've done here for the moment?. > I think this PR is in a good state now.\nAre you hoping to merge this as is or do you want to complete more on your checklist?. \ud83d\udca5 . This is something very common that I think we should be able to support across languages. However, when I say \"we\" I mean across the Jupyter ecosystem (kernels and frontends like Hydrogen).\nWe should start drafting a new message for the Jupyter protocol  that could request available data frames or variables that are able to be exposed. Here's an example, using the same simplified psuedo-format as the building on jupyter post:\nvars_request: {\n  variables: [ // optional, would request all marked as available\n    'x' // only request x\n  ],\n}\nvars_response: {\n  available: {\n    x: { // some representation (could be mimetype style)\n    }\n  }\n}\nI'm thinking the frontend would cache as much as possible and when the user tries to expand a variable (or some other way of listing it), it would request to get the latest version.\n\nAs an aside, python provides both dir() for listing currently available objects and there's a __dir__ method that can be provided on an object to only show certain attributes for listing.\n. > Based on your pseudo message, a general question: How would a vars_request for a single variable x differ from a execute_request with content x?\n\ud83d\ude06  Pretty much the same.\nI was thinking that an empty vars_request would return a response with all of them\nvars_request: {\n}\nHowever, there's a semantic difference here between execute and \"vars\", which is that execute's intention is to run code. Here we want to look at a variable in memory (this is up to the kernel). As a user, running:\n```\n\n\n\nx\n```\n\n\n\nis \"looking\" at the variable, yet could have side effects. By posting the vars_request message, we're explicitly saying to view (and hope to be free of side effects).\n\u26a0\ufe0f I'm just throwing these ideas around, so I wouldn't hold any of my thoughts here as concrete. \u26a0\ufe0f . Wow, Hydrogen just keeps getting better and more stable. drool. Building up a \"log\" of code run + outputs wouldn't be too bad. Call it \"record\", have it create a new cell (in-memory) on everything executed, save it to disk. That would be sweet.. Thank you!. My merge in the other leads to conflicts here, can you rebase please?. Nothing on the list. Any ideas @taotetek?. I like the approach of unmonitoring after a connect message. I don't know much about monitoring with zeromq. /cc @minrk. Excellent!\n/cc @smashwilson -- looks like Lukas is making flow types for Atom -- have you seen anything of the sort?. Excellent!. @kolya-ay There is no plan to switch from using React, we want to use common components across various projects in nteract (and :soon: jupyter). The GitHub / Git integration in Atom uses React instead of etch so I think we can probably assume React is perfectly alright in Atom land.. So typed. Well that's awesome.. OH EM GEE. And shipped on apm! Excellent.. Whoa neat!. Yeah doing pure functions in the future would be really good.. So good.. I use prettier atom with the defaults and love the no-fuss across projects. People would have to toggle their settings if they're using the prettier plugin, unless they have commit hooks set up as well.. Ah, didn't realize that.. I'm leaning towards going ahead with merging this based on feedback from @BenRussert and @n-riesco, then people can keep iterating and simplifying right after.. I love when Flow finds bugs for us. \ud83d\ude04 . :smile:. Nice!. Thanks! No nbformat usage in here.. In order to fully disable the token, you'd also have to turn off cross site request forgery protection.\nBlog post: http://blog.jupyter.org/2016/12/21/jupyter-notebook-4-3-1/\nYou'll have to set NotebookApp.disable_check_xsrf to False, though the better route is to manage the tokens and use them from Hydrogen.. Thank you!. Cool!. Hmmm, that looks like Plotly's JS is doing a window.open call.\n/cc @jackparmer. \ud83c\udf89 . \ud83d\ude04 . Greenkeeper is so on this stuff. \ud83d\udcaf . Oh didn't realize this, makes sense.. Thank you for reporting this, I've heard others having trouble after the latest ipykernel update within other projects that had similar behavior. I may be able to help fix some other folks' setup.. Would it be appropriate for the PHP kernel to handle this by ignoring a <?php or <?? Then users could also copy paste whole snippets into other Jupyter environments as well. Which PHP kernel are you using?. Great, thanks for reporting. We should definitely improve the UX there. I filed an issue on https://github.com/Litipk/Jupyter-PHP/issues/18.. Similar issue on nteract desktop: https://github.com/nteract/nteract/issues/1640. I'm seeing something really odd right now where a python3 kernel named as python3 will actually launch python2 (and by extension only IPython 5.x...).\n```\n$ diff python3/kernel.json pythonwtf/kernel.json\n9c9\n<  \"display_name\": \"Python 3\",\n\n\n\"display_name\": \"Python 3 WTF\",\n11c11\n< }\n\\ No newline at end of file\n\n\n\n}\nkylek@nfml-83G ~/Library/Jupyter/kernels$ cat python3/kernel.json\n{\n \"argv\": [\n  \"/usr/local/opt/python3/bin/python3.6\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}\n```\n\nWith my WTF kernel, I get an actual Python3 setup. With the python3 kernel it's really launching Python2. WTF?\n. Yeah, I tried out deleting the python3 kernel and running the python3 -m ipykernel install --user command. This is pretty strange. One difference we have to jupyter is that we don't inherit a system python, we're running the argv from the kernel.json directly.. Yeah, the output is consistent with the json files.. kylek@nfml-83G ~$ ls -la /usr/local/opt/python3/bin/python3.6\nlrwxr-xr-x  1 kylek  admin  57 Mar 21 00:47 /usr/local/opt/python3/bin/python3.6 -> ../Frameworks/Python.framework/Versions/3.6/bin/python3.6\nkylek@nfml-83G ~$ ls -la /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/bin/python3.6\n-rwxr-xr-x  2 kylek  admin  13620 Apr  4 12:46 /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/bin/python3.6. $ /usr/local/opt/python3/Frameworks/Python.framework/Versions/3.6/bin/python3.6 --version\nPython 3.6.1. Oh no I opened this issue from my phone just now and must remind myself to come back with answers.. @willingc:\n$ jupyter kernelspec list\nAvailable kernels:\n  ir            /Users/kylek/Library/Jupyter/kernels/ir\n  javascript    /Users/kylek/Library/Jupyter/kernels/javascript\n  python2       /Users/kylek/Library/Jupyter/kernels/python2\n  python3       /Users/kylek/Library/Jupyter/kernels/python3\n  pythonwtf     /Users/kylek/Library/Jupyter/kernels/pythonwtf\n  scala         /Users/kylek/Library/Jupyter/kernels/scala\n. Trimmed output of jupyter kernelspec list --json (using jq):\n{\n  \"pythonwtf\": {\n    \"resource_dir\": \"/Users/kylek/Library/Jupyter/kernels/pythonwtf\",\n    \"spec\": {\n      \"language\": \"python\",\n      \"display_name\": \"Python 3 WTF\",\n      \"env\": {},\n      \"argv\": [\n        \"/usr/local/opt/python3/bin/python3.6\",\n        \"-m\",\n        \"ipykernel_launcher\",\n        \"-f\",\n        \"{connection_file}\"\n      ]\n    }\n  },\n  \"python3\": {\n    \"resource_dir\": \"/Users/kylek/Library/Jupyter/kernels/python3\",\n    \"spec\": {\n      \"language\": \"python\",\n      \"display_name\": \"Python 3\",\n      \"env\": {},\n      \"argv\": [\n        \"/usr/local/opt/python3/bin/python3.6\",\n        \"-m\",\n        \"ipykernel_launcher\",\n        \"-f\",\n        \"{connection_file}\"\n      ]\n    }\n  },\n  \"python2\": {\n    \"resource_dir\": \"/Users/kylek/Library/Jupyter/kernels/python2\",\n    \"spec\": {\n      \"language\": \"python\",\n      \"display_name\": \"Python 2\",\n      \"env\": {},\n      \"argv\": [\n        \"/usr/local/opt/python/bin/python2.7\",\n        \"-m\",\n        \"ipykernel_launcher\",\n        \"-f\",\n        \"{connection_file}\"\n      ]\n    }\n  }\n}. Yeah, I think we can close it. Solution is to fully upgrade ipython and reinstall the kernelspec.. OMG I didn't know about the [skip ci] commit message handling. \ud83d\ude2e . I get the same error. For non-R developers, you can install ggplot2 with a fresh R kernel using:\ninstall.packages(\"ggplot2\"). Side note -- this does work in the nteract desktop app:\n\n. I expanded those messages and this is just plain weird.\n\nThe data field on the content for the display_data message is an empty object.\n. The expected payload from ggplot / irkernel is { \"text/plain\": \"plot without title\", \"image/png\": bigOldBase64Blob}.\nOh wait, now I see it.\njson\n    {\n      \"cell_type\": \"code\",\n      \"source\": [\n        \"qplot(1:3, 2:4)\"\n      ],\n      \"outputs\": [\n        {\n          \"output_type\": \"display_data\",\n          \"data\": {}, // Look it's empty!\n          \"metadata\": {}\n        },\n        {\n          \"output_type\": \"display_data\",\n          \"data\": {\n            \"text/plain\": [\n              \"plot without title\"\n            ],\n            \"image/png\": [. Whoa! Thanks for the contribution. It's also good to know that comes from linter. This whole time I thought I was getting that from Nuclide.. I'll have to start using this to find out. If we went ahead and merged it, we could find out if users like it (or if we get a lot of support tickets) and we can always go back to what we had before.. This PR has sat long enough that I think it's time to acknowledge that there isn't traction for bringing this in. I'm super appreciative that you took the time to make this PR @cbarrick and I hope to see more contributions from you. I'm going to go ahead and close this PR. If people want to revisit it, feel free to open it again or continue on discussion.. Reinstall on the command line with apm install hydrogen, that should clear it up.. Makes me wonder if our interface could be simplified by having a null transform. It would accept props but return a null react element. \ud83e\udd14. That definitely sounds like a bad zeromq installation which was resolved by installing the anaconda binary install. Thanks for providing the error and your workaround.. One cool thing about using flow (and making sure to increase flow coverage) is that you'll be alerted to when you use variables that can potentially be undefined. I've been going with less eslint rules and making the flow use more strict over time. Just food for thought.. This is as good a place as any. There's interest in it within jupyter generally, I don't know what atom's plans are.\n/cc @smashwilson :wink: maybe we should chat soon? \u00af\\_(\u30c4)_/\u00af. Originally @DinoV was working on this over in https://github.com/jupyter/debugger. I'd certainly love to see it advancing, but it likely requires a couple full time engineers doing it as a focused effort and right now no one is working on it.. It passes! Ready to :ship:?. We should probably write a v4 to v5 message spec converter like is done in the Jupyter clients, and make it part of the nteract monorepo. The display area is merely a notebook format style data in, display out -- no messages are supposed to go to it.. > Good idea! Is there an implementation from jupyter we could use as a reference for such a converter?\nThe adaptation is done in Python here: https://github.com/jupyter/jupyter_client/blob/fd05171a94bd6431df0b48f280f9027934b58d98/jupyter_client/adapter.py\nHowever, there's a bit of code for handling the adapted messages on the frontend:\n\n\nhttps://github.com/jupyter/notebook/blob/666ecbf35c3310335a3c8c182e8f53441c991c14/notebook/static/notebook/js/completer.js#L180-L190\n\n\nhttps://github.com/jupyter/notebook/blob/6cebd3ef666d8ab6a491343e91063adc96ff828f/notebook/static/notebook/js/outputarea.js#L933-L942\n\n\n. > Side note: For Hydrogen (because we use MobX) it would be cool to remove the usage immutable in @nteract/display-area and @nteract/transforms. This would also enable us to better type the packages.\nA+ for me. Away we go!. \ud83d\ude28 . Whoa this is pretty sweet.. Gotta love that DOM diffing. \ud83d\ude04 . Another cool thing we have is that we can automatically build a notebook in the background too, using all the execute_input messages for source and all the outputs. Getting the current view as a notebook would be cool too.. Yeah I wish R support was just part of Atom.. AVG has been pretty notorious for not liking the local network connections with zeromq for the kernels -- this affects jupyter notebook too. My only suggestions are to try a different antivirus or reach out to AVG.. I don't have any suggestions other than you trying to ask for an exemption through your corporate IT policy for this application.\nI think you'll have to add exceptions to the directories for the kernels too C:\\Python34 etc.. Working on getting those shipped pronto, thanks for helping get things up to date @lgeiger. \ud83d\ude04 . > What about disabling the linkification until we find a faster way?\nI completely agree.. Now that the patch release is out, are #818 and #819 good to bring in?. Will need to rebase now that #818 has been merged.. :boom:. \"Love the sidecar. Keeps things tidy.\" - @ivanov . Does it also bust the cache if you upgrade a package?. IPython master now has this and we've merged it for nteract desktop to start iterating on. What do you think about bringing this in @lgeiger?. Sometimes doing stuff with greenkeeper and the GitHub UI is good, sometimes it is not. \n\u00af\\_(\u30c4)_/\u00af. We'll want our default settings in nteract for spawnteract to be stdio: ['ignore', 'pipe', 'pipe']. Example:\nrequire('spawnteract').launch(name, { detached: true, stdio: ['ignore', 'pipe', 'pipe'] })\nThe first ignore ignores stdin on the kernel process (should always be ignored). The other two are stdout and stderr respectively, which I know we log to the notification area. It makes for a significant increase in user experience when using Spark in Hydrogen because I get the side outputs. \ud83d\ude04 . I can't quite recall but I think detached: true shouldn't be set on Windows machines, only Linux.. > I removed detached: true for now to keep it the same as it was before.\nI think we'll just have to case it off for *nix systems.. I love merging things.. > That said, maybe we should rethink the way we currently restart our ZMQ kernels. Right now we basically destroy the old one and start a fresh kernel. I think for the kernel process we still need to do this, but we probably don't need to dispose the whole kernel class (which causes the panel to hide).\nYeah, we could even keep the same connection file and ports (assuming the other kernel hasn't run away). ZeroMQ will automatically reconnect.. I'd be inclined to keep it if it's only a restart, making the output clearing a separate thing. Restart and clear all could be a separate action.. /cc @williamstein. Oh good, that's where I would hope decorators go.. Wow, sweet. I'm glad that worked so well.. This is super sweet, I'll probably use this with my READMEs too. \ud83d\ude04 . I'm currently in an Rx workshop and this feature has been a life saver. \ud83d\ude04 . Is there a precedent for this with the jupyter notebook?. PyCharm is funded, Hydrogen is not. We operate on contributions to the code for changes. As for why not it's because no one has done it, including yourself @kkonevets.. Ok this is definitely seeming like doing the restart with the old connection file is a really bad idea since we aren't capturing the full lifecycle of closing down the old kernel (and it appears to still be responding with the old signature).. Thank you, smart choice!. Works for me, certainly better than the current null. We can iterate.. Thanks!. /cc @Carreau . I like (3) best.. Cool!. :cool:. > we should revert to slow-but-reliable behavior worked in previous version\nThat sounds good to me.. :smile:. On a side / separate note -- I now use yapf on my Python code which obviates the need (for me) for Hydrogen to fix the indentation of my Python (part of what this PR is about).\nOn to this PR and status -- would you want to continue this on and/or keep it open @nikitakit?. I'd like to have a way to override these for the sake of nteract as well, similar to how it's done in iTerm2. We currently just interpret ANSI codes as is for ansi-to-react.. I'd certainly be in favor of having class name support for ansi-to-react.. Seems like a good idea, you're free to leave it open even if no one currently has cycles to work on it.. > However, I have not figured out a workflow to make if/elif/else statements run within Hydrogen.\nI select all the text I want to run and hit cmd-enter (hydrogen: run command).. Time for me to take the web editor for a spin to handle conflicts followed by me likely going \"well that didn't go well.\". ...and as always, I fix it up, go through the UI and then end up with a rebase that has to be done from the CLI. \u00af\\_(\u30c4)_/\u00af. You need to install the language package for R https://atom.io/packages/language-r (the icons shown come from a different package).. Still WIP or good to go?. Yeah, it's better than nothing for now. We can always improve it later. This leaves room for the next person to come along and make it better. :smile:. Remove it after the next release? There's a warning message at the moment right?. Thanks for reporting.\nOn the implementation side, the jupyter message for this is on execute_reply. When status is ok, it can have a payload field (Note that payloads are denoted as deprecated, though people want to keep using them). The payload is an Array<Object> where the payload object for this is:\njs\n{\n  \"source\": \"set_next_input\",\n  // text to insert\n  \"text\": \"some cell content\",\n  // If true, replace the current cell in document UIs instead of inserting\n  // a cell. Ignored in console UIs.\n  \"replace\": bool,\n}. You need to run each separately for separate output or use print. f(2) is an expression which means that in an interpreter you're only going to see the last expression here.\nCan you take a screenshot or otherwise of what you're talking about with regards to jupyter displaying all results line by line?. Oh derp, now I understand. 4 and 9 are getting concatenated.. Thanks for reporting. Seems we need to parse what the last statement or expression is rather than running the last line.\nFor now at least it looks like you'll have to select the entire block of code you want to execute. . I think that Altair is going to release soon with the custom mimetypes, which simplifies our examples here. I'm stoked!. Nice! I've just updated mine. \ud83d\ude04 . I'm going to assume this is good to go, since it does fix some current issues if you have more than one kernel with the same name between system and user.. This is my fault after disabling most of greenkeeper except for this repo. Apparently that made it start over from scratch. :-/. /cc @Carreau for xonsh ref. At the very least we could use a summary and details tag for errors in nteract for now. I just wish we had the structured data @carreau mentions.. I just merged in a PR that changed formatting, you'll need to rebase (and likely make sure to upgrade dependencies).. Still WIP, or good to go?. I know that feeling!. I'll ship a release of the nteract packages so you can carry on with this PR. \ud83d\ude04 . :ship: ed!. Oh man, this means that Hydrogen will have the new VDOM support before nteract desktop!. I... put it into @nteract/transforms as a default transform since React is effectively built in.. We definitely want this across every time we iterate across an array for React (at least with React 15.x). If there are other spots that use similar logic, we should go after those as well.. > Only drawback of this approach is that we are using pixelPositionForBufferPosition now. Atom states that calling this may cause a synchronous DOM update:\nGuess this depends on how much onDidChange is called for the result view. It seems like since this is usually a user initiated action where the user wants to see visual feedback, it's probably fine.. Love it!. :shipit: . Is this for the nteract desktop app or hydrogen the atom plugin?. The browser style zoom-in/zoom-out is available (on mac it's \u2318++, \u2318+-) for basic needs. There isn't configurable zoom that will persist across sessions though.\nFeel free to open an issue on nteract/nteract for this feature request. If you've got a common pattern that you like for this UX, please detail it. At least for us, it could be as simple as us tracking the last zoom level in our config.. The watch expressions will give you instantaneous feedback for every time you run anything in the editor.. Will this affect all descendant divs?\nCan you run\npython\nfrom IPython.display import HTML\nHTML(\"\"\"\n  <div><div><div><div><p>hey</p></div></div></div></div>\n\"\"\")\nHTML(\"\"\"\n  <div><div><div><div><p>yeah</p></div></div></div></div>\n\"\"\"). That works!. It's passing so I'm merging it. \ud83d\ude04 . Is bundles an npm package or is it a local package? If it's local, you'll need to import from ./bundles. I think this is so libraries that try to use requirejs end up using this instead of producing a JS error (since the classic notebook uses it).. Should we go ahead and bring this in?. I'll get our other components up to date with React 16 and we'll hit the ground running. \ud83d\ude04 . It looks like all the feedback was addressed, we now need a rebase and then it's time to bring it in.. > Remove support for old python installations, relying on deprecated ipython kernel directories. Come on it's 2017 \nDefinitely a fan there.. I am a tad worried about the PATH not being fully configured well. A lot of people have their python3 kernel installed as:\n{\n \"argv\": [\n  \"python\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\nWhich, at least on the mac, ends up being their default Python 2 environment (which tends to have no ipython installed). They then report that \"Python 3\" is running \"Python 2\", \"for some reason\". I guess I should say I'm in favor of merging this since it means we'll do more reliance on and fixing of jupyter-paths + kernelspecs. jupyter-paths even has a flag to use jupyter underneath if necessary to get the right paths.\nJust let me know if you want me to move jupyter-paths and kernelspecs back in the monorepo at any point -- I figured out how to do it sometime ago then didn't revisit it because it was no longer a priority.. > Though it might be difficult to get the unit test working properly.\nYou'd know the best there. \ud83d\ude09 . > If I recall correctly the unit tests of kernelspecs are actually a integration test.\nThat is correct.. > > I am a tad worried about the PATH not being fully configured well.\n\nDo you think this change will cause a lot of trouble for people?\n\nI'm primarily worried about Anaconda users that want their root install working well. I'm sure that we'll be able to fix it up / dig into where we need to find that root install though.. Merging, let's see how this goes.. Since you do some checking of versions here, I think this is fine to go out since it straddles the old API.. :shipit: . Alright, it's back up!. We should really switch our Plotly mimetype to the way we do it in commuter:\nhttps://github.com/nteract/commuter/blob/master/packages/frontend/transforms/PlotlyTransform.js\nPlotly has to be a global, though we could make it a factory that takes the Plotly lib as a param.. Webpack doesn't currently dedupe the Plotly setup does it?. :soon: we'll have this upgraded in the nteract monorepo and we'll be able to upgrade Hydrogen too \ud83d\ude04 . The way I was thinking of using this feature was that every time code was run we'd add it to the notebook \"log\" and every time an output came in we'd do the same. If the kernel gets restarted, then we clear the notebook out.\nJust some initial thinking though, I don't know what the \"right\" approach is. . Downgrading is fine.. The python used needs to match the version for native modules. If I had to guess I'd say that you're adding the path for a different binary python.. This is looking like something is corrupt in the python installation, or that the kernel being used is using mismatching binaries (for numpy, matplotlib, etc.). That intel library is the Math Kernel Library. From Hydrogen and also in a separate jupyter console, run this for me and see if the paths, prefix, and executable make sense:\npython\nimport sys\ndisplay({ 'prefix': sys.prefix, 'path': sys.path, 'executable': sys.executable }). I think setting the magic python one by default is good, especially if they can still override it (if they need 2, 3, or a special env). Sure seems possible, folium does have a geojson export function IIRC.. Classic.. 139:             this.el = ref.el;\n                           ^^^^^^ property `el` of unknown type. This type is incompatible with\n139:             this.el = ref.el;\n                 ^^^^^^^ HTMLElement\nError: lib/components/result-view/result-view.js:142\n142:               ? this.addCopyTooltip(ref.el, this.containerTooltip)\n                                             ^^ property `el`. Property not found in\n142:               ? this.addCopyTooltip(ref.el, this.containerTooltip)\n                                         ^^^ Display\nError: lib/components/result-view/result-view.js:149\n                   v-------------------------------------------------------\n149:               ref.el.addEventListener(\"wheel\", this.onWheel(ref.el), {\n150:                 passive: true\n151:               });\n                   -^ call of method `addEventListener`. Method cannot be called on\n149:               ref.el.addEventListener(\"wheel\", this.onWheel(ref.el), {\n                   ^^^^^^ property `el` of unknown type\nError: lib/components/result-view/result-view.js:149\n149:               ref.el.addEventListener(\"wheel\", this.onWheel(ref.el), {\n                                                                 ^^^^^^ property `el` of unknown type. This type is incompatible with the expected param type of\n 84:   onWheel = (element: HTMLElement) => {\n                           ^^^^^^^^^^^ HTMLElement. Awwww crap... this was apparently being used. I tore it out because I thought it was an unused ref here: \nhttps://github.com/nteract/nteract/compare/v0.3.4...master#diff-18101218c69e76417e2700e65048013aL40\nLooks like I'll be making a patch release :soon:.. What was the purpose here for before? Is this something we should try to expose from the component somehow?. I'm happy to introduce it back in for now and make a patch release. I'll leave a note in the code as well and we can tear it out. Looks like I'll need to study the usage, I'm not used to working with wheel and scroll events.. > This line is mostly there to ensure a white background for SVG plots rendered with matplotlib or similar but unfortunately breaks plotly 3D plots.\nPersonally I'd be OK with removing this line at the cost of not having a white background for matplotlib SVG plots.\nDo matplotlib SVG plots come back as raw SVG? If so, I'd put a className on that transform (assuming no way to detect it's matplotlib) and then style it.. Do you want to just merge with the flow failure or introduce $FlowFixMe. I'll also take a gander here.. You can fix the flow error by switching from import React from \"react\" to import * as React from \"react\", in all cases. The default export no longer exists in the same capacity.. beta channel is failing, is that ok for the time being?. Whoa, I wonder if that's what's been slowing down the infra.\nI'll go ahead and merge this. Thanks @lgeiger . Onto greater things -- we can now actually stay up to date with flow and ship on the regular, syncing with all the other upstream projects. \ud83d\ude04 . While I haven't been part of the long ongoing review of this PR, I would like to say that I'm a fan of the name middleware, especially with the use of next(), since this is a common pattern in the node ecosystem, particularly express. The only big requirement I'd see is that we define the terms within our own internal developer documentation for Hydrogen. We can always change names later if they're too confusing. That shouldn't be what holds this PR up.. > (Someone else will need to merge this PR since I'm not part of the nteract org)\nYou're always welcome back with 2FA. In the meantime, I'll continue mentally thinking of you as in the org. \ud83d\ude04 . Looks like we will probably have to address some flow things: https://github.com/facebook/flow/blob/master/Changelog.md. Hey it's looking good!. I'd use https://github.com/jupyter-scala/jupyter-scala. Tips I need -- what top level element(s) should I register this mathjax context on? It basically needs to be above any element that would render outputs (Markdown or LaTeX).. This will need to be upgraded in tandem with #1213, #1214 and use the new way I allowed <MathJax.Context /> to override how it \"loads\" MathJax in https://github.com/nteract/nteract/pull/2480\n```js\nimport { loadMathJax } from \"mathjax-electron\"\n...\n loadMathJax(document, onLoad)}\n\n{someHydrogenElementThatUsesDisplay}\n\n``. That's fine. The MathJax context component can use a global version of MathJax that's already loaded -- all it does it make MathJax available on the context api to other components.. This will need to be upgraded in tandem with #1214 and use the new way I configured up` in https://github.com/nteract/nteract/pull/2480\n\n```js\nimport { loadMathJax } from \"mathjax-electron\"\n...\n loadMathJax(document, onLoad)}\n\n{someHydrogenElementThatUsesDisplay}\n\n``. This will need to be upgraded in tandem with #1213 and use the new way I configured up` in https://github.com/nteract/nteract/pull/2480\n\n```js\nimport { loadMathJax } from \"mathjax-electron\"\n...\n loadMathJax(document, onLoad)}\n\n{someHydrogenElementThatUsesDisplay}\n\n```. Wow you're 20 days late greenkeeper. \ud83d\udc0c . Seems like a fine workaround for now.. Thanks!. Would you be able to ship this @lgeiger? Last time I made a bit of a mess as I was out of practice with Atom package publishing.. Thank you so much!. Try out hydrogen-launcher!\n\n. Our dream-team didn't have access to Hydrogen. \ud83d\ude05  That was my fault. Looks like all is set. Welcome and thanks @kylebarron!. Yo greenkeeper you should rebase. Docs are awesome! \u2764\ufe0f\ud83d\udcd1. Great! Did you also pick up the latest changes to the data explorer? When I shipped all the packages I did push out a new transform dataresource.. That makes way more sense!. :tada: \ud83d\udc7e . Since #1410 fixes things up, I went ahead and merged this. I'm also going to put out a patch release for all our packages that includes the babel core dep explicitly.. Where does this happen @kiwi0fruit? Can you show the behavior? This doesn't sound right.. Does Hydrogen use shell-env underneath? I imagine we put some things in to inherit the user's shell so we can detect the right python etc. environment.. Done.\n. This is your own opinion on style here, but I'd make wrapper functions here that call an underlying _execute with the requestID, solely so execute is about the the code:\n``` CoffeeScript\n_execute: (code, requestId, onResults) ->\n   ...\nexecute: (code, onResults) ->\n  requestId = \"execute_\" + uuid.v4()\n  _execute(code, requestId, onResults)\nexecuteWatch: (code, onResults) ->\n  requestId = \"watch_\" + uuid.v4()\n  _execute(code, requestId, onResults)\n```\n. A+\n. My main issue with this is that it flies in the face of the JavaScript kernel I'm currently using, ijavascript. It would be nice to unify the JS/Node kernels, otherwise we're going to have this special matrix of handlers for Hydrogen.\nThen again, if there's a way we can tell which kernel is setup, we can defer to the right one.\n. There's now a --json flag which was created because of this use case in Atom, node, and Electron. I'd like to see this get addressed in https://github.com/nteract/jupyter-paths and just rely on it there (more than one package needs this functionality).\n. Yeah we need tooling for upgrading from old specs to new specs, though I think it can be a follow on PR after.\n. Oooh, somehow I didn't know about these.\n. If you want to handle all the data types, check out https://github.com/nteract/transformime. \n. On a side note, transformime currently has to get all the transforms bundled for a full Jupyter setup: https://github.com/jupyter/jupyter-js-notebook/blob/476fbf8233d2fa87ee0495f769a949eb2a271b67/src/output-area/widget.ts#L121-L136\n. Much simpler here.\n. I like the verbosity of this function name, makes more sense.\n. :+1:\n. Thank you\n. Solid demo images here!\n. Wise!\n. Do these get removed because of how we end up using transformime within Hydrogen, rather than relying on a transform based on the full bundle?\n. I'm fine with it because it has a close parallel to the notebook cells. No real suggestions from me here.\n. One package in nteract is using jupyter-js-services as a prototype for using nteract UIs on top of Jupyter notebook backends. I can't comment much on jupyter-js-services as I haven't been using it. @jdfreder may know better.\n. Quite a bit of simplifying, which is awesome\n. This still installs all the dependencies too when you override install?\n. You can really apply the .trim() after the ? operator in coffeescript? Crazy.\n. Wowsers.\n. https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb-base\n. Does this get called without a bound this then?\nYou could also do:\njs\natom.commands.add(this.element, { 'core:confirm': this.confirm.bind(this) });\nDepending on what this context you want.\n. Note: in person we looked at this and were a bit puzzled by the fact that this was also bound above. We'll likely want to refactor this later.\n. Is there a default transform that uses commonmark in transformime then?. Gosh this looks familiar. @peggyrayzis ripped it out recently in favor of using the default scroll. :smile:. Do you mean to leave this console log?. Took me a sec to realize CMD enter was still available here. Sinnnce you want feedback, I'd take out the parentheses.\n. Since this isn't a class and is invoked as a function, use a leading lowercase like robustGrammar. In fact, I would probably call it getRobustGrammar or getCurrentGrammar.. Do we have to do any migration work since the type has changed here?. You sneaky.. Now I see. :smile:. Classic message spec before v5. \ud83d\ude09 . Does it say which lines are offenders?. Silly diff.. Is editor not used?. Certainly not in this file it appears.. Should we go ahead and get this reducer exported?\nWe could start exporting the reducers as individual functions if that seems easy enough to work with outside of nteract desktop.. Since we're in the midst of this -- this is exactly the segment I wanted to handle carriage returns and other terminal movement commands in -- then it's only done once and not on every render.. I so wish we didn't have to do this since we're using our packaged Plotly, alas it will warn otherwise.. /cc @theengineear :wink:. const OutputArea. OutputArea. You should probably make this link to just one issue where users can click to \ud83d\udc4d  or \ud83d\udc4e . Now that it clicks for me this should be a <p> tag or a standalone <div>.. Ah yes, right at my fingertips. Luckily with the command palette you only have to type some subset of that.. I lean towards restart-kernel-and-re-evaluate-bubbles. Restart is currently the only language agnostic way we have of cleanly evaluating code.. Is it ok this behavior has changed?. Ah right, comes out of store.grammar now. Consistency!. kernel isn't defined here so this fails tests. It should come from the store like below.. I can't wait for ipyvega to output the proper mimebundle for this.. Nice!. Should probably document the callback signature, stating that it returns a kernel object.. Seems ok to me, I'm certainly no expert there. If someone can fix it later, it'll be available to address. This definitely gives good guidance.\nWow, apparently markdox has never supported documenting callbacks well. https://github.com/cbou/markdox/issues/1. I think it's ok to not worry about perfecting this part, just seemed like a good opportunity to add in a bit more info in the docs.. > Did you consider using the editor id? This would handle filename changes as well.\nAs long as we also show the name of the file when it is named, so user's know which are which. I hate looking at a pile of UUIDs.. ...is an interactive.... I'd probably say \"...and kernels for the languages you intend...\". Were you intending to put more after the requires here?. Oh yeah, you probably want the language-r bits.. Is there follow up that needs to be done here?. This makes me realize I was being a bit cute when I made the emptyCodeCell API. \"Well, since it's immutable, we can just export the base object\". This makes me think a wrapper function would look more clean in commutable, especially if it took the initial source, etc., similar to the nbformat API.. This is a perfectly constructed way to use it. I'm mostly thinking about if commutable should have more functions for this including createCodeCelll being exported.. Oh I see, thanks.. \ud83d\udc4d . I think that's fine for now, we can ship patches if/when it changes. Luckily with updates once it breaks we can address the new usage and people get the fixes quick.. With the latest version of the display area you no longer have to declare models or theme.. \ud83c\udd92 . Ohhhhhh. The reason for this formatting here is for the little language switcher in https://nteract.gitbooks.io/hydrogen/docs/Usage/Examples.html, so I'm not sure if this will affect the rendering in the gitbook.. \ud83d\ude2c . ",
    "willwhitney": "Thanks! I really appreciate the support.\nThis is tested against the release builds of everything, not the upcoming Big Split versions. Like you, I'm waiting for the dust to settle a little before making those changes :) Hydrogen will need to keep supporting the pre-Split versions for a while, but it would be great to get a branch going to get ready for it.\nWidgets are going to be great \u2014\u00a0I haven't looked into implementation for them at all yet.\nio.js is getting merged back into node, so that may make things easier.\nTotally on board with the idea of a shared codebase with jmp \u2014\u00a0I'll look into switching over to it. It would be great to have other people helping cover all the weird edge cases and faulty implementations of various kernels.\n. Awesome! Thanks for the report.\nOn Mon, May 18, 2015 at 1:11 PM Kyle Kelley notifications@github.com\nwrote:\n\nOops! I should have reported back that it now works beautifully after\ngetting everything setup with current master. Hydrogen does work with\nIPython 3.1.x and the future release (at the moment).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/1#issuecomment-103137244.\n. This is already acting as an autocomplete+ provider, and does not exclude the suggestions from other providers.\n. Hmm, it's weird that it placed that bubble there. It should have been placed at the end of the selected area (by .plot()) and been much wider. Not sure why this is getting cut off.\n\nI found that limiting the size of the bubbles was necessary to keep large images/videos/stacktraces from filling the entire screen \u2014\u00a0any clever ideas about a better solution?\n. Yeah, I've been playing around with designs for throwing the output into a\nseparate pane (maybe more like a normal REPL pane, maybe something else)\nbut I haven't landed on anything I really like yet.\nI will be adding support for opening multiline results in a new Editor\npane, but that doesn't improve images. Maybe with some fiddling the UI for\nimages will be good enough as-is.\nOn Mon, May 18, 2015 at 1:13 PM Kyle Kelley notifications@github.com\nwrote:\n\nThe way I was going to lay it out was with a separate pane or tab that can\nbe moved around (the way Atom script was initially created). It would be\nnice to be able to dock it. One flow that I've considered is a swipable\ncollection of outputs though I really like the output next to run line\nUI.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/3#issuecomment-103137925.\n. I don't think this particular bug is happening any more, so I'll close the issue.\n\nStill thinking about ways to build a good two-pane experience though.\n. Ah, I see what's going on. The kernel is sending two separate messages, an execute_result and a display_data.  Showing both of them is OK (actually necessary; hard to determine which results to ignore, and doing it wrong is deadly). The issue is that the image was being displayed inline instead of block, so it got pushed . Fix coming.\n. Closed by 6592b3b6bd00ee134d968f18d15e7c48ce8f9bd6\n. Looks great \u2014\u00a0I hadn't noticed. Thanks!\n. I think this is happening because either 1. Atom doesn't know what language the file you're editing is in, or 2. the kernels you're using don't declare their language.\nDoes the language show up in the status bar of Atom, like this?\n\nIf it does, would you mind updating to the version I just released, then popping open the dev tools and telling me what it says next to \"Available kernels\" when you try to run something?\n. @spencerlyon2 I think the issue is that the R kernel isn't giving me a language field. Just pushed a patch \u2014\u00a0please update and give it a shot, and let me know if it's still broken!\n. Whoops, forgot to make the other two lines of that change. Update and try it again?\nI'm now using the display_name if the kernelspec doesn't declare a language.\n. Which of these directories contains the kernelspecs? ~/.jupyter?\n. Gosh, that's ugly. I'd sure love a script that dumps JSON of all the kernels' info.\n. Especially if that script worked across IPython and Jupyter.\n. What I mean is that I'd like this to still work for people who haven't\nupdated to a post-Split version. I find most people don't update until\nsomething completely stops working.\nThanks!\nOn Tue, May 19, 2015 at 4:51 PM Kyle Kelley notifications@github.com\nwrote:\n\nAs the migration happens, IPython will just be one of the kernels for\nJupyter. It's all the same team.\nWhen I get some free time after work, I'll start poking at what scripts\ncould be useful for Hydrogen and Jupyter sidecar to call out to Jupyter for\naccurate information.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/7#issuecomment-103664451.\n. Awesome!\n\nFor the moment I'm loading all kernels found in that list plus ~/.ipython/kernels and ~/.jupyter/kernels. Not a good answer, but it ought to tide us over for now. That's in the latest release.\n. That's a really good point. @rgbkrk, know if there's a way to do that consistently across kernels? It's not in the messaging spec.\n. Ah, you're right. I can set a working directory for the child process. Closed by 23446f7a641df0ce4aca21bee36a0a3305def6df.\n. R is now working with Hydrogen! Update to master of IRkernel and things should work fine.\n. Just installed juypter-nodejs and gave it a try, and it seems to work OK for me.\n\nTwo things:\n1. Does which node in the terminal return the right path to node?\n2. Do other kernels (e.g. Python) work?\n. OK, cool. Let me know if you run into any other problems.\n. Whoa, it should already. Not sure why you're getting this. Let me check\ninto it.\nOn Wed, May 20, 2015 at 8:15 PM Ethan Sherbondy notifications@github.com\nwrote:\n\nHey pal, when python spews out a really long string, sometimes the output\npopup exceeds the window width. Can dismiss with clear-results, but maybe\nthe popup should have a maximum width?\n[image: screenshot 2015-05-20 18 12 12]\nhttps://cloud.githubusercontent.com/assets/193187/7739332/3f63b6cc-ff1c-11e4-958d-8903d8cffb70.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/11.\n. Yup, just found it. Changing and pushing.\n\nOn Wed, May 20, 2015 at 8:19 PM Ethan Sherbondy notifications@github.com\nwrote:\n\n.bubble-result-container {\n    position: relative;\n    max-width: 500px;\n    max-height: 500px;\n    overflow: hidden;\n}\nshould be moved to .bubble-output-container mebbe?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/11#issuecomment-104077646\n.\n. @fonnesbeck It will still run Python 3, it's only the installer for node-gyp that needs Python 2.\n. Awesome, glad you're up and running now.\n\n@rgbkrk I'm starting to really wish for a Javascript ZMQ implementation \u2014\u00a0gyp seems to be causing a lot of problems.\n. Nice!\nOn Sun, May 24, 2015, 7:57 PM Kyle Kelley notifications@github.com wrote:\n\nWith new versions of node-gyp, they'll now also check for python2. Hurrah!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/12#issuecomment-105080303\n.\n. @speg This is a different problem \u2014 run brew install pkg-config first. It says to in the readme, but I should make it more prominent.\n. @bilderbuchi Seems like node's zmq package isn't working properly on Windows. I'll look into why.\n. Looks like it's node-gyp that's the root cause.\n\n@bilderbuchi (or anyone else with a Windows machine): would you be willing to spend a few minutes on a pull request to get the kinks worked out with Windows? It would be very helpful!\n. Unfortunately there are a few things that will break on Windows.\nThe path that I store kernel config files in uses a Unix slash, plus instead of shelling out that should be using fs.mkdirSync.\nI think that changing the line to fileStoragePath: path.join(__dirname, '..', 'kernel-configs') should work in Windows, then instead of execSync on the line it should be fs.mkdirSync(@fileStoragePath).\n. @jzthree Just made those changes to config-manager.coffee and pushed to master, so you can pull them or copy-paste them to see if that helps.\n. @jzthree You're amazing! Thanks for the help!\n. @bilderbuchi right, sorry. Since it looks like the issue is with node-gyp, try following their install instructions. It looks like they have some extra dependencies on Windows. You will also need to use Python 2.x for sure \u2014\u00a0the underlying gyp tool doesn't support 3.x (which is ridiculous, and I would love a way to replace the current zmq module to fix all this).\nIf that works for you, I'll add some info to the install instructions for Windows.\n. Glad you've got it running :)\nSorry installation on Windows is such a drag. Something really needs to replace node-gyp as the build tool of choice for Node.\n. @rgbkrk how did you get this working?\n. Yup, figured it out. I thought you had gotten Hydrogen running on it.\n. Whoa, way to go! I'll merge that immediately.\n. Oof, I'm sorry. Our current state of affairs regarding ZMQ really sucks.\nWe're working on ways around this, including a bundled Go binary that intermediates between talking ZMQ to the kernel and websockets to the client. That would allow Hydrogen to be pure JS.\nHere's the project: https://github.com/rgbkrk/juno \nIf you know any Go, contributions would be welcomed!\n. Good call, thanks!\n. Just tracked it down \u2014\u00a0the IJavascript kernel has an issue with parsing messages when HMAC signing is turned off. Getting a pull request on that kernel ready now.\n. I've got a PR open with them at https://github.com/n-riesco/ijavascript/pull/29\n. This PR has been merged! Update to the latest version and you should be good to go.\n. Nope, he's got it covered with the mapping he specifies. The bash kernel\ndoesn't put its kernelspec in the normal location, so I'm trying to figure\nout where it is.\nOn Thu, May 21, 2015 at 7:07 PM Kyle Kelley notifications@github.com\nwrote:\n\nLooks like atom detects bash as shell script, which is not how the kernel\nis named.\nI think in cases like these the kernel should be selectable, but for some\nwe should have a mapping structure lang->kernel_name.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/17#issuecomment-104445715\n.\n. @fcrespo82 What platform are you on?\n. This is working for me on the same OS \u2014 does the Bash kernel work for you in ipython notebook, and can you check in these directories to see if there's a bash/kernel.json in any of them?\n\n/usr/share/jupyter/kernels\n/usr/local/share/jupyter/kernels\n~/.ipython/kernels\n. Mine looks exactly the same, and I've just copy-pasted your mapping into my settings and it works fine.\nCan you pop open the dev tools (View -> Developer -> Toggle developer tools) and then try running some Bash again? It should log out \"Available kernels:\" and then a list of kernels that it's found.\nAlso try running JSON.parse(atom.config.get('hydrogen.languageMappings')) in the developer console and see that it gets the language mapping properly.\n. Awesome, thanks for your debugging help. I had it installed via symlink (with a lowercase name) to my working directory, so I didn't see this.\nShould be fixed now!\n. Awesome! Thanks for the help debugging!\n. As long as you've got ZeroMQ and pkg-config, it shouldn't matter where they came from. Homebrew is currently serving up pkg-config@0.28 and zmq@4.0.5.\n. Does running pkg-config --version in the terminal give you 0.28?\n. Shit, sorry, I just realized I missed half of your previous comment. That's pretty mysterious to me.\nIf your main interest is just getting this running, I have to recommend Homebrew. It's what most people are using and it seems to work fine. If you're interested in getting this working with MacPorts, I'd love the help. Having to build zmq using node-gyp seems to be the source of 80% of the problems people have with installing.\n. @jzthree +1 \u2014\u00a0just ran into someone who had this issue while trying to update the package.\n. This looks good, and it runs great for me! Have you been able to test it on Windows?\n. Given that our Windows support is already weak at best, I'll just ship it and see how it goes.\n. @jzthree Just published this live. I know you've got Hydrogen running on Windows, so please let me know if this broke anything for you!\n. @jzthree Just pushed an update that replaces execSync calls with spawnSync, which seems to not cause this \"bad file descriptor, write\" error in my tests. Mind running it when you get a chance?\n. Closed by https://github.com/willwhitney/hydrogen/pull/31.\n. This is a fine place to ask!\nHydrogen doesn't start a kernel until you run something, so if you haven't done a \"Hydrogen:run\" command yet, the kernel won't show up.\nOtherwise, did you start Atom from the command line? If not, it can't see your $PATH.\nLet me know if neither of those solves it and we'll try to figure out the problem.\n. @acpcalin I log a bunch of stuff out to the console to help debug this sort of thing \u2014\u00a0mind updating to the latest version, then opening the dev console (View -> Developer -> Toggle Developer Tools) and trying to run something? It should spit out launching kernel: followed by the command and arguments it's using to try to start the kernel, along with any errors.\n. If you leave it waiting for a response, then run that command in your terminal (ipython kernel --no-secure --hb=47608 --control=50748 --shell=35255 --stdin=41349 --iopub=46541 --colors=NoColor) then it should resolve the result, yes?\nDoes process.env.PATH looks right in the Atom console? It could be that Atom is somehow failing to get the PATH properly.\n. Ooh, that's probably the culprit. Investigating...\n. OK, cool. Now try running cp.spawnSync('ipython', ['--version']).stdout.toString() in the Atom console.\n. Whoops. Run cp = require('child_process') first, sorry about that.\n. OK, so it's definitely able to find your ipython install.\nTry running something with Hydrogen, then while it's failing to give you a result, flip over to the terminal and running ipython kernel --no-secure --hb=47608 --control=50748 --shell=35255 --stdin=41349 --iopub=46541 --colors=NoColor (and substitute for the ports that Hydrogen has printed in the \"launching kernel\" message if they're different).\n. Yup, that's bizarre. I'm glad it's working for you now!\nIs it possible that this was just a side effect of restarting Atom?\n. That's very weird. I wouldn't be surprised if it's an issue of the kernel\nfailing to get started rather than it not being found.\nI just published a version with a little more logging of what the kernel\nprocess is doing, so if it keeps being unreliable, you can check out the\nnew logs and maybe see what's happening.\nOn Sun, May 24, 2015 at 3:51 PM acpcalin notifications@github.com wrote:\n\nI just realized, sometimes Hydrogen finds the kernel, sometimes it\ndoesn't. Closing and opening Atom several times and trying to run Hydrogen\nafter each time is the solution. I don't know why, but I'm glad it works\nnow.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/21#issuecomment-105057153\n.\n. Oh my god, I just figured out what's going on. It's not that it can't find Python.\n\nIt's trying to write to an output pipe for all of Atom, which doesn't exist. Unless you start Atom with atom -w to make it not detach. Then it writes the output of, for example, python --version to the cmd you launched Atom from.\nTested on Windows 7 on my machine (running in VMware from my Boot Camp partition)\n. Seems to not be a problem when using spawn instead of exec: \n\n. Per conversation in #19, I think this is solved. Let me know if it's not and we'll reopen and look into it again.\n. Haha yeah, somebody on HN pointed it out. Changing it is on the to do list :)\nOn Sat, May 23, 2015, 9:11 AM Sten Muchow notifications@github.com wrote:\n\nFYI.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/23.\n. OK, five minutes in Sketch and now it's not exactly the same as Iconic. I guess it shouldn't have been surprising that someone had a logo like that already.\n\nClosed by 0de81518083b04a3cbdf75565fec7e0cb077aa18\n. This would be awesome. My dream development environment actually looks a lot like the Chrome Dev Tools mid-debugging, with watch expressions, lists of the values of all variables in scope, and value-on-hover for variables in your code.\nWatch expressions are a great first step towards that. I'd like to implement them in a language-agnostic way.\nWhat about a panel on the side of the editor that, after every chunk of code you send to the kernel, reruns all its watch expressions and shows the results? So the flow would be:\n1. Write a watch expression to rerun after every call (e.g. display(n))\n2. Send some code to the kernel (e.g. n = n**2)\n3. Kernel executes the code from 2. and sends back the result\n4. Watch panel sends its snippets to be run\n5. Kernel executes the watch expression and sends back the result\n6. Watch panel displays the new value of your expression\nIt's not quite as good as having all the old values there too, but it could be implemented with no knowledge of the particular language and no parsing of the code, and with little overhead.\nThen the interface would look something like this (potato quality) drawing. \n\nOr maybe a smaller panel that doesn't take up a whole vertical column. Or something. We can figure that part out.\n. Huh, I hadn't looked at that channel at all. Can we use it with updates to Hydrogen alone, or does it need kernels to play along?\n. Definitely useful for functions, plots, etc also. I would love having live plots of my data onscreen while I manipulate it.\nI expect a few hundred pixels wide is enough to use the plots to keep tabs on what's going on. You probably wouldn't want a larger plot always on-screen. When it's the thing you're actively looking at, you can run it in the main editor (or maybe resize the pane bigger).\nThis is now a priority, and probably the next significant feature that I work on.\n. Here's a preview:\n\nIt still needs some testing, but I expect to release this within the next couple of days.\n. This is now available for testing on the v0.4.0 branch: https://github.com/willwhitney/hydrogen/pull/60\nYou can install this branch by running apm dev hydrogen, cding into the folder Atom clones it to, and running git checkout v0.4.0.\nAnybody who tries this out, let me know what you think in a comment on the pull request!\n. @Carreau that's a really good thought. \nFor the moment I'm going to stick with this implementation despite it being a little dodgier and semantically incorrect. One of my biggest priorities is maintaining compatibility with as many kernels as possible, and lots of them implement only the \"critical path\" of executing code and skip the bells and whistles that are in the spec but not required to make the Jupyter notebook work. Definitely a change to make down the line though.\n. That would be great.\nI also cannot recommend strongly enough having some certification or automatic suite of tests for kernels. 75% of the kernels I've seen (from e.g. https://github.com/ipython/ipython/wiki/IPython-kernels-for-other-languages) are broken, incomplete, or not to spec in one respect or another, and many of them don't even work with the notebook frontend.\nHaving a certification or testing process which displays a warning to the user when they're on a dodgy kernel would encourage kernel devs to implement the spec more closely (and tell them where they're not). Right now it seems like \"works with the notebook\" is the de facto test suite, and all kinds of awful things get shipped as a result.\n. Frankly I think it will just take a lot of per-language effort to get this off the ground, but it's extremely worth it.\nI expect many kernel developers will need an extra push to run these tests and implement parts of the spec they aren't personally using. Something like a build status badge on the kernel's logo in the notebook (that all their users can see) might do the trick.\n. Design issues aside, this would be a strong step. Especially if there was a really clear separation between \"known good\" kernels and \"experimental\" ones.\n. Shipped!\n. Per my comment in #34, I think this is going to lead to bugs down the road and should be corrected in Atom instead.\n. IRkernel is working for me after a pull request (https://github.com/IRkernel/IRkernel/pull/139) I wrote for it \u2014\u00a0I'm definitely interested in making Hydrogen work properly with R. If you install IRkernel from master it should work. Let me know if that's not the case and I'll reopen this.\nAs a side note, we should really be doing a better job of showing error messages. It's sometimes hard to figure out whether messages coming from the kernel are significant or not (for example, the Julia kernel writes lots of warnings to stderr while installing packages), but we need to expose them somehow. Just opened #30 to address this.\n. This may be a Jupyter version issue?\nI don't know much about how IRkernel in particular works \u2014\u00a0you'll have more luck filing an issue over here: https://github.com/IRkernel/IRkernel\n. :heavy_check_mark: \n. Glad this resolved itself!\nI'm using the unicode check mark, and I should switch it to the octicon. Opened #33 to address this.\n. shipped!\n. I'm not comfortable shipping a solution this hacky \u2014\u00a0it feels like a bug waiting to happen. Thanks for spending the time figuring this out!\nI'll write this up as a bug against Atom. Doing this properly once seems like a clear win for the platform.\n. Couldn't find the issue already opened, so I submitted https://github.com/atom/atom/issues/6956.\n. Getting zmq being bundled into Atom would be the best outcome for us, but I don't know how many other Atom packages use it and if that would be a good move for Atom as a whole.\nWhy do you say that node updates would break our binaries? I don't know enough about it to see what components would break.\n. I would still like to support this. \n@rgbkrk, I think you had some concerns about zmq on random ports making it through people's networks?\n@TKCen it looks like rk is helping write kernelspecs for remote systems. If they work with Jupyter, I would expect them to work with Hydrogen. The only caveat is that if you have a local kernel for a particular language, Hydrogen may use that instead (it uses the first matching kernel it finds). \nWould someone be willing to give rk that a try and let us know if it works?\n. Just opened #39 to address switching between multiple kernels for a language.\n. Interesting \u2014\u00a0if something like rk works, it's probably an OK stopgap measure. We can revisit this when Jupyter adds more features for remotes that will let this be a good experience (and not leave the kernel server sitting wide open).\n. There's no documentation because this is definitely not supported behavior right now. Since Hydrogen is designed to start the kernel itself rather than connecting to an existing kernel, it's going to be weird if it works at all. Hydrogen currently connects via local ZeroMQ ports. Furthermore, Hydrogen does not use any security at all, since it's designed for local access, meaning that the server and probably also your local machine would have a huge security hole.\nHonestly, I think you're going to be better off using ipython itself for now. I definitely want to support this usage at some point, but there are a lot of changes that need to be made between now and then (both to Hydrogen and to Jupyter). Building remote systems is hard!\nI'm sorry I don't have a better answer for you right now, but keep an eye out for changes to come.\n. Right on!\nOn Wed, Jul 1, 2015 at 12:30 PM R\u0103zvan R\u0103dulescu notifications@github.com\nwrote:\n\nI will post shortly... I have just made this work (without changing\nanything in hydrogen)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/38#issuecomment-117739111\n.\n. @rgbkrk Ugh, yeah. Let's get signing working.\n\n@razvanc87 Yep \u2014\u00a0signing and remote kernels are two different steps.\nI agree that getting it just to the point of running in Hydrogen isn't a ton of work. The harder steps about making that use case work as smoothly as possible for people.\n. If you're interested in working on this, pull requests are very much appreciated :)\n. Awesome work on this \u2014\u00a0I'll direct people this way in the future!\n. There are actually a few issues here. \n1. IPython doesn't currently build kernelspec files for itself, meaning that Hydrogen can't know what ipythons are installed on your machine.\n2. ipython kernel doesn't accept a connection file in the same way that other kernels do\n3. Hydrogen needs UI for switching\n4. and 2. mean that Hydrogen launches Python kernels differently than others; it always calls ipython. At present, I think using symlinks to make ipython call the IPython you want to run is the best option, as ugly as it is. If ipython currently points to a Python 2 ipython install, you can of course rename that to ipython2.\n@rgbkrk is there a better way for Hydrogen to support this given the current state of the IPython kernel?\n. This has been discussed quite a bit. It's definitely on my \"want\" list, but\nit's not clear that there's currently a good way to do this. I do expect to\nimplement this eventually, but don't hold your breath.\nOn Fri, Oct 9, 2015 at 6:22 PM Maxim Grechkin notifications@github.com\nwrote:\n\nIs it possible to also add an option of selecting a remote kernel? If I\nhave an IPython notebook running on the remote server, it would be nice to\nbe able to execute code in the context of the one of the notebooks there.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/39#issuecomment-146999197\n.\n. I think #25 is the closest we can come to this in a cross-language way. Most kernels don't seem to support magics much.\n\nI completely agree that automatically pulling all the variables out of the kernel would be a lot better, but it will require kernel support and changes to the API.\n. Yeah, we need to come up with some UI for handling stdin. Beyond that I think this will work.\nAlso, we should always set the --colors=NoColor flag for python to avoid getting the ANSI color characters in there. Opened #43 to address this.\n. Another option is to use strip-ansi\n. Just published v0.3.11 to address this. Now if you try to run an empty file it does nothing.\n. Nice, glad it's working for you! I've added a few more tested kernels to the readme.\n. @X-G Just shipped an update to try address this. Let me know if there's any problem!\nI was accidentally basing my color-switching on @text-color instead of @syntax-text-color, which meant that for contrasting color schemes the colors came out wrong. Thanks for the report!\n. Awesome, glad I could take care of that for you!\n. This is a problem with the Atom API for markers. I've opened an issue at https://github.com/atom/atom/issues/6857 \u2014\u00a0I need them to fix it before I can address this, unfortunately.\n. Or rather, I could fix it for us, but at risk of breaking other packages (as I mention on that thread). I think it's unlikely that any packages depend on the exact z-index of the tab bar, so if they don't get a fix done soon I'll just do that.\n. Went ahead and did this. Shipped in v0.4.0!\n. This is an issue with the Ruby kernel (https://github.com/SciRuby/iruby/issues/29) \u2014\u00a0it just needs to skip the signature check when it's given an empty signing key.\nI probably won't have time to write a PR for this myself in the next couple of days (I'm coming up against a paper deadline for a conference). It looks like you can just add another clause at this line and skip the check if the key is empty. It would be great if you or someone else would write a pull request to fix it!\n. After installing IRuby from master I get the following error (for any code, run either in Hydrogen or the notebook). Have I just done something wrong installing?\nNoMethodError: undefined method `local_variable_defined?' for #<Binding:0x007fd8d20bc838>\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/lib/iruby/backend.rb:9:in `eval'\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/lib/iruby/kernel.rb:87:in `execute_request'\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/lib/iruby/kernel.rb:47:in `dispatch'\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/lib/iruby/kernel.rb:37:in `run'\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/lib/iruby/command.rb:74:in `run_kernel'\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/lib/iruby/command.rb:33:in `run'\n/Library/Ruby/Gems/2.0.0/gems/iruby-0.2.4/bin/iruby:5:in `<top (required)>'\n/usr/bin/iruby:23:in `load'\n/usr/bin/iruby:23:in `<main>'\n. And yeah, I do want to add signing to Hydrogen at some point. At present it only ever starts kernels on localhost and can't connect to remote kernels, so it's not critical.\n. OK, glad it's working for you now!\n@minad thanks for the quick fix!\n. Quite right. I messed this up in the last little edit I made to the autocomplete regex. Patch released, update at will.\n. This is a known issue \u2014\u00a0Atom only has your $PATH if it's started from the command line, so it won't be able to find tools like pkg-config during installation. I have an issue open on Atom about this (https://github.com/atom/atom/issues/6956), so hopefully it can get taken care of.\nI just added a note in the readme to make that clearer to all future installers. Sorry for the inconvenience!\n. This is an issue with some kernels which are janky and don't put the output in the right place. Which Javascript kernel are you using?\n. @n-riesco That's not where that logic is, but you're basically right. My reading is that kernels are supposed to put their stdout in the io stream: http://ipython.org/ipython-doc/stable/development/messaging.html#streams-stdout-stderr-etc\nI'll look into the issue with not getting results until the file is saved.\n@jakubholynet I agree in principle with separating those concerns, but due to kernel variability this is not feasible. Some kernels put all their results in the io stream, some put them into an execute_reply, etc. Right now my strategy is to just copy Jupyter's behavior of showing all the results.\n. I can't reproduce this \u2014 can anyone give me concrete steps?\n. OK, this definitely doesn't repro on Mac. Can I get you to help track down what's going on?\nHere are the logs I see when I follow the steps through running the Python code:\n\nWhat looks different?\n. Sorry, lost track of this issue. The line causing the error looks like it must be:\ncoffeescript\nlanguageMappings = JSON.parse atom.config.get('Hydrogen.languageMappings')\nWhat do you have in the the \"language mappings\" field in the settings?\n. I think Atom must have a race condition with getting that set (maybe just on some platforms?).\nI'm already doing a check for that, but I'll be a little more careful about it. I'm not sure this is the issue, but we can see if it helps.\nUpdate pushed.\n. Cool, no worries. Thanks for the help!\nOn Thu, Jul 2, 2015 at 4:41 PM Nicolas Riesco notifications@github.com\nwrote:\n\nI'm not running the latest atom. I will update and let you know (although\nnot today).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/53#issuecomment-118161463\n.\n. Per the readme, \nAssuming you followed the dependencies steps above, you can now apm install hydrogen (recommended) or search for \"hydrogen\" in the Install pane of the Atom settings. Note that installing from within Atom will only work if you start Atom from the command line! See Jank.\n\nOne of our dependencies needs an external build tool, and Atom only has your $PATH if run from the command line.\nThis is looks like an issue with my styling logic (it tries to select colors that match your background). What UI theme and syntax theme are you using? I'll fix that up ASAP.\n. No worries! \nWhat UI theme and syntax theme are you using?\n. If it's this monokai, it fails to declare the global syntax color variables that Hydrogen depends on.\nI guess I'll just make Hydrogen use the same colors no matter what, maybe attempting to pick one of two themes based on the syntax colors if possible. I have to assume that other themes are going to have this problem as well.\n. Okay, I just pushed a patch that fixes up the color selection code a little bit. I think that should take care of it \u2014\u00a0thanks for reporting the issue!\n. Can you give me a test case? I don't know much about R, but I'm betting it's the $ delimiter confusing the regex.\n. Ok, was just what I thought. Thanks for reporting the issue!\n. Oh no, I'll have to allow for $ at the beginning too...\nOn Thu, Jun 11, 2015, 9:43 PM Kyle Kelley notifications@github.com wrote:\n\nPHP for that matter too.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/56#issuecomment-111322039\n.\n. We're going to need to break all these regexes out by language per https://github.com/willwhitney/hydrogen/issues/63. I'll change the code in autocomplete-provider.coffee to this format, then people can add and amend languages as needed.\n. This is happening \u2014\u00a0please suggest changes any changes to the regexes defined in autocomplete-provider.coffee over in #63.\n\n@n-riesco thanks for the JS regex!\n. The IPython kernel saves out a file for reconnection \u2014\u00a0if it's still running, I think you can reconnect to it. When you run a kernel directly, it spits out a message like this:\nTo connect another client to this kernel, use:\n    --existing kernel-15035.json\nThe file is (for me) saved in /Users/will/.ipython/profile_default/security and is called kernel-XXXXX.json. If you find the most recent one of those in the folder, then you can run ipython console --existing kernel-15035.json to connect to it.\n. I just tried this with a kernel started by Hydrogen and it worked. You can even run %history to get the list of recently-run commands.\n. Maybe you can send an interrupt to the kernel manually \u2014\u00a0you can ps aux | grep python, then (double-check this) kill -2 <process number>.\n. Was Atom launched from the command line when you tried to update? Does apm install hydrogen work?\n. Ah, the perennial issues with node-gyp.\nGlad that worked for you!\n. Sorry for the delay \u2014\u00a0I was out of town and didn't touch a computer.\nThis is pretty weird. I usually see this when dependencies are out of sync with the package. Can you try going into ~/.atom/packages/Hydrogen/ (or wherever your packages are installed) and running apm rebuild?\n. After a bunch of Googling, it's possible that this is an issue with the underlying npm being used: https://github.com/3rd-Eden/node-hashring/issues/28. Your Atom is up to date, though, so I'm not sure what to say about this...\n. @albop also curious what IPython version you've got. Can you send me that, along with a screenshot of the Atom console (View > Developer > Toggle developer tools > hit console tab) after running some code?\n. Can I get you to hit the expand arrow on those \"shell message: \u25b6 object\" lines?\n. That is very nasty. I'm glad it works now!\n. Did they rename things recently? http://packages.ubuntu.com/search?suite=wily&arch=any&mode=filename&searchon=contents&keywords=libuv\n. Wow, yeah, I hadn't thought about the pager. Much as I'd like to I can't do the IPython hack, since people use Hydrogen with all kinds of kernels, but implementing pager handling is now in the pipeline.\n. OK, this is happening \u2014\u00a0please suggest changes to the regexes defined in autocomplete-provider.coffee in this thread.\n. @spencerlyon2 yup, you're right. I had changed the Julia one a bit from that but there are other places where I've still got \\w0-9_. This will work for code most people actually like, but let me know if you come across a regex that handles the Unicode points too.\n@rgbkrk Python3 has the same issue as Julia.\nRegex were really not designed for unicode...\n. Oh hell yeah! I didn't expect that to work.\nThanks @spencerlyon2!\n. Oh good grief. The built-in JS regexes don't have this behavior. I'd just require 'oniguruma', but it's built with node-gyp, and I don't want to take us further down that rabbit hole.\n. Yeah, having slightly greedy matches is fine for this, since the kernel will still only return valid completions. I think I'll go with that.\n. After reading the spec some I've arrived at the terrifying /([^\\d\\W]|[\\u00A0-\\uFFFF])[\\w.!\\u00A0-\\uFFFF]*$/.\nI think the same thing, minus the !, is a tolerable first pass for Python3.\n. Just shipped this live! Please let me know if it does anything weird.\nPull requests fixing these regexes or adding new languages will be gratefully accepted!\n. This is something I've thought about a lot, and it's something I'd love to\nsee in Hydrogen. That being said, I'm only willing to include features that\nare language independent.\nI'm probably going to be working with the Jupyter team to improve the\nprotocol to support this and other rich features. That won't have results\nfor a few months, though.\nHow are you thinking of implementing this?\nOn Wed, Jun 17, 2015, 6:17 AM Fabian-Robert St\u00f6ter notifications@github.com\nwrote:\n\nI love the idea of hydrogen, and I think this is good step into the right\ndirection towards atom as a scientific dev environment! Thanks for the work\nso far.\nOne step further additionally to the \"watch\" mode would be to list\nvariables of the current scope. The result would then be a variable /\nworkspace view which automatically refreshes so users get a quick view on\nall their variables and their content. This view could also allow to click\non the variables to show the content of arrays, images, matplotlib plots\netc...\nThis would reflect something which is common in IDE's like Spyder or\nMatlab (see screenshot)\n[image: image]\nhttps://cloud.githubusercontent.com/assets/72940/8204373/650d2b4c-14e8-11e5-9fb6-d24f5b88ee7b.png\n- would you like to see this functionality included in hydrogen?\n- are you interested in implementing this or would you like to receive\n  pull requests?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/64.\n. Don't hold your breath \u2014\u00a0this idea is on the back burner right now, as I'm finishing up a thesis and the Jupyter team is in the throes of a refactor. However, if you're interested in pitching in on the Jupyter side of things, they love PRs!\n. This is great! It's one of the things I most wished I could add when I was first building Hydrogen. Awesome work @nikitakit!. The files in kernel-configs are created by Hydrogen and read in by the kernel, not the other way around.\n\nInstead, you could go to ~/.ipython/kernels and create a new folder with a kernel.json (a \"kernelspec\") in it. Then the argv field should be a command which will start the kernel within the container and use the specified connection_file.\nFor example, here's the IJavascript kernelspec:\njson\n{\n  \"argv\": [\n    \"node\", \n    \"/usr/local/lib/node_modules/ijavascript/lib/kernel.js\", \n    \"/Users/will/code/ijavascript\", \n    \"{connection_file}\", \n    \"--protocol=5.0\"\n  ], \n  \"display_name\": \"Javascript (Node.js)\", \n  \"language\": \"javascript\"\n}\nDoes that make sense?\n. Hmm...\nDid you try killing Atom entirely and running it from the command line? If Atom is run as an app, it can't see your $PATH. If that doesn't work...\nIn the Atom console, can you run these tests?\n``` javascript\nchildProcess = require('child_process')\nchildProcess.execSync(\"which ipython\").toString()\n// => \"/usr/local/bin/ipython\"\nchildProcess.spawnSync(\"ipython\").stdout.toString()\n// => the IPython console header\n```\nJust trying to figure out what Atom can and can't see right now.\n. Glad it worked!\nHydrogen starts its own kernels and doesn't use an IPython server at all. \nHowever, you can start an IPython server and ask it to connect to Hydrogen's kernels. When you first run something on a kernel in Hydrogen, it logs out the line \"Kernel configuration file path: .json\". You can start an ipython console connected to the same kernel by running ipython console --existing <path-to-config>.json.\n. @YoungxHelsinki in Atom you can open the dev console (View > Developer > Developer tools, open Console tab) and then run some code with Hydrogen as usual. When Hydrogen starts a Python kernel, the kernel will output a long message in the Atom console that looks like this:\n``\nkernel process received on stdout: NOTE: When using theipython kernel` entry point, Ctrl-C will not work.\nTo exit, you will have to explicitly quit this process, by either sending\n\"quit\" from a client, or using Ctrl-\\ in UNIX-like environments.\nTo read more about this, see https://github.com/ipython/ipython/issues/2049\nTo connect another client to this kernel, use:\n    --existing /Users/will/code/hydrogen/kernel-configs/kernel-780edb36-8aa4-4828-aa4f-5cfc60ca78d3.json\n```\nThen you can run ipython console --existing /Users/will/code/hydrogen/kernel-configs/kernel-780edb36-8aa4-4828-aa4f-5cfc60ca78d3.json to start an IPython console connected to that kernel. That is, all the code you run in either IPython console or Hydrogen will be run in the same namespace; you can run x=4 in Hydrogen, and print(x) in IPython will give 4.\nThat make sense?\n. Does it not work when you click \"Toggle Developer Tools\" in that menu?\n. Huh, glad you figured this out. Your work will probably help someone else in the future!\n. That's not the most useful error message I've seen, haha.\nThat's the most up-to-date version of the node zmq package, and it seems to work on other platforms. Maybe try an apm rebuild and see if that clears it up?\n. Actually, some kernels (e.g. Julia) already work without the $PATH. Hydrogen goes and finds where the kernels are listed, and those kernelspecs contain the instructions for running the kernel, so kernels that contain fully-qualified paths work no matter what.\nYou can fix any kernels that don't use fully-qualified paths by modifying the kernelspecs (probably in ~/.ipython/kernels/ or /usr/local/share/jupyter/) to contain fully-qualified paths (/usr/local/bin/node instead of node). You'll also need to create a kernelspec for Python by running ipython kernelspec install-self; the Python one uses a fully-qualified path already.\nThis is kind of a pain, and probably those kernels should just be doing this already. The good news is that all the kernels are open-source and you can send them a pull request to fix it!\nHowever, updates and installation are still going to need the $PATH, because I can't control how npm installs things (especially zmq).\n. Hydrogen doesn't use IPython at all. It starts the kernels itself and is a\nreplacement for the IPython notebook server.\nThe only time it uses the ipython command is when starting a Python\nkernel, and you can avoid that by installing the Python kernelspec as\nstated above.\nOn Wed, Jul 1, 2015 at 12:15 PM Christopher Armstrong \nnotifications@github.com wrote:\n\n@willwhitney https://github.com/willwhitney The problem is that Atom\ncan't even find my IPython without running from the shell, because I don't\nhave IPython installed system-wide. I would at least like for Hydrogen to\noffer a configurable IPython command. This is separate from IPython finding\ncommands for running its subprocesses.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/71#issuecomment-117733789\n.\n. No worries! Glad I could help.\n. Did you kill all Atom processes and start it from the command line?\n\nOn Thu, Jul 2, 2015, 1:13 AM Lee Seongjoo notifications@github.com wrote:\n\nHow can I properly report this problem?\n[image: 2015-07-02 2 12 23]\nhttps://cloud.githubusercontent.com/assets/444818/8470333/685e69ae-20c4-11e5-9139-e0c613d467b8.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/72.\n. You'll need to close Atom completely and then start it from the terminal (using the atom command). See Jank for more info.\n. Yes, we've discussed doing something similar before: https://github.com/willwhitney/hydrogen/pull/34\n\nI have similar reservations for using this path as that one. I've also written this behavior up as a bug on Atom: https://github.com/atom/atom/issues/6956\n. Some people have reported that they have to save the file first (#53).\nOtherwise, can you pop open the developer console in Atom (View > Developer > Developer tools) and show me what you get?\n. Can you pop down the shell message: \u25b6 Objects that come before resultType after update: null?\nIt looks like it's not receiving some IO messages from the kernel, but let's see what those shell messages say.\n. Hmm, yeah, it seems like somehow ZeroMQ is just not connected on the IO ports. Does this always happen (i.e. across restarts)? And I assume that you do get results displayed when you use the ipython notebook?\n. Yeah, errors come in on the shell message socket.\n@rgbkrk any insights on this?\n. Looks like @andre-dietrich is running IPython 3.2, so I don't think this should be an issue with an old message spec.\nAnd that's super weird. Maybe they didn't write kernelspecs initially?\n. Closing this because I don't think this is actually a Hydrogen problem \u2014\u00a0someone please correct me if I'm wrong / you know what's causing this.\n. But this does work with non-Anaconda IPython?\n. Awesome work, @ChrislS! I'm putting together a troubleshooting page and this is definitely going on there.\n. Yup, sounds good.\n. This is a possibility down the line. Either Atom would need to support inline content or Hydrogen would need to have a complete internal \"notebook view\" implemented with multiple input and output sections (something like how watch expressions are now). Stay tuned!\n. Just so everyone knows, I\u2019m working on a package that does this (\nhttps://github.com/willwhitney/jupyter-notebook-atom) and once the view\nworks well I\u2019ll refactor it into Hydrogen!\nOn Fri, Jul 24, 2015 at 9:45 AM mangecoeur notifications@github.com wrote:\n\nI have also been looking at this - in the past I worked on an IPython\ndesktop version (https://github.com/mangecoeur/ipython-desktop) which\naimed to wrap the notebook view in a relatively primitive way. Some design\nquestions I struggled with include:\n- Do you build Jupyter into the plugin and only require Kernals to be\n  installed, or do you require separate installs of both Jupyter and Kernals?\n- Do you re-implement the Notebook interface, or simply proxy it into\n  Atom\n- Do you want to support advanced features like interactive widgets?\n  Do you mind re-implementing them?\n- How much would you want to modify Jupyter itself to achieve this. Do\n  you want to simply proxy whatever installation people happen have (my\n  original idea in IPython desktop, but ultimately limiting), or have\n  something that will require a version with your upstream patches.\nI've asked around and got conflicting advice as to how much\nnotebook-specific intelligence is in the notebook server - which impacts\nwhether it makes more sense to proxy the interface - either as an iframe or\nthrough some internal mechanism, e.g. fetching rendered notebook html from\nwithin the plugin, transforming it and inserting it into the Atom view.\nI personally think re-implemening the view alone might be reasonable and\nmuch more powerful if the serverside functionality can be made available\nthrough APIs (not depending on rendering of server side templates which\nseems to happen at the moment). Not sure how widgets would work.\nI would love to see a notebook editor that used Atom TextEditors and so\ninherit all the text-editing superpowers as well as keybindings etc and\ngets rid of the extraneous browser chrome. Definitely up for contributing!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/75#issuecomment-124526025\n.\n. Currently I insert a marker at the end of the line, and when the marker gets changed, I remove it. This makes evaluating partial lines work well, but I'm not wedded to it.\n\nWhat would be a better behavior for you?\n. I can definitely make it stick around, I'm just looking for the best behavior (regardless of implementation) for you. Do you still want to be able to close a single inline result without closing all of them? Or is that totally unnecessary?\nMaking esc clear the results on the line might be a good option. I'll have to figure out if that breaks anything else.\n@YoungxHelsinki you can also use the shortcut to remove all results (default ctrl-alt-backspace), but I understand you may want to clear only one of them.\n. @n-riesco that's a reasonable thing to do. You should probably only move the cursor down if it's on a line included in the code block being executed \u2014\u00a0Hydrogen also finds the first code block above the cursor, so this could result in unexpected behavior otherwise. Also should take into account the case of executing a selection that doesn't cover the whole line.\nMaybe another improvement relevant to this is to use the presence of the output bubble as a clean/dirty indicator on the code that generated it. That is, have the output bubble associated with the region of the buffer that was sent to the kernel for execution, and when that region changes, remove the bubble.\n. Like this:\n\nIf some text is selected when Hydrogen is run, it will execute exactly and only that text. So you don't want to move the cursor when they've selected seventy in the above example.\n\n\n[shift-alt-enter] to run a code block (current behaviour)\n[ctrl-alt-enter] to run a code block and move one line down\n\n\nThat's a great idea. I'd merge that PR.\n. We should include the possibility that the cursor is on the line below the code block:\n\nThen the possibilities look like this:\n(no text selected)\n    (cursor within code block)\n        (cursor not on last row) => execute and move down\n        (cursor on last row) => execute code, move down and insert line\n    (cursor below code block) => execute and do not move\n(text selected)\n    (cursor not on the last row) => execute code and move down\n    (cursor on the last row) => execute code, move down and insert line\nDoes that make sense?\n. Great!\nOn Wed, Sep 2, 2015 at 1:23 PM Nicolas Riesco notifications@github.com\nwrote:\n\nYes, it does (again, I had forgotten about the case 'cursor below code\nblock'!).\nI'll give this PR a go.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/76#issuecomment-137178332\n.\n. Hydrogen relies on Atom's code-folding and indentation right now to figure out what a block is. This is so that the code for finding blocks works across languages.\n\nThis is definitely annoying behavior, but I don't know of a way to address this without writing a parser for each language that Hydrogen supports. Which maybe we should do at some point, but isn't going to happen for a while.\nAny ideas about how to solve this without breaking the problem out into all the languages?\n. Nope, it's just hard to take a bunch of text and figure out what a logical block is cross-language. Atom is correct not to fold to decorators, as that would fold the actual function definition under.\n. I believe you need to reinstall IJulia. When you install it, it writes a config file that Hydrogen uses which says how to launch it.\nLet me know if that doesn't work and I'll reopen this.\n. OK, we'll need to dive a little deeper. If you run ipython locate at a prompt and open the directory it gives you, you should find a folder \"kernels\" inside. In that there should be a folder \"julia 0.3\".\nIn there, there should be a file kernel.json that looks like this:\njson\n{\n  \"display_name\": \"Julia 0.3.7\",\n  \"argv\": [\n    \"/Applications/Julia-0.3.7.app/Contents/Resources/julia/bin/julia\",\n    \"-i\",\n    \"-F\",\n    \"/Users/will/.julia/v0.3/IJulia/src/kernel.jl\",\n    \"{connection_file}\"\n  ],\n  \"language\": \"julia\"\n}\nYou can modify this file to make it point to the right place for the julia binary. Assuming this is the problem.\n. That makes sense. The IJulia people must have changed their naming so it didn't update properly. Glad that fixed it!\n. Not that I know of. This sounds like a problem with node-gyp (inherited from gyp), which requires some very particular dependencies on Windows. More information: https://github.com/TooTallNate/node-gyp\nLet me know if you figure out a way!\n. Just like normally in IPython, you'll need to use %matplotlib inline to show plots inline. Without that the kernel thinks it should start a new window for it.\n. It looks from this line like the issue is that you have a grammar installed that doesn't have a \"name\" field. I'll add a check for that.\n. Published that check as v0.4.4. Can you update and tell me if that helps?\n. Well, that seems like a good sign, at least.\nTo run Python 3 instead of Python 2, you can run ipython kernelspec install-self. This will make a folder in /usr/local/share/jupyter/kernels. (If it installs a Python 2 kernelspec, you can just rename it and make the first line of argv in the kernel.json file point to your Python 3 executable instead.)\n. Did you figure out what was causing this?\n. OK, thanks!\nOn Sat, Jul 18, 2015, 9:22 AM Mark K. notifications@github.com wrote:\n\nHi - I am not sure as I cannot reproduce it.\nThe error was caused when I accidentally had the settings tab open and in\nfocus while trying to run the plugin with Hydrogen: Run.\nBut that seems to be a misbehavior in atom that is not reproducible.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/83#issuecomment-122543485\n.\n. Yes, this is definitely a problem. This change is coming as part of a\nlarger architectural change breaking things up into separate packages.\n\nIf you're interested in contributing this change before I get there, it\nwould be very welcome. I'd be happy to point you in the right direction!\nOn Wed, Jul 15, 2015 at 3:18 PM sebastjaeger notifications@github.com\nwrote:\n\nHey,\nlet me start by saying that I really love your package!\nCurrently, I have to work with Python 2 as well as Python 3. As far as I\nunderstand, the kernel to be called is determined by the current grammar.\nSince the grammar is the same for python 2 and python 3, you always end up\nwith one kernel (which depends on the kernel config).\nIf it was possible to explicitly choose the kernel that you want to use,\nthis issue could be avoided.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/84.\n. People who file PRs with their bugs are my favorite people. I'll get this tested and merged ASAP.\n. Sold! Certainly looks like it would to me.\n. Shipped as 0.4.3.\n. I've seen this \u2014\u00a0I'm pretty sure it's a bug with Atom's (Webkit/Blink/whatever) layout engine. Any overlay marker decoration is going to have this problem.\n\nI'm going to close this issue here since it's not a Hydrogen issue, but please file an issue against Atom!\n. Thanks for filing the issue! Next time I run into it I\u2019ll try to document\nfor them. It\u2019s not showing up when I\u2019m trying to make it happen right now.\nI\u2019m pretty sure the autocomplete-plus comment is unrelated \u2014 they\u2019re doing\nanimation in that method, and I think they\u2019re trying to make sure that\nnothing has changed before they animate.\nOn Mon, Aug 10, 2015 at 12:16 AM Spencer Russell notifications@github.com\nwrote:\n\nFiled the issue, please feel free to add to it if you have any more\ninsight.\nI did see this comment\nhttps://github.com/atom/autocomplete-plus/blob/42660ee4d794d1403881a9fc20fadfb29014f96e/lib/suggestion-list-element.coffee#L230\nin autocomplete-plus that mentions avoiding a flicker, but I have no idea\nif it's related.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/93#issuecomment-129294014\n.\n. Thanks for this!\n. Wow, that's very weird. The kernel status isn't really styled. I'm not ruling out this being an issue with Hydrogen, but maybe it's some sort of layout error with another plugin? Does this still happen if the plugin that's adding the \"Archive\" button there is disabled?\n\nDo you (or anyone else with this issue) know your way around the dev tools enough to poke around and try to see what's happening?\n. This looks awesome! Thanks for the work!\nI'll merge and ship this.\n. :+1: \n. Sounds good, thanks for the PR!\n. :D\nOn Tue, Sep 1, 2015, 2:58 PM Timoth\u00e9e Poisot notifications@github.com\nwrote:\n\nWell, thanks for Hydrogen! I'm starting to really like it.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/99#issuecomment-136827968.\n. This looks pretty good to me. Since these are flow-breaking changes for the user, I'll wait to do a more thorough review and merge this when I release other major changes. \n. Ah, that\u2019d be great!\n\nOn Fri, Sep 4, 2015 at 1:33 PM Nicolas Riesco notifications@github.com\nwrote:\n\nWould you want me to split the PR?\n4cef6d6\nhttps://github.com/willwhitney/hydrogen/commit/4cef6d6aab7bf217be6ec76cbac21230d7dab612\nis actually a bug fix.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/101#issuecomment-137800983.\n. @n-riesco is this ready to go? We split out the bug fix and I think that got merged, so is this mergeable?\n\n(Sorry for the embarrassing delay \u2014\u00a0lost track of this PR)\n. Yup, no worries. I'm obviously not one to talk :)\nOn Wed, Dec 30, 2015 at 1:10 PM Nicolas Riesco notifications@github.com\nwrote:\n\nIs it alright if I look at this in January? I'm currently travelling.\nOn Wed, Dec 30, 2015 at 5:55 PM, Will Whitney notifications@github.com\nwrote:\n\n@n-riesco https://github.com/n-riesco is this ready to go? We split\nout\nthe bug fix and I think that got merged, so is this mergeable?\n(Sorry for the embarrassing delay \u2014 lost track of this PR)\n\u2014\nReply to this email directly or view it on GitHub\n<https://github.com/willwhitney/hydrogen/pull/101#issuecomment-168045399\n.\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/101#issuecomment-168057771.\n. Yep, when I first wrote this shift-enter was bound to something else by default in Atom. Not sure if it still is.\n. Thanks!\n. Last time I looked into this, it wasn't possible to scroll one of these marker decorations (otherwise I'd have the multiline ones scroll vertically, too).\n\nDoes one of you want to write a PR for this? It would be awesome to have someone rework ResultView a little bit. The two changes would be:\n1. Add wrapping in Less.\n2. Change the logic of ResultView to make a bubble single- or multi-line based on its measure size (<= or > line height) instead of based on the content inside.\n. Also if that person would check and see if scrolling these is possible now, that would be sweet.\n. Hmm, I know this used to work...\n\nLooks like unicode names broke in this commit: https://github.com/willwhitney/hydrogen/commit/929777f400beb3a5c552a4cfced6a8d5ea28d472\n@n-riesco seems like this is in the signing code (#97) you wrote \u2014 mind looking into this?\n. Using utf-8 everywhere seems to work for all my standard test kernels. Is that PR good to go, or are you doing something more?\n. Ugh, that's a good point. Neither can I.\n. I think it'll be fine, and if it's an issue people will let us know. I'm going to go ahead and merge it.\n. :+1:\n. This looks great. Thanks for the fix!\n. Published as v0.6.2.\n. This doesn't sound like a thing that would happen, but please let me know if you figure out anything more. Hydrogen should only be starting kernels when you first tell it to run some code. In fact, Hydrogen itself shouldn't be activated by Atom until you use hydrogen:run or its shortcut.\n. Can you open the console in the Atom dev tools (View -> Developer) and see what Hydrogen is printing out? Hydrogen spits out a bunch of logs to make it easier to debug this sort of thing.\n. This is just not implemented yet. If you're interested in adding messaging for errors from the kernel on stderr, I'd love to see them!\n. Looks like this was probably the Atom bug you mentioned, which is now closed. Can anyone confirm that this is resolved?\n. Wow, this is sketch. Thanks for reporting back!\n. You'll definitely have to run %matplotlib inline to make them work. This is because the IPython kernel  doesn't do this itself.\nI don't want to add any kernel-specific code to Hydrogen, but I do have plans to (when I get the time...) implement a language plugin system for Hydrogen that would allow code to be run when the kernel is started and/or before user code.\n. My rationale for doing it with extensions is that there are several pressing language-specific features* which are going to take a nontrivial amount of code. By building an API for Hydrogen extensions, any language-specific features can be independently maintained and distributed by the people who use those languages. I don't want to have any language-specific code in the core Hydrogen package, and I don't want every user to have to go add this themselves.\n*most notably, a per-language function for finding the preceding block of code to execute from the buffer\n. My guiding principle is to not include any language-specific code in Hydrogen. Kyle's suggestion sounds like the best way to deal with this \u2014\u00a0that's what kernelspecs are for, after all!\nI also want to have a way to switch which kernel you're using with a file, but I'm swamped right now, so I'm not sure when that's going to happen.\n@rgbkrk having a single Babel kernel would be awesome.\n. Your PATH is picked up from your session by Atom when it's first launched, so I think that if you close Atom entirely (all windows), activate your virtualenv, then run Atom from your shell, then it should work. \nYou may well have a better understanding of the vagaries of virtualenv than I do, though.\n. Great to hear! If there's anything that needs improvement, I love pull requests :D\n. If this is too verbose, we could throttle it and make any errors beyond the first in a window of time just say \"More error messages received. Check the Developer Console for details.\" At least for now; at some point it would be cool to have a little panel where you can view all the messages from the kernel.\n. We should deal gracefully with noisy kernels like Julia as well; I think the Notebook does something pretty concise in that case, and it'll be really annoying if lots of messages pop down in front of our code.\n. OK, sounds good. Merge away!\nOn Fri, Nov 20, 2015, 5:36 PM Slava notifications@github.com wrote:\n\nLet's try. I as Julia user didn't see trouble in all this warning\nbloating. If someone find this annoying he can create a ticket and we'll\ndiscuss it again.\nI thought error handling is kernel internal, so it should be managed there.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/116#issuecomment-158545208.\n. I assume in some early version of Hydrogen one of the kernels was smashing words together without the space. This doesn't seem to be an issue anymore, so I'll remove the space.\n. ZeroMQ: I'm not sure. If you install pkg-config and make sure Anaconda's ZeroMQ install is in your $PATH, I would sort of expect it to work. But honestly I don't have any special insight about how the Node zmq library goes about finding your ZeroMQ install.\n\nJupyter: If you run (pick based on how you normally launch Jupyter) <jupyter | ipython> kernelspec install-self, that'll create a folder in /usr/local/share/jupyter/kernels named \"python\" or \"python3\". This folder contains a file called kernel.json, which tells Hydrogen or any other frontend how to launch the Jupyter kernel for Python. If it doesn't point at the correct Python install, you can edit the command in the argv field in there to be the right command for launching your Python kernel.\n. Yup, this would be a great addition. Probably just create a command with no default shortcut for right now so people can map it however they like.\nIt's probably not possible to check whether the code is valid in a safe way. The best thing might be to add it unconditionally and let the user see the error in the output of the watch expression just as they usually would.\n. OK, I figured out what's going on. The end result is that Hydrogen is asking Atom for a grammar named \"scala211\", and of course there isn't one. This is my bad. 20265df2619dfd3a354be52b8652431637bd5ae7 fixes this problem.\nHowever, I'm trying to get the Scala kernel running in Hydrogen right now, and it seems to really not ever send a message beyond saying it's starting. It works in the notebook, though. I'm not sure what difference between Hydrogen and the notebook causes this. Perhaps the kernel is sending information on the wrong channel?\n. [14:12:35] will@MacBook-Pro /Users/will/code/hydrogen/ (master|\u2714 ) $ apm publish patch\nPreparing and tagging a new version \u2713\nPushing v0.6.4 tag \u2713\nPublishing Hydrogen@v0.6.4 \u2713\n. Closing this as an issue with the kernel.\n. Sorry about the delay \u2014\u00a0this looks great.\n. Shipped as v0.6.5.\n@terraqout Since you've done a bunch of good work on the project, I've given you collaborator access on the repo. Thanks for the hard work!\n. That seems to be the consensus. Updated readme to reflect that.\n. Very true. Let me figure out if that's possible with the Atom installation process.\n. The Julia kernel has had some issues in the past with leaving kernelspecs around that are no longer correct. If you check in ~/.ipython/kernels/ and ~/Library/Jupyter/kernels and /usr/local/share/jupyter/kernels (good lord, Jupyter needs to figure out where they want to store these) I bet you'll find an old julia 0.3 directory that tells Jupyter to launch an old version of Julia. Just delete that directory and everything should work.\nLet me know if that doesn't fix it and I'll reopen.\n. Awesome, glad that worked!\n. Discussion over at #135.\n. Looks like you're running that code with Hydrogen, correct? It's interpreting it as Python code (because you're in a Python file). Using print just like normal in Python should show you output in a Hydrogen bubble.\nIf what you're going for is to actually get some output streaming into your terminal, there's not a great way to do that inside of Hydrogen. However, since this is Unix, there's an easy Unix-ey way to do it: make a temporary file with Python that you f.write to in your code, then tail -F that file in the terminal.\nPlease let me know what I can do to make the documentation clearer \u2014 or even better, send a PR!\n. If the output is multiple lines, Hydrogen shows the options for copy, etc. It's kind of a hack, but usually it works OK. If there's a better way to handle the tension between quick, short outputs that should be inline and bigger ones that need to be broken out, I'd love to know about it!\nOn Thu, Nov 5, 2015 at 5:08 PM Amanda Hickman notifications@github.com\nwrote:\n\nYes, Python, sorry!\nIn this particular case, I have a list of dictionaries, called all_filings\n-- if I run print(all_filings[1]['format']) I can see the output, but\nthere's no way to copy it. And it's a long line so it obscures my code\nuntil I clear results.\nIf I run\nfor filing in all_filings:\n    print filing['format']\nI get a block in a hydrogen bubble that I can copy or open in a new\ndocument. It seems weird that I can't copy the results of print but I can\ncopy the results of a loop that does nothing but print.\nf.write is a good work around for the moment, though.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/129#issuecomment-154210910\n.\n. Glad you like it!\n\nThis sounds like a great feature. I'm super busy right now (applying to PhD programs!) but if you're interested in writing a PR for this that would be awesome.\n. I was thinking about this again today while writing some Julia in Hydrogen. The highlighting version of this would be awesome.\n. What a boss! This is looking really nice.\nA couple of things to think about before shooting me a PR:\n- You may have to do some funky conditional Less logic to make it look right on light backgrounds too. That's what contrast is doing here: https://github.com/willwhitney/hydrogen/blob/master/styles/hydrogen.less#L17\n- These should get cleared when the kernel is reset, just like the bubbles. This is probably the right place for that: https://github.com/willwhitney/hydrogen/blob/master/lib/main.coffee#L107\n- Let's make this opt-in with a settings switch for now. You can add a field to the config object: https://github.com/willwhitney/hydrogen/blob/master/lib/main.coffee#L16, and the docs for that are here: https://atom.io/docs/api/v1.1.0/Config\nGreat work!\n. Oh! That isn't actually Ruby-specific code. It ensures that if you've selected a bunch of blank lines at the end of your selection, Hydrogen doesn't send the empty lines to the kernel, and puts the results in the appropriate place. This is the behavior we want:\n\nIf I do the same thing with your PR, I get this:\n\n\nI substantially reimplemented the code to find the correct row range.\n\nGood man! That was some of the first code I wrote on this project, and as a result the messiest. Thanks for this!\n\nThere may be a weird case where the selected code errors and you don't display a persistent result bubble, but the highlight persists. I had a hard time tracing the logic of showing/not showing the result \"flag\" so I wasn't sure where to check if the highlight should persist.\n\nI'm guessing you mean whether to show the result inline or as a popped-out bubble? The logic for that is in ResultView and the function used to change that is setMultiline. setMultiline just adds/removes a CSS class. ResultView is pretty due for a refactor.\nI think the highlight should pretty much always persist, even if the result is an error. It's not really feasible for Hydrogen to know if some code ran to completion, or only the first few lines of it ran, or whatever else. Given that, keeping a consistent rule that \"highlighted means I ran it\" seems reasonable.\n\nI haven't been able to get the contrast selection for the highlight color to work to my satisfaction. Do you have a better idea how to select a good color?\n\nI'll play with this a little to see if I can figure something out.\n\nI found a bug in the code that finds the block to run: https://gist.github.com/willwhitney/a537b9b8a12b01806b43\n. The color switching seems to work great if we contrast with @syntax-background-color instead of @syntax-text-color:\n\n\nUsing contrast against the text color will pick the color that's further away from the text color; for light text on dark background, that will pick the darker background option. But contrast against the background color will lighten a dark background or darken a light one.\nHere's the changed line:\nless\n.line.hydrogen-run {\n    background-color: contrast(@syntax-background-color, @background-color-dark, @background-color-light, 20%);\n}\n. I also just noticed that it's impossible to see whether a line is currently selected or not when this is used. Adding some transparency might work?\n. Ah, yeah. If there are two consecutive ends in a language that folds properly, this will run one end too many. Initially piggybacking on Atom's folding to find blocks saved a bunch of time, but it definitely has its problems. \nThe Right solution probably involves language-specific parsing code, and I'm planning on implementing plugins for Hydrogen that support this whenever I get a solid block of time to work on it.\nUntil then, do you think indentation level would be a more consistent indicator? Or is there something else we could use as a proxy for this?\n. Awesome! Congrats on the new job :)\nOn Wed, Nov 11, 2015 at 9:52 PM Christopher Groskopf \nnotifications@github.com wrote:\n\nHey, I can try using indentation--that would be my best guess for\nsomething that will work. Although that's only truly reliable for languages\nwith significant whitespace. I didn't realize until I started digging into\nthis that the language folding is implemented in such an approximate\nmanner. The Atom grammars themselves don't define the fold points. (Which\nis surprising, because the Textmate spec the grammars are based on does.)\nI've been wrapped up in starting a new job this week, but I'm starting two\nweeks of vacation next week so I can take a deeper dive on this then.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/131#issuecomment-155982193.\n. This would be nice to have. \n\nMaybe by default it shouldn't be mapped to a keyboard shortcut \u2014\u00a0I don't want to fill up that space too much, since I think lots of people only use Hydrogen occasionally. That way people like us who would use this command a lot can define a shortcut without it getting in the way for others.\nThat being said, it's probably not a big deal either way.\nRock on!\n. I agree in principle with having selection and execution separate, but a\ncouple of people have asked for versions of this.\nLet's add the command but not a default keybinding.\nOn Mon, Nov 9, 2015, 5:23 AM Slava notifications@github.com wrote:\n\nDon't you prefer to just bind some key for selecting part of file?\nIn vim-mode it's just vgg other editors should do something look like.\nAnd nobody don't like unexpected keybindings that remaps their own.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/132#issuecomment-155021928\n.\n. @onyxfish how's the new job going? Still interested in knocking this together sometime?\n. You should be able to join a kernel that was started by Hydrogen, but not (currently) vice versa. Located in <hydrogen_install_directory>/kernel-configs you will find the configurations that Hydrogen builds to launch its kernels. If you launch a kernel by running some code in Hydrogen, you can then run jupyter console --existing <hydrogen-dir>/kernel-configs/kernel-<blah>.json on the config file that Hydrogen created, thus connecting a console session to your running kernel.\n. Closing as (retroactive) dupe of #135.\n. Sorry I haven't looked at this yet, I'm super slammed today. I'll dig into this tomorrow if nobody has written a PR to fix it before then.\n. @JeremyCavanagh thanks for the support! I'm working on getting this fixed.\n\n@n-riesco we may have to think about a new ZMQ solution for jmp. I don't know what that looks like right now.\n@rgbkrk any suggestions?\n. @n-riesco thanks for your work on this!\nSwitching over to jupyter-js-services or something similar (maintained by Jupyter, with a stable API, etc) is probably the long-term answer, but hopefully we can get the issue with Atom resolved. It sounds like a change Atom made has been causing issues for others as well.\nIt looks like for the moment reverting is the only workaround, but I expect to have a better answer shortly.\n. Otherwise this looks good to go.\n. You've tested that this does work in practice? Previously marker\ndecorations were simply not scrollable in Atom.\nOn Fri, Nov 20, 2015 at 4:06 PM Slava notifications@github.com wrote:\n\nI occasionally added \"watch\" to ticket name. It should work on all result\nviews. Would this be merged on next release?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/136#issuecomment-158523334.\n. Cool. If it works, merge it!\n\nOn Fri, Nov 20, 2015 at 5:43 PM Slava notifications@github.com wrote:\n\nIf answer can't be presented in a marker smaller than 500px (default\nbubble lenght) presenter view changed to multiline answer box:\n[image: labels]\nhttps://cloud.githubusercontent.com/assets/1011721/11313828/ce526a74-8fe8-11e5-8155-2096482f7fb3.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/136#issuecomment-158546544.\n. Sorry I've been absent \u2014\u00a0I've been out of town at a conference, then finishing up PhD applications.\n\nThis looks good to me. Assuming you've tested it a bit, merge away!\n. Just made some minor copy edits. Thanks for getting this working!\n. I wonder if as the next step we can merge the two config fields we have now. We could pull out the \"Select Kernel\" command to the top level, then have it list all installed kernels, and save the selection into the languageMappings field. That way the user would never have to manage JSON directly.\nIdeally it would be added to the activationCommands field in package.json so that the user can select what kernel to use before running something.\n. Probably you either don't have the dependencies yet or you're installing this without your $PATH available to Atom. Check out https://github.com/willwhitney/hydrogen#dependencies for more information.\nNote that if you're on Atom 1.2.x you'll run into #135. That bug should be resolved by the next Atom release.\n. Brew normally would link zeromq; I'm not sure why it didn't this time.\nI forget sometimes that this repo has a wiki. Maybe it's time we start using it...\nWould you mind adding an entry for this to the troubleshooting page? https://github.com/willwhitney/hydrogen/wiki/Troubleshooting\n. Good call! Link added.\n. This is an interesting tool! However, it's not showing up for me. I'm on the history branch and up to date, but no scrollbar (using Python plaintext or matplotlib results).\nA few notes based on the gif:\n1. Is there a policy for only holding a certain amount of history? We shouldn't keep all of it around forever; that'll result in high memory usage and may not help much.\n2. A label on the control that says \"History\" or something would be good.\n3. We should use a UI element with discrete steps for paging through these. The scrollbar is a little confusing, and may make it hard to take just one step when there are many in the history. Maybe something like Fantastical's < previous | current | next > element (screenie below). Alternatively, if we only have a few, we could show dots for each of them and let you click directly to one (sort of like in an image gallery).\n\nFor gifs sometimes I use CloudApp or Recordit, but they charge money for high quality gifs. I actually get the best results from recording a video with Quicktime and then converting it into gifs. That's a pain in the ass, though.\n. spawnSync will freeze all of Atom. Unfortunately plugins run in the same process.\nEverything so far has been sync, but only because all of the calls are basically instantaneous. Definitely use async calls for anything that will take time.\n. :clap: \n. This is a really good thing to do.\n. Thanks for doing this \u2014\u00a0it'll really improve the install process for people (and cut down on the confused issues we get).\n. This is from https://github.com/willwhitney/hydrogen/blob/master/lib/kernel.coffee#L346\nWe need to include a reverse lookup for user-specified language mappings. He's got a mapping from \"JavaScript\" to \"babel\", so when we look for a grammar called \"babel\" in Atom, it can't find one.\n. That's fair. Certainly for bigger things they should get checked over.\nI can go over the PRs this week!\nOn Thu, Dec 24, 2015 at 10:28 AM Kyle Kelley notifications@github.com\nwrote:\n\nI'm not using hydrogen right now, though that's related to the work I'm\ndoing during the day as well as language (primarily Go). Policy looks good\nto me, especially No code should be added to Hydrogen that is specific\nto a particular kernel language. If there's an issue with an upstream\nkernel, get it patched there instead of having to maintain it here.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/149#issuecomment-167133162\n.\n. This is really cool.\n\nI don't know if it makes sense to add to Hydrogen, though \u2014\u00a0it won't work without modification for many languages, and it looks like it requires a certain amount of rewriting your code to fit the tool (which I've tried to avoid in Hydrogen where possible).\n. You can add mappings like this to the package settings for Hydrogen. It takes a JSON mapping from the nonstandard name (the grammar Atom is using) to the kernel language.\nJust added info about this to the Troubleshooting page\n. I've also got early designs for a plugin architecture that should smooth\nout a lot of the rough spots with Hydrogen:\nhttps://gist.github.com/willwhitney/57b0bcfc03f37d828f6c\nNo idea if this still seems like a good idea, but it's on the table.\nOn Fri, Feb 12, 2016, 12:48 AM Grant Nestor notifications@github.com\nwrote:\n\nRoger that\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/152#issuecomment-183188125.\n. Yup, unfortunately this is a side effect of how Hydrogen is finding blocks\nat the moment. If Atom doesn't think something is foldable, Hydrogen uses\nthe indentation.\n\nAfter I wrap up my thesis (in the next couple of weeks) I'll work on\nimplementing an API for language-specific plugins that will be able to do a\nmuch better job of this.\nOn Fri, Jan 22, 2016 at 12:01 AM Jeremiah Lowin notifications@github.com\nwrote:\n\nHydrogen will run this block from the first line:\nx = (\n    \"a\",\n    \"b\",\n    \"c\")\nbut not this one:\nx = (\n    \"a\",\n    \"b\",\n    \"c\"\n)\nThis is problematic since the second example is the default behavior in\natom (type x = ( and the closing bracket moves to that location)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/155.\n. This is going to be such a good place for Hydrogen. I haven't had the time to put in on maintaining the project, let alone adding features, and all of you nteract folks are so talented and so much better focused on this than I am.\n\nI'll still be around from time to time, but I'm really excited to have Hydrogen in good hands from day to day.\n. re: using jmp, there's a branch that's basically functional. It will take a minimal refactor to merge.\n. Yeah!\n. I have no strong feelings. It seems probably easier to have switch change the setting persistently (#1) but if there's a good argument the other way, that's fine too.\n. Hey guys \u2014\u00a0\nLet's step back for a minute. \nWe are all working toward the same goals. Everyone who is here is volunteering their time and energy. We will try to learn from one another's opinions, and we will make decisions by consensus, not by who committed last. \nFrom my understanding, this PR was originally intended to address #271 and persist selected kernels into the config mapping. If there are no objections to this change, please make this PR contain only that and nothing more.\nIf the point in question is #272, let's move the discussion there. (If not, please point me in the right direction.)\n. As the project has grown it is very important to make changes in PRs, even though it's a little more running around. PRs let people see what's going on and comment on it much more easily than direct commits. Thank you for correspondingly reverting that commit, @slavaGanzin.\nI believe the _.assign call (L44) means this code is the same as setJson with merge=true, at least if parseKernelSpecSettings doesn't reject any kernelspecs. Or am I misreading?\n. So the flow I'm seeing right now is that on activation, Hydrogen saves the kernelspecs it gets from jupyter kernelspec list --json or ipython kernelspec list --json into the Atom config.\nI assume we're doing this so that users have a back door to fix things? My first instinct is that it's better to rely purely on those calls and not have extra Hydrogen-specific configuration around this, but if there was good rationale at the time that's fine.\n@slavaGanzin If we're keeping track of kernels this way, I'm not sure what to tell you, other than \"don't sync files that contain system-specific information\".\nAnother solution would be to make the config field exclusive to user-specified kernelspecs. That way the system kernelspecs (the ones found by jupyter kernelspec) will be loaded per-machine and not saved.\n. Seems reasonable to me as long as it's opt-in (e.g., running some code with Hydrogen should not create this folder). But giving people a simple per-project way to specify kernels (and maybe other things in the future) seems like a win.\n. Good work @tiangolo! In particular thanks for taking the time to update the readme.\nAnd thanks @n-riesco for the quality reviewing as always!\n. Seems like time! @n-riesco if everything works for you, feel free to cut a release.\n. Go for it! It's only there because it's built in to torch/image so it was quick to show image rendering.\n. \ud83d\udc4d . I tested basic things against Python, Julia, R, and Lua. Several others\nwere confirmed to work well also and may even have had small fixes. I'd\nhave to go look at the commit history and old versions of the readme to\nknow more.\nOn Wed, May 17, 2017 at 7:46 AM Lukas Geiger notifications@github.com\nwrote:\n\n@lgeiger commented on this pull request.\nIn lib/watch-view.js\nhttps://github.com/nteract/hydrogen/pull/772#discussion_r116978181:\n\n@@ -18,11 +20,7 @@ export default class WatchView {\n     this.inputEditor.setLineNumberGutterVisible(false);\n     this.inputEditor.moveToTop();\n\n\nthis.resultView = new ResultView();\n\nThat's a lot better!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/pull/772#discussion_r116978181, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAkfRQZ1yickxVzkckkUUMgDkBYx4pw6ks5r6t4rgaJpZM4NZKw0\n.\n. Let's make this an if... else if... else instead of relying on the returns to be more explicit about the control flow\n. Good call. I meant to refactor to this, but I forgot.\n. We should probably change this to \"<language> Kernel: #{caption}\"\n. If this is only going to have an effect on watches, we could put this in the .watch-sidebar section: https://github.com/willwhitney/hydrogen/blob/result-watch/styles/hydrogen.less#L185\n. We should allow for builds of pkg-config installed from other places as well. Replacing this with which pkg-config should work the same.\n. We can rely on the Python import zmq test below to check whether zeromq is installed. As above, we don't want to just ask brew whether it has zeromq installed, because it may come from somewhere else too.\n. We should make it clear exactly how Python 2 must be available. Maybe add something like \"Either python or python2 must be in your path and refer to Python 2.\"\n. \n",
    "sglyon": "Yep, I see the same thing in the status bar.\nI opened up the dev tools, but don't know how to ask it for \"Available Kernels\"...\n. Found it:\nAvailable kernels: Array[6]0: \nObjectargv: Array[5]display_name: \"R\"__proto__: Object1: \nObjectargv: Array[5]display_name: \"Julia 0.3.6\"language: \"julia\"__proto__: Object2: \nObjectargv: Array[5]display_name: \"Julia 0.3.6\"language: \"julia\"__proto__: Object3: \nObjectargv: Array[5]display_name: \"Julia 0.3.8\"language: \"julia\"__proto__: Object4: \nObjectargv: Array[5]display_name: \"Julia 0.4.0-dev\"language: \"julia\"__proto__: Object5: \nObjectargv: Array[5]display_name: \"Python 3\"language: \"python\"__proto__: Objectlength: 6__proto__: Array[0]\n. That worked! Thanks\n. ... well that works for julia and python, but not R.\nWhen I try to run code in an R file it tells me that there is no kernel for r.\nHere are the contents of ~/.ipython/kernels/ir/kernel.json:\njson\n{\"argv\": [\"R\",\"-e\",\"IRkernel::main()\",\"--args\",\"{connection_file}\"],\n \"display_name\":\"R\"\n}\n. In the julia grammar I'm using  ([\\w.!]+) to capture function names. Functions and variables can have the same characters, so this should work for you. You might need to modify slightly by appending a $ or such.\n(NOTE: the \\w matches digits, unicode, and underscores in addition to standard letters, see here. So I think the 0-9_ are redundant in the regex posted above. )\n. I have some specs in the julia-language package that check to make sure the \\w also matches unicode.\nSee here\n. No problem, glad it is an easy solution. I was just about as excited to learn about that too :smirk:\n. Quick note. I know the grammars use Onigurama regex engine. I don't know which regex library powers other packages (i would expect it to be the same, but maybe other they use built in (coffee|java)script regex engine - if such a thing exists).\nIt might be worthwhile to do a quick test that Onigurama is used throughout before considering that issue solved. \n. Ouch that sucks.\nfirst-mate is the atom package that provides support for text mate grammars. Because they are already including Onigurama maybe you can just figure out a way to use their install? If nothing else it might give an idea for the easiest way to install it if you go that route. \n. At one point the previous language-julia package had \\u0021-\\uFFFF in the regex to scope function names. This did catch unicode, but it also caused bugs like this one. As you can see by the highlighting in the picture on that link, the unicode sequence I just gave somehow matched warn(\"$(string as the function name when it should have only matched warn. \nSince you are just providing a list of completions maybe it would be ok to just live with that problem?\n. What I had in mind seems different from both opening a separate buffer to act as a \"repl\" or spawning a qt-console. \nThe atom-ink package provides a fairly standard REPL experience with partial readline support, command history, etc. Using ink might not be the right solution here, but I'm referring to it because I think it is a good example of what I had in mind.\n. That's great, thanks!\n. Great work -- works from Julia kernel!\n\n. No, the notebook doesn't do this, but the console does... with the %paste magic:\n\n```\n~|\u21d2 ipython                                                                                       vpn-192-168-100-7\nPython 3.6.1 |Anaconda 4.4.0 (x86_64)| (default, May 11 2017, 13:04:09)\nType \"copyright\", \"credits\" or \"license\" for more information.\nIPython 5.3.0 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\nIn [1]:\n   ...:     def foo():\n   ...:         return \"hello!\"\n   ...:\n   ...:\n   ...:     foo()\n  File \"\", line 2\n    def foo():\n    ^\nIndentationError: unexpected indent\nIn [2]: paste\ndef foo():\n    return \"hello!\"\n\n\nfoo()\n\n-- End pasted text --\nOut[2]: 'hello!'\n```. Good point \u261d\ufe0f \nI think that is the main reason I've never missed that in the notebook, but am happy to have it in the console and would like to see it here. \nIf I were to try to put this in my init script is there a recommended way for me to add a processing layer before hydrogen sends code to the kernel?. ",
    "takluyver": "Yes, I think we should be declaring a language. The spec changed a couple of times while we were developing IPython 3, and I guess I missed that one.\n. ",
    "n-riesco": "It's great to see more interest in jmp. The package is a spin-off of IJavascript. IJavascript uses it only for replying to Jupyter messages. I'd love to see other projects use it to write requests. I'm sure the interface to create requests could be made more convenient.\n. #197 \n. @lgeiger Is this issue something you'd like to have a go?\n. Yes, it's the current behaviour.\nI think the only thing that it's left to close this issue is to add the \"copy to clipboard\" and the \"open in new pane\" buttons in HTML result bubbles.\n. The CSP policy in Atom v1.6.0 doesn't allow the injection of scripts.\nWill interactive HTML widgets in Atom ever be possible?\n@rgbkrk How about nteract? Are there any plans?\n. @oxinabox I haven't used them myself, but I'm aware of, at least, three projects to provide remote kernels. See:\n- https://bitbucket.org/tdaff/remote_ikernel\n- https://github.com/korniichuk/rk\n- https://github.com/danielballan/remotekernel\n@rgbkrk @lgeiger Currently, the only way to start up Hydrogen is to make a run request. Functionality like switching kernels is not available before that. I think we could provide two more commands:\n- Start kernel (this would make the current switch command obsolete)\n- Connect to running kernel (this would prompt for a connection file)\n. Closed via #295\n. This issue is still present in v0.7.1\n. This comment shows the issue clearly.\n. @rgbkrk I've tried the following with Atom 1.7.0-dev-7040035 and it doesn't seem to work:\n```\n$ git diff\ndiff --git a/lib/main.coffee b/lib/main.coffee\nindex 7afdb18..10b2ef0 100644\n--- a/lib/main.coffee\n+++ b/lib/main.coffee\n@@ -159,9 +159,9 @@ module.exports = Hydrogen =\n         view.statusContainer.setAttribute('style', \"height: #{lineHeight}px\")\n     @editor.decorateMarker marker,\n\n\ntype: 'overlay'\ntype: 'block'\n             item: element\nposition: 'tail'\nposition: 'after' @markerBubbleMap[marker.id] = view\n marker.onDidChange (event) =>\n\ndiff --git a/styles/hydrogen.less b/styles/hydrogen.less\nindex 5ba24fa..cd98ed4 100644\n--- a/styles/hydrogen.less\n+++ b/styles/hydrogen.less\n@@ -5,20 +5,6 @@\n @import \"ui-variables\";\n @import \"syntax-variables\";\n\n\n-// this is a hack to deal with a failing of the markers API\n-// https://github.com/atom/atom/issues/6857\n-.tab-bar {\n-    z-index: 5;\n-}\n-\n-.bottom{\n-    z-index: 4;\n-}\n-\n-atom-overlay.autocomplete-plus {\n-  z-index: 6;\n-}\n-\n .hydrogen.output-bubble {\n     @light-bubble-background: fadein(lighten(@syntax-background-color, 40%), 100%);\n     @dark-bubble-background: fadein(lighten(@syntax-background-color, 10%), 100%);\n```\n\n. @lgeiger Here's how it looks like after removing position: absolute:\n\n. Hi everyone,\nI've tried to reproduce this issue and I've noticed that:\n- if I don't save the document before pressing ctrl-alt-enter, no output is shown (only a looping icon).\n- if I save the document, then I get the result of calling console.log(\"Hello, Jupyter\"), which is undefined, but I don't see the text written to process.stdout.\n. I've quickly skimmed through Hydrogen's code. If I understood correctly this, when a kernel returns a result, Hydrogen doesn't show what was written to stdout.\nI'm planning to add a flag to IJavascript to let the user silence undefined results (so that it plays nicely with Hydrogen). Most likely, I will make this the default behaviour.\n. @willwhitney IJavascript does send stdout to the IOSocket (as IPython and IJulia do). The difference is that whereas IJavascript returns undefined results, IPython drops Nones and IJulia drops nothings.\n. @jakubholynet This is issue is solved in IJavascript v5.0.3 (now available from npm)\n@willwhitney This issue turned out to be solved by the PR you sent me last time. Unfortunately, I hadn't made it available on npm.\nI'm sorry for all the inconvenience.\n. I've just checked on a machine with:\n   IPython 3.0.0\n   Atom 0.207.0-2337254\nand followed the steps:\n- Open Atom (no tabs)\n- Open a Python file, test.py, that contains:\n  print \"Hello, Jupyter!\"\n- Position the cursor at the end of the line and press ctrl-alt-enter\n- The spinner doesn't stop\n- Open a Javascript file, test.js, that contains:\n  console.log(\"Hello, Jupyter!\");\n- Position the cursor at the end of the line and press ctrl-alt-enter\n- The spinner doesn't stop\n- Click on the tab for test.py and now it shows\n  Hello, Jupyter!\n- Click on the tab for test.js\n- Press ctrl-s, and the spinner stops and shows:\n  Hello, Jupyter!\n  undefine\n. I get some syntax errors in kernel-manager.coffee (I'm using v0.4.0).\nEdit: It looks like it dropped my email attachment. Here's the screenshot:\n\n. This is what I get in the console, before pressing ctrl-alt-enter:\n\natom.config.get(\"Hydrogen.languageMappings\")\n<- undefined\n\nafter pressing ctrl-alt-enter:\n\natom.config.get(\"Hydrogen.languageMappings\")\n<- \"{}\"\n. I'm not running the latest atom. I will update and let you know (although not today).\n. Finally, I got around testing this issue again. I followed the steps described here; this time using the latest versions:\n- atom v1.0.8\n- hydrogen v0.4.4\n- jupyter v4.0.4\n- ipython v4.0.0\n- ijavascript v5.0.5\n\nThe problem is still present, but I've also noticed that the execution also resolves:\n- if I switch tabs\n- or if the folder panel gets updated (e.g. by creating a file using the command line).\nI would like to help debug this issue, but I'm not familiar with atom. How do you usually go about debugging issues in hydrogen?\n. OK, this is how far I've got at the moment:\n1. Hydrogen launches the kernel\n2. Hydrogen invokes kernel.execute\n3. I've confirmed that, at this point, the kernel process:\n    - is running\n    - receives the execute_request\n    - and sends back the expected replies\n4. Despite the kernel having already replied, none of the socket listeners set up by Hydrogen gets invoked.\nI don't understand the reason, but it's like if the V8 event loop was paused. The event loop starts working as usual:\n- if I save the file,\n- or if I switch to another tab and then switch back\n- or if I run setImmediate(function{}) in the Javascript console.\n. @essicolo Since the issue is only with the R kernel, please could you open a new issue? Also could you include a screenshot of the log messages in the dev console (shift-ctrl-i) when the spinner appears?. I'm closing this issue, since it hasn't been seen recently and the last last time that was seen we were using the old zmq.. I've experienced something similar. Does it work after you save the file? If so, this is issue https://github.com/willwhitney/hydrogen/issues/53\n. @tusing I'm closing this issue as duplicate of #53 . Please, feel free to reopen if this is not the case.\n. and Javascript\n. This is the regexp I'm using in IJavascript:\nhttps://github.com/n-riesco/nel/blob/master/lib/nel.js#L713\n. @suranah apm rebuilddidn't solve the problem for me. Something that has worked for me in the past is:\nsh\ncd ~/.atom/packages/Hydrogen/\nrm -rf node_modules\napm install\n. @suranah I'm closing this issue. Please, feel free to reopen it if you need more help.\n. What version of ipython are you using (ipython --version)?\n. @pashifika I'm closing this issue. Please, feel free to reopen it if you need more help.\n. libzmq-dev works for me in Ubuntu 14.04 (with jupyter installed using pip).\n. I've just checked the following configurations:\n- this issue is not present in an installation with ubuntu 14.04, jupyter and libzmq-dev\n- this issue is present in an installation with ubuntu 14.04, ipython 1.2.1, libzmq-dev (the issue disappears after installing libzmq3-dev)\n. @DraceniY It doesn't look like you're using Hydrogen. Please, could you open a new issue and describe the steps to reproduce the problem?. I've tried to address this issue in this branch.\nThe idea is to move the cursor down automatically after showing the output.\nIf there are no lines after the executed code, then a new line is inserted.\nIf you like this behaviour, I will submit a PR.\n. On 02/09/15 16:27, Will Whitney wrote:\n\nYou should probably only move the cursor down if it's on a line included in the code block being executed\n\nOK, I will fix that.\n\nAlso should take into account the case of executing a selection that doesn't cover the whole line.\n\nHow do you mean?\n\nHere's an alternative idea (inspired by the jupyter notebook):\n- [shit-alt-enter] to run a code block (current behaviour)\n- [ctrl-alt-enter] to run a code block and move one line down\n. OK, now I get it.\nLet me sum up what the PR would do (please, correct me if I'm wrong):\n- bind [shift-alt-enter] to the current behaviour\n- for [ctrl-alt-enter], I can see 4 cases:\n1.1 (no text selected, cursor not on the last row) => execute code and move down\n1.2 (no text selected, cursor on the last row) => insert line, move down, and execute code\n2.1 (text selected, cursor not on the last row) => execute code and move down\n2.2 (text selected, cursor on the last row) => execute code, move down and insert line\n. Yes, it does (again, I had forgotten about the case 'cursor below code block'!).\nI'll give this PR a go.\n. @alvis A way around this is to use comments to define the execution cells in your code and use the command Hydrogen Run Cell and Move Down (Alt+Shift+Enter) to run them. E.g.:\n\n. @smatting I'm trying to reproduce this issue. Please, could post the python expression you're trying to evalute?\n. I'm seen this issue with libzmq3-dev. Unfortunately, I can't trigger it in a reproducible way.\n. This seems to be a synchronisation problem. Sometimes the first few messages on the ioSocket don't reach Hydrogen (i.e. they don't show in the console log).\n@minrk , what do you think? Is it possible that Hydrogen's ioSocket gets initialised so late that it misses the first few messages from the kernel's ioSocket?\nI suspect this is also the cause of #53 .\n. I don't know the reason, but in Atom, the ioSocket connection is not established immediately. In the cases when I see the issue reported here, the ioSocket connection happens after the second shell request.\n. I've tried to send a kernel_info_request, but sometimes it's still fails.\nhttps://github.com/n-riesco/hydrogen/tree/issue-88-bubble-checkmark\n. @minrk I've tried sending up to 5 kernel_info_request and sometimes it's still failing. The relevant code is here.\nI wish I could imagine why the initial connection of a ZMQ socket in Atom is stalled for so long.\nI've noticed that saving the document triggers the connection. I'm not sure whether this is relevant.\n. @minrk It's perfectly understandable that you find difficult to see the checks. We're in the process of moving the code to use jmp and enchannel-zmq-backend with the hope that this will simplify Hydrogen's code.\nThe check is done here.\nThe hypothesis I'm pursuing now is that the issue is caused by the the multicontext nature of Atom. I'm struggling to find documentation, but I've seen some issues reporting bad interactions with setTimeout, nextTick, ... I've also found that Atom defines process.activateUvLoop.\nIf anyone has information on the execution contexts defined in Atom and how to interact with, please, help would be greatly appreciated.\n. Hi Will, \nplease, don't merge this PR yet. I've just found a problem with the commit fixing findCodeBlock.\nNico\n. Would you want me to split the PR?\n4cef6d6 is actually a bug fix. Here's an example that triggers the issue:\n[start_selection] 1+2\n2+3\n[end_selection] 3+4 [result bubble (2+3=5) shown here]\n. #102\n. Is it alright if I look at this in January? I'm currently travelling.\nOn Wed, Dec 30, 2015 at 5:55 PM, Will Whitney notifications@github.com\nwrote:\n\n@n-riesco https://github.com/n-riesco is this ready to go? We split out\nthe bug fix and I think that got merged, so is this mergeable?\n(Sorry for the embarrassing delay \u2014 lost track of this PR)\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/pull/101#issuecomment-168045399.\n. I'm really sorry. I completely forgot about this PR.\n\nThis PR is really about whether we want two bindings to execute code:\n'cmd-alt-enter': 'hydrogen:run-and-move-down'\n'shift-alt-enter': 'hydrogen:run'\nI'd like to hear what others think? Is this worth having? Are choice of bindings OK?\n. Shall we merge this PR as it is?\n. Possibly related https://github.com/atom/atom/pull/2554\n. I reckon that sudo npm install -g node-gyp fixed your issue. See https://github.com/nodejs/node-gyp/pull/441\n. @willwhitney I'm having a look at it now.\n. @willwhitney In the PR #107 I've hard-coded an \"utf-8\" encoding. How do you think? Should we get the encoding from atom, instead?\n. On second thoughts, the encoding is actually determined by the kernel. If the kernel uses utf-8, we should use utf-8.\n. @sbromberger Thanks for reporting this issue! (It also affects a package I'm maintaining JMP).\n. I'm concerned about Windows users (don't they use utf16le?). Right now, I can't test this PR on a Windows machine.\n. Before I go offline, let me propose 2 options:\n- conservative option: disable signing by editing lib/config-manager.coffee and setting key to \"\".\n- alternative option: merge PR #107 (this will fix the issue utf-8 users only)\nOnce I test the PR on Windows, I can report back my findings here.\n. My reading of https://ipython.org/ipython-doc/3/api/generated/IPython.kernel.zmq.session.html#IPython.kernel.zmq.session.Session.serialize is that Jupyter requires the JSON strings to be formatted in utf8. If my reading is correct the PR is ready to go.\n. I've checked and v6.0.2 is working on Windows with the Python, Javascript and Julia kernel\n. Closing since this is now documented README.md and TROUBLESHOOTING.md.\n. @tpoisot I'm closing this issue. Please, feel free to reopen if you still need help.\n. Reopening because the issue persists.\n. @lgeiger Did you use the IJulia kernel?\n. @BenRussert I've just tested IJulia v1.4.1 on Hydrogen v1.6.0 and the 100%-CPU spike is hardly noticeable.\n\nA comment for IJulia users:\nIJulia users should expect a little delay when running IJulia for the first time after installation (because the package has to be precompiled; Hydrogen now shows a notification when this happens). But this delay is a one time thing. It won't happen next time you run IJulia.\n. Closed by #195 \n. Just a bit more background: currently Hydrogen doesn't send auto-completion requests to IJavascript. I've tested this PR and with this PR IJavascript receives the requests and works as expected.\n. @rgbkrk It shouldn't affect any other language other than js and coffee. Anyway, I've checked and I can confirm that auto-completion continues to work for Python and Julia.\n. Just in case it's relevant. I had to install the package language-julia for auto-completion to work with Julia files.\n. ctrl-alt-enter would conflict with this PR.\n. On 15/10/15 21:39, Filip Krikava wrote:\n\nI installed the jupyer-scala as described on its github site and verified it works with ipython.\nIn hydrogen settings I tried to map the scala language to scala211: |{\"Scala\":\"scala211\"}|\n\nI think it should be the other way around: |{\"scala211\":\"scala\"}|\nI don't know why Hydrogen doesn't complain it can't find a kernel.\n. Some users have reported libzmq3-dev fixed issues in Hydrogen. See issues #73 and #88 for details.\n. See #135 \n. The problem seems to be in the bindings package. More specifically, in the getFileName() function. This function relies on Error.captureStackTrace() calling Error.prepareStackTrace(). This doesn't happen with Atom v1.2.0.\nThe next thing I would investigate is why this behaviour has changed in Atom v1.2.0.\n. It looks like Atom has made Error.prepareStackTrace read-only:\nhttps://github.com/atom/atom/commit/c36b4bd16930f0c6b639ab0d38b93c95d73a922c\n. @willwhitney My understanding is that the installation problem in Atom v1.2.0 is caused by the bindings package, not zmq. I'm trying to get the issue https://github.com/atom/atom/issues/9660 reopened.\nI don't see a quick solution to replacing zmq. One possibility would be a websocket-zmq bridge. I once asked @minrk about it (see https://groups.google.com/d/msg/jupyter/JPlrh2XHxB8/4u9rMYbrBAAJ ) and he mentioned the notebook server already has the functionality. We could ask him whether he thinks it's feasible to have this code as an npm package.\n. @terraqout  I'm not sure what this issue is about. Isn't the kernel's working directory set here?\n. I've used the files below and relative imports currently seem to work in IJavascript. Could you give an example of \"Relative import paths cant be used in file placed not in project root folder\"?\n[test/test.js]\njavascript\nvar msg = require(\"../msg.js\");\nconsole.log(msg);\n[msg.js]\njavascript\nmodule.exports = \"Hello, World!\";\n. It works for me.\nCould it be that the issue you see is caused by kernel reuse?\nNote that Hydrogen uses the same IJavascript kernel for all the Javascript files. The kernel working folder will be whatever was the folder of the first Javascript file on which Hydrogen was invoked.\n. There is an open issue https://github.com/willwhitney/hydrogen/issues/84 requesting a way to select a kernel for different versions of a language (Python 2/3, Julia 0.3/4,...).\nOne way to address the issue here and the others is to have a dialog that lets you choose not only the language version, but also whether you want to spin a new kernel, or even what you want the working folder to be. This would allow to run different kernels for different projects in the same atom session.\n. @terraqout It would break Hydrogen for any script that sets the current working directory, for example:\njavascript\nvar fs = require(\"fs\");\nprocess.chdir(process.env.HOME);\nfs.writeFileSync(\"test.txt\", \"Hello, World!\");\n. Just to be clear, I consider both options (magic or *-patching) bad because they break Hydrogen for programs that change the working directory.\nLet's consider the pros and cons of the options so far:\n1. %magic:\n   - :ok: It makes relative imports work for languages where relative paths are relative to the file.\n   - :no_entry_sign: It can break relative imports for languages where the relative import is relative to the project root.\n   - :no_entry_sign: It breaks kernels that do not provide the %cd magic (either because they don't provide magics or because the %cd magic is not appropriate for that kernel).\n   - :no_entry_sign: It breaks program files that need to change the working directory (simple example provided here).\n   - :no_entry_sign: User must remember to restart the kernel every time they want to use Hydrogen on a new project.\n2. *-patching:\n   - :ok: It makes relative imports work for languages where relative paths are relative to the file.\n   - :no_entry_sign: It can break relative imports for languages where the relative import is relative to the project root.\n   - :no_entry_sign: It requires Hydrogen to know how to change the working directory for every kernel.\n   - :no_entry_sign: It breaks program files that need to change the working directory (simple example provided here).\n   - :no_entry_sign: User must remember to restart the kernel every time they want to use Hydrogen on a new project.\n3. kernel dialog:\n   - :ok: It makes relative imports work for languages where relative paths are relative to the file.\n   - :ok: It makes relative imports work for languages where the relative import is relative to the project root.\n   - :ok: It doesn't require Hydrogen to know how to change the working directory for every kernel.\n   - :ok: It doesn't break program files that need to change the working directory (simple example provided here).\n   - :ok: Multiple projects can be edited simultaneously without restarting the kernel.\n. I feel the discussion is digressing. Let me try to refocus on the issue you want to solve.\nAs I said here and here, relative imports work now provided the user is careful enough to start (or restart) the kernel at the project's root folder.\nPlease, could you give an example of how it isn't possible to develop Hydrogen in Hydrogen?\n. OK, I see. The issue is actually caused by the CoffeeScript kernel (jp-coffeescript).\nThe way jp-coffeescript works is by transpiling coffeescript into javascript that can be run in a Node.js session. The require function in Node.js doesn't look for files with the .coffee extension, and even if it did, it wouldn't understand the coffeescript code.\nI've opened an issue in the jp-coffeescript repository; see https://github.com/n-riesco/jp-coffeescript/issues/5\n. @terraqout Also thanks from me for your work. Thanks to this issue, now:\n- Hydrogen can choose between Python 2 and Python 3\n- require works in jp-coffeescript\n. Setting languageMappings to { \"babel\": \"javascript\" } should fix this issue.\n@gnl Please, feel free to reopen if the above doesn't work for you.\n. I agree with Slava's comments. Also, like Kyle, I'm not using Hydrogen\nright now and for this reason I appreciate when some else also tests my\nchanges.\nI think Slava brings up the important question of understanding where the\nproject is moving. To help define this direction we could:\n- collect policies like \"No code should be added to Hydrogen that is\n  specific to a particular kernel language\" into a document like\n  CONTRIBUTING.md).\n- open issues to discuss design changes, e.g. shortcut keys, design of\n  kernel manager, ...\n. @dschien I'm really sorry for such a late reply. Somehow I missed this issue. My guess is that you're trying to open a .ipynb file. Hydrogen doesn't work on .ipynb files. It runs directly on Python files or any other language for which there is a kernel available. See here for a list of kernels.\n. @dschien Please, don't hesitate to reopen this issue, if you still need help.\n. I'm interested in translating KernelManager to ES6.\nAs a first step, I've moved some of the code in main.coffee to kernel-manager.coffee (see PR #187 ).\n. @slavaGanzin OK, I'll keep my contributions in Coffeescript.\n. Just to let everyone know, I'm planning to work on:\n- use jmp / enchannel-zmq-backend for the kernel messaging\n. I've updated the list of goals and moved the use of enchannel-zmq-backend under the section for switching to async.\n. Hi everyone, I've moved this issue to a wiki page.\nI would like to use it as a means to tell us each other what we are working on.\n@lgeiger, I know you looked into using transformime. I'm interested in giving it another go (it would help me simplify and reduce the code in kernel.coffee).\n. Please, could you open the dev console in atom (shift-ctrl-i), run the following code and see whether you get the same error?\n```\n\nvar out = require(\"child_process\").spawnSync('jupyter',['kernelspec','list', '--json']).stdout.toString()\nundefined\nJSON.parse(out)\n```\n. No need to post all the info. The fact that doesn't throws an error is confusing enough.\n\nYour first log indicates that the error is happening somewhere in this lines more specifically in the parse function.\nCould you confirm that you can still reproduce this issue despite the above code running fine?\n. @kescobo If you need a workaround for the time being, I would revert to Hydrogen version 0.6.5:\n$ apm install Hydrogen@0.6.5\nInstalling Hydrogen@0.6.5 to /home/user/.atom/packages \u2713\n. @kescobo Hydrogen v0.7.1 has just been released. Could you test whether it works in your machine?\n. #177 already merged\n. @kescobo Thanks!\n. This bug is \"almost\" fixed in this commit.\nIt still throws if jupyter and ipython aren't installed.\nCC @lgeiger\n. I'd like to find a solution that is kind to Ubuntu users.\nI think having the option to store kernel specs in the Hydrogen settings would help a little. An Ubuntu user could edit the settings to workaround this issue. However, this won't do for Ubuntu users that lack the technical knowledge to create a kernel spec.\nIn the past, I thought of adding a flag to install the IJavascript kernel in Hydrogen. This would be possible, if the Hydrogen settings stored kernel specs.\n. The issue is that spawnSync is not available in Node.js 0.10 (which is the version provided in Ubuntu 14.04 LTS). Ubuntu releases LTS versions every 2 years, and supports each of them for 5 years. The upcoming Ubuntu 16.04 LTS won't be affected by this issue.\n. To ensure Hydrogen runs in the version that Ubuntu currently advertises as \"recommended for most users\".\n. Do I understand correctly? You want to prevent the installation of Hydrogen on Node.js 0.10 systems? If so, I don't support this change.\n. I have to leave now. Let's continue discussing the options to address this issue tomorrow.\nBTW, have you seen https://www.npmjs.com/package/ipython-paths and https://www.npmjs.com/package/jupyter-paths ?\n. @rgbkrk You're right: Atom is using Node.js v4.1.1.\nI've tracked the problem down to the IPython version installed in Ubuntu 14.04.\nIPython v1.2.1 doesn't understand the command ipython kernelspec list  --json. This causes this line to produce an output that isn't valid JSON.\n. @rgbkrk apm doesn't seem to be using Node.js v4.1.1:\n``` sh\n$ apm install\nInstalling modules \u2717\n\nHydrogen@0.7.0 preinstall /home/user/Documents/sync/src/github.com/hydrogen\nnode dependencies.js\n\n/home/user/Documents/sync/src/github.com/hydrogen/dependencies.js:9\n    throw \"Please install iojs or node >= 0.12. Hydrogen doesn't support older\n    ^\nPlease install iojs or node >= 0.12. Hydrogen doesn't support older versions of node\nnpm ERR! Linux 3.13.0-79-generic\nnpm ERR! argv \"/home/user/share/atom/resources/app/apm/bin/node\" \"/home/user/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/user/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/user/.atom/.apmrc\" \"install\" \"--target=0.34.5\" \"--arch=x64\"\nnpm ERR! node v0.10.40\nnpm ERR! npm  v2.13.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! Hydrogen@0.7.0 preinstall: node dependencies.js\nnpm ERR! Exit status 8\nnpm ERR! \nnpm ERR! Failed at the Hydrogen@0.7.0 preinstall script 'node dependencies.js'.\nnpm ERR! This is most likely a problem with the Hydrogen package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node dependencies.js\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls Hydrogen\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /home/user/Documents/sync/src/github.com/hydrogen/npm-debug.log\n.\n$ apm --version\napm  1.6.0\nnpm  2.13.3\nnode 0.10.40\npython 2.7.6\ngit 1.9.1\n.\n$ ~/share/atom/resources/app/apm/bin/node --version\nv0.10.40\n``\n. Reading through issue https://github.com/atom/apm/issues/328 I understand that the install scripts run inNode.js v0.10.40. If this is the case, I don't understand how it's possible for anyone to installHydrogen@0.7.0`.\n. @slavaGanzin You're right, I've just check and it seems to install:\n$ apm install Hydrogen\nInstalling Hydrogen to /home/user/.atom/packages \u2713\nbut now Hydrogen doesn't seem to load, because of the IPython version:\nUnexpected token = SyntaxError: Unexpected token =\n    at Object.parse (native)\n    at Object.<anonymous> (/home/user/.atom/packages/Hydrogen/lib/kernel-manager.coffee:11:22)\n    at Object.memoized [as getAvailableKernels] (/home/user/.atom/packages/Hydrogen/node_modules/lodash/index.js:7912:27)\n    at /home/user/.atom/packages/Hydrogen/lib/autocomplete-provider.coffee:6:37\n    at Object.<anonymous> (/home/user/.atom/packages/Hydrogen/lib/autocomplete-provider.coffee:5:41)\n    at Object.<anonymous> (/home/user/.atom/packages/Hydrogen/lib/autocomplete-provider.coffee:1:1)\n    at Module._compile (/home/user/share/atom/resources/app.asar/src/native-compile-cache.js:103:30)\n    at Object.defineProperty.value [as .coffee] (/home/user/share/atom/resources/app.asar/src/compile-cache.js:208:21)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (/home/user/share/atom/resources/app.asar/src/native-compile-cache.js:50:27)\n    at Object.<anonymous> (/home/user/.atom/packages/Hydrogen/lib/main.coffee:13:24)\n    at Object.<anonymous> (/home/user/.atom/packages/Hydrogen/lib/main.coffee:1:1)\n    at Module._compile (/home/user/share/atom/resources/app.asar/src/native-compile-cache.js:103:30)\n    at Object.defineProperty.value [as .coffee] (/home/user/share/atom/resources/app.asar/src/compile-cache.js:208:21)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (/home/user/share/atom/resources/app.asar/src/native-compile-cache.js:50:27)\n    at Package.module.exports.Package.requireMainModule (/home/user/share/atom/resources/app.asar/src/package.js:722:27)\n    at Package.module.exports.Package.activateConfig (/home/user/share/atom/resources/app.asar/src/package.js:222:12)\n    at PackageManager.<anonymous> (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/package-manager.js:55:14)\n    at PackageManager.packageHasSettings (/home/user/share/atom/resources/app.asar/node_modules/underscore-plus/node_modules/underscore/underscore.js:658:63)\n    at PackageCard.module.exports.PackageCard.hasSettings (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/package-card.js:611:34)\n    at PackageCard.module.exports.PackageCard.initialize (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/package-card.js:205:17)\n    at PackageCard.View [as constructor] (/home/user/share/atom/resources/app.asar/node_modules/atom-space-pen-views/node_modules/space-pen/lib/space-pen.js:184:25)\n    at new PackageCard (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/package-card.js:22:48)\n    at InstalledPackagesPanel.module.exports.InstalledPackagesPanel.createPackageCard (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/installed-packages-panel.js:337:18)\n    at ListView.createView (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/installed-packages-panel.js:3:61)\n    at ListView.module.exports.ListView.addView (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/list-view.js:50:19)\n    at /home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/list-view.js:13:24\n    at Function.module.exports.Emitter.simpleDispatch (/home/user/share/atom/resources/app.asar/node_modules/event-kit/lib/emitter.js:25:14)\n    at Emitter.module.exports.Emitter.emit (/home/user/share/atom/resources/app.asar/node_modules/event-kit/lib/emitter.js:125:28)\n    at List.module.exports.List.setItems (/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/list.js:42:22)\n    at /home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/installed-packages-panel.js:284:28(anonymous function) @ /home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/installed-packages-panel.js:298\n/home/user/share/atom/resources/app.asar/node_modules/settings-view/lib/installed-packages-panel.js:299 Uncaught (in promise) TypeError: Cannot read property 'hide' of undefined(\u2026)\n. @slavaGanzin \nI haven't tested the code below, but I was hoping to have the option to define kernelspecs in the Hydrogen settings:\n``` coffeescript\n    getAvailableKernels: _.memoize ->\n        availableKernels = []\n    try\n        out = child_process.spawnSync('jupyter',['kernelspec','list', '--json']).stdout.toString()\n        specs = _.pluck(JSON.parse(out).kernelspecs, 'spec')\n        availableKernels = _.union availableKernels specs\n    catch\n\n    try\n        out = child_process.spawnSync('ipython',['kernelspec','list', '--json']).stdout.toString()\n        specs = _.pluck(JSON.parse(out).kernelspecs, 'spec')\n        availableKernels = _.union availableKernels specs\n    catch\n\n    try\n        out = @getConfigJson('kernelspecs')\n        specs = _.pluck(JSON.parse(out).kernelspecs, 'spec')\n        availableKernels = _.union availableKernels specs\n    catch\n\n    return availableKernels\n\n``\n. Because in Ubuntu 14.04 bothjupyter kernelspecandipython kernelspec` fail.\nHaving the option to define kernelspecs in the Hydrogen settings not only helps workaround this issue, but also helps with issue #38 .\n. I've checked and the code below works for me:\n``` coffeescript\n    getAvailableKernels: _.memoize ->\n        availableKernels = []\n    try\n        out = child_process.spawnSync('jupyter',['kernelspec','list', '--json']).stdout.toString()\n        specs = _.pluck(JSON.parse(out).kernelspecs, 'spec')\n        availableKernels = _.union(availableKernels, specs)\n    catch\n        try\n            out = child_process.spawnSync('ipython',['kernelspec','list', '--json']).stdout.toString()\n            specs = _.pluck(JSON.parse(out).kernelspecs, 'spec')\n            availableKernels = _.union(availableKernels, specs)\n        catch\n\n    try\n        out = @getConfigJson('kernelspecs')\n        specs = _.pluck(out, 'spec')\n        availableKernels = _.union(availableKernels, specs)\n    catch\n\n    return availableKernels\n\n```\n``` coffeescript\nmodule.exports = Hydrogen =\n    config:\n        kernelspecs:\n            title: \"Kernel Specs\"\n            description: 'Kernel specs as reported by:\n                        $ jupyter kernelspecs list --json\n\n                      E.g.:\n\n                        {\n                          \"ijavascript\": {\n                            \"spec\": {\n                              \"display_name\": \"IJavascript\",\n                              \"env\": {},\n                              \"argv\": [\n                                \"node\",\n                                \"/home/user/node_modules/ijavascript/lib/kernel.js\",\n                                \"--protocol=5.0\",\n                                \"{connection_file}\"\n                              ],\n                              \"language\": \"javascript\"\n                            },\n                            \"resources_dir\": \"/home/user/node_modules/ijavascript/images\"\n                          }\n                        }'\n        type: 'string'\n        default: '{}'\n\n``\n. @slavaGanzin IPython v1.2.1 doesn't recognise the optionkernelspec`:\n```\n$ ipython --version\n1.2.1\n$ ipython kernelspec list --json\n=========\n IPython\n=========\nTools for Interactive Computing in Python\nA Python shell with automatic history (input and output), dynamic object\nintrospection, easier configuration, command completion, access to the\nsystem shell and more.  IPython can also be embedded in running programs.\n\nUsage\nipython [subcommand] [options] [-c cmd | -m mod | file] [--] [arg] ...\n\nIf invoked with no options, it executes the file and exits, passing the\nremaining arguments to the script, just as if you had specified the same\ncommand with python. You may need to specify `--` before args to be passed\nto the script, to prevent IPython from attempting to parse them. If you\nspecify the option `-i` before the filename, it will enter an interactive\nIPython session after running the script, rather than exiting. Files ending\nin .py will be treated as normal Python, but files ending in .ipy can\ncontain special IPython syntax (magic commands, shell expansions, etc.).\n\nAlmost all configuration in IPython is available via the command-line. Do\n`ipython --help-all` to see all available options.  For persistent\nconfiguration, look into your `ipython_config.py` configuration file for\ndetails.\n\nThis file is typically installed in the `IPYTHONDIR` directory, and there\nis a separate configuration directory for each profile. The default profile\ndirectory will be located in $IPYTHONDIR/profile_default. For Linux users,\nIPYTHONDIR defaults to `$HOME/.config/ipython`, and for other Unix systems\nto `$HOME/.ipython`.  For Windows users, $HOME resolves to C:\\Documents\nand Settings\\YourUserName in most instances.\n\nTo initialize a profile with the default configuration file, do::\n\n  $> ipython profile create\n\nand start editing `IPYTHONDIR/profile_default/ipython_config.py`\n\nIn IPython's documentation, we will refer to this directory as\n`IPYTHONDIR`, you can change its default location by creating an\nenvironment variable with this name and setting it to the desired path.\n\nFor more information, see the manual available in HTML and PDF in your\ninstallation, or online at http://ipython.org/documentation.html.\n\nSubcommands\nSubcommands are launched as ipython cmd [args]. For information on using\nsubcommand 'cmd', do: ipython cmd -h.\nlocate\n    print the path to the IPython dir\nprofile\n    Create and manage IPython profiles.\nconsole\n    Launch the IPython terminal-based Console.\nkernel\n    Start a kernel without an attached frontend.\nnotebook\n    Launch the IPython HTML Notebook Server.\nnbconvert\n    Convert notebooks to/from other formats.\nqtconsole\n    Launch the IPython Qt Console.\nhistory\n    Manage the IPython history database.\nOptions\nArguments that take values are actually convenience aliases to full\nConfigurables, whose aliases are listed on the help line. For more information\non full configurables, see '--help-all'.\n--no-autoindent\n    Turn off autoindenting.\n--autoedit-syntax\n    Turn on auto editing of files with syntax errors.\n--deep-reload\n    Enable deep (recursive) reloading by default. IPython can use the\n    deep_reload module which reloads changes in modules recursively (it\n    replaces the reload() function, so you don't need to change anything to\n    use it). deep_reload() forces a full reload of modules whose code may\n    have changed, which the default reload() function does not.  When\n    deep_reload is off, IPython will use the normal reload(), but\n    deep_reload will still be available as dreload(). This feature is off\n    by default [which means that you have both normal reload() and\n    dreload()].\n--confirm-exit\n    Set to confirm when you try to exit IPython with an EOF (Control-D\n    in Unix, Control-Z/Enter in Windows). By typing 'exit' or 'quit',\n    you can force a direct exit without any confirmation.\n--pylab\n    Pre-load matplotlib and numpy for interactive use with\n    the default matplotlib backend.\n--matplotlib\n    Configure matplotlib for interactive use with\n    the default matplotlib backend.\n--term-title\n    Enable auto setting the terminal title.\n--classic\n    Gives IPython a similar feel to the classic Python prompt.\n--autoindent\n    Turn on autoindenting.\n--no-automagic\n    Turn off the auto calling of magic commands.\n--banner\n    Display a banner upon starting IPython.\n--automagic\n    Turn on the auto calling of magic commands. Type %%magic at the\n    IPython  prompt  for  more information.\n--no-deep-reload\n    Disable deep (recursive) reloading by default.\n--no-term-title\n    Disable auto setting the terminal title.\n--nosep\n    Eliminate all spacing between prompts.\n-i\n    If running code from the command line, become interactive afterwards.\n    Note: can also be given simply as '-i.'\n--debug\n    set log level to logging.DEBUG (maximize logging output)\n--pprint\n    Enable auto pretty printing of results.\n--no-autoedit-syntax\n    Turn off auto editing of files with syntax errors.\n--quiet\n    set log level to logging.CRITICAL (minimize logging output)\n--no-color-info\n    Disable using colors for info related things.\n--color-info\n    IPython can display information about objects via a set of func-\n    tions, and optionally can use colors for this, syntax highlighting\n    source code and various other elements.  However, because this\n    information is passed through a pager (like 'less') and many pagers get\n    confused with color codes, this option is off by default.  You can test\n    it and turn it on permanently in your ipython_config.py file if it\n    works for you.  Test it and turn it on permanently if it works with\n    your system.  The magic function %%color_info allows you to toggle this\n    interactively for testing.\n--init\n    Initialize profile with default config files.  This is equivalent\n    to running ipython profile create <profile> prior to startup.\n--no-pdb\n    Disable auto calling the pdb debugger after every exception.\n--quick\n    Enable quick startup with no config files.\n--no-confirm-exit\n    Don't prompt the user when exiting.\n--pydb\n    Use the third party 'pydb' package as debugger, instead of pdb.\n    Requires that pydb is installed.\n--pdb\n    Enable auto calling the pdb debugger after every exception.\n--no-pprint\n    Disable auto pretty printing of results.\n--no-banner\n    Don't display a banner upon starting IPython.\n--profile= (BaseIPythonApplication.profile)\n    Default: u'default'\n    The IPython profile to use.\n--pylab= (InteractiveShellApp.pylab)\n    Default: None\n    Choices: ['auto', 'gtk', 'inline', 'osx', 'qt', 'qt4', 'tk', 'wx']\n    Pre-load matplotlib and numpy for interactive use, selecting a particular\n    matplotlib backend and loop integration.\n--matplotlib= (InteractiveShellApp.matplotlib)\n    Default: None\n    Choices: ['auto', 'gtk', 'inline', 'osx', 'qt', 'qt4', 'tk', 'wx']\n    Configure matplotlib for interactive use with the default matplotlib\n    backend.\n--colors= (InteractiveShell.colors)\n    Default: 'LightBG'\n    Choices: ('NoColor', 'LightBG', 'Linux')\n    Set the color scheme (NoColor, Linux, or LightBG).\n--cache-size= (InteractiveShell.cache_size)\n    Default: 1000\n    Set the size of the output cache.  The default is 1000, you can change it\n    permanently in your config file.  Setting it to 0 completely disables the\n    caching system, and the minimum value accepted is 20 (if you provide a value\n    less than 20, it is reset to 0 and a warning is issued).  This limit is\n    defined because otherwise you'll spend more time re-flushing a too small\n    cache than working\n--logfile= (InteractiveShell.logfile)\n    Default: ''\n    The name of the logfile to use.\n--profile-dir= (ProfileDir.location)\n    Default: u''\n    Set the profile location directly. This overrides the logic used by the\n    profile option.\n-c  (InteractiveShellApp.code_to_run)\n    Default: ''\n    Execute the given command string.\n--autocall= (InteractiveShell.autocall)\n    Default: 0\n    Choices: (0, 1, 2)\n    Make IPython automatically call any callable object even if you didn't type\n    explicit parentheses. For example, 'str 43' becomes 'str(43)' automatically.\n    The value can be '0' to disable the feature, '1' for 'smart' autocall, where\n    it is not applied if there are no more arguments on the line, and '2' for\n    'full' autocall, where all callable objects are automatically called (even\n    if no arguments are present).\n--ipython-dir= (BaseIPythonApplication.ipython_dir)\n    Default: u'/home/nriesco/.config/ipython'\n    The name of the IPython directory. This directory is used for logging\n    configuration (through profiles), history storage, etc. The default is\n    usually $HOME/.ipython. This options can also be specified through the\n    environment variable IPYTHONDIR.\n--gui= (InteractiveShellApp.gui)\n    Default: None\n    Choices: ('glut', 'gtk', 'gtk3', 'none', 'osx', 'pyglet', 'qt', 'qt4', 'tk', 'wx')\n    Enable GUI event loop integration with any of ('glut', 'gtk', 'gtk3',\n    'none', 'osx', 'pyglet', 'qt', 'qt4', 'tk', 'wx').\n--logappend= (InteractiveShell.logappend)\n    Default: ''\n    Start logging to the given file in append mode.\n-m  (InteractiveShellApp.module_to_run)\n    Default: ''\n    Run the module as a script.\n--log-level= (Application.log_level)\n    Default: 30\n    Choices: (0, 10, 20, 30, 40, 50, 'DEBUG', 'INFO', 'WARN', 'ERROR', 'CRITICAL')\n    Set the log level by value or name.\n--ext= (InteractiveShellApp.extra_extension)\n    Default: ''\n    dotted module name of an IPython extension to load.\n--config= (BaseIPythonApplication.extra_config_file)\n    Default: u''\n    Path to an extra config file to load.\n    If specified, load this config file in addition to any other IPython config.\nTo see all available configurables, use --help-all\nExamples\nipython --matplotlib       # enable matplotlib integration\nipython --matplotlib=qt    # enable matplotlib integration with qt4 backend\n\nipython --log-level=DEBUG  # set logging to DEBUG\nipython --profile=foo      # start with profile foo\n\nipython qtconsole          # start the qtconsole GUI application\nipython help qtconsole     # show the help for the qtconsole subcmd\n\nipython console            # start the terminal-based console application\nipython help console       # show the help for the console subcmd\n\nipython notebook           # start the IPython notebook\nipython help notebook      # show the help for the notebook subcmd\n\nipython profile create foo # create profile foo w/ default config files\nipython help profile       # show the help for the profile subcmd\n\nipython locate             # print the path to the IPython directory\nipython locate profile foo # print the path to the directory for profile `foo`\n\nipython nbconvert           # convert notebooks to/from other formats\n\n[TerminalIPythonApp] CRITICAL | Bad config encountered during initialization:\n[TerminalIPythonApp] CRITICAL | Unrecognized flag: '--json'\n```\n. Does this issue affect Windows?\nIs this issue limited to Mac?\nIf it's limited to Mac (or Windows isn't affected), a solution simpler than this would be:\njs\nif process.platform is \"darwin\"\n    args = [\n        \"-lc\",\n        commandString,\n    ].concat(args)\n    commandString = process.env.SHELL\nJust before calling spawn.\n. The bug doesn't seem to affect Ubuntu 14.04 when the kernelspec is set to:\njson\n{\n    \"kernelspecs\": {\n        \"ipython\": {\n            \"spec\": {\n                \"display_name\": \"IPython\",\n                \"env\": {},\n                \"argv\": [\n                    \"ipython\",\n                    \"kernel\",\n                    \"--no-secure\",\n                    \"--colors=NoColor\",\n                    \"-f\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"python\"\n            }\n        }\n    }\n}\n. On 15/03/16 00:30, Lukas Geiger wrote:\n\nI have this problem just with one python module which wasn't installed via |pip| and isn't located in the default python directory. So maybe this isn't hydrogens fault but rather the package itself.\n\nPerhaps, I'm misunderstanding the issue. Could you describe how to reproduce it?\n. @lgeiger This may be an issue on where your system sets PYTHONPATH. In my machine, when I run Atom using a .desktop file, I have no problem to see the environment variables set in ~/.profile.\n. @rgbkrk Is there still an issue on Mac? Are the user's environment variables visible when Atom isn't run from a terminal?\n. @lgeiger Shall we close this issue?\n. Also you need to update lib/main.coffee:\n``` coffeescript\nmodule.exports = Hydrogen =\n    config:\n        kernelspecs:\n            title: \"Kernel Specs\"\n            description: 'Kernel specs as reported by:\n                        $ jupyter kernelspecs list --json\n\n                      E.g.:\n\n                        {\n                          \"ijavascript\": {\n                            \"spec\": {\n                              \"display_name\": \"IJavascript\",\n                              \"env\": {},\n                              \"argv\": [\n                                \"node\",\n                                \"/home/user/node_modules/ijavascript/lib/kernel.js\",\n                                \"--protocol=5.0\",\n                                \"{connection_file}\"\n                              ],\n                              \"language\": \"javascript\"\n                            },\n                            \"resources_dir\": \"/home/user/node_modules/ijavascript/images\"\n                          }\n                        }'\n        type: 'string'\n        default: '{}'\n\n```\n. As a user, I don't want to type my custom kernelspecs every time I launch Atom. I think if a user defines manually the kernel specs, Hydrogen shouldn't delete the user's settings.\n. #38\n. This commit is not working for me.\nI'm still debugging, but I've noticed typos here and here\n. I don't understand the logic here. If we don't return, kernelspec is undefined.\n. Why is the setting kernelspec and not kernelspecs?\nPS: Does anyone know where atom stores the settings? /home/user/.atom/config.cson\n. @slavaGanzin I disagree on #38 (we shouldn't force users to install IPython to use Hydrogen, specially users of languages other than Python).\n\nhttps://jupyter-client.readthedocs.org/en/latest/kernels.html#connection-files  \n\nConnection files represent actual connections (they don't define a kernel spec).\n. This line is causing the kernelspec spec settings to be reset each time Atom is launched. It should be:\ncoffeescript\nsave stdout unless e\n. I reckon this line should be:\ncoffeescript\nkernels = _.pluck @getConfigJson('kernelspec', {kernelspecs:{}}).kernelspecs, 'spec'\n. > Nobody forces to use Ipython, you can use jupyter it works the same\nThat's not my point. Ideally, there shouldn't be any need for Hydrogen users to install Jupyter or IPython.\nThe current state of Hydrogen is that either  a recent version of IPython or Jupyter need to be present to run Hydrogen.\nPrevious versions of Hydrogen used to work on a box with IPython 1.2.1 (as long as the kernel specs were installed in one of the locations known to Hydrogen).\nWhen I reported #173 , I was hoping to find a friendly compromise. I'm not asking to stop using the newer versions. What I'm asking is that we write robust code (i.e. doesn't throw uncaught exceptions) and that allows Hydrogen to run in a standard Ubuntu 14.04 box.\n. I've tested the latest commits and it's working in my machine.\nThanks!\n. @rgbkrk I haven't followed some of the latest commits, so I can't answer your question. But I would suggest that:\n- if new dependencies have been added, we would bump at least the minor number (I wouldn't bump to 1.0.0 just yet)\n- if no new dependencies are required, then I would only bump the patch number.\n. Judging by this line in your log:\nmake: *** No rule to make target ../../../../../../../../../../../../Applications/Atom', needed byMakefile'. Stop.\nI would guess, it may be a problem with your installation of Atom.\nThis log message indicates that there is a Makefile that can't locate your installation of Atom.\nI'm not familiar with apm-beta. Is it perhaps that Atom has been renamed Atom-beta?\n. @niderhoff Oh, I see! it looks like ../../../../../../../../../../../../Applications/Atom is actually a truncated path ../../../../../../../../../../../../Applications/Atom Beta.app. If that's the case renaming or linking won't help.\nI think this issue has been reported to on the apm repository here.\n. Well, at least you now know that it can work with apm-beta. Here's another guess: perhaps, node-gyp fails because there are some stale files in ~/.atom/.node-gyp/.\n. Perhaps relevant:\nhttps://github.com/nodejs/node-gyp/issues/734\nhttps://github.com/nodejs/node/issues/2933\n. On 01/03/16 07:27, Jeff wrote:\n\n[...] then deleted atom's compile-cache folder.\n\nPersonally, I think what fixed your problem was removing the cache folder.\n\nShould I close this, or could there be a genuine issue with Hydrogen 0.7.1?\n\nHave you tried to upgrade to 0.7.1? If you do so, make sure the libraries in your environment (pip or anaconda) are the same as those used to install Atom and the plugins.\n. A word of caution: apm rebuild should be run on the same folder Hydrogen was installed.\n. I will have a look at this issue.\n@slavaGanzin , @rgbkrk What are your thoughts? I see two ways to approach this issue:\n- change the way Hydrogen identifies what a code block is and allow empty lines\n- or change the logic to move down the cursor and ensure it moves to the beginning of the next code block.\n. @slavaGanzin OK, thanks for the link.\n. Could we merge #185 before this PR?\n. @slavaGanzin I'm not sure I understand. In Coffeescript, what I would write is:\ncoffeescript\nendRow = @editor.getLastBufferRow()\nendRow-- while @blank(endRow) and endRow > 0\nbut I find more readable the way @lgeiger wrote it.\n. @slavaGanzin The thing that I find most wrong about https://github.com/lgeiger/hydrogen/commit/cb7db1206b4436a928e0e9941901271c01b549d8 :\njs\nendRow = @editor.getBuffer().getText().replace(/\\s+$/).split('\\n').length - 1\nis that it creates unnecessary strings:\n- replace(/\\s+$/) creates a string that, in the worst-case scenario, is as big as the whole document;\n- split('\\n') again creates a number of strings that, again in the worst-case scenario, are as big as the whole document;\n- all these strings are created and dumped straight way, because we are only interested in the length;\nOn the other hand, I find @lgeiger 's initial version more readable and descriptive:\ncoffeescript\nendRow = @editor.getLastBufferRow()\nwhile @blank(endRow) and endRow > 0\n    endRow -= 1\nbecause it resembles more closely the algorithm that it's trying to implement; namely, that of skipping blank lines, i.e.:\n- check whether a line is blank\n- iterate until finding a non-blank line or reaching the the first line\nAnyway, I don't feel strongly about while-loops. If Hydrogen, as a project, decided to ban the use of while-loops, I would comply. Personally, I believe that this is a bike-shedding argument, and that, at this time, Hydrogen is better off without this kind of constraints.\n. On 07/03/16 13:34, Slava wrote:\n\nIf you analyze this code and look underneath you'll find pretty the same: https://github.com/lgeiger/hydrogen/blob/cb7db1206b4436a928e0e9941901271c01b549d8/lib/main.coffee#L367-L369 and even worse. How do you think you can take last line of buffer, except slicing it with '\\n'?\n\n``` coffeescript\nblank: (row) ->\n    return @editor.getBuffer().isRowBlank(row) or\n           @editor.languageMode.isLineCommentedAtBufferRow(row)\n\n```\nI trust Atom implements this efficiently (because that's the purpose of a text editor).\nI would imagine that, to avoid the creation of unnecessary strings, Atom uses a scanner.\nI also imagine that buffers in Atom have been implemented using a data structure that allows both the efficient edition and scanning of the text in the buffer.\n\nIf you are so afraid of over consumption memory try to avoid calling functions (inline them!) in a cycle - they copy arguments.\n\nThe right word is \"concerned\".\nInlining makes no difference. Strings don't get copied (strings get created and references to the strings are passed around).\n\nAs for me, we don't leave in 90s when \"640kb is enough for everyone\". Ram is cheap and our time is not. While cycles often causes problems - they aren't pure.\n\n(bike-shedding)\n\nBut generally I don't care. You can use any code you want. But, please, move it to separate function.\n\nI don't understand this last point. Could you give an example?\n. On 07/03/16 16:34, Slava wrote:\n\nI trust Atom implements this efficiently (because that's the purpose of a text editor).\nhttps://github.com/atom/text-buffer/blob/master/src/history.coffee\nAs I can see they don't write something good looking or efficient.\n\nCould you be more specific? I don't know what I'm supposed to look at.\n\nInlining makes no difference. Strings don't get copied (strings get created and references to the strings are passed around).\nMaybe we are talking about different things, but where did you read that?\n|a = '123' b = (a) -> a = '1234' b(a) console.log a |\n\nI don't understand what the above example is trying to illustrate.\nThe only thing I see is that the above piece of code allocates memory for two strings: '123' and '1234'.\n\nI don't understand this last point. Could you give an example?\nThat's easy: if you have something working based on state, and so impure - answer correlates with state; preferably to refactor it to a function - in such way you encapsulate it's side effects.\n\nWhen I said that I didn't understand your last point, by \"your last point\" I meant your last paragraph: \"But generally I don't care. You can use any code you want. But, please, move it to separate function\".\n. @slavaGanzin Yes, I agree that it's better that we stop the discussion here.\nPlease, don't say things like \"you're not the one who dictates here\". You're the person that contributed the most to Hydrogen other than Will, and your opinion is very important.\n. - I'm sure this will look even better, once this proposal in Jupyter is completed.\n- As Kyle suggested, I would do a git rebase -i origin/master and I would also squash some of the commits that add nothing to the repository history.\n- I've also noticed a bad interaction between the autocomplete window and the new inspector pane. See below:\n\n. @lgeiger 4d516fe fixes the overlay issue with autocomplete, but it would bring back #48\n. @lgeiger See below, the marker with the result 15 shows over the inspector pane.\n\n. @lgeiger I'm not familiar with the styling in Hydrogen. Does it make sense to set the z-indez of .bubble-output?\n. @lgeiger I've reopened #48.\nThis PR looks good to merge.\n. @rgbkrk Service with a :smile:  ! \n. @lgeiger I don't know what the implications of setting the z-index of atom-text-editor are. Perhaps @rgbkrk or @slavaGanzin know.\nThe partially-hidden completion list becomes a nuisance once you type code on the bottom lines.\nI think we need to come up with alternative way to display Hydrogen results. Overlay markers are perfect for completion lists, but they're not meant to display Hydrogen results.\n@rgbkrk @slavaGanzin What do you think?\n. Let's continue the discussion on #48 .\n. @rgbkrk I'm reviewing this PR. Please, don't merge it for the time being.\n@lgeiger I'll give you some feedback soon.\n. @lgeiger Here's my review:\n- main.coffee has grown too large, we should aim at moving functionality out of main.coffee; by this I mean:\n  - If there's a choice between adding functionality to main.coffee or to any other file, it's preferable to add the functionality to other files.\n  - For example, functionality recently added, like the Inspector, should be moved into its own file (similarly to the autocomplete provider or watch view).\n- In this case, the PR touches main.coffee, and kernel-manager.coffee. There is no need to touch main.coffee, it is possible to limit all the changes to kernel-manager.coffee. I think, though, that since the startup code is only run on kernel construction, this PR should be limited to changing kernel.coffee.\n- There is also the question whether the startup code should be specific to a language or to a kernel. For example, for Javascript, there is one kernel that won't support magics, and the other two don't support the same magics.\n. On 15/03/16 11:20, Lukas Geiger wrote:\n\n\nI try to figure out a way to do this\n\n\nI think moving all the relevant code to the kernel constructor (or to a method called by the constructor) should be enough. Please, let me know if there are any difficulties.\n. On 15/03/16 11:52, Lukas Geiger wrote:\n\nThe easiest thing for me to do is moving it to |startKernel| in |kernel-manager.coffee|. It would reduce the code to just four lines. I'll just have to do some testing.\n\nSGTM\n. On 15/03/16 12:10, Lukas Geiger wrote:\n\nCan we use use the |kernelInfo.display_name| instead of |kernelInfo.language| to achieve point 3?\n\nI think that's the easiest option I can see at the moment.\n. @lgeiger It's working for me. I've tested it with startupCode configured as:\njson\n{\"IPython 2\": \"test = \\\"IPython 2\\\"\", \"IPython 3\": \"test = \\\"IPython 3\\\"\"}\nand kernelspec:\njson\n{\n    \"kernelspecs\": {\n        \"ipython2\": {\n            \"spec\": {\n                \"display_name\": \"IPython 2\",\n                \"env\": {},\n                \"argv\": [\n                    \"ipython\",\n                    \"kernel\",\n                    \"--no-secure\",\n                    \"--colors=NoColor\",\n                    \"-f\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"python\"\n            }\n        },\n        \"ipython3\": {\n            \"spec\": {\n                \"display_name\": \"IPython 3\",\n                \"env\": {},\n                \"argv\": [\n                    \"ipython3\",\n                    \"kernel\",\n                    \"--no-secure\",\n                    \"--colors=NoColor\",\n                    \"-f\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"python\"\n            }\n        }\n    }\n}\n. Shall we merge?\n. TODO\n- [ ] Add a minimal coding style guide\n. On 11/06/16 15:28, Slava wrote:\n\n@n-riesco https://github.com/n-riesco Did you removed all of them? \ud83d\ude04\n\nAvoid adding new one would be a good start!\nhttps://github.com/nteract/hydrogen/blob/b50e192db05556aaaf24489ec5d02fb92425061e/lib/kernel-picker.coffee#L7\n. This would do:\ncoffeescript\nclass SignalListView extends SelectListView\n    initialize: (@kernels)->\n. On 13/06/16 18:45, Slava wrote:\n\nSomeone(for example I in a month) will treat it as property and forget to call it.\n\nExactly, this is the main reason why the convention is verbs are used to name functions, and nouns to name properties.\nAlso note that getters and setter in Javascript aren't called (unlike in Java).\n. On 14/06/16 16:36, Slava wrote:\n\nGreat. But how can i define get(getter) property in coffeescript?\n\nYou already posted the answer to this question above:\ncoffeescript\nObject.defineProperty foo, \"bar\", get: getFooBar\n. And a more through example:\ncoffeescript\nObject.defineProperty foo, \"bar\",\n    get: getFooBar\n    set: setFooBar\n. This issue at the CoffeeScript repository is relevant.\nAlso:\nhttps://github.com/jashkenas/coffeescript/issues/64\nhttps://github.com/jashkenas/coffeescript/issues/1165\nhttp://stackoverflow.com/questions/11587231/coffeescript-getter-setter-in-object-initializers\n. On 14/06/16 19:52, Slava wrote:\n\nLooks like overkill, that brings nothing new. Get/set in js is syntactic sugar, with object.defineProperty it's opposite.\nI think we should close issue\n\nThis issue is not about using Object.defineProperty.\nThis is issue (as the title states) is about not using getters and setters. In other words:\n- in the case of getElement() vs element, the property element is more common in the code, and thus I would remove getElement().\n- in the case of KernelPicker, getKernels is a property, and thus I would rename it to kernels.\n- I can't think of any other examples at the moment.\n. One thing that complicates the interaction between Kernel and all the other classes is that Kernel transforms Jupyter messages into an intermediate object of the form:\ncoffeescript\n                result =\n                    data:   'ok'\n                    type:   'text'\n                    stream: 'status'\nIn future PRs, I'm planning to get rid of these intermediate objects where possible.\n. @rgbkrk Here and here are the lines where tranformime is used.\nAfter this initial experience with transformime, there are two things I would change:\n- Instead of passing document in the call to transform, I could pass it to the constructor.\n- After quickly going through the code in transformime, I think it would also be possible to pass document.createElement instead of document.\n. On 16/03/16 20:42, Kyle Kelley wrote:\n\nThe reason this was broken up separately was likely for iframe usage,\n\nOne could always create several instances of Transformime:\njs\ndocumentTransformer = new transformime.Transformime(document.createElement, transformers);\niframeTransformer = new transformime.Transformime(iframe.contentDocument.createElement, transformers);\n. @lgeiger Since this PR is already merged, let's move the discussion to #207 \n. In the past, it was possible for Hydrogen to run IPython without installing a kernel spec. Last time I tried this, it didn't work and I had to set the kernel spec in Hydrogen's settings.\n. Just to be clear:\nTo decide whether that piece of code should be fixed or removed, we need to decide whether Hydrogen will support only installed kernels.\nI've just checked the README.md and I think it needs updating:\n- the dependencies section should specify what versions (Atom. Node, IPython, Jupyter, ZMQ) are required.\n- stress more the need to install a kernel.\n. On 18/03/16 18:50, Lukas Geiger wrote:\n\nNode is just a development dependency, isn't it? I remember using hydrogen in the past without a separate Node installation on my system. Or am I wrong?\n\nYou're right. Specifying the Atom version is enough.\n. This is working in master.\nI will check if I can reproduce the issue in the package available on the Atom package repository.\n. It's working for me on v0.7.2.\n@dpavlic Please, could you open the dev console in Atom (press shift-ctrl-i) and run the code again.\nYou will see many log messages in the console. The one I would like to see is the last IO message that has the prefix set to \"display_data\". This is what I see in my case:\n\n. I've just noticed that the development version of atom that I'm using has a \"Content-Security-Policy\" awfully unsafe:\n\n@dpavlic Please, could you check what \"Content-Security-Policy\" your Atom installation is using?\n- Open the dev console (press shift-ctrl-i).\n- Press shift-ctrl-c to enable the inspect pointer and click on the pane where Hydrogen is running.\n- Now the dev console should be showing the HTML content of that pane.\n- Scroll up to the top and expand the <head> tag and you'll find a <meta> tag that sets the \"Content-Security-Policy\".\n. It seems to me that this is an issue in Atom, which is \"fixed\"  in Atom 1.7.0-beta0; more specifically, in this PR https://github.com/atom/atom/pull/9627 .\n. That's surprising! I posted what I get using the beta.\nI believe Atom v1.6.0 is missing img-src data: *; in the \"Content-Security-Policy\" and that makes Hydrogen fail the security policy..\n. I can confirm this is also happening in master.\n@slavaGanzin , @lgeiger , @rgbkrk,  Perhaps, we should offer the option to show large results in a tab.\nI've been also toying with the idea that large outputs are initially shown collapsed, and expand only when clicked.\n. On 18/03/16 04:12, Seth Bromberger wrote:\n\nHm. it works when I launch atom from the command line. But I thought this was fixed via #176 https://github.com/nteract/hydrogen/issues/176?\n\nThis is Atom's issue https://github.com/atom/atom/pull/11054 .\nI can see that although the fix is not in Atom 1.6.0 it's now present in 1.7.0-beta0.\nBTW, is this issue limited to OS X?\n. @sbromberger If you update your Atom installation, please, could you post here whether this bug is still present?\n. I'm closing this issue because it should be fixed since Atom v1.8.0\n. @lgeiger \n- Sorry about breaking the ANSI colours (I should've remembered you just implemented that). Could you open a separate issue for it?\n- SVG works for me, Could you show me how to reproduce the failure you see?\n- Could you open a separate issue for the error notifications?\n- I will address the issue with the font size in this PR\n. @lgeiger For the issue with SVG, could you try to check the logs as described in #204 ?\n. @lgeiger Thanks for the code. Now I can reproduce it.\n. @lgeiger, re checkmarks: I don't think so. The block decorations don't even live in the same <div> as the code line.\nWe better address the checkmarks in a different PR, since I think we will have to implement them using something other than block decorations.\n. @lgeiger The problem with SVGs is triggered with SVG that do not start with an <svg> tag. In your example, if I remove the first few line, Hydrogen shows the image:\nsvg\n<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n  \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Created with matplotlib (http://matplotlib.org/) -->\n<svg height=\"255pt\" version=\"1.1\" viewBox=\"0 0 378 255\" width=\"378pt\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n...\n</svg>\n. @lgeiger Is this font size ok?\n\n. @rgbkrk The problem displaying SVGs was caused by transformime-jupyter-transformers. The SVG transformer converts the SVG data into a DOM element here but it only returns the first child, which often is just a comment.\nI see two ways to fix this:\n- as I have done in Hydrogen\n- or alternatively, return the <div> element with all the child nodes (but this isn't friendly with styles).\n. On 19/03/16 12:52, Slava wrote:\n\nHello everyone, I accidentally make git pull because wanted to fix #205 https://github.com/nteract/hydrogen/issues/205. And now I have no result bubbles at all. Should I recompile anything or ...?\n\nThere are new dependencies. Try apm install on the Hydrogen folder.\n\nAnd if we decided to move to block decorations,\n\nI'm OK with trying other solutions, but we do need to move away from overlays because they're meant for auto-completion lists.\n\nI think we shouldn't use different font(which was great in visual separating hydrogen popups from code) and use user defined.\n\nTransformime wraps 'text/plain' with a <pre> tag. If you want to play with the style, have a look at these lines:\nhttps://github.com/nteract/hydrogen/blob/104d8cee62b53c78e01d4b37b80b208be936abc6/styles/hydrogen.less#L109-L117\nand\nhttps://github.com/nteract/hydrogen/blob/104d8cee62b53c78e01d4b37b80b208be936abc6/styles/hydrogen.less#L133-L141\n. What Atom version are you using?\nBlock decorations were introduced in Atom v1.6.0.\n. @slavaGanzin Note also that Atom v1.6.0 broke embedding images (see #204 ).\n. Actually, I removed this on purpose because I thought it duplicated the information already shown in the result bubble.\nI'm OK to bring it back if you find it useful.\n. @slavaGanzin Do you need these notifications back? If not, let's close this issue.\n. @slavaGanzin I think those messages are actually invisible to Python. I've seen this happening with python modules that wrap FORTRAN or C/C++ libraries that use stdio to report warnings and errors. I imagine the python module doesn't wrap the stdio use by the underlying library.\nThere are a few arguments for not showing them:\n- the kernel uses stdout and stderr for a different purpose; namely, to display log messages (which can be very verbose)\n- currently, the Jupyter notebook doesn't show them (I guess that, like python, Jupyter doesn't see them).\n- in principle, the stdio associated with a kernel session and the stdio of the script that starts a kernel session may not be the same. The frontend (in this case Hydrogen) sees the stdio of the kernel session, only because the session is run in the same process that the script that started the kernel session. Hydrogen wouldn't be able to see the stdio of the kernel session, if the session was remote.\n- the only way specified in the Jupyter Messaging Protocol to publish data written in the kernel stdio is a stream IO message.\n. @slavaGanzin What about the 4 points I made in my previous message?\n. Those messages are invisible to IPython. IPython doesn't see them. Python doesn't see them. You won't be able to write a Python script that manipulates them, unless you capture the stdio of the process that runs the Python interpreter.\nSince this it's important too you, I will implement a setting to enable/disable this kind of notifications.\n. #218 \n. And now store them into a variable and do something with them. This is exactly the point I'm trying to make!\n. That's the point I'm trying to make. Unless you capture the process stdout, you can't. Libraries shouldn't report error messages like that, because programs using those libraries won't be able to act on those messages.\n. @slavaGanzin It isn't a new paradigm. Please, try to understand what I said before:\n- The Jupyter messaging protocol only defines stream IO messages for this purpose.\n- Hydrogen uses kernel specs to launch a kernel. The kernel spec specifies a command to launch a kernel. This launching command and the kernel may not be the same thing.\n- Also note that in your example the kernel doesn't write to stdout and stderr, but rather it invokes a library that writes to stdout and stderr.\n. @rgbkrk Let me be more precise with the wording: it invokes a library that isn't written in Python (C++ in this case) and that library writes to the process stderr instead of  writing to Python's sys.stderr.\n. @rgbkrk Actually, I picture it a little different (no need for child processes):\n- the OS provides each process with standard streams (in Linux, this is /proc/<PID>/fd/0, /proc/<PID>/fd/1 and /proc/<PID>/fd/2).\n- the Python interpreter runs in a process, and thus has its own /proc/<PID>/fd/0, /proc/<PID>/fd/1 and /proc/<PID>/fd/2.\n- Python scripts run by the Python interpreter usually access the standard streams through sys.stdin, sys.stdout and sys.stderr.\n- The issue discussed here arises when sys.stdin, sys.stdout and sys.stderr are by-passed, and  /proc/<PID>/fd/0, /proc/<PID>/fd/1 and /proc/<PID>/fd/2 are accessed directly.\nYou can see this issue at action by running the following script in the console and in the notebook:\npython\nimport os\nos.system(\"echo Hi! > /proc/$$/fd/1\")\n. Previously, error results were coloured in red. I really liked this feature.\nThe changes in styles/hydrogen.less remove the colour styling in error messages.\nOther than that, this PR is a neat way to use ansi-to-html via transformime.\n. This is how it looks look with the IJavascript kernel (which doesn't use ANSI colours):\n\n. @rgbkrk I expect it to work.\nI've just tested it. It's working in the notebook:\n\nbut it doesn't in Hydrogen:\n\n. @lgeiger @rgbkrk I need to your help. In my machine, the background colours are ignored. I've boiled down the problem to ansi-to-html. For example:\n``` js\n\nvar Convert = require('ansi-to-html')\nundefined\nconvert = new Convert({excapeXML: true, newLine:true})\nFilter {\n  opts: \n   { fg: '#FFF',\n     bg: '#000',\n     newline: false,\n     escapeXML: false,\n     stream: false,\n     excapeXML: true,\n     newLine: true },\n  input: [],\n  stack: [],\n  stickyStack: [] }\nconvert.toHtml(\"\\u001b[48;5;6m\\u001b[38;5;12mtest\\u001b[39m\\u001b[49m\")\n'test'\n```\n\nWhat output do you get when the above code is run?\n. @lgeiger Thanks for the code. That gave me a hint to understand the problem.\nIt looks like a bug in ansi-to-html, for example, it works with plain ANSI colours:\n``` js\n\nconvert.toHtml(\"\\u001b[30;40mtest\\u001b[00m\")\n'test'\n```\n\nbut it gets confused with xterm colours:\n``` js\n\nconvert.toHtml(\"\\u001b[48;5;0m\\u001b[38;5;0mtest\\u001b[39m\\u001b[49m\")\n'test'\n``\n. I like the shadow in the multiline bubbles. Could we have them as well in the in the single line bubbles too?\n. @lgeiger How does it work? Is it thefloat:left` what makes the block decoration to be on the same line?\n. @lgeiger Neat!\n\nCould you have a look at the logic to determine whether a bubble is multiline?\n. @lgeiger Check the SVG example you gave me.\nI gotta go offline for a while.\n. @lgeiger I've tested this branch and works well in my machine.\nPS: The problem I saw before was actually caused by the beta version of the IJavascript kernel. Sorry for the noise.\n. @rgbkrk This is now just a question of replacing the jmp dependency with jmp-prebuilt.\n. @rgbkrk Please, have a look at how I've implemented SVGTransform.\nThe previous implementation didn't work with:\njs\n$$svg$$ = \"<svg><rect width=80 height=80 style='fill: orange;'></rect></svg>\";\nIf you're happy with the new implementation, I will push PR to the transformime-jupyter-transformers repository. Also, please, have a look at the error message, in case you'd like something else.\n. @rgbkrk I've tested the new and the previous SVGTransform and none of them run the embedded JS. Am I doing something wrong? Did the previous SVGTransform run embedded JS?\nThe previous SVGTransform doesn't try to run the embedded JS, and the new SVGTransform tries to run it but fails the Content Security Policy (CSP).\nAfter further testing, I've noticed that, unlike the Jupyter notebook, I can't inject JS at all, not even in text/html responses. I think this is all due to the use CSP.\n. On 21/03/16 17:00, Kyle Kelley wrote:\n\nI've tested the new and the previous SVGTransform and none of them run the embedded JS. Am I doing something wrong? Did the previous SVGTransform run embedded JS?\nNo, I was just stating what I saw. This is good.\n\n:) Just making sure I didn't introduce any regressions.\n. @rgbkrk If it's OK by you, this is the implementation of SVGTransform that I want to push to transformime-jupyter-transformers.\n. LGTM (works on my machine)\n. I'm impressed with this attention to detail!\n. Works for me.\nPS: It never struck me before how \"colourful\" IPython errors are! :stuck_out_tongue_winking_eye:\n. I think having code specific to a kernel is going to make Hydrogen more difficult to maintain.\nIn theory, the kernel has an option for dark backgrounds --colors=Linux that adds a subtle <b>:\n\nand this is how it looks like by default (i.e. --colors='LightBG'):\n\nThere are some (fairly old) issues open about the colour scheme in the IPython repository:\nhttps://github.com/ipython/ipython/issues/2281\nhttps://github.com/ipython/ipython/issues/7931\nhttps://github.com/ipython/ipython/issues/4321\n. Have you installed language-elixir?\nWhat's the output of jupyter kernelspec list --json?\n. I've got to reproduce this issue. I'll debug it and come back to you.\n. Hydrogen got confused with the language name.\nI will submit a PR to fix this problem.\nIn the meantime, you can workaround it by editing the kernel spec in ~/.ipython/kernels/ielixir/kernel.json and rename Elixir to elixir.\n. @slavaGanzin @lgeiger @rgbkrk Since this PR fixes a bug that prevents the IElixir from running, I think we should make a new patch release after merging.\n. Wow! I blink and all is over! :tada: \n. Not today, but at some point we should discuss the list of things we would like to have for v1.0.0.\n. It looks so cool!\n. I've just noticed the demo is not showing up in https://atom.io/packages/Hydrogen\n. I find this functionality very useful to edit and re-run a chuck of code. But without shortcuts, it becomes a bit of pain very quickly.\nPerhaps, this is the time to re-think the key-bindings. Currently, we set:\n- S-A-enter (Run)\n- C-A-enter (Run-and-move-below)\n- S-C-A-enter (Run-all)\nI remember Will said that he chose S-A-enter to avoid collisions with other key bindings.\nI've checked and in my machine, in the editor the following key bindings are free:\n- A-enter, S-enter, S-A-enter, S-C-A-enter\n- A-space, S-space, S-A-space, C-A-space, S-C-space, S-C-A-space\n- A-tab, C-tab, S-A-tab, C-A-tab, S-C-A-tab\nAnd key bindings already assigned:\n- C-enter (insert-line-below), S-C-enter (insert-line-above)\n- C-space (autocomplete)\n- tab (indent), S-tab (outdent)\nNote that we're currently shadowing S-C-enter (that's my bad!).\nUnless there are other collisions I'm not aware of, I would support a move to use the same key bindings the notebook and nteract are using, i.e.:\n- C-enter (Run)\n- S-enter (Run-and-move-down)\n  We could use A for the corresponding cell versions:\n- A-C-enter (Run-cell)\n- A-S-enter (Run-cell-and-move-down)\nWe could maintain:\n- S-C-A-enter (Run-all)\nAnd to toggle breakpoints, perhaps, we could do S-enter or S-space.\n. @rgbkrk If no one opposes the change of key-bindings, let's go for it!\nI guess this also means bumping the minor version and updating the README.md.\n. Or how about having a setting to enable changes like the new key bindings that may be introduced in the next major release?\nIt'd give users a chance to complain before we finally introduce the changes.\n. @nils-werner This is something that would be possible once Hydrogen puts in place an API to develop plugins.\n. Hydrogen already provides watches (which are shown on a side panel).\nSee the command Hydrogen: Add watch.\nAt some point, we will add a framework to add plugins to Hydrogen,\nso that it'll be easier to experiment with new UI.\n. I've set the line height to 1.1 and this PR doesn't fix the issue for me. See below:\n\n. Yes, it does! If you're happy with the PR, I will merge it.\nI've found another issue with the block decorations, but it's better to open a new issue.\n. @rgbkrk I've just submitted a PR to fix the other issue.\n. Oops! Forgot to move the log message... hold on a sec\n. OK, this PR is now ready to merge.\n. @lgeiger Well, you still could test whether the PR doesn't break Hydrogen when transformime works! :p \nMake transformime fail is easy with IJavascript. IPython makes it harder by parsing the input to the display functions.\n@rgbkrk +1 to patch release.\n. I see a bug but I can't reproduce it reliably.\nWhen it fails:\n\nWhen it works:\n\nThe logs in the dev console look the same.\nI will look at this more carefully. But I'm not sure if I'll be able to look at this tomorrow.\n. It happens more often when I use C-A-enter.\n. @lgeiger it was that. After adding the check, I don't get it to fail.\n. I think it's easier for the user to be able to click anywhere container.\nAnother problem with the pre hack is that it breaks when a block with multiple stdouts is executed, e.g.:\npython\nprint('A plot')\nplt.plot(t, s)\n. LGTM\n. On 29/03/16 23:30, Lukas Geiger wrote:\n\n@n-riesco https://github.com/n-riesco Since you are working with linux, do you have an idea about why the normal installation is failing?\n\nNo, I don't.\nI'm actually very surprised that Dejan's workaround fixed the problem. My understanding is that apm and npm don't even use the same version of Node.js. For example, in this machine:\n$ node --version\nv0.10.25\n$ npm --version\n1.4.21\n$ apm --version\napm  1.6.0\nnpm  2.13.3\nnode 0.10.40\npython 2.7.6\ngit 1.9.1\nI will investigate this issue (but most likely not tomorrow).\n. @JCMais Please, could open a new issue and an include information such as Atom and Hydrogen versions and any error messages?\n. It looks better, but it may not work for small images?\n. Both look good.\n. Is this PR ready to merge?\n. Sorry. I should've merged this PR after merging #232 .\n. Doesn't break anything here! :smile_cat:\n. Could you post your settings for Hydrogen?\n. OK, those are the default values. It also shows Hydrogen was unable to run jupyter kernelspec.\nCould you try to run Hydrogen again and then open the dev console (shift-ctrl-i) to see what errors have been reported?\n. I'm running Atom 1.7.0-dev-7040035 and I don't this issue. What version are you using? Is there any one else seeing this problem?\n. TODO\n- [ ] Update TROUBLESHOOTING.md with https://github.com/nteract/hydrogen/issues/243#issuecomment-203686955\n. On 31/03/16 01:16, uncreativename wrote:\n\nHi, I was just wondering if it's possible to set breakpoints inside loops/functions or conditional breakpoints.\n\nA debugger is language dependant (i.e. different languages will require different debuggers).\nFor functionality that is language/kernel dependant, we're planning to offer a plugin framework.\n. Hydrogen can work with any language that has a Jupyter kernel. See here for a list:\nhttps://github.com/ipython/ipython/wiki/IPython-kernels-for-other-languages\nThe things that Hydrogen can do with a kernel are defined by the Jupyter messaging protocol.\nOne of those things is the access to stdin. So, in principle, Hydrogen could provide stdin to the kernel.\nThe Jupyter messaging protocol doesn't provide any means to implement a breakpoint functionality.\n. On 31/03/16 02:57, huyiqun wrote:\n\nWhen I use %inline mode to plot something, it is not possible to copy or save the image, but only to view it in atom. Is it possible to add such functionality or what is the best workaround on this? I currently connect a qtconsole to the existing hydrogen kernel, and run the plot code there in order to directly right click for copying and saving. Just wonder if this is by any chance doable in atom.\n\nI think this can be easily done. I'll mark this issue as an enhancement.\n\nAlso, a quick related question: when the output is one line, it does not pop up a small window that has option for copying or opening in a file. Can this be changed?\n\nIf you click on a one-line bubble, Hydrogen will copy its content to the clipboard.\n. This issue should be fixed in the latest release of Hydrogen. Note that the latest release requires at least Atom v1.6.0 or v1.7.0-beta.\n. Neat!\nI mentioned this here: I'm planning to get rid of the intermediate result object, so that most _parse* methods will become unnecessary and we will be able to implement this kind of hacks without touching kernel.coffee.\n. #249 fixes this bug.\nIn the meantime, before we release a new patch version to handle more gracefully the case when ZMQ monitoring is disabled, replacing libzmq-dev with libzmq3-dev will enable ZMQ monitoring.\n. @farkass Thanks for the confirmation!\n. @ywhuofu I'm closing this issue. Please, feel free to reopen it if you need more help.\n. TODO\n- [ ] Test %config InlineBackend.figure_format = 'retina'\n. hydrogen.less could do with a clean up (not only font sizes, colours as well).\nIn the long term, I'd like to make possible the creation of plugins and themes.\n. Perhaps, we could add a setting to configure this font size.\n. This behaviour is not ideal at the moment. The functionality to switch kernels is enabled only after a kernel is already running.\nDo you know that GrammarToKernel in the Hydrogen settings can be used to define the default kernel for a language?\n. You can try this in grammarToKernel:\n{\"python\": \"Python Venv 2\"}\nI use something similar to change the default between Python 2 and Python 3.\n. We should make these settings more user friendly, but we have to wait until we're done tidying up the code dealing with the kernel manager.\n. Tested on my machine :ok_hand: \n@lgeiger Thanks a lot for all the latest PRs! Hydrogen looks so much neater now (transformime-marked, handling the ANSI codes, the CSS of the bubble results, ...).\n. There are three types of names used in Hydrogen:\n- @editor.getGrammar().name.toLowerCase()\n- kernel.language\n- kernel.display_name\nAnd two settings to link them:\n- grammarToKernel\n- languageMappings\nI reckon I can fix this issue by getting rid of kernel.language and languageMappings.\n. @rgbkrk I'm sorry about that.\nKernelManager is used by almost every other class in Hydrogen, and each class seemed to have their own way to call KernelManager (some used kernel specs, some used some kind of language name, some used the editor grammar directly). So in the end, what I thought it would only touch the handling of language names ended up having to with deal kernel specs and grammar too.\nWhen you review the code, bear in my mind, that what Hydrogen used to call kernelInfo is actually a kernel spec and I've renamed it to kernelSpec.\nKernelManager would benefit from a further cleanup:\n- now that Hydrogen only uses one kind of language name (that derived from Atom's grammar), it'd be possible to rename everwhere grammarLanguage to simply language without ambiguity.\n- to open the possibility of having multiple kernels running for same language, running kernels shouldn't be indexed by the their grammarLanguage. We need a way to link editors and kernels (this change olone would remove a lot of code everywhere).\n- Although in this PR I removed code that isn't in use, I wasn't exhaustive and further work is needed.\n. This PR isn't ready yet. I'm testing on a Jupyter installation and I've found a few typos in KernelManager.updateKernelSpecs. I will update the PR later today.\n. @rgbkrk I've fixed the PR after testing on a VM with Jupyter. The PR is now ready for review.\n. @lgeiger Oops! Forgot to check that one!\n. @lgeiger It should be fixed now!\nPS: I really miss having the safety net of a good test suite.\n. @sbromberger , @updiversity The new version will offer two settings:\n- languageMappings now does what it was meant to do. It maps kernels' languages to Atom's languages. For example in @sbromberger 's case, for the Scala kernel, {\"scala211\" : \"scala\"} should work.\n- kernelMappings, on the other hand, maps Atom's languages to kernels. For example, in @updiversity 's case, to tell Hydrogen to use a specific kernel for python files, this should work {\"python\": \"Python Venv 2\"}.\n. For the record, the reason why languageMappings uses the kernel language as index is to allow different kernel languages to map to the same Atom language, e.g. {\"scala211\" : \"scala\", \"scala210\" : \"scala\"}\n. WFM\n. I couldn't help trying to read the code while watching the animation and that makes the animation feel a wee too fast. How about adding a comment before each section of code?\nAnd how about also showing:\n- a \"Hello, World!\" one-line bubble\n- and an example with ANSI colours\n  ?\n. We've added TROUBLESHOOTING.md document.\n. I will have a look a this issue next week.\nIf I understood correctly the issue report in https://github.com/atom/atom/issues/11282 , this issue can be reproduced by running twice the same selection of lines. Is my understanding correct? \n. I can't reproduce this issue with Hydrogen v0.9.0 and Atom 1.7.0-dev-7040035 . What versions are you using?\n. I've reproduced the issue on Atom 1.9.0-dev-4d494e1\n. This bug is pretty annoying. Shall we release a patch revision straight away?\n. I also find very inconvenient that restart kernel can't be assigned a key binding. I'd like to split the command Hydrogen: Show Kernel Commands into:\n- Interrupt Running Kernel\n- Restart Running Kernel\n- Switch Kernel ...\n. @slavaGanzin Would you like to make a PR for it? It should be a matter of adding two new commands Interrupt Running Kernel and Restart Running Kernel, and renaming Hydrogen: Show Kernel Commands to Switch Kernel ....\n. README.md needs updating. This changed in #260 . See this comment for usage details.\n. I believe settings should be updated by the user.\nHaving said that, I don't really feel strongly about this point.\ncc/ @lgeiger @rgbkrk what are your thoughts?\n. Let me focus the question in this issue. The question is which option do you prefer:\n1. you'd like that the command switch to kernel will not only switch to the requested kernel, but also update the setting grammarToKernel (so that the kernel becomes the default choice for that grammar).\n2. or you'd like that the command switch to kernel only changes the running kernel, and grammarToKernel remains unchanged (i.e. set to whatever the user had chosen before running the command switch to kernel).\n. To get the discussion in this issue re-started. Here are the main questions I thought we need to answer:\n1. How to locate kernel specs\n   - Currently: use jupyter kernelspec\n   - Proposed: use a javascript-only library\n2. How to set the setting kernelSpec\n   - Currently: merge user setting with output of jupyter kernelspec\n   - Proposed: kernelSpec only stores user setting\n3. How to set the setting languageMappings\n   - Currently: set by user to help with kernel languages that don't match grammar languages\n   - Proposed: remove languageMappings and use only kernelMappings\n4. How to set the setting kernelMappings\n   - Currently: command hydrogen:select-kernel only shows kernels that match grammar language\n   - Proposed: command hydrogen:select-kernel shows all kernels regardless of whether they match the grammar language\n5. How to start a kernel for a given file:\n   - Currently:\n     - use the connection file ./hydrogen/connection.json\n     - use the setting kernelMappings\n     - match grammar and kernel languages\n   - Proposed:\n     - use the kernel spec ./hydrogen/kernel.json\n. On 05/07/16 22:49, Lukas Geiger wrote:\n\nJust a question at the beginning:\nDo we need the kernelSpec setting if we make |jupyter| a dependency?\n\nI'm against making Jupyter a dependency. I'd like Hydrogen to run out of the box (i.e. no need to install ZMQ or Jupyter; we're far from achieving this).\nOtherwise, we won't stop the constant flow of issues reporting problems with the installation of ZMQ and Jupyter.\n\nThis would simplify the code a lot and would make bullet point 1 very easy to achieve plus it is easy to install with |pip/conda install jupyter| and |ipython kernel install| on every system and easier than editing json. For my understanding this setting is here for useres who have an old |ipython| version, or am I missing something?\n\nDitto: we would have to deal with issues reported by users expecting Hydrogen to work with the IPython version in Ubuntu 16.04.\n\n\nI would support the move to |kernelspecs| https://github.com/nteract/kernelspecs.\n\n\nAs explained above, I still believe in the merits of having a javascript-only solution.\n\n\nIf we need the kernelSpec setting, I would prefer the proposed option.\n\n\nMe too.\n\n\nI'm a bit confused with these settings and I think I'm not the only one. I would appreciate a merge of them if possible, so we can directly map kernel language names to kernel display names (eg. |{'somestrangekernelname': 'Python 3'}|). @slavaGanzin https://github.com/slavaGanzin Somewhere you explained how you use them, but I couldn't find the issue, would your workflow work with this option?\n\n\nIt was confusing because the code was using language names from too many sources (that sometimes were lowercased, but not always). This has been the source of many issue reports.\nWith PR #260, we reduced the sources of language names to 2:\n- lowercased Atom grammar language names (used to identify what kernels can run a given grammar language)\n- kernel display names (used to identify a kernel)\nIf we removed languageMappings, hydrogen:select-kernel won't list kernels that declare non-standard language names.\nTo workaround the removal of languageMappings, we change hydrogen:select-kernel to list all kernels, but this is very inconvenient for users like me with a large number of kernels.\n\n\nI prefer the current option, because it's easier for new users. But I understand why the proposed option can be useful. I think the best way is a new setting to give the advanced user a choice.\n\n\nI'm not against, the removal of languageMappings, but I'd like to make sure we provide the user the best experience we can:\n- e.g. having a setting to configure whether hydrogen:select-kernel shows all the kernels\n- e.g. having two commands hydrogen:select-kernel and hydrogen:select-non-standard-kernel\n- ...\n. Closed via #351.\n. The log message reports an error on node-gyp rebuild. This suggests Atom in your machine is unable to build native modules.\n@rgbkrk , are the OS installation instructions here complete? Is it enough to install homebrew, zeromq and pkg-config?\n. @lgeiger I've been quiet for a while, but I'm still working on Hydrogen and IJavascript. At the moment, my priorities for these projects are: get out the next release of IJavascript, develop a javascript-only kernel launcher and solve (hopefully) the situation with native modules.\n. You should be able to determine what version of python Hydrogen is using by running help().\nCould you post all the other errors you've come across? (and a screenshot if possible).\n. @shichao116 I'm closing this issue. Please, feel free to reopen it if you need more help.\n. This how matplotlib works.\nYou need to add the following line to your code:\n%matplotlib inline\n. To fix this problem, please delete {jupyter kernelspec list --json} in your Kernel Specs setting.\n\nI'm leaving this issue open as a reminder to improve the error message.\n. What OS are you using? If you are using the IPython distributed with Ubuntu 16.04, you'd need to edit the Kernel Spec setting as:\njson\n{\n  \"kernelspecs\": {\n    \"python2\": {\n      \"spec\": {\n        \"language\": \"python\",\n        \"display_name\": \"Python 2\",\n        \"env\": {},\n        \"argv\": [\n          \"/usr/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\n. TODO\n- [x] Update error message when Hydrogen config is broken\n- [x] Update README with installation instructions for Ubuntu 16.04\n- [x] Update README with installation instructions for Anaconda\n. Kudos to @lgeiger (your tests have just caught a broken PR!)\n. @slavaGanzin are you trying to address #271 or #272 ?\n. @slavaGanzin Please, don't commit changes to master without giving everyone a chance to review them!\nf273e1d0e88bd4e1643318a9f3e27cdb66f7050f\n. Here's a list of the problems I've found so far:\n- f273e1d allows the user to select any kernel, regardless of the file language.\n- #270 has a number of issues, the most relevant to this PR is that the command hydrogen:show-kernel-commands should've been removed.\n. I don't fully understand your post.\nOn 07/06/16 15:13, Slava wrote:\n\nDefinitelly, it do so.\n\nWhat do you mean by 'it'?\n\nBecause I fucked up with all javascript grammars I have in my setup, so I just want to match kernel to grammar. Editing JSON is not user \"unfrendly\", it's just a mess. I think it should update languageMappings too\n\nDo you mean to add a command to select a language mapping? I think that's a good idea.\n\nAnyone could just switch to proper kernel. And not creating issues like that: #283 (comment) https://github.com/nteract/hydrogen/issues/283#issuecomment-223997205\n\nIssue #283 is totally unrelated and something hopefully I will address soon with a kernel launcher.\n\n[...]\nLet's vote @willwhitney <https://github.com/willwhitney> @n-riesco <https://github.com/n-riesco> @rgbkrk <https://github.com/rgbkrk> @lgeiger <https://github.com/lgeiger> :\n1. We should remove hydrogen:show-kernel-commands command - all commands of which now available in command pallete\n2. 1 + remove dialog for kernels commands(that shown after click on kernel status in status line)\n3. Leave everything as is\n\nWhy the vote? Do you disagree with removing the command hydrogen:show-kernel-commands?\n. On 07/06/16 20:51, Slava wrote:\n\nf273e1d <https://github.com/nteract/hydrogen/commit/f273e1d0e88bd4e1643318a9f3e27cdb66f7050f> allows the user to select any kernel, regardless of the file language.\nDefinitelly, it do so.\n\nIn other words, the functionality in f273e1d has been introduced on purpose.\n\nDo you mean to add a command to select a language mapping? I think that's a good idea.\nI think it would be good to omit using such mappings and merge it's functionality with kernelMappings. I mean map grammar to kernel directly. So i can run babel with jsx on jsx grammar and ijavascript without on regular js. Currently it can't be done - both babel/ijavascript are 'javascript' in kernelMappings sense.\n\nPlease, be respectful, revert f273e1d and open another issue to discuss this change.\n\nWhy the vote?\nI think cutting functionality should be done after voting. If we choose 2nd decision we can cut nearly 300 LOC and I'm not an author to be ultimate.\nI was surprised when saving of kernelMapping was cut, without voting. And now I redo it again because nobody voted against.\n\nFor the record, what you saw as feature to my eyes was a bug.\nIssue #271 was open to discuss saving kernelMapping.\nI said I didn't feel strongly about either option, but I prefer option 2.\n@willwhitney said he didn't feel strongly about either option, but he prefers option 1.\nYou said you prefer option 1 and went ahead with this PR.\nThis PR saves the kernelMapping on hydrogen:select-kernel, but forgets to do the same on hydrogen:show-kernel-commands.\nThe ultimate reason why this happened is because your PR #270 duplicates the functionality provided by SignalListView. This doubles the amount of maintenance work we have to do (this PR being the first example).\nI still don't see the need for a vote:\n- removing the command hydrogen:show-kernel-commands doesn't remove functionality (this functionality is now provided by hydrogen:select-kernel)\n- there is no need to remove the kernel functionality in the status line either.\n. On 07/06/16 22:19, Slava wrote:\n\nFor the record, what you saw as feature to my eyes was a bug.\n\nDuring the review of PR #177 I said that I didn't want the kernelSpec to be overwritten.\nI even wrote the code for this not to happen. See here:\nhttps://github.com/nteract/hydrogen/issues/173#issuecomment-188479594\nDespite all that, PR #177 overwrites the kernelSpec (to my eyes, this is a bug)\nAs you see, this is not the first time we have tried to have a discussion, and my arguments go unanswered. I don't know the reason:\n- is it because you didn't understand what I meant? (please, ask if anything I say isn't clear, don't just ignore it)\n- if not, what was the reason?\nThe sad result is that Hydrogen doesn't work out of the box in Ubuntu (or anaconda, as #283 proves).\n\nAnd so you decide to \"fix\" it without discussing with author. Great!\n\nSeriously? Shall I apologise for fixing a bug in your code?\nYou know what is the saddest thing about this discussion?\nThat one-line edit would be enough to merge the output of jupyter kernelspec with the Hydrogen config.\n. On 08/06/16 00:20, Slava wrote:\n\nThat one-line edit would be enough to merge the output of |jupyter kernelspec| with the Hydrogen config.\nThat is desired behavior, as I said before: #272 (comment) https://github.com/nteract/hydrogen/issues/272#issuecomment-220797461\n\nThat is your desired behaviour! Why ignore that I have expressed that this is an undesirable behaviour?\n\n/without discussing with author/\nSeriously? Shall I apologise for fixing a bug in your code?\nSeriously. You can always create an issue and ask: is that's a bug or a feature? Can we improve that behavior?\n\nYou mean to open another issue to discuss it again?\nWe had the discussion already in #173 and #177 and my comments were ignored.\nI could only assume my comments weren't understood (because I didn't want to assume they had willingly been ignored).\n\np.s. I don't know why we always write that \"poems\". My English is bad, so I often mislead my reader.\n\nIt's important that in an open forum like this all discussions are kept respectful.\n. @willwhitney I'm afraid the situation is more complicated than that:\n- @slavaGanzin committed https://github.com/nteract/hydrogen/commit/f273e1d0e88bd4e1643318a9f3e27cdb66f7050f directly to master (despite having been advised in the past not to do so).\n- this PR is built on top of https://github.com/nteract/hydrogen/commit/f273e1d0e88bd4e1643318a9f3e27cdb66f7050f\n- this PR fails to update kernelMappings when the functionality in SignalListView is used.\nThe way I see this situation is:\n1. https://github.com/nteract/hydrogen/commit/f273e1d0e88bd4e1643318a9f3e27cdb66f7050f should be reverted immediately\n2. this PR should be updated so that SignalListView also saves kernelMappings\n. On 08/06/16 10:00, Slava wrote:\n\nThat is /your/ desired behaviour! Why ignore that I have expressed that this is an undesirable behaviour?\nWhy? Why merging kernelMapping from jupyter output and your specified setting is undesired behavior?\n\nThe undesirable behaviour was that Hydrogen before #260 overwrote the kernelSpec manually set by the user.\n\np.s. I had revert f273e1d https://github.com/nteract/hydrogen/commit/f273e1d0e88bd4e1643318a9f3e27cdb66f7050f from master yesterday, the same commit comes to this PR, because at a time of creation I based on master with that commit.\n\nI've tested the updated PR and now works as expected. +1 for merging.\n. @slavaGanzin For the time being, I think it'd be enough to replace\nhttps://github.com/nteract/hydrogen/blob/e52911d9ca51a21eb7c7b864175f27bac5b40d5e/lib/kernel-manager.coffee#L46\nwith\nConfig.setJson 'kernelspec', kernelspecs: newKernelSpecs, true\n. On 08/06/16 13:14, Slava wrote:\n\n\nIt will create a mess with user defined kernelMappings\nIf user delete a kernel it would be present in kernelMappings\n\n\nkernelMappings and kernelSpecs are different settings.\n. @willwhitney you're right. I misremembered. saveKernelSpecs already merges any updates to kernelSpec.\n@slavaGanzin isn't it working for you?\n. On 09/06/16 18:57, Will Whitney wrote:\n\nI assume we're doing this so that users have a back door to fix things? My first instinct is that it's better to rely purely on those calls and not have extra Hydrogen-specific configuration around this, but if there was good rationale at the time that's fine.\n\nThe rationale is that there are cases where Atom is unable to run the commands ipython kernelspec list and jupyter kernelspec list; e.g.:\n- Ubuntu 16.04 LTS\n- Anaconda\n\n@slavaGanzin https://github.com/slavaGanzin If we're keeping track of kernels this way, I'm not sure what to tell you, other than \"don't sync files that contain system-specific information\".\n\nThe solution below (if I understood correctly) is what Slava suggested to fix his use of Hydrogen.\n\nAnother solution would be to make the config field exclusive to user-specified kernelspecs. That way the system kernelspecs (the ones found by |jupyter kernelspec|) will be loaded per-machine and not saved.\n\n+1\n. On 09/06/16 23:06, Lukas Geiger wrote:\n\nI would like to go a step further. We could remove the kernelspecs setting and give the user the option to define paths to additional |kernel.json| files. So you could connect to additional kernels even if they are not present in the default jupyter directory (#287 https://github.com/nteract/hydrogen/issues/287).\n\nI like this idea better. It's more flexible.\n. About #287 , note that the kernel-xxxx.json files are connection files, not kernel specs. Having a setting to define additional paths to search kernel specs won't fix #287 (though, it will help towards fix it).\n. BTW, shouldn't we be having this discussion in #272 and merge #271 now?\n. No they wouldn't be able, because they use anaconda.\nWhat did you think I meant in this comment?\n. @slavaGanzin Waiting to agree a solution in #272\n. Closed via #295\n. You need to install Hydrogen's requirements. See this section in the README.\n. @erdemalpkaya I'm closing this issue. Please, feel free to reopen it if you need more help.\n. It breaks the status bar.\n.  @rgbkrk ~~Really? It gets merged despite braking the status bar?~~\nApologies, I didn't noticed the updated PR.\n. On 14/06/16 02:17, Kyle Kelley wrote:\n\nAll good, seemed like it had gone back and forth a bit and that Lukas was a ok with it. We can keep making follow up PRs as necessary.\n\nI use a mail reader to follow github and PR updates don't get emailed. I'll be more careful in the future.\n. Wrong project repository?\nhttp://www.hydrogen-music.org/hcms/node/1851\n. This looks like an error with the installation of native modules.\nIn Windows this requires the installation python and visual studio.\nSee this link for up to date instructions:\nhttps://github.com/nodejs/node-gyp#installation\n. To confirm atom is using Python 2.7, could you post the output of running apm --version?\n. To answer your question above: yes, it's possible to use Hydrogen with anaconda, but you need to set kernelSpec in Hydrogen's settings.\nYou need to run the command jupyter kernelspec list --json and copy the output to kernelSpec.\n. On 12/06/16 17:11, AnthonyJacob wrote:\n\napm 1.9.2\nnpm 2.13.3\nnode 0.10.40\npython 3.5.1\ngit\nvisual studio\nSeems like not... How can I force it to use the right one?\n\nI haven't tested it, but something like this should work:\napm config set python /path/to/executable/python2.7\n. BTW, it seems Atom is able to see your installation of Anaconda, so I don't think you need to set kernelSpec. Hydrogen will do it, automatically.\n. Node-gyp is complaining that it cannot run VCBuild.exe.\nWhat version of visual studio are you using?\nSometimes node-gyp can be very picky about the version.\n. On 12/06/16 17:53, AnthonyJacob wrote:\n\nI don't have any, I have |Visual C++ Build Tools| instead - since https://github.com/nodejs/node-gyp#installation claims that it is enough.\n\nyes, I saw it.\n\nDo I still need to install visual studio?\n\nI tried once with visual studio and it worked, but I imagine the Visual C++ Build Tools should work too.\n\nBtw I am running on w8 and I don't see .NET Framework 2.0 listed in program manager, should I also install it?\n\nThat's what the error message says.\nIt sounds like a reasonable thing to do.\n. I'm sorry about the VS install. I'm working towards providing a pre-compiled native module for ZMQ (when this happens, the VS install will be unnecessary).\n. This is not possible at the moment. Atom's CSP policy changed in v1.6.0 and injected scripts aren't allowed.\nWe have issue #27 opened to track this feature.\n. I've tested this PR and works for me.\nI like the idea of introducing a hydrogen folder per project.\nI'm not sure about ./hydrogen/kernel/hydrogen-kernel.json:\n- unnecessary stutter ('./hydrogen/kernel/hydrogen-kernel.json' and './hydrogen/kernel/hydrogen-kernel.json')\n- hydrogen-kernel.json is a bit of a misnomer (which jupyter also uses)\nIf we were to use ./hydrogen/connection.json in this PR, we could have another PR with ./hydrogen/kernel.json for custom kernels.\nThe main changes I'd like to see in this PR are:\n- [ ] Move the functionality in this PR from ConfigManager to KernelManager\n- [ ] Change the path from ./hydrogen/kernel/hydrogen-kernel.json to ./hydrogen/connection.json\n. @tiangolo Before you work on it, let's hear what @lgeiger @rgbkrk @willwhitney think about introducing a hydrogen folder per project. You already have the +1 from Slava and me.\n. @rgbkrk Is there a Jupyter runtime folder for connection files?\n. I'll check tomorrow. It's getting late here.\n. @tiangolo The PR is almost there! I'm looking forward to merging. It really is a very convenient way to use connection files directly.\n. @tiangolo Later today, I will test the PR once more and merge it.\nThanks a lot for this PR.\n. @tiangolo It works nicely!\n@rgbkrk @willwhitney @slavaGanzin @lgeiger\nShall we make a release? v0.10.0 ?\n. @jdavidheiser Do you know where jupyterhub stores the connection files?\n. Nice!\n. I haven't tried to reproduce the issue in a new install.\nI've sometimes seen a similar issue when using libzmq instead of libzmq3.\nCould you post your OS, atom and ZMQ versions?\nIf you uninstall and install back Hydrogen, do you get any error messages?\n. We introduced the setting Startup Code precisely for this purpose. Something like this should work:\njs\n{\"python2\": \"%matplotlib inline\", \"python3\": \"%matplotlib inline\"}\n. As far a I know, Atom doesn't provide a macro recording feature.\nPerhaps atom-macros may be of help. I will experiment with atom-macros when I find some time, and post back the results here.\n. @lgeiger The problem with switching kernels is that toggling the display mode would require to re-run all the previous code.\n. @theotheo Edit > Preferences > Packages > Hydrogen > Settings > Startup Code. Node.js requires Python 2 to install native modules (see Hydrogen's requirements here). Note that Python2 and Python3 can coexist.\n. @mmngreco This would work in linux: apm config set python $(which python2)\n. WFM. I'll merge once Travis completes.\n. On 21/06/16 23:11, Lukas Geiger wrote:\n\n|hydrogen:clear-results| on the mac is mapped to cmd-alt-backspace, is ctrl-alt-backspace available on linux and windows?\n\nIt's assigned to bracket-matcher:remove-matching-brackets.\n\nFor me I have |hydrogen:inspect| mapped to cmd-ctr-i to avoid complications with |atom-script| (which uses cmd-i and shift-cmd-i) but that wouldn't work on windows. What do you think about alt-i?\n\nalt-i is free in linux\n\nFor |hydrogen:add-break-point| on mac, cmd-ctrl-b would work, but I couldn't come up with a great shortcut for windows. A second option would be C-S-m and rename \"break-point\" to something with \"marker\" in it.\n\nshit-ctrl-b would work in linux\n\n```\n@n-riesco https://github.com/n-riesco Shall we add a setting to enable the keybindings that we would like to introduce in Hydrogen v1.0.0?\nI like this idea, but is there an easy way of changing between two sets of keybindings in atom?\n```\n\nI don't know if there is an API to do this dynamically, but if there isn't, we can hack our way like this:\n- define hydrogen-exp:* commands that are equivalent to the corresponding hydrogen:*. This experimental commands would run only if the experimental setting is enabled. If it isn't enabled, they would call evt.abortKeyBinding().\n- register the exp and no-exp keybindings in keymap/hydrogen.cson\n. https://atom.io/docs/api/v1.8.0/KeymapManager\n. What would be the drawbacks of activating Hydrogen on startup?\nI guess we could do something like this:\n- on startup invoke:\n  - Config.onDidChange with a callback to handle changes in the Hydrogen setting to toggle the experimental features;\n  - and atom.workspace.observeActivePaneItem with another callback to:\n    - dispose previous subscriptions (commands, observers, keymaps)\n    - if there isn't a running kernel for this pane, only register commands and the keymap to start a kernel\n    - if there is a running kernel, then register all the commands and the full keymap\n\nRelevant links:\n- https://atom.io/docs/api/v1.8.0/Config#instance-onDidChange\n- https://atom.io/docs/api/v1.8.0/Workspace#instance-observeActivePaneItem\n- https://atom.io/docs/api/v1.8.0/KeymapManager#instance-loadKeymap\n- https://github.com/atom/atom/blob/v1.8.0/src/package.coffee#L220\n. @lgeiger The main problem I see with the KernelManager.loadKeymap is that it doesn't return the the corresponding CompositeDisposible, that would allow us to unload the keymap when the experimental setting changes.\nAt the moment I think that the hacky way I proposed above is easier.\n. I can't reproduce this issue. Could you post the file you're using to reproduce this issue?\n. @nikitakit I couldn't reproduce this issue. Could you take a screenshot of what you see in the dev console (shift-ctrl-i)?\n. Apparently I can't follow instructions to the letter :disappointed: !\nAnyway, I can now reproduce it and to trigger this issue is important that the new file is untitled.\n. @lgeiger I'm still trying to understand why it doesn't happen with named files.\n. On 06/07/16 10:57, Lukas Geiger wrote:\n\nI think we could fix this, if we change the way the marker for the result bubble is set (https://github.com/nteract/hydrogen/blob/master/lib/main.coffee#L163). So it isn't invalidated if a new line is inserted.\n\nDo you mean that we wouldn't ever invalidate markers?\n. @lgeiger It works! Shall I submit a PR?\n. @lgeiger I spoke too fast. After further testing, having the marker located at the beginning of the line only invalidates the marker if the beginning of the line is changed.\n. @lgeiger I've tried:\ncoffee\n        marker = @editor.markBufferRange [[row, 0], [row, lineLength]],\n            invalidate: 'inside'\nbut it fails to invalidate when changing the end of a line.\nI've also tried:\ncoffee\n        marker = @editor.markBufferRange [[row, 0], [row, lineLength]],\n            invalidate: 'touch'\nbut it displays the same problem as markBufferPosition.\nI think we could use markBufferPosition to improve how the result bubbles are invalidated, but I'd leave this for another PR.\nI'm getting more convinced that, to solve this issue, we need to treat files not ending with an EOL as a special case.\n. We're currently working on similar feature that is language agnostic. See #227 and #309\n. We haven't published this feature yet. If you want to try it out, here are some instructions to install Hydrogen's development version.\n. Oh! I now understand why the initial algorithm was so complicated. I still think it can be simplified. I'll give it another go.\n. I think that now that we have 'hydrogen:toggle-breakpoint', there isn't much need for 'hydrogen:remove-latest-breakpoint'. Shall we remove it?\n. Hydrogen provides this functionality via the command hydrogen:inspect. See #296 for more information.\n. It's hard to tell without seeing the error messages Hydrogen displays.\nI will guess the issue is that Debian Jessie provides an old version of IPython (v2.3.0) and this Hydrogen is unable to detect the python kernelspec automatically. Assuming you want to use the Python kernel, see this comment for an example to set kernelspecs manually.\nAlso make sure Hydrogen's requirements are installed:\nsh\nsudo apt-get install ipython libzmq3-dev\n. To edit Hydrogen's settings, go to Edit > Preferences > Packages > Hydrogen > Setting.\nJust to make sure that IPython 2 is accessible in your machine, could you post the output of running ipython --version?\n. Hydrogen can't detect IPython v2.3.0. You need to set KernelSpec manually.\nThe following setting for \"Kernel Specs\" should work:\njs\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"\\/home\\/alex\\/dev\\/hydrogen\\/src\\/venv\\/lib\\/python3.4\\/site-packages\\/ipykernel\\/resources\",\n      \"spec\": {\n        \"env\": {},\n        \"argv\": [\n          \"\\/home\\/alex\\/dev\\/hydrogen\\/src\\/venv\\/bin\\/python3.4\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  },\n  \"python2\": {\n    \"spec\": {\n      \"display_name\": \"Python 2\",\n      \"env\": {},\n      \"argv\": [\n        \"ipython\",\n        \"kernel\",\n        \"-f\",\n        \"{connection_file}\"\n      ],\n      \"language\": \"python\"\n    }\n  }\n}\n. There shouldn't be any need for selecting the kernel, since you've already set Kernel Mappings to {\"python\":\"Python 2\"}. What happens when you try to run a line?\n. That was my bad. I made a mistake copy'n'pasting the \"Kernel Spec\" settings. This works for me:\n``` js\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"\\/home\\/alex\\/dev\\/hydrogen\\/src\\/venv\\/lib\\/python3.4\\/site-packages\\/ipykernel\\/resources\",\n      \"spec\": {\n        \"env\": {\n    },\n    \"argv\": [\n      \"\\/home\\/alex\\/dev\\/hydrogen\\/src\\/venv\\/bin\\/python3.4\",\n      \"-m\",\n      \"ipykernel\",\n      \"-f\",\n      \"{connection_file}\"\n    ],\n    \"display_name\": \"Python 3\",\n    \"language\": \"python\"\n  }\n},\n\"python2\": {\n  \"spec\": {\n    \"display_name\": \"Python 2\",\n    \"env\": {\n\n    },\n    \"argv\": [\n      \"ipython\",\n      \"kernel\",\n      \"-f\",\n      \"{connection_file}\"\n    ],\n    \"language\": \"python\"\n  }\n}\n\n}\n}\n``\n. The problem is that IPython v2.3.0 doesn't provide the commandipython kernelspec` (that Hydrogen uses to locate the kernels installed in a computer).\nThe setting Kernel Spec contains the output of running ipython kernelspec, so that if a computer cannot run ipython kernelspec, the user still has the possibility to set it manually.\nIt is really unfortunate that Debian and Ubuntu provide such an outdated version of IPython.\n. I'm sorry for the delay in replying.\nCould you open the dev console (by pressing shift-ctrl-i) and post an screenshot? This will help us debug the issue.\n. Thanks!\n. The way to determine the kernel didn't stall is checking the kernel heartbeat.\nCurrently, Hydrogen doesn't check the kernel hearbeat. We could implement this, but unfortunately the kernel heartbeat has been deprecated. See https://github.com/jupyter/enhancement-proposals/pull/14 .\n. @quintona I think your PR should only update README.md (similarly to this commit).\nAlso, it'd be nice if the proposed the vagrant solution would offer a functionality similar to the docker solution (i.e. reuse the connection file created in the docker/vagrant container).\n. Option 2 would go against the policy of having code specific to a language.\nI would try to make option 1 as smart as possible. For example:\n- record row number and row content\n- if row number and content don't match the current file, then search the row content:\n  - if only one row is found with the same content, then update the breakpoint record,\n  - else remove the breakpoint and report this to the user.\n. I changed the title to get the other's attention.\n. On 28/06/16 08:34, Lukas Geiger wrote:\n\nI don't think option 2 would introduce language specific code, but it could lead to potential problems with certain languages.\n\nIf I understand correctly this would mean, the breakpoint save functionality would only work for languages that use '#' to mark comment lines.\n\nA smart option 1 is a great idea, since parsing only need to happen on startup. The only problem arises if the file is renamed externally, but this is something we can tell users to watch out for.\n\nIn the case of an external file rename, I'd advise the user to rename as well the file that stores the breakpoint records under ./hydrogen.\n. On 28/06/16 09:04, Lukas Geiger wrote:\n\nIf I understand correctly this would mean, the breakpoint save functionality would only work for languages that use '#' to mark comment lines.\nNo. For example Atom uses this https://github.com/atom/atom/blob/master/src/language-mode.coffee#L351 for getting the correct comment symbol for the language. This is something we could do as well and search for |{comment symbol} %%|.\n\nThis sounds really useful and makes option 1 a possibility (which requires less effort than option 2).\nI'd like to hear what the others think.\n. @lgeiger Looks like everyone supports option 2.\nSince potentially we could make use of comments for many other purposes, I think the format of the comment should reflect somehow that it marks a Hydrogen breakpoint.\n. @lgeiger nice finding!\n. On 05/07/16 09:32, Lukas Geiger wrote:\n\nI'll make a PR next week once I submitted my thesis and have some spare time :)\n\nCongrats on the thesis submission!\n. The rebuild log complains that pkg-config cannot find libzmq. Could you post the output of pkg-config libzmq --libs?\n. Does is work if you run instead PKG_CONFIG_PATH=/usr/local/lib/pkgconfig apm rebuild?\n. It seems Github dropped the email attachment.\n. I usually find npm-debug.log of little help.\nThe error messages on the console are usually more informative.\nHaving said that, I've noticed something that potentially can confuse many build scripts.\nAtom in your computer is installed in a path that contains spaces /Applications/ Codingware/Atom.app.\nProbably, the error messages in the console could help tell whether this is the issue.\n. @RobBW Thanks for reporting back and investigating the issue with ZMQ v2.15.1\n. On 05/07/16 18:41, Lukas Geiger wrote:\n\nBy the way wich linter are you using for coffeescript?\n\nI use coffeelint. But I haven't spent a lot of time to set it up.\n. I don't understand how @editor could be undefined, since it's set in the constructor.\nI neither understand why  the check is in setStatusBarElement, since this function doesn't use @editor explicitly.\n. :disappointed: Again, I can't reproduce it. Do you do anything after closing the pane?\nWouldn't it make more sense to change @editor = item to @editor = atom.workspace.getActiveTextEditor()?\n So that we ensure @editor is defined at all times and prevent this bug from happening somewhere else.\n. Oh I see! I was using the context menu to close the panel.\n. The problem is that when a panel is closed atom.workspace.observeActivePaneItem passes an undefined item to the callback. I think we should do this to ensure @editor is always defined:\ncoffeescript\n        @subscriptions.add atom.workspace.observeActivePaneItem (item) =>\n            console.log 'observeActivePaneItem:', item\n            if item\n                @editor = item\n                @setStatusBarElement()\n. And what Atom version?\n. I've tested Atom 1.8.0 and 1.9.0, and I can't reproduce it.\nI've tried the UI themes One Light and Atom Light.\nWhich UI theme are you using?\n. The most intriguing thing is that the log in the screenshot looks perfectly normal.\nCould you run in the console the code document.getElementsByClassName('bubble-result-container').length? In my computer, this command returns 2 (one element in the editor pane and another in the watch pane).\n. Does the watch panel work?\nI mean when you type print(\"hello\") in the watch, and re-run Hydrogen: Run in the text pane, does the watch panel show the result?\n. Also, it'd help if you could post a screenshot of the console after running document.getElementsByClassName('bubble-result-container') and expanding the <div> elements it returns.\n. In the previous screenshot, did you type a 2 in the watch panel? If so, the first div must be in the watch pane, and the empty one must be in the edit pane.\nThese are the unexpected results I've notice up to this point:\n- the watch panel is created on kernel startup (regardless of whether is visible or not). So, I'd expect document.getElementsByClassName('bubble-result-container').length to be 2.\n- The console log reports ResultView: Rendering as  <pre>\u200bhello\u200b</pre>\u200b, but the div in the editor pane is empty.\nPlease, could you repeat the same exercise (after restarting Atom and without the watch panel)?\nBut this time, please,  run document.getElementsByClassName('bubble-output-container') and post the screenshot after expanding the divs.\n. @pierregodard If you feel like debugging this further, I'd look at these lines.\nThe line that appends the result to the bubble-result-container is this line.\nAnd things that could go wrong:\n- setting container\n- setting htmlElement\n. @pierregodard On the watch panel, if you click on div.bubble-result-container,  you'll be shown the location of this div in the DOM. Could you post a screenhot?\nAt this point, we know that the result is appended to div.bubble-result-container. Now, we need to find out where div.bubble-result-container is. It should be a child of div.bubble-output-container in the editor pane. But from the fact that we don't see a result bubble and that document.getElementsByClassName('bubble-result-container').length is 1, we suspect there is none in the editor pane.\n. It looks like div.bubble-output-container isn't attached to the DOM (which explains document.getElementsByClassName('bubble-result-container').length being 1).\nThis result is suggesting that the problem is somewhere in the code creating the output bubble. In particular these lines.\nCould you check if this line gets ever run?\n. I've also noticed that erratic behaviour in the debugger (since Coffeescript is a transpiled language, I guess that it's hard for the debugger to know where to set a breakpoint) .\nI thought the problem could've been caused by insertResultBubble not being called. Could you check that? For example, by setting a breakpoint here.\n. I don't trust the debugger (I can see the same erratic behaviour you described here.\nWould you be able to edit ~/.atom/packages/Hydrogen/lib/main.coffee and add a console.log 'insertResultBubble:', @markerBubbleMap above this line?\nIf you add this line, the console should output a line starting insertResultBubble: and listing all the output bubbles.\n. On second thoughts, let's try something more straight forward. If you're able to edit ~/.atom/packages/Hydrogen/lib/main.coffee, could you remove these lines and see if this fixes the problem?\n. On 23/07/16 11:08, pierregodard wrote:\n\nfor your second to last suggestion, not sure it's the right workflow (i don't know if i'm supposed to instead call |apm develop hydrogen| etc. to do things in a clean way), but i just edited the file directly and from |console.log 'insertResultBubble:', @markerBubbleMap| i got an empty list in the console:\n|insertResultBubble: Object {}|\nwill try your last suggestion now.\n\nOops! I should've said to add console.log 'insertResultBubble:', @markerBubbleMap below @markerBubbleMap[marker.id] = view?\n. On 23/07/16 11:18, pierregodard wrote:\n\ncommented out the three lines, reloaded Atom, but it doesn't change the behavior.\n\nThis is baffling. To sum up, we've confirmed that:\n- div.bubble-output-container is not in the DOM\n- despite insertBubbleResult being invoked\n. Your last screenshot is giving us an important clue. If this line had worked as expected, then ResultView.element in the console log should've been div.hydrogen.output-bubble.atom--block-decoration-59, but instead it is missing the atom--block-decoration-* class.\nYou said above that you're using Atom 1.8.0. How did you install it? Did you build from source? Or you used the installer at https://atom.io/ ?\n. @pierregodard I don't want to waste your time. If this issue is urgent to you, then,  yes go for it and build form source. Otherwise, I will go through the commits in the Atom repository and see if anything is changed in the code for block decorations (I'm not going to do this today, though).\n. I've tested Atom 1.10.0-dev-3a4e251 and again I can't reproduce this issue.\nWhat Atom packages have you got installed?\n. On 23/07/16 13:55, pierregodard wrote:\n\nShould i try /removing/ the community packages? (although i hope this wouldn't erase my packages' settings)\n\nSince I'm not using most of those packages, it'll be easier for me to install them one by one.\n. No luck! I'm unable to reproduce this issue with any of those packages.\n. On 23/07/16 16:06, pierregodard wrote:\n\nthank you for trying this. i'm a bit at loss on how to continue the investigation as i know very little about how packages work in Atom, let alone my also very limited knowledge of the kind of technologies used here.\n\nOn my side, I want to have a look at Atom's code for block decorations and see where things could go wrong.\nOn your side, I'd try to rule out a configuration problem:\n- Atom stores the configuration for its packages in ~/.atom/config.cson\n- or perhaps, by installing atom locally into a new user and see if the problem is still present.\n. Glad to hear at least it's working on a clean install.\nIt'd be good to know which setting is causing this issue.\nCould you have a look at ~/.atom/config.cson in your user (the one that sees this isssue)?\nThere'll be settings for all your packages. I'm not going to ask you to go through them, but could you have a look at the core and editor keys and see if anything catches your eye? Mine is pretty basic:\ncson\n  core: {}\n  editor:\n    invisibles: {}\n    showIndentGuide: true\n    showInvisibles: true\n. @pierregodard If you feel like contributing, you could update our https://github.com/nteract/hydrogen/blob/master/TROUBLESHOOTING.md with a new entry advising users against disabling Use Shadow DOM under Settings > Editor\n. The simplest way is to edit the file directly on github. Go to https://github.com/nteract/hydrogen/blob/master/TROUBLESHOOTING.md and click on the icon pencil.\n. I've opened an issue on Atom's repository. I'm closing the issue here.\n. I don't remember there were any reasons to do the moveDown after the createResultBubble.\nI've tested the PR and it also works for me.\n. Oh! I really misunderstood this PR. I didn't realise it'd mean the previous functionality to toggle breakpoints would be removed.\nThe way I imagined this would be implemented was a parser that would convert the #%% lines to toggleBreakpoint commands.\nI think this is a good call. Otherwise, the interactions between #%% lines and toggleBreakpoint commands would feel ackward.\n. I'd like to set line_endings, missing_fat_arrows, max_line_length, no_tabs, no_trailing_whitespace, no_unnecessary_fat_arrows, and cyclomatic_complexity.\nI would set all of the checks to error level, except maybe missing_fat_arrows and cyclomatic_complexity.\nI've been using no_this for a while and I'm starting to get annoyed with it, because it forces me to use standalone @.\n. I would split 2d6c229 into one commit per file, otherwise it's going to be painful to merge.\nOr at least, it'd be nice to have the creation of coffeelint.json on it's own commit.\n. On 09/07/16 13:33, Lukas Geiger wrote:\n\nThe |missing_fat_arrows| rule isn't working for me, if I change the arrows according to |coffeelint| I get a lot of errors like this one:\n|Uncaught TypeError: _this.runAndMoveDown is not a function |\n\nI'm using:\n\"missing_fat_arrows\": {\n    \"level\": \"error\",\n    \"is_strict\": false\n  },\nand\n$ coffeelint --version\n1.15.0\n\nWe can use |no_this| along with |no_stand_alone_at| http://www.coffeelint.org/ to prevent standalone |@|\n\n+1\n. On 09/07/16 14:20, Lukas Geiger wrote:\n\nThe coffeelint website says this about |missing_fat_arrow|:\nI think we should remove this rule.\n\nI find it very convenient with callbacks. It's very easy to forget a fat arrow within a callback created inside a class method.\nThe README.md in https://github.com/AtomLinter/linter-coffeelint says that it is possible to use alternative coffeelint versions by specifying the version in our project's package.json.\n. On 09/07/16 14:49, Lukas Geiger wrote:\n\nCoffeelint 1.15.7 highlights the same errors as version 1.9.7\n\nCould you run node_modules/.bin/coffeelint --rules coffeelint.json lib/main.coffee in the terminal?\nI've tried both 1.9.7 and 1.15.7 without problems.\nI'm gonna try linter-coffeescript next.\n. On 09/07/16 14:55, Lukas Geiger wrote:\n\nI don't have a problem with the rule. If I change the arrows in |kernel-manager| according to |coffeelint| Hydrogen fails.\nI'm still new to coffescript. @n-riesco https://github.com/n-riesco Can you take a look why after fixing the |missing_fat_arrow| errors hydrogen fails?\n\nThe rule missing_fat_arrows gets confused with KernelManager (with Hydrogen too), because KernelManager is not defined as a class.\nI've been meaning to re-write KernelManager a class for a while, so I guess this could be a good time.\nI'm not sure about Hydrogen, though.\nThe examples in the Atom documentation use plain objects to define a package. This works just fine as long methods are always invoked using the dot notation; i.e. this works:\nHydrogen.activate(state)\nbut this wouldn't:\nactivate = Hydrogen.activate\nactivate(state)\nI'm not going be able to look at this until the evening.\nI will convert KernelManager to a class and see what the rule missing_fat_arrows reports.\nThen, we can continue the discussion.\n. This PR is quite a substantial change. Personally, I would advise against this kind of substantial changes without prior discussion.\nIf this discussion had happened, I would have a chance to say this: Please, don't remove functionality before we all have agreed.\nI think gateways are a great addition to Hydrogen, but I'd like to see them live along ZMQ kernels, so that we have a chance to evaluate the feasibility of a replacement.\nFrom what I've read in this issue, I don't believe they can be a replacement if they require the installation of additional software (Hydrogen should work out of the box).\nOur experience up to now is that if we require the installation of additional software (as we do now with ZMQ and Jupyter) we end up expending a lot of time supporting not only Hydrogen but also this additional software.\n\n@rgbkrk @lgeiger @slavaGanzin @willwhitney Should we update the contribution guidelines to advise that substantial changes need discussing in issue.\n. @nikitakit I understand.\nThe problem with a PR larger than necessary is that reviewers have to do more work and give less feedback than necessary.\nHere's my somewhat scant feedback:\n- as said above, please keep previous functionality and minimise the size of this PR.\n- config.coffee: having a description would've helped with the review\n- kernel-manager.coffee: I agree with this comment\n- remote-kernel.coffee: Rename class Kernel so that we can keep using ZMQ kernels\n- I noticed some global variables are defined, is it really necessary?\n. Here's some feedback for the first commit   a3dc04b  :\n- I don't see the need to split KernelManager into KernelManager and ZMQServices. Why do you think this is necessary?\n- In Hydrogen-speak, a Kernel instance is what this PR calls a Session. I don't mind to rename Kernel as Session, but I would do it in a different PR, so that here we can focus on the gateway functionality.\n\nI haven't got to review the other 2 commits yet. But, just to help me have an idea of what approach you're trying to implement, here are some questions:\n- Currently KernelManager is the class responsible for creating a Kernel instance that can handle requests for a given grammar. To achieve this, KernelManager uses kernel specs. Do gateway kernels have a kernel spec? Note that other parts in Hydrogen assume that a Kernel has been started using a kernel spec and that this kernel spec is accessible through Kernel#kernelSpec.\n- Is the gateway able to provide a list of available kernel specs? If this is the case, then I reckon the only changes necessary in Hydrogen would be:\n  - implement a KernelManager#getKernelSpecsFromGateway\n  - a new class, e.g. GatewayKernel, equivalent to the existing Kernel.\n  - and update KernelManager#startKernel to instanciate GatewayKernel or Kernel as required by the kernel spec.\n\nI'll try to go through the other 2 commits tomorrow. But I'll be away and my access to internet may be limited.\n. On 15/07/16 05:55, Nikita Kitaev wrote:\n\nThanks for the feedback!\nIt'll probably be another day before I can get to making the actual gateway commits, but that leaves time to mull things over in the meanwhile.\n\nI wouldn't commit anything else for the time being.\nMy current view is that this PR is touching code in Hydrogen and breaking conventions that it shouldn't.\nI do believe we would be more effective here if we discuss first how to implement this PR. We can point you to the places we think changes could go, and make you aware of the conventions we are using (especially since the code is so scarcely documented).\n. @nikitakit I'm sorry to be a pain, but after having a look at jupyter-js-services, I feel more convinced that this PR doesn't take full advantage of what KernelManager already provides.\nThis is how I think we could proceed:\n1. In main.coffee, launch the gateway when Hydrogen is activated (the example launch script here seems enough).\n2. In main.coffee, kill the gateway when Hydrogen is deactivated.\n3. Create a KernelManager#getKernelSpecsFromGateway that uses require('jupyter-js-services').getKernelSpecs to get the list of kernel specs (similarly to KernelManager#getKernelSpecsFromJupyter).\n4. Here's the most invasive step that I think is best to attack last. As you said, there is functionality in Kernel that is common to both ZMQ and gateway kernels. Let's keep this common functionality in Kernel and create two extended classes, e.g. KernelZMQ (with the old functionality) and KernelXXX (with the new functionality provided by jupyter-js-services).\nSince @lgeiger is working on KernelManager (see #351), I'd start with 1 and 2. Hopefully by then, #351 will be merged, and you could continue with 3. We can tackle 4, once we're happy with the solution for 3.\n. On 15/07/16 22:30, Nikita Kitaev wrote:\n\nDesired functionality:\n- Connect to any number of remote gateways by specifying their URL + auth tokens\n- Attach to and detach from remote kernels\n- Actions should never kill remote kernels or shut down remote gateways. (Exception: a choice to activate \"restart kernel\" or \"shutdown kernel\" by the user, from the menu)\n- Switch between multiple remote kernels per language/grammar (but have no more than 1 active at a time)\n\nThis is very ambitious for a single PR.\nWhat is the most basic use-case that need?\n. I don't know how else I can say this:\n- I'm reluctant to merge large PRs\n- It's exhausting to review large PRs\n- Please, let's agree on a small change.\nLet's focus on the use-case  \"attach to and detach from notebooks running on an existing notebook server\":\n- Does this mean you want to implement a command like hydrogen:connect-to-jupyter-service?\n- How would this command work? Would the user be asked for a URL?\nIf so, I think this PR could start implementing such a command. The initial implementation doesn't have to be fully functional. It'd be enough:\n- prompt the user for an URL\n- connect to the jupyter service\n- show a menu with the running kernels\nOnce this is solved, we can design how to create a Kernel class that uses a Jupyter session.\n. @rgbkrk A question of nomenclature.\nIn this PR we're calling GatewayKernel the kernel class that makes use of jupyter-js-services. I've also noticed the proposal for a Kernel Gateway. Are they related?\nHow do you think? Is it OK to name GatewayKernel the kernels created using jupyter-js-services? Is there a better name?\n. @nikitakit I haven't reviewed f955c822d149b8c1130cefc7988eebd918d8f561 and d041a910bf9f5d76be50615071abedfc211d8ff6 yet. I will continue tomorrow.\nAnd thanks for splitting the commits like this. It's a lot easier to read now.\n. I like it short WSKernel. @nikitakit how do you think?\n. On 21/07/16 14:35, Nikita Kitaev wrote:\n\nI'm slightly busier these days, so I'll do a rebase once comments are in for the full patch series. (It will also be easier for me to resolve conflicts with new commits all in one sitting, instead of spread out over multiple rebases)\n\nNo worries. I'll try to review the remaining commits today.\nThere are potentially two PRs touching the same code: #355 and #342 .\nGive us a shout before rebasing and I'll update you with the progress on those PRs.\n. On 24/07/16 16:28, Nikita Kitaev wrote:\n\nI have some time today, so I'm starting another rebase. I'll be checking off the comments with thumbs up emoji as I address them.\n\nOK! I'm already online.\n. The description of commit 560bc13f is a bit deceptive. If I understand correctly, this commit does to things:\n- handle restart of remote kernels\n- disable switching from remote kernels\n. @nikitakit A question about the last commit 2b98a7917a35632d6d6660a7f62af7949b4e8d61 . Let's imagine we've started a session with a remote kernel using hydrogen:connect-to-remote-kernel. Then, we invoke hydrogen:connect-to-remote-kernel again to select another remote kernel. What happens to the previous kernel?\n. @nikitakit I understand the wish to keep remote kernels on standby. My concern is whether we are leaking instances of WSKernel and what that means to the gateway?\n. Must be something to do with my setup.\n. It works with the Julia kernel but fails with IJavascript.\n. This bug seems to be trigger by inspection results returns in text/html format. Transform return an el that is a #document-fragment that has no innerHTML.\nI'll wait to fix this issue until after #338 is merged.\n. We don't want to update the kernel specs synchronously, because it may be too slow (IPython introduced a 5-second deprecation delay in ipython notebook).\n. On 11/07/16 11:01, Lukas Geiger wrote:\n\nWe don't want to update the kernel specs synchronously, because it may be too slow (IPython introduced a 5-second deprecation delay in ipython notebook).\nThats why we try |jupyter kernelspec list --json| beforehand.\nI opted for synchronous code because hydrogen has to wait anyway for |updateKernelSpecs| before any code can be executed. The asynchronous code before was fine because the specs where cached in the settings.\n\nOK, I chose a bad counter-example.\nAs a rule of thumb, I wouldn't use execSync in Atom because it is potentially slow (a terminal has to be opened to run it; even commands that do nothing but fail are slow to run; in some OS like Ubuntu, when a command is not found, the repository database is searched to advise the user what package to install, this search is very slow; ...).\nexecSync is a convenience function when Node.js is used to write scripts, but it goes against Javascript's philosophy of running small asynchronous tasks (the event loop).\nI think the strongest argument against using execSync in this case is that some users cannot run jupyter kernelspec, and they shouldn't be penalised for that.\n. On 11/07/16 13:53, Lukas Geiger wrote:\n\nI totally understand your point. But if you try it async (checkout |ffb242d| https://github.com/nteract/hydrogen/pull/337/commits/ffb242d926f138b5094429f68852d32631a9502d) hydrogen would throw an error on every startup since no kernelspec is available. Hence we have to always wait for |updateKernelSpecs| to finish.\n\nThis is the reason why I think updateKernelSpecs should accept a callback.\nCurrently, one of the specs fails in machines where jupyter isn't available:\n``\n$ apm test\n[30876:0711/141009:ERROR:browser_main_loop.cc(203)] Running without the SUID sandbox! See https://code.google.com/p/chromium/wiki/LinuxSUIDSandboxDevelopment for more information on developing with the sandbox on.\n[30876:0711/141011:INFO:audio_manager_pulse.cc(174)] Not implemented!\n[30876:0711/141011:INFO:audio_manager_pulse.cc(174)] Not implemented!\n[30876:0711/141012:INFO:CONSOLE(52)] \"Window load time: 1321ms\", source: file:///home/user/share/atom/resources/app.asar/static/index.js (52)\n...........[30876:0711/141012:INFO:CONSOLE(162)] \"saveKernelSpecs:\", source: /home/user/src/github.com/hydrogen/lib/kernel-manager.coffee (162)\n.[30876:0711/141012:INFO:CONSOLE(162)] \"saveKernelSpecs:\", source: /home/user/src/github.com/hydrogen/lib/kernel-manager.coffee (162)\n.[30876:0711/141012:INFO:CONSOLE(162)] \"saveKernelSpecs:\", source: /home/user/src/github.com/hydrogen/lib/kernel-manager.coffee (162)\n.[30876:0711/141012:INFO:CONSOLE(162)] \"saveKernelSpecs:\", source: /home/user/src/github.com/hydrogen/lib/kernel-manager.coffee (162)\n....[30876:0711/141012:INFO:CONSOLE(167)] \"[object Object]\", source: /home/user/src/github.com/hydrogen/spec/hydrogen-spec.coffee (167)\n...[30876:0711/141012:INFO:CONSOLE(198)] \"updateKernelSpecs:jupyter kernelspecfailed\", source: /home/user/src/github.com/hydrogen/lib/kernel-manager.coffee (198)\n[30876:0711/141012:INFO:CONSOLE(204)] \"updateKernelSpecs:ipython kernelspec` failed\", source: /home/user/src/github.com/hydrogen/lib/kernel-manager.coffee (204)\nF\nKernel manager\nit should update kernelspecs\nSyntaxError: Unexpected end of input\nSyntaxError: Unexpected end of input\nat Object.parse (native)\nat [object Object]. (/home/user/src/github.com/hydrogen/spec/hydrogen-spec.coffee:197:31)\nFinished in 3.515 seconds\n22 tests, 41 assertions, 1 failure, 0 skipped\n```\n. I'm so late!!! I'll test this tomorrow. \n. The convention in Node.js for callbacks is something like this:\ncoffeescript\nmyAsynchronousFunction = (arg1, arg2, argN, callback) ->\n    # do something with arg1, arg2, argN\n    callback? err, result1, result2, resultN\nso that we can do:\ncoffeescript\nmyAsynchronousFunction arg1, arg2, argN, (err, result1, result2, resultN) ->\n    if err\n        # handle error\n        return\n    # do something with result1, result2, resultN\nAlso note that if a function invokes an asynchronous function, then this function is also asynchronous and should accept a callback.\nIn this PR's case, we have @updateKernelSpecs that invokes  @getKernelSpecsFromJupyter and @getKernelSpecsFromSettings.\n@getKernelSpecsFromSettings is synchronous and doesn't need a callback.\n@getKernelSpecsFromJupyter is asynchronous and needs a callback. This also means @updateKernelSpecs is asynchronous and needs a callback.\nAll the above could be implemented like this:\n``` coffeescript\n    mergeKernelSpecs: (kernelSpecs) ->\n        _.assign @_kernelSpecs, kernelSpecs\nupdateKernelSpecs: (callback) ->\n    @getKernelSpecsFromJupyter (err, kernelSpecsFromJupyter) =>\n        unless err\n            @mergeKernelSpecs kernelSpecsFromJupyter\n\n        kernelSpecsFromSettings = @getKernelSpecsFromSettings\n        @mergeKernelSpecs kernelSpecsFromSettings\n\n        if @_kernelSpecs.length is 0\n            err = new Error 'updateKernelSpecs: no kernel specs found'\n\n        callback? null, @_kernelSpecs\n\ngetKernelSpecsFromJupyter: (callback) ->\n    jupyter = 'jupyter kernelspec list --json --log-level=CRITICAL'\n    ipython = 'ipython kernelspec list --json --log-level=CRITICAL'\n\n    getKernelSpecsFrom jupyter, (jupyterError, kernelSpecs) ->\n        unless jupyterError\n            callback? jupyterError, kernelSpecs\n            return\n\n        getKernelSpecsFrom ipython, (ipythonError, kernelSpecs) ->\n            unless ipythonError\n                callback? ipythonError, kernelSpecs\n            else\n                callback? jupyterError, kernelSpecs\n\ngetKernelSpecsFrom: (command, callback) ->\n    child_process.exec command, (err, stdout, stderr) ->\n        unless err\n            kernelSpecsOrErr = JSON.parse(stdout).kernelspecs\n            if kernelSpecsOrErr instanceof Error\n                err = kernelSpecsOrErr\n            else\n                kernelSpecs = kernelSpecsOrErr\n\n        callback? err, kernelSpecs\n\nparseJupyterStdout: (stdout) ->\n    try\n            kernelSpecsOrErr = JSON.parse(stdout).kernelspecs\n    catch err\n            kernelSpecsOrErr = err\n            console.log 'parseJupyterStdout:', err\n    return kernelSpecsOrErr\n\n```\nUsing the above, the kernel spec could be implemented like this:\ncoffeescript\n    it 'should update kernelspecs', (done) ->\n        @kernelManager.getKernelSpecsFromJupyter (err, specs) ->\n            expect(specs).toEqual(jasmine.any(Object))\n            done()\nWarning: I haven't tested the code above.\n. @lgeiger Kudos! A very nice PR!\n. We should provide a sample kernel spec for users like Ubuntu 16.04's that don't have ipython kernelspec. For example:\njson\n{\n  \"kernelspecs\": {\n    \"python2\": {\n      \"spec\": {\n        \"display_name\": \"Python 2\",\n        \"language\": \"python\",\n        \"argv\": [\"python2.7\", \"-m\", \"ipykernel\", \"-f\", \"{connection_file}\"],\n        \"env\": {}\n      }\n    },\n    \"python3\": {\n      \"spec\": {\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"argv\": [\"python3.4\", \"-m\", \"ipykernel\", \"-f\", \"{connection_file}\"],\n        \"env\": {}\n      }\n    }\n  }\n}\n. Thx for catching that!\n. IJulia and IJavascript fail when cursor_pos is 0.\nIt is also up to the kernel how to handle cases like Arr|ay. Does it inspect Arr or Array?\n. @beginrescueend Genius!\n. Looks good to me. It feels very neat.\n@slavaGanzin What do you think? Would this PR work for you? It shows a kernel picker if Hydrogen finds more than one kernel able to run a language.\n. cc/ @willwhitney :smile: \nSince this is proving a popular subject, maybe we should held a poll and see if people can come up with something \"better\" than Boaty McBoatface.\n. cc/ @willwhitney :smile: \n. @beginrescueend Thank you for the report!\n. @lgeiger  I'm not done with the review yet.\nThe description of commit   6ddc1f1 should say languageMappings.\n. Unfortunately, the error message isn't very informative.\nCould you post the output of running apm --version?\n. The comment here about installations where Python 3 is the default may be relevant.\n. On 19/07/16 11:38, Suminda Dharmasena wrote:\n\n|apm 1.9.2 npm 2.13.3 node 0.10.40 python git 2.8.1.windows.1 visual studio 2013 |\n\nThis means Atom can't see your installation of Python.\n. You need to tell Atom where the executable for Python 2 is located, by running something like this:\napm config set python path/to/python2.7/executable\nWe've seen reports of Windows users having problems when the Anaconda installation didn't include Python 2. But this is the first one where Atom cannot see the Python installed by Anaconda. Could you make sure Python is accessible in the command line?\n. Did you try using apm config? What happened?\n. To locate the path to the python executable, you can run:\npython\nimport sys\nprint sys.executable\n. On 21/07/16 04:13, Suminda Dharmasena wrote:\n\nPerhaps you can include this in the documentation?\n\nWill do. Thank you for reporting back.\n. As far as I know , it never was an issue in linux or windows.\nIf I remember correctly it was fixed for OS X in Atom v1.8.0.\n. There is a similar request in #166  .\nNote that during an Atom session, all the kernels for a given language share the same kernel. So you could simply open a new panel and use it as an REPL.\nWe also have some functionality to reuse kernel connections. See the section for docker containers here.\n. I'm going to label this issue as feature enhancement.\nI've also noticed this feature was already listed in our mostly-ignored-by-us roadmap wiki page :blush: .\n. On 19/07/16 14:24, Lukas Geiger wrote:\n\nThis line https://github.com/nteract/hydrogen/blob/master/lib/watch-sidebar.coffee#L32 has to be\n@toggleButton.onclick = ->\n    editor = atom.workspace.getActiveTextEditor()\n    editorView = atom.views.getView(editor)\n    atom.commands.dispatch(editorView, 'hydrogen:toggle-watches')\nin order to work consistent with the |@watchSidebarIsVisible| variable.\n\nAgain, good catch!\n\nIt would be awesome to track the sidebar visibility on a kernel per kernel basis or only toggle the sidebar automatically if the sidebar isn't empty.\n\nThat's how I tried first, but I found it a bit inconvenient, because often I want the watch sidebar visible for all the running kernels.\nAt least to me, it makes more sense to set the visibility regardless the kernel (the inspect panel behaves this way too).\n. I noticed clearBubblesOnRow hasn't been working for a while.\nI've included a fix in this PR.\n. What version of Hydrogen are you using?\nThis functionality is broken in master, but it should be working in the latest release (Hydrogen v0.11.0).\ncc/ @lgeiger \n. This works for me in Hydrogen v0.11.0\n```\n$ ls\nDockerfile  test.py\n$ cat Dockerfile \nFROM python:2.7\nRUN pip install ipykernel\nRUN echo \"alias hydrokernel='python -m ipykernel \"'--ip=$(hostname -I)'\" -f /tmp/hydrogen/connection.json'\" >> /etc/bash.bashrc\n$ docker build -t python-docker .\nSending build context to Docker daemon 3.072 kB\nStep 1 : FROM python:2.7\n ---> a047e3d0ae2b\nStep 2 : RUN pip install ipykernel\n ---> Using cache\n ---> fc5b50bb931f\nStep 3 : RUN echo \"alias hydrokernel='python -m ipykernel \"'--ip=$(hostname -I)'\" -f /tmp/hydrogen/connection.json'\" >> /etc/bash.bashrc\n ---> Using cache\n ---> b9ac2a3aa226\nSuccessfully built b9ac2a3aa226\n$ docker rm python-docker \npython-docker\n$ docker run -it --name python-docker -v $(pwd)/hydrogen:/tmp/hydrogen python-docker bash\nroot@593ea989f549:/# hydrokernel \nNOTE: When using the ipython kernel entry point, Ctrl-C will not work.\nTo exit, you will have to explicitly quit this process, by either sending\n\"quit\" from a client, or using Ctrl-\\ in UNIX-like environments.\nTo read more about this, see https://github.com/ipython/ipython/issues/2049\nTo connect another client to this kernel, use:\n    --existing /tmp/hydrogen/connection.json\n```\nThen open the file test.py and you should be able to run the following:\npython\nimport json\njson.load(open(\"/tmp/hydrogen/connection.json\"))\nthat produced this output in my case:\npython\n{u'control_port': 40414,\n u'hb_port': 35573,\n u'iopub_port': 37976,\n u'ip': u'172.17.0.2',\n u'kernel_name': u'',\n u'key': u'c94a9f93-b5b5-46a0-9e3b-b202aebe1c63',\n u'shell_port': 33786,\n u'signature_scheme': u'hmac-sha256',\n u'stdin_port': 38759,\n u'transport': u'tcp'}\n. Do you have a minimum Vagrantfile I can use to reproduce the issue?\n. @balta2ar @quintona It'd be great if you would document your experience setting this up and update our README.md with a section for vagrant. :smile: \n. cc/ @lgeiger How do you reckon? Should we wrap all the text/html results in a webview?\nAnd if so, how about image/svg, I think SVG can contain JS?\n. @rgbkrk @lgeiger Are there any cons to using webviews for all text/html content?\nWhat are the cons from SVGs?\n. The physicist in me would be very pleased with an SVG version of:\n\nI don't know of any problems with webview in Chrome/Electron/Atom. But it isn't a standard HTML tag, and I think it's safer if transformine would let the user decide whether to use it or not.\n. @lgeiger Last time I looked into using plotly-notebook-js in the notebook, the code to inject Plotly.js into the notebook was broken. I posted a workaround here. But it won't work with webviews, because Ploty.js would have to be injected into each webview.\nHere's an example for testing purposes that works in the notebook and that I would expect it to work in webviews too:\n``` js\nvar output = [\n    \"0\",\n    \"\",\n    \"\",\n    \"var div = document.getElementById('my-timer');\",\n    \"var counter = 0;\",\n    \"var id = setInterval(update, 1000);\",\n    \"function update() {\",\n    \"    counter += 1;\",\n    \"    div.innerHTML = '' + counter;\",\n    \"    if (counter &gt;= 10) clearInterval(id);\",\n    \"}\",\n    \"\",\n].join(\"\\n\");\n$$.html(output);\n```\nThis example is for IJavascript, but it can easily be adapted to IPython.\n. @lgeiger This issue isn't specific to IJavascript. Here's a snippet to reproduce it using IPython:\npython\nimport IPython.display\nIPython.display.HTML(\"<div style='background-color:olive;width:50px;height:50px'></div>\")\nIPython.display.HTML(\"<div style='background-color:olive;width:50px;height:50px'>test</div>\")\nIPython.display.HTML(\"<svg><rect width=80 height=80 style='fill: orange;'/></svg>\")\n@jmatsushita Thank you for reporting this issue. As a workaround, you can do this:\njs\n$$.html(\"<div style='background-color:olive;width:50px !important;height:50px'></div>\");\nAlthough I haven't advertised this yet, the latest version of IJavascript provides new functionality to customise output. See here and here.\n. Using https://github.com/nteract/hydrogen/pull/370/commits/727af19edf7860a8a710fa90383b2c13c98396b5\n\n@lgeiger Should we do anything about the SVG case?\n. @lgeiger If it isn't easy, I think there is no much point fix the SVG case now (we will have to find another solution when we use webviews).\n. @jmatsushita Thanks! That makes sense.\n. If I remember correctly those lines are meant to deal with large DataFrames; e.g.\npython\nimport pandas as pd\nimport numpy as np\npd.DataFrame(np.random.randn(100, 16), columns=list('ABCDEFGHabcdefgh'))\nI've just tested it. With this PR the horizontal scrollbar is only visible after scrolling to the bottom:\n\nand without, the horizontal scrollbar is always visible:\n\n. @lgeiger Do you mean that you don't need to scroll down to the bottom of the DataFrame to see the horizontal scroll bar?\n. I'm using Pandas 0.17.1 and the DataFrame is styled like this <div style=\"max-width:1500px;overflow:auto;\"><table border=\"1\" class=\"dataframe\">.\n. I can reproduce this issue in Ubuntu 14.04 (using Pandas 0.13.1 and IPython 4.1.2) and Ubuntu 16.04 (using Pandas 0.17.1 and IPython 2.4.1).\n. Another issue with automatic inspection is that it may be an expensive operation (it's up to the kernel to decide how to honour detail_level). For example, IPython with detail_level set to 0 truncates the representation of large arrays. IJavascript, on the other hand, doesn't.\n. @lgeiger what do you mean by \"as long as the kernelspec is available on the local system\"?\nI've checked again and it doesn't work for me. I'm planning to debug this issue today.\n. We haven't documented this yet, but Hydrogen already provides the option to define code cell (see #328 ). The relevant commands are hydrogen:run-cell and hydrogen:run-cell-and-move-down.\n. @lgeiger Perhaps, we need to add a command to run all cells, e.g. hydrogen:run-all-cells.\n. In Javascript, cell boundaries are marked by:\njavascript\n// %%\nIn general, for any other language, one has to use the syntax of that language to write comments.\n. On 23/07/16 23:17, Jun Matsushita wrote:\n\nOops, now I see it was specified in the pull request.\nSorry but I've never used this feature before and I'm fairly new with Jupyter. I can't make it work.\n\nWe really need to document this.\n\nIs |// %%|is equivalent to |// | and |// In[12]|?\n\nYes, they are equivalent.\n\nWhere should I place the code to execute? Is there an opening of the boundary and a closing of it? \ud83d\ude32\n\nAt the moment there are only two commands to run code cells:\n-hydrogen:run-cell\n-hydrogen:run-cell-and-move-down\nYour example defines three code cells:\n- x = 2\n- y = 2+2\n- z = x-2\nIf the cursor is between // %% and // In[1] when the command hydrogen:run-cell is invoked, then the first cell will be executed.\nIf the cursor is between // In[1] and // In[2] when the command hydrogen:run-cell-and-move-down is invoked, then the second cell will be executed, and the cursor will be moved down to the third cell.\nThe first // %% and the last // <codecell> aren't necessary, Hydrogen assumes the first cell starts at the beginning of the file, and the last cell finishes at the end of file.\n. On 24/07/16 13:48, Lukas Geiger wrote:\n\nI would suggest we add this behavior to |hydrogen:run-all| rather than adding a new command for this. I'll make a PR next week.\n\n+1\n\nWe really need to document this.\n@n-riesco https://github.com/n-riesco I would really appreciate if you could add this to the readme since my written english isn't that great.\n\nYour written English is good enough.\n. Thx!\n. @lgeiger Is the issue caused by the missing space between the brackets or the missing colon :?\n+1 for making the space and numbers optional. I'd feel tempted to make the colon optional too.\n. How does spyder deal with // In[ ]:?\nThe reason why I thought optional spaces and colons are better is that users can easily make the mistake of leaving them out. Syntax highlight should've helped. @jmatsushita , do you know why in your screenshot the syntax highlight doesn't distinguish between normal comments and breakpoints?\nThe grammar highlight issue with optional colons would be solved by:\ncson\n'match': '%%| %%| <codecell>| In\\\\[[0-9 ]+\\\\]:*'\n. We don't handle the case of inline comments  yet; e.g. : \ncoffeescript\na = 1 //%%\na += 1\n//%%\nBut this is an existing issue, so I'd leave the fix for another PR.\n. On 25/07/16 15:27, Lukas Geiger wrote:\n\nI think we should ship another release after this is merged. What do you think?\n\nNot yet, './hydrogen/connnection.json' is broken and the fix would touch the same code as #330.\n. Could you take a screenshot of the dev console?\nI think the dev console is open in OS X by pressing cmd-opt-i.\n. The last two lines report an error launching the R kernel. Could you check whether you're able to run R in the terminal?\nAlso, could you expand the object in the Kernel spec: line and take a screenshot? I'd like to make sure your kernel spec for R isn't broken.\n. What happens when you run R -e IRkernel::main()?\n. Let's try quoting the argument; could you run R -e 'IRkernel::main()'?\n. I think that's the problem. The kernel spec seems broken. You can set up an alternative kernel in the Hydrogen settings. Something like this should work:\njson\n{\n  \"kernelspecs\": {\n    \"r\": {\n      \"spec\": {\n        \"display_name\": \"custom R\",\n        \"language\": \"R\",\n        \"argv\": [\"R\", \"--slave\", \"-e\", \"\\\"IRkernel::main()\\\"\", \"--args\", \"{connection_file}\"],\n        \"env\": {}\n      }\n    }\n  }\n}\n. WFM\n. @lgeiger Thx a lot for this cleanup!\nTested execute and watch functionality.\n. @lgeiger I've just had a look at your PR #386 and noticed we're touching the same code (and doing similar things).\nWhich PR do you think we should merge first?\n. Oops! Forgot to run the specs! :blush: \n. @lgeiger Have a look at https://github.com/nteract/hydrogen/pull/389/commits/dd0b9a151786fb39adccf8ed34ebe1d9b03f511f . I noticed the done() pattern wasn't working in our asynchronous tests. This is due to Atom using Jasmine v1.3. I've updated the asynchronous tests to use waitsForPromise (a helper provided by Atom).\n. Does the problem disappear if you save the file before starting Hydrogen?\n. This bug is fixed in #386 . We will make a release with this fix soon.\n. @lgeiger I think we're ready for a minor release.\nIn the release notes, I'd warn people that the websocket functionality is still work in progress.\n. I've just noticed #394 . I'll push a PR before release.\n. @lgeiger Oh! Just merged your PR to fix #394 .\n. @lgeiger Here's an idea (for another PR). Currently the x icon of the result view in the watch sidebar only closes the result view (it doesn't remove the watch). If the x icon removed the watch, then removeButton would be unnecessary.\nI always have to think twice to remember what all those buttons do in the watch sidebar.\n. Obviously I didn't do a good job at explaining this idea. Nevermind, I've opened a new issue #397.\n. We should create a label for late-night-PR-review-with-care. :disappointed: \n. [WIP] Not ready for merging\nI forgot to address the review above.\n. PR is ready for review/merging.\n. :+1: That shade of red looks a bit too bright to me (at least in contrast to the light blue) (are there any UI guidelines for Atom? a quick google search didn't get me far)\n. Forget my comment about the colours (I see these colours have been defined by the atom-dark-ui theme).\n. Sorry about this regression. We've just released Hydrogen v0.12.1 to fix it.\n. We're now using https://github.com/nteract/spawnteract to launch a kernel.\nI think the easiest way to locate the connection file is to use the dev console. After starting a kernel, press shift-ctrl-i to open the dev console and look for ZMQKernel in the console log. You should see something like this:\n\nAlternatively, you could run jupyter --runtime-dir to get the runtime folder.\n. Is Atom able to install Hydrogen when you run PKG_CONFIG_PATH=/usr/local/lib/pkgconfig atom?\n. I would like to revert this PR. It breaks the use case where a user is adding code at the end of a file and running it.\n. Or alternatively, we could make sure that move down  doesn't skip comments.\n. @lgeiger I won't look at it now. I've opened an issue so that we don't forget.\n. click is a python package to develop command line interfaces.\nClosing this issue, because this is the expected result of using click within Hydrogen (or Jupyter console and notebook).\n. On 28/09/16 17:44, Naxane wrote:\n\nI am using git bash\n\nDoes the installation work when you run Atom from cmd.exe?\n. On 30/09/16 16:19, Naxane wrote:\n\ni attempted to install term3, and got the same error relating to node-gyp rebuild\nnpm ERR! ptyw.js@0.4.1 install: |node-gyp rebuild|\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the ptyw.js@0.4.1 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the ptyw.js package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR! node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR! npm bugs ptyw.js\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR! npm owner ls ptyw.js\nnpm ERR! There is likely additional logging output above.\n\nThis part of the log isn't very informative.\n\nPlease, correct me if I'm wrong. The current situation (as I gather messages in this issue) is:\n- node-gyp rebuild fails \n- Python 2.7 is installed and accessible by Atom\n- Visual Studio 2015 is installed and accessible by Atom\n- Are there any other versions of Visual Studio also installed?\n- One of the log messages complains about a missing file: c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\nThese are the things I'd check:\n1) Is the file c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js really missing?\n2) In Visual Studio 2015, Visual C++ is not installed by default. From https://msdn.microsoft.com/en-gb/library/60k1461a.aspx :\nIn Visual Studio 2015, Visual C++ is not installed by default. When installing, be sure to choose Custom installation and then choose the C++ components you require. Or, if Visual Studio is already installed, choose File | New | Project | C++ and you will be prompted to install the necessary components.\n3) If both, the node-gyp.js file and Visual C++ are present in yout machine, then I'd run this:\n$ apm uninstall hydrogen\n$ apm install hydrogen\nand post all the output here.\n. @1NAX2 Would you check whether installing Visual C++ in Visual Studio 2015 fixes the problem?\nFrom https://msdn.microsoft.com/en-gb/library/60k1461a.aspx :\n\nIn Visual Studio 2015, Visual C++ is not installed by default. When installing, be sure to choose Custom installation and then choose the C++ components you require. Or, if Visual Studio is already installed, choose File | New | Project | C++ and you will be prompted to install the necessary components.\n. @1NAX2 OK, there's some progress there. Now the problem is that apm is using Python 3 instead of Python 2. You need to find the location of the executable for Python 2 and run apm config set python c:\\path\\to\\python.exe.\n. @1NAX2 The log complains that CL.exe can't be found. CL.exe is C++ compiler that you've just installed. Could you check whether CL.exe is accessible in the command line? What do you get when you run cl in the command line?\n. Did you try this?\nOr, if Visual Studio is already installed, choose File | New | Project | C++ and you will be prompted to install the necessary components.\n. @1NAX2 This might be also relevant.\n. Here suggests to select the MFC template.\n. @1NAX2 Thanks a lot for reporting back! We should update README.md with the steps to install Visual C++.\n. What's the output of apm --version?\n. On 28/09/16 22:18, Lukas Geiger wrote:\nI tried it with Atom v1.10.2 and v1.11.0-beta5.\n|apm --version| for the latter:\n|apm 1.12.5 npm 3.10.5 node 4.4.5 python 2.7.11 git visual studio 2015 |\n\nAlthough apm sees the expected versions, I still think that this is a problem with the zmq module.\nI'm guessing there are 2 installations of node in your machine:\n- the one provided by atom\n- and the one used to install windows-build-tools\nTo confirm the theory that this issue is caused by a module version mismatch, you could locate where zmq has been installed.\nIn Linux the path would be something like: /home/user/.atom/packages/Hydrogen/node_modules/zmq/\nIf this theory is correct, then running:\njs\nrequire(\"/home/user/.atom/packages/Hydrogen/node_modules/zmq/\")\nin the dev console (shift-ctrl-i) should fail (I've read about some cases in windows where this actually causes a segfault).\n. Two more questions:\n1) in the machine with Atom stable and beta, could you check the file C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\build\\Release\\zmq.node exists and is readable?\n2) in the machine with Atom master, could you check whether running the require in the node REPL also gives an Error: Das angegebene Modul wurde nicht gefunden?\n. On 29/09/16 12:58, Lukas Geiger wrote:\n\n1) in the machine with Atom stable and beta, could you check the file |C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\build\\Release\\zmq.node| exists and is readable?\nForgot to mention it. It's there, can be opened with a text editor and has a size of 156KB\n2) in the machine with Atom master, could you check whether running the require in the node REPL also gives an |Error: Das angegebene Modul wurde nicht gefunden|?\nYes same error: |Error: Cannot find module 'C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq'|\n\nWhat we know so far:\n- Atom is able to build the ZMQ module (i.e. it creates a .node file)\n- Atom crashes on loading the ZMQ module (master reports a 127 error)\n- Node is unable to require the ZMQ module created by Atom (reports a 126 error)\nHere's another theory:\n1) 126 error stands for module version mismatch (this is what we would expect to be reason for the failure in Node)\n2) 127 error stands for the ZMQ module trying to load a DLL that windows cannot locate (this would explain that Atom can build, but cannot load the ZMQ module)\nI wonder what would happen if you try to build the ZMQ module using npm:\n- would you be able to require ZMQ in the Node REPL?\n- or would it fail with a 127 error instead?\n. On 03/10/16 22:10, Lukas Geiger wrote:\n\n```\nI wonder what would happen if you try to build the ZMQ module using npm:\n\nwould you be able to require ZMQ in the Node REPL?\nor would it fail with a 127 error instead?\n```\n\nI get this error inside the Node REPL:\n|Error: Cannot find module 'C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq' at Function.Module._resolveFilename (module.js:455:15) at Function.Module._load (module.js:403:25) at Module.require (module.js:483:17) at require (internal/module.js:20:19) at repl:1:1 at sigintHandlersWrap (vm.js:22:35) at sigintHandlersWrap (vm.js:96:12) at ContextifyScript.Script.runInThisContext (vm.js:21:12) at REPLServer.defaultEval (repl.js:313:29) at bound (domain.js:280:14) |\n\nJust to confirm:\n- ZMQ was installed using npm\n- and `require(\"zmq\") fails in the Node.js REPL\n. On 03/10/16 23:49, Lukas Geiger wrote:\n\nMore updates:\nAbsolute requires like |require('C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq')| fail, though |require('zmq')| inside a Node REPL started at |C:/lukasgeiger/.atom/packages/Hydrogen/| works.\n\nWhat do you get by running require.resolve(\"zmq\") in the REPL?\n. On 04/10/16 10:55, Lukas Geiger wrote:\n\nWhat do you get by running |require.resolve(\"zmq\")| in the REPL?\nOh Thanks! I had a typo in the path: |require('C:/Users/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq')| works.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/459#issuecomment-251345539, or mute the thread https://github.com/notifications/unsubscribe-auth/AF6YX9VKW1mcFYZMpn7OaNGtm1EWcg8Dks5qwiKsgaJpZM4KJRlt.\n\nSo what we know so far is that windows-build-tools can be used to build Node.js native modules, but fails to build electron ones.\nI was hoping this issue was just a case of telling Windows where to look for a DLL, but this doesn't seem to be the case.\n. On 30/09/16 18:21, Pingshun Huang wrote:\n\nI did everything perfectly, and strictly following the instruction and troubleshooting, but still no luck. I'm out of methods. Please see the log below, somebody please help...\n|apm config list ; cli configs globalconfig = \"C:\\Users\\Pingshun Huang.atom.apm.apmrc\" user-agent = \"npm/3.10.5 node/v4.4.5 win32 ia32\" userconfig = \"C:\\Users\\Pingshun Huang.atom.apmrc\" ; userconfig C:\\Users\\Pingshun Huang.atom.apmrc GYP_MSVS_VERSION = \"2013\" msvs_version = \"2013\" ; globalconfig C:\\Users\\Pingshun Huang.atom.apm.apmrc cache = \"C:\\Users\\Pingshun Huang.atom.apm\" progress = false ; node bin location = C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe ; cwd = C:\\Users\\Pingshun Huang\\Desktop ; HOME = C:\\Users\\Pingshun Huang ; \"npm config ls -l\" to show all defaults. |\n|$ apm -v apm 1.12.5 npm 3.10.5 node 4.4.5 python 2.7.12 git 2.10.0.windows.1 visual studio 2015 |\n|$ apm install hydrogen Installing hydrogen to C:\\Users\\Pingshun Huang.atom\\packages failed > zmq@2.15.3 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\node_modules\\Hydrogen\\node_modules\\zmq > node-gyp rebuild C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\node_modules\\Hydrogen\\node_modules\\zmq>if not defined npm_config_node_gyp (node \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild ) else (node \"\" rebuild ) C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7 -- (empty) module.js:327 throw err; ^ Error: Cannot find module 'C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js' at Function.Module._resolveFilename (module.js:325:15) at Function.Module._load (module.js:276:25) at Function.Module.runMain\n(module.js:441:10) at startup (node.js:139:18) at node.js:968:3 npm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\package.json' npm WARN apm-install-dir-11691-11456-v4ild7 No description npm WARN apm-install-dir-11691-11456-v4ild7 No repository field. npm WARN apm-install-dir-11691-11456-v4ild7 No README data npm WARN apm-install-dir-11691-11456-v4ild7 No license field. npm ERR! Windows_NT 10.0.14393 npm ERR! argv \"C:\\\\Users\\\\Pingshun Huang\\\\AppData\\\\Local\\\\atom\\\\app-1.10.2\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\Pingshun Huang\\\\AppData\\\\Local\\\\atom\\\\app-1.10.2\\\\resources\\\\app\\\\apm\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"--globalconfig\" \"C:\\\\Users\\\\Pingshun Huang\\\\.atom\\\\.apm\\\\.apmrc\" \"--userconfig\" \"C:\\\\Users\\\\Pingshun Huang\\\\.atom\\\\.apmrc\" \"install\" \"C:\\\\Users\\\\PINGSH~1\\\\AppData\\\\Local\\\\Temp\\\\d-11691-11456-krlso9\\\\package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=ia32\"\n\"--global-style\" \"--msvs_version=2015\" npm ERR! node v4.4.5 npm ERR! npm v3.10.5 npm ERR! code ELIFECYCLE npm ERR! zmq@2.15.3 install:node-gyp rebuild` npm ERR! Exit status 1 npm ERR! npm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'. npm ERR! Make sure you have the latest version of node.js and npm installed. npm ERR! If you do, this is most likely a problem with the zmq package, npm ERR! not with npm itself. npm ERR! Tell the author that this fails on your system: npm ERR! node-gyp rebuild npm ERR! You can get information on how to open an issue for this project with: npm ERR! npm bugs zmq npm ERR! Or if that isn't available, you can get their info via: npm ERR! npm owner ls zmq npm ERR! There is likely additional logging output above. npm ERR! Please include the following file with any support request: npm ERR! C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\npm-debug.log npm ERR! code 1 |\n\nAtom sees an installation of Visual Studio 2015 (note that, by default, Visual Studio 2015 doesn't install a C++ compiler). Please, see my comment here:\nhttps://github.com/nteract/hydrogen/issues/458#issuecomment-250800146\n. On 03/10/16 22:00, aornugent wrote:\n\nI am trying to connect Hydrogen to a IJulia kernel running in a Docker container. Hydrogen detects an existing kernel but never progresses past start up.\nMy kernelspec (from inside the container) are as follows:\n\nNote that Hydrogen won't see kernel specs installed in a container.\nWe have a section in the README.md dedicated to running an IPython kernel in docker. See:\nhttps://github.com/nteract/hydrogen#custom-kernel-connection-inside-docker\n. My bad! I should've paid more attention to the title of your issue and ignore the kernelspec.\nNote that kernelspecs shouldn't be needed to connect to existing kernels (at some point we had an issue that prevented this).\nWhat I understand now is that you need is to adapt the instructions to connect to an existing kernel so that they work with IJulia.\nAm I correct in thinking the instructions still work for IPython?\n. cc/ @rgbkrk \nI believe this is a bug in the latest version of Jupyter. Both Hydrogen and IPython 2.4.1 produce the expected output:\nab\ncd\n. @kilotaras Oh, I see. Now, I understand what the issue is. I'm going to label this issue as a feature request.\n@lgeiger I reckon this is best implemented in transformime.\n. Could you scroll up the log messages in the dev console to show the messages after KernelManager: startKernelFor?\n. https://github.com/nodejs/node/pull/4394\n. @dnowacki-usgs Node (and thus Atom) currently can't convert large buffers (larger than 192MB) into strings. See https://github.com/nodejs/node/issues/4266 .\nI've committed a workaround to the jmp repository, so that any messages that throw this exception are dropped. This change won't fix the issue with large buffers, but it should let you keep using Hydrogen.\nI want to make a few more tests before making a new release of jmp with the workaround. Once I make the release, you'll have to reinstall Hydrogen, so that it picks up the latest version of jmp.\n. @dnowacki-usgs I've just published jmp@0.7.1 that works around this issue. If you have a chance to test it. Please, reinstall Hydrogen and post here whether printing a large output still renders the kernel unresponsive.\n. Also note that since the latest Atom uses Node v4.4.5, in some cases 'use babel'; may be avoided too.\n. On 11/11/16 16:44, Lukas Geiger wrote:\n\n@n-riesco https://github.com/n-riesco Node 4.4.5 doesn't support all ES6 features http://node.green/ so this could lead to strange errors. With babel we would be definitely on the save side.\n\nI chose my words carefully for that reason. A few more thoughts:\n- I think the most compelling argument to start using Javascript is to lower the hurdle our contributors have to jump.\n- Using all the ES6 features may put off some developers that work mostly with browsers.\n- Since version 1.0.0 is coming soon, this is a perfect time to plan this transition.\n- Do you have anything in mind about what this transition to JS would look like?\n. > The only thing I fear and will probably miss is the existential operator in coffeescript.\nI never tried to convert a project from CS to JS, so this is going to be a good opportunity to gain some experience. At first, I'd try to decaffeinate only one module.\nAs Kyle suggests above, taking the route of _.has et al. seems the most straight forward replacement for ?. This route will raise the hurdle for new contributors and make more difficult to remove the dependency on lodash (if we ever wanted to). As a guideline, mostly for the sake of a lower hurdle for new contributors, I'd try to limit the use of lodash to the necessary cases.\n\nI don't have the background in JS you have. So if you say moving to JS just for the sake of change doesn't make sense, I'm absolutely OK with it.\n\nThis was Slava's thought, but in this case there is a reason for changing to JS: gaining new contributors.\n. I haven't been able to go through all the commits. Here are a few more comments:\n-  Use const where appropriate.\n- Please, don't use 2-space indentation. Besides the readability issue, it doesn't discourage sloppy coding (with high cyclomatic complexity).\n- special care is needed with the translation of ?, because it's incorrect at many places.\n. > Thanks for taking a look! I'm going through your comments now.\n\n\nPlease, don't use 2-space indentation. Besides the readability issue, it doesn't discourage sloppy coding (with high cyclomatic complexity).\n\nI disagree. I think 4-spaces are really helpful for languages like coffeescript or python which rely heavily on indentation. But the standard for JS is 2-spaces, isn't it?\n\nNo, it isn't. Airbnb's standard is far from being the standard in Javascript.\nWhat are the benefits of using 2-space indent?\n. > In .eslintrc.yml :\n\nextends: airbnb-base\nhttps://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb-base\n\nPerhaps it's obvious, but I couldn't find the list of rules in that link.\n. On 15/11/16 19:01, Kyle Kelley wrote:\n\nPlease, don't use 2-space indentation. Besides the readability issue, it doesn't discourage sloppy coding (with high cyclomatic complexity).\nThe 2 space indentation comes from the airbnb eslint configuration. standard js also uses 2 space. Most developers I work with use 2-space indents.\nI realize it's arbitrary - this is more about aligning with standards others use that we want to collaborate with.\n\nI don't think it's arbitrary.\nI've given a reason why 2-space indent is bad.\nIt doesn't penalise deep levels of indentation.\n. @felansu Judging by the log, this is a different issue. It looks like apm is unable to run prebuilt. Could you open a new issue and post the output of running apm --version?\nI suspect in your case, the installation failure is caused by sudo.\n. @felansu That looks like an error downloading the ZMQ library. I'd try to re-run the command again, unless there is a reason why your computer wouldn't be able to download the ZMQ library.. We need to add some log messages in _connect to know whether the ZMQ sockets were created and whether connect has been invoked.\nAt the moment, we only know that it hangs between kernel spawn and kernel connection.. > The one thing that doesn't work yet is scrolling inside the output cells.\nWasn't this handled in CSS before? style='overflow:auto'? E.g.:\n```html\n\n300x300\n\n\n100x100\n\n```\n. @lgeiger :+1: I should've read the code!. Some feedback after taking this PR for a spin:\n\n\nthe output box taking almost all the available width looks ugly for small outputs (see screenshot)\n\n\naction panel overlaps with large outputs (see screenshot)\n\n\nsvg output is centered unlike all the other outputs (see screenshot)\n\n\n(this may be hard to fix, without breaking other functionality; e.g. autocomplete) but I find very distracting that the margin goes over the output boxes.\n\n\nI managed to get an Uncaught TypeError: Cannot read property 'screenRow' of undefinedwhen scrolling up\n\n\nIt'd be nice to have a way to distinguish output, stdout and stderr\n\n\n\n\n\n. >  I wanted to make the multiline bubbles feel more like cells so we can support rich interactive output like plotly in the future.\nI don't follow the reasoning there (i.e. I don't see what wouldn't allow the support of an interactive output). Having said this, please, take my comment just as one user's comment. If you don't see anything ugly, your opinion is more important.\n\n\naction panel overlaps with large outputs\n\nDo you have a suggestion how we could fix it?\n\npadding?\n\n\nsvg output is centered unlike all the other outputs\n\nI adopted the behaviour of nteract here. We could align everything left if you like.\n\nAgain, take my comment as one user's comment.\n\n\nI find very distracting that the margin goes over the output boxes.\n\nCould you elaborate?\n\n\n\n\nIt'd be nice to have a way to distinguish output, stdout and stderr\n\nHow does nteract and jupyter handle this?\n\n\n\nOne question: is Hydrogen planning to replicate nteract's functionality?. >   * In a project with more than one root folder, is the path hydrogen looks for relative to the first root folder?\nIt will whatever is the root folder when the kernel is started (hence, you need to make sure the first execution happens in a file located in the same folder where ./hydrogen/connection.json is located).\n\n\nCan the location of the file be flexible? Indeed it would be good to have this be a setting like the other hydrogen settings - maybe there's a good reason this is done differently?\n\n\nI'm not sure how the other maintainers feel about the idea, but I think this functionality should be replaced by a command that prompts the user for the location connection.json.\n\n\nIs there a way of telling when the |connection.json| file is actually being used? While debugging it's not immediately clear whether it's being found or not\n\n\nThere used to be a notification showing when a connection file was used. Please, open an issue if this is not the case.\n\n\nAre there any other ways of simplifying this? While the functionality is very impressive, it's a decent amount of complication for \"run this in a container\", from an uninformed pov.\n\n\nIf your use-case is just running a kernel inside a container, I would use a custom kernel spec. This custom kernel spec would invoke a script that would launch the kernel inside a container.\n. If there is no one committed to support this functionality, then it should me marked as deprecated/unsupported.\nBut I would keep it until it breaks. There is no need to cause unnecessary pain to any users.\n\nSince we have support for remote kernel connection for a while now [...]\n\nThe kernel gateway is not a replacement for this functionality. I don't think it can connect to an existing connection (and also, my usual piece of criticism: jupyter isn't distributed in the Ubuntu 16.04 repositories).\n. > You can connect to a kernel started by |jupyter kernelgateway| or |jupyter notebook|. I guess this should work with |ipython notebook| as well.\nNo, this isn't the case. I've tested it in Jupyter v4.3.0 and |jupyter notebook| only sees its own running kernels (i.e. it doesn't see kernels instantiated by a different instance of |jupyter notebook|).\n. > Have you tried the workflow described here https://github.com/nteract/hydrogen#example-with-notebook-server\nYes, I did. Please, try yourself:\n1) open a terminal and run jupyter console\n2) open another terminal and run jupyter notebook --port=8888\n3) the notebook server is unaware of the kernel connection initiated at 1)\n\nI think without the token it should work for old ipython versions too.\n\nI've tested this on Jupyter v4.3.0.\n. The point I'm trying to make is that Hydrogen cannot access an existing connection through a notebook server, because the notebook server only sees the sessions started by the server.\n. > |$sudo apm install Hydrogen| (I'm aware that sudo isn't necessary, just precautionary)\nThe use of sudo has been reported to break the installation (this is the result I'd expect of installing Atom packages in the user's folder with root's ownership).\n. Tested apm rebuild, but Atom failed to start because of uuid/v4. After running apm install, everything works.. WFM\n\n. Thank you for this report.\n\n\nPlease, could you post the steps necessary to reproduce the \"lag problem\"?\n\n\nCould you also describe the lag problems? Does Atom become unresponsive?\n\n\n(I understand this is a Windows only issue), could you open the task manager (by pressing ctrl-alt-del) and post here what processes are using most of the CPU?\n\n\nAlso, could you take a Javascript CPU profile? Please, follow the instructions here, save a CPU profile while this lag problem is happening and post the results here.\n. - The task manager is showing 16% CPU use and 45% Memory use. Hence, we can rule out this is a problem caused by using too much CPU or RAM.\n\n\nUnfortunately, the screenshot of the Javascript CPU profile isn't enough for me to tell what's causing the lag.\n\n\nI'm going to make a wild guess. Since you're unable to save the Javascript CPU profile, it's possible that the antivirus installed in your computer didn't allow Atom to save the profile and it's causing the lag problems. Please, could you check your antivirus logs and see whether Atom is triggering any log messages?\n. By the way, Hydrogen already provides a command to shutdown a kernel: Hydrogen: Shutdown Kernel.. Note that shutting down the kernel is just a workaround. It doesn't fix the issue (whatever causes the lag problems is still there). Also note, that when a kernel is shut down, the state of the kernel will be lost.\nHere is the official documentation for customising key bindings in Atom.. Perhaps related https://discuss.atom.io/t/atom-high-usage-of-cpu-and-memory/36866. @rgbkrk If I remember correctly, nteract handles this through application/vnd.plotly.v1+json. Is that how the notebook does it? Is there anything we could reuse in  Hydrogen?\n. Re #368. @lgeiger In general you are correct, but there are exceptions, e.g. IJavascript allows execution requests to be asynchronous.. > 2. startupCode setting was removed in prior of using new init file\nI'd like to keep startupCode, because it'd be very inconvenient to have to create a hydrogen.cson for every python project just to add %matplotlib inline.\nIn general, I think hydrogen.cson should be an opt-in feature and Hydrogen should be able to work if not present.. > Also how do i tell hydrogen to recognize \"import nuke\"?\nThere is no different from any other python package. If import nuke works when you run it in the python console, then it should work when you run it using Hydrogen.. @mda6 I'm not familiar with Nuke. I've had a quick look at Foundry-Nuke and this package basically does:\n```python\nimport nuke\nresult = nuke.executeInMainThreadWithResult(_exec, args=(data))\n```\nI guess that what you have in mind is something more involved, like having Nuke widgets embedded in the Hydrogen output.\nCurrently, Hydrogen doesn't support widgets (although it does provide a plugin API).\nIf what you're trying to achieve can be done in Python, then it'd be possible to do the same in Hydrogen and we could help you further.\n. @orijjsjje\nDoes this issue only happen when you execute code that invokes input?\nIf so, does Hydrogen show a window prompting for an input?\nDoes the dev console log show any messages about the input?. OMG! It looks like #88 is back (I really was hoping it'd go away with prebuilt zeromq).\nUnfortunately, #88 is very hard to reproduce. I've just tried and I can't reproduce in a machine with:\n```\n$ apm --version\napm  1.12.9\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.7.4\n$ ijs --version\n5.0.17\n$ apm list | grep Hydrogen\n\u251c\u2500\u2500 Hydrogen@1.5.3\n```\nIf I remember correctly from my experiments with #88, when #88 happens, the connect event never gets sent on the IO socket.\n@lgeiger Does your fix work when you replace setTimeout with nextTick? If it doesn't, what's the minimum wait that works?. @lgeiger I missed the log messages in your first post. There is an unexpected stderr message in the IJavascript launcher.\nSince I can't reproduce this issue. Please, could check whether replacing log(\"startupCallback:\", this.startupCallback); here with log(\"startupCallback:\", arguments.callee); fixes the issue for you?. > > replacing log(\"startupCallback:\", this.startupCallback); here with log(\"startupCallback:\", arguments.callee); fixes the issue for you?\n\nUnfortunately this doesn't help either.\n\nDoes it remove the stderr message from the log?. @BenRussert Do you get any error message? If so, could you post here.\nAlso could you post the IJavascript version and the kernel spec you're using?\nTo list the kernel specs, run jupyter kernelspec list --json.. @BenRussert Thanks for the log, it is really useful. The kernel spec is OK, but the atom log shows something unusual.\n@lgeiger Have a look at Ben's video (at 1:00). The unusual thing I refer above is that:\n- Hydrogen invokes Kernel.execute before the shellSocket is logged as connected, which should be OK (that's what we use zmq is for), but it seems it isn't.\n- Hydrogen gets IO messages before the ioSocket is logged as connected (weird, but possible depending on the order of things being scheduled in the event loop).\nAt the time I was debugging #88, I tried to send kernel_info_request and wait for a reply before invoking Kernel.execute. This didn't fully resolve the problem (I could still see the occasional failure).\nsetTimeout (as you discuss above) could also work, but I'm afraid it'd be unreliable and fail sometimes.\nThe way I currently understand the Jupyter messing protocol is that:\n- synchronisation with the IOSocket is guaranteed by waiting for a execution_state: 'starting' (unfortunately, many kernels don't implement this message; e.g. IRKernel).\n- synchronisation with the ShellSocket could be achieved by sending kernel_info_request (but again, not every kernel implements it; e.g. IJulia).\nI like the idea of waiting until zeromq reports that the sockets are connected. BTW, since zeromq uses zmq v4, I don't think we need a try block here any longer.. @BenRussert @lgeiger Just an idea:\n- does the problem disappear if you install the IJavascript kernel with ijs --ijs-spec-path=full?\n- does the kernel spec point to the same file you get when you run require(\"child_process\").execSync(\"which ijskernel\").toString(); in atom?. @lgeiger It was a long shot, anyway. Thanks for testing.\nWhat surprises me the most in this case is that unlike #88, IJavascript is able to send back some messages on the IOSocket, but not the result...\nDoes it happen regardless of the piece of code you execute?\nCould you run the IJavascript tests (npm t) on that machine?\n. Does it happen when you run the same code in the python console?. I also prefer the new behaviour, but not in the watch view.. @lgeiger Shall I remove all the info about the opening atom in dev mode?. I cannot reproduce this issue (but I'm using an old version: v1.6.0).\n@lgeiger There is something that may introduce a constant load and that is unnecessary. Could you check if removing these lines has any effect on CPU usage?. > Though I don't think this is a problem with Hydrogen itself.\nI don't follow the reasoning above. Aren't those lines part of Hydrogen?\n. I was planning to submit a PR similar to this commit (since it fixes the startup issues in IJavascript #591). But I wanted to experiment with it a little bit more.\n@lgeiger Since this is causing such a CPU usage, I could submit the PR now and update it later on if necessary.\n\nThe idea behind the PR is that we monitor the hb, shell, control and io sockets until we get a connect message (i.e. we call socket.unmonitor() when we get a connect event). Note that I've excluded the stdin socket because it may never be used.. @minrk monitoring here is used as a workaround. Issues like #88 and more recently #591 suggest there is a bug in the zeromq binding for Node.js, that causes a socket to stop notifying when a new message arrives. Unfortunately, there are multiple ways to trigger this issue, some reproducible ways, some not (#591, #88, ...).\nIn this case monitoring seems to workaround the connection issues in #591.. @lgeiger @BenRussert I don't think it will, but could you check if this PR has any effect on #591? (Please, reinstall IJavascript so that it picks up the latest version of jp-kernel). I'll address the flow failure after I know if this PR fixes #591 too.\nIf it does, I can get rid of the callback in _connect.. @BenRussert Could you post the output of running ijsinstall --versions? I want to make sure your installation is using jp-kernel@0.1.2.\n@lgeiger Does it fix #646?\n\nI'm personally in favor of completely removing the monitoring. Are you sure that #88 is still a issue with our current version of zeromq?\n\nThe only workaround I know to fix #591 involves using socket.monitor. Are you suggesting to close #591 as wontfix?. I've updated this PR to implement this workaround in Hydrogen. I haven't implemented the second workaround, because I don't expect Hydrogen to send messages fast enough to trigger the issue in zeromq.\n@BenRussert @lgeiger Please, could you make sure IJavascript is using jp-kernel@0.1.2 and test if this PR fixes #591?. @BenRussert Thank you for the video. The logs in the video made me realise I hadn't removed the old connect handlers.. @BenRussert Thanks for testing.\nThe main change between jp-kernel@0.1.1 and jp-kernel@0.1.2 is that 0.1.1 uses socket.bind, whereas 0.1.2 uses socket.bindSync. This means that now the IJavascript kernel either succeeds to bind to the connection sockets or dies (before it'd try to continue silently).. > Hmm, I hoped the new version would fix it on other machines as well.\n@lgeiger I don't think that's what Ben means.\nPlease, @BenRussert correct me if I'm wrong:\n- from this comment I understand this PR fixes #591\n- and from this comment  I understand that Hydrogen without this PR still suffers from #591 (i.e. jp-kernel@0.1.2 has no effect; this PR is the actual fix for #591).\n. I think the language mappings suggested in https://github.com/mpastell/language-weave are meant for a very old version of Hydrogen.\nIf I understand correctly, the grammar name is \"weave.jl markdown\" and the kernel name is \"julia\". If so, the correct language mapppings are these:\njson\n{ \"weave.jl markdown\": \"julia\", \"pweave markdown\": \"python\" }\nIf this doesn't work, please, could you post the error message?. > I think the language mappings from weave are correct.\nOh! I keep confusing that the languageMappings setting maps kernel language names into atom grammar names.\n@lgeiger I think a solution to this issue would be to replace these lines with \njs\n    if (mappedLanguage) {\n      return mappedLanguage === language || kernelLanguage.toLowerCase() === language;\n    }\nIn this way, Hydrogen would still consider the julia kernel for julia files despite the languageMappings setting.\n@maximsch2 Alternatively, you could create a custom kernel spec by adding something like this to the KernelSpec setting:\njson\n      {\n          \"kernelspecs\": {\n              \"weave.jl markdown\": {\n                  \"spec\": {\n                      \"argv\": [\n                          \"julia\",\n                          \"-i\",\n                          \"-F\",\n                          \"/home/user/.julia/v0.5/IJulia/src/kernel.jl\",\n                          \"{connection_file}\"\n                      ],\n                      \"display_name\": \"Weave.jl markdown\",\n                      \"language\": \"weave.jl markdown\"\n                  }\n              }\n          }\n      }. > That's probably part of the solution. I think we also need to change our grammarToLanguage function, since the running kernels are stored by the atom grammar name and not by their language from the kernelspec.\nYes, it makes a lot of sense.. @lgeiger I guess this line gets called when there is not editor.\n@JLCCI By any chance, are you using an old version of Hydrogen? I seem to remember a fix to a similar issue was applied recently.. Until the fix is released, you could use the following languageMapping in settings:\njson\n{ \"javascript\": \"Javascript\" }. Oh! I thought the plan was to index by grammar language names instead of kernel language names.. @lgeiger I've noticed that I need to close and open Atom for changes in kernelSpec to take effect.\nShall I open an issue?. @lgeiger +1\n@jineshqa If you reinstall the kernel spec for IJavascript using ijsinstall, it will default to hide undefined results.. @jineshqa That looks like a bug in ijsinstall. I'll look into later. For the time being, try to run ijsinstall --spec-path=full. I haven't tested it, but I reckon it should work.. @jineshqa I've just tested ijsinstall and it works for me.\nAre you using a custom kernel spec?\nCould you post the output from running jupyter kernelspec list --json?\n. @jineshqa OK, that's the kernel spec I'd expect after running ijsinstall --spec-path=full.\nCould you post the output from running this?\nsh\nijsinstall\njupyter kernelspec list --json. @jineshqa That kernel spec should work too. Please, could you test it?. No need to change the settings in Hydrogen.\nIf Hydrogen is already running in Atom, you could run the command Hydrogen: Update Kernels.\nOtherwise, closing and opening Atom should update the list of kernels in Hydrogen.. I'm not sure how the kernel spec in your first screenshot got there, but I'm happy to know that now it's working.. @sAs59 \njs\n{\n    \"kernelspecs\": {\n        \"babel\": {\n            \"spec\": {\n                \"display_name\": \"jp-Babel\",\n                \"argv\": [\n                    \"jp-babel-kernel\",\n                    \"--hide-undefined\",\n                    \"--protocol=5.0\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"Babel ES6 JavaScript\"\n            }\n        }\n    }\n}. @sAs59 It goes into Hydrogen's settings (Settings > Packages > Hydrogen > Settings > Kernel Specs).\nYou'll have to restart or run the command hydrogen:update-kernels for the changes to take effect.. Could you tun the following and post the output?\njs\nwhich python\njupyter kernelspec list --json. Here's a link with the instructions to install either the python2 or the python3 kernel with Jupyter. This should work for Hydrogen or any other Jupyter tool (e.g. nteract or the notebook).\nThe kernel spec setting is more convenient when you want to run both pytthon2 or python3 (Hydrogen will prompt you to choose one on first run).\nI'm going to close this issue. Please, feel free to reopen if the instructions above don't work for you.. The syntax of languageMapping is {kernelLanguage: atomGrammar}.\nYou can find what kernelLanguage should be for sagemath by looking at the kernel spec installed in your machine. You can get the kernel specs installed in your machine by running:\nsh\njupyter kernelspec list --json\nThe atomGrammar is the language Atom thinks your sagemath file is. It should be displayed on the status bar.\n. Oh, I see. Does replacing sage by closure work? E.g.\n```closure\n3+4*9\n```\n. > > 2. Issue with multilanguage files: the list of kernels shown in the menu picker should be updated according to the scope grammar.\n\nI just checked on master, in multilanguage files the kernel list is updated correctly. Am I missing something?\n\nYou need to make sure languageMappings isn't set and that there are multiple kernels for multiple languages.\nThis is what I see in master:\n\nAnd with this PR:\n\n. > Strange, that's exactly what I did. I have the four kernels you mentioned installed and I get this behavior\nIn your gif, the kernel picker is only shown once, so there is no chance to trigger this bug.\nTo test the issue with the kernel picker in multi-language files, I'm using custom kernel specs:\njs\n{\n    \"kernelspecs\": {\n        \"ijavascript\": {\n            \"spec\": {\n                \"display_name\": \"IJavascript\",\n                \"env\": {},\n                \"argv\": [\n                    \"ijskernel\",\n                    \"--hide-undefined\",\n                    \"--protocol=5.0\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"javascript\"\n            },\n        },\n        \"babel\": {\n            \"spec\": {\n                \"display_name\": \"jp-Babel\",\n                \"env\": {},\n                \"argv\": [\n                    \"jp-babel-kernel\",\n                    \"--hide-undefined\",\n                    \"--protocol=5.0\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"javascript\"\n            },\n        },\n        \"ipython2\": {\n            \"spec\": {\n                \"display_name\": \"IPython 2\",\n                \"env\": {},\n                \"argv\": [\n                    \"ipython\",\n                    \"kernel\", \"--colors='Linux'\",\n                    \"-f\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"python\"\n            }\n        },\n        \"ipython3\": {\n            \"spec\": {\n                \"display_name\": \"IPython 3\",\n                \"env\": {},\n                \"argv\": [\n                    \"ipython3\",\n                    \"kernel\",\n                    \"-f\",\n                    \"{connection_file}\"\n                ],\n                \"language\": \"python\"\n            }\n        }\n    }\n}\n\n@n-riesco Are there any other kernels with multiple languages for the same Atom grammar?\n\nPython 2 and 3 ? (I guess I'm misunderstanding your question)\n\nI'm just asking because in previous PR's I tried to remove the usage of Atom's grammar as much as possible since it makes the code a lot simpler and easier to understand having only one source of language.\n\nI think we misunderstood each other here.\nI think it's better to use only Atom's grammar for several reasons:\n- grammar language is what Atom gives us (if we index by grammar, there is no need to convert grammar to kernel language)\n- grammar language is what Atom shows on the status bar and what user sees\n- if Hydrogen introduces its own language names, all users need to learn the difference between kernel language and grammar language\n- if Hydrogen uses grammar languages, only the users that set languageMappings and kernelSpec need to be aware of the difference.\nAnyway, since this PR doesn't change how kernels are indexed, I think we should move this discussion to another issue.\n\nSo for jp-babel I actually would expect it to have javascript as a language instead of babel similar to Python 2 and 3 which both return python as a language. This would also fix this issue without needing us to handle this case inside Hydrogen.\n\nNo, it wouldn't solve the issue. jp-babel is not the cause of the issue. Setting languageMappings is the cause of the issue.\n. > But since the indexing of kernels depends on the settings, we can get into a inconsistent state if the settings change. To reproduce a similar problem, consider the kernelspec settings {\"javascript\":\"babel es6 javascript\"} (used together with language-babel)\nIt wouldn't depend, if it was indexed by Atom's grammar language. But since this is a PR to fix a bug, I think we should postpone the indexing discussion for another issue.\n\nIf jp-babel and IJavascript both would both use language: javascript and are the only kernels with different kernel languages for the same Atom grammar, we wouldn't need to handle this case and avoid the problems described above.\n\nAgain, this issue isn't about jp-babel. In fact, languageMappings was introduced to help Hydrogen use the Elixir kernel. Jupyter doesn't specify that the language in a kernel spec has to match Atom's grammar name. And for that reason, languageMappings is necessary.. Let's not forget this PR is a bug fix. It doesn't add or remove any functionality. It only requires a patch number update to be released.. @lgeiger\nThe issue with updating languageMappings while running a kernel isn't introduced by this PR. It is already present in master!\nThis PR just fixes Hydrogen's algorithm to match kernels and Atom's grammars so that it honours the setting languageMappings.\nIssues about:\n\nwhether Hydrogen's store should index running kernels by Atom's grammar or kernel's language;\nor whether changes in the kernelSpec setting  require to restart Atom (as I mentioned here)\nor whether changes in the languageMapping setting should be prevented while there are kernels running\n\ndo not belong to this PR. They are issues already present in Hydrogen's latest release.. @lgeiger Both issues (the one in master and the one in the PR) have the same underlying cause: users shouldn't be allowed to update languageMappings while there are kernels running.\nI think, we've spent already as much time discussing this as what it takes to fix it. I'll look now into how to prevent users from updating languageMappings while there are kernels running and update this PR.. Here's a screencast of the issue in master:\n\n. @lgeiger As I said on slack, only after talking to you I noticed that shutdown-kernel was broken in this PR (even without changing languageMappings).\nThis commit https://github.com/nteract/hydrogen/pull/722/commits/024c21623f6f7eb100a9be4a950041e3bd000792 fixes the issue.\nAre there any other things you'd like me to change?. Thx!. Yes, Hydrogen can run the same kernels the Jupyter notebook does:\n\n. On 19/04/17 01:15, Ariel Balter wrote:\n\nSorry I'm coming off as dumb. Yes, I see that it runs different kernels in different cells. [...]\n\nSorry, it wasn't my intention. In fact, the example you link is key to understand your question.\nThat example only runs the python kernel. All those magic % are run by the kernel python and under the hood import the rpy2 module to run R requests.\nAs fas as I know, the Jupyter messaging protocol doesn't provide any means for inter-kernel communication. And considering that the current notebook forces by design one kernel per notebook, this is unlikely to change any time soon.\nAlso note that sharing results between kernels isn't straight forward (different languages have different types; e.g. python has int and float numeric types, but javascript only has a number type).\n. On 19/04/17 04:20, Ariel Balter wrote:\n\nSo, I tried running something like what you have above. But when I step through it with shift-enter, it always balks when I land on a line starting a code block with a magic command like |%%R|. I get\n|\"UsageError: %%R is a cell magic, but the cell body is empty. Did you mean the line magic %R (single %)?\" |\nrmagic_empty https://cloud.githubusercontent.com/assets/5349876/25161836/034edc56-2473-11e7-80e5-0e21d130b5bc.png\nHowever, if I select the entire block, it will run properly.\nSo this confirms exactly what I suspected: The current hydrogen syntax does not currently include a way to implicitly identify code cells. I think this is a serious shortcoming.\n\nAlthough I didn't define any cells in the screencast I posted, Hydrogen does provide syntax for marking code cells.\nSee the documentation linked by @BenRussert https://github.com/nteract/hydrogen/issues/723#issuecomment-295059507\nAnd see @nikitakit 's discussion for an example with code cells: https://github.com/nteract/hydrogen/issues/723#issuecomment-295088962\n\nI think this syntax is very important.\nWhile I love Python, I think the R-markdown system is really fabulous. I think it would be great if hydrogen would expand on this so that executable code blocks were in fences with metadata to show which language, and which variables were passing in and out.\n\nI agree with your opinion on markdown, but as I said in my previous email, different languages have different types, and we would need to define an exchange format for sharing variables (json?).\n. On 19/04/17 05:00, Ariel Balter wrote:\n\nI love what hydrogen is trying to do. But syntax-wise, it is to an extent reinventing the wheel. R-markdown already specifies a way to perform literate programming in a file that can be either run in notebook format or as a script. It is widely used, widely understood and matches the markdown formatting that is virtually ubiquitously use by coders.\n\nI think after you read @nikitakit 's comment https://github.com/nteract/hydrogen/issues/723#issuecomment-295088962\nyou'll see how unfair the comment above is.\nI want add to what @nikitakit said that in my opinion one of the main contributions Hydrogen has made to the Jupyter framework is the convention to mark code cells in cross-language manner (i.e. without any magics %).\n. Here's an example.. Have you installed the kernels to run those languages? E.g.:\n- IPython\n- IJavascript\n- IJulia\n- IRkernel\nYou can get the list of installed kernels in your computer by running jupyter kernelspec list.. There is no need for a markdown kernel. Atom tells Hydrogen what the language is in each code block, and Hydrogen calls the appropriate kernel.\nTo run this example you need a Python kernel and a Javascript kernel. If your computer doesn't have the Javascript kernel installed, Hydrogen will fail when you try to run the Javascript code.\nAlso note that the Hydrogen command Run All doesn't work for markdown files.. > Thanks I will retry, for such files can the file extension be anything such as py?\nNot sure why you'd want to do that. Atom and most programs will think a file with extension .py is a python file. Markdown files usually have he extension .md.\nHaving said that, it's possible to tell Atom that a file is a markdown files regardless of the file extension.\nSee here:\n\n. It looks like the R code was executed by the python kernel.\nDoes it work when the file has an .md extension?. I've cherry-picked the commits in this PR into #722. No problem, the rebase to master didn't have any conflicts.. @lgeiger I think the problem is that richestMimetype can return undefined.. There is also the possibility that a kernel sends a display_data message that transforms can't handle.\nThis is just a guess (before @ahsen1402 replies), but I reckon we should guard against undefined anyway.. Below is a screencast that shows a few of the issues with this PR:\n- (as commented by @nikitakit) this PR doesn't show what's the active kernel\n- busy-signal's history tooltip could misled users into thinking kernels are always busy\nI'm also concerned about:\n- discoverability (this is not blocking for me)\n- the tooltip getting too crowded (specially when running multiple kernels simultaneously)\n- and that we lose functionality (this is a blocking change for me):\n  - to switch the running kernel by clicking on the status bar (with this PR I have to run myself the commands to shutdown the running kernel and start a new kernel)\n  - to tell whether there is a running kernel or which kernel is associated with the current file\n@cbarrick Any ideas how we could show which kernel is the active kernel and keep the functionality to switch kernels?\n\n\n. @lgeiger I'm going to sit this one on the fence. I don't feel strongly about this UI change (as long as we also keep Hydrogen's status bar). In general, I find constant (or very frequent) animations in UI disturbing, but I don't use Atom so often as to have an opinion about busy-signal.. Travis also fails in master (see #747).. I've tested it with multiple kernels, multi-language files. And both, the functionality to start a kernel and the status bar switcher work for me.. > You want to link to it from an external site?\nIn this case, it was an email.\nI just wanted to show that Hydrogen can run multiple kernels for a markdown file.. Can't look into this now, but I'm concerned this PR will make Hydrogen incompatible with kernels speaking v4 of the messaging protocol.\nWe should check what kernels we would lose, before going for a v5 only solution.. > @n-riesco or @rgbkrk : how can we test if there is a problem for v4 protocol? I'd like to help but pretty green here.\nIJavascript provides a flag for that:\njs\n      {\n          \"kernelspecs\": {\n              \"ijavascript\": {\n                  \"spec\": {\n                      \"display_name\": \"IJavascript\",\n                      \"argv\": [\n                          \"ijskernel\",\n                          \"--hide-undefined\",\n                          \"--protocol=4.1\",\n                          \"{connection_file}\"\n                      ],\n                      \"language\": \"javascript\"\n                  }\n              }\n        }\n    }\nBut we should really test against kernels, the current code contains workarounds that @willwhitney developed for some kernels.\n@willwhitney what kernels did you tested Hydrogen against?. I think this should really be in its own command (and likely in a language-specific plugin). Otherwise, if trimming was the default behaviour, how would we handle:\n- multi-line strings?\n- and the pollution of the global scope?. I think this PR is mostly driven by the needs to implement #862 .\nI still think the plugin API would be more flexible if plugins had direct access to kernel instances (instead of the current store.kernel.getPluginWrapper()).\nFor the same reason, I also think that it'd be more flexible if plugins could hijack a kernel. That is, I think a plugin listening to onDidCreateKernel and onDidChangeKernel (as they currently do) should be able to replace the kernel instance. In this way a plugin could wrap the original kernel instance and overwrite only the methods they want to customise (execute in the case of #862).. > Though I think it's unfair to characterize the approach here as not being general. Obviously this PR only has the pieces needed to implement #862, but that's mostly to keep the diff small/reviewable while still demonstrating the overall approach.\nI understand.\n\nThe more general idea is to allow plugins to listen and react to various events being emitted by hydrogen, while possibly stopping event propagation to execute a custom codepath instead.\n\nI'm not clear about this \"stopping event propagation\":\n\n\nif you mean to have something like before_event, event and after_event (and give a chance to the listeners of before_event to cancel event), then this sounds ok  to me.\n\n\nif you have in mind a hierarchy of plugins, then it sounds too complicated to me. Could you  think of an example that would require a hierarchy of plugins?\n\n\n\nIf multiple plugins want to go about replacing kernel behavior, they should be able to compose with each other.\n\nThis sounds ok to me, Could think of an example where this approach wouldn't work?\n\n(I'm not saying all of these plugins would be all that useful for real work, but it would be disappointing if the plugin API couldn't accommodate each of these being implemented by a separate and independent plugin)\n\nI think moving watches into a plugin would simplify Hydroden's code.. IPython has an option to configure the colour scheme, see InteractiveShell.colors in http://ipython.readthedocs.io/en/stable/config/options/kernel.html .. @mattiasarro The IPython kernel provides a small number of color schemes (see here). The one you want to use with dark backgrounds is named Linux.\nIf you're happy editing the kernel spec installed in your machine, you could do so like this:\n\nto locate where the kernel spec is installed, run:\n\n```\n$ jupyter kernelspec list\nAvailable kernels:\n  python3        /home/user/.local/share/jupyter/kernels/python3\n$ cat /home/user/.local/share/jupyter/kernels/python3/kernel.json\n{\n \"argv\": [\n  \"/usr/bin/python3\",\n  \"-m\",\n  \"ipykernel\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}\n```\n\nin my case the kernel spec to edit is /home/user/.local/share/jupyter/kernels/python3/kernel.json. After adding the color option, this is how the kernel spec looks like:\n\n{\n \"argv\": [\n  \"/usr/bin/python3\",\n  \"-m\",\n  \"ipykernel\",\n  \"--colors='Linux'\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}\n\nThe CSS route, judging by the comments above, would be a bit more involved.. The installation script failed to download the zeromq binary.\nPlease, try to reinstall Hydrogen again.\n. If you can download the link https://github.com/zeromq/zeromq.js/releases/download/v4.5.0/zeromq-v4.5.0-electron-v49-darwin-x64.tar.gz using a browser, then it's possible your computer is behind a webproxy.\n. @dlefcoe You need to install a Javascript kernel. See, for example, the kernel I'm maintaining: IJavascript.. > However, anaconda is just for python from what i can see.\n\n...am lost on how to do it ?!?\n\nHydrogen uses the kernels registered with Jupyter. Jupyter is written in python. and thus the need for a python distribution in your computer. Anaconda is a convenient distribution of Python that also comes with Jupyter.. @dlefcoe It's possible to install a kernel manually (i.e. without installing Jupyter, but I can't tell you how from the top of my head; I'd need to try on a Windows machine).. @dlefcoe you need to create the folder %APPDATA%\\jupyter\\kernels\\javascript and store the followling files:\n\na file named logo-32x32.png with this logo\na file named logo-64x64.png with this logo\na file named kernel.json with the following contents:\n  json\n  {\n    \"argv\": [\n      \"ijskernel.cmd\",\n      \"--hide-undefined\",\n      \"{connection_file}\",\n      \"--protocol=5.0\"\n    ],\n    \"display_name\": \"Javascript (Node.js)\",\n    \"language\": \"javascript\"\n  }\n\nThis kernel spec assumes that you've installed Node and IJavascript, and that you can ijskernel.cmd in the terminal (if this isn't the case, you'll have to tell me how you've installed Node and IJavascript).. @dlefcoe I can't reproduce the problem in your machine (in my case, both where ijskernel and where ijskernel.cmd work). Based on the results I get in my test machine, I'd update kernel.json as follows:\n- confirm ijskernel.cmd is installed in %appdata%\\npm\n- update kernel.json like this:\n{\n  \"argv\": [\n    \"%appdata%\\npm\\ijskernel.cmd\",\n    \"--hide-undefined\",\n    \"{connection_file}\",\n    \"--protocol=5.0\"\n  ],\n  \"display_name\": \"Javascript (Node.js)\",\n  \"language\": \"javascript\"\n}\nIf this doesn't work, try to replace %appdata% with its value (to see its value run echo %appdata%):\nC:\\Users\\User> echo %appdata%\nC:\\Users\\User\\AppData\n{\n  \"argv\": [\n    \"C:\\Users\\User\\AppData\\npm\\ijskernel.cmd\",\n    \"--hide-undefined\",\n    \"{connection_file}\",\n    \"--protocol=5.0\"\n  ],\n  \"display_name\": \"Javascript (Node.js)\",\n  \"language\": \"javascript\"\n}. Judging by the error message, ijskernel.cmd is stored in C:\\Users\\Owner\\AppData\\Roaming\\npm. Could you confirm that?\nIf that's the case, the kernel.json you need is:\n{\n  \"argv\": [\n    \"C:\\Users\\Owner\\AppData\\Roaming\\ijskernel.cmd\",\n    \"--hide-undefined\",\n    \"{connection_file}\",\n    \"--protocol=5.0\"\n  ],\n  \"display_name\": \"Javascript (Node.js)\",\n  \"language\": \"javascript\"\n}\n. @vijaykarthik123 Please, let's continue the discussion on #1261 .. Could you enable debug messages (as described here and post a screenshot of the dev console, please?. At first, I thought this could be done, simply by setting Startup Code in Hydrogen's settings. But this only does half of the job (i.e. you'd be able to load a session at startup, but at the moment there is no setting to run code on exiting Hydrogen; and most likely you don't want that either).\nI think this can be done using the Plugin API. It would let you set a hook on onDidChangeKernel to load/save a Python session. At the moment, there is no hook on Hydrogen.deactivate, but instead one could define a command (and a keybinding) to save the current Python session.. It's safe to upgrade to jmp@1.0.0 (I just took the opportunity of a backwards-compatible API change to move onto version1.0.0).. For future readers:\n- I don't recommend the installation of ijavascript using the admin account (unless you know what you're doing)\n- if after running npm install -g ijavascript, you can't run ijsinstall (because it isn't in your PATH), it can be run using the following command instead %appdata%\\npm\\ijsinstall (for more detailed instructions see https://github.com/joeflack4/ijavascript/blob/bba0fde675a9e238f9c883c3e9df5f2c6a29fa26/README.md#windows). @nikitakit I've gone quickly through the PR and I have a major concern about the design and minor points about naming and logging.\nPlease, correct me if I misunderstood. This PR introduces the concept of middleware and changes the classes HydrogenKernel, Kernel, ZMQKernel and WSKernel to implement this concept.\nFor the sake of separation of concerns, this middleware (or plugin) should be class of its own. And no changes should be required in Kernel, ZMQKernel and WSKernel.\nHere's an approach to keep this separation of concerns:\n```js\nclass HydrogenKernel {\n    constructor(Kernel: kernel) {this.kernel = kernel; this.plugins = []; ...;}\nprependPlugin(HydrogenPlugin: plugin) { this._plugins.unshift(plugin); }\nappendPlugin(HydrogenPlugin: plugin) { this._plugins.push(plugin); }\nremovePlugin(HydrogenPlugin: plugin) { ... }\n\nexecute(...args) {\n    let newArgs = args;\n    this.plugins.forEach((HydrogenPlugin: plugin) => { newArgs = plugin.execute(...newArgs); });\n    this.kernel.execute(...newArgs);\n}\ninspect(...) {...}\ncomplete(...) {...}\nrestart(...) {...}\ninterrupt(...) {...}\nshutdown(...) {...}\n\n}\n```\nAnd about the minor points I mentioned above:\n- don't use console.log or console.warn, use log\n- the convention in Hydrogen is to name private methods with a starting _MyMethod not rawMyMethod\n- since callWatches is a boolean flag, how about renaming to shouldUpdateWatches?\n- the name _translateExecuteResults gives the impression that this is a function that parses an execution result, instead it returns a function that parses an execution result.. > To add to your description of the concept of middleware, I'd like to mention that the purpose of this concept is to allow plugins to intercept and modify kernel requests/responses.\nDo you mean like this?\njs\n    execute(...args) {\n        let newArgs = this.kernel.execute(...args);\n        this.plugins.forEach((HydrogenPlugin: plugin) => { newArgs = plugin.execute(...newArgs); });\n    }. > I say difficult because there is technically the option of creating a PluginAwareKernel class that inherits from Kernel.\nI don't understand what you mean by PluginAwareKernel. Could you give an example?. > A given plugin may only wish to target particular kernels (e.g. if it implements language-specific features), so middleware is installed on a per-kernel basis instead of globally.\nSomething like this:\njs\nclass PluginForPythonKernel {\n    // ...\n    attach(HydrogenKernel: hydrogenKernel) {\n        if (hydrogenKernel.kernel.language === \"python\") {\n            hydrogenKernel.appendPlugin(this);\n    }\n    // ...\n}\n. > Regarding your chaining proposal -- \n\n[...]\nthis implementation is not sufficiently general to implement plugins that want to split one request into multiple. \n[...]\nThe fact that next.execute can be called multiple times inside the middleware (and that you also have the option to call other methods such as next.complete) makes handling prepend/append/remove trickier\n\nwhy?\n- both approaches allow multiple calls to plugin.execute, plugin.complete, ...\n- both approaches implement a chain of plugins\n- both approaches are essentially equivalent; the main difference is that one of them avoids changes in Kernel, ZMQKernel and WSKernel.\n. I assume the call stack would look like this:\nHydrogen.run [main.js]\n- Hydrogen.createResultBubble [main.js]\n-- Hydrogen._createResultBubble [main.js]\n--- HydrogenKernel.execute [hydrogen-kernel.js]\n. >  (1) users with plugins installed will have 100% of their kernels converted to [HydrogenKernels], which puts them on a completely different codepath from vanilla hydrogen users and increases the potential for bugs\nSince some functionality like watches will be implemented as a plugin, all users will have to use HydrogenKernel's.\n\n(2) swapping out a ZMQKernel for a [HydrogenKernel] when the kernel is already associated with multiple files is needlessly complex.\n\nDitto. All users will have to use a HydrogenKernel.\n\nThe issue with this PR isn't the idea of midleware/plugin. This is an implementation issue. The classes Kernel, ZMQKernel and WSKernel know nothing about plugins, because their only purpose is to communicate with a kernel.\nThis PR injects the middleware/plugin functionality into Kernel, ZMQKernel and WSKernel. This means that, with this PR, Kernel, ZMQKernel and WSKernel would become responsible for communicating with kernels and plugins. From a maintenance and a design point of view this is bad because:\n- changes in the plugin interface would require changes in Kernel, ZMQKernel and WSKernel\n- Kernel, ZMQKernel and WSKernel would become more complicated, because they would have to handle both functionalities.\nIn the end, it all boils down to separation of concerns: \"do one thing and do it will\". Until now, Kernel, ZMQKernel and WSKernel do only one thing: i.e. communication with kernels.. > Also, ZMQKernel and WSKernel aren't becoming more complicated: all I'm doing is renaming some of their methods.\nI see what you've done there! Failed to mention the changes in Kernel, have you? :)\nAnyway, that's not the main problem I have raised. The issue I've raised is one of design. I'm not going to repeat the problems that breaking that design will bring.\nThe question is: Why does this PR need to break the design of Kernel, ZMQKernel and WSKernel?\n. > See my point above about plugin backward-compatibility. I consider compatibility to be of utmost importance in API design.\nAre you arguing that it's impossible to provide plugin backward-compatibility without touching the code in Kernel, ZMQKernel and WSKernel?. > If we have both a HydrogenKernel and HydrogenKernelV2 class in parallel, it is clear that both must be wrappers around the same hydrogen-internal object.\nIf the logic to handle plugins is kept inside HydrogenKernel and HydrogenKernelV2, then there is no need to touch Kernel, ZMQKernel and WSKernel.. > How does HydrogenKernelV2 fit in?\n\nIn my plan, HydrogenKernel is never part of the call stack for requests not initiated by a plugin, so you can have as many parallel versions as you want.\n\nThis is only a naming issue. I understand you'd like to keep the class name HydrogenKernel for use by plugins consuming API v1. So let's think of another name for the class used internally: e.g. HKernel?\nWith this new naming, the design would be:\n\nKernel, ZMQKernel and WSKernel to handle communications with Jupyter kernels\nHKernel combines the functionality of plugins and Kernel (and is only accessible internally)\nHydrogenKernel is accessible to plugins consuming API v1 (and uses HKernel internally)\nHydrogenKernelV2=HKernel is accessible to plugins consuming API v2 (and uses HKernel internally)\n\n\nIt's rather late here. Let's continue the discussion tomorrow.. @nikitakit \n\nThese changes produce a massive diff throughout all of hydrogen, and really has nothing to do with plugins.\n\nI'm afraid [this commit}(https://github.com/nteract/hydrogen/pull/1179/commits/28f2770a54731860c036c0212ce14cd268e47781) doesn't implement what we've been discussing.\nIf this PR, touches ZMQKernel, WSKernel or Kernel(=KernelTransport), then it's doing something it shouldn't. This PR should implement a new plugin API (it shouldn't change the way Hydrogen communicate with kernels).. Below, I'm going to call JMessage to a message written in the Jupyter Messaging Protocol, and HMessage to those written in Hydrogen's internal format.\n@nikitakit I've reviewed again https://github.com/nteract/hydrogen/pull/1179/commits/28f2770a54731860c036c0212ce14cd268e47781 keeping in mind that plugins receive only JMessage's.\nThese are the requirements I'd like this PR to meet:\n\n\nDon't change the interface exposed by Kernel(=HKernel) (only extend it with new functionality). Otherwise, we'll have to propagate the changes to the whole of Hydrogen.\n\n\nKernel needs to be extended to provide a method to register plugins.\n\n\nKernel needs the ability to access JMessage's, so that they can be passed onto the plugins.\n\n\nKernel needs the ability to parse JMessage's into HMessages, so that it can keep the interface used internally in Hydrogen.\n\n\nI think this PR already meets all the requirements but (1).\nHere are some issues with these requirements and how to work around them:\n\n\nHydrogen uses internally kernel instanceof ZMQKernel and kernel instanceof WSKernel to access functionality specific to each type of kernel. There is a hacky way to achieve this in Javascript, but we don't really want to use a hack like that in Hydrogen (pretty sure flow wouldn't handle it). I've counted 4 uses of  kernel instanceof ZMQKernel and kernel instanceof WSKernel, so this isn't a terrible issue. We could replace them by kernel.transport instanceof ZMQKernel and kernel.transport instanceof WSKernel (as you do in this PR).\n\n\nBefore this PR, KernelManager returned either ZMQKernel or WSKernel. Since this PR introduces the classes Kernel and KernelTransport; now, KernelManager needs to return Kernel. Because of requirement (1), this change won't cause more changes in Hydrogen (other than the use of instanceof discussed above). Also note that by having KernelManager return Kernel, this allows us to change the API of ZMQKernel and WSKernel without having to propagate the changes to the whole of Hydrogen. I.e. we can have ZMQKernel and WSKernel returning JMessage's instead of HMessages.\n\n\nI hope this helps. Let me know if anything needs clarification.. @nikitakit I'm so sorry, but I can't look at this today. I'll try over the weekend.. @nikitakit \n\nI was unable to move the code in HydrogenKernel.addMiddleware to Kernel due to issues with project tooling (flow and prettier). Basically, if I change the code to make flow happy, prettier will choke on it.\n\nI can't help if you don't tell what the failure is (flow and prettier should be able to handle standard OOP and mixins).\n\nThe fact that the middleware object passed to the plugin API cannot be mutated later is part of our API guarantees. Enforcing those guarantees in a different file is prone to inadvertently breaking plugins.\n\nWhat is the reason for enforcing immutabilty?\n\nEarlier you presented an example where the Kernel stores a plugin list, e.g. this.plugins = []. That means applicable middleware is checked on each request, instead of \"precompiling\" the middleware pipeline. This is actually almost impossible to implement (I challenge you to try, so you can see why!) If we're precompiling anyway, there's a lot less pressure to move this functionality into Kernel.\n\nI don't understand. What do you  mean by \"\"precompiling\" the middleware pipeline\"\n\nI'll ask again: why do we need to introduce two concepts Plugin and Middleware?. ~~One more request: reviewing this PR from scratch every time is updated takes me a lot of time. I'd be quicker, if I could review the PR incrementally (i.e. if I could review each commit separately).~~\nNVM, I should thank you for bearing me through this review.. @nikitakit \n\n(1) New atom packages can activate at any time. Under the current API this means that new middleware might be added at any point, including when there are already requests being processed.\n\nWhy would this be a problem? It'd make the plugin functional as soon as is registered.\n\n(2) Plugins only specify the methods they want to override (i.e. all fields e.g. interrupt, shutdown, etc. must be optional)\n\nNice\n\n(3) The objects that plugins pass into the API are mutable. This means that a new property (e.g. interrupt) can appear at any time, or an existing property can disappear. This behavior is somewhat degenerate, but hydrogen should handle this in a predictable way and document to plugins how this is handled.\n\ndegenerate? Let's call it: adaptive or dynamic. :)\n\n(4) A plugin's implementation of execute might fork into multiple calls of different methods. This rules out an approach like this.plugins.forEach((HydrogenPlugin: plugin) => { newArgs = plugin.execute(...newArgs); }); -- a function can call next.execute as many times as it needs to, but a function can only return once!\n\nNo, I don't think so. As I said in one of the previous comments. Plugins must invoke the onResult callback only once (this requirement is also necessary in the \"precompiled\" approach).\n\nPreviously, I handled (1) and (4) by constructing functions on-the-fly that corresponded to the full precompiled middleware stack, and handled (3) by storing an immutable copy of any middleware passed in. It looks like @n-riesco didn't like that. What do you think instead about my latest commit, which introduces a MiddlewareAdapter class instead?\n\nWhen I make a question about a piece of code, it doesn't mean I dislike it. It means I don't understand something about it. If, as a reader of the code, a point isn't obvious to me, it may not be obvious to other readers and it may need documenting.\n\nThe latest patchset looks very good.\nTo my understanding, the main two standing issues are:\n\n\nPlugins shouldn't receive the next plugin. To be clear, this isn't about this.plugin = [] vs precompilation. What I mean is that plugins should implement HydrogenKernelMiddleware (HydrogenKernelMiddlewareStack shouldn't exist).\n\n\nIt hasn't been justified yet the need to split plugins into Plugin and Middleware.. > >    Plugins must invoke the onResult callback only once\n\nI don't see how this can possibly be true.\nEvery time you call sys.stdout.flush() in python, Hydrogen needs to display stdout right away. The way Jupyter handles this is by sending a new message, which gets passed to onResults. In other words, onResults gets called multiple times per request.\n\n\n\nYou're right, but the point still stands.\nLet me rephrase the point (using the speak in the Jupyter messaging protocol): plugins must ensure that for every <action>_request message they receive, only one <action>_reply message is passed back to the onResults callback.. @nikitakit sorry about the late reply. I'm planning to look at the latest changes tonight.. @nikitakit \n\n[...], but I do want to make sure that distinct concepts have distinct names.\n\nIf we really think that the case of plugins that don't register a middleware will be common, then fair enough.\nBut to my mind, plugin and middleware are essentially the same concept.\n\nAfter searching for a different word for a \"kernel functionality extender\", I settled on the name middleware. I'm not particularly attached to any of these names, [...]\n\nI wouldn't say that the middleware defined in this API extends the kernel functionality, but instead, I'd said this middleware transforms kernel requests and replies. So how about we call it transform?\n\nPlease let me know how to proceed here.\n\nI had a another read of the the latest changes and here's a list of the remaining blocking points:\n\n\nHave you tested the functionality for input_request? I'm unclear how the new implementation could work.\n\n\nFor me, that the new API exposes callWatches to the plugins is still a blocking point, because this prevents the implementation of Watches as a plugin.\n\n\n. @nikitakit \n\nNote that watches have apparently always triggered on \"status: idle\" messages and not on \"execute_reply\" messages. I'm not in a position to know if changing this would break things, so I've retained the old behavior.\n\nThe Jupyter messaging protocol requires that an execute_request is closed with an execute_reply.\nKernels, like IJavascript, that can run requests asynchronously are able to accept new requests (i.e. they can send status:idle) before and execution_request has been closed (i.e. before an execute_reply has been sent).\nCould you point me to code in master where the behaviour \"Note that watches have apparently always triggered on \"status: idle\" messages and not on \"execute_reply\" messages.\" is implemented?\n\nI tested the input_request behavior (both previously and after this latest round of changes), and there don't appear to be any impacts from a user-facing perspective.\n\nCould you explain how the new implementation works? I'm confused because the only code I've found that opens an input dialog has a comment that says it never runs:\nhttps://github.com/nikitakit/hydrogen/blob/a00cb945eef6b37f8a73b2f0e4422ddaccceb70c/lib/zmq-kernel.js#L313-L333\n\nThere isn't currently an API for plugins to actively participate in the input_request/input_reply exchange because there hasn't been a convincing usecase for it. If a plugin wants to query the user it can just use Atom's DOM API.\n\nI don't understand the meaning of this paragraph. The new API seems to call the plugins when an input_request is received.\n. @nikitakit \n\n\nCould you point me to code in master where the behaviour \"Note that watches have apparently always triggered on \"status: idle\" messages and not on \"execute_reply\" messages.\" is implemented?\n\nZMQKernel: https://github.com/nteract/hydrogen/blob/master/lib/zmq-kernel.js#L363\nWSKernel: https://github.com/nteract/hydrogen/blob/master/lib/ws-kernel.js#L53\n\n\nOh, so what you mean is that the Watch callbacks have always been triggered on 'status:idle`. I think that's the right thing to do. This PR keeps doing the same, doesn't it?\n\n\nI don't understand the meaning of this paragraph. The new API seems to call the plugins when an input_request is received.\n\nYou're right, I wasn't quite precise. Plugins have the option of modifying the input_request, but well generally just pass it along. However, they do not currently have the option to do anything with input_reply messages.\n\nCouldn't a plugin hijack an input_request? I.e. when the plugin gets an input_request, instead of invoking next, it can invoke the onResults callback with a fake input_reply.\n\nInput requests are handled here. (Note that GitHub by default doesn't render the diff for this file because it's too big)\n\nbad github! :( \nOK, now I understand how it works. I'd remove the lines https://github.com/nikitakit/hydrogen/blob/a00cb945eef6b37f8a73b2f0e4422ddaccceb70c/lib/zmq-kernel.js#L314-L331 . Everywhere else in ZMQKernel we drop invalid messages. We certainly could add a log message, but ZMQKernel shouldn't do any UI (only hadnle comms with kernel).\n. @nikitakit \n\n\nI.e. when the plugin gets an input_request, instead of invoking next, it can invoke the onResults callback with a fake input_reply.\n\ninput_request is from the kernel, to the frontend. So input_request is what gets passed to onResults.\n\nyes, you're right.\nLet me re-word the idea: a plugin could hijack an input_request (received via its OnResults callback) by invoking next.inputReply with a fake input_reply, instead of calling the parent's onResult callback.. @nikitakit \n\nYes, we could create a next.inputReply.\n\nAgain, you're right (I thought inputReply was part of the middleware interface).\n\nI have postponed that for a future PR because I haven't found any usecases for it.\n\nyes, I understand.. @nikitakit https://github.com/nteract/hydrogen/pull/1179/commits/a00cb945eef6b37f8a73b2f0e4422ddaccceb70c addresses the last of the blocking issues. I think this PR is ready to merge (but note I've only read the code; I haven't tested it in my computer).. @nikitakit \n\n(Someone else will need to merge this PR since I'm not part of the nteract org)\n\nOh, I thought you were!\nSince this is a significant PR, before merging, I'd like to confirm that @lgeiger @BenRussert  and @rgbkrk  are happy with the changes.. This is actually a Python question. See the answer here on StackOverflow.. After more thought, I think this should be a separate setting in Hydrogen.\nFor some users having suggestions that don't match any characters is inconvenient, but for others is useful, because it allows exploring object properties (e.g. a user wants to explore what's exported under Math.).\nAnother option (that goes against the policy of having language-specific code) would be to add another regexp here.. Hydrogen supports plotly graphs and I've written a small package to take advantage of this support: ijavascript-plotly\n```js\nvar Plotly = require(\"ijavascript-plotly\");\nPlotly([{y: [10, 30, 20]}], {title: \"Plotly from IJavascript\"});\n```\n\n\n@rgbkrk Thanks for bringing my attention to this issue. I'm sorry I missed it for so long. I don't get any emails when an issue is assigned to me (mentions catch my attention better)\n. What error message do you get?\nIf your chromebook  is 32bit, then you'll need to install some additional requirements. See instructions here.. @archanatikayatray The log message looks truncated (I don't see any error message there). The error message is telling us that the installation failed because the header files of the library cairo haven't been installed in your machine.\nI'm not familiar with the installation of packages in a Chromebook.. @Schobbish the error is telling us that atom can't find ijskernel in your PATH.\nIf ijskernel isn't in your PATH, you need to install a kernel spec that uses full paths; like this:\nijsinstall --spec-path=full\nNote that this means that, whenever you update node, you need to reinstall the kernel spec, so that the path to the node in the kernel spec gets updated too.. To update the IPython's kernel spec, run: python -m ipykernel install --user. @lgeiger here's some context. @dlefcoe reported this issue inside another issue that had been closed. See his comment and responses below for more details. @dlefcoe's tried to install the kernel manually, but Hydrogen still can find it.. @vijaykarthik123 What happens when you run the command hydrogen:update-kernels?. @dlefcoe It's under Packages > Hydrogen (or you could type after pressing shift+ctrl+p).. @dlefcoe in your case, please could you also confirm that the file %APPDATA%\\jupyter\\kernels\\javascript\\kernel.json exists and post the contents here?\n(note that, by default, Windows hides file extensions and you may have created a file named kernel.json.txt instead of kernel.json; you could tell the difference by using the file explorer, because the type JSON File is assigned to files with the extension .json, and the type Text Document to files with extention .txt).\n\nFor anyone else having this issue, please could you post here:\n- what happens when you run the command hydrogen:update-kernels\n- your operating system\n- whether IPython or Jupyter is installed in your machine\n- and if Jupyter is installed, the output of running: jupyter kernelspec list. @dlefcoe I got to reproduce the issue and it seems to be caused one of the libraries used by hydrogen. I've opened an issue on their repo: https://github.com/nteract/kernelspecs/issues/31. @dlefcoe The issue was actually caused by the kernelspec. The backward slashed need escaping, like this:\n{ \"argv\": [ \"C:\\\\Users\\\\Owner\\\\AppData\\\\Roaming\\\\ijskernel.cmd\", \"--hide-undefined\", \"{connection_file}\", \"--protocol=5.0\" ], \"display_name\": \"Javascript (Node.js)\", \"language\": \"javascript\" }. @dlefcoe It looks like the path C:\\\\Users\\\\Owner\\\\AppData\\\\Roaming\\\\ijskernel.cmd is wrong.\nI reckon it should be: C:\\\\Users\\\\Owner\\\\AppData\\\\Roaming\\\\npm\\\\ijskernel.cmd. Thanks!. :smile: This is the only case where we actually mean the planet!. Hydrogen doesn't require the installation of Jupyter any longer.\nBut IJavascript requires Jupyter to install its kernelspec.\nIf you don't want to install Jupyter, you could install IJavascript's kernelspec manually as described in https://github.com/n-riesco/ijavascript/issues/148.. @justdoGIT yes, that's the issue. zeromq doesn't distribute 32-bit binaries. Instead, zeromq tries to build the native module using node-gyp. See the requirements here.. @justdoGIT  Now the problem is with canvas. See the requirements here.. @justdoGIT zeromq needs access to github to download libzmq.. @justdoGIT I'm not sure what you're trying to do? npm install zeromq makes me think you want to test whether it's possible to build zeromq from sources on a 32bit Ubuntu. Do you know why npm fails to access github?. @eskemojoe007 Could you open a new issue, please?\nJudging by the logs you've posted, the issue you see is that zeromq doesn't provide binaries for electron v2 and the install script fails while running node-gyp rebuild to build the native module.. @eskemojoe007 I've edited the title of this issue to make clear this issue is caused by being behind a proxy. And it'll be fixed, when https://github.com/zeromq/zeromq.js/issues/260 is fixed.\nTo be more clear: this issue happens when running node scripts/preinstall.js. The issue you see happens when running node-gyp rebuild.. Just for the record, payloads are deprecated.. @taobo33 are you able to install any other packages in Atom?. In Hydrogen's settings, see Language Mappings. For MagicPython, setting Language Mappings to {\"python\": \"magicpython\"} should do the trick.. @lovezeropython See the troubleshooting guide. It's described in the first section.. @sdrakulich If you run q() does the kernel die?. @sdrakulich What do you mean by \"the R windows-front-end service does not\"? Do you mean that Hydrogen doesn't know that the kernel died? That would be expected.\nI'm just trying to determine where the problem is. When the user runs the command hydrogen:shutdown, the following should happen:\n1. Hydrogen sends shutdown_request to kernel\n2. IRKernel receives shutdown_request\n3. IRKernel sends shutdown_reply to Hydrogen\n4. IRKernel invokes quit()\n5. Hydrogen sends SIGKILL to IRKernel (in linux, this kills IRKernel if it hasn't died before; in windows, it doesn't work; this is a long standing issue with node in windows; a potential alternative is https://www.npmjs.com/package/tree-kill)\nI see two possible leads:\n- find out why IRKernel doesn't invoke quit()\n- or use tree-kill in Hydrogen\n. It sounds like what you're after is nbconvert.. Oh, I read your post too quickly. If you want to access Hydrogen API see https://github.com/nteract/hydrogen#plugins-for-hydrogen\n@nikitakit In the README, the link https://nteract.gitbooks.io/hydrogen/docs/PluginAPI.md is broken.. The PR that introduced the latest API is #1179 and the little documentation we have is in https://github.com/nteract/hydrogen/blob/master/docs/PluginAPI.md. @crstnbr Would you be able to test whether the installation of Hydrogen works with Atom v1.27.2?\nIf the installation of Hydrogen works with Atom v1.27.2, this would support my guess in this comment that the issue is triggered when building zeromq for electron v2 (Atom v1.28 and above use electron v2).. @crstnbr Thank you for testing this.\nI can't do it this week, but I'll try to reproduce the issue in windows machine next week (please, ping me back again, if you don't hear from me).\nThe first lead I'd follow is to locate what's printing the error message The system cannot find the path specified... I've installed Atom 1.28.1 x64 and Hydrogen 2.5.1 in a Windows 10 machine without errors. I've also uninstalled and installed Hydrogren without errors.\nThis suggests there is an issue with your Atom installation.\nNot the same error, but this user reported that deleting the .apm folder and reinstalling Hydrogen fixed their issue.. @eskemojoe007 Than you for the thorough tests.\n\nSome results from checking the installation on my Windows machine:\n\nAtom 1.28.1 x64 uses electron electron 2.0.4 (ABI 57)\nzeromq 4.6.0 provides binaries for it: https://github.com/zeromq/zeromq.js/releases/download/v4.6.0/zeromq-v4.6.0-electron-v57-win32-x64.tar.gz\nthis makes me think that the error message The system cannot find the path specified comes from node scripts/prebuild-install.js.\n\nSome leads to follow after a google search for The system cannot find the path specified:\n- https://github.com/atom/settings-view/issues/838\n- https://github.com/atom/atom/issues/8242\n- https://discuss.atom.io/t/atom-wont-install-packages-to-my-oddly-named-user-directory/37153/6\n- https://superuser.com/questions/727316/error-in-command-line-the-system-cannot-find-the-path-specified. @eskemojoe007 I understand. I'm sorry I couldn't be of more help.. @eskemojoe007 Just to be clear, did you rule out the possibility of the issue being caused by the user name?. @eskemojoe007 I've noticed another unusual thing in the log messages above. They report that node v6.9.5 is being used, whereas my installation of Atom 1.28.1 in Windows 10, the dev console (shift-ctrl-i) shows process.versions.node is 8.9.3.. @eskemojoe007 This is what I get on cmd.exe:\nC:\\Users\\user>echo %PATH%\nC:\\Python27\\;C:\\Python27\\Scripts;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Users\\user\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Program Files\\Docker;C:\\Program Files\\dotnet\\;C:\\Program Files\\Microsoft SQL Server\\130\\Tools\\Binn\\;C:\\Program Files\\nodejs\\;C:\\Users\\user\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\user\\AppData\\Roaming\\npm;E:\\instantclient_12_2;C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\MSBuild\\15.0\\Bin;. I haven't run apm on that machine. I'll add it to PATH and see what happens.. @eskemojoe007 what about node? isn't node in your PATH?. How intriguing! I didn't update PATH. I just opened cmd.exe, went to cd %LOCALAPPDATA\\atom\\bin and this is what I get (apm and atom report different versions of node):\n```\nC:\\Users\\user\\AppData\\Local\\atom\\bin>apm --version\napm  1.19.0\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.28.1\npython 2.7.15\ngit\nvisual studio 2015\nC:\\Users\\user\\AppData\\Local\\atom\\bin>node --version\nv8.11.2\nC:\\Users\\user\\AppData\\Local\\atom\\bin>atom --version\nAtom    : 1.28.1\nElectron: 2.0.4\nChrome  : 61.0.3163.100\nNode    : 8.9.3\n```\n@eskemojoe007 Have you tried to uninstall and install Hydrogen using atom instead of apm?. Re/ https://github.com/atom/apm/issues/328. The mismatched version between atom and apm is a red herring. I can install Hydrogen using apm in my machine:\n```\nC:\\Users\\user\\AppData\\Local\\atom\\bin>apm install Hydrogen\nInstalling Hydrogen to C:\\Users\\user.atom\\packages done\nC:\\Users\\user\\AppData\\Local\\atom\\bin>\n``. What happens when you run the commandhydrogen:update-kernels`? does it show the kernel for Ruby?. Hydrogen uses the package kernelspecs to update the list of kernels. In the past, I've seen that this package drops silently invalid kernelspecs. I don't see anything wrong with the kernelspec for Ruby.\nAre you familiar with Node.js and npm? If so, I'd try to reproduce the problem in Node and open an issue at https://github.com/nteract/kernelspecs :\n```js\n\nvar ks = require(\"./kernelspecs\");\nundefined\nks.findAll().then(console.log)\nPromise {  }\n{ coffescript: \n   { name: 'coffescript',\n     files: \n      [ '/home/user/.local/share/jupyter/kernels/coffescript/kernel.json',\n        '/home/user/.local/share/jupyter/kernels/coffescript/logo-32x32.png',\n        '/home/user/.local/share/jupyter/kernels/coffescript/logo-64x64.png' ],\n     resources_dir: '/home/user/.local/share/jupyter/kernels/coffescript',\n     spec: \n      { argv: [Object],\n        display_name: 'CoffeScript (Node.js)',\n        language: 'coffeescript' } },\n  javascript: \n   { name: 'javascript',\n     files: \n      [ '/home/user/.local/share/jupyter/kernels/javascript/kernel.json',\n        '/home/user/.local/share/jupyter/kernels/javascript/logo-32x32.png',\n        '/home/user/.local/share/jupyter/kernels/javascript/logo-64x64.png' ],\n     resources_dir: '/home/user/.local/share/jupyter/kernels/javascript',\n     spec: \n      { argv: [Object],\n        display_name: 'Javascript (Node.js)',\n        language: 'javascript' } },\n  python3: \n   { name: 'python3',\n     files: \n      [ '/usr/share/jupyter/kernels/python3/kernel.json',\n        '/usr/share/jupyter/kernels/python3/logo-32x32.png',\n        '/usr/share/jupyter/kernels/python3/logo-64x64.png' ],\n     resources_dir: '/usr/share/jupyter/kernels/python3',\n     spec: { argv: [Object], display_name: 'Python 3', language: 'python' } } }\n\n```. https://github.com/nteract/kernelspecs/issues/32. https://github.com/nteract/jupyter-paths/issues/27\n@JonnyCBB Thank you for chasing this.. @JonnyCBB See here the instructions to enable debug messages on the dev console.. @JonnyCBB Thank you for the logs. Now I can see that the issue is happening because Hydrogen expects iRuby to be setup a control socket.\nIf you feel like tinkering, you can try this:\n- locate where Hydrogen is installed in your computer\n- open the file lib/zmq-kernel.js in an editor\n- remove \"controlSocket\" from this line https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L117\n- and remove this line https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L140. > What side effects could I expect by making the changes that you suggested?\nI don't expect any, because Hydrogen doesn't use the control socket at the moment.\n\nDo you think that these changes will be included in the next release of Hydrogen or will I have to make these changes after every update?\n\nIf you're up for it, please, open a PR and I'll review it. The PR should remove all instances of crontrolSocket from lib/zmq-kernel.js:\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L34\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L69\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L75\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L81\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L117\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L140\n- https://github.com/nteract/hydrogen/blob/c9826b18bc715b2a60692b26d5c6c5336430288c/lib/zmq-kernel.js#L399. @JonnyCBB Again, thank you for debugging this issue and creating this PR!. @kylebarron @nikitakit The use of .trim() was an unintended change during Hydrogen's transition from Coffeescript to ES6 (see #503). It's not there to fix any issues with a kernel (this is unlike the transformation to use unix line-endings (see #451) that was introduced to make IRKernel happy).\nMy view is that, as white-space has semantic meaning for some kernels,  white-space transformations should live in language-specific plugins (like hydrogen-python).\nMy :+1: to merging this PR as is.. @nikitakit \n\nI'm actually not sure why it's disabled in the first place. @n-riesco do you have any idea? The git history shows you wrote the commit that excluded strings from autocomplete.\n\nI don't remember (I'm :disappointed: that I didn't mention the reasons in the commit message). I'm guessing I disabled it for the same reasons it's disabled for comments: it's noisy.\nAs a quick fix, I'd remove .strings from disableForSelector (as not to break this functionality in the scala kernel). In the future, we could introduce more options in settings to customise how autocomplete works in Hydrogen.\n\n[...] Instead of relying on the kernel to do language-specific processing, hydrogen manually truncates the code it sends to the kernel and never includes anything that's after the cursor.\n\nThis predates me. @willingc, do you remember why the regexes in lib/autocomplete-provider.coffee were introduced?. @kylebarron It used to be the language name, but we changed it to display names in #195 to address the last bullet point in this comment.\nHow about accepting both possibilities: display and grammar names. Hydrogen first checks if there is an entry for the grammar name. If there isn't, then checks the display name.. > By \"grammar name\", I'm assuming you mean the key for language in the kernelspec JSON?\nNo, I mean atom's grammar name (Hydrogen should use only atom's grammar names, otherwise it's too confusing; we had that problem a long time ago). \n\nThen when a key is a display name, apply it only for that kernel, and when a key is a language name, apply it for all kernels of that language?\n\nOh yes that makes more sense: display names should have priority over grammar names (as display names are more specific than grammar names).. See grammarToLanguage and the flow declaration of atom$Grammar to see what I mean by grammar language. E.g. for Python is just python and for JavaScript is javascript.. That sounds like an issue with the installation of IJavascript.\nWithout knowing the details of your installation, a quick workaround is to install the IJavascript kernel spec with full paths: ijsinstall --spec-path=full.. On a regexp, no, but that's a string!. yes, we need to escape the backslash.. I can't look at this right now, but I don't think changing the regexp is the right approach.\nI think we should update this part of the code to skip regexp matches for which isComment is false.. @rpalloni Please, have a look at the response I provided at stackoverflow.\nLet me know if anything needs further explanation.. Haven't tested it, but code LGTM.. JSON.parse(out) throws because out is not valid JSON when using IPython v1.2.1\n. How about guarding with a try/catch block?\ncoffeescript\n         save = (out) =>\n            try\n                @availableKernels = _.pluck JSON.parse(out).kernelspecs, 'spec'\n                @setConfigJson 'kernelspecs', @availableKernels\n                atom.notifications.addInfo 'Hydrogen Kernels updated:',\n                  detail: (_.pluck @availableKernels, 'display_name').join('\\n')\n            catch\n. If no startup script is defined, this function returns the string 'undefined\\n'.\n. atom-message-panel is already listed (see first dependency)\n. accept? :)\n. @rgbkrk The naming in this class is something we need to revisit. I added Running to hint that this method must be invoked. If a kernel is destroyed by calling kernel.destroy() directly, 'KernelManagerwon't be aware of it and will keep it listed amongst its running kernels.\n. Does this break when multiple files are open?\n. this works well without brackets. Try http://coffeescript.org/\n. Is this what makes it stay above the plot?\n. How about0 0 0 -50%so that it doesn't hide the line above?\n. My linter says this fat arrow is unnecessary.\n. Whypre? Doesn't it work withcontainer`?\n. I would report this to the console (to help us debug)\ncoffeescript\ncatch err\n    console.log \"ResultView:\", err\n. Isn't better to append the element after it has been fully styled?\n. I don't understand. Why wouldn't?\n. Thanks, I've just got it!\n. Could you add a comment here to remind our future selves that @getAllText() must be called after appending the htmlElement?\n. Wait! Please, better put the comment above the line with  container.appendChild htmlElement\n. It's in my TODO list to remove the intermediate objects that Hydrogen creates for each kernel response. Once I do that _parseDataMime will go and we will rely fully on transformime.\nWill we remember then to restore this transformer?\n. OK, I now see the reason to remove them.\n. Do we always want to destroy the kernel?\n. Clever use of single and double quotes!\n. Why not fs.readFile customKernelConnectionPath, 'utf8', (err, data) ->?\n. I think the functionality checking for customKernelConnectionPath belongs to KernelManager.\nConfigManager.writeConfigFile should only be called when a config file is written.\n. I would remove this notification.\nAfter a few times, it becomes tiring to have to dismiss this notification.\n. On 14/06/16 14:10, Sebasti\u00e1n Ram\u00edrez wrote:\n\nWould you like me to completely remove the notification or make it auto-dismiss (removing the |dismissabe: true|)?\n\nI don't think the notification is necessary, because the connection file is created when the custom kernel is launched.\n. This bit is confusing because ConfigManager.writeConfigFile expects a callback with two arguments only (filepath and config). I think as below would be clearer:\ncoffee\n            ConfigManager.writeConfigFile (filepath, config) =>\n                kernel = new Kernel kernelSpec, grammar, config, filepath, onlyConnect=false\n                finishKernelStartup kernel\n. else ?\n. I don't think this is necessary.\nCoffeeScript is smart enough to handle the scope of kernel (even if assigned within a try-catch block).\nThe CoffeeScript code below:\n``` coffee\ntry\n    foo = false\ncatch err\n    foo = true\nconsole.log foo\n```\ncompiles to\n``` javascript\nvar err, error, foo;\ntry {\n  foo = false;\n} catch (error) {\n  err = error;\n  foo = true;\n}\nconsole.log(foo);\n``\n. @tiangolo Oh! I missed thatfinishKernelStartupwas called in the callback toConfigManager.writeConfigFile. Now I understand the need forfinishKernelStartup.\n. I feel codeCellmight not be the best word.\n@rgbkrk @willwhitney any suggestions from the native speaker?\n. Isn't the signature::markBufferPosition(position, [options])`?\nhttps://atom.io/docs/api/v1.8.0/TextEditor#instance-markBufferPosition\n. Isn't the signature ::markBufferPosition(position, [options])?\n. s / you need to instead run / you need to run instead /\n. I think this should work:\ncoffeescript\n        marker = @editor.markBufferPosition\n            row: row\n            column: 0\n        ,\n            invalidate: 'never'\n. The concern I have is that cell is notebook-speak (some users won't be familiar with jupyter notebooks). How about renaming the commands to:\n- hydrogen:run-breakpoint-cell\n- hydrogen:run-breakpoint-cell-and-move-down\n- hydrogen:add-breakpoint\n- hydrogen:remove-all-breakpoints\n- hydrogen:remove-latest-breakpoint\nI think it's OK to write breakpoint together. I guess the corresponding methods would need renaming.\n. I don't see this error. Could you post the traceback?\n. Oh! I see the problem. This is actually a console error. It's happening because I dropped this check. I'll fix it.\n. Should we enforce that the comment starts a line?\nI would find the below example confusing:\n``` js\na = 1; # %% In[1]:\nconsole.log(a);\na += 1; # %% In[2]:\nconsole.log(a);\n```\n. I think editor.getRootScopeDescriptor is better here. Otherwise things like the below would be possible:\ncoffeescript\n`\n//%%\n(function() {console.log(\"This is Javascript\");})();\n//%%\n`\nconsole.log 'This is coffeescript'\n. I don't know (especially if we have to use injectionSelector)\n. I think this should be 'comment.line'. Otherwise /* %% */ would get highlighted in JS.\n. nice abstraction\n. We should return a clone, to avoid side-effects. See getAllRunningKernels\n. I think @_kernelSpecs should be initialised with the user settings; i.e. @_kernelSpecs = @parseKernelSpecSettings(). Is there a case when we wouldn't this to happen?\n. I think  we should add a callback to updateKernelSpecs rather than making it synchronous.\n:) Javascript is all about asynchronous code!\n. We need to remove this line as well.\n. After some more thought and since Kernel gets a grammar, I think this line should be @language =  KernelManager::getLanguageFor grammar.\nThis would also suggest that  getLanguageFor should be a static method (I would leave that for another PR because getLanguageFor is used everywhere).\n. Better name: kernel.kernelSpec.display_name + ' kernel: ' + command.name\n. This line is unnecessary. I'd just remove it.\n. This method is only used by the constructor. Can it be moved to the constructor?\nAnd I'd rename @inspector to @view.\n. With this PR, it make sense to rename @inspect as @toggle.\n. I'd ~~remove this method or~~ rename it to @hide.\n. I see initializeInspector is now used to toggle the inspector view.\nI'd still think we could rename @inspector to @view and move its creation to the constructor.\nI'd also rename @initializeInspector to @show.\n. On 11/07/16 10:55, Lukas Geiger wrote:\n\n\n@n-riesco https://github.com/n-riesco I think @_kernelSpecs should be initialised with the user settings; i.e. @_kernelSpecs = @parseKernelSpecSettings(). Is there a case when we wouldn't this to happen?\n\nThe parsing of user settings should happen in |updateKernelSpecs|, otherwise |hydrogen:update-kernels| wouldn't help if the settings are changed by the user.\n\nOne thing doesn't preclude the other, but it makes me think that @updateKernelSpecs could be split into two methods @getKernelSpecsFromSettings and @getKernelSpecsFromJupyter.\nThe constructor would call @getKernelSpecsFromSettings.\nAnd @updateKernelSpecs woudl call @getKernelSpecsFromSettings and @getKernelSpecsFromJupyter.\n. On 11/07/16 12:59, Lukas Geiger wrote:\n\nIn lib/kernel-manager.coffee https://github.com/nteract/hydrogen/pull/337#discussion_r70244433:\n\n@@ -11,6 +11,7 @@ module.exports =\n class KernelManager\n     constructor: ->\n         @_runningKernels = {}\n-        @_kernelSpecs = []\n\nI don't see why initialising |@_kernelSpecs = @parseKernelSpecSettings()| would be an improvement. Since on activation of Hydrogen |@updateKernelSpecs| is called anyway.\n\nIt's an improvement for users like me that cannot run ipython kerlnelspec.\nIt means I can start Hydrogen without waiting for jupyter kernelspec and ipython kernelspec to fail (which is the current behaviour).\n\nOne thing doesn't preclude the other, but it makes me think that |@updateKernelSpecs| could be split into two methods |@getKernelSpecsFromSettings| and |@getKernelSpecsFromJupyter|.\nThis is actually the case right now. The only difference are the method names:\n|@updateKernelSpecs| is now called |@saveKernelSpecs|,\n|@getKernelSpecsFromJupyter| is |@updateKernelSpecs| and\n|@getKernelSpecsFromSettings| is |@parseKernelSpecSettings|.\nWe can rename those methods if you think this would make it clearer.\n\nIt makes sense to me. How do you think?\n. On 11/07/16 11:40, Lukas Geiger wrote:\n\nIn lib/inspector.coffee https://github.com/nteract/hydrogen/pull/338#discussion_r70235799:\n\n@@ -50,7 +56,7 @@ class Inspector\n             cursor_pos = cursor.getBufferColumn()\n         return [code, cursor_pos]\n-    getInspector: ->\n-    initializeInspector: ->\n\nI'm OK with renaming |@inspector| to |@view|. But I don't think |@initializeInspector| should be renamed to |@show| since it just constructs or clears the view. The inspector is only shown if a message is added.\nI didn't move the creation to the constructor because the |inspect| command is only used on occasions, hence I think the view should only be created on the first |inspect| request. Or am I missing something?\n\nI find confusing that an init function is invoked multiple times.\nI think the real problem is that @initializeInspector is used to accomplish two different goals: construct the view and clear the view.\nSince the view is to be constructed on first call to @toggle, why not having a check in @toggle to create @view:\n@view ?= new MessagePanelView, title: 'Hydrogen Inspector'\nand replace the call to @initializeInspector with a @view.clear() ?\n. On 11/07/16 11:43, Lukas Geiger wrote:\n\n\ncloseInspector: ->\n\nI don't think we have to have a hydrogen command for hiding the view. This functionality is provided by an button on the view itself.\nIf you like to keep |hydrogen:toggle-inspector-size| and |hydrogen:close-inspector| I can add them back.\n\nTo be clear, I'm only suggesting to rename the method @closeInspector to @hide.\nAs you said, having the command hydrogen:toggle-inspector makes |hydrogen:toggle-inspector-size| and |hydrogen:close-inspector| redundant.\n. This isn't working.\nI'm guessing this is caused by the dependency-cycle this statement creates between KernelManager and Kernel.\nSince Kernel::language and Kernel::grammar aren't used anywhere in the code, I think it's best we remove them and update the code here, here, here and here.\n. I don't understand this line.\nShouldn't updateKernelSpecs fail if err in @getKernelSpecsFromJupyter and @getKernelSpecsFromSettings is empty?\nOther than that, it looks ready to merge.\n. I would add err = null here so that an error will be returned only if @_kernelSpecs is empty\n. Use Javascript convention, i.e. ZMQServices\n. do we need another kind of name?\n. Rather than rename it, I wouldn't make it a kernel property (i.e. remove the @).\nNo need to duplicate the info already provided in the kernel spec.\n. we need to reduce the number of arguments this constructor is taking.\nI think filePath is missing a @\n. @onDestroy?(this)\n. We just refactored KernelManager into a class so that we don't have a singleton.\nPlease, don't make ZMQServices a singleton. \n. I find unusual to have @onDestroy as the first argument.\n. I don't see why never. Current Kernel doesn't need an onDestroy.\n. The way this is done with KernelManager is:\n- main creates an instance called @kernelManager\n- any other classes that need the kernel manager, get a copy of @kernelManager through the constructor.\n. Can we call it something less ambiguous?\nI don't want people to start using spec.name for anything else than spawning a gateway kernel.\nPerhaps spec._name?\n. @rgbkrk Could you comment about the globals defined by jupyter-js-services?\nDoes this interfere with any of the globals that Atom itself overwrites?\nIs nteract already using jupyter-js-services as dependency?\n. If languageMappings is removed, then users won't be able to use kernels with non-standard language names.\n. Neat!\n. I think this kind of early optimisation makes the code less readable (please, read this comment just as an opinion).\n. I think this line is potentially necessary, since the user can pass any kernel.\n. class methods don't use fat arrows (this is unlikely to be right)\n. didn't coffeelint catch this one?\n. This looks awkward. Callbacks are usually last arguments:\ncoffeescript\n@kernelPicker = new KernelPicker this, (onUpdated) ->\n    onUpdated kernelSpecs\n. ditto\n. Thanks for cleaning this up!\n. console.error 'Kernel: interrupt method not implemented'\nor\nthrow new Error 'Kernel: interrupt method not implemented'\nI think throwing is better because we can always catch an exception.\n. ditto\n. ditto\n. ditto\n. ditto\n. ~~ditto~~\n Oh, I see. This isn't an abstract method.\n. @executionCallbacks is already set by the parent constructor.\n. @onlyConnect needs to be an instance property, otherwise @destroy won't work.\n. module.exports = require 'jupyter-js-services'\n. Is there a link/reference that you could add to this comment?\n. Thanks for all the comments.\n. Keep in alphabetical order, to avoid duplicates.\n. constructor: (kernelSpec, @session) ->\n. Would this work?\ncoffeescript\n@session.statusChanged.connect => @_onStatusChange()\n. The code in ZMQKernel.execute and ZMQKernel.executeWatch should be in the parent class Kernel.\nAnd ZMQKernel._execute and GatewayKernel._execute should have their own implementations.\nIn this way, you don't need to do anything to support kernel watches.\n. No need for this method.\n. Here it doesn't matter, but in most cases the call to super in the destructor is last.\n. We could make do without this function.\nAlso since it's a function, and to be consistent with the rest of the code, I would name it getGatewayKernelFromSession.\n. Remove >\n. Also remove these lines\n. Tested and it works for me.\n. I haven't tested #355 yet. Shall we wait until then?\n. On 21/07/16 14:40, Nikita Kitaev wrote:\n\nApparently the second argument (the binding for this) is required by the signalling API being used. If |this| is not passed I'm pretty sure it will cause an error to be thrown.\n\nThis doesn't sound right.\nIn Javascript, if a callback requires this to be set by the caller. This is usually achieved by binding the function.\nIn Coffeescript, this is achieved by fat arrows (=>). Unbound functions are defined using (->).\n. @rgbkrk Kyle, is this correct? Does jupyter-js-services remove the user's ability to set msg_id? Isn't msg_id part of the Jupyter Messaging Protocol?\n. I don't follow the reasoning here.\nDon't we need to use jupyter-js-services to get an instance of Session?\n. Could it go into session-picker.coffee? If KernelManager needs both session and kernelSpec to create a GatewayKernel, it'd be more convenient that session-picker.coffee returns both.\n. Rename to startWSKernelFor (to be consistent with the existing naming of startKernel and startKernelFor).\n. Hydrogen doesn't really need to know about sessions.\nWe want users to select kernels (not just sessions).\nRather than a showSessionPicker, we need a showWSKernelPicker.\nThis change will help get rid of gatewayKernelFromSession.\n. hydrogen:connect-to-remote-kernel\n. As I commented above, I think the user should choose kernels rather than sessions.\nThe current workflow is that users choose a ZMQ kernel amongst those that are able to handle the current grammar.\nThis PR should aim at the same workflow for WS kernels, i.e. the user should be shown a list of WS kernels that are able to handle the current grammar.\n. if kernel instanceof GatewayKernel\n. My bad, I should've written:\ncson\n'match': '%%| %%| <codecell>| In\\\\[[0-9 ]*\\\\]:?'\n. ditto\n. No need to act on this comment, but probably a getRegexString would've been a more versatile function.\n. Again no need to act this comment, but to address the case of inline comments fully, here we may need to store breakpoints.push range.start.\n. What I meant is that this function would be more versatile if it returned a string, and let the caller decide whether they want a Regex and what kind of options the regex should take.\n. I'm sorry I didn't want to cause more unnecessary work for you.\n. Shorter sentences work better, e.g. \"Hydrogen provides a selection of commands for running code. Press [...]\". There is no need to repeat what can be inferred from the context.\n. s/You can define them within inline comments/You can define them using inline comments/\n. How about range = [start, [row, column]]?\n. and here range = [[row, column], end]?\n. if @onlyConnect\n. console.log 'WSKernel: _onIOPub:', message\n. onResults?(result)\n. onResults?(result)\n. Use atom notifications.\n\nNot every kernel supports user_expressions.\n. no need for parens:\ncoffeescript\n        @session.kernel.complete\n            code: code\n            cursor_pos: code.length\n        .then (message) ->\n            onResults?(message.content)\n. onResults?(message.content)\n. coffeescript\n            onResults?(\n                data: message.content.data\n                found: message.content.found\n            )\n. no need for parens\n. no need for parens\n. Why isn't it possible to switch from remote kernels to other kernels?\nSince this PR is holding work on other PRs, I don't mind if this point is addressed in another PR.\n. As it stands there is no need for the onAttach callback (because this method isn't asynchronous).\n. This method is unused.\n. @editor is unused\n. A question for a future PR, is it possible to filter the sessions to ensure that only sessions able to run the current grammar are shown?\n. Would it be possible to offer the possibility to create a new session?\n. On 26/07/16 10:38, Lukas Geiger wrote:\n\nIn lib/cell-manager.coffee https://github.com/nteract/hydrogen/pull/381#discussion_r72217505:\n\n@@ -15,15 +15,13 @@ module.exports = CellManager =\n         {row, column} = editor.getLastCursor().getBufferPosition()\nif row > 0\n-            range = [[0, 0], [row - 1, 100]]\n-            range = [start, [row - 1, 9999999]]\n\nThat could lead to problems if the cursor is inside the comment defining the code cell.\nBut it would be more accurate otherwise.\n\nis it possible to detect whether we're inside a comment? I mean using the grammar.\n. Maybe I'm reading the code incorrectly, what does the following lines do?\ncoffeescript\n            @onSession\n                name: null\n                model: null\n                options: spec.options\n. Shouldn't it be name: '[new session]' in this case too?\n. Nice!\n. How about Toggle Watch Sidebar?\n. leftover from #391 \n. Good catch, SIGINT is for interrupting the kernel and SIGKILL is to kill it.\n. On 07/08/16 08:40, Lukas Geiger wrote:\n\nIn lib/zmq-kernel.coffee https://github.com/nteract/hydrogen/pull/396#discussion_r73797331:\n\n@@ -306,30 +329,27 @@ class ZMQKernel extends Kernel\ndestroy: ->\n\nI think we should add the |restart| option from |@shutdown|.\n\nI'd find this confusing. Because of its name, destroy makes me think that we expect it be used as a class destructor.\nI wouldn't expect a class instance to be usable after invoking its destructor (and so, the restart option wouldn't make sense).\nDo we have any use for destroy(restart)?\n. Unfortunately, the use of the shutdown message is undermined by frontends like the notebook. When the notebook restarts a kernel, what actually happens is that the notebook kills the kernel process and an relaunches a new kernel.\nJudging by this proposal, this behaviour won't change in the future.\n. :+1: \n. I haven't reviewed the whole PR yet, but here are my thoughts on this point.\nI think this discussion has uncovered a design flaw in KernelManager:\n- running kernels are indexed by grammar language\n- when a kernel is created, the kernel is assigned the current @editor.getGrammar()\n- when a kernel is indexed as a running kernel, the kernel is indexed by the language corresponding to the current @editor.getGrammar()\nSince the time of creation and the time of registration as running kernel are different, it is possible that those values of @editor.getGrammar() may be inconsistent.\nThe call to @wsKernelPicker.toggle @editor.getGrammar() makes me think that they must be consistent, but I'm not certain. @lgeiger , can you trigger this inconsistency?\nIf there is no way to trigger this inconsistency kernel.grammar seems more appropriate to me. But I think we should look at removing kernel.grammar to avoid any inconsistencies (this may be difficult because of the way we handle watches).\n. Don't think this should be logged as an error, because ./hydrogen/connection.json is optional.\nInstead, I would reword the log message, e.g.\ncoffeescript\nconsole.error 'KernelManager: Didn't find a `./hydrogen/connection.json`:\\n', e\n. I think the message should be No running kernel associated with this file to account for the case  a kernel hasn't been launched yet.\nThis would make lines 366 and 367 unnecessary.\n. if(!kernel)\n. I guess this is how decaffeinate deals with ?. :disappointed: \n. ditto\n. Oh! So decaffeinate sometimes uses a __guard__...\n. ditto (I'm going to stop marking these bugs)\n. missing EOL\n. OMG!\n. I reckon this line can go.\n. Why is this necessary?\n. and this?\n. remove?\n. are the square brackets really necessary?\n. destroyed should belong to _kernel, since it's _kernel's responsibility to set it to true.\nHydrogenKernel is just an API wrapper around Kernel. All the Kernel state should be kept in Kernel.\n. Is building a wrapper so expensive that a getter makes a difference?\n. It doesn't make sense that this method is static. Static methods don't use this.\n. race condition? Is there any guarantee that title is invoked before the next _executionCount update? This is important for kernels that can update their output asynchronously.\n. why is this necessary?\n. and this?\n. why is this necessary?\n. and this?\n. why is this necessary?\n. and this?\n. and this?\n. why?\n. why?\n. are we using underscore dangle?\n. ???\n. I couldn't find what rules airbnb-base is using.\n. Unless all the if(xxx == null) are fixed, this change will break users of getKernelSpecFor\n. I guess there is something else going on (not just a lint error)\n. let CM; should be enough\n. this will create a () => {}\n. > This is so that a plugin always gets the same wrapper object for the same kernel (same reference, not just equal-by-value).\nWouldn't you get the same wrapper if the wrapper is created by Kernel's constructor?\n\nPlugins need to be able to store metadata per-kernel.\n\nThat's a bad pattern, because API users don't have any guarantee to avoid name clashes.\nComposition would be simple and safer pattern:\njs\nlet myH2Kernel = {\n    kernel: kernelWrapper,\n    myMetadata1: myMetadata1, \n    myMetadata2: myMetadata2, \n};\n. My misunderstanding! I missed that addResult is only invoked with results for a given request (and thus a unique execution count).\n. Oh! I see where you're coming from. Equality should work in this case; e.g.:\n```\n\nvar a = {}; (function(paramA) { return paramA === a; })(a);\ntrue\n```\n. That's actually a bug, isn't it?\n\nShouldn't it be?\njs\nconst regexString =\n      `${escapedCommentStartString}(%%| %%| <codecell>| In\\\\[[0-9 ]*\\\\]:?)`;\n. js\nif (kernel instanceof WSKernel) {\n    const future = kernel.restart();\n    if (onRestarted) future.then(() => onRestarted(kernel));\n}\nand no need to define a closure below\njs\nthis.startKernel(kernelSpec, grammar, onRestarted);\n. Perhaps, suggest running apm --version. and apm list. an issue. suggest apm --version and apm list. ~~Therefor Hydrogen provides helpful tools for debugging.~~. How about the key bindings shift-ctrl-i?. LGTM\nIPython and IJulia write to stdout on startup (so no problem there).\nIf there are any kernels that write to stderr on startup, we can revisit this decision.\nWe'll also need to revisit this code, once Jupyter introduces the use of a kernel nanny.. I had to read the code to fix this issue.. I'll try to get a PR merged in Atom after I'm done publishing an update for IJavascript.. The way I understood languageMappings is that if it was set to { \"babel\": \"javascript\"}, then a kernel that declares it can run babel, will be regarded by Hydrogen as a kernel that can run javascript.. I'm going to update the spec for grammarToLanguage so you can see what I mean.. Oh! I see my confusion. Since we are mapping by kernel names, we need to return the kernel name!. I'm chasing another bug; even with this PR { \"babel\": \"javascript\"} doesn't work.. It was a left-over from a refactor I tried. I've just pushed a commit to restore setGrammar.. OK, I'll have a look.. I tried, but it doesn't do what we want:\n\nSuppress calls to handler functions registered with ::onDidChange and ::observe for the duration of callback. After callback executes, handlers will be called once if the value for their key-path has changed.. @lgeiger I'd expect eslint to catch that this variable declaration should be a const. Would it be OK to update .eslintrc to report this?. const. These tests are important now we're using mobx to ensure that changes in the kernels are reported to the user. They helped me a lot to debug #722.\n\nOnce this PR figures out how to report what the running kernel is, tests equivalent to these should be added.. I wasn't sure if it was OK to return at that point.\nI'll update the PR now.. I've just noticed that this message should've been \"No kernels found\".. As I find a bit confusing that the last message in the history is kernel is busy, how about something like this?\njs\n  _registerBusySignal(kernel: Kernel) {\n    if (this.busySignalRegistry) {\n      const busySignalProvider = this.busySignalRegistry.create();\n      reaction(\n        () => kernel.executionState,\n        state => {\n          const message = kernel.displayName + \" is \" + state;\n          busySignalProvider.add(message);\n          if (state === \"idle\") busySignalProvider.clear();\n        }\n      );\n    }\n  }. First, I'd set a breakpoint here to make sure  the loading message is removed when you  think it should.\nIf, despite calling update, the loading message isn't cleared, then I'd try to call sessionListing.selectListView.render() explicitly.. I'd set the breakpoint on this line and then step in (press the button with an arrow pointing down, or F11 in linux).. what if projectPath is 'null'?\n}:>. @buyology you're right (somehow in mind I thought JS would convert the operands to the same type before evaluating the comparison), but I just checked and:\n```\n$ node\n\n''+null\n'null'\n\"null\" != null \ntrue\n```. ~~Assuming Kernel(=HKernel). This doesn't feel right. Why does ZMQKernel need to know about Kernel(=HKernel)? ZMQKernel only does Jupyter comms.~~\n\nNVM, just realised this KernelManager.. Why is there a need for this?\n```\n$ node\n\nclass A {}\n[Function: A]\nclass B extends A {}\n[Function: B]\nvar b = new B();\nundefined\nb instanceof B\ntrue\nb instanceof A\ntrue\n``. There is no need for this, just move this code into the corresponding methods in Kernel(=HKernel).. See my comments on why this commit is so \"massive\".. All these methods are telling you that Kernel(=HKernel) should extend KernelTransport(=Kernel).. I wouldn't use the nameMiddleware, I'd usePlugin, not only because is shorter, but also because that's the name of the API.._parseExecutionResults`?. In fact, this method doens't belong to Kernel(=HKernel), this code was(and should be part) of KernelTransport(=Kernel).. Do we want to destroy the kernel before or after removing it from the store?\n\nIf before, the subscribers to the store will be notified before the kernel is destroyed and can do something before it's destroyed.\n. s/!!kernel/kernel/\n. I'm not sure what's the intention of this comment?\nThe use of promptRename is guarded by if (kernel.kernel instanceof WSKernel).. I'd write:\njs\nif (command === \"rename-kernel\" && kernel.kernel instanceof WSKernel) {\n    kernel.kernel.promptRename();\n}. HydrogenKernelPlugin?. ~~Is this really necessary? Why not just a class?~~\nNVM, plugin developers will find it easier this way.. Why do we need HydrogenKernelMiddleware and HydrogenKernelMiddlewareStack?. This code belongs into Kernel(=HKernel).\nHydrogenKernel should be a thin wrapper around Kernel(=HKernel) that provides API V1.. Ditto: I'm not sure what's the intention of this comment? This is guarded by kernel.kernel instanceof WSKernel.. I don't think this the right place to do this. ws-kernel-picker and WSKernel shouldn't know about Kernel(=HKernel). The callback should deal with the conversion to Kernel(=HKernel).. why? This is an API change, it may brake functionality in Hydrogen.. Please, no API changes to ZMQKernel (that's what I've been trying to argue all along). @lgeiger @BenRussert Does this mean that flow doesn't understand OOP?. Don't change the interface. This class is used by Hydrogen. If you change the interface you'll have to propagate the changes to the whole of Hydrogen.\nI'm OK, if you don't want to extend KernelTransport(=Kernel), but you shouldn't change the interface in this PR.. There is no reason why a plugin cannot create multiple plugins.\nAnyway, this is just a naming issue (I still think that plugin developers will be a bit confused by the need to distinguish plugins from middlewares).. OK, now I see the need for changes in ZMQKernel, WSKernel and KernelTransport(=Kernel).\nLet me review again the changes to ZMQKernel, WSKernel and KernelTransport(=Kernel) with that in mind.. Nice finding!. const transport = .... const kernel = new Kernel(transport);. store.newKernel(kernel, filePath, editor, grammar);. if (onStarted) onStarted(kernel);. Not used. The naming convention in Hydrogen is ExecutionResult.. The name of this function says how it does what it does, but it doesn't say what it does.\nPlease, add the JSDoc documentation for method and describe its purpose.. This check belongs to ZMQKernel (as far as I know, there is no need to check the validity of messages returned by WSKernel).. See above comment about isValidMessage.. See above comment about isValidMessage.. See above comment about isValidMessage.. I don't think there's a need for this, since all these methods are always invoked using the the dot notation, e.g. middleware.interrupt().. Oh! I've just seen what you've defined const interrupt. I wouldn't. There is no need and it's an unusual thing to do in JS.. see above comment about interrupt. see above comment about interrupt. see above comment about interrupt. see above comment about interrupt. see above comment about interrupt. why do we want to prevent this?. I think the comment above still stands in latest patchset. No need to duplicate the functionality in HydrogenKernel, HydrogenKernelV2, ... Just do it once in Kernel.. \ud83d\udc4d Above comment has been addressed in the latest patchset. if (onResults) onResults(message, \"iopub\");. Hydrogen has a setting to run code on startup (we don't Hydrogen to handle the responses from executing the startup code).. see above comment about onResult. see above comment about onResult. neat!. though, since callWatches is used less often, I'd change the signature to execute(code: string, onResults: ResultsCallback, callWatches: boolean) so that there is no need to update all the calls to execute throughout Hydrogen.. The reason why we had these checks in ZMQKernel is because ZMQKernel can handle old kernels and kernels that aren't fully compliant with the Jupyter protocol. These checks helped us detect those kernels.\nIf we want to detect non-compliant plugins, then I'd remove the check from ZMQKernel and check the messages only once.. Wouldn't a one-time if (onResults) be cleaner than having if dummy callbacks throughout the entire codebase?\n\nanyway, an issue, but not a blocking one.. We shouldn't make the watches callback public. Especially, since ultimately, we want to implement watches using a plugin.. Just to be clear, I'm not asking to remove the check. What I'm saying is that it's enough to check the validity of a message before passing the message into the next plugin in the chain.\n. > So this is tricky: let's say a plugin splits one execute request into three. Then you'd only want to run watches after the last request, because the three requests are part of a single user-initiated action.\nAs I said above, it has an easy solution. We should think a watches as just one more plugin in the chain.\n\nThis is a mess and should be reconsidered in the future, but I don't want to block this PR on the lack of a good solution.\n\nNo, to my understanding, this is a blocking issue. We don't want to make public an API that we don't want to support in the future (and one that would make harder the implementation of watches as a plugin).\n. > That only works if watches is the very first plugin in the chain. It doesn't work if it's not the first plugin.\nIf watches were first, then they wouldn't be affected by any of the other plugins.\nTo be more precise: the request code of a watch wouldn't be affected by any of the plugins, but the response message would be affected by all the plugins.\n\nTo be clear, the plan is to eventually replace callWatches with an object that specifies some of the following:\n[...]\nI certainly don't want to think through all of the above in this PR.\n\nAs I said above, plugins don't need to know about callWatches. The decision of what Hydrogen has to do with a response message should be implemented in the first onResponse callback that Hydrogen passes to the plugin chain.. Just to be clear (because my previous comment was too subtle for its own good): this is a question of a change in the API change vs changes in API-user's code.. > Not sure I understand what you said. Could you rephrase that?\nThis was a misunderstanding on my side. We do want the chain of onResult callbacks affect the results received by Watches.\n\n\nTo repeat my point here: let's say the user made an execute request for foo(). Then a plugin split that into two execute requests: foo() and bar(). If the watches plugin comes later, it would execute watches twice: once after foo() and again after bar()\n\nI thought I had replied to this comment before, but I can't find my response. So I repeat it here: a plugin is responsible for invoking the parent's onResult callback only once.. I really really dislike the name HydrogenKernelMiddlewareStack. The first thing that stack brings to my mind is the concept of container. HydrogenKernelMiddlewareStack doesn't implement a container. It uses a stack to implement its functionality, but it isn't a container.. Again, there is no need for plugins to receive the next plugin. This should be handled by Hydrogen (by MiddlewareAdapter).\nTo be clear, there is no need for HydrogenKernelMiddlewareStack. Plugins should implement HydrogenKernelMiddleware. Plugins should invoke the next plugin directly. The callback passed to a plugin should be the one handling the invocation of the next plugin.\n\nI don't see any pros to passing the next plugin directly. Only cons; e.g. if we want to mix plugins of different versions, we'd have to create adapters between different version.. I still think there is no need for HydrogenKernelMiddlewareStack. Hopefully, we'll get rid of it and we won't have to think of a name.. > > there is no need for plugins to receive the next plugin#\n\n\nPlugins should invoke the next plugin directly.\n\nThe above two statements are contradictory.\n\nIt's a typo, it should've read \"Plugins shouldn't invoke the next plugin directly.\". Note that when I wrote that comment I was still under the belief that next was an instance of a plugin. Since the last patchset introduced MiddlewareAdapter, next is actually an instance MiddlewareAdapter\nThis is ironic, because I now see that instead of HydrogenKernelMiddleware, the only interface we need is HydrogenKernelMiddlewareStack. Note that you can achieve this simply by changing MiddlewareAdapter's constructor to:\njs\n  constructor(\n    middleware: HydrogenKernelMiddlewareStack,\n    next: MiddlewareAdapter | KernelTransport\n  ) {\n    this._middleware = middleware;\n    this._next = next;\n}\nI guess this is the best chance we have to get rid of the name HydrogenKernelMiddlewareStack. We can remove HydrogenKernelMiddleware, and rename HydrogenKernelMiddlewareStack to HydrogenKernelMiddleware.\n\nOne more thing. As I said earlier, I think plugin 1 must invoke onResults only once; i.e.:\njs\n{execute: (next, code, callWatches,onResults) => {\n  next.execute(code, callWatches, (message, channel) => {\n    next.execute(code, callWatches, (message, channel) => {\n        onResults(message, channel);\n    });\n  });\n}}\n. @nikitakit I got the names wrong (not surprisingly! :p). What I mean is that we need to keep the interface that takes next as one of the arguments.. > when I call next.execute how do I know what the next-next plug in is?\nSince next itself is an instance of MiddlewareAdapter, then the next-next plugin is reachable via next._next.. > So you're saying that we have every plugin do next.execute (next.next, ...) every time it wants to call something?\nIsn't the code responsible for doing that inside MiddlewareAdapter; i.e.:\n```js\nclass MiddlewareAdapter implements HydrogenKernelMiddleware {\n// ...\n  constructor(\n    middleware: HydrogenKernelMiddleware,\n    next: MiddlewareAdapter | KernelTransport\n  ) {\n    this._middleware = middleware;\n    this._next = next;\n}\n// ...\n  execute(\n    code: string,\n    callWatches: boolean,\n    onResults: ResultsCallback\n  ): void {\nfor(let next = this._next; ; next = next._next) {\n\n  if (next instaceof KernelTransport) {\n    return next.execute(\n      code,\n      onResults\n    );\n  }\n\n  if (next._middleware.execute) {\n    return next._middleware.execute(\n      next,\n      code,\n      onResults\n    );\n  }\n}\n\n}\n// ...\n}\n```\n\nAnd for the plug in to have the option of skipping it's children (since now next.next is public API)?\n\nI thought that was the case before (isn't this a consequence of the precompiled approach?).\n\nI think it's worth the extra code complexity in hydrogen to save plugins the hassle and plugin-side complexity of doing this. And to not open the possibility of plug-ins abusing this, e.g. by manually walking the next chain and modifying it.\n\nAm I misunderstanding anything? How does a plugin transform the code passed on the next plugin?\n\nShall we take a break until tomorrow?\n. > In the code snippet you posted above, you have class MiddlewareAdapter implements HydrogenKernelMiddleware and middleware: HydrogenKernelMiddleware, i.e. both of them implement the same interface.\nyes, that's on purpose, so that an instance of MiddlewareAdapter invokes the next instance of MiddlewareAdapter.\n\nYour signature for MiddlewareAdapter.execute is execute(code: string, callWatches: boolean, onResults: ResultsCallback) => void. You also call next._middleware.execute(next, code, onResults);.\nThese two signatures are incompatible (one starts with next, the other starts with code), so your proposed code above doesn't typecheck.\n\nI've tried to fix it below by adding next to the signature of execute. Does it look OK?\n```js\nclass MiddlewareAdapter implements HydrogenKernelMiddleware {\n// ...\n  constructor(\n    middleware: HydrogenKernelMiddleware,\n    next: MiddlewareAdapter | KernelTransport\n  ) {\n    this._middleware = middleware;\n    this._next = next;\n}\n// ...\n  execute(\n    next: MiddlewareAdapter,\n    code: string,\n    callWatches: boolean,\n    onResults: ResultsCallback\n  ): void {\nfor(let next = this._next; ; next = next._next) {\n\n  if (next instaceof KernelTransport) {\n    return next.execute(\n      code,\n      onResults\n    );\n  }\n\n  if (next._middleware.execute) {\n    return next._middleware.execute(\n      next,\n      code,\n      onResults\n    );\n  }\n}\n\n}\n// ...\n}\n```. yes, I think that looks right.\nSince the last plugin in the chain is delegateToTransport, all the other plugins only see next._next that are an instance of MiddlewareAdapter.. > By introducing an extra interface within Hydrogen, we permanently disallow plugins like I and II. I think it's worth it.\nOh! now I understand the need for HydrogenKernelMiddlewareStack.\nHow about renaming the interface to HydrogenKernelMiddlewareThunk so that it's clear that this interface is just a wrapped version of HydrogenKernelMiddleware?. Is this a hypothetical question? Are you aware of any kernels setting the wrong msg_id in input_request?\nTo my understanding this is a bug in the kernel, and I wouldn't like Hydrogen to corrupt the spec of input_request any further (input_reply messages are already inconsistent with the rest of the Jupyter protocol: in my opinion, input_reply should set parent_header as it's done for all the other reply messages).. @nikitakit \n\nthere's a race condition if the very first line of Python code you run in hydrogen is input(). \n\nI don't see the race. Isn't this.executionCallbaks[msg_id] created in the same method that sends the input() execution request (and thus, before any replies)? Here.. So, how about leaving the log message so that we can debug the race the next time it happens?. Would you open an issue for it (so we don't forget)?. ",
    "sebinsua": "It seems to have fixed itself.\nI am not sure what I did - mainly uninstalled and installed things again.\n. ",
    "sherbondy": ".bubble-result-container {\n    position: relative;\n    max-width: 500px;\n    max-height: 500px;\n    overflow: hidden;\n}\nshould be moved to .bubble-output-container mebbe?\n. ",
    "fonnesbeck": "I see. That's a deal breaker for me, as I work exclusively in Python 3 these days. Bizarre that they won't update their package.\n. @willwhitney I see; I had assumed it was associated with the IPython that gets used by hydrogen. setting the PYTHON flag seems to work. Thanks.\n. ",
    "speg": "Also failing on OS X 10.10.3:\n```\n\nzmq@2.11.1 install /private/var/folders/_z/76phwkm974n8lgtp70xv4zzc0000z8/T/apm-install-dir-115421-528-gnhwxo/node_modules/Hydrogen/node_modules/zmq\nnode-gyp rebuild\n\n/bin/sh: pkg-config: command not found\ngyp: Call to 'pkg-config libzmq --libs' returned exit status 127. while trying to load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/configure.js:343:16)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)\ngyp ERR! System Darwin 14.3.0\ngyp ERR! command \"node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /private/var/folders/_z/76phwkm974n8lgtp70xv4zzc0000z8/T/apm-install-dir-115421-528-gnhwxo/node_modules/Hydrogen/node_modules/zmq\ngyp ERR! node -v v0.10.35\ngyp ERR! node-gyp -v v1.0.2\ngyp ERR! not ok \nnpm ERR! Darwin 14.3.0\nnpm ERR! argv \"/Applications/Atom.app/Contents/Resources/app/apm/bin/node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/Steve/.atom/.apm/.apmrc\" \"--userconfig\" \"/Users/Steve/.atom/.apmrc\" \"install\" \"/private/var/folders/_z/76phwkm974n8lgtp70xv4zzc0000z8/T/d-115421-528-1ffwoyp/package.tgz\" \"--target=0.22.0\" \"--arch=x64\"\nnpm ERR! node v0.10.35\nnpm ERR! npm  v2.5.1\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.11.1 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zmq@2.11.1 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /private/var/folders/_z/76phwkm974n8lgtp70xv4zzc0000z8/T/apm-install-dir-115421-528-gnhwxo/npm-debug.log\n``\n. @willwhitney Ah, sorry. I read it as installpkg-configifzeromq` fails. But I see you just fixed that in 8504fff! Thanks, I am up and running! :shipit: \n. ",
    "bilderbuchi": "I don't speak *script, so I think whipping up a PR is out of my reach. I could try installing devbuilds or whatever, though, if you tell me how, but I'm pretty busy at work in the coming weeks (and my home machine is Linux only ;-) :-/ ).\n. @willwhitney this is not fixed for me, I still get the same error message as originally reported afaict, for hydrogen 0.3.5.\nHowever, I saw this other issue #12 about installation not working with Python 3 - Python 3 is the only python on my system, but I don't get the error message as reported in #12 about the Python executable mismatch, so I'm not sure I'm hitting this.\n. Thanks for the follow-up. I have to say I'm hesitant to pull in the extra dependencies of Python2 and Visuals Studio (both which I don't use). I think I'll give up on trying to get this on windows, and try installing this on my Linux machine, instead. Sorry for the noise.\n. Happy to say, after installing libzmq3-dev, this installed and works on Ubuntu. :-) Feel free to close this or keep open for other unfortunate souls...\n. ",
    "jzthree": "I can install sucessfully on Windows Server 2012 although there are some other compatibility issues. I had the node-gyp rebuild problem before  when using MSVS2010 compiler. It worked fine after I uninstalled MSVS2010 and use MSVS2012 C++ compiler.\nBut to make it functional it seems that we still need some compatibility fixes. I will report my partial progress so far. The first issue is related to ipython/jupyter kernels path in kernel-manager.coffee. I worked-around that and now it is the line \"child_process.execSync('mkdir -p ' + @fileStoragePath)\" in config-manager.coffee complaining with \"bad file descriptor error\".  Any idea on what's going on here?\n. Yes this basically fixed it. I made a few minor compatibility changes see pull request #16 so it now runs python kernel on my machine without problem (I haven't tested other kernels. UPDATE: I just tested IJulia and it also works out of the box).    Thanks for the awesome package and being so helpful!!\n. @ksze  did you launch atom by typing atom  command? I happened to have the same error when I installed hydrogen on my mac and realized that it couldn't find pkg-config if atom is not launched this way.\n. Hey I just tested. Unfortunately this broke Hydrogen:Run on Windows. The execSync call in paths.coffee failed.  I pasted the first few lines of error message here.\nError: EBADF: bad file descriptor, write\n  at Error (native)\n  at Object.fs.writeSync (fs.js:657:20)\n  at SyncWriteStream.write (fs.js:1906:6)\n  at execSync (child_process.js:1372:20)\n  at Object. (C:\\Users\\Jian.WIN-MSIJZ.atom\\packages\\Hydrogen\\lib\\paths.coffee:10:12)\n  at Object. (C:\\Users\\Jian.WIN-MSIJZ.atom\\packages\\Hydrogen\\lib\\paths.coffee:3:1)\n. Yes just updated and it all works now. Thanks!!\n. ",
    "DavidPowell": "I followed @rgbkrk's instructions but I still get errors. I have multiple microsoft compilers installed to compile extensions for python 2.7 and 3.4, so I wonder if one of these is somehow getting called instead of the visual studio community edition 2015. Is there some way that the relevant binaries can be distributed, instead of end users needing to compile them?\n. ",
    "TKCen": "Updated the windows requirements in pull request #95 \n. This could also be used to debug functions/methods directly by placing a call with parameters on the panel where the result of every assignment is displayed below (maybe even the same line, just like Bret Victor has envisioned it).\nI don't know if the panel is the best way to display plots or anything that is bigger than some small values. Any ideas?\n. Sounds great, maybe this will cause some further ideas for interactive programming. I'd love to see that!\n. Maybe remote kernel can be used/integrated to support this feature?\n. I'd say #40 is somewhat related, too. It would bind kernels to files though.\n. I guess the solution would be to have ipython3 only on your Path, as the current kernel mapping seems to not support a mapping like:\npython\n{\"Python\": \"python3\"}\nbut maybe I'm missing something there. @willwhitney should know more.\n. An alternative could be to support ansi via ansi2html and display outputs as rendered html.\n. You need Visual Studio 2013, as it is described in the Windows instructions. ZMQ is a Visual Studio 2013 project, that's why it's not working. \n. ",
    "fcrespo82": "Oh, sorry, forgot to mention\nOS X Yosemite 10.10.3 (14D136)\n. Yes, it works on ipython notebook\n\n\nAnd Yes, there is a bash/kernel.json in /usr/local/share/jupyter/kernels here is the kernel.json file.\n. When I tried option+command+Return it shows:\nWindow load time: 1409ms\n/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:92 SyntaxError: Unexpected token u {stack: (...), message: \"Unexpected token u\"}message: \"Unexpected token u\"stack: (...)get stack: function () { [native code] }set stack: function () { [native code] }__proto__: Error/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:92 module.exports.KernelManager.getLanguageMappings/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:76 module.exports.KernelManager.getTrueLanguage/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:34 (anonymous function)/Applications/Atom.app/Contents/Resources/app.asar/node_modules/babel-core/node_modules/lodash/inde\u2026:1413 arrayMap/Applications/Atom.app/Contents/Resources/app.asar/node_modules/babel-core/node_modules/lodash/inde\u2026:6662 map/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:32 module.exports.KernelManager.getAvailableKernels/Users/fernando/.atom/packages/Hydrogen/lib/autocomplete-provider.coffee:10 (anonymous function)/Users/fernando/.atom/packages/Hydrogen/lib/autocomplete-provider.coffee:57 (anonymous function)/Users/fernando/.atom/packages/Hydrogen/lib/autocomplete-provider.coffee:59 (anonymous function)module.js:452 Module._compile/Applications/Atom.app/Contents/Resources/app.asar/node_modules/coffee-cash/lib/coffee-cash.js:85 requireCoffeeScriptmodule.js:347 Module.loadmodule.js:302 Module._loadmodule.js:357 Module.requiremodule.js:376 require/Users/fernando/.atom/packages/Hydrogen/lib/main.coffee:20 (anonymous function)/Users/fernando/.atom/packages/Hydrogen/lib/main.coffee:337 (anonymous function)module.js:452 Module._compile/Applications/Atom.app/Contents/Resources/app.asar/node_modules/coffee-cash/lib/coffee-cash.js:85 requireCoffeeScriptmodule.js:347 Module.loadmodule.js:302 Module._loadmodule.js:357 Module.requiremodule.js:376 require/Applications/Atom.app/Contents/Resources/app.asar/src/package.js:709 module.exports.Package.requireMainModule/Applications/Atom.app/Contents/Resources/app.asar/src/package.js:255 module.exports.Package.activateConfig/Applications/Atom.app/Contents/Resources/app.asar/src/package.js:234 module.exports.Package.activateNow/Applications/Atom.app/Contents/Resources/app.asar/src/package.js:772 (anonymous function)/Applications/Atom.app/Contents/Resources/app.asar/node_modules/event-kit/lib/emitter.js:82 module.exports.Emitter.emit/Applications/Atom.app/Contents/Resources/app.asar/src/command-registry.js:219 module.exports.CommandRegistry.handleCommandEvent/Applications/Atom.app/Contents/Resources/app.asar/src/command-registry.js:3 (anonymous function)/Applications/Atom.app/Contents/Resources/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:519 module.exports.KeymapManager.dispatchCommandEvent/Applications/Atom.app/Contents/Resources/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:354 module.exports.KeymapManager.handleKeyboardEvent/Applications/Atom.app/Contents/Resources/app.asar/src/window-event-handler.js:178 module.exports.WindowEventHandler.onKeydown\n/Users/fernando/.atom/packages/Hydrogen/lib/main.coffee:87 Updating current editor to: Object {softTabs: true, displayBuffer: Object, mini: undefined, placeholderText: undefined, handleMarkerCreated: function\u2026}\n/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:92 SyntaxError: Unexpected token u {stack: (...), message: \"Unexpected token u\"}\n/Users/fernando/.atom/packages/Hydrogen/lib/main.coffee:66 making status bar\n/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:92 SyntaxError: Unexpected token u {stack: (...), message: \"Unexpected token u\"}\n/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:99 Available kernels: [Object, Object, unique: function]\n/Users/fernando/.atom/packages/Hydrogen/lib/kernel-manager.coffee:92 SyntaxError: Unexpected token u {stack: (...), message: \"Unexpected token u\"}\nAnd when I run JSON.parse(atom.config.get('hydrogen.languageMappings')) I get:\n(program):1 Uncaught SyntaxError: Unexpected token umessage: \"Unexpected token u\"stack: (...)get stack: function () { [native code] }set stack: function () { [native code] }arguments: nullcaller: nulllength: 1name: \"\"prototype: StackTraceSetter__proto__: function Empty() {}<function scope>__proto__: ErrorVM508:2 (anonymous function)VM450:847 InjectedScript._evaluateOnVM450:780 InjectedScript._evaluateAndWrapVM450:646 InjectedScript.evaluate\nBUT, I think I got it (And it worked when I changed in the coffee file), when I run JSON.parse(atom.config.get('Hydrogen.languageMappings')) with capital H, I get the expected output:\nObject {Shell Script: \"bash\"}\n\n. Thank you! Yes, its working now!\n. ",
    "ksze": "That's strange. Right now the installation of Hydrogen still fails with a /bin/sh: pkg-config: command not found when it tries to use pkg-config, just like @speg mentions here: https://github.com/willwhitney/hydrogen/issues/13#issuecomment-104299794\nHowever, the MacPorts pkg-config is in my $PATH:\n$ which pkg-config\n/opt/local/bin/pkg-config\n. Yes, it does give me 0.28.\n. @rgbkrk Installing using apm install hydrogen works. Thanks!\n. ",
    "Ardelean-Calin": "willwhiteney, yes, I have run it from the command line. When I run hydrogen it shows the following near the line of code, however nothing happens:\n\nrgbkrk, I'll check out that link after I document myself what arch uses.\nDo I need to build Jupyter, even though I have installed IPython from the arch package manager? If so, what do I need to build more exactly?\n. Python 3.4.3 and IPython 3.1.0. Although I also have Python 2.7.9 and its respective IPython (3.1.0) installed.\n. Sure, sorry for the delay:\npython\nOut[1]: '/home/calin/.ipython'\nThat's what I get.\n. python\nlaunching kernel: ipython [\"kernel\", \"--no-secure\", \"--hb=47608\", \"--control=50748\", \"--shell=35255\", \"--stdin=41349\", \"--iopub=46541\", \"--colors=NoColor\"]\n\n. Where do I find this entry in the Atom console?\nEDIT: nevermind, found it, I needed to execute that command. It says \"undefined\".\nAnd no, running that command doesn't do it unfortunately. \nMaybe it's because I manually built Atom? Maybe I should have installed it from the Arch User Repository with root privileges?\n. No, sorry. Actually the output is \n\"/usr/local/sbin:/usr/local/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:~/.atom\"\nI didn't know that command was case-sensitive, I am sorry.\n. \n. No problem. \n\n. Ok, this is weird. I didn't run that command yet, because the problem seems to be fixed now. I don't know why or how, however. I'll tell you step by step what I have done: First I tried to run Atom as root (sudo atom) and noticed that the root profile didn't have Hydrogen installed, even though I installed it in Atom on my normal, non-root, account. Then I tried installing Hydrogen as root (sudo PYTHON=python2 apm install hydrogen). This way it tried to install somewhere in the .root folder so that it would show up when I ran Atom with sudo. It failed with an error code(I closed the window, unfortunately).\nNow, however, Hydrogen works on my normal profile. After I select Hydrogen:Run, it takes 1 second until it detects the IPython kernel and then it works just as expected. \n\n. I don't really know, maybe. Thanks for the help!\n. I just realized, sometimes Hydrogen finds the kernel, sometimes it doesn't. Closing and opening Atom several times and trying to run Hydrogen after each time is the solution. I don't know why, but I'm glad it works now.\n. So is there a way right now to switch the ipython kernel from \"ipython\" to \"ipython3\"? Because it tries to run the ipython kernel ( which is ipython2), instead of the ipython3 kernel.\n. Well, creating a symbolic link like this\nbash\nln -s /usr/bin/ipython3 /usr/bin/ipython\nalso works.\n. ",
    "ghost": "May I jump in? Having the same issue, that the kernel is not displayed in the bottom left. And I'm not able to find anything related to that topic but that entry here.\n. @terraqout Thank you for that suggestion. However, I dont have that path /usr/local/share/kernels/python2.(and after trying that the issue remains) \nsudo find / -type d -name 'kernels' gives back:\nUsers/me/Library/Jupyter/kernels\n/usr/local/lib/python2.7/site-packages/notebook/services/kernels\n/usr/local/lib/python2.7/site-packages/notebook/static/services/kernels\n/Users/me/Library/Jupyter/kernels\n/usr/local/lib/python2.7/site-packages/notebook/services/kernels\n/usr/local/lib/python2.7/site-packages/notebook/static/services/kernels\nand none of them contains python2. \nAdditionally, I used brew /usr/local/Cellar/python/2.7.11/share/python \nNot sure whether that matters but hydrogen is not listed in installed packages within atom.  But I can still Hydrogen:run. Additionally sudo atom and Hydrogen:run results  #135. atomin command line results in #135 as well now.\n. @terraqout #135 seems to be fixed, I'll get again In the right upper corner a blue box with \"Scopes at Cursor\"\nNext:\nThe jupyter --paths are:\nconfig:\n`/Users/me/.jupyter\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/etc/jupyter\n/usr/local/etc/jupyter\n/etc/jupyter`\ndata:\n/Users/me/Library/Jupyter\n    /usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/share/jupyter\n    /usr/local/share/jupyter\n    /usr/share/jupyter\nruntime:\n/Users/me/Library/Jupyter/runtime\nNext:\nI run what you have suggested which ends with apm rebuild without any errors. Restarting atom from command line and Hydrogen:runresults in a new error. Red box similar to the At Could not find module root given file: \"undefined\". Do you have a package.jsonfile?  I'll get cannot find module zmq and referring to #135 again\n. Do you mean that part?:\nbrew install pkg-config\nbrew install zeromq\nBoth are already brewed/installed. Just reinstalled with same error refering to zmq. Just a side note. Ipython is running via Jupiter without any problems using python2\n. reinstall zmq via pip but with the same error in atom.\nNot sure whether its related, but in the upper comment a question is about the output of:\nfrom IPython.utils.path import get_ipython_dir; get_ipython_dir() when running that via Jupiter I'll get:\n/usr/local/lib/python2.7/site-packages/IPython/utils/path.py:258: UserWarning: get_ipython_dir has moved to the IPython.paths module\n  warn(\"get_ipython_dir has moved to the IPython.paths module\")\n. That ends here:\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7\nHeaders     Resources   include\nPython      bin     lib\n. Thank you! Thats it! \"other way around\" solved it!\n. I didn't notice that pip install ipython[notebook] terminated with an error, I fixed it and now it is working.\n. Hi, thanks so much for a prompt reply, it's much appreciated!\nNo problem about the wrap-guide, it's not much of a bother. Also big thanks for adding the scaling option. Could you please let me know how to turn it on - should I wait for the package in Atom to be updated?\n. Ow I see, guess it's either not having minimap or not hiding it. Thought it would be easy to make it behave as if minimap was always on.\nAnd thank you for the code!. @n-riesco All up to date (at least on 1.15.0). @BenRussert 1.9.0. And yes, it seems that it only appears where the file is not saved (i.e. new tab that was not saved anywhere).. Sure.\nOpen a new tab -> type 'plot(1:10)' -> Switch the language to 'R' -> execute the line using Ctrl-Enter. Here it is, pretty basic so hope it is easy to pinpoint. Thanks for looking into this!\n\n. @BenRussert No problem at all, happy to provide any additional details you might need.\nMany thanks for maintaining this wonderful tool!. +1, r kernel not detected even though it was working fine just before the update today. Python is working though, probably because I am using MagiPython and provided a custom binding in the configuration.. > Edit->Prefferences->Packages->Hydrogen->Kernel Specs\nThere is no Kernel Specs option in the Hydrogen settings menu. \n. Regardless of choice made here, could I suggest a minor tweak - having two 'Python 3' in the status bar, or 'Python 3 is busy' message is perhaps not too clear.\nI think using official kernel names ('IPyKernel 3', 'IJavascript', 'jp-babel' as in https://github.com/jupyter/jupyter/wiki/Jupyter-kernels) would be clearer and make more sense. As long as everyone is happy with that and it would not mess up anything.. Looks great @lgeiger !. I think it would be a great idea to have this as a default (with option to turn off for people who do not want it). I think in 95% of the cases the interesting bits are at the bottom.. @lgeiger I am afraid I can't be of much help since I do not know anything about JavaScript or any web-related technologies. Will try to pick it up at some point so I can start contributing. . Would having more than one kernel with the same grammar, in the same window, possible? That would be really great if yes.. Guess it does not fit the vision, anyway thanks for considering!. @rgbkrk Sorry, missed your message. Will reopen it in case, maybe people will have time to implement it at at some point.. I encounter the same issue with multi-line sections that I try to execute in one shot with Hydrogen. . Alright. Solved it. My firewall didnt accept any traffic from and to localhost. Oh my... Thank you. It works automatically after I reinstall python.@lgeiger . @lgeiger could you please explain what needs to be configured after installing ipykernel?\nEdit: Sorry I didn't read that link closely enough. It is now working properly. Thank you!. Thanks.. . Any luck fixing this issue?. @kylebarron just uninstalled and reinstalled via apm and the problem was solved!\nIt happened when trying to run hydrogen on any selected lines. I'm using Windows 10.. I am experiencing same issue. Windows 10.. ",
    "slavaGanzin": "@hugeme\nln -s /usr/local/share/kernels/python2 ~/.ipython/kernels\nTry this. \nIt's a bug fixed here: https://github.com/willwhitney/hydrogen/pull/144\nIf hydrogen can't to interpret all folders as kernels it fails and return no kernels at all.\n. @hugeme Generally I don't know how to install kernels properly on MacOS. So you can look here: \nBut as I remember this should work: sudo python3 -m IPython kernelspec install-self.\nPlease copy output of jupyter --paths for investigation purposes.\nYou have python kernel in a list because it was shamelessly hardcoded. So hydrogen may not founding it.\n\nTo fix #135 you should reinstall hydrogen as a regular user and then apm rebuild \n. @hugeme And besides, I would appreciate if you experiment with https://github.com/willwhitney/hydrogen/pull/144 on the same setup before any \"fixing\".\ncd to/your/.atom/packages\nrm Hydrogen -rf\ngit clone git@github.com:willwhitney/hydrogen.git\ncd hydrogen\ngit checkout kernelManagerImpove\napm rebuild\nIf it would fix your issue, I'll merge it in master.\n. That's ok \u2014 Red box is kernel error, so install zmq as described here: https://github.com/willwhitney/hydrogen#os-x  and retry.\nthanks for jupyter --paths\n. Jupyter needs zmq for python2, you may have zmq for third.\nTry pip2 install zmq or if your python defaults to second version just  pip install zmq. \n. So your kernel isn't in default folder\nwhat is placed here: /usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/etc/jupyter\n?\n. Looks like you have the same issue https://github.com/willwhitney/hydrogen/issues/142\n. Drop your zeromq and try to install other way. It should help :)\n. @hugeme Can you explain your experience. So we can add this to readme.md?\n. @willwhitney Close this?\nI'll add log level soon, besides.\n. Besides maybe add ctrl-shift-enter or whatever shortcut to add to watch?\n. Jupyter is used for teaching and not highefficient programming, so maybe let's add continuous evaluator of all grammars? And display just meaningful ones. In dynamic languages only way to get the scope of selected piece of code is to launch it to this line included. And that only if code is imperative. So hidden launch of code would be best solution, but what if I modify filesystem with my code?\nAnother way to remember all scope iteratively, but that would be definitely a lot of overhead code for hydrogen. And as Will mentioned should be conceptually implemented in Jupyter.\n. @onyxfish \"Add watch\" command was merged into master.\nParsing grammars is easy. And auto adding all variables into watches is easy too. If this would be approved I can write it fast.\nBut what about scopes?\n. @willwhitney Close this? Or you want a real button?\n. @pashifika Did you resolve this issue? Or can you retest?\n. @mpf As you can see you have '/usr/local/Cellar/julia/_0.3.6_1/bin/julia and julia _0.4.1.\nExecute ipython kernelspec list drop julia-0.3 kernelspec path:\n```\n  scala211        /home/vganzin/.ipython/kernels/scala211\n  coffeescript    /home/vganzin/.local/share/jupyter/kernels/coffeescript\n  javascript      /home/vganzin/.local/share/jupyter/kernels/javascript\n  julia-0.4       /home/vganzin/.local/share/jupyter/kernels/julia-0.4\n  julia-0.5       /home/vganzin/.local/share/jupyter/kernels/julia-0.5\n...\n$ rm /home/vganzin/.local/share/jupyter/kernels/julia-0.4 -rf\n```\nAfter that your default julia kernel spec should be julia-0.4. If you successfully run Pkg.build() to rebuild ijulia for a new version, you would be able to use it with hydrogen.\nThis issues with \"default\" kernel would be fixed when we'll merge code to select kernel interactively.\n. Fix https://github.com/willwhitney/hydrogen/pull/138\n. in master\n. Please don't use while true in synchronous atom it will freeze everything.\n. @minrk Sorry didn't notice that. Thanks for you participating\n. Closed by https://github.com/willwhitney/hydrogen/pull/136\n. > Would be helpful for the use of hydrogen together with other autocomplete providers.\n\n@lgeiger Can you explain your idea?\n. Scrolling preferred, I think.\n. @willwhitney I'll do it. When have free time for that.\n. please review #136 \n. @tpoisot Don't you using language-julia or autocomplete julia? I had the same issue with them, but not with hydrogen - it doen't start kernel on atom restart.\n\nYou can check this by:\nps aux | grep hydrogen\n. Accidentally I get an error message. But it's again about xlrd, which I installed with pip3 and successfully used in julia repl. This were fixed by installing through pip2, but after that after loading library 'ExcelReaders' kernel doesn't import functions from it.\nIs there any way to debug interactions with kernel in more verbose mode and not waiting for zmq answer? I'm a bit disappointed.\nI understand this is a bit wider than hydrogen itself. Thanks for any clarifications \n. Ok, I'll try to do it.\n. @willwhitney Should #116 be merged?\n. Close when this would be merged: https://github.com/willwhitney/hydrogen/pull/138\n. @iprokin Try changing kernels with Hydrogen/master\n. @rgbkrk I just use nodejs kernel because there coffeescript is ready to integrate. \nIs iJavascript better or supported well? I use ipython for three days, so all kernels look alike.\nThis non-generic approach isn't good at all, there are many X->JS and I'll write something generic when have a time for that.\n. would be great\n. @rgbkrk Notify me, please, when you finish with kernels. I'll implement hydrogen part\n. Finally we can use this: https://github.com/n-riesco/jp-coffeescript\n. @n-riesco This is by design. If atom can't classify file as some specific language it can't forward this to hydrogen. But maybe this should be covered in docs. \n. @n-riesco  I'll fix regexp for julia in other PR. It's frustrating to have no autocompletion with 'using', etc.\nUPDATE: This is bug in iJulia, not hydrogen. It throws kernel exception when you try to autocomplete Something..\nhttps://github.com/JuliaLang/IJulia.jl/issues/365\n. besides somebody uses litcoffee? I think nobody will create separate kernel for that. But it can be interpreted as .source.coffee\n. @willwhitney fixed.\nIt isn't verbose if kernel is not. Well Julia is a chatterbox. In python or coffee I get only kernel errors. \n. Let's try as is. As Julia user, I didn't see trouble in all this warning bloating. If someone find this annoying he can create a ticket and we'll discuss it again.\nI thought error handling is kernel internal, so it should be managed there.\n. Just leave this here: https://github.com/JuliaLang/julia/issues/4895\n. @willwhitney would you merge this if I create PR?\n. https://github.com/willwhitney/hydrogen/pull/122\n. look to kernel errors in developer console, it should help\n. @sbromberger @tylerprete even if hydrogen is patched to find scala211 kernel didn't answer after starting event as was mentioned here: https://github.com/willwhitney/hydrogen/issues/121#issuecomment-148939094. You can test this behavior \u2014 just change your kernel json to\n{\n \"language\" : \"scala\",\n  \"display_name\" : \"Scala 2.11\",\n...\nSo this is kernel specific bug, try to creating issue on it's own page. \n. yes its kernel specific\n. @rgbkrk or @willwhitney can you review this and merge?\n. @willwhitney thanks for confidence. \n. We can use preinstall npm hook and check it:\n```\npip show ipython[notebook] || echo \"Please install ipython\" && exit 1\nOther checks\npython --version | grep -E \"\"\n```\nEcho/exit/grep should be done with cross-system npm package(which I don't know), of course. Or better to implement separate script for that. I'll implement this sometime.\n. https://github.com/willwhitney/hydrogen/pull/147\n. @onyxfish What is status of this PR?\n. Don't you prefer to just bind some key for selecting part of file?\nIn vim-mode it's just vgg other editors should do something look like.\nAnd nobody don't like unexpected keybindings that remaps their own.\n. @themiguelamador Where did you get 1.4, if the last version is 1.3beta? Am I loosing something?\n. I occasionally added \"watch\" to ticket name. It should work on all result views. Would this be merged on next release?\n. If answer can't be presented in a marker smaller than 500px (default bubble lenght) presenter view changed to multiline answer box:\n\n. @fr4ggle I think this answer should help: http://stackoverflow.com/questions/30492623/using-both-python-2-x-and-python-3-x-in-ipython-notebook\nor this:\nhttp://jupyter.cs.brynmawr.edu/hub/dblank/public/Jupyter%20Help.ipynb#1.4.2-Enable-Python-3-kernel\nHydrogen is just an GUI interacting with jupyter(ipython) kernels, so if you didn't find answer at stackoverflow better consult with that community. If someone, wouldn't answer here. I'm linux user, so I never used anaconda for that \u2014 it just works:\nsudo ipython2 kernelspec install-self\nsudo ipython3 kernelspec install-self\nHave a good luck on your python way!\n. Grammar to kernel mapping now saved.\n. https://github.com/willwhitney/hydrogen/issues/39 close this when merged\n. https://github.com/willwhitney/hydrogen/issues/40 Linked for further improve\n. @willwhitney Congratulations with your scientific success.\n. @stevengj Hello and thanks for your work on julia.\nYeah you are right, I'll add some.\n. My english isn't great, so edit if you want https://github.com/willwhitney/hydrogen/commit/c23f5b1c8c3c243673424c3efd43205fbb8adee7\n. I'll appreciate if this would be done by someone :smile: \n. @n-riesco Sorry for being unclear. I wasn't right in issue description.\nI didn't try to require something from upper folder. But if you would move test.js to the same folder as msg.js and change code to:\nvar msg = require(\"./msg.js\");\nconsole.log(msg);\nIt raise Error: Cannot find module './msg'\nSame is happening if you'll try require('./test/test.js') from msg.js.\nSo './' notation isn't working in ijavascript.\n. https://github.com/willwhitney/hydrogen/pull/138 Here is my PR that fix #84, besides. And this isn't related.\nBut, I want to use single kernel to work on different files. I implement this by sending '%cd ' + __dirname__ on file change.  It works for python kernel, because it implements %cd \"magic\". \n I understand there is no need in magics at all. But magics can be a universal interface, because implementing in hydrogen kernel specific code for changing working directory isn't ok too. Maybe this logic can be moved to kernel configs... etc\np.s. One of obvious issues with this approach is variable scope clash. But \"I will think about this tomorrow\"\n. this isn't perfect decision and it have drawbacks. But monkeypatching require isn't good too, as any other \"magic\".\nIf you have any thoughts about - I'm open to discuss. You know a lot more about kernels and I'm just pushing this issue, which is critical for me\n. > One way to address the issue here and the others is to have a dialog that lets you choose not only the language version, but also whether you want to spin a new kernel, or even what you want the working folder to be.\nIf go to new file and launch Hydrogen: restart kernel command you'll get new kernel with new cwd.\n\nThis would allow to run different kernels for different projects in the same atom session.\nWhat the case for? it's look like really rare scenario: using atom for different projects at one time.\n:ok: Multiple projects can be edited simultaneously without restarting the kernel.\nYou definitely should restart or use another kernel on another project \u2014 there is no any scope management mechanism (but it would be great to have one).\n\nWhat I want to achieve is transparent work in one project. Ideally I want to forget about kernels and just work on my project. \n\n:no_entry_sign: It makes relative imports work for languages where relative paths are relative to the file.\n\nNow it can't import file from the same folder. I can't work on Hydrogen using Hydrogen itself, that's ridiculous.\n\n:ok: It doesn't require Hydrogen to know how to change the working directory for every kernel.\n\nAs I said before this can and should be moved to each kernel configuration\nClearly, I didn't see any elegant way to fix it. Except of implementing scopes in proto jupyter kernel.\n. https://github.com/willwhitney/hydrogen/blob/master/lib/kernel.coffee#L9 just try to execute at this line\nError\nCannot find module './watch-sidebar'\nError: Cannot find module './watch-sidebar'\nat Function.Module._resolveFilename (module.js:338:15)\nat Function.Module._load (module.js:289:25)\nat Module.require (module.js:366:17)\nat require (module.js:385:17)\nat evalmachine.<anonymous>:3:16\nat Object.exports.runInThisContext (vm.js:54:17)\nat run ([eval]:192:19)\nat onMessage ([eval]:63:41)\nat emitTwo (events.js:87:13)\nat process.emit (events.js:172:7)\nIf I change\nStatusView = require './status-view'\nto\nStatusView = require './status-view.coffee'\nI get\nSyntaxError: Unexpected string\nat exports.runInThisContext (vm.js:53:16)\nat Module._compile (module.js:404:25)\nat Object.Module._extensions..js (module.js:432:10)\nat Module.load (module.js:356:32)\nat Function.Module._load (module.js:313:12)\nat Module.require (module.js:366:17)\nat require (module.js:385:17)\nat evalmachine.<anonymous>:3:14\nat Object.exports.runInThisContext (vm.js:54:17)\nat run ([eval]:192:19)SyntaxError\nUnexpected string\n. I failed a lot with this issue.\n@n-riesco Thanks for your work\n. @n-riesco It needs to be approved from @willwhitney and merged.\n. @willwhitney Hello, Will. Can you spend some time to review my PRs?\n. 1. For now you can remove watch and add it again. I think about adding a limit near 10000 values or better some bytesize limit, which should be an error by design. I think one button to drop all history would be enough\n2. I'll add some\n3. I've tried to make something like that: http://debug.elm-lang.org/edit/Stamps.elm\n   In this example discreet switcher would be a pain. So maybe just add step indicator?\nBesides, one history for all watches maybe great idea.\n. Let's try\n. Reimplemented here: https://github.com/willwhitney/hydrogen/commit/530b02795864d4b6f19550a14fb4acdfee410d1b\n. @rgbkrk Hydrogen can handle what we need with just parsing ipython kernelspec list --json. So paths.coffee can be removed. And code changed to this: https://github.com/nteract/jupyter-paths/issues/4 .  I'll cut this regexp madness and change it to JSON.parse as you do. (thanks for a flag).\nOr you prefer to move this code to jupyter-paths too? And use it as dependency?\n. @rgbkrk Kyle, so will you add ipython kernelspec to jupyter-paths or should I create my own lib?\n. great, I'll rewrite and merge this after\n. @rgbkrk As I understand your ipython-paths wouldn't find this:\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/etc/jupyter\nso what's the usefulness of that code?\n. I had troubles install path of different kernels, https://github.com/alexarchambault/jupyter-scala for example. They tend to settle in unexpected folders and I don't think it's good idea say to user: \"it's your trouble that kernel you use don't give a care to install folder we like\".\nI would prefer parsing ipython kernelspec list --json approach, it simplifies code. But it should be tested.\n. > While you're at it if you're looking for good user experience, you should use the async spawn instead of the synchronous one.\nHydrogen written in sync manner, so it would be unexpected interface. Added memoization to speed up.\nBesides do this spawnSync freezes all atom or hydrogen is working in separate process?\n. I benchmarked this call and it's \"almost instant\" and faster than bunch of code before.\nRewriting everything in async mode wouldn't speed up hydrogen perceptually, because zmq/kernel start delay is by an order more.\nIf we agree, I prefer to merge this. To fix anacondaz issues and other related\n. This is kernel specific issue. Hydrogen don't support %magics and other \"ipython only\" or any other one kernel only stuff. \n@willwhitney, as I understand, want to implement some work with stdin, but when and in which manner I don't know.\nWhat did you expect to achieve? Prompt box?\n. Some work was done here: https://github.com/jovyan/jupyter-devinstall. Maybe reuse?\n. It would be great if you test it on Mac, because I write Mac-specific code copypasting it from stack overflow without even try. \nBesides it works on windows 7. But if someone can confirm that it would be great\n. @rgbkrk \nI use it here: https://github.com/nteract/hydrogen/blob/dependencies/package.json#L24\nIn preinstall I have no coffee script to launch it. Any ideas?\n. I'll drop dependencies.coffee. Merge?\n. @gnl Interesting. I'll investigate this. Never caught the same\n. I prefer having a reviews on every PR. Just to understand where we are moving. \nIf I don't give a care to something like this: https://github.com/willwhitney/hydrogen/pull/131, I'll just give my :+1: and that all.\nCouple line bugfixes should be silently merged in master of course.\nNow I have 5 open PR's and I don't want to merge them, without any approve (even if works for me and a couple of guys), to prevent any WTF situations. \nFor example: https://github.com/willwhitney/hydrogen/pull/145 I test this on Windows and Linux, so it should work on Mac. But I'm not familiar with jupyter ecosystem and just fix problem in a rush manner. It would be great to have some \"experts\" votes for this decision. if it wouldn't be annoying I prefer to link all contributors into such issues.\nI understand that everyone is busy with their life. But having a five minute review, couple times a month, while drinking your morning coffee, is not a big deal. For a tool (i hope so) we are using everyday.\n. @sbromberger Nice to hear this. Thanks.\n. @amelio-vazquez-reina  You are right. node-gyp doesn't work with py3. On some systems you need even provide --python=/path/to/python2 to node-gyp.\nBut this isn't issue with Hydrogen and and you can find mentioning: Python 2 (for builds - you can still run Python 3 code) in Dependecies in Readme.md.\nAny further clarifications needed?\n. @carter-lavering We work on this. Thanks\n. @n-riesco\n\nI'm interested in translating KernelManager to ES6.\n\nI'll veto this. It just kill simplicity and regard you with nothing.\nWhy all of you need that ES6? Do you want additional deps as babel and fight with their codebase? They constantly forget to manage dependecies and I couple of times couldn't run a project because all that monstrous deps tree can't be satisfied. And of course you need build system - gulp written by guys thinking they need four different sedimplementations for different purposes (because they can) or grunt that (prey the gods) are dying.\nES6 is another pile of syntax sugar as CoffeeScript, except that Coffee is new language built for simplicity and ES6 is the same old JS with all theirs cludges, \"but we have destructuring assigment\" and a new mindfuckingly stupid static import that they stole from python.\nOh God, I forgot my favorite:\nx => x //ok\nx, y => x //fails\n=> {}     //fails\n() => x     //fails\n() => {} //ok\n(x) => x //ok\n(x) => x; x //fails\n(x) => x; return x //fails\n(x) => {x; return x}\nAnd don't say it's easy to understand \"why\". Because it really easy: guys who accept this, like to write academical papers and not hotfixing dramatically fallen server.\nAnd a code like this: this.function = this.function.bind(this) isn't funny too.\nThat was emotions (I had quit from ES6 project recently). And now clear points:\n1. Two language codebase is hard to maintain\n2. Newcomers should learn two languages. \n3. Migration wouldn't be acomplished in near future and will finish with something like this: https://github.com/danielbrodin/atom-project-manager. (It's aggravated with very bad knowledge of es6 by author.)\n4. Babel is worst project I ever see. I don't need 13mb of hardly mainteined something that replace let a = '1' to var a = \"1\". Even setup of babel6 is tricky.\n5. Now we don't need build system\n6. All that --harmony is tricky too. And it doesn't work on Ubuntu LTS...\n. @rgbkrk \nI'm not strongly opposed to ES6, I'm strongly opposed to bilanguage projects and changing languages because we can. If hydrogen had been written in es5 I wouldn't even imagine to migrate to coffeescript.\n\n\"and ES6 that Atom supports.\"\n\nAnd here where it bites: I can't use \"es6\" I should use \"es6 that atom supports\".\nI personally have noted better participation within Go code bases, should I rewrite couple thousands LOC to achive the same we have now, but \"it would be faster\"?  I don't want, anybody?\n. You can edit your stylesheet and add something like that:\n.bubble-output-container { \n  font-size: 24px;\n}\n. This wasn't released yet.\nYou can:\n1. Install hydrogen from repo and use master branch.\n2.  Find your kernels with jupyter --paths (data dirs) and alphabetically rearrange them.\n. @kescobo We just shipped release. So just update hydrogen and you'll get changing kernel functionality.\n. I write this code on my SSD and it shines, but on my extra slow HDD it works the same as yours. Besides, for me previous version works slower than new. \nJust to clear situation, please, before hydrogen:run launch couple of times this: \ntime ipython kernelspec list --json\nAnd after that run hydrogen. If this will speedup this command and interface freezing will be gone - notify me here. Thanks\n. Try to drop ~/.atom/packages/Hydrogen and reinstall. If this wouldn't help try to reinstall atom - they broke things between versions sometimes.\n. Read this: https://atom.io/docs/latest/behind-atom-keymaps-in-depth to be sure you understand how it works\nThen press ctrl-. to toggle keymap-resolver, press ctrl-space (default binding for autocomplete) and map to tab your command:\n\"tab\": \"automcomplete-plus:activate\"\n. @kescobo Here we go again. Please paste here output of this two commands:\njupyter kernelspec list --json\nipython kernelspec list --json\nI think I should add ignoring of stderr.\n. Will fix when merged https://github.com/nteract/hydrogen/pull/177\n. @szagoruyko do you have ipython in your PATH?\n$ ipython --version\n. This should be fixed when dependecies.js would be released.\n@szagoruyko Thanks for your patience\n. I tested async methods and the only thing it fixes - small freeze of UI on hydrogen start.\n Jupyter/ipython works slow on building list of kernels (second on my not so fast ssd, two-tree on hdd), but cache them after first run.\nWhat I can propose:\n1. memoize kernels in hydrogen settings or in file\n2. on getAvailableKernels call we return our cached version and trigger async update of kernels cache\nthis may lead to first-time undiscoverability of freshly installed kernel, but thats ok, we had this before this commit\nI'd chose to use spawnSync because:\n1. All code is synchronous\n2. It works 2 times faster than previous code\n. What the trouble with Ubuntu? They don't have ipython or jupyter in their paths?\n@n-riesco Can you explain this in depth, please?\nIn iTourch docs i found this:\n\niTorch requires or works with\nMac OS X or Linux (tested in Ubuntu 14.04 and Arch Linux)\nTorch-7\nIPython version 2.2 or above (you can check your version of ipython using ipython --version)\nZeroMQ\n\nSo they should have iPython to work. And so it isn't in PATH as I think.\n\nWe shouln't use spawnSync \n\nI don't wont user to edit anything, just memoize kernelspecs generated by jupyter kernelspec or ipython kernelspec in a file to speedup a little\n. I don't think this is high priority feature. If I found time to rewrite it in async way I'll do it. If you or someone else do PR it would be great.\nJust curious: Why are you using necrostable lts on development machine?\n. Added notification:\nhttps://github.com/nteract/hydrogen/commit/80874a9a2141e5f506ae1d28c678e10edc31c8f1\nCan you test this?\n. Yeah we discussed that with Kyle. @rgbkrk https://github.com/nteract/hydrogen/pull/145\nI don't want to rewrite half of hydrogen (all code is synchronous) to achieve small improvement - non freezing for half second. I've tried couple times, but haven't found enough motivation.\nDoing the same to support Ubuntu LTS, really?\nSo I add notification for users who are more interested in hydrogen than in 'stability'.\n. dependecies.js wasn't shipped into 0.7.0 - it's experimental. I have removed decencies check https://github.com/nteract/hydrogen/commit/9564649746729a97a5556dcb2813425c05574944\nWill rewrite this later with exec and create PR\n. jupyter kernelspec substitute functionality ipython kernelspec so it's fallback and shouldn't merged together. https://github.com/nteract/hydrogen/issues/163\nWhy you need self-defined kernelspecs?\n. And how your ipython installation works than?\nMaybe you have no ipython or jupyter in your PATH?\nOr you have outdated version of ipython?\n. https://github.com/nteract/hydrogen/pull/177 Play with this branch.\nkernelspecs option should work too. How would you generate it?\n. #177 Should fix it\n. @lgeiger May I advice you to create separate PR for separate issues.\nIt easy to merge this: https://github.com/lgeiger/hydrogen/commit/d784006c0987c274ea463f0e9f734017d3c7422e\nBut not this: https://github.com/nteract/hydrogen/pull/175\n. Would be great if you add command for copying result too. \nStyles look great.\nIf your interested in watches functionality additionally I ask you too invent some interface for this https://github.com/nteract/hydrogen/pull/143\n. I'm talking about copying result with hydrogen command which can be mapped to some keybindings.\n\nBut I must say I quite like the scrollbar history ;)\n\nDoes it looks intuitive for you? If so we shouldn't reinvent wheel\np.s. OH SHI... it works with C++? (Went away googling Ciling...)\n. It's all about view. If this https://github.com/lgeiger/hydrogen/commit/e5b061b54551cac6c3758c50fb5a0baea49b110a were separated this PR could be merged even without review. Views don't broke logic.\nI think we should merge this.\n. @lgeiger Thanks for your work\n. Maybe, I said just maybe. Launch such code at preinstall as here: https://github.com/nteract/hydrogen/commit/9564649746729a97a5556dcb2813425c05574944#diff-b9cfc7f2cdf78a7f4b91a753d10865a2L29\nAnd save it to options? So you can edit your hydrogen PATH.\nI don't need this functionality at all, so just curious\n. Is this issue actual? I thought, Hydrogen launch jupyter kernelspec and so it shouldn't depend on the way atom was launched.\n. @n-riesco And it wouldn't. If you have non working ipython kernelspec and jupyter kernelspec, it would use your kernelspec option.\n What for you want to edit kernelspecs? If you want to optimize something or provide keys to kernel I though it should be done internally in jupyter config (if any)\n. > I'm still debugging, but I've noticed typos here and here \nThat typos were for my debug purposes. And I left them - my fault\n\nWhy is the setting kernelspec and not kernelspecs?\n\nBecause it's an output of kernelspec command, which contain kernelspecs property. \n. #38 \nYou definitely shouldn't use that param for remote kernels.\nYou can specify kernel.json with same functionality in your jupyter|ipython home directory and use it for this.\n. PS: Does anyone know where atom stores the settings? /home/user/.atom/config.cson\nYes\n. https://jupyter-client.readthedocs.org/en/latest/kernels.html#connection-files\n. https://jupyter-client.readthedocs.org/en/latest/kernels.html#kernel-specs\nSorry wrong link.\nNobody forces to use Ipython, you can use jupyter it works the same\n. > save stdout unless e\nI rewrite a bit and now it's guarded with:\nhttps://github.com/nteract/hydrogen/commit/a5791554740151ccc51b078e28d77af69e8cb236#diff-aa15d36609a9a564a24156e6778cd62fR28\nit can't be unless e because we should show this message https://github.com/nteract/hydrogen/commit/a5791554740151ccc51b078e28d77af69e8cb236#diff-aa15d36609a9a564a24156e6778cd62fR23\n. @n-riesco Thanks for review\n@rgbkrk I think this is ready to merge. And release\n. 0.7.1 \n. Did you try to remove package first and then install? Did you try to install zmq separately? npm install zmq\n. Just curious. Would apm rebuild fix this issue?\n. Great! \nI think it would be great to have a scrollbar behind counter too: it would be hard to rewind 1000 history entries by clicking.\nCluttered? Yes, But it looks better than it was. Thanks for your work\n. > Would an additional skip to start/end button do the trick?\nNo. If I have thousands result items.\n\ndefault scrollbars are hidden on Mac OS.\n\nAnd previous scrollbar too?\n. > default scrollbars are hidden on Mac OS.\ndid you try to change your atom theme?\nI think it should be .darwin specific css rule.\n. Let scrollbar be as tall as history controll.\n. Great! I'll test tomorrow\n. It works! Let's merge\n@lgeiger Is there any way to make scrollbar responsive when mousedown triggered on div.counter? I.e. propagate mousedown to scrollbar when clicked on counter.\n. @lgeiger Looks like I forget how to use google, I asked after lurking at stackoverflow.\nGood work\n. @rgbkrk I dont know how :)\n. @rgbkrk Thanks for clarification\n. I think \"change the way\" wouldn't be easy:\nhttps://github.com/nteract/hydrogen/issues/155\nSo I vote for an easiest approach - check if line isn't empty.\n. :+1: Vote for merging\n. Boo, don't use while - nobody is secured from endless loops. You can always omit it with\nfor ... when in coffee style\nor \n_.filter if you prefer going functional\nAnother way to achieve last non empty line:\n@editor.getBuffer().getText().replace(/\\s+$/).split('\\n').length\nI know this code is full of \"while\" and you just mimic behavior. But I had fixed issue with \"while\" at this project recently, so I want to prevent them. This code is far from functional \"pureness\", but \"while -1\" is absolute evil. \n. @n-riesco I think this https://github.com/lgeiger/hydrogen/commit/cb7db1206b4436a928e0e9941901271c01b549d8 is more readable and descriptive.\n. If you analyze this code and look underneath you'll find pretty the same: https://github.com/lgeiger/hydrogen/blob/cb7db1206b4436a928e0e9941901271c01b549d8/lib/main.coffee#L367-L369 and even worse. How do you think you can take last line of buffer, except slicing it with '\\n'? \nIf you are so afraid of over consumption memory try to avoid calling functions (inline them!) in a cycle - they copy arguments.\nAs for me, we don't leave in 90s when \"640kb is enough for everyone\". RAM  is cheap and our time is not. While cycles often causes problems - they aren't pure.\nBut generally I don't care. You can use any code you want. But, please, move it to separate function.\n. > I trust Atom implements this efficiently (because that's the purpose of a text editor).\nhttps://github.com/atom/text-buffer/blob/master/src/history.coffee\nAs I can see they don't write something good looking or efficient.\n\nInlining makes no difference. Strings don't get copied (strings get created and references to the strings are passed around).\n\nMaybe we are talking about different things, but where did you read that?\na = '123'\nb = (a) -> a = '1234'\nb(a)\nconsole.log a\nI wouldn't try to promote functional programming, you can write imperative one's and achieve the same. But taking care about memory nowadays in non highloaded environments is bike-schedding for me.\n\nI don't understand this last point. Could you give an example?\n\nThat's easy: if you have something working based on state, and so impure - answer correlates with state; preferably to refactor it to a function - in such way you encapsulate it's side effects. \n. I don't want to continue this.\nMy last point - I'm not the one who dictates here. So do like you want.\n. :+1: \n. NP\n. @n-riesco Did you removed all of them? :smile:\n. As I understand from your link I can define getter only this way:\njavascript\nObject.defineProperty(o, \"b\", { get: function })\nWhich looks overcomplicated. And this:\ncoffeescript\nclass Class\n  get kernels: ->\nwill raise:\nget is not defined\nAny ideas?\n. Someone(for example me in a month) will treat it as property and forget to call it. \n. Great. But how can i define get(getter) property in coffeescript?\n. Looks like overkill, that brings nothing new. Get/set in js is syntactic sugar, with object.defineProperty it's opposite. \nI think we should close issue\n. Hello everyone, I accidentally make git pull because wanted to fix #205. And now I have no result bubbles at all. Should I recompile anything or ...? I tried without any applied styles\nAnd if we decided to move to block decorations, I think we shouldn't use different font(which was great in visual separating hydrogen popups from code) and use user defined.\nhttps://github.com/nteract/hydrogen/blob/master/styles/hydrogen.less#L102\nThis line broke pandas tables overflows in watch panel. (I can't see result bubble)\n. I cloned hydrogen, make apm install, apm link and nope it doesn't work for me even with default atom styling. Result blocks aren't visible.\n\nTransformime wraps 'text/plain' with a <pre> tag. If you want to play with the style, have a look at these lines:\n\nI think it would be better do not use <pre> in transformime and just use span with:\n.preformatted {\n    white-space: pre;\n}\nShould I describe why?\n. @n-riesco Accidentally 1.4, but my package system was quite sure that 1.6. Thanks for that point\n. @n-riesco Already noticed :+1: \n. @n-riesco It works better for julia kernel - shows info and debug messages. In python it seems not so usefull, but as you can see not everything arrives to result bubble too:\n\nBefore I thought to change behavior - hide error messages, display X in result bubble and show atom errors - it show glorified stacktrace.\nSo yes I need that, but improvements needed too\n. Looks like bubble responses ignores some errors. This is OK while CUDA erorr isn't critical, but user should be notified about fallback to CPU. \n\n. @n-riesco I think stdout notify can be removed, but not stderr one: https://github.com/nteract/hydrogen/blob/master/lib/kernel.coffee#L71\n. > There are a few arguments for not showing them\n\nI can't get what are you talking about. All this messages are visible in iPython. If you are talking about topic starter a-like messages, I think they can be removed.\n\nBut if some library want to notify me that it works not as expected - in my case it was CUDA-tensorflow interaction I want to see that. Without trying to catch an error in my developer console.\nYou can review this: https://github.com/nteract/hydrogen/issues/109\nThat error was shown in repl, but not in hydrogen.\nWhen we merged PR i thought, it would be ideal to have a slider that change level of verbosity, but now I think it's excessive decision.\n. > iPython doesn't see them.\n```\n ipython2\nPython 2.7.11 (default, Mar  3 2016, 11:00:04) \nType \"copyright\", \"credits\" or \"license\" for more information.\nIPython 4.1.2 -- An enhanced Interactive Python.\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\nIn [1]: import tensorflow as tf\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcublas.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcudnn.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcufft.so locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcuda.so.1 locally\nI tensorflow/stream_executor/dso_loader.cc:105] successfully opened CUDA library libcurand.so locally\n```\n. How I can store stdout of native library into variable?\n. I admire that you know how libraries should work and where they should report their problems. So you decide to delivery every library maintainer a new paradigm how they should do their work?\nError is an error, and you can filter it because of paradigm shift. Kernels write to stdout, stderr ,they shouldn't, but they do.\n. Do what you want\n. https://github.com/chalk/strip-ansi ?\n. Great!\n. @dpavlic \n1. atom do not use node or npm installed on your system, it brings its own (outdated versions). You can see it - apm config list\n2. I had troubles with outdated atom releases from AUR. Pacman said it was 1.6, but atom --version shows 1.4.1. So check this.\n3. I have node-gyp 3.3.1, and yours is 2.0.2. I don't even know how it works for you. node-gyp shouldn't work with modern glibc and other libs\n. @n-riesco That split was approved by @willwhitney, but wasn't done - I was waiting to have a time to refactor and move to async code in menus. But that time never came :)\n. @n-riesco Ok. I'll do\n. @khaeru If you are on master branch(or wait for next release), you can map restart kernel in your keymap.cson, for example:\n'ctrl-shift-r': 'hydrogen:restart-kernel'\n. @n-riesco \nYou cut this line:\nhttps://github.com/nteract/hydrogen/pull/260/commits/a7106d109a988401ae78ffec54d4ece984511fe5#diff-2e1bb36917ff76ab7308da52bc968501L119\nSaving kernels on switching them in atom does break something? Or this should be added again?\n. We are not talking about storing options. We are talking about automatic update of \"gramar to kernel\" mapping on every change of kernel, for example: if I switch to python3 kernel on .py file, next time I start hydrogen on .py file it will launch python3 kernel and not default one.\nThis functionality was implemented, but cut out after Nicolas's refactor.\n. Another thing I want to discuss:\nAutopopulated kernelspecs shouldn't be shown to user and should be merged with user's one on startup - this will ease adding your own kernels.\nAdditionally we should strongly recommend to create separate files for kernels, if ipython or jupyter is installed on machine. Hydrogen shouldn't be used for kernel management.\n. 1. you'd like that the command switch to kernel will not only switch to the requested kernel, but also update the setting grammarToKernel (so that the kernel becomes the default choice for that grammar).\n2. or you'd like that the command switch to kernel only changes the running kernel, and grammarToKernel remains unchanged (i.e. set to whatever the user had chosen before running the command switch to kernel).\n@rgbkrk @n-riesco @lgeiger and maybe @willwhitney \nPlease vote too. I vote for 1 because I don't like editing json by hands and can't get it working (try yourself). I don't care how grammars are named and if they change, I shouldn't go to settings again\n. I don't care about Ubuntu problems, but as I said before:\n if jupyter/ipython kernelspec fails hydrogen should use kernelspec mappings that can be set in hydrogen settings. That means jupyter wouldn't be a requirement for hydrogen.\nif we can get kernelspecs from ipython/jupyter, than that mappings should be merged internally (without showing them in settings) with kernelspecs from settings. And so if kernel was uninstalled from system it wouldn't be listed in kernel list (as now).\nIn this way you can manage only remote kernels (or specific ones) in settings. \n. > I don't care about Ubuntu problems\n@n-riesco Life is ironic, even sarcastic - now I work on ubuntu 16.04 LTS (laughing allowed)\nI read docs for ijavascript, jp-babel and installed env as described:\nsudo apt-get install nodejs-legacy npm ipython ipython-notebook libzmq3-dev\nand was discouraged with:\n``\nupdateKernelSpecs:jupyter kernelspec` failed Error: Command failed: /bin/sh -c jupyter kernelspec list --json --log-level=CRITICAL(\u2026)\nupdateKernelSpecs: ipython kernelspec failed Error: Command failed: /bin/sh -c ipython kernelspec list --json --log-level=CRITICAL(\u2026)\n```\nafter that I try to intall jupyter from pip and everything works like a magic. \nSo here is a question why do you recomend to use constantly outdated ubuntu repositories if anyone can get fresh and shiny from pip?\np.s. I hate ubuntu and idea about using LTS on desktop, so I'll switch. But Ubuntu is fucking mainstream and Hydrogen users shouldn't suffer\n. And another issue: I sync my settings between work and home laptops. So I have specified kernels in my settings. Update kernels on work machine doesn't update my kernelspecs because I have ones from my home. That's the weirdest behaviour I ever expect.\nI'll implement that this way: https://github.com/nteract/hydrogen/issues/271#issuecomment-220771030\nCurrent behaviour is a mess\n. 1. \"javascript-only solution\" is just hardcoded paths and it often fail.\n   Parsing jupyter kernelspecs should be moved to https://github.com/nteract/kernelspecs by design. And used by hydrogen as dependency.\n2. Jupyter/ipython kernelspecs should be optional, but preferred way. Jupyter/ipython shouldn't be a dependency. But it should be recommended.\n3. I think two options for selecting kernel is good choice.\n4. languageMappings should be removed as redundant.\n.  All of that can be done with coffeescript and lodash it just a dumb wrapper around underscore(which do not change function names \"because fuck you\").\nI'm not arguing to move to another library, just annoyed with lodash.\np.s. @lgeiger Try ramda one day\n. 1. Why jupyter don't know about anaconda? Please clarify\n2. Why Kiminaka got null grammar?\n3. Can that copy/paste be done by hydrogen? Or conda doesn't expose itself to PATH? Or what?\n. #271. I'll reimplement/fix #272 in a while.\n. Definitelly, it do so. Because I fucked up with all javascript grammars I have in my setup, so I just want to match kernel to grammar. Editing JSON is not user \"unfrendly\", it's just a mess. I think it should update languageMappings too\nAnyone could just switch to proper kernel. And not creating issues like that: https://github.com/nteract/hydrogen/issues/283#issuecomment-223997205\nAnd for example I work with jade(pug). It has inline jstransformers http://jade-lang.com/reference/filters/ and I want to switch between languages for one grammar.\n\n270 has a number of issues, the most relevant to this PR is that the command hydrogen:show-kernel-commands should've been removed.\n\nLet's vote @willwhitney @n-riesco @rgbkrk @lgeiger :\n1. We should remove hydrogen:show-kernel-commands command (all commands of which now available in command pallete)\n2. 1 + remove dialog for kernels commands(that shown after click on kernel status in status line)\n3. Leave everything as is\n. https://github.com/nteract/hydrogen/pull/284#issuecomment-224275289 My fault\n. > f273e1d allows the user to select any kernel, regardless of the file language.\nDefinitelly, it do so.\n\nDo you mean to add a command to select a language mapping? I think that's a good idea.\n\nI think it would be good to omit using such mappings and merge it's functionality with kernelMappings. I mean map grammar to kernel directly. So i can run babel with jsx on jsx grammar and ijavascript without on regular js. Currently it can't be done - both babel/ijavascript are 'javascript' in kernelMappings sense.\n\nWhy the vote?\n\nI think cutting functionality should be done after voting. If we choose 2nd decision we can cut nearly 300 LOC and I'm not an author to be ultimate. \nI was surprised when saving of kernelMapping was cut, without voting. And now I redo it again because nobody voted against.\n. > For the record, what you saw as feature to my eyes was a bug.\n\nAnd so you decide to \"fix\" it without discussing with author. Great! \n\nI don't care about that command, but someone might. \n. https://github.com/nteract/hydrogen/pull/286\n. > That one-line edit would be enough to merge the output of jupyter kernelspec with the Hydrogen config.\nThat is desired behavior, as I said before: https://github.com/nteract/hydrogen/issues/272#issuecomment-220797461\n\nwithout discussing with author\nSeriously? Shall I apologise for fixing a bug in your code?\n\nSeriously. You can always create an issue and ask: is that's a bug or a feature? Can we improve that behavior?\np.s. I don't know why we always write that \"poems\". My English is bad, so I often mislead my reader. \n. > That is your desired behaviour! Why ignore that I have expressed that this is an undesirable behaviour?\nWhy? Why merging kernelMapping from jupyter output and your specified setting is undesired behavior?\np.s. I had revert f273e1d from master yesterday, the same commit comes to this PR, because at a time of creation I based on master with that commit.\n. @n-riesco If we merge settings and jupyter/ipython and I think https://github.com/nteract/kernelspecs would it be ok to your use cases?\n. 1. It will create a mess with user defined kernelMappings\n2. If user delete a kernel it would be present in kernelMappings\n. Ok. KernelSpecs\n. This PR is about kernelMappings. \nBut I think newKernelSpecs shouldn't be saved into kernelSpecs. Because when you will sync your settings to another machine you'll see \"ghost\" kernels. Is this clear?\n. #287 \nI think it's really great idea to add parsing  .atom/hydrogen/kernels/*.json and remove kernelSpecs from config.\n. @lgeiger thanks\n. @n-riesco @rgbkrk @lgeiger \nWhy this hasn't been merged?\n. @tiangolo try \njupyter kernelspec list or iptyhon kernelspec list\nYou'll see something like this:\n```\nAvailable kernels:\n  coffeescript       /home/vganzin/.local/share/jupyter/kernels/coffeescript\n  javascript         /home/vganzin/.local/share/jupyter/kernels/javascript\n  python2-optirun    /home/vganzin/.local/share/jupyter/kernels/python2-optirun\n  python2            /usr/local/share/jupyter/kernels/python2\n  python3            /usr/local/share/jupyter/kernels/python3\n```\njust make symlink your file in one of this folders. like:\n```\nln -s /home/user/test-docker-python/tmp/kernel/kernel-000.json /home/user/.local/share/jupyter/kernels/kernel.json\n```\nAnd trigger 'hydrogen update kernels' it should work\n. > I think that a simple solution could be adding a simple behavior that checks in the current project directory for a file like ./hydrogen/kernel/custom-kernel.json and if it exists then uses it instead of creating a completely new kernel. I think it wouldn't be too complex to implement, you have already made all the hard stuff in Hydrogen.\nlooks like great idea\n. So you decide to downgrade protocol because of Ubuntu LTS maintain standard?\nYou wouldn't be rude if you push your user to install jupyter. Hydrogen is developer/scientific package, so it can ask user to use newest software\n. @buyology https://github.com/nteract/hydrogen/pull/574 This can help, when I'll implement it :)\n.  It's not a problem at all. \n Output of kernel is trimmed. And if in your case it breaks indentation, in many other cases it helps a lot. Hydrogen is just kernel runner, so it deals with all kernel differences. For example, some kernels(julia) add newline to any output and some only on special occasions, others don't do it at all. Which you should agree, will look more inconsistent.. @lgeiger Thanks for your help. I cut trimming totally.\nAnd changed rule for one line result.. I'll revert startupCode\nAnd yes it is opt-in feature. Another option:\n4. bubble up through folders until .hydrogenroot file found\n4.1. define heuristic to found language specific files: requirements.txt/package.json which should be provided by kernels itself\nThis is how projects like direnv works\n. Is scrolling available with overflow: auto?\n. Currently always\n. remove dissmissable: true and it will dissmiss automatically\n. ",
    "ssahaxd": "Solution\nJust make sure, Python is installed for all users and it is added to the environment variables.\n\n\nI was also facing the same problem, after adding it to the environment all my problems were solved.. @BenRussert of course, I would like to contribute.\nwhere the detailed article I should post?\nTroubleshooting page looks a great spot.. @BenRussert \nadded and created a pull request.. It is happening due to the fact that Python is not added to the system variables system environment variables.\nRefer #950. @kychanbp \nSolution\nJust make sure, Python is installed for all users and it is added to the environment variables.\n\n\nI was also facing the same problem, after adding it to the environment all my problems were solved.. That's a great suggestion.\nI will update the title \ud83d\udc4d . correct !\nlet me do it.... ",
    "BenRussert": "@ssahaxd are you interested in making a contribution about this to our docs installation page? The environment variables issue comes up frequently from windows users.\nEdit: or the Troubleshooting page. That's great!\n\nTroubleshooting page looks a great spot.\n\nI agree, especially if you want to go into detail.. @ssahaxd thanks again!. @rgbkrk I wonder if (almost two years later) you have any more thoughts on this? Is there anything in the nteract repo that might be a good model?. @maximsch2 remote kernels should still be working, we did deprecate the connection.json method of connecting existing kernels\nIf you arent talking about the connection.json method this would be a new issue.. What if we made the default startup to start a new kernel for the current editor? If you wanted to connect to an existing kernel you would do an additional ui step like @lgeiger's mockup above.. @n-riesco have you experienced this lately? I know when i first tried out the uber-juno (and the packages it installs) I was having issues with it having conflicting keybindings with Hydrogen. \nuber-juno installs: tool-bar, latex-completions, language-julia, ink, julia-client\nI disabled uber-juno packages early on because I thought it was spawning julia on startup, but have since tried and not seen the same issue.. @mackdata we have a style customization page started in our docs. Would love a PR if you are interested!. Are you trying to start a ruby kernel? If so you'll need to install this first as you only have a python2 kernel so far.\nTo run package commands in atom an easy way to remember is opening the \"command palette\" with ctrl-shift-p then searching for the command. Try this to run the update kernels command you mentioned.. @alucinare I'm guessing you have a ruby file open which is why Hydrogen is looking for a ruby kernel. If you post the code you are trying to run that would help.. @codemeleon I'm guessing a reinstall of hydrogen will fix that. Let me know if that works!. When you said atom 1.8 did you mean atom 1.18? . I have been experimenting w/ hydrogen.less in @lgeiger's fork #772, I was thinking of starting a README on namespace/styling hydrogen elements. This way we could have a reference for development and a guide for users who want to customize on their own styles,less.. @Trollgeir Have you tried the add watch functionality?. @kylebarron that looks like it could be a really nice enhancement! Since the original issue is not so specific to this, I think we should close and move your last comment to discuss in a new issue. Make sure to mention Lukas again when you open, I'd love to get his thoughts.. On the original topic, I am closing as I think automatically triggering inspect requests and rendering them would cause performance issues and possibly other side effects. Convieniently , one could develop a hydrogen plugin using kernel middleware to handle inspect requests and responses in a custom way.\nYou can also trigger inspect as needed with a keyboard shortcut, user customized if desired.\n. > Inline output display. The output from Jupyter is displayed as a frame/bubble under the statement that was run. Clicking this frame would copy the result into the clipboard. Handy.\nCompared to atom, VSCode is pretty restrictive when it comes to extensions. I check back every now and then to see if we should look into porting hydrogen over, but I am not expecting that it will happen.. @neo-anderson you can use the VSCode extension API to render outputs in a pane (some VSCode extensions do this) but not inline/block in an editor line we do with hydrogen. \n\nInline output display isn't feasible with the current VS Code UI, but we've looked into this and have an idea for how to enable it.\n\n@ronglums I'd love to see what you are referring to here. Inline in an editor?. @lidymonteirowm The above answer looks like it should resolve the issue. Feel free to reply if you are still having trouble!. We have a couple issues open regarding the CPU% issue (which is actually multi-platform). I will keep looking into the potential lag issue on windows, but for now I wasn't able to reproduce.\nFor more on the CPU rise issue, see #646 open for help/discussion. @lgeiger oh, cool! Hey I'll do what I can, but I'll have to learn as I go as I did here.. @lgeiger @rgbkrk Slack link doesnt seem to work. I've never used before so I'm not sure if the issue is on my end.. @mda6 Glad to hear you got your code working! If you post a code sample I'll see if I can spot an issue.\nIf you've moved on I'll probably close this issue as it is a specific use case that sounds mostly sorted out.. @orijjsjje I'll close this for now, feel free to reply if you are still having trouble.. I get the same startup issue w/ IJavascript. I've noticed the issue does not occur when starting a kernel using the command palette 'hydrogen:select-kernel' ( before running any code ).\nIf I try to run/runAll and automatically start the kernel the issue occurs probably 2/3 of the time. \nHere is a screenshare of the issue at the end I show the hydrogen:select-kernel command which allows everything to work as expected.\nBelow is my kernelspec:\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/home/ben/anaconda3/envs/benr/lib/python3.5/site-packages/ipykernel/resources\",\n      \"spec\": {\n        \"display_name\": \"Python 3\",\n        \"env\": {},\n        \"language\": \"python\",\n        \"argv\": [\n          \"/home/ben/anaconda3/envs/benr/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      }\n    },\n    \"javascript\": {\n      \"resource_dir\": \"/home/ben/.local/share/jupyter/kernels/javascript\",\n      \"spec\": {\n        \"display_name\": \"Javascript (Node.js)\",\n        \"env\": {},\n        \"language\": \"javascript\",\n        \"argv\": [\n          \"ijskernel\",\n          \"{connection_file}\",\n          \"--protocol=5.0\"\n        ]\n      }\n    },\n    \"julia-0.5\": {\n      \"resource_dir\": \"/home/ben/.local/share/jupyter/kernels/julia-0.5\",\n      \"spec\": {\n        \"display_name\": \"Julia 0.5.0\",\n        \"env\": {},\n        \"language\": \"julia\",\n        \"argv\": [\n          \"/opt/julia5/bin/julia\",\n          \"-i\",\n          \"--startup-file=yes\",\n          \"--color=yes\",\n          \"/home/ben/.julia/v0.5/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ]\n      }\n    },\n    \"python2\": {\n      \"resource_dir\": \"/home/ben/.local/share/jupyter/kernels/python2\",\n      \"spec\": {\n        \"display_name\": \"Python 2\",\n        \"env\": {},\n        \"language\": \"python\",\n        \"argv\": [\n          \"/home/ben/anaconda3/envs/ipykernel_py2/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\n. @n-riesco I've had similar results with a number of code samples. If you want me to run a particular snippet fire away and I'll try it out. I will run npm t after work in a few hours.\nJust a shot in the dark: I notice @lgeiger is running node v7.x and I am on v6.x, in one of your comments above you mention v4.x, any potential issues here?. I get similar results as @lgeiger above when testing.. We squashed this bug over the weekend, this is fixed for v1.8+. I took a screen cast trying to duplicate on my windows 10 partition. I am able to get the CPU% to rise when starting kernels, but I dont notice the lag and overall everything seems fine.\nI wonder if there is anything we can do about this or is the CPU rise normal?. We have a couple issues open regarding the CPU% issue (which is actually multi-platform). I will keep looking into the potential lag issue on windows, but for now I wasn't able to reproduce.\nFor more on the CPU rise issue, see #646 open for help/discussion. I think this could be doable as a \"macro\" that adds watches based on some addition to the # %% cell methodology. This seems like a great idea for a hydrogen plugin so that it can be used/maintained by those who desire the feature (including me).\nI have a minimal concept implemented as a hydrogen plugin, but it requires a small change to hydrogen's watch module. I'll try to post more on this soon.\n\nMy first thought is, when should the file be parsed for possible watch statements?\n\n@lgeiger I was thinking as part of run-cell, but modified by a method inside the mentioned plugin.. @jeb2239 Are you still seeing this issue? It may just be a question of updating your packages. If you can provide steps to reproduce we may be able to look into the cause here.. I'll close this as it looks like reinstalling should work. Feel free to reply if you have any questions.. @dengemann When you open atom do you see an incompatible packages view with a little button on the bottom that says \"rebuild modules\"? I think pressing this will resolve the issue.\nTo resolve from the command line you will need to cd to the directory where hydrogen is installed, then run apm rebuild, or if you are on atom beta and mac apm-beta rebuild. @dengemann that is great to hear!\nYou are not the first to report that the GUI method works, but not via apm. I'm :man_shrugging: on that, so I've been pushing the GUI method.. Agreed this would be great. I think react inspector might be a good starting place. \nI might experiment with this as a plugin and hopefully get some discussion going here if anyone else has some ideas/code.. > simply by adding support for the application/json output type and utilizing the watch sidebar.\n@lgeiger I was really hoping you'd say something like this! I think this is a good fit for Hydrogen because it allows you to visualize data and objects and think about their structure as you write code.. @PradeepJaiswar I agree with @nikitakit that you will need to use some way of syncing files between your local and remote machines. Feel free to reply if you have any other questions.. @abalter have you seen the newly added gitbook?. My vote would be to explore the click and drag resize option.. @bapoo1998 If you have any questions please feel free to reply.. @mr742 Just following up here. Have you had a chance to try the suggestion above?. I'll close for now, but let me know if you have any questions. @TristanBarbeSGR if you want to experiment you could try cloning and commenting out this line\nNot sure if there will be any unwanted effects, but this should work. If shouldnt be too hard to work in a setting if this solves the issue, let us know how it goes!\nCheck out this page from the docs if you want some info on how to get a dev package working.. A keyboard shortcut would not be quick enough for you?\nI think this is a pretty specific use case. If you really want this behavior every single time you launch atom try hacking your init script. Check out the dispatch method from the CommandRegistry atom API docs. You could probably hack something in your init.coffee to make this work, i'm not sure.\nI have to say I really think you are better off setting up a custom keybinding so you are always in control of what happens when you start atom.. @frivollier Do you get the same issue when using hydrogen with any code you run, or just when using the SolarGISwebapi package and getSolarGIS function from your gif?. To start the ball rolling I added a \"Contents\" header with links to each section to my fork.\nI think this small step helps organize a fairly lengthy README. . @willingc Great points. I made these changes and opened a pr.. > Refactor List Views to use atom-select-list instead of the deprecated atom-space-pen-views which relies on jQuery.\nI started messing around with this last night, hoping to have some WIP this week. I was starting with watch picker to avoid conflict with #722.. Nice add!. Looks good. I had noticed that issue as well. Nice that you found a fix without adding complexity.. :shipit: . brb... reading up on flow \nAt first glance it looks similar to julia types, one of the reasons julia is probably my favorite language.. I'm going to take a crack at this after work today.. > PS: If you need a nice flow linter I recommend the flow-ide plugin.\nCool, I was going to ask about this. Tried Nuclide, but it was a little much for me at this point.. @lgeiger this is going pretty well so far. You were right that the stopping point was type declarations.\nIs the plan just to add to the atom.js.flow file as we go? There were several missing methods/properties under atom$TextEditor and atom$TextBuffer that I could add to the file.. This is working and passing tests (though I had to alter the code manger spec. I'll pr tomorrow for some feedback.\nhttps://github.com/BenRussert/hydrogen/tree/refactor-cm-flow. @willsroberts There is not enough here for me to see anything to help. As a starting point try running conda update conda then conda update anaconda in a terminal to make sure all your python packages are up to date. \nBet that will fix it, but please reply either way.. @willsroberts did that work for you? Just wondering if we should close the issue.. @piccolbo can you be more specific? I ran some ggplot code just now and saw no issues.. Looks like this is the same isssue as #632.  We are talking about an enhancement to resize images there.\nI'll close this issue, but feel free to reply here or in #632 with any questions.. Seems about the same to me. @n-riesco I did not update ijavascript before this, so if it's a new release (~two weeks) I most likely did not use it in the video. Will try that when I get home and see if I get the same results as @lgeiger . This fixes #591 for me! The only weird part is ijsinstall --versions shows that I am not on jp-kernel 0.1.2:\nijavascript 5.0.19\njmp 0.7.5\njp-kernel 0.1.1\nnel 0.5.1\nuuid 3.0.1\nzeromq 4.2.0\n\n@BenRussert can you still reproduce it?\nYes, I just did on master after confirming @n-riesco's branch fixes the issue. I can reproduce on master, but checking back out unmonitor fixes it.\n\n. > I think running npm uninstall ijavascript -g and npm i ijavascript -g should make sure that you have the newest version.\nThis worked to update jp-kernel, thanks! Shouldnt npm upgrade ijavascript -g work as well? It didnt seem to.\n\nCould you test if it works on master, after upgrading?\n\nmaster still has same issue #591. . @n-riesco has my results correct above:\nThis PR (branch unmonitor ) fixes the issue for me. . What is the appropriate emoji when a bug is squashed? Best attempt \ud83d\udc1b \ud83d\udc4f or \ud83d\udc1b \ud83d\udebd . > this does impact startup speed of the standard python kernel (approx x2)\nI didn't check for this. New issue worthy?\nOverall this closes two of the most wanted issues in my opinion, I agree with the props to @n-riesco!. Can you list the steps you are going through to start hydrogen? Without any details I am guessing the package is not in your path.\nIf you start a console ipython session wherever the file you were working on w/ Hydrogen can you import the package there?. @ArisBar Just following up on this issue. Have you had a chance to try the suggestions above?. I'll close this for now, but feel free to reply if you're still looking for help.. @derek1032 As a starting point I might suggest uninstalling and reinstalling hydrogen. Have you been able to get hydrogen working in the past?. @derek1032 have you been able to try reinstalling hydrogen? I think the suggestion above to run apm rebuild-module-cache could fix the issue as well.. I'll close for now, but let me know if you have any questions.. @JLCCI What about for hydrogen? You should be good on 1.8+. Could be a bug, do you have any more info on how to reproduce? \nRecently we found a similar issue when using a Hydrogen keyboard shortcut from a package's console tab (the Julia/Juno package in that case).. Hmm, i'm not seeing the issue. \nCan you list the output from  apm list -i in your terminal? Possible that there is another package interaction we haven't covered yet.. @lgeiger yep, I had no issue. You are able to reproduce?. @JLCCI Thanks for all the info, I have some ideas about what could cause this. . > Since you're touching these function, I would make them pure functions too\n@n-riesco That's a good point, i'll be thinking about this as I rework this a little bit. I think having an editor defined before each entry point could help with issues like #685 and #669\n@lgeiger Thanks for all the feedback! I did a few unusual things to get flow errors resolved, gradually learning as I go. I'm looking forward to going back with only one error at a time as I pick them off.. @lgeiger as of that last commit I've covered all the feedback so far. Good learning experience for me so far, let me know if you have any other thoughts.. I'm not in a hurry. Take your time to review.\nOn Sun, Apr 2, 2017, 6:10 PM Lukas Geiger notifications@github.com wrote:\n\n@BenRussert https://github.com/BenRussert Great job! I didn't merge it\nalready since the work in progress tag is still there.\nI'll take a look at it \ud83d\udc4d\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/pull/686#issuecomment-291021931, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AKW4cShW-k-eC_sLS1cGRL7MY4IzKSQ-ks5rsCr7gaJpZM4MweSl\n.\n-- \n\n\nBen R\n. Thanks, I'll be able to make these changes pretty quickly later when I get home from work.. Do you know of any other Atom packages using jest? Either way I was thinking it might be good to see if we could get a discussion started on the atom forums. \n\nMaybe others have tried or have some input on the pros and cons. If we would be \"pioneering\" this there might be some good feedback on challenges we might face.. @Benjamincreator Have you had a chance to try reinstalling Hydrogen?. I'll close this for now, but feel free to reply if you're still looking for help.. @EngineHH Have you continued to see this issue? We can reopen if reinstalling did not work.. Would this be related to Jupyter requiring token based authentication by\ndefault? I'm not sure how to properly add a token to the config as i got\nmine to work by disabling this Jupyter setting ( apparently not recommended\nto do this). I've been day dreaming a little bit about a plugin that provides an interactive tutorial on getting started. It would use tool-tips and stuff to walk through how to get your kernels installed, starting up a kernel, and running a few basic commands.. > I've been day dreaming a little bit about a plugin that provides an interactive tutorial on getting started. It would use tool-tips and stuff to walk through how to get your kernels installed, starting up a kernel, and running a few basic commands.\nThanks @kylebarron for reminding me about this comment! A nice little blast from the past for me.\nInitially, what stopped me from moving forward on this idea is that I was just learning js at the time and I thought i'd wait until I could handle it. \nNow, almost 2 years later I know I could implement something like this, but I also know it would take a fair amount of time and I'm not sure if it's what I want to prioritize. \nDo you think it would be valuable? As I'm writing this I'm starting to convince myself that I couId do this in a few hours... maybe I'll try getting started on it some weekend to see if I like where it's going early on :smile:.. The reason I started experimenting with this was I thought it would be a cool \"spinner\" during cell loading. Or even if a logo popped up and did one orbit before output is displayed (then disappears). \nAs a user I'd like to have a clear way of knowing: I just ran something with hydrogen and not (for example) the Julia console. Although, I also don't want clutter. \nBut for now, I thought this looked cool enough to share!. I might not be familiar with what you are asking. Do you mean connecting another \"frontend\" (e.g. notebook, qtconsole) to an existing kernel so that you have access to the same variables across more than one frontend?\nIf so, check out this section of README.md. The example focuses on connecting to a remote kernel, but you can connect to local kernels as well.. Did you this this in the read me?. Should be in your command palette. Ctrl shift p and search \"update kernels\"\nOn Fri, Apr 21, 2017, 12:02 PM ahsen1402 notifications@github.com wrote:\n\n@n-riesco https://github.com/n-riesco maybe it is a kernel update issue\nwhere do i run Hydrogen: Update Kernels ? i cant seem to find this\ncommand.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/729#issuecomment-296247178,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AKW4cW-I2-s-gvaqT9UdXuXytrRYjGBRks5ryOELgaJpZM4NDa2m\n.\n-- \n\n\nBen R\n. > Is there a reason why Hydrogen should not use the Python 3 version of the ipykernel_launcher when it's available?\n\nNo reason to use one or the other. It is a preference left up to the user. \nLike you mentioned, Mac and Linux distributions often ship with Python2 and/or 3 installed. You can install another version of python side-by-side without issues (at least in my experience). I have had good luck with the python3 anaconda distributions.. Could you try opening a terminal and running jupyter kernelspec list --json and pasting the output here?. similar issue on #720 . Both issues mention ipykernel_launcher module missing.. @echz We have a bug described in #856 that affects custom kernelspecs in some cases. Once #869 is merged the problem you describe could be resolved.. @echz we have merged the fix for custom kernelspecs and will probably ship very soon (maybe even tomorrow).\nOr, if you want to try a dev version see this page from the docs. > I just had a look at atom/line-ending-selector#37. They reuse the same SelectListView instance multiple times. I don't know what approach is best for our use case, but I think we should stick to what Atom does.\nThe majority of time spent on this pr by far was sorting through the few examples out there and trying to figure out what the best design pattern was for our situation. I will be looking for ways to improve this and for the other space-pen-views dependent modules.\n. I bet the reinstall works, please reply if not.. Probably the better way to go at this point. . @Bernalms have you had any progress with this issue? I agree it looks like your /tmp/ directory needs to be cleaned up to make space.. As a starting point, have you tried the add watch feature?. > I don't necessarily want to recompute all my values every time I submit something for evaluation.\nI agree completely, but wanted to offer this as a temporary solution that is currently available. \nI think it would be nice to have a sidebar that can contain watched values as well as static results. Maybe a checkbox to choose if you want the value to be watched (i.e. recomputed). \nEdit: The lists refreshing is not an issue on my Windows partition. If nobody else experiences this on Ubuntu it must be specific to my machine. I will delete the long comment since I have the same problem on master and am pretty sure this is something on my machine. The latest commit fixes the issues I know of. Please test this out if you have a chance as I don't think I've covered all the possible usage paths.. I think the rebuild solution will work. Let us know if you have questions.. @epifanio have you had any progress with this? I'll probably close this in a couple days, but we would be happy to help if you are still interested.. Nice work!\nI am having good results testing this on python and julia kernels on both ubuntu and windows. I will keep testing, as this is a big, but valuable change to the repo. I am in favor of merging as soon as any open questions are answered. I'd like to know what everyone else thinks!\nMy open questions:\n\n\n@n-riesco or @rgbkrk : how can we test if there is a problem for v4 protocol? looks like we are covered here?\n\n\nAre there any other concerns to be addressed before we can merge?. edit: json display output looks like this:\n\n. I think it would be intuitive to have hydrogen:run-and-move-down auto scroll and to leave hydrogen:run as is.. We had a similar issue #616, both issues had pdf-view installed. Maybe try reinstalling that package?\n\n\nThis is just a guess, if you give more detail on how the error occurred I could try to reproduce.. See #793. @nikitakit I 've noticed the issue you are talking about, though it probably deserves it's own issue. \nFor others trying to reproduce, try @nikitakit's suggestion with a language you have only one kernel for, since the select kernel prompt ( e.g Python 2, Python3) can give enough time to start up thus avoiding the problem.. I see the lost scrolling issue when switching between tabs and think this is most likely a little bug in hydrogen.\nI am not sure if I see the result bubble vanishing problem (though I feel like I have before so perhaps this was fixed upstream).. I've been messing around with some plugins lately and thought i'd add flow to our plugin api. There were just a couple changes to handle null cases etc.. @jailsonfm The other thing you will need to do is install language-r. > Experienced users can always override this with a custom style sheet anyway\n@lgeiger I'm thinking with a few pointers even beginners will be able to customize their stylesheet for hydrogen. I think it would be awesome to pivot this pr into getting that started.\nA section in our gitbook where we start compiling snippets like these and a screenshot of what it does would be so cool. We can hopefully get some more people contributing ideas this way and we could start to see more of what makes atom/hydrogen different.\n. @buyology Do you think we should close this? I'm just thinking it has to do with some dependency so not sure what we could do about it. @izuzak is probably in the same boat.\nAdded the help wanted tag since I'm :man_shrugging: on this one.. I will start working on this issue. I think we should ship a release before we finish this due to the atom v1.17 dependency. This way holdouts can still get the new result and watch-views!. > The copy and open in editor should only be shown if there's actually text to copy\nIf we were to make this change where would the execution count go? I like using the close button tooltip if you wanted to revisit that idea.\nIf that doesn't work for everybody, I experimented with this some just thinking about alternatives. Below is displaying execution count right in the toolbar. This would be very simple to do (could probably  move it and add some styling to make it look nicer):\n\n. This is a great idea. I can take this one.\nI'll push some WIP later. Just need to add the add the class change on ctrl+hover (which will make this a lot nicer I think).. @jdpigeon please don't hesitate to ask questions here or on slack! . @jdpigeon What you have is fine, looks like you are on the right track! Depending on the situation you can elaborate w/ function parameters, for example if you needed the given function to take certain types as arguments, or return specific types.\nFor more on this check out:, function types. @jdpigeon very cool! I think you should submit a PR so we can cover your questions in review and get this merged. You can even put your own comments in the pr next to the lines you have questions about.\nI'll review next chance I get and @lgeiger usually has helpful input as well.. @jdpigeon want to submit as a pull request? . Closed since #832, thanks @jdpigeon!. This is probably the most common kernel that doesnt have a default language install for atom.. Nice!. @Mike-MU10 I think I'll close since this sounds like an AVG issue, feel free to reply if you have any other questions.. Took a quick look at this. Looks like this blog post will be relevant.. Yeah, that's where most errors came from. \nAlso doesn't like new TextEditor({ mini: true}) and similar. Wasn't sure how to handle that.. Closing since a solution seems to have been found! :tada: . > This would probably be quite easy to implement in style.less if I am not mistaken.\nDoes anyone know of a simple way to access the region between the previous and current breakpoint?\nWhen a run-cell command is called we use a regular expression based function to determine what code should run depending on the user's current cursor position. Since this only occurs as needed there wont be a selector you could use to access via styles.less as of now.\n@t9md Based on some of your recent work I wonder if you have any thoughts on how this could be implemented?. @Foucl I think we should keep this open since implementing as a plugin or in the core package will take some work and discussion. I try to close issues if there is nothing left to do on them (not the case here).. @Foucl I have a working plugin concept for this under development (contributions welcome!). \n@t9md you might be interested in this plugin as well, as it is more or less the implementation you describe above.\nI hope to make the styling better among other things, but you can see the basic idea:\n. Seems good to me. https://github.com/mobxjs/mobx-react/blob/master/CHANGELOG.md. @lgeiger we should save that gif for the release notes and docs. Something like \"No output to display\" for the message?. @callmeish thanks for the PR! I'm looking forward to reviewing this weekend. Don't mean to leave you hanging.. @t9md Your proposed solution makes sense to me, want to make a PR to close this?. My first impression is that there isn't a truly language agnostic way to do this from hydrogen's end. \nInteresting issue, I think an init script or plugin solution could be fairly straight forward, but I'm not sure this should be built into hydrogen itself.. It may not be an issue in notebook since it normally runs code in cells instead of selection based. > If I were to try to put this in my init script is there a recommended way for me to add a processing layer before hydrogen sends code to the kernel?\nNot exactly, (yet :smile: ) .\nNow that I think it through in order to use the init solution you would probably need to change the actual text buffer in selection then change it back after dispatching hydrogen:run. Could get pretty janky.\nI think in this case the best way to enable this would be through enhancing our plugin api (something we have talked about doing for other reasons anyway). . It would be language specific just in the sense that there is no need to do this in most languages (the described workflow works fine in julia, js, R, etc.)\non the other hand, I guess if we are doing any language a favor it should be Python.\nMy other concern would be: can this have side effects for other kernels? Seems unlikely, but something to think about.. @lgeiger Good points. \nI like @t9md's thoughts above about how to make this configurable by scope name. It seems like a good thing to make configurable just in case.. Making store aware of the kernel startup immediately should all that's needed. I'll make a PR later for discussion. I've got a simple fix that just prevents duplicate kernels from starting while the first is still loading up.. I agree completely. PR incoming.. I like (3), but don't know if i'd always want the whole signature completed. Might change my mind if I try it live. \n(1) looks great too.. > Thanks for looking into adding specs! I have a few improvements cued up, so we'll be able to move more logic out of main.js this should greatly help with testing.\n@lgeiger +1 for moving logic out of main (and of course better testing) which is still open on #657 roadmap!\nI think it will help new contributors to look at a clean main to understand program flow first at a high level. Then as a guide to find the functionality they are interested in!. This is ready for review!\nThere haven't been any comments on this or #876, what do you think? \n@nikitakit I remembered that you had mentioned this issue in #780, do you have any feedback? . @t9md want to try that my fork on #876? I think this could be related to #870 . @t9md I see your issue now. This is a weird one.. From the log it does appear your kernel is restarting. What behavior are you looking for that you are not seeing?. Also, are you up to date w/ v1.17.1 of hydrogen?. Try clicking the kernel status bar at the bottom of your editor (if a kernel is running). The status bar shows the name of your kernel and its status. Alternatively, you can find this command in the atom command palette.\nHere is a link to a kernel section in our docs\n(Look at the very bottom of the image I highlighted the status bar in pink)\n\n. Hydrogen is my go to as well! \nThere is some info on other kernels in our gitbook\nBasically you need to install the ir kernel. Make sure you have r-language package installed for atom as well since there is no R support in atom by default.. It should work without the custom kernel mapping for ir, magicpython needs the mapping since it would start an ordinary python kernel by default.\n\nSo initializing hydrogen starts both Kernels. Question remains how to switch between them.\n\nIf you have R file active it will start R. If you switch tabs to a python file and start a kernel there it will be python (magicpython in your case). Both will run until you shut down and you can tab back and forth as you please interacting with either kernel.. @hugeme No prob. If there is anything you think could be better/clearer in the docs we would love a PR with your suggestions!. @stevencollinscn restarting the kernel does not clear result bubbles by default. I think we should consider fixing that in a new issue or PR (open one if you like). For now you can always run: hydrogen:clear-results to get rid of output/checkboxes.. What kernels are you running in each editor? If you are talking about the same grammar in each editor, I dont recall there being a way to connect to multiple kernels with the same grammar.. @terryphi I'll close, but did you find a solution or just ask the question somewhere else? I'm interested in Twine now \ud83d\ude04 .. Mermaid is a flow diagram library that has an atom package. This might be similar enough to get you started.. @t9md sounds like you approve and we have given enough time for anyone to chime in with issues! I'll merge this, but you are as welcome as I am to merge reviewed/approved PR's! . What grammar do you have set in your active editor? You can probably see this in your bottom status bar or by pressing ctrl+shift+L to bring up the grammar selector (the active grammar will be highlighted with a checkmark). I see your point. My view is that if I open my dock it should stay open unless I close it. \nCould make it configurable if that's better?. @lgeiger I've made this configurable, let me know what you think.\nThe way I think this should work (as in this PR) is like the git/github package works when switching between files in a repo or not. The dock will stay open either way:\n\n. Could/does ansi-to-react optionally return w/ class names instead of color style? \nIf not, it could be enhanced to do so I think. Anser has the option:\n\nto set use_classes: true in the options argument. This will instead set classes on the spans so the colors can be set via CSS. The class names used are of the format ansi--fg/bg and ansi-bright--fg/bg where * is the color name, i.e black/red/green/yellow/blue/magenta/cyan/white.\n\nWe could style these classes in hydrogen.less using color variables so they apply the user's theme.. @lgeiger i'm just talking about the ones from @import \"syntax-variables\";\nFor example @syntax-text-color and others just from the styleguide like @text-color-error. @bigheadming Check the above issue out related to error message backgrounds you mentioned.. I'll restart #879 since I think it should pass now.... Do you already have numpy installed? Most likely you would want to run pip install numpy from a terminal in order to install it (making it available for import going forward).. Cool, sounds like you got it working? \nBTW, if you want to add anything to the docs feel free to submit a PR!. I think it's fine, just a little lazy on the use of any I think we could improve that later though. Yep, we added the warning message in 1.17 (released 3 wks ago). Could you try reinstalling Hydrogen?. @windeye I'll close but feel free to reply w/ questions.. I'll have to try reproducing this when I have a chance. You get 49 consistently each time you run this?\nI always like to offer intermediate solutions while we look into things. In this case I would suggest using cells to separate blocks of code similar to jupyter notebooks. . What I would expect running @BruceChen2017's example either in one cell of a notebook or all at once in hydrogen is: 9. If the output you see in hydrogen is 49 that would be something to look into.\n@BruceChen2017 a way you could separate cells in hydrogen would be like this:\n```\ndef f(x):\n    return x**2\nf(2)\n%%\nf(3)\n```\nRunning each cell you would get 4 then 9. @BruceChen2017 try pressing shift+enter to run and move down. I do this often to force individual output quickly.\nI do see what you are saying, but the challenge is to keep everything language agnostic and to follow the way each kernel provides output for a given block of code.. Closing, since I think we covered the discussion. Thanks for the feedback!. Thanks for the report!\nI see your point about this being similar, but different than #785.  We think the underlying issue is probably something in atom core, probably the same case here. \nIt might be possible to come up with a fix in hydrogen that takes into account whatever is going on in atom core.. @dnowacki-usgs are you on atom 1.19 yet?  I just upgraded this week and think the editor scroll position issue you describe might be resolved.. Thanks for the report!\npossibly related to #807? . @lgeiger I agree, most of the code here is just to change the icon! e.ctrlKey will work with far fewer lines of code.\nI'll update this next chance I get. I had fun making the icon change, but i'd much rather merge with the simpler ctrl click that works without mouseleave/enter.. @rachelfu the other thing you can do (at least for now) is use the run cell functionality.. I'll close this since it looks resolved. Let me know if you have any questions!. @bbsdkjdx thanks for the report! \nI've been able to reproduce, but only inconsistently so far. Do you have specific steps that will reproduce the issue? This will help narrow down the cause.. Are you calling remove watch from the command palette or by clicking the button in the watches view?. Can anyone reproduce? I don't think I reproduced this issue exactly.\nThe issue I could find was that remove watch doesnt work when called from the command palette, but does work when clicking the \"remove watch\" button. That might be a different issue entirely though.... Thanks @chq-matteo. Here it is below for reference. I think I can fix this pretty quickly, thanks for the report!\n\n. Is there a button on the incompatible package message that says something like \"rebuild modules\"?. Glad I could help! I've found the button easy to miss as well.. > Just want to triple confirm you're on 1.19.0 right with a restart and things are working on your end?\nI can confirm this from my end (though I am on ubuntu).\nI dont know why the apm rebuild hydrogen solution would not have the same result, but I just want to point out a common problem and solution. See also #937 to see if your problem is similar.\nEach time you install a new version of atom there will be an incompatible packages view with an overview of incompatible native module dependencies. These issues can be typically be resolved by clicking a button that says \"rebuild modules\".\nHope that helps!. Awesome! Glad it worked.\nI was curious why the gui method works, but not the cli. Based on the incompatible packages source, this should be the same as cd'ing to the package directory where hydrogen is installed (most likely ~/.atom/packages/Hydrogen/ or platform equivalent, then running apm rebuild (more precisely apm rebuild --no-color)\nA possible exception is for Mac users on atom beta, in which case you need to run apm-beta rebuild from the dir where Hydrogen is installed.. @lgeiger I haven't actually tried this on mac, but pretty sure it will work.. > Want to ship a new release :package: :rocket: ?\nGood idea, i'll ship one later tonight. Could you try running jupyter kernelspec list --json from powershell? This will confirm jupyter installed and if you paste the results here it might help figure out what the issue is.. I think this might be an issue w/ your environment path variable. You should be able to call jupyter kernelspec list --json from any working directory without appending the ./jupyter part.\nIs there a reason you dont seem to have pip in your path either? If you are not sure what I am talking about I can probably walk you through how to add C:\\Python36\\Scripts to your path.. @ancientsigyl try opening your settings view for hydrogen and pasting that json output from kernelspec list into the setting that says \"kernelSpec\" \nIdeally this would be picked up automatically by jupyter kernelspec list --json, but only if that same command works from your shell without navigating to C:\\Python36\\Scripts as you indicated. \n. Could it be a firewall issue?. > but I have no idea if atom has actually been upgraded to use these newer versions of node.\nYou can get the node version from your atom installation by running atom -v in a console.\nHere is my output on the latest stable atom version:\n```\nAtom    : 1.20.1\nElectron: 1.6.9\nChrome  : 56.0.2924.87\nNode    : 7.4.0\n``. Are you able to start python 2 in your console and import the relevant modules there? This will help narrow down the issue if everything works fine there.. Thanks. Maybe try upgrading ipykernel withpip install --upgrade ipykernel`. \nWe had somewhat similar issue (maybe) in #730 with various fixes. It is hard to say if this is the same thing.\nI am wondering if you have two separate python2 installations behind the issue, can you import standard lib modules? e.g. import sys ?. Do you have jupyter installed? Here is a link if you need to install.. One thing you could try is setting xmode to plain by running  %xmode Plain  or altering your ipython config files to set this way permanently. @mpastell yep, I just meant rich documents documents in general. \n\nI'm adding a section to Pweave docs about using language-weave with Hydrogen\n\nSounds cool, I hope you post a link here when you are done, or I can just look out for it \ud83d\ude04 . @callmeish want to join our slack channel? This is close, but the minor details like flow and the conflicts from our prettier upgrade could be confusing :laughing:. > An alternative approach would be to get the text directly from the DOM as it is done in the result view component.\nThough I kind of prefer the approach taken here because it consistently copies only the plain text representation.\nI like this approach as well, another benefit is it can be done without refs which the react docs say should be used sparingly. . {\"Python\": \"%matplotlib qt5\"} try instead {\"Python 3\": \"%matplotlib qt5\"}\nThe name of the key should be the display_name for the kernel. If you run jupyter kernelspec list --json | grep display_name in your terminal you should get a list of available options\nbtw the error is unrelated, but I think we can fix that from happening in a future release :smile: . @gragrou could you see what running the command %history outputs any time after starting a kernel? You should see that initial startup code at the top.\n{\"Python 3\": \"%matplotlib qt5\"}  is working for me. If you are missing that first line in your history output we might get closer to the issue. Note that hydrogen:restart-kernel command will not run your startup code (only full startup).\nYou may also want to try running \n```py\nfrom IPython import sys_info\nprint(sys_info())\n``` \nor similar as well to ensure it is the version and installation of python you expect to run.. @lgeiger, I assumed it is intentional that the startup code is not run on hydrogen:restart-kernel, right?. @rgbkrk I ran out of time before I could fully test it out yesterday. I think there still could be some issues when running watches on multiple kernels.. @lgeiger I was having trouble getting the TextEditor we use for input here to render properly. Do you think this could be refactored to use a react component for input? . Wow this got a little crazy. \nIt turns out the multiple kernels issue is on master as well, I haven't been able to fix that. I think it is due to some changes in TextEditor recently. \nI think this PR makes a number of things better, including fixing #936.\n\n\nAdd \"Remove All\" in the watches picker (remove all as usual and you'll see this:\n\n\n\nFix some focus issues\n\n\nRemove watch was failing if called from the command palette instead of the button\n\n\nAdd placeholder input text for the current kernel\n\n\n\n. I am going to close this PR and split it up a bit. I noticed a few different issues as I was working like #963 and just lost track of what changes were necessary :sweat_smile: : . #972 for posterity. > Hope someone with the knowledge can help incorporate the change.\nSeems like a great opportunity for your first PR! You seem really close to having the knowledge you are referring to. I would help walk you through what to do if you are interested.. You are getting close. What you will need to do next is fork the hydrogen repo (there is a button up top on github to do this). This will make your own copy of the repo.\nNext you will need to add a remote which leads to your fork. Commit your changes (I recommend doing this on a new branch) and push the branch to your newly added fork. \nI know this sounds complicated, but i promise nobody knows how to do this until they do and it will be easier next time.\nFor example my fork is at git@github.com:BenRussert/hydrogen.git so, replacing that url with your own I would do these steps. Some steps below might depend on your setup, if you are using ssh or https etc:\n\nadd the remote fork, ill call it myfork, but its up to you:\ngit remote add myfork git@github.com:BenRussert/hydrogen.git\nmake a new branch and check it out, again what you call it is up to you:\ngit checkout -b output-area-margins\nmodify hydrogen.less\nadd the modified file and commit\ngit add ./styles/hydrogen.less\ngit commit -m \"Add margins between items in output area, closes #993\"\nPush your branch to the remote you added for your fork\ngit push myfork output-area-margins\n\nNow just go back to your fork on github in your browser (https://github.com/benrussert/hydrogen in my case) and you will see a message that says something along the lines of \"this was changed recently\" and a button that says \"new pull request\".. There is not a way currently to use the output area by default, what you need to do is search \"toggle output area\" in the command palette and run, after that your output will be in the output area. \nI added a keybinding to my keymap for this reason, ill paste that code here later and maybe add something to the docs about this.\nBTW, the \"Output Area Dock\" option is (my badly named) setting to keep your dock open even if you switch to an editor without a kernel running. I'll have to add something to the docs for this as well, but the hydrogen default is to close the dock if you switch, which can be annoying if you use the dock for another package (like the github package). The setting resolves this problem.\nEdit: while I would also like to have this a global option, here is the mentioned keybinding I use in my keymap.cson currently:\n'.platform-linux atom-text-editor':\n  'alt-o': 'hydrogen:toggle-output-area'. > I agree it should not affect all descendant divs. We may need a more rigorous selection here.\nI didnt even think of that. Can this be pulled off with just a selector?. > Will first-child work?\nThis was my first thought as well, I dont think it works if adding it like this is what you mean. \n(I added the border style just so I could visualize in a screenshot)\nless\ndiv:first-child {\n    border-style: double;\n    margin-bottom: 10px;\n    margin-top: 10px;\n  }\n\n. I am on another iteration of this with tests, i'll bring this up again in the future.. I have the width issue on atom v1.20.1, i'm guessing this is a platform specific thing since I am on ubuntu also. I bisected and found the commits in #975. @SamaelChen @mattiasarro Thanks for the report, this is fixed on master and should be released shortly.\nI did not reproduce the second case @SamaelChen mentions, but if the next release doesnt fix it please let us know.. I restarted this build and it passed.. Cool idea. I havent looked into this to know what that would take. \nIf you are interested in looking into this and/or making a PR that would be awesome!. Have you confirmed that python3 is installed and on your path?. The issue looks like it is with your system installation of python3. Have you installed this recently or used it outside of atom, e.g in a console?. Check out this new section of our docs. I saw your comment on Issue #67, it is an old but still relevant issue with tons of info.\nTake a look and let me know if have questions!. Looks like that was thrown from the python-suite package. If you want you can open an issue there. \nIf you want to try to get hydrogen working I would just disable that package for now and restart atom. \nAlso, just to rule out issues outside of atom/hydrogen I would try opening up cmd.exe or powershell and running jupyter kernelspec list --json in the console to ensure jupyter and at least one kernelspec is installed correctly. You should see some json output which you can paste in a comment here.. nice work!\n. Oh, nice! Thanks @ttor!. Anaconda should be fine, in fact that's what I recommend. \nCan you post the code you are trying to run? Are you able to run that same code without issue outside of atom e.g. in an ipython console?. Glad you got it working!. The reason for the when is that it would only open in the pane when you start up the first kernel. Following that it would work as it does now where you can switch to either inline or pane output.\nThe very first output is displaying inline, trying to fix that. \nI'll try your suggestion, I guess we would toggle the setting when the pane disposes? Otherwise you could never use inline if the setting is still checked.\nThanks for the feedback!. Now I seem to be opening multiple output panes? I might have to look at this again tomorrow.. I think this is good now. \n\nThere is a new setting outputAreaDefault\nif left unchecked (the default) this will change nothing about the way output area works now\nif checked output will always go to the output area in the dock\n\n\n\nI got caught up wanting an intuitive way to switch back to inline even if you have the setting checked, but that is probably unnecessary or at least can just come back to that if people want it later.. Side notes:\n995 also brought up the outputAreaDock (confusingly named setting) which I added in #893 to keep the dock open even if you switch to a tab without a running kernel.\nThis PR:\n Fixes the wording of that config title\n applies the same behavior to the watches pane. Do you have the file saved?. @Eric2333 no problem, we have an open issue to make that more clear . I don't think #1022 should hold up H2O.. Nice, the github extension has lots of cool examples. This is really cool! I like the way this works a lot.\nI think this is worth it's own file outside of main. You could import store from \"./store\"; there to get the same reference needed for exportToIpynb function to work.. @Madhu94 I'm good with the flow fixes, I don't know if there's a \"right\" place to put the electron stub, but I think this works. \nI'll just give @lgeiger a chance to chime in, but I think we should merge!. Can you try opening the atom devtools and seeing if there are any messages there?( You'll need to make sure debug logging is enabled in your config for hydrogen first.). Awesome! :shipit: . In my experience there aren't any strings attached. I think we are just happy to have contributions.. I think there is definitely a happy medium to be worked out on this as the 2.0 release is only a couple weeks old. I still think independent kernels are most intuitive and should be the default, but I'm hoping ideas from this thread result in making this better through config or other enhancements. I'm interested in working on that or helping anyone else who wants to contribute.\n\nIs there a reason to have a kernel per file?\n\nIn my opinion (and I think this is a matter or preference), the reason each file should start its own kernel by default is because if you want your file to run outside of hydrogen, say in a script or an app, you'd have to pay attention to namespaces and what you import/require/using etc. It's also how jupyter notebook works unless additional setup is done to connect to existing kernels.. I messed around with the global kernel mode option last night and was able to get something rough working. I'll PR sometime this week.. I'll rethink and see if I can simplify. Thanks for the feedback!\nThe reason I went with the config store was 1. To fit with the current stateless observer component and 2. Because I think it would be good to have a reusable way to keep track of configs that plays well with mobx.. I think the config store will be helpful for a number of things, for example the way we handle language mappings currently. Also anytime we use a config value within an observer component (now or in the future).. I think most people will want to leave the status bar on.\nBy the way here is something else we could add using the observable config map as an example:\n\n. I can say with full certainty that this is not caused by the hydrogen install itself. \nIt's possible the keymap is coming from another package or personal keymap file. I'd recommend reinstalling hydrogen in case the install was modified locally. Also check apm links if you may have created a Dev version and added this to the keymap. \nLet us know if you have questions!. > What about adding the subscription to the History component directly? This way we wouldn't need to duplicate the logic.\nI tried this initially, but wasn't sure how to keep the correct output store and rangeslider handle element in sync with the stateless component.. Closing in favor of #1064. Also xref #1063. Your idea in #1067 will resolve this. Once that is added a mapping in your keymap.cson to hydrogen:clear-results should work nicely.\nClosing in favor of #1067. This seems like a good idea to me. Adding store.kernel.outputStore.clear() to hydrogen:clear-results would allow you to do what you are asking with a custom binding in your keymaps file.\nIt should be an easy fix. Interested in making a pull request? . > Can store.kernel.outputStore.clear() be mapped to a keyboard shortcut?\nNot exactly. You would need a custom command in your init script and even then it would be a bit of a hack and could break if we changed something in the future. \nI think it's a good point that clearing results should include the output area (I would like it to as a user as well). This change is also the simplest solution to get the custom keyboard shortcut to work so its win-win.. @lgeiger I am tagging this as \"good first issue\", let me know if I am wrong about in case i've forgotten something that will come up :thinking:.. I'm on mobile at the moment so I'll post a link with an example that is almost the same\nSee also : https://atom.io/docs/api/v1.21.1/CommandRegistry#instance-dispatch\nLet me know how that goes!. @dsanalytics I sent a PR for this just now. If interested, check our CONTRIBUTING.md to see how to set up a dev version of hydrogen and try it out. I've found hacking on atom to be a really fun way to learn to code.. Good question. Anytime features/fixes are added to the development branch they need to be \"shipped\" to become available as a release on apm\nWe will ship soon I'm sure, but I really think you should get a development branch working since you seem to have the interest \ud83d\ude00\nMore on apm release specifics here. I think the way to go here would be adding serialization so that the output mode would open the same way as it was last closed. I think it's a good idea if anyone wants to submit a pr.. Closing in favor of #1327. I was messing around with specs and ran into issues w/ the global store. This was the best way I found to avoid the issue and make it easier to do independent tests.\nThis is more of a \"look at this request\", but maybe it's a good idea?. @dsanalytics Sounds like @mpastell answered the question here so I will close. Feel free to reply if you still have questions!. If this is when you try to copy error output from the output pane I have a fix I can PR later.. The icon will not appear if there isn't any text to copy. For example, if the output is an image.. @illpack are you still experiencing this issue on the latest version of Hydrogen? If so, can you post a code example so I can try to reproduce?. Closing since I believe this was fixed. Let us know if you have questions.. @Elias427 Were you able to try the installation instructions above? Let us know if you have questions or if we can close the issue.. I'm sure the solution above will work, let us know if you have any questions!. I'm 90% sure this is what #1075 is all about. \nTo reproduce the problem on master:\n1. Use the output pane\n2. Raise an error\n3.  Try to copy the output from the error using the copy button. If you want to switch back to inline output you will need to close the pane and it should switch back.  Also, check your hydrogen settings to make sure you don't have output area as the default.. You probably needed to save your file. The kernelspec config error can be ignored after 2.0 it is not used.. I'm sure the solution above will work, let us know if you have any questions!. Did you already npm install -g ijavascript? If so try running ijsinstall since it is a part of ijavascript once that is installed. @DannyDannyDanny Your example could be resolved by interupting the kernel. Try opening up your command palette and searching for \"Hydrogen: Interupt Kernel\" \nIf you moved the print statement into the while loop there might be a problem because you've asked atom to render infinitely and other commands etc can become non-responsive. . Thanks\u200b for the report! What type of output are you trying to copy?. This should be resolved for now, though we will need to refactor our use of @nteract/display-area. We can track that on #1116. @rafaelgm looked into the cause of #1118 and narrowed it down to @nteract/display-area. Pinning the version at 3.0.2 will be  a quick fix for now.. I'll look into this next chance I get. Has anybody looked at this and run into trouble?. Should we downgrade React temporarily? Either way, I'll take a look tonight.. I'm trying this now. Doesnt look like it's working.. Closing in favor of #1139. You can make snippets and keyboard shortcuts to your heart's content with atom.. Thanks for the report! This will be fixed on the next release, xref #1147. Your cursor should be within a code section of the markdown file like in this gif\nThis way hydrogen knows what kernel to run based on the grammar inside the code block. If your cursor is in the other sections of the file, the grammar at that cursor point will be markdown and you will see the error you describe.. Check out our docs, starting with this page\nHydrogen works on plain text (e.g. .py, .R) files if you have a kernel installed. It can connect to notebook servers as you describe, but I would recommend starting a local kernel with hydrogen first to make sure things are working on your machine.\nFeel free to reply w/ questions!. Hydrogen does not currently support the editing of .ipynb files like you describe. Hydrogen can generate ipynb from a text file, but not interactively edit them.\nThere is an older open issue #75 on this. . I will close this, thanks for posting your solution. Feel free to send a pr if we need anything added to the docs!. I like this approach a lot! \nSome docs to explain some usage would help. I think the example from main.js above could be moved to an example plugin (sometimes even more helpful than docs) . Can you try closing and reopening the file?\nIf that works it will get you going and narrow down the issue.. Hi @kylebarron, sorry for the late response.\nI just realized it looks like you have multiple cursors in your screenshot, something we don't currently handle. If this is something you would like to improve, I would be interested in a way to handle that if you sent a PR.\nOtherwise, my take is that for individual cursor selections the way things work now are consistent with Jupyter platforms that separate output by cells. The intended way to get multiple outputs in hydrogen is to include cell markup in your code file. \nhttps://nteract.gitbooks.io/hydrogen/docs/Usage/GettingStarted.html#hydrogen-run-cell. You can try interrupting the kernel with hydrogen:interrupt-kernel, if that doesn't work there is a discussion in #1117 about this.. Not enough info here :man_shrugging:  . There have been a number of installation issues recently caused by something upstream in atom. Can you try installing from the command line? apm install hydrogen. Hi @mgdreamingstar, could you please open a new issue if you haven't opened one yet? I'm going to close this one since we didn't get a response on this one.. Have you tried it in a jupyter notebook? I'm not sure there is anything hydrogen does that would cause this. \nThere are a few suggestions for changing your language settings via dotfiles etc in this stackoverflow post. If need be you could add startup code for r in the hydrogen settings.\n. I just had this issue pop up after upgrading ubuntu from version 16.04 to 17.10, but im not sure if that is a coincidence.\nWhat is happening is apm is using your default python version when it needs to use 2.7 to work with gyp. There should be some way to set your apm config python variable to point to python2.7 but I am not sure the correct way to do this. I tried apm config set python $(which python2.7) but it wouldnt persist. This may need to be done in a .apmrc dotfile somewhere.\nThe way I resolved it for now was by editing /usr/share/atom/resources/app/apm/bin/python-interceptor.sh lines 37 and 40 to say python2.7 instead of just python. Then just install hydrogen and make sure you rebuild modules next time atom loads up (it will prompt you to).\n. @yjhung what does apm -v output for you? For example, here is mine after applying the quick fix described above:\napm  1.18.12\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.23.3\npython 2.7.14\ngit 2.14.1. Glad to hear it works!. This is a bit of a hack to handle this issue:\n1. Create a new untitled file ctrl+n\n2. Save that file ctrl+s\n3. Try to start a kernel, it will fail\nThe reason is that store.filePath is a mobx calculated value that will only recalculate when store.editor changes.\nOpen to suggestions if there is a better way to do this.. Can you try opening up your keybinding resolver w/ atom ctrl-.? See what command is actually running when you press ctrl-enter. \nctrl-enter (or cmd-enter on mac) is mapped to hydrogen:run, which should not be moving the cursor at all with our default keybindings. If you are pressing shift-enter, this is mapped to hydrogen:run-and-move-down and the cursor moving to the next line is expected.. I dont see hydrogen anywhere in your screenshot. Are you sure you have it installed?\nTry running hydrogen:run from the atom command palette, does that work as expected?. Can you try the key bind resolver with ctrl-. Either hydrogen:run is not running at all, or another command is running on top of it causing the cursor position to change.. @lookbehindyoo Thanks for helping out with this. It does look like our docs are not clear on the kernel start up configuration options (I don't think it is mentioned at all). If you are interested please submit a PR with the info you discovered!. Hi, I am sorry nobody got to this. I am sure if you try installing again it will work. . Sorry I didn't see this for a while. I'll merge and see if we can get the test fixed later (or decide if we need it.). Stumbled on this looking for another issue, looks like we can close this!. I've tried fixing this a number of times and have not been successful.\nIn the output area dock and inspect views, we fixed this by adding a .native-key-bindings class. The same solution doesn't work inline for whatever reason.. I've got a branch with some mobx upgrade work going. There are a lot of API changes so couldn't pull off in one sitting \ud83d\ude05. I've seen issues like this before where apm rebuild didn't work, but for whatever reason the atom gui screen for incompatible modules was able to fix it.\nSee @lgeiger s comment about this view above. Does this fix the issue @77QingLiu?. Just took one randomly last night! It's that tiny red bug icon at the bottom right if you can see it.\n\n. Maybe these screenshots and info on the incompatible packages view need to be added to our docs, the issue comes up each time a new version of atom is installed. \nAny new contributors?  . Are you able to reproduce this again? If so, please provide steps to repro so we can help!. @mbroedl Thanks for the detailed issue report. I tried the juniper R kernel as you described and had the same results.\nAs a work around, try pasting this into your atom stylesheet ~/.atom/styles.less:\n```\n.multiline-container .hydrogen_cell_display{\n      min-width: 80ch;\n}\n```\nThere is actually an svg image there, but hidden by width too small. Hopefully we can come up with a better solution soon, but this will get you going for now.. Glad to hear it works!\nI wonder if we should add something like this to our hydrogen styles sheet? The only hesitation I have is that not everyone wants their svg output sized the same (as you pointed out :smile: ).. You will need to rebuild modules using the incompatible packages view. Please see #1264 for more information.\nClosing as duplicate, but feel free to reply with questions!. Do you have any more information on what you did just as the error was raised?. For the most part hydrogen only supports plain text code files (e.g. .py, .js) as opposed to .ipynb notebooks. We do have a feature to convert a plain file to ipynb.\nOur documentation is a good resource to get started. Take a look there first and see if you have questions.. Your going to need to set the grammar to Python or just save as a .py file instead of .ipynb. you will also get syntax highlights for Python this way. I guess they added a password key to input requests for jupyter v5.0+. \nIf you want to try this out here is a test snippet:\n```python\nfrom getpass import getpass\nx = input()\nprint(\"Regular input: \", x)\np = getpass()\nprint(\"Password input: \", p)\n``. Looks like this was fixed in #1363, try this again after you update hydrogen. Feel free to reply if you still face the issue after updating.. There is actually an \"Output area font size\" in the hydrogen config. Try that out and see if it's what you're looking for. . ![screenshot from 2018-05-03 05-41-46](https://user-images.githubusercontent.com/10860657/39574534-d82328b4-4e94-11e8-86b2-28c68d5fe7d1.png)\n. Fix incoming for this, thanks for the report!. I agree @lgeiger . @wulidongdong do you have an example code snippet i can use to reproduce?. I modified a simple example from thetqdm` docs, adding a sleep call to make it take some time and show progress:\n```python\nimport time\nfrom tqdm import tqdm\nfor i in tqdm(range(10)):\n    time.sleep(1)\n    pass\n```\nStill looking into this, but I've noticed it works in the output area dock, but in regular inline result views.. This is fixed in #1294\nThanks for the report!. This will fix #1293 as well. Never should have stopped using toJS here, but flow told me to!. @kylebarron yes, it would be in commutable. We have actually been talking about refactoring that package.. Thanks @lgeiger. I removed the WIP tag.. Thanks for the PR! Looks good to me. . Have you tried restarting atom and trying again? It looks like it just didn't download properly.. Wish I had a better answer for you, I'll have to try on Windows next chance I get and see if I can reproduce. . Hi, we would just need some more info to be able to help. Feel free to reply if you have more detail.. The reason it doesn't work the same in list mode is that multiple outputs are involved instead of just the one. We'd need to decide what exactly to copy and from where. \nI'm sure it's doable, but someone will just have to take the issue on! All are welcome to submit PR or ask questions here! . > What was the reason to have 2 views?\nIt's a matter of preference I think. Personally, I love having paged output like in the history view!\nHave you thought about creating a development branch of hydrogen and tinkering with the list view? If you are not familiar with the codebase it will take some time, but once you get it you'll be able to develop the list view in exactly the way you think it should be!. The solution from your link works for me. You can add this snippet or put in your startup code in the hydrogen settings if you always want it to run.\npython\nimport sys\nsys.argv=['']\ndel sys. Is this something you would still use if #1327 was implemented? Or do you switch back and forth a lot?. Sorry you haven't received a reply yet. \nCan you run jupyter kernelspec list --json from your terminal and check where your python kernels are pointing? Post the ouput here for help.\n. Try running conda env list and make sure you have the env you expect active. Right now it looks like you have the root environment active (based on the kernelspec). This means you will need the packages installed within that environment.\nAdditionally, you will need to make sure the environment you want is active in atom's environment. If you start atom from the command line (recommended), the env that is active in your terminal should be passed to atom and you will have access to packages installed in that env.. I didn't see your edit before the last comment. The suggestion still applies though.\nGlad you got it working!. This is working fine.. Which R kernel did you install? Does the R kernel work when you use it with other front-ends, e.g. jupyter notebook?. Thanks for the report!\nWhich R kernel is installed specifically? When you say \"kernel manually closed\" are you talking through task manager or through the hydrogen commands in the atom command palette?. > can someone else reproduce this issue too?\nI have not been able to reproduce. I tried w/ IRkernel on ubuntu, but everything shut down fine. @sdrakulich are you running any code in R before attempting to shut down the kernel?. I don't know anything about the Scala kernel, so I'll assume inspection normally works on it with other front ends like Jupyter notebook.\nWhat code do you have selected when you ran the inspection command? Even if there were no results it should show you an info box telling you that. Are you sure the command ran?. > When I hit toggle inspector \nWhat do you mean by this? Keyboard shortcut, command palette or some other method?. I'll look at this later today, I've been meaning to. Let me know if there is a specific Scala kernel, otherwise I'll just use first search hit.. @frejonb I'm having some trouble getting jupyter-scala installed on ubuntu 18.04, it looks like there are some maintenance issues there.\nCan you try turning on debug/logging in the hydrogen settings? Then, right after you try to inspect something look in the atom devtools console for a message like: \"Inspector: Result:\" followed by the object.\nYou may want to check it out on a kernel you know works first to see what it should look like.. Can you run jupyter kernelspec list --json in terminal and check the output for the python3 kernel? If the first argv listed is not python3 then you may have edited the wrong kernel.json file.\nIf that doesnt help post your output here and i'll try to help. Let me know how it goes!. Are you having issues installing hydrogen? If you can give some more detail I may be able to help.. Is C:\\Users\\acbou.atom.apm\\uuid\\3.2.1\\package\\package.json a valid path? Looks like there is a missing backslash after C:\\Users\\acb\\.... not sure what would cause that.\nAre other packages installing correctly?. @triceraflops Sorry for the late response, thanks for solving and posting your solution! This line from your solution might be good to add to our docs:\napm install hydrogen --python /path/to/python2\nWe have seen issues in the past where gyp tried to use the wrong python executable even if 2.7 is installed. If you are interested in making a contribution I encourage you to submit a PR adding this snippet (or anything you think would help others) to our docs! . Updating this breaks the restart kernel command (and maybe other things). \nThe kernel execution state gets stuck on restarting and i'm not sure why. Since there is really no benefit to us upgrading now I think i'll avoid this rabbit hole for now. I'll probably try again in a few months hoping something changed upstream.\nEDIT:\nMade this comment 1 day after I broke some stuff with spawnteract. All good now.. Try selecting the entire code you want to run, or use cells and run the cell. See #541 for more info.. You would have to install the dependencies with apm install from within the hydrogen directory after unzipping.\nI get the impression the issue is you are on a network with a firewall that blocks access to the web by apps it doesn't recognize. I'm not sure apm install will work either if that's the case. . Yes, lodash is one of many dependencies of hydrogen. I do not recommend trying this due to the time involved if you can even get it to work right. I\u2019d suggest talking to your IT people to see if you can get them to install it.. Sorry @bryceh29 those IT people can be pesky. . > 1. clear all bubbles after restarting kernel.\nI think this point would be a nice improvement and looks like a good first issue. Would you be interested in making a PR? I will give you a head start with some links to relevant code and answers to any questions you have\n\n\ndisplay a bubble after each line of code.\n\n\nThis issue comes up every now and then. What you are looking for here is cells.\n. > About a year ago hydrogen would always delete all bubbles when a kernel was restarted, which caused me to lose important experimental results more times than I can count. \nCompletely forgot about that. Makes sense.\n. @cdrappi I would delete the hydrogen folder completely and run apm install hydrogen\nThese types of errors are often caused by left over files when an install is interrupted and cleaning up the directory can oftentimes solve it.\nI'd really avoid trying the manual install because you can potentially cause new problems and if you do fix it it will break next time you update.. Thanks all for the reports! Please try installing one more time now that we've shipped a fix.\nThanks @lgeiger for the fix!. Thanks for saving the day @lgeiger!. How did you install python? It could be that the install did not add the new python location to your path.\nIf you Google \"add to path\" with your OS, you will get all sorts of info on how to do this in your environment.. I made a minimal kernel middleware plugin based on a discussion with @jefftrevino on slack. Check out this branch for the package and this commit for the middleware specific part.\nYou might want to check out the type definitions here for additional comments on kernel middleware.. > I've just tested on (Hydrogen version 2.6.0. Windows 7 x64).\nI was just putting together some release notes and realized we haven't shipped this fix yet. I will ship 2.7 tonight! Sorry for the confusion!. Hi, does the first format work if you run it as a script? python my-filename.py from the cli.. Hi, we would need more information to help out. Can you elaborate?\nIf you are having trouble installing with the GUI, can you try apm install hydrogen from the command line?. Hi, thanks for the issue. Which OS and which version of Hydrogen and Atom are you running?\nYou can get this information from copy and pasting the output of atom --version from the command line.. Closing for now as we need more info to debug. If you are still facing the issue please reply with the details requested and we can reopen the issue.. Looks like the above comment covers it, thanks! . I don't know all of the details off hand as I dont use remote kernels much. Feel free to look into or send a PR if you think it's worth while. Looks like this is thrown from a fork of hydrogen which is unmaintained and might not be compatible with your version of atom. You can install hydrogen by running: apm uninstall greyatom-hydrogen  and apm install hydrogen from your command line.. I did some googling just now and found some people saying they fixed something similar by upgrading ipykernel. Can you try this?. Glad you fixed it!. Edit: I misread this issue so removed my response \ud83d\ude01. > To keep it simple, we could redirect the output to the lower right box any time the response mimetype is an image, like image/png or image/svg+xml.\nIf anyone wants to experiment, you could easily do so as a hydrogen plugin. Hydrogen kernel middleware can be set up to listen for a particular output media type e.g. image/png. You could then open a view customized for that particular output.\nAs an example, my plugin data-explorer does just this. It looks for: application/vnd.dataresource+json which is the media type that the nteract data-explorer component expects. When it finds this media type, a customized display is opened in a separate pane. See the example here. \nFeel free to ask questions here or on slack if you are confused or need any tips to get started!. Hi, have you tried reinstalling? Looks like apm might not have downloaded all files properly so you could try again.. Strange, I couldn't help but notice you don't have any other atom packages installed. Are you experiencing the issue when you try other packages? It could be an issue with a firewall.. Thanks for the PR @kylebarron! Would you like to help us maintain hydrogen?. To get it to work for now you can try using the absolute path. For example /home/ben/test_image.png instead of relative path ./test_image.png. Thanks for opening the issue @tobiasbj. We have the same behavior on the nteract desktop app. It has something to do with the path of the html document inside atom/electron itself.. \n\n\n. Thanks @kylebarron , if you think it's good enough for now you can merge this here. Then we could keep track of the various data explorer things to work on in a new issue.. I agree completely. Click that green button whenever you're ready @kylebarron !. Woops, fixed that \ud83d\ude00. This needs a stylesheet tweak. This is a great first issue and if one of you decide to look into it you probably will not even need an understanding of javascript to take this on.\nI will answer any questions I can and would be so grateful if you took a crack at fixing this :bowing_man: \nTo start, check out how to start your own development copy of hydrogen. From there you can edit the hydrogen.less file and if you started atom in dev mode with atom -d . the style changes will live update so you can mess around until you get the hang of it!\nI would start by looking at this line in our stylesheet. I would google around to find out what style properties to change in order to fix text alignment and see if we might be doing this wrong someplace in that file.\nNext, if that didnt work (though I think it will), you would want to look at the output-area component. So great you are looking into this @bigheadming!\nCan you try something besides font? For example, try messing with: text-align: center;, for example, try: text-align: justify; or other valid values for text-align\n\nP.S. I do not know much about gateways, please post a separate issue and hopefully another maintainer will chime in :smile: . @bigheadming feel free to open another issue if you have concerns other than the original topic. That will help out people searching for similar issues down the line. Your comment about error background would be really useful on #894 if you want to repost it there.\n\nI tried to include a custom.css in .jupyter directory and passed the custom.css when starting the jupyter server (by adding c.NotebookApp.extra_static_paths = ['/home/xxx/.jupyter/custom'] in jupyter_notebook_config.py). In a browser, the notebook comes out beautiful with all color I want. However, when doing it hydrogen, it stays the same no matter what I tried.\n\nCustom css for the jupyter notebook won't affect the atom editor (or hydrogen). Check out the atom flight manual page on style tweaks for more info. Hi, have you checked out hydrogen-python and ?\nIf you haven't already, make sure to check out the global kernel mode in the hydrogen settings. With this active, you only need to start one python kernel and then can run code from all py files in the shared kernel namespace.\nOne challenge regarding variable explorers is that they essentially need to be written custom to a language and hydrogen is intended to be language agnostic, you're probably best off looking into creating a hydrogen plugin like the one above.\nSounds like you have some good ideas that many would appreciate. Feel free to ask questions and I'd love to see what you come up with!. In some of the screenshots it looks like you might need to rebuild hydrogen. You should be able to fix this with apm install from the cli inside the hydrogen folder of your dev install. \nMake sure to pull the recent changes as I was pretty active last night.\nThis is not the root cause, but just to clear that out of the way first. In the screenshot from notebook it looks like one graph is output in the end, is that what you expected from hydrogen?. > While Hydrogen is running, is each result cached locally on the client in plain text?\nYes, results are cached mainly so we can display them either inline in output \"markers\" or off in a pane in the \"output area\".\nBelow are some snippets for messing around in the devtools with outputs cached by hydrogen.\nStart a kernel and get some outputs then try these from the atom devtools console:\n```js\n// mobx has a handy utility function mobx.toJS(someObservableObject)\nvar mobx = require(atom.packages.activePackages[\"Hydrogen\"].path + \"/node_modules/mobx\")\n// If inline outputs:\nArray.from(hydrogen_store.markers.markers.values()).map(result =>mobx.toJS(result.outputStore.outputs))\n// Or if output is in the output pane:\nArray.from(hydrogen_store.markers.markers.values()).map(result =>mobx.toJS(result.outputStore.outputs))\n```\nYou will see the ouputs cached by hydrogen which are based on the response message from the kernel.. I messed this rebase up, fixing it now. The prettier update makes the diff large so I will get it out of the way now. I was trying to fix up the commit history, but I think I'm just going to squash once CI passes.. I was going to add this as a separate gitbook file, but either I can't remember how to add a page or something isn't working right. Could only edit existing pages.\nAnyway, figure we should add this and ship!. Well look at that, the build is broken. Was working fine with stale local packages, but if I fresh apm install I get:\n```\nCannot find module 'atom-jasmine3-test-runner' from '/home/path/to/hydrogen/'\nError: Cannot find module 'atom-jasmine3-test-runner' from '/home/path/to/hydrogen/'\n    at Function.module.exports [as sync] (/usr/share/atom/resources/app.asar/node_modules/resolve/lib/sync.js:42:15)\n    at AtomApplication.resolveTestRunnerPath (/usr/share/atom/resources/app.asar/src/main-process/atom-application.js:1234:37)\n    at AtomApplication.runTests (/usr/share/atom/resources/app.asar/src/main-process/atom-application.js:1151:33)\n    at AtomApplication.openWithOptions (/usr/share/atom/resources/app.asar/src/main-process/atom-application.js:231:19)\n    at optionsForWindowsToOpen.map.options (/usr/share/atom/resources/app.asar/src/main-process/atom-application.js:204:56)\n    at Array.map ()\n    at AtomApplication.launch (/usr/share/atom/resources/app.asar/src/main-process/atom-application.js:204:36)\n    at \n    at process._tickCallback (internal/process/next_tick.js:188:7)\n``. Thanks @rgbkrk for the fix! I'm thinking I'll ship tonight.. I'll give it a full fresh install and try it out before shipping. Thanks!. Once this is merged, make sure to rebase against this andapm install` on your dev installation.\nThe spawnteract updates I made were preventing zmq kernel restart from working properly. All my bad, sorry :bowing_man: . Cool thanks!. > Is there any consensus on this? If people decided it was worth it to remove .strings from disableForSelector, that would be easy and could make it into today's (?) release.\n@kylebarron I'd support this PR if you sent it over.. Hi, thanks for the PR. I don't follow what you mean, could you clarify what the issue is and how this will fix it?. Thanks @abendafb!\n\nBTW, is it isSingeLine on purpose?\n\nNo, probably not.. I took a crack at the $FlowFixMe's around the kernel types, but it felt like I was making things worse. Hoping you'll take a look @nikitakit!. Hi, sorry to leave you hanging here. It's harder for me to review styling PRs because I don't know what side effects there might be without trying it out.\nWill this change anything for hydrogen? Or just make it more friendly to other status bar elements?. Cool, thanks!. @kinglloyd001 What tipped you off that the problem is our package.json? This info may help me understand the issue you're running into. . This looks better in a plugin, (I can ship the plugin tonight with this change):\n\n. here is the plugin if you want to try it out.. I don't see hydrogen related items in the output there, except for the unrelated kernelspec config thing I've been meaning to fix \nJust to be sure, can you make sure your hydrogen settings have not disabled the status bar? This is an available setting.. Glad you got it working!. Thanks, let us know if you have questions!. @oesst Can you provide the code you are trying to run?\nIt should work with code like below, note the %%markdown line must be run with other code or you will get the UsageError: %%markdown is a cell magic, but the cell body is empty. error message.\n```python\n%%\nprint('this is a regular code cell')\n%%\n%%markdown\nthis is a markdown header 1\nthis is a markdown header 2\nthis is a markdown header 3\nhey this is markdown\nHere is a link to this issue\n``. Sounds like this is an issue with atom.io or apm, but not something wrong in ourREADME.md`. Luckily, the gitbook page is where we really want it to work. Thanks for looking into!. Last line in the error message:\n\n\"C:\\Users\\scienceyeaux\\AppData\\Local\\Continuum\\anaconda3\\envs\\sandbox\\lib\\urllib\\request.py\", line 86, in import email File \"C:\\Users\\scienceyeaux\\Documents\\Python Scripts\\email.py\", line 2, in import pandas as pd ModuleNotFoundError: No module named 'pandas'\n\nThe error you are getting is a ModuleNotFoundError which is throwing because you dont have pandas installed. I can also see pandas missing in your pip freeze output above. SInce you are using conda, try installing pandas with conda install pandas after activating the sandbox env like you did above. Then run atom . in your terminal while in the project folder you want to open.\nI'll close, but feel free to reply with questions, thanks!. >  if I execute Atom from anaconda's prompt with the 3.7 env active, I got no error\nIt sounds like you need to activate the env you want before starting up atom, whether in the anaconda prompt or another terminal like powershell or cmd. \nHow are you starting atom when not using the anaconda prompt? The best way to do this is in a terminal with the env you want activated, then cd to your project folder and run atom . . > I wonder if the GUI should be launched from anaconda prompt or if is possible to launch it without using the prompt\nAtom recommends starting from terminal.  This will make it simple to understand which environment you are launching atom in and which project/directory you want atom to open.  Plus, it is much more stylish :sunglasses:.\nIn your terminal of choice (e.g. powershell, cmd.exe, bash for windows, anaconda prompt):\nsh\ncd .\\my\\project\\folder\natom .\nSo if you want to change env, you just activate my-env and start atom again with atom .. Looking into this tonight.. We have a fix in an open PR right now and will ship today after that's merged.. Looks like a dependency upgrade broke the build, see #1406. I'm seeing if there is a quick fix now.. I've seen a few install issues like this recently. My assumption is it's windows related. I wish I had a fix in mind.\nI really encourage others with a similar error to post about it here so we can hopefully narrow down the issue. if you are able to install without issue on windows that would be useful info as well in case this could be a VPN or other network issue.. Seems like a good suggestion. Would you be interested in sending a pull request?. closed by #1421 . From your comment in #1420:\n\nIt's maybe not perfect, as not every mapping has to be manually specified. \n\nTo make this perfect we would need to add a docs section/page about language mappings and link to it in the error message! :memo: \nI think this is still an improvement. :+1: . Cool, thanks!. Hi, could you try reinstalling hydrogen? \nIf that doesn't work, try removing/deleting C:\\Users\\USER\\.atom\\.apm\\@jupyterlab\\services and reinstalling hydrogen.\nIf that just leads to another error try deleting C:\\Users\\USER\\.atom\\.apm\\ entirely and reinstalling hydrogen (.atom/.apm is just a cache directory that will rebuild as needed).. Let us know if you are stil having issues.. I totally agree this needs improvement. I'm thinking the display name key was used to be as specific as possible on which kernel should run each startup code.. @JackCaster there is definitely an issue with node gyp if it doesn't find python 2. See this issue. . Can you check your config and see if you have any startup code running for that python  kernel? The path not found error looks like it's coming from python, but a print statement like your example wouldn't throw this.. > Just guessing from the the code, I would say the button is not rendered because there's no text to be copied in the output.\nThis is correct. Here is the relevant line. Basically this.getAllText().length > 0 checks to see if there is any text to copy, there won't be any text to copy if the output is an image, for example.. Thanks for putting this together! I know you had some more goals you mentioned above, but I think it makes sense to merge now and please feel free to send over more PRs if you keep working on that (or anything else \ud83d\ude00)\nWelcome to the nteract party!. Are you still having the issue @eyun89 ? \nDoes the same issue occur with other plots? We can't see the screenshot and dont have your train.csv to try and repro.. I usually leave these because I rarely use remote kernels. Anyone think this would be a problem to merge?. Put this in your init script. Kind of an edge case in my view, but you can make a pull request if you think this should be built in to hydrogen.\njs\nfunction cancelAutoComplete() {\n  // `this` will be bound to the dom node that `hydrogen:run`\n  // was called on https://atom.io/docs/api/v1.31.2/CommandRegistry#instance-add\n  atom.commands.dispatch(this, \"autocomplete-plus:cancel\");\n}\natom.commands.add(\"atom-text-editor.autocomplete-active\", {\n  \"hydrogen:run\": cancelAutoComplete,\n  \"hydrogen:run-cell\": cancelAutoComplete\n});. I think I'd do this differently if I were building this into hydrogen, as opposed to an init script solution. \nI would probably put this line in both run() and runCell() in lib/main.js right after the if (!editor) return; line:\njs\n// https://github.com/nteract/hydrogen/issues/1452\natom.commands.dispatch(editor.element, \"autocomplete-plus:cancel\");. I'd be ok with a pull request, I'll leave it up for grabs. . Oh, and @kylebarron, there shouldn't be side effects as the dispatch will fail silently if auto complete isn't active.. Thanks @kylebarron. Btw, let me know if you want to ship a release.. > Maybe would be good to add a note to the documentation. Should that go in this PR as well?\nUp to you how to add. Definitely good to document features as we've already got a few out there undocumented.. Good catch. I think the approach is fine, my only hesitation is @n-riesco's comment.. Either way, it would be good to add a test to cover this. . Looks like you found the solution above, thanks!. I can't reproduce this with what you've provided. I did notice that you started atom with atom -d, this means you will be using a local dev copy of hydrogen if you have one linked. You can check what is linked with apm links.\nI would try reinstalling hydrogen and running atom . to start atom unless you want to use a dev package.. Looking at the stack trace closer there is a lot of hydrogen-python in there at the top. Can you try disabling hydrogen-python temporarily to see if the issue still occurs? It could be unrelated, but good to rule out.. I dont understand the question, could you elaborate?. This is coming from spawnteract's execa dependency (maybe?)\nxref https://github.com/sindresorhus/execa/issues/153. The part that is probably confusing people is that the word \"toggle\" is actually refering to the visibility of the dock holding the output area, not the \"mode\" that hydrogen is using to render output (inline vs in the dock). \nWe could either add a new command that actually toggles the output mode, or we could consider modifying the existing command to do this.. I think I agree @fredcallaway. I messed around with this some yesterday, we could change this behavior fairly easily.\nAnyone else want to weigh in on this? What do you think @lgeiger?\nIf the user has the output area open, should running the \"Toggle Output Area\" command destroy the output pane and send the next output back inline? Currently it is only hidden with this command and reopened on output.. Oh woops. Actually, I think we should just remove the example entirely. We never shipped the data-explorer as a built-in to hydrogen because it is in alpha and I didn't want to indicate that it was fully supported yet. \nI created a data-explorer plugin where I am working through the various issues with using the data-explorer within atom. Now that I mention it, I have some work to do to get an updated version of this plugin shipped as the data-explorer itself is rapidly developing.. Did you want to cut the rest of the example out before we merge?. > What happens when the output pane is hidden and toggle is called? Will the output pane receive focus or will the output switch to inline mode?\nCalling the hydrogen:toggle-output-area command in this case would flip output back to inline. You could call window:toggle-left|right|bottom-dock if you just wanted to show a dock that is hidden.. @kylebarron, I do, go for it!. This is an interesting issue. I agree with you about how it probably should work. Although, it does say \"all\" \ud83e\udd14\nI'm open to the suggestions you mentioned for fixing this. I think it may be helpful in other areas to store outputs and markers somehow so that they can be more easily tied to the editor they belong to.. > Maybe tomorrow I'll add some documentation.\nI'll add the WIP tag for now, but remove it when you are ready and we can merge.. Thanks @kylebarron!. Nice, looks like the test is correct there. Thanks for digging into that!\nOn Mon, Jan 14, 2019, 2:34 PM Kyle Barron <notifications@github.com wrote:\n\n@kylebarron commented on this pull request.\nIn spec/store/index-spec.js\nhttps://github.com/nteract/hydrogen/pull/1498#discussion_r247667439:\n\n@@ -307,13 +307,15 @@ describe(\"Store\", () => {\n       expect(store.notebook).toEqual(commutable.toJS(nb));\n     });\n\n\nxit(\"should return a fully-fledged notebook when the file isn't empty\", () => {\n\nI updated that in #1505 https://github.com/nteract/hydrogen/pull/1505\nhttps://github.com/nteract/hydrogen/pull/1505/files\n\u2014\nYou are receiving this because you modified the open/close state.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/pull/1498#discussion_r247667439, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AKW4cTzArOeAWb1cDczd9sBReTsKWjGCks5vDPf0gaJpZM4ZgvFD\n.\n. We can rebase last once we are ready to merge. Try this branch out and see if you can find anything that still needs work. I'll take another look during the week as well to see what's left.. When debugging these things from the console I import mobx in a hackish way that I will edit to add here in a few minutes. Mobx has a method mobx.toJS(someObservable) that will convert those proxy observable objects to plain js.\n\nTry running this from the atom devtools. Obviously we wouldn't use something like this in production, but it can be useful for debugging:\n``js\nmobx = require(${atom.packages.getAvailablePackagePaths().find(pkgdir => /hydrogen/i.test(pkgdir))}/node_modules/mobx`)\nmobx.toJS(someObservable)\n```. Yep, same thing basically.. @kylebarron If you want, ping me on the nteract slack sometime soon. I can show you some cool mobx features that might help or give you ideas. \nI'd also be interested in chatting more about how to keep track of editor outputs as you're suggesting and then bring our conclusions back here. . > Starting this week I'm busier, especially on the weekend. \nOh man, it's too bad I was tied up a lot the past couple weeks, I'll be around Wed night for sure!. > Is it a problem to change the function signature of getCellsForBreakpoints? I add editor to the inputs. (Especially in reference to the plugin architecture)\nI don't think there is a problem. We don't include this function as part of the plugin api. In fact, I don't think we even needed to export this from CM as it is only used in this file.. Strange, the bug must be in code-manager somewhere, or possibly commutable?. I would really trust your judgement on this, and want the import/export features to work as you have dreamed up. If you get to a point where you want to send a PR it will get merged.. Was just checking if this would merge automatically. . > Should this be automatic or should it be a config setting?\nI think you are on to something with the config setting. I'm thinking the user should probably be able to open up the raw ipynb somehow if they want.. I was thinking you'd add some conditional inside the opener function. So if it's ipynb and the config setting, then loadNotebook. Else default.\nI think most people will just ignore the config and import the ipynb anyway. I could merge this now and think about it later if you want.. I'll close since I don't think there is anything actionable here.. @kylebarron do you think this can be merged? I think so, but thought you might have a take.. >  There's still another edit in commutable I wanted, namely that parseNotebook should convert an array of lines on disk to a single string in memory (that's how nbformat does it as well) but I'm not sure I'll get to that.\nDid you open an issue on the nteract monorepo for this yet?. If you are still up ping me on slack real quick @kylebarron, I can help you get this rebased cleanly. We could do that tomorrow if you are out for the night.. > Kyle Barron [11:33 PM]\n\nRight, but I was later going to ask if there was any core reason why you can't start a kernel in an untitled editor. I figured that probably the reason for requiring a file to be saved was to get the grammar info for an editor. But if the grammar is set, why not allow a kernel without saving the file?\nBen Russert [11:33 PM]\nGreat question, back in v1.* you could do that in an untitled editor as long as grammar was set\nBut we changed some things for v2 and found it easiest to keep track of kernels based on filenames. I would be 100% open to changing this though, as I used to love starting throwaway kernels in untitled editors\nIt might be a bit of work to get that changed though, I'll see if I can find our older discussions on that\nKyle Barron [11:36 PM]\nI like keeping track of kernels based on filenames... maybe have that as the default but use a UUID in case of empty filename?\nSaving an untitled editor is really easy for the user to do, so I don't see why we should force another popup\nBen Russert [11:37 PM]\nI will find an old discussion on that, I agreed with your point at that time, but we went with the current solution\nI agree that it would be better to just allow untitled editor kernels. Let's hold off on that until at least next release though. I don't need to do the saveas thing since I agree with you\nKyle Barron [11:39 PM]\nI agree with all the above. See discussions in #1008, I don't remember all the reasons we decided not to support unsaved editors, but there were some. I'll have to read this again as well.. I knew there was some issue. \n\nI agree in theory, but there are probably some cases to handle. For example the kernel monitor component displays a real filename. Also, the store uses a filename as the key for a file-to-kernel map. An unsaved file can eventually be saved, so we need to handle the this also.\nThese are some thoughts off the top of my head. It's worth doing, but may take some significant changes to implement (this is fine if you are up for it) If you want to work on this I'm glad to help.. Thanks, I'll take a close look at this very soon. I'd be so happy if the diff is this light (looks like we need to come up with some tests though).\nSide note probably for another PR, I see the forceEditorUpdate workaround function I wrote what feels like ages ago. I wrote this hack to make this.filename update \"imperatively\" instead of using mobx properly (of course I didnt know that at the time). I probably should have just refactored the store setup a bit.. > Yes, I didn't touch the tests yet. I'm generally not confident enough yet that my solutions are the optimal solutions that I feel it's worth it to write tests before feedback!\nYou might want to try doing the opposite, write tests you think should probably pass then code until they pass locally. This way you save time reloading window or starting up hydrogen every time you want to check. \nIt can be hard to keep to this habit, but I can't recommend it enough. If you want I'll look into writing a test or two for this to help you get started.. I had originally planned this to be two PRs to keep things simple. Our store and it's tests are due for some cleanup.\nThe main thing I've done to our specs here is removed the use of the global store across different unit tests. Now each test initializes a new Store() and sets up state for that test only so that it is easier to write tests independently.. I used most of this work for #1540 and will come back to the rest later if needed. Can you try setting the logging on in the hydrogen settings? You should see some logging outputs in the devtools there if you do this and run a command?\nI see you have teletype there, is there an off chance you are in a shared session trying to run another kernel? I don't know what would happen if that's the case.. @kylebarron you can push those changes if you want and merge.. Great to have this back, thanks Kyle!. No problem, I wanted to get this merged. I figured you could make changes\nlater if I gave you any ideas you liked.\nOn Wed, Mar 6, 2019, 7:49 AM Kyle Barron notifications@github.com wrote:\n\n@BenRussert https://github.com/BenRussert Sorry I didn't see your\nquestions yesterday. I'm happy to incorporate your changes.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/pull/1547#issuecomment-470129582,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AKW4cR8DNz3kksHIg6kckJ4ukiQGr_0Dks5vT9VsgaJpZM4a86YQ\n.\n. Your language mapping needs to be in the form of { key1 : value1, key2: value2 } \n\nIt's also very possible you won't need to customize that in your config at all and you can just leave it as the default. Hydrogen will try to start a kernel based on your current atom language/grammar in your active editor.. We could just use callbacks.. > if we assign a grammar to them?\nI thought so when you said this, but it looks like we do this. \n@MichaelSchmidt82 Interested in working on this? You could start with that link above if you're interested.. > Sounds great! You'll have to excuse my ignorance, but I haven't actually contributed anything outside my own personal project. Should I just submit a PR thats a fix for #1558 then?\nYep! Please feel free to ask questions here or on slack if you prefer. If you are googling or asking around atom community for info, i'd look for something like \"syntax highlighting in a mini TextEditor\". \nPossible we aren't setting the grammar like intended when constructing the TextEditor that is the first thing I'd check.\n. Does other output work fine? What about a numpy array or something similar (without print)? What ipython version are you on?. The HTML suggestion above is a good one.\nYou can also give us more debugging info if you run, where df is that dataframe above:\n```python\nfrom IPython import get_ipython\nip = get_ipython()\nip.display_formatter.format(df)\n``\n. Also, would you want to join our nteract slack and hydrogen channel? I'm hoping to help you and sorry for the all the back and forth.. ![right click to import demo](https://user-images.githubusercontent.com/10860657/53927584-9861a280-4044-11e9-88eb-7e47dcdd6d8d.gif)\n. I'm open to either way, I just didnt want to get stuck on it until I knew it was important.. Oh yeah this is a good one. I went with the hard code because we would have needed another flow definition and in the end the entire 2 line source forgetFirstPosition` reads:\n```coffeescript\ngetFirstPosition: ->\n    new Point(0, 0)\n```. Ohhhhh!  I was more stuck on this than I'll need to go into. \nIt makes sense now, but I was trying different things to make it work (with and w/o braces). I thought my flow must be messed up. Anyway, makes perfect sense now!. Added the definition and uncommented, should support <=1.11 as before. Just the dataset line, 113 right? Left in from an example, but does not seem necessary.. The reason I did this was to avoid accidentally adding null string watches that can't be removed. We could solve this another way on a future pr though.\n. Any ideas?. Great catch here, this is fixed.. I see what you mean now, I meant that last one cant be removed. I was thinking you expected the focus to change to the add watch bar (which is a side effect of calling addWatch). We always keep one empty string watch if no other watches, but the picker should show empty if this is the only watch left. You should be able to remove empty watches other than the placeholder mentioned, see gif for examples of what I am saying:\n\n. @lgeiger I fixed this and added a comment/gif above. . Whoops.. Great idea!. I guess we could call this class KernelPicker right? Left as is to minimize diff for now.. This is the line I can't seem to get right.. You are right, I removed it with no issues.. I used flatMap because otherwise it was returning nested lists.\nI'm not opposed to any other way of doing this if you have something in mind, flatMap was just the simplest for me at the time.. Agreed, that's much better.. There is a minor bug in master and in this PR where this loading message remains even after the update below. If I alt-tab away and back the updated list renders. \nAnyone know what the cause is? I'll keep working on how to fix.. You might be right. I'll have to test without it later. My assumption was it had something to do with highlighting the selected item . I'll do some more experimenting later. I tried calling render and wrapping these lines in their own then call after the current one. Didn't try using the debug tools though, that's a good idea too.. Moving this up improves the rendering issue slightly. Instead of needing to switch tabs to refresh the screen the focus goes back to the editor and then moving the cursor refreshes the panel.\nNot a fix really, but closer and think it might give us some ideas.. @n-riesco how do I set a breakpoint within a package?. The issue I ran into was navigating the sources tab to find hydrogen or other atom packages, I couldnt seem to find them. \nI'll ping you on stack sometime with the specifics.. Heh, seems to be working fine now. That's probably what my problem was.. Lines 150-153 above are pretty much all the recent commits add, the rest is just prettier formatting.. In my other recent PR's the picker classes I used had toggle and attach methods that would do update/focus/resetting for us. I didn't add these methods this time to keep the class design similar to how it worked before, with most of the important stuff right in the constructor.. > Restart Atom for changes to take effect.\nI think you could just restart the kernel, right? . You could nest selectors in less (unless we have a reason not to). For example all the spinner styling could be done with only one :spider:\n```less\n.spinner {\n    padding: 0 0.5em 0 0.5em;\ndiv {\n  background-color: @hydrogen-inline-color;\n  height: 100%;\n  width: 2px;\n  display: inline-block;\n  margin-left: 1px;\n  animation: stretchdelay 1.2s infinite ease-in-out;\n}\n\n.rect1 {\n  margin-left: 0px;\n}\n\n.rect2 {\n  animation-delay: -1.1s;\n}\n\n.rect3 {\n  animation-delay: -1.0s;\n}\n\n.rect4 {\n  animation-delay: -0.9s;\n}\n\n.rect5 {\n  animation-delay: -0.8s;\n}\n\n}\n``. My preference would be to add backtext-align: center;to all the toolbar icons. It may just be because I'm used to it that way.. I like to have icons highlight when hovering personally.  I think toolbar icons should includebackground-color: @background-color-highlight;(We may not even need thecolor` property line above) \nHere is how that looks (icons centered as well in this example)\n\n. I get console warnings from the string properties here. If you change these to a camelCase property without quotes everything works without the warning.\nExample:\njsx\nconst inlineStyle = {\n      marginLeft: `${lineLength + 1}ch`,\n      marginTop: `-${lineHeight}px`\n    };\nThis is all I can find about why.\nWarning message:\n\n. maxWidth will work ( same issue as above). Last of the properties as strings: minHeight works. We should change the clearResults method below since this.resultView can be null. (We should flow this up, but it can wait until the PR is merged)\nThis is the current code:\n```js\n  clearResults() {\n    try {\n      this.element.removeChild(this.resultView.element);\n      this.resultView.destroy();\n    } catch (e) {\n      console.error(e);\n    }\nthis.resultView = new ResultView({ props });\nthis.element.appendChild(this.resultView.element);\n\n}\n```\nThis works better:\n```js\nclearResults() {\n    if (this.resultView != null) {\n      this.element.removeChild(this.resultView.element);\n      this.resultView.destroy();\n    }\nthis.resultView = new ResultView({ props });\nthis.element.appendChild(this.resultView.element);\n\n}\n```. Only the ZMQKernel has a connectionFile prop, so importing ZMQKernel and handling this way made flow happy.. This one blew my mind a little due to the destructuring. Appreciate if someone spot checks me here.. I think you could redefine them either way.\nI thought about suggesting that you save your hydrogen stuff outside your styles.less then import it to avoid clutter (I do this for various style then comment in/out as needed). But I left out for now for simplicity.\nSave a file of stuff in the ~/.atom/hydrogen-custom-styles.less then in your styles.less:\nless\n@import \"hydrogen-custom-styles.less\";\n. > @hydrogen-light-background: red, will Hydrogen recognize that?\nTechnically not Hydrogen doing the recognizing :smirk:, but yes this works!\nYou can do crazy stuff with less, but it is a little hard to read and hackish. Some of the nesting and grouping property values is really good, but variables are wierd. \nTo do what I do in these examples you can even go:\n```less\n@packagename: ~'.hydrogen';\n@multiline-container: ~'@{packagename} .multiline-container';\n@cell_display: ~'@{multiline-container} .cell_display';\n@{multiline-container} .toolbar .icon:hover {\n  background-color: @background-color-selected;\n}\n@{cell_display} {\n  background-color: @background-color-highlight;\n}\n``\n. Yeah, missed that sorry.. The reason I usedwas so the atom styling forclassName=\"background-message centered\"would work (it doesnt if I just wrap in a). Is it better if I wrap the ul tag in a`?\n\n. I think restart-kernel-and-re-evaluate-bubbles or refresh-all-result-bubbles are fine. I'll probably just start typing \"bubbles\"\nWhatever we go with we can just explain the specifics in the docs \ud83d\udcd6 . ideally we could do this without even adding startingKernels, but we would have to somehow give store the new kernel before the kernel is actually ready. I suppose we could promisify or something, but am eager to see what you all think.. I agree. I'll use the phrase \"we can iterate\" here \ud83d\ude04 . btw, should we add this undocumented method to our flow types?. Maybe I should just wrap this line like below instead of wrapping the function in a div tag?\n```jsx\n    return (\n      \n\n\n``. I assumed so because the same no output message below is wrapped in a div. I suppose it is unnecessary here now that I think about it.. I'm also going to flip this toconst EmptyMessage = () => .... What should be the expected behavior when runninghydrogen:connect-to-remote-kernel` with an unsaved editor? \nI figure we would use the project path? An empty string? For now just returning to avoid a flow error.. I wasn't familiar enough with the intended objects here and below to type them. Took a couple shots, but decided not to get too caught up. \nOpen to input or we could just keep these as a todo.. Yep, that's how my alt PR will work.\nThe reason for the observable was to keep the icon class in sync with whatever result would occur when clicking ( I couldnt get the icon to respond to ctrl keydown alone). It is hard to explain, and maybe not worth the trouble :laughing: . That's a great idea. I'll add that later today.. We may want to merge this line before v1.20 :grin: . The main reason tests are not passing is because flow wants you to handle cases where kernel or kernel.outputStore are undefined. \nIt should be fine if you do something like:\njs\nif (!kernel || !kernel.outputStore) return;\njust above this line.. Stream outputs, e.g. from print(), have an output.text property.  Other execution results have no text property so we will need to look for output.data mime bundles, with 'text/plain' being the lowest/plainest common denominator.\n```js\n// add up top: \nimport { toJS } from \"mobx\"; \nimport _ from \"lodash\"; \n// ...\nconst handleClick = () => {\n    if (!kernel || !kernel.outputStore) return;\n    // output should be converted to a plain js object first:\n    const output = toJS(kernel.outputStore.outputs[kernel.outputStore.index]);\n// check for a text property and fall back to data[\"text/plain\"]\n// there are other ways of doing this if you like, but for example:\nconst textOrBundle = _.has(output, \"text\")\n  ? output.text\n  : output.data[\"text/plain\"];\n\natom.clipboard.write(textOrBundle);\natom.notifications.addSuccess(\"Copied to clipboard\");\n\n};\n```. Minor thing :smile: \nSince we are using the same style, why not put this into a variable right below EmptyMessage up top:\n```js\nconst buttonStyle = {\n  flex: \"0 0 auto\",\n  width: \"fit-content\"\n};\n// then in the component:\nstyle={buttonStyle}\n```. Whoops, that's not what this does!\nI might just do the cell part for now and coming back to this part later.. I tried making this an observer to see if it would fix the editor input text issue. It did not help, but I left it based on this. I did this so that I could use watches.clear in remove all. I was under the impression @observable would make this an IObservableArray anyway, but flow doesnt think so. If anyone could explain the difference I would be \ud83d\ude47 .. To see the rendering issue i've referred to, start two different kernels and add some watches to each. If you tab back and forth you will see this text not update properly. \nI'll open a separate issue about this since the underlying problem is in master as well.. :point_up: you can check if you caught the flow errors locally by running npm run flow from the root of your hydrogen project directory.\n@rgbkrk I was thinking you could just move handleClick into the outputArea observer function, then add:\njs\n  const handleClick = () => {\n    if (!kernel || !kernel.outputStore) return;\nto satisfy flow?\n. Since you could get a No kernel specs found message for a number of reasons, what do you think about changing this to:\n```\nSetting environment variables on Windows\n``\nor something to that effect?\n . I think we should leave this line out, since it should be covered on the installation page, we want to focus on the environment variables issue here :smile: . I had some error without it (not consistently). I've been testing this just now and have not had any issues without thetoJScall :smile: . The two ideas I have for this are: @param {Function} Callback(?kernel)or @param {Function} Callback(kernel|null)`\nmarkdox doesnt seem to like whitespace, this is what the generated markdown looks like with the first option:\n\n. I actually meant to put from < to, meaning that it should only react when store.runningKernels.size increases. So the question is why this worked, the partial answer is it is running any time time the length changes at all.\nI'll keep messing around with this to figure it out.. I hadnt seen that issue, but was pretty certain that was the case since the examples seem to assume that all your params will be strings.\nI have a couple ideas for this PR next chance I get. If I cant do it simply I may close this, but will still do a separate PR to fix the docs if that is the case.\n. This editor argument is just dead code I left in by mistake in an earlier PR.. I'm hoping there is a way to handle unsaved editors? (This is how I use hydrogen most of the time, almost like a console to quickly try something without saving it\ud83d\ude01 )\nDid you consider using the editor id? This would handle filename changes as well.. We should add a way to handle file renames. If we dont, a rename will put a kernel in limbo.\nThere is an onDidChangePath subscription in the atom api. I think we could use that to call an action here similar to how the editor is updated.. After this is merged, I can come back and :fire: this startingKernels hack. Having a file identifier in the store as we do now is a much cleaner way to prevent the same editor from starting duplicate kernels. . > As long as we also show the name of the file when it is named, so user's know which are which. I hate looking at a pile of UUIDs.\n@rgbkrk Does this mean I can't count on you subscribing to my new podcast where I talk about all the hot new trending UUID's?. Not really related to this PR, but what is Session.startNew(sessionInfo.options).then(this.onSessionChosen.bind(this)); supposed to do here? . Oh, ok thanks. So startNew returns a session and then onSessionChosen is called with that session.. I tested this out in a multi-kernel .md file and had some issues. this.kernelMapping.merge is overwriting the filename key instead of adding a grammar key (unless that is intended?).. Will the keys here always be unique? I'm thinking multi kernel files will cause dups.. The string argument here is a \"debug name\" that will appear in the log when the reaction fires (only in dev mode when mobx-react-devtools enabled. . The show part should be last so it opens if not already opened, then shows the dock workout focusing it. I'll rebase this PR later.. With the last commit we don't need to. Originally it was so that if you toggle open the output pane the setting would turn on.. Just for consistency, I'd use store.editor as well. Oh wait, actually you won't need that either if using filePath. This should be observe instead of onDidChange so it initializes. I forgot to push that change, will do so later.. I don't know why the component needs to be created within the it block instead of in the beforeAll block where all the other setup is done, but it does.. > Wouldn't you want to have anser still strip any ansi colored text or codes out?\nI intended to do this here, but come to think of it this only needs to be done for the error case so it fits better up in the getOutputText function. Changed this, please squash!. This hunk does not need to be merged since it is just for dev testing right?. You could add an @param docstring here to document that this takes a Middleware object. \nWe will also need to document somewhere the Middleware object api users are supposed to provide. Maybe this deserves it's own gitbook page? I wonder if you have thoughts on this?. Out of curiosity, is there an advantage to the double negative here?. This mode won't change while hydrogen is activated. I was afraid live updating would cause too many problems and most people will keep this one or the other most of the time anyway. Jasmine was failing when I originally used simple k.grammar === this.grammar this made it work.. Files with an associated kernel still need to be tracked in kernelMapping for things like Kernel Monitor view. This ensures all editors with kernels associated are tracked.. See https://github.com/nteract/nteract/issues/3113. Since you have discovered a bug that allows undefined values to sneak in, we should change this text: string to a  flow maybe type, which looks like this: text: ?string. \nThe  ?string type will tip flow off that it is possible for the argument text to be undefined. Then flow will warn us that we need to handle the case where text === undefined.. @hpierce1102 did you want to take a crack at using Jasmine spies here?. Whoops, that would have been bad.. suggestion\nconst startRow = range.start.row > 0 ? range.start.row - 1: 0;\nThis suggestion should work, but there are a few ways to handle the following line:\njs\nconst startWidth = editor.lineTextForBufferRow(startRow).length;\nWe don't want to throw an error if startRow - 1 is less than 0.. You could go:\nnew Range(new Point(startRow, Infinity), new Point(endRow, Infinity));\nthen drop the need for startWidth . Alternatively:\nscreenRowsExpected.forEach((rowText, rowIndex) => {\n            expect(editor.lineTextForScreenRow(rowIndex).trim()).toEqual(\n              rowText\n            );\n          });. I was going to say you need to handle encoding here and pass data as a string instead of bytes, but then I tried it and it turns out JSON.parse can take a node buffer, which means commutable can too unless something changes. \nOur node and commutable types in the nteract monorepo don't know about this though, so we should keep that in mind if there is ever an issue. . For best practice, use let instead of var here.. I really like that you implemented this in its own file and imported into main. This improves organization, avoids merge conflicts from unrelated PRs, and makes testing easier to name a few benefits.. Definitely meant to \ud83d\ude02. This was marked as expect fail intentionally because the error didn't make sense and we didn't want to hold up ci.. You seem to have discovered why it was failing and made it pass, though It looks like we are testing that there is an empty cell at the top now, which seems like a bug. I know you pointed this out before, is it something to fix?. What about linking to the docs and mentioning that Hydrogen has to be active. Something like:\n\"If enabled, opening a file with extension .ipynb will import the notebook file's source into a new tab. If disabled, or if the Hydrogen package is not activated, the raw file will open in Atom as normal.\". What do you think about moving this to .\\import-notebook.js and importing? That way main.js stays cleaner, import notebook logic is isolated ( e.g. loadNotebook stays \"private\" to importNotebook to avoid confusion/ambiguity) \nThis will make it easier to enhance the opener or import logic down the line if we want and it can be unit tested independently of main.\njs\n// import up top becomes:\nimport { importNotebook, ipynbOpener } from \"./import-notebook\";\n// ...\n// then this chunk becomes\nstore.subscriptions.add(atom.workspace.addOpener(ipynbOpener));\nSide note: loadNotebook is exported only to unit test easier (by skipping over the electron open dialog). We probably should have used the _ prefix convention and named it _loadNotebook initially to indicate that.. we can remove this import as well (see below);. I think there is a way to do something minor with a package like adding an opener without activating the package. We can look into it and add in another PR if you want that behavior, I'd ask in the atom slack or http://discuss.atom.io.. Invisible comment \ud83e\uddd9\u200d\u2642\ufe0f. We can remove it with magic.. Nope, good catch. We could drop the line above or use the variable name.. Is flow ok with this? What if editor is null? \ud83d\udca5\nI think the solution is to hide the markermap detail in the store like we do kernelmapping. Do a null check there once in the getter, then store.marker is fine. I think you would just want to change this to store.markersMapping.clear, and then above to spyOn(store.markersMapping, \"clear\");. Oh, I see what you mean. You can set up a markerMapping just like we did for runningKernels a few lines above this.. Is it important that we return null for this if nothing really applies? We could consider returning a new MarkerStore() rather than null where it applies. That way you can call markers.clear() freely without all the checking, and we'd still just rely on the editor and kernel for that type of state as usual.\nI could be wrong about this way being cleaner, so just a thought.. I think you should just move this logic into the updateEditor action. since it's not that important of an action as long as it keeps state in sync. Then, every time editor is updated you could go:\n```js\n@action\n  updateEditor(editor: ?atom$TextEditor) {\n// ....\nconst markers = this.markersMapping.get(editor.id);\nif(!markers && editor && kernel){\n  this.markersMapping.set(editorId, new MarkerStore());\n}\n```\nThe reason I thought of this is that the computed markers function above is the place I am seeing this used, but ideally we have no side-effects in a calculated function.. ",
    "Carreau": "you might want to have a look at user_expression, they are side execution request that can be inserted by the client that are excuted befor (or after?) user code, do not appear in history and are ment to convey side information to the frontend.\nYou can for example, ask for a list of variable to be sent back after each execution, as a json objet. \nTypically that's how the qtconsole display the list of availlable magics in a menu. it requets a ls_magic --json as a user_expression, and use the result to populate the menu.\n. I completely understand, and that's typically the kind of things that are underdocumented. \nThis is one of the reason we asked for some funding to ba able get the principal kernel and frontends authors in the same room for a couple of day and figure out theses things. \n. > I also cannot recommend strongly enough having some certification or automatic suite of tests for kernels. 75% of the kernels I've seen (from e.g. https://github.com/ipython/ipython/wiki/IPython-kernels-for-other-languages) are broken, incomplete, or not to spec in one respect or another, and many of them don't even work with the notebook frontend.\nWe are working on that : \nhttps://github.com/jupyter/jupyter_kernel_test\nStill a question fo documentation on how to run it. \nSometime it is also difficult to express all the test. \nlike adding 1 and one can be 1+1, (+ 1 1) or +(1,1) which make some test tricky. \nBut we should at least be able to test the protocol in some area. \n. There is work on that too, a main page that list the kernels and their features. Having auto-testing kernels features to put badges was considered. \nhttps://github.com/jupyter/jupyter.github.io/pull/7\n. You can execute %colors nocolor IIRC to deactivate that live. \nOne of the things we should do anyway in IPtyhon itself is to transform the error into a mimebundle, so that you can grab the html/text/ansi as you wish.\n. Great, no problems. \nFeel free to give us feedback if you feel that some things are not well described/wrong.\n. > One thing I noticed while testing is that the new completions are noticable slower than before, though speed improves a bit with time once the jedi cache gets populated.\nYes, we had a couple of complaint about that. I need to find some time to work on jedi. . I believe the cache is based on the hash of the files content. I'm unsure if it deletes the cache, but at least it won't give outdated result.. > IPython master\nTechnically IPython stable and IPykernel master.. One other possibility is to have the signature be \"display:none\" except when selected by the cursor.\n - 1: \ud83d\ude10 \n - 2: \ud83d\ude10 \n - 3: :+1:\n  - 4: :-1:\n. The other thing I want to develop is an Error mimetype which is structured and can be collapsed by the frontend.. Thanks !. ",
    "lgeiger": "\nHTML results should also have the same close/new pane buttons as text ones if they only contain text.\n\nI can give it a shot.\n\nBubbles which only contain text (regardless of formatting) should have a multiline-result style bubble (pictured below) if they're larger than a single line, and should fit inline with no close button if they're small.\n\nThis is the current behavior, isn't it?\n. I'll soon make a PR!\n. \ud83d\udc4d For using kernelspecs!\nThough at the moment it doesn't detect the default python installation so users need to run python -m ipykernel install --user so it can be detected.\nI'm wondering if the easiest thing would be, if kernelspecs ran python -m ipykernel install --user if it can't detect a python kernel and then rerun current detection method.. > We could bring the default python detection to kernelspecs though, which is currently buried away in old PRs of mine on nteract/nteract that I've closed.\nAhh sure I forgot!\nFor reference: https://github.com/nteract/nteract/pull/1384. Atom now has a file watching API. Since we're now using kernelspecs we could easily watch the directories returned by jupyter-paths for changes and update the kernels.\nI'd be very happy if someone is interested in implementing this.. See #138\n. Thanks for bringing up this discussion \ud83c\udf89 \nI think this could be a very powerful feature. I haven't thought long about this so take my following suggestions with a grain of salt. It's just a first draft \ud83d\ude04 \nFor this to be transparent to the user I propose the introduction of sessions:\n- Each session holds one instance of a running kernel (remote or local)\n- Multiple files can be \"connected\" to the same session\n- Hydrogen should be able to keep reference to which file belongs to which session (which may be be tricky if the file is renamed).\n- If a user want's to run commands and no kernel is running for the language, a new session and kernel are started\n- If there's a running kernel for the desired language (started from a other file) the user get's prompted if he wants to start a new session or wants connect to a running session.\n- I would save the case of multiple kernels for the same file for later.\nThis approach would mix remote kernels and ZMQ kernels but I think that's a good thing.\nBasically what I suggest is having a high level way of managing multiple different kernels with different interfaces and clients. Maybe we could build something on top of https://github.com/nteract/enchannel.. This is one of our oldest open issues and I think it's finally time to tackle it.\nHere're my ideas on how we could handle this in way that hopefully is very flexible yet doesn't sacrifice ease-of-use. The proposed workflow mixes both local and remote kernels in order to be less confusing and easier to use:\nEvery time the user switches to a new tab and wants to execute some code, he gets prompted if he likes to connect to a running/existing kernel or a remote kernel or if he likes to start a new local kernel.\nInternally the kernels are stored together with the file paths related to them, so they can be reused. Multiple files can be connect to the same kernel but one file is connected to at most one kernel. \nI've roughly sketched how the UI (mainly the popup panels) may look like to get a idea on how this would feel:\n\nKernels are never killed if the user closes a editor tab so they can be reused later. Therefore we either need a command to shutdown specific kernels or a UI that lists all running kernels and the possibility to shut them down individually, similar to how the notebook does it:\n\nRight now remote kernels also implement a concept of session which for my understanding would become redundant and make things overly complicated for users if we handle multiple kernels internally. I think if we want to go this route we should remove the concept of additional remote sessions. @nikitakit I could really need some help and feedback for this since you're the expert for remote kernels \ud83d\ude04\nWhat do you think about this workflow? Would this be a welcome improvement or would it make things just more complicated?. Closed via #364 \n. @n-riesco if you remove this line the result should be displayed. But of course the styling will be totally messed up.\n. https://github.com/nteract/hydrogen/pull/193\n. Great work @nikitakit!\nDo you want to add a link to this package to our readme? After that I think we're good to go and make a new release so people can try it out.. See https://github.com/nteract/hydrogen/pull/175\n. This problem was fixed in Atom.\n. https://github.com/nteract/hydrogen/pull/164\n. There is nobody actively working towards supporting notebook files in Hydrogen since focus on that end has mostly shifted towards nteract.\nThat said if you or somebody else are interested in implementing notebook support we're really happy to include this in Hydrogen.\nWe have exported a lot of nteract components as npm packages which can be used as the building blocks for this feature.. This issue was fixed in Atom v1.8.0.\n. I use autocomplete-python for code completion. Because it supports rich completions like displaying docstrings and metadata.\nBut in use together with hydrogen I get completions from both autocomplete-python and hydrogen.\n\nIt would be nice to have the option to deactivate hydrogens autocompletion in the settings.\nBy the way I'm really looking forward to seeing this ideas implemented: https://github.com/jupyter/jupyter_client/issues/51. It would improve hydrogens own autocompletion a lot.\n. Oh really? I just checked and can't reproduce this.\n. I should have read the issue more carefully. No, I only have python, root and ijavascript installed.\n. @n-riesco Thanks for the great explanation and testing!\nI think we can close this as resolved \ud83d\udc4d \n@tpoisot Feel free to reopen if you still have issues.. I'm having the same issue.\nThis is an atom bug in the new version: https://github.com/atom/atom/issues/8837\n. https://github.com/nteract/hydrogen/pull/165\n. @jlowin Since we still rely heavily  on Atom's folding. You could open a issue for this at atom/language-python.\n. Great!\n. Thanks for the response.\nI think I know where the Problem is coming from:\nI have the latest version of Jupyter installed.\nIf I run time ipython kernelspec list --json I get the following warning:\n[TerminalIPythonApp] WARNING | Subcommand `ipython kernelspec` is deprecated and will be removed in future versions.\n[TerminalIPythonApp] WARNING | You likely want to use `jupyter kernelspec`... continue in 5 sec. Press Ctrl-C to quit now.\nThe time is real 0m5.345s. Notice the 5 second delay.\nIf I run time jupyter kernelspec list --json everythin is fine. The time here is real 0m0.331s.\n. This is great. I'm excited to see Hydrogen evolve.\nBut I'm lacking the knowledge in JavaScript or CoffeeScript to help you maintain Hydrogen. If there are some easy thing I can fix, I'll make a PR.\n. @schlichtanders @m-guggenmos In version v0.13.0 we added a command to copy the path to the connection file. In order to allow connecting to the same kernel via jupyter console --existing <path to connectionfile>.\n. @schlichtanders @m-guggenmos @CYHSM I created a new package called hydrogen-launcher which allows can spawn a new terminal with a jupyter console or qtconsole connected to the current running Hydrogen kernel.\n. @rgbkrk I would like to help you maintain this package.\nHowever, these PRs are the first lines of Coffeescript/Javascript I've written so far. But I hope I can contribute some tweaks here and there ;)\n. I can reproduce this problem. In the meantime you can add\n.bottom{\n    z-index: 4;\n}\nto your stylesheet to fix this issue.\n. My bad, I'll create an separat PR tomorrow.\n. > Would be great if you add command for copying result too.\nI don't know what you mean?\n\nI ask you too invent some interface for this #143 \n\nI'll take a look at this.\nBut I must say I quite like the scrollbar history ;)\n. For me the scrollbar is fine. The only issue is that on Mac the default is that scrollbars don't show when you work with a trackpad. Do you know if there is an option in Atom to force the scrollbars?\nIn the future I'll split my PR in a more logical way and don't try to squash everything in one. Sorry :)\n@slavaGanzin About C++: I work with ROOT they have a Jupyter Kernel and it works quite well.\n. I tried again with the latest version of Hydrogen and it works now with the python kernel. That wasn't the case with version 0.6.5.\nThe only problem is, python modules wich are not installed in the standard directory are not detected by hydrogen. Is there any way of telling hydrogen where to find them?\n. I can put the path to the external python module in my init script and everything works as expected:\nprocess.env.PYTHONPATH = ['/usr/local/opt/root6/lib/root', process.env.PYTHONPATH].join(':')\nIs there an easy language independent way to tell hydrogen where to find external packages in the settings?\nIf this is some special use case wich would be hard to include in hydrogen feel free to close this issue.\n. @n-riesco I don't know. I can't test on Windows.\n. I have this problem just with one python module which wasn't installed via pip and isn't located in the default python directory. So maybe this isn't hydrogens fault but rather the package itself.\n. Yeah my description wasn't clear at all:\nI have python and all my modules installed via pip in the default location. So far Hydrogen works as expected. There is no difference if Hydrogen is started from the terminal or as an app.\nNow to my problem:\nI have one python module which is installed as part of an software package (https://root.cern.ch/pyroot) in a different directory. The installation sets the PYTHONPATH variable so that python is able to find it.\nIf Atom is started from the command line, it sees the PYTHONPATH variable and I can import the module.\nIf Atom is started as an app, it doesn't see the PYTHONPATH and cannot import this module. I can manually set the path in the init file with process.env.PYTHONPATH = ['/usr/local/opt/root6/lib/root', process.env.PYTHONPATH].join(':') and then Hydrogen works fine again.\nFor me this isn't a big issue anymore, because I only have one module installed in a non default directory. But it would be nice if it can be fixed for people who don't like messing with their init file.\n. @Ben-Gillman In Hydrogen 1.0 we changed the installation method so this issue isn't relevant anymore.\nWhat happens if you install Hydrogen with  apm install hydrogen?\n. Just copying the hydrogen folder won't install all the dependencies.\nI would try install the dev version as described here. But I'm not sure if this works inside a proxy.\n. Thanks for the feedback.\nI thought about that too.\nThe problem with the scrollbar for me is that it won't appear on Mac OS because by default scrollbars are hidden on Mac OS. And I don't know how to force show them.\nWould an additional skip to start/end button do the trick? \n. OK, I understand. So something like alt-clicking on the button for skipping 10 results at a time wouldn't work to.\nI try adding the scrollbar behind the counter.\n\nAnd previous scrollbar too?\n\nYes.\n. I added the scrollbar again.\n\n. \nIt now also works on Mac OS.\n. Nice! I hope it works on Windows and Linux as well.\n. @slavaGanzin Stackoverflow to the rescue. Just one line CSS ;)\nI didn't know this is possible.\n. I'll make an easy to merge PR.\n. > use ansi to html\nYes. I tried to convert it to html but it didn't work at first try. So I went with stripping the colors for now ;)\n. Sorry for the messy commits.\nThis causes the overlay issue: https://github.com/nteract/hydrogen/blob/master/styles/hydrogen.less#L11\nSee: https://github.com/nteract/hydrogen/issues/48\nI'll give the autocomplete-plus overlays an higher z-index. \n. @n-riesco I checked with that issue. z-index: 5 works fine for me.\n. Oh I think this is a general issue. On master there is the same behavior if a editor panel is split down.\n@n-riesco I'm not familiar with the styling either, but I think this would be the only option.\n. @n-riesco I solved the overlay issue by including\natom-text-editor {\n    z-index: 0;\n}\nBut this messes with other packages like autocomlete-plus. They now also slide behind the pane:\n\nIf that's no problem I can make a PR.\n. Oh something went wrong with my rebase. I try to resole this.\n. Merge conflicts should be resolved now.\n. 1. addressed in #194 \n2. I try to figure out a way to do this\n3. I didn't thought about this. For me it would make sense to have a kernel specific startup code.\nThanks for the detailed review!\n. The easiest thing for me to do is moving it to startKernel in kernel-manager.coffee. It would reduce the code to just four lines. I'll just have to do some testing.\n. Can we use use the kernelInfo.display_name instead of kernelInfo.language to achieve point 3?\nI don't have multiple kernels for the same language so I can't test.\n. @n-riesco can you test it? I don't have multiple kernels for the same language installed.\n. That would be great. But I don't know if this is possible.\n. I tried it but couldn't get a filter based on the user's theme to work.\n. If your editor grammar is set to MagicPython instead of Python, hydrogen is searching for a kernel named magicpython rather than python. You can check this setting at the lower right corner of Atom.\nEither change the grammar of your editor to Python or if you like to keep the syntax highlighting of MagicPython add {\"MagicPython\": \"python\"} to Language Mappings in the Hydrogen settings.\n. I reproduced this issue.\nIf you add {\"python\": \"magicpython\"} to your language mappings everything should work fine.\nThis setting is usually used to map a kernel language name to atom's grammar name. Since MagicPython changes atom's grammar name this setting has to be applied the other way round.\nYou can also use the kernel mapping setting instead. Just add {\"magicpython\": \"Python 2\"} there.\n. Awesome! \ud83c\udf89 \n. Great!\nUnfortunately some hydrogen features aren't working for me with this PR:\n- svg plots aren't showing up. Just the close button is displayed.\n- ansi colors aren't rendered.\n- error notifications aren't showing up.\n- output font is much bigger than before.\nnew:\n\nbefore:\n\n. > the dependencies section should specify what versions (Atom. Node, IPython, Jupyter, ZMQ) are required.\nNode is just a development dependency, isn't it? I remember using hydrogen in the past without a separate Node installation on my system. Or am I wrong?\n. Awesome!\nThis isn't working for me in Atom 1.6.0\n```\n%matplotlib inline\n%config InlineBackend.figure_format = 'svg'\nimport matplotlib.pyplot as plt\nimport numpy as np\nt = np.arange(0.0, 2.0, 0.01)\ns = np.sin(2 * np.pi*  t)\nplt.plot(t, s)\nplt.show()\n``\n. Hmm I can't find an IO message withprefix\"display_data\"`:\n\n. Side note:\nDo you think we can move the checkmarks inline despite being block decorations?\n. looks good to me :+1: \n. You don't have to bring it back for me. I just noticed it and thought some error prevents it from being displayed.\nThe error in the result bubble is enough.\n. for me they are now displayed like this:\n\nActually I override the ansi colors with red. Because they don't really fit in with the syntax color:\n\nBut you're right if the kernel output is just plain text it would appear completly white.\n. I could add an red border to make it clear.\n. Thats because transformime.TextTransform doesn't handle ansi color codes.\nI would propose replacing the text transformer with a combination of TextTransformand consoleTextTransform. This works for me in Hydrogen:\n```\nConvert = require 'ansi-to-html'\nhasAnsi = require 'has-ansi'\nTextTransform = (mimetype, data, document) ->\n    if hasAnsi(data) is true\n        convert = new Convert\n            escapeXML: true\n            newLine: true\n        el = document.createElement('pre')\n        el.innerHTML = convert.toHtml(data)\n        return el\n    else\n        el = document.createElement('pre')\n        el.textContent = data\n        return el\nTextTransform.mimetype = ['text/plain']\n```\nOr we remove the hasAnsi check and simply render all text/plain messages as jupyter/console-text.\n. - All text is rendered with Jupyter.consoleTextTransform\n- Errors are displayed like before.\n\n. I don't have a Javascript kernel on my system so I can't test your code.\nWith python and hydrogen I get with this code the above seen output:\n```\nfrom future import print_function\nESC = '\\x1b['\nRESET = ESC + \"00m\"\nfor bg in range(40,48):\n    for fg in range(30,38):\n        print (\"{ESC}01;{bg};{fg}mtext {RESET}\".format(**locals()), end='')\n    print ()\n```\n. The flickering will be gone in the next release (https://github.com/nteract/hydrogen/pull/207).\nThough some suggestions will appear twice. If you don't want duplicated suggestions and still want to use autocomplete-python you can deactivate hydrogen's autocompletion in the settings.\n. \n. @rgbkrk There are just some minor inconsistencies but nothing major. If you like you can merge and I fix these in a future PR.\n@n-riesco It's the negative margin-top in combination with float: left. I just played around with the values until it worked ;).\n. I just noticed a little problem with the watches panel. It'll be ready in a few minutes ;)\n. I'm  good with merging it!\nYou are right. At the time I removed the [WIP] I thought it was ready. :laughing:\nThough there is still a slight inconsistency between scrolling and non scrolling multiline results but you have to really look for it to see it.\n. @n-riesco The SVG output looks good to me.\n. @n-riesco no problem. Thanks for the testing.\n. Thanks I forgot about that :+1: \n. I noticed it and was bored during a long train ride  today :D\n. @n-riesco I thought about remapping the ansi colors to more subtle ones:\nspan[style=\"color:#A00\"] {\n    color: @error-base-color !important;\n}\nOr is there a better way of doing this?\n. Thanks for the links. Color schemes handled by the kernel would be great.\nThis is actually no kernel specific code I added. I remapped the colors from the transformime output respectively ansi-to-html.\nBut I agree it would be hard to maintain this code if transfomime changes ever so slightly.\nI'll remove my last commit.\n. Great! :+1: \n. I think that's because 0.8.0 was released before the readme update. It should update with the next release.\n. @rgbkrk What did you use to make this gif? My gifs always look ugly.\n. Thanks I'll try it immediately.\n. Looks good to me :+1: \n. Exactly!\n. > C-enter (Run)\n\nS-enter (Run-and-move-down) We could use A for the corresponding cell versions:\nA-C-enter (Run-cell)\nA-S-enter (Run-cell-and-move-down)\nS-C-A-enter (Run-all)\n\nThis is a great Idea!\nI would suggest using S-backspace for removing the latest break point and S-A-backspace for removing all break points if that's not to much.\n. What do you think about including this in the next minor release and change the key-bindings not until 1.0.0?\n. This PR is sitting here for a while now. How do we proceed with this?\nThe only point left are new keybindings for 1.0.0 but this has nothing to do with this functionality of this PR. \nI would suggest we merge and add the keybindings later. What do you think?\n. I think it's an issue related to the line height.\nI'll take a closer look at this tomorrow. In the meantime it should help setting the line height to the default value (I think it's 1.5).\n. Closing in favor of #760. Weird. Does it work now?\n. Great!\n. LGTM. But I couldn't really test it because I can't get transformime to fail :smiley: \n. >  Well, you still could test whether the PR doesn't break Hydrogen when transformime works! :p\nWorks like a charm! :smile: \n. Thanks for taking a look.\nI can't reproduce this. I always get the second output no matter how many times I try.\n. Strangely enough this doesn't happen on my machine.\n. Does it happen when you add back the previousText check at line 111 like this?\n```\npreviousText = @getAllText()\ncontainer.appendChild htmlElement\nif mimeType is 'text/plain'\n    text = @getAllText()\n    if previousText is '' and text.length < 50 and text.indexOf('\\n')\n``\n. It should work now.\n. OK I'll revert my changes except those directly related to #26.\n. All right, back to the basics :wink: \n. Yes, the avatar was overdue. :smile: \n. Are you using atom version 1.6.0?\n. You can try this: https://github.com/nteract/hydrogen/issues/59#issuecomment-194279876\n. What worked for me in the past is removing the~/.atom/compile-cacheand~/.atom/blob-storefolders and doingapm install hydrogen`\n. I'm glad to hear that it's working now!\n@n-riesco Since you are working with linux, do you have an idea about why the normal installation is failing?\n. > I will investigate this issue (but most likely not tomorrow).\nAwesome! There's no rush :smile: \n. This is likely a issue with apm since it should download the newest version of zmq.\n. I had to try out my new gif tool :wink: \n:+1: for a patch release!\n. Wuhu 15000+ Downloads! :tada: \n\n. Thanks for your feedback! I addressed the scaling issue in #242.\nI'm afraid we can't do anything against the wrap-guide issue. We intentionally chose to move away from displaying the results as overlays because of #48.\nYou can make the wrap-guide a bit more subtle by modifying your custom stylesheet like this:\natom-text-editor::shadow .wrap-guide {\n  background-color: yourcustomcolor;\n}\n. It will be included in the next update and will be the default behavior.\n. Yes you're right design should follow function. Two more suggestions:\n1. similar to old close button:\n\n2. similar to action-panel:\n\n. OK lets go with number 1\n. @n-riesco yes\n. I'm running Atom 1.6.0 and I don't have this issue.\nBut on my system this setting gets populated by hydrogen. Maybe that has something to do with it.\n. The issue is quite old so things might have changed.\nLet's start debugging from a clean state:\n\nI copied and pasted the kernel specs default example into the kernel specs field which didn't solve the problem.\n\nThis shouldn't be necessary, please remove this for now and run (\"Hydrogen: Update Kernels\") so we can be sure that this setting doesn't interfere \ud83d\ude04\n\nInstall jupyter with pip install jupyter or conda depending on your setup.\nCould you post the exact error you get?\nCould you post the output of jupyter kernelspec list --json?. This doesn't look likas a problem with Hydrogen itself.\nSince jupyter kernelspec list cannot find the ruby kernel, it looks like you didn't install it properly.\n\nTake a look at https://github.com/SciRuby/iruby#quick-start on how to install the ruby kernel.. @andrewbanchich You'll need to have a kernel installed for the language you want to run (In your case e.g. IJavascript). Check out the installation guide.. Closed via #364 \n. Which language are you using?\nFor example in python with matplotlib you can do this very easily with plt.savefig('example.pdf')\n. > I mentioned this here: I'm planning to get rid of the intermediate result object, so that most _parse* methods will become unnecessary and we will be able to implement this kind of hacks without touching kernel.coffee.\nGreat! :tada: \n. I added a new Markdown Transformer using marked.\nThis is the same parser which jupyter-notebook is using. It supports github flavored markdown and tables.\n@rgbkrk Is this something you would like to see intransformime?\n. > A simpler thing to do is to create yet another repo just for the marked transform, much like how the commonmark one stands alone.\nI'll do that! I hope I'll find time for that next week.\n. @rgbkrk I have a transformime-commonmark ripoff using marked working locally. I can push it to nteract now.\nHow do you handle the npm publishing?\n. @rgbkrk I've pushed it to tranformime-marked.\n. Now tranformime-marked is used instead of transformime-commonmark.\n. Works for me :+1: \n. Adjusting the figure size in matplotlib is done using plt.figure(figsize=(w, h)). Though if the figure is to big it will be scaled down to fit (https://github.com/nteract/hydrogen/issues/240).\nPlease try if it works for you:\n```\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport numpy as np\nt = np.linspace(0, 10, 500)\ns = np.sin(t)\nplt.figure(figsize=(8, 6))\nplt.plot(t, s)\nplt.show()\n``\n. I agree. A cleanup ofhydrogen.less` is much needed!\n. @BenRussert That's a excellent idea!\nI would also love to have support for different themes, though I haven't looked at how we can do this in Atom.. Done \ud83c\udf89 \napm publish patch\nPreparing and tagging a new version \u2713\nPushing v0.8.4 tag \u2713\nPublishing Hydrogen@v0.8.4 \u2713\n. This is a good idea! \ud83d\udc4d \n. Try the language mapping the other way around: {\"scala211\" : \"scala\"}\n. Thanks a lot for cleaning this up!\nThe Select Watch Kernel command isn't working for me. The kernel names don't appear in the list.\n. It works \ud83d\udc4d \n@n-riesco I completely agree with you, a test suite would be great!\n. I didn't test it with multiple kernels for the same language but that should be fine too.\nSo \ud83d\udc4d for merging.\n. I can cut a release by tomorrow morning. (I'm on the go)\n. https://github.com/nteract/hydrogen/releases/tag/v0.9.0 \ud83c\udf89 \n. Great! Thanks for testing \ud83d\udc4d \n. Good points!\nI made a new one.\n. Take a look at #305 \n. \ud83d\udc4d  for a patch release.\n. Thanks for your great feedback! I'll have a look at the restart command next week.\nThat said, IPython magics work in jupyter as well. There are several options you can use to achieve auto reloading of the imported modules:\n- add these lines to your python file or to your startup code in the hydrogen setting (http://ipython.readthedocs.io/en/stable/config/extensions/autoreload.html):\n%load_ext autoreload\n%autoreload 2\n- or add this to your ipython_config file (http://ipython.readthedocs.io/en/stable/config/intro.html):\nc.InteractiveShellApp.exec_lines = ['%autoreload 2']\nc.InteractiveShellApp.extensions = ['autoreload']\n. Looks good to me \ud83d\udc4d \n. > Having a way to map from grammar to a kernel certainly needs to exist. How the settings are stored and dealt with should rely on Atom APIs for settings as much as possible.\nI agree. However I never used this setting so I don't feel strongly about this. \n. Just a question at the beginning:\nDo we need the kernelSpec setting if we make jupyter a dependency? This would simplify the code a lot and would make bullet point 1 very easy to achieve plus it is easy to install with pip/conda install jupyter and ipython kernel install on every system and easier than editing json. For my understanding this setting is here for useres who have an old ipython version, or am I missing something?\n1. I would support the move to kernelspecs.\n2. If we need the kernelSpec setting, I would prefer the proposed option.\n3. I'm a bit confused with these settings and I think I'm not the only one. I would appreciate a merge of them if possible, so we can directly map kernel language names to kernel display names (eg. {'somestrangekernelname': 'Python 3'}). @slavaGanzin Somewhere you explained how you use them, but I couldn't find the issue, would your workflow work with this option?\n4. I prefer the current option, because it's easier for new users. But I understand why the proposed option can be useful. I think the best way is a new setting to give the advanced user a choice.\n. @rgbkrk Actually I've set up Travis for hydrogen a while ago but I didn't had time to write specs.\nI can take a look at it again and write some tests for a few functionsso we can iterate from that.\n. Travis works now \ud83d\udc4d \n. Thanks!\n. Oh I just noticed the slack badge isn't working anymore.\n. It looks it timed out: https://github.com/nteract/hydrogen/blob/master/spec/hydrogen-spec.coffee#L69\n. Have you tried installing hydrogen via terminal with apm install hydrogen?\n. Just to make shure, have you installed pkg-config and zeromq and used python2 for installing hydrogen? (https://github.com/nteract/hydrogen/blob/master/README.md#homebrew-on-os-x)\nWhich version of atom are you using?\n. @n-riesco Thanks for taking a look!\nOn travis the installation works with homebrew, zeromq and pkg-config.\n. On my machine $NODE_PATH is empty.\nTry removing ~/.atom/packages/Hydrogen/ if anything is in there. Maybe this will help.\n. Hydrogen's completions are displayed via the autocomplete-plus package.\nAre  completions from the default providers of autocomplete-plus working for you?\n. Have you saved the file you want to execute with a valid file extension (.py for python etc.)?\nOtherwise Atom can't recognize the correct grammar and Hydrogen can't start the kernel.\n. Can you run jupyter kernelspec list --json in the terminal and post the output.\n. This looks OK.\nPlease paste this output into the Kernel Spec settings field.\nHowever Hydrogen should do this for you on its own.\nWhich atom version are you using?\n. \ud83d\udc4d \n. This PR looks good to me \ud83d\udc4d \n\nAnother solution would be to make the config field exclusive to user-specified kernelspecs. That way the system kernelspecs (the ones found by jupyter kernelspec) will be loaded per-machine and not saved.\n\nI would like to go a step further. We could remove the kernelspecs setting and give the user the option to define paths to additional kernel.json files. So you could connect to additional kernels even if they are not present in the default jupyter directory (#287).\n. > About #287 , note that the kernel-xxxx.json files are connection files, not kernel specs. Having a setting to define additional paths to search kernel specs won't fix #287 (though, it will help towards fix it).\nYes you are right. This comment explains it great!\n. Good idea! I'lll add a paragraph this evening.\nYou can launch the tests with apm test or in atom with View->Developer->Run Package Specs.\n. A nice way of handling this would be to add an item (Show all available kernels) to the kernel picker which expands the list and shows all available kernels.\nThis would mean one click more for selecting an non matching kernel, would keep the list compact if a lot of kernels are installed and removes the need for two separate commands.\n. I have never used a remote kernel but this sounds like a great addition to hydrogen!\n\nbut maybe I could try adding it (although I'm not an expert in CoffeScript).\n\nAwesome! This would be great! \ud83c\udf89 \n. \ud83d\udc4d Works for me!\n. @Meekdai Yes since v1.2.0 no more compilers are needed.. @Meekdai Are you behind a proxy?\nDownloading behind a proxy isn't supported yet since we need to fetch the prebuilt binaries.. You can add\n.hydrogen span {\n  color: inherit !important;\n}\nto your atom stylesheet. This will remove all the color from the output.\n. \ud83d\udc4d \ud83d\udc4d \ud83d\udc4d  from me! Thanks for your great work!\nI like the idea of using ./hydrogen/connection.json for this.\n. Thanks for your feedback!\nThe completion result depends on the cursor position. Place the cursor somewhere inside the word linspace or highlight it and it should work.\nAlso make sure to run the import numpy before requesting the completion.\n. Ah sorry you have to highlight numpy.linspace to make it work. Or import linspace with from numpy import linspace or from numpy import *.\n. tab+shift is currently used by Atom itself for indentation.\nBut you can define a custom keyboard shortcuts for this function for yourself by adding\n'atom-text-editor':\n  'cmd-ctrl-i': 'hydrogen:inspect',\nto your Atom keymaps file.\n. Great! \ud83c\udf89 \n. I have a (quite strange \ud83d\ude09 ) solution to your problem.\nYou can create a separate python kernel which uses the inline option. To do this:\n- locate the python kernelspecs folder with jupyter kernelspec list\n- in there should be a kernel.json file (if not run ipython kernel install)\n- duplicate the whole folder\n- and change change the display_name in kernel.json to something else (e.g. Python 3 inline).\n- add {\"Python 3 inline\": \"%matplotlib inline\"} to yourstartup code`\nNow you can switch in the menu between the original and the \"Python 3 inline\" kernels.\n. Yes thats true, but I think changing the matplotlib display mode requires a kernel restart anyway.\n. Mac OS X has Python 2 preinstalled.\nRunning PYTHON=python2 apm install hydrogen should work for you.\n. You could also try PYTHON=/usr/bin/python apm install hydrogen. This will use the system python for building.\n. Great! \ud83c\udf89 \nNow you can run apm config set python /usr/bin/python to set this as the default for apm.  And in the future just use apm install hydrogen.\n. I still don't understand why PYTHON=python2 apm install hydrogen didn't work with anaconda.\n@mmngreco can you run which python2 and post the output?\n. Thanks! I see, the python2 variable isn't set by default. Can you try if  which python2.7 returns something?\n. Awesome! I just wanted to know if we need to update the readme for anaconda and mac os x.\n. hydrogen:clear-results on the mac is mapped to cmd-alt-backspace, is ctrl-alt-backspace available on linux and windows?\nFor me I have hydrogen:inspect mapped to cmd-ctr-i to avoid complications with atom-script (which uses cmd-i and shift-cmd-i) but that wouldn't work on windows. What do you think about alt-i?\nFor hydrogen:add-break-point on mac, cmd-ctrl-b would work, but I couldn't come up with a great shortcut for windows. A second option would be C-S-m and rename \"break-point\" to something with \"marker\" in it.\n\n@n-riesco Shall we add a setting to enable the keybindings that we would like to introduce in Hydrogen v1.0.0?\n\nI like this idea, but is there an easy way of changing between two sets of keybindings in atom?\n. We can rename the keymaps folder (so no keymaps are loaded by default) and use atom.keymaps.loadKeymap to load the desired keymaps file.\nBut in order to make this work, we have to remove the activationCommands from package.json because there would be no way of activating Hydrogen with a keymap. Instead Hydrogen would be activated on startup of atom.\n. You're right. With kernelManager.loadKeymap changing the keymap would require a restart of Atom.\n. I think we could fix this, if we change the way the marker for the result bubble is set (https://github.com/nteract/hydrogen/blob/master/lib/main.coffee#L163). So it isn't invalidated if a new line is inserted.\n. I can reproduce this issue now with named files as well. The important thing is that no newline is inserted by atom at the bottom.\n. > Do you mean that we wouldn't ever invalidate markers?\nI haven't thought about this in detail but I think marking the beginning of the line instead of the end would prevent this issue.\n. @n-riesco Great go ahead!\n. @n-riesco Yes thats true. We could also mark the whole line and use an different invalidate option\n. @n-riesco Thanks a lot for investigating!\n\nI'm getting more convinced that, to solve this issue, we need to treat files not ending with an EOL as a special case.\n\nI agree. We could simply don't call @moveDown if the cursor is at the last line.\n. I close this issue in favor of #317.\n. This works only if breakpoints are added sequentially, because the decorations aren't ordered by line number. So we have to loop over all decorations to find the correct start row.\nPS: Thanks a lot for improving my ugly code \ud83d\ude09 \n. This is a lot cleaner \ud83d\udc4d \n. This is  great!\nI think we can remove both 'hydrogen:remove-latest-breakpoint' and 'hydrogen:add-breakpoint'.\n. Are you using the latest version of the IRkernel?\n. Hmm this is strange, on the Hydrogen side everything looks normal. I bet it has something to do with the line endings. Could you try running\nx <- 1;\ny <- x + 1;\nI don't have IRkernel on my machine so I can only guess at the moment.\n. I'll try to get a r kernel running on my windows VM so I can debug it.\n. OK I can reproduce this.\n. IRkernel doesn't like windows style line endings.\nThere is a easy fix for that: Click on CRLF in the status bar and select LF. This will switch to unix style line endings.\n@rgbkrk @n-riesco Should we ensure unix style line endings before sending code to a kernel or should this be handled by the kernel itself?\n. @igutierrezm In the next release this will be fixed so you can use CRLF line endings again.\n. I don't think this is possible to do in an language independent way, at least for now.\nAt least for python you can trie http://pythonhosted.org/progressbar2/ or https://github.com/tqdm/tqdm.\n. I have never used remote kernels so I'm no expert on this. For me this sounds like an interesting addition to Hydrogen if it doesn't introduce any language dependent code.\n@rgbkrk @n-riesco @slavaGanzin what do you think?\n. @quintona We are now supporting remote kernels via jupyter kernel gatways. Please try it out if it suites your needs.\nI'm going to close this issue. If remote kernels via kernel gateways aren't working for you please reopen this issue so we can continue the discussion.\n. I don't think option 2 would introduce language specific code, but it could lead to potential problems with certain languages.\nA smart option 1 is a great idea, since parsing only need to happen on startup. The only problem arises if the file is renamed externally, but this is something we can tell users to watch out for.\n. We could even use something like jsdiff to make the parsing more robust.\n. > If I understand correctly this would mean, the breakpoint save functionality would only work for languages that use '#' to mark comment lines.\nNo. For example Atom uses this for getting the correct comment symbol for the language. This is something we could do as well and search for {comment symbol} %%.\n. Spyder uses #%%, # %%, # <codecell> or # In[. I think we should support them as well. The last option is quite handy, because this is what jupyter notebook exports.\n. I'll make a PR next week once I submitted my thesis and have some spare time :)\n. Thanks! It's only a bachelor thesis but it takes some time too ;)\n. Great! \ud83d\udc4d \n. Great!\nOn kernel startup the statusbar shows just the kernelname. I think it should show kernelname: starting instead.\nIn principle we have an io message  for this, but it gets marked as invalid because it has no parent_header.msg_id. However with the current solution a kernel has to be running anyway in order to set the satusbar element.\nI think the easiest solution for this would be to simply change this line to @element.innerText = @language + \": starting\".\n. Great! I'll take a look at this in the evening.\n. Very nice! I'll go ahead and merge.\nBy the way wich linter are you using for coffeescript?\n. I use coffeelint too.\nShould we add a coffeelint config file to this repository to make things consistent?\n. > I don't understand how @editor could be undefined, since it's set in the constructor.\nThe problem occurs here.\nThis check was used before.\nTo reproduce this issue:\n1. start hydrogen\n2. split down the pane from the context menu of the tab\n3. try closing the pane and you will see the error in the dev console\n\nI neither understand why the check is in setStatusBarElement, since this function doesn't use @editor explicitly.\n\nI can move the check to getCurrentKernel since it  fails here to get the grammar of the undefined editor.\n. > Wouldn't it make more sense to change @editor = item to @editor = atom.workspace.getActiveTextEditor()?\nThis doesn't help prevent this issue.\nThis is what I'm doing:\n\nEdit:\nThis line causes the error, because @editor is undefined.\n. I can't reproduce this. Could you try to run Hydrogen again and open the dev console (shift-ctrl-i) and post a screenshot of the output.\n. @pierregodard Which hydrogen version are you using? We fixed an issue with \"Run and Move Down\" in the latest release.\nIs just \"Hydrogen: Run\" working for you?\n. This is very strange. I have pretty much the same setup and no problems.\n. Thank you both for debugging this \ud83c\udf89 \n. Oh thanks I forgot.\n. I added support for #%%.\n. The missing_fat_arrows rule isn't working for me, if I change the arrows according to coffeelint I get a lot of errors like this one:\nUncaught TypeError: _this.runAndMoveDown is not a function\nWe can use no_this along with no_stand_alone_at  to prevent standalone @\n. > @n-riesco I'm using:\n\n\"missing_fat_arrows\": {\n    \"level\": \"error\",\n    \"is_strict\": false\n  },\n\nThis rule breaks functionality in kernel-manager.coffee.\nI'm using the linter-coffeelint atom package which uses coffeelint 1.9.7.\n. The coffeelint website says this about missing_fat_arrow:\n\nWarns when you use this inside a function that wasn't defined with a fat arrow. This rule does not apply to methods defined in a class, since they have this bound to the class instance (or the class itself, for class methods). The option is_strict is available for checking bindings of class methods. It is impossible to statically determine whether a function using this will be bound with the correct this value due to language features like Function.prototype.call and Function.prototype.bind, so this rule may produce false positives.\ndefault level: ignore\n\nI think we should remove this rule.\n. Coffeelint 1.15.7 highlights the same errors as version 1.9.7\n. I don't have a problem with the rule. If I change the arrows in kernel-manager according to coffeelint Hydrogen fails.\nI'm still new to coffescript. @n-riesco Can you take a look why after fixing the missing_fat_arrow errors Hydrogen fails?\n. I rebased this PR and did some additional refactoring of the run commands\n. Thanks a lot for this PR.\nI really like the idea of moving towards kernel gateways. It would give the user total control of kernels. I also quite like the workflow of choosing a kernel before execution.\nI think this could completely replace ZMQ and therefor the number of ZMQ related installation issues. For this we have to come up with a simple way of starting local (and remote) kernels and more important decide when a kernel should be destroyed.\n@rgbkrk @n-riesco @slavaGanzin @willwhitney What do you think about a move toward kernel gateways?\n. > Looks like @lgeiger has addressed a some of the functionality currently in this PR, especially in commit 2 (in particular: making kernelspecs async, plus a few other things). I'll rebase on top of those changes once they get merged. That should decrease the overall diff for this PR.\nSorry for interfering with your PR. I started working on some of the things discussed in #272 and thought it would make things a bit clearer. Turns out there was a fair amount of rewriting required in my PR.\n. Thanks a lot for your rewriting! \ud83d\udc4d \nAs I'm still fairly new to coffeescript I'll start just from a users perspective. I know this PR isn't completely finished yet but here are some things I noticed:\n- I didn't found any problems on the ZMQ side \ud83c\udf89 \ud83d\udc4d .\n- Getting the kernelspecs from a gateway isn't working for me.\n  - If I use jupyter kernelgateway to start a gateway, services.getKernelSpecs throws API request failed (403):  null and Uncaught (in promise) TypeError: specmodels.map is not a function\n  - If I use jupyter notebook to start a gateway. Only  Uncaught (in promise) TypeError: specmodels.map is not a function is thrown.\n- The status bar isn't updated after connecting to a kernel. It has to be set similar to this.\n. I tested it and it works great \ud83d\udc4d \nI would suggest you add hydrogen:connect-to-remote-session to the activation commands.\n. @nikitakit Thanks a lot for your work. This is an awesome addition to hydrogen.\n. Closed by #472 \n. I wanted to propose this a while ago but somehow forgot. Thanks!\n. I counted the row with the cell comment to the cell below on purpose. I think this is more intuitive but it would break in this case.\nI think this is a good way to prevent this issue.\n. @n-riesco Thanks for refactoring KernelManager! This is a lot better now.\nI tested this PR and think we can merge this.\n. Strange hydrogen:inspect works for me as expected.\n. > We don't want to update the kernel specs synchronously, because it may be too slow (IPython introduced a 5-second deprecation delay in ipython notebook).\nThats why we try jupyter kernelspec list --json beforehand.\nI opted for synchronous code because hydrogen has to wait anyway for updateKernelSpecs before any code can be executed. The asynchronous code before was fine because the specs where cached in the settings.\n. I totally understand your point. But if you try it async (checkout ffb242d) hydrogen would throw an error on every startup since no kernelspec is available. Hence we have to always wait for updateKernelSpecs to finish.\n. OK I changed the code back to async.\nIs there any way of preventing this error if the updateKernelSpecs command isn't finished? This problem was the reason why I originally went for execSync.\n. Thanks a lot for the great explanation this helps a lot! I'm still New to the concept oft async programming so bare with me ;).\nI'll implement and test your code this evening. \n. @n-riesco Thanks a lot for your help! I've updated the PR.\nIn d90cef9 the updating of kernelspecs was moved to kernel startup, in order to prevent the language not found error on startup.\n. @n-riesco Thanks for you awesome review. I learned a lot \ud83c\udf89 \n. I did tried to simplify the code. Thanks a lot for your great feedback!\n. I addressed your feedback. I should have looked a bit more at the code and not just used search and replace \ud83d\ude09 \n. > We should provide a sample kernel spec for users like Ubuntu 16.04's that don't have ipython kernelspec.\nYes this should be added to the readme.\n. There were quite a few changes:\nhttps://jupyter-client.readthedocs.io/en/latest/messaging.html#introspection\n. Much nicer \ud83d\udc4d \n. Great!\nI think we should also update this section to prefer jupyter.\n. I think to install the notebook pip install jupyter is enough.\n. Awesome thanks!\n. @language is used here.\nEither remove the usage or use @kernelName.\n. Works for me \ud83d\udc4d \n. 13213ad Works for me \ud83d\udc4d \nI'm not sure about the heuristics. I thought they are handled by the kernel. Jupyter messaging specs says about the cursor_position:\n\nThe cursor position within 'code' (in unicode characters) where inspection is requested\n\nWhat improvement would the heuristics on our side bring for the inspect result? I get the same introspection results with and without e86d241 on python.\n. > IJulia and IJavascript fail when cursor_pos is 0.\n\nIt is also up to the kernel how to handle cases like Arr|ay. Does it inspect Arr or Array?\n\nOh I see. Then it makes sense!\n. \ud83d\udc4d works for me on os x\n. I'll merge when travis has completed.\n. We could use some stylized version of the spectral series similar to this: http://chemwiki.ucdavis.edu/@api/deki/files/27811/=96ab7ad43a8411f966e5390c6781c1d0.jpg?revision=1\n. I'll close this. Since I found a better solution for this problem\n. @n-riesco Thanks for the feedback.\n. @n-riesco Thanks for taking a look at the PR. I didn't mean to include 6ddc1f1. There went something wrong with the rebase. I think we should keep the languageMapping setting.\n. @ajeebkp23 Hydrogen works in principle with every jupyter kernel. Hydrogen detects your installed kernels automatically if you have jupyter or a recent version of ipython installed. If not have al look at the Kernel Spec setting.\nHydrogen uses atoms grammar to determine which kernel to start. Some languages like scala use different kernel names. Therefor we provide the Language Mappings setting. This PR just allows you to start any kernel without editing the Language Mappings setting.\n. Just some thoughts on my own PR:\nIn my workflow I don't really have the need to start a non standard kernel. Thus I'm fine if this doesn't get merged. At this point I'm not sure if we should have this feature or if it just clutters the menu.\n. The easiest way is to install python 2.7 via anaconda (see here)\n. Great! I'll update the readme.\n. Exactly. Hydrogen requires atom version 1.6.0 or newer for some time now. Please update your atom installation and everything should look quite a bit different ;)\n. By the way the new version of Hydrogen now supports mathjax output. Try using sympy with\npython\ninit_printing(use_latex='mathjax')\n. imageMagick to the rescue\n. @spencerlyon2 I created a new package called hydrogen-launcher which allows you to spawn a new terminal with a jupyter console or qtconsole connected to the running Hydrogen kernel.\n. This is a great!\nThis line has to be\ncoffeescript\n@toggleButton.onclick = ->\n    editor = atom.workspace.getActiveTextEditor()\n    editorView = atom.views.getView(editor)\n    atom.commands.dispatch(editorView, 'hydrogen:toggle-watches')\nin order to work consistent with the @watchSidebarIsVisible variable.\nI think now we can also remove the hydrogen:select-watch-kernelcommand. What do you think?\nIt would be awesome to track the sidebar visibility on a kernel per kernel basis or only toggle the sidebar automatically if the sidebar isn't empty.\n. > That's how I tried first, but I found it a bit inconvenient, because often I want the watch sidebar visible for all the running kernels.\n\nAt least to me, it makes more sense to set the visibility regardless the kernel (the inspect panel behaves this way too).\n\nThat's fine for me. We can revisit this behavior if we decide to add support for multiple kernels with the same language someday.\n. Works well \ud83d\udc4d \nI never noticed that clearBubblesOnRow wasn't working. Thanks for fixing that!\n. If we get it to work with webviews it would be great! We should do this directly in transformime. Maybe using webviews would also fix #369.\nI don't think we need webviews for SVG though. \n. > Are there any cons to using webviews for all text/html content?\nI wanted to ask the same question. I never used webviews.\nI'm fine with using webviews for SVGs as well if JS in SVGs is a commonly used thing.\n. > The physicist in me would be very pleased with an SVG version of:\nThat's a good argument \ud83c\udf89 \nI did a quick test with webviews in hydrogen but javascript didn't work. I used this transformer.\n``` coffeescript\nHTMLTransform = (mimetype, data, document) ->\n    webview = document.createElement('webview')\n    webview.src = 'data:text/html,' + data\n    return webview\nHTMLTransform.mimetype = 'text/html'\ntransform = transformime.createTransform([HTMLTransform, MarkdownTransform])\n```\nDo you have an idea why this isn't working?\n. I tested again and found my assumption was a bit rash. Basic javascript works but plotly still doesn't \ud83d\ude1e \n. > Here's an example for testing purposes that works in the notebook and that I would expect it to work in webviews too:\nYes it works in webviews \ud83d\udc4d. Thanks for the example.\nI tried using plotly in python. This works in the notebook but not in webviews:\n``` python\nimport plotly\nfrom plotly.graph_objs import Scatter, Layout\nplotly.offline.init_notebook_mode()\nplotly.offline.iplot({\n    \"data\": [Scatter(x=[1, 2, 3, 4], y=[4, 3, 2, 1])],\n    \"layout\": Layout(title=\"hello world\")})\n```\n. @n-riesco thanks for the IPython snippet. It's an issue with the styling of hydrogen. I'll take a closer look tomorrow.\n. I couldn't fix the SVG example with fiddling around in the dev console. I don't know why this is happening.\n. On my system the scrollbars are displayed correctly with this PR.\n. > @lgeiger Do you mean that you don't need to scroll down to the bottom of the DataFrame to see the horizontal scroll bar?\nYes I see both.\n. I tried with pandas 0.17.1 and everything works fine for me.\nThe DataFrame is styled like this <div><table border=\"1\" class=\"dataframe\">. The problem is caused by overflow: auto.\n. @n-riesco I updated the PR. Please test if it works for you.\n. Great! Works for me as well\n. In the latest release we changed the behaviour of the inspector.\nYou can define a custom keyboard shortcut for yourself by adding\ncson\n'atom-text-editor':\n  'cmd-ctrl-i': 'hydrogen:toggle-inspector',\nto your Atom keymaps file.\nhttps://github.com/jupyter/jupyter_client/issues/51 will allow us to incorporate the introspection result in the autocompletion in the future.\n. @matthew-brett mentioned a similar behavior on slack.\nWe could update the Inspector on every cursor movement (or keyboard stroke) if it is open.\n@rgbkrk @n-riesco Would this amount of inspect requests be OK?\nSpyder also has an inspector. Does anyone know how they are handling the updating?\n. Awesome, thanks for going through all the issues! \ud83d\udc4d \n. I checked today and connecting to an existing kernel via connection.json works for me as long as the kernelspec is available on the local system.\n. ZMQKernel needs the kernelspec. If they are not available, Hydrogen won't even connect to the kernel (see this line).\n. > Perhaps, we need to add a command to run all cells, e.g. hydrogen:run-all-cells.\nI would suggest we add this behavior to hydrogen:run-all rather than adding a new command for this. I'll make a PR next week.\n\nWe really need to document this.\n\n@n-riesco I would really appreciate if you could add this to the readme since my written english isn't that great.\n. > Your written English is good enough.\nThanks! I'll try my best and add it to the readme next week \ud83d\ude09 \n. The syntax for defining code cells is // In[ ]:. Notice the space (or a number) between the brackets and the colon at the end.\n@n-riesco Should we remove the need for the space between the brackets?\n@jmatsushita Which syntax theme are you using? There should be syntax highlighting for the correct breakpoints:\n\n. > Is the issue caused by the missing space between the brackets or the missing colon :?\nBoth.\nThe idea about the space and the colon was to adhere to the jupyter notebook export format. They are using // In[ ]: for not executed cells and // In[1]: for executed ones.\nI'm OK with removing the need for the space but I think without the colon the syntax highlighting would look odd. However I don't feel strongly about this. What do you think?\n\n. Spyder requires just // In[ (see here).\nOK lets make them optional.\n. Fixes #377\n. I think we should ship another release after this is merged. What do you think?\n. e.g.:\n``` python\nprint('Cell', 1)  # %%\nprint('Cell', 2)\n%%\nprint('Cell', 3)\n``\n. Do you have multiplerversions installed on purpose? If not you could remove the outdated ones withbrew cleanup`.\nThe kernelspec is pointing to the old r version. The installation instructions for IRkernel say you have to run:\ninstall.packages(c('repr', 'pbdZMQ', 'devtools')) # repr is already on CRAN\ndevtools::install_github(c('IRkernel/IRdisplay', 'IRkernel/IRkernel'))\nIRkernel::installspec()\nRunning the last line should update the kernelspecs to match the new r version which hopefully should solve your problem.\n. Ups I totally missed your last comment.\nI'm glad you got it working. \ud83c\udf89 \n. Wow I can't believe this list got checked off so fast \ud83c\udf89\ud83d\udc83.\nThanks a lot for your work @nikitakit!\nI'm going to close this issue since I think the \"switch to\" command isn't really useful for remote kernels. There are multiple gateways and sessions so it would result in a quite confusing menu.\n. ~~Waiting for https://github.com/nteract/spawnteract/pull/13 to be merged.~~\n. > @lgeiger I've just had a look at your PR #386 and noticed we're touching the same code (and doing similar things).\n\nWhich PR do you think we should merge first?\n\nI had a quick look at your changes and think the rebase is easier if #386 gets merged first:\n- f4d02ca can be removed  since the connectionfile will be handled by spawnteract\n- the other commits shouldn't be that hard to rebase.\n. Thanks for fixing this and noticing the broken async tests! I didn't noticed it because the getKernelspecs tests worked fine because they returned the kernelspecs immediately  since kernelManager._kernelSpecs was set.\n. > @lgeiger Oh! Just merged your PR to fix #394 .\nMy PR doesn't fix #394 all the way. The shutdown works now but there is still an uncaught error in the dev console because Hydrogen is unable to start the kernel again after shutdown.\n. The markdown function is available via IPython.display.\nAdd this line to your script:\npython\nfrom IPython.display import Markdown\n. > That's great! Works fine, thanks. Can I assume it works from internal/bundled markdown and I didn't need to install it separately?\nYes it's bundled with Hydrogen. There's no need to install something separate.\n\nPerhaps \"from IPython.display import Markdown\" is obvious to everyone else but this is a super-handy feature so if it could be made more explicit somewhere, that'd be nice...\n\nYou can read more about IPython.display here.\n. I personally rarely use the markdown capabilities. If you find any issues or improvements feel free to create a new issue.\n. > @lgeiger Here's an idea (for another PR). Currently the x icon of the result view in the watch sidebar only closes the result view (it doesn't remove the watch). If the x icon removed the watch, then removeButton would be unnecessary.\nThis is not that easy since we would have to add removeButtons to every watch.\nWould a different icon (instead of x) make the functionality clearer?\n. This still isn't working for me. If I connect to an existing kernel and use the menu to restart it, I still get an error (here) because the kernel can't be restarted.\nI'm currently away the next two weeks so won't be able to fix this issue.\n. > We should create a label for late-night-PR-review-with-care. \ud83d\ude1e\n\ud83d\ude04 \ud83d\ude04 \ud83d\udc4d \n. Thanks for this great PR! (And sorry for the late reply)\n. Would simply moving the remove button like this\n\nmake it clearer?\n. I totally forgot about this issue.\n@n-riesco What do you think about the UI shown above?\n. Excellent, I'll rebase my old branch and make a PR \ud83d\udc4d \n. Thanks for the fast fix! \ud83c\udf89 \n. Thanks for reporting. We just released v0.12.2 to fix this.\n. @neurotronix In version v0.13.0 we added a command to copy the path to the connection file. In order to allow connecting to the same kernel via jupyter console --existing <path to connectionfile>.\n. Thanks for reporting. We just released v0.12.3 to fix this.\n. Now I know why I couldn't reproduce this issue. I followed this guide to disable SIP.\n. > I attempted the same fix by using Hydrogen's Kernel Specs setting (spec.env), but haven't had any luck. Any issues obvious here?\nWe just released v0.12.4. This should work now.\n. Thanks! I'll go ahead and make a patch release.\n. Since this is a bug fix. I'll go ahead and make a patch release.\n. Awesome, great to see you back!\n. Sorry for the late review. Besides the minor things I mentioned above this PR works very well. Great to have you onboard \ud83c\udf89 \n. The line wrapping isn't working for me:\n\nThis may be a problem with atom. Are you experiencing the same behavior?\n. Thanks investigating! This works for me on v1.9.8.\nIt looks like this API was available for some time now but the docs where missing (See https://github.com/atom/atom/pull/11942).\n. Oh I thought we fixed this a while back. I'll fix it tomorrow (for real now \ud83d\ude09 ).\nIn the meantime you can add any project folder via File > Add Project Folder to prevent this error.\n. @jerabaul29 We just released v0.13.0 to fix this.\n. > If we throw, does it break all of Hydrogen then?\nYes. We could add an notification, but I think this wouldn't be useful for most users.\n. @rgbkrk @n-riesco Since this is a bugfix I think we should make a release.\nShould we do a minor release?\n. Hydrogen determines the code block to execute via Atom's fold range, more precisely with the function editor.languageMode.rowRangeForCodeFoldAtBufferRow.\nI'm abroad this week and haven't investigated yet but I'm afraid this is an issue within Atom itself. Maybe you could try if the code folding of Atom works as expected.\n. Try setting Language Mappings to:\njson\n{\"javascript\": \"github markdown\"}\nI tested it with python inside Markdown files and it worked fine.\n. Here are the problems with the current implementation:\n- If multiple inputs are requested in a row (like pdb does) there is no new ResultView constructed and the results are just appended to the bottom.\n- The input view obstructs the editor so no scrolling is possible.\nAt the moment I don't see a easy fix for this.\nCreating a new ResultView for every output of pdb isn't really possible with the current implementation and would need quite a bit of refactoring. \nSomehow allowing scrolling behind the InputView would work but we need to make sure users don't delete the ResultView otherwise there would be no view to append the pdb output to.\n. For using pdb i would recommend hydrogen-launcher which can spawn a new terminal with a jupyter console connected to the running Hydrogen kernel. This way you can use the interactive debugger in the jupyter console.\n. Since #835 the result view autoscrolls to the bottom. Having a separate input view instead of the overlay would be better but at least it's usable now.\nFeel free to reopen if you still have problems.. Works great \ud83d\udc4d \n. > how does tildify work for remote machines where the home folder is in a different location?\nGood point!\nIt determines the home path like this. This should work on remote machines as well.\nDo you have the possibility to test with a remote machine?\n. > Oh, I see that I now have push access. Thanks, @lgeiger !\nI forgot to do that when we invited you to nteract. So welcome to the party \ud83c\udf89 \nWe follow the C4.1 process, the essence of it is described here.\nIt's great to have you on board and we are allways happy to welcome new contributors!\ncc @rgbkrk @n-riesco \n. There is a lot of duplicated code in RenameView and InputView.\nI'm a bit unsure if introducing the new class or modifying InputView to work for both use cases is better. @rgbkrk @n-riesco @nikitakit What do you think?\n. Great I'll test now.\nI'm good with doing the refactoring in the future.\n. > When I restart the python kernel, the indicator remains indefinitely on \"Starting.\" Once I start running code, the transitions between \"running\" and \"idle\" seem to function correctly.\nWe initialize the status bar with Kernel: starting but jupyter does not send a status message when the kernel is started completely. \n@rgbkrk @n-riesco Should we simply initialize the status bar with Kernel: started since it is created on construction of the Kernel class after the process was spawned?\n\n\nAlso, when I click the indicator, it does not properly list kernel commands (like interrupt and restart):\n\nThis is interesting. The status bar is working for me just fine on macOS 10.11.6 and Atom version 1.9.9 or 1.10.0.\nLets try debugging this:\n- Could you open the dev console (by pressing shift-ctrl-i) and post an screenshot after trying to open the kernel commands?\n- Which atom version are you using?\n- Does it happen every time you click on the status bar?\n. Yeah \ud83c\udf89\nThis could be a great feature for a lot of users. It would be awesome to generalize this so we can include it in Hydrogen.\nTo get the comment strings for the current grammar take a look these lines. Maybe you can also use this function of atom or find inspiration there.\nA blog post about hydrogen would be awesome \u2764\ufe0f. If you decide to write one hit us up on twitter @nteractio so we can spread the word.\nIf you have any questions feel free to ask here or on slack!\n. > To get the comment strings for the current grammar take a look these lines.\nShoot! This was removed in Atom v1.11.0. Thanks for bringing this up!\n. Neat! \ud83c\udf89 \n. @fasiha Thanks for investigating and sorry about the late reply. I feel the same about the user customizability. I'm not sure if this is something we can achieve without introducing a lot of overhead code.\nThat said I've been experimenting with Atoms service API for interacting with Hydrogen and have a plugin working which has access to the kernel connecting file provided by Hydrogen.\n(Disclamer: I have no idea if this will work \ud83d\ude01 )\nWe could allow plugins to override the \"open in a new text editor\" button of the result view or introduce some kind of a magic button for them to use. The plugins should then provide a function to be executed if the button is clicked.\nIf you are interested in developing a package which extends hydrogen with this functionality, I'm more than happy to investigate if this is really possible.\n. @fasiha Thanks a lot for your work!\nI'm going to close this in favor of #441 since it provides more flexibility.\n. Discovered during researching for #428 \n. We have a few PRs open and almost ready. I'll ship v0.14.0 when they are merged.\n. Thanks for going through the PRs, I really appreciate your feedback \ud83d\udc4d \n\nIt breaks the use case where a user is adding code at the end of a file and running it.\n\nThe idea behind this PR was, if you have a large amount of comments at the end of a file it the command wouldn't scroll down to the very bottom of the page. \n\nOr alternatively, we could make sure that move down doesn't skip comments.\n\nThat would probably be the best option as long as we ensure that executing each line of the file without manually moving the cursor down is still possible.\n~~We could move the logic for skipping the comments into the function which determines what code to execute.~~ Oh no this isn't possible. Do you have an idea on how to achieve this?\n. Could you try to run Hydrogen again and then open the dev console (shift-ctrl-i) and post a screenshot of the errors reported?\n. Thanks! Could you expand the two shell messages before the errors and post an other screenshot?\n. Oh I see. iTorch doesn't comply fully with the jupyter messaging protocol. matches should be an array but in your case iTorch returns a Object.\nI think we can fix this in Hydrogen by using _.map instead of the default one.\nCould you post one more screenshot from the expanded matches object?\n. Oh that Object is empty (except __proto__). That isn't really helpful then.\nBut I'm confident using _.map will fix your problem.\nI may also open an issue on iTorch regarding this.\n. @rgbkrk As far as I can tell it's an object with the matches.\n. I think we are ready vor v0.14.0 \ud83d\udc4d \n. This looks like issue #326.\nCheck that you haven't disabled Use Shadow DOM under Settings > Editor. This option should be enabled.\n. Closing this in favor of #446 \n. > Apologies for duplicating a previously closed issue, but I wasn't sure where else to raise this.\nYou found the right place \ud83d\udc4d \ud83d\ude04 \nSorry about the messy installation on windows. We're getting very close to be able to provide precompiled binaries for zeromq to end the installation horror.\nIt looks like it doesn't find your compiler. We require Visual Studio 2013  for zeromq to build correctly. The 2015 edition won't work because there are some tools required for zeromq to build correctly which are not included.\nThere have been a quite some similar issues with windows using the wrong compiler if both versions of Visual Studio are installed. Have a look at them.\nAlso you could try apm rebuild hydrogen in the command line.\n. After looking more into the windows installation process I realized you can compile with visual studio 2015 as well. For this to work, you need to make sure to have visual studio with the C++ compilers installed. They are not included in the default installation anymore.\n. @respatialized It could be that node-gyp tries to use the wrong compilers. We recently updated our troubleshooting guide for this issue.\nCould you run apm --version and post the output?\n. Please run set GYP_MSVS_VERSION=2013 and try apm install hydrogen again.\n. Awesome! That's great \ud83c\udf89 \n. @sheperdsonbrown Have you tried running \napm config set msvs_version 2013 -g\nset GYP_MSVS_VERSION=2013\nas described in our troubleshooting guide?\n. I think git bash is a linux terminal emulator so maybe you have the use export GYP_MSVS_VERSION=2013 instead of set GYP_MSVS_VERSION=2013.\nCould try it with the default windows command line if the above didn't work?\n. https://github.com/Microsoft/nodejs-guidelines/blob/master/windows-environment.md#prerequisites\n. This is awesome! Thanks for digging into this!\nI'll have a chance to take a closer look next week. Sorry for the delay.\n. @fasiha Sorry for the long standstill on this.\nWould you like to adapt it to the Plugin API introduced in #446?\nI think a latest result per kernel would be awesome. But that can be something for a future PR.\n. That's great! Looking forward to your PR :tada:. That's an error thrown from your code, likely from the click package. Is this code working in the jupyter notebook or the console?\nYou can have a look at the dev console (cmd-alt-i) to see if any errors are reported there and post a screenshot.\n. Thanks!\n. It looks like pkg-config doesn't find libzmq.\nBefore messing around with the PGK_CONFIG_PATH. Could you do a fresh install by running\n```\nbrew uninstall zeromq\nbrew uninstall pkg-config\nbrew install zeromq\nPYTHON=python2.7 apm install hydrogen\n```\nand post the errors that get reported?\n. Does pkg-config libzmq --libs report an error to?\n. If the command returns a error try the solution described in this comment:\n- brew install zeromq\n- export PKG_CONFIG_PATH=/usr/local/Cellar/zeromq/4.1.5/lib/pkgconfig/\n- sudo visudo and add Defaults env_keep += \"PKG_CONFIG_PATH\"\n- apm install hydrogen\nUsually I don't like to recommend doing something with sudo but it seams it's the only chance to fix the Package libzmq was not found in the pkg-config search patherror.\n. This is interesting! I have thought about doing something similar.\n@nikitakit, @fasiha, @n-riesco, @rgbkrk There are now a few proof of concept PR showing what can be done with a plugin API. I think we should discuss this in the next ntetact dev meeting in detail. Maybe we can even come up with a general spec to be used by nteract as well. The next meeting will probably on Monday the 26. at 9am pacific central time (I hope this is correct).\n. Oh wow pushing to forks from a pull request is strange but amazing \ud83d\ude02 .\nI'm looking forward seeing you in the meeting. There will be an general announcement in our slack channel. They are held via appear.in in the nteract room. You can take a look at the notes from last time.\n. I tried using this PR but Hydrogen provides only\n\nAny idea why?\n. I just had a look at the atom status-bar package. They only provide the relevant methods of the  status-bar-view class like this.\nThis would mean we could get rid of the additional wrapper while still only exposing the methods we are comfortable sharing.\n. > @lgeiger The image in your first comment is as expected, because HydrogenProvider only has two properties. All of the methods are hidden under proto, because that's how classes work in javascript. Calling methods on the object should still work.\nSorry for the dumb question. This exposed my lack of knowledge regarding javascript \ud83d\ude02 \nBut the issue still exists. I'm trying to use it here and here but getActiveKernel always returns undefined. I think I'm using it wrong but couldn't get it to work.\n. Thanks for testing!\nI used your code and get the following error: Uncaught TypeError: Cannot read property 'getConnectionFile' of undefined\nI also checked to make sure both packages are installed correctly. To reproduce this issue I used the following steps on my machine:\n- Restart atom\n- Optional: Run Hydrogen Launcher: Launch Jupyter Console and see the error notification because no kernel is running.\n- Run some code in Hydrogen to start a kernel\n- Run Hydrogen Launcher: Launch Jupyter Console\n. I figured it out. I'll push a quick fix.\n. It's strange that the missing new operator worked on your machine but not for me.\nIt would be great if you could open a issue at the term-launcher repo and briefly describe your problem. I did just a rough test on linux and windows also you're probably the first on using it :smile:.\n. We need to change the readme for this. I discovered last week that visual studio 2015 will work as long as you install it with the C++ compilers.\nI don't have a windows machine to test right now, but I remember someone on stackoverflow suggested running set GYP_MSVS_VERSION=2013 before running apm install hydrogen.\n. Awesome! I'm glad it worked \ud83c\udf89 \nIf you like, you can add your experience and the difficulties to our troubleshooting guide.\n. @mmagnuski That would be excellent (We are mainly linux and mac devs here).\n\nI can't tell if I installed with C++ compilers, I thought it is the default.\n\nThat's the problem. VS 2013 shipped the C++ compilers by default. With VS 2015 you have to select the custom installation and explicitly select the C++ compilers (at least that's what the microsoft docs say). There should also be a option to install them later.\nOne more thing worth trying are the standalone C++ compilers mentioned in #440.\nThanks a lot for taking the time. Any first hand experience is really appreciated.\n. @mmagnuski That's really great!\nAs a side note: We are working on including a prebuilt version of zmq but aren't 100% there yet. If we get this to work it will improve the installation a lot.\n. @rgbkrk That's interesting. Would this work if we include it as a apm dependency on windows? So the users don't even have to install node?\n. Wow I just discovered there's even a apm install --check command which check that native build tools are installed.\n. I'll try, time to startup a windows VM without compilers.\n. Thanks for taking the time! You can add the link to your beginner tutorial to the troubleshooting guide as well. This is really helpful for beginners.\n. It might be your anti-malware program. Check http://stackoverflow.com/questions/36835882/npm-err-tarball-destroy-is-not-a-function\n. Have you tried the solutions suggested in our troubleshooting guide?\nSide note: Any updates on #457?\n. Are you using the default windows command prompt?\nOne thing worth trying is apm install hydrogen --msvs_version=2013\n. Try this comment.\n. Closed by #476 \n. If I try to run the test I get at least a error message:\n```\n[4232:4828:0928/133233:VERBOSE1:crash_service_main.cc(68)] Session start. cmdline is [--reporter-url=https://crashreporter.atom.io --application-name=Atom --v=1]\n[4232:4828:0928/133233:VERBOSE1:crash_service.cc(142)] window handle is 003902FA\n[4232:4828:0928/133233:VERBOSE1:crash_service.cc(290)] pipe name is \\.\\pipe\\Atom Crash Service\ndumps at C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\n[4232:4828:0928/133233:VERBOSE1:crash_service.cc(294)] checkpoint is C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\\crash_checkpoint.txt\nserver is https://crashreporter.atom.io\nmaximum 128 reports/day\nreporter is electron-crash-service\n[4232:4828:0928/133233:VERBOSE1:crash_service_main.cc(84)] Ready to process crash requests\n[4232:3956:0928/133233:VERBOSE1:crash_service.cc(323)] client start. pid = 852\n[4232:3956:0928/133234:VERBOSE1:crash_service.cc(323)] client start. pid = 32\n[4232:3956:0928/133234:VERBOSE1:crash_service.cc(323)] client start. pid = 32\n[800:876:0928/133234:VERBOSE1:crash_service_main.cc(68)] Session start. cmdline is [--reporter-url=https://crashreporter.atom.io --application-name=Atom --v=1]\n[156:4620:0928/133234:VERBOSE1:crash_service_main.cc(68)] Session start. cmdline is [--reporter-url=https://crashreporter.atom.io --application-name=Atom --v=1]\n[800:876:0928/133234:VERBOSE1:crash_service.cc(142)] window handle is 0042036C\n[[156:4620:0928/133234:VERBOSE1:crash_service.cc(142)] window handle is 003303D0\n[800:876:0928/133234:VERBOSE1:crash_service.cc(290)] pipe name is \\.\\pipe\\Atom Crash Service\ndumps at C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\n156:4620:0928/133234:VERBOSE1:crash_service.cc(290)] pipe name is \\.\\pipe\\Atom Crash Service\ndumps at C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\n[[156:4620:0928/133234:VERBOSE1:crash_service.cc(294)] checkpoint is C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\\crash_checkpoint.txt\nserver is https://crashreporter.atom.io\nmaximum 128 reports/day\nreporter is electron-crash-service\n800:876:0928/133234:VERBOSE1:crash_service.cc(294)] checkpoint is C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\\crash_checkpoint.txt\nserver is https://crashreporter.atom.io\nmaximum 128 reports/day\nreporter is electron-crash-service\n[[156:4620:0928/133234:ERROR:crash_service.cc(301)] could not start dumper\n800:876:0928/133234:ERROR:crash_service.cc(301)] could not start dumper\n[4232:3956:0928/133236:VERBOSE1:crash_service.cc(394)] dump for pid = 32 is C:\\Users\\LUKASG~1\\AppData\\Local\\Temp\\Atom Crashes\\9b4c0754-3757-4bf5-a177-968d92587172.dmp\n[4232:4692:0928/133236:VERBOSE1:crash_service.cc(442)] trying to send report for pid = 32\n[4232:4692:0928/133236:VERBOSE1:crash_service.cc(472)] dump for pid =32 crash2 id =\n[4232:5444:0928/133236:VERBOSE1:crash_service.cc(331)] client end. pid = 32\n[4232:5476:0928/133236:VERBOSE1:crash_service.cc(331)] client end. pid = 32\nError processing argument at index 9, conversion failure from\nTypeError: Error processing argument at index 9, conversion failure from\n    at TypeError (native)\n    at Object.module.exports.showMessageBox (C:\\ProgramData\\lukasgeiger\\atom\\app-1.10.2\\resources\\electron.asar\\browser\\api\\dialog.js:176:20)\n    at EventEmitter. (C:\\ProgramData\\lukasgeiger\\atom\\app-1.10.2\\resources\\app.asar\\src\\main-process\\atom-window.js:220:27)\n    at emitOne (events.js:95:20)\n    at EventEmitter.emit (events.js:182:7)\n[4232:2816:0928/133236:VERBOSE1:crash_service.cc(331)] client end. pid = 852\nTests failed\nC:\\Users\\lukasgeiger.atom\\packages\\Hydrogen>[4232:2816:0928/133237:VERBOSE1:crash_service.cc(352)] zero clients. exiting\n[4232:4828:0928/133237:VERBOSE1:crash_service.cc(490)] session ending..\n[4232:4828:0928/133237:VERBOSE1:crash_service.cc(495)] clients connected :3\nclients terminated :3\ndumps serviced :0\ndumps reported :0\n[4232:4828:0928/133237:VERBOSE1:crash_service_main.cc(89)] Session end. return code is 0\n``\n. I tried it with Atom v1.10.2 and v1.11.0-beta5.apm --version` for the latter:\napm 1.12.5\nnpm 3.10.5\nnode 4.4.5\npython 2.7.11\ngit\nvisual studio 2015\n. > I'm guessing there are 2 installations of node in your machine:\n\n\nthe one provided by atom\nand the one used to install windows-build-tools\n\n\ncorrect\n\nzmq is located here: C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\nI ran\njavascript\nrequire(\"C:/Users/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq\")\n- in Atom stable and beta (started with atom --safe to prevent Hydrogen from loading), this results in a crash\n- in node I get the following error:\nError: Das angegebene Modul wurde nicht gefunden.\n\\\\?\\C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\build\\Release\\zmq.node\n    at Error (native)\n    at Object.Module._extensions..node (module.js:583:18)\n    at Module.load (module.js:473:32)\n    at tryModuleLoad (module.js:432:12)\n    at Function.Module._load (module.js:424:3)\n    at Module.require (module.js:483:17)\n    at require (internal/module.js:20:19)\n    at bindings (C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\bindings\\bindings.js:76:44)\n    at Object.<anonymous> (C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\lib\\index.js:6:30)\n    at Module._compile (module.js:556:32)\nError: Das angegebene Modul wurde nicht gefunden. This translates to module not found. A rerun returns Error: error: 126 with the same stack.\n- in Atom master on a different system I get this error:\nC:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\bindings\\bindings.js:83\nUncaught Error: error: 127\\\\?\n\\C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\build\\Release\\zmq.node(\u2026)\n  module.(anonymous function) @ ELECTRON_ASAR.js:168\n  module.(anonymous function) @ ELECTRON_ASAR.js:168\n  Module.load @ module.js:458\n  tryModuleLoad @ module.js:417\n  Module._load @ module.js:409\n  bindings @ C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\bindings\\bindings.js:76\n  (anonymous function) @ C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\lib\\index.js:6\n  Module.load @ module.js:458\n  tryModuleLoad @ module.js:417\n  Module._load @ module.js:409\n  (anonymous function) @ C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\index.js:2\n  Module.load @ module.js:458\n  tryModuleLoad @ module.js:417\n  Module._load @ module.js:409\n  require @ internal/module.js:20\n  (anonymous function) @ VM506:1\nAlternative error message is Uncaught Error: The specified procedure could not be found\n. > 1) in the machine with Atom stable and beta, could you check the file C:\\Users\\lukasgeiger\\.atom\\packages\\Hydrogen\\node_modules\\zmq\\build\\Release\\zmq.node exists and is readable?\nForgot to mention it. It's there, can be opened with a text editor and has a size of 156KB\n\n2) in the machine with Atom master, could you check whether running the require in the node REPL also gives an Error: Das angegebene Modul wurde nicht gefunden?\n\nYes same error: Error: Cannot find module 'C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq'\n. > I wonder what would happen if you try to build the ZMQ module using npm:\n\n\nwould you be able to require ZMQ in the Node REPL?\nor would it fail with a 127 error instead?\n\n\n~~I get this error inside the Node REPL:~~\nError: Cannot find module 'C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq'\n    at Function.Module._resolveFilename (module.js:455:15)\n    at Function.Module._load (module.js:403:25)\n    at Module.require (module.js:483:17)\n    at require (internal/module.js:20:19)\n    at repl:1:1\n    at sigintHandlersWrap (vm.js:22:35)\n    at sigintHandlersWrap (vm.js:96:12)\n    at ContextifyScript.Script.runInThisContext (vm.js:21:12)\n    at REPLServer.defaultEval (repl.js:313:29)\n    at bound (domain.js:280:14)\n. @n-riesco I ran npm install zmq inside the Hydrogen folder and require('C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq') inside the Node REPL fails.\nI'll try npm install zmq -g and require('zmq') next.\n. > I'll try npm install zmq -g and require('zmq') next.\nI get the same error as above.\n. > I'll try npm install zmq -g and require('zmq') next.\nAfter setting NODE_PATH to %AppData%\\npm\\node_modules this works.\n. More updates:\nAbsolute requires like require('C:/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq') fail, though require('zmq') inside a Node REPL started at C:/lukasgeiger/.atom/packages/Hydrogen/ works.\nIf the module is build with apm and required in a Node REPL the following error is thrown:\nUncaught Error: %1 is not a valid Win32 application and vice versa. This happens because the architectures doesn't match.\n- Node REPL: process.arch: x64\n- Atom node: process.arch: ia32\n. > What do you get by running require.resolve(\"zmq\") in the REPL?\nOh Thanks! I had a typo in the path: require('C:/Users/lukasgeiger/.atom/packages/Hydrogen/node_modules/zmq') works.\n. @pingshunhuangalex Thanks a lot for all your work! Any firsthand experience with windows helps a lot.\nWe are really working towards a better install experience with zmq-prebuilt.\n. To help us debug could you post a screenshot of the dev-console (cmd-alt-i) in Atom?\n. I guess the autocomplete provider doesn't respect the language mappings setting. Hence the python regex isn't used to determine the completions.. @nikitakit I completely forgot about this issue. I made a PR to fix it: #581 . I add the bug label again since the output looks like this:\n\nIt should be a multiline bubble otherwise it breaks the layout of the following code line.\n. Yes we should definitely handle this in transformime.\nI still don't fully understand the expected behavior.\nIs the \\r supposed to remove the two surrounding characters? How would that help with progress bars?\n. Ahh thanks. I misread the expected behavior.\nI read ad instead of cd. That makes sense now!\n. For reference: https://github.com/nteract/ansi-to-react/issues/2\n. Thejupyter notebook handles it like this: https://github.com/jupyter/notebook/blob/master/notebook/static/base/js/utils.js#L446\nI tried:\npython\nprint('this sentence\\rthat\\nwill make you pause')\njupyter notebook prints:\nthat\nwill make you pause\njupyter console prints:\nthat sentence\nwill make you pause\n. @nikitakit Good point! Tomorrow I'll ship a release \ud83d\ude80 \nYes docs would be excellent.. This can be merged. @isComment takes only one argument.\n. What about displaying the execution count somewhere in the status bar? Though that would only display the latest execution count.\n. @nikitakit What do you think about the idea I outlined above, would it work for you?\nI really want to get this into 1.0.0 \ud83d\ude80 \nI'm happy to implement it, if you're busy at the moment.\n. @alesguzik Want to make a pull request to change this?. :+1: I'll update it. Looks like we have to wait a bit for travis: https://www.traviscistatus.com/\n. - Closes #37\n- Closes #440\n- Closes #445\n- Closes #454\n- Closes #459\n- Closes #461\n:point_up: :open_mouth: \ud83c\udf89 \n. I just realized all my test machines have Node.js installed. \nWe use a node script to download \u00d8MQ on Linux and Mac. It would be great if someone could test this without a Node.js setup and see if apm uses the bundled node from Atom.\n. Yeah Atom is smart and uses its bundled node to execute the script. So there shouldn't be any problems.\n. @nikitakit Thanks a lot for testing.\nYeah we still need to build from source and therefor are stuck with Python 2 because of node-gyp.\nSince prebuild doesn't support building against Electron headers and Electrons ABI doesn't match with Nodes, this is our only option for now.\n. Well that shouldn't happen. Thanks for your feedback!\nI get a similar error on the master branch if there is no new line at the bottom of the file.\nI'll investigate.\n. We had a few bugfixes and introduced a initial version of the plugin API.\nShould we ship v0.15.0 now (before we merge #476)?\n. Shipped\n. It looks like node can't find your Xcode installation. Could you try running xcode-select --install before the upgrade?\n. Great! Thanks a lot for your feedback \ud83d\udc4d \n. Thanks \ud83d\udc4d \n. Thanks for commenting!\nYou're right, Atom makes it really easy for anyone to change keybindings. So this PR primarily reduces the barrier of entry for new users coming from notebooks.\n\nOnly thing I can point out to this regard is that on my Jupyter Notebook running in Mac Firefox, running a cell is bound to ctrl-enter and not cmd-enter.\n\nI personally like to stay with cmd-enter since it's the default function key on mac. For me it just feels more native so I don't mind the inconsistency with jupyter there. \ud83d\ude09 \n. Anyone for a merge, so we can release 1.0.0?\n. @nikitakit Thanks for the feedback!\nYou're right, I think the easiest thing is to throw the error and catch it inside the plugin.\nBy the way, the plugin wrapper is super nice to use \ud83d\udc4d \ud83d\udc4d \n. @nikitakit Oops, you probably missed the discussion about 2FA.\nI'd be really happy if you set up 2FA so I can add to the org again.\nAre there any reasons preventing you from using 2FA?\n. @dnowacki-usgs Thanks for opening a issue.\nThis shouldn't happen but I can't reproduce it.\nCould you post the exact command you are trying to run and a screenshot of the development console (cmd-alt-i)?\n. The latest version of jmp is only used in the development version of Hydrogen.\nThe fix will be released in Hydrogen 1.0.0 (soon). If you cannot wait, you can install the latest development version by following this steps: https://github.com/nteract/hydrogen#development.\nSorry for the confusion.\n. > I'm certainly more likely to contribute if it's ES6 instead of CoffeeScript.\nFor me this argument is sufficiently to switch. \ud83d\ude04\nAnd I imagine you are not the only one.\n@n-riesco Node 4.4.5 doesn't support all ES6 features so this could lead to strange errors. With babel we would be definitely on the save side.\nOne sad thing, we would lose our position in the github developers ranking for coffeescript \ud83d\ude1c \n. > I think the most compelling argument to start using Javascript is to lower the hurdle our contributors have to jump.\nThat's the reason why I raised this discussion.\n\nUsing all the ES6 features may put off some developers that work mostly with browsers.\n\nI agree. I'm not familiar with them either but we could use them if we need to.\n\nDo you have anything in mind about what this transition to JS would look like?\n\nIf we really wan't to move to JS I would propose this short term plan (post 1.0.0):\n- I'll be traveling to NY on monday (wooo \ud83c\udf89 ) and have some time during the flight to do boring tasks, so I volunteer to move the entire codebase to JS (including eslint). Probably with the help of decaffeinate. The only thing I fear and will probably miss is the existential operator in coffeescript.\n- Then we should discuss (probably in a dev meeting) how we'd like to move forward. I really want to make use of more code from nteract (kernelspecs, enchannel, rx-jupyter, ...).\nI don't have the background in JS you have. So if you say moving to JS just for the sake of change doesn't make sense, I'm absolutely OK with it.\n. > It would be neat to see if you can convert single files within the code base to JS (with use babel; at the top) yet still require them from coffeescript in Atom.\nThat totally works!\n. Hi @xinzhou1023,\nyou don't need to mess with the kernel specs settings if you run a remote kernel.\nAre you sure the URL to your remote kernel is correct? You can check it by opening it in your web browser. I remember it usually is http instead of https.\n. @ksun91 Great that it worked!\nWe will release version 1.0 soon which simplifies the installation process a lot.\n. @n-riesco Thanks for taking a look! I'm going through your comments now.\nMost of them should be fixed already by the follow up commits after. Sorry for the bad commit history.\n\nUse const where appropriate.\n\nThis is fixed and is enforced by eslint.\n\nPlease, don't use 2-space indentation. Besides the readability issue, it doesn't discourage sloppy coding (with high cyclomatic complexity).\n\nI disagree. I think 4-spaces are really helpful for languages like coffeescript or python which rely heavily on indentation. But the standard for JS is 2-spaces, isn't it?\n\nspecial care is needed with the translation of ?, because it's incorrect at many places.\n\n\ud83d\udc4d \ud83d\udc4d \n. I could live with 4-space indents but I prefer 2-spaces since it makes it consistent within the nteract org.\nSince the main reason we move to JS is to improve the experience for new contributors, I think using 4-spaces would be a step back on this goal.\nThat said, I tested every command in Hydrogen and fixed the bugs I initially introduced here. ~~There are a few things left to do (probably some unnecessary .bind(this), etc.). But I like to leave them for future PRs to keep the diff minimal.~~ See #508 . Rebased. You need Python 2 for building Hydrogen (you can use Python 3 later).\nTake a look at our installation guide.\n. That's great! \ud83c\udf89 \n. Since 1.0 we bundle zeromq which should make installation easier.\nThis is really strange. It seems like to be a problem with apm. I don't know why they are using temporary directories during the install.\n. @asmotrich Your Node installation shouldn't interfere with Atom since it uses its bundled version.\nIt would be great if you post a issue on the atom/atom repo.\n. I'm going to close this and move the discussion to https://github.com/nteract/hydrogen/issues/507#issuecomment-261615483\n. Thanks for reporting. It looks like it's the same issue as #506 \n. @nikitakit Oh you're totally right.\nI overlooked 'C:\\Users\\Pingshun' is not recognized as an internal or external command, operable program or batch file..\n. @pingshunhuangalex Could you post the full log (C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161017-15732-526vvq\\npm-debug.log)\n. I'm sorry, it's probably already deleted since it's inside the temp directory.\nIf you try running apm install hydrogen again it should be created again.\n. Oh that's bad. In that case it's the same problem as #506 and apm deletes the directory before the installation finishes. \n. @pingshunhuangalex @jensb89 @asmotrich \nI think we just have found a way to get around this apm error. Could you try to install Hydrogen by running:\napm install hydrogen --verbose\n. Thanks for your answer. The log tells us the directory is deleted before the installation finishes:\n```\n\nzeromq@3.2.1 install /private/tmp/apm-install-dir-1161018-766-11xomhk/node_modules/Hydrogen/node_modules/zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\n\nshell-init: error retrieving current directory: getcwd: cannot access parent directories: Permission denied\nsh: prebuild: command not found\n/private/tmp/apm-install-dir-1161018-766-11xomhk\n\u2514\u2500\u2500 (empty)\nnpm WARN enoent ENOENT: no such file or directory, open '/private/tmp/apm-install-dir-1161018-766-11xomhk/package.json'\n```\nI have no idea how to work around this issue. I reported it: https://github.com/atom/atom/issues/13256\n. @jensb89 I just saw you ran the install with sudo, this isn't necessary.\n. We just released 1.0.1. This won't fix the apm issue but it should speed up the installation so it may solve your issue.\n. Could you run apm --version and post the output?\n. Thanks for linking the old issue. We changed our dependencies. We now require Visual Studio 2015 for the installation.\nPlease make sure to install VS 2015 via according to our guide. If you already have VS 2015 and still have trouble, please try the following from a power shell:\nset GYP_MSVS_VERSION=2015\napm install hydrogen --verbose\n. @pingshunhuangalex No you don't need the whole VS2015. You just need the C++ build tools 2015. Please check out our readme.\nVersion <=0.15 required the whole VS2013 since the build tools weren't available as a separate install for this version.. I'm not a windows developer. What do you mean by win-build-bundle? Could you provide a link?\nIn any way you could try and run\nset GYP_MSVS_VERSION=2015\napm install hydrogen --verbose\nfrom a power shell.. This should be fixed in the latest release \ud83c\udf89 \nPlease try again and report if it works.. That's great! \ud83c\udf89 \ud83c\udf89 \n\nWe are now able to provide prebuilt binaries of zeromq for the usage in Atom/Electron. This means we don't need to build \u00d8MQ during the install of Hydrogen. Hydrogen can now be installed without any external dependencies. This leads to significantly reduced installation times.\n\nHence the install folder isn't deleted by apm half way through the install.\n\nIt does show up the below error message before/after installation\n\nThis looks like a error from apm update. It shouldn't be related to Hydrogen.\n. Damn I messed up the rebase pretty bad.\n\u27a1\ufe0f #513. Woo thank you \ud83c\udf89 \n. We should ship 1.0.1 after this is merged since it may fix #507.\n. Thanks for noticing. We use the MIT license which is correctly detected in our github repository.\nUnfortunately we can't really do anything about the Atom package repository. It looks like we run into https://github.com/atom/atom.io/issues/68.. Yes, the multiline output bubbles doesn't handle big output very well. We should definitely change that.\nWe are using Atom's block decorations instead of overlays for displaying output bubbles for a while now. Recently I thought about completely redesigning the multiline/rich output bubbles to something more robust.\nAt the moment we have inline, multiline and rich output bubbles which are great for small outputs but doesn't handle anything beyond that very well.\nWhat do you think of merging multiline and rich bubbles to a fullscreen one similar to a cell output in nteract?\n. > I'm still in favor of keeping the inline display for super short outputs, though.\nAbsolutely! \ud83d\udc4d . Glad you like it!\nYes I noticed that too. The problem is we cannot rely purely on CSS since max-width: 100% would equal to the line length. So max-width is simply set here once.. I think there is a event for that, let me see.. Oh yeah, here it is: https://atom.io/docs/api/v1.12.7/Pane#instance-onDidChangeFlexScale. Absolutely!\n@willwhitney Thanks for making all of this possible.. Puh that shouldn't happen.\nCould you open the dev console (cmd-alt-i) and post a changelog=. That's strange, no errors are reported here. It fails while trying to start the python kernel.\nJust to make sure, could you disable your other packages (especially Watchman) and try it again?. @mictadlo Since Atom crashes, could you post the crash report. It should be in ~/Library/Logs/DiagnosticReports.. Based on the log you are running into https://github.com/zeromq/libzmq/issues/2175. This should be fixed by https://github.com/zeromq/zeromq.js/pull/106. Could you try to remove Hydrogen with apm uninstall hydrogen and reinstall it.\nWe just published a new version of zeromq which should fix the problem.. Woo that's great \ud83c\udf89 . Whoops I forgot to cross out my comment about the scrolling. I figured it out in the latest commit.\nWe used outputContainer.onmousewheel = e => e.stopPropagation(); before to enable scrolling in the result bubble. But this blocks the scrolling of the text editor.\nThis behavior is inconvenient if the result bubbles are fullscreen so I needed to add some logic for when to scroll inside the bubble and when not.\n@n-riesco Thanks for the help!. @hastebrot Thanks for chiming in. You are right, the hard-coded 50 characters are not great.\nI think the best way would be to check if the inline output fits in the current view instead of making it user configurable. Though I'm not sure how this could be implemented.\nWould you like to tackle this one? I'm happy to merge a PR \ud83d\ude04 . At the moment I'm not using Hydrogen for my daily work. Could someone try out this PR and see how it feels?. Thanks for taking a look!\n\nthe output box taking almost all the available width looks ugly for small outputs\n\nI did this on purpose to make the result bubbles feel more robust and visually consistent. I think the variable sizes can make the screen very cluttered. I wanted to make the multiline bubbles feel more like cells so we can support rich interactive output like plotly in the future.\n\naction panel overlaps with large outputs\n\nDo you have a suggestion how we could fix it? The only option I see is to go back to a horizontal menu (which I tried to avoid).\n\nsvg output is centered unlike all the other outputs \n\nI adopted the behavior of nteract here. We could align everything left if you like.\n\nI find very distracting that the margin goes over the output boxes.\n\nCould you elaborate?\n\nI manage to get a Uncaught TypeError: Cannot read property 'screenRow' of undefinedwhen scrolling up\n\nThis is fixed in the latest Atom release: https://github.com/atom/atom/pull/13321\n\nIt'd be nice to have a way to distinguish output, stdout and stderr\n\nI think we would need to introduce multiple output containers to make this work. How does nteract and jupyter handle this?. I should have expressed my self a bit more carefully. Please don't see this PR as \"my vision for Hydrogen\". I originally only wanted to refactor the result view code to address #252.\nMy refactor completely broke the styling so I just started from scratch \ud83d\ude06.\n\nI don't follow the reasoning there\n\nThe main thing I don't like about the current output bubbles are their behavior with large output. For example multiple plots in one output bubble don't look good.\nThis is why I initially opted for full width bubbles. I definitely see your point with the full width output bubbles now (I just tried it with a external widescreen monitor \ud83d\ude04 ).\nI'll try to revise the design next week to address your feedback.\n\nI find very distracting that the margin goes over the output boxes.\n\nOh the wrap-guide, yes that's distracting. But I don't know if we can do anything about that.\n\nIt'd be nice to have a way to distinguish output, stdout and stderr\n\nI think we should leave this for a later PR.\n\nOne question: is Hydrogen planning to replicate nteract's functionality?\n\nOh no, I just used it for inspiration here. Maybe a bit too much \ud83d\ude04 . Thanks for all of your comments! \ud83d\udc4d \nI'm going to close this PR because I tried to do too much at once.\nThat said, I learned a lot during the process and will split the improvements into smaller PRs.. Unfortunately apm rebuild doesn't work with Hydrogen at the moment. https://github.com/mafintosh/prebuild/pull/135 should fix it.\nI would recommend you try\napm uninstall hydrogen\napm install hydrogen\nto install a from scratch.. @rgbkrk Do we need to bump prebuild in zeromq and jmp to ensure apm update installs prebuild 4.5.0?\nWe currently require prebuild: ^4.4.0 there.. No problem. Already rebased. @MaximilianR Since we now have the possibility to connect to a docker container via kernel gateways is this still a issue?. @n-riesco Thanks for the great explaination!\n\nI'm not sure how the other maintainers feel about the idea, but I think this functionality should be replaced by a command that prompts the user for the location connection.json.\n\nSince we have support for remote kernel connection for a while now, I personally would be in favor of completely deprecating the connection.json feature unless there is a specific use case which remote kernels don't support. Less code is always easier to maintain \ud83d\ude04 \nThough we would need to notify users in advance that we're considering deprecating this feature and invite them to join our discussion if they have a use case not supported by remote kernels.\nWhat do you think?. > But I would keep it until it breaks. There is no need to cause unnecessary pain to any users.\n\ud83d\udc4d \n\nThe kernel gateway is not a replacement for this functionality. I don't think it can connect to an existing connection (and also, my usual piece of criticism: jupyter isn't distributed in the Ubuntu 16.04 repositories).\n\nYou can connect to a kernel started by jupyter kernelgateway or jupyter notebook. I guess this should work with ipython notebook as well.. @n-riesco Have you tried the workflow described here\nI think without the token it should work for old ipython versions too.. Hydrogen can now connect to the server started in 2) via \"Hydrogen: Connect to Remote Kernel\".\nTo connect the jupyter console you would need to first start the notebook and run %connect_info inside it (or hydrogen, then start the console via jupyter console --existing <here the file from %connect_info>.. > The point I'm trying to make is that Hydrogen cannot access an existing connection through a notebook server, because the notebook server only sees the sessions started by the server.\nThat's true \ud83d\udc4d \nOne thing I like to add for future readers:\nIf you are only concerned about connecting a ipython console to a kernel in a easy way, you can start the kernel with Hydrogen and use Hydrogen Launcher to open a console automatically connected to your current kernel.. Hydrogen starts the Kernel in the directory of the current file. So as long as you start the kernel in the root directory of your project this should work.\nYou can check in which directory the kernel was started by executing !pwd in Hydrogen or IPython.. > start the kernel in the root directory of your project\n@lgeiger how would you do this?\nYou can do this by starting the kernel in any python file that is in the root directory of your project.\n@buyology Please feel free to submit a PR changing this behavior. That would be cool \ud83c\udf89 \nI personally like to start the kernel in the current file but I see that this becomes tedious when working in a bigger project. It's probably best to change that.\n. @tiangolo We love merging your PRs keep up the great work!. @pedrecal This looks more like a issue from apm and not from Hydrogen.\nDoes the error also appear while installing other packages?. @pedrecal It looks like you're using a very old version of Atom. Could you try upgrading it?. @n-riesco Thanks for testing! I think we should ship a new minor version soon.. Unfortunately it looks like you are running into: https://github.com/atom/apm/issues/648. This should be fixed in the latest release \ud83c\udf89 \nPlease try again and report if it works.. Thanks for opening the issue. Unfortunately I don't know much about Docker.\n@tiangolo May be able to answer your questions.. @tiangolo @MaximilianR Thank you a lot for those excellent explanations! I'm sure that this will help a lot of users \ud83c\udf89 \nI love the idea of a separate KERNEL_CONNECTION.md file! \n\nWould that be OK @lgeiger ?\n\nThat sounds awesome!. Sure! I'm happy to add more menu items. I'm looking forward to your PR \ud83c\udf89 \ud83d\ude04 \nThough I would keep the label Connect to Remote Kernel for consistency.. Hydrogen rescales the image to fit the screen. It looks like your figure size is very large and therefor the font size relative to the figure size appears very small.\nUnfortunately I don't know R, so I have no idea how to change the figure size.. Try adding\n'atom-text-editor, atom-text-editor:not([mini])':\n  'cmd-enter': 'editor:newline-below'\nto your keymap.cson (Atom->Keymap...) file.\nThis should overwrite Hydrogens default.. Great! \ud83c\udf89 . It guess that's a inconsistency in IPython (or the config).\nTry one of the following examples:\npython\n%matplotlib inline\nimport matplotlib.pyplot as plt\nplt.plot(range(100))\npython\nimport matplotlib.pyplot as plt\nplt.plot(range(100))\nplt.show(). Great! \ud83c\udf89 \nYou can also add %matplotlib inline to the \"startup code\" setting in Hydrogen if you don't want to mess with the global IPython config.. From #77\n\nHydrogen relies on Atom's code-folding and indentation right now to figure out what a block is. This is so that the code for finding blocks works across languages.\nThis is definitely annoying behavior, but I don't know of a way to address this without writing a parser for each language that Hydrogen supports.\n\nFor now this needs to be fixed in Atom's language-python package.. @nikitakit Thanks for investigating.\nI have the mentioned versions installed and also experience this (expected) problem. I'm going to merge it since the problem isn't caused by this PR!. I noticed some differences in the error handling between connecting to jupyter notebook or jupyter kernelgateway:\nThe connection error get's handled correctly in the case of connecting to a notebook. Using the kernelgateway the connection fails silently (only get's logged in the dev console).\nWe might have discussed this already in the past and it was due to technical limitations but I can't remember it for sure and can't find the relevant issue.. Here's a GIF using jupyter kernelgateway:\n\nAnd the console log:\n\nThe error message in the terminal is the same as you posted in https://github.com/jupyter/kernel_gateway/issues/204. Does import scipy as sp work in the IPython console?\nYou can start the IPython console by running ipython in your terminal.. @joseclcodes Great to hear you got it working! \ud83c\udf89 . Right now the font size is not easy to configure.\nYou can add the following to styles.less:\nless\n.hydrogen.output-bubble .bubble-result-container pre {\n  font-size: 24px;\n}. @hebijiandai That's great. We really need to overhaul our stylesheet so those things are easier to customize.\n\nThe pyplot graph is also small,how to solve it?\n\nThe font size inside the plot are handled by matplotlib. You'll need to change it there.\n. > hydrogen package still lag upon my Computer.\nIs there a specific place where the performance is bad?\nHydrogen itself doesn't do any intensive calculations so I guess performance problems are mostly due to Atom or Python itself.. Hydrogen should only start one python process.\nCould you post a screenshot of your dev console (Ctrl+Alt+I) after a fresh start of Hydrogen?. Lets \ud83d\udea2 1.4.0. That's awesome, thanks \ud83c\udf89 . Close in favor of #553 . Would be ctrl-alt-backspace available?\nAre you using Linux or Windows?. Thanks for your feedback! I'm using macOS so I can't easily test Windows keybindings.\n\nctrl-alt-backspace seems to be already taken by the core module.\n\nHmm, would ctrl-shift-backspace work for you?\nIn the meantime you can change the keybindings by editing keymap.cson (Atom->Keymap...).. That's great.\n@vuki Would you like to send a PR to fix it?. I went ahead and already made a PR: #559 \n@vuki Thanks a lot for your help!. > @n-riesco claims that these dependencies are no longer needed and that it should install out of the box.\nThat's true. Since v1.2.0 we rely on prebuilt binaries of ZMQ. This means you don't need C++ build tools to build ZMQ from source.\nUnfortunately the download of the prebuilt fails on your machine:\nprebuild-install http request GET https://github.com/zeromq/zeromq.js/releases/download/v4.1.0/zeromq-v4.1.0-electron-v49-win32-ia32.tar.gz\nprebuild-install WARN install getaddrinfo ENOTFOUND github.com github.com:443\nIn return we fall back and try to build ZMQ from source which fails the same way as described in #507.\n@eskemojoe007 Are you behind a proxy or somehow unable to access the URL mentioned in the error log?\nWhat's also strange is that zeromq tries to build from source (node scripts/preinstall.js) before the prebuild error message appears.\n@rgbkrk @n-riesco Any idea why this may be the case?\n@eskemojoe007 Could you try to install Hydrogen from the console with apm install hydrogen?. > it's pulling zeromq.js@4.1.1, which should have fixed the error.\nThat's true, downloading the prebuilt binaries should now be possible behind a proxy.\nI'm not familiar with using apm or npm behind a proxy, but I think you need to set up apm correctly.\nTry running:\napm config set proxy your-url\napm config set https-proxy your-url\n\nUnfortunately downloading of the prebuilt binaries is failing on your machine and zeromq falls back to building from source.\nFor this additional assets have to be downloaded. Latter download doesn't yet support proxies. \nCould you post the entire log? Especially the lines before > node scripts/preinstall.js are interesting.. Sorry for the vague answers, I've never used a proxy.\n\nIs it possible that prebuild is not using the correct cafile?\n\nI'm pretty sure prebuild-install currently doesn't support certificates. It would be great if you open a issue (or even better a PR \ud83d\ude04 ) there.\nUnfortunately I guess you either have to install Hydrogen without a proxy or install the development version and manually download the prebuilt binary from https://github.com/zeromq/zeromq.js/releases/download/v4.1.1/zeromq-v4.1.1-electron-v49-win32-ia32.tar.gz and copy it to Hydrogen\\node_modules\\zeromq\\build\\Release\\zmq.node.. As mentioned in the error log, prebuild-install will look for cached prebuilts:\nprebuild-install info looking for cached prebuild @ C:\\Users\\USER\\AppData\\Roaming\\npm-cache\\_prebuilds\\https-github.com-zeromq-zeromq.js-releases-download-v4.1.1-zeromq-v4.1.1-electron-v49-win32-ia32.tar.gz\nYou could manually download the relevant prebuilt binary and place it at the path mentioned above.. Should we ship a patch release?. I'm not sure if it ever worked correctly. To be save and if we want to adhere strictly to semver it would be a major release. But I don't think we're quite ready for v2.0.0.. Just some updates on this effort:\nIn #655 and #705 we added support for more transforms using the packages exported by nteract.\nnteract also exports @nteract/transform-vega which is used by altair's output.\nI wasn't able to get it working right out of the box, but I'm confident that it isn't too hard to implement with some tinkering. If anyone want's to pick up on this, any help is greatly appreciated \ud83c\udf89 . Will be fixed once Atom 1.20.0 is stable.. We will support Vega and Vega-Lite in the upcoming release:\n\n. Slick! Thanks for shipping. > Oh interesting, we could be using the transformime stuff here in general for inspection results to show rich results.\nThat's exactly what we're doing \ud83d\udc4d . For text/plain we split the first line from the rest, so it can be displayed as a heading when the inspector is collapsed. . @BenRussert Thanks again for your PR. Would you like to help us maintain Hydrogen?. That's great \ud83c\udf89 . We definitely shouldn't block other completion providers. I'll submit a PR later today.\n@rgbkrk If the kernel is busy we generally cannot receive any completions from the jupyter kernel, is that right?. Closed by #567 . Woo that's great \ud83c\udf89 \nI'm looking forward to test and review this PR tomorrow.. I found two (related problems) wich may be the cause for the shutdown weirdness.\n\n\nThe status bar doesn't update together with the current grammar, which leads to potential exceptions:\n\n\n\nHydrogen always starts a new kernel for even if a kernel with the same grammar is already running:\n. Unfortunately I don't really know how to fix this either.\n\n\nPart of the problem is that onKernelChanged  is only triggered onEditorChanged. But we would need it to be also triggered on a grammar change caused by the cursor moving to an other grammar block. I don't know if Atom has a event for that.. What version of python are you trying to use inside Hydrogen?\nMy guess is that python3.4 (as mentioned in the kernel spec) is the wrong executable.. Excellent :tada:. Hydrogen currently doesn't correctly handle payloads in status messages. Though if I recall correctly payloads are considered deprecated in the latest messaging spec.\nThat said, you can use Hydrogen:Toggle Inspector to display method declarations in a separate pane: https://github.com/nteract/hydrogen#code-introspection. @rgbkrk I don't know the full reason but if it isn't trimmed our single line output wouldn't work.\nMaybe we should even solve it inside transformime.. This looks like a styling issue.\nWhich theme are you using and can you reproduce this with the standard theme?\n. Could you post the steps to reproduce this issue?. I'm going to close this since the error is thrown from Atom itself and I can't reproduce it.\nFeel free to reopen this issue if there's a way to possible reproduce it.. I just tried {\"python\":\"magicpython\"} and it works for me.\nCould you post a screenshot of your Hydrogen settings?. You forgot a quote ;)\nUse {\"python\":\"magicpython\"} instead of {\"python:\"magicpython\"}.. :joy: No problem! I'm glad it's working :+1:. Have you followed the kernel installation instructions at https://nteract.io/kernels/python?. Hydrogen executes code in the same python instance to enable a interactive coding experience.\nIn your case this means if you run the code for the first time it will throw a error since @foo isn't defined.\nIf you now run only\npython\ndef foo(func):\n    def bar():\n        return \"<i>\" + func() + \"</i>\"\n    return bar\nby selecting it and then execute the whole file, it will work since @foo is already defined in the python instance.\nTo start with a fresh python instance, click on the kernel name in the status bar and restart the kernel.. It looks like it references the wrong Python version (3.5 instead of 3.6).\nI had a similar error when upgrading my Python environment.\nI'm sure there is a better way of doing it but this worked for me:\npython3 -m jupyter kernelspec remove python3\npython3 -m pip install ipykernel\npython3 -m ipykernel install --user. Excellent!. Could you open atom in dev mode (View --> Developer --> Open in Dev Mode) and post a screenshot of the dev console (View --> Developer --> Toggle Developer Tools) after running the command?. Oh I'm sorry I meant Toggle Developer Tools. The error doesn't seem to come from Hydrogen directly.\nIs it also there if Hydrogen isn't running? Which version of Atom are you using?. Could you expand the Hydrogen logs like this?\n\nIn particular Hydrogen ResultView: Add result and the logs after that are interesting.. Thanks, everything looks normal here.\nPlease check that you haven't disabled Use Shadow DOM under Settings > Editor. This option should be enabled and was removed in Atom 1.13.. Could you try to update Atom to the latest version?. Atom 1.13 is the latest stable version: https://github.com/atom/atom/releases/tag/v1.13.0. @orijjsjje I just tried your original example multiple times and don't encounter this issue.\nYou said everything worked fine in the past. Have you changed your python environment in between?. Did you manually alter the kernel specs setting of Hydrogen?\nWhat is the output of jupyter kernelspec list --json?. > I found a solution.\nThat's great!\n\nStill, I'm a little puzzled who did this happen, and why was the path wrong...\n\nThe same happened to me while upgrading my python installation because the jupyter kernel needs to be updated as well: https://github.com/nteract/hydrogen/issues/583#issuecomment-272510110. @n-riesco Thanks for the feedback. I mentioned atom --version.\nBut I don't think we need the output of apm list, I never found it useful for our case.. Thanks for taking a look at this\n\nUnfortunately, #88 is very hard to reproduce.\n\nIt happens for me approx. 80% of the time. A simple kernel restart fixes it but it's still annoying \ud83d\ude06 \n\nIf I remember correctly from my experiments with #88, when #88 happens, the connect event never gets sent on the IO socket.\n\nBased on the logs, the IO socket is connected (or at least emits a connected event)\n\nDoes your fix work when you replace setTimeout with nextTick? If it doesn't, what's the minimum wait that works?\n\nUnfortunately not. Estimating the wait is also a bit tricky since the issue doesn't reproduce all the time. But 1s is definitely overkill.\n\nreplacing log(\"startupCallback:\", this.startupCallback); here with log(\"startupCallback:\", arguments.callee); fixes the issue for you?\n\nUnfortunately this doesn't help either.. > Does it remove the stderr message from the log?\nNo, I get the same message from IJavascript.\nNote that I only see the logs from IJavascript because I enabled them via process.env.DEBUG='*' and IJavascript logs them to stderr.. @BenRussert Thanks for the video. I can reproduce the same behavior.\n@n-riesco Thanks for taking a closer look!\n\nHydrogen invokes Kernel.execute before the shellSocket is logged as connected, which should be OK (that's what we use zmq is for), but it seems it isn't.\n\nIndeed that should be OK, a successful kernel start shows the same behavior. See the logs of a succesful start from above.\n\nHydrogen gets IO messages before the ioSocket is logged as connected (weird, but possible depending on the order of things being scheduled in the event loop).\n\nI would agree with \"weird but possible\" \ud83d\ude04 \n\nsetTimeout (as you discuss above) could also work, but I'm afraid it'd be unreliable and fail sometimes.\n\nYeah, I don't like this solution either since it seams to only happen for IJavascript (at least on my machine).\n\nI like the idea of waiting until zeromq reports that the sockets are connected.\n\nDefinitely a thing we could try.\n\nBTW, since zeromq uses zmq v4, I don't think we need a try block here any longer.\n\nThanks for pointing this out.. Thanks for the suggestions!\n\ndoes the problem disappear if you install the IJavascript kernel with ijs --ijs-spec-path=full?\n\nUnfortunately not \ud83d\ude15 \n\ndoes the kernel spec point to the same file you get when you run require(\"child_process\").execSync(\"which ijskernel\").toString(); in atom?\n\nThe kernelspec points to:\nbash\n\"javascript\": {\n  \"resource_dir\": \"/Users/lukasgeiger/Library/Jupyter/kernels/javascript\", \n  \"spec\": {\n    \"language\": \"javascript\", \n    \"display_name\": \"Javascript (Node.js)\", \n    \"env\": {}, \n    \"argv\": [\n      \"/usr/local/Cellar/node/7.7.3/bin/node\", \n      \"/usr/local/lib/node_modules/ijavascript/lib/kernel.js\", \n      \"{connection_file}\", \n      \"--protocol=5.0\"\n   ]\n}\nwhich ijskernel returns /usr/local/bin/ijskernel which is a symlink to the file mentioned in the kernelspec.. > Could you run the IJavascript tests (npm t) on that machine?\nThanks for the hint! The tests totally fail on my machine. I don't know why I haven't tried this earlier \ud83d\ude04 \nJust realized that IJavascript doesn't use Travis, I try to reproduce it there and make a PR.. The test output on my machine is either https://travis-ci.org/lgeiger/ijavascript/jobs/213530248\nor https://travis-ci.org/lgeiger/ijavascript/jobs/213530249.\nThe first output probably shows the problem described in this issue.. Fixed in #678 \ud83d\ude80 . Hi Tobias,\nthanks for opening the issue!\nInterrupting a running kernel should definitely not require a kernel restart.\nTake a look at the following example in python:\n\nCould you provide more information about which kernel and which version of Atom and Hydrogen you are running?\n. Oh no this looks like a Windows specific issue.\n@rgbkrk @n-riesco Could it be that Windows doesn't support the SIGINT signal we use to interrupt the kernel process?\n@tobiasbj Could you post the output of the developer tools as described in our Debugging Guide after you tried to interrupt the kernel?. I had a look at the Node.js docs:\n\nNote: Windows does not support sending signals, but Node.js offers some emulation with process.kill(), and ChildProcess.kill(). Sending signal 0 can be used to test for the existence of a process. Sending SIGINT, SIGTERM, and SIGKILL cause the unconditional termination of the target process.\n\nSo on windows instead of interrupting the kernel it's killed.\nI'm not aware of any workarounds so we probably should disable interrupting on windows since it doesn't do the right thing.\n@tobiasbj You can try and use remote kernels which should handle interrupt messages on windows as well.. Thanks for the links! Implementing a workaround would definitely be a better solution and we could use it in nteract as well.\nThat said, I'm not using Windows either and have no knowledge about Windows events so I won't implement this any time soon.\nI guess disabling the feature is the best we can do so far.. > It then makes sense to keep an issue filed in case someone with Windows wants to contribute a workaround.\nTotally agree \ud83d\udc4d \nWould you like to open one?. Hydrogen does not support running code from notebook files.\nThat said, we definitely shouldn't throw a exception. It looks like Hydrogen doesn't play well with atom-notebook and both packages try to run the same code.\nI can't reproduce this at the moment because I'm running into https://github.com/atom/apm/pull/673 during the install of atom-notebook with Atom Beta.\n. Are you using a remote or local kernel?\nBy the way you shouldn't need to manually edit the kernelspec setting in hydrogen.. Hydrogen shouldn't register a keybinding for ctrl-c.\nCould you check which package registers this key binding by executing \"Key Binding Resolver: Toggle\" from the command palette and then pressing ctrl-c? . > Needed to know a clean and less messy way of running R code in atom.\nYou can run R code with hydrogen if you install the IR kernel: https://nteract.io/kernels/r. Oh OK cool, Rbox uses Hydrogen to execute code and adds some custom keybindings.\nYou can open a issue or a PR on their repo to remove the windows keybinding since it conflicts with the copy command.. Let's ship a patch release! :shipit: . If I recall correctly we scale images to fit the screen (in CSS). Therefor max-width and max-height are set and the image is scaled down accordingly.\nI'm open to change that behavior. What would be your desired behavior for the output bubble?. @dnowacki-usgs Would you like to submit a PR for this? It should by mainly a CSS change.. @Earthson You're very welcome to submit a PR. Feel free to ask any questions if you need help.. Yes, the user can customize it via a personal style sheet. Though we should definitely make this easier by cleaning up our CSS.\nThe relevant issue is here.. > Sorry for being picky,\nNo problem, thanks for opening a issue!\nThis looks like a issue with your Atom theme. It renders correct on my machine with the default Atom One Dark theme.\nWhich  theme are you using?. > Will changing the vertical-align from top to middle affect what it displays in Atom One Dark theme?\nUnfortunately this doesn't work for Atom One Dark.\nI'll take a look if there is an other solution.. Could you post the output of the developer tools as described in our Debugging Guide?\n. It looks like the Hydrogen config is somehow broken.\nCould you reset the Hydrogen kernel spec settings, restart Atom and try again?\n. Thanks, let's track this down.\nCould you now again post the entire log of the dev console before messing with the Hydrogen settings? It's best to see if you do a screenshot.. It looks like Nimble Commander doesn't forward the environment variables correctly.\nYou can check this by executing process.env in the dev console and see if there's a difference between the two launch methods. If they differ you may want to open a issue in the Atom repository.\n\nthough Atom Helper consumes 400% and the fans a spinning like crazy).\n\nWoa that shouldn't be the case. A small increase in CPU usage is expected because of the python process running in the background, but 400% is insane.. If you still like to use Nimble Commander, you can add the output of jupyter kernelspec list --json to the kernel specs field in the Hydrogen settings.\nFell free to reopen this issue if you have any problems.. I really like the new behavior.\n@n-riesco @nikitakit @rgbkrk What do you think?\n. > I also prefer the new behaviour, but not in the watch view.\nGood point! The watch view should still scale to fit.. Sorry closed it by accident. -> #609. @Earthson Thank you for tackling this!. Thanks :+1:. Could you test if cell magics that don't change the kernel language work?. We probably missed this one because on macOS the scrollbars are hidden by default :smile:\nI don't know if there is a standard way of reserving space for scrollbars.\nWould you like to make a PR to fix this?. Definitely a interesting idea though not trivial.\nCould you elaborate a bit more?  What would the desired workflow be?\nMy first thought is, when should the file be parsed for possible watch statements?. I don't think this is possible for us to do in a clean way, apart from needing auxiliary files, in Hydrogen one can run single lines or even just small pieces of the code which would make it confusing what results to store.\nThis is the use case where notebooks shine, since the output is saved in the json notebook file. You might want to try out nteract.. This error is thrown from a package required by Hydrogen. Could you please provide steps to reproduce?. Since hydrogen 1.0.0 you don't need to install pkg-config and zeromq separately anymore. We bundle all the necessary dependencies (except jupyter).\nIt looks like zeromq (our bundled native module) is built against the wrong Node version. Do you have multiple versions of Atom installed?\nCould you run apm rebuild, restart Atom and try again?\nIf this doesn't help please try:\nbash\napm uninstall hydrogen\napm install hydrogen\nPlease post any errors that might occur while running above commands. . Scala may use a non default language name for their kernels. You can check the exact name by running jupyter kernelspec list --json and taking a look at the language field.\nModifying the Language Mappings settings in Hydrogen should help in that case.. Thanks for trying, you can remove the mapping {\"scala\":\"scala\"} again, since it doesn't do anything.\nMake sure you have a syntax highlighting package like language-scala installed and activated. Otherwise Atom/Hydrogen won't recognize the language.. Could you post a screenshot of the dev console as described in out troubleshooting guide?. Have you tried the Scala kernel with jupyter?. For cell magics it's important that they're on the first line of the cell. This wasn't the case before.. It depends on your setup. How are you using your setup with jupyter notebooks or ipython?\nHydrogen only needs jupyter on the path to find the kernel specs. If that's not possible you add the output of jupyter kernelspec list --json to the \"Kernelspec\" settings in Hydrogen.. Sorry for not getting back to you. I'm glad you got it working \ud83c\udf89 . Excellent idea! That's a lot easier \ud83c\udf89 \nWould you like to update the debugging guide as well?. > @lgeiger Shall I remove all the info about the opening atom in dev mode?\nYeah, I would replace it with the new config option.. > Are you able to do some summary statistics to find out which packages are taking the most space?\nMobX is quite lightweight. React and ReactDOM take 5.2MB. I should have better called this PR \"Lukas learning React and MobX\" \ud83d\ude04\nReact is a bit tricky when using it only on parts of the application but I'm beginning to really enjoy MobX. It makes everything much more transparent and can even be used without any frontend library.. Does anyone use Facebook's Nuclide or any other packages using React and is able to test if this Branch plays well with it?. Thanks!. I tried out this branch with Nuclide and it worked great \ud83c\udf89 \nI was a bit afraid about using different versions of React at first but it doesn't seam to be a problem.. > It's the weekend now so I can still take this for a spin later on.\nNo problem! I wasn't aware that Nuclide is that easy to install ;)\n\nAre you wanting to merge as much as you've done here for the moment?\n\nI think this PR is in a good state now. There's still a lot to simplify here but we can keep that for later to keep things moving forward \ud83d\udc4d \nOne comment on the inspector:\nThis PR removes the option to minify the Inspector. It's been broken for most languages anyway and  in my option doesn't add a lot of value.. > Are you hoping to merge this as is or do you want to complete more on your checklist?\nI think it's better to complete the checklist in future PRs to keep the diff somewhat manageable.. Atom's Linter v2 now uses React as well: https://github.com/steelbrain/linter-ui-default\nEven more resources for inspiration.. @data-steve That would be a awesome feature, though that's quite hard to do in a language agnostic way. We discussed something similar in #64.\nThat would be a excellent plugin idea, which then can be language specific for R or Python and easier to implement. We could totally expose more functionality in our plugin API for this.\nSadly I must say don't hold your breath. Unless you or someone else takes a stab at implementing something like this (which would be super cool \ud83d\ude04) , it is currently on the back burner.. Rereading the issue makes me think that we may be able to support this simply by adding support for the  application/json output type and utilizing the watch sidebar.\nThis way we don't have a complete variable explorer that shows all available variables from the current scope, instead one can add custom variables or expression to watch, similar to a debugger (we already support this). This has the advantage of being language agnostic as long as the library supports the application/json mime type.\nnteract already has support for interacting with objects and exports the relevant React components in @nteract/display-area and @nteract/tranforms using react-json-tree. I think using this together with our Watch Sidebar would bring us very close to the desired behavior.\n@BenRussert @data-steve  Awesome that you are interested in experimenting with this! I started #655 which tries to bring in @nteract/tranforms to adds support for the above mentioned object output and more.\nI would be super happy to have more people collaborating on this effort. \ud83c\udf89 . > I wish I could help more than just cheering and wishlisting things. I have zero experience with React and barely any experience with javascript beyond basic web and d3 stuff.\nNo problem, don't hesitate to hack around in Hydrogen and ask questions. I'm just getting started with React as well. We're very happy to receive PRs even (or better: especially) if they are titled \"This breaks everything but it's a cool idea\" \ud83d\ude04 \nPlus their are a lot of super valuable ways to get involved, beyond just writing code. If you're interested please take a look at our new-contributor-friendly issues \ud83c\udf89 \n\nIs that a sidebar thing as well?\n\nI don't fully understand, but this GIF describes the behavior best: https://github.com/nteract/hydrogen#watch-expressions\nEvery time code is run, the plot is recomputed.\n\nI was really hoping you'd say something like this!\n\nCool! Happy to have you on board! \ud83d\udc4d . @rgbkrk Indeed a vars_request would be really cool and would allow frontends to implement a variable inspector supporting multiple languages like the one proposed in #64.\nBased on your pseudo message, a general question: How would a vars_request for a single variable x differ from a execute_request with content x?. > By posting the vars_request message, we're explicitly saying to view (and hope to be free of side effects).\nTrue, that may be very valuable for a kernel to know in certain cases.\n\nI'm just throwing these ideas around, so I wouldn't hold any of my thoughts here as concrete\n\n\ud83d\ude02 Sure, me too. Definitely something that would be great to look into.\n\nAlso, this seems like a nice enough feature to button-ize because I\u2019d be using it all the time. Having to Control Panel and search for such an odd phrasing like Hydrogen: Toggle Watches is hard to remember\n\nIn Atom you can allways add custom keybindings by editing the keymaps.cson file. Though you're right a default shortcut would be handy. Any ideas? . @abalter That sounds great!\n@data-steve In the next release we'll have support for JSON data structures:\n\nTo keep it clear, I'm going to close this issue.\nWe can continue the awesome discussion about the variable explorer in #64 and open new issues for other ideas.. @abalter You're right our documentation is a bit sparse at the moment. Contributions are highly welcome \ud83d\ude04 \ud83c\udf89 \nCell magics like %%bash or anything else beginning with %% inside a notebook apply to a block of code below them, therefor the first command fails if only the line with the cell magic is executed.\nOn the other hand only executing echo $a will fail since the python interpreter doesn't know about the cell magic above and that it should be a bash command. Instead it assumes you're trying to execute python code.\nIf you want to use them make sure to execute the desired code together with the cell magic.\nFor example by selecting the entire block of code or by excuting the whole file. You can find more information about how to do this here.. Atom Beta 1.16 updated their babel config, which caused our tests to fail.. We had the discussion about downscaling in #600 and decided to not do rescaling in order to be able to change the figure size.\nI think we should either have the ability to configure this behavior or add the possibility to expand the output by clicking or dragging the lower border.. Could you post steps to reproduce this error?. Could you try and run apm rebuild-module-cache?. Updating Atom sometimes requires rebuilding of native modules. Try:\nbash\napm rebuild hydrogen. One thing I noticed is that with this workflow the commands \"Run All\" and \"Run Cell\" won't work as expected since our parsing doesn't respect the markdown syntax.. . I tested this branch and didn't found any regressions \ud83c\udf89 \nThe only downside is that  \"Run All\" and \"Run Cell\" aren't supported in this workflow, since we would need to do a lot of language specific parsing to be able to do the right thing.. @fasiha Would you be willing to add a few lines about the usage of this feature to our README? That would be super cool! \ud83c\udf89 \n\nCould \u201cRun All\u201d be faked \n\nYou're right we could fake it but that would mean introducing (probably a lot of) language specific code which we try to avoid in Hydrogen since it makes maintaining quite hard.\nUnless you are interested in implementing this I think for now the best way would be to disable \"Run Cell\" and \"Run All\"  for markdown files.\nWhat do you think?. > That\u2019d be the least I could do, thanks for trusting me with it. I\u2019m using the feature right now to write a doc for Real Work (\u00a1!), let me see how compelling a use-case I can make.\nExcellent, thanks @fasiha! If you want to write a whole blog post about your use case we're always happy to add it to our Medium publication. \ud83d\ude04 \n\n(1) Is there anything Markdown-specific about this? \n\nYou are right, it works for every markup language that supports code blocks with syntax highlighting in Atom (I only tested it with markdown so far). To support another language one only needs to add it to this array.\n\n(2) If so, is that what you mean by \u201clanguage-specific code\u201d?\n\nCorrect. We would need to write a different parser for every supported language.\n\nWith this functionality, doesn't it make sense to have \"Run Cell\" run the current fenced block?\n\n@nikitakit That's absolutely true, I just don't see a great way of implementing this right now and personally won't take a closer look at this problem. \ud83d\ude09 . @fasiha @mcburton Great suggestions! I'm really happy to hear you working on a plugin for this!\nIn the past we had some discussions about introducing a plugin API for such language specific features. It would be awesome to expose more of Hydrogen's functionality to be able to interact with it in a more powerful way.. I think we should ship a new version soon so people are able to try it out!\nIn the current state it's already pretty great for writing a README with powerful examples that are ensured to work \ud83d\ude04 . Puh that's a nasty error \ud83d\ude04 \nCould you try reinstalling hydrogen:\nbash\napm uninstall hydrogen\napm install hydrogen. Do you receive any errors during the install with apm install hydrogen?\nCould you try running apm rebuild hydrogen? This will rebuild our native dependencies against the correct Electron headers.. If that doesn't help we should try one more time to reinstall Hydrogen. For this:\n1. Close Atom\n2. Run apm uninstall hydrogen\n3. Run rm -rf /Users/wangyang/.atom/packages/Hydrogen/ just to make sure \ud83d\ude04 \n4. Run apm install hydrogen. I'm sorry I have no idea how to fix this.\nIt's strange I'm running Atom 1.15.0 on macOS 10.12.3 without any problems.. @frivollier This error is thrown from your python process and not from Hydrogen itself. It looks like your Python installation is corrupted.. Hydrogen respects the figure size of the library you use to generate the plot. Wich language are you using?\nFor example in Python with matplotlotlib you can change the figure size like this.. rebased \ud83d\ude80 . I see the same behavior on my machine and observed it in nteract too which makes sense since we share the same tooling.\nA increase in CPU usage is expected since we need to spawn a process which runs the desired kernel. Though I have no idea why it's so high.\nTwo possible bottlenecks would be the zeromq messaging or the child_process we spawn from Node. I'm wondering if detaching it helps.\n. @n-riesco I'll check tomorrow \ud83d\udc4d \nThough I don't think this is a problem with Hydrogen itself.\nOne thing to note is that zeromq.js for Mac and Windows ships with libzmq 4.2.0, the Linux version of uses 4.1.6 (since we weren't able to bundle 4.2.0). This may be a thing to look into.\n@rgbkrk I haven't followed the zeromq mailing list, do you know of any reports about higher CPU usage in version 4.2.x?. >Though I don't think this is a problem with Hydrogen itself.\nNever mind, I think we mean the same thing \ud83d\ude04 . I was trying to say, we probably call something that introduces a constant load.. @n-riesco Thanks a lot for the great idea.\nIt was a bit tricky to reproduce this reliably since every interaction with Atom (even scroll or mouse movement) resulted in a big increase in CPU usage.\nThe testing method\n\nClose all unnecessary programs\nUnfocus Atom and wait until CPU load stabilizes\nStart two kernels to make the effect more prominent\nUnfocus Atom to only measure background tasks and reduce CPU load by the render process\nWait until CPU load stabilizes\n\nResults\nmaster:\n11% CPU usage by Atom Helper\nhttps://youtu.be/eqi9fJcuLPk\nWithout zeromq monitoring:\n0.2% CPU usage by Atom Helper \ud83c\udf89 \ud83d\ude80 \nhttps://youtu.be/zJuuHDs7gts\nConclusion\n@n-riesco @rgbkrk Do we really need monitoring or can we simply remove it.\nI don't know much about zeromq other than how to get it installed properly \ud83d\ude09 . @n-riesco Are you sure #88 is still a issue with since we're using zeromq.js with libzmq 4 now?\nBy the way it looks like https://github.com/JustinTulloss/zeromq.node/issues/558 is already fixed though I'm not sure if the fix is included in zeromq.js.. The error seams to be coming from the  linter and linter-flake8 packages and not from Hydrogen itself.\nCould you try if disabling them solves the issue?. Could you check if /home/nils/anaconda3/bin/python exists and can be executed?. I used the flow types maintained by Facebook's Nuclide: https://github.com/facebook/nuclide/tree/master/flow-libs\nprettier-atom also has a small set of flow types: https://github.com/jlongster/prettier-atom/blob/master/decls/index.js. What I like about flow is that we can introduce it gradually, which makes it very easy to add to an existing code base.. Feel free to add more flow types, PR's are very welcome \ud83d\ude04 . @willingc Thanks for the link!. I aimed a bit high in this PR \ud83d\ude04 \nIn my last commit I took a different approach to the problem and used @nteract/transforms as a drop-in replacement of transformime without any refactoring.\nThis way we can iterate on this and can use all the awesome transforms right now:\n\nNow we can easily add support for more mime types or even use @nteract/transforms-full if apm handles the install nicely (one transform has node-canvas as a native but optional dependency which may cause install problems).\nI propose we go with this as is and move the refactorings into the future.\nIt would be cool if someone could take this branch for a spin since there may some minor style glitches I didn't caught.. @BenRussert Very cool! Checkout https://github.com/atom/atom/issues/13254 if you need a real world example on how they did it in Atom itself.. Hear are some ideas I think would be awesome to explore:\nIdeas\nMake use of Atom's new docks API\nAtom 1.17 beta introduced a a new docks API. I think we could use this to make our panels more flexible:\n- [x] Inspector\n- [x] Watch sidebar\nPossible new panels:\n\n[x] External output display similar to http://junolab.org/ #760\nRich jupyter console connected to the running kernel. Maybe we could make use of atom-ink:\n. > The output window is narrower when minimap is on, but for people with minimap autohider, the window overlaps with the minimap when it is visible. Any way to force the window to always be narrower even if minimap is set to autohide?\n\nWe set the width here. We cannot use CSS here because the width would be relative to the longest line and not to the visible part of the editor.\nWe would need to listen for changes to the editor width but I don't know if this is possible. Atom itself doesn't provide a API to listen for width changes. \n\nI used the code below to disable scrollbars (don't find them useful at all) but it also disables scrollbar in the Hydrogen output. Any tweaks/shortcuts to scroll down to the bottom of a long message without the scrollbar?\n\nYou can always use the mouse wheel to scroll, even if the scrollbars are hidden.\nOr you can add\nless\n::-webkit-scrollbar { display: none; }\n.hydrogen {\n  ::-webkit-scrollbar { display: block; }\n  }\nto enable them only for hydrogen.. Yeah I'm starting to enjoy flow a lot \ud83d\udc4d . Yeah the PR is shipped. This is ready to go now \ud83d\ude80 . >  Loving all the document language support. \ud83c\udf70 \nAwesome! Do you know of any additional document languages we should support?. Totally possible. This would be the job of the (jupyter) kernel itself.\nHere is a selection of kernels available: https://github.com/jupyter/jupyter/wiki/Jupyter-kernels\nApart from the \"normal\" Javascript kernel there's a Typescript kernel (haven't tried it)\nand a Babel kernel for ES6.. Thanks for posting this issue!\nThe problem is that hydrogen:run-and-move-down is triggered inside the ink-console though the command should only be available inside a text editor. I wonder if using atom-text-editor:not([mini]) here would fix this.\nIf not we need to check that store.editor is defined when running a command.\nI'm pretty sure bed7bdd2fdfd18f35dfbfd125a011333239a23d3 introduced the bug. Since before the reference to the old text editor stayed if one switches to a pane which isn't a text editor. This old (wrong) behavior prevented this bug though \ud83d\ude04 . This doesn't fix #669 but it's still a valuable PR.\nWe have the problem that packages like julia-client can inject text editor instances into their UI and therefor Hydrogen commands can be executed while inside their UI instead of being in a active text editor. In this case store.editor is null.\nI think we should therefor guard against the case that store.editor is null unless there's a better solution.. > I think we should therefor guard against the case that store.editor is null\nProbably the most elegant solution is to refactor code-manager.js to be pure functions (don't rely on store.editor, instead pass in a editor as a function argument). This helps also with testing in the long run \ud83d\ude04 . Since this fixes a bug, I think we should ship a new version soon.. Nice, and they even have a cool new website, just in time \ud83d\ude06 https://flowtype.org/. @BenRussert Very cool! \ud83c\udf89 \nThere will be likely a few flow errors due to missing declarations so feel free to submit a work in progress PR.\nPS: If you need a nice flow linter I recommend the flow-ide plugin.. Great!\n\nIs the plan just to add to the atom.js.flow file as we go? There were several missing methods/properties under atom$TextEditor and atom$TextBuffer that I could add to the file.\n\n\ud83d\udc4d That's what I've been doing so far. Oh I see, I thought prettier-atom respects a per project config like eslint does.\nWill change it to be consistent with nteract and other projects using prettier \ud83d\udc4d . That's definitely a bug.\nIt looks like we try to display the plot as a inline result bubble (no scrollbars...) since ggplot sends a small plot id (<ggplot: (12345)>) after the plot.\nThe relevant lines are here.\nIf there isn't a easy fix, I would suggest we fix it during #655.. This doesn't fix #591 for me.\nI'm personally in favor of completely removing the monitoring. Are you sure that #88 is still a issue with our current version of zeromq?. @n-riesco Thanks a lot for your work! This does fix #591 and #646 and I checked that I'm using jp-kernel@0.1.2.\nThe strange thing is that I cannot reproduce #591 on master anymore \ud83c\udf89 \nThough yesterday it failed. The only difference is that I restarted my PC in the meantime.\n@BenRussert can you still reproduce it?. > The only weird part is ijsinstall --versions shows that I am not on jp-kernel 0.1.2:\nI think running npm uninstall ijavascript -g and npm i ijavascript -g should make sure that you have the newest version.\nCould you test if it works on master, after upgrading?. > master still has same issue #591.\nHmm, I hoped the new version would fix it on other machines as well.\nI wonder if it's enough to wait for the connect event don't monitor at all?. \ud83d\udc4d Let's go with this. @n-riesco Thanks a lot for all the work!\nI was a bit sceptical since this does impact startup speed of the standard python kernel (approx x2) but it's still reasonably fast \ud83d\ude80 . > What is the appropriate emoji when a bug is squashed? \n@BenRussert My best attempt \ud83d\ude06 :\ud83d\udeab \ud83d\udc1b or \ud83d\udd25 \ud83d\udc1b . > New issue worthy?\nIf you like you can make a new issue to remind us to revisit this workaround, once the root problem is fixed in ijavascript and zeromq.js.\nIn any case we should make a new release soon :shipit: . @githubmpc Could you run jupyter kernelspec list --json in your terminal and post the output?. Thanks, looks normal to me.\nWhat's the exact error message you get from Hydrogen?. Excellent! \ud83c\udf89 . One thing to add is that the python process starts in the same folder as the first file you run commands from.\nYou can check the current directory of the kernel by running %pwd.\n. Could you try and run apm rebuild-module-cache?. @n-riesco I think the language mappings from weave are correct.\nThe problem is that if a language mapping is present, Hydrogen doesn't recognize the original language. For example it only works with weave.jl markdow files and not with julia files anymore.\nFor the specific case of weave, instead of using a language mapping the best way would be if they could integrate with our new multi language feature (which should be very easy).\n. > I think a solution to this issue would be to replace these lines with\nThat's probably part of the solution. I think we also need to change our grammarToLanguage function, since the running kernels are stored by the atom grammar name and not by their language from the kernelspec.\n\nAlternatively, you could create a custom kernel spec by adding something like this to the KernelSpec setting\n\nThat's a valid workaround, though I wouldn't recommend editing the kernelspecs setting as a long term solution since this will likely fail if the julia kernel is updated to a new version.. @maximsch2 Would you be interested in implementing multi language support for weave as a first class citizen in Hydrogen?\nAs an example here's what we did to support the knitr language:\nhttps://github.com/christophergandrud/language-knitr/pull/4\n663. @BenRussert I think to reproduce this you need to make sure the file isn't saved, otherwise atom.workspace.getActiveTextEditor().getPath() is always defined.. I can try to reproduce this evening.. OK, I can reproduce this. Though I only get a deprecation warning.\nFix coming soon.. @BenRussert Great job! I didn't merge it already since the work in progress tag is still there.\nI'll take a look at it \ud83d\udc4d . Woo excellent! Now we can actually start testing this part of the code base in a reasonable way \ud83c\udf89 . Excellent Thanks!. Have you tried reinstalling Hydrogen?\nWe've recently seen a few similar issues: #633, #682. Could it be that Atom messes up the babel transpilation?. Just released v1.10.1 \ud83d\ude80 \nThanks @n-riesco for fixing it \ud83c\udf89 . Since version 1.0 brew install zeromq won't have any effect anymore, since we bundle all dependencies for easy install. You can safely uninstall it again.\nI'll try to reproduce this later today.. sys.setdefaultencoding was removed in Python 3 and is not recommended to use in Python 2 either.\nFor more information see: http://stackoverflow.com/questions/3828723/why-should-we-not-use-sys-setdefaultencodingutf-8-in-a-py-script\njupyter notebook shows the same behavior since after reloding the output is forwarded to stdout and not sent to the frontend. This issue won't be fixed in ipython (https://github.com/ipython/ipython/issues/8354).\nI would recommend using Python 3. As far as I know it uses utf-8 by default.. Sorry, I wasn't able to help earlier, glad you figured it out \ud83d\udc4d \n\nI'm chasing another bug; even with this PR { \"babel\": \"javascript\"} doesn't work.\n\nYou're right the language mappings are confusing, but we can't change the behavior since it would break all existing configs and cause even more confusion \ud83d\ude04 \nI tried to improve the documentation in my last PR to make it clearer.\n\nI've noticed that I need to close and open Atom for changes in kernelSpec to take effect.\n\nYou should be able to run \"Hydrogen: Update Kernels\" to trigger a update. Is it broken?\nIf you like, you can chime in on #35 for automatically detecting kernel spec changes.. That's actually not Hydrogen itself \ud83d\ude04 \nYou can configure this behavior in IJavascript upon install: http://n-riesco.github.io/ijavascript/\n/cc @n-riesco . Strange, this looks like Atom corrupted the installation. Could you try to reinstall Hydrogen?. > Then I found this issue.\nI also got this error when I tried to activate the developer tool.\n@xinzhou1023 This is only a notification and doesn't impact the functionallity of Hydrogen.\nWe don't include mobx-react-devtools as a normal dependency in order to keep the package size small.  It adds additional logging output which can be useful while developing Hydrogen, but isn't necessary for normal usage.\nMaybe we should remove this log message to prevent confusion.. Thanks for getting this started!\n\natom-script screenshot --> Hydrogen screenshot --> nteract screenshot\nDemonstrating the same script in all three environments (perhaps making the Hydrogen shot 1/3 larger than the other two for focus).\n\nThat's a great idea!\n@willingc I really like the idea of using standalone docs, since it would make our README less overwhelming.\n\nSo... what would the team like to use to create standalone docs?\n\nWhat comes to my mind would be https://gitbook.com, Example: http://redux.js.org/.\nWhat do you think? I haven't tried it yet.\nWe could also do everything manual and add it to https://github.com/nteract/nteract.io/pull/7 but that means probably a lot of work and would be harder to maintain.. A lot better \ud83d\udcaf \u2764\ufe0f . Cool!\nDo you want to add it to our readme, similar to the logo in https://github.com/nteract/nteract? \nWe can even try and use it for our autocomplete results if it's not too distracting having multiple spinning icons \ud83d\ude09 \n. Awesome! Glad it's working well.\nLet's ship a new release \ud83d\ude80 . @erdemalpkaya Please try one of our plotly examples. They are tested and should work.\nIf you still have issues, please upgrade plotly with pip install plotly --upgrade (or conda update plotly) since we require a fairly recent version.. @breathe Thanks for reporting. This looks like a regression slipped through in our latest release.\nI wasn't able to reproduce your example but could mock a similar behavior with:\npython\nimport time\nfor i in range(10):\n    print(i)\n    time.sleep(1). Fixed in v1.11.1. #795 will remove react-resizable-box so I won't invest time in upgrading for now.. Thanks, I'll review tomorrow \ud83d\udc4d \n\n\nIssue with languageMappings: the kernel picker should show both kernels.\n\n\nThanks for catching that!\n\n\nIssue with multilanguage files: the list of kernels shown in the menu picker should be updated according to the scope grammar.\n\n\nI just checked on master, in multilanguage files the kernel list is updated correctly. Am I missing something?\n\nThis PR also fixes a minor issue with the status bar (it ensures the status bar is set to idle once all the main sockets have been connected).\n\nThat's awesome! \ud83d\ude80 \n. > You need to make sure languageMappings isn't set and that there are multiple kernels for multiple languages.\nStrange, that's exactly what I did. I have the four kernels you mentioned installed and I get this behavior:\n\n@n-riesco Are there any other kernels with multiple languages for the same Atom grammar?\nI'm just asking because in previous PR's I tried to remove the usage of Atom's grammar as much as possible since it makes the code a lot simpler and easier to understand having only one source of language.\nSo for jp-babel I actually would expect it to have javascript as a language instead of babel similar to Python 2 and 3 which both return python as a language. This would also fix this issue without needing us to handle this case inside Hydrogen. Don't get me wrong, I'm just trying to think of the simplest solution if jp-kernel and ijavascript are the only kernels who have this problem.. Thanks for bearing with me. I see the issue with the kernel picker now \ud83d\udc4d\n\ud83d\udc4d For moving the discussion into a a issue.\nI'm only talking about the issue with language mappings, happening if two kernels use different languages for the same Atom grammar. \n\n\n@n-riesco Are there any other kernels with multiple languages for the same Atom grammar?\n\nPython 2 and 3 ? (I guess I'm misunderstanding your question)\n\nPython 2 and 3 both use language: python in their kernelspecs. IJavascript uses language: javascript where as jp-babel uses language: babel.\nThis difference makes it hard to index kernels with their kernel language. To fix this we have to index them depending on the mappings. But this imposes a few problems:\nWe now have to iterate over all kernels to get the current kernel (actually not that big of a deal \ud83d\ude04).\nBut since the indexing of kernels depends on the settings, we can get into a inconsistent state if the settings change. To reproduce a similar problem, consider the kernelspec settings {\"javascript\":\"babel es6 javascript\"} (used together with language-babel):\n\nIf jp-babel and IJavascript both would  both use language: javascript and are the only kernels with different kernel languages for the same Atom grammar, we wouldn't need to handle this case and avoid the problems described above. . > Let's not forget this PR is a bug fix. It doesn't add or remove any functionality. It only requires a patch number update to be released.\nSure, I really want to merge it right away and keep iterating. (I'm not as opinionated about how kernels should be indexed as it might have come across)\nBut this PR introduces a exception happening if a kernel requiring a language mapping is shut down or restarted. Take a look at the GIF.\nSorry about my brevity I can take a look at it in more detail during the weekend. . > The issue with updating languageMappings while running a kernel isn't introduced by this PR. It is already present in master!\nNico you're right, I shouldn't have mentioned it.\n\nThey are issues already present in Hydrogen's latest \n\nI agree \ud83d\udcaf \n\nThis PR just fixes Hydrogen's algorithm to match kernels and Atom's grammars so that it honours the setting languageMappings.\n\nIt does but it introduces another serious exception.\nWith a language mapping present (Eg \"javascript\":\"babel es6 javascript\"}) and kernelspecs similar to this.\nmaster:\n\nthis PR:\n\n. I'm not sure how to fix this problem.\nI created this branch which removes the commits related to the language mapping bug, which unfortunately introduce the exception above. If we don't find a solution to this problem we can go with this and handle the language mapping bug later.. > Both issues (the one in master and the one in the PR) have the same underlying cause:\nusers shouldn't be allowed to update languageMappings while there are kernels running.\nI think the solution is much simpler. In the example I linked mentioned I didn't change anything in the language mappings while a kernel was running. I suspect since the kernel indexing changed here the kernel gets not properly deleted here.. I'm going to merge this since  it doesn't introduce new bugs so we can keep moving forward.\nAllow me one more comment \ud83d\ude04 :\n\nAgain, this issue isn't about jp-babel. In fact, languageMappings was introduced to help Hydrogen use the Elixir kernel. Jupyter doesn't specify that the language in a kernel spec has to match Atom's grammar name. And for that reason, languageMappings is necessary.\n\nIt somehow is. Of course languageMappings is necessary. I don't say by any means kernels should adhere to Atoms language names (eg MagicPython, Babel ES6 Javascript.....). The thing I am suggesting is that kernels targeting the same language should also use a consistent language name.\nThis would make a mapping like {\"babel\":\"babel es6 javascript\",\"javascript\":\"babel es6 javascript\", \"} unnecessary. Instead one would use the mapping {\"some common kernel language shared by IJavascript and jp-babel\":\"babel es6 javascript\"}. This would save us the hassle of handling the above mentioned case and will keep the code a lot shorter and understandable.. We rely on Atom's language-python package to determine code blocks depending on the code folding.\nUnfortunately this needs to be fixed in the language-python package because Hydrogen is language agnostic. It would be great if you would open a issue there.. @vpetrovykh That's a good idea! We're very happy to accept a PR for this.. Thanks for reporting. Reinstalling should fix this.. @ahsen1402 In order to run a code block make sure to place the cursor inside the block of code you wish to run. Otherwise Hydrogen doesn't know which code to execute:\n\n. @ahsen1402 What Atom language are you using? You can tell this by looking at the lower right hand corner of the status bar.\nIf you want to use multiple kernels inside the same file it should look similar to this:\n\n. > I am using GitHub Markdown?\nThat's OK too.\nI'm out ideas. Want to join our Slack channel? I'd be happy to pair with you there.. We where able to figure it out. The problem was one has to install language-r to make it work.. @daborton Could you try running python3 -m ipykernel install --user?\nIt looks like the python executable points to the default Python 2 installation..  Wait the only difference is the display name? That's strange.\nIs the output of jupyter kernelspec list --json consistent with the json files?\n/usr/local/opt/python3/bin/python3.6 isn't symlinked to some python2 executable, right?. Do nteract and Hydrogen behave the same?. @shpigunov You can upgrade ipykernel by running pip install --upgrade ipykernel. @echz Have you tried upgrading ipykernel by running pip install --upgrade ipykernel and removing your custom kernelspecs setting?. > Hi @lgeiger I have upgraded my ipykernel. I think it's more related to having two Python versions on OSX, the default 2.7 that comes with OSX and the 3.6 version.\nThe problem seems to be on the jupyter side. Looks like python in \"argv\": [ \"python\",..] points to your systems default Python 2.7 installation.\nYou can try running: python3 -m ipykernel install --user which may fix this. If not, changing \"argv\": [ \"python\",..] to point to Python 3 in /Library/Frameworks/Python.framework/Versions/3.6/share/jupyter/kernels/python3 or inside the Hydrogen settings should fix it.. @aeromomo For me this looks like a ipykernel issue, which can be fixed by updating ipykernel for most people.\nThough https://github.com/nteract/hydrogen/issues/730#issuecomment-299525167 seams to still exist.. Atom 1.19 is quite old and doesn't support the newest version of Hydrogen. After upgrading Atom, you'll be able to use the latest version of Hydrogen (v2.2.3). > Opened a new PR for this (as discussed on slack)\nWhoops I ment a new PR on top of master not on #722 . Sorry, this needs a rebase now.. Could you post the output of the developer tools as described in our Debugging Guide?. Thanks. It would be helpful if you could expand the content of the following logs and post a screenshot:\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: ResultView: Add result Object {data: Object, stream: \"pyout\"}. This should only happen if the kernel doesn't fully adhere to the messaging standard.\nFrom the messaging docs:\n\nA plain text representation should always be provided in the text/plain mime-type.. > I reckon we should guard against undefined anyway.\n\n\ud83d\udcaf \ud83d\udc4d . It looks like nothing changed between 0.41 and 0.42: https://github.com/jupyterlab/jupyterlab/commits/master/packages/services. > I say we merge this and go from there!\nSounds good!. I just had a look at https://github.com/atom/line-ending-selector/pull/37. They reuse the same SelectListView instance multiple times. I don't know what approach is best for our use case, but I think we should stick to what Atom does.\nBut we should do this in a future PR.. > The majority of time spent on this pr by far was sorting through the few examples out there and trying to figure out what the best design pattern was for our situation. I will be looking for ways to improve this and for the other space-pen-views dependent modules.\nAwesome! No rush, this just came to my mind and I wanted to write it down so I don't forget where to look for \ud83d\ude04 . @cbarrick Wow thanks for the cool PR. I this would make the status bar a lot cleaner.\nThough I agree with @n-riesco that this removes the possibility of quickly seeing which kernel is running and removes access to the kernel kernel commands available by clicking on the status bar:\n\nIn my opinion both are crucial features, especially when having multiple kernels for the same language.\nAt the moment I can't come up with a different UI that combines the best of the two approaches. Any ideas?. @cbarrick Thanks a lot for updating this.\nOne thing I noticed: It looks like the spinner is a lot longer active than it should be. Though I don't know if this is a issue with busy-signal.\nThis is the current state of this PR:\n\nI'm basically \ud83d\udc4d \ud83d\udc4d \ud83d\udc4e on this. I really like the idea of  having busy-signal as a new status indicator, though it becomes harder to figure out if a kernel is actually busy or not, especially if multiple providers (eg linters) are running and consuming busy-signal as well.\n@n-riesco @nikitakit @rgbkrk @BenRussert What do you think, should go with this new UI?. I think we should release a new version :shipit: . I can reproduce this locally on a fresh install. I reported it on https://github.com/UziTech/atom-jasmine2-test-runner/issues/14.\nIf the issue persists we should revert #713.. You want to link to it from an external site?\nI'll take a look how to make this possible.. I just realized, I messed up the last release and didn't include all the bug fixes: https://github.com/nteract/hydrogen/compare/v1.12.0...master\nI'm doing an other patch release now.. The logs suggest you don't have enough disk space on the machine to update.\napm heavily uses the temp directory /tmp/ to do its installs. Have you checked that your system  (especially the temp dir) has enough space left?. Since #794 we're in a good state to be able to support a external output panel.\nIt would be excellent to collect ideas on how in detail the panel should behave especially in the case of multiple kernels.\nI think a docks panel would be the best place for a panel like this.\n. Checkout #825. Atom's Content Security Policy doesn't allow injection of scripts. Therefor we cannot execute the inline javascript of the vpython kernel.\nTake a look at #27 for more information.\n. I just gave it a quick spin and noticed some focusing problems possibly related to https://github.com/atom/atom-select-list/issues/6.\nThis makes it hard to cancel the selection:\n\nI'm wondering if we should just keep the panel open and display a loading message instead of closing and refocusing the editor. @BenRussert @nikitakit What do you think?. > It's unclear to me what the situation with space pen is -- it works fine, but supposedly it's deprecated?\n@nikitakit atom-space-pen-views depends on space-pen which isn't maintained anymore. It was recently removed from Atom for performance reasons since it depends on jQuery and won't receive any bug fixes. For us this removes one quite big dependency and reduces our package size.. > @lgeiger I think it would be fine to keep the panel open and just swap out the elements being displayed.\n\ud83d\udc4d \n@BenRussert I think using the same panel and only updating the content is the easiest way to fix the focusing issue.. This looks like apm didn't rebuild zeromq for the correct electron version.\nCould you try running apm rebuild hydrogen?\nIf this doesn't help, try reinstalling Hydrogen with\nbash\napm uninstall hydrogen\napm install hydrogen. The usual way of viewing documentation in Hydrogen is using the Inspector. Have you tried that method?\nCould you expand the 3 IO Messages before Hydrogen: ResultView: Add Result?\n. That's interesting. Can you check that you're connected to the remote kernel after running Packages -> Hydrogen -> Connect to remote Kernel? You can see this by looking at the kernel indicator in status bar.\nIf not run all would start a new local kernel per default.\n@nikitakit Any ideas?\nSidenote: The mapping {\"python3\": \"python\"} isn't necessary for python.. Thank you for the work! \ud83d\udc4d \n@buyology Would you like to help us maintain this package?  \ud83d\ude04 . On thing that would be super cool is to move this logic to a function in utils.js and add a few tests, so we can reuse it in the future.. > We should probably write a v4 to v5 message spec converter like is done in the Jupyter clients, and make it part of the nteract monorepo.\nGood idea! Is there an implementation from jupyter we could use as a reference for such a converter?. Thanks for the great feedback!\nI added a very basic converter to keep this PR backwards compatible with kernels speaking jmp v4. It doesn't add full v4 support but handles the cases we currently do except for the workarounds for kernels that do not conform to the messaging standard.. I've used this branch with Python and IJavascript (jmp v5 and jmpv4) and haven't found any problems so far. And looked at the other Kernels mentioned in the repo to check that they comply to the messaging spec.\nI think we're good to go.\nI've some ideas on how to simplify this further so we're able to support https://github.com/nteract/hydrogen/issues/760 but I think we should do this in future PRs to keep the diff somewhat manageable.. Great idea! Do you think we should make auto-scroll the default?. > I think it would be intuitive to have hydrogen:run-and-move-down auto scroll and to leave hydrogen:run as is.\nWe're only talking about scrolling inside of the output view and not scrolling inside the editor. I don't think the behavior should differ between the commands.\nA button to toggle this behavior sounds good to me! A setting for the default would be cool as well.\n@lr1100 Would you be interested in implementing this and doing a PR? We're happy to help!. Looks like there are a few possible solutions of doing this: http://stackoverflow.com/questions/37620694/how-to-scroll-to-bottom-in-react. > I think it would be a great idea to have this as a default (with option to turn off for people who do not want it). I think in 95% of the cases the interesting bits are at the bottom.\n\ud83d\udc4d Sounds good! A global config setting would also be the simplest to implement.\n@JGH1000 @lr1100 Are you interested in doing a PR to fix this issue? We're very happy to help.. Try to rebuild hydrogen with apm rebuild hydrogen. Closing in favor of #765. Try to rebuild hydrogen with apm rebuild hydrogen. Closing in favor of #765. Woa that's strange, thanks for the detailed bug report. This looks similar to #730.\nCould you try running:\nbash\npip3 install --upgrade ipykernel\npython3 -m ipykernel install --user. Thanks! Glad it's working now.. @rodrigob Thanks for the issue %matplotlib notebook would be a cool feature! \nThough unfortunately there are multiple problems why at the moment we don't support %matplotlib notebook out of the box:\n\nAtom's Content Security Policy doesn't allow injection of scripts. We track this in #27 \nhttps://github.com/nteract/nteract/issues/1359\n\nFor interactive plotting we only support plotly at the moment: https://nteract.gitbooks.io/hydrogen/docs/Usage/Examples.html#interactive-plots-using-plotly\nI'm going to close this issue. We can continue the discussion in https://github.com/nteract/nteract/issues/1359. After a bit of googling I discovered a awesome functionality of plotly. It can be used to render matplotlib figures:\n```python\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom plotly import offline as py\nimport plotly.tools as tls\npy.init_notebook_mode()\nt = np.linspace(0, 20, 500)\nplt.plot(t, np.sin(t))\npy.iplot(tls.mpl_to_plotly(plt.gcf()))\n```\nThis means one can render very nice interactive matplotlib figures inside Hydrogen. \ud83c\udf89 \nWe should definitely add this to our Examples.. Looks like our builds now take a bit longer. I can definitely reproduce this on latest master as well.\nI agree with @buyology, this might be a problem in Atom core. They probably do some fancy stuff to improve performance.. Just a quick update on this. Problem 2 was fixed upstream and isn't reproducible on 1.20.0-beta7 (probably 1.19.7 too) anymore.\nUnfortunately problem 1 is still present.. > The other thing you will need to do is install language-r\n\ud83d\udc4d  We should add this hint to our documentation or the troubleshooting page.. Cool! Opened #803 to document this.. Thanks a lot for the PR!\nThough I'm afraid this makes the new \"expand\" button obsulete \ud83d\ude04 \nFully expanding the output may eat up a lot of the screen space, especially on smaller screen (see #632). We've also thought about scaling down images to fit, but this doesn't allow users to change the image size in their scripts and may lead to strange behaviors (see #600).\nI'd personally not use this behavior per default. Should we think about ways to configure this behavior? Experienced users can always override this with a custom style sheet anyway.\n. Closing this for the reasons outlined in https://github.com/nteract/hydrogen/pull/792#issuecomment-302898000. This is the new rendering:\nv1.13.0 | PR\n--------|--------\n| \n. Even more information on the Atom blog: http://blog.atom.io/2017/05/23/docks-deep-dive.html. I refactored the Watch Sidebar as a react component so we can easily use it in a dock.\n@BenRussert I'd happy to pair with you in the next few days and move our panels to docks.. > Note that the result number (execution count) is currently shown on-hover over the copy button, so if the copy button is hidden there may need to be some alternative way of surfacing that information.\nGood point. What about moving the tooltip to the close button?. @nikitakit I agree.\nI think with the new unified result view (and the removal of the rich display) we can find a place to permanently show the execution count in the result view. I'm very open to ideas!\nBy the way how do you bring back the result based on the execution count?. Good idea!\nWe could also experiment with putting it in the gutter right next to the result view.\n\nIn terms of bringing results back, you can't return the print statements, but you can refer to the output itself using variables like Out[1] or _1, at least in python.\n\nWoo didn't know that! That's pretty handy.. > I like using the close button tooltip if you wanted to revisit that idea.\n\ud83d\udc4d . Closed in #943 and #859 . Closed by #941 . @kengz, @Madhu94 Thanks a lot for your interest in implementing this feature.\nRather than using the HTML on the page which will become messy very fast, the easiest solution is to use @nteract/commutable as roughly outlined above.\nCommutable is also used inside nteract to do all notebook manipulation and will have all you need.\nFeel free to join our Slack if you have more questions.. Great that you're working on it.\nFor the first working version I'd focus on the source code and wouldn't worry too much about the output, we can always do this in future PR's. Looking forward to it.. @jdpigeon Very cool!. @BenRussert Thanks for the link. We're using Function quite often in our typings, we should change that.\n@jdpigeon I think something like this should be fine:\njs\nstartKernelFor(grammar: atom$Grammar, onStarted: (kernel: Kernel) => void) {\nBy the way if you're searching for a clean flow linter for Atom, I can recommend flow-ide.. I'll try and reproduce. Have you changed the line height (default 1.5)?. :shipit: . > Assuming this is still desired and relevant, I'd love to take a crack at a few of these!\nThis is great! The issue is still relevant, though the list might be a bit outdated. Feel free to jump on our slack https://slack.nteract.io/ if have any questions.. This will very likely be fixed once we release https://github.com/nteract/nteract/pull/1726 since the errors are coming from Immutable.js.. I wouldn't be surprised if this is caused by https://github.com/nteract/ansi-to-react/issues/28. For more info see https://github.com/nteract/nteract/pull/1710. I can reproduce this in Hydrogen and nteract.\nThe performance issue is due to the linkification in our text/plain transform.\n@rgbkrk What about disabling the linkification until we find a faster way?. I used this branch today for work. Haven't found any issues. :+1:  from me. \ud83d\udc4d  Rebased. Do the tests work inside the jupyter notebook?. See https://github.com/mobxjs/mobx-react/issues/264. @ivanov Thanks a lot for the feedback.\nYeah I though about this too. I didn't go with it because a infinite scrolling list might become a bit messy with time, especially with multiple rich outputs.\nOne thing to note is that we accumulate stdout (primarily for properly handling ANSI escapes):\n\nI think this behavior is a good compromise between the ability of comparing multiple rich outputs while allowing users to read large amounts of stdout without constantly flipping through the history.. @BenRussert The great thing about our new panels is that users can re-arange them however they like:\n\nTotally agree, this is only the start. I'm happy to explore different UI's (e.g. a long scrolling list, or different output areas for different mime types, etc.)\n. > IPython master now has this and we've merged it for nteract desktop to start iterating on. What do you think about bringing this in @lgeiger?\nShould be good to bring in \ud83d\ude80 . Yeah the Remote Kernels section is great! I see myself referring to it a lot, everytime I set up new remote kernels.\n\nAnd it could do with a spring clean. Happy to pitch in\n\nThat's awesome! Thanks for helping out.\n\nDoes anyone know why this is here? I've been very happily using the Kernel Gateway!\n\nThere used to be a combination of kernel gateways and @jupyterlab/services that didn't work well, though I'm pretty sure this has been fixed. I think we can remove this note.\n. > I can't quite recall but I think detached: true shouldn't be set on Windows machines, only Linux.\nI removed detached: true for now to keep it the same as it was before.. Looks like the GitHub hooks don't work properly. Travis is green: https://travis-ci.org/nteract/hydrogen/builds/237941816?utm_source=github_status&utm_medium=notification. Looks like the GitHub hooks don't work properly. Travis is green: https://travis-ci.org/nteract/hydrogen/builds/237929995?utm_source=github_status&utm_medium=notification. @jdpigeon Welcome to nteract \ud83c\udf89 . Our other could also benefit from a empty message.. Welcome to nteract \ud83c\udf89 \ud83d\ude80 . Welcome to nteract \ud83c\udf89 . Unfortunately for us, the CSP policy in Atom doesn't allow the injection of scripts because of security reasons. Until we completely sandbox our display area we can't support embedded javascript in outputs.\nCan you try to restart your kernel via the command pallet and try again without embed_notebook(p)?. Could you also try this solution: https://github.com/ropensci/plotly/issues/768#issuecomment-255639816. >Yup, the above solution works in Atom.\nExcellent! Would you be interested in adding it to our examples collection?. Now that react-rangeslider 2.1.0 is out, this is ready to go.. @tobiasbj Would you be interested in implementing this feature?\nIt can be achived similar to how we're doing it in the normal result view.. Duplicate of #777. The sidebar gets only hidden when the output area is the active tab inside the dock. We do this since the panel wouldn't show anything useful if no kernel is running. Therefor we hide it to don't waste any space which is particular useful for smaller screens.\nThe panel will automatically appear if one executes output though. So there shouldn't be the need for manually re-opening the sidebar.\nThat said, maybe we should rethink the way we currently restart our ZMQ kernels. Right now we basically destroy the old one and start a fresh kernel. I think for the kernel process we still need to do this, but we probably don't need to dispose the whole kernel class (which causes the panel to hide).. Should we reset the output in the output area if a kernel is restarted?. Welcome to nteract :tada: :rocket:. I think it would be OK to strip whitespace on code that is executed on a selection basis.\nWe could quite easily add this here since we already normalize the line endings before sending code to a kernel.\n\nhow would we handle multi-line strings?\n\nIs this really a problem if leading whitespace is stripped?\n\nhow would we handle the pollution of the global scope?\n\nI don't think we need to handle this case. Right now one can already execute deeply nested code by selecting it line by line. Stripping the whitespace only makes it convenient to execute multiple nested lines. . Closed by #877 . Closed by #865 . Closed by #865 . Good idea!\nMost amount of logs come from the mobx-devtools extension, so we'll need to disable it too.. Very cool, thanks for your work! That's super valuable for the workflow introduced in #861 \ud83c\udf89 \n\nUse better icon for empty bubble(Just added and not yet evaluated state).\n\nI think the easiest thing would be to add a different icon here that indicates that this is just a placeholder.. @wowserx Just to make sure, have you tested with the latest master? v1.17.0 doesn't yet include this fix.. Awesome thanks for checking! \ud83c\udf89 \nI'll ship a patch release since this fixes a critical issue.. Looks like we run into #591 with IJavascript. @t9md Is this issue something that comes up in your normal workflow, or does it only happen when you rapidly run this command?. \ud83d\udc4d I'll take a look at it later this week.. Thanks for investigating.\nWe slightly changed the behavior of the kernel restart in b8ec0c3ffaa2841f9c62d333192e9a3f380ae70d. We don't clear result bubbles on restart anymore.\nLooks like the spinner now also stays active, which in my opinion shouldn't be the case. I think we should should find a way to remove the spinners or fully revert the commit.\n. Thanks a lot for investigating and the review!\nI did test with both Python and Javascript and this PR fixes the issues. The only thing I didn't test was calling restart so fast that multiple restarts were run. In that case multiple execution requests are sent to the socket. Since we reuse the old connection config, the kernel then receives two execution calls and the second one fails with the error message above.\nFor me 475e6261b637989f2f65fc96f949f63efd499e10 fully fixes the issue described above.\nI'm sorry for the many restart issues I introduced in my last PRs \ud83d\ude07 \nIf there are still issues with this we can change this line to use launchSpec and call this.connect instead of this.monitor. This will effectively revert to the old restart mechanism without breaking the UI.. > I checked, with last commit and it's OK. I'm not sure who merge this? not me right?\nAs reviewer, I can say it's OK, ready!\nAwesome that's great! \ud83c\udf89 \nDon't hesitate to go ahead merge this PR. As a maintainer and member of the nteract org you have the power \ud83d\udc4d . \ud83c\udd92  We've fixed quite a few bugs since our last release! We should ship a new minor version soon.. @t9md Good catch!\nI messed up the rebase onto #885 and #875. I'll try narrow next time \ud83d\ude07 \n\ntoggle-bubble cannot add bubble on the editor which is not yet evaluated by kernel.\n\nI mistakenly thought that this is expected behavior since insertResultBubble is called with a wrong \nsignature here, I don't know why that worked before. Will fix that!. Thanks a lot for the review \ud83d\udc4d \n\nOh, I didn't noticed my mistake, thanks. Strangely worked as expected \ud83d\ude05\n\nNo problem, I changed the signature in #883 so that's why it was broken \ud83d\ude07 . This should be good to go now.. Could you try reinstalling hydrogen with apm install hydrogen?. Great!. @alha02 What version of jupyter are you running in your VM?. Part of the problem here is that we cannot easily get the colors used by the current Atom theme (at least I don't know of any good way).\nWe only have access to the official syntax colors.. Do we have a way to get the syntax colors from the Atom color theme?\nIf I recall correctly they aren't exposed anywhere.. I like the suggestion of @BenRussert, though we wouldn't ensure that the colors aren't mixed up when using different themes. But at least they would match the overall color schema and have enough contrast.\natom-terminal-tab does the same: https://github.com/jsmecham/atom-terminal-tab/blob/master/styles/terminal.less. It may will be fixed upstream: https://github.com/atom/atom/pull/14844. A fix for this will very likely be included in Atom 1.19-beta3: https://github.com/atom/atom/pull/14929. This is fixed in Atom 1.19-beta3. Guessing from #501 this should do the job:\nbash\nsource activate thisenv\npython -m ipykernel install --user --name thisenv. It may also work if you start Atom from the command line after running source activate thisenv but then you can't switch between different envs in Atom.. > It doesn't match the JSON which seems to be required for Kernel specs\nAs long as you have jupyter installed you don't need to manually add kernelspecs inside the Hydrogen settings, we automatically detect installed kernels. You can savely remove any JSON you added to the Hydrogen kernel specs settings.\nYou can run \"Hydrogen: Update Kernels\" or restart Atom for the changes to take effect. Next time you want to run Python code you'll be prompted to select the environment you just created. . One thing to add: You'll only need to run\nbash\nsource activate thisenv\npython -m ipykernel install --user --name thisenv\nonce in the command line.. Awesome. This keeps the command palette usable when executing code similar to\npython\nfor i in range(1000):\n    time.sleep(0.05)\n    sys.stdout.write('\\rProgress: {}%'.format(i)). Looks like the download timed out. Please make sure your internet connection works and you're not behind a proxy. Could you try again?. @gyh75520 I don't know what to do, since you cannot access https://github.com/zeromq/zeromq.js/releases/download/v4.5.0/zeromq-v4.5.0-electron-v49-darwin-x64.tar.gz\nYou can try to manually copy this file to /Users/howard/.atom/.node-gyp/.npm/_prebuilds/https-github.com-zeromq-zeromq.js-releases-download-v4.5.0-zeromq-v4.5.0-electron-v49-darwin-x64.tar.gz. If you have the possibility to access the link from somewhere else.. You can also use cells to run predefined code blocks.\nI'm going to close this as a duplicate of #724. Please take a look at #724 for more information.. I'm pretty sure this was fixed in #888. I'll ship a new version.. Could you check if this exception still occurs in Hydrogen v1.19.0?. I'm going to close this for now. Feel free to reopen the issue if you still have problems.. Closing as a duplicate of #898\nThis will be fixed in the upcoming Atom: 1.19.0-beta3 release. Until that you can use the external output area with \"Hydrogen: Toggle Output Area\".. Thanks a lot for checking it out.\nI just tested it but unfortunately the upgrade breaks something.\nWe're on a quite old version of @jupyterlab/services (0.42.1) which still requires global XMLHttpRequest and WS, I guess this is why it breaks.\nI briefly tried to upgrade but wasn't successful, but I'll try again when I find time.. @blink1073 Thanks for the examples.\nI narrowed the bug down. It only happens when using jupyter kernelgateway instead of jupyter notebook to start the server. I'll open a proper issue on the jupyterlab repo tomorrow.. Opened two issues that prevent us from upgrading:\n- https://github.com/jupyterlab/jupyterlab/issues/3030\n- https://github.com/jupyterlab/jupyterlab/pull/3029. Could you check if the IR kernel is properly installed and listed when running jupyter kernelspec list?. @juancarloscastillo Glad it's working!\n\nNow a last question: it is possible to have R in Atom with Jupyter, but at the same time a screen with a log of all the results of a session? thanks!\n\nYou can open the external output area with \"Hydrogen: Toggle Output Area\" to show the execution history in the side panel.. >  Actually, we should probably start talking about when we will remove all the deprecated kernel connection code from the repo.\n@BenRussert I'm happy to make a PR. I think I have a local branch somewhere that does the cleanup \ud83d\ude04 . @xiligey We get the number of characters in a line via editor.getBuffer().lineLengthForRow(row) to determine the placement of the check. Unfortunately this works only for monospaced fonts.\nIf anyone knows a way to get the the line ending position from Atom in units of pixels we'd be more than happy to fix this.. Thanks a lot for the work! We can revisit this in the future.\nClosing in favor of #941 for now.. This is fixed in Hydrogen v1.21.1\nThanks @BenRussert . Could you try to run apm rebuild hydrogen and restart Atom?. You may want to try completely reinstalling Hydrogen:\n- Fully close Atom\n- Run apm uninstall hydrogen\n- Run apm install hydrogen\nAfter that hopefully everything is back to normal. Atom can sometimes get in a weird state when it fails to rebuild a package.. Thanks for the great feedback!\n\nAnyway, I of course still really love the package, might try to contrib later on if I have any ideas.\n\n\ud83c\udf89 That's awesome! You may want to take a look at our new-contributor-friendly issues and feel free to join our Slack if you have any questions.\n\nThere's no hydrogen -> notebook feature yet right?\n\nWe have a open issue with more information but no one is currently working it: #801 . > I think that Altair is going to release soon with the custom mimetypes, which simplifies our examples here. I'm stoked!\nYeah, added a example for Altair 1.3+. Atom 1.20 is now stable so this is ready to merge \ud83d\ude04 . Yeah I'm sure this is good to go. Hydrogen still uses it's own kernel discovery based on jupyter kernel specs list --json though I'd love to change this for the future.. > @lgeiger I haven't actually tried this on mac, but pretty sure it will work.\nWorks excellent! Thanks.. @BenRussert Thanks!. In Hydrogen 2.0.0 we changed our kernel detection method to improve the startup time and make setup easier. Checkout the updated installation instructions and the release notes for more information.\nFeel free to open a new issue if you still experience problems with version 2.0.0.. Looks like the React definitions of @nteract/display-area and @nteract/transform* don't work with flow 0.53\nRef: https://github.com/facebook/flow/releases/tag/v0.53.0. Closing in favor of #965 . You'll either need to include %matplotlib inline somewhere in your script or run plt.show() right after plt.imshow(...).. In Hydrogen 2.0.0 we changed our kernel detection method to improve the startup time and make setup easier. Checkout the updated installation instructions and the release notes for more information.\nFeel free to open a new issue if you still experience problems with version 2.0.0.. @callmeish Thanks a lot for the work and the rebase!\nUnfortunately after the rebase this includes a lot of commits that are already present on master (take a look at the changed files) so we are unable to merge this.\nTo fix this a interactive rebase is necessary:\nbash\ngit remote update\ngit checkout copy-external-output \ngit rebase -i upstream/master\nRemove the commits unrelated to this PR in the editor that will pop up and you should be good to go.\nIf you need help with this feel free to join our slack channel.. An alternative approach would be to get the text directly from the DOM as it is done in the result view component.\nThough I kind of prefer the approach taken here because it consistently copies only the plain text representation. The only drawback is that we can't properly handle ANSI codes this way.\nIn a future PR we should come up with consistent way of handling this.. We could run anser.ansiToText before copying it to the clipboard since we already have anser as an implicit dependency in our transforms.. > @lgeiger, I assumed it is intentional that the startup code is not run on hydrogen:restart-kernel, right?\nI don't know if it is intentional or not, but even if it is I'd be happy to change it if makes things more consistent.. Glad you solved it! \ud83c\udf89 \nWould you like to add your solution to our troubleshooting guide?. Welcome to nteract @ssahaxd \ud83c\udf89 \nWe really appreciate any help, especially on the Windows side since setup can sometimes be a bit tricky.. We haven't shipped a release for some time now. I think after this PR we can \ud83d\udea2 . > Oh man, this means that Hydrogen will have the new VDOM support before nteract desktop!\nNot yet. Hydrogen doesn't use @nteract/transforms-full since not all the transforms work with Atoms CSP.. > I... put it into @nteract/transforms as a default transform since React is effectively built in.\nAwesome didn't know that \ud83c\udf89 . > We definitely want this across every time we iterate across an array for React (at least with React 15.x). If there are other spots that use similar logic, we should go after those as well.\nThis should be the only place where we iterate across an array for React.. The dev console doesn't show any messages related to Hydrogen.\nWhich command are you trying to run?\nCould you try running it from the command palette to make sure the keymap isn't overwritten by another package?. I think it would be great to support this setting in the Inspector as well. This way we scale all side bar components consistently. But we could do this in a future PR.. We shouldn't merge before #954 to not cause more rebase pain.. Rebased onto  #954. What Atom version are you using?. This looks like the issue was introduced by yesterdays release of Atom 1.19.6. I can reproduce this in Atom 1.20.0-beta6 as well.. I'll open a issue on Atom.\nFor now I think the only solution is to downgrade to Atom 1.19.5 or use our external output area (Hydrogen: Toggle output area).. This issue will be fixed in the upcoming bugfix release of Atom: https://github.com/atom/atom/pull/15583. Atom 1.19.7 and 1.20.0-beta7 are now published with a fix.. Could you try upgrading plotly with pip install plotly --upgrade or conda update plotly?. I can't reproduce this issue on Atom 1.20.0-beta7 and plotly 2.0.15.\nCould you try to reinstall Hydrogen (apm uninstall hydrogen && apm install hydrogen)?\nIs anyone else able to reproduce this on Atom 1.19?. Glad you got it working!\nIn Atom 1.20 they made the content security policy less restrictive but it used to work in 1.19 too. Since Atom 1.20 stable is right around the corner I think we don't need to worry too much.. @choudhary001 Thanks for being interested in contributing! \ud83c\udf89 \nCurrently our getting started guide doesn't mention the possibility of using the external output area. It would be really great if there would be a section that explains the usage of the external output area (how it's toggled, etc..). You can use to GIF in the release notes or make your own screen shots.\n\nCan you outline what is needed here.\n\nYou can decide for yourself what the scope of the issue should be. We're happy with everything from a small added section all the way to a complete rewrite of our documentation \ud83d\ude04. Though I'd recommend to start with small changes, we can always iterate.. @choudhary001 Are you still interested in this issue? Feel free to join us at https://slack.nteract.io if you have questions.. Looks like apm messed up some permissions.\nYou can try to run apm uninstall hydrogen from the command line.\nIf everything fails just manually remove the C:\\Users\\akbar.atom\\packages\\Hydrogen using the explorer or the command line. This will completely remove the Hydrogen package from your system.. - What command did you try to run? Checkout our documentation for different ways to execute code.\n\n\nDid you follow our installation instructions and have a supported kernel installed on your system?\n\n\nCould you enable debug messages (as described here) and post a screenshot of the dev console, please?. Do you have jupyter installed and are you able to run jupyter kernelspec list --json from the command line?. I can't reproduce this on my machine.\nThe error is thrown from the Python process so I guess this is a problem with your Python installation and not with Hydrogen itself.\n\n\nDoes this code work in your Python or IPython console?. Great :tada:. Glad you got it working \ud83c\udf89 \nThe command \"Hydrogen: Run\" will only run the current line (or the selected area). Take a look at our Documentation to learn about the different ways to execute code in Hydrogen.\nYou're probably searching for the commands \"Hydrogen: Run All\" or \"Hydrogen: Run Cell\".. @vuki I agree we should add a global setting to configure if the inline bubbles or the external dock should be used.\nWould you like to send a PR to fix this? A additional check here will maybe do the job.. Closed by #1022 \nThanks @BenRussert for the work.. We have fixed it in #991 but forgot to released a new version yet. Maybe we should also backport this fix since the next version of Hydrogen will require Atom 1.20.\nFor now you can explicitly set the fontsize of the output in the Hydrogen settings. This should fix the problem.. @teristam Congrats on your first PR :tada: :100: :+1:\nThat's definitely looking a lot better.\n@rgbkrk I agree it should not affect all descendant divs. We may need a more rigorous selection here.. This issue was fixed in Atom 1.19.7. Please upgrade to the latest version of Atom.. That's a excellent idea!\nUnfortunately it looks like Atom's code folding completely relies on indentations instead of selectors specified by grammar packages: https://github.com/atom/first-mate/issues/48\nIf that is still true this feature might be almost impossible for us to implement \ud83d\ude15 . It looks like we might be able to do this once https://github.com/atom/atom/pull/16299 lands.. Thanks :+1: . @BenRussert Do you want to ship a new minor release?\nWe fixed quite a few bugs since the last one :). Checkout #996\nWe'll release a new version with a proper fix very soon.. We shipped v1.23.0. This is now fixed.. In Hydrogen 2.0.0 we changed our kernel detection method to improve the startup time and make setup easier. Checkout the updated installation instructions and the release notes for more information.\nFeel free to open a new issue if you still experience problems with version 2.0.0.. Hi @jdpigeon, I'm not very familiar with the jp-babel kernel but here are some general notes:\nThe first time you run code Hydrogen starts a new kernel in the directory specified via the Hydrogen settings.\nDepending on your configuration Hydrogen will start the kernel either in the first project's directory opened in the tree view (default), the project directory relative to the file or the current directory of the file.\nCan you double check if the kernel is started in the correct directory to make the imports work?. @nikitakit Thanks for the explanation!\nSince requirejs is over a MB big and potentially caused #793 I think we could give it a shot and remove it. It's aIso missing in the minimal node example from jupyterlab. If we're hitting strange bugs, we can always roll back. What do you think?\n\nJust saw #908 (comment): based on this I think it may be possible to do away with the globals shim entirely.\n\nI have a rough version of this mostly working, though I'm hitting some bugs on jupyters side. I'll try to submit a PR soon.\n. > Should we go ahead and bring this in?\n\ud83d\udc4d I think we should try it and see how it goes.. > Nice work, should this be merged before #40 ?\n\ud83d\udc4d \n1008 Needs a rebase anyway.. @ttor Do you want to help us maintain Hydrogen? We'd be very happy to add you to the nteract organization.. @ttor That's awesome! Welcome to nteract \ud83c\udf89 . Thanks for tackling this.\nI just tested it and unfortunately it doesn't fully work. When first starting a new kernel it opens the dock but the output is still displayed inline.\nDo we really need the when statement at top? I think it should be enough to just check the settings here.. > I got caught up wanting an intuitive way to switch back to inline even if you have the setting checked, but that is probably unnecessary or at least can just come back to that if people want it later.\nYeah I think it's unnecessary. People can switch between both views very nicely when the setting is disabled. If it's enabled they'll never see the inline bubbles, which I think is OK.. Awesome! \ud83c\udf89 \nFeel free to join https://slack.nteract.io if you have questions.. Closed by #1049. > I am a tad worried about the PATH not being fully configured well.\nI just tried the latest ipykernel release and it properly installs the kernels using the full path.\n\njupyter-paths even has a flag to use jupyter underneath if necessary to get the right paths.\n\nI know, but that mitigates the upsides of this PR, since we would need to spawn a child process which is a lot slower.\n\nJust let me know if you want me to move jupyter-paths and kernelspecs back in the monorepo at any point -- I figured out how to do it sometime ago then didn't revisit it because it was no longer a priority.\n\nThat's a good idea. Though it might be difficult to get the unit test working properly.\n. > Though it might be difficult to get the unit test working properly.\nI think we'd need to install Python on Travis to make it work. If I recall correctly the unit tests of kernelspecs are actually a integration test.. > I am a tad worried about the PATH not being fully configured well.\nDo you think this change will cause a lot of trouble for people?\nI hope it makes it easier for new people to get started with Hydrogen and only introduce minor hurdles for people who switch from weird custom setups.. Which version of Atom are you using?\nCould you try installing it by running apm install hydrogen in your command line and post the logs?. It looks like installing from the command line should fix your issue. Feel free to reopen if you still need help.. Thanks for opening the issue. We need to fix this.\nAtom 1.22 removed the unofficial languageMode API: https://github.com/atom/atom/pull/15713\nIt looks like editor.tokenizedBuffer.getFoldableRangeContainingPoint() implements this functionality now.\n@elben10 would you be interested in sending a PR to fix this?. Hydrogen only offers autocompletion for words longer than 3 characters.\nShould we make Hydrogen respect the global autocomplete setting? It should be accessible using \njs\natom.config.get('autocomplete-plus.minimumWordLength'). The completions you are seeing in the list case aren't from Hydrogen. They're probably coming from autocomplete-python or similar.\nIt looks like the completion results of Hydrogen are hidden underneath.. >  Anyhow it would be nice to have autocompletion for shorter that 3 characters for my use, but I understand that it may not be preferable for others.\n@sigbjorngrini Would you be interested in sending a PR to fix this? We're happy to provide help with it.\nautocomplete-plus has a config option for this which is accessible via atom.config.get('autocomplete-plus.minimumWordLength'). We do the check for the character length here:\nhttps://github.com/nteract/hydrogen/blob/2498e5ed21e62219d59a66511207eb48d8fa5b6b/lib/autocomplete-provider.js#L110\n. @sigbjorngrini That's great!\nFeel free to join our Slack if you have any questions.. > Since you do some checking of versions here, I think this is fine to go out since it straddles the old API.\nYeah it should work fine.. Generally speaking I'm not sure if we should add too many keymaps in order to not conflict with other packages.\nWhat keymaps are you thinking about adding for these commands?\nYou can always customize the keybindings via your user keymaps file: http://flight-manual.atom.io/using-atom/sections/basic-customization/#customizing-keybindings. Yep we're down. We tried to migrate DNS yesterday but that didn't workout the way we expected \ud83d\ude1e \nYou can install the Python Kernel by running:\npython -m pip install ipykernel\npython -m ipykernel install --user. Thanks, lets get up to date \ud83c\udf89 . Error: node_modules/@nteract/transform-plotly/lib/index.js.flow:73\n 73:           this.el = el;\n                         ^^ HTMLDivElement. This type is incompatible with\n 73:           this.el = el;\n               ^^^^^^^ PlotlyHTMLElement. > We should really switch our Plotly mimetype to the way we do it in commuter:\nhttps://github.com/nteract/commuter/blob/master/packages/frontend/transforms/PlotlyTransform.js\nPlotly has to be a global, though we could make it a factory that takes the Plotly lib as a param.\n\ud83d\udc4d I really like the idea of a factory that takes the Plotly lib. This way nteract can use plotly.js source and let webpack do it's magic and Hydrogen can still rely on the minified @nteract/plotly.. Published v2.0.0. Feel free to edit the release notes.. > I'd like to able to capture the \"whole notebook\" - output, execution state and all.\nI'm looking forward to this \ud83c\udf89\nThough let's keep this for a future PR, so we can merge this one soon.. > flow doesn't seem happy after pulling in commutable (and hence immutable.js). I will update once I've resolved the issues.\nI wouldn't worry too much about the flow errors in commutable for now. They are due to outdated flow defs in immutable. That's why nteract is still on a older flow version. I'm OK with ignoring them for now.. Looks excellent \ud83d\udc4d \n. Congrats to your first PR on Hydrogen \ud83c\udf89 \nAre you interested in helping us maintain Hydrogen? I'd be happy to add you to the nteract organization.. \ud83c\udd92 Welcome to nteract.. Checkout the release notes of Hydrogen 2.0 this is now possible.. Thanks a lot for the PR!\n\nNot sure if there should be some if statement that provide 3 as an alternative if it cannot find atom.config.get(\"autocomplete-plus.minimumWordLength\").\n\nThat's exactly what flow on Travis complains about.\nYou'd need to check if atom.config.get(\"autocomplete-plus.minimumWordLength\") is a number and use 3 if that's not the case. Then everything should be green \ud83d\ude04 . @sigbjorngrini Are you interested in helping us maintain Hydrogen? I'd be really happy to add you to the nteract organization.. @andb0t Are you interested in helping us maintain Hydrogen? I'd be really happy to add you to the nteract organization. We could really need more Windows experts \ud83d\ude04 . Welcome to nteract \ud83c\udf89 . Checkout #40 for more information about this topic.\nI'm open for contributions adding a config option to have a global kernel.. >  Because I think it would be good to have a reusable way to keep track of configs that plays well with mobx.\nThanks for explaining your train of thoughts. If you think this is generally useful, I'm happy to merge as is.. That's strange. Hydrogen shouldn't add ctrl-c to the keybindings by it self. Checkout the list of keymaps.\n\nAtom 1.2.11\n\nDo you mean Atom 1.21.1? Atom 1.2 almost two years old. This would imply that Hydrogen is very too, since it requires a fairly recent version of Atom.\n. Glad it's working now \ud83c\udf89 \nThanks @crazypenguin for helping debug.\n\nApparently, I don't have python-language-server, which is required for hydrogen to work\n\nFor the record, Hydrogen doesn't require python-language-server.\n@vader333 You probably have ide-python installed which requires python-language-server as a external dependency.\n@BenRussert We should check the behavior when trying to start a Kernel in a unsaved file. At least we should throw a helpful error message.. I guess this is because Atom switches the focus to the inspector. Are autocompletions working again after continuing typing in the editor?. Thanks for opening the issue.\nCurrently we require the file to be saved in order to properly start a kernel. Though at the very least we should provide a helpful error message.. Checkout the language mapping setting.\nSetting it to { \"python\": \"magicpython\" } should fix it.\n@BenRussert @rgbkrk I wonder if we should set a few common language mappings per default to make it easier for new users who use a custom grammar.. @msoedov Would you be interested in sending a PR to fix this? Feel free to join us at slack.nteract.io if you have any questions.. In the code it's defined here:\nhttps://github.com/nteract/hydrogen/blob/9d595258c9619b3b106b796c7b1305e3109bcf9e/lib/config.js#L86-L93\nIn the user interface you'll find it by opening the Atom settings pane and search for the hydrogen package.. It looks like folium returns a javascript bundle to render which cannot be viewed in Atom due to content security policy issues. Since Atom is a desktop app it doesn't allow inline scripts to be executed from unknown sources.\n@rgbkrk I'm wondering if we'd be able to support this via the geo-json transform in nteract.. Have you installed the Python kernels for both versions according to https://nteract.io/kernels/python?. Sorry for the truble.\nHave you also run the same command for Python 3?\nbash\npip3 install ipykernel --upgrade\npython3 -m ipykernel install --user. This looks like a outdated version of Hydrogen and Atom. Which version are you running?\nPlease update if it's not the latest. Running\nbash\npython -m pip install ipykernel\npython -m ipykernel install --user\nshould fix the problem.\nPlease try the latest version of hydrogen.. Could you add steps how to reproduce this issue?. Have you followed the installation instructions, especially https://nteract.io/kernels/python?\nFor more information see the release notes of hydrogen 2.0.. Thanks a lot for the documentation overhaul. I can take a look at this tomorrow :tada:. @MaximilianR Thanks a lot for your work, this makes it a lot cleaner \ud83c\udf89 \ud83d\udc4d \n\nShould we replace all references to kernel-gateway with jupyter notebook, then?\n\nI'd be happy to only recommend jupyter notebooks. This gives users less choice and probably makes it easier for new people to understand.\n. Thanks for those excellent docs \ud83d\udcaf \ud83c\udf89 \nhttps://nteract.gitbooks.io/hydrogen/docs/Usage/RemoteKernelConnection.html. I can't believe we haven't invited you to the nteract organization yet.\nHere we go: Welcome to nteract \ud83c\udf89 . Random build failure: https://travis-ci.org/nteract/hydrogen/builds/297467869?utm_source=github_status&utm_medium=notification. Have you tried reinstalling it via the command line?\nbash\napm uninstall hydrogen\napm install hydrogen. We'll do the upgrade together with the @nteract packages. Looks like the latest beta doesn't have a editor.getCommentStrings method anymore.. Sorry for the messy PR. I can split it up into pieces if you like.. Compatibility with Atom 1.23 will be fixed by #1093 with the next release. Have you followed the installation instructions, especially the kernel installation as outlined at https://nteract.io/kernels/python?. Great idea, but unfortunately I'm not sure if this is possible, since as far as I know Atom windows run in a separate process so we cannot easily move the panel to another window.. Great thanks \ud83d\udc4d . Closing as a duplicate of #597. Thanks a lot for this PR!\nI haven't used jupyter hub so I don't know if there is a canonical way of authenticating.\nFrom a users perspective I would prefer hydrogen to conditionally promt for a token or cookie if no token is specified in the settings instead of having to add prompt: \"cookie\" to the json settings. Do you think this would be possible?\n/cc @willingc . Thanks for continuing the effort! I can take a closer look this weekend.\nI had hoped there would be more helpful error messages from jupyter lab/services so we could get around the trade-offs.. Sorry for the long wait. I tested it and it works great \ud83c\udf89 \nI think the drawbacks are well worth the improvements. Thanks for your great work!\nWould you like to add the new behaviour to our docs?\nYou may want to take a look at the next version of jupyterlab/services: https://github.com/jupyterlab/jupyterlab/pull/3294 it might improve the granularity of the error codes.. > I probably won't have the time to get to that for a little while.\nNo problem. I just wanted to link https://github.com/jupyterlab/jupyterlab/pull/3294 for the record.\n\n(Offhand, do you know if eval('require')('node-fetch') will violate Atom's security policy? The new version of services is doing that, but I seem to recall that there are some restrictions to using eval in Atom.)\n\nI'm pretty sure the new CSP allows the usage of eval.. Please try and reinstall hydrogen with\nbash\napm uninstall hydrogen\napm install hydrogen. Closing in favor of #1069. Have you tried installing hydrogen from the command line via apm install hydrogen?. I think you need to run ijsinstall to fully setup ijavascript: https://github.com/n-riesco/ijavascript#ijsinstall-ijavascript-kernel-spec-installer. Feel free to reopen if you need more help.. Well we shouldn't use internal refs anyway. No problem.. If I recall correctly, we're using it to attache a scroll event handler for the display area since the native react way didn't work inside the text editor. Though I'm sure we could also do this with a few extra divs. . See #1115 . Does it work in a saved file? If it does it's probably related to #1064\nWhat command did you use to interrupt the kernel?. Checkout this example: https://nteract.gitbooks.io/hydrogen/docs/Usage/Examples.html#latex. You won't need miktex or separately install mathjax. This won't have any effect.\nWhat is the output of the example run in a new file?\n```python\nimport sympy as sp\nsp.init_printing(use_latex='mathjax')\nx, y, z = sp.symbols('x y z')\nf = sp.sin(x * y) + sp.cos(y * z)\nsp.integrate(f, x)\n```\n. Which versions of Atom, Hydrogen and sympy are you using?. Does it work in jupyter notebook?\nCould you post a screenshot of the Developer console as shown in our debugging guide. Glad it's working.\nIf we go with https://github.com/nteract/nteract/issues/2115 we'll be able to support latex rendering without modifying the global HTML header.. Build failure is unrelated. Let's merge.. Closing in favor of #1139. Closing in favor of #1139. Looks like you're running into https://github.com/atom/apm/issues/680. Thanks!. I don't think we're able to implement this in a language agnostic way.. In that case we'd be happy to receive PRs implementing a feature like this.. This looks like a CSS issue.. I haven't tested it, but I'm pretty confident that this line introduces the problem:\nhttps://github.com/nteract/hydrogen/blob/09bacb3556dbd9ee3b85d8cbc28a0b62eeb9defc/styles/hydrogen.less#L46-L48. We should better scope\nhttps://github.com/nteract/hydrogen/blob/09bacb3556dbd9ee3b85d8cbc28a0b62eeb9defc/styles/hydrogen.less#L46-L48\nThis line is mostly there to ensure a white background for SVG plots rendered with matplotlib or similar but unfortunately breaks plotly 3D plots.\nPersonally I'd be OK with removing this line at the cost of not having a white background for matplotlib SVG plots.\nI'm going to label this as a good first issue if someone wants to dig into it and find a better solution.. Thanks for investigating. Closing in favor of https://github.com/root-project/cling/pull/196. Hydrogen requires users to have a language-specific kernel installed in order to run code.\nI don't think there exists a Jupyter kernel for HTML therefor we cannot support this workflow in Hydrogen.\nYou can just open the HTML file in your web-browser of choice to get a preview of the rendered HTML.. It's now on behind a feature flag on stable: http://blog.atom.io/2018/03/15/atom-1-25.html. Tree sitter finally fixes the issues we're having due to incorrect indentation based code folding.\nUnfortunately it doesn't support highlighting of code cells anymore. I created a Atom issue for this: https://github.com/atom/atom/issues/18196. Glad it works. This looks like a problem with apm.\n@pingshunhuangalex Do you want to add a small note to our installation instructions recommending users to install via the command line?. Thanks for investigating.. I'm happy to change the name to lower case. This looks like a issue in Atom: https://github.com/atom/settings-view/issues/1018\nThough I wonder if we break our publishing if we change the name.. As mentioned above this is a upstream issue that will be fixed in the next Atom version: https://github.com/atom/settings-view/issues/1018. Awesome. I took a quick look when I created the issue but wasn't able to figure it out right away.. For now I'm good with everything that makes Travis happy :wink:. Looks like this might be a easy fix: https://github.com/nteract/hydrogen/pull/1144#issuecomment-352131807. Please try installing it from the command line via apm install hydrogen. #1139. Looks like editor.getScopedSettingsDelegate was removed in Atom 1.24. Everything green \ud83d\udc9a . \ud83d\udc4d We should do a release once #1144 and #1143 are merged. Fixed in 2.2.0. This looks like a bug on the Atom side: https://github.com/atom/settings-view/issues/1018\nFor now we recommend to install hydrogen from the command line.. \ud83d\udc4dThis will be fixed in the next Atom version. https://github.com/atom/settings-view/issues/1018. Closing as a duplicate of #1150. I'm confident that this solution will fix the problem.\n@jasonleonhard Do you want to send a PR to clarify our documentation for multi language grammars?. This is intended behavior. The language mapping is only used to figure out the language from a Atom grammar which can have different names than the ones used in Jupyter land or vice versa.\nWe're happy to receive PRs clarifying this better in the settings \ud83d\ude04 . Please elaborate.. This is a upstream issue on Atom, which will be fixed in with the next version.. Sorry greenkeeper, we're getting help from renovatebot now #1445. Unfortunately this is a upstream issue in Atom 1.23 (#1150) installing from the command line via apm install hydrogen should work though.. Please try installing it from the command line via apm install hydrogen.. > beta channel is failing, is that ok for the time being?\nShould be fine, Travis has some problems: https://www.traviscistatus.com/. > apm update Hydrogen || apm install Hydrogen\nPlease do apm install hydrogen not apm install Hydrogen\nWe're running into: https://github.com/atom/settings-view/issues/1018. Kicking Travis helped. Thanks for reporting. Yes it was fixed in Atom 1.23.2 . Woo great stuff happening here! Sorry for not keeping up with the speed of the conversation \ud83d\ude04\nJust a side note to help with our dev setup:\n\nThis avoids the flow issues, but now prettier kicks in because the line is longer than 80 chars.\n\nThe lasiest way to deal with the prettier/flow/babel problems. Is probably to ignore the problematic line via // prettier-ignore.. Woo it's on \ud83c\udf89 . Renovate handles our upgrades now.. Could you also post the output of\njupyter kernelspec list --json?. Looks like you're behind a firewall. Checkout https://github.com/atom/apm#behind-a-firewall. There is a option for this in IPython: http://ipython.readthedocs.io/en/stable/config/extensions/autoreload.html?highlight=autoreload\nThis can be configured as the default behaviour via the IPython config which will effect IPython, Jupyter Notebook, nteract and hydrogen.. \ud83d\udc4d Glad you got it working.. Random Travis failure https://travis-ci.org/nteract/hydrogen/builds/329579921?utm_source=github_status&utm_medium=notification. Woa I ignored this way too long, sorry Kyle. I'll take a look later today.. > Tips I need -- what top level element(s) should I register this mathjax context on? It basically needs to be above any element that would render outputs (Markdown or LaTeX).\nRight now we're registering mathjax globally on the page. This seams to have worked in the past.\nmathjax-electron was handling this for us: https://github.com/nteract/mathjax-electron/blob/master/index.js#L31. Renovate handles our upgrades now.. Renovate handles our upgrades now.. @vishal786btc It looks like Hydrogen isn't correctly installed. Could you try and reinstall it?. This looks like Atom changed something with their grammar handling. Could you provide a code example where run-and-move-down isn't working?. Thanks for the link. Closing in favor of #1229 . We published v2.2.3 including this fix.. Are you using the latest version of Hydrogen?. @xudongmit Could you upgrade to 2.2.3 and try again. The problem should've been solved in this version.. This is actual a error from atom-ide-ui that was fixed in the latest release: https://github.com/facebook-atom/atom-ide-ui/issues/169. This is already part of the installation instructions, but it won't hurt if we add it to the troubleshooting guide too.\n@cocomice Want to send a PR?. Have you followed the kernel install instructions for conda as shown here: https://nteract.io/kernels/python?. Glad it's working \ud83d\udc4d . This is a problem with the SPARQL kernel. It lacks the language field in the kernel.json file which is required in the jupyter messaging protocol. Hydrogen uses it to determine the grammar.\nAdding  \"language\": \"sparql\" to /usr/local/share/jupyter/kernels/sparql/kernel.json should fix it.\nThen you should be able to remove the  Language Mappings setting again.. Closed by #1247 . > In general, the schema for session model objects has undergone some changes in the past year or so. Once Jupyterlab and @jupyter/services get to the point of actually having a stable developer API, we can consider additional changes (such as taking advantage of the name field instead of pretending that everything is a path)\n@jupyter/services is stable and following semantic versioning now. Unfortunately upgrading to @jupyter/services requires some changes on our side see #1162.\nA great alternative is also rx-jupyter if someone is interested in looking into that.. Nice let's ship!. Renovate handles our upgrades now.. Are the vega/altair examples still up to date?\n https://nteract.gitbooks.io/hydrogen/docs/Usage/Examples.html#static-plots. Cool :+1: :+1:. Closed via #1284. Have you read the installation instructions: https://nteract.gitbooks.io/hydrogen/docs/Installation.html?. Do you have a kernel installed for the language you want to execute. Have you rebuild Hydrogen?\nAtom should prompt you to do so after upgrading.\nYou can manually rebuild Hydrogen from the Panel that opens when executing Incompatible Packages: View via the command palette.. That should work too. That's strange, because Hydrogen only activates when triggering an activation command. Meaning Hydrogen doesn't really run on Atom start up.\nAre you sure it's not caused by another package?. I just checked and I can't reproduce this with Hydrogen on Atom 1.25 and Atom 1.26-beta0 on my machine.. That's normal when Atom internally upgrades Electron versions. The fix is clicking on the rebuild button.. That probably depends on the Python installation you're using. If I recall correctly Python 2 doesn't fully support unicode, so I suspect you're using Python 2?\nI just checked with Python 3 and it works as it should.. Could you run\npython\nimport sys\nprint(sys.version)\nin Hydrogen to check which exact version you're using?\nAlso upgrading ipython with:\nshell\npython3 -m pip install ipykernel --upgrade\npython3 -m ipykernel install --user\nmight help.. >The system version printed is:\n2.7.14 (default, Mar 22 2018, 15:04:47)\n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.39.2)]\nLooks like your Python 3 executable is symlinked to Python 2 so you're using 2.7 instead of 3.x. > But I still think it is a bit strange, I would have assumed that either selecting the Python 3 kernel upon first execution of Hydrogen or the magic comment at the top of the file should have resulted in loading the correct version.\nHydrogen will prompt you to select a kernel on startup if you have multiple kernels installed. To install kernels for both 3 and 2 run:\nshell\npython3 -m pip install ipykernel --upgrade\npython3 -m ipykernel install --user\npython2 -m pip install ipykernel --upgrade\npython2 -m ipykernel install --user\nAfter Atom restart Hydrogen will then prompt you which kernel to use. This is inline with the behavior of jupyter.. If you want to be extra verbose you can remove the python folders in ~/Library/Jupyter/kernels before running the above commands.. Have you removed ~/Library/Jupyter/kernels before running the install commands?\nWhile the above commands should install this correctly, it seams that there's something weird going on with your Python setup. In any case there's an easy manual fix:\nEdit argv in ~/Library/Jupyter/kernels/python3/kernel.json to point to the correct Python 3 executable.\nFor me this looks something like this:\npython\n{\n \"argv\": [\n  \"/usr/local/opt/python3/bin/python3.6\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}. I guess this is related to our recent MobX upgrade in #1284. Let's ship a patch release!. --> #1385 . Thanks for tackling this! I'll check it out tomorrow and don't merge it right now since you've added a WIP label.. Thanks \ud83d\udc4d . \ud83d\udc4d Shipped as v2.5.0. That's strange, I just verified that it works as expected with the Python kernel. \nThanks for investigating, can someone else reproduce this issue too?. Awesome, glad it works :+1:. I really like the idea to connect to the atom-ide-ui package, mainly because we don't need to build and maintain the UI for it ;)\nOne thing we need to check is, that it doesn't interfere with other running language servers.. Cool! Thanks for the update.. Side note: It would be great to be able to use jest snapshots for this kind of component testing. It would make things a lot easier for sure.. greenkeeper is getting quite noise. Let's try renovate which is doing a great job in nteract/nteract.. #1437 and #1438 should be merged prior to this PR.. > what type of changes does this require?\nI haven't tracked the changes. Since it's a large version jump, I guess this upgrade requires a lot of code changes on our side.. We need #1212 for this.. > Should that be a separate PR to update the typings or added to this?\nHowever it's easier for you. LGTM. Thanks Ben. This is fixed on master by #1460 since we're now using @nteract/markdown which supports tables.\nWe should ship a new release \ud83d\udd1c . > On second thought, I don't have a problem with leaving that at the bottom of the examples, if only to advertise the data explorer more.\nI agree, we should add a link to the data explorer plugin.. We can add links to the plugin in a future PR.. Have you restarted Atom after installing the kernel?. > For the record, I'm happy to make your suggested changes before you merge.\nSorry I merged too fast, I don't want to cause more delay because of code style preferences \ud83d\ude09 . It looks like there's something wrong with your miniconda installation. I'd try to upgrade miniconda or reinstall it, to see if it fixes your problem.. Thanks for getting this started \ud83c\udf89 \nI guess the flow error is because the callback in fs.readFile shouldn't be a async function. I guess wrapping it into an arrow function might work around this issue. \nI can review the PR in detail next week.. Looks like this needs a rebase.. I think you can use the %run magic. Try adding %run my_script.py.. Make sure to enter valid JSON in this field.\nYou'll need additional quotes:\n{\"Python3\": \"%run ~/output_python/start_up_script.py\"}. Nice, glad it worked.. Yes scrolling works.\nFor me the only difference is that the space for the scrollbar isn't reserved with auto when no scrolling is needed. I'm talking about these dark bars:\n\n. Definitely! This will be the next step :+1: \n. Thanks for noticing! I added the line break at some point and didn't thought about this.\n. Thanks a lot! I'm sometimes still at war with git rebase.\n. Oh sorry my english isn't that great. I meant: in order to be above the shadow of action panel\n. Oh no. This breaks when you want to add break points in multiple files.\n. Thanks! I copied it here but that's unnecessary.\n. Yes\n. Hmm but then it will look odd. I've got another idea, I'll try that later if it works.\n. \nDo you like this one better?\n. For example matplotlib shows your plot like this if plt.show()isn't used:\n\nWith container the image would be clickable as well despite just copying the text.\n. You're right!\nI don't know if this try is really necessary but I added it because of this line container.getElementsByTagName('pre')[0].\n. @n-riesco but then this wouldn't work.\nOr is there a better way of doing this?\n. Because @getAllText() would always return ''.\nIt gets the text from the container see here.\n. :+1: \n. Yes. Currently if they are not included here hydrogen will note use them.\n. I know. This is great!\nI tried to include the transformers instead of removing, but they didn't work out of the box. So either way we will have to do some work on them in the future.\nFor example PDFTransform displays a link to the pdf, but atom doesn't allow it to be clicked.\n. Hmm it doesn't throw an error.\nI removed the brackets because of your comment.\nWhat would be the right way for this in coffeescript?\n. Thanks!\n. hydrogen:run-breakpoint-cell sounds a bit odd to me.\nAn alternative to cell would be code-cell (used by spyder) or section/code-section (I think matlab uses this).\n. This line throws an error every time Hydrogen is activated. This didn't happen before.\n. If I restart atom and then start Hydrogen, this is the output:\n\n. Yes good idea!\nI tried this but somehow I couldn't get the syntax highlighting to respect this as well. Any ideas on how to achieve this?\n. @language was always undefined. Hence the hardcoded ipython kernel couldn't ever work.\nI think we can remove it because nobody reported an issue \ud83d\ude09 .\n. Thanks a lot for your review! I really appreciate your feedback.\n\n@n-riesco I think @_kernelSpecs should be initialised with the user settings; i.e. @_kernelSpecs = @parseKernelSpecSettings(). Is there a case when we wouldn't this to happen?\n\nThe parsing of user settings should happen in updateKernelSpecs, otherwise hydrogen:update-kernels wouldn't help if the settings are changed by the user.\n. Fixed :+1:\n. I'm OK with renaming @inspector to @view. But I don't think @initializeInspector should be renamed to @show since it just constructs or clears the view. The inspector is only shown if a message is added.\nI didn't move the creation to the constructor because the inspect command is only used on occasions, hence I think the view should only be created on the first inspect request. Or am I missing something?\n. I don't think we have to have a hydrogen command for hiding the view. This functionality is provided by an button on the view itself.\nIf you like to keep hydrogen:toggle-inspector-size and hydrogen:close-inspector I can add them back.\n. I don't see why initialising @_kernelSpecs = @parseKernelSpecSettings() would be an improvement. Since on activation of Hydrogen @updateKernelSpecs is called anyway.\n\nOne thing doesn't preclude the other, but it makes me think that @updateKernelSpecs could be split into two methods @getKernelSpecsFromSettings and @getKernelSpecsFromJupyter.\n\nThis is actually the case right now. The only difference are the method names:\n@updateKernelSpecs is now called @saveKernelSpecs,\n@getKernelSpecsFromJupyter is @updateKernelSpecs and\n@getKernelSpecsFromSettings is @parseKernelSpecSettings.\nWe can rename those methods if you think this would make it clearer.\n. > We need to remove this line as well.\nDone in #339 \n\nAfter some more thought and since Kernel gets a grammar, I think this line should be @language = KernelManager::getLanguageFor grammar.\n\nFixed!\n. Oh I see. I missunderstood that makes sense.\n. Oh I'm sorry I didn't restart atom while testing, so this error slipped through.\nKernel::grammar is used in this line. I wouldn't remove it.\nI think we should switch back to @language = @kernelSpec.language\n. \ud83d\udc4d \n. What about excludeLowerPriority: false won't suppress providers with lower priorityor something similar? I think this would be clearer.\n. Good catch, I didn't change that on purpose.\n. Ooops, I removed it by accident. Thanks for noticing!\n. I think I'll rename it toerrorMessagewhich should make it clearer.\n.handleKernelCommandsis only used with thecommandandkernelSpecarguments.\n@n-riesco Should I simplify the function and remove the unused arguments?\n. I'm wrongSignalListViewuses all the arguments though I think this can be simplified in a future PR.\n. I opted for this, since@kernelManageris optional but I'll change it.\n. This one is necessary because of the line 121\n. It should default to[]. Otherwise the session picker will always show an empty item.\n.if not _.isEmpty itemswould work here sinceConfig.getJsonreturns an empty array on default.\n.else:isn't working in coffescript. Useelseinstead.\n. Should we add an item about theLanguage Mappingssetting if the kernel uses a different name (e.g.scala211)?\n. Oh I forgot about #355.\n. Is there a specific reason why you aren't using the latest version0.16.3`?\n. Oh yes thats better\n. I'll address this in a future PR. But probably not today.\n. You're right.  I wasn't really happy with the name either.\n. Oh now I understand.\nNo problem (thanks to git rebase -i) \ud83d\ude04 \n. No worries. I'm just curios. I can upgrade it in a future PR.\n. That could lead to problems if the cursor is inside the comment defining the code cell.\nBut it would be more accurate otherwise.\n. That's a great idea. I addressed it in the latest commit.\n. Restoring the focused pane isn't working for me. I think it has something to do with the location where @storeFocusedElement() is called.\n. This line is unnecessary since hydrogen doesn't use the watch-language-picker class anymore.\n. I had a quick look into it:\nThe problem is the CustomListViews created in onGateway and onSession try to restore the focus to the input field of CustomListView.\nI have an easy fix for that and submit a PR after this is merged.\n. Clean up the created connection file\n. This is working but shouln't it be @connectionFile?\n. Why aren't you using a default value in the function definition?\n. Is sending @kernelProcess.kill 'SIGINT' working correctly? Before we were using @kernelProcess.kill 'SIGKILL'.\n. I think we should send an shutdown message even if @kernelProcess is defined.\n. \ud83d\udc4d \n. I think we should add an atom notification here.\n. I think we should add the restart option from @shutdown.\n. OK I see, it makes sense.\nI was just wondering because @shutdown has an restart option which isn't used anywhere. But this can be left for an future PR.\n. Why are you using kernel.grammar instead of @editor.getGrammar()?\n. The problem is that @kernelManager.destroyRunningKernelFor isn't working with kernel.grammar because kernels are identified via @editor.grammar (e.g. python instead of python 3).\nI think we should use @editor.getGrammar() for now.\n. Oops, I'm sorry I didn't read ps aux correctly. I had an other python process running and thought it was related to hydrogen :wink:.\n. I triggered an inconsistency like @nikitakit mentioned.\nTo trigger it, select a remote kernel (preferably over a poor internet connection) and quickly switch to an other tab with different grammar. @editor.getGrammar() and kernel.grammar will not be the same (I checked for equality at line 355).\n. I think dismissable: false should be the way to go. Then the notification gets dismissed after a few second automatically. This is the default behavior so removing this line will work.\n. I would prefer \ncoffeescript\nunless message.header.msg_type is 'input_request'\nsince it is used more often in our code base.\n. Is it possible to modify @kernelManager.destroyRunningKernelFor to work for WSKernels as well?\n. Sidenote:\ncoffeescript\nrestart: ->\n    @session.kernel.restart()\nand\ncoffeescript\nrestart: ->\n    return @session.kernel.restart()\ncompile to the same javascript code.\n. The restart option in @shutdown for ZMQKernel is just a parameter in the shutdown message and doesn't really restart the kernel. (I don't really know what it is doing instead, maybe @n-riesco knows.)\nI think for WSKernel we don't need the restart option in @shutdown.\n. Great, no need to act on my comment. I mentioned it, because I was surprised too :)\n. Oh of course. Thanks for reminding me \ud83d\udc4d \n. coffeescript\n@wsKernelPicker.toggle grammar, (kernelSpec) =>\n. You can do this assignment in the method definition like this:\ncoffeescript\ntoggle: (@_grammar, @_kernelSpecFilter) ->\n. I'm not a native speaker but I think using camel casing for specModels and specModel would be better. At least it would be consistent with sessionModels. What do you think?\n. I would prefer sessionInfo as above.\n. Great this issue is fixed in v0.18.1 of jupyter-js-services\n. For me Rename session for or something similar would be clearer. I find Rename Python 3 kernel a bit misleading.\nOther than that everything works beautifully \ud83d\udc4d \n. For me a capitalized Result: would be a bit nicer\n. This functionality doesn't really make sense inside the watch panel.\ncoffeescript\nif @marker?\n    actionPanel.appendChild(insertButton)\nThis should (haven't tested this yet) hide the button if in the watch sidebar.\n. I have started cleaning up SignalListView some time ago. I'll address this in this PR.\n. Addresses this comment\n. If no connection file is found the error code would be ENOENT and no error will be logged.\nOriginally we did throw here. But there were errors coming up caused by this line since this should be fixed now, I think we can log the error again.\n. Yea, found quite a bit of unnecessary stuff\n. You don't need ZeroMQ installed on windows. It is packaged with https://github.com/JustinTulloss/zeromq.node.\n. This will skip the prebuilt goodness and ensure that zmq-prebuilt is build from source. This flag is used by prebuild.\nI may make a PR to apm to set this by default.\n. Good point I think I only removed node_modules/zmq-prebuilt/ during testing. I test this.\n. rm -rf node_modules and apm install works \ud83d\udc4d \nI override the install option only because of the --build-from-source flag.\n. I'm really sorry having to remove the very detailed instructions by @pingshunhuangalex. They probably won't work with zmq-prebuilt \ud83d\ude15 \n. From the coffeescript docs: zip = lottery.drawWinner?().address?.zipcode \ud83d\ude06 \n. I totally forgot about this. I made a PR: https://github.com/atom/apm/pull/638\n. Good catch! Fixed \ud83d\udc4d \n. \ud83d\udc4d \n. This should do the job:\njavascript\nif (!foldRange || !foldRange[0] || !foldRange[1])\n. I'll cleanup the rest. \ud83d\udc4d \n. I removed them in this commit.\n. Hmm I actually have no idea.\n. They are just an artifact from decaffeinate.\n. I'm going to remove this again and use static methods as you mentioned above.\n. > I'm going to remove this again and use static methods as you mentioned above.\nMy bad. This won't work.\nI'm using this rule mainly because it would error in files like [kernel.js] since a lot of the methods don't use this.\n. Removed\n. Yep we have methods like _execute etc.\n. Otherwise it would complain about this line\n. I remember fixing this the same way in the past but I can't remember what the exact problem was.\n. We could check for existence here If you prefere.\n. I'm going to refactor the input views soon. Since I noticed this quick fix half way through refactoring all of them.\n. Thanks, you're right. This can be removed \ud83d\udc4d \n. I refactored it in #508 \n. They are actually necessary. I think because they are used here.\n. There's probably a better way of doing this, but this will work for now.. Yes: https://github.com/nteract/transformime/blob/master/src/commonmark.transform.js. I think it would be enough to add the link to the official document \ud83d\udc4d . Really? I tried to look for something like this in nteract but could find it \ud83d\ude04 . I only moved it a few lines down in order to remove the logs generated from execution_count and status events.. This sounds to me a bit like kernel gateways aren't supported on Linux which isn't the case.. @tiangolo Sounds great! \ud83d\udc4d . Thanks \ud83d\udc4d \u2764\ufe0f . This Regex will only trim the beginning of the string and not the end.. ~~Since it is empty now we can remove the whole video, img, svg selector.~~\nEdit: https://github.com/nteract/hydrogen/pull/607#issuecomment-277645086. We still use this RegExp for stdout. I think we should make it easier for users and only provide a boolean option which defaults to false.\n@n-riesco If I recall correctly you added the RegExp. What do you think?. > Do we have to do any migration work since the type has changed here?\nWe don't need to do any migration work since it's only used here.. What does includeTitle: false do? I couldn't find anything in the Atom docs. Interesting, on my machine I don't see a difference between includeTitle: false, and the default setting.\nIf it fixes a issue on your machine, let's go with it \ud83d\udc4d . This is actually everything that's necessary for MobX to do it's magic. \ud83d\udc40 \nI really enjoy it for our use case. c5b27c41a4b3f689231a850aba62e3ec1358111b Simplified it a lot.. We don't need  to switch grammar instantaneously. Therefor we debounce the event to prevent flickering in the statusbar and watch sidebar.. Whoops pushed from the from branch. I'll fix this. Fixed. I used single quotes here to keep the diff smaller, though I'm happy to change that.. I think we should be good with using:\njs\nexport function getSelectedText(editor: atom$TextEditor) {\n  return normalizeString(editor.getSelectedText());. \ud83d\udc4d  for using the documented Atom API here.\nI'm confident that it does the right thing. I assume you tested it \ud83d\ude04 . I'm OK with removing this function and use editor.getCommentStrings(scope) everywhere, as long as we edit the readme that we only support Atom 1.11+. See #430.. For reference: https://atom.io/docs/api/v1.15.0/TextBuffer#instance-getFirstPosition. I think this line can be removed. When using arrow functions with curly brackets it doesn't automatically return.. Woo flow actually caught a bug here \ud83c\udf89 . \ud83d\udc4d  for using Range here.\nActually [start, cursor] is a range compatible array but then we would need to update the flow definitions.\nI think the comment can be removed.. At this point we can be sure that editor is not null since we check for kernel here.\nTo make flow happy and be more explicit I would move the check up there as well and do something like:\njs\nconst { kernel, editor } = store;\nif (!editor || !kernel) {\n  atom.notifications.addInfo(\"No kernel running!\");\n  return;\n}\nor \njs\nconst { kernel, editor } = store;\nif (!editor) return;\nif (!kernel) {\n  atom.notifications.addInfo(\"No kernel running!\");\n  return;\n}. I would keep the check for isMultilanguageGrammar before the check for kernel to ensure a error message.. Minor thing. You can use\njs\nconst { editor, kernel } = store\nSince we need kernel later anyway.. I'm pretty sure ?string is correct here since _.find(scopes, s => s.indexOf(\"source.embedded.\") === 0) can return undefined.\nWe probably need to account for that case somewhere else.. I would prefer removing the usage of store from this test file. Since all are pure function this can now be done \ud83c\udf89 \nEither passing in const editor = atom.workspace.buildTextEditor() or supplying a custom mock should be fine.. Woo thanks for all the declarations.\nThough we still need to be careful since we're using a undocumented/unofficial API here \ud83d\ude04 . I'm totally OK with the \"hardcoded\" version. The comment is just for future readers and our future selfs \ud83d\ude04 . It would be great if you could address this comment.\nWe probably need to return some reasonable default here to account for this edge case. Since it probably should never happen, I don't really care what we return as long as we don't throw an error \ud83d\ude04 .\nIf you're busy, I can push a fix for this tomorrow.\nEDIT:\nLooks like my original comment is hidden somewhere:\n\nI'm pretty sure ?string is correct here since _.find(scopes, s => s.indexOf(\"source.embedded.\") === 0) can return undefined.\nWe probably need to account for that case somewhere else.. Since it can return null, it should be ?Array<number>. By default mobx-react-devtools come with a small floating panel. noPanel disables it.. _.findKey already returns the mapped language.. So I think this line can remain unchanged. Unfortunately we need loophole because Atom's CSP doesn't like what we're doing here.... Without loophole this is the error:\n\n```\nAt Refused to evaluate a string as JavaScript because 'unsafe-eval' is not an allowed source of script in the following Content Security Policy directive: \"script-src 'self'\".\nEvalError: Refused to evaluate a string as JavaScript because 'unsafe-eval' is not an allowed source of script in the following Content Security Policy directive: \"script-src 'self'\".\nat a (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:38:18417)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:38:18767\nat Object.n.441.cwise-compiler (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:38:19169)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:606\nat Object.n.138.ndarray (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:18:19768)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:606\nat Object.n.153../lib/shaders (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:20:1025)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:606\nat Object.n.950.../../constants/gl3d_dashes (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:71:7923)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:606\nat Object.n.952.../../constants/gl_markers (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:71:13413)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:606\nat Object.n.23.../src/traces/scatter3d (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:14751)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:606\nat Object.n.17../bar (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:13508)\nat i (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:555)\nat t (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:722)\nat /Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:739\nat l (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:85)\nat Object.<anonymous> (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/plotly/plotly.min.js:7:278)\nat Module._compile (/app.asar/src/native-compile-cache.js:109:30)\nat /app.asar/src/compile-cache.js:216:21)\nat Module.load (module.js:473:32)\nat tryModuleLoad (module.js:432:12)\nat Function.Module._load (module.js:424:3)\nat Module.require (module.js:483:17)\nat require (/app.asar/src/native-compile-cache.js:50:27)\nat Object.<anonymous> (/Users/lukasgeiger/code/hydrogen/node_modules/@nteract/transform-plotly/lib/index.js:26:14)\nat Module._compile (/app.asar/src/native-compile-cache.js:109:30)\nat /app.asar/src/compile-cache.js:216:21)\nat Module.load (module.js:473:32)\nat tryModuleLoad (module.js:432:12)\nat Function.Module._load (module.js:424:3)\nat Module.require (module.js:483:17)\nat require (/app.asar/src/native-compile-cache.js:50:27)\nat Object.<anonymous> (/Users/lukasgeiger/code/hydrogen/lib/result-view.js:20:19)\nat Module._compile (/app.asar/src/native-compile-cache.js:109:30)\nat /app.asar/src/compile-cache.js:216:21)\nat Module.load (module.js:473:32)\nat tryModuleLoad (module.js:432:12)\nat Function.Module._load (module.js:424:3)\nat Module.require (module.js:483:17)\nat require (/app.asar/src/native-compile-cache.js:50:27)\nat Object.<anonymous> (/Users/lukasgeiger/code/hydrogen/lib/main.js:7:26)\nat Module._compile (/app.asar/src/native-compile-cache.js:109:30)\nat /app.asar/src/compile-cache.js:216:21)\nat Module.load (module.js:473:32)\nat tryModuleLoad (module.js:432:12)\nat Function.Module._load (module.js:424:3)\nat Module.require (module.js:483:17)\nat require (/app.asar/src/native-compile-cache.js:50:27)\nat Package.module.exports.Package.requireMainModule (/app.asar/src/package.js:796:27)\nat Package.module.exports.Package.activateNow (/app.asar/src/package.js:207:16)\nat /app.asar/src/package.js:876:25\nat Function.module.exports.Emitter.simpleDispatch (/app.asar/node_modules/event-kit/lib/emitter.js:25:14)\nat Emitter.module.exports.Emitter.emit (/app.asar/node_modules/event-kit/lib/emitter.js:129:28)\nat CommandRegistry.module.exports.CommandRegistry.handleCommandEvent (/app.asar/src/command-registry.js:240:20)\nat /app.asar/src/command-registry.js:3:59\nat KeymapManager.module.exports.KeymapManager.dispatchCommandEvent (/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:599:16)\nat KeymapManager.module.exports.KeymapManager.handleKeyboardEvent (/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:390:22)\nat WindowEventHandler.module.exports.WindowEventHandler.handleDocumentKeyEvent (/app.asar/src/window-event-handler.js:106:36)\nat /app.asar/src/window-event-handler.js:3:59)\n\n```\n. Nice!\nnit-picking: If we make onConnect a bound function I think we can get rid of manually binding this:\njs\nconst onConnect = ({ socketName, socket }) => {\n...\n}. Why did you merge setGrammar and updateEditor into updateEditorAndGrammar?\nIn this case the editor doesn't change, yet we update it in the store. Theoretically this should be fine but I'm not sure if it can cause mobx to trigger a rerender somewhere.\n. I think just using editor instead of this.editor should make flow happy.. That's a lot cleaner \ud83d\udc4d . We may be able to use atom.config.transact  here to prevent calling onDidChange again which, would be a bit clearer.. Thinking about it again, this might not be so easy since we call it inside onDidChange and not inside onWillChange. . Yeah, I spoke to fast, we would probably need to call it in a onWillChange handler but atom.config doesn't has one.. The search throws a error.\nI think we need to add \njs\nfilterKeyForItem: (watch) => watch.name. Is this line really necessary?. Why do we need to hide the panel before we destroy it?\ndestroy may needs to be called on watchesPicker as well.. We should add back\njs\nif (this.watchViews.length === 0) this.addWatch();. previouslyFocusedElement may be null. We should guard against that case.. We probably don't need this since we don't use this class for any styling.. Why can't they be removed?\nThis line only ensures that there's always one empty watch view to start with.. if (previouslyFocusedElement) previouslyFocusedElement.focus(); should do the job.. Very nice!. That's interesting. I would expect this to fail, maybe babel fixes this for us. Anyway, I think we should use\njs\nconst watchesPicker = new SelectListView({. For deleting empty watches a placeholder text would be a nice touch. Something similar to\njs\nelement.textContent = watch.name || \"<empty>\";. I think we should move the check and  above this line and completely return from the function if there's no supported mime type. What do you think?. > Would it be OK to update .eslintrc to report this?\nAbsolutely. Though we need to make sure we don't interfere with prettier.. \ud83d\udc4d KernelPicker is better. Good catch!. Looking at the error message you sent me via slack the syntax should be\njs\nonConfirmed: ?(command: KernelCommand) => void;\nSimilar to this line. Since the KernelCommand type is likely not used in a lot of files, I think the clearest thing is to declare it in signal-list-view.js.js.. Is this.editor actually used anywhere? We might be able to remove it.. I think we can be a bit more clear here if we do\njs\npayload: (command.value === \"switch-kernel\") ? kernelSpec : null\nand remove the payload property from this line.. Is there a reason behind not using .map? Just curious.. Oh crap, looks like prettier messed up here. There are missing brackets:\njs\nif (kernel instanceof WSKernel) {\n  listItems = this._mapCommands(\n    _.union(this.basicCommands, this.wsKernelCommands),\n    kernel.kernelSpec\n  );\n} else {. Oh sure, thanks for the clarification.. Does mark-active actually add any useful styling for us? I've seen it in several places but I'm not sure what it actually does \ud83d\ude04.. \ud83c\udf89 \ud83d\udc4d \ud83d\ude80 \ud83d\udce6 . @BenRussert You can add breakpoints inside the dev tools panel. Take a look at: https://developers.google.com/web/tools/chrome-devtools/javascript/breakpoints. I think the code only shows up once Hydrogen is activated (e.g. once you run some code).. I think atom.project.getPaths() can be empty if no project is present in the tree view. In that case we should fall back to the getEditorDirectory(store.editor).\nA very nice touch (now or in a future PR) would be to use the project where the current file belongs to and not just the first one. This could be handy if multiple projects are open.. If this condition isn't fulfilled it falls back to case \"projectDirOfFile\": which will return /. I think it should fall back to currentPath instead.. Using atom.project.relativizePath can be a bit problematic since it will return / if no project is found or if there isn't a project related to the current file. I think it should fall back to currentPath instead of /. What do you think?. > Is the way to test \"without\" a project path to open a file directly in atom?\nYou can remove the project directory from the tree view via the context menu.. We could also use\njs\nconst kernelStartDir = projectPath || currentPath;\nEven shorter :wink:. \ud83d\udc40  crazy javascript null handling.\nAnyway, I think we should be fine since projectPath is either null, undefined or a proper path.. \ud83d\udc4d I like that!. Good catch, the file-icons package added text-align: center; globally so it looked fine for me.. Great catch!. That's a lot better!. For this particular reducer we cannot use the one from nteract since it uses a immutable list which probably won't work well with MobX.\nThat said I really like the idea of exporting more nteract internals.. I was thinking about this too. I have messed with escape-carriage to make a safe version that allows escaping of intermediate output. I'll push that tomorrow.. Checkout https://github.com/lgeiger/escape-carriage/pull/5. Flow types and destructuring is a bit tricky.\njs\nresizeSidebar({ pageX, which }: { pageX: number, which: number }) {\nshould do the job.. or if it doesn't fit inline:\n```js\ntype foo = { pageX: number, which: number }\nresizeSidebar({ pageX, which }: foo) {\n```\n. Is it also possible for people to change these in their style sheet?\nOr redefine them (maybe if the import is omitted)?. > I thought about suggesting that you save your hydrogen stuff outside your styles.less then import it to avoid clutter (I do this for various style then comment in/out as needed). But I left out for now for simplicity.\n\ud83d\udc4d  for simplicity\nI only was wandering if one redefines @hydrogen-light-background: red, will Hydrogen recognize that?. Yeah! That would be excellent. I think we still need atom$LanguageMode. Yep, Travis thinks so too \ud83d\ude1c . \ud83d\udc4d  Good catch. \"use babel\";  isn't required anymore since we use /* @flow */. Actually I think we should use (kernel: ZMQKernel) => void here. Then we can remove this line.. This is probably only missing in out flow type definitions. We should add it there after looking at Atoms source code.. Either that or we should pass a editor variable directly to startKernelFor and check before if editor isn't null.. We should also return for the cases if this.expanded === true or this.props.isPlain === true since we don't want to scroll in those cases.. You can export the type here and import it with:\njs\nimport type { Connection } from \"./zmq-kernel.js\";. You're totally right!\nThis should definitely nullable. Kernel --> ZMQKernel. Should work if you try my comment above \ud83d\ude09 . \ud83d\udc4d \ud83c\udf89 . A better way of doing this would be:\njs\nconst rootDirectory = atom.project.getPaths()[0] || getEditorDirectory(store.editor);\nThis way we use documented APIs and flow won't complaint \ud83d\ude04 . We shouldn't require a callback here:\nFunction -> ?Function. We now need to change the function call here and here. We should make the callback optional.. I think we should handle the case editor == null higher up. I'm not sure if this works. editor.getPath() still can return undefined.. Good point! I don't expect a lot of people using this feature so I was a bit sloppy \ud83d\ude04 . Since you're not using DEFAULT_SCROLL_HEIGHT we can remove this line. This won't work, since this.el can be null (see flow type errors). We need to guard against that case.\nI can recommend the flow-ide package for seeing the flow type-checking result directly in Atom.. Nit: I think this would be more readable\njs\nif (breakpoints.length !== 0)) {\nNo need to actually act on this comment \ud83d\ude04 . What do you think about \"Restart and re evaluate\" or \"Restart and refresh\"?\nThis way we could also add \"Restart and run all\" in the future and have consistent naming.. Rather than modifying handleKernelCommand I would use kernel.restart() directly here.\n. Wuhu thanks for adding tests \ud83d\udc4d \ud83c\udf89 . This should work for now \ud83d\udc4d . > why? what changed? I couldn't find no related commit on hydrogen repo.\nI'm just referencing the setTimeout(runAll, 500) workaround for #863. \ud83d\udc4d . Thanks for explaining the reasoning behind it :+1:\n@rgbkrk @BenRussert What do you think, should we go with refresh-all-result-bubbles?. This will require Atom/Hydrogen to be restarted, but for now this should work \ud83d\udc4d . > I lean towards restart-kernel-and-re-evaluate-bubbles. Restart is currently the only language agnostic way we have of cleanly evaluating code.\n\ud83d\udc4d I like it, It's a bit long but Atom has a great command palette so this is OK.. I like the idea of having a promise or to just give store a new kernel even if it's not fully connected yet. But this likely requires some refactorings that will be a lot easier once #858 is closed.. Thanks for catching that \ud83d\udc4d . I'm wondering if this could potentially freeze the UI if unlinkSync takes longer than normal, since it is now synchronous?\nI didn't know that calling async functions without a callback was deprecated.\n@t9md Should we maybe just add a pseudo callback instead?. \ud83d\udc4d Haven't thought about that.. What about just using clearBubblesOnRow here?. Oh overlooked it, nevermind. I shouldn't review code on my phone :smile:. \ud83d\udc4d  That's a lot nicer! Fixed it.. Thanks, didn't know that. Do we really need to wrap it in a div, wouldn't returning ul be enough?. You can check if the ctrl key is pressed with event.ctrlKey directly. See https://facebook.github.io/react/docs/events.html#mouse-events. What about showing cmd only on a Mac?. Cool thanks!. I don't think with integer we can use \"inherit\" as a default value here since it is a string. We'll need to handle this in JS. But at least we can add minimum: 1, to limit it.. Does this work even without px? Looks like React is smart \ud83d\ude09 \nIn any case we should now handle the missing default value here:\njs\natom.config.get(`Hydrogen.outputAreaFontSize`) || \"inherit\". I'm not sure if we really need to convert it but it doesn't hurt.. We already have anser as an implicit dependency in our transforms.. Interesting point, I never use Hydrogen with unsaved files since it requires me to manually set a grammar first.\nUnfortunately the editor id changes when a editor tab is closed and reopened so it's not really suitable for out use case. \n\nAs long as we also show the name of the file when it is named, so user's know which are which. I hate looking at a pile of UUIDs.\n\n\ud83d\udc4d I agree.. Good idea. We can use the editor id for unnamed files then, since it's unlikely that they are closed and re-opend.\n\nIf we don't, a rename will put a kernel in limbo.\n\nThat's why we have the Kernel Monitor to handle manage all running kernels.\n. Unfortunately it's not as easy as I thought: onDidChangePath only calls back the new path, but we also need the old path in order to correctly change the kernel mapping.\n@BenRussert Should we then still allow kernels for unsaved files?. Good catch! I reverted this change since .merge() doesn't recursively merge the object.. Yeah you're right, thanks for this. I forgot about the case of multi-language files.\nFixed that.. I think this should be\njs\nconst globalOutputStore =\n  atom.config.get(\"Hydrogen.outputAreaDefault\") ||\n  atom.workspace.getPaneItems().find(item => item instanceof OutputPane)\n    ? kernel.outputStore\n    : null;\nsince we still want to have the possibility of just opening the output pane and using it until it's completely closed.. Why are you setting the config value here?. \ud83d\udc4d . This doesn't change behavior. Though we should now use the session name in the UI instead of the notebook path.. getTitle() won't return the correct path in all cases. You can access the path is very easily via store.filePath.. This should be\njs\nreturn commutable.stringifyNotebook(commutable.toJS(notebook));\nSince it would produce a invalid notebook file otherwise.. I don't know it store is the right place to put this functionality since it is only used in one place right now. On the other hand mobx evaluates lazily so we can leave it here for now.\nI guess it is better to return the notebook instead of the stringified version but we can figure this out later when store.notebook is used in multiple places.\nFeel free to just ignore this comment \ud83d\ude09 . I'd prefer writeFile here, since writeFileSync may block the UI for larger notebooks.\nIt would be great to get a notification when the file was successfully saved and a error notification otherwise.\nIf you really want to dig into this, you can use the save dialog from Electron to allow the user to select a custom location. The dialog is available via\n```js\nimport { remote } from \"electron\";\nremote.dialog.showSaveDialog([browserWindow, ]options[, callback]);\nYou can wrap this in a Promise to use it with async/await or just do the saving in the the callback directly.. Sure that's great with me. \ud83d\udc4d . Nice GIF! I think it could be a lot bigger though.. Want to add a comment about the setting introduced in #1022? \ud83d\ude09 . If you remove this line, CI will go green. Otherwise we'd need to configure `flow` properly.. I think those lines can be removed too:js\nimport store from \"../../../lib/store\";\nimport Kernel from \"../../../lib/kernel\";\n``. I'd preferletovervarhere. We tend to useletandconstin the codebase, so it would be nice to keep it consistent.  . I think a strict equality check with!==vs!=would be better here.. We should improve our linting setup, so things like this will be caught by the linter.. \ud83d\udc4d This is OK for now.. Only a minor note: Since we're usingimportsyntax everywhere else it would be cool to stick with it here too..importsyntax would be cool here to keep it consistent.. Thanks for adding the tests.. \ud83d\udc4d for \"Remote server\" . I'm pretty sure this fails because we're manually callingcomponent.setState();to workaround https://github.com/airbnb/enzyme/issues/1184. This still is a experimental API, but it's available in Atom 1.23 as well. I think we should add the--no-browser` flag and maybe even the hardcoded port number to make it clearer for people who want to expose a different port.\nI don't have experience with docker (I'm unsure about the placement of the --port flag) but something similar to this should do the job:\n```Dockerfile\nCMD [jupyter-notebook, --no-browser, --port 8888]\nif running as root, you need to explicitly allow this:\nCMD [jupyter-notebook, --alow-root, --no-browser, --port 8888]\n```. Same es above, I think the following would make it a bit clearer what's happening in the background.\nDockerfile\ncommand: [jupyter-notebook, --alow-root, --no-browser, --port 8888]. Same as above:\nDockerfile\nCMD [jupyter-notebook, --no-browser, --port 8888]. Whoops, still --alow-root instead of --allow-root.. --allow-root. Should we make it a warning or error instead?. Don't know what's happening here.. I'd prefer to keep shutdown and restart separate methods. The restart argument is coming from the jupyter messaging protocol and doesn't actually restart the kernel.. I like the functional approach \ud83d\udc4d . I like the idea of moving to async and promises as much as possible. Though I don't know if it'd be worth the effort in that case.\nI'd rather prefer us moving to @nteract/messaging, enchannel-zmq-backend and rx-jupyter using RxJS which provides excellent primitives for handling streaming data.\nAlternatively we could rely more on MobX for these kind of things.. We could also add the CSS directly to the scroll view, but this should work too.. This could be simplified using jasmine spies:\n```js\nconst destroy = jasmine.createSpy(\"destroy\");\nconst component = shallow(\n  \n);\ncomponent.find(\".icon-x\").simulate(\"click\");\nexpect(destroy).toHaveBeenCalled();\n```. Shouldn't this still be an observable?. This is totally valid javascript, but since you asked for some code style advise this could be rewritten as:\njs\nconst newRanges = allCellRanges\n  .filter(cellRange => !cellRange.isEqual(currentCellRange))\n  .map(cellRange => adjustCellFoldRange(editor, cellRange));\nThis is more concise and (arguable) more readable.. This can be also rewritten as\njs\neditor.selections.forEach(selection => selection.fold()). I think that's OK for now.. Does this still allow for indentation in the markdown cell?. I'd prefer the use of let here, but that's personal preference:\njs\nconst cellType = codeManager.getMetadataForRow(editor, start);\nlet newCell;\nif (cellType === \"code\") {\n  newCell = commutable.emptyCodeCell.set(\"source\", source);\n} else if (cellType === \"markdown\") {\n  source = codeManager.removeCommentsMarkdownCell(editor, source);\n  newCell = commutable.emptyMarkdownCell.set(\"source\", source);\n}. Nit pick:\njs\n_.mapKeys(kernelSpecs, (value, key) => (value.spec.name = key)),. ",
    "RobSalzwedel": "Yes please!!!!\n. ",
    "trcook": "Cool. I'll checkout the new version of IRkernel. I agree, I think the bigger issue is surfacing debugging messages from hydrogen. I imagine that this would be alot easier if atom a proper console pane like sublime. \nAn easy short term solution might be to have a tool-tip style window show up when hovering over the 'working' bubbles that reports hydrogen's status (i.e. sending to kernel, waiting for response, parsing response, etc.). It's just an idea. \nI'll report back to confirm whether the IR kernel fix works. \n. it worked! \nBe advised, though, to get this to work properly, users need to install from the github repo directly (using devtools). This is what the IRkernel devs list under installing the development version. This caveat will eventually go away, i imagine, with the next release from that team. \nThanks again for this plugin it looks super promising. \n. Request reopen on this. I'm having the same issue described here. I installed xcode 7 but it did not help\nOS X 10.10.5, xcode 7.0.1\nAtom: 1.0.9\nPreviously installed hydrogen: 0.62\n```\n\nzmq@2.13.0 install /private/var/folders/nj/vg3121g97fsd5ym8__cfhjlr0000gn/T/apm-install-dir-115911-41854-adh1uy/node_modules/Hydrogen/node_modules/zmq\nnode-gyp rebuild\n\nCXX(target) Release/obj.target/zmq/binding.o\n  SOLINK_MODULE(target) Release/zmq.node\nld: warning: directory not found for option '-L/opt/local/lib'\nld: library not found for -lgcc_s.10.5\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake: *** [Release/zmq.node] Error 1\ngyp ERR! build error \ngyp ERR! stack Error: make failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/build.js:269:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)\ngyp ERR! System Darwin 14.5.0\ngyp ERR! command \"node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /private/var/folders/nj/vg3121g97fsd5ym8__cfhjlr0000gn/T/apm-install-dir-115911-41854-adh1uy/node_modules/Hydrogen/node_modules/zmq\ngyp ERR! node -v v0.10.40\ngyp ERR! node-gyp -v v2.0.2\ngyp ERR! not ok \nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"/Applications/Atom.app/Contents/Resources/app/apm/bin/node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/tom/.atom/.apm/.apmrc\" \"--userconfig\" \"/Users/tom/.atom/.apmrc\" \"install\" \"/private/var/folders/nj/vg3121g97fsd5ym8__cfhjlr0000gn/T/d-115911-41854-h5hz2p/package.tgz\" \"--target=0.30.7\" \"--arch=x64\"\nnpm ERR! node v0.10.40\nnpm ERR! npm  v2.13.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.13.0 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zmq@2.13.0 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /private/var/folders/nj/vg3121g97fsd5ym8__cfhjlr0000gn/T/apm-install-dir-115911-41854-adh1uy/npm-debug.log\n```\n. Holy cow, this is a pernicious bug that is not hydrogen's fault (as it would seem). I have a fix that is gross, but workable. I'm leaving it here to save others with similar issues a huge ammount of time. \nThe solution comes from discussion in:  https://github.com/nodejs/node/issues/2933\nIt looks like it hits lots the npm ecosystem on os x if the user's xcode is not fully up to date. It looks like it can be resolved by manually linking in the library that node-gyp is struggling to find: \ncd /usr/local/lib sudo ln -s ../../lib/libSystem.B.dylib libgcc_s.10.5.dylib\nThis is the hackiest of hacky ways to fix this. Since the link is only needed at build time, users can (and probably should) reverse the link after hydrogen installs by: \nrm /usr/local/lib/libgcc_s.10.5.dylib\nNo need to re-open this issue as previously requested as this is not a hydrogen issue. \n. ",
    "yang0733": "i can't seem to get this code running. it's giving me an warning message and i can't fire up ir through the terminal. \n\nIRkernel::installspec()\njupyter: 'kernelspec' is not a Jupyter command\nWarning message:\nrunning command '\"jupyter\" kernelspec install --replace --name ir --user C:\\Users\\i50077\\AppData\\Local\\Temp\\RtmpoRwj3q\\file187865501005/kernelspec' had status 1 \n. \n",
    "averrin": "Updating atom to 0.201 helps.\n. ",
    "JavierMares": "I tried rk, Jupyter connects to the kernel momentarily, then loops between \"Dead Kernel\" and \"Connected\" every twenty seconds or so.\n. Unaccountably, it works. The only difference is that I ran atom from the terminal.\n. Thanks @willwhitney !\n. ",
    "ChappedSky": "Forgive my ignorance, is the security issue with the remote kernel only relevant in open networks? Lots of use cases involve only talking to closed networks through a vpn or some such. \n. Sure, in hydrogen hooked to a R kernel:\ndata(iris)\niris$\nIt should autocomplete after the $ with the following options: iris$Petal.Length  iris$Petal.Width   iris$Sepal.Length  iris$Sepal.Width   iris$Species\n. Awesome! Thanks for the fix\n. ",
    "razcore-art": "Can someone please give us some example on how to set this up? I am a total noob when it comes to ipython kernnel-ing, and a bit noob with ssh as well (I am connecting remotely through VPN). I'm trying to figure out where this kernelspec should go... I see a folder Hydrogen/kernel-configs but something tells me that those are created each time a kernel is run through atom. How do you do this thing more concretely? A page in the wiki would be nice! Thanks\nedit:\nOK, so I successfully followed the recipe here to run a kernel on a remote server and connect to it using ipython console through ssh, but I have no idea how to instruct Hydrogen to use the server... if someone could clarify this would be great!\n. I will post shortly... I have just made this to work (without changing anything in hydrogen). So thank you guys! now I have interactivity with my remote kernel which is awesome!\n. But it sounds to me that there's a super easy solution to this... You just build the ability to add remote machines in hydrogen, where you specify the remote path to the kernel-1234.json file that the ipython creates on the remote kernel. Read that file and include the key information in the configuration, then do the HMAC serialization... Obviously, this would mean that you need to start the ipython kernel yourself on the remote machine, but I don't see this as a problem.\n. Yep, I definitely am, but I have a lot of ground to cover... I have no experience with this coffeescript stuff, and even less with zmq!... but anyway, until then, I have put this gist together explaining how to set the remote communication up... maybe you guys can take a look and let me know if it makes sense, if I need to change anything or complete/modify. Thank you!\noh right... I forgot to explain what the bash script does... oh well :))... details\n. Well... sorry for my stupidity, it was my fault it seems. Atom complained that I had zmq linked against libzmq.so.5 (provided by brew) which isn't compatible with the current atom build... so I installed libzmq system-wide from ubuntu repositories (libzmq3) which has a version about which atom doesn't complain...\nSorry for any inconvenience. I will follow your project very closely! Thanks.\n. ",
    "oxinabox": "Any news on this?\n. ",
    "plieningerweb": "old link form @razvanc-r was not working anymore, link to his gist is: https://gist.github.com/razvanc-r/a365b921ba4bf575b6a5 \n. ",
    "stevengj": "As I mentioned in #119, this is also common for Julia developers who have multiple Julia versions installed for testing purposes.  These are all installed as separate kernelspecs (julia-0.3, julia-0.4, and julia-0.5 in my case) in my Jupyter directory.  What I would like would be:\n- A way to change the kernel manually at runtime in Atom.\n- A way to set a preference for the default kernel to use with a given language.  (e.g. if I want all Python files to default to the Python 3 kernel, or all Julia files to default to the Julia 0.4 kernel)\n. Yes, I just noticed the \"magic space\" too and was about to file an issue.  It seems like it would be better if it didn't insert spaces.\nNote that IJulia has an asynchronous task reading stdout and sending stream messages, so it will tend to send stdout as multiple stream messages rather than just one.\n. Note that pkg-config looks in PKG_CONFIG_PATH, not PATH.  (I already had the kernelspecs installed, so that's not an issue for me.)\nAnaconda doesn't seem to include pkg-config.  So, I used the Homebrew pkg-config, which is in /usr/local/bin.  But then I ran into atom-community/linter#150: running Atom via the GUI didn't have /usr/local/bin in my PATH, so I had to add process.env.PATH = [\"/usr/local/bin\", process.env.PATH].join(\":\") to my init.coffee file.\nBut it sounds like this is a node zmq and Atom problem, not your problem.\n. Presumably, a similar issue arises for Python users wanting to switch between Python 2 and Python 3 kernels.\n. This seems to be a duplicate of #39 and #84; closing in favor of those.\n. Looks great!  Would be nice to have some documentation somewhere, both of the switching feature and the new config options (e.g. the grammarToKernel config, which I guess allows you to specify a default kernel for a given language).\n. Note that even if you deleted the Julia software from your machine, you might still have a Jupyter kernelspec file for Julia left over from an older installation.  Run jupyter kernelspec list to see what kernel specifications are installed.  You can just delete the kernelspec directory for Julia 0.6 if you don't want it anymore.. ",
    "maximsch2": "Is it possible to also add an option of selecting a remote kernel? If I have an IPython notebook running on the remote server, it would be nice to be able to execute code in the context of the one of the notebooks there.\n. So this used to work perfectly well until the last update - different files/views will connect to their separate kernels (through the remote kernel gateway), but now this workflow was broken. Was this an intential update?. @BenRussert , sounds good. I've posted my issue as a separate bug: https://github.com/nteract/hydrogen/issues/884. Juno has progress bar support (but it is Julia-specific and depends on their library). Their UI is pretty neat and it would be great to replicate it in Hydrogen in some language-agnostic way. \nFor example, tqdm and ProgressBar.jl (progress bar libraries for Python and Julia) can use the same output format that would be parsed by Hydrogen (and maybe Jupyter Notebooks as well) and rendered as a progress bar instead of the console output.\nrelated: https://github.com/nteract/hydrogen/issues/466. @lgeiger I have a version that seems to be working, let me make a PR.\nThanks for a pointer!. Good point! I've added those as well.. Yes, two different kernels with the same grammar used to work as of a couple of weeks ago, an update to one of the latest releases broke it.. @nikitakit, I'm pretty sure it used to work before, although I can't reproduce it now with rolling back either Hydrogen or  Atom... Maybe something odd was going on in my particular configuration.\nThat being said, having an ability to attach separate kernels to separate files would be a great feature to have! Closing this in favor of #40 then.. ",
    "el-uhu": "Relating to this issue: \nHydrogen stopped working for me when, I upgraded to julia 0.4.0 (on Ubuntu 15.10 via ppa). \nAfter rebuilding IJulia, normal jupyter notebooks worked fine. However Hydrogen would not connect properly to the kernel. This led to a situation where hydrogen would look like it had executed code, but in fact it only showed the :heavy_check_mark:  sign and produced no output. \nI realised that the upgrade of Julia had deprecated the previous julia 0.3 kernel. This still showed up in jupyter kernelspec list but was no longer functional. Just deleting the deprecated kernel and reloading atom did not help, however re-installing hydrogen finally fixed it.\nWhereas I realise that it bad practise anyway to keep deprecated kernels, I think exposing kernel-connection settings would definitely help.\n. ",
    "malarinv": "This would be an essential feature, as a long running process shouldn't hinder running other unrelated files. Currently, i have to wait till the kernel to become idle in order to see the output of executing even a completely unrelated file.\nIt might be useful to add an option to start in a new kernel.\n. I upgraded Xcode to 7.0 and it is resolved.\n. @hebijiandai It does but it seems like it isn't language agnostic like hydrogen is.. ",
    "nikitakit": "It's been a year and a half since this issue was opened, and I want to point out that since then remote kernel support has been added to hydrogen. It's now possible to use kernel gateway to manage multiple running kernels, and switch between them at will. Additionally, it was always the case that each atom window keeps its own set of kernels.\nIt should now be possible to use these features day-to-day, and to reflect on whether there's a better UI for presenting kernel-switching. (There are limitations to the current approach, such as the fact that manual switching takes time, and clears results boxes.) Both kernel-per-language and kernel-per-file are reasonable usecases, as are many things in between. I personally enjoy how hydrogen works very cleanly with minimal configuration, and it would be ideal if kernel switching didn't sacrifice those qualities. One of the big reasons I haven't proposed code that modifies kernel switching is that I don't have a clear idea of an interaction setup that better balances ease-of-use and kernel-switching than what's currently in Hydrogen.. I have a proof-of-concept that implements a basic variable inspector using the just-merged plugin API updates: https://github.com/nikitakit/hydrogen-python\n\nIt should be quite doable to turn this into a fully-working plugin. That said, I'm not sure what the priority features for a variable inspector are, besides showing basic variable info. Existing environments offer a bunch of capabilities for editing/plotting/saving/loading, but I have no idea which of these features actually see non-trivial use.. @ktavabi The command you need to run isHydrogen Python: Toggle Variable Explorer, not Hydrogen: Toggle Inspector. Steps to reproduce (in parentheses are action names, and the keyboard shortcuts on my system):\n- Open a new file (Application: New File; Cmd-N)\n- Switch to Python syntax (Grammar Selector: Show; Cmd-Shift-L; also available via toolbar on bottom)\n- Type \"1\"\n- Do run-and-move-down (Hydrogen: Run and Move Down)\nExpected behavior: output \"1\" is shown\nActual behavior: no output is shown\nIt helps to have line numbers enabled in the sidebar to see that the line you're typing on is actually the last (i.e. there is no line number greater than it).\nOn my system this issue actually can't be reproduced by opening an existing file and not modifying it, because Atom enforces the presence of terminating newlines on every save/load.\n. I'm surprised you can't reproduce. The dev console output is not useful (because bubble is cleared somewhere inside Atom), so I went and debugged it myself.\nVideo of the issue: http://imgur.com/a/Ux2zW\nAnd a fix (not very good abstraction, but I can't come up with a better alternative offhand)\n```\ndiff --git a/lib/main.coffee b/lib/main.coffee\nindex 74984ca..b30ca0d 100644\n--- a/lib/main.coffee\n+++ b/lib/main.coffee\n@@ -264,14 +264,19 @@ module.exports = Hydrogen =\n     runAndMoveDown: () ->\n         codeBlock = @findCodeBlock()\n         unless codeBlock?\n             return\n     [code, row] = codeBlock\n     if code? and row?\n\n\nif row >= @editor.getLastBufferRow()\n@editor.moveToBottom()\n@editor.insertNewline()\n\n@editor.moveLineUp()\n+\n             @createResultBubble code, row\n             @moveDown row\nrunCell: () ->\n     [startRow, endRow] = CellManager.getCurrentCell()\n     if endRow > startRow\n         for i in [startRow .. endRow - 1] when @blank(endRow)\n```\n\n\nThe issue is the bubble is created, then moveDown calls @editor.insertNewline(), which immediately invalidates the bubble.\nEDIT: fixed a typo in patch\n. As a user, I also find option 2 (special comment syntax) to be more attractive.\nIf I'm working on a small group project, I find it a lot more tenable to have the cell-split annotions be in comments that are commited to version control, than to have them break every time I pull code from people who used a different editor.\n. I did a pass at implementing kernel gateways in #330 \n. Oh, this does work.\nDidn't realize that just keeping the old row reference wouldn't cause any issues for the output bubble display.\n. Oh and before the issue gets closed, I think \"run cell and move down\" needs the same treatment.\n. I think if we take a gateway-only approach, it makes sense for hydrogen to ship with its own gateway config. It also probably wouldn't be too hard to figure out how to autospawn the gateway using this config. This config can ensure that the correct gateway features are enabled, and maybe even perform some version checking to cleanly notify the user of incompatible versions.\nThis does exclude systems that only have an ancient version of ipykernel installed, but I don't think it's that hard to ask people to install jupyter. Regarding incompatibilities, the gateway and jupyter-js-services already live in separate repos and each have their own set of dependencies. I don't think things are unstable to the point where the developers of these libraries would suddenly break things.\nThe initial upgrade is its own story. It's certainly going to be distracting for people to suddenly need to install gateways, but I'm not sure how many people have locked-in dependencies that would prevent an upgrade.\nThe reasons I'm suggesting shipping our own gateway config is also because I think it's useful to change two defaults:\n- Enabling listing kernels (the notebook does this by default, but the gateway disables it)\n- Reconfigure cross-origin protection to allow hydrogen through (the gateway only runs on local ports, so it should be fine)\n@rgbkrk I'm not really a web developer, so I didn't realize that there wasn't a standard solution to the cross-origin issues. I think a gateway config change can deal with them. The other way to avoid them, which I'm doing right now, is:\ncoffeescript\nws = require('ws');\nxhr = require('xmlhttprequest');\nglobal.XMLHttpRequest = xhr.XMLHttpRequest;\nglobal.WebSocket = ws;\n. @n-riesco I apologize, my last message was too strongly worded. I should have made it more clear that I was merely making suggestions as a hydrogen user.\nI would like to clarify that I never suggested merging this pull request in its present state. Between the rough state of the code (it doesn't even pass tests!) and the disclaimers in the text, I thought this would be readily apparent.\nThe code here was written for my own day-to-day use. It has already given me positive return-on-investment, and would have been worth writing even if I had not published it at all.\nBut since I already had the code, I decided I'd follow the spirit of open source and share it with the hydrogen team. Opening a PR seemed nice because GitHub's diff views look really good. I was hoping that this would be seen as part of an ongoing discussion about this feature.\n. I've just started one more re-do of the patchset. (For anyone reading the diffs, I recommend reading one commit at a time)\nLast time I started working by creating a copy of the Kernel class, but it turns out that all of the hard parts of adding kernel gateways are elsewhere.\nCurrently the kernel management code couples language-to-grammar mappings, kernel-spawning functionality, and ZMQ all in one. The only way to get remote kernels in there without abandoning ZMQ is to split that apart and add extra abstraction. jupyter-js-services has a well-made API, so I've decided to abstract the ZMQ code into a few classes that are compatible with that API, to the extent needed by hydrogen.\nI looked into using the enchannel API instead of the jupyter-js-services API, but unfortunately it doesn't provide the required functionality. It's missing key functions like listing kernel specs, enumerating running kernels, etc. Also the messaging implemention seems to be lower-level than jupyter-js-services (it doesn't appear to automatically associate messages with their parent and call the appropriate callback).\nSummary of changes\n- Commit 1 targets KernelManager. Anything relating to kernelspecs and spawning kernels gets moved into a ZMQGateway class, while KernelManager's sole purpose is to switch between kernels based on the active language/grammar.\n- Commit 2 deals with kernel specs. Other than the newly-created ZMQGateway class, the rest of the code shouldn't need to access to the full kernel specs, it only really needs the kernel names and display names. It also makes any kernel spec accesses async.\n- Commit 3 splits the Kernel class into a KernelInterface class (hydrogen-specific) and a ZMQSession class (designed to parallel the session class in jupyter-js-services). The session abstraction is used by jupyter-js-services to allow for restarting or switching kernels in-place, though I'm not yet taking advantage of that.\nThese commits shouldn't break any functionality (other than the test cases, which I'll get to later). There's also nothing new added yet, but I'll get to that after a brief pause for rest (and discussion).\n. The approach you're suggesting is similar to what I tried in the first version of this PR, but there are enough API mismatches that I think merit additional abstraction.\n- KernelManager is currently a combination of grammar-to-kernel mapping and subprocess/filesystem operations, which are conceptually different roles. This makes sense for local kernels, because hydrogen oversees their creation, destruction, and resource management. But for remote gateways, it is vital to support attaching to and detaching from existing kernels. I think it is good abstraction to separate the resource management (which applies only to local kernels) and grammar-to-kernel mappings into different classes.\n- Implementing an independent GatewayKernel class will result a fair bit of copy-pasted code. Things like the status view, watch sidebar, and ensuring that watches get called at the right time would all be duplicated. My plan (not yet fully implemented) is to put all the shared bits into KernelInterface, and move all the ZMQ-specific stuff into ZMQSession. I don't particularly care what the classes are named, but the class specific to jupyter-js-services is already called Session.\nThe use of kernel specs throughout Hydgrogen is also a point of API mismatch. Kernel spawning operations in jupyter-js-services take a kernel name, which is not a part of the kernel spec. There also needs to be a parameter that selects between different gateways. For consistency reasons, I've decided to update most of Hydrogen to use an alternative datastructure that includes the spec, but also has the kernel name and gateway information. (I'm calling it the Kernel Model to avoid naming confusion). This is started in patch 2, and will continue when remote gateways are actually added.\n. Thanks for the feedback!\nIt'll probably be another day before I can get to making the actual gateway commits, but that leaves time to mull things over in the meanwhile.\n. Looks like @lgeiger has addressed a some of the functionality currently in this PR, especially in commit 2 (in particular: making kernelspecs async, plus a few other things). I'll rebase on top of those changes once they get merged. That should decrease the overall diff for this PR.\nSplitting up Kernels\nRegarding point 4: that's essentially what I'm starting in commit 3 here. I'll re-write it to use inheritance instead.\nDesired functionality\nWith regards to your points 1-3, I think the reason for confusion is that I haven't articulated the user workflow I'm striving for. So I'll first take a step back and list the features I would like to support (which have led to my deliberate decision to change some of the architecture)\nDesired functionality:\n- Connect to any number of remote gateways by specifying their URL + auth tokens\n- Attach to and detach from remote kernels\n- Actions should never kill remote kernels or shut down remote gateways. (Exception: a choice to activate \"restart kernel\" or \"shutdown kernel\" by the user, from the menu)\n- Switch between multiple remote kernels per language/grammar (but have no more than 1 active at a time)\ngetKernelSpecsFromGateway is not sufficient to attach to an already existing remote kernel. Neither is connection.json, which is both ZMQ-only and inconvenient. Instead, I have a nice session-picker widget that can return a jupyter-js-services::Session, which can then be wrapped by KernelManager.\nSplitting up KernelManager\nEDIT: deleted most of what I said here. I'm revisiting KernelManager in light of some changes that need to be made to support later commits.\n. I should add regarding your points 1 and 2: I'm leaving those for a future PR. As long as ZMQ functionality is not removed, it can serve local kernels well. As for remote kernels, the whole point is that they get spawned externally.\n. The most basic use-case is to attach to and detach from notebooks running on an existing notebook server, without ever killing any of them.\nYes, it's ambitious. But version 1 of this PR already had all of these features.\nFYI no need to review the current set of changes, because I'm rewriting a number of things. I'm switching to Kernel/ZMQKernel/GatewayKernel inheritance architecture, which also means that I need to approach the KernelManager differently. I should have commits up in a few hours (I'm also rebasing on top of #351 as I go)\n. Done with rewrites for today.\nI was busy coding, so sorry I couldn't respond to your message earlier.\nMost of the stuff I said above is now superceded. The new architecture is now very close to what you described in your last few comments.\nI did have to start by writing the hard bits first, not last, to actually end up with a sensible architecture without missing key details.\nKernel class is now split up into an inheritance tree (as you suggested), and there's a new command for connecting to remote gateways.\nThe session picker lets you select from URLs you saved in the settings, rather than prompting each time. It then shows you a list of running kernels (or lets you start a new one). A manual URL prompt would be nice eventually, but this is the simpler change.\nChanges to KernelManager are now just adding one function. The rest have been superceded by #351, or dropped (I no longer have plans to support \"switch kernel\" for gateways in this PR, among other features).\nEDIT: reword for clarity\n. @lgeiger Thanks for testing!\nYou're right, at some point I stopped testing creating new sessions, and it's currently broken. The fix is to change line session-picker.coffee:95 to say items = _.map specmodels.kernelspecs, (specmodel) => instead.\nThe 403 error is normal for gateways: they return access denied when you attempt to list running sessions. I have an error handler that addresses this case, but I think it gets logged anyway somewhere inside jupyter-js-services.\n. :tada:\nI was thinking about adding it to activation commands, too (I'll do that next time I rebase).\nI also think that command needs a different name, maybe something like \"Connect to Jupyter Gateway\". It's used rarely enough to not merit a keyboard shortcut, but as it stands I constantly forget what keywords to input into the command fuzzy-finder. Selecting kernels is nicer in that the word \"kernel\" alone brings that command into the top 3 fuzzy-find results. I'd love to get suggestions on alternate names!\nOther than this small issue, the code has reached a state where I'm comfortable signing off on it, so I've removed the [DEMO] tag from the PR title.\n. WSKernel sounds good. I'll rename it next rebase.\nI'm slightly busier these days, so I'll do a rebase once comments are in for the full patch series. (It will also be easier for me to resolve conflicts with new commits all in one sitting, instead of spread out over multiple rebases)\n. I have some time today, so I'm starting another rebase. I'll be checking off the comments with thumbs up emoji as I address them.\n. Done with rebase.\nI notice that ZMQ kernels now support prompting for input on stdin, but I'd like to consider the same functionality for remote kernels as out-of-scope for this PR. Rebases are starting to get unwieldy for such a large change, so I'd rather merge what's here first and work towards feature parity in future commits.\n. @n-riesco Regarding connecting again:\nIf you select hydrogen:connect-to-remote-kernel a second time, you will be offered the option to connect to the same kernel (again) or to connect to another one. If you select another kernel, the first one remains on standby until it is needed again.\nThis follows from the guiding principle of never accidentally killing remote kernels. Currently, the only way to kill a remote kernel is to select \"restart kernel\" or to shut down the gateway server. (In the future, I'll investigate \"switch kernel\" functionality, and adding a \"clean shutdown\" option to the signal switcher view)\nI use multiple kernels on standby all the time at work (they each run the same code, but with different parameters specified)\n. @n-riesco Good catch about leaking kernel instances. I'll push a fix shortly (it will add destroyRunningKernel and clearResultBubbles around main.coffee:385.)\nEDIT: fix is now pushed\nAs for the gateway, it has its own resource management. Notebooks have a \"running kernels\" panel UI that allows killing kernels, and I'll eventually add an option like this into the hydrogen signal list menu. Moreover, the jupyter team is implementing functionality to automatically kill kernels that are inactive longer than a certain threshold.\n. @lgeiger @rgbkrk Could I ask for your feedback about possible UI designs for this?\nThis feature would have a big impact on my workflow, so I'm trying to take a shot at implementing it.\nThe tricky thing is that hydrogen uses different display styles for one-line outputs (inline display) and multi-line (it embeds a little frame with the output and some buttons). This feature would need to fit in with both styles. What do you think about displaying the execution count on mouseover? (Add it to the little bubble that says \"Copy to clipboard\").\n. The truncated display is not what I was seeing before:\n\nHowever, even the character-level wrapping above is still undesirable.\nCan you try the new version I just pushed? It uses description (rendered as text and auto-wrapped) instead of detail (rendered as monospace). However the docs for this API are very sparse, so I can't tell if this is supported on older versions of atom. I'm currently on atom 1.8.0\nEDIT: here's how the new code looks for me\n\n. @lgeiger Thanks for reviewing!\nJust pushed a new version addressing your comments\n. Still need to think about this some more (and also about uuids). Looks reasonable at first glance, but I'm curious: how does tildify work for remote machines where the home folder is in a different location?\n. Oh right, even though the kernels are remote the filenames are still coming from the local filesystem.\nThis PR looks good to me.\nRegarding session names, perhaps the time of creation would make for cleaner names. The other thing is that it would be nice to have a session renaming option in the signal list view. I didn't do this before because I didn't know how to prompt for input, but now that I thought about it the prompt could just reuse the InputView class.\n. Oh, I see that I now have push access. Thanks, @lgeiger !\nAs I said above, this PR lgtm.\nBut before I start hitting merge buttons for code I've looked at, could you tell me a bit about any workflow policies/expectations in place here? I also want to make sure that me merging code doesn't come as an unpleasant surprise to any of the other contributors, including those who I haven't interacted with lately. Thanks!\n. I'll defer stylistic questions to someone who has worked more in the atom/js ecosystem.\nThough personally, I should say that I think it's possible to reduce the number of view-related classes even further. For example the SignalListView and the CustomListView I wrote for the WSKernelPicker aren't really that different. It might even be possible to use the parent SelectListView class without subclassing it, by creating instances and on-the-spot overriding a few methods that need to contain application logic.\n. I've pushed a rebase that bumps the jupyter-js-services dependency, so the workaround for the path bug is no longer included.\nLet me know if you'd like me to refactor the view code in any way.\n. I like this idea!\nI'm wondering if it makes sense to use Out[...] instead of result as the title, to match the notebook. (See also #331). On the other hand, this numbering scheme might be too cryptic if the ultimate use-case is to generate a document for the public.\nAlso (and I don't want this idea to delay merging the current version of this feature), but perhaps there's a way to make this more generally applicable. One use case is an in-atom iBash terminal, where the output doesn't need to be escaped at all (this encroaches a bit on what xiki does). Another might be that in markdown documents, where the code gets escaped in code-blocks, but the output may need to be inserted plain. Though I'm not sure if there's a general way to do this without adding a bunch of complicated options.\n. Really happy to see a plugin interface start to develop!\nIn light of my experience integrating my xdbg package with hydrogen, I'd like to make a suggestion regarding the look of the API.\nOne idea that I think would work well is to expose kernel objects to the plugins, along with methods for getting access to these kernels (e.g. getRunningKernel, or onKernelStart). If we don't want to commit to maintaining a stable interface in the kernel.coffee file, it possible instead to create special kernel wrappers for the public API, that expose only the functionality we feel comfortable supporting long-term.\nI mention this here because if we want to go with such a kernel-oriented interface, it might be more natural to make the get-connection-file an attribute of these kernel objects (instead of a toplevel function). This makes for a more consistent API, and also allows plugins that read connection files of kernels as they are spawned, and immediately act on that knowledge.\n. @lgeiger I've opened #446 as a proof-of-concept of what I said in the previous comment.\n. @rgbkrk Definitely, I think having results from the last run is a super useful feature.\nThe interesting API design choice is whether to keep this global for hydrogen, or provide most recent results per-kernel. There's value in both approaches, so I'm currently undecided about that matter.\nIn terms of getting this merged, I think the minimal change would be to add it as a method to hydrogen-provider.coffee, instead of having a separate provider. (One provider per feature seems like a fast way to work ourselves into a mess.) I would be happy doing just that, and then iterating depending on how the rest of the plugin system develops.\n. Hi, I see you mentioned my deuterium package here. FYI I don't recommend installing deuterium as a long-term workaround for hydrogen not working. That package is due for an update, and in the process I'll probably switch it to be a plugin for hydrogen proper.\nThat said, it would be useful to figure out how hydrogen can make the install process more streamlined.\nCan you try the following for installing hydrogen on Mac:\nbrew install pkg-config\nbrew install zeromq\nPYTHON=python2.7 apm install hydrogen\nDeuterium uses an older version of the hydrogen code, so if there really is a difference that means there has been a regression in a recent hydrogen release. When I last installed a non-git version of Hydrogen on my Mac, pre-installing zeromq and setting the PYTHON env var was sufficient to make it work. Installing from inside atom (i.e. not CLI) has never worked for me.\n. I can make it to the meeting next Monday. (Though you'll have to let me know what the meeting format is / how do I join)\nEDIT: will there be a URL/location for the meeting?\n. @lgeiger Nice catch about requiring emitter from atom. I recall seeing it in the docs, but I wasn't sure. LGTM (also no more event-kit in package.json)\n. @fasiha From the consumer side, it depends on whether the plugin responds to direct user commands, or events from hydrogen.\nFor the first case (e.g. reading connection files to spawn a connected console), a plugin can look up the current kernel, get its connection file, and then work with it.\nFor the second case, the plugin can listen to onDidChangeKernel and then register events for that kernel (e.g. use something like onDidGetResult, which does not exist yet, to read the results and paste them inline into the document). I was also considering adding a way to register event listeners for all kernels (present and yet-to-be-spawned), but that part is not fleshed out yet.\nThe idea is that the consumer has complete access to the kernel wrapper object (called HydrogenKernel here), which only exposes APIs we consider stable. So the range of modifications a consumer can make is very large, but we still make a distinction between internal and external interfaces.\n. @lgeiger The image in your first comment is as expected, because HydrogenProvider only has two properties. All of the methods are hidden under __proto__, because that's how classes work in javascript. Calling methods on the object should still work.\n. Regarding the way the status-bar package exposes a subset of methods, it's certainly possible to do so as well. I don't see declaring a wrapper inline as being that different from making a class. It would be pretty straightforward to do so for the main hydrogen class, but less so if we want to wrap kernels.\nOne thing to consider, if you look at the HydrogenKernel wrapper proposal, is that sometimes plugin calls need to perform additional validation that is not used internally. In particular, hydrogen can guarantee that once a kernel is not in use, all references to the Kernel object are removed. On the other hand, the plugin API might need to perform additional validation to make sure that plugins can't use already-destroyed kernel objects to corrupt hydrogen's internal state. Depending on how much extra validation we want to do, the wrapper class approach may be cleaner than doing inline wrapper creation with bind.\nWe can discuss tradeoffs at the meeting.\n. @lgeiger Don't worry about it!\nI actually have no idea why you're having this issue. I tested a version of your launcher plugin on my machine, and it worked fine. The code is at https://github.com/nikitakit/hydrogen-launcher/tree/wrapper-api (note that I had some issues with term-launcher, so I just tested the other parts of the plugin)\nMy best guess would be that you either didn't spawn a kernel prior to calling the plugin, or that you're somehow still using your own version of the plugin api code. (Atom also does this weird thing that dev-mode plugins are gone if you forgot to start atom in dev mode)\nWhat is the issue precisely?\n- getActiveKernel is undefined (i.e. you can't call it at all)\n- getActiveKernel returns undefined (should never happen)\n- getActiveKernel returns null (should happen whenever there is no active kernel yet)\nAlso since the screenshot above implies you have access to _hydrogen, you could check if _hydrogen.kernel is set to determine if there is currently a kernel running.\n. @lgeiger Thanks for fixing this!\n(Now it's my turn to be embarrassed by poor knowledge of javascript, because this is definitely not the first time I've forgotten new)\nNot sure why it worked for me before. Maybe I refactored after testing, and that ended up breaking things. I'll get back to you on term-launcher, since I found in retrospect that I messed up the package.json, which could have caused the problem.\n. So this plugin situation has been at a standstill for quite a while...\nIt really seems that this is a \"perfect is the enemy of the good\" situation. Any chance we can just merge one of the proposals to move things forward? It's also possible to admit that the project lacks manpower to make any further progress on plugins, and close these issues.\n. Could someone else hit the merge button on this one?\n. I connect to a local notebook server all the time, on my machine. Here's what my gateways setting look like:\njson\n[{\"name\":\"Local gateway\",\"options\":{\"baseUrl\":\"http://localhost:8888\"}}]\nIf you're still having issues getting this working, could you provide more details about what you tried and exactly how it does not work?\n. I haven't used Spyder myself, but it seems like spyder is spawning kernels directly instead of through a notebook server.\nConnecting to them requires using a different feature of hydrogen. See here (except ignoring all the stuff about docker).\nEssentially, you need to add a hydrogen/connection.json file in your project folder (the top folder you added in the tree view), and make sure this file contains the output of connect_info. Then hydrogen will connect to that kernel instead of spawning its own.\n. Hydrogen doesn't have any special provisions for opening up a login page, so the only alternative is to try to specify the username/password in the hydrogen config.\nWe use the jupyter-js-services library to connect to notebook servers, and the idea is that you'll eventually be able to specify a username and password in the options struct. But I'm not sure jupyter-js-services currently has a version of password-based auth that's compatible with the notebook server. You can look at https://github.com/jupyter/jupyter-js-services/issues/109 and https://github.com/jupyter/jupyter-js-services/issues/205 for details.\nPerhaps progress has been made on the above issues, but I'm not up to speed it.\nSome alternatives I can think of:\n- Not requiring a username/password for the server\n- Running an unsecured notebook server on a local port, and then SSH tunneling it to where atom lives\n- Using a kernel gateway instead of a notebook server (gateways support token-based auth; more details in the links above)\n- Setting up http_basic auth via a proxy, e.g. https://github.com/jupyter/jupyter-js-services/issues/158\nEDIT: potentially related: https://github.com/jupyter/notebook/issues/325\n. If the notebook is using token auth, it prints something like this when it starts:\nThe Jupyter Notebook is running at: http://localhost:8889/?token=<token goes here>\nIn that case, rather than disabling token auth, you should upgrade to the github version of hydrogen and then specify an options.token settings parameter in addition to options.baseUrl.\nWe should really do a hydrogen release to get this feature out there, and maybe add some docs for it as well.. Status bar might be useful, though I'm not sure offhand what kinds of workflows it would enable. I have no idea to what extent others use execution counts, but for my own usecase they probably aren't enough.\nFor reference, I should explain my workflow:\n- As context, do a lot of numeric work. If a cell of code runs without exceptions, that says nothing about whether it actually did the operation I want\n- I use the pretty-printer for cell outputs to check whether things work as expected (sometimes running the cell many times after slight tweaks)\n- Now I have output that's not assigned to a named variable that I might want to use later in a pipeline. I use the _### numbered variables provided by IPython extensively\n- I often need to reference previous cells many executions back, and many of the quantities there don't have named variables. In the notebook I just consult the execution count for the cell. (This is where the status-bar approach breaks down)\n- Once I have a pipeline working end-to-end, I delete any extraneous cells and spend some effort to come up with meaningful variable names\n. Does anyone have additional thoughts on this change? (In particular, I'm not sure that \"link\" is the best icon, nor about icon ordering in the sidebar)\nIf no one is opposed, I'd like to propose this for merging as-is. This feature is very important for my usage, and I'd like to go back to using the vanilla master branch.\n. @lgeiger I was just updating this PR as you commented! (It took me a while to verify that tooltips accept a function for the title option)\nI really like your suggestion; the extra button was definitely awkward.\n. @fsausset I can reproduce this, but I'm at a loss as to why this is happening. As you can see in the reference above, I've posted on the jupyter-js-services tracker to see if they have any suggestions.\n. As I see it, the issue is somewhere between the jupyter-js-services, jupyter notebook, and jupyter kernel gateway projects. Based on the replies in the issue linked above, there currently isn't any solution other than a change of approach (e.g. using http basic auth via nginx to add security, or maybe using ssh tunneling).\nI personally would prefer it if secured connections were transparently handled by an upstream library, instead of requiring hydrogen to package a workaround for this issue.\nConnecting to secured servers is definitely a real issue, but I currently lack the bandwidth to code up a solution for it. I'm leaving the github tickets open for now.\n(Also, adding a link to https://github.com/nteract/rx-jupyter/issues/15 because it may be relevant)\n. Did you specify the correct values for both baseUrl and wsUrl? See https://github.com/jupyter/kernel_gateway_demos/blob/master/node_client_example/docker-compose.yml#L35\n. To recap the discussion so far: The notebook's password-based auth is not designed to run anywhere other than the browser. Alternative approaches to secure connections include HTTP basic auth, as well as ssh tunneling.\nHowever, I think this situation is quite unsatisfactory. It should really be possible to connect to a notebook server without having to reconfigure the server hosting. I was hoping that the Jupyter folks would eventually enable to a token-based auth system that works for this purpose, but there is no indication that this will happen soon (if at all).\nIn the meantime I wrote a hydrogen-auth plugin that should enable logging in to notebook servers. Would anyone here be willing to try it out and test if it works? Unfortunately jupyter-js-services doesn't seem to be targeting our usecase, so the code involves some heavy monkey-patching to get things to work.\n/cc @lgeiger @rgbkrk \nThe usage for the plugin is:\n- Activate hydrogen first\n- Then select the \"Hydrogen Auth: Login to Gateway\" option\n- Pick a gateway\n- Double-check that the login URL is correct\n- Enter the password\n- Then use \"Hydrogen: Connect to Remote Kernel\" and check that it has started working. (Note that there is currently no error handling for incorrect passwords)\n. Now that #542 is merged, users of notebook server v4.3 (or later) will be able to establish secure connections by specifying a token parameter inside options, e.g. [{\"name\":\"local notebook\", \"options\":{\"baseUrl\": \"http://localhost:8888\", \"token\":\"secret\"}}]. A big thanks to the upstream teams for addressing this use-case!\nOther methods such as hydrogen-auth, http basic auth via proxy, and ssh port forwarding continue to be available. Self-signed certificates remain unsupported for all methods, until https://github.com/nodejs/node/pull/9139 (or https://github.com/nodejs/node/pull/8334) make their way into an Atom release.\nI would like to close this issue as resolved. Please let me know if you still have problems using hydrogen with secure servers.. @rgbkrk Sorry I've been away lately, just got around to looking at this.\nWhat commands am I supposed to run to test this?\nI tried just running \"apm install\" from terminal, and the resulting build of Hydrogen works. But it still requires me to specify python2 via an env var, and needs to run gyp / rebuild from source. My impression is that the whole point of testing this is to make sure the prebuilt code is OK.\nI'm on Mac, with Atom 1.10.2.\n. This is actually by design. Sometimes you want multiple files to be associated with the same kernel. To allow for this use-case, hydrogen only uses one kernel per language (regardless of how many files you have open).\nYou can still open a new atom window, which will have a separate set of kernels. Alternatively, remote kernels allow you to disconnect from one and then reconnect to it later.\nBoth the single-kernel-multi-file and multi-kernel use cases are important, and I can't come up with a better compromise between the two workstyles.\n. Your gateways config has some sort of error in it, e.g. invalid syntax. Double-checking the JSON should make things work for you.\nIn the meantime, I'm working on a fix that will provide better error messages in this situation.\n. I notice that this still hasn't been merged yet. I originally wasn't going to comment because I'm not sure how substantive this is, but looks like this has remained unmerged anyway.\nI agree that compatibility is a major consideration for the default keybinding set. Changes look good in this regard. Only thing I can point out to this regard is that on my Jupyter Notebook running in Mac Firefox, running a cell is bound to ctrl-enter and not cmd-enter.\nIn terms of my own usage, chances are I won't keep these bindings. (But I don't think I'm representative in the way I configure things, e.g. I use a Programmer Dvorak keyboard layout.) I personally only use two hydrogen commands: run, and run-cell-and-move-down. Currently I have them bound to shift-enter and ctrl-enter, but I should really remap one to cmd-enter. I find that having to distinguish between move-down and dont-move-down variants of the same command is too much of a cognitive burden and that it's much easier to stick to one and then navigate my way to the correct location. Unlike the notebook, atom has solid non-modal text navigation, so the variants don't add as much value. On the other hand I use cells a lot, so a simpler combo for them makes sense.\nSo anyway, these are my thoughts. No real point/punchline here.\n. :+1: on removing duplicate functionality.\nI'm personally not sure about folding in the error handling. If a plugin has fallback behavior capable of handling those cases, it may want to suppress the error messages or replace them with messages of its own. (I've been bitten by a similar issue with jupyter-js-services in hydrogen, which still streams access denied errors to the atom dev console during the course of normal usage. Though thankfully it's just the dev console, not the notifications.)\nSome alternatives to consider:\n- Delegate error handling to plugins\n- Methods that display error notifications accept something like a suppressErrors/quiet flag\n- Don't display the notifications, but still provide some way of returning precise error text to plugins (e.g. throw an error that has description fields designed for use in notifications)\nAny thoughts?\n. No opinion on language change.\nBut if you do end up switching to JS, please make sure that all the files use strict mode. ('use babel' should include this, but otherwise you may need  'use strict' at top of each file)\n. @xinzhou1023 There is currently no good way to connect to notebook servers that require a login. The notebook authentication system was designed to run inside the browser, and doesn't play well with atom.\nThe recommended solution for setting up secured servers is to use SSH tunneling, or to set up HTTP basic auth via a proxy. See more at #473, which is the current tracking issue for this.\nYou can also try installing the hydrogen-auth plugin I just pushed to github (you'll need to clone and install it manually). The code is a gigantic kludge so it'll be hit-or-miss on whether it works, but perhaps it may serve your needs.\n. Could an admin close this issue? (original question has been resolved, and #473 is for the current tracking issue for secure connections). You can use the %cd and %pwd magic commands to change directories / figure out where you are. See https://ipython.org/ipython-doc/3/interactive/magics.html\nI believe that kernels are started in the directory of the first file you run lines from. (Except for remote kernels, where I think they get started elsewhere). So you can either start the kernel from a different file, or cd into the right directory after starting. Hydrogen shares the same kernel between all open files that have the same language.\n. The Windows username having a space in it is probably triggering this. @lgeiger is that the same in #506 ?\n. @lgeiger No issue with merging the two bubble types. In fact, I wouldn't even know that there are different bubble types if I didn't look at the source code.\nI think having a standard box type that takes up most of the pane width would be great for multiline display. I'm still in favor of keeping the inline display for super short outputs, though.. @lgeiger Thanks for addressing this! I just had a chance to test, and the result boxes are much better now!\nThe one thing I noticed is that the width of the box doesn't change if you resize the current pane. I probably wouldn't have come across this without intentionally testing it, but it might still be worth looking at whether there's an easy fix.. @lgeiger You're right. I tried looking for a pane-resize event that you can listen to from javascript, but I couldn't find one. Looks like this will probably have to remain as-is.. I haven't had a chance to test the code yet, but I just want to quickly comment regarding the wrap guide. Have you tried limiting the width of the results box to end at the guide? This would help with scrolling, in that you could now use the area right of the margin to scroll the document instead of the results view.\nIt should also be the case that if you're actually following coding style and wrapping at the margin, you may want to open up multiple panes to make the most of your horizontal screen space. Any thoughts on this?. FYI for atom 1.10 you need to use .platform-darwin atom-text-editor:not([mini]) as the selector instead. (However, I believe that this is fixed as of atom 1.12). Thanks for fixing this! I started running into this bug after making the execution count changes, but couldn't figure out exactly what was going on.. (Pushed new version that removes debug code I accidentally left in. Sorry about that). Based on the comments at jupyter/kernel_gateway#204 (as well as personal testing), the issue is with the combination of kernel gateway v1.1.1 and notebook v4.3.0. This combination is broken regardless of which version of @jupyterlab/services is used to access it. Therefore this gateway issue shouldn't block merging this PR.\nOf course, any regression testing for known-working server versions would be appreciated.. Could you provide some more details on the difference you're encountering? Connections failing silently is a bug that should be fixed.\nThe only difference between notebooks and gateways is the API call listRunning, which fails for gateways with the default config. The error gets logged to the dev console, while the code proceeds to create a new session. But for all other API calls (such as creating/connecting a session or listing kernelspecs), we should still strive to surface errors to the user. We should have the full capabilities to handle errors such as an invalid config, server-not-running, or request unauthorized in a reasonable manner.. Try checking that the code is being run from the same folder as stations.py.\nYou can do this by running %pwd. ( %ls are also available, and you can use %cd to change folders). So if you run %ls from inside hydrogen, then stations.py shows up in the output? Is that correct?. Type %ls on its own line at the top of the file. Select the %ls. Then run Hydrogen: Run.. The python process starts in the same folder as the first file you run commands from.\nYou can later change it using %cd. (e.g. type %cd tickets on its line, select it, then do \"Hydrogen: Run\").. I removed the parens.\nAlso, @lgeiger, I cherry-picked your changes so as to avoid conflicts.. LGTM. Based on the Altair FAQ, it needs an nbextension in order to draw graphs. Link: https://altair-viz.github.io/faq.html#id2\nNbextensions are part of the notebook, not hydrogen, so it's not clear what can be done to fix this.\n(On phone, sorry for brevity). We've had Vega 3 / Vega-lite support in github master for a little while, it just hasn't been published in a release yet. Everything should be compatible assuming that altair set up their display MIME types the same way as hydrogen and JupyterLab.. I had magicpython working earlier, and the setting I had was {\"python\":\"magicpython\"}. Not sure why yours is not working...\nBut I found bug #465 very annoying, so I ended up uninstalling magicpython a while back. Not sure what the hydorogen+magicpython compatibility story is nowadays.\n(Edited because I misread your comment the first time). This incompatibility with Windows is certainly a good catch!\nDo you think it would be worthwhile to implement a workaround using the Windows event APIs, rather than simply declaring interruption to be unsupported?\nIIRC the notebook server on Windows supports interrupting kernels -- and it looks like the code responsible can be found here, here, and here.\nNote that I don't use Windows myself, so I won't be able to evaluate/test this.. @lgeiger That's fair. It then makes sense to keep an issue filed in case someone with Windows wants to contribute a workaround.. I use this kind of remote workflow all the time, and all of the solutions I found so far rely on copying files between local and remote computers.\nMy current workflow is to use the remote-sync atom package, which essentially runs scp but provides some additional editor integration. This way I can copy over all of my code files before running everything.\nIn the past, I've also tried an alternative workflow where I mount the remote filesystem over sshfs, so any file changes are automatically synchronized with the remote end. Sadly I found that sshfs on Mac doesn't play well with frequent switching of wifi networks or network disconnects -- but it's still a good option if your internet connection is stable.\nThere are probably a number of other file-copying-based workflows that would also achieve the same effect.. With this functionality, doesn't it make sense to have \"Run Cell\" run the current fenced block?\nI don't use multi-language Markdown documents myself, but my understanding is that a natural way of splitting up code into sections is to create multiple code blocks (possibly with Markdown text in between). You can follow the instructions in the Debugging Guide to diagnose this error.\nMy hunch (just guessing blindly without knowing the details) is that the server update has enabled token authentication, and that you now need to add an options.token to your settings.. @jacknlliu After selecting new session, do you get the option to pick a kernel type? If not, do you at least get the message that says \"No kernel specs available\"?\nOne thing to note is that available kernels are filtered based on the programming language (grammar) of your current open file, so maybe something about the filtering is off. If you have multiple kernels installed, have you tried to reproduce with different programming languages or different atom grammars? (For example, magicpython is a different grammar from stock python, and requires a custom config to work)\n. @jacknlliu So what you're saying is that you can see the options, but when you select one you don't end up with a working kernel. Is that right?. Since I have a bit of free time, I thought I'd write a bit about hydrogen's support of cells and how it has developed over time.\nTo begin there are two views of how to do literate programming:\n Programming language as outermost grammar, annotations inside comments\n Text as outermost grammar, code inside fenced blocks\nBoth of these have their strengths. The programming-language-outermost approach allows running the code as a script with a stock interpreter (this is great for collaboration with people who have a different workflow that doesn't involve hydrogen). On the other hand, the text-outermost approach (e.g. as in R markdown) is good for documentation and exploratory coding.\nHydrogen supports both of these. The run cells is aimed at the first, while the rich-document approach targets the second. The syntax between them is necessarily different. The different variations %%, <codecell>, and In [] are for compatibility with existing tools, such as the \"Export\" functionality of Jupyter Notebook.\nThe rich-document functionality was only implemented recently, and it doesn't have any provisions for variable sharing. It's also not very clear how to implement that, since Hydrogen is entirely language-agnostic, and the Jupyter protocols aren't designed for variable sharing across kernels.\nSo the way to do variable-sharing today is to use the code-cells functionality inside a Python file, and rely on the existing magics that you used in your notebook example. For your example the equivalent file is:\n```python\n%%\n%load_ext rpy2.ipython\n%%\na = !echo hello\nprint(a)\n%%\nimport numpy as np\nx = np.array([2.3,-4.5,10.01])\nx.mean()\n%%\n%%R -i x -o m \nm = mean(x)\n%%\nprint(m)\n%%\na=10\nb=20\n%%\n%%bash -s $a $b --out c\necho \"this is displayed\"\necho \"the last thing printed to stdout will be passed back in the variable c\"\necho \"a + b = $(($1+$2))\"\n%%\nprint(c)\n```\nYou would use the \"Run Cell\" command to run each of the fenced sections. The image by @n-riesco didn't use cell separator comments, which I agree is not a fit for everyone in terms of workflow (I believe the lack of separators forces you to select the different-language sections with your mouse and then run only the selected code).. @vpetrovykh \nTo get code block boundaries in a language-portable way, hydrogen relies on Atom's code folding.\nSo for example here is some code:\n\nAnd here is the same code after running the \"Editor: Fold All\" command\n\nHydrogen considers the block to range from the start of the current line to the end of the folded section, which misses the closing } delimiter.\nAlso if as a MagicPython developer you know a more targeted way of getting block information that is commonly supported by Atom grammars, please let us know.. Hydrogen could definitely use a slimmed down presence in the status bar. One thing I'm curious about (having not run the code yet) is whether this provides any way to know what kernel you're connected to if the current state is idle. I have at least 3 python environments across multiple machines, and I use the status bar to keep track of which (if any) is currently connected. Also the remote kernels tend to enter a reconnecting or dead state if switch WiFi networks, so there's actually more status states than just idle/busy. I'm not sure how busy-signal handles inactive sources.. I should mention that currently \"select kernel\" does not interact at all with remote kernels (it always lists the local ones).. @cbarrick I don't think pop-up notifications are quite the right thing. When I start a kernel or connect to one I obviously know which kernel is being used. It's when I switch between tabs or windows that I may be unsure of what kernel is connected or the state it's in (but providing constant pop-ups on switching tabs would be very annoying).\nNow I'm somewhat of a \"power user\" of hydrogen, but here's what my current usage is like. I have 2 atom windows with a dozen tabs each, involving different programming languages. Each of these atom windows may or may not be using a kernel. I have two kernel types that I'm actively using for my current project (one in a local VM and one on a remote computer); this is in addition to more kernels that correspond to other projects I'm not actively working on. The status bar text really helps keep track of all of this.\nI'm wondering if it really makes sense to cut the status bar indicator, especially since it's hidden when you're not using Hydrogen. How cluttered is your status bar getting compared to the window width? If it's cluttered perhaps a better alternative would be to restyle the indicator to be narrower. Now I agree that displaying kernel status in text like it's currently done is a bit odd. It may be possible to restyle just that part by moving it to busy-signal, a custom hydrogen icon, or style/color change of the kernel name.. If there are any new developments here, I'm interested as well.\nCurrently I use a few packages that I wrote (xdbg for python along with hydrogen-xdbg plugin for atom) to debug functions, including across multiple files. They behave a little differently than a standard debugger, but they do achieve a similar effect.. @lgeiger I think it would be fine to keep the panel open and just swap out the elements being displayed.\nTo be honest I'm completely confused by how you're supposed to do UI in atom. It's unclear to me what the situation with space pen is -- it works fine, but supposedly it's deprecated?. @epifanio What options did you select in the menus shown by \"Connect to remote Kernel\"? If you don't follow the menus far enough you won't actually connect to a kernel.. @lgeiger I think there is actually an issue in hydrogen, since I have a reliable way of getting this error message.\nThe steps are:\n1. Make sure no kernel is running\n2. Open a python file and move to some simple line\n3. Execute \"Hydrogen: Run\" twice in quick succession. I do this by spamming \"Shift-Enter\" key combo.\nOn the other hand, if I wait for the first execution of \"Hydrogen: Run\" to successfully start the kernel and finish executing, then I don't see this error message. (Also, sometimes the steps above give a zmq.error.ZMQError: Address already in use instead). I just want to mention that %matplotlib inline does work, even though it's not as nice as %matplotlib notebook.\nHopefully someone else can chime in on whether it's possible to get the notebook rendering working or not. As I understand it the issue here is that the notebook-rendered graphs use Javascript for interactivity, and Atom refuses to execute it without proper sandboxing from the text editor itself.. Note that the result number (execution count) is currently shown on-hover over the copy button, so if the copy button is hidden there may need to be some alternative way of surfacing that information.. Not sure about that. The information provided may be only tangentially related to the copy action, but it's even less related to the close action. Plus, if your fingers slip and you end up clicking then the bubble is gone -- and the result number is precisely what you need to know to bring it back.\nThis might be an OK compromise in the interim, but I really think there should be a better way of providing this information.. @lgeiger \nA agree that it would be nice if we could sneak in the result number somewhere. I think it wouldn't look too bad to put it right under the close button (basically an element like a button, but which displays the number and isn't clickable.) That said I don't think my CSS is good enough to code that myself.\nIn terms of bringing results back, you can't return the print statements, but you can refer to the output itself using variables like Out[1] or _1, at least in python. . My line height is still at the default of 1.5. At font size 12, any line height less than 2.0 has this issue.. This isn't an issue with hydrogen, it's just that Atom's default Python language package supports very little of the new syntax introduced in python 3.\nTo get better Python highlighting you should install the Magicpython package, set Hydrogen's \"Language Mapping\" setting to {\"python\" : \"magicpython\"}, and ensure that you're using Magicpython for your python files.. This issue is something I've been running into as well in my usage. I wouldn't be opposed to having hydrogen strip out common leading whitespace, rather than offloading this to a plugin. The criteria for this are pretty simple (detect leading whitespace on first line, and strip it from later lines) so it doesn't actually require any language-specific parsing.. I thought that updates to the plugin API would make it easy to implement this feature as a plugin, but it turns out that this is not the case.\nIt so happens that hydrogen always trims the string before sending it to the kernel, so e.g.\nx = 5\n    print(x)\nbecomes \nx = 5\n    print(x)\nand it's rather difficult for a plugin to undo that transformation and detect that actually there was common leading whitespace all along.\n(Just wanted to post this thought here in case it sparks any ideas). Now that the plugin API changes are merged, it's possible to mostly implement this feature in a plugin. I have a working plugin implementation at https://github.com/nikitakit/hydrogen-python\nNote that there are some limitations (related to my comment above), but at least in my code those cases occur infrequently compared to the many times I want to run code in an indented block.. @maximsch2 I'm surprised you were getting a different behavior previously, because having all tabs with the same grammar share a kernel has always been the intended behavior. For over a year now I've been interacting with the same kernel from multiple files, and I've never been able to have two different kernels open with the same grammar.\nThe way it works is that tabs in the same window share a kernel, but no kernels are shared across multiple windows or Atom instances.\nI am curious exactly what caused a change in behavior though. Which hydrogen version were you running previously?. @n-riesco I actually hadn't thought of using object instance replacement for kernel hijacking behavior. Definitely worth considering.\nThough I think it's unfair to characterize the approach here as not being general. Obviously this PR only has the pieces needed to implement #862, but that's mostly to keep the diff small/reviewable while still demonstrating the overall approach. The more general idea is to allow plugins to listen and react to various events being emitted by hydrogen, while possibly stopping event propagation to execute a custom codepath instead. The inspiration here is how event handling is done in the browser. Certainly this model has different tradeoffs to one where each plugin wraps the kernel and modifies some of its behavior.\nOne thing I've been thinking about over the course of this PR is how to make sure plugins interact sanely with each other (I haven't really come to a good conclusion on this yet). If multiple plugins want to go about replacing kernel behavior, they should be able to compose with each other.\nFor reference, here are the plugin ideas I had in mind while working on this PR:\n Implement #862 \n Implement watches using a plugin\n Implement a feature like watches, except have the watched code run just before user-requested code instead of just after\n Remap executing expr? to opening the inspector for expr, for those of us with lots of muscle memory from using notebooks\n(I'm not saying all of these plugins would be all that useful for real work, but it would be disappointing if the plugin API couldn't accommodate each of these being implemented by a separate and independent plugin). An update on the status of this PR: I have a rewrite that accomplishes the same goals but exposes a different API to plugin authors. I'm going to wait for my other PR to make it through code review, and then publish the rewritten plugin API changes here.. Due to some repo cleanup I want to do, I'm closing this PR. I have another attempt at plugin API updates on my local machine, and I'll try to open up a new PR with that soon.. Yes, if you have neither xsrf tokens nor a form of authentication (e.g. tokens or passwords), it becomes very easy for malicious websites to secretly issue requests to your notebook server.\nI think it's unlikely that hydrogen will support XSRF functionality, because hydrogen isn't a fully-featured web browser.\nFortunately Hydrogen's authentication story has gotten much better lately, and I don't think XSRF is required for authenticated requests. You can specify a fixed token in the gateway config, or leave out the \"token\" field from the config and enter one in manually each time you connect to the gateway. You can even copy an authentication cookie from your browser (useful if someone else is administering your notebook server and you can't request a token from it).. @hotung1027 Are you using a self-signed certificate? If so, then you might be having a different issue from the original post. SSL certificate validation in hydrogen is all handled by nodejs, and until very recently node have no provisions for accepting self-signed certs. Newer versions of node have addressed this (i.e. they can read from the system trust store instead, but you still have to manually mark your certs as trusted), but I have no idea if atom has actually been upgraded to use these newer versions of node.. Looks like you need at least node 7.5 (or either the 6.10 or 6.11 LTS release) to get the nodejs cert changes. Even then, the ability to use the system trust store appears to be a compile-time option, so it's unclear if it would be enabled or not.. @77QingLiu If you're using cert-tweaks, did you configure it to specifically trust the certificate used by the notebook server? The cert-tweaks package doesn't do anything unless properly configured.. The entire shim here is based on the documentation for @jupyterlab/services: ideally there would be a way to not install/override any globals, but I did what the docs said was needed just to be safe.\nIn particular if you look here you'll see that requirejs is needed for Comm targets. So not currently something that hydrogen uses, though I would like to have comm/widgets support in hydrogen eventually.\nI guess hydrogen could try removing it, though it would be our responsibility if anything breaks as a result. As far as I can tell the @jupyterlab/services maintainers do most of their testing with browser-based code, so the moment we do anything different from the nodejs examples they provide we become responsible for testing all the edge cases that could arise from using the library inside node.. Just saw https://github.com/nteract/hydrogen/pull/908#issuecomment-332019684: based on this I think it may be possible to do away with the globals shim entirely.. @lgeiger I see, since there are actual problems then it makes sense to try removing it. Unfortunately I'm not sure I'll be able to help with testing this.. @maxim-lian To handle tokens, you can [set the notebook server config][1] to always use the same token every time the server starts. You can even set it to the empty string to avoid using tokens altogether (however, this is insecure). If editing the config is inconvenient for a docker setup, I think there's an environment variable such as JUPYTER_TOKEN that can be used instead.\n[1]: https://github.com/nteract/hydrogen/pull/1079/files#diff-3921662d6df5c3e9793164c8a30b8ff5R39. Here's an updated version of the code that automatically prompts you for a token/cookie when it can't connect. In this case, the decision to prompt you is made based on whether an attempt to get the server to list kernelspecs succeeds, rather than based on whether the options.token flag is present.\nHow does this look? The tradeoff here is:\n- If you automatically prompt when no token is specified in the settings, you will force people running tokenless servers to manually specify token: null or similar to avoid getting constantly nagged. Also, you would have to change the behavior of automatically cancelling the kernel picker if you input an empty string for the token\n- If you prompt when a connection fails, you end up giving spurious prompts when the real issue is that you've specified the wrong server or the server isn't running. This also runs the risk of accidentally submitting your token/cookie to the wrong server if you really mess up your config. (Unfortunately, the error type I get for auth failures is ECONNREFUSED, which is unhelpful in differentiating them from other sources of errors). I've dropped the POC label from the title to reflect that the feature is ready for code review. Also, this passes CI now that issues with dependencies that affected all of hydrogen are resolved.. Thanks for reviewing this!\nI took a look at the next version of jupyterlab/services, and it looks like it's quite a big change. The switch from using XHR to node-fetch will mean that I'll have to rewrite a portion of the code for this PR, mainly the parts that deal with cookies and spoofing same-origin requests. I probably won't have the time to get to that for a little while.\n(Offhand, do you know if eval('require')('node-fetch') will violate Atom's security policy? The new version of services is doing that, but I seem to recall that there are some restrictions to using eval in Atom.). Did you have any print statements inside the loop?\nI know that if you print output fast enough, Atom will hang because it can't keep up with displaying the messages. I've never seen it happen with just computations in the loop, though.. It appears that the cling kernels do not provide a \"language\" field (e.g. [see here][1]). Adding a \"language\": \"C++\" entry to this file would probably solve this issue. Not sure if there is any other solution for getting this to work with a release build of Hydrogen.\nThis is actually the first time I'm seeing a kernel without a \"language\" field, as I do believe that it is actually a required field.\n[1]: https://github.com/root-project/cling/blob/master/tools/Jupyter/kernel/cling-cpp17/kernel.json. I think at some point Hydrogen explicitly opted to only use user-installed kernels and not perform any sort of autodetection. To be honest I'm not sure why that decision was made (other than to simplify the code)\nThough I do think that if you're a user that's already heavily invested into using hydrogen across a range of venvs, installing named kernels provides advantages over auto-detection.\nEdit: sorry, I missed the venv vs virtualenv distinction. I've looked a bit into the difference between them (though personally I mostly use conda rather than any flavor of virtualenv). This looks like a duplicate of #1150. This is an Atom bug that should be fixed in a new release of atom, but there were some workarounds suggested to install hydrogen in the meantime.. Maybe there's a chance that simply copying over the package folders doesn't correctly set up the settings? To test this you could check if hydrogen has any other settings available, and whether the other packages you copied over do, too.\nI haven't experienced this myself and don't know of any recommended solution, but here are some workarounds that might help:\n Installing packages directly, while setting up apm to use a proxy\n Install hydrogen from github at home. Then copy over the source checkout (including the node_modules folder) and use apm to install from the repo at work. By going through the official install process maybe settings will work. See also here\n* If hydrogen works, but the settings pane doesn't, you can always edit config.cson manually (you can access it as \"Config...\" somewhere from Atom's menu). You may have to try this on your home computer to figure out the syntax.. Thanks for taking a look at this!\nI did a quick round of updates to switch away from classes. In terms of using async code instead of result callbacks, I've decided that there are too many details to do this right now. Later on if plugins are using this we can figure out something based on actual usage patterns.\nAlso I think I now have an idea of how to handle result objects in the API (though this is not implemented yet). Currently hydrogen takes objects formatted according to the jupyter message protocol, converts them to custom result objects, and then calls onResults. What I'd like to do instead is have the raw jupyter messages pass through the middleware, and only be converted to a hydrogen-internal format afterwards. That way if plugins want to interact with the results stream, they can work with something that's in a well-documented format.. I just pushed an update that ensures that middleware onResults callbacks always receive messages defined under the Jupyter messaging spec, and not hydrogen-internal types. This is a pretty large diff so I'd appreciate any code review and testing this can get!\nWith this change, it should be possible for plugins to modify replies that kernels send (for example, to inject their own messages into the result bubbles). Even though the middleware now operates on Jupyter messages, the ZMQKernel/WSKernel classes offer an important level of abstraction by matching replies with their associated requests.\nOnce these changes have been reviewed I can drop the WIP tag and polish this up for being merged.. Any thoughts on the latest round of changes? (Just want to clarify that this PR is out of my hands and waiting for review). @n-riesco Thanks for your comments! Your feedback last version was super helpful, and I appreciate that you gave v2 a look.\nTo add to your description of the concept of middleware, I'd like to mention that the purpose of this concept is to allow plugins to intercept and modify kernel requests/responses. Middleware needs to intercept hydrogen commands, so e.g. if you press shift-enter an execute middleware will need to be called. This makes it difficult to avoid modifying at least one of Kernel/ZMQKernel/WSKernel to support this behavior.\nI say difficult because there is technically the option of creating a PluginAwareKernel class that inherits from Kernel. This approach was rejected because (1) users with plugins installed will have 100% of their kernels converted to PluginAwareKernels, which puts them on a completely different codepath from vanilla hydrogen users and increases the potential for bugs, and (2) swapping out a ZMQKernel for a PluginAwareKernel when the kernel is already associated with multiple files is needlessly complex. The simple solution is to modify the base Kernel class to accept the optional installation of middleware.\nA given plugin may only wish to target particular kernels (e.g. if it implements language-specific features), so middleware is installed on a per-kernel basis instead of globally.\nOnce the base Kernel class supports middleware, this functionality needs to be exposed to plugins that only have access to HydrogenKernel wrapper instances. This adds a layer of indirection which is a bit annoying but does provide an opportunity to provide some sanity checking.\nRegarding your chaining proposal --\njs\n    execute(...args) {\n        let newArgs = args;\n        this.plugins.forEach((HydrogenPlugin: plugin) => { newArgs = plugin.execute(...newArgs); });\n        this.kernel.execute(...newArgs);\n    }\nthis implementation is not sufficiently general to implement plugins that want to split one request into multiple. Consider moving hydrogen's watch functionality into a plugin: this PR enables the following approach:\njs\nmyWatches = ...\nkernel.addMiddleware({\n  execute: (next, code, callWatches, onResults) => {\n    next.execute(code, callWatches, (message, channel) => {\n      onResults(message, channel);\n      if (myWatches.isIdleStatusMessage(message))  {\n        for (let watch of myWatches.getWatches()) {\n          next.execute(watch, false, myWatches.onWatchResults);\n        }\n      }\n    })\n  }\n});\nThe fact that next.execute can be called multiple times inside the middleware (and that you also have the option to call other methods such as next.complete) makes handling prepend/append/remove trickier, so implementing functionality other than addMiddleware is postponed.\nRegarding your minor points, I will address them when I update the patchset.. > both approaches are essentially equivalent; the main difference is that one of them avoids changes in Kernel, ZMQKernel and WSKernel.\nHow do you avoid modifying any of those classes?\nSay I execute hydrogen:run by pressing cmd-enter. Here is what the call stack currently looks like:\nHydrogen.run [main.js]\n- Hydrogen.createResultBubble [main.js]\n-- Hydrogen._createResultBubble [main.js]\n--- ZMQKernel.execute [zmq-kernel.js]\nTo insert some middleware here, I must modify main.js, zmq-kernel.js or kernel.js (by having ZMQKernel not override the execute method). This means I have to make changes in Kernel/ZMQKernel.. I think that approach is inferior. As I said previously,\n\nThis approach was rejected because (1) users with plugins installed will have 100% of their kernels converted to [HydrogenKernels], which puts them on a completely different codepath from vanilla hydrogen users and increases the potential for bugs, and (2) swapping out a ZMQKernel for a [HydrogenKernel] when the kernel is already associated with multiple files is needlessly complex. The simple solution is to modify the base Kernel class to accept the optional installation of middleware.. Here is my plan for when we need to release a backwards-incompatible plugin API:\n Create a class HydrogenKernelV2\n Plugins that consume hydrogen provider 0.x get HydrogenKernel instances, plugins that consume hydrogen provider 1.x get HydrogenKernelV2 instances.\n* This provides a period of compatibility for older plugins.\n\nNote that this requires that multiple HydrogenKernel wrappers to be allowed for the same kernel. There were no concerns regarding this plan when I first proposed the plugin interface.\nAlso, ZMQKernel and WSKernel aren't becoming more complicated: all I'm doing is renaming some of their methods.\n. See my point above about plugin backward-compatibility. I consider compatibility to be of utmost importance in API design.\nEdit: I actually don't care that much about changing vs. not changing Kernel (thought I think adding a new class is overkill). But I do care about being able to have multiple HydrogenKernel classes in parallel.. If we have both a HydrogenKernel and HydrogenKernelV2 class in parallel, it is clear that both must be wrappers around the same hydrogen-internal object.. Note your call stack above:\nHydrogen.run [main.js]\n- Hydrogen.createResultBubble [main.js]\n-- Hydrogen._createResultBubble [main.js]\n--- HydrogenKernel.execute [hydrogen-kernel.js]\nHow does HydrogenKernelV2 fit in?\nIn my plan, HydrogenKernel is never part of the call stack for requests not initiated by a plugin, so you can have as many parallel versions as you want.. @n-riesco Sorry for the delayed reply, since I was busy this weekend.\nI think we're on the same page now regarding the architecture discussion; in particular that the plugin wrappers won't be used internally in a way that hurts backwards-compatibility.\nI went ahead and implemented something similar to what you propose above (with the exception of naming: I use KernelTransport/Kernel instead of Kernel/HKernel to keep the diff small). This is in the last commit I pushed to this branch.\nIgnoring the CI failures for a moment, let's take a look at what effect this has on the architecture. The first thing to notice is that Kernel has quite a large API surface, and when splitting it up it's not just the plugin functionality that is affected. There's nothing special about the plugin middleware: if it's going to be moved out of the Kernel class then so should other stuff like emitter or outputStore. This leaves the Kernel class to only do jupyter-protocol stuff. Alternatively, these other functions can be exposed through a getter, or referenced using kernel.kernel.XXX everywhere.\nThese changes produce a massive diff throughout all of hydrogen, and really has nothing to do with plugins. And I'm not even done! (see all the XXX comments) And all of this needs to be tested!\nIf you'd like we can proceed down this path, though it looks like it will require quite a bit of code review to happen. But to be quite honest, I don't see the value of doing such a large-scale refactoring. Especially not in a PR that's ostensibly about plugins.. The previous API had a results callback of type onResults: (message: HydrogenInternalUndocumentedFormatObject) => void. It is required that plugins should never see hydrogen-internal data types.\nThe solution is that plugins should only see Jupyter message types as defined by the Jupyter spec, and conversion to the hydrogen-internal format be delayed until after all plugins have processed the results stream (and possibly filtered/injected the messages). @n-riesco Sorry, I'm not sure where we're at after the last round of comments, seeing as there was a lot of discussion about JMessage vs. HMessage.\nI've gone ahead and addressed all the action items I could find (with the exception of writing better docs for the plugin API).\nI was unable to move the code in HydrogenKernel.addMiddleware to Kernel due to issues with project tooling (flow and prettier). Basically, if I change the code to make flow happy, prettier will choke on it.\nAlso, I'm not sure moving it out of the plugin wrapper is even the right idea, because:\n The fact that the middleware object passed to the plugin API cannot be mutated later is part of our API guarantees. Enforcing those guarantees in a different file is prone to inadvertently breaking plugins.\n Earlier you presented an example where the Kernel stores a plugin list, e.g. this.plugins = []. That means applicable middleware is checked on each request, instead of \"precompiling\" the middleware pipeline. This is actually almost impossible to implement (I challenge you to try, so you can see why!) If we're precompiling anyway, there's a lot less pressure to move this functionality into Kernel.. Sorry to bother, but I'm wondering how to proceed here. Thank for taking a look at this!\nIt'll take a few posts to respond to your latest round of feedback, since there are a lot of things to think about.\n\nIn terms of flow+prettier, here's the issue in detail.\nLet's say I have the code:\n```\n// plugin wrapper\ninterface PluginInterface {\n  inspect?: (next: any, code: string, cursorPos: number, onResults: Function) => void;\n}\nfunction foo(arg: PluginInterface) {\n  return bar(arg);\n}\n// in another file\ninterface HydrogenInteralInterface {\n  inspect?: (next: any, code: string, cursorPos: number, onResults: Function) => void;\n}\nfunction bar(arg: HydrogenInteralInterface) {\n}\n```\nI define the same interface twice to isolate plugins from internal API changes: i.e. updating something internal to hydrogen shouldn't inadvertently change the plugin API. I guess I can avoid that for now, but it will come up in the future as internal APIs change.\nThis code doesn't typecheck (!)\n65:   return bar(arg);\n                  ^^^ PluginInterface. This type is incompatible with the expected param type of\n 68: function bar(arg: HydrogenInteralInterface) {\n                       ^^^^^^^^^^^^^^^^^^^^^^^^ HydrogenInteralInterface\n  Property `inspect` is incompatible:\n     57:   inspect?: (next: any, code: string, cursorPos: number, onResults: Function) => void;\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ undefined. This type is incompatible with\n     61:   inspect?: (next: any, code: string, cursorPos: number, onResults: Function) => void;\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function type\nI attempted to fix this by specifying:\ninterface HydrogenInteralInterface {\n  inspect: ((typeof undefined) | (next: any, code: string, cursorPos: number, onResults: Function) => void);\n}\nThis avoids the flow issues, but now prettier kicks in because the line is longer than 80 chars. So it rewrites the code as:\ninterface HydrogenInteralInterface {\n  inspect:\n    | typeof undefined\n    | ((\n        next: any,\n        code: string,\n        cursorPos: number,\n        onResults: Function\n      ) => void);\n}\nThis causes Atom 1.23.2 to complain: \"Failed to activate the Hydrogen package: unexpected token\".\nIn short, it's a mess. I now have a number options:\n Don't use the typechecker\n Combine PluginInterface and HydrogenInteralInterface into one datatype and hope that they never diverge\n* Do more work in the wrapper (which is what I've selected). I have a new round of changes out now. The first commit fixes some of the simpler stuff pointed out, while the second touches on what I see as the biggest of the outstanding concerns.\nHere are some of the issues that can come up in the plugin API:\n1. New atom packages can activate at any time. Under the current API this means that new middleware might be added at any point, including when there are already requests being processed. In particular, this rules out implementations that use a mutable list (e.g. this.middleware) accompanied by indices into the list -- if the list changes all indices will become out-of-date!\n2. Plugins only specify the methods they want to override (i.e. all fields e.g. interrupt, shutdown, etc. must be optional)\n3. The objects that plugins pass into the API are mutable. This means that a new property (e.g. interrupt) can appear at any time, or an existing property can disappear. This behavior is somewhat degenerate, but hydrogen should handle this in a predictable way and document to plugins how this is handled.\n4. A plugin's implementation of execute might fork into multiple calls of different methods. This rules out an approach like this.plugins.forEach((HydrogenPlugin: plugin) => { newArgs = plugin.execute(...newArgs); }); -- a function can call next.execute as many times as it needs to, but a function can only return once!\nPreviously, I handled (1) and (4) by constructing functions on-the-fly that corresponded to the full precompiled middleware stack, and handled (3) by storing an immutable copy of any middleware passed in. It looks like @n-riesco didn't like that. What do you think instead about my latest commit, which introduces a MiddlewareAdapter class instead?\n\nI haven't addressed all of the feedback in this post; I just want to move forward on this main issue before tidying up some of the other stuff.. To clarify what I mean by (3), consider the plugin:\njs\nvar obj = {execute: ...};\nkernel.addMiddleware(obj);\nobj.inspect = ...;\ndelete obj.execute\nflow complains if your code will break when methods get deleted, which how I became aware of this issue.. >Plugins must invoke the onResult callback only once\nI don't see how this can possibly be true.\nEvery time you call sys.stdout.flush() in python, Hydrogen needs to display stdout right away. The way Jupyter handles this is by sending a new message, which gets passed to onResults. In other words, onResults gets called multiple times per request.. >plugins must ensure that for every _request message they receive, only one _reply message is passed back to the onResults callback.\nSounds reasonable. That way if you have a watches plugin be first in the middleware chain, watches will work as expected. But it does have to be first, not last.. @n-riesco Please let me know how to proceed here.\nRegarding your earlier points about naming (plugin vs. middleware vs. something else): I think it makes sense to keep the concepts of \"Atom package that extends hydrogen\" and \"object that provides additional kernel functionality\" distinct.\nThe word \"plugin\" is already used in the \"Atom package\" sense, e.g. in the hydrogen readme:\n\nHydrogen has support for plugins. Feel free to add your own to the list:\n- Hydrogen Launcher\n\nAfter searching for a different word for a \"kernel functionality extender\", I settled on the name middleware. I'm not particularly attached to any of these names, but I do want to make sure that distinct concepts have distinct names.\nNote that none of the methods execute/complete/... receive kernel as an argument, so a plugin is essentially forced to register multiple middleware objects. See here for an example.. @n-riesco \nI just pushed an update that gets rid of the callWatches argument from the plugin API.\nNote that watches have apparently always triggered on \"status: idle\" messages and not on \"execute_reply\" messages. I'm not in a position to know if changing this would break things, so I've retained the old behavior.\n\nI tested the input_request behavior (both previously and after this latest round of changes), and there don't appear to be any impacts from a user-facing perspective.\nThere isn't currently an API for plugins to actively participate in the input_request/input_reply exchange because there hasn't been a convincing usecase for it. If a plugin wants to query the user it can just use Atom's DOM API.\nBefore designing this plugin API, I went through the entire hydrogen issue tracker to try to cover a wide range of real use-cases that have been suggested. I didn't find anything that would require interacting with inputs, and I'm not a fan of designing APIs for \"what-if\" scenarios without any real applications in mind.. >Could you point me to code in master where the behaviour \"Note that watches have apparently always triggered on \"status: idle\" messages and not on \"execute_reply\" messages.\" is implemented?\n\nZMQKernel: https://github.com/nteract/hydrogen/blob/master/lib/zmq-kernel.js#L363\nWSKernel: https://github.com/nteract/hydrogen/blob/master/lib/ws-kernel.js#L53\n\n\nI don't understand the meaning of this paragraph. The new API seems to call the plugins when an input_request is received.\n\nYou're right, I wasn't quite precise. Plugins have the option of modifying the input_request, but well generally just pass it along. However, they do not currently have the option to do anything with input_reply messages.. > This PR keeps doing the same, doesn't it?\nYes, the functionality is unchanged.\n\nI.e. when the plugin gets an input_request, instead of invoking next, it can invoke the onResults callback with a fake input_reply.\n\ninput_request is from the kernel, to the frontend. So input_request is what gets passed to onResults.. Yes, we could create a next.inputReply. I have postponed that for a future PR because I haven't found any usecases for it.. @n-riesco Thank you for your time in looking over this code!\nI've tested the code and not found any breakage to existing functionality. I also have a sample plugin that appears to run without issue.\n(Someone else will need to merge this PR since I'm not part of the nteract org). Do you have the right type of file open when you try to connect to the remote kernel? Kernelspecs presented to you are filtered based on the grammar of the currently open file (so e.g. python files should only list python kernels)\nYou can also try opening a blank notebook from the web UI (which will create a session for it), and then see if the session is available to connect to from hydrogen.\nOther options for debugging are opening the dev tools in atom, and also looking at the server logs (which the notebook process prints to stdout) if those are available to you.. Thanks for reporting!\nI looked into why this is happening, and it turns out that hydrogen isn't really using the full power of the Jupyter protocol to do autocomplete. The protocol is designed to accept a code block and a cursor position, and output completions. Hydrogen instead using a custom regex to send the kernel a completion string (with the cursor position field always set to the end of the string). Moreover, hydrogen disables autocomplete inside strings.\nFixing this seems like it would take a bit of work, but the good news is that it's language-independent and can bring other benefits besides path completion (e.g. completion of dictionary keys). I'm not quite sure how to read the entirety of the error message, but one thing that stands out is the attempt to use python 3 when python 2 is required.\nHave you tried following the troubleshooting guide and explicitly specifying a path to python2? e.g. PYTHON=python2.7 apm install hydrogen. I think the 404 is normal, but the \"permission denied\" errors are not.. Also, once transforms gets upgraded we can enable support for both vega 2 and vega 3.. Could you post an example of actual code that has this issue? (If you don't know how GitHub comment formatting works, you can paste some code into the comments, select it, and press the \"Insert Code\" button to have it be formatted as a code block)\nRunning indented code blocks should work fine most of the time, so a specific code block would help narrow down the issue.\n. Huh, this does look related to an Atom update. Though I'm not on the latest version of atom myself, at the moment.\nBTW even on Atom, 1.23.2, running an indented code block doesn't work if there's a comment after the :. It only works if the : is the last symbol on that line.. Does this issue still occur using the latest hydrogen update (2.2.3)?. For python, I use the %cd magic. This does require adding an extra line to the file to ensure the correct start location. I do think this issue deserves a better solution, though.\nIf applicable, you can also try changing the folder you're in when you start the notebook server. Maybe that will change the default directory assumed for remote kernels.. Looks like I'm not the only one running into this. This has actually been bothering me a lot ever since I upgraded Hydrogen around September.\nI want to point out that from my perspective (as the person who implemented the first version of the remote kernel connections), the screenshot above is a bug. The session list was designed to always use filenames instead of IDs.\nIf you click on the \"Python 3 | idle\" text in the status bar, there's an option called \"Rename session\". The name given there should be the one displayed in the kernel selector -- with the \"rename\" command providing additional management flexibility. Also if you open up the notebook in a web browser, it will also always list a meaningful name and not \"Session ...\"\nUnfortunately, there's been a lot of rapid change in 3 distinct pieces of software: Jupyter, the Jupyter services library, and Hydrogen. It now seems like the screenshot above happens for the majority of version combinations, even though originally it was originally designed as fallback code that would only trigger in less than 0.1% of situations.\nI'm not really sure why this is the case. I probably won't be able to investigate in detail in the near future, since the precise behavior depends on version combinations. I swear there is at least one version of Jupyter notebook out there that will correctly display filepaths.. Yes, currently session naming is quite broken.\nAfter taking a quick look, it looks like the fix might actually be quite simple (see #1247).. @kylebarron I know that this bugfix isn't precisely the feature you were requesting, so please let me know if there's some aspect of your workflow that hasn't been addressed with the latest release.. Looking forward to shipping the plugin API changes!. I suspect that relative imports simply don't work inside Jupyter. If you create a notebook test.ipynb inside utils/ and run from .init import variable1 from the notebook, I'm pretty sure you'll get the same error.\nBased on the error message, the issue is not that python can't find __init__.py but that data.py is being run as a main script instead of as a package. For example, running python utils/data.py is not the same as doing import utils.data from a higher level.\nThis behavior is quite disappointing, but to the best of my knowledge it's not exclusive to hydrogen. \nMaybe someone more familiar with IPython knows a solution. (For me personally, the way I get around issues like this is by using a package I wrote called xdbg and the %scope/%makescope magics it provides.). @lgeiger The altair examples are still up-to-date. It doesn't look like altair supports the newer Vega version, so for now I think the only way to get Vega 3 graphs is to write them manually.\nNote that JupyterLab has extensions that support the newer version of Vega, and this updates Hydrogen to match.. We've had several reports similar to this one on slack. Is it possible that the latest version of Atom is somehow messing up and not showing the rebuild message on first launch? Or is it just the case that the rebuild button is hidden inside the \"Incompatible Packages\" page and hard to access if you don't know it exists?. Could you try reinstalling hydrogen using the command line?\napm uninstall hydrogen\napm install hydrogen\n\nAn aside for hydrogen devs: a number of similar issues have been popping up during the past year. Reinstalling always seems to fix things.\nBut does anyone know why this is happening in the first place? There are enough bug reports to suggest a real problem with installation.. Do you have any hydrogen plug-ins installed, by chance?. If your JupyterHub installation is set up to accept tokens, token authentication should be the best way forward.\nThe cookie option is for the case where JupyterHub has some custom authenticator (e.g. LDAP) that's outside your control; it allows you to connect despite being a gigantic kludge. You can pull out the cookie by logging it to JupyterHub in your browser, opening the browser debug console, and running document.cookie. The cookie string can then be pasted into hydrogen (note that the string delimiters shown in the js console are not part of the cookie). I've run into this before as well. If fact I have muscle memory to always type a character and erase it every time I enter the remote kernel picker.\nThat said, I don't have any ideas about what is causing this or how to debug the issue.. Could you possibly try running hydrogen from github master?\nSupport for Vega 3 / Vega-Lite 2 hasn't been published in a hydrogen release yet, but if that's the only issue then the version from github should work.. Could you try with hydrogen from github master?\nThere is a commit that adds support for the latest versions of vega/vega-lite, but it's not in the latest official release of hydrogen.\nEdit: also, you may need to update the mimetype from application/vnd.vegalite+json to application/vnd.vegalite.v2+json. Have you tried installing hydrogen-python? (see also #862)\nA short summary of what is going on here: hydrogen is designed to be language-agnostic, so its ability to understand indentation behavior specific to Python is limited in some ways. So far there hasn't been consensus on how to handle multi-line indented blocks in a language-agnostic manner, which led to the creation of a plugin that tries to address this issue specifically for Python.. I believe this is the same issue as https://github.com/jupyter/notebook/issues/3407 (see there for a solution). This is a bug on the Python/IPython side.\nI don't know your requirements and don't use Windows, but my recommendations are:\n Upgrade to a newer version of Python (version 3.6, if possible)\n Make sure IPython/Jupyter installation is up-to-date\n* Anaconda tends to be a more reliable way of installing Python on Windows than the official downloads from python.org. What happens if you use the Hydrogen: Toggle Inspector command instead? I know that works for Python, but not sure about R. Before activating the command, your cursor should be at the object you're inspecting.\nThe ? syntax uses an older version of the Jupyter protocol that hydrogen doesn't support. The \"Toggle Inspector\" command uses a newer protocol.\n. This is the same issue as #1301. At the moment the only supported way of getting help messages about objects is by using the \"Hydrogen: Toggle Inspector\" command.\nThat said I think we should keep the issue in mind, because (a) incompatibility with other frontends is a problem and (b) the current inspector doesn't emulate the behavior of ?? in IPython, only the behavior of ?.. That message in the spec really dissuaded me from trying to implement payload support the last time I thought about it. However, \"their replacement is not yet implemented\" is not quite true. Hydrogen's Toggle Inspector is sufficient for help messages.\nThe problem is that:\n Patterns and muscle memory from other frontends don't work in the current version of hydrogen\n The Toggle Inspector command always sends detail_level = 0, but there needs to be an option to send detail_level = 1 to emulate the behavior of ?? in IPython.. Hydrogen allows connecting multiple files to the same kernel. You can put functions/classes in one file, and use the other for more exploratory code.\nYou can also log in to a Jupyter notebook server via your browser and create/open a notebook. Then you can then connect hydrogen to the already-running kernel, and the notebook web UI will share all variables with hydrogen.\n. > 1. clear all bubbles after restarting kernel.\nPersonally, the fact that bubbles aren't cleared has been a huge improvement for me. About a year ago hydrogen would always delete all bubbles when a kernel was restarted, which caused me to lose important experimental results more times than I can count. This behavior was changed in part to support #861 (the \"Restart and Re Evaluate Bubbles\" command).\nThe \"Hydrogen: Clear Results\" command will clear all results bubbles, which is safer because you have to explicitly run it.\nThat said, I do think that it may be worth marking or re-styling result bubbles that don't correspond to the current execution.\n\n\ndisplay the order of input like the nteract/notebook instead of a check mark.\n\n\nFor a multi-line result view, hovering over the \"X\" button that closes it will display the execution order. I had originally wanted to display the number somewhere more visible, but my CSS skills weren't up to the task.\nI think this would be a very good idea to have. My current thoughts on how to present this in the UI would be to either:\n1. Modify the border frame for multi-line results to display the execution count right below the \"X\" button (single-line results remain unchanged)\n2. Or: Display execution counts in the sidebar, where the line numbers are.. You may want to look at the \"Variable Explorer\" feature of hydrogen-python, which displays values of current Python variables every time code is run.\nCode links:\n https://github.com/nikitakit/hydrogen-python/blob/master/lib/main.js#L169\n https://github.com/nikitakit/hydrogen-python/blob/master/lib/main.js#L128\n* https://github.com/nikitakit/hydrogen-python/blob/master/py/install_kernel_plugin.py#L30. If you're using the hydrogen-python plugin, you can try disabling it and you may get a different behavior.\nThis issue boils down to the fact that hydrogen is language-agnostic, and knows nothing about Python syntax. Indentation is the only clue that it has about what code to run, and adding indentation inside parentheses can mess with it.\nThe best solution for now is to select precisely the code you want to run, or to use code cells. . Hydrogen is designed to support all programming languages, so you need to be somewhat precise in selecting what code to run. If your cursor is on line 22 and you select the standard \"run\" command, figuring out whether you actually meant to run all of lines 20-25 requires complicated python-specific logic that is not implemented.\nInstead, Hydrogen just runs the line you're on and any indented code block that follows:\npython\nelif guess_me > 7:\n    print('too high')\nThis is a SyntaxError because there is no corresponding if statement.\nYou can instead directly select lines 20-25 and run the selection, which will cover the branch of if/elif/else that applies. You can also use code cells to avoid selecting code every time.. @kylebarron It's great that you're taking a look at this!\nRegarding the patch here:\n\nIs there any situation where it would still make sense to strip whitespace from the end of the string? I can't think of one off the top of my head.\nIt might still be useful to strip whitespace when there is only one line of non-whitespace that's being run. I'm not sure how other kernels would react to single-line statements that are indented. That said, I may not have the best idea of what other kernels do because I mostly use Python.\nI'm OK with failing to run incomplete selections missing the indentation on the first line. I also wouldn't be opposed to adding a workaround that implicitly expands the selection to the start of the line, if that would add whitespace characters only.\nHave you tested the regular \"run\" command, without any selections active? Ideally if you place the cursor on an \"if condition:\" line and hit \"run\", it should run the entire if statement. (Issues regarding \"else\" clauses are TBD)\n\nI'd be happy merging this, assuming there aren't known regressions for other languages.\nI see this as a high-priority issue because it's quite annoying and affects a very popular language. If problems come up with other languages we can make this behavior grammar-dependent. My attempts to solve this exclusively in a plugin have all run into insurmountable difficulties, so I'm very much in favor of addressing this in hydrogen itself.. Re my point 3: Let's leave this for now to try to get this fix out faster. I want to clarify, however, that the original suggestion was not to infer the leading whitespace, but rather to read it directly from the text editor (and decide to include it or not based on whether there are any non-whitespace characters in same line as the start-of-selection)\nRe mixing tabs and spaces: If the whitespace in the original file is a mess, I think the correct action is for the programmer to fix it (Atom has some whitespace normalization commands, I think). I don't see a reason to do this in Hydrogen.\nRe my point 2: this is still the main one I'm worried about in terms of possible regressions. I know it won't be a problem for Python, but I have no idea how other kernels handle things. But that doesn't mean this PR has to be changed, unless an actual issue is discovered.\nIt looks like you already tested a few of the most popular kernels with this change, and I don't have any others in mind that might be problematic. Perhaps it makes sense to sanity check on multi-syntax documents though, since those use a different code path.\nDoes anyone want to see a particular kernel tested, or have other comments on this PR? Personally I'm in favor of merging now, letting it get tested on master for a little while, and then releasing.. @kylebarron Thanks for bringing this up.\nThis would actually be useful for a number of languages. For example, it turns out that IPython can autocomplete file paths within strings! I'd be in favor of enabling it.\nI'm actually not sure why it's disabled in the first place. @n-riesco do you have any idea? The git history shows you wrote the commit that excluded strings from autocomplete.\nWhile I'm on the topic of autocomplete, I just want to mention that hydrogen doesn't actually use the full power of Jupyter's autocomplete functionalities. The Jupyter protocols allow sending a block of text and the cursor position within that text, so autocomplete can happen anywhere in the code (see code and cursor_pos here). Instead of relying on the kernel to do language-specific processing, hydrogen manually truncates the code it sends to the kernel and never includes anything that's after the cursor. If there are worries that autocompletion within strings would pick up erroneous matches, using the full protocol could help address this.. This looks good to me.\nHave you thought about adding a plugin link to the README?. If you open a notebook via the web browser, does hydrogen allow you to connect to that kernel? (When selecting existing kernels, kernels that are associated with notebooks should be listed). If so, can you successfully connect to the pre-existing kernel and run code?. I've seen this issue before where you can access existing kernels but not create any new ones. I used the workaround of creating all of my kernels via the web ui.\nThis isn't a Windows-specific issue (I had it happen on a linux-hosted JupyterHub instance).. FWIW I have kernels set up for all of my conda environments. This seems to be the whole point behind having the modern kernelspec system, though I essentially have to do this because I only use remote kernels and don't want to start a separate notebook server for each environment. I always have trouble remembering how I set everything up, so a link in the documentation would be good.\nHowever, I'm at a loss why the scripts linked have to be so complicated. I certainly didn't use \"exec-wrappers\" to set up my kernels, and it's unclear why that would be necessary. My kernelspecs are as simple as:\njson\n{\n \"argv\": [\n  \"<path-to-anaconda>/envs/<env-name>/bin/python\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3 (<env-name>)\",\n \"language\": \"python\"\n}\nIf environment dependencies are necessary, the kernelspec json file supports an env key for just this purpose.. I just wanted to jump in and provide some past context, although I'm no longer involved in new hydrogen development.\nI had originally included this feature in the plugin API, but was instructed to remove it as part of code review (see #1179 and search for the callWatches flag). Of course, the boolean flag was just a first pass, and with greater effort it's possible to design a more general solution e.g.,\n- Converting watches into a plugin and adding a \"priority\" argument when installing middleware, so that plugins could choose to run before any watches trigger and only see user-initiated requests\n- Or, annotating each action with a more detailed description of its source (i.e. user-initiated, or the name of the middleware that triggered it)\nNow that the plugin API is already public, there are also compatibility considerations involved when changing the API.. Should be @start()\n. Consequence of singleton status, will comment there\n. Gateway kernel spawning works using the kernel name (not display_name), which is not part of the kernelspec.\nThis whole method gets rewritten in commit 2, where I address this in a more comprehensive way. (Kernel spawning is hairy enough that it needs its own commit, this shim is to minimize breakage in the intermediate stages)\n. Actually, nothing outside the constructor needs it.\nI think I'll keep it constructor-local, and fix the misreference below.\n. Extra @: should be local variable instead\n. onDestroy should never be null, because that would be a resource leak. (It's needed to de-list the session from the ZMQGateway. A callback is the easiest way to avoid circular references)\n. Seems doable in retrospect, but I'll need to check after writing the gateway code.\njupyter-js-services provides a number of functions as globals. I'll need to make sure that any place those globals are accessed has a reasonable way to obtain a ZMQGateway instance from either main or the kernel manager.\n. Remember to delete getKernelSpecsSync, which is no longer needed/used\n. This line gets deleted in the very next patch. It is here only to allow running this patch standalone without applying the next.\n(that said, renaming to spec._name costs me nothing, so I can do that when I rebase)\n. The current kernel doesn't need onDestroy because it is killed by calling KernelManager (now ZMQGateway), not the kernel itself.\nI am changing this such that calling the kernel's destroy directly is sufficient. To do this the kernel must know how to unlist itself from the ZMQGateway, which requires either a pointer to the ZMQGateway or a callback.\n. Right. You can probably tell which language I normally program in :wink: \n. Should be onResults message.content instead, otherwise autocomplete doesn't work.\n. Should say items = _.map specmodels.kernelspecs, (specmodel) =>\n. Use onAttach callback argument to call @setStatusBarElement()\n. I don't see how this makes sense. execute (without the underscore) creates a request ID, which is ZMQ-specific. The gateway-based implementation doesn't use request ID's (or rather, all request ID's are managed internally to jupyter-js-services, with all outside access using higher-level APIs)\n. I considered not having this function, but then there will be calls to the jupyter-js-services API directly from KernelManager. I decided it was a better idea to keep any calls to the external APIs confined to just a few files, instead of spread out throughout the codebase.\nI'll rename it.\n. Nice catch.\nThe correct fix is to not set it in the parent. (Execution callbacks are ZMQ-specific, because jupyter-js-services does its own callback management via promises)\n. I'll double-check, but I remember looking into this when writing the code.\nApparently the second argument (the binding for this) is required by the signalling API being used. If this is not passed I'm pretty sure it will cause an error to be thrown.\n. The instance of Session is created inside session-picker.coffee, but it needs to be converted into a GatewayKernel somewhere down the line.\nI decided that the GatewayKernel constructor should be called from KernelManager. But constructors must be sync while getKernelSpec is async (and needs to happen before the Kernel is considered fully constructed). Hence this method, which is essentially an async constructor.\nIf you want to get rid of this method, where do you suggest inlining this code? If it's inlined into KernelManager, suddenly there will be lines of code in KernelManager that can't be understood without reading the jupyter-js-services API docs. I chose to limit jupyter-js-services API access to just two files (session-picker.coffee and gateway-kernel.coffee), instead of spread out all over the place.\n. I checked again, and the code you suggested works.\nApparently the TypeErrors I was getting before were unrelated to omitting the second argument.\n. Not really. I think I copied the dependencies from somewhere (probably either the example code of the atom notebook), and I don't actually know package.json syntax.\nnpm is pretty bandwidth-hungry, so I'd rather not be downloading alternative versions with my current (poor) internet connection.\n. I see about user_expressions\nIn terms of atom notifications, this isn't the right place (IIRC this method isn't even called anywhere, because watches are also disabled in several other places, including the one which causes executeWatch would be called). I'll figure out the entire business with watches in a future PR.\n. Note that this is inside an if onResults? block. Is double-checking the accepted coding style here?\n. This is an override that's used by the parent class.\n. I'm confused about your question here, because the possibility of creating a new session exists in this very file!\n. Filtering by grammar isn't too hard, but will need some careful attention in a future PR.\n. This is tricky to implement, so I left it for the future. The challenges are:\n- Offering a selection of kernelspecs from the same gateway (there could be multiple gateways)\n- Deciding whether to offer any local kernelspec options (if so, the UI must clearly distinguish them from any remote options)\n- Cleanly shutting down the old kernel (\"switch kernel\" should kill the old kernel, by design)\n. They delegate to the unless clause of onSession, which is responsible for offering the user a choice of kernelspecs, and then starting the chosen kernel. The result of selecting the \"[new session]\" option are the same.\n(model is a variable that contains information about an existing session. It is set to null to indicate that a new session/kernel should be created instead)\n. You're right, I got rid of it.\n. Thanks for pointing this out.\nI'm not sufficiently familiar with atom to know a fix offhand, so I've made a note to look into this in the future (i.e. another PR).\n. I'm defending against a race condition where the active grammar changes between the time that the WSKernelPicker is activated, and the time a kernel is selected.\nTechnically this should never happen. However the WSKernelPicker can have significant delays over poor network connections, and perhaps some tab-switching from another plugin can sneak into the event loop during that time.\n. Note that @kernel is set to null at startup, but is set to undefined by onEditorChanged whenever the current tab doesn't have a running kernel (see KernelManager::getRunningKernelFor).\n. As far as I can see from the code, kernel.grammar is set to the value of editor.getGrammar() at the time when the kernel is constructed (following the call chain from main.coffee::createResultBubble)\nThere is a separate language field, but I don't believe that it is in play here.\n. Right. No wonder I felt that I hadn't ever seen if ... is not in hydrogen before.\n. I'm aware (though this came as a surprise to me, because I don't think hydrogen coding style generally uses implicit returns)\n. After re-reading the jupyter messaging spec, it looks like you're right.\nI'll remove this handling here to avoid confusion\n. Please no. The current situation exists to avoid accidental data loss, which is a major concern for me.\nIf I'm just temporarily attaching to a long-running kernel hosted elsewhere, I don't want the detach operation to forcibly kill the kernel! (destroyRunningKernelFor is called anytime you switch between kernels.)\nPlease let me know if there's any additional comments I can add to the code to make sure that people refactoring the code in the future are aware of this.\n. That makes sense\n. No need for return; it's misleading to put it right after a throw\n. Same\n. Note that destroyed is intentionally a part of the plugin API (i.e. plugins are expected and encouraged to use it). It can be switched to a property that proxies to _kernel, but removing it entirely is a breaking change. For a plugin API, stability is more important than perfection -- i.e. I would encourage not getting into the habit of making breaking changes.\n. This is so that a plugin always gets the same wrapper object for the same kernel (same reference, not just equal-by-value). This should be true no matter the source API call, e.g. onDidChangeKernel vs. getActiveKernel.\nPlugins need to be able to store metadata per-kernel. I decided to go with the approach of letting them attach custom fields to the wrapper object, and expecting the fields to be there later on. (It's possible to make a breaking change to some uuid-based thing, but that's separate from ES6 migration. Especially since hydrogen has no native notion of kernel ids.)\n. Sorry, could you explain the race condition? I don't see any. Note that title() gets called during the mouseover event, not at construction-time.\n. Name clashes are definitely a real issue, but the pattern you suggest is not an ideal solution either. If you listen to onDidChangeKernel events, you get wrapper objects and not any custom struct. So each plug in will need to end up rolling their own dictionary lookup to fix that. I think adding some methods to encourage better namespacing (e.g. getData (namespace)), or figuring out how to return a different set of wrapper objects to each consumer, are more promising approaches.\n. Thanks! I'll go ahead and change that.. I agree, encouraging everyone to open their own issue may flood the tracker.. Note that this code is incorrect if there are multiple listeners: as soon as one cancels the execution no more listeners down the chain should be run. The Emitter class doesn't provide this kind of event propagation behavior, so I'll need to figure out some alternative.. It starts a new session (as opposed to connecting to an existing one). Session.startNew returns a promise, and this.onSessionChosen accepts a session and uses it to create a WSKernel. bind helps set the this value correctly.. The name actually refers to the server (not to a particular kernel), so better to say something like \"Remote server\".. This is a bit unclear because you have 2x \"this\" and 1x \"it\", and I'm not sure what they refer to.. Just saw this: is the correct flag --alow-root or --allow-root?. Note that keeping around multiple versions is intentional. They can still point to the same place because the new version is a strict superset of the old one. . If you think that callbacks are too old-fashioned, it may be possible to convert these to async syntax. Note however that onResults gets called multiple times, so this will rely on async iterator features that are quite recent.. This should call the middleware. I'll fix that in the next patchset.. I see that there's a restart argument in the messaging protocol, but does that argument even serve a useful purpose that hydrogen cares about?\nIf not, maybe it would still make sense to combine restart and shutdown in the middleware? By this I mean that restart: ?boolean will differentiate between true restart/shutdown rather than controlling the messaging protocol argument.. Actually what I said above is already the case in the code: setting restart=true here will initiate a true restart, not just toggle a flag in the shutdown message.\nI'm not sure that exposing this restart flag to plugins would be useful in any way. (That said, the case can be made that separating shutdown/restart middleware will avoid needless confusion.). Actually, I have no idea about this. I'm not very familiar with the edge cases of javascript typecasting.. This is not new code I wrote. I just moved from a different file.\nApparently it's needed for flow to work (npm run-script flow). Like I said I didn't write it so I haven't looked into this.. But they have a different interface!\nKernelTransport has onResults: (message: JupyterMessageObject, channel: string) => void, and Kernel has onResults: (message: HydrogenInternalUndocumentedFormatObject) => void\nI thought about inheritance, but it would involve a major rewrite of hydrogen to remove all use of the hydrogen-internal format for results. Middleware is a standard term [1] [2]. I do not call in a plugin because one hydrogen plugin can create multiple kernel middlewares.\n[1] https://docs.djangoproject.com/en/2.0/topics/http/middleware/\n[2] https://expressjs.com/en/guide/using-middleware.html. This method converts from onResults: (message: JupyterMessageObject, channel: string) => void, to onResults: (message: HydrogenInternalUndocumentedFormatObject) => void. But plugins must never see HydrogenInternalUndocumentedFormatObjects. So the conversion must happen after all middleware has run (i.e. in the same class as the middleware). Needed for flow only: https://flow.org/en/docs/types/interfaces/\nIt doesn't provide any functionality.. I ran git grep and double-checked every usage of restart before changing this.. Say a plugin defines execute(next, ...) which calls next.execute. Note that the first argument of next.execute is not next, so it need to have a different type.. Looks like I got things to typecheck without this hack, so it should be gone next patchset.. I added the param docstring.\nIn terms of actually documenting the API in detail, I'd like to leave that to a future PR. I'm working on some plugins for my own use, and examples would help a lot in terms of explaining what things do.. Note that .bind is new as of this patchset.\nIf the middleware passed in is a class instance rather than a raw Object, I think it makes sense for this to do the right thing. I think bind is needed to accomplish this (though I'm not quite familiar enough with javascript to know for sure).. Plugins can inject results messages that they generate. I thought it would be useful to validate these, so the check is needed by both ZMQKernel and Kernel.\nThat's why it's currently in this really awkward place of being defined for KernelTransport, which doesn't use it, and being public.. I can remove the checks from ZMQKernel if you'd like. But won't there be an issue when users have a non-compliant kernel, and one of their plugins errors as a result? This would cause an issue to be reported to the plugin developer, which isn't necessarily right.. I handle this by having _executeStartupCode specify a dummy results callback (message, channel) => {}.\nWouldn't a one-time dummy callback be cleaner than having if (onResults) throughout the entire codebase?. In terms of cascading effects, there aren't any because kernel.js still defines both execute and executeWatch (for now).\nI'm not sure that switching argument order in the public plugin API would have a positive effect. Here's some code I have from a plugin I wrote: \n```\nnext.execute(code, callWatches, (msg, channel) => {\n  if (!makeReply && msg.parent_header) {\n    makeReply = createMessageFactory(msg.parent_header);\n  }\nonResults(msg, channel);\n  if (callWatches && msg.header.msg_type == \"execute_reply\") {\n    if (this.enableVariableExplorer){\n      this.variableExplorerHook(next);\n    }\n  }\n});\n```\nThe results callback is quite long, and note that callWatches is a mandatory argument because a plugin will generally passthrough that argument. That said there are definitely more details to think through wrt callWatches. What do you think?. So this is tricky: let's say a plugin splits one execute request into three. Then you'd only want to run watches after the last request, because the three requests are part of a single user-initiated action.\nThe callWatches boolean is really the \"last-in-user-initiated-action\" boolean. This is a mess and should be reconsidered in the future, but I don't want to block this PR on the lack of a good solution.. Oh I see. I'll look into this: it's definitely the correct thing to do, just a question of how hard.. Of course I'd be happy to hear any ideas of how to handle this more cleanly!\nUltimately more issues in this vein might arise: for example Jupyter execute messages have a store_history option that may need to be toggled by plugins to exclude non-user-initiated requests.. > We should think a watches as just one more plugin in the chain.\nThat only works if watches is the very first plugin in the chain. It doesn't work if it's not the first plugin.\nEventually we can introduce the notion of plugin priority (basically in addition to execute/inspect/... fields, have a priority field that's a number). But this is postponed for the future.. To be clear, the plan is to eventually replace callWatches with an object that specifies some of the following:\n Which user-initiated action is this call part of?\n Is it the first call for this user-initiated action?\n Is it the last call for this user-initiated action?\n Are the contents of this request something from the user's code, or something generated by the plugin?\n* Should history be logged with the kernel for this request?\nI certainly don't want to think through all of the above in this PR.. > To be more precise: the request code of a watch wouldn't be affected by any of the plugins, but the response message would be affected by all the plugins.\nNot sure I understand what you said. Could you rephrase that?\nTo repeat my point here: let's say the user made an execute request for foo(). Then a plugin split that into two execute requests: foo() and bar(). If the watches plugin comes later, it would execute watches twice: once after foo() and again after bar(). This is wrong. Ergo watches plugin must come first, or callWatches boolean must exist.\nEdit: when I say \"first\", I mean \"closest to returning values to Hydrogen\" and \"farthest away from receiving values from the kernel\".. It's not one-time thing when your next two comments on this PR ask me to change the same thing \ud83d\ude1b. Note that I only check if (middleware.interrupt) once, not at every request (this is what I mean by \"precompiling the middleware stack\"). I can't assume that middleware.interrupt will continue to exist in the future -- flow will actually warn about this type safety error if I don't store a copy here.\nMore on precompiling vs. not in a bit -- there are a lot of technical details so it'll take me some time to write them up.. I can't say I like the name either. Haven't come up with a better one, though. Any suggestions?. > there is no need for plugins to receive the next plugin\n\nPlugins should invoke the next plugin directly.\n\nThe above two statements are contradictory.\n\nI don't understand what you're trying to say. Can you provide a concrete example (preferably using code)? Here are two sample plugins that you could consider as coexisting at the same time:\nPlugin 1: duplicates all execute requests\njs\n{execute: (next, code, callWatches,onResults) => {\n  next.execute(code, callWatches, (message, channel) => {\n    onResults(message, channel);\n    if (isLastMessage(message)) {\n      next.execute(code, callWatches, onResults);\n    }\n  }\n}}\nPlugin 2: modifies inspect requests\njs\n{inspect: (next, code, cursorPos, onResults) => {\n  next.inspect(modifyCode(code), cursorPos, onResults);\n}}. Ok, glad there's no contradiction! Point about not understanding what you're saying still stands.. Not sure I fully understand you, but maybe this will help.\nEarly on in this PR, I proposed three alternative plugin APIs:\nA.\njs\naddMiddleware({\n  execute: (next, code, callWatches, onResults) => ...\n})\nB.\njs\naddMiddleware((next) => {\n  execute: (code, callWatches, onResults) => ...\n})\nC.\n```js\nclass MyMiddleware implements MiddlewareInterface {\n  constructor(next) {\n    this.next = next;\n  }\n  execute(code, callWatches, onResults) {\n    ...\n  }\n}\naddMiddleware(MyMiddleware); // hydrogen calls \"new\" for you\n```\nSo while I don't understand your point about getting rid of \"next\", you can definitely stuff it somewhere else (e.g. in a constructor).\nThe current code implements option A based on my understanding of a suggestion by @lgeiger . The code\njs\nconstructor(\n    middleware: HydrogenKernelMiddlewareStack,\n    next: MiddlewareAdapter | KernelTransport\n  ) {\n    this._middleware = middleware;\n    this._next = next;\n}\ndoesn't work because now\njs\nthis._middleware.interrupt(this._nextAsPluginType);\nis invalid (since this._middleware is an instance of HydrogenKernelMiddlewareStack, and HydrogenKernelMiddlewareStack.execute does not take next as its first argument).\nYou have to do something like options B or C in my previous post to address this.. next.execute can't take next as it's first argument -- when I call next.execute how do I know what the next-next plug in is?. So you're saying that we have every plugin do next.execute (next.next, ...) every time it wants to call something?\nAnd for the plug in to have the option of skipping it's children (since now next.next is public API)?\nI think it's worth the extra code complexity in hydrogen to save plugins the hassle and plugin-side complexity of doing this. And to not open the possibility of plug-ins abusing this, e.g. by manually walking the next chain and modifying it.. (Please do respond on your own time)\nIn the code snippet you posted above, you have class MiddlewareAdapter implements HydrogenKernelMiddleware and middleware: HydrogenKernelMiddleware, i.e. both of them implement the same interface.\nYour signature for MiddlewareAdapter.execute is execute(code: string, callWatches: boolean, onResults: ResultsCallback) => void. You also call next._middleware.execute(next, code, onResults);.\nThese two signatures are incompatible (one starts with next, the other starts with code), so your proposed code above doesn't typecheck.. OK, now the code typechecks.\nIn the code, you call next._middleware.execute(next, code,onResults);, which is a method that a plugin defines. Consider how a plugin would implement a no-op execute method that passes through all requests.\nUnder your proposal above, that would look like:\nkernel.addMiddleware({\n  execute: (next, code, onResults) => {\n    next.execute(next._next, code, onResults);\n  }\n})\nAm I right?. Right, I see what you're suggesting. The change you proposed above definitely makes Hydrogen-internal code cleaner.\nHowever, it also allows broken plugins like the following:\nI.\njs\nkernel.addMiddleware({\n  execute: (next, code, onResults) => {\n    next.execute(\n      next._next._next, // My plugin doesn't like what comes next, so skip it!\n      code, onResults);\n  }\n})\nII.\njs\nkernel.addMiddleware({\n  execute: (next, code, onResults) => {\n    next.execute(\n      next, // Infinite loop, here we come!\n      code, onResults);\n  }\n})\nBy introducing an extra interface within Hydrogen, we permanently disallow plugins like I and II. I think it's worth it.\n(Edit: fixed example I). That's a better name for it! Thanks for coming up with it.. Note that the more straightforward code:\njs\nif (this._middleware.execute) {\n  this._middleware.execute(..., protectFromInvalidMessages(onResults));\n} else if (this._next instanceof KernelTransport) {\n  this._next.execute(..., protectFromInvalidMessages(onResults));\n} else {\n  this._next.execute(..., onResults);\n}\ndoes not pass flow. Flow thinks that protectFromInvalidMessages is capable of deleting this._middleware.execute.\nI've settled on this approach over a $FlowFixMe because the $FlowFixMe would be overly-broad and may prevent flow from catching real errors.. ZMQKernel still needs some validity checks because it proceeds to do things like const { msg_type } = message.header;, which assumes that message.header exists.. Input requests are handled here. (Note that GitHub by default doesn't render the diff for this file because it's too big). @n-riesco So you think we should drop this code now, instead of waiting for a few releases?\nI guess I thought a deprecation-notice approach will catch if there are any non-compliant kernels out there that would break as a result of removing this functionality. (In the master branch, all input requests are replied to, even if they are not in response to an execute request.). I'm not aware of any kernels doing this. I'll push a commit to get rid of these lines.. Side note: there's a race condition if the very first line of Python code you run in hydrogen is input(). It looks unrelated to this PR, but worth looking into at some point.\nEdit: can't reproduce anymore, but maybe it's still there. I have no idea because I can't trigger it anymore. But I swear it happened a few times in a row.\nMy best guess is that when a new kernel is created and a blue \"Hydrogen Kernels updated:\" box appears, the input box never gets rendered. But I can't reproduce anymore.. It's completely unrelated to this code change.\nHere's a simple issue:\n Run input() in Python\n Wait for input prompt to appear\n Activate the command panel using cmd-shift-p\n Watch the input prompt go away permanently\nI think the race is probably with some graphics-related event (similar to the command panel activation via cmd-shift-p). ",
    "ngr-t": "Emacs's package ESS manages multiple processes in almost the same way as what @lgeiger propose. Adding to that,\n  - ESS has \"switch-process\" command so a user can change the process for each buffer anytime (s)he wants to (maybe it corresponds to \"the case of multiple kernels for the same file\").\n  - We can rename processes (to be precise, rename the buffers on which the results are shown)\nI have used ESS and thought the way as sufficiently simple and powerful, though sometimes I'm confused when multiple processes are running. I wish Hydrogen had a similar feature.. Thank you for rapid fix!. ",
    "X-G": "It works fine!\nThanks for your works on this wonderful package!\n\n. Thanks Will.\n. ",
    "minad": "should be fixed in sciruby/iruby master. But what about implementing signatures in hydrogen?\n. Maybe my fix wasn't correct and @willwhitney can help out when he has time. I am totally not into atom/hydrogen, haven't used it yet.\n. @willwhitney this means your ruby version is too old. But the problem in iruby with no signatures should be fixed.\n. ",
    "kaibioinfo": "I reinstalled iruby from sciruby/iruby master. But it is still not working yet. The complete shell output is\n[32394:0602/155941:INFO:CONSOLE(97)] \"Available kernels:\", source: /home/kaidu/.atom/packages/Hydrogen/lib/kernel-manager.coffee (97)\n[32394:0602/155941:INFO:CONSOLE(84)] \"sending execute\", source: /home/kaidu/.atom/packages/Hydrogen/lib/kernel.coffee (84)\n[32394:0602/155941:INFO:CONSOLE(100)] \"<IDS|MSG>,,{\"msg_id\":\"69fbfbca-4bde-4d7b-aca3-65a6ad760382\",\"username\":\"\",\"session\":0,\"msg_type\":\"execute_request\",\"version\":\"5.0\"},{},{},{\"code\":\"x=5\\nx\",\"silent\":false,\"store_history\":true,\"user_expressions\":{},\"allow_stdin\":false}\", source: /home/kaidu/.atom/packages/Hydrogen/lib/kernel.coffee (100)\n[32394:0602/155941:INFO:CONSOLE(133)] \"shell message:\", source: /home/kaidu/.atom/packages/Hydrogen/lib/kernel.coffee (133)\n. It is working now if I save the file before running hydrogen!\nIt's a bit strange, as in the console output it seems that hydrogen is sending the expression and not the filename. However, saving the file solves the problem.\n. ",
    "holyjak": "Indeed\n\nForget software. Strive to make an impact, deliver a valuable change.\n(V\u00e6r s\u00e5 snill og hjelp meg med \u00e5 forbedre norsken min \u2013 skriftlig og\nmuntlig. Takk!)\nJakub Holy\nSolutions Engineer | +47 966 23 666\nIterate AS | www.iterate.no\nThe Lean Software Development Consultancy\n- http://theholyjava.wordpress.com/ -\n- juni 2015 17:28 skrev \"Kyle Kelley\" notifications@github.com:\n\nIt's the IJavascript kernel I assume (I just read n-riesco/ijavascript#31\nhttps://github.com/n-riesco/ijavascript/issues/31).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/52#issuecomment-110041573\n.\n. I like the way Light Table works: returning the result of the statement\n(even if being undefined) and having a separate output view where I can go\ncheck for side effects. Though anything is much better than nothing :)\n\n\nForget software. Strive to make an impact, deliver a valuable change.\n(V\u00e6r s\u00e5 snill og hjelp meg med \u00e5 forbedre norsken min \u2013 skriftlig og\nmuntlig. Takk!)\nJakub Holy\nSolutions Engineer | +47 966 23 666\nIterate AS | www.iterate.no\nThe Lean Software Development Consultancy\n- http://theholyjava.wordpress.com/ -\n- juni 2015 19:36 skrev \"Nicolas Riesco\" notifications@github.com:\nI've quickly skimmed through Hydrogen's code. If I understood correctly this\nhttps://github.com/willwhitney/hydrogen/blob/2d2ae6e49e556a45c39231c758dd57afda56202d/lib/result-view.coffee#L78,\nwhen a kernel returns a result, Hydrogen doesn't show what was written to\nstdout.\nI'm planning to add a flag to IJavascript to let the user silence undefined\nresults (so that it plays nicely with Hydrogen). Most likely, I will make\nthis the default behaviour.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/52#issuecomment-110086419.\n. ",
    "essicolo": "Hydrogen works fine with Python, but the spinner lasts forever with R. I'm on Windows 10 with Atom 1.12.6. I have installed version 0.7 of the IRkernel with conda. I have added R to the system path, but I'm not familiar with this. Maybe I did it wrong:\nC:\\Program Files\\R\\R-3.3.2\\bin\\x64\nNo error message in Atom. Just Hydrogen telling me on start that the Python and R kernels were updated.. Thanks. After further testing it seems that the problem happens only when I use a specific function before plotting. This function might alter the default R graphic settings. Closing!. ",
    "stared": "Thanks. Installing through command line works (and I got no warning or errors).\nBut in Atom it works (i.e. executes lines, provides autocompletion) but instead of results shows white boxes. (As it might be related to my previous problem, I keep this in this thread.) Do you have any ideas what it is?\n\n. I see - it is a different thing. I tried to change styles and for light themes it works; for all dark themes I have it is unreadable (for Monokai - almost visible).\nBut in this case - isn't it an issue with box color? (How can it be styled?)\n(And for the main topic - any ideas why from-Atom installation did not work for me (permissions? different stuff?).)\n. @willwhitney I don't know why I missed the last sentence, my bad.\n(Maybe because it was not near to command line commands or because I didn't know command line installation for atom, let alone - that it is different.)\nI use Monokai, for Python 2.7, no Python-specific packages. On my computer all dark themes (including built-in) look unreadable.\nI had some custom styling, but switching it off made no difference. \n. Atom Dark / Monokai.\nOn 09 Jun 2015, at 18:52, Will Whitney notifications@github.com wrote:\n\nNo worries!\nWhat UI theme and syntax theme are you using?\n\u2014\nReply to this email directly or view it on GitHub.\n. \n",
    "tscholak": "That is interesting. I just gave that a try. It seems I can connect,\n$ ipython console --existing kernel-59784.json\nIPython Console 3.1.0\nbut I don't get further than that. Maybe I should say that the python script is still running. I want to interrupt it, pickle as much as I can, and then restart atom.\n. Success! Thanks a lot!\nHope that will help others, too.\n. ",
    "davidthewatson": "No, but that worked. Thanks!\nOn Fri, Jun 12, 2015 at 10:25 AM, Will Whitney notifications@github.com\nwrote:\n\nWas Atom launched from the command line when you tried to update? Does apm\ninstall hydrogen work?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/58#issuecomment-111512095\n.\n. \n",
    "jkroso": "I just had the same issue and apm rebuild fixed it\n. ",
    "suranah": "Thanks Will! Apologies for the delay in replying, did not get time for hobbyist projects where hydrogen would have helped.\nI could not run apm rebuild, due to some issue with hashring:\n``\nnpm ERR! Darwin 13.1.0\nnpm ERR! argv \"/Applications/Atom.app/Contents/Resources/app/apm/bin/node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/harshitsurana/.atom/.apm/.apmrc\" \"--userconfig\" \"/Users/harshitsurana/.atom/.apmrc\" \"rebuild\" \"--target=0.22.0\" \"--arch=x64\"\nnpm ERR! node v0.10.35\nnpm ERR! npm  v2.5.1\nnpm ERR! code ELIFECYCLE\nnpm ERR! hashring@1.0.3 install:node-gyp rebuild`\nnpm ERR! Exit status 1\nnpm ERR! Failed at the hashring@1.0.3 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the hashring package,\nnpm ERR! not with npm itself.\n```\nAnd when I tried just apm rebuild hydrogen it unfortunately did not solve the issue inside Atom.\n. ",
    "albop": "I have IPython 3.1:\n```\n  ~  ipython\nPython 2.7.10 |Anaconda 2.2.0 (64-bit)| (default, May 28 2015, 17:02:03) \nType \"copyright\", \"credits\" or \"license\" for more information.\nIPython 3.1.0 -- An enhanced Interactive Python.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://anaconda.org\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\nIn [1]: \n```\nHere is a screenshot with developper panel:\n\n. Here is one screenshot: \n\nBy curiosity, I tried to understand what happens in kernel.coffee. It looked like the functions onIOMessage and onShellMessage were never called. Googling atom+github+socket and finding [https://github.com/atom/electron/issues/1833] I came to suspect a problem with libuv.\nI still have no idea of what is really going on, but upgrading from libuv1-dev to libuv3-dev fixed the bug. \n. ",
    "SuperShinyEyes": "I installed hydrogen on Ubuntu 12.4.05 64bit. I have Ipython 3.2.0.\nMy problem is not about installation but the excution of hydrogen.\nI don't get any error when I hit ctrl-alt-enter, but an infinite loading symbol comes next to the code.\nI tried to install libuv3-dev by 'sudo apt-get install libuv3-dev' but I get 'unable to locate the package'.\nDoes anyone have any idea?\n. Sorry for the late response. I didn't need ubuntu at work so I didn't look at this issue anymore.\n. Hei willwhitney,\nThanks for the reply! It works like a charm after I killed Atom. \nI thought reload would be enough but apparently it wasn't.\nIpython UI is little different from what I expected.\nDoes Hydrogen support an ipython shell that is hooked up with Atom?\nFor instance in emacs I could do:\n\nIn the upper pane I have a script opened and ipython shell in the below. I could run the script codes selectively on ipython shell. I think being able to use the shell comes quite handy when you try to fix an error.\nThanks for the great package anyway! :)\n. @willwhitney Can you elaborate on connecting the same kernel? I've never worked with kernels so I have no idea what you are talking about :(\n. @willwhitney I couldn't find the Developer tools section on my Atom. \nMy Atom is 1.0.3 and I use Mac OS X 10.10.4.\nI also tried to open the repository in developer mode and find Developer tools but that didn't succeed either.\n\n. Thanks for the comment Will!\nOk I saw the console window but my console wouldn't show the same output like yours.\nInstead it looks like the screenshot.\n\nI also tried to find hydrogen directory by \nbash\nsudo find . -type d | grep 'hydrogen'\non my terminal but coudln't find .../hydrogen/kernel-configs/...\n. Ok I solved the issue.\nMy iPython kernel jsons reside in \n~/.ipython/profile_default/security/\nAnd \"the message\":\n``\nkernel process received on stdout: NOTE: When using theipython kernel` entry point, Ctrl-C will not work.\nTo exit, you will have to explicitly quit this process, by either sending\n\"quit\" from a client, or using Ctrl-\\ in UNIX-like environments.\n....\n```\nonly appeared at the beginning of execution of hydrogen.\nThanks a lot for your patience Will but can you explain how it works under the hood? What do those json files do?\n. I think hitting an 'esc' key would be a better choice? \nFrom time to time you get a really long line of return value and it's hard to close that result box. \nIt's quite annoying to enter newline and hit backspace to remove the newline just to remove the output. \nThough 'esc' key might collide with other behaviors :\\\n. ",
    "sho-87": "I would love to see this as well.\nI really want to move away from Spyder (especially given its recent problems with Windows 10) but the variable explorer keeps me using it. Hydrogen with the watch list is a huge step in the right direction, but its not quite the same thing.\n. @willwhitney any updates on your work with the jupyter team and whether this feature is likely to be added in the near future?\n. ",
    "onyxfish": "I'd love to see this too. I've been tracing through Jupyter trying to figure out what would be necessary to support this sort of case globally and it seems like it could potentially be extremely complicated. The jupyter_client spec would need to implement some concept of a \"variable\". In the most basic case this would map to the contents of Python's globals(). However, in order to support jupyter's pubsub model you would need debugger like control over the execution environment. I'm not even sure it's feasible to do this in languages with less introspection than Python.\nI'm wondering if an alternative to waiting for all this infrastructure might be to build out the watch list into a more automated UI. For instance, can we piggy-back on Atom's grammars to determine if the user's cursor is on a variable and display an \"Watch this variable\" button popup? Or maybe it's in the right-click menu?\n. Or, \"run to selected line\". This is the behavior I expected when I initially \u2318-\u2325-\u21a9 and hadn't executed lines above.\n. Hmmm, that doesn't seem to be working for me. I'll take a closer look into debugging it. I'm pretty seriously in love with what you've built here.\n. That is also great to hear. :) I think this one might have been a red herring. I just got it to work after a full terminal restart. It's possible I had the wrong env active. Closing for now. Thanks!\n. I may do that! I'm not at all familiar with the architecture of Atom, but I'll poke at it and see what I can figure out. Thanks!\n. Sat down and took a first whack at this. The good news: it's definitely possible. I've got a proof of concept that adds a class to lines in the \"selection\" case only. Kudos to you for having readable code. The bad news: I can't get the damn class style to show up, nor is the marker invalidation working in the way the documentation describes. I'm certain both of these things are my error. I'm going to take a break and I might take another crack at it later this weekend.\n. Couldn't let it go. I've got it about 75% working on my master: https://github.com/onyxfish/hydrogen\n. Sounds great, thanks for the tips. I'll send you a PR as soon as I can get it finished up. (I also need to re-implement your special casing for Ruby.)\nC\n. Fixed the highlight/contrast issue and the blank line trimming. Trying to replicate the other traceback you linked to. Spinning up a lua dev environment now.\n. So, I'm still setting up my build environment, but I'm noticing that lua folds differently than other languages in atom. I'm wondering if this could be an issue with the lua language module:\n\n\n. Okay, I see now. The difference in how lua folds means that even though this row triggers the \"end\" special case, that logic can't find the correct row range because \"end\" is not considered part of the fold. I believe this code from before the refactor was addressing this case:\nif @getRow(range[1] + 1).trim() == 'end'\n    range[1] = range[1] + 1\nHowever, this code, for languages that fold \"correctly\" could cause one extra line to be executed, if end wasn't followed by whitespace.\nThoughts?\n. Hey, I can try using indentation--that would be my best guess for something that will work. Although that's only truly reliable for languages with significant whitespace. I didn't realize until I started digging into this that the language folding is implemented in such an approximate manner. The Atom grammars themselves don't define the fold points. (Which is surprising, because the Textmate spec the grammars are based on does.)\nI've been wrapped up in starting a new job this week, but I'm starting two weeks of vacation next week so I can take a deeper dive on this then.\n. It works except for the whitespace issue. Unfortunately I've been totally absorbed in my new job so I haven't had any time to figure out the solution to that problem. If somebody wants to jump in here they should feel free.\n. Sounds good. I'll take a crack at it when I have a little time.\n. ",
    "faroit": "Wow, this is awesome! \ud83c\udf7e \nFrom my own experience, I did never used these kind of advanced features in MATLAB\u00ae etc., type and shape is pretty much all I need... so you nailed it \ud83d\udc4d \nI will have a detailed look later and I guess it makes more sense to continue discussion in the python plugin. ",
    "AntonisKoutounids": "@nikitakit This is really nice. \nSave and load is crucial I think. Many people use python for data science and machine learning tool. So, save and load a workspace is really useful.. ",
    "ktavabi": "So this would be a fantastic feature especially if it were more fluidly available i.e., opening up once workspace is populated by user defined variables. Nevertheless, I managed to toggle it on and recieved...\n\nNo introspection available! \ud83d\ude1e . \n",
    "johndpope": "so awesome work @nikitakit  - \nTo be upfront - I stumbled across this library after looking at ways to integrate livepython with ipython. \n@agermanidis - managed to expose a variable explorer which works well and I love it's simplicity and playback feature. \nhttps://github.com/agermanidis/livepython/\n\nI was looking at this code base - and looking to plug in the ipython capabilities to like spyder ide \n/ that is I want to retrofit hydrongen into livepython. I subsequently found another sidecar project which is almost integratabtle.\nhttps://github.com/nteract/sidecar/issues/46\n\nthen read that there's nteract which has plotly all out of the box with nice ui candy.\nmy use case is I want to launch tensorflow training python app from terminal and be able to inspect variables print graphs / dataframes like spyder ide. my goto editor is visual studio code -  but they don't want anything to with a variable explorer - \nhttps://github.com/Microsoft/vscode/issues/29971\n. ",
    "ailiyasi11": "hi, I am new to this. How do you open this feature? I am using atom with python 3 kernel, where do you run Hydrogen Python: Toggle Variable Explorer ? in script or? @nikitakit . ",
    "kylebarron": "Press ctrl-shift-P to bring up the command palette. That's where you run all the Atom commands. You also need to install the hydrogen-python package to get the variable explorer. You can search for that in the install menu.. Closing as fixed in https://github.com/nteract/hydrogen/pull/1501. This is as solved as possible through the use of cells and with hydrogen-python so I'm going to close.. @rgbkrk \nIs the transfer of image content to the clipboard a different process than the transfer of text to the clipboard? I.e. is it difficult at all to put onto the clipboard, or is it just not exposed in the UI?. I looked a little into the APIs. It appears that Hydrogen currently uses Atom's clipboard API, which seems to only support writing text and not an image.\nAtom's clipboard API seems to be separate from Electron's clipboard API, which does allow for writing an image to the clipboard, but it must be a nativeImage, which seems to only allow PNG or JPG formats.\n. What would others think about a PR that implements introspection as a tooltip? I'm thinking of something similar to the tooltip shown in @lgeiger's ide-python package. It could be turned off in the settings if desired (i.e. if introspection takes too long).\n\n. Will do. Wasn't sure whether to comment or add a new issue.. @BenRussert up to you whether to close this issue.. The kernelspec isn't mac specific. Run jupyter kernelspec list --json to see the kernelspecs installed. Yes, in order for Atom to inherit a shell's environment variables, it has to be started from inside that shell.. @thomasbazeille   you need to update to a newer version of Atom. @mohitv789   You have a random \"\"\" at the end of one of your lines\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 0)\"\"\". @BenRussert    Any further thoughts about an interactive tutorial?. I have no understanding for how complicated it would be. I kind of think that written documentation gives more bang for your buck, and it might be a better use of time to just create a written tutorial.. There's actually a setting named foldEndPattern that fixes this from the grammar side. Creating PRs for both language-python and MagicPython now.. @wesinator \nTry:\npython3 -m ipykernel install\nEdit: or specifically\n/usr/local/bin/python3 -m ipykernel install. I  think that's the same as https://github.com/nteract/hydrogen/issues/1538. What's the output of jupyter kernelspec list --json?. @wesinator  \nThe argv part of the kernelspec output means that when you start Jupyter, it tries to run the Python executable found at /usr/local/opt/python/bin/python3.7. If that's not the Python you want to run, you should change that. That's set automatically to be the same Python as is run during the python -m ipykernel install step. So it sounds like you have multiple Python 3 installations on your machine.. There will be more documentation once https://github.com/nteract/hydrogen/pull/1498 gets merged. It is, it's the \"export notebook\" command, it just isn't documented well. You just call \"export notebook\", and you just need to have cell markers. See the \"run cell\" docs. It hasn't been implemented and I agree with @lgeiger that it's not a good use of time, because if we have good export to a notebook, then you can use nbconvert to convert to HTML. No, nbconvert doesn't run the code, it just exports whatever is already saved in the notebook file. . At present it only exports code and not results. See #1503 . In @sglyon's comment, he has:\n```\nIn [1]:\n   ...:     def foo():\n   ...:         return \"hello!\"\n   ...:\n   ...:\n   ...:     foo()\n  File \"\", line 2\n    def foo():\n    ^\nIndentationError: unexpected indent\n```\nDid this behavior change between IPython 5 and IPython 6? Because it works now:\n\n. I reproduced this in IPython 5.3.0, and it works fine. \n\nThe reason why it didn't work in the above comment is because there's a silent \\n on line 1, hence why the IndentationError is raised on line 2. \n\nGiven that IPython is fine with common whitespace, as long as Hydrogen doesn't remove leading whitespace, this issue should be solved. See https://github.com/nteract/hydrogen/pull/1363.. Closing as stale. Edit: Setting c.NotebookApp.token to a non-empty string also solves the problem for me, and is safer. I don't recommend enabling c.NotebookApp.disable_check_xsrf\n\nThis can be solved by changing #c.NotebookApp.disable_check_xsrf = False to c.NotebookApp.disable_check_xsrf = True in jupyter_notebook_config.py.. It's true that Atom's code folding relies on indentation, but there is a function in Atom's API to programmatically fold arbitrary sections of the buffer. So it would be possible to have a Hydrogen command that, say, folds the code cell that the cursor is inside. \nThis would amount to finding the beginning of the next codecell and folding all intermediate lines.. Hydrogen already has code to find the current code cell.\nFolding that is as simple as:\njs\nvar range = codeManager.getCurrentCell(editor);\neditor.setSelectedBufferRange(range);\nvar selection = editor.selections[0];\nselection.fold();\nThat converts this:\n\ninto this:\n\nIt seems preferable to me for range.start to be subtracted by one character and for range.end to be subtracted by one buffer line. That causes the fold to look like this:\n\nAnother helpful function might be \"fold all code cells except for the current one\". In that case we could do something like \njs\nranges = codeManager.getCells(editor);\ncurrentRange = codeManager.getCurrentCell(editor);\n// Remove currentRange from ranges\neditor.setSelectedBufferRanges(ranges);\nselections = editor.selections\nfor (var i = 0; i < selections.length; i++) {\n  selections[i].fold()\n}\nThat looks like \n\nI'll try to submit a PR for this soon.. @WolfLo \nI use MagicPython and the following is what I have as my Language Mapping setting:\n\nYou could also try {\"python3\": \"magicpython\"} since your kernel is registered with the name python3.. Can you try this?\nhttps://stackoverflow.com/questions/42107268/geojson-data-not-displaying-in-python-folium-map. Closing as stale. The PR @ffinger     mentioned for markdown-preview-plus has a diff of 1000 new lines of code. If someone wants to submit a PR that would be great but it looks like a large amount of work.. Most terminals don't support rich output. Like HTML output. @lgeiger I also got this error while upgrading to Hydrogen 2.2.0, despite using the command line.\n```\n\napm install Hydrogen\nInstalling Hydrogen to /home/kyle/.atom/packages \u2713\nfs.js:640\n  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);\n                 ^\n\nError: ENOENT: no such file or directory, open '/home/kyle/.atom/packages/Hydrogen/package.json'\n    at Error (native)\n    at Object.fs.openSync (fs.js:640:18)\n    at Proxy.fs.readFileSync (fs.js:508:33)\n    at Proxy.fs.readFileSync (/usr/share/atom/resources/app/apm/node_modules/asar-require/lib/require.js:86:27)\n    at /usr/share/atom/resources/app/apm/lib/install.js:476:42\n    at fn (/usr/share/atom/resources/app/apm/node_modules/async/lib/async.js:582:34)\n    at Immediate. (/usr/share/atom/resources/app/apm/node_modules/async/lib/async.js:498:34)\n    at runCallback (timers.js:649:20)\n    at tryOnImmediate (timers.js:622:5)\n    at processImmediate [as _immediateCallback] (timers.js:594:5)\n```\nIt seems that up to 2.1.1, this package used a folder named ~/.atom/packages/hydrogen, with hydrogen in lower case, while in 2.2.0, it tries to install in ~/.atom/packages/Hydrogen, with Hydrogen in title case. Linux is case sensitive, so these are two different places. I'm guessing that's the issue at play here.\nWhile debugging, I uninstalled hydrogen, and then apm install hydrogen gave the traceback above. After also uninstalling hydrogen-launcher, apm install hydrogen gave a checkmark but then wasn't recognized from Atom. \n```\n\napm install hydrogen              \nInstalling hydrogen to /home/kyle/.atom/packages \u2713\napm install hydrogen-launcher\nInstalling hydrogen-launcher to /home/kyle/.atom/packages \u2713\n``\n![image](https://user-images.githubusercontent.com/15164633/34133367-5529a60e-e422-11e7-8350-0897619e79d8.png)\n. First, the installation of Hydrogen worked fine until v2.2.0 (I also updated Atom to 1.23.1 recently, so that could be a compounding issue). Even though the package name had been spelled with a capitalH, the installation folder was with a lower caseh`, and everything worked fine.\n\nI'm definitely not an expert and wouldn't want you to implement a potentially breaking change just on my advice. \nIn the thread you linked to, icetee said that NPM packages can't have uppercase characters, so maybe that is the issue.. By the way it might help to reopen this issue so you have fewer new issues being created.. @lgeiger This still doesn't work on Ubuntu 16.04. Removing Hydrogen and then running apm install hydrogen downloads Hydrogen into ~/.atom/packages/Hydrogen, but it isn't found in the command prompt. Even if I rename it to hydrogen and restart Atom, it still doesn't find it.\n\n. FYI @lgeiger @tonydero this doesn't work again when trying to upgrade to 2.2.1. \n```\nkyle at desktop in ~/.atom/packages                                       13:26\n\napm install hydrogen     \nInstalling hydrogen to /home/kyle/.atom/packages \u2713\nkyle at desktop in ~/.atom/packages                                       13:26\napm list --installed | grep hydrogen\n\u251c\u2500\u2500 hydrogen@2.2.0\n\u251c\u2500\u2500 hydrogen-launcher@1.2.1\nkyle at desktop in ~/.atom/packages                                       13:26\napm uninstall hydrogen            \nUninstalling hydrogen \u2713\nkyle at desktop in ~/.atom/packages                                       13:28\napm install hydrogen\nInstalling hydrogen to /home/kyle/.atom/packages \u2713\nkyle at desktop in ~/.atom/packages                                       13:28\napm list --installed | grep hydrogen\n\u251c\u2500\u2500 hydrogen-launcher@1.2.1\n``. My bad, the package name returned to title case (i.e. the package folder in 2.2.0 was~/.atom/packages/hydrogen, while the package folder in 2.2.1 is~/.atom/packages/Hydrogen` again). After two restarts of Atom the package appeared in the command palette.\n\nNote however that I still received an error when trying to update from inside Atom.. Closing this in favor of https://github.com/nteract/hydrogen/issues/1296 since they are duplicates and there's more of a discussion there.. If I were to submit a PR for this, would this be considered? Or is this behavior not desired?. @BenRussert As an example, I often want to debug functions for which I have default values, and my ideal way of initially defining those values would be like this:\n\nThis isn't really a situation where run-cell would be useful, because only occasionally do I want to run the multiple selections, and it would seem that run-cell would run the entire function, not the localized selections.\nI'm guessing that the best way to implement this would be by changing codeManager.findCodeBlock()?\nhttps://github.com/nteract/hydrogen/blob/9d595258c9619b3b106b796c7b1305e3109bcf9e/lib/code-manager.js#L301-L312\n. This is already fixed, at least for Python. You can change the number of characters needed to generate autocomplete suggestions in the settings for autocomplete-plus. There might be autocomplete suggestions from other packages listed before the Hydrogen ones. It's  hard to tell without a screenshot. Closing as stale. Go to definition is language specific and won't be implemented in Hydrogen. Plus, this exists in the Atom IDE project.. I can't tell if the original question is regarding Hydrogen or Platformio terminal. Those are two different things.\nIn order to work with Hydrogen in a virtual environment, you need to start Atom from the command line with the environment activated. So something like\nsource .env/bin/activate\natom .\nor with conda\nsource activate env_name\natom .. Closing as stale. The function definition is here: https://github.com/ipython/ipython/blob/512d47340c09d184e20811ca46aaa2f862bcbafe/IPython/core/display.py#L1394-L1408\npy\ndef clear_output(wait=False):\n    \"\"\"Clear the output of the current cell receiving output.\n    Parameters\n    ----------\n    wait : bool [default: false]\n        Wait to clear the output until new output is available to replace it.\"\"\"\n    from IPython.core.interactiveshell import InteractiveShell\n    if InteractiveShell.initialized():\n        InteractiveShell.instance().display_pub.clear_output(wait)\n    else:\n        print('\\033[2K\\r', end='')\n        sys.stdout.flush()\n        print('\\033[2K\\r', end='')\n        sys.stderr.flush()\nI'm not sure how that would be understood as \"clear output\" by Hydrogen. I don't think it's possible to set argv, because Hydrogen isn't running through a terminal.. After running jupyter kernelspec list, I believe you can run jupyter kernelspec uninstall julia or whatever the kernel name is you want to uninstall.. It seems like \"rename session\" doesn't transfer information back to the Jupyter kernel.\nWhen I click on rename session, it does have filled in \nfilepath-6d45bdb3-d114-49f8-ba04-082d7990fe0b\n, but that UUID isn't the same as any of the UUID's listed when I try to connect to a remote session. It seems like the names aren't the same. And when I do rename the session, it doesn't persist for when I try to connect from a new file.\nThanks still, for the info.. That works great! Thanks!. This is possible with the Start Local Kernel command. That gives you the possibility to choose any kernel that can be used with the filetype of the active editor.. Closing as stale. I haven't tried since my first post, sorry.. Thanks! I think I'd seen that pull request but assumed it was in the latest release. The original mimetype didn't work at all. The newer mimetype worked but seemed to show up as the same as without the vegify function. (Aside: Is not having a \"copy to clipboard\" button intentional for svgs?) As an example:\n```py\nimport IPython\nimport altair as alt\nfrom vega_datasets import data\ndef vegify(spec):\n    IPython.display.display({\n        'application/vnd.vegalite.v2+json': spec.to_dict()\n    }, raw=True)\niris = data.iris()\nspec = alt.Chart(iris).mark_point().encode(\n    x='petalLength',\n    y='petalWidth',\n    color='species')\nspec\nvegify(spec)\n```\n\n. When does this happen?. Great!. %%markdown is not a cell marker. You need something like # %%. Otherwise you need to select all the text:\n\n. Closing as this can be solved by following the instructions listed in https://github.com/jupyter/notebook/issues/3407. @scienceyeaux  reopen if you have any issues.. @dynobo You might want to try the pweave package. It was modeled after R Markdown and lists jupyter notebooks as one of its output formats, though I haven't tested that part. . I'm interested in taking a closer look at this, though I'm about to go on vacation for a week and a half.\nIt seems like it's currently a simple wrapper around stringifyNotebook. So would a fix be done in nteract/commutable instead of here?\nhttps://github.com/nteract/hydrogen/blob/3291db2e4f91d311b392e60599e05687ec1839e6/lib/export-notebook.js#L19. I think I've narrowed down the issue in Hydrogen. Hydrogen:export-notebook calls exportNotebook() here, which is mostly boilerplate around\njs\nJSON.stringify(store.notebook, null, 2)\nSo the issue here is in store.notebook. The definition of .notebook is:\nhttps://github.com/nteract/hydrogen/blob/1a41f824e08305415e412061483c18f145a984a7/lib/store/index.js#L66-L83\nTo me, it appears the issue is likely in codeManager.getCells(editor);. That probably generates cell ranges that include comments in the code blocks, and there probably needs to be a way to divide the cell ranges into Markdown blocks as well.. Actually the codeManager.getCells(editor); is fine. It's the commutable.emptyCodeCell that needs to be changed. It needs to be emptyMarkdownCell for cells that started with # %% markdown. This might require a change to getCells, since I don't think it currently returns the text next to %%.. What about Hydrogen having a superset? Something like\n^#\\s*%%\\s*\\[?(markdown|md)\\]?\nHydrogen already supports other cell markers, \n(%%| %%| <codecell>| In\\[[0-9 ]*\\]:?)\nSo we might also allow something like <markdown> or <md>. Well in the long term I think it's optimal to have two-way conversion in Hydrogen, both to and from .ipynb files.\nThose multiline strings are problematic because, most importantly, you're using Python-specific syntax. Nothing in Hydrogen should be Python specific. Everything should be language agnostic, because we're aiming to support all Jupyter kernels.. Sorry, I edited my previous post a bit too extensively after posting...\nI think one of the best and most important features of Hydrogen is its total language agnosticness. I don't think any of the maintainers want to add something to Hydrogen that only works for Python.\n\nBy the way, do you plan to support raw cells?\n\nNot in the short term, theoretically in the long term, but it really depends if there's a desire for it in the community.\n. If payloads are deprecated, couldn't irkernel switch the messages from payload to display_data or stream?. This should be fixed for the future in https://github.com/nteract/hydrogen/pull/1368 and will go out in the next release.. Closing as stale. @bjce\nAre you opening Atom by clicking it's icon or with atom . from the command line? When you start Atom from the command line, it inherits all the current environment variables from the Shell, so that might help. \nAdditionally, you say you installed Python from Python.org, but your paths say that you're using anaconda Python.. Closing as stale. This specific issue should have been fixed from https://github.com/nteract/hydrogen/pull/1363 when selecting indented if/else blocks. For automatic if/else completion, see hydrogen-python.. It works for me when restarting the Python kernel.\nWhen I set my Startup Code setting to:\njson\n{\"Python 3\": \"a = 1\\n%matplotlib inline\\n%config InlineBackend.figure_format='svg'\"}\nand I run a, I see 1.\n\n. @mlangiu This works fine for me in Hydrogen. Just make sure your cursor is on the line with def.\n\n. Oh wait, @mlangiu , you must be using the hydrogen-python extension?\nThis is an open issue I raised back in March and has nothing to do with Hydrogen proper. https://github.com/nikitakit/hydrogen-python/issues/3. There are some bugs with that extension. I recommend you turn it off/disable it until some bugs have been fixed. . Hydrogen-python has been updated and should handle this situation correctly. Open an issue there if you still have issues.. This is a Python issue, not Hydrogen.\nhttps://stackoverflow.com/questions/43728431/modulenotfounderror-no-module-named-x\nIf you add an empty file named __init__.py to your libs/ folder, and change import cd to from . import cd, it'll work.\nWith print('hello world') as the text inside cd.py:\n\n. Closing for now, as it's likely not a Hydrogen issue. Let us know/reopen the issue if you still have trouble.. I think the image pane is possible at least. \nTo keep it simple, we could redirect the output to the lower right box any time the response mimetype is an image, like image/png or image/svg+xml.. @nikitakit . Example to show concordance with original comment on 862:\n\nNote that in my example if I were to start my selection at the I character in Imax then the behavior should be to still throw an error because the first line in my selection doesn't have leading whitespace in common with all other lines.\n\n\n. 1. I don't know. There are no situations that I can think of, but it would be just as easy to change .trim() to .trimRight().\n\n\nI don't know how other kernels would react either. I did some very basic testing with the ijavascript, R, and Julia kernels. The results were the same no matter if the text had leading indents or not.\n\n\nI think it might be difficult to try to figure out how much indentation to add to the first line. And it might be confusing for users. I would hope that if they didn't include initial whitespace in their selection and received an IndentationError, that they would conclude that they need to include the original whitespace. As it stands, Hydrogen sends the kernel the same thing that would be sent with a copy-paste into IPython in the terminal, and I think that's a plus for consistency in what Hydrogen runs.\n\n\nYes. It seems that the current behavior of Hydrogen is to include any code that is more indented on following lines, and that hasn't changed. Pressing cmd-enter:\n. @mbroedl \n\n\n\nOnly thing I could find right now is that a mix of hard tabs and spaces causes Indentation Errors, but that's not supposed to be working in python anyway\n\nIf the mix of hard tabs and spaces confuses Python anyways, I don't think we should fix that on Hydrogen's end. Otherwise the file will work with hydrogen but not with python file.py, right?\n\nI would suggest moving the implementation to normalizeString\n\nThe implementation is in normalizeString.\n\nOnly problem is that from the code now passed to hydrogen-python is that you cannot anymore expand the selection because you don't know the indentation level.\nSince the whitespace is now stripped even before the loop whether or not there is a selection\n\nMaybe I'm confused... The point is that no whitespace is being stripped with this change. If you select both lines and run this:\npy\n    print('hello world')\n    print('foobar')\nthe text that Hydrogen spits out is exactly:\nprint('hello world')\\n    print('foobar')\\n\nThis should make it easier to find the indentation level, since you can simply get the indentation before the first non-whitespace character.. @mbroedl Sorry! I was just trying to juxtapose them!. @nikitakit Thanks for the clarification. And agreed re mixing tabs and spaces. I checked a Python block inside a Markdown document and that worked for indented code.\nRegarding possible issues with kernels: \n1. For languages where non-end of line whitespace characters have no semantic meaning, I don't see how added non-end of line whitespace characters could have an effect.\n2. For most languages, end of line characters do have a semantic meaning. So for example, this still fails in Python:\n    \n    It may be ideal to allow this to work. I would support trimming any beginning or ending \\n characters from the selection, such that the above code would still work. (I, and I assume many people, have settings that delete any trailing whitespace, so selecting a whitespace line with no characters followed by an indented block could be quite common.) Also note that IPython correctly deals with non-indented whitespace after the first line:\n    \n3. This leaves languages where non-end of line whitespace characters have a semantic meaning. I tried to search for some other language where this has an effect.\n    - This appears to say that in Coffeescript whitespace can be semantically important. @n-riesco You wrote the Coffeescript Jupyter kernel, no? Is that true?\n    - This says \n        > significant whitespace is also used in Haskell, Occam, YAML, and merd. And Cache COS\n  Of those, I've only heard of Haskell and YAML, and you can't run YAML. [This](https://en.wikibooks.org/wiki/Haskell/Indentation) says\n    > Haskell relies on indentation to reduce the verbosity of your code.\n    > \n    > Code which is part of some expression should be indented further in than the beginning of that expression\n\n  Is anyone familiar with Haskell and able to test out IHaskell?\n\nI think those three cases should form the entire effect of the change. Thoughts?. I'm interested, though at this point my js knowledge is still very weak, and I know nothing about React.\nIn the next couple weeks I may try to create a PR for multiple cursors https://github.com/nteract/hydrogen/issues/1194, which is an enhancement I'd be happy to have.. This looks amazing. With a dark theme some of the menus are hard to see. I'm not sure if that's Hydrogen's fault or the theme's fault:\n\n. Also, on Mac vertical two-finger scrolling isn't correctly intercepted by the DataFrame.\n\n. That sounds fine. Especially since the user would have to type pd.options.display.html.table_schema = True, it seems unlikely to bother users at this stage.. I don't have write access to the repository...?. I now have write access to nteract/nteract, but still not to nteract/hydrogen.. @bigheadming The reason it's not working for you is because you have invalid JSON. Correct your {} levels and it'll work. For any followup questions please open a different issue and you can tag me if you want.\njson\n[{\n\"name\": \"Jupyter Book - Python\",\n\"options\": {\n\"baseUrl\": \"http://localhost:8889\",\n\"token\": \"xxx\"\n},\n{\n\"name\": \"Jupyter Book - Scala\",\n\"options\": {\n\"baseUrl\": \"http://localhost:8890\",\n\"token\": \"xxx\"\n}\n}]. > First, to resolve the alignment problem in the output area, I put font-family: monospace under the .output-area .multiline-container\nThis might be all that's needed to resolve this specific problem? As @BenRussert noted, the coloration is handled in #894.. You should also check out https://github.com/lgeiger/hydrogen-launcher. No that's the Remote Edit package that failed rebuilding, not Hydrogen.\nI'll try again on master later.\nI expected a response similar to the one from the notebook. It seemed that the issue was that I couldn't return both a message on the stdout stream and send a display message. The docs aren't too helpful to know which one to send or which type of results.\n. Unable to reproduce so I'll close.. Thanks for the info. It seems similar to Jupyter Notebook in the browser.. Is there any consensus on this? If people decided it was worth it to remove .strings from disableForSelector, that would be easy and could make it into today's (?) release.\ncc @BenRussert . Have you also installed the ipython kernel?\nhttps://ipython.readthedocs.io/en/stable/install/kernel_install.html. Screenshots don't come through as email replies. You have to upload the screenshot directly to the Github issue.. I can't reproduce this. The key is that you have to highlight the code so that Python knows it's a block:\n\n. Cell magics have to be on the first line of code sent to IPython. You're running the entire block of above code at once. Instead select the specific lines you want or use run cell when delimited by # %%:\n\n@BenRussert from that screenshot it actually looks like there's a minor unrelated bug... run cell actually includes the next # %%. I suppose this situation is the only one in which that matters, since at all other times # %% is interpreted as a comment. Still, subtracting 1 from the end row index of the cell is probably a good idea.. That's a different error. Above you got SyntaxError: invalid syntax, here you're getting NameError: name 'Markdown' is not defined. \nI don't think you have to actually run from IPython.display import Markdown; the  %%markdown cell should work anyways. This might mean that your version of IPython is too old.. This is indeed Atom's fault:\nhttps://github.com/atom/atom.io/issues/42\nhttps://github.com/atom/atom.io/issues/75. I don't think they use any JS. It should be in the raw HTML. But Atom.io doesn't use the same markdown parser apparently.. See https://github.com/nteract/hydrogen/issues/1326.\nTry \napm install hydrogen --python /path/to/python2\nAlternatively you should be able to do\napm config set python /path/to/python2\napm install hydrogen. I actually had the same error today when installing another package (https://github.com/Aerijo/language-latex2e/issues/18#issuecomment-418404191) so it might be an error with Atom 1.30.0.. You can try this patch: https://github.com/atom/apm/issues/698#issuecomment-293814930. It turns out this was an encoding error. I didn't know that Python doesn't load text files in Unicode by default on Windows. Forcing encoding='utf-8' fixed this.. This looks interesting, and better support for working with Jupyter Notebooks in Hydrogen is necessary.\nA couple comments:\n1. To my knowledge, Hydrogen tries very hard to be completely language agnostic. How does Jupytext convert from Python scripts to Notebook? Does it use the Python interpreter or the Jupyter Python kernel? If it's the latter, it might be possible to have it use any Jupyter kernel, and thus let it be language agnostic.\n2. I could be wrong, but I don't think it's possible to embed Python code in Atom. I believe it only uses Javascript.\n3. For reference, most of the current code to export an arbitrary file as a Notebook is here.\n4. The cell markers used are described here:\nhttps://github.com/nteract/hydrogen/blob/58ba87e1747366c46f9baca87dcdda27401f6a5a/lib/code-manager.js#L138. Sets have no defined ordering, and so it's perfectly legal in Python for them to show up with different ordering. Use a list instead if you want to retain ordering.\nhttps://stackoverflow.com/questions/12354515/what-is-the-difference-between-sets-and-lists-in-python. Yes, but it's legal for them to be different. You can never assume that two sets have the same ordering. If you want them to always have the same ordering, use a list.\npy\nl = [1, 2, 3]\nl.append(4)\nl.append(5)\n. I looked into this a little bit more. ide-python doesn't create the tooltip itself; it just provides the connection for Atom IDE to start the Python language server and communicate. So I think we'd have to connect directly to the Atom IDE UI package.\nThe datatip library is here: modules/atom-ide-ui/pkg/atom-ide-datatip.\nThe datatip part of Atom IDE UI is called from atom-languageclient here:\n- https://github.com/atom/atom-languageclient/blob/7a52fbb774422cdc839614ace613086294af6b1f/lib/auto-languageclient.ts\n- https://github.com/atom/atom-languageclient/blob/3f8a3ae62281fc89410ff806fe16e03773e5b9f3/lib/adapters/datatip-adapter.ts. > One thing we need to check is, that it doesn't interfere with other running language servers.\nThis is a good point. There can be an option in the settings, at least, to turn tooltips on and off.. Apparently on mac you can do a two-finger scroll to see wider results, I just didn't realize it.. By \"grammar name\", I'm assuming you mean the key for language in the kernelspec JSON?\nI don't know of any language for which there are more than one kernel and where the display name matches the language name exactly. If this is the case, we could allow both language names and display names as keys in the startup code JSON. Then when a key is a display name, apply it only for that kernel, and when a key is a language name, apply it for all kernels of that language?. > No, I mean atom's grammar name (Hydrogen should use only atom's grammar names, otherwise it's too confusing; we had that problem a long time ago).\nSo would you want the keys to be source.python?. > It used to be the language name, but we changed it to display names in #195 to address the last bullet point in this comment.\nI agree that startup code should be specific to a kernel and not to a language. You'd possibly have different startup code for Python 2 vs Python 3.\nI'd argue that the best use for the key would be the kernelspec name. This is easier for users to find. I.e. just running jupyter kernelspec list shows them the list of keys they could use:\n```\n\njupyter kernelspec list\nAvailable kernels:\n  bash          /Users/kyle/Library/Jupyter/kernels/bash\n  ir            /Users/kyle/Library/Jupyter/kernels/ir\n  javascript    /Users/kyle/Library/Jupyter/kernels/javascript\n  julia-0.6     /Users/kyle/Library/Jupyter/kernels/julia-0.6\n  stata         /Users/kyle/Library/Jupyter/kernels/stata\n  python3       /Users/kyle/anaconda/share/jupyter/kernels/python3\n``\nAs of https://github.com/nteract/hydrogen/pull/1499 the kernelspec name is saved instore. We'd probably want to keep display name as a fallback for backwards compatibility.. This seems to be an issue with autocompletion. By default, theautocomplete-plus` package is set to generate completions when a word is >= 3 letters long.\n\n\n\nThere's a setting in Hydrogen to turn off Autocomplete. This should allow you to use Hydrogen at least.\n\n\n> This error does not occur in an iPython session nor in a Jupyter notebook\n\nI believe those use Tab and Ctrl+Space respectively to show completions. If you manually ask for completions in those environments, do you get the same bug?. I'm not familiar with how IPython actually collects the autocomplete suggestions to return to Hydrogen/Jupyter. You might want to look for some similar issues on the Jupyter Notebook repository (https://github.com/jupyter/notebook). Since it's also broken in Jupyter, this sounds like an issue that's out of Hydrogen's control.. This had worked for me on a similar issue previously:\nhttps://github.com/atom/atom/issues/15925#issuecomment-399619038. Can you show the code you tried to run?. Have you installed ipykernel?\n\n\npython -m pip install ipykernel\npython -m ipykernel install. If you're in the command window, and you type ipython, it should enter the IPython terminal. Does that work for you?\nAssuming it does, can you try opening Atom from the command line, by typing atom . into that same command window?. What I meant to ask is if after you open Atom with atom ., then Hydrogen works?. The error in the dev console isn't from Hydrogen; that's from the Github package, and Hydrogen isn't producing an error there.. Sorry, I didn't mean to say that the pop-up error wasn't Hydrogen's fault. I only meant to say that the dev window didn't show any Hydrogen errors.\nI'm not too knowledgeable about Windows-specific problems, so I'll let someone else add their thoughts.. You probably need to set your Language Mappings setting to something like:\n{\"octave\": \"matlab\"}. It's in the same pane as where you likely installed Hydrogen. Go to Edit > Preferences > Packages > Hydrogen.. Since the OP is deleted, I'm going to close this issue. Anyone with a similar issue, feel free to reopen.. @eyun89\nCan you upload your image again? It doesn't seem to have uploaded correctly.. @lgeiger  what type of changes does this require? npm audit thinks that a dependency of @jupyterlab/services is a problem\n\n. The default language mapping in the settings is\njson\n{ \"python\": \"magicpython\" }\nIf you have both Python 2 and 3 you probably need to set the language mapping for python3.. I believe that autocomplete-plus automatically removes the tooltip when the cursor moves. So I never have this problem because I always use Shift+Enter instead of Ctrl+Enter.\nRegardless, for Ctrl+Enter we could probably tell the autocomplete tooltip to close, assuming that it wouldn't raise an exception if the tooltip is already closed.. @BenRussert  I agree about how you would implement that if you put it into Hydrogen. Do you think it should be included rather than via init? It's something I've never come across because 1) I usually use run-and-move-down and 2) when using run I never call it while my cursor is in the middle of an autocomplete suggestion... I always would hit tab to complete first.... I'll defer to @BenRussert, though count me as in favor of adding it to Hydrogen, assuming there are no side effects.. This looks great for a blog post, but I don't think there's anything actionable here for Hydrogen.. It's probably fine to wait a little for the next release. It's a small change. . Can you see if there are any notices shown in the Dev tools? In the command palette select Window: Toggle Dev Tools.. I often get that warning too, so I don't think that should prevent results from showing. Does ipython work in the terminal?. python -m ipykernel install --user, (source) where python is the specific executable that you want Jupyter to use.. Welcome!. The installation page says\n\nCheckout nteract.io/kernels for instructions on how to install the most popular kernels\n\nAnd that shows how to install kernels for several languages.\n\n@Ornataweaver \nBased on your experience, how would you improve this?\n. > You can probably just replace the typings with the ones used by the Nuclide team\nShould that be a separate PR to update the typings or added to this?\n\nFor the array example you can actually use it too since you're not reassigning it, you only mutate the content by pushing values.\n\nMakes sense, thanks.. I think I fixed the flow errors and the code style. Haven't added any tests yet.. I think it would still be good to add tests. I just haven't looked into that yet.. While writing tests, I found and fixed a bug, so that was helpful. I like Jasmine, and I really like the automatic linting during the Git commit.\nI think it's good to merge now.. Maybe would be good to add a note to the documentation. Should that go in this PR as well?. Apparently just copy-pasting the type definitions creates more flow errors. Should I just copy the specific part that's needed for #1458?. There's a bit of conversation about using it with JupyterHub here: https://github.com/nteract/hydrogen/issues/1274. Screenshot with the Bash kernel:\n\n. Do I need to use \\\\s to represent a space?. So I do need to use \\\\s then?. Thanks. That does make sense.. That makes sense. I might try to find some time to look at that this weekend.\nI'm also trying to figure out a good way to refactor some of this code that searches for code cell boundaries in order to carry some metadata about the cell, namely if it's a Markdown cell. Essentially all that's needed to fix #1296 is knowledge about which cells are Markdown and which are code.. See #1520 . Null grammar means that either\n1. You haven't saved the file\n2. You haven't saved the file with extension .jl\n3. Most likely, you need to install the language-julia package, so that Atom knows that files that ends in .jl are Julia files. \n. Regardless of whether hydrogen-python is activated or not, I can't reproduce this on \n```\n\natom --version\nAtom    : 1.33.0\nElectron: 2.0.11\nChrome  : 61.0.3163.100\nNode    : 8.9.3\n```. In general the way I've always fixed this is by running all the plot code at once. You can do that by selecting multiple lines or using cells. . It's not a bug with Hydrogen in the sense that Hydrogen just sends your code to the IPython kernel, and displays the result.\n\nYou might be interested in trying out the hydrogen-python extension. You can add plt\\. to its settings so that it'll automatically run all consecutive lines starting with plt.. That's in an extension package because it uses Python-specific syntax.\nI think it might be possible to fix this from the matplotlib side by using its object oriented interface, though I haven't tried this specifically.. I've never had it not render immediately, so I'm not sure what to say. Did you use a magic like %matplotlib inline in one and not the other?. The bash kernel works for me with:\njson\n{\"bash\": \"shell script\"}\nThe direction is programming language -> Atom grammar name.. It looks like a Pillow dependency isn't found. From an Anaconda terminal, can you try running:\nconda install -c conda-forge pillow. That's good to know, and I'm glad it's working for you. If you have any more similar issues in the future that are specific to Stata, a better place to file an issue would be:\nhttps://github.com/kylebarron/stata_kernel/issues. By \"bubbles\" are you referring to the results, as in this gif?\n\nThat's the output of commands. You can read more about there here: https://nteract.gitbooks.io/hydrogen/docs/Usage/GettingStarted.html. The gif is the same as on the front page of the repository: https://github.com/nteract/hydrogen. \nI don't know what toggle-bubbles does. I think restart-kernel-and-re-evaluate-bubbles is the same as \"restart and run all cells\" in Jupyter.. The issue is that you need to uninstall or disable the stata-exec package, since that overrules the ctrl-enterof Hydrogen when you have a file with extension .do. Maybe I should change that . https://stackoverflow.com/questions/5376837/how-can-i-do-an-if-run-from-ipython-test-in-python\nhttps://stackoverflow.com/questions/15411967/how-can-i-check-if-code-is-executed-in-the-ipython-notebook. That's not possible. The only thing you can know from Python is if you're in 1) Python terminal, 2) IPython Terminal, 3) Jupyter. Since there can be any frontend for Jupyter, and since there can be multiple frontends connected to the same Python kernel at the same time, it's impossible to pass that information to Python.. Why do you want to know this?. If I open up a Python file in Atom and run:\npy\nimport os\nos.getenv('PATH')\nI get:\n'/Users/kyle/tmp/node_modules/.bin:/Users/kyle/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Applications/Atom.app/Contents/Frameworks/Atom Helper.app/Contents/MacOS:/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin:/Users/kyle/local/bin:/Users/kyle/bin:/usr/local/bin:/Applications/Sublime Text.app/Contents/MacOS:/Users/kyle/anaconda/bin:/Applications/Julia-0.6.app/Contents/Resources/julia/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/usr/local/go/bin:/usr/local/MacGPG2/bin:/opt/X11/bin:/Users/kyle/github/go/bin'\nI find the same thing in R and Stata kernels as well, so I'm guessing that the PATH is changed in Atom somewhere, and the kernels inherit that. . echo $PATH in the directory I opened Atom from gives:\n/Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/bin:/Users/kyle/local/bin:/Users/kyle/bin:/usr/local/bin:/Applications/Sublime Text.app/Contents/MacOS:/Users/kyle/anaconda/bin:/Applications/Julia-0.6.app/Contents/Resources/julia/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/usr/local/go/bin:/usr/local/MacGPG2/bin:/opt/X11/bin:/Users/kyle/github/go/bin\nso the added paths are:\n/Users/kyle/tmp/node_modules/.bin:/Users/kyle/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Applications/Atom.app/Contents/Frameworks/Atom Helper.app/Contents/MacOS. The issue is here:\nhttps://github.com/nteract/hydrogen/blob/762852e90137da44eadd4ba50b432875cc02b2b5/lib/main.js#L375-L381\nOnce the OutputPane is created with toggle-output-area, the pane exists, and it will continue to exist until the destroy() method is called and deletes its entire state. So even when the output area is hidden, atom.workspace.getPaneItems().find(item => item instanceof OutputPane) resolves to true, so globalOutputStore is not null, and so it opens the dock again.\nI don't know yet how to fix this. The ideal way is to figure out if the output pane is hidden or not, but I don't know how to do that.. Should be fixed via #1494. Yeah... I wanted to get around to adding tests to https://github.com/nteract/hydrogen/pull/1458 today but I didn't make it.... Have you tried opening Atom on the command line after sourcing the environment?. If you're using conda environments\nconda create -n conda_env -c conda-forge jupyter pandas numpy ...\nsource activate conda_env\natom .\nIf you're not using conda environments, you just need to make sure your PATH is correct.. If you type ipython in your terminal, are you able to load numpy?. And how are you starting atom? Are you starting it by clicking an icon or from the terminal? When you start Atom from the terminal, Atom receives all the environment variables from the terminal, and should find the same python executable.\nTry atom path/to/dir.. Right, that makes sense. As long as there's documentation in the plugin itself, we probably don't need to include those examples.. On second thought, I don't have a problem with leaving that at the bottom of the examples, if only to advertise the data explorer more.. @BenRussert    Think this is good to merge?. Hydrogen will work with Python 3.7 as long as you've set up the Python kernel using Python 3.7.\nhttps://nteract.io/kernels/python. That means you have Python 3.6 installed and first on your PATH. When you type python --version, does it show 3.6 or 3.7?. If you type jupyter kernelspec list --json, what Python entries are there?. So if you type /usr/bin/python3 --version, does that show 3.6 or 3.7?. So you need to reinstall the kernelspec using the correct Python executable.. I thought it should've been fixed with \npython3.7 -m pip install ipykernel  # install the python kernel (ipykernel) globally\npython3.7 -m ipykernel install      # install python kernel into nteract's available kernel list\nbut if not, then first do\njupyter kernelspec uninstall python3. I looked into this briefly. These are deleted when store.markers.clear(); is called.\nhttps://github.com/nteract/hydrogen/blob/ea0004326a666c679119fbec582530123c4e7cca/lib/main.js#L570\nThe function removes all markers:\nhttps://github.com/nteract/hydrogen/blob/ea0004326a666c679119fbec582530123c4e7cca/lib/store/markers.js#L8-L11\nThe issue is that store.markers is a global object shared among all TextEditors that Hydrogen is active in. So any time store.markers.clear() is called, it removes all markers from all panes.\nFrom my point of view, it would be nice if there was some way to keep track of which TextEditor each bubble is in. What about adding a field editorId to each ResultView object? I assume that a ResultView will never move from one TextEditor to another.\n@BenRussert     \n. This is really annoying because I often start relatively long-running jobs in one file, then while that's running want to start coding in a new file... But then starting a kernel in the new file clears all the bubbles in the first file so when it's done running I don't see anything!. :rofl:   That's really sad!\nI haven't touched that part of the code but I'm guessing it comes from here:\nhttps://github.com/nteract/hydrogen/blob/612b630415d2f9846f76ac7ed82119026f991914/lib/store/markers.js#L13-L23\nMarker stores aren't tied to an Editor, which is the point of this issue, but that also means that clearOnRow probably clears any markers on the given row in any Editor!. Just putting some thoughts down...\n\n\nI checked and each pane is a new TextEditor, which simplifies things so that we only have to keep track of markers within a given TextEditor. (Currently, any two panes, regardless of whether they're the same file, remove a marker at the same row on the other pane).\n\n\nI'm not sure what the best way is to associate a MarkerStore to an Editor...\nI was thinking it might be to have a markerMapping in the Store similar to how there's currently a kernelMapping. The kernelMapping is a mapping from a file path to a Kernel object. Likewise the markerMapping could be a mapping from an Editor to a MarkerStore.... Should I make md and markdown case insensitive, so that the following would also be caught?\n```py\n%% Md\n%% Markdown\n``.# %% [markdown]would be supported fine. As long as the substringmarkdown(ormd) exists somewhere after# %%`, it'll be caught. I think that's better than us imposing another format.\n\n\nI'm also working on a PR to import Notebook files into Hydrogen, and hopefully it'll be possible to import, modify, and export without any data loss. I'd love to explore a run all cells and export notebook command that adds cell output to the created notebook file.. > That sounds great! That will make Hydrogen the first text editor where users can act on the ipynb file without having to run the notebook in full a second time.\nWell, not necessarily, at least not at first. I'm working on a simple PR to import just the source text. That's quite straightforward. In the short run, no outputs will be saved in import or export. \nI don't know enough about Hydrogen internals yet to work with output in import or export. . @lgeiger    It took a while but I figured out why the test wasn't passing. I think I had to activate language-python. I borrowed waitAsync from code-manager-spec.js. If you want me to create a separate file instead of duplicating the waitAsync wrapper, I can do that.\nI also added one simple test for testing that code under %% markdown should be exported to a Markdown cell. Is that ok by itself?\nMaybe tomorrow I'll add some documentation.. @BenRussert    I added a new page in the documentation for exporting a file to a notebook. Hopefully in the future that page will also be updated for notebook import https://github.com/nteract/hydrogen/pull/1501. I also updated the breakpoints grammar so that markdown cell markers also get highlighted, at least if not using tree-sitter (https://github.com/nteract/hydrogen/issues/1134#issuecomment-427305103). @BenRussert  @lgeiger  \nIf I have an approving review and some tests and they pass, is it ok for me to merge my own pull requests? I don't know what the acceptable norms are around that, and I don't want to commit any changes that aren't accepted.. I think I'm missing a flow type definition. Can someone direct me how to fix that?. @mwouts    No worries, that's a small javascript thing.\n\nwhere the metadata for the text file is stored when using Hydrogen\n\nWell, metadata like what? Hydrogen doesn't really store any metadata. I guess just cell boundaries? Jupyter keeps track of the kernelspec itself, and Hydrogen loads it from Jupyter's saved file locations. Atom keeps track of the file extension and thus language grammar.. Another thing I thought of, Jupyter is probably relying on matching the kernel name of the imported notebook with installed kernels. I'm curious if a matching kernel isn't installed, if Jupyter then doesn't assign syntax highlighting.. For the record, I'm happy to make your suggested changes before you merge.. I don't really have code style preferences for JS yet. I think I just didn't remember you could make an anonymous function with two inputs.. Type\njupyter kernelspec list --json\nand it should show which Python executable is called. Does it work if you run jupyter notebook?. Can someone help with this last flow error? My understanding of promises and callbacks is only so-so.\n```\nCannot call readFile with loadNotebook bound to callback because:\n \u2022 Promise [1] is incompatible with undefined [2] in the return value.\n \u2022 Promise [3] is incompatible with undefined [2] in the return value.\n lib/import-notebook.js\n  23\u2502       atom.notifications.addError(\"Selected file must have extension .ipynb\");\n  24\u2502       return;\n  25\u2502     }\n  26\u2502     readFile(filename, loadNotebook);\n  27\u2502   });\n  28\u2502 }\n  29\u2502\n\n[3]  30\u2502 async function loadNotebook(err, data) {\n /private/tmp/flow/flowlib_f7461a8/core.js\n\n[1] 612\u2502 declare class Promise<+R> {\n /private/tmp/flow/flowlib_f7461a8/node.js\n\n[2] 967\u2502     callback: (err: ?ErrnoError, data: Buffer) => void\n```. > I added some tests and fixed a couple things on my fork. If you add me as a collaborator on your fork I can push my changes to this PR. Or, I can pr against your fork if you prefer.\nAdded as contributor. I think all your edits make sense, though I haven't tested them in Atom yet.. I'd be in favor of moving importNotebook to an atom-workspace command, so that a text editor doesn't have to be currently active to use it.. I also think it's important to have tests of [import then export] and [export then import] and to make sure that the .ipynb file and text editor are identical, respectively.. I'd also be happy to add documentation to https://nteract.gitbooks.io/hydrogen/docs/Usage/NotebookFiles.html. (When #1498 was merged, the documentation was updated despite that code not being released yet).. I added some more documentation and moved import-notebook to be a workspace command.. @BenRussert \nI think this is probably good to merge if you're happy with it.\nI wasn't sure if this should be its own PR, since it might need more discussion, but it would also be useful to add the import notebook functionality as an opener for .ipynb files. It's a simple 10-line change.. > I know nothing about how this works, but the ideal for me would be to have atom open .ipynb files like this, then export them on save. Everyone around me works directly in jupyter, this way I could work with them pretty seamlessly.\nWe currently don't support automatic exporting because of the potential for unintentionally overwriting data.\n\nOn a side note, how about having this import/export to/from the rich document format? Even if it only supported importing one language and markdown cells it would be nice to have the choice of which format to work in.\n\nDo you mean markdown documents?. > Fair enough, I can add a hotkey for export anyway.\nWell currently when you export a file to a notebook, it brings up the system file selector, so not sure how much time a hotkey would save. Hydrogen has no way to know ahead of time how to name the outputted notebook file.\n\nYes I mean markdown documents, then the grammar/kernelspec would be used to set the language on the code blocks.\n\nMarkdown documents are more prone to losing some metadata, in particular cell boundaries. It's probably not too difficult to write, but not my focus at the moment.\n. @JohnCHarrington \nYou may also want to check out the newest release of Pandoc https://github.com/jgm/pandoc/releases/tag/2.6. @lgeiger    @BenRussert   \nDo you have any suggestions for how to store kernel responses? I see that messages are sent to OutputStore, but it appears that there's a different OutputStore for each result bubble.\nhttps://github.com/nteract/hydrogen/blob/4784af08af5c8a40fb818cd1e4679d78973f9fc7/lib/main.js#L385-L396\nI tried to inspect some of these messages in the dev console but I kept seeing Proxy objects instead.. Thanks, I'd already been doing\njs\n_ = require('/Users/kyle/github/atom-dev/Hydrogen/node_modules/lodash')\nI just didn't know about toJS().. Ok, so I don't know too much about mobx yet, but here's what I gather and tell me if I'm wrong... \"mobx objects\" are stateful, so that the object itself will change when new information comes in (the kernel response comes in)? I called mobx.toJS() on the outputStore directly after creating the objects, and they all have empty outputs and have 'status': 'running'. So I'm guessing that I'm converting them to JS objects too early? Is there a way to determine when the kernel is idle and then a safe time to convert the mobx objects to JS?\nI see that the status bar uses kernel.executionState.\nhttps://github.com/nteract/hydrogen/blob/4784af08af5c8a40fb818cd1e4679d78973f9fc7/lib/components/status-bar.js#L19\nIs there a way to say \"until kernel.executionState==\"idle\" pause, then continue with the notebook export code\"?. Sounds good! Starting this week I'm busier, especially on the weekend. I think I'll have a chunk of time Wednesday evening (Eastern Time) . I haven't seen this before. Can you try again?. No need to go out of your way! Just let us know if this happens again. Is it a problem to change the function signature of getCellsForBreakpoints? I add editor to the inputs. (Especially in reference to the plugin architecture). I should also add an extra test or two to code-manager-spec.js. I saw this PR: https://github.com/nteract/hydrogen/pull/957 and figured that maybe getCellsForBreakpoints was also exported out of CodeManager as part of the plugin API.. I added tests for the three examples above.. Oops; I thought the tests passed.... I guess I merged before Travis was finished running the second time for the second commit; my bad. The master Travis passed, so we should be good, but I'll wait longer before merging in the future.. I think the\"bug\" is just that when finding cell regions, we include all text right up until the cell marker itself, which means we include the newline immediately preceding the cell marker.\nReally when exporting to Jupyter, it seems more beneficial to remove the last newline before the call marker. We could say that if the cell marker is at the beginning of the line, then don't include the previous newline in the selection?. I don't really want to touch anything in CodeManager, since the undesired behavior is strictly present in the Jupyter export.\nAt the moment, any time the cell marker following a cell's text is on its own line, there's an extra newline. For example, the first cell in the following snippet would have an extra trailing newline, but the second would not:\n```py\n%%\nprint('hello world')\n%%\nprint('hello world')# %%\nprint('hello world')\n```\nI think the simplest fix would actually just be to remove a single trailing newline if it exists for each cell in the notebook export. That feels kinda hacky, and should definitely be accompanied by tests, but I don't expect that to produce unexpected results for users.. Ok, I tried to do that before but got stuck. I gather that the output of addOpener is a disposable that you can call when you want to disable the feature, I.e. when the setting is turned off. What I couldn't figure out is how to store this separately from the other disposables... Like you can you find this specific instance to dispose of later? . Oh that makes so much more sense... I'll have to test. Adding the config setting was so much more straightforward. I think this is ready to merge. I think that should be good now. I'm not exactly sure what causes that, but I'd try reinstalling Anaconda. Or, probably a better way to start, try\nconda install -c conda-forge pyzmq. Also, this looks like a Jupyter error. Are you able to run code through the Jupyter notebook?. :+1: I'd seen that but just never gotten around to fixing it. Why is any of that necessary?\nIf I do \nconda create --name r-testing r r-essentials\nsource activate r-testing\nR -e \"IRkernel::installspec()\"\natom .\nHydrogen uses the correct R executable. > with the proposed instruction there is no need to start atom from activated environment.\nIt might be helpful to state this more clearly, but we always require Hydrogen to be started from the activated Conda environment for any language if that conda environment uses a different path. I don't think it's wise to advocate a convoluted workaround when we can just say \"activate the conda environment then open Atom\"\n. Hydrogen is large and depends on a lot of software. Installation can be slow if your internet is slow. Otherwise, you haven't provided any debugging information.. I think so. There's still another edit in commutable I wanted, namely that parseNotebook should convert an array of lines on disk to a single string in memory (that's how nbformat does it as well) but I'm not sure I'll get to that.\nAs it stands, there's still another edit that would need to be made in Hydrogen to fix #1552    . No I didn't. Can you try again now? I'm able to install Hydrogen just fine on my Windows 10 virtual machine.. Let me know if you'd like me to add more tests.. I think after merging now-current master it'll pass tests and be fine. I've been reading #1008 .\nEditor ID's were turned down because they change every time the editor is closed and reopened, and we want someone to be able to close an editor and reopen it with the kernel still running. File paths allow you to do this, but don't exist before the file is saved.\nIt seems like a straightforward compromise is to use an Editor ID if the file is not saved, but then change the Editor ID to a path once the Editor is saved. If the Editor is closed without saving, then discard the kernel.\nThoughts?. You may want to check out https://github.com/ipython/ipython/issues/11270#issuecomment-427448691. > Thanks, I'll take a close look at this very soon. I'd be so happy if the diff is this light (looks like we need to come up with some tests though).\nI was aiming for a light diff :)\nYes, I didn't touch the tests yet. I'm generally not confident enough yet that my solutions are the optimal solutions that I feel it's worth it to write tests before feedback!\nSpecifically, that area of the tests would need to be refactored a little to test this, because you'd probably want to set Python as the language grammar (which uses the async workaround) only for this test and not the others.\n\nSide note probably for another PR, I see the forceEditorUpdate workaround function I wrote what feels like ages ago. I wrote this hack to make this.filename update \"imperatively\" instead of using mobx properly (of course I didnt know that at the time). I probably should have just refactored the store setup a bit.\n\nWell I don't understand mobx too well... so feel free to refactor some. My intuitive guess to apply @computed to this.untitled just happened to work haha. https://irkernel.github.io/installation/. Usually yes, but you may have to install it manually. If you use Anaconda terminal, it's already installed. What matters is not how the console returns text, but rather the messages that IJulia  returns. It appears that IJulia does not by default return a newline with commands, which you can tell from the normal bubbles:\n\nA separate issue is how to group commands using the dock output mode. I haven't worked on that part of the code, but it appears that that mode just appends stream messages, which might not be ideal. When I run display(1), here are the messages sent between Hydrogen and Jupyter/IJulia:\n\nThe 4th message, which has output_type: \"display_data\", shows that the only information returned from Julia is \"1\".\nSo the two options are\n\nConvince the IJulia project that it should return \"1\\n\" (i.e. include the newline)\nConvince us that we should handle a string without a trailing newline differently.\n\nIt might be of interest that running print('hi') in Python returns \n\nI.e. the returned text includes the newline.. > When I have the output area in the continuous history mode (icon on the right, three horizontal lines), and I run a command like display(1), I see a 1 but there's no new line, so if I run the command multiple times, I get 111111.\nAlso I have no idea what you mean by continuous history mode.. Are you talking about the output area? If so, I can't reproduce:\n\n. Two questions:\n\nDoes Jupyter work outside of Hydrogen?\nWhat's the output of jupyter kernelspec list --json?. Ideally we would catch this error and present it to the user so it's not just silently failing. @ondrejtichacek  you're referring to the output pane, not the bubbles inline?. This is an important bug to fix, same as https://github.com/nteract/hydrogen/issues/1539, https://github.com/nteract/hydrogen/issues/1496.\n\nThere isn't a way to do this on the hydrogen side, but I believe ipython stores all inputs and outputs in a dictionary named something like In and Out. If I'm right you should be able to do something like\nOut[len(Out)]\nAs long as you haven't closed the Jupyter kernel yet. . https://jakevdp.github.io/PythonDataScienceHandbook/01.04-input-output-history.html. I have to look at it more closely and I'm away from my computer, but in general there are a few issues with unwanted clearing output, and they're all pretty related internally I think. You have to use\nssh user:server -L $localport:localhost:$remoteport\ni.e. for you it sounds like\nssh user:server -L 8888:localhost:10001\nif Jupyter is running on port 10001 on the remote server.\n. @BenRussert   can you check again?. Sorry I didn't see the flow errors before; I think Flow IDE is only set up on one of my computers and not the other. @BenRussert  Can you look at this again? I think the flow errors are fixed, but ~~there are a couple tests that fail~~\nI think all the tests pass now.. Git rebase is scary! :fearful:     I seem to somehow always mess up my rebases.... That's a good idea!. @BenRussert    Sorry I didn't see your questions yesterday. I'm happy to incorporate your changes.. As it stands, your suggestion is unlikely to be implemented because it's language dependent. I.e. the %%markdown syntax doesn't work outside ipython.\nI think something that's potentially cooler would be to somehow integrate with markdown-preview-plus to view the markdown cells with rendering in atom instead of through Jupyter\n. Is there a way to use promisify in Node 6? @BenRussert  . Atom 1.28.0 was released June 21, 2018. That's probably recent enough to try to support it? I'm guessing the vast majority of users would use the most recent version.\n@nils-werner    Is there a reason you're using that PPA? The description of that PPA says\n\nPlease use the official repository instead: https://flight-manual.atom.io/getting-started/sections/installing-atom/#platform-linux\n\n. Does this solve your issue? If so we might bump the Atom version requirement to >= 1.28.0. I think it's the import side that doesn't abide by the standard. The nbformat documentation on cells says:\n\nAll cells have the following basic structure:\njson\n{\n  \"cell_type\" : \"type\",\n  \"metadata\" : {},\n  \"source\" : \"single string or [list, of, strings]\",\n}\nOn disk, multi-line strings MAY be split into lists of strings. When read with the nbformat Python API, these multi-line strings will always be a single string.\n\nSo to be faithful to the standard, I think the notebook import should concatenate cells into a string, then split on newlines.. This comes from commutable behavior: https://github.com/nteract/nteract/commit/4445a69a18cdb96e570734bd183fbd272a035afb#r32423015. I'll keep this open until we merge an update for commutable > 7.0.1. So now I think if we update to @nteract/commutable@7.0.2, remultiline should at least work correctly, though it still isn't applied during parseNotebook. It looks like Hydrogen didn't install fully. You should try reinstalling.. I've only ever successfully used http, with content secured using an SSH tunnel. I don't think what you're describing is Hydrogen-specific though. Are you able to use https with the remote kernel with Jupyter?. Is it working for you in Jupyter Notebook/Lab? Have you tried this: https://github.com/BruceSherwood/vpython-jupyter?. I just hadn't heard of vpython and didn't know if there was an extension you needed in order to use it with Jupyter. It's possible that vpython is another instance of this: https://github.com/nteract/hydrogen/issues/1069#issuecomment-350548996\nIt depends on what kind of object is returned from Jupyter when trying to display something with vpython. I think so. #1069 is the same issue. Everything is likely restricted by Atom's content security policy. I think those are a TextEditor object, so it should be possible to add syntax highlighting if we assign a grammar to them? @BenRussert  . You don't need display.\n\nI have no issues displaying a table. You should make sure that display.notebook_repr_html is True and display.html.table_schema is False in the Pandas options:\nhttps://pandas.pydata.org/pandas-docs/stable/user_guide/options.html. Does it work fine in Jupyter notebook?. Are there any error messages in the Atom dev console?. None of that is related to Hydrogen. Do non-pandas outputs show up fine?. I think to inspect more closely it'll be necessary to see the responses that Jupyter is sending back and why the html element isn't being filled correctly. I don't have more time to debug right now. Maybe @BenRussert     has an idea. The latest release of IPython is 7.3.0. Could you upgrade?\npip install ipython --upgrade. What pandas version?. Pandas should be returning a dataframe as an HTML element.\nYou can test if HTML isn't working by running:\npy\nfrom IPython.display import HTML\nHTML('<b>this should be bold</b>')\nYou should see bolded output:\n\n. I think it has to be a pandas setting, and not on our side. \nFor example, I see:\nimport pandas as pd\ndf = pd.DataFrame({'a': [1, 3, 4]})\nip = get_ipython()\nip.display_formatter.format(df)\n({'text/plain': '   a\\n0  1\\n1  3\\n2  4',\n  'text/html': '<div>\\n<style scoped>\\n    .dataframe tbody tr th:only-of-type {\\n        vertical-align: middle;\\n    }\\n\\n    .dataframe tbody tr th {\\n        vertical-align: top;\\n    }\\n\\n    .dataframe thead th {\\n        text-align: right;\\n    }\\n</style>\\n<table border=\"1\" class=\"dataframe\">\\n  <thead>\\n    <tr style=\"text-align: right;\">\\n      <th></th>\\n      <th>a</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr>\\n      <th>0</th>\\n      <td>1</td>\\n    </tr>\\n    <tr>\\n      <th>1</th>\\n      <td>3</td>\\n    </tr>\\n    <tr>\\n      <th>2</th>\\n      <td>4</td>\\n    </tr>\\n  </tbody>\\n</table>\\n</div>'},\n {}). Pandas isn't responding with any output when you run df. @grahamanderson     Can you run:\npd.reset_option(\"all\"). Right and then try to run df again. Personally I think this is a Pandas error. You're able to see HTML just fine through Hydrogen.\nYou can run the following to see what I see from Pandas.\npy\nfrom IPython.display import HTML\nHTML('<div>\\n<style scoped>\\n    .dataframe tbody tr th:only-of-type {\\n        vertical-align: middle;\\n    }\\n\\n    .dataframe tbody tr th {\\n        vertical-align: top;\\n    }\\n\\n    .dataframe thead th {\\n        text-align: right;\\n    }\\n</style>\\n<table border=\"1\" class=\"dataframe\">\\n  <thead>\\n    <tr style=\"text-align: right;\">\\n      <th></th>\\n      <th>a</th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr>\\n      <th>0</th>\\n      <td>1</td>\\n    </tr>\\n    <tr>\\n      <th>1</th>\\n      <td>3</td>\\n    </tr>\\n    <tr>\\n      <th>2</th>\\n      <td>4</td>\\n    </tr>\\n  </tbody>\\n</table>\\n</div>')\nBut I don't know how it would work fine in Jupyter Notebook and not in Hydrogen. Any thoughts @BenRussert   ?. @grahamanderson  Can you try updating Jupyter as well? You say you're on Jupyter version 4.4.0 (I assume you're referring to the notebook version). The newest version is 5.7.4: https://jupyter-notebook.readthedocs.io/en/stable/changelog.html. Can you try reinstalling?. Does it work in Jupyter notebook? Try running jupyter notebook in your terminal, then starting a new Javascript notebook. You can set a command to be run every time you start a kernel in the settings. The name has to be the display name of the kernel. I think this should be changed to allow the actual kernel name, but haven't gotten around to that PR yet.. Just use %run ~/output_python/start_up_script.py\\n%matplotlib qt so that the latter is on a new line when sent to python. That doesn't work because Hydrogen expects to value to be a string, not an array of strings. Did you try \njson\n{\"Python 3\": \"%run ~/output_python/start_up_script.py\\n%matplotlib qt\"}\n?. That's an ipython limitation. I don't think you can put magics inside scripts.. Ok I'll mark this as fixed.. This is probably a duplicate of https://github.com/nteract/hydrogen/issues/1479. There's a command for \"run cell and move down\". You can interrupt the kernel. Check the Hydrogen commands in the command palette. Thanks! That does look better. I'll update the PR later.. You're right, I don't think it does.. Fixed. Just removing .trimLeft() isn't my favorite solution because then if a markdown cell looks like\n```py\n%% markdown\n# Header\nbold\n- list\n- indented list\nthen the text in the markdown cell in the Jupyter notebook would still have a leading space in each row, i.e.:\n # Header\n bold\n - list\n     - indented list\n``\nI think writing with a space after the#is clearer in the.py` file, while having a leading space on every line in the exported markdown cell is annoying.\nI added code to dedent common leading whitespace for Markdown blocks, so that the above cell would be converted to\n```\nHeader\nbold\n- list\n    - indented list\n``\n. Previously the test had usedxit(), so I think the test was never run, especially because it would have failed.. The test still doesn't pass, but I'm not sure why because it seems to produce the correct output when I paste the test commands into the dev console.. I discovered the tiny dependency https://github.com/sindresorhus/strip-indent, which probably has better code than mine. I added that and removed my custom code.. It was working just passing the buffer to commutable, so I didn't change it.. Might be good to check out how version 3 differs, because supporting reading version 3 would be a nice plus (probably for a future PR). :+1: . Can't you import this fromtest-utils.js?. Ohh that makes sense. Is the updated test ok now?. I updated that in #1505 https://github.com/nteract/hydrogen/pull/1505/files. You're right. I assume that we don't activate Hydrogen at Atom startup to save time? I was hoping the URI would trigger a Hydrogen activation command, but it doesn't look like it does. All good points.. Empty comment?. IsgrammarForScopeNameused?. either is fine. Flow didn't complain but yes I think your solution is definitely cleaner. @BenRussert   I couldn't figure out a way toexpecttheclearon the values of theMap`.... ",
    "BrianMiner": "I have the same problem....The ipython kernel cant be located using hydrogen. I can run the \"what atom can see\" commands above and I get the following. I have tried rebuilding, reinstalling and I can not get python to work.\n```\nchildProcess = require('child_process')\nObject {}\nchildProcess.execSync(\"which ipython\").toString()\n\"/home/jma/anaconda/bin/ipython\n\"\nchildProcess.spawnSync(\"ipython\").stdout.toString()\n\"Python 2.7.11 |Anaconda 2.1.0 (64-bit)| (default, Dec  6 2015, 18:08:32) \nType \"copyright\", \"credits\" or \"license\" for more information.\nIPython 3.1.0 -- An enhanced Interactive Python.\nAnaconda is brought to you by Continuum Analytics.\nPlease check out: http://continuum.io/thanks and https://binstar.org\n?         -> Introduction and overview of IPython's features.\n%quickref -> Quick reference.\nhelp      -> Python's own help system.\nobject?   -> Details about 'object', use 'object??' for extra details.\n\u0001\u001b[0;32mIn [\u0001\u001b[1;32m1\u0001\u001b[0;32m]: \u0001\u001b[0m\nDo you really want to exit ([y]/n)? \n```\n. The result is ...\n/home/jma/anaconda/bin/python: No module named ipykernel\n. I thought the package worked with Ipython I did not realize I needed to upgrade to jupyter. That solved it!\n. ",
    "accmohamedsaber": "Hi,\nI am getting this error message, as shown in the print screen, when I installed Atom on Windows, could you please help? \n\n\n. no, I have not - im fairly new to atom .. how can i do that?\n. this is the error message that I am getting in atom's console:\n\n. I had installed python 3 then installed atom .. i've not used console to to install it.\n. I've followed the instructions add python on environment variables on Windows , however I still get the same issue:\nalso, there is an error message saying :\nAtom: 1.20.0 x64\nElectron: 1.6.9\nOS: Microsoft Windows 10 Pro\nThrown From: python-suite package 0.3.2\nStack Trace\nUncaught Error: This socket is closed\n```\nAt events.js:160\nError: This socket is closed\n    at Socket._writeGeneric (net.js:683:19)\n    at Socket._write (net.js:734:8)\n    at doWrite (_stream_writable.js:332:12)\n    at writeOrBuffer (_stream_writable.js:318:5)\n    at Socket.Writable.write (_stream_writable.js:245:11)\n    at Socket.write (net.js:661:40)\n    at checkGrammar (/packages/python-suite/lib/python-suite.coffee:32:33)\n    at Function.module.exports.Emitter.simpleDispatch (~/AppData/Local/atom/app-1.20.0/resources/app/node_modules/event-kit/lib/emitter.js:25:20)\n    at Emitter.module.exports.Emitter.emit (~/AppData/Local/atom/app-1.20.0/resources/app/node_modules/event-kit/lib/emitter.js:141:34)\n    at Workspace.didChangeActivePaneItemOnPaneContainer (~/AppData/Local/atom/app-1.20.0/resources/app/src/workspace.js:492:28)\n    at WorkspaceCenter.paneContainer.onDidChangeActivePaneItem (~/AppData/Local/atom/app-1.20.0/resources/app/src/workspace-center.js:17:20)\n    at Function.module.exports.Emitter.simpleDispatch (~/AppData/Local/atom/app-1.20.0/resources/app/node_modules/event-kit/lib/emitter.js:25:20)\n    at Emitter.module.exports.Emitter.emit (~/AppData/Local/atom/app-1.20.0/resources/app/node_modules/event-kit/lib/emitter.js:141:34)\n    at PaneContainer.didChangeActiveItemOnPane (~/AppData/Local/atom/app-1.20.0/resources/app/src/pane-container.js:284:26)\n    at Pane.module.exports.Pane.setActiveItem (~/AppData/Local/atom/app-1.20.0/resources/app/src/pane.js:339:22)\n    at Pane.module.exports.Pane.activateItem (~/AppData/Local/atom/app-1.20.0/resources/app/src/pane.js:492:27)\n    at TabBarView.module.exports.TabBarView.onClick (~/AppData/Local/atom/app-1.20.0/resources/app/node_modules/tabs/lib/tab-bar-view.js:715:25)\n```\nCommands\n\nNon-Core Packages\natom-python-run 0.8.1 \natom-runner 2.7.1 \nautocomplete-python 1.10.3 \nautocomplete-python-jedi 1.10.1 \nHydrogen 1.23.0 \npython-debugger 0.2.0 \npython-indent 1.1.0 \npython-jedi 0.3.8 \npython-suite 0.3.2 \npython-tools 0.6.9\n\". ",
    "nicholascgilpin": "Encountered in Atom version 1.29 8/2/2018 on Windows 10\nI'm adding this comment because the error message is unintuitive. The error still appears with Python installed and in the PATH. However, the issue can be easily solved as shown below.\nError Message:\n'C:\\Users\\my_username\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe' could not be spawned. Is it installed and on your path? If so please open an issue on the package spawning the process.\nMy Solution: Reinstall the kernel onto your current environment.\npython -m pip install ipykernel\npython -m ipykernel install --user. ",
    "flying-sheep": "\nor otherwise doesn't have a PATH\n\nthat\u2019s the correct issue title/reason. on linux, $PATH is defined everywhere.\n. ",
    "pashifika": "[root@localhost src]# yum install zeromq3*\n\u8aad\u307f\u8fbc\u3093\u3060\u30d7\u30e9\u30b0\u30a4\u30f3:fastestmirror, langpacks, priorities\nLoading mirror speeds from cached hostfile\n- base: mirror.fairway.ne.jp\n- centosplus: mirror.fairway.ne.jp\n- epel: ftp.tsukuba.wide.ad.jp\n- extras: mirror.fairway.ne.jp\n- nux-dextop: li.nux.ro\n- rpmforge: mirror.fairway.ne.jp\n- updates: mirror.fairway.ne.jp\n\u30d1\u30c3\u30b1\u30fc\u30b8 zeromq3-3.2.5-1.el7.x86_64 \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u304b\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\n\u30d1\u30c3\u30b1\u30fc\u30b8 zeromq3-devel-3.2.5-1.el7.x86_64 \u306f\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u304b\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u3059\n\u4f55\u3082\u3057\u307e\u305b\u3093\n\n[pashifika@localhost ~]$ apm rebuild\nRebuilding modules \u2713\n[pashifika@localhost ~]$ apm list\nBuilt-in Atom packages (88)\n\u251c\u2500\u2500 archive-view@0.58.0\n\u251c\u2500\u2500 atom-dark-syntax@0.27.0\n\u251c\u2500\u2500 atom-dark-ui@0.49.0\n\u251c\u2500\u2500 atom-light-syntax@0.28.0\n\u251c\u2500\u2500 atom-light-ui@0.41.0\n\u251c\u2500\u2500 autocomplete-atom-api@0.9.0\n\u251c\u2500\u2500 autocomplete-css@0.8.0\n\u251c\u2500\u2500 autocomplete-html@0.7.2\n\u251c\u2500\u2500 autocomplete-plus@2.17.4\n\u251c\u2500\u2500 autocomplete-snippets@1.7.0\n\u251c\u2500\u2500 autoflow@0.25.0\n\u251c\u2500\u2500 autosave@0.21.0\n\u251c\u2500\u2500 background-tips@0.25.0\n\u251c\u2500\u2500 base16-tomorrow-dark-theme@0.26.0\n\u251c\u2500\u2500 base16-tomorrow-light-theme@0.9.0\n\u251c\u2500\u2500 bookmarks@0.35.0\n\u251c\u2500\u2500 bracket-matcher@0.76.0\n\u251c\u2500\u2500 command-palette@0.36.0\n\u251c\u2500\u2500 deprecation-cop@0.52.0\n\u251c\u2500\u2500 dev-live-reload@0.46.0\n\u251c\u2500\u2500 encoding-selector@0.20.0\n\u251c\u2500\u2500 exception-reporting@0.25.0\n\u251c\u2500\u2500 find-and-replace@0.174.0\n\u251c\u2500\u2500 fuzzy-finder@0.87.0\n\u251c\u2500\u2500 git-diff@0.55.0\n\u251c\u2500\u2500 go-to-line@0.30.0\n\u251c\u2500\u2500 grammar-selector@0.47.0\n\u251c\u2500\u2500 image-view@0.54.0\n\u251c\u2500\u2500 incompatible-packages@0.24.0\n\u251c\u2500\u2500 keybinding-resolver@0.33.0\n\u251c\u2500\u2500 language-c@0.45.0\n\u251c\u2500\u2500 language-clojure@0.16.0\n\u251c\u2500\u2500 language-coffee-script@0.41.0\n\u251c\u2500\u2500 language-csharp@0.6.0\n\u251c\u2500\u2500 language-css@0.32.0\n\u251c\u2500\u2500 language-gfm@0.77.0\n\u251c\u2500\u2500 language-git@0.10.0\n\u251c\u2500\u2500 language-go@0.27.0\n\u251c\u2500\u2500 language-html@0.40.0\n\u251c\u2500\u2500 language-hyperlink@0.13.0\n\u251c\u2500\u2500 language-java@0.15.0\n\u251c\u2500\u2500 language-javascript@0.80.0\n\u251c\u2500\u2500 language-json@0.15.0\n\u251c\u2500\u2500 language-less@0.27.0\n\u251c\u2500\u2500 language-make@0.14.0\n\u251c\u2500\u2500 language-mustache@0.11.0\n\u251c\u2500\u2500 language-objective-c@0.15.0\n\u251c\u2500\u2500 language-perl@0.26.0\n\u251c\u2500\u2500 language-php@0.26.0\n\u251c\u2500\u2500 language-property-list@0.8.0\n\u251c\u2500\u2500 language-python@0.36.0\n\u251c\u2500\u2500 language-ruby@0.56.0\n\u251c\u2500\u2500 language-ruby-on-rails@0.22.0\n\u251c\u2500\u2500 language-sass@0.39.0\n\u251c\u2500\u2500 language-shellscript@0.15.0\n\u251c\u2500\u2500 language-source@0.9.0\n\u251c\u2500\u2500 language-sql@0.17.0\n\u251c\u2500\u2500 language-text@0.7.0\n\u251c\u2500\u2500 language-todo@0.25.0\n\u251c\u2500\u2500 language-toml@0.16.0\n\u251c\u2500\u2500 language-xml@0.30.0\n\u251c\u2500\u2500 language-yaml@0.22.0\n\u251c\u2500\u2500 link@0.30.0\n\u251c\u2500\u2500 markdown-preview@0.150.0\n\u251c\u2500\u2500 metrics@0.51.0\n\u251c\u2500\u2500 notifications@0.56.0\n\u251c\u2500\u2500 one-dark-syntax@0.7.1\n\u251c\u2500\u2500 one-dark-ui@0.9.1\n\u251c\u2500\u2500 one-light-syntax@0.7.0\n\u251c\u2500\u2500 one-light-ui@0.9.1\n\u251c\u2500\u2500 open-on-github@0.37.0\n\u251c\u2500\u2500 package-generator@0.39.0\n\u251c\u2500\u2500 release-notes@0.53.0\n\u251c\u2500\u2500 settings-view@0.208.0\n\u251c\u2500\u2500 snippets@0.95.0\n\u251c\u2500\u2500 solarized-dark-syntax@0.35.0\n\u251c\u2500\u2500 solarized-light-syntax@0.21.0\n\u251c\u2500\u2500 spell-check@0.59.0\n\u251c\u2500\u2500 status-bar@0.74.0\n\u251c\u2500\u2500 styleguide@0.44.0\n\u251c\u2500\u2500 symbols-view@0.99.0\n\u251c\u2500\u2500 tabs@0.81.0\n\u251c\u2500\u2500 timecop@0.31.0\n\u251c\u2500\u2500 tree-view@0.172.0\n\u251c\u2500\u2500 update-package-dependencies@0.10.0\n\u251c\u2500\u2500 welcome@0.29.0\n\u251c\u2500\u2500 whitespace@0.30.0\n\u2514\u2500\u2500 wrap-guide@0.35.0\n/home/pashifika/.atom/packages (11)\n\u251c\u2500\u2500 Hydrogen@0.4.1\n\u251c\u2500\u2500 atom-beautify@0.28.7\n\u251c\u2500\u2500 autocomplete-python@0.5.1\n\u251c\u2500\u2500 file-icons@1.5.8\n\u251c\u2500\u2500 file-templates@0.1.1\n\u251c\u2500\u2500 git-control@0.3.0\n\u251c\u2500\u2500 japanese-menu@0.7.0\n\u251c\u2500\u2500 linter@1.1.0\n\u251c\u2500\u2500 linter-flake8@1.4.2\n\u251c\u2500\u2500 minimap@4.10.1\n\u2514\u2500\u2500 save-session@0.15.6\n\nzeromq-3.2.5         build&install    no work\nzeromq-4.0.5         build&install    no work\nzeromq-4.1.2         build&install    no work\n. ",
    "radix": "@willwhitney The problem is that Atom can't even find my IPython without running from the shell, because I don't have IPython installed system-wide. I would at least like for Hydrogen to offer a configurable IPython command. This is separate from IPython finding commands for running its subprocesses.\n. @willwhitney Oh, I totally misunderstood. Thank you. Sorry, this is my first time ever using Jupyter, so I wasn't familiar with all this kernel business. It turns out install-self installed some crap system-wide :-( but I was able to then move /usr/local/share/jupyter/kernels to ~/.ipython/kernels to disinfect my system and Hydrogen is now working great when run from the desktop. Thanks :-)\n. @YoungxHelsinki I think you may be misunderstanding the intent of my bug. I'm saying that I don't want the output to disappear, but it does when I press enter. FWIW there's a keypress, cmd-alt-backspace, that removes all output from the current buffer.\n@willwhitney I have no idea about the implementation details; I don't know anything about the internal model for atom buffers. I just think that if I hit enter after running a line, the output shouldn't disappear. Would it perhaps be feasible to put the secret marker at the beginning of the line instead of the end?\n. @willwhitney I guess it would be nice to clear individual results too. There are \"x\" icons to close on multi-line output, what about having the same for result bubbles? I guess a keystroke for \"clear output on current line\" could also be useful.\n. sorry, I don't have any ideas. is it a bug in atom?\n. @willwhitney I actually just tested this change by duplicating it in my ~/.atom/packages/Hydrogen directory directly, and it works! :D \n. Is anyone aware of a way to revert to an old version of atom in order to work around this problem? I really need Hydrogen to record some screencasts.\n. ",
    "lseongjoo": "I hope not. IPython is in PATH and I install the package. Then, reload Atom. That's all I did. \n1. 7. 3. \uc624\uc804 1:11 Will Whitney notifications@github.com \uc791\uc131:\n\nDid you kill all Atom processes and start it from the command line?\nOn Thu, Jul 2, 2015, 1:13 AM Lee Seongjoo notifications@github.com wrote:\n\nHow can I properly report this problem?\n[image: 2015-07-02 2 12 23]\nhttps://cloud.githubusercontent.com/assets/444818/8470333/685e69ae-20c4-11e5-9139-e0c613d467b8.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/72.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n\n",
    "rpavlick": "@willwhitney This 'jank' could be avoided by using 'shell-environment'. \nhttps://www.npmjs.com/package/shell-environment\nhttps://github.com/rgbkrk/atom-script/pull/98#issuecomment-49167626\n. ",
    "andre-dietrich": "Hi, it is saved ... I hope the screenshot helps...\n\n. \n. In ipython (notebook) everything works fine ... The strange thing is (probably it is not strange at all, except for me) that I it seems to work for assertions...\n\nIt is always the same, also after restarts ...\n. After some googling I found out, that jupiter uses a new message format... I downgraded to the standard ubuntu version of ipython notebook ... and ... your nice plugin worked out of the box :.). \n. @ChrislS :+1:  thanks for this comment, it worked for me too \n. ",
    "classner": "I can confirm the issue with IPython 3.2 (default anaconda installation). I did not try @andre-dietrich s solution, because I didn't want to mix my system and anaconda python installations.\n. I tried on three computers now and could not get hydrogen to work on either one. They were always using Anaconda Python as distribution, but the ipython version varies between 3.1 and 3.2. Atom version is 1.0, the OS is Ubuntu Linux 14.04 with stock libzmq-dev installed. If it's not hydrogen related, how could we then narrow down on where the issue comes from?\n. This is not an option for me, since I need some Anaconda-specific packages. What would be the best way to debug things or narrow down the bug? Is there any troubleshooting website, etc.?\n. Finally solved this:\nthe reason is for the lacking output is, that Anaconda provides its own version of libzmq, which is not on the system path or the ld_library_path. When building hydrogen, it complains about the missing zmq libs and asks the user to install them. When doing so, there is a version mismatch between the system and Anaconda's libzmq.\nWhen now hydrogen instantiates the Anaconda IPython kernel, the kernel uses its own, newer libzmq, but hydrogen relies on its older system-libzmq, leading to problems.\nMy solution was to remove the system libzmq and build a new, current version by hand. Looking back in retrospoective, it is even 'cleaner' to create symlinks to the libzmq provided by Anaconda. I don't know whether there is a good way to check for this scenario within hydrogen, but it might be worthwhile adding this failure case to a FAQ or similar...\nThank you for the fast responses and the great project!\n. ",
    "worldsayshi": "I had the same problem (ubuntu). Seemed like the problem was that I had installed the old libzmq-dev. Seems like I solved the problem by first installing libzmq3-dev and then reinstalling hydrogen. \nAlso remember to restart atom from command line afterwards. \n. Probable duplicate: https://github.com/willwhitney/hydrogen/issues/88\n. It seems that installing libzmq3-dev and then reinstalling hydrogen solved it for me. \nRelevant: https://github.com/willwhitney/hydrogen/issues/73\n. ",
    "DraceniY": "Hey, i have same problem no output \n\n. ",
    "ahnj": "+1\n. ",
    "mangecoeur": "I have also been looking at this  - in the past I worked on an IPython desktop version (https://github.com/mangecoeur/ipython-desktop) which aimed to wrap the notebook view in a relatively primitive way. Some design questions I struggled with include:\n- Do you build Jupyter into the plugin and only require Kernals to be installed, or do you require separate installs of both Jupyter and Kernals?\n- Do you re-implement the Notebook interface, or simply proxy it into Atom\n- Do you want to support advanced features like interactive widgets? Do you mind re-implementing them?\n- How much would you want to modify Jupyter itself to achieve this. Do you want to simply proxy whatever installation people happen have (my original idea in IPython desktop, but ultimately limiting), or have something that will require a version with your upstream patches.\nI've asked around and got conflicting advice as to how much notebook-specific intelligence is in the notebook server - which impacts whether it makes more sense to proxy the interface - either as an iframe or through some internal mechanism, e.g. fetching rendered notebook html from within the plugin, transforming it and inserting it into the Atom view.\nI personally think re-implemening the view alone might be reasonable and much more powerful if the serverside functionality can be made available through APIs (not depending on rendering of server side templates which seems to happen at the moment). Not sure how widgets would work.\nI would love to see a notebook editor that used Atom TextEditors and so inherit all the text-editing superpowers as well as keybindings etc and gets rid of the extraneous browser chrome. Definitely up for contributing!\n. I think when you use pyenv the python version won't be on your PATH, so you might have to either update your PATH before running and change it back after, or see if you can specify the location of the python binary.\nPersonally, every time Hydrogen updates I have to edit my PATH first (I use Anaconda Python 3). It's pretty annoying.\nIt would be nice to nuke the GYP dependence somehow - I have lost hope in them fixing Python3 support before the heat death of the universe at this point (there is an issue open since 2009! 7 years and counting!). It seems it's all down to needing to build the ZMQ bindings.\n. ",
    "fbrundu": "Any updates on this? Or focus has shifted to nteract?\nI love nteract and atom but I would prefer one editor to do both things (code and notebooks).. ",
    "ssfrr": "Adding a keymap-able command to clear the output from the current line would be really useful. I usually don' t need the output from the pop-up for very long after first seeing it, so I almost always end up clicking the 'X' with the mouse after reviewing the contents.\nAlso more on-topic for the original post, I agree that adding a new line below the current line shouldn't clear the output on that line. It feels unexpected when it happens.\n. Hmm, after clearing all output it doesn't seem to be happening now that there are only a couple output bubbles. Maybe it has something to do with having a bunch of displayed bubbles?\n. Filed the issue, please feel free to add to it if you have any more insight.\nI did see this comment in autocomplete-plus that mentions avoiding a flicker, but I have no idea if it's related.\n. ",
    "alvis": "any suggestion to get around this problem?. @n-riesco: Thanks for pointing out. It's smart to use the # In[]: syntax to separate cells. Never thought it'd be a way.. ",
    "mbroedl": "Please have a look if the most recent commit in this PR nikitakit/hydrogen-python#10 work for you. I've just added exactly this functionality.. Ah, thanks @BenRussert ,  I hadn't even considered that it could be an auto-scaled svg image.\nI tried what you suggested, but the not so neat hydrogen layout bugged me a bit. ;)\nSo I experimented a bit and came to this solution:\n.multiline-container .hydrogen_cell_display .cell_display svg {\n    width: 600px;\n}\nThe 600px is a perfect fit for the hydrogen box, probably only because of which line-length, etc I have though.\nThis does work neatly, the only thing is that it's a bit too small. (With your solution it wasn't but I had to use the overflow-x scroll bars.) So maybe I can just load a library to pan and zoom, and apply it to the same element. ;)\nThanks so much for your help, quite happy now!. Don't ask me why but the following works really well!\nFirst one sets a resize button (a bit tricky to grab) into the bottom right corner of the display.\nAnd then the width 100% (I do not know where it gets the reference from though!) puts it to 300px on my screen, but it's easy to scale. :) It does not go any smaller than that for some reason.\n```\n.multiline-container .hydrogen_cell_display {\n    resize: both;\n}\n.multiline-container .hydrogen_cell_display .cell_display svg {\n    width: 100%;\n}\n```\nWould be nice to add this maybe? Or at least via a .svg class (until a css :has(svg) would work) to the hydrogen cell that optionally makes it resizable?\nWhen setting the svg to a fixed with, it is impossible to scale it down, so maybe min-width would be better than my suggestion above? Possibly one could add an option in the settings for \"standard graphics width\" or something? (I don't know how it's handled at the moment.). Maybe one could add some buttons in the future, like in the preview-inline package?\n\n. You may want to try this package, which takes care of the whitespace problem.\nhttps://atom.io/packages/hydrogen-python\nAnd then you may want to file the if/else behaviour as a feature request to that package, because it's a language specific issue?\n862 #1285. That's a good one @kylebarron!\nLooking quite good! Only thing I could find right now is that a mix of hard tabs and spaces causes Indentation Errors, but that's not supposed to be working in python anyway:\n\nThese two lines should help in case you feel like implementing that:\nconst tabSub = ' '.repeat(e.getTabLength());\ncode = code.replace(/\\t/g, tabSub);\nAnother point: I would suggest moving the implementation to normalizeString as every function seems to call that before returning. That'd avoid unforeseen consequences in case getTextInRange, getRow, and getRows are called. (I don't know what the circumstances for this would be.)\nRE: 3. I'm in favour of expanding the selection to the front of the line, assuming that there is only whitespace at the beginning of the line.\nOnly problem is that from the code now passed to hydrogen-python is that you cannot anymore expand the selection because you don't know the indentation level. This would then indeed require another API function in hydrogen. Since the whitespace is now stripped even before the loop whether or not there is a selection, I'm not sure where to put the API anymore... unless you pass the indentation-level as well?. You're absolutely right @kylebarron . Sorry, I looked at the wrong fork, as you pointed out in the other thread! Then my remarks are void.. ",
    "JonnyCBB": "Thanks for getting back to me so quickly. \nI tried what you recommended but it didn't work :(\nPkg.rm(\"IJulia\")\nPkg.add(\"IJulia\")\nAfter doing that I even ran\nPkg.build(\"IJulia\")\nPkg.update()\n[All of the above was in a Julia terminal]\nThen I tried to run a line of code in Atom but I got the same error message i.e. it's still trying to find Julia v0.3.6\n. I modified the file and it works.\nHowever I found two folders in the Kernels directory. One named \"julia 0.3\" which pointed to Julia v0.3,6 and the other folder named \"julia-0.3\" which had the correct Julia version in there.\nI assume there's either a new way of naming the folders or it saw the previous folder, decided not to overwrite it and create the new folder. I'm inclined to go with the former.\nAnyway Thank you so much for the help.\nI'll close the issue\n. Thanks. Much appreciated :+1: \n. I had the same issue and @n-riesco 's solution to set the Language Mappings to {\"python\": \"magicpython\"} worked for me. It only shows up for the 3 kernels:\n- Julia 0.6.2\n- Python 3\n- Python-3. I confess that I'm not really familiar with Node.js and npm but I'll see what I can do about reproducing the error. I've run that command and lo and behold, kernel specs doesn't return the Ruby kernel. I assume this is no longer an issue with this package so I'll close the issue here and open one on the kernelspecs repo. Thanks @n-riesco . I do have another problem. Maybe you could advise if it makes sense to reopen the issue or create a new one.\nI've managed to fix the original problem by moving the Ruby kernel files into a directory that is picked up by the jupyter-paths package. Now I can run the command to hydrogen:update-kernels and the ruby kernel shows up.\nThe problem now is that Hyrdogen doesn't seem to do anything when I try to evaluate a statement. Nothing appears in the debugging console at the point when I try to evaluate the statement. I'm not sure what the problem could be at the moment.\nWith that said, here are the outputs of the console. I have some new [Violoation] messages which may be to do with it but in all honesty they don't mean much to me.\n\nFYI Hydrogen seems to work normally for my Python kernel. It evaluates and prints the result next to the statement on the screen.. This is what I get when I evaluate a Ruby statement that doesn't work:\n\nThis is what I get evaluating a Python one that does work:\n\n. Thank you so much @n-riesco. That worked. My other kernels seem unaffected too \ud83d\udc4d \nI have a few more questions purely because I'm interested:\n1. What side effects could I expect by making the changes that you suggested?\n2. Do you think that these changes will be included in the next release of Hydrogen or will I have to make these changes after every update? \nI'm not sure if you're a maintainer but you seem very knowledgeable.\nOnce again, thanks so much for sorting this out so quickly for me. Done: https://github.com/nteract/hydrogen/pull/1360. ",
    "mpf": "I'm also having the same trouble: Hydrogen: Run causes the following error:\n'/usr/local/Cellar/julia/0.3.6_1/bin/julia' could not be spawned. \nIs it installed and on your path? If so please open an issue on\nthe package spawning the process.\nThis is for Atom 1.3.1 running on OSX with Julia 0.4.1. Reinstalling IJulia and editing kernel.json, as suggested above, doesn't make a difference. In case it helps, I can confirm that the Jupyter notebook is working, and the Julia 0.4.1 kernel does appear as an option.\n. @terraqout  Thanks for pointing out ipython kernelspec list, which pointed me to extraneous dirs in ~/Library/Jupyter/kernels. Removing these fixed the problem.\n. ",
    "stonebig": "not a clue, but I will try.\n. ",
    "igorbb": "Not a perfect solution, but can reset the watched kernel.\nYou can switch the kernel  being watch by invoking your command bar :\n\nBut this would still clear all your watchers.\n. Same issues With Linux.\nAtom Version: 1.0.7\nSystem: linux 4.1.5-1-ARCH\nThrown From: Hydrogen package, v0.4.4\nStack Trace\nUncaught TypeError: Cannot read property 'length' of undefined\n```\nAt /usr/share/atom/resources/app.asar/node_modules/text-buffer/lib/text-buffer.js:419\nTypeError: Cannot read property 'length' of undefined\n    at TextBuffer.module.exports.TextBuffer.lineLengthForRow (/usr/share/atom/resources/app.asar/node_modules/text-buffer/lib/text-buffer.js:419:29)\n    at Object.module.exports.Hydrogen.insertResultBubble (/home/igorbb/.atom/packages/Hydrogen/lib/main.coffee:138:27)\n    at /home/igorbb/.atom/packages/Hydrogen/lib/main.coffee:214:30\n    at Object.module.exports.Hydrogen.startKernelIfNeeded (/home/igorbb/.atom/packages/Hydrogen/lib/main.coffee:307:18)\n    at Object.module.exports.Hydrogen.run (/home/igorbb/.atom/packages/Hydrogen/lib/main.coffee:197:21)\n    at atom-text-editor.subscriptions.add.atom.commands.add.hydrogen:run (/home/igorbb/.atom/packages/Hydrogen/lib/main.coffee:45:26)\n    at CommandRegistry.module.exports.CommandRegistry.handleCommandEvent (/usr/share/atom/resources/app.asar/src/command-registry.js:241:29)\n    at /usr/share/atom/resources/app.asar/src/command-registry.js:3:61\n    at KeymapManager.module.exports.KeymapManager.dispatchCommandEvent (/usr/share/atom/resources/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:524:16)\n    at KeymapManager.module.exports.KeymapManager.handleKeyboardEvent (/usr/share/atom/resources/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:347:22)\n    at HTMLDocument.module.exports.WindowEventHandler.onKeydown (/usr/share/atom/resources/app.asar/src/window-event-handler.js:177:20)\n```\nCommands\n-1:45.7.0 core:paste (atom-text-editor.editor.is-focused)\n     -1:44.1.0 editor:move-to-first-character-of-line (atom-text-editor.editor.is-focused)\n     -1:43.8.0 snippets:next-tab-stop (atom-text-editor.editor.is-focused)\n     -1:43.8.0 snippets:expand (atom-text-editor.editor.is-focused)\n     -1:43.8.0 editor:indent (atom-text-editor.editor.is-focused)\n  8x -1:29.3.0 core:delete (atom-text-editor.editor.is-focused)\n     -1:19.7.0 core:save (atom-text-editor.editor.is-focused)\n     -1:17.2.0 hydrogen:show-kernel-commands (atom-text-editor.editor.is-focused)\n     -1:14 core:select-all (atom-text-editor.editor.is-focused)\n     -1:13.2.0 hydrogen:run (atom-text-editor.editor.is-focused)\n  2x -1:03.7.0 hydrogen:show-kernel-commands (atom-text-editor.editor.is-focused)\n 10x -0:52.8.0 hydrogen:run (atom-text-editor.editor.is-focused)\n     -0:06.6.0 editor:toggle-line-comments (atom-text-editor.editor.is-focused)\n     -0:06.2.0 core:save (atom-text-editor.editor.is-focused)\n     -0:02.0 editor:select-to-end-of-line (atom-text-editor.editor.is-focused)\n     -0:00.6.0 hydrogen:run (atom-text-editor.editor.is-focused)\nConfig\njson\n{\n  \"core\": {\n    \"autoHideMenuBar\": true\n  },\n  \"Hydrogen\": {}\n}\nInstalled Packages\n``` coffee\nUser\nHydrogen, v0.4.4\natom-beautify, v0.28.11\nautocomplete-python, v0.5.3\nlinter, v1.4.3\nlinter-pep8, v1.0.1\nDev\nNo dev packages\n```\n. ",
    "nbren12": "I am getting the exact same error message for every kernel I have tried python2, python3, and julia. I am using anaconda on mac os x with python3 as my default. \n. It works now! however, I just rm -rf'd all the language-* packages in my\n.atom folder, so I am not really sure which grammar was messing it up, and\nwhether this change fixes it (sorry). Now, I just have to figure out how to\nrun the python3 kernel.\n. ",
    "crazzle": "Hi - I am not sure as I cannot reproduce it.\nThe error was caused when I accidentally had the settings tab open and in focus while trying to run the plugin with Hydrogen: Run.\nBut that seems to be a misbehavior in atom that is not reproducible.\n. ",
    "alekzvik": "Had the same error.\nSteps to reproduce:\n1. Open python file\n2. Add few watches\n3. Close python file (no open tabs left)\n4. Run code in watches pane\n. ",
    "smashwilson": "Yeah, it might be possible to generate an event that stacktrace could consume. This may require work on the stacktrace end though, considering that I don't think I've worked on it since the package subscription spec came out.\n. Oh no, I totally did! Well look at that.\n. ",
    "smatting": "Evaluate x = 3 then x which yields no output even though the variable is successfully defined in the kernel.\n. After upgrading to jupyter, I can no longer reproduce this problem.\n. ",
    "minrk": "It does take a finite amount of time for subscriptions to propagate from the subscriber to the publisher, and messages published before this time will be discarded by the publisher and the subscriber will not see them. Typically, this time is on the order of milliseconds. It would be very difficult for it to not have established this connection by the time a first execution request has been handled.\n. One thing you can do is perform a kernel_info request at startup, prior to allowing execution. This allows you to ensure that the kernel is up and responsive before you start submitting execution requests. Each kernel_info request should also produce status idle/busy messages on the IOPub channel, so you can also use it to verify that IOPub is hooked up.\n. You could keep trying kernel_info until you get the status messages:\npython\nwhile True:\n    kernel_info_request()\n    wait_for_idle()\n    if idle_received:\n        break\nIf that takes more than one or two iterations, something is probably wrong.\n. @slavaGanzin I wasn't proposing anyone use while true. That was pseudocode for the logic of repeating kernel info requests until idle messages are received on the IOPub channel.\n@n-riesco Sorry, I'm not familiar enough with the Hydrogen code, but I don't see the checks for IOPub messages related to that kernel_info request. Are they there, but I'm not seeing them?\n. If you'd rather connect to the notebook server from a websocket instead of zmq, we're in the midst of building npm packages for the web API provided by that application. You can try jupyter-js-services, which is the most basic part of it, but it only just became relatively complete and probably isn't super stable yet.\nIt doesn't make much sense to provide the zmq-websocket bridge itself as an npm package, since it's all Python.\n. If you are only using it for the first connect event, disabling monitoring after you get it is a good idea. I'd encourage not monitoring at all, though. I think it's a bit of an anti-pattern in zeromq. zmq sockets can be used before connections are established, so there isn't much benefit to being notified that the connection event occurred, other than debugging.. ",
    "DzamoNorton": "@lgeiger I was working the same way as you but realised that hydrogen / iPython has access to a lot more type information during an interactive session than Jedi is able to figure out.  So I added a key binding\n'.platform-win32 atom-text-editor, .platform-linux atom-text-editor':\n  'alt-shift-i': 'hydrogen:toggle-inspector'\nand I now, admittedly with a couple of extra keystrokes, rely on hydrogen for docstrings too when I'm working interactively.\nWhat would really nail it is if hydrogen could show the inspector results while I am still hovering over the auto completion proposals, just the way that autocomplete-python does:\n\n. ",
    "tpoisot": "Agreed, changed.\n. Well, thanks for Hydrogen! I'm starting to really like it.\n. Definitely happens when I start an atom session in ~.\n. that's fine -- I removed the package bc  the issue persisted, and use the notebook instead.\nt\n\nLe 21 juil. 2016 \u00e0 10:06, Nicolas Riesco notifications@github.com a \u00e9crit :\n@tpoisot I'm closing this issue. Please, feel free to reopen if you still need help.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "beardicus": "This happens to me with javascript too. I think it'd be fine to hard wrap it and present it as a multiline-result, perhaps with some glyph that indicates each hard-wrap point. An alternative would be to keep it a single-line result, but make it horizontally scrollable.\n. ",
    "ChristianRinn": "I don't think it is related to the incompability with Python 2.7 anymore because that issue should be solved. While I was tracking down the problem, I successfully installed zmq via sudo npm install zmq.\nAs far as I can tell the problem is related to outdated node packages in the official repositories from Canonical. I got everything working now by removing all nodejs related repos, updating to a 0.10 version from https://github.com/nodesource/distributions and then installing node-gyp via sudo npm install -g node-gyp. Maybe this helps someone with the same problem.\n. Thanks for pointing that out. That makes sense to me now.\n. ",
    "sbromberger": "just wanted to say thanks for looking into this!\n. Dunno if this helps, but\n\nJulia requires source code to be in the UTF-8 encoding of Unicode.\n. Sorry - I can't test windows either.\n. I'd love to get this working as well, but developer console just shows kernel starting, and that's it. Any update?\n. @terraqout I got the kernel association working by putting {\"scala211\": \"scala\"} in the Hydrogen Language Mappings. That's not the issue. The issue is https://github.com/willwhitney/hydrogen/issues/121#issuecomment-148939094 - are you suggesting that this is a kernel issue and not a Hydrogen issue?\n. Hm. it works when I launch atom from the command line. But I thought this was fixed via #176 / https://github.com/atom/atom/pull/11054?\n. I'm using OSX (El Cap 10.11.3) and can't speak to any other OS. Sorry.\n\nThe workaround is to run Atom from the command line once to populate the settings field. After that, it runs without warning/error. If you install new kernels, you just have to run Atom again from the command line and it will rewrite the settings field.\n. Ah, could be. I'm using Source Code Pro at 13px with a line height of 1.1.\n. Thank you both very much. I can confirm 0.8.1 does NOT have the display issue on my system.\n. \"Rebuild Packages\" seems to have resolved it.\n. @lgeiger the thing is, the language mapping works - that is, I am able to run scala211 kernel in hydrogen. This error only comes up when I go to restart the kernel.\nPossibly related? The \"undefined installed\" message.\nEdit: reversing the mapping causes Hydrogen to complain that the kernel doesn't exist, so that's definitely not the right solution.\n. Happy to test against javascript, python, scala, and julia if you tag a release.\n. Python, Julia and Javascript -> no problems. Will try scala when I get into work. Thank you! The new settings are much clearer.\n. Confirmed scala is working. Note that the instructions are accurate but reflect a change to the configuration that may trip up some folks. Previously, the mapping was {\"scala\" : \"scala211\"}. Now it's reversed.\n. Understood, and please don't interpret my comment as a complaint - I noted it in case someone who has recently upgraded is puzzled as to why his/her mapping broke.\nThis is really wonderful work and has made my coding environment immensely better. Thank you :)\n. ",
    "willingc": "@n-riesco You've given an excellent explanation. Thanks!\n@lgeiger How do you feel about closing this issue as resolved?. @rgbkrk Nice!!!!\n. If you install zmq-prebuilt using npm install zmq-prebuilt and then install Hydrogen using Atom's package manager, Hydrogen does work well with OS X 10.11.6.\nInstall zmq-prebuilt from the command line:\nbash\nnpm install zmq-prebuilt\nFrom Atom, go to the Atom->Preferences->Settings menu, install Hydrogen:\n\nFrom Packages->Hydrogen menu, run lines of code:\n\nEnjoy!\n\n. Here's another good example: https://gist.github.com/PurpleBooth/109311bb0361f32d87a2. @BenRussert Looks good and the extra navigation helps.\nTwo small suggestions:\n- Move the GIF up higher under so folks can see it without scrolling. I would grab the sentence about the Medium blog post with the image. So it would flow:\n    - Title\n    - badges\n    - The intro sentence \"This package lets you run your code ...\"\n    - \"Checkout our Medium blog post to see what you can do with Hydrogen.\"\n    - GIF\n    - Contents\n    - Background (less what was moved higher)\n\nAt the very end of the file, it might be nice to add a \"Return to top\" link that brings you to the contents or top of file.\n\nNice job \ud83d\udc4d . Nice! I really like the output display with junolab.. Very awesome @lgeiger :cake:\n. @lgeiger Loving all the document language support. :cake:. I think that you have covered the major ones. I can't think of any that I would add now. . Nice!. Hi @githubmpc, Did you use this documentation for IRkernel https://irkernel.github.io/installation/ ?\nThere are 3 main steps:\n- Make sure that you have R installed.\n- Next install IRkernel (binaries as described here are simplest for Windows and Mac)\n- In the R terminal console, enter the following command: IRkernel::installspec() which should install the IRkernel for use in Hydrogen.\nGood luck!. Do you have Jupyter installed? If so, what is the output of jupyter kernelspec list?\njupyter kernelspec --help-all provides more information about installing and removing language kernels.\nFor example, running this on my system returns:\n\n. What comes to mind off the top of my head would be a visual at the top:\natom-script screenshot  -->  Hydrogen screenshot --> nteract screenshot\nDemonstrating the same script in all three environments (perhaps making the Hydrogen shot 1/3 larger than the other two for focus).\nIt's probably time to consider docs for most of what follows below and then keep the README as a nav to the docs and \"new user\" friendly discussion of languages and applications with less jargon. Linking to the docs for more detail.\nSo... what would the team like to use to create standalone docs? . Does it happen if you delete the kernels and reinstall them?. What does jupyter kernelspec list output?\n. @lgeiger @rgbkrk Do you want to go ahead and close this issue? If Kyle's comment about JSON exists still, perhaps that would work better as another issue. . @wesinator Try python3 -m pip install -U ipython ipykernel\nTo check kernelspecs: jupyter kernelspec list\nFor more info: jupyter kernelspec -h. OMG. This is absolutely, positively wonderful!!! . On MacOS 10.12.5, I have successfully installed hydrogen with the following versions of apm, npm, and node:\n\n@gyh75520 If you are using a 32 bit system, double check that you are using Python 2 instead of Python 3 for installation. ref. Well it looks like you have recent enough versions @gyh75520. \nLet's rule out one possibility. Do you already have jupyter installed? If not, you will need to do so following the installation directions here.\nIf you do have jupyter installed, the following commands will help to troubleshoot your Jupyter installation:\n- jupyter troubleshoot\n- jupyter kernelspec list\n. Hi @gyh75520 I'm a bit confused as to whether you are using Python2 or Python3 for installation.\nThe following would install Hydrogen using Python 2:\n\nwhich python should return a Python2 version.\npython -m pip install --upgrade pip\npython -m pip install --upgrade jupyter\napm install hydrogen. @gyh75520 One other thing to check would be to see if the version of Atom itself and it's dependencies are up to date.\n\nOn my Mac:\n\nDigging a bit more into the original error log at the start of this issue:\n\nevents.js:160\n      throw er; // Unhandled 'error' event\nYou might try https://piotrkrzyzek.com/solved-events-js160-throw-er-unhandled-error-event/ to resolve.. Welcome and thanks @maxim-lian :tada:. Got it. Thanks @lgeiger.. Hi @rpalloni, I've transferred this issue to the Hydrogen repo so more folks will see it.. Thanks @n-riesco for the help. I'm glad you got it working @rpalloni.. As an example, to connect to a remote server, you must .... Remote server. I think it would be best to say:\n- Create a Dockerfile based on either: 1) one of the Jupyter Docker Stacks (we recommend this option) or 2) your own supplied Docker Stack . Perhaps reword and simplify.. Perhaps:\n```\n\nIf using your own Docker Stack image, use the following FROM command syntax substituting your image name\n```. ",
    "schlichtanders": "Thank you very much for this fast clarification - and of course for\ncreating such a lovely plugin.\nI am looking forward to language specific configurations\na simple json configuration file keyworded by standard filenames, referring\nto values which represent the lines to be executed in the beginning could\ndo the trick already, doesn't it? (or is this too insecure?)\nOn 19 September 2015 at 18:37, Will Whitney notifications@github.com\nwrote:\n\nYou'll definitely have to run %matplotlib inline to make them work. This\nis because the IPython kernel doesn't do this itself.\nI don't want to add any kernel-specific code to Hydrogen, but I do have\nplans to (when I get the time...) implement a language plugin system for\nHydrogen that would allow code to be run when the kernel is started and/or\nbefore user code.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/112#issuecomment-141686578\n.\n. thanks for explaining,\nthat would be a great feature,\n\nlooking forward to the future,\nbest,\nStephan\nOn 22 September 2015 at 00:52, Will Whitney notifications@github.com\nwrote:\n\nMy rationale for doing it with extensions is that there are several\npressing language-specific features* which are going to take a nontrivial\namount of code. By building an API for Hydrogen extensions, any\nlanguage-specific features can be independently maintained and distributed\nby the people who use those languages. I don't want to have any\nlanguage-specific code in the core Hydrogen package, and I don't want every\nuser to have to go add this themselves.\n*most notably, a per-language function for finding the preceding block of\ncode to execute from the buffer\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/112#issuecomment-142131230\n.\n. Dear Kyle Kelley,\n\nhow would one distinguish the different languages?\nE.g. open a qt-console for a running python-kernel and not a R-kernel,\nwhich may run in parallel?\n(note, that I lack how events work in atom - maybe my question sounds\nrather senseless when having such a background).\nOn 17 February 2016 at 12:47, Kyle Kelley notifications@github.com wrote:\n\nHey @schlichtanders https://github.com/schlichtanders!\nDesign wise, I'd prefer that we emit an event that another package can\nlisten to for this. That Atom package can then launch the qt-console with:\njupyter qtconsole --existing /path/to/Jupyter/runtime/kernel-16113.json\nIf the qt-console/jupyter-process can optionally be embedded into atom\ndirectly, this would be nice, of course.\nAs another pane within Atom with a qt-console like experience? I agree!\nProbably again as a different Atom package, and should definitely exist.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/166#issuecomment-185168719.\n. thanks for explaining\n\nOn 17 February 2016 at 17:40, Kyle Kelley notifications@github.com wrote:\n\nGenerally for Jupyter spec conforming projects, a connection file is\ncreated somewhere like ~/Library/Jupyter/runtime:\n$ ls ~/Library/Jupyter/runtime/\nkernel-20275.json      notebook_cookie_secret\nWithin that file is the information for connecting to that kernel:\n$ cat ~/Library/Jupyter/runtime/kernel-20275.json\n{\n  \"stdin_port\": 51222,\n  \"ip\": \"127.0.0.1\",\n  \"control_port\": 51223,\n  \"hb_port\": 51224,\n  \"signature_scheme\": \"hmac-sha256\",\n  \"key\": \"17f8a27f-612c-4c63-be5f-95a718243cf6\",\n  \"shell_port\": 51220,\n  \"transport\": \"tcp\",\n  \"iopub_port\": 51221\n}\nAny frontend, including jupyter console, jupyter qtconsole, sidecar\nhttps://github.com/nteract/sidecar, nteract\nhttps://github.com/nteract/nteract, and others can use this to connect\nto the backing runtime/language. The rest that flows from there is the jupyter\nmessage spec\nhttp://jupyter-client.readthedocs.org/en/latest/messaging.html.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/166#issuecomment-185289915.\n. What would the concrete atom event from hydrogen then signalize?\n\nOn 17 February 2016 at 17:45, Kyle Kelley notifications@github.com wrote:\n\njupyter console can also take an argument (for the first one launched)\nfor what language/kernel to use:\njupyter console --kernel=javascript\nthanks for explaining\nNo problem.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/166#issuecomment-185292139.\n. I thought about it again and it seems that the connect_info is almost\neverything what is needed to know for the qt-console-package. Having a\nKERNELPATH variable or such would be enough. But ...\n\nUnfortunately, a short description, including the actual language which is\nrunning on that kernel does not seem to be part of this connect_info, or\ndo I miss something?\nIs it possible to add language information and maybe even a short extra\ndescription like \"Hydrogen kernel\" to the connection file? (Relates this\nhttps://github.com/jupyter/jupyter_client/issues/50 to what is needed?)\nOr can one extract such manually given the connect_info alone?\nOn 17 February 2016 at 17:53, Kyle Kelley notifications@github.com wrote:\n\nActually, looking at current day Atom APIs, seems like we need to offer a\nservice that other packages can consume\nhttps://atom.io/docs/v1.5.3/behind-atom-interacting-with-other-packages-via-services.\nPerhaps a kernel launching service and store?\nJust sketching things out here, I don't have a plan for our events. It's\nworth writing a spec and experimenting with it.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/166#issuecomment-185294961.\n. I think about a atom package \"launch jupyter qt-console\" with an\natom-command like 'qt-console: connect' which searches through paths\ndefined the package's settings and opens a respective list of available\nkernels to connect. You pick one and it opens a qt-console (hopefully with\nthe option to include it directly in atom)\n\nThe concrete list should of course include short readable descriptions\nmaking clear which kernel is meant.\nThe concrete language seems to be one good identifier for differentiating\nespecially within Hydrogen.\nHowever for completeness it would be great to have also additional\ndescriptions, for example that the kernel was indeed launched by Hydrogen.\nEven better, it would be great if apps would specify a short identifying\ndescription of the concrete kernels they started.\nDo you know how to get such additional information?\nOn 18 February 2016 at 15:34, Kyle Kelley notifications@github.com wrote:\n\nIf you connect to a kernel using the connection information and need to\nknow the language information, you can send a kernel_info request\nhttp://jupyter-client.readthedocs.org/en/latest/messaging.html#kernel-info\n.\nExample code from ick, a prototype cli\nhttps://github.com/nteract/ick/blob/master/index.js#L253-L261:\nconst enchannel = require('enchannel-zmq-backend');\nconst uuid = require('uuid');\nfunction createMessage(msg_type) {\n  const username = process.env.LOGNAME || process.env.USER ||\n                   process.env.LNAME || process.env.USERNAME;\n  return {\n    header: {\n      username,\n      session,\n      msg_type,\n      msg_id: uuid.v4(),\n      date: new Date(),\n      version: '5.0',\n    },\n    metadata: {},\n    parent_header: {},\n    content: {},\n  };\n}\nconst identity = uuid.v4();\n// Passing the connect_info to create a connection to the SHELL socket\nconst shell = enchannel.createShellSubject(identity, connectInfo);\nconst kernelInfoRequest = createMessage('kernel_info_request');\nconst kernelReply = shell.filter(msg => msg.parent_header.msg_id === kernelInfoRequest.header.msg_id)\n                         .map(msg => msg.content);\nkernelReply.subscribe(content => {\n  console.log(content.banner);\n});\nshell.next(kernelInfoRequest);\nWhat do you need to know the language for before launching the Qt Console?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/166#issuecomment-185747900.\n. according to this https://github.com/ipython/ipykernel/pull/93 it should\nalso be possible to add own extra keys to the connection file directly, or\ndo I miss something?\n\nOn 18 February 2016 at 15:53, Kyle Kelley notifications@github.com wrote:\n\nAh, I see. In the short term case I think that means we need to implement\na service http://blog.atom.io/2015/03/25/new-services-API.html for\nkernels which would store a lot more metadata. This seems like a good\npackage for atom-notebook to use as well.\nIn the long term case, we would need the jupyter spec to include more\ninformation in the connection info to be compatible. A little bit of this\nwas done upstream, jupyter/jupyter_client#96\nhttps://github.com/jupyter/jupyter_client/pull/96, amusingly at my\nrequest in jupyter/jupyter_client#50\nhttps://github.com/jupyter/jupyter_client/issues/50. We'd need adhere\nto the same standard within Hydrogen's code base.\nHowever for completeness it would be great to have also additional\ndescriptions, for example that the kernel was indeed launched by Hydrogen.\nEven better, it would be great if apps would specify a short identifying\ndescription of the concrete kernels they started.\nSuch information is not currently available. We'd have to track it\nourselves if we really need it.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/166#issuecomment-185754511.\n. maybe wait for the following issue to be resolved\nhttps://github.com/Microsoft/vscode/issues/3220. \n",
    "tylerprete": "@willwhitney were you able to resolve this?\n. ",
    "JeremyCavanagh": "Hi Will,\n you are a genius old references to 0.3 kernels found in your first two suggestions nothing in the third. Now no errors, just need to spend some time to see if everything is working properly. I'm new to julia and especially atom so my explorations are just beginning.\nMany thanks for your help\n. Me too!\n. Hi Will,\nNo big panic, I'm sure you're busy elsewhere. Just to let you know that \nyour package is a great contribution to the Julia/atom community, \nparticularly people like me who are at their early learning stages.\nThanks for your great efforts.\nOn 16/11/2015 21:05, Will Whitney wrote:\n\nSorry I haven't looked at this yet, I'm super slammed today. I'll dig \ninto this tomorrow if nobody has written a PR to fix it before then.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/willwhitney/hydrogen/issues/135#issuecomment-157154517.\n. \n",
    "themiguelamador": "Exact same error while running Hydrogen, after stable Atom 1.2.0 update. No other change besides the update.\nReverting Atom app to 1.1.0 fizes the problem, so error should be due to change in Atom.\n. Same error here. [\nEnter steps to reproduce below:]\n1. Updated Atom from 1.1 to 1.2\n2. If reinstall 1.1 no error, but it is automaticly updated to 1.2 as soon as I close it the first time.\nAtom Version: 1.2.0\nSystem: Mac OS X 10.11.1\nThrown From: Hydrogen package, v0.6.5\nStack Trace\nFailed to activate the Hydrogen package\n``\nAt Could not find module root given file: \"undefined\". Do you have apackage.json` file? \nError: Could not find module root given file: \"undefined\". Do you have a package.json file? \n    at Function.getRoot (/Users/miguel/.atom/packages/Hydrogen/node_modules/bindings/bindings.js:159:13)\n    at bindings (/Users/miguel/.atom/packages/Hydrogen/node_modules/bindings/bindings.js:55:32)\n    at Object. (/Users/miguel/.atom/packages/Hydrogen/node_modules/zmq/lib/index.js:6:30)\n    at Module._compile (module.js:434:26)\n    at Object.defineProperty.value [as .js] (/Applications/Development/Atom.app/Contents/Resources/app.asar/src/compile-cache.js:190:21)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (/Users/miguel/.atom/packages/Hydrogen/node_modules/zmq/index.js:2:18)\n```\nCommands\n-0:02.0 hydrogen:run (atom-text-editor.editor.is-focused)\nConfig\njson\n{\n  \"core\": {\n    \"disabledPackages\": [\n      \"language-clojure\",\n      \"language-c\",\n      \"language-coffee-script\",\n      \"language-csharp\",\n      \"language-go\",\n      \"language-less\",\n      \"language-make\",\n      \"language-mustache\",\n      \"language-objective-c\",\n      \"language-perl\",\n      \"language-ruby\",\n      \"language-ruby-on-rails\",\n      \"language-sass\",\n      \"language-toml\",\n      \"language-yaml\",\n      \"color-picker\",\n      \"markdown-mindmap\",\n      \"markdown-pdf\",\n      \"background-tips\",\n      \"dev-live-reload\",\n      \"language-java\",\n      \"language-javascript\",\n      \"metrics\",\n      \"Sublime-Style-Column-Selection\",\n      \"language-r\",\n      \"markdown-preview-plus\",\n      \"package-sync\",\n      \"script\"\n    ],\n    \"packagesWithKeymapsDisabled\": [\n      \"script\",\n      \"git-plus\",\n      \"git-projects\",\n      \"imdone-atom\",\n      \"latex\",\n      \"project-manager\"\n    ],\n    \"audioBeep\": false,\n    \"projectHome\": \"/Users/miguel/Google\\\\ Drive/Development/Projects\"\n  },\n  \"Hydrogen\": {}\n}\nInstalled Packages\n``` coffee\nUser\nHydrogen, v0.6.5\nauto-detect-indentation, v0.4.2\nbrowser-plus, v0.0.54\nfile-icons, v1.6.11\nhighlight-selected, v0.10.1\nimdone-atom, v1.1.56\nlanguage-julia, v0.4.1\nlocal-history, v3.2.3\nminimap, v4.16.0\nminimap-find-and-replace, v4.3.2\nminimap-highlight-selected, v4.3.1\nproject-manager, v2.6.5\nrepl-term, v0.2.2\nterminal-plus, v0.14.0\nDev\nNo dev packages\n```\n. I revert to Atom 1.1\nYou can still use same .atom folder, so everything keeps the same.\n\njust download the source code zip of the release you want: this case 1.1\ncd to download folder of atom 1.1\nand run on Mac:\nscript/build --install-dir /Applications/Atom_Source1_1.app\n\nNote: name the app and final directory as you wich. Check code for build in other OS.\nMore info in build in https://github.com/atom/atom/tree/master/docs/build-instructions\nHad to download the source zip, as using git and chekout kept me building version 1.4. \n. Last build from source, with Atom 1.4dev already works! \n. 1.4dev is the version if you build from Source. \nOn a mac, just do this, and it will create the Atom app in your Applications folder.\n```\nclone https://github.com/atom/atom.git\ncd atom\nscript/build --install-dir /Applications/Atom_Source_Source.app\n```\nNote: name the app and final directory as you wich. Check code for build in other OS in https://github.com/atom/atom/tree/master/docs/build-instructions\n. No error at least on running some code in Julia Kernel. Build version 1.4.0-dev-f2155fa yesterday. 1.3 should be more stable when they release the version with the patch mentioned above. I have it above how to build from a previous version, since you have to download the source zip from the release (at least checkout did not work with me to move to a different tag).\n. I can run Julia without opening from terminal since ever on Mac... \n. ",
    "amandabee": "Yes, Python, sorry! \nIn this particular case, I have a list of dictionaries, called all_filings -- if I run print(all_filings[1]['format']) I can see the output, but there's no way to copy it. And it's a long line so it obscures my code until I clear results.\nIf I run\nfor filing in all_filings:\n    print filing['format']\nI get a block in a hydrogen bubble that I can copy or open in a new document. It seems weird that I can't copy the results of print but I can copy the results of a loop that does nothing but print. \nf.write is a good work around for the moment, though.\n. ",
    "edwinksl": "This would be a great feature. It can be a hassle to select and run large chunks of code.\n. ",
    "oztalha": "Yes. I was able to connect to a kernel that was started by jupyter notebook command.\nIn the package settings in atom, simply set your kernel gateway like this:\n\n[{\"name\": \"my local\",\"options\":{\"baseUrl\":\"http://localhost:8888/\",\"token\":\"0ce3d02e994b89d5ea4dec15ac9c5805b6ed3cd31b275127\"}}]. doh! Thanks\n. \n",
    "Andy-P": "I am having the same issue \n. ",
    "Hurtak": "[Enter steps to reproduce below:]\n1. javscript file with following code var x = 5 + 5;\n2. use hydrogen keyboard shortcut on this line ctrl + alt + enter\nAtom Version: 1.2.0\nSystem: Microsoft Windows 10 Home\nThrown From: Hydrogen package, v0.6.5\nStack Trace\nFailed to activate the Hydrogen package\n``\nAt Could not find module root given file: \"undefined\". Do you have apackage.json` file? \nError: Could not find module root given file: \"undefined\". Do you have a package.json file? \n    at Function.getRoot (C:\\Users\\Petr.atom\\packages\\Hydrogen\\node_modules\\zmq\\node_modules\\bindings\\bindings.js:159:13)\n    at bindings (C:\\Users\\Petr.atom\\packages\\Hydrogen\\node_modules\\zmq\\node_modules\\bindings\\bindings.js:55:32)\n    at Object. (C:\\Users\\Petr.atom\\packages\\Hydrogen\\node_modules\\zmq\\lib\\index.js:6:30)\n    at Module._compile (module.js:434:26)\n    at Object.defineProperty.value [as .js] (C:\\Users\\Petr\\AppData\\Local\\atom\\app-1.2.0\\resources\\app.asar\\src\\compile-cache.js:190:21)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Module.require (module.js:365:17)\n    at require (module.js:384:17)\n    at Object. (C:\\Users\\Petr.atom\\packages\\Hydrogen\\node_modules\\zmq\\index.js:2:18)\n```\nCommands\n-0:04.4.0 hydrogen:run (atom-text-editor.editor.is-focused)\n     -0:03.6.0 core:move-down (atom-text-editor.editor.is-focused)\n     -0:03.3.0 core:move-up (atom-text-editor.editor.is-focused)\nConfig\njson\n{\n  \"core\": {\n    \"disabledPackages\": [\n      \"about\",\n      \"metrics\",\n      \"timecop\",\n      \"package-generator\",\n      \"welcome\",\n      \"linter-eslint\",\n      \"minimap\"\n    ],\n    \"themes\": [\n      \"atom-dark-ui\",\n      \"one-dark-syntax\"\n    ]\n  }\n}\nInstalled Packages\n``` coffee\nUser\ncolor-picker, v2.0.13\ngit-log, v0.4.1\nHydrogen, v0.6.5\nlinter, v1.11.1\nlinter-csslint, v1.1.0\nlinter-less, v2.2.0\nlinter-lesshint, v1.2.0\nlinter-xo, v0.9.0\nminimap-find-and-replace, v4.3.2\nminimap-git-diff, v4.1.8\nminimap-highlight-selected, v4.3.1\nminimap-linter, v1.0.0\nminimap-selection, v4.3.1\nDev\nNo dev packages\n```\n. ",
    "b52": "Should be related to the upgrade from node v3.1 to v4.1.1, as described in the announcement for Atom 1.2.\n. ",
    "danielchen26": "Dear all, has this issue been resolved?\n. ",
    "gnestor": "@minrk I tried sub-ing jupyter-js-services in for jupyter-kernel-launcher for this package and atom-notebook and I am running into a CORS issue.\njupyter notebook:\n[W 14:20:36.849 NotebookApp] Blocking Cross Origin API request.  Origin: file://, Host: localhost:8888\n[W 14:20:36.862 NotebookApp] 404 POST /api/kernels (::1) 13.12ms referer=None\njupyter-js-services:\nPOST http://localhost:8888/api/kernels 404 (Not Found)\nThis seems like an issue specific to Atom as the requests are originating from Node and not the browser. Is it possible to use jupyter-js-services within Atom? Would the package need to run a server in order to communicate with the notebook server?\nSee my fork of atom-notebook: https://github.com/gnestor/atom-notebook/commit/86445b3c1b4ca5b8796a9dcafbc6f41eed3d3cf3\nThere seems to be some relevant discussion here: https://github.com/jupyter-incubator/kernel_gateway/wiki/notebook_kernel_gateway\n. @willwhitney @n-riesco I've mostly migrated(1) atom-notebook from jupyter-kernel-launcher to jupyter-js-services. That means that it no longer depends on jmp, zmq, bindings, etc. It works fine in Atom >=1.2. \n@minrk I was able to fix the CORS issue (by following the docs and adding XMLHttpRequest and ws to globals...can you explain how that works?) so now atom-notebook is successfully communicating with jupyter notebook and jupyter kernelgateway. However, I'm only receiving \"execute_input\" and \"status\" messages (no \"execute_result\"). Any idea why that may be?\n1. It requires that you run a jupyter notebook or kernelgateway server yourself (although we can easily spawn a server from inside the package) and I'm not receiving \"execute_result\" messages yet...\n. @rgbkrk @willwhitney 2 things before I submit a PR:\n- Can you take a look at the fork and try to understand why it's not receiving \"execute_result\" messages?\n- How would you start jupyter notebook or kernelgateway server instance from inside the package? Something as simple as:\n``` javascript\n// Inside main.activate\nlet spawn = require('child_process').spawn;\nthis.kernelGateway = spawn('jupyter kernelgateway');\nthis.kernelGateway.on('exit', function (code) {\n  console.log('kernelGateway.exit '+code);\n});\nthis.kernelGateway.stdout.on('data', function (data) {\n  console.log('kernelGateway.stdout  ' + data);\n});\nthis.kernelGateway.stderr.on('data', function (data) {\n  console.log('kernelGateway.stderr ' + data);\n});\nthis.kernelGateway.on('close', function (code) {\n  console.log('kernelGateway.close ' + code);\n});\n// Inside main.deactivate\nthis.kernelGateway.stdin.pause();\nthis.kernelGateway.kill();\n```\n. BTW, it looks like @n-riesco was able to get the bindings issue in Atom >=1.2 patched, so the next Atom release should fix this issue for hydrogen and atom-notebook: https://github.com/atom/atom/issues/9660#event-473664676\n. I tried to build and run 1.4.0-dev and encountered the following issue (which seems like it may be related to this patch): https://github.com/atom/atom/issues/9860\n. atom-notebook is now fully working using jupyter-js-services and jupyter-kernel-gateway. You can see details on how to migrate in the jupyter-js-services branch of my fork: https://github.com/gnestor/atom-notebook/tree/jupyter-js-services\nI was also able to fix the path issue that requires Atom to be launched from the command line: https://github.com/gnestor/atom-notebook/commit/419174f3805e4dc331aeb80e94989a13b2ad6a0d\n@rgbkrk I've submitted a PR.\n. Confirmed that Hydrogen is working again on Atom 1.4.0-dev-c0bc38a (current master branch).\n. Roger that\n. ",
    "mp3user": "Right answer is:\nsudo apt-get remove gyp \nsudo apt-get install build-essential \n. ",
    "ericelliott": "Maybe you should link to that from the install guide? =)\n. ",
    "nmiculinic": "Thank you!\nOn 4 January 2016 at 03:49, Will Whitney notifications@github.com wrote:\n\nYou can add mappings like this to the package settings for Hydrogen. It\ntakes a JSON mapping from the nonstandard name (the grammar Atom is using)\nto the kernel language.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/151#issuecomment-168568885\n.\n. autocomplete-plus is displaying alright.\n\nI did some debugging and culprit is autocomplete-python on packages which are big (such as numpy/tensorflow, in tensorflow example it never finishes) and it hangs quite a lot until it finishes leaving me without hydrogen autocompletions. My questions are now as follows:\nCan I somehow force autocomplete-plus to display hydrogen completions first and not wait for the autocomplete-python?\nCan I get inspector tooltip as autocomplete text when calling a function/class, that is when inspector would say something in jupyter notebook?\n. Solution/temp fix is disable autocomplete-python\nIn the meantime I've submitted bug report to Jedi and autocomplete-plus. Jedi throws error on importing from tensorflow and autocomplete-plus for some reason doesn't display other providers once autocomplete-python Jedi fails (not even snippets, default nor hydrogen).\nRelated issues are:\ndavidhalter/jedi#730\natom/autocomplete-plus#727 \n. ",
    "jlowin": "Got it! Sounds like you have far more important things to deal with than my desire to not have to highlight all my text before executing it inline. :) Hydrogen is fantastic, well done.\n. For what it's worth, I have the same issue after updating Atom. I get the same error: Failed to require the main module of 'Hydrogen' because it requires one or more incompatible native modules (zeromq). Run apm rebuild in the package directory and restart Atom to resolve.\nI've reinstalled Hydrogen, rebuilt Hydrogen, even reinstalled Atom -- still see the error. \ud83d\ude22 \nEdit -- I got it to work by rebuilding from the \"incompatible packages\" view mentioned in the previous comment! So: manual rebuild did not work, super-helpful UI view that I wasn't aware of did work. Score one for the GUI folks.. ",
    "carter-lavering": "I installed the 2013 version and now it's working. Still, the installation\ncould be a little more straightforward...\nOn Sat, Feb 6, 2016 at 2:18 AM Sebastian H\u00e4nisch notifications@github.com\nwrote:\n\nYou need Visual Studio 2013, as it is described in the Windows\ninstructions. ZMQ is a Visual Studio 2013 project, that's why it's not\nworking.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/willwhitney/hydrogen/issues/157#issuecomment-180731419\n.\n. \n",
    "dpavlic": "That does it.  Thanks for the prompt reply, this is exactly what I had in mind.  I will close this now.\n. \nWell, this definitely points somewhere.\nRefused to load the image 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAEZCAYAAAC5AHPcAAAABHNCS\u2026EYRlaYATEMwzCywgyIYRiGkRVmQAzDMIysMANiGIZhZMX/A2UzvhGjTNruAAAAAElFTkSuQmCC' because it violates the following Content Security Policy directive: \"default-src *\". Note that 'img-src' was not explicitly set, so 'default-src' is used as a fallback.\nmodule.exports.ResultView.addResult @ result-view.coffee:126(anonymous function) @ main.coffee:136module.exports.Kernel.onIOMessage @ kernel.coffee:288emitMany @ events.js:108emit @ events.js:182Socket._flush @ /home/dpavlic/.atom/packages/Hydrogen/node_modules/zmq/lib/index.js:573_zmq.onReady @ /home/dpavlic/.atom/packages/Hydrogen/node_modules/zmq/lib/index.js:203\nresult-view.coffee:148 resultType after update: image\n. Content security policy is same as your example above.  I will pull the beta and report soon.\nEdit: Hmmm.... this idea has hit the skids, Atom 1.7.0-beta0 crashes on open for me no matter what I attempt.  I'll see if I can test Hydrogen for this graph plotting and Atom 1.7.0 on another machine, I am starting to wonder if something specific in my Arch install is causing this trouble.\n. No -- you're absolutely right, I was too hasty to declare them the same.  I don't have img-src data *;\nI cannot test at the moment, as Arch fails to load the beta.  I will see if I can dig out another distro and see how things stand there.\n. To confirm: there is no problem with Atom 1.7.0-beta0.  Thank you very much for your help, I am closing this one.\n. Those are both great ideas... particularly the tab.  I should note the content clips horizontally if the dataframe is set as a watch, though it will scroll vertically.\n. Yes, it's 1.6.0.\n. There is no ~/.atom/packages/Hydrogen/ I assume since apm install fails. I'll see if I can pull Hydrogen repo and see if I can figure out what the heck is going on shortly.\n. Atom is the first package I'm installing on once the .atom directory is wiped, so nothing in those. I've also tried to wipe ~/.atom in its entirety, but I'm afraid still the same error. What's so bizarre is that npm pulls the package without complaint.\n. Well, I am still at a complete loss as to why this is happening. This workaround brought me back in business:\ngit clone https://github.com/nteract/hydrogen.git\ncd hydrogen\ngit checkout v0.8.1\nnpm install --save zmq\nPYTHON=python2.7 apm install\napm link .\nWorks. Omitting the npm install --save zmq throws the same error as trying to do apm install hydrogen. I'm not really sure why getting zmq directly via npm works.\n. So on this end:\n$ node --version\n**v5.9.1**\n$ npm --version\n3.8.3\n$ apm --version\napm  1.7.1\nnpm  2.13.3\n**node 5.9.1**\npython 3.5.1\ngit 2.7.4\nWell, while npm versions are certainly different, node is the same on my end. Maybe this could have something to do with how the arch repo is packaging Atom... I'm just taking a complete stab in the dark, though.\n. ",
    "michaelfresco": "I found that the following code, allows me to change the text size in 2017.\n```\n.hydrogen.output-bubble .bubble-result-container code {\n    font-size: 14px;\n}\n```. ",
    "m-guggenmos": "This would be an amazing feature indeed. Currently I do this manually by calling ipython console --existing /path/to/kernel-XXX.json within my atom-embedded terminal-plus console. \nI wonder if, until a bigger solution arrives, one could write a simple atom package \"connect-to-hydrogen-kernel-from-terminal\". This package would connect to the kernel of the currently active code file using the terminal e.g. provided by terminal-plus. The only information this package would need from hydrogen is the path to the respective kernel file. Plus a user-provided info for \"command\" (something like ipython console --existing {kernelPathOfActiveFile} in my example case of ipython).\nPerhaps helpful for others, i use the following alias to connect to the last hydrogen kernel:\nalias ik='ipython console --existingls -rt1 ~/.atom/packages/Hydrogen/kernel-configs/*'\n. @lgeiger This isn't working for me, I keep getting the No kernel for language magicpython found error.\n. Great, I can confirm that exchanging the two names works.\n. ",
    "CYHSM": "Thanks for that! If others like me who use terminal-plus want to open it directly on opening the console, just use this auto run command to open the latest ipython console (after copying path with hydrogen:copy....) : \njupyter console --existing /run/user/1000/jupyter/$(cd /run/user/1000/jupyter ; (ls -t | head -n1);)\n. ",
    "kescobo": "Uninstalling from command line didn't work. Re-install of Atom worked, but I add to get rid of `~/.atom/ as well. Irritating, but it's working now.\n. Heh, yeah - no kidding. It worked for a sec after I upgraded, then the next day... Ugh. Sorry for the bother. \nKBonham:~ KBLaptop$ jupyter kernelspec list --json\n{\n  \"kernelspecs\": {\n    \"julia-0.5\": {\n      \"resources_dir\": \"/Users/KBLaptop/Library/Jupyter/kernels/julia-0.5\",\n      \"spec\": {\n        \"env\": {},\n        \"argv\": [\n          \"/Users/KBLaptop/julia/usr/bin/julia\",\n          \"-i\",\n          \"-F\",\n          \"/Users/KBLaptop/.julia/v0.5/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ],\n        \"language\": \"julia\",\n        \"display_name\": \"Julia 0.5.0-dev\"\n      }\n    },\n    \"julia-0.4\": {\n      \"resources_dir\": \"/Users/KBLaptop/Library/Jupyter/kernels/julia-0.4\",\n      \"spec\": {\n        \"env\": {},\n        \"argv\": [\n          \"/Users/KBLaptop/julia/usr/bin/julia\",\n          \"-i\",\n          \"-F\",\n          \"/Users/KBLaptop/.julia/v0.4/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ],\n        \"language\": \"julia\",\n        \"display_name\": \"Julia 0.4.3-pre\"\n      }\n    },\n    \"python3\": {\n      \"resources_dir\": \"/Users/KBLaptop/Library/Jupyter/kernels/python3\",\n      \"spec\": {\n        \"env\": {},\n        \"argv\": [\n          \"/Users/KBLaptop/miniconda3/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"language\": \"python\",\n        \"display_name\": \"Python 3\"\n      }\n    }\n  }\n}\nAnd... \n{\n  \"kernelspecs\": {\n    \"julia-0.4\": {\n      \"spec\": {\n        \"display_name\": \"Julia 0.4.3-pre\",\n        \"env\": {},\n        \"argv\": [\n          \"/Users/KBLaptop/julia/usr/bin/julia\",\n          \"-i\",\n          \"-F\",\n          \"/Users/KBLaptop/.julia/v0.4/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ],\n        \"language\": \"julia\"\n      },\n      \"resources_dir\": \"/Users/KBLaptop/Library/Jupyter/kernels/julia-0.4\"\n    },\n    \"python3\": {\n      \"spec\": {\n        \"display_name\": \"Python 3\",\n        \"env\": {},\n        \"argv\": [\n          \"/Users/KBLaptop/miniconda3/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"language\": \"python\"\n      },\n      \"resources_dir\": \"/Users/KBLaptop/Library/Jupyter/kernels/python3\"\n    },\n    \"julia-0.5\": {\n      \"spec\": {\n        \"display_name\": \"Julia 0.5.0-dev\",\n        \"env\": {},\n        \"argv\": [\n          \"/Users/KBLaptop/julia/usr/bin/julia\",\n          \"-i\",\n          \"-F\",\n          \"/Users/KBLaptop/.julia/v0.5/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ],\n        \"language\": \"julia\"\n      },\n      \"resources_dir\": \"/Users/KBLaptop/Library/Jupyter/kernels/julia-0.5\"\n    }\n  }\n}\n. Doesn't seem to.\n```\n\nvar out = require(\"child_process\").spawnSync('jupyter',['kernelspec','list', '--json']).stdout.toString()\n<- undefined\n```\n\n```\n\nJSON.parse(out)\n<- Object {kernelspecs: Object}\n     kernelspecs: Object\n     proto: Object\n```\n\nLooks like I can expand kernelspecs and __proto__, not sure how to send along all of the info. \n. Confirmed. I opened a new python file, typed 2+2 and then Hydrogen: Run and it pops up. \n. That works, though now I need to figure out a way to select the python kernel again :-). \n. @n-riesco Sorry I missed your comment from a month ago - it just popped up again with your most recent comment.\nJust installed 0.7.2 and python kernels works like a charm (including switching between 2 and 3). I've having issues with my julia kernel but I'm pretty sure that's on my end. Will open up another issue if I can't solve it. \n. > We initialize the status bar with Kernel: starting but jupyter does not send a status message when the kernel is started completely.\nAhh, apologies - I guess I'd never noticed this before.\n\nCould you open the dev console (by pressing shift-ctrl-i) and post an screenshot after trying to open the kernel commands?\n\nNope, 'cause I can't reproduce this now. I updated Atom between posting this issue and your reply - I wasn't that far behind, but apparently that fixed it. Apologies for not doing that first (I didn't notice the little blue squirrel). \nI'll let you close the issue in case you want to keep the other conversation open. Again, sorry for the newb mistake.\n. ",
    "szagoruyko": "@slavaGanzin @n-riesco thanks, adding anaconda/bin to PATH solves the issue.\n. ",
    "niderhoff": "@n-riesco In my desperation I also tried renaming Atom beta.app back to Atom.app but that didn't change anything. I will try again using the stable build of Atom tonight. However, I did manage to build it on another machine using the beta version of atom just a day ago.\n@slavaGanzin Yes I did. I installed zmq both over npm and homebrew. You think the error is that zmq is not found?\n. Well I am not sure if that is the issue exactly though. If I run it on another machine (same setup, same atom version) it works:\nxxxx@MacBook:~$ apm-beta rebuild hydrogen\nRebuilding modules \u2713\n. Completely wiped atom, node and all dependencies and reinstalled it. Same result.\nI now tried Non-Beta Atom and it worked! So the error ONLY seems to be coming up for Atom-Beta + OSX 10.11. Either Atom+OSX 10.11 or Atom Beta+OSX 10.10 seem to work just fine for me.\n. ",
    "jdknox": "For some reason, the libzmq 4.1 lib is named libzmq.so.5 on my machine.  I have anaconda installed and it uses the same naming convention in my conda env lib directory:\n```\n$ ls /path/to/anaconda/atom/lib/libzmq*\nlibzmq.a\nlibzmq.la\nlibzmq.so\nlibzmq.so.5\nlibzmq.so.5.0.0\n$ conda list\npackages in environment at /path/to/anaconda:\n\n. . .\nzeromq                    4.1.3                         \n. . .\n```\nEven zeromq.org references libzmq.so.5 for zeromq 4.1, which I admit, confuses me (see Running Example heading about halfway down that link).\nHere is the result of running the apt-cache search, although I suspect the anaconda libs might override this:\n$ apt-cache search libzmq\nlibjeromq-java - Java implementation of the ZeroMQ messaging library\nlibxs-compat-libzmq-dev - Crossroads I/O 'libzmq' compatibility library (header files)\nlibxs-compat-libzmq1 - Crossroads I/O 'libzmq' compatibility library (shared library)\nlibzeromq-perl - messaging library using ZeroMQ\nlibzmq-dbg - lightweight messaging kernel (debugging symbols)\nlibzmq-dev - lightweight messaging kernel (development files)\nlibzmq-java - ZeroMQ Java bindings (jzmq)\nlibzmq-java-doc - Documentation for ZeroMQ Java bindings (jzmq)\nlibzmq-jni - ZeroMQ Java bindings (jzmq)\nlibzmq1 - lightweight messaging kernel (shared library)\nlibzmq3 - lightweight messaging kernel (shared library)\nlibzmq3-dbg - lightweight messaging kernel (debugging symbols)\nlibzmq3-dev - lightweight messaging kernel (development files)\nlibzmqpp-dev - High-level C++ bindings for zeromq3 - development files\nlibzmqpp3 - High-level C++ bindings for zeromq3\n. I've got Hydrogen working again!  It feels like a blindfold has been lifted; Hydrogen has spoiled me. :-)\nFor what it's worth, I removed all traces of zeromq, ipython and Hydrogen, reinstalled them all using my anaconda env instead of using pip, then deleted atom's compile-cache folder.  In the end I had to install Hydrogen 0.7.0 and zeromq 4.0.5 to get it to work.  Thanks for helping me look into this.\nShould I close this, or could there be a genuine issue with Hydrogen 0.7.1?\n. ",
    "hastebrot": "I have the same problem.\nlibzmq.so.1: cannot open shared object file: No such file or directory\n- Ubuntu 16.04\n- Atom 1.11.2\n- Hydrogen 0.15.0\n$ apt-cache search libzmq\nlibjeromq-java - Java implementation of the ZeroMQ messaging library\nlibzeromq-perl - messaging library using ZeroMQ\nlibzmq-dbg - lightweight messaging kernel (debugging symbols)\nlibzmq-dev - lightweight messaging kernel (development files)\nlibzmq-java - ZeroMQ Java bindings (jzmq)\nlibzmq-java-doc - Documentation for ZeroMQ Java bindings (jzmq)\nlibzmq-jni - ZeroMQ Java bindings (jzmq)\nlibzmq1 - lightweight messaging kernel (shared library)\nlibzmq3-dev - lightweight messaging kernel (development files)\nlibzmq5 - lightweight messaging kernel (shared library)\nlibzmq5-dbg - lightweight messaging kernel (debugging symbols)\nlibzmqpp-dev - High-level C++ bindings for zeromq3 - development files\nlibzmqpp3 - High-level C++ bindings for zeromq3\nlibzmq.so.5 is available but libzmq.so.1 is missing.\n/usr/lib/x86_64-linux-gnu/libzmq.so\n/usr/lib/x86_64-linux-gnu/libzmq.so.5.0.0\n/usr/lib/x86_64-linux-gnu/libzmq.so.5\n. Fixed. For reference, under Ubuntu 16.04 I've removed all libzmq* apt packages, removed the Hydrogen apm package, and then:\n$ sudo apt install libzmq3-dev\n$ PYTHON=python2.7 apm install hydrogen\n. It would also be nice if the limit in result-view.js for the multiline result view could be configured in the settings view. 50 is currently hard-coded in if (previousText === '' && text.length < 50.. ",
    "Ben-Gillman": "I am having this same issue but I am unable to install Lodash directly. I need to install it from source. \nI am using Windows 7, Hydrogen 1.0 and Atom 1.12.4 \nWhen I try to run Python code using Hydrogen (Packages -> Hydrogen -> Run) I receive the below error:\nCannot find module 'lodash'\nI am behind a proxy and cannot simply run $ npm install lodash --save as described here\nI have manually downloaded lodash from here and put them on my computer in this directory \"C:\\Users...\\AppData\\Local\\atom\\app-1.12.4\\resources\\lodash-4.15.0-npm-packages\"\nIs there a way I can resolve this error given I have the source file in that location?\n. I am unable to run apm install hydrogen because I am behind this proxy. When I run this code I receive the error Request for package information failed: tunneling socket could not be established, cause=write EPROTO 0:error...\nI had to install Hydrogen 1.0 from source, from here. It lives in \"C:\\Users...\\AppData\\Local\\atom\\hydrogen-1.0.0\"\n. @lgeiger Unfortunately, I receive the same error when I run apm develop hydrogen as I do when I run apm install hydrogen.\nI am willing to install the dependencies manually if there are not too many\n. ",
    "jamil912": "[ Problem solved ] \" no kernel for python language found\"\nI am using Linux Operating System ubuntu 16:04\nAtom 1.7.4\nOpen your beloved Terminal <3\n$ sudo apt autoremove ipython\n$ sudo apt install python-pip -y\n$ pip install --upgrade pip\nthen, install ipython[notebook]\n$ sudo pip install ipython[notebook]\nDone\n. [ Problem solved ] \" no kernel for python language found\"\nI am using Linux Operating System ubuntu 16:04\nAtom 1.7.4\nOpen your Terminal Beloved <3\n$ sudo apt autoremove ipython\n$ sudo apt install python-pip -y\n$ pip install --upgrade pip\nthen, install ipython[notebook]\n$ sudo pip install ipython[notebook]\nDone\n. ",
    "IonicaBizau": "@rgbkrk I don't really know the context, but why do you want to convert ANSI into HTML and not using term.js?\nIt has the write method where you can write terminal data (that means any ANSI snippets). That would make it like a real terminal (including cli animations and so on). :grin:\n. I don't think that using term.js would be a bad idea in terms of performance. It does pretty much the same thing: displaying ANSI in HTML, but the difference is that it does act like a real terminal.\n. ",
    "orodbhen": "I don't mind duplicates. As long as the one doesn't break the other. Thanks.\n. ",
    "adampash": "Yes, I've got language-elixir installed. Output is:\njson\n{\n  \"kernelspecs\": {\n    \"nodejs\": {\n      \"resources_dir\": \"/Users/aop/.ipython/kernels/nodejs\", \n      \"spec\": {\n        \"language\": \"javascript\", \n        \"display_name\": \"NodeJS\", \n        \"env\": {}, \n        \"argv\": [\n          \"node\", \n          \"/private/tmp/package/build/run.js\", \n          \"{connection_file}\"\n        ]\n      }\n    }, \n    \"babel\": {\n      \"resources_dir\": \"/Users/aop/Library/Jupyter/kernels/babel\", \n      \"spec\": {\n        \"language\": \"babel\", \n        \"display_name\": \"Babel (Node.js)\", \n        \"env\": {}, \n        \"argv\": [\n          \"/usr/local/Cellar/iojs/3.3.1/bin/iojs\", \n          \"/usr/local/lib/node_modules/jp-babel/lib/kernel.js\", \n          \"{connection_file}\", \n          \"--protocol=5.0\"\n        ]\n      }\n    }, \n    \"coffeescript\": {\n      \"resources_dir\": \"/Users/aop/Library/Jupyter/kernels/coffeescript\", \n      \"spec\": {\n        \"language\": \"coffeescript\", \n        \"display_name\": \"CoffeeScript (Node.js)\", \n        \"env\": {}, \n        \"argv\": [\n          \"/usr/local/Cellar/iojs/3.3.1/bin/iojs\", \n          \"/usr/local/lib/node_modules/jp-coffeescript/lib/kernel.js\", \n          \"{connection_file}\", \n          \"--protocol=5.0\"\n        ]\n      }\n    }, \n    \"ielixir\": {\n      \"resources_dir\": \"/Users/aop/.ipython/kernels/ielixir\", \n      \"spec\": {\n        \"language\": \"Elixir\", \n        \"display_name\": \"ielixir\", \n        \"env\": {}, \n        \"argv\": [\n          \"/Users/aop/code/IElixir/start_script.sh\", \n          \"{connection_file}\"\n        ]\n      }\n    }, \n    \"clojure\": {\n      \"resources_dir\": \"/Users/aop/Library/Jupyter/kernels/clojure\", \n      \"spec\": {\n        \"language\": \"clojure\", \n        \"display_name\": \"Clojure\", \n        \"env\": {}, \n        \"argv\": [\n          \"/Users/aop/.ipython/kernels/clojure/ipython-clojure\", \n          \"{connection_file}\"\n        ]\n      }\n    }, \n    \"ruby\": {\n      \"resources_dir\": \"/Users/aop/.ipython/kernels/ruby\", \n      \"spec\": {\n        \"language\": \"ruby\", \n        \"display_name\": \"Ruby 2.2.0\", \n        \"env\": {}, \n        \"argv\": [\n          \"/Users/aop/.rvm/gems/ruby-2.2.0/bin/iruby\", \n          \"kernel\", \n          \"{connection_file}\"\n        ]\n      }\n    }, \n    \"python2\": {\n      \"resources_dir\": \"/usr/local/lib/python2.7/site-packages/ipykernel/resources\", \n      \"spec\": {\n        \"language\": \"python\", \n        \"display_name\": \"Python 2\", \n        \"env\": {}, \n        \"argv\": [\n          \"/usr/local/opt/python/bin/python2.7\", \n          \"-m\", \n          \"ipykernel\", \n          \"-f\", \n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\n. Thank you! Let me know if I can give you any more information.\n. Thanks a lot, @n-riesco! Really appreciate the quick fix.\n. ",
    "nils-werner": "Is there a way to define cells in the code itself? Similar to what Matlab does with\nMatlab Cell 1\n%%\nMatlab Cell 2\ne.g.\n```\nHydrogen Cell 1\n==\nHydrogen Cell 2\n```\nwhere # is the language specific comment symbol.\n. The idea is to have different watchers in different cells and files and to show them accordingly whenever you execute a cell\nE.g. if you need to work on a different project or go home for the day, the next day all your watchers are gone. Or you switch between two cells and need to manually change watchers every time you do.\nIt is probably non-trivial to add or even replace watchers when you execute a different cell.. I'm not sure, as both outputs are roughly the same number of characters. Or maybe I am completely misunderstanding that issue.\nAlso I noticed that the tab with the 'inspect-print' statement reacts slower when switching between tabs. Added both to the original issue.. Yes, user-installed kernels (which have their own set of issues) are fine, autodetection of kernels present in venv is what is failing.. @kylebarron interesting, I didn't know that. ",
    "ReadmeCritic": "uh oh indeed \nopening a  new one  #237\n. ",
    "JCMais": "This is an issue with jmp which uses an outdated version of zqm which in turn uses an outdated version of NAN not compatible with some new v8 API.\n. @n-riesco Sorry, but I didn't installed it, I said that based on the logs I saw on build errors of my own addon.\n. ",
    "rkpatel33": "Sure, here they are:\n\n. Thanks for that, makes sense. I have a global default env that get's activated automatically.\nI fixed the problem by pasting the entire json from jupyter kernelspec list --json into the package settings.\nOne thing I note in the settings view, you can't actually see the entire json field when there is something in there besides the default. Seems like a bug? Not sure who's it would be if it is one.\n\n. Sorry for the delay, I am running 1.6.1, the latest release.\nFYI - the formatting on the setting page looks fine when I installed the beta just now.\n. ",
    "codeinaire": "I'm not sure if this is the right place to put this issue, but it seems appropriate because it is pretty much the same issue. I get the same message except the language is for ruby.\nI copied and pasted the kernel specs default example into the kernel specs field which didn't solve the problem. I followed the instructions posted by jamil912 but when I got to the last -  sudo pip install ipython[notebook] - it was told that ipython[notebook] couldn't be found.\nI'm not entirely sure what to do. I'm wondering if it has something to do with the language mappings, but I'm not sure how to change it or how to find the language name for the kernel.\nWould someone be able to help me on this one?. 1. I installed jupyter. It seemed to install fine.\n\nI ran Hydrogen and got this error:\n\nNo kernel for language ruby found\nCheck that the language for this file is set in Atom and that you have a Jupyter kernel installed for it.\n\nThe output of jupyter kernelspec list --json is this:\n\n{\n  \"kernelspecs\": {\n    \"python2\": {\n      \"resource_dir\": \"/usr/local/share/jupyter/kernels/python2\", \n      \"spec\": {\n        \"language\": \"python\", \n        \"display_name\": \"Python 2\", \n        \"env\": {}, \n        \"argv\": [\n          \"python\", \n          \"-m\", \n          \"ipykernel_launcher\", \n          \"-f\", \n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\nI'm not sure where I run \"Hydrogen: Update Kernels\". Is this for the command line?. I don't know if I'm trying to start the Ruby kernel. I'm pressing ctrl + enter to run the inline calculations that are available with Hydrogen, but I'm getting the above error. Is the ctrl + enter command meant to run the kernel specific for the language that is being used to code? Do I get the error because it cannot load the ruby kernel?\nI updated the kernel by running the \"command palette\" and it told me the python kernel update. I'm still having the same error as above. . ",
    "prajwal309": "I had the same trouble. What worked for me was when I ran the atom as sudo atom.. ",
    "epifanio": "Hi, I guess I'm having a similar issue ... I'm trying to use a remote Jupyter notebook.\nThis are the steps I followed on a fresh OS X system:\n\nhomebrew python3 \nJupiter notebook installed in a virtual environment\nAtom 1.17.0-beta5\n\nOn the remote server I've installed with 'jupyter_kernel_gateway' using pip and then run it :\npip3.6 install jupyter_kernel_gateway\njupyter kernelgateway --ip=\"*\"\nI start atom-beta from the bash shell where I activated my virtualenv, In Atom I used this json configuration:\n[{\"name\": \"Remote Notebook\", \n\"options\": { \"baseUrl\": \"my.domain:8890\" } \n}\n]\nRun from the editor toolbar: Packages -> Hydrogen -> Connect to remote Kernel : no errors\nIn Atom kernel spec I used this gist  (which is the output from the remote server)\nThen as  language mapping I used: {\"python3\": \"python\"}\nNow in the editor I've this simple code:\nprint('epi')\nimport sys\nprint(sys.executable)\nFrom the atom toolbar I use:  connect to remote kenrel then  run all, this the output:\nepi\n/Users/epi/Envs/jupyter/bin/python\nWhich shows the local python executable, not the one on the server.\nHave you any clue on what I'm doing wrong?. @BenRussert I'll test it in the next hours and report here, thanks!. it seems that when I tried the first time it failed to connect to the remote kernel and started one locally, thanks @nikitakit for the pointer. \nNow trying to connect to my gateway which was running on my.domain:8888 \nEnabling the js console and looking at the shell output i saw a \"forbidden\" message:\n[I 170614 05:11:47 web:2063] 200 GET /api/kernelspecs?1497409907075 (73.61.89.80) 388.24ms\n[W 170614 05:11:48 web:1587] 403 GET /api/sessions?1497409908025 (73.61.89.80): Forbidden\n[W 170614 05:11:48 web:2063] 403 GET /api/sessions?1497409908025 (73.61.89.80) 1.25ms\n[I 170614 05:13:24 web:2063] 200 GET /api/kernelspecs?1497410004188 (73.61.89.80) 5.41ms\n[W 170614 05:13:25 web:1587] 403 GET /api/sessions?1497410004656 (73.61.89.80): Forbidden\n[W 170614 05:13:25 web:2063] 403 GET /api/sessions?1497410004656 (73.61.89.80) 1.10ms\nI changed the way how I run the gteway to:\njupyter kernelgateway --ip=\"*\" --certfile='/etc/letsencrypt/live/my.domain/fullchain.pem' --keyfile='/etc/letsencrypt/live/my.domain/privkey.pem'\nand in the hydrogen settings I used:\n[{\"name\": \"Remote Notebook\", \n  \"options\": { \"baseUrl\": \"https://my.domain:8888\" } \n  }\n]\nI left all the other fields as default.\nAfter those changes It now works :)\nThanks!!!. ",
    "codemeleon": "Hi,\nI am unable to run Hydrogen and settings look different on my system (Please see the image). \nHow can I fix it?\nThanks.\n\n. @BenRussert Nope, it didn't. I also reset atom configurations by removing .atom folder from my home directory. Now hydrogen settings looks like attached image. I am using Atom 1.8 on ubuntu 16.04.\nThanks.\n\n. Hi @BenRussert . I made it working by installing older version of Hydrogen using command \"apm install Hydrogen@1.16.0\".However, upgrading to latest version (1.18.0) breaks it.\nThanks.   . I mean Hydrogen@1.18.0. \nSorry for confusion. . Hi @t9md . No I do not have custom config on config.cson. As  you can see in previous message, I deleted .atom folder from my home directory to reset whole Atom configuration.  . ",
    "t9md": "Do you have custom config on config.cson?\nIf so I want to know if removing Hydrogen config from config.cson and restart Atom then reconfigire manually solve issue.\n. The idea I can come up with is\n- We write output in createResultBubble(and _createResultBubble) , in spite of name it also render global output(?)\n- So make _createResultBubble accept cell(= Range) instead of current code. since we can not determine whether we should highlight or not until final code evaluation phase.\nThen just highlight range(=mark range && decorate that marker) with class hydrogen-cell,use style by CSS.\nThis cell decoration must be deleted as same timing of destroying bubble maybe.. With this PR, onRestarted callback is no longer called.\nI want give it back, now plugin author have no control when they want to do after restart.\nShould call onRestarted before return?. No. . thanks for quick merging!. Sorry, I found bug, so this PR is still WIP status.. done my part. I wanted to correct my mistake of commit msg(braek pint > break point), but It was not easy for me.\n~~Tried rebasing and force commit to my branch, but github strangely ask password where they don't ask in normal commit, maybe because I'm not understanding git/github correctly.\nSo give up for now to correct commit msg, sorry.~~\n. I found another bug again, so WIP again.\nTravis error is not related, it's caused by newest prettier.. fix the bug, done again. no WIP state, but passing callback on restart have issue.\nSo I need to add delay for python kernel.\nSo I'll wait for comment. . > There's one thing I'm unsure how to handle best.\n\nHydrogen can execute code on a selection basis. This means a result bubble doesn't always equal a break point:\n\nI have no idea to solve this issue, I want to say just let user handle that for now.\nAs I wrote before, I want to add command to manually add/remove bubbles.\nIf this command was introduced, removing only problematic bubbles become more easy, user don't have to clear all bubbles.. For command name I myself can't find better name.\n@lgeiger , feel free to change name.\nIf you are clear for command name, please say me so again, I can update.. I agree with @BenRussert, but still want this feature supported by hydrogen.\nSince it's just simple and easy than ask/wait for each kernel provider to support this.\nHow about implement this indent removing feature and make it configurable by scope name.\n\nAdd stripIndentBeforeSendToKernel config with default ['source.python'].\nWhen editor have matching scope, strip leading whilte-space(=indent) before sending to kernel.\n\nOne side effect for this is, code is evaluated in same environment unless restarting kernel.\nIf user selected some deep indented lines of code, it evaluated as no indented level, this affect scope of vars its effective depending on language.\nBut this is also true for hydrogen:run it can change order of code evaluated, so user have to being careful for the effect of these commands anyway.\n. \n\nI think this issue is related recently introduced faster-restart(#853).\nI noticed similar issue(not same, but greatly related) while I'm working on #861(which call runAll on restart callback).\n\nIf I passed callback to  restart like restart(runAll), the issue is more happens. But % is still rare.\nI can't see issue with ijavascript kernel , but I can see issue for iPython kernel.\nIf I launch Atom in dev-mode and open dev-tools, the issue in iPython kernel is almost always happen(means each restart-and-run-all).\nThis is because, hydrogen write lots of logs in dev-console which add extra delay to complete kernel-restart(my assumption).\nIf I add some delay by likerestart(()=> setTimeout(runAll, 1000)), issue does not happen(of course this timeout would depends on CPU of client machine).\n\nSo my impression for this issue is, the timing of calling callback passed on restart is too early.\nI think we have to find the way to correctly recognize timing for \"when kernel.restart complete\" in fast-restart situation.. Wow thanks @BenRussert working on this.. I like \"Option 2: Only description\".\nBecause when I use autocomplete I normal use it for just complete the word I already know of.\nSo at least for me, extra information is bit noisy( I explicit refer document or src code if I want those info).\n[idea] use these signature info as  dynamic snippet?  dynamically create snippet, and tab can expand these snippet.. Thanks @lgeiger  for pointer.\nHere are icon candidates for empty-bubble I could find from octicons.\nHow do you think?\n\neye\npin\nzap( I like this )\n\n\n. Ready to review. \nFor test spec.\nI tried to add spec, but give up.\nThere is no existing test to actually activating Hydrogen package.\nI need to understand how store is populated on after activation, and how it is used in the first place to write correct test, but this is too much for me for now sorry.\n. Thanks for quick review and merging!!. > For me this fixes the issue describe by @t9md: #863 (comment)\nI still can reproduce with latest master v1.17.1.\nMy steps to reproduce is\n\nprepare sample code below.\n\njavascript\nlet a = [1, 2, 3]\na.push(10)\na // %%\na.push(20)\na // %%\na.push(30)\na.map(e => e * e)\na // %%\n\nexecute restart-kernel-and-re-evaluate-bubbles via keymap so that I can execute multiple times with short gab between each execution.\n\nMy keymap is here,\n'atom-text-editor':\n  'cmd-h': 'hydrogen:restart-kernel-and-re-evaluate-bubbles'\n\nIf I execute ten times(repeat cmd-h ten times while seeing result of each fire), I can see some instance where bubbles are not filled with value(checkmark which represent undefined).\n\n\n. @BenRussert Sorry for late response(I didn't noticed this comment).\nI tried with #876, and but no luck, I can still reproduce this the issue I described above.\nHow about you?\nThe step is very simple, \"Invoking restart-and-re-evaluate via keymap multiple times for ijavascript kernel\". So you could reproduce it right?. Yes, I can say it's easily happens in normal workflow.\nI believe, you and all other people can easily reproduce this issue, by\n\ninvoke restart-kernel-and-re-evaluate-bubbles via keymap on ijavascript kernel.\n\nThis is NOT corner case of usage.\nAs my understanding, I didn't see this issue before hydrogen introduce rapid restart mechanism.\nI prefer \"slow but reliable\" behavior than \"quick but occasional un-reliable\" behavior.\nI want you and other maintainer try to reproduce this issue, and if it's really easy to reproduce as I explained, then my opinion is, we should revert to slow-but-reliable behavior worked in previous version.\nI wonder if #591 is related(this is old issue), why this issue was not happened(I believe so) in previous slow restart then begin to appear from rapid restart?\n.  I checked. And result is NOT good.\nFirst of all, are you able to reproduce issue with the steps I explained?\nThis is super easy steps to reproduce issue(just keymap then hit several time on ijavascript kernel).\nIf this is not easy, that mean my environment specific issue, so we might not need to FIX this issue.\nAnyway, this PR changes how issue be appear.\nHere is the gif when issue was happened.\n\nThis means, let a is evaluated twice in same context.\nThis should not happen since command is restart-and-re-evaluate(not might-restart-and-re-evaluate).\nI imagine something complex/confusing is happening like 2nd request goes to kernel which is kernel just restarted and evaluated 1st request of restart-and-re-evaluate.\nWhat I want is\n\nReproduce issue then see if we can fix some additional changes.\nIf not, just revet to previous implementation.\nIf reverting means also revert other fix, but it should be OK, better to retry fix based on correctly working behavior.\n. > This means, let a is evaluated twice in same context.\nThis should not happen since command is restart-and-re-evaluate(not might-restart-and-re-evaluate).\n\n\n\nI investigated what is happening in this situation.\nI added debug output to restart function and reproduced.\n```javascript\n  restart(onRestarted: ?Function) {\n    // This guard is SUPER important to prevent simultaneous restart processing.\n    // if (this.executionState === \"restarting\") {\n    //   console.log('return ');\n    //   return\n    // }\nconsole.log('------------------');  // added debug print\nconsole.log('called restart');  // added debug print\nif (this.kernelProcess) {\n  console.log('execution_state', this.executionState)\n  this.setExecutionState(\"restarting\");\n  this.shutdown(true);\n  this._kill();\n  const { spawn } = launchSpecFromConnectionInfo(\n    this.kernelSpec,\n    this.connection,\n    this.connectionFile,\n    this.options\n  );\n  this.kernelProcess = spawn;\n  this.monitor(() => {\n    console.log('restarted'); // added debug print\n    if (onRestarted) onRestarted(this);\n  });\n} else {\n  log(\"ZMQKernel: restart ignored:\", this);\n  atom.notifications.addWarning(\"Cannot restart this kernel\");\n  if (onRestarted) onRestarted(this);\n}\n\n}\n```\nThis is output when \"let a evaluated same context\" issue happened.\n\nWhat is happening here is \"processing 2nd request even though 1st restart yet not finished\", so  \"1st request's restart callback is evaluated in same environment of 2nd request\".\nTo say simply both 1st and 2nd request is evaluated in same envorment where it should be separated.\nWe can prevent simple guard at restart entry point.\nJust ignore another restart request when it's not finished is OK IMO.. @lgeiger  I checked, with last commit and it's OK. \nI no longer see, issue with same repro steps with latest one.\nI'm not sure who merge this? not me right?\nAs reviewer, I can say it's OK, ready!\n. WOW I'm happy, with this fix, the workflow I wanted for hydrogen finally perfectly work!\n\npreset mark by toggle-bubble\nthen evaluate from top to bottom with cleanly started kernel environment by restart-and-re-evaluate\n\nYes, no longer strange multi restart issue(I hope so this time again!!). > I would merge this now, but thought @t9md may want to weigh in first with all his work involving markers. I do not think this will change any functionality though.\nAfter 5min of behavioral check, I found two breaking.\n- toggle-bubble cannot add bubble on the editor which is not yet evaluated by kernel.\n  - Should be able to add bubble before any code evaluation, but no longer with this PR.\n- Deactivating package call un-exisiting clearBubbles function, then throw error.\n  - Check deactivate in main.js\n. TIPS(Self promotion): Tool to help refactoring.\nI created atom-narrow package, which allow me interactive project-wide search by ag or rg from Atom editor.\nI keymap enter key to narrow:search-by-current-word in vim-mode-plus's normal-mode.\nSo when I rename or remove some variable/function used in project.\nMy workflow is like this.\n\nDecided to remove clearResultBubbles.\nHit enter on clearResultBubbles it fire narrow:search-by-current-word\nThen I know where this function is used within project.\nWhile I removing, the result list is auto-updated, so I can know the remaining call to clearResultBubbles which I have to make it emptied. It's kind of TODO list to this removing-function-task.\n\nThis workflow greatly reduce change of overlook, time of investigation.\nHappy if you guys try and find it useful.\n. > I mistakenly thought that this is expected behavior since insertResultBubble is called with a wrong\n\nsignature here, I don't know why that worked before. Will fix that!\n\nOh, I didn't noticed my mistake, thanks. Strangely worked as expected \ud83d\ude05 \n. > This should be good to go now.\nAgree.\nI'm not sure I'm OK to merge it. (I'm new to hydrogen community, Any consensus for merge procedure?). My reviewer assignment is just a mistake. reverted. sorry. This is caused by the change made in Atom v1.19.0.\n\nHydrogen use blockDecoration as output of code-evaluation(bubble).\nFrom Atom v1.19.0, blockDecoration's height become not being auto updated.\nTo adjust the output area's height to it's content, each we need to manually invalidate previous blockDecoration measurement.\nThere is #888 which is mainly as preparation.\nI believe fix for this issue will come next.\n\nRelated: atom/atom#14836\n. Wow, understand, thanks. I didn't read updated comment in that thread.. why? what changed? I couldn't find no related commit on hydrogen repo.. This command redraw(refresh) only existing bubbles, so bubble should be included as part of command name.\nrestart-kernel-and-re-evaluate-bubbles? but its's verbose.\nrestart is just a underlying detail to achieve refresh, if kernel provide more light way to cleanup env( like node's vm.createContext ), it also can be used to achieve refresh.\nSo, in my opinion I prefer current name. how do you think?\n. Oh, understand, thanks for clarification.. [INFO] What this command is doing is cleanly-evaluate-code-from-top-to-bottom-and-update-existing-bubbles, so we have to find better/shorter name of this verbose command name.\n. I think we unlinkSync is better, it's not so slow just removing one file.\nWhen destroy() finished, I want assume all cleanup stuff done. \nIMO reliable/simple behavior is important for shutdown.\nThen if performance is really matter, we then move to tune that part like destroy return promise.\n. I wanted to know the result status(destroyed of not), but it not return result status.\nI could write isRowContainsBubbke(row) predicate function to determine add or remove bubble, I just take simple imperative one.. In this restart entry point, we need to prevent simultaneous restart. like this\njavascript\n    if (this.executionState === \"restarting\") {\n      return\n    }\nsince finish timing is monitor called done. but it happens async.\n. or if we don't want to depend on this.executionState === 'restarting' guard.\nWe can explicitly use independent flag like this.restarting = true at entry point of restart, then clear this.restart = false in monitor callback.\nEither way prevent multiple restart request processing.\n. if you want to add marker at EOL. you can write like this. Since point are clipped to actual EOF.\njavascript\n this.marker = editor.markBufferPosition([row, Infinity], { invalidate: \"touch\" });. I want expect new return it's instance(instance of ResultView). \nIf caller want to access outputStore, I like this even if it's verbose.( so need to keep outputStore as prop of ResultView)\njavascript\nconst resultView = new ResultView(...)\nconst {outputStore} = resultView\n. ",
    "andrewbanchich": "I am having the same issue. I opened Atom 1.18 and installed Hydrogen via the settings GUI, but whatever type of code I try to run it on, like a JS file, it gives me \"No kernel specs found\" and \"No kernel grammar for JavaScript found\".. ",
    "sAs59": "Where should I run this command: Hydrogen: Run?. What would be the custom kernel specs for Babel ES6 JavaScript?. @n-riesco How can I add it to the list?. @n-riesco Thank you. I didn't know that you have a kernel for babel (jp-babel). Installing that kernel fixed my problem. Thanks again!. ",
    "madmansn0w": "For anyone still looking for a solution for this issue -- especially those who insert the kernelspec json details into Hydrogen and get \"python can't be spawned. Is it in the path?\" \nThe solution for me was to write the installed python envs (Anaconda) to the kernel.json file for Jupyter. \nThis link serves well for all purposes: https://ipython.readthedocs.io/en/latest/install/kernel_install.html\nSpecifically, this line of code was all I needed to push through the Anaconda prompt:\npython -m ipykernel install --user\nDo this for however many kernels you want to link back to Jupyter by activating each python env. . For anyone still looking for a solution for this issue -- especially those who insert the kernelspec json details into Hydrogen and get \"python can't be spawned. Is it in the path?\" \nThe solution for me was to write the installed python envs (Anaconda) to the kernel.json file for Jupyter. \nThis link serves well for all purposes: https://ipython.readthedocs.io/en/latest/install/kernel_install.html\nSpecifically, this line of code was all I needed to push through the Anaconda prompt:\npython -m ipykernel install --user\nDo this for however many kernels you want to link back to Jupyter by activating each python env. . ",
    "wsjz": "Note that if you install a new kernel, you'll need to run Hydrogen: Update Kernels for Hydrogen to find it. For performance reasons, Hydrogen only looks for available kernels when it first starts.. ",
    "uncreativename": "Oh gotcha, I wasn't even aware that hydrogen supported languages other than python. Sorry if this issue is a duplicate, I just noticed a previous issue with regards to support for stdin, that I assume is related. Thanks for the response!\n. ",
    "huyiqun": "I am using python and looking for exactly what @rgbkrk has shown. I know saving to a file would be one option, but just wonder if a temporary copy and paste is possible as I am quite used to such functionality. :)\n. Thanks! I updated Atom and Hydrogen and everything is good now.\n. Thanks @nikitakit ! I updated all my packages and tried again today and was able to connect to jupyter notebook kernel from hydrogen! My gateways setting is exactly as what you have above. Weirdly it did not connect the last time.\nOn the other hand, what I really wanted is to connect to a kernel started in spyder. It does not come with a url address like what notebook does in the browser, so I am not sure what to put in the baseUrl. There is connect_info that gives an ip address and many port numbers, but that did not work out. Any idea it is possible/how to do this?\n. Worked like a charm! Thank you so much!!!\n. ",
    "nbara": "+1 for this! \nwhat @rgbkrk is suggesting is exactly what I am looking for, as I am running my code on a remote notebook, hence plt.savefig() would save the file to the remote computer, not on my local machine.... ",
    "tobiasbj": "+1!. Hi thanks for the fast response,\nMy system info:\nOS: Windows 10\nHydrogen 1.5.1\nAtom 1.13.0\nKernel: Python 3 (3.5.2 using Anaconda 4.2.0)\nUncertain how to show an example like you did above, but if I do the exact same thing I do not get the usual \"Keyboard interrupt\" (ctrl-c) message. I simply get the \"inprogress symbol\" permanently active until I restart the kernel.. I see that warnings and erros are outputted in separate \"pages\". Ex:\n\n\n\nWouldn't it be nicer if the whole vertical space was used and they for example were displayed in 3 separate output windows on the vertical space (e.g. one for standard output, one for warnings and one for errors)? This is just from the top of my head is probably not the optimal solution.\n. could be fun to try, but I don't think I have time to learn and do it right now. (I'm bascially just leeching off your glorious hydrogen :P ).. Ah, cool. No I haven't tried hydrogen-python yet. I'll try it now \ud83d\udc4d . ",
    "weimindong2016": "+1! This feature is critical for efficiency improvement when organizing analytics results. ",
    "holgerbrandl": "In general it would be great if the plugin would simply allow to save an html copy of the script and the inlined outputs. . ",
    "duzaichuan": "+1!. ",
    "dwSun": "+1. ",
    "Earthson": "+1. I'm using local kernel. And there is no problem now, I can not reproduce it.. I've noticed the downscaling from #242, it's really strange behavior. \nI think it should be configurable.. @lgeiger I created a PR which remove all img style, is it OK?\nhttps://github.com/nteract/hydrogen/pull/607. scroll bar appear when figure size overflow,  I think it is acceptable.. It seems user can customize style using \"~/.atom/styles.less\", eg.\ncss\n.hydrogen.output-bubble {\n  .bubble-output-container {\n    max-height: 1000px !important;\n  }\n}. @lgeiger Is it possible to make bubble max-height configurable?. ",
    "bridgesra": "if you highlight and run both lines: \nplt.plot(data)\nplt.savefig(path)\nwith hydrogen, it will save the .png of the plot in the given path. \nWhen i did the above, executing them line by line it did not save the fig. \n. ",
    "Dirivian": "+1. ",
    "farkass": "Installed libzmq3-dev, removed libzmq-dev\nreceived a different error,\ndeleted compile-cache folder\nreinstalled hydrogen package\nstarted atom by command: atom .\nIt is working now!\n. ",
    "pierregodard": "does it work for you the same way if you add %config InlineBackend.figure_format = 'retina' after %matplotlib inline? If i do, plt.figure(figsize=(a, b)) is not taken into account anymore on my end. It produces a higher resolution figure, but seems to also force a larger size. I don't experience this on a regular ipython notebook. Maybe it's a matplotlib backend configuration problem but i'm not well versed in that.\n[just saw the STDIN support update  \ud83c\udf89, you guys are doing much awesomeness! thank you!]\n. @n-riesco sorry for raising this, it was a misunderstanding on my end. I was executing something like:\nplt.figure(figsize=(15, 4))\nplt.hist(samples, bins=40)\nline by line (with run-and-move-down) and i think the address of the figure produced by the first line gets lost and a second figure is created by the second line (i use %matplotlib inline which is maybe changing the behavior since i don't call plt.show()). If i execute the code as a block, the figure is resized properly!\n[i also now use %config InlineBackend.figure_format = 'svg' instead of %config InlineBackend.figure_format = 'retina' but i don't think it matters much here.]\nthank you again for your help and the magic of hydrogen :-))\n. @lgeiger, i have a similar problem, except that i don't even see a check mark. nevertheless, as in (#88), i can connect to the jupyter kernel outside of hydrogen and check for example that a variable was instantiated and the code properly executed, or add a watch which will function as expected.\nHere is the result of apm -von a mac running OS X 10.11.6:\napm  1.9.2\nnpm  2.13.3\nnode 0.10.40\npython 2.7.12\ngit 2.9.2\nExecuting a \"Run and Move Down\" on print(\"hello\") gives me the following output in the console:\n\nI hope i'm not missing something obvious. Tell me if i can provide more useful information, I hope to be able to use this exciting package soon!\n. thank you for your answer Lukas. i use Hydrogen 0.11.0 and unfortunately \"Hydrogen: Run\" doesn't work either.\n. my Atom version is 1.8.0\n. i use One Light  (with Base 16 Tomorrow Light)  but same effect with One Dark (and Solarized Dark)\n. this returns 1 as is, but if i add a watch then it returns 2\n(i've also tried to disable all community packages except for hydrogen, without success. i feel like i must be missing something pretty major!)\n. was just doing that ;) not sure what should be in there but it doesn't look there's anything like a \"hello\".\n\n. and yes the watch panel works:\n\n. thank you for all your help!\n\nIn the previous screenshot, did you type a 2 in the watch panel? If so, the first div must be in the watch pane, and the empty one must be in the edit pane.\n\noh i understand, i had been assigning a 2 to a variable to check if the kernel accessed outside of Hydrogen was taking that into account, so that must have persisted.\n\nthe watch panel is created on kernel startup (regardless of whether is visible or not). So, I'd expect document.getElementsByClassName('bubble-result-container').length to be 2.\n\ni confirm that after relaunching Atom the result of this is 1 though, not 2\n\nThe console log reports ResultView: Rendering as <pre>\u200bhello\u200b</pre>\u200b, but the div in the editor pane is empty.\n\nyes that is confusing...\nrunning document.getElementsByClassName('bubble-output-container') returns:\n\n. ok thank you for the pointers! that may be a long shot for me since my literacy with Atom and [coffee|java]script is close to null but i'll try. thank you again for all your help\n. @n-riesco apologies in advance for my rather limited abilities here but i'll try to provide some more information. if i add a breakpoint at container.appendChild htmlElement i'm able to look into the container and the beginning looks like this:\n\nwith mimeType being \"text/plain\". So apparently the \"hello\" text is in there.\nThen i'm not sure why but the execution after line \nif @errorContainer.getElementsByTagName('span').length is 0\njumps to something that looks like more related to communication with the kernel:\n\nany advice on how to investigate further?\n. if i click on div.bubble-result-container i get:\n\nbut except for div.bubble-result-container being a child of div.bubble-output-container, itself a child of div.hydrogen.output-bubble, i don't see much happening which would support your guess that there is no bubble-result-container in the editor pane right?\n. ok i'll look at this now. \nin the meantime, here is the output of the console when i relaunch Atom and call Hydrogen: Run for the first time. It seems to me that it's the business of connecting to the Jupyter kernel but maybe you'll see something suspicious:\n\nother screenshots i posted before correspond to a second call to Hydrogen: Run on the same line. i thought the first call was starting a kernel if none was running but maybe i should have mentioned that earlier.\n. view = @insertResultBubble row here gets executed once (if i make proper use of the debugger).\nwhen i step over though, instead of going to the following line kernel.execute code, (result) -> it goes to that one : unless @watchSidebar? (which is maybe totally normal as i don't understand yet the @ syntax)\n. @markerBubbleMap[marker.id] = view is called once\n. for your second to last suggestion, not sure it's the right workflow (i don't know if i'm supposed to instead call apm develop hydrogen etc. to do things in a clean way), but i just edited the file directly and from console.log 'insertResultBubble:', @markerBubbleMap i got an empty list in the console:\ninsertResultBubble: Object {}\nwill try your last suggestion now.\n. commented out the three lines, reloaded Atom, but it doesn't change the behavior. \n[i also commented out the code responsible for writing ResultView: Rendering as MIME  text/plain in the console to actually check that my editing was actually taken into account (and it was).]\n. here is (a part of) the output when console.log 'insertResultBubble:', @markerBubbleMap is inserted below @markerBubbleMap[marker.id] = view. Not sure what would be the best way to give you the whole thing.\n\n. > This is baffling. To sum up, we've confirmed that: \n\n\ndiv.bubble-output-container is not in the DOM \ndespite insertBubbleResult being invoked\n\n\nthat seems correct from my end. (just growing a bit of anxiety that i might miss something very obvious and waste your time)\n. i used the installer from https://atom.io/\nshould i try building it from source?\n. @n-riesco after building Atom 1.10.0-dev-3a4e251 the behavior is unfortunately the same :(\nlooks like the decoration is still absent on my end:\n\ni'm happy to continue to try to provide more information on this, but this is certainly not an urgent issue for me. thank you very much for already getting that far with me.\n. i have several community packages although i already tried disabling all of them except hydrogen and it didn't change the behavior. Should i try removing the community packages? (although i hope this wouldn't erase my packages' settings)\nhere is the list from apm list:\n\u251c\u2500\u2500 Hydrogen@0.11.0\n\u251c\u2500\u2500 Zen@0.16.4\n\u251c\u2500\u2500 advanced-open-file@0.16.3\n\u251c\u2500\u2500 atom-beautify@0.29.10\n\u251c\u2500\u2500 atom-reveal-file-in-finder@1.1.4\n\u251c\u2500\u2500 atom-terminal@0.8.0\n\u251c\u2500\u2500 autocomplete-python@1.8.2\n\u251c\u2500\u2500 clipboard-plus@0.5.1\n\u251c\u2500\u2500 emacs-plus@0.11.0\n\u251c\u2500\u2500 expose@0.12.1\n\u251c\u2500\u2500 file-icons@1.7.17\n\u251c\u2500\u2500 git-time-machine@1.5.3\n\u251c\u2500\u2500 imdone-atom@1.3.29\n\u251c\u2500\u2500 intentions@1.0.5\n\u251c\u2500\u2500 language-latex@0.6.1\n\u251c\u2500\u2500 language-pfm@0.82.0\n\u251c\u2500\u2500 latex-friend@0.0.11\n\u251c\u2500\u2500 latextools@0.8.1\n\u251c\u2500\u2500 linter@1.11.14\n\u251c\u2500\u2500 linter-python-pep8@0.2.0\n\u251c\u2500\u2500 markdown-preview-plus@2.4.0\n\u251c\u2500\u2500 markdown-writer@2.4.0\n\u251c\u2500\u2500 minimap@4.24.7\n\u251c\u2500\u2500 nvatom@0.11.0\n\u251c\u2500\u2500 open-recent@5.0.0\n\u251c\u2500\u2500 pdf-view@0.50.0\n\u251c\u2500\u2500 pigments@0.31.2\n\u251c\u2500\u2500 project-plus@0.9.0\n\u251c\u2500\u2500 promote-folder-to-project@2.0.1\n\u251c\u2500\u2500 python-debugger@0.1.0\n\u251c\u2500\u2500 python-indent@0.4.3\n\u251c\u2500\u2500 python-tools@0.6.8\n\u251c\u2500\u2500 script@3.8.2\n\u251c\u2500\u2500 spell-check-test@0.77.4\n\u251c\u2500\u2500 tasks@2.6.0\n\u251c\u2500\u2500 theme-switcher@1.1.0\n\u251c\u2500\u2500 todo-show@1.6.0\n\u2514\u2500\u2500 wordcount@2.6.2\n.  (could they have an influence even when they are disabled though?)\n. thank you for trying this. i'm a bit at loss on how to continue the investigation as i know very little about how packages work in Atom, let alone my also very limited knowledge of the kind of technologies used here.\n. ok, some news here! i installed Atom on a guest user account, then just installed hydrogen and it.......works! (and it's very nice!:)\nso definitely a configuration problem on my end. since it's not the packages, it must be some init file. apologies in advance if it's been a stupid configuration issue i should have been able to isolate much earlier. will follow up asap.\n. the editor part for me read:\neditor:\n    fontFamily: \"Source Code Pro\"\n    fontSize: 13\n    invisibles: {}\n    scrollPastEnd: true\n    softWrap: true\n    useShadowDOM: false\n    zoomFontWhenCtrlScrolling: true\nthe faulty line is useShadowDOM: false. Removing it solves the problem!! :-))\ni have absolutely no idea how it got there, it doesn't seem like an accessible option from the settings page (EDIT: it actually is an option at the bottom of the settings page). I'd like to understand how it got there, but in any case, THANK YOU for bearing with me!\n. will gladly do that. just a very stupid question: the simplest (only?) way to do that is to fork your repo and submit a pull request right? \n. just did that, thank you.\n. ",
    "masonlr": "@lgeiger, changing between these two InlineBackend options is doubling the displayed figure size for me:\npython\n%config InlineBackend.figure_format = \"png\"\n%config InlineBackend.figure_format = \"retina\"\nDo you know of any workaround or code that I can add to styles.less in order to allow me to use the retina option without changing the displayed figure size?\n. ",
    "updiversity": "The workaround at the moment i have found is to launch atom from within the corresponding virtualenv.\nIn this case, at least I can use the corresponding kernel. \nI tried to put the following config in the GrammartoKernel box, but without success:\n{\"python2\":\"Python Venv 2\"}\nThks for the quick reply\n. Yep, trying in grammarToKernel:\n{\"python\": \"Python Venv 2\"}\nconfirmed it works ! \n. ",
    "postoroniy": "1) run first time\n2) check that decorator on right side is appeared.\n3) on the same line type space and delete space\n4) check that decorator is gone\n5) run this line again\n6) observe issue\n. I saw this at first time with Atom Version: 1.8.0-dev-1548cef\nand according to mine experiments branch 1.7 is totally ok rather than 1.8\n. ",
    "khaeru": "\nadd these lines to \u2026 your startup code in the hydrogen setting\n\nAh, sorry\u2014I read this comment and so assumed magics were not available at all, so I must have overlooked them in the settings.\n. Excellent, thank you!\n. ",
    "RobBW": "Here is the result of running  apm install hydrogen\nuntitled\n[robw]$ apm install hydrogen\nInstalling hydrogen to /Users/robw/.atom/packages \u2717\n\nzmq@2.15.2 install /private/var/folders/jj/x_wp_0257_nfp529qm60f90h0000gn/T/apm-install-dir-11653-60949-1029y09/node_modules/Hydrogen/node_modules/jmp/node_modules/zmq\nnode-gyp rebuild\n\nmake: *** No rule to make target Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/addon.gypi', needed byMakefile'.  Stop.\ngyp ERR! build error\ngyp ERR! stack Error: make failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/build.js:269:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)\ngyp ERR! System Darwin 15.5.0\ngyp ERR! command \"node\" \"/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /private/var/folders/jj/x_wp_0257_nfp529qm60f90h0000gn/T/apm-install-dir-11653-60949-1029y09/node_modules/Hydrogen/node_modules/jmp/node_modules/zmq\ngyp ERR! node -v v0.10.40\ngyp ERR! node-gyp -v v2.0.2\ngyp ERR! not ok\nnpm ERR! Darwin 15.5.0\nnpm ERR! argv \"/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/bin/node\" \"/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/robw/.atom/.apm/.apmrc\" \"--userconfig\" \"/Users/robw/.atom/.apmrc\" \"install\" \"/private/var/folders/jj/x_wp_0257_nfp529qm60f90h0000gn/T/d-11653-60949-mbzavo/package.tgz\" \"--target=0.36.8\" \"--arch=x64\"\nnpm ERR! node v0.10.40\nnpm ERR! npm  v2.13.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.2 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.2 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /private/var/folders/jj/x_wp_0257_nfp529qm60f90h0000gn/T/apm-install-dir-11653-60949-1029y09/npm-debug.log\n[robw]$\nRegards\nRob\n\nOn 2/06/2016, at 21:09, Lukas Geiger notifications@github.com wrote:\n install hydrogen\n. Attached are the answers to your questions taken from a Terminal session:\n\nLast login: Sat Jun  4 17:06:27 on ttys000\nCurrent PATH is: /Users/robw/anaconda/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/opt/X11/bin:/usr/local/git/bin:/usr/texbin:/Developer/NVIDIA/CUDA-7.5/bin:/Users/robw/torch/install/bin:/Users/robw/.local/bin:usr/local/Cellar/llvm38/3.8.0/bin\n[robw]$ brew install pkg-config\nWarning: pkg-config-0.29.1 already installed\n[robw]$ brew install zeromq\nWarning: zeromq-4.1.4 already installed\n[robw]$ jupyter\nusage: jupyter [-h] [--version] [--config-dir] [--data-dir] [--runtime-dir]\n               [--paths] [--json]\n               [subcommand]\njupyter: error: one of the arguments --version subcommand --config-dir --data-dir --runtime-dir --paths is required\n[robw]$ jupyter --version\n4.1.0\n[robw]$ jupyter \u2014paths\nconfig:\n    /Users/robw/.jupyter\n    /Users/robw/anaconda/etc/jupyter\n    /usr/local/etc/jupyter\n    /etc/jupyter\ndata:\n    /Users/robw/Library/Jupyter\n    /Users/robw/anaconda/share/jupyter\n    /usr/local/share/jupyter\n    /usr/share/jupyter\nruntime:\n    /Users/robw/Library/Jupyter/runtime\n[robw]$ atom --version\nAtom    : 1.7.4\nElectron: 0.36.8\nChrome  : 47.0.2526.110\nNode    : 5.1.1\nrobw]$ python --version\nPython 2.7.11 :: Anaconda custom (x86_64)\nRegards\nRob\n\nOn 3/06/2016, at 20:29, Lukas Geiger notifications@github.com wrote:\nJust to make shure, have you installed pkg-config and zeromq and used python2 for installing hydrogen? (https://github.com/nteract/hydrogen/blob/master/README.md#homebrew-on-os-x https://github.com/nteract/hydrogen/blob/master/README.md#homebrew-on-os-x)\nWhich version of atom are you using?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/279#issuecomment-223521235, or mute the thread https://github.com/notifications/unsubscribe/AGLYJoTi8-c1vfjYuqNxbiy280d5HtAlks5qH-XvgaJpZM4IsKjc.\n. Following up on your query about node environment I updated from node 6.1 to node 6.2. No improvement.\n\nThen found this link : https://github.com/npm/npm/issues/823 and followed its instructions to \u201c  add $HOME/.homebrew/lib/node/ to my NODE_PATH.\u201d The file .homebrew did not exist, and adding it made no difference anyway..\nHowever finding that NODE_PATH is empty makes me wonder. Should it be set? and if so what to?\nMy whole Python working environment is 2.7 so I assume that is what node-gyp is using too. How do I check? \nI did find that node-gyp.js is tucked away in usr/local/lib/node-modules/npm/node-modules/node-gyp/lib so I added usr/local/lib to $PATH and usr/local/lib/node-modules/npm/ to $NODE_PATH as a test.\nThat did not work either.\nI hope this negative information is helpful\nRegards\nRob\n\nOn 4/06/2016, at 01:18, Kyle Kelley notifications@github.com wrote:\nFor my OS X machine, it's been enough to install homebrew, zmq, and pkg-config. This is assuming the node environment is set to use Python2 for node-gyp.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/279#issuecomment-223576236, or mute the thread https://github.com/notifications/unsubscribe/AGLYJsgdUVlUVvKi6Oi6w02tsk-1y8Dgks5qICmvgaJpZM4IsKjc.\n. lgeiger's advice to remove ~/.atom/packages/Hydrogen/ did not help because there were no packages to find.\n\nHowever I found and deleted 4 identical copies of the unpacked Hydrogen  package in  /private/var/folders/jj/x_wp_0257_nfp529qm60f90h0000gn/T/npm-39677-c351c005/unpack-d14c24747d76\nThere was no apm-install-dir or npm-debug file.\nFurther exploration of the build problem led me here: \nhttps://github.com/JustinTulloss/zeromq.node/issues/490\nwhere it says   \"2.15.1 introduced Node 6 compatibility\u201d\nand\nhttps://github.com/JustinTulloss/zeromq.node/wiki/Installation where it says:\n\"Then for every node.js project you have, you need to change to that directory and run\nnpm install zmq\n(For installation on linux without root access, see Installation on Linux / bsd without root access )\nNote that you can't do a global install. In node.js, once you require something, it needs to be in that directory (AFAIK), so don't try the '-g' global flag\"\nIt seems that these links on the zmq developer's github site probably explain my problem.\nBut I still do not know enough about what  to do to compile Hydrogen. \n. Following advice received on issue 318 this issue was resolved.\nI replied there as follows:\nn-riesco's suggestion worked.\n\"On MacOS 10.11.5 all I had to do was remove the space from the file path and do:\nexport PKG_CONFIG_PATH=/usr/local/lib/pkgconfig to provide the link to libzmq.\nHydrogen installed without any further problems.\nThank you all\"\n. Output of pkg-config libzmq --libs:\n[robw]$ pkg-config libzmq --libs\nPackage libzmq was not found in the pkg-config search path.\nPerhaps you should add the directory containing `libzmq.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'libzmq' found\n[robw]$ export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig\n[robw]$ echo $PKG_CONFIG_PATH\n/usr/local/lib/pkgconfig\n[robw]$ pkg-config libzmq --libs\n-L/usr/local/Cellar/zeromq/4.1.4/lib -lzmq\n[robw]$\n. Forgot to say running apm rebuild with the PKG_CONFIG_PATH=/usr/local/lib/pkgconfig produces the same error message as posted in apm rebuild session.txt posted above\n. No, it still does not work.\nDebug file attached\nRegards\nRob\n\nOn 30/06/2016, at 02:37, Nicolas Riesco notifications@github.com wrote:\nDoes is work if you run instead PKG_CONFIG_PATH=/usr/local/lib/pkgconfig apm rebuild?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/318#issuecomment-229376019, or mute the thread https://github.com/notifications/unsubscribe/AGLYJt9F6Sqh6mVXyRT-5FPndEfuDJS_ks5qQoMWgaJpZM4I_8JB.\n. Forgot github doesn\u2019t like the \u201clog\u201d extension.\nThis time\n\nRob\n\nOn 30/06/2016, at 18:59, Nicolas Riesco notifications@github.com wrote:\nIt seems Github dropped the email attachment.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/318#issuecomment-229576188, or mute the thread https://github.com/notifications/unsubscribe/AGLYJnaTWTR0C-u_3lXH1JQc95WyvZCJks5qQ2lngaJpZM4I_8JB.\n\n0 info it worked if it ends with ok\n1 verbose cli [ '/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/bin/node',\n1 verbose cli   '/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js',\n1 verbose cli   '--globalconfig',\n1 verbose cli   '/Users/robw/.atom/.apm/.apmrc',\n1 verbose cli   '--userconfig',\n1 verbose cli   '/Users/robw/.atom/.apmrc',\n1 verbose cli   'rebuild',\n1 verbose cli   '--target=0.36.8',\n1 verbose cli   '--arch=x64' ]\n2 info using npm@2.13.3\n3 info using node@v0.10.40\n4 info readInstalled object\n5 verbose rebuild path, id [ '/Users/robw/node_modules/bindings', 'bindings@1.2.1' ]\n6 verbose rebuild path, id [ '/Users/robw/node_modules/nan', 'nan@2.3.5' ]\n7 verbose rebuild path, id [ '/Users/robw/node_modules/zmq', 'zmq@2.15.3' ]\n8 silly rebuild set [ '/Users/robw/node_modules/bindings',\n8 silly rebuild set   '/Users/robw/node_modules/nan',\n8 silly rebuild set   '/Users/robw/node_modules/zmq' ]\n9 info build /Users/robw/node_modules/bindings\n10 info preinstall bindings@1.2.1\n11 info linkStuff bindings@1.2.1\n12 silly linkStuff bindings@1.2.1 has /Users/robw/node_modules as its parent node_modules\n13 verbose linkBins bindings@1.2.1\n14 verbose linkMans bindings@1.2.1\n15 verbose rebuildBundles bindings@1.2.1\n16 info install bindings@1.2.1\n17 info postinstall bindings@1.2.1\n18 info build /Users/robw/node_modules/nan\n19 info preinstall nan@2.3.5\n20 info linkStuff nan@2.3.5\n21 silly linkStuff nan@2.3.5 has /Users/robw/node_modules as its parent node_modules\n22 verbose linkBins nan@2.3.5\n23 verbose linkMans nan@2.3.5\n24 verbose rebuildBundles nan@2.3.5\n25 info install nan@2.3.5\n26 info postinstall nan@2.3.5\n27 info build /Users/robw/node_modules/zmq\n28 info preinstall zmq@2.15.3\n29 info linkStuff zmq@2.15.3\n30 silly linkStuff zmq@2.15.3 has /Users/robw/node_modules as its parent node_modules\n31 verbose linkBins zmq@2.15.3\n32 verbose linkMans zmq@2.15.3\n33 verbose rebuildBundles zmq@2.15.3\n34 info install zmq@2.15.3\n35 verbose unsafe-perm in lifecycle true\n36 info zmq@2.15.3 Failed to exec install script\n37 verbose stack Error: zmq@2.15.3 install: node-gyp rebuild\n37 verbose stack Exit status 1\n37 verbose stack     at EventEmitter. (/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/lib/utils/lifecycle.js:214:16)\n37 verbose stack     at EventEmitter.emit (events.js:98:17)\n37 verbose stack     at ChildProcess. (/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/lib/utils/spawn.js:24:14)\n37 verbose stack     at ChildProcess.emit (events.js:98:17)\n37 verbose stack     at maybeClose (child_process.js:766:16)\n37 verbose stack     at Process.ChildProcess._handle.onexit (child_process.js:833:5)\n38 verbose pkgid zmq@2.15.3\n39 verbose cwd /Users/robw\n40 error Darwin 15.5.0\n41 error argv \"/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/bin/node\" \"/Applications/ Codingware/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/robw/.atom/.apm/.apmrc\" \"--userconfig\" \"/Users/robw/.atom/.apmrc\" \"rebuild\" \"--target=0.36.8\" \"--arch=x64\"\n42 error node v0.10.40\n43 error npm  v2.13.3\n44 error code ELIFECYCLE\n45 error zmq@2.15.3 install: node-gyp rebuild\n45 error Exit status 1\n46 error Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\n46 error This is most likely a problem with the zmq package,\n46 error not with npm itself.\n46 error Tell the author that this fails on your system:\n46 error     node-gyp rebuild\n46 error You can get their info via:\n46 error     npm owner ls zmq\n46 error There is likely additional logging output above.\n47 verbose exit [ 1, true ]\n. n-riesco's suggestion worked.\nOn MacOS 10.11.5 all I had to do was remove the space from the file path and do:\nexport PKG_CONFIG_PATH=/usr/local/lib/pkgconfig to provide the link to libzmq.\nHydrogen installed without any further problems.\nThank you all\n. ",
    "atmlvs": "cool! I went back the demo. I missed the top 2 lines :(\nthanks for pointing out.\n. ",
    "Kiminaka": "Thanks n-risesco! \nI deleted jupyter kernelspec list --json but I still get this error.. \n\n. I'm using OSX El Captain\n. Thanks lgeiger! I see. I was testing it with an unsaved file. But if I try it with a .py file, I still get the same error.. \nNo kernel for language python found\n. Here is the output!\n```\n{\n  \"kernelspecs\": {\n    \"python2\": {\n      \"resource_dir\": \"/usr/local/share/jupyter/kernels/python2\", \n      \"spec\": {\n        \"language\": \"python\", \n        \"display_name\": \"Python 2\", \n        \"env\": {}, \n        \"argv\": [\n          \"/Users/kn/anaconda/bin/python\", \n          \"-m\", \n          \"ipykernel\", \n          \"-f\", \n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\n``\n. Great! it worked when I pasted the output :) I'm using the latest version (1.7.4)\nThanks a lot, lgeiger!\n. Ah, this was a silly question.. Yes positioning the cursor inside the word worked! But highlighting it didn't work(?)\n. Also this wouldn't be possible on Atom but if I can typetab+shift` just like NB and metadata pops up, it'd be super useful :)\n. Ah I see. Thanks, it fixed the problem :)\n. ",
    "tiangolo": "Thanks @slavaGanzin for the tip.\nHere's what happens.\nWhen I run:\n$ jupyter kernelspec list\nI get:\nAvailable kernels:\n  python2    /home/user/miniconda2/lib/python2.7/site-packages/ipykernel/resources\n(I'm using miniconda / Anaconda Python).\nBut that folder has no contents (just two images):\n$ ls /home/user/miniconda2/lib/python2.7/site-packages/ipykernel/resources \nlogo-32x32.png  logo-64x64.png\nNevertheless, it seems that recently the location has moved, and to get it is with:\n$ jupyter --runtime-dir\n/run/user/1000/jupyter\nAnd inside it is the kernel connection file:\nls /run/user/1000/jupyter/       \nkernel-16604.json\nAnd the contents are the connection parameters as expected (not a kernel specification or something like that):\ncat /run/user/1000/jupyter/kernel-16604.json                                                 \n{\n  \"stdin_port\": 39753, \n  \"ip\": \"127.0.0.1\", \n  \"control_port\": 44910, \n  \"hb_port\": 33512, \n  \"signature_scheme\": \"hmac-sha256\", \n  \"key\": \"64562052-82fb-4022-b93a-d7131f75df7c\", \n  \"kernel_name\": \"\", \n  \"shell_port\": 46955, \n  \"transport\": \"tcp\", \n  \"iopub_port\": 59018\n}\nBut then I run \"hydrogen update kernels\" and \"hydrogen show kernel commands\" and in the submenu I only get \"Switch to Python 2\" (apart \"Interrupt\" and \"Restart\").\nThe thing is that no matter what I do, Hydrogen never uses any of those connection files. It always creates a new connection file to a new kernel inside the installation directory inside Atom, for example in:\n/home/user/.atom/packages/Hydrogen/kernel-configs/kernel-fecc4fea-7b53-4599-9fb2-45fd96ad4da9.json\nwhich is a new connection file:\ncat /home/user/.atom/packages/Hydrogen/kernel-configs/kernel-fecc4fea-7b53-4599-9fb2-45fd96ad4da9.json\n{\n  \"stdin_port\": 49808, \n  \"ip\": \"127.0.0.1\", \n  \"control_port\": 45350, \n  \"hb_port\": 58863, \n  \"signature_scheme\": \"hmac-sha256\", \n  \"key\": \"b6989c89-6896-4572-a677-b0c7fac8c37c\", \n  \"kernel_name\": \"\", \n  \"shell_port\": 50343, \n  \"transport\": \"tcp\", \n  \"iopub_port\": 59836\n}\n(It's shown in the Atom Developer Tools console every time).\n\nI think that a simple solution could be adding a simple behavior that checks in the current project directory for a file like ./hydrogen/kernel/custom-kernel.json and if it exists then uses it instead of creating a completely new kernel. I think it wouldn't be too complex to implement, you have already made all the hard stuff in Hydrogen.\nI don't know if that is something that you see fit in the project, but maybe I could try adding it (although I'm not an expert in CoffeScript).\nFor me (and I think for several people, at least in my team), that would make Atom with Hydrogen the default IDE for Python in Docker development (at least). But I don't know what's your opinion about it, is that a feature that you would like (or accept) to have?\n. Thanks for the feedback! I'll work on it.\n. Great! Thanks everyone for your feedback and :+1:s.\n@willwhitney yes, it's opt in and doesn't create directories. Actually, Hydrogen wouldn't even create a directory in any case, the user would have to create it and put his connection file there (for example with Docker) before launching Hydrogen. That's how the user \"opts in\", creating a connection file under ./hydrogen/connection.json. \nI'm glad you liked the README update! Documentation is important to me too :)\n@lgeiger :D :+1: \nYes @n-riesco, there's a directory for connection files, you can get it with: jupyter --runtime-dir. In my Ubuntu it is in: /run/user/1000/jupyter. That's where Jupyter puts the connection files of the kernels it creates directly.\n@rgbkrk I agree that it's a bit strange to do not use the normal directories, but at least in the case of using Docker containers, adding the connection files in the standard location could end up \"polluting\" the current Jupyter space, as there might be many containers that could leave stray connection files (if the container dies, gets killed or in any case that stops before removing the connection file). I think that keeping the custom kernel inside the specific project will help isolate the environments.\nAnd if the container stopped and left the connection file, just re-starting it and starting the kernel again will override the old connection file, keeping everything more \"clean\" (at least from my point of view).\n. I think now I have all the :+1: required... \nSo I'll work on it and update it with the changes asked by @n-riesco .\n. @n-riesco I updated the code with the requested changes (including the README). Can you check if everything is OK?\n. @n-riesco I made the changes you asked, and asked questions about the last one, as I can't make it work and maybe I'm missing something.\n. Thanks @n-riesco! \nI'm glad to help... and actually, I need and will use this a lot. Once merged, Atom-Hydrogen-Docker will be my default dev setup. :smile: \n. Great @n-riesco! Thanks for merging :tada: \nI hope you make a release so I can update my Atom with the new official version and more importantly, share the new functionality with some people in my team.\n. Oh! Thanks @rgbkrk! That's cool :D :tada: \n. @jdavidheiser I haven't used Jupyterhub, but giving a quick look at its docs, here's what it probably does:\nOnce a user connects to Jupyterhub, it creates a Jupyter server for that user, and that server creates kernels and the connection files for those kernels. And then it starts (web) notebooks connected to each of those kernels for that user. As I understand, it creates a separate server for each user.\n\nHere's what would be needed to do for it to work (somehow, I don't know if Jupyterhub already has configurations for this):\nOnce the user's Jupyter server inside Jupyterhub creates a kernel, before starting a web notebook (which it probably does automatically) the user should get the connection file for that kernel and put it locally inside his project under ./hydrogen/connection.json. As there's a server per user, I think it's probable that the kernels for that user are isolated too.\n\nBut there's the authentication / authorization thing, which is a big thing. Following the docs it seems Jupyterhub solves this in different ways, but the main solution is that it needs each user to have an acount (user) in that nix server and then somehow authenticate to the nix server (I'm not sure how each user would authenticate with his *nix credentials in the web notebook interface).\nAnd I don't know if a direct connection to a kernel would have any authentication mechanism, I don't think so. So it would probably be needed to set it up apart from the rest.\n\nWhat I would do is:\nFirst, make sure it's absolutely needed to have Jupyterhub, if not, use vanilla Jupyter. Create a user account in the *nix server for each user that needs to connect (Jupyterhub already needs to do that too). Then create a Jupyter kernel with its kernel connection file in a predefined location, and listening only to local connections (localhost IP), as with:\npython -m ipykernel --ip=127.0.0.1 -f /tmp/hydrogen/connection.json\nThen, copy (rsync or scp) that connection file to my local project under ./hydrogen/connection.json.\nThen open the file and check the ports used, and create a SSH tunnel for each port used. Something like:\nssh -f user@personal-server.com -L 2000:personal-server.com:25 -N\nHere's an article on how this SSH tunnel works.\nFor a quick and formal explanation of each parameter, explainshell.com.\nAfter creating all the needed tunnels and having the connection file in place, I would try it out with Hydrogen. It should work.\nIf that works, then I would probably try to automate the whole thing. I don't know if it should be part or Hydrogen or more like a separate complementary script. \nIf done with NodeJS I would try tunnel-ssh or ssh2 directly and rsync. \nIf done with Python I would try paramiko and or a combination of sshtunnel, pyrsync, scp.py and scpclient.\n. Thanks @MaximilianR for the review!. Thanks @lgeiger for checking and approving! You guys are some of the coolest and most cheerful Open Source repo maintainers.. I agree with you @MaximilianR in that I wish it could be simpler, for example, keeping a Docker container alive requires that loop that doesn't seem very simple at first.\nBut for the long term I think it can have it's advantages, for example:\n\nIt should work for a very broad range of use cases, being quite \"generalizable\"\nNot having to re-build the image to change the local environment (that could mean even minutes for the building process to download all the dependencies, at every switch of environment... that would kind of \"kill\" the feature to me)\nBy already having a dummy live container would allow doing things like, in the same container run the Gateway Kernel and at the same time run a Flask debugging server (via another exec command). Then develop using the Kernel and by every change saved the Flask debugging server would re-load (using a volume mounting the app code)\nIf by accident someone sent the Dockerfile for production without commenting the development part, the image would still work as normally (somewhat bigger, by downloading the packages, but still would work)\nIf someone needed to try live installing a new package (before adding it to the Dockerfile and re-compiling) he could just terminate the Kernel Gateway and install the package from the same container exec console and re-start the Kernel Gateway right away\n\n\nI think it could be nice to have an \"alternative\" option too in the docs, for example showing how to use Jupyter Docker Stacks as in the official Kernel Gateway docs. It probably might be just a section linking to those docs as an alternative to \"Docker\" and \"Docker Compose\". Or showing how to do it from scratch with tini. \nMaybe for the next time... (or you might consider creating a PR adding that :smile:).. I think that would be a cool addition to the README.md as the simplest case, to just have immediate external execution, in a case that the user can give up other Docker features or configurations.\n...But in that case, wouldn't it be easier to use a Jupyter Docker stack? \nThey already have tini and everything (including most of jupyter_kernel_gateway's dependencies, so the build and installation would be quite fast). For example, with the minimal-notebook the setup would be something like:\nA Dockerfile with:\n```Dockerfile\nFROM jupyter/minimal-notebook\nRUN pip install jupyter_kernel_gateway\nEXPOSE 8888\nCMD [\"jupyter\", \"kernelgateway\", \"--KernelGatewayApp.ip=0.0.0.0\", \"--KernelGatewayApp.port=8888\"]\n```\nAnd then build and run with:\nbash\ndocker build -t my/kernel-gateway .\ndocker run -it --rm -p 8888:8888 my/kernel-gateway\nOr the equivalent docker-compose.yml, probably both options. I think that having both options helps covering more use cases, and users can more easily copy - paste and adapt what they need (omiting what they don't need). I think this would answer question 1.\nNote: Taken and modified from the official Jupyter Kernel Gateway docs.\n\nThe kernel settings wouldn't necessarily be like you specified above, as many users won't run that from a Linux machine but rather from Windows or Mac, and in those cases it will mostly be a Virtual Machine with a local IP (as 192.168.99.100).\nI think it's better to explain how it works so that everyone can use and adapt it to their needs. It is currently explained here.\nI'm not sure if I understood the question, but I think this would answer question 2.\n\nI think something like what you propose would be a good addition to the README.md for the simplest cases, just having a containerized environment, but not a replacement for everything between lines 250 to 280 as there are many different use cases not covered:\n\n\nIn 250, the instructions are general, not just for Docker. Those instructions would work in local machine on the same network, for example a Raspberry Pi (I've done precisely that).\n\n\nIn 268 is an explanation of how it all works, so that users can understand and adapt to their needs.\n\n\nIn 278 is a general purpose simple Dockerfile that could be easily adapted to everyone's needs. It doesn't assume a specific Docker Entrypoint, init (PID 0) process, etc. It could be adapted for production systems (not just a local environment) using, e.g. Supervisor. For example, see this base Flask image. In the case of tini, that image would have conflicts.\n\n\nI won't describe each following section, but then, after that, there are commands and instructions for pure Docker commands and docker-compose commands (to help all the users).\n\n\nThe next big section: Custom kernel connection, although won't probably be the most common case now that Hydrogen supports Kernel Gateways, is still a feature of Hydrogen. And there could be people depending on that feature for their current workflow. So it should probably be kept for backward compatibility.\n\n\n...this should answer question 3.\n\nI just got curious and now I want to test the simple approach with the Jupyter Docker Stacks (that is just a \"simplification\" of your proposal). \n@MaximilianR Do you think that adding instructions to the README.md with a Jupyter Docker Stack would document your current use case? I think I can easily add that to the README.md (it's almost already written in this issue :laughing: ). Or do you want to take a stab at it and create a PR?. Excellent @MaximilianR !\nLet's try with a Jupyter Docker stack.\n\nI use Docker for Mac and localhost worked for me. What makes you think you need the IP?\n\nInteresting that it just works in Mac! I didn't know. In Docker for Windows, and in Docker Toolbox (at least in Windows) it doesn't work like that, the VM gets an IP in the local (VM) network, so you have to use that IP (it is not bound to the localhost). \nOn the other side, if the user is connecting to a Docker running in a different machine in the same network, the IP would also be different.\n\nYour call, but there is a lot there! Might be simpler as a link to a 'Further detail' ...\n\nYou're right. It is a lot indeed. Maybe we can split it in a separate file KERNEL_CONNECTION.md and link to it from the main README.md as with the plug-ins.\n\nSo, the steps to do would be:\n\n\nMove everything from the section Custom Kernel Connection to a file KERNEL_CONNECTION.md and link to it from that section with a short note explaining what it is and that the easier method would probably be the Kernel Gateway \"documented above\".\n\n\nIn the Example Kernel Gateway section add a sub-section with instructions on how to set it up with a Jupyter Docker Stack. Including:\n\nA Dockerfile\nHow to build and run it with docker commands\nHow to build and run it with docker-compose\n\nA note with a link to jump to the Connect Atom section as those instructions would also apply unmodified.\n\n\nThe section Testing it gets a note to generalize it to both Dockerfiles.\n\n\nIn the section Terminate the connection and container add a note explaining how to do it with the Jupyter Docker Stack (that would be a lot simpler).\n\n\nIs that right @MaximilianR ?\nWould that be OK @lgeiger ?. Excellent! I'll test the setup and work on a PR.. As the PR is already merged, I think we can close this issue.. Although late...\nJust in case and just so you know, I haven't used Flow, but I've been using TypeScript (I'm using it right now in an Electron project). And looking at the code they seem quite similar.\nI don't really know the utility of my comment, but just FYI... :). Cool! :+1: \nThe \"best one\" is the one you already know :smile: . Would you like me to completely remove the notification or make it auto-dismiss (removing the dismissabe: true)?\n. I removed it in the latest version, nevertheless, I forgot to mention why I added it.\nIf a user starts with a custom kernel, with the custom connection, and then triggers \"Hydrogen: Restart Kernel\", the shutdown signal will be sent to the external (Docker) kernel, which will stop the kernel and remove the file. And then, Hydrogen will \"restart\" the kernel, but as there's not a custom kernel connection anymore it will start a new, local, fresh kernel.\nUsing my example from the README, this will make the package markdown import while using the kernel container, but throw an error after restarting the kernel (using the local kernel).\nI just wanted to make sure to put it here, in case you want to get the notification (auto-dismissed) back or do something else for that \"corner case\".\n. You're right. Done.\n. Right. Good catch.\n. The thing is that this code:\n``` CoffeeScript\n            @_runningKernels[grammarLanguage] = kernel\n        startupCode = Config.getJson('startupCode')[kernelSpec.display_name]\n        if startupCode?\n            console.log 'executing startup code'\n            startupCode = startupCode + ' \\n'\n            kernel.execute startupCode\n\n        onStarted?(kernel)\n\n```\nused to run inside this callback:\n``` CoffeeScript\n        ConfigManager.writeConfigFile (filepath, config) =>\n            kernel = new Kernel kernelSpec, grammar, config, filepath\n        @_runningKernels[grammarLanguage] = kernel\n\n        startupCode = Config.getJson('startupCode')[kernelSpec.display_name]\n        if startupCode?\n            console.log 'executing startup code'\n            startupCode = startupCode + ' \\n'\n            kernel.execute startupCode\n\n        onStarted?(kernel)\n\n```\nbut now it should run either with a normal kernel (inside the callback) or with a custom kernel (called directly).\nI tried first running it outside of both scopes after the try-catch with something like:\n``` CoffeeScript\n            kernel = ConfigManager.writeConfigFile (filepath, config) =>\n                kernel = new Kernel kernelSpec, grammar, config, filepath, onlyConnect=false\n        @_runningKernels[grammarLanguage] = kernel\n        startupCode = Config.getJson('startupCode')[kernelSpec.display_name]\n        ...\n\n```\nbut the value returned by ConfigManager is not the kernel but a Server, taken from the console:\njavascript\nServer {domain: null, _events: Object, _eventsCount: 0, _maxListeners: undefined, _connections: 0\u2026}\nDigging in the final value (returns) of the callbacks I went through several callbacks in config-manager.coffee, find-port.coffee and thought that \"debugging\" that could lead to modifying several deep files unnecessarily while I could encapsulate that code in a function and just pass it.\nOf course, there is the option of duplicating the code in both blocks, inside and outside the function, but I thought that would be a complete no-no.\nMaybe I'm missing something and you can guide me...\n. Because this would allow adding one single package and command during development that can then be removed for production. \nIf for example the production image uses another system (e.g. Supervisor) it would become too cumbersome to add and configure tini and the Kernel Gateway during development but then remove it and use Supervisor again for production. That would happen, for example, in the case of a web application with Flask. I would gladly use interactively the models and everything in the Python environment during development and then remove the Kernel Gateway section for production.\nIf the only wants to have a Python environment in a remote Kernel just for, let's say, exploratory analysis, he could simply use one of the Docker Jupyter Stacks as his base image. But that would be a very specific case.\nI wanted to document the very simplest approach that could be extended as needed by each user.. You refer to the \"Note\", right? Yep, I did it deliberately. \nI would expect users to skip one of the two sections (docker or docker-compose) and follow only the section of interest, but the warning applies for both. \nI wouldn't expect someone following the docker-compose approach to read carefully the note in the previous (skipped) section.. If they use anything different than Docker in Linux it will be running on a virtual machine (Docker for Windows, Docker for Mac or Docker Toolbox). So it would be a local virtual network IP. And if everything goes normally, it would be precisely that IP: 192.168.99.100. But that could vary in each installation.\nIn any case, if someone got to the point in where he is using Docker in a non-Linux system, he most probably knows that. Also it is officially documented here.\nBut if it's required, I could add a note stating that one possible way to get the IP of a locally running Docker in a non-Linux system could be: docker-machine ip default. Although this won't necessarily work \"all\" the time, for example if someone changed the name of the Docker Machine from default to something different. But most of the time (in a local environment) it would work.\nAnd in another case, if the user is running Docker in a host different than the one running Atom, maybe a different machine in the same network or a (not recommended) public VPS on the cloud, the IP would be that of that other machine. And that would depend on each user.. That is just a comment that could be omitted, but it might remind someone that those 2 lines are only for development.\nThe block (of 2 lines) in the Dockerfile below the comment are the ones to be removed or commented out in production. For development it would look like:\n```Dockerfile\nRemove in production\nRUN pip install jupyter_kernel_gateway\nEXPOSE 8888\n```\nAnd for production it could be:\n```Dockerfile\nRemove in production\nRUN pip install jupyter_kernel_gateway\nEXPOSE 8888\n```\nAlthough, as commented above, the user could test his \"production\" environment without commenting out those lines in his Dockerfile, just by running the container normally, without overriding the default command with the loop and without having to re-build the image.. Cool! I updated it in the newest commit.. Good point. Which is like totally the contrary...\nMaybe like this:\n\nNote: Hydrogen now supports using kernel gateways (see the instructions in the main page). Using that option might be simpler in most of the use cases. For example, it will allow you to use the functionality from a Docker virtual machine in Windows or Mac as easily as if it was Linux.\n\nWhat do you think @lgeiger ?. Done @lgeiger ! :tada: . ",
    "AnthonyJacob": "Hmm, I have Anaconda installed (Python 3.5), does it mean that hydrogen won't work for anaconda?\n. I have installed both\n-  Visual C++ Build Tools\n-  Python 2.7\nbut I am still getting the same error.\n. > apm  1.9.2\n\nnpm  2.13.3\nnode 0.10.40\npython 3.5.1\ngit\nvisual studio\n\nSeems like not... How can I force it to use the right one?\n. Done. But another error occurs.\n\nzmq@2.15.3 install C:\\Users\\Anthony\\AppData\\Local\\Temp\\apm-install-dir-116512-2804-130uofa\\node_modules\\Hydrogen\\node_modules\\jmp\\node_modules\\zmq\n node-gyp rebuild\nC:\\Users\\Anthony\\AppData\\Local\\Temp\\apm-install-dir-116512-2804-130uofa\\node_modules\\Hydrogen\\node_modules\\jmp\\node_modules\\zmq>if not defined npm_config_node_gyp (node \"C:\\Users\\Anthony\\AppData\\Local\\atom\\app-1.8.0\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node  rebuild ) \nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\nMSBUILD : error MSB3428: Could not load the Visual C++ component \"VCBuild.exe\". To fix this, 1) install the .NET Framework 2.0 SDK, 2) install Microsoft Visual Studio 2005 or 3) add the location of the component to the system path if it is installed elsewhere.  [C:\\Users\\Anthony\\AppData\\Local\\Temp\\apm-install-dir-116512-2804-130uofa\\node_modules\\Hydrogen\\node_modules\\jmp\\node_modules\\zmq\\build\\binding.sln]\ngypnpm ERR! Windows_NT 6.2.9200\nnpm ERR! argv \"C:\\Users\\Anthony\\AppData\\Local\\atom\\app-1.8.0\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Anthony\\AppData\\Local\\atom\\app-1.8.0\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Anthony.atom.apm.apmrc\" \"--userconfig\" \"C:\\Users\\Anthony.atom.apmrc\" \"install\" \"C:\\Users\\Anthony\\AppData\\Local\\Temp\\d-116512-2804-p9qj96\\package.tgz\" \"--target=0.36.8\" \"--arch=ia32\"\nnpm ERR! node v0.10.40\nnpm ERR! npm  v2.13.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\n. I don't have any, I have Visual C++ Build Tools instead - since https://github.com/nodejs/node-gyp#installation claims that it is enough.\nDo I still need to install visual studio?\nBtw I am running on w8 and I don't see .NET Framework 2.0 listed in program manager, should I also install it?\n. I have gave up and installed that heavy 5GB Visual studio thing.\n\nAnd it works now! Thank you very much  for your time, NR.\n:- )\n. Solved by reinstalling the package...\n. ",
    "Meekdai": "Have you solved the ZMQ problem?. Fail output:\n```\n\nzeromq@4.2.1 build:libzmq C:\\Users\\Meekdai.atom\\packages\\hydrogen\\node_modules\\zeromq\nnode scripts/preinstall.js\n\nDownloading libzmq for Windows\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\nError: read ECONNRESET\n    at exports._errnoException (util.js:1018:11)\n    at TLSWrap.onread (net.js:568:26)\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"build:libzmq\"\nnpm ERR! node v6.10.3\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.2.1 build:libzmq: node scripts/preinstall.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.2.1 build:libzmq script 'node scripts/preinstall.js'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/preinstall.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to install?\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\Meekdai.atom\\packages\\hydrogen\\node_modules\\zeromq\\npm-debug.log\nHydrogen@1.14.1 C:\\Users\\Meekdai.atom\\packages\\hydrogen\n```. ",
    "jdavidheiser": "This looks pretty great - will it work with remote kernels that are behind jupyterhub?\n. ",
    "AlexandreKempf": "Sorry for the lack of details of the original post. \nI'm running a Ubuntu14 with the last version of atom (1.8.0 I guess).\nI don't know how to know my ZMQ version but I know the libzmq3 is installed !\nFinally I tried to uninstall and reinstall hydrogen and I get the same problem :)\nI get an weird error message when I uninstall hydrogen saying :\nUninstalling hydrogen \u2717\nFailed to delete hydrogen: Does not exist\nHowever I'm sure it is install :)\n. I found the problem thanks to you !! \nThe package libzmq3-dev was missing. After I install it I reinstall hydrogen and everything is working perfectly :) !!\nThank you very much for your help !\nAlex \n. ",
    "florian-wagner": "Yes that helps to set up inline plots by default, but is there a way to toggle them, i.e. send something like plt.ion() per atom keybinding to the python kernel used by hydrogen? Thanks a lot.\n. ",
    "theotheo": "Where to put startup code?\n. ",
    "mmngreco": "@n-riesco Thanks, so should install py2 with brew or anaconda?\n\n@lgeiger Thanks, I forget this... but that not solve the problem, here the trace:\n``` bash\nmmngreco:~ mmngreco$ PYTHON=python2 apm install hydrogen\nInstalling hydrogen to /Users/mmngreco/.atom/packages \u2717\n\nzmq@2.15.3 install /private/var/folders/cx/7r49499n39z2fw1fq707kym80000gn/T/apm-install-dir-116521-22675-1531zg2/node_modules/Hydrogen/node_modules/jmp/node_modules/zmq\nnode-gyp rebuild\n\ngyp ERR! configure error\ngyp ERR! stack Error: Python executable \"python\" is v3.5.1, which is not supported by gyp.\ngyp ERR! stack You can pass the --python switch to point to Python >= v2.5.0 & < 3.0.0.\ngyp ERR! stack     at failPythonVersion (/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/configure.js:119:14)\ngyp ERR! stack     at /Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/configure.js:108:9\ngyp ERR! stack     at ChildProcess.exithandler (child_process.js:656:7)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at maybeClose (child_process.js:766:16)\ngyp ERR! stack     at Socket. (child_process.js:979:11)\ngyp ERR! stack     at Socket.emit (events.js:95:17)\ngyp ERR! stack     at Pipe.close (net.js:466:12)\ngyp ERR! System Darwin 15.5.0\ngyp ERR! command \"node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /private/var/folders/cx/7r49499n39z2fw1fq707kym80000gn/T/apm-install-dir-116521-22675-1531zg2/node_modules/Hydrogen/node_modules/jmp/node_modules/zmq\ngyp ERR! node -v v0.10.40\ngyp ERR! node-gyp -v v2.0.2\ngyp ERR! not ok\nnpm ERR! Darwin 15.5.0\nnpm ERR! argv \"/Applications/Atom.app/Contents/Resources/app/apm/bin/node\" \"/Applications/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/mmngreco/.atom/.apm/.apmrc\" \"--userconfig\" \"/Users/mmngreco/.atom/.apmrc\" \"install\" \"/private/var/folders/cx/7r49499n39z2fw1fq707kym80000gn/T/d-116521-22675-13xowfc/package.tgz\" \"--target=0.36.8\" \"--arch=x64\"\nnpm ERR! node v0.10.40\nnpm ERR! npm  v2.13.3\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /private/var/folders/cx/7r49499n39z2fw1fq707kym80000gn/T/apm-install-dir-116521-22675-1531zg2/npm-debug.log\nmmngreco:~ mmngreco$\n```\n. @lgeiger Yey, It's works, Many thanks! \n. Cool, nice tip. Thanks again. \nbests!\n. of course, here is:\nbash\nmmngreco:Documents mmngreco$ which python2\nThere no output\nWith run which python:\nbash\nmmngreco:Documents mmngreco$ which python\n/Users/mmngreco/anaconda3/bin/python\n. yes, now get this output:\nbash\nmmngreco:anaconda3 mmngreco$ which python2.7\n/usr/bin/python2.7\n. Thanks for you help @n-riesco :-).\nYes, here is:\n\n. Of course; yes, I can run R in the terminal:\n\nMaybe can be useful this, r versions installed:\n\nKernel spect expanded:\n\n. I think what you need is the last input on the picture, but I take picture of all attempts to be sure.\n\n. yes, it is the last command with red arrow in the picture. \n. With the solution @n-riesco  I've gotten it to work.\n\nI tried what you say @lgeiger, but for some reason I do not get install devtools not understand why. How you say, and in a screenshot above, I have 4 versions of R different. After making brew cleanup gives me an error when trying to install devtools, the dependence git2r not available.\nHere the error message:\n``` bash\n R\n demo\n inst\n preparing package for lazy loading\n help\n installing help indices\n* building package indices\n installing vignettes\n   \u2018pbdZMQ-guide.Rnw\u2019\n testing if installed package can be loaded\n DONE (pbdZMQ)\nERROR: dependency \u2018git2r\u2019 is not available for package \u2018devtools\u2019\n removing \u2018/usr/local/lib/R/3.3/site-library/devtools\u2019\nThe downloaded source packages are in\n    \u2018/private/var/folders/cx/7r49499n39z2fw1fq707kym80000gn/T/RtmpOGmfms/downloaded_packages\u2019\nWarning messages:\n1: In install.packages(c(\"repr\", \"pbdZMQ\", \"devtools\")) :\n  installation of package \u2018git2r\u2019 had non-zero exit status\n2: In install.packages(c(\"repr\", \"pbdZMQ\", \"devtools\")) :\n  installation of package \u2018devtools\u2019 had non-zero exit status\n```\nBut now I see it, is correct the path to R?\nbash\nmmngreco:TFG mmngreco$ which r\n/usr/local/bin/r\nmmngreco:TFG mmngreco$ brew list r\n/usr/local/Cellar/r/3.3.1_2/bin/R\n/usr/local/Cellar/r/3.3.1_2/bin/Rscript\n/usr/local/Cellar/r/3.3.1_2/include/ (9 files)\n/usr/local/Cellar/r/3.3.1_2/lib/pkgconfig/libR.pc\n/usr/local/Cellar/r/3.3.1_2/lib/ (2 files)\n/usr/local/Cellar/r/3.3.1_2/R.framework/Versions/ (2183 files)\n/usr/local/Cellar/r/3.3.1_2/R.framework/R\n/usr/local/Cellar/r/3.3.1_2/share/man/ (2 files)\nHowever, Hydrogen works again.\nThank you very much for the willingness and support.\n. Hi all, \nI get install devtools again with this code: \ninstall.packages('git2r', type='mac.binary.mavericks') \nToday, the the kernel spec get the same issue than yesterday when I try to run R with hydrogen. \nSo, I removed the kernel spec code passed in settings of Hydrogen and I make Hydrogen:Update Kernels, and get and error but next step, I was select kernel with Hydrogen:Select Kernel, and now runs again.\nThanks for the support. :-)\nThat's all for me.\nBests,\n. ",
    "amelio-vazquez-reina": "Thank you @n-riesco! It looks like https://github.com/nteract/hydrogen/pull/227 was already merged, does it mean that the feature I am asking about in this issue is ready?\n. Hi @alavi09 \nI'm referring to Python. Almost all my notebooks use functions in modules and packages. I often would like to set up a breakpoint and go step-by-step through the code in these functions to inspect variables and calculations. \nE.g. \n``` python\ndef some_function_in_my_library(x, y, z, a=something, b=something_else):\n   # This function may live in the same file or in a different module that I import\n   # I would like to have a breakpoint in this function and go step by step through it\n   # ... \n  return result\n%%\nExperimental code\n...\nsome_function_in_my_library (val1, val2, val3)\n...\n%%\n```\n. ",
    "alexdrymonitis": "When I first open a python file I get the following error message (if this is of any significance):\nProvided path doesn't exist.\npylama\nPlease fix pylama path\nIt works fine though. If I run the following code:\nimport sys\nsys.version\nI get this:\n'3.4.2 (default, Oct  8 2014, 10:45:20) \\n[GCC 4.9.1]'\n\nAlso make sure Hydrogen's requirements are installed:\nsudo apt-get install ipython libzmq3-dev\nThese are installed in my system.\nAssuming you want to use the Python kernel, see this comment for an example to set kernelspecs manually.\n\nIn ~/.atom/packages/Hydrogen/spec there's hydrogen-spec.coffee, in which I can see this:\n```\ndescribe \"Kernel manager\", ->\n    firstKernelSpecString = \"\"\"{\n        \"kernelspecs\": {\n            \"ijavascript\": {\n                \"spec\": {\n                    \"display_name\": \"IJavascript\",\n                    \"env\": {},\n                    \"argv\": [\n                        \"node\",\n                        \"/home/user/node_modules/ijavascript/lib/kernel.js\",\n                        \"--protocol=5.0\",\n                        \"{connection_file}\"\n                    ],\n                        \"language\": \"javascript\"\n                },\n                \"resource_dir\": \"/home/user/node_modules/ijavascript/images\"\n            }\n        }\n    }\"\"\"\n    secondKernelSpecString = \"\"\"{\n        \"kernelspecs\": {\n            \"python2\": {\n                \"resource_dir\": \"/usr/local/lib/python2.7/site-packages/ipykernel/resources\",\n                \"spec\": {\n                    \"language\": \"python\",\n                    \"display_name\": \"Python 2\",\n                    \"env\": {},\n                    \"argv\": [\n                        \"/usr/local/opt/python/bin/python2.7\",\n                        \"-m\",\n                        \"ipykernel\",\n                        \"-f\",\n                        \"{connection_file}\"\n                    ]\n                }\n            }\n        }\n    }\"\"\"\nfirstKernelSpec = JSON.parse firstKernelSpecString\nsecondKernelSpec = JSON.parse secondKernelSpecString\n\nkernelSpecs = JSON.parse firstKernelSpecString\nkernelSpecs.kernelspecs.python2 = secondKernelSpec.kernelspecs.python2\n\n```\nThere's Python 2 there but Hydrogen won't use it.  Is there something I should do manually?\nIn this pull request it seems pretty easy, but I don't know how to do this...\n. Ok, found how to open the command palette (sorry, I'm a noob in Atom), and selected\nHydrogen: Select Kernel\nand I only get Python 3. Getting closer? How can I add Python 2 there?\n. I edited the \"Kernel Mappings\" field, from:\n{\"python\":\"Python 3\"}\nto\n{\"python\":\"Python 2\"}\nbut it didn't work.\nThe \"Kernel Specs\" field has this:\n{\"kernelspecs\":{\"python3\":{\"resource_dir\":\"/home/alex/dev/hydrogen/src/venv/lib/python3.4/site-packages/ipykernel/resources\",\"spec\":{\"env\":{},\"argv\":[\"/home/alex/dev/hydrogen/src/venv/bin/python3.4\",\"-m\",\"ipykernel\",\"-f\",\"{connection_file}\"],\"display_name\":\"Python 3\",\"language\":\"python\"}}}}\nThere's also a\n/home/alex/dev/hydrogen/src/venv/lib/python2.7/site-packages/\ndirectory, but there's no\nipykernel/resources\nto match the rest of the JSON string in the \"Kernel Specs\", so I'm not sure what to write there.\nRunning\nipython --version\ngives this\n2.3.0\nIs this OK, or should the version be the same with Python (2.7)?\n. Still not working. Can't see \"Python 2\" under \"Select Kernel\"...\nThanks though.\n. I had switched that back to {\"python\":\"Python 3\"}. I changed it again to {\"python\":\"Python 2\"} and now I get an error:\nNo kernel for language python found\nCheck that the language for this file is set in Atom and that you have a Jupyter kernel installed for it.\n. That worked!\nDon't really know what's going on, but I'm happy with it. Thanks a bunch for your help and time!\n. ",
    "igutierrezm": "I have the same problem. Here is the dev console. Help me please! :)\n\n. yes\n. same result :( \n\n. thank you very much :)\n. It works! Thanks!\n. ",
    "Foucl": "I would find option 2 very attractive. I really enjoy defining sections with markup in the matlab IDE as described by amelio-vazquez-reina in #307. from a (my) user's perspective, having these definitions visible in the code itself would definitely be preferable.\n. On Windows 10 with Atom 1.9.0-beta0, Hydrogen works fine without command line startup.\n. The idea would be to recreate jupyter client's win_interrupt.py, which you linked above, with something like node-ffi? I'd be happy to give it a try (it would take a while, however).. thank you! I suppose it's not as easy. I suppose it's harder than I thought and the suggested solution would rely on the cell actually being run.\nIf no one else is interested, I should probably close this issue and avoid cluttering the repo? Maybe it's an idea for a plugin. Before I try that, I'd like to give another, only somewhat related thought I had a shot (a plugin that allows execution of the current python function if the cursor is inside one).. ",
    "qixiang109": "today when I tried again, the problem disappeared, I don't know why, but it suddenly works. Thank you for your reply,  fantastic package! \n. ",
    "rockymadden": "I've found many more too: https://www.google.com/search?q=hydrogen&source=lnms&tbm=isch\nAs such, I propose we change the name to lawrencium with a corresponding change to the logo.\n. @rgbkrk Reread with /s tag :) It's a hydrogen molecule. Two circles and a ring, not a tremendous amount of deviation is possible, haha.\n. ",
    "beginrescueend": "This is another look at Hydrogen -- its spectral lines:\n  http://www.astronomyknowhow.com/pics-res/hydrogen-spectra.jpg\n. Welcome (and thank you).  \nI first heard about Hydrogen on YCombinator News today.  I read the comments afterward, and found that somebody else reported success with iElixir:\n  https://news.ycombinator.com/item?id=12099646\n  https://news.ycombinator.com/item?id=12101107\n. ",
    "montogeek": "What is the problem with the image?\n. Let's remove he image please :)\n. ",
    "scopatz": "its history makes it inappropriate https://en.m.wikipedia.org/wiki/Lenna\n. thanks a million, I really appreciate it\n. ",
    "ajeebkp23": "Hi,\nThis is really interesting. Can I use any kernel ?\nCan you please elaborate how to use with a kernel ?\nI am really using it with django. It will be wonderful, if I can use it with the django-extension's notebook option. If you can, please tell me about using it with http://django-extensions.readthedocs.io/en/latest/shell_plus.html\nI am really interested in this PR. Thanks for the PR.\n. Please, Never mind about My shell_plus request. It is working fine with running a notebook with port 8888.\n. ",
    "2426021684": "It works if I call the main function at the end.\n. ",
    "sirinath": "apm  1.9.2\nnpm  2.13.3\nnode 0.10.40\npython\ngit 2.8.1.windows.1\nvisual studio 2013\nThe description provided for installing when there is Python 3 is relevant on *nix systems. How this is done on Windows is not provited.\n. I have tried with Anaconda 2 & 3 and tried with only Python 2 is in the path. See the original issue for details.\n. How can this be rectified?\n. Python is accessible at command line\n. Any new insights on how to overcome this issue?\n. Initially I was trying: apm config set python c:\\Anaconda2\\ hence was getting the above error. Since the above code included the exe name also I tried apm config set python c:\\Anaconda2\\python.exe and it worked!\nC:\\>apm config set python c:\\Anaconda2\\python.exe\nC:\\>apm install hydrogen\nInstalling hydrogen to C:\\Users\\HP\\.atom\\packages done\nPerhaps you can include this in the documentation?\n. ",
    "Mungoid": "So i just remembered the apm hydrogen package is an older version than whats current on Github. I assume that is probably the issue? \n. Yep that was it. Once I downloaded a more current version of Atom and updated Hydrogen, it worked great. Dunno why I didnt notice this sooner, but atom.io download link only downloads version 1.1 even though github is up to 1.8. Serves me right for assuming whats on atom.io is current ;-)\nThanks for the tip on using mathjax! I'll use that instead.\n. ",
    "balta2ar": "I don't really think it's related to hydrogen, it was rather documentation/docker question.\nIn fact, my configuration is slightly different. I'm using docker as a provider in vagrant. For some reason, $(hostname -I) when run in a container shows correct IP (172.17.0.2 in my case), but when I run command from README.md python -m ipykernel \"'--ip=$(hostname -I)'\" -f /tmp/hydrogen/connection.json, 127.0.0.1 gets written into connection.json. I have no ideas why. And apparently the kernel binds to 127.0.0.1 interface and is not available from the outside.\nI looked at #315 and it helped. When I manually specified the IP, it worked and I could connect to the kernel from host. I also changed network_type to private_network:\nruby\n  config.vm.network \"private_network\"\nI'm not sure if it's important.\nFeel free to close this issue as it is superseded by #315. Maybe it's worth digging into why that shell expansion/eval didn't work.\n@quintona Have you had any similar issues setting up vagrant?\n. I think my mistake is that I copied command line from Dockerfile directly and I was running literally this:\nbash\npython -m ipykernel \"'--ip=$(hostname -I)'\" -f ./connection2.json\nNotice single quotes. After I removed them and ran as follows, I found correct IP in json:\nbash\npython -m ipykernel \"--ip=$(hostname -I)\" -f ./connection2.json\nThough with this notation one extra space is appended to IP address for some reason:\njson\n\"ip\": \"172.17.0.2 \",\nAgain, when I removed it manually, connection went fine. Sorry I have disturbed you about that really novice mistake.\n. ",
    "jmatsushita": "@lgeiger Thanks the css fix works!\n@n-riesco The new syntax is great. And I'm excited about $$.async() !!! I've been wondering when I'd run into a library that didn't provide synchronous versions :)\n. \n. Setting height and width on the svg element does it! \n$$.svg(\"<svg height=80 width=80><rect width=80 height=80 style='fill: orange;'/></svg>\")\n\n. Just had a thought that this might allow to copy paste in between Jupyter and Hydrogen!\n. Is it supposed to work with IJavascript (5.0.11) ?\nI'm trying this:\n```\n%%\nmy_var\nIn[ ]\nIn[9999]\n```\nAnd I get:\n```\nevalmachine.:1\n%%\n^\nSyntaxError: Unexpected token ILLEGAL\n    at Object.exports.runInThisContext (vm.js:76:16)\n    at run ([eval]:606:19)\n    at onRunRequest ([eval]:377:22)\n    at onMessage ([eval]:345:17)\n    at emitTwo (events.js:106:13)\n    at process.emit (events.js:191:7)\n    at process.nextTick (internal/child_process.js:719:12)\n    at _combinedTickCallback (internal/process/next_tick.js:67:7)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\n```\n. Oops, now I see it was specified in the pull request.\nSorry but I've never used this feature before and I'm fairly new with Jupyter/hydrogen. I can't make it work.\nIs // %%is equivalent to // <codecell> and // In[12]?\nWhere should I place the code to execute? Is there an opening of the boundary and a closing of it? \ud83d\ude32 \nHere are my feable attempts: \n```\n// %%\nx = 2\n// In[1]\ny = 2+2\n// In[2] \nz = x-2\n// \n// t = \"in the comments??\"\n``\n. Thanks so much for the explanation! I really appreciate your time and effort. Hydrogen is great! I also found a bug :)\n. Oh and +1 to adding the behaviour tohydrogen:run-all` !\n. ",
    "matthew-brett": "Aha - yes - doing automatic inspection could trigger all sorts of nasty stuff, such as on-the-fly attribute creation and so on.  How about a double click and / or a by-default keyboard shortcut?\n. Thanks - I submitted a report, closing here.\n. ",
    "Trollgeir": "Several other of my colleagues say that the most sought-after feature hydrogen is lacking is the object inspector similar to the one Spyder has. In essence; showing the content of all variables at all times in a scrollable list.. I have occasionally used the watch functionality, but this requires double declaration of variables (one in the code, one in the watch). It would be handy if there would be a functionality that does this automatically, unless I misunderstood some parts of the functionality?. ",
    "OmanF": "Yes it does!\nThanks for solving it (for me, saving, once per Atom session, before using Hydrogen, repeatedly, is non-issue).\nThank you!\nP.S. Not closing since there's now a \"Bug\" label. This is dev's call.\n. ",
    "danbri": "That's great! Works fine, thanks. Can I assume it works from internal/bundled markdown and I didn't need to install it separately?\nPerhaps \"from IPython.display import Markdown\" is obvious to everyone else but this is a super-handy feature so if it could be made more explicit somewhere, that'd be nice...\nThanks again anyway\n. ",
    "holgerabel": "+1 \n(from within virtual environment)\napm  1.10.0\nnpm  2.13.3\nnode 0.10.40\npython 2.7.12\ngit 2.9.2\n. Thank you!  I can confirm it works.\n. ",
    "maurovargas": "same\napm  1.9.2\nnpm  2.13.3\nnode 0.10.40\npython 2.7.11\ngit 2.7.4\n. ",
    "dnowacki-usgs": "Now that's service! Thanks.\n. It may be some kind of timeout when printing a huge variable(?). In this case it's trying to print what was originally a Matlab .mat file. The file is loaded withscipy.io.loadmat, which results in a numpy.ndarray encapsulated in a dict or something like that. In any case, when trying to print one of the dict items, using say print matdata['dw1078araw'], does not do the typical \"only print first/last few rows of huge array\" behavior. Executing the same command in the Jupyter console requires several seconds before it spews out the result. Executing this command in Atom/hydrogen results in the toString error after several seconds.\nHopefully the development console screenshot below is helpful:\n\n. @n-riesco: Hmm, still throwing the error for me, and the kernel remains unresponsive. I uninstalled Hydrogen, restarted Atom, reinstalled Hydrogen, restarted Atom, and tested the same code with the same output. How can I test to make sure Hydrogen is using the latest jmp?\n. Thanks for the reply. I generally want the real estate of a large figure/image and don't mind if I have to scroll a bit. I guess I would prefer Hydrogen scale the image according to the dpi of the screen and the specified figsize. If I specify a larger figure size, I'd like for it to keep getting larger and not run into an upper limit.. Thanks a bunch for the PR #607 @Earthson. This is certainly an improvement; scrolling is better than downscaling. 500px still doesn't seem tall enough (to me). Increasing the max-height on line 26 of hydrogen.less to, say, 700px does work, but more than that and you start to run into issues on smaller screens. I think something like 75vh could be the way to go here to keep it flexible on smaller screens. Thoughts?  . I like (1) best, then (2). \nI do not like (3); completing the whole snippet seems overkill... but maybe I'm missing the point.\n(4) is ok but I don't see much improvement (or difference) compared to (1).. @BenRussert I just upgraded to 1.19.2 and Hydrogen 1.20.0 and I agree, it looks like this issue is resolved. Thanks.. Thanks for the quick reply. I was at Plotly 2.0.12, now at 2.0.15, still same result.. I installed 1.20.0-beta7 and can confirm that plotly now works for me. Still no go on 1.19. \nI'll start using the beta and hope that it doesn't explode my computer. Thanks!\n\n. Are you looking for more functionality than clicking/cmd-clicking the icon in the bottom right of the output bubble?\n\n. ",
    "neurotronix": "Perfect, thank you!\n. ",
    "dmotz": "Thanks so much for your help. After finding 0.12.3 didn't solve my issue I did some digging and discovered that OSX 10.11 is known to remove both LD_LIBRARY_PATH and DYLD_LIBRARY_PATH environment variables while SIP is turned on which is why they disappear from Atom's process.env.\nWhile this is certainly not Hydrogen specific, I thought I'd leave this note here for anyone else stuck on trying to use CUDA libraries with it on OSX.\nWhen I set the variables manually in startKernel() of kernel-manager.coffee like so, things work as expected in a Hydrogen session:\ncoffeescript\nprocess.env.LD_LIBRARY_PATH = process.env.DYLD_LIBRARY_PATH = '/usr/local/cuda/lib'\nI attempted the same fix by using Hydrogen's Kernel Specs setting (spec.env), but haven't had any luck. Any issues obvious here?\njson\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/usr/local/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"language\": \"python\",\n        \"display_name\": \"Python 3\",\n        \"env\": {\n          \"LD_LIBRARY_PATH\": \"/usr/local/cuda/lib\",\n          \"DYLD_LIBRARY_PATH\": \"/usr/local/cuda/lib\"\n        },\n        \"argv\": [\n          \"/usr/local/opt/python3/bin/python3.5\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\n. Thanks so much for looking into this! Hydrogen works perfectly with CUDA now.\n. ",
    "mscipio": "I think I have the very same problem on a fresh Atom+Hydrogen installation on Ubuntu 16.04.\npython\nimport os \nos.environ.keys['LD_LIBRARY_PATH']\nRunning this lines from terminal (after starting conda venv) allows me to see everything I automatically add to the path when starting the vEnv.\nDoing the same within Atom gives me a key-not-found error ... I don't think I can use the solution discussed above, as it seems MacOS specific .... Yes, I know and I have all my 2 vEnv in there, but the only way I get the PATH and LD_LIBRARY_PATH correctly set is if I first start the vEnv, and inside it I run atom --new-instance. ",
    "jerabaul29": "I googled the issue. While several other people reported similar problems with older versions of Atom and / or other packages, I could not find an answer to this issue with Hydrogen on a recent version of Atom. I tried the Ubuntu 16.04LTS solution indicated in the package settings (section Debian 8 and Ubuntu 16.04 LTS) but it did not solve it for me (hopes i did it right...).\n. That sounds great, thanks ;) \n. Thanks! I will test it ~~this afternoon~~ now.\nCould not wait to test ;) . Works fine now, great job! ;)\n. ",
    "fasiha": "Doh! Thanks!\n. @lgeiger thanks for your kind words \ud83d\ude47, and helpful advice! It will now insert the result text, select it, and call Atom\u2019s built-in toggleLineCommentsInSelection\u2014modularity FTW!\nWorks great on Python/Jupyter and JavaScript/ijs:\n\n\n. @nikitakit thanks for your feedback! I\u2019ve looked at org-mode Babel, and the wealth of options and customizability offered by that emacs package assures me that this rabbit hole goes very, verrrry deep \ud83d\ude31\u2026\nThinking about this, and about @lgeiger\u2019s comment on the header (\u201cresult\u201d vs \u201cResult\u201d vs something customizable vs \u2026), made me really wish Atom had a proper macro system, letting one compose a sequence of editor actions, which one names, then executes whenever. I wound up installing atom-macros and discovered that I could make a tidy little macro to invoke after copying the Hydrogen result, and which accomplishes exactly the same thing as this pull request\u2014\n``` coffee\nin ~/atom/macros.coffee after installing atom-macros\n@pasteAsComment = ->\n  # Copy Hydrogen results first, then invoke this macro\n  editor = atom.workspace.getActiveTextEditor()\n  editor.insertNewlineBelow()\n  editor.insertText('result: \\n' + atom.clipboard.read() + '\\n',\n    select: true)\n  editor.toggleLineCommentsInSelection()\n```\nThis required no changes to Hydrogen, and offers the user complete customizability!\u2014to comment or not, to have a header or not, etc.\nHaving said all this, I\u2019m sure Hydrogen doesn\u2019t want a dependency on atom-macros nor does it want to reimplement its functionality, not just to give users the ability to customize how to insert results into their document, so I\u2019m not sure where that leaves this pull request. I still think it\u2019s a very nice feature, I just don\u2019t know if, without adding a couple of user-customizable options (to control the header and comment-or-not), it can be made into something suitable for all its potential users? \nIs there a way to add a button like I added except instead of doing something very specific like I do, invokes some user-settable Atom command?\n. Thanks @lgeiger! Your comment motivated me to finally read about the Services API, and I have something working\u2014it\u2019s extremely janky but it demonstrates the concept I think:\nHydrogen provides a service called \u201cmost recent results\u201d. When you run a command, Hydrogen updates some internal state which the service provider grabs and returns whenever it\u2019s invoked. A consumer plugin can call that provider and get an array of Jupyter responses to the most recent \u201cRun\u201d. This accomplishes my task!\nI\u2019d like some feedback about that approach but I don\u2019t think I should push those changes into this pull request\u2019s branch? Should I just open another pull request?\n. The last commit uses Promises! Any consumer plugins will get a promise, which remains pending while Jupyter runs the code, and resolves when Hydrogen receives a message from Jupyter with stream of either error or status \ud83d\ude4c.\nI realized I needed a Promise-like approach as I was fleshing out an example consumer kernel, which is at https://github.com/fasiha/atom-papyrus-sedge, & I apologize, that repo is very bare right now, but here\u2019s a video of the plugin in action:\n\nWhen the kernel evaluation completes, the results are automatically added by papyrus-sedge to the end of the fenced code block as a comment. When the kernel encounters an error, no results are appended.\n. Thanks! I\u2019ll certainly revisit this shortly and adapt it to the new plugin architecture. \ud83d\udc9a everyone for Hydrogen!. From reading over the code (as an Atom/CoffeeScript noob), I understand that this is a far more general and flexible approach than the one in nteract/hydrogen/pull/441, super-awesome!\nI can\u2019t quite tell what a consumer plugin would look like\u2014would it (wild guess) use the onDidChangeKernel in hydrogen-provider.coffee to somehow set up its own listener?\nOr does the consumer basically have complete access to the kernel object and do whatever it wants to it \ud83d\ude2e?\n. This is a really stupid question, but how do you start jupyter notebook without it requiring a password? Even with a default ~/.jupyter/jupyter_notebook_config.py with the password lines commented out, visiting localhost:8888 (over SSH tunnel) requires a password.. Thank you for your kind words! I changed it to getRobustGrammar \ud83d\ude47. Ah. Right.\nIt appears that restarting and shutting down a kernel will do this to all kernels open in the document. That\u2019s not right. I\u2019ll investigate and see how to make only the kernel tied to the grammar local to the cursor (i.e., in a fenced code block) is affected by these commands.. @lgeiger thanks, I humbly request your help in understanding why, after two kernels are started (in the example above, JS and Python), and I go to restart just one of them, it appears that both have restarted. That is, after just restarting one kernel, kernel-manager.js\u2019s _runningKernels member still shows the other kernel as active, but it appears that none of the variables I created in either kernel survived the restart of just one of them. Scratching head\u2026. Sorry for the delay! These holidays are brutal on my computer time\u2026\n@lgeiger thank you for pointing this out, those do look like they\u2019re related! But, super-sorry, I\u2019m having trouble understanding what sequence of operations trigger that\u2014could you write how to achieve those two problems? Thank you thank you \ud83d\ude47\ud83d\ude4f!. Hi @jonwoodring hmm, it\u2019s a bit off-topic for here, hopefully we don\u2019t get chased off \ud83d\ude05. There are so many ways to do Markdown\u27f9code, but I\u2019m ashamed to say I\u2019ve mostly used this Hydrogen feature as a notebook (in the Jupyter/IPython sense), where code doesn\u2019t ever leave the documentation.\nIn a previous incarnation of this feature, I had another Atom plugin that would ask Hydrogen to evaluate the current fenced code block, then insert the result as comments at the bottom of the code block. That was sufficient to complete the Markdown documentation, while also leaving open the possibility of compiling the Markdown to HTML where fenced code blocks could become live, so for transpile-to-JS languages a visitor could change the code and see the results live (Klipse lets us do this very nicely\u2014JS, ClojureScript, even Python and C++!).\nOn one project, at the bottom of code blocks I had comments like // < export TARGET.js which then a simple external (non-Atom) script could locate, and \u201ctangle\u201d (in Knuth literate-programming terminology) into source code.\nI only did this as a stop-gap, because without sourcemaps it\u2019s hard to translate an error to original source. So in the future I will look into making sourcemaps (for JS), and failing that, see what it\u2019d be like to copy the entire Markdown file to every code output file and just \u201cinvert\u201d code\u2013no-code sections, so each line of Markdown would get commented out and the only thing left uncommented in each file would be the code belong to that file. I\u2019m not sure if that\u2019d work but\u2026\nSorry, no answers here yet \ud83d\ude47!. @jonwoodring the recently-released Github-Flavored Markdown spec (see example 111 and preceding discussion) allows the info string of fenced code blocks to have arbitrary data, so we can have code blocks like, e.g.,\n~~~markdown\njs file=src/index.js\n// cool code here\n~~~\nHere\u2019s a very early mover in this space: https://github.com/killercup/waltz. This is so awesome\u2014thank you!!! I\u2019m not sure what \u201cRun Cell\u201d\u00a0means but could \u201cRun All\u201d be faked by scrolling to the top of the doc, jumping to each fenced code block (triple-ticks or triple-tildes), evaluating \u201cRun\u201d till the last fenced code block, before returning to the original cursor location\u2026? Would that be a super-awful user experience for long-running code blocks?. > @fasiha Would you be willing to add a few lines about the usage of this feature to our README? \n@lgeiger that\u2019d be the least I could do, thanks for trusting me with it. I\u2019m using the feature right now to write a doc for Real Work (\u00a1!), let me see how compelling a use-case I can make.\nCould of questions, because I\u2019m dense\u2014\n(1) Is there anything Markdown-specific about this? From quickly reading the source, it appears that it should work with AsciiDoc or reST or in fact any format that Atom understands to have \u201ccode blocks\u201d\u2014am I right? (Not asking this to be ungrateful \ud83d\ude02! Just wondering how inclusive it can be. I personally don\u2019t use anything except Markdown, though that\u2019s just out of laziness than any proper investigation of alternatives.)\n(2) If so, is that what you mean by \u201clanguage-specific code\u201d? I.e., Hydrogen would have to know, for each format (Markdown, asciiDoc, etc.), where the fenced code block around the cursor started and ended, in order to send that code snippet to Jupyter? I can see that as being really bothersome, yes, so I\u2019m fine with having to manually-select the fenced code block (or have a custom macro, as I have) and Running them, without recourse to Run Cell or Run All.. @mcburton I had a little macro for atom-macros (which no longer works,\nargh) that selected fenced code blocks, invoked Hydrogen\u2019s Run on the\nselection, and returned the cursor to its initial location.\nI plan to spin this off into its own plugin called select-GFM-fence, with a\ncustomizable setting of a command to run after selection (which Hydrogen\nusers could set to Hydrogen: Run).\nWould this address your need too?\n. Note that while these Hydrogen changes help with interactive programming in\nMarkdown, there is not currently any way to \u201cexport\u201d your Hydrogen/Jupyter\nresults (plots, tables, etc., which Hydrogen renders so nicely). So with\nfuture Run Cell or Run All Cells support, you\u2019d just see nice results\nin your Atom editor, without any way of automatically exporting those\noutputs to PNG files, HTML/GFM tables, etc. You\u2019d have to manually save\nfigures and etc\u2026\nI guess that\u2019d be the next step for Markdown+Hydrogen!\n. Done! (Trying to figure out how to tell GitHub that I acknowledge this review\u2026 \ud83d\ude05). ",
    "mistguy": "\n. ",
    "yahiaetman": "\n. first:\n\nsecond:\n\n. \n. Thank you. I tried _.map fix and it stopped the error popup. Then, I removed iTorch and cloned the newest version. matches is now an array filled with suggestions. The autocomplete suggestions list is now similar to the one appearing directly in iTorch. \n\n. ",
    "sindhus": "That worked! thank you so much :)\n. ",
    "respatialized": "It's not clear to me that this is the underlying issue, as I still have the installation of Visual Studio 2013 with the c++ compilers from when I first got Hydrogen installed successfully. I could try to reinstall Visual Studio and attempt the update again, just to make sure.\n. Looks like you might be right.\napm  1.12.5\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.9.2.windows.1\nvisual studio 2015\n. Success! Thanks for the help.\n\n. ",
    "sheperdsonbrown": "I left a comment in a different thread earlier, but I believe this thread addresses the issue I am having. Here is the error and I have tried the above fixes. I am using git bash on windows 10. \nCannot find module 'C:\\Users\\Alex Brown\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js'\n    at Function.Module._resolveFilename (module.js:325:15)\n    at Function.Module._load (module.js:276:25)\n    at Function.Module.runMain (module.js:441:10)\n    at startup (node.js:139:18)\n    at node.js:968:3\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\ALEXBR~1\\AppData\\Local\\Temp\\apm-install-dir-116826-10300-k1gj55\\package.json'\nnpm WARN apm-install-dir-116826-10300-k1gj55 No description\nnpm WARN apm-install-dir-116826-10300-k1gj55 No repository field.\nnpm WARN apm-install-dir-116826-10300-k1gj55 No README data\nnpm WARN apm-install-dir-116826-10300-k1gj55 No license field.\nnpm ERR! Windows_NT 10.0.10586\nnpm ERR! argv \"C:\\Users\\Alex Brown\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Alex Brown\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Alex Brown.atom.apm.apmrc\" \"--userconfig\" \"C:\\Users\\Alex Brown.atom.apmrc\" \"install\" \"C:\\Users\\ALEXBR~1\\AppData\\Local\\Temp\\d-116826-10300-1e8gk2s\\package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\ALEXBR~1\\AppData\\Local\\Temp\\apm-install-dir-116826-10300-k1gj55\\npm-debug.log\nnpm ERR! code 1\nLet me know what I need to do from here. \nThanks, \n. Yes,\nI just tried that in git bash and the same error is still being produced.\nOn Sep 26, 2016 1:35 PM, \"Lukas Geiger\" notifications@github.com wrote:\n\n@sheperdsonbrown https://github.com/sheperdsonbrown Have you tried\nrunning\napm config set msvs_version 2013 -g\nset GYP_MSVS_VERSION=2013\nas described in our troubleshooting guide\nhttps://github.com/nteract/hydrogen/blob/master/TROUBLESHOOTING.md?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/439#issuecomment-249673794,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APr3w2A-18tCro1z2f3DRytjjcQ5FIP5ks5quB6CgaJpZM4J5eG5\n.\n. Thank you for responding quickly and providing helpful tips, but the\ndownload is still not working.\n\nI will try to do a fresh install on everything and get back to you with any\nissues\nOn Sep 26, 2016 1:45 PM, \"Lukas Geiger\" notifications@github.com wrote:\n\nI think git bash is a linux terminal emulator so maybe you have the use export\nGYP_MSVS_VERSION=2013 instead of set GYP_MSVS_VERSION=2013.\nCould try it with the default windows command line if the above didn't\nwork?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/439#issuecomment-249676388,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APr3w3Sq9sEvuTq0xxdLXMYMbSYiUeY1ks5quCDegaJpZM4J5eG5\n.\n. I am trying to install hydrogen and am getting this error. \n\nzmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\ALEXBR~1\\AppData\\Local\\Temp\\apm-install-dir-116826-6760-1l7meiv\\npm-debug.log\nnpm ERR! code 1\nAny suggestions would be appreciated. Thanks\n. ",
    "mmagnuski": "I can confirm that standalone C++ compiler works well when installing hydrogen on windows. :)\n. I tried changing apm vs via:\napm config set msvs_version 2013 -g\nand apm --version still gives me vs 2015 :( :\napm  1.12.5\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.8.1.windows.1\nvisual studio 2015\nbUT set GYP_MSVS_VERSION=2013 does the trick, after setting that apm --version displays vs 2013 and hydrogen installs correctly! \ud83c\udf89 \nThanks!\nas a sign of gratitude: a silly youtube video :)\n. I'm not sure about vs 2015 working - I tried installing hydrogen after installing vs 2015 and it didn't work... I can't tell if I installed with C++ compilers, I thought it is the default.\nI can check vs 2015 on some other windows machine (I have plenty of these around :) ) if you direct me to info on how to install vs 2015 with relevant compilers etc. Once I succeed I can also help changing the docs (I have documentend the steps that led me to successful install here ).\n. I'll happily update troubleshooting guide. :)\n. I'll be happy to help - I'll look into correct VS installation etc. in the upcoming week (that is - starting tomorrow, at least in my timezone :) ). I've opened a PR (#448) and will update it accordingly.\n. ",
    "bishshoy": "Are you trying to install hydrogen on Python 3.5? I'm not sure whether that works or not. I faced a ton of problems trying to make it work. Finally, I solved it by installing deuterium instead of hyderogen.\nTry these:\ninstall Node from https://nodejs.org/en/ (Latest version)\nbrew install zeromq\npip install ipython\npip install git+https://github.com/nikitakit/xdbg\nPYTHON=python2.7 apm install deuterium\n. Not sure what I didn't do when I was trying to install Hydrogen myself, but your code just worked!\nThanks!\n. ",
    "Chibuikem709": "For some reason that still does not work. I have already installed pkg-config and zeromq. And the last line yields the same error as the original post.\n. I get the same error:\n\nzmq@2.15.3 install /private/var/folders/ny/jd4d9h_90hv7l27ykfmg141m0000gn/T/apm-install-dir-116818-2395-1k5kckm/node_modules/Hydrogen/node_modules/zmq\nnode-gyp rebuild\n/private/var/folders/ny/jd4d9h_90hv7l27ykfmg141m0000gn/T/apm-install-dir-116818-2395-1k5kckm\n\u2514\u2500\u2500 (empty)\nPackage libzmq was not found in the pkg-config search path.\nPerhaps you should add the directory containing libzmq.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'libzmq' found\ngyp: Call to 'pkg-config libzmq --libs' returned exit status 1 while in binding.gyp. while trying to >load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error:gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/Users/ChibuikemNwizu/Downloads/Atom.app/Contents/Resources/app/apm/node_modules/node->gyp/lib/configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:87:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:172:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)\ngyp ERR! System Darwin 15.6.0\ngyp ERR! command >\"/Users/ChibuikemNwizu/Downloads/Atom.app/Contents/Resources/app/apm/bin/node\" >\"/Users/ChibuikemNwizu/Downloads/Atom.app/Contents/Resources/app/apm/node_modules/.bin/node-gyp\" \"rebuild\"\ngyp ERR! cwd /private/var/folders/ny/jd4d9h_90hv7l27ykfmg141m0000gn/T/apm-install-dir-116818-2395-1k5kckm/node_modules/Hydrogen/node_modules/zmq\ngyp ERR! node -v v4.4.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok \nnpm WARN enoent ENOENT: no such file or directory, open '/private/var/folders/ny/jd4d9h_90hv7l27ykfmg141m0000gn/T/apm-install-dir-116818-2395-1k5kckm/package.json'\nnpm WARN apm-install-dir-116818-2395-1k5kckm No description\nnpm WARN apm-install-dir-116818-2395-1k5kckm No repository field.\nnpm WARN apm-install-dir-116818-2395-1k5kckm No README data\nnpm WARN apm-install-dir-116818-2395-1k5kckm No license field.\nnpm ERR! Darwin 15.6.0\nnpm ERR! argv >\"/Users/ChibuikemNwizu/Downloads/Atom.app/Contents/Resources/app/apm/bin/node\" >\"/Users/ChibuikemNwizu/Downloads/Atom.app/Contents/Resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/Users/ChibuikemNwizu/.atom/.apm/.apmrc\" \"--userconfig\" >\"/Users/ChibuikemNwizu/.atom/.apmrc\" \"install\" >\"/private/var/folders/ny/jd4d9h_90hv7l27ykfmg141m0000gn/T/d-116818-2395-23ejkc/package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /private/var/folders/ny/jd4d9h_90hv7l27ykfmg141m0000gn/T/apm-install-dir-116818-2395-1k5kckm/npm-debug.log\nnpm ERR! code 1\n. I still am unable to install hydrogen even after adding Defaults env_keep += \"PKG_CONFIG_PATH\" to sudo visudo\n. this message is interesting:\n\nzeromq-4.1.2 already installed, it's just not linked\nYou are using OS X 10.12.\nWe do not provide support for this pre-release version.\nYou may encounter build failures or other breakage.\nis it relevant?\n. ",
    "kuza55": "I don't know if I'll have much time to put in work on this either, but\nmaybe you could outline the changes you think will be necessary to get this\nto work?\n. ",
    "hebijiandai": "Look at this,vscode support  jupyter notebook and has no lag in Windows platform.\n\n. yes ,it's the same folder,I use python.exe to run is well.\n\n. How can I run %ls in atom?. Yeah it's not the right path..But I set three workplace in the sidebar,how can I change the right workplace for Hydrogen?\n\n. \nOK,runs well.Thanks.When I type \"Hydrogen:Run\",how to configure the Hydrogen package settings to  automaticly load the current file path?. Thanks.Sir,I also have a question:\n\nThe pyplot graph is also small,how to solve it?. \nAnd the error information is also small,where to search the property and correct it?thank you ,sir.. OK,I find the hydrogen.less,thanks. . OK,thank you for caring these.another use of feelings,the hydrogen package still lag upon my Computer:windows10,ram 20G ,ssd.Caton, I feel that if consuming huge amounts of resources.\nHope it will improve in the next version.\nand,it's really a great job.It help me to learn python more smoothly.\n. When I enable hydrogen.Then I input the code with visibly lag.And I found that in ram several python.exe with atom running. consume big amount of ram.So I am not sure the reson come from.Do you have some advice?any package confliction?. OK,I will upload several img.Sorry I close my pc right now,I will upload those tomorrow.Thanks a lot. Sir I think over it,and open a new issue to disscuss this question.https://github.com/nteract/hydrogen/issues/549. Thanks!\n1. Look at the picture,it's my Simple idea of the steps:\n\n\n\nYes,Atom become unreponsive when Hydrogen:run,And Typing words become lag.Not smoothly.\n\n\n\nAtom are using most of the CPU\n\n\n\n\nI write short code to test.\n```python\nimport sqlite3\nconn=sqlite3.connect(\"test.db\")\nc=conn.cursor()\n\nc.execute('SELECT name FROM category ORDER BY sort')\nprint(c.fetchone())\nc.execute('''CREATE TABLE book\n(id int primary key,\nsort int,\nname text,\nprice real,\ncategory int,\nFOREIGN KEY (category) REFERENCES category(id))''')\nconn.commit()\nc.execute('SELECT * FROM book WHERE book.category=1')\nprint(c.fetchall())\nfor raw in c.execute('SELECT * FROM book'):\n    print(raw)\n```\nI can't save the profile,when I save ,it's empty,I have a screenshot to instead.\n\n. I close the antiviurs software.\nand I only type \npython\nimport time\nI copy the Javascript CPU profile Code\n```\n659.6\u2009ms    659.6\u2009ms    (idle)\n62.2\u2009ms1.14\u2009%   90.6\u2009ms1.66\u2009%   drawTokencanvas-drawer.js:573 \n48.1\u2009ms0.88\u2009%   48.1\u2009ms0.88\u2009%   (garbage collector) \n42.3\u2009ms0.77\u2009%   43.7\u2009ms0.80\u2009%   module.exports.TextEditorComponent.isVisibletext-editor-com\u2026ent.coffee:729\n37.7\u2009ms0.69\u2009%   37.7\u2009ms0.69\u2009%   getBoundingClientRect \n34.7\u2009ms0.64\u2009%   38.1\u2009ms0.70\u2009%   SuggestionListElement.readUIPropsFromDOMsuggestion-list\u2026ent.coffee:258\n28.4\u2009ms0.52\u2009%   28.4\u2009ms0.52\u2009%   fillRect  \n27.3\u2009ms0.50\u2009%   29.4\u2009ms0.54\u2009%   retrieveStyleFromDomdom-styles-reader.js:26 \n27.3\u2009ms0.50\u2009%   28.0\u2009ms0.51\u2009%   module.exports.OverlayManager.measureOverlayoverlay-manager.coffee:1  \n25.2\u2009ms0.46\u2009%   32.4\u2009ms0.59\u2009%   tokenLinesForScreenRowscanvas-drawer.js:413 \n23.3\u2009ms0.43\u2009%   55.9\u2009ms1.02\u2009%   module.exports.TextEditorPresenter.updateLineNumbersStatetext-editor-pre\u2026ter.coffee:596 \n21.5\u2009ms0.39\u2009%   27.3\u2009ms0.50\u2009%   module.exports.TextEditorPresenter.updateLinesStatetext-editor-pre\u2026ter.coffee:407 \n21.3\u2009ms0.39\u2009%   28.9\u2009ms0.53\u2009%   SuggestionListElement.renderItemsuggestion-list\u2026ent.coffee:286\n20.6\u2009ms0.38\u2009%   20.6\u2009ms0.38\u2009%   spawn \n20.1\u2009ms0.37\u2009%   49.7\u2009ms0.91\u2009%   module.exports.OverlayManager.measureOverlaysoverlay-manager.coffee:22\n19.9\u2009ms0.36\u2009%   19.9\u2009ms0.36\u2009%   transparentizecanvas-drawer.js:241\n19.4\u2009ms0.36\u2009%   19.4\u2009ms0.36\u2009%   clearRect \n16.9\u2009ms0.31\u2009%   20.6\u2009ms0.38\u2009%   symbolsForConfigsymbol-store.js:47\n15.9\u2009ms0.29\u2009%   102.4\u2009ms1.88\u2009%  module.exports.TextEditorComponent.readAfterUpdateSynctext-editor-com\u2026ent.coffee:187  \n15.7\u2009ms0.29\u2009%   107.9\u2009ms1.98\u2009%  module.exports.TextEditorPresenter.updateTilesStatetext-editor-pre\u2026ter.coffee:347 \n14.6\u2009ms0.27\u2009%   17.8\u2009ms0.33\u2009%   UpdateMessagesmessage-registry.js:20  \n13.2\u2009ms0.24\u2009%   44.6\u2009ms0.82\u2009%   module.exports.LinesTileComponent.updateSynclines-tile-component.coffee:32\n12.7\u2009ms0.23\u2009%   12.7\u2009ms0.23\u2009%   (anonymous function)C:\\Users\\happy\\\u2026jquery.js:5209\n12.7\u2009ms0.23\u2009%   22.0\u2009ms0.40\u2009%   log \n12.7\u2009ms0.23\u2009%   12.7\u2009ms0.23\u2009%   remove\n12.2\u2009ms0.22\u2009%   13.4\u2009ms0.25\u2009%   module.exports.TextEditorComponent.sampleFontStylingtext-editor-com\u2026ent.coffee:806\n11.1\u2009ms0.20\u2009%   18.5\u2009ms0.34\u2009%   module.exports.TextEditorPresenter.getScreenRowsToRendertext-editor-pre\u2026ter.coffee:307\n10.4\u2009ms0.19\u2009%   10.4\u2009ms0.19\u2009%   (anonymous function)  \n10.4\u2009ms0.19\u2009%   200.6\u2009ms3.67\u2009%  drawLinescanvas-drawer.js:476 \n9.9\u2009ms0.18\u2009%    9.9\u2009ms0.18\u2009%    MarkerIndex \n9.7\u2009ms0.18\u2009%    26.3\u2009ms0.48\u2009%   (anonymous function)text-editor-pre\u2026er.coffee:1051\n9.5\u2009ms0.17\u2009%    28.2\u2009ms0.52\u2009%   module.exports.LinesTileComponent.updateLineNodeslines-tile-component.coffee:85 \n9.0\u2009ms0.17\u2009%    13.6\u2009ms0.25\u2009%   module.exports.TextEditorComponent.measureDimensionstext-editor-com\u2026ent.coffee:758\n8.6\u2009ms0.16\u2009%    106.3\u2009ms1.95\u2009%  module.exports.TextEditorPresenter.getPreMeasurementStatetext-editor-pre\u2026nter.coffee:77 \n8.3\u2009ms0.15\u2009%    8.3\u2009ms0.15\u2009%    Repository\n7.9\u2009ms0.14\u2009%    7.9\u2009ms0.14\u2009%    getComputedStyle  \n7.9\u2009ms0.14\u2009%    13.2\u2009ms0.24\u2009%   module.exports.MarkerLayer.findMarkersC:\\Users\\happy\\\u2026ib\\marker\u2026:120  \n6.9\u2009ms0.13\u2009%    12.2\u2009ms0.22\u2009%   exports.keystrokesMatchC:\\Users\\happy\\\u2026ib\\helper\u2026:355 \n6.7\u2009ms0.12\u2009%    14.1\u2009ms0.26\u2009%   (anonymous function)C:\\Users\\happy\\\u2026teract.js:3303\n6.2\u2009ms0.11\u2009%    17.1\u2009ms0.31\u2009%   module.exports.LineNumbersTileComponent.updateLineNumbersline-numbers-ti\u2026nent.coffee:61 \n6.0\u2009ms0.11\u2009%    354.3\u2009ms6.49\u2009%  module.exports.TextEditorComponent.updateSynctext-editor-com\u2026ent.coffee:130 \n5.8\u2009ms0.11\u2009%    5.8\u2009ms0.11\u2009%    resetOffscreenSizecanvas-layer.js:57  \n5.5\u2009ms0.10\u2009%    5.5\u2009ms0.10\u2009%    KeyboardLayoutManager \n5.3\u2009ms0.10\u2009%    5.3\u2009ms0.10\u2009%    setTimeout\n5.3\u2009ms0.10\u2009%    9.7\u2009ms0.18\u2009%    module.exports.TextEditorComponent.sampleBackgroundColorstext-editor-com\u2026ent.coffee:818 \n5.3\u2009ms0.10\u2009%    150.9\u2009ms2.76\u2009%  module.exports.TextEditorPresenter.getPostMeasurementStatetext-editor-pre\u2026ter.coffee:103  \n5.3\u2009ms0.10\u2009%    5.3\u2009ms0.10\u2009%    matchesNextUserKeystrokeC:\\Users\\happy\\\u2026ib\\helper\u2026:359\n5.3\u2009ms0.10\u2009%    5.3\u2009ms0.10\u2009%    afterWritenet.js:783  \n5.1\u2009ms0.09\u2009%    5.1\u2009ms0.09\u2009%    traverseC:\\Users\\happy\\\u2026x\\dist\\poi\u2026:38\n5.1\u2009ms0.09\u2009%    5.3\u2009ms0.10\u2009%    module.exports.TextEditorPresenter.lineNumberDecorationClassesForRowtext-editor-pre\u2026ter.coffee:789\n5.1\u2009ms0.09\u2009%    93.6\u2009ms1.71\u2009%   (anonymous function)autocomplete-ma\u2026ger.coffee:177\n4.9\u2009ms0.09\u2009%    9.2\u2009ms0.17\u2009%    module.exports.TokenizedBufferIterator.seektokenized-buffe\u2026ator.coffee:10 \n4.6\u2009ms0.08\u2009%    6.9\u2009ms0.13\u2009%    module.exports.MarkerLayer.getMarkerEndPositionC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1 \n4.6\u2009ms0.08\u2009%    4.6\u2009ms0.08\u2009%    drawImage \n4.6\u2009ms0.08\u2009%    4.6\u2009ms0.08\u2009%    hasOwnProperty\n4.4\u2009ms0.08\u2009%    19.6\u2009ms0.36\u2009%   getSuggestionsprovider.coffee:424 \n4.4\u2009ms0.08\u2009%    20.6\u2009ms0.38\u2009%   module.exports.DisplayLayer.getScreenLinesC:\\Users\\happy\\\u2026b\\displa\u2026:1044  \n4.4\u2009ms0.08\u2009%    4.9\u2009ms0.09\u2009%    inclusiveTotalBlockPixelsPrecedingRowC:\\Users\\happy\\\u2026ex\\dist\\it\u2026:69 \n4.4\u2009ms0.08\u2009%    4.4\u2009ms0.08\u2009%    module.exports.TextBuffer.isRowBlankC:\\Users\\happy\\\u2026\\lib\\text-b\u2026:1\n3.9\u2009ms0.07\u2009%    4.4\u2009ms0.08\u2009%    moveToSuccessorC:\\Users\\happy\\\u2026x\\dist\\scr\u2026:97 \n3.9\u2009ms0.07\u2009%    8.3\u2009ms0.15\u2009%    module.exports.CursorsComponent.updateSynccursors-component.coffee:13 \n3.7\u2009ms0.07\u2009%    3.7\u2009ms0.07\u2009%    requestAnimationFrame \n3.7\u2009ms0.07\u2009%    66.8\u2009ms1.22\u2009%   module.exports.TiledComponent.updateTileNodestiled-component.coffee:30\n3.7\u2009ms0.07\u2009%    15.9\u2009ms0.29\u2009%   module.exports.KeymapManager.findMatchCandidatesC:\\Users\\happy\\\u2026ib\\keymap\u2026:471\n3.7\u2009ms0.07\u2009%    3.7\u2009ms0.07\u2009%    add \n3.7\u2009ms0.07\u2009%    3.7\u2009ms0.07\u2009%    OnigString\n3.7\u2009ms0.07\u2009%    4.4\u2009ms0.08\u2009%    module.exports.TextEditorPresenter.lineDecorationClassesForRowtext-editor-pre\u2026ter.coffee:780  \n3.5\u2009ms0.06\u2009%    4.4\u2009ms0.08\u2009%    PointC:\\Users\\happy\\\u2026\\lib\\point.\u2026:1 \n3.5\u2009ms0.06\u2009%    12.7\u2009ms0.23\u2009%   module.exports.TokenizedBuffer.isFoldableCodeAtRowtokenized-buffer.coffee:213 \n3.2\u2009ms0.06\u2009%    3.2\u2009ms0.06\u2009%    push  \n3.2\u2009ms0.06\u2009%    11.3\u2009ms0.21\u2009%   onIOMessagezmq-kernel.js:295  \n3.2\u2009ms0.06\u2009%    4.9\u2009ms0.09\u2009%    module.exports.LinesTileComponent.updateLineNodelines-tile-comp\u2026ent.coffee:232\n3.2\u2009ms0.06\u2009%    50.2\u2009ms0.92\u2009%   module.exports.TextEditorComponent.pollDOMtext-editor-com\u2026ent.coffee:736  \n3.0\u2009ms0.06\u2009%    3.0\u2009ms0.06\u2009%    module.exports.GrammarRegistry.scopeForIdC:\\Users\\happy\\\u2026lib\\grammar\u2026:1 \n3.0\u2009ms0.06\u2009%    3.2\u2009ms0.06\u2009%    resetdom-element-pool.coffee:22 \n3.0\u2009ms0.06\u2009%    3.5\u2009ms0.06\u2009%    target.sendinternal/child_process.js:549 \n3.0\u2009ms0.06\u2009%    3.0\u2009ms0.06\u2009%    (anonymous function)C:\\Users\\happy\\\u2026derscore.\u2026:846\n2.8\u2009ms0.05\u2009%    2.8\u2009ms0.05\u2009%    applyStylesminimap-element.js:1318\n2.8\u2009ms0.05\u2009%    6.5\u2009ms0.12\u2009%    module.exports.MarkerLayer.spliceC:\\Users\\happy\\\u2026ib\\marker\u2026:232 \n2.8\u2009ms0.05\u2009%    7.9\u2009ms0.14\u2009%    _deserializeprovider.coffee:324 \n2.8\u2009ms0.05\u2009%    254.0\u2009ms4.65\u2009%  (anonymous function)text-editor-component.coffee:1\n2.8\u2009ms0.05\u2009%    3.2\u2009ms0.06\u2009%    pixelPositionBeforeBlocksForRowC:\\Users\\happy\\\u2026x\\dist\\li\u2026:187 \n2.8\u2009ms0.05\u2009%    118.1\u2009ms2.16\u2009%  (anonymous function)autocomplete-manager.coffee:1 \n2.5\u2009ms0.05\u2009%    3.0\u2009ms0.06\u2009%    SuggestionListElement.updateUIForChangedPropssuggestion-list\u2026ent.coffee:271 \n2.5\u2009ms0.05\u2009%    2.5\u2009ms0.05\u2009%    focus \n2.3\u2009ms0.04\u2009%    5.1\u2009ms0.09\u2009%    module.exports.TextBuffer.clipPositionC:\\Users\\happy\\\u2026b\\text-b\u2026:1096  \n2.3\u2009ms0.04\u2009%    4.9\u2009ms0.09\u2009%    module.exports.Config.getRawValueconfig.coffee:908\n2.3\u2009ms0.04\u2009%    29.1\u2009ms0.53\u2009%   module.exports.SymbolProvider.getSuggestionssymbol-provider.coffee:208\n2.3\u2009ms0.04\u2009%    2.5\u2009ms0.05\u2009%    (anonymous function)cursor-position-view.coffee:59\n2.3\u2009ms0.04\u2009%    3.2\u2009ms0.06\u2009%    seekToBufferPositionC:\\Users\\happy\\\u2026x\\dist\\tok\u2026:94\n2.3\u2009ms0.04\u2009%    41.6\u2009ms0.76\u2009%   module.exports.LinesYardstick.leftPixelPositionForScreenPositionlines-yardstick.coffee:89 \n2.3\u2009ms0.04\u2009%    2.3\u2009ms0.04\u2009%    (anonymous function)tokenized-buffer.coffee:218 \n2.3\u2009ms0.04\u2009%    2.3\u2009ms0.04\u2009%    escapeHtmlsuggestion-list\u2026ent.coffee:434  \n2.3\u2009ms0.04\u2009%    2.3\u2009ms0.04\u2009%    pointerExtendC:\\Users\\happy\\\u2026nteract.js:574 \n2.1\u2009ms0.04\u2009%    2.3\u2009ms0.04\u2009%    _buildReleaseMarker_index2.default.getRangeC:\\Users\\happy\\\u2026x\\dist\\nati\u2026:1 \n2.1\u2009ms0.04\u2009%    6.9\u2009ms0.13\u2009%    pixelPositionAfterBlocksForRowC:\\Users\\happy\\\u2026x\\dist\\li\u2026:182  \n2.1\u2009ms0.04\u2009%    5.3\u2009ms0.10\u2009%    module.exports.Selection.autoscrollselection.coffee:816 \n2.1\u2009ms0.04\u2009%    3.7\u2009ms0.07\u2009%    module.exports.TokenIterator.resettoken-iterator.coffee:5 \n2.1\u2009ms0.04\u2009%    2.1\u2009ms0.04\u2009%    ensureCachedom-styles-reader.js:93\n2.1\u2009ms0.04\u2009%    2.1\u2009ms0.04\u2009%    HighlightComponent.updateHighlightRegionspigments.coffee:332  \n2.1\u2009ms0.04\u2009%    3.7\u2009ms0.07\u2009%    Hash.updatecrypto.js:71 \n2.1\u2009ms0.04\u2009%    2.1\u2009ms0.04\u2009%    (anonymous function)ColorPicker-view.coffee:91\n2.1\u2009ms0.04\u2009%    3.7\u2009ms0.07\u2009%    Range.parseRangeC:\\Users\\happy\\\u2026\\semver.js:758\n2.1\u2009ms0.04\u2009%    2.8\u2009ms0.05\u2009%    appendChild \n1.8\u2009ms0.03\u2009%    1.8\u2009ms0.03\u2009%    hasOwnProperty\n1.8\u2009ms0.03\u2009%    2.1\u2009ms0.04\u2009%    createWriteReqnet.js:728  \n1.8\u2009ms0.03\u2009%    15.0\u2009ms0.28\u2009%   module.exports.TextEditor.isFoldableAtBufferRowtext-editor.coffee:3245\n1.8\u2009ms0.03\u2009%    2.8\u2009ms0.05\u2009%    module.exports.OverlayManager.renderOverlayoverlay-manager.coffee:30  \n1.8\u2009ms0.03\u2009%    34.2\u2009ms0.63\u2009%   SuggestionListElement.renderItemssuggestion-list\u2026ent.coffee:208 \n1.8\u2009ms0.03\u2009%    15.3\u2009ms0.28\u2009%   module.exports.DecorationManager.decorationsStateForScreenRowRangedecoration-manager.coffee:79\n1.8\u2009ms0.03\u2009%    3.2\u2009ms0.06\u2009%    module.exports.TextEditorPresenter.isRowRenderedtext-editor-pre\u2026er.coffee:1532\n1.8\u2009ms0.03\u2009%    3.0\u2009ms0.06\u2009%    processVM1637:60  \n1.8\u2009ms0.03\u2009%    1.8\u2009ms0.03\u2009%    module.exports.LineNumberGutterComponent.beforeUpdateSyncline-number-gut\u2026nent.coffee:47 \n1.8\u2009ms0.03\u2009%    1.8\u2009ms0.03\u2009%    rmdir \n1.8\u2009ms0.03\u2009%    3.7\u2009ms0.07\u2009%    (anonymous function)autocomplete-ma\u2026ger.coffee:197\n1.8\u2009ms0.03\u2009%    3.5\u2009ms0.06\u2009%    emptyC:\\Users\\happy\\\u2026jquery.js:5272 \n1.8\u2009ms0.03\u2009%    1.8\u2009ms0.03\u2009%    module.exports.Selector.selectorComponentMatchesScopeC:\\Users\\happy\\\u2026rty-store\\\u2026:74 \n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    measureHeightAndWidthminimap-element.js:963 \n1.6\u2009ms0.03\u2009%    1.8\u2009ms0.03\u2009%    module.exports.Point.fromObjectC:\\Users\\happy\\\u2026lib\\point.\u2026:18 \n1.6\u2009ms0.03\u2009%    25.2\u2009ms0.46\u2009%   module.exports.GutterContainerComponent.updateSyncgutter-containe\u2026nent.coffee:31  \n1.6\u2009ms0.03\u2009%    5.5\u2009ms0.10\u2009%    composeC:\\Users\\happy\\\u2026ist\\patch.\u2026:26 \n1.6\u2009ms0.03\u2009%    2.1\u2009ms0.04\u2009%    seekToScreenPositionC:\\Users\\happy\\\u2026x\\dist\\tok\u2026:37\n1.6\u2009ms0.03\u2009%    4.6\u2009ms0.08\u2009%    descendRightC:\\Users\\happy\\\u2026\\dist\\scr\u2026:211\n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    _serializeprovider.coffee:285 \n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.getStartTileRowtext-editor-pre\u2026ter.coffee:298  \n1.6\u2009ms0.03\u2009%    2.5\u2009ms0.05\u2009%    module.exports.TokenizedBuffer.indentLevelForRowtokenized-buffer.coffee:327 \n1.6\u2009ms0.03\u2009%    2.8\u2009ms0.05\u2009%    module.exports.TextEditor.getRightmostScreenPositiontext-editor.coffee:975\n1.6\u2009ms0.03\u2009%    63.6\u2009ms1.16\u2009%   module.exports.Emitter.emitC:\\Users\\happy\\\u2026\\emitter.\u2026:124 \n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.clientRectsEqualtext-editor-pre\u2026ter.coffee:939 \n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    module.exports.DisplayLayer.expandChangeRegionToSurroundingEmptyLinesC:\\Users\\happy\\\u2026ib\\displa\u2026:451 \n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    update\n1.6\u2009ms0.03\u2009%    9.0\u2009ms0.17\u2009%    module.exports.GitRepository.getLineDiffsgit-repository.coffee:389\n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    (anonymous function)C:\\Users\\happy\\\u2026derscore.\u2026:730\n1.6\u2009ms0.03\u2009%    2.1\u2009ms0.04\u2009%    module.exportsC:\\Users\\happy\\\u2026b\\filter.js:14  \n1.6\u2009ms0.03\u2009%    1.6\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.getScrollToptext-editor-pre\u2026ter.coffee:820 \n1.4\u2009ms0.03\u2009%    78.8\u2009ms1.44\u2009%   module.exports.TiledComponent.updateSynctiled-component.coffee:10 \n1.4\u2009ms0.03\u2009%    3.5\u2009ms0.06\u2009%    exports.scoreC:\\Users\\happy\\\u2026b\\scorer.js:24 \n1.4\u2009ms0.03\u2009%    1.8\u2009ms0.03\u2009%    module.exports.Range.fromObjectC:\\Users\\happy\\\u2026lib\\range.\u2026:23 \n1.4\u2009ms0.03\u2009%    4.4\u2009ms0.08\u2009%    SuggestionListElement.getDisplayHTMLsuggestion-list\u2026ent.coffee:334\n1.4\u2009ms0.03\u2009%    5.1\u2009ms0.09\u2009%    module.exports.LinesTileComponent.buildLineNodelines-tile-comp\u2026ent.coffee:188 \n1.4\u2009ms0.03\u2009%    37.4\u2009ms0.69\u2009%   module.exports.TextBuffer.applyChangeC:\\Users\\happy\\\u2026ib\\text-b\u2026:634 \n1.4\u2009ms0.03\u2009%    7.9\u2009ms0.14\u2009%    ipcRenderer.sendSyncC:\\Users\\happy\\\u2026renderer.js:13\n1.4\u2009ms0.03\u2009%    1.4\u2009ms0.03\u2009%    cleanDataC:\\Users\\happy\\\u2026jquery.js:5171 \n1.4\u2009ms0.03\u2009%    1.4\u2009ms0.03\u2009%    (anonymous function)text-editor-com\u2026ent.coffee:731\n1.4\u2009ms0.03\u2009%    5.3\u2009ms0.10\u2009%    .each..forEachC:\\Users\\happy\\\u2026underscore.\u2026:1\n1.4\u2009ms0.03\u2009%    1.4\u2009ms0.03\u2009%    Node.spliceC:\\Users\\happy\\\u2026lib\\patch.\u2026:23 \n1.4\u2009ms0.03\u2009%    1.4\u2009ms0.03\u2009%    subtype \n1.4\u2009ms0.03\u2009%    1.4\u2009ms0.03\u2009%    put \n1.4\u2009ms0.03\u2009%    3.2\u2009ms0.06\u2009%    module.exports.DOMElementPool.freeDescendantsdom-element-pool.coffee:1\n1.4\u2009ms0.03\u2009%    12.2\u2009ms0.22\u2009%   module.exports.PathsProvider.requestHandlerpaths-provider.coffee:13 \n1.4\u2009ms0.03\u2009%    5.1\u2009ms0.09\u2009%    OnigScanner.findNextMatchSyncC:\\Users\\happy\\\u2026b\\onigurum\u2026:30 \n1.2\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\index.js:33\n1.2\u2009ms0.02\u2009%    1.4\u2009ms0.03\u2009%    parsedSnippetsForScopessnippets.coffee:213\n1.2\u2009ms0.02\u2009%    1.8\u2009ms0.03\u2009%    scoreSymbolsymbol-store.js:153\n1.2\u2009ms0.02\u2009%    25.4\u2009ms0.47\u2009%   Socket._flushReadC:\\Users\\happy\\\u2026b\\index.js:627 \n1.2\u2009ms0.02\u2009%    4.9\u2009ms0.09\u2009%    _propertyDescriptorsVM1637:59 \n1.2\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    module.exports.TextEditorPresenter.addToLineDecorationCachestext-editor-pre\u2026er.coffee:1128\n1.2\u2009ms0.02\u2009%    5.8\u2009ms0.11\u2009%    module.exports.DisplayMarkerLayer.translateToBufferMarkerLayerFindParamsC:\\Users\\happy\\\u2026ib\\displa\u2026:179\n1.2\u2009ms0.02\u2009%    8.6\u2009ms0.16\u2009%    module.exports.BracketMatcher.insertTextbracket-matcher.coffee:45 \n1.2\u2009ms0.02\u2009%    50.8\u2009ms0.93\u2009%   getTokenColorcanvas-drawer.js:203 \n1.2\u2009ms0.02\u2009%    1.4\u2009ms0.03\u2009%    module.exports.MarkerLayer.createSnapshotC:\\Users\\happy\\\u2026ib\\marker\u2026:276 \n1.2\u2009ms0.02\u2009%    2.3\u2009ms0.04\u2009%    getValueAtKeyPathC:\\Users\\happy\\\u2026lpers\\lib\\k\u2026:1 \n1.2\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    _addListenerevents.js:210 \n1.2\u2009ms0.02\u2009%    568.3\u2009ms10.41\u2009% module.exports.ViewRegistry.performDocumentUpdateview-registry.coffee:248 \n1.2\u2009ms0.02\u2009%    5.3\u2009ms0.10\u2009%    _combinedTickCallbackinternal/proces\u2026ext_tick.js:65 \n1.2\u2009ms0.02\u2009%    16.4\u2009ms0.30\u2009%   getSuggestionsautocomplete-provider.js:31 \n1.2\u2009ms0.02\u2009%    3.7\u2009ms0.07\u2009%    module.exports.SnippetsProvider.getSuggestionssnippets-provider.coffee:20 \n1.2\u2009ms0.02\u2009%    9.2\u2009ms0.17\u2009%    module.exports.Cursor.getScreenRangecursor.coffee:659 \n1.2\u2009ms0.02\u2009%    2.8\u2009ms0.05\u2009%    selectorForScopeChainscope-helpers.coffee:21  \n1.2\u2009ms0.02\u2009%    1.6\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.setOverlayDimensionstext-editor-pre\u2026er.coffee:1283 \n1.2\u2009ms0.02\u2009%    6.9\u2009ms0.13\u2009%    completezmq-kernel.js:177 \n1.2\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%     \n1.2\u2009ms0.02\u2009%    3.2\u2009ms0.06\u2009%    module.exports.SuggestionList.addBindingssuggestion-list.coffee:23\n1.2\u2009ms0.02\u2009%    4.2\u2009ms0.08\u2009%    _decodeC:\\Users\\happy\\\u2026p\\index.js:182 \n1.2\u2009ms0.02\u2009%    1.6\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.updateContentStatetext-editor-pre\u2026ter.coffee:275 \n1.2\u2009ms0.02\u2009%    3.0\u2009ms0.06\u2009%    module.exports.LineNumbersTileComponent.buildLineNumberNodeline-numbers-ti\u2026nent.coffee:98 \n1.2\u2009ms0.02\u2009%    6.2\u2009ms0.11\u2009%    module.exports.SuggestionList.showAtBeginningOfPrefixsuggestion-list.coffee:167 \n0.9\u2009ms0.02\u2009%    18.3\u2009ms0.33\u2009%   module.exports.LineNumbersTileComponent.updateSyncline-numbers-ti\u2026nent.coffee:21  \n0.9\u2009ms0.02\u2009%    10.4\u2009ms0.19\u2009%   module.exports.TextEditorPresenter.updateCursorsStatetext-editor-pre\u2026ter.coffee:441 \n0.9\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    module.exports.TextEditorPresenter.updateHighlightDecorationstext-editor-pre\u2026er.coffee:1115 \n0.9\u2009ms0.02\u2009%    22.2\u2009ms0.41\u2009%   module.exports.TextEditorPresenter.updateOverlaysStatetext-editor-pre\u2026ter.coffee:451  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    traverseC:\\Users\\happy\\\u2026ist\\point-\u2026:43\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    nextTickinternal/proces\u2026xt_tick.js:140\n0.9\u2009ms0.02\u2009%    106.1\u2009ms1.94\u2009%  module.exports.AutocompleteManager.findSuggestionsautocomplete-ma\u2026ger.coffee:160  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.TextEditorPresenter.updateScrollbarDimensionstext-editor-pre\u2026ter.coffee:737\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.LinesTileComponent.updateBlockDecorationInsertionPointAfterLinelines-tile-comp\u2026ent.coffee:165  \n0.9\u2009ms0.02\u2009%    223.3\u2009ms4.09\u2009%  updateminimap-element.js:811  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    getClientRects\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    drawDecorationscanvas-drawer.js:616 \n0.9\u2009ms0.02\u2009%    27.7\u2009ms0.51\u2009%   module.exports.TextBuffer.emitDidChangeEventC:\\Users\\happy\\\u2026ib\\text-b\u2026:715\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    stat  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    RegionIterator.deleteUntilC:\\Users\\happy\\\u2026ib\\patch.\u2026:390  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    RegionIterator.copyC:\\Users\\happy\\\u2026ib\\patch.\u2026:365 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    normalizeKeystrokeC:\\Users\\happy\\\u2026lib\\helper\u2026:91  \n0.9\u2009ms0.02\u2009%    6.5\u2009ms0.12\u2009%    module.exports.ProviderManager.applicableProvidersprovider-manager.coffee:40  \n0.9\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    flatbuffers.Builder.growByteBufferC:\\Users\\happy\\\u2026ndor\\flat\u2026:519  \n0.9\u2009ms0.02\u2009%    8.1\u2009ms0.15\u2009%    module.exports.TextEditorPresenter.updateHiddenInputStatetext-editor-pre\u2026ter.coffee:260 \n0.9\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    splitKeyPathC:\\Users\\happy\\\u2026lpers\\lib\\k\u2026:1\n0.9\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    cmpC:\\Users\\happy\\\u2026\\semver.js:629 \n0.9\u2009ms0.02\u2009%    6.2\u2009ms0.11\u2009%    onShellMessagezmq-kernel.js:226 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.TokenizedBufferIterator.moveToSuccessortokenized-buffe\u2026ator.coffee:49  \n0.9\u2009ms0.02\u2009%    1.8\u2009ms0.03\u2009%    setCurrentNodeC:\\Users\\happy\\\u2026st\\iterat\u2026:207  \n0.9\u2009ms0.02\u2009%    4.6\u2009ms0.08\u2009%    module.exports.TextBuffer.scanInRangeC:\\Users\\happy\\\u2026ib\\text-b\u2026:964 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    nullifyObjectProtoVM1637:12 \n0.9\u2009ms0.02\u2009%    148.1\u2009ms2.71\u2009%  module.exports.TextEditorComponent.updateSyncPreMeasurementtext-editor-com\u2026ent.coffee:184 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.BlockDecorationsComponent.updateSyncblock-decoratio\u2026nent.coffee:19 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.InputComponent.updateSyncinput-component.coffee:14 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.BlockDecorationsComponent.measureBlockDecorationsblock-decoratio\u2026nent.coffee:43\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    normalizePatchChangesC:\\Users\\happy\\\u2026lib\\helper\u2026:28 \n0.9\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    statNoException \n0.9\u2009ms0.02\u2009%    1.8\u2009ms0.03\u2009%    SelectionCountView.updateCountselection-count-view.coffee:37  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.LinesTileComponent.lineNodeForScreenRowlines-tile-comp\u2026ent.coffee:275  \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    (anonymous function)text-editor-pre\u2026ter.coffee:319\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    module.exports.TokenizedBuffer.indentLevelForLinetokenized-buffer.coffee:1\n0.9\u2009ms0.02\u2009%    3.0\u2009ms0.06\u2009%    selectorDownC:\\Users\\happy\\\u2026teract.js:1448\n0.9\u2009ms0.02\u2009%    2.5\u2009ms0.05\u2009%    module.exports.Config.getAllconfig.coffee:563 \n0.9\u2009ms0.02\u2009%    7.6\u2009ms0.14\u2009%    exports.keystrokeForKeyboardEventC:\\Users\\happy\\\u2026ib\\helper\u2026:173 \n0.9\u2009ms0.02\u2009%    4.4\u2009ms0.08\u2009%    module.exports.History.serializeStackC:\\Users\\happy\\\u2026ib\\histor\u2026:374 \n0.9\u2009ms0.02\u2009%    4.6\u2009ms0.08\u2009%    _generateRequestIdprovider.coffee:358 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    get prototype \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    readdir \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    digest\n0.9\u2009ms0.02\u2009%    6.2\u2009ms0.11\u2009%    module.exports.TokenizedBuffer.scopeDescriptorForPositiontokenized-buffer.coffee:366  \n0.9\u2009ms0.02\u2009%    7.2\u2009ms0.13\u2009%    (anonymous function)suggestion-list.coffee:1  \n0.9\u2009ms0.02\u2009%    2.5\u2009ms0.05\u2009%    mergeEnvC:\\Users\\happy\\\u2026helpers.js:125\n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    SuggestionListElement.updateDescriptionsuggestion-list\u2026ent.coffee:103 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    querySelector \n0.9\u2009ms0.02\u2009%    2.5\u2009ms0.05\u2009%    dbPromise.thenC:\\Users\\happy\\\u2026te-store.js:28  \n0.9\u2009ms0.02\u2009%    1.2\u2009ms0.02\u2009%    exports.scoreC:\\Users\\happy\\\u2026lus\\lib\\sc\u2026:22 \n0.9\u2009ms0.02\u2009%    0.9\u2009ms0.02\u2009%    kill  \n0.7\u2009ms0.01\u2009%    4.6\u2009ms0.08\u2009%    module.exports.SymbolProvider.buildConfigIfScopeChangedsymbol-provider.coffee:138 \n0.7\u2009ms0.01\u2009%    6.5\u2009ms0.12\u2009%    module.exports.PathsProvider.findSuggestionsForPrefixpaths-provider.coffee:54 \n0.7\u2009ms0.01\u2009%    1.4\u2009ms0.03\u2009%    mergePathC:\\Users\\happy\\\u2026helpers.js:117 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.LinesTileComponent.updateBlockDecorationInsertionPointBeforeLinelines-tile-comp\u2026ent.coffee:134 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.TextBuffer.getTextC:\\Users\\happy\\\u2026ib\\text-b\u2026:439 \n0.7\u2009ms0.01\u2009%    2.3\u2009ms0.04\u2009%    module.exports.TextBuffer.clipRangeC:\\Users\\happy\\\u2026b\\text-b\u2026:1084 \n0.7\u2009ms0.01\u2009%    1.8\u2009ms0.03\u2009%    fromStringbuffer.js:181 \n0.7\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    module.exports.ExpressionsRegistry.serializeexpressions-reg\u2026try.coffee:109\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.CustomGutterComponent.showNodecustom-gutter-c\u2026nent.coffee:27 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.TokenIterator.nexttoken-iterator.coffee:14 \n0.7\u2009ms0.01\u2009%    8.6\u2009ms0.16\u2009%    module.exports.Config.getconfig.coffee:540\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    substr\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.DisplayLayer.isOpenTagCodeC:\\Users\\happy\\\u2026b\\displa\u2026:1231 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.CustomGutterComponent.updateSynccustom-gutter-c\u2026nent.coffee:34 \n0.7\u2009ms0.01\u2009%    1.6\u2009ms0.03\u2009%    SuggestionListElement.addClassToElementsuggestion-list\u2026ent.coffee:279 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    scoreExactMatchC:\\Users\\happy\\\u2026\\scorer.js:258 \n0.7\u2009ms0.01\u2009%    1.6\u2009ms0.03\u2009%    collectEventTargetsC:\\Users\\happy\\\u2026teract.js:2768 \n0.7\u2009ms0.01\u2009%    8.6\u2009ms0.16\u2009%    provider.BufferedProcess.stdoutprovider.coffee:50 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    init  \n0.7\u2009ms0.01\u2009%    3.5\u2009ms0.06\u2009%    module.exports.TextEditorComponent.requestUpdatetext-editor-com\u2026ent.coffee:212\n0.7\u2009ms0.01\u2009%    25.4\u2009ms0.47\u2009%   module.exports.KeymapManager.handleKeyboardEventC:\\Users\\happy\\\u2026ib\\keymap\u2026:315\n0.7\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    Message._encodeC:\\Users\\happy\\\u2026p\\index.js:250 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    splayNodeC:\\Users\\happy\\\u2026st\\patch.\u2026:328 \n0.7\u2009ms0.01\u2009%    3.7\u2009ms0.07\u2009%    module.exports.OverlayManager.renderoverlay-manager.coffee:6  \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    spliceArrayC:\\Users\\happy\\\u2026lib\\helper\u2026:10 \n0.7\u2009ms0.01\u2009%    3.5\u2009ms0.06\u2009%    TextEditorElement.shadowRootBlurredtext-editor-element.coffee:151 \n0.7\u2009ms0.01\u2009%    38.4\u2009ms0.70\u2009%   module.exports.TextEditorPresenter.updateLinestext-editor-pre\u2026er.coffee:1048  \n0.7\u2009ms0.01\u2009%    47.6\u2009ms0.87\u2009%   module.exports.LinesYardstick.pixelPositionForScreenPositionlines-yardstick.coffee:1  \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.SymbolProvider.addConfigEntrysymbol-provider.coffee:168\n0.7\u2009ms0.01\u2009%    29.8\u2009ms0.55\u2009%   module.exports.TextEditorPresenter.pixelRectForScreenRangetext-editor-pre\u2026er.coffee:1038  \n0.7\u2009ms0.01\u2009%    16.2\u2009ms0.30\u2009%   runMicrotasks \n0.7\u2009ms0.01\u2009%    2.1\u2009ms0.04\u2009%    renderBubblelinter-views.js:70\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    spliceWithArrayC:\\Users\\happy\\\u2026us\\lib\\un\u2026:351 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    clearTimeout  \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    getXYC:\\Users\\happy\\\u2026\\interact.js:1 \n0.7\u2009ms0.01\u2009%    8.6\u2009ms0.16\u2009%    laterC:\\Users\\happy\\\u2026derscore.\u2026:685 \n0.7\u2009ms0.01\u2009%    1.6\u2009ms0.03\u2009%    doScoreC:\\Users\\happy\\\u2026b\\scorer.js:86 \n0.7\u2009ms0.01\u2009%    1.8\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.updateLineDecorationstext-editor-pre\u2026er.coffee:1099\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    cloneObjectlines-tile-component.coffee:4  \n0.7\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    Backwards.scanNextChunkC:\\Users\\happy\\\u2026lib\\match-\u2026:64 \n0.7\u2009ms0.01\u2009%    4.4\u2009ms0.08\u2009%    spliceC:\\Users\\happy\\\u2026st\\patch.\u2026:181  \n0.7\u2009ms0.01\u2009%    62.4\u2009ms1.14\u2009%   module.exports.Emitter.simpleDispatchC:\\Users\\happy\\\u2026b\\emitter.\u2026:24 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    setStatusstatus-view.js:15\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.TextEditor.getScreenLineCounttext-editor.coffee:911\n0.7\u2009ms0.01\u2009%    1.4\u2009ms0.03\u2009%    isEqualC:\\Users\\happy\\\u2026us\\lib\\un\u2026:440 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    toJSONC:\\Users\\happy\\\u2026p\\index.js:237  \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    writeUtf8String \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    EventEmitter.initevents.js:1  \n0.7\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    (anonymous function)text-editor-pre\u2026ter.coffee:311\n0.7\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    module.exports.LineNumbersTileComponent.updateLineNumberNodeline-numbers-ti\u2026ent.coffee:127\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    .reduce..foldl..injectC:\\Users\\happy\\\u2026derscore.\u2026:109 \n0.7\u2009ms0.01\u2009%    4.2\u2009ms0.08\u2009%    Writable.write_stream_writable.js:199 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    randomBytes \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    parentNode\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    createFromString  \n0.7\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    module.exports.AutocompleteManager.getPrefixautocomplete-ma\u2026ger.coffee:338\n0.7\u2009ms0.01\u2009%    1.4\u2009ms0.03\u2009%    module.exports.AutocompleteManager.filterSuggestionsautocomplete-ma\u2026ger.coffee:238\n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    getLeftSubtreeRowCountC:\\Users\\happy\\\u2026x\\dist\\lin\u2026:78  \n0.7\u2009ms0.01\u2009%    8.3\u2009ms0.15\u2009%    module.exports.DOMElementPool.freedom-element-pool.coffee:1 \n0.7\u2009ms0.01\u2009%    6.5\u2009ms0.12\u2009%    module.exports.DisplayLayer.translateBufferPositionC:\\Users\\happy\\\u2026b\\displa\u2026:1337 \n0.7\u2009ms0.01\u2009%    6.9\u2009ms0.13\u2009%    appendPropertyDescriptorsVM1637:152  \n0.7\u2009ms0.01\u2009%    2.1\u2009ms0.04\u2009%    module.exports.TextEditor.autoDecreaseIndentForBufferRowtext-editor.coffee:3704 \n0.7\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    (anonymous function)provider.coffee:268 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.tagForCodetext-editor-pre\u2026er.coffee:1541 \n0.5\u2009ms0.01\u2009%    24.3\u2009ms0.44\u2009%   exports.spawnchild_process.js:385 \n0.5\u2009ms0.01\u2009%    223.7\u2009ms4.10\u2009%  (anonymous function)minimap-element.js:790\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditor.isMinitext-editor.coffee:722\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    childNodes\n0.5\u2009ms0.01\u2009%    29.6\u2009ms0.54\u2009%   (anonymous function)symbol-provider.coffee:3  \n0.5\u2009ms0.01\u2009%    12.5\u2009ms0.23\u2009%   (anonymous function)paths-provider.coffee:1 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    RegExp: (?:[a-zA-Z]:)?[a-zA-Z0-9.\\/\\-](?:\\/|\\\\?)[a-zA-Z0-9.\\/\\_-] \n0.5\u2009ms0.01\u2009%    2.3\u2009ms0.04\u2009%    module.exports.DisplayMarker.getScreenRangeC:\\Users\\happy\\\u2026ib\\displa\u2026:129 \n0.5\u2009ms0.01\u2009%    13.2\u2009ms0.24\u2009%   module.exports.DisplayMarkerLayer.findMarkersC:\\Users\\happy\\\u2026ib\\displa\u2026:132 \n0.5\u2009ms0.01\u2009%    2.1\u2009ms0.04\u2009%    module.exports.DisplayLayer.buildSpatialScreenLinesC:\\Users\\happy\\\u2026ib\\displa\u2026:508 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.clearDecorationsForCustomGutterNametext-editor-pre\u2026ter.coffee:583  \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    PathMatcher.matchesC:\\Users\\happy\\\u2026lib\\scope-s\u2026:1 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    flatbuffers.Builder.offsetC:\\Users\\happy\\\u2026ndor\\flat\u2026:507  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TokenizedBuffer.scopesFromTagstokenized-buffer.coffee:303  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TokenizedBuffer.tokenizedLineForRowtokenized-buffer.coffee:285 \n0.5\u2009ms0.01\u2009%    2.5\u2009ms0.05\u2009%    copyPartFromOffscreencanvas-layer.js:71 \n0.5\u2009ms0.01\u2009%    9.0\u2009ms0.17\u2009%    module.exports.Grammar.tokenizeLineC:\\Users\\happy\\\u2026ib\\grammar\u2026:85 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.commitPendingLogicalScrollTopPositiontext-editor-pre\u2026er.coffee:1437\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.updateCommonGutterStatetext-editor-pre\u2026ter.coffee:503  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    ascendC:\\Users\\happy\\\u2026\\dist\\scr\u2026:220  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    resetdom-element-pool.coffee:33 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    getInteractionFromPointerC:\\Users\\happy\\\u2026teract.js:3220 \n0.5\u2009ms0.01\u2009%    2.8\u2009ms0.05\u2009%    pointerMoveC:\\Users\\happy\\\u2026teract.js:1766 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)tokenized-buffe\u2026ator.coffee:19\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.Marker.matchesParamsC:\\Users\\happy\\\u2026ib\\marker\u2026:286 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026derscore.\u2026:485\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.AutocompleteManager.shouldSuppressActivationForEditorClassesautocomplete-ma\u2026ger.coffee:546 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.SpanSkipList.subtractDistancesC:\\Users\\happy\\\u2026t\\lib\\spa\u2026:226 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.DisplayLayer.findLeadingWhitespaceEndScreenColumnC:\\Users\\happy\\\u2026ib\\displa\u2026:985\n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    resetC:\\Users\\happy\\\u2026dex\\dist\\it\u2026:1 \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    module.exports.MarkerLayer.getMarkerStartPositionC:\\Users\\happy\\\u2026ib\\marker\u2026:359 \n0.5\u2009ms0.01\u2009%    1.6\u2009ms0.03\u2009%    resetC:\\Users\\happy\\\u2026ist\\iterat\u2026:30 \n0.5\u2009ms0.01\u2009%    47.1\u2009ms0.86\u2009%   module.exports.Selection.insertTextselection.coffee:366 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\text-b\u2026:1422\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    KeyBindingC:\\Users\\happy\\\u2026lib\\key-bi\u2026:11  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    setCurrentNodeC:\\Users\\happy\\\u2026x\\dist\\it\u2026:153  \n0.5\u2009ms0.01\u2009%    2.5\u2009ms0.05\u2009%    Socket.writeGenericnet.js:655\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.Point.traversalFromC:\\Users\\happy\\\u2026ib\\point.\u2026:125  \n0.5\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    module.exports.MarkerLayer.scheduleUpdateEventC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    baseUniqC:\\Users\\happy\\\u2026q\\index.js:632\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.LineNumbersTileComponent.screenRowForNodeline-numbers-ti\u2026onent.coffee:1\n0.5\u2009ms0.01\u2009%    1.8\u2009ms0.03\u2009%    module.exports.TextBuffer.createMarkerSnapshotC:\\Users\\happy\\\u2026b\\text-b\u2026:1364  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    isArrayLikeVM1637:18  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.AutocompleteManager.getDefaultReplacementPrefixautocomplete-ma\u2026ger.coffee:342  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    eqC:\\Users\\happy\\\u2026derscore.\u2026:903  \n0.5\u2009ms0.01\u2009%    1.4\u2009ms0.03\u2009%    module.exports.LanguageMode.autoDecreaseIndentForBufferRowlanguage-mode.coffee:314\n0.5\u2009ms0.01\u2009%    3.2\u2009ms0.06\u2009%    module.exports.Cursor.autoscrollcursor.coffee:663 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    ascendingPrefixComparatorsnippets-provider.coffee:49  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    bind  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextBuffer.lineForRowC:\\Users\\happy\\\u2026ib\\text-b\u2026:485\n0.5\u2009ms0.01\u2009%    5.1\u2009ms0.09\u2009%    filterC:\\Users\\happy\\\u2026zzaldrin.js:17  \n0.5\u2009ms0.01\u2009%    2.1\u2009ms0.04\u2009%    module.exports.AutocompleteManager.showOrHideSuggestionListForBufferChangesautocomplete-ma\u2026ger.coffee:500 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    Socket.destroynet.js:517  \n0.5\u2009ms0.01\u2009%    2.1\u2009ms0.04\u2009%    getChangesC:\\Users\\happy\\\u2026st\\patch.\u2026:271  \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    module.exports.TextEditorComponent.measureWindowSizetext-editor-com\u2026ent.coffee:798\n0.5\u2009ms0.01\u2009%    11.3\u2009ms0.21\u2009%   onreadnet.js:525  \n0.5\u2009ms0.01\u2009%    25.9\u2009ms0.47\u2009%   module.exports.WindowEventHandler.handleDocumentKeyEventwindow-event-handler.coffee:75\n0.5\u2009ms0.01\u2009%    32.8\u2009ms0.60\u2009%   emitevents.js:136 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    getTextOpacitycanvas-drawer.js:180\n0.5\u2009ms0.01\u2009%    8.3\u2009ms0.15\u2009%    module.exports.AutocompleteManager.displaySuggestionsautocomplete-ma\u2026ger.coffee:320 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.DisplayLayer.isCloseTagCodeC:\\Users\\happy\\\u2026b\\displa\u2026:1235  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    replaceChangedTextC:\\Users\\happy\\\u2026st\\patch.\u2026:228  \n0.5\u2009ms0.01\u2009%    4.2\u2009ms0.08\u2009%    module.exports.DOMElementPool.builddom-element-pool.coffee:1  \n0.5\u2009ms0.01\u2009%    2.3\u2009ms0.04\u2009%    insertSpliceBoundaryC:\\Users\\happy\\\u2026st\\iterat\u2026:138\n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    parseScopeChainscope-helpers.coffee:17\n0.5\u2009ms0.01\u2009%    1.6\u2009ms0.03\u2009%    getChangesC:\\Users\\happy\\\u2026ist\\iterat\u2026:70  \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    passC:\\Users\\happy\\\u2026e\\stable.js:56\n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    .pickC:\\Users\\happy\\\u2026derscore.\u2026:857  \n0.5\u2009ms0.01\u2009%    1.6\u2009ms0.03\u2009%    module.exports.Package.serializepackage.coffee:392\n0.5\u2009ms0.01\u2009%    3.5\u2009ms0.06\u2009%    writeOrBuffer_stream_writable.js:269  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    Minimatch.matchOneC:\\Users\\happy\\\u2026nimatch.js:887  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    getUsernamezmq-kernel.js:403 \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    module.exports.TextEditor.getLastCursortext-editor.coffee:2208\n0.5\u2009ms0.01\u2009%    53.2\u2009ms0.97\u2009%   module.exports.ViewRegistry.performDocumentPollview-registry.coffee:281 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    SuggestionListElement.attachedCallbacksuggestion-list\u2026ment.coffee:53  \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    SemVerC:\\Users\\happy\\\u2026\\semver.js:274  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.CursorsComponent.updateCursorNodecursors-component.coffee:43 \n0.5\u2009ms0.01\u2009%    4.2\u2009ms0.08\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\helpers.js:11\n0.5\u2009ms0.01\u2009%    22.6\u2009ms0.41\u2009%   (anonymous function)C:\\Users\\happy\\\u2026lib\\displa\u2026:52\n0.5\u2009ms0.01\u2009%    7.6\u2009ms0.14\u2009%    module.exports.Rule.findNextMatchC:\\Users\\happy\\\u2026lib\\rule.js:93 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    QueryC:\\Users\\happy\\\u2026b\\scorer.js:41 \n0.5\u2009ms0.01\u2009%    3.0\u2009ms0.06\u2009%    module.exports.SymbolProvider.settingsForScopeDescriptorsymbol-provider.coffee:240\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.Emitter.onC:\\Users\\happy\\\u2026b\\emitter.\u2026:71 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    exports._extendutil.js:976\n0.5\u2009ms0.01\u2009%    28.9\u2009ms0.53\u2009%   module.exports.TextEditorPresenter.absolutePixelRectForScreenRangetext-editor-pre\u2026er.coffee:1023  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    clearCachestable-adapter.js:14\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    Module._findPathmodule.js:137 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorComponent.updateParentViewMiniClasstext-editor-com\u2026ent.coffee:975\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.Model.isDestroyedmodel.coffee:23 \n0.5\u2009ms0.01\u2009%    8.6\u2009ms0.16\u2009%    module.exports.Rule.getNextTagsC:\\Users\\happy\\\u2026ib\\rule.js:139 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    replaceXRangeC:\\Users\\happy\\\u2026\\semver.js:938 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    ScopeMatcher.matchesC:\\Users\\happy\\\u2026ib\\scope-s\u2026:48\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextBuffer.getLineCountC:\\Users\\happy\\\u2026b\\text-b\u2026:1030  \n0.5\u2009ms0.01\u2009%    2.5\u2009ms0.05\u2009%    module.exports.TextEditor.getLongestScreenRowtext-editor.coffee:979 \n0.5\u2009ms0.01\u2009%    93.4\u2009ms1.71\u2009%   module.exports.TextEditorComponent.onTextInputtext-editor-com\u2026ent.coffee:354  \n0.5\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    module.exports.SnippetsProvider.findSuggestionsForPrefixsnippets-provider.coffee:25 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.DisplayLayer.lineStartBoundaryForBufferRowC:\\Users\\happy\\\u2026ib\\displa\u2026:474 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditor.createLastSelectionIfNeededtext-editor.coffee:2765  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    slicebuffer.js:812\n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.CommandRegistry.addcommand-registry.coffee:94  \n0.5\u2009ms0.01\u2009%    5.5\u2009ms0.10\u2009%    _fuzzyFilterprovider.coffee:418 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    exports.scoreC:\\Users\\happy\\\u2026b\\scorer.js:45 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    mapC:\\Users\\happy\\\u2026lodash.js:9554 \n0.5\u2009ms0.01\u2009%    4.6\u2009ms0.08\u2009%    _sendRequestprovider.coffee:289 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.SpanSkipList.totalToC:\\Users\\happy\\\u2026st\\lib\\spa\u2026:24 \n0.5\u2009ms0.01\u2009%    1.8\u2009ms0.03\u2009%    module.exports.DisplayMarkerLayer.markBufferRangeC:\\Users\\happy\\\u2026lib\\displa\u2026:88 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    QueryC:\\Users\\happy\\\u2026lus\\lib\\sc\u2026:39 \n0.5\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    _generateRequestConfigprovider.coffee:365 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    parseC:\\Users\\happy\\\u2026\\parser.js:252 \n0.5\u2009ms0.01\u2009%    2.1\u2009ms0.04\u2009%    module.exports.PackageManager.serializePackagepackage-manager.coffee:501  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    getLineCount  \n0.5\u2009ms0.01\u2009%    5.1\u2009ms0.09\u2009%    RangeC:\\Users\\happy\\\u2026\\semver.js:718 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    linesForBufferssymbol-store.js:128\n0.5\u2009ms0.01\u2009%    3.9\u2009ms0.07\u2009%    module.exports.PathsProvider.prefixForCursorpaths-provider.coffee:28  \n0.5\u2009ms0.01\u2009%    3.7\u2009ms0.07\u2009%    module.exports.DisplayLayer.translateScreenPositionC:\\Users\\happy\\\u2026b\\displa\u2026:1387 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.DisplayMarkerLayer.getMarkerC:\\Users\\happy\\\u2026ib\\displa\u2026:109 \n0.5\u2009ms0.01\u2009%    4.6\u2009ms0.08\u2009%    module.exportsC:\\Users\\happy\\\u2026b\\filter.js:18  \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    module.exports.ProviderManager.removeMetadataprovider-manager.coffee:91 \n0.5\u2009ms0.01\u2009%    3.0\u2009ms0.06\u2009%    module.exports.ProviderManager.filterProvidersByScopeDescriptorprovider-manager.coffee:47 \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    module.exports.Decoration.destroydecoration.coffee:76 \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    matchC:\\Users\\happy\\\u2026nimatch.js:828 \n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\semver.js:748\n0.5\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    execC:\\Users\\happy\\\u2026e\\stable.js:27\n0.5\u2009ms0.01\u2009%    2.8\u2009ms0.05\u2009%    module.exports.ViewRegistry.updateDocumentview-registry.coffee:208\n0.5\u2009ms0.01\u2009%    3.0\u2009ms0.06\u2009%    Socket._writenet.js:724 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.Point.isLessThanOrEqualC:\\Users\\happy\\\u2026ib\\point.\u2026:182  \n0.5\u2009ms0.01\u2009%    10.2\u2009ms0.19\u2009%   readableAddChunk_stream_readable.js:147 \n0.5\u2009ms0.01\u2009%    1.2\u2009ms0.02\u2009%    module.exports.TextEditor.scrollToScreenRangetext-editor.coffee:3374  \n0.5\u2009ms0.01\u2009%    0.9\u2009ms0.02\u2009%    _bindVM1637:50\n0.5\u2009ms0.01\u2009%    6.0\u2009ms0.11\u2009%    getCurrentKeyboardLayoutC:\\Users\\happy\\\u2026out\\lib\\ke\u2026:23\n0.5\u2009ms0.01\u2009%    0.5\u2009ms0.01\u2009%    flatbuffers.BuilderC:\\Users\\happy\\\u2026ndor\\flat\u2026:120 \n0.5\u2009ms0.01\u2009%    0.7\u2009ms0.01\u2009%    module.exports.ScopeDescriptor.getScopeChainscope-descriptor.coffee:41\n0.5\u2009ms0.01\u2009%    3.9\u2009ms0.07\u2009%    .extendC:\\Users\\happy\\\u2026derscore.\u2026:845\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)provider-manager.coffee:80\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    Socket.destroynet.js:459 \n0.2\u2009ms0.00\u2009%    3.2\u2009ms0.06\u2009%    module.exports.History.groupChangesSinceCheckpointC:\\Users\\happy\\\u2026lib\\histor\u2026:74  \n0.2\u2009ms0.00\u2009%    20.8\u2009ms0.38\u2009%   module.exports.TextBuffer.emitMarkerChangeEventsC:\\Users\\happy\\\u2026b\\text-b\u2026:1387\n0.2\u2009ms0.00\u2009%    6.7\u2009ms0.12\u2009%    module.exports.TextBuffer.emitDidChangeTextEventC:\\Users\\happy\\\u2026b\\text-b\u2026:1398\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\text-b\u2026:880\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    pushToAncestorStacksC:\\Users\\happy\\\u2026st\\iterat\u2026:302\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    style \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    rotateNodeLeftC:\\Users\\happy\\\u2026\\dist\\dis\u2026:181  \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    _describeVM1637:107 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.OverlayManager.shouldUpdateOverlayoverlay-manager.coffee:16\n0.2\u2009ms0.00\u2009%    2.1\u2009ms0.04\u2009%    pollDOMminimap-element.js:917 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    suppressWarningsAndCallFunction \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.LinesComponent.beforeUpdateSynclines-component.coffee:45 \n0.2\u2009ms0.00\u2009%    8.6\u2009ms0.16\u2009%    module.exports.LinesComponent.afterUpdateSynclines-component.coffee:54\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)text-editor-com\u2026ent.coffee:673\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    validateC:\\Users\\happy\\\u2026\\helpers.js:75\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    VariablesCollectionvariables-collection.coffee:15 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    flatbuffers.ByteBuffer.setPositionC:\\Users\\happy\\\u2026ndor\\flat\u2026:809  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.ColorBuffer.updateColorMarkerscolor-buffer.coffee:334  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.updateGutterOrderStatetext-editor-pre\u2026ter.coffee:522 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.commitPendingScrollLeftPositiontext-editor-pre\u2026er.coffee:1494  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.updateRowsPerPagetext-editor-pre\u2026ter.coffee:632\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.updateLineNumberGutterStatetext-editor-pre\u2026ter.coffee:500  \n0.2\u2009ms0.00\u2009%    1.8\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.updateHorizontalDimensionstext-editor-pre\u2026ter.coffee:669 \n0.2\u2009ms0.00\u2009%    83.0\u2009ms1.52\u2009%   module.exports.TextEditor.mergeSelectionstext-editor.coffee:2692  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    transaction \n0.2\u2009ms0.00\u2009%    83.9\u2009ms1.54\u2009%   module.exports.TextEditor.insertTexttext-editor.coffee:1040 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    module.exports.TextEditorPresenter.updateCustomGutterDecorationStatetext-editor-pre\u2026ter.coffee:550\n0.2\u2009ms0.00\u2009%    8.8\u2009ms0.16\u2009%    (anonymous function)bracket-matcher.coffee:1  \n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    flatbuffers.Builder.prepC:\\Users\\happy\\\u2026ndor\\flat\u2026:247\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    flatbuffers.ByteBuffer.readInt16C:\\Users\\happy\\\u2026ndor\\flat\u2026:842\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    jQuery.EventC:\\Users\\happy\\\u2026jquery.js:4668\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    flatbuffers.ByteBuffer.allocateC:\\Users\\happy\\\u2026ndor\\flat\u2026:782 \n0.2\u2009ms0.00\u2009%    20.1\u2009ms0.37\u2009%   AsyncFunctionNext \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    innerHTML \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    SuggestionListElement.descriptionLengthsuggestion-list\u2026ent.coffee:228 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    rotateNodeRightC:\\Users\\happy\\\u2026\\dist\\dis\u2026:208 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.Selector.matchesC:\\Users\\happy\\\u2026\\lib\\selec\u2026:53 \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    scoreC:\\Users\\happy\\\u2026lus\\lib\\fu\u2026:24 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.GrammarRegistry.getGrammarsC:\\Users\\happy\\\u2026ib\\grammar\u2026:57  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getCachedMatchscope-helpers.coffee:7  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)provider-manager.coffee:71\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    Sizzle.matchesSelectorC:\\Users\\happy\\\u2026jquery.js:1399  \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    sigmundC:\\Users\\happy\\\u2026d\\sigmund.js:2 \n0.2\u2009ms0.00\u2009%    25.7\u2009ms0.47\u2009%   _zmq.onReadReadyC:\\Users\\happy\\\u2026b\\index.js:296\n0.2\u2009ms0.00\u2009%    4.4\u2009ms0.08\u2009%    stepC:\\Users\\happy\\\u2026\\helpers.js:71\n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    OrMatcher.matchesC:\\Users\\happy\\\u2026lib\\scope-s\u2026:1 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026derscore.\u2026:860\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    isMatchC:\\Users\\happy\\\u2026b\\scorer.js:61 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    firePointersC:\\Users\\happy\\\u2026teract.js:2817\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    basenameScoreC:\\Users\\happy\\\u2026\\scorer.js:329 \n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    module.exports.DisplayMarker.destroyC:\\Users\\happy\\\u2026lib\\displa\u2026:22\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    getWindowC:\\Users\\happy\\\u2026nteract.js:704 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    setEventXYC:\\Users\\happy\\\u2026nteract.js:605  \n0.2\u2009ms0.00\u2009%    3.7\u2009ms0.07\u2009%    target.sendinternal/child_process.js:522  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getBufferStartC:\\Users\\happy\\\u2026\\dist\\tok\u2026:208  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\text-b\u2026:692\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    CursorPositionView.updatePositioncursor-position-view.coffee:55 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    seekToBufferPositionC:\\Users\\happy\\\u2026x\\dist\\scr\u2026:68\n0.2\u2009ms0.00\u2009%    7.4\u2009ms0.14\u2009%    _generatePreviewVM1637:147\n0.2\u2009ms0.00\u2009%    23.6\u2009ms0.43\u2009%   ChildProcess.spawninternal/child_process.js:267 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getLeftSubtreeBufferExtentC:\\Users\\happy\\\u2026x\\dist\\lin\u2026:87  \n0.2\u2009ms0.00\u2009%    217.7\u2009ms3.99\u2009%  updateCanvascanvas-drawer.js:100  \n0.2\u2009ms0.00\u2009%    8.8\u2009ms0.16\u2009%    (anonymous function)autocomplete-ma\u2026ger.coffee:230\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    Node.calculateExtentC:\\Users\\happy\\\u2026lib\\patch.\u2026:81\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    _makeLongpath.js:657  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    fs.writefs.js:744 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.WindowEventHandler.handleWindowFocuswindow-event-ha\u2026ler.coffee:137 \n0.2\u2009ms0.00\u2009%    7.2\u2009ms0.13\u2009%    (anonymous function)autocomplete-provider.js:63 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    fs.mkdirfs.js:909 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    splitPathELECTRON_ASAR.js:35  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    recomputeSymbolsForEditorInBufferRangesymbol-store.js:99  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    foldable  \n0.2\u2009ms0.00\u2009%    1.8\u2009ms0.03\u2009%    module.exports.BufferSearch.createMarkersbuffer-search.coffee:102 \n0.2\u2009ms0.00\u2009%    6.2\u2009ms0.11\u2009%    module.exports.WindowEventHandler.handleWindowBlurwindow-event-ha\u2026ler.coffee:140  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Marker.getSnapshotC:\\Users\\happy\\\u2026ib\\marker\u2026:373 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Pattern.resolveScopeNameC:\\Users\\happy\\\u2026b\\pattern\u2026:183 \n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    moveToSuccessorC:\\Users\\happy\\\u2026st\\iterat\u2026:223 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Selection.isReversedselection.coffee:133 \n0.2\u2009ms0.00\u2009%    3.5\u2009ms0.06\u2009%    module.exports.TextEditorPresenter.emitDidUpdateStatetext-editor-presenter.coffee:1 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.OnigRegExp.testSyncC:\\Users\\happy\\\u2026b\\onig-reg\u2026:51  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    parseRegexC:\\Users\\happy\\\u2026js-regexp.js:6  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.ProviderManager.filterProvidersByExcludeLowerPriorityprovider-manager.coffee:83\n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.AutocompleteManager.toggleActivationForBufferChangeautocomplete-ma\u2026ger.coffee:481  \n0.2\u2009ms0.00\u2009%    3.9\u2009ms0.07\u2009%    module.exports.Marker.updateC:\\Users\\happy\\\u2026ib\\marker\u2026:326\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    unescapeBracesC:\\Users\\happy\\\u2026on\\index.js:26  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.ProviderManager.filterProvidersByEditorprovider-manager.coffee:79  \n0.2\u2009ms0.00\u2009%    580.3\u2009ms10.63\u2009% (anonymous function)view-registry.coffee:1\n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    drawFrontDecorationsForLinescanvas-drawer.js:370  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.ExpressionsRegistry.getExpressionsexpressions-registry.coffee:38 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    BatchList.fetchC:\\Users\\happy\\\u2026b\\index.js:261 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    DisplayMarkerC:\\Users\\happy\\\u2026lib\\displa\u2026:11 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    fill  \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.TextBuffer.getLastRowC:\\Users\\happy\\\u2026b\\text-b\u2026:1034\n0.2\u2009ms0.00\u2009%    2.1\u2009ms0.04\u2009%    module.exports.TagFinder.findMatchingTagstag-finder.coffee:95 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Emitter.offC:\\Users\\happy\\\u2026b\\emitter.\u2026:98  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    close \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.SpanSkipList.cloneObjectC:\\Users\\happy\\\u2026t\\lib\\spa\u2026:284 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getElementsByTagName  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.DisplayMarker.onDidDestroyC:\\Users\\happy\\\u2026\\lib\\displa\u2026:1 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    doScoreC:\\Users\\happy\\\u2026lus\\lib\\sc\u2026:84 \n0.2\u2009ms0.00\u2009%    2.5\u2009ms0.05\u2009%    module.exports.TextBuffer.getTextInRangeC:\\Users\\happy\\\u2026ib\\text-b\u2026:452\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    description \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.AutocompleteManager.mergeSuggestionsFromProvidersautocomplete-ma\u2026ger.coffee:265\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Directory.serializeExpansionStatedirectory.coffee:273  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TokenizedBufferIterator.getCloseTagstokenized-buffe\u2026ator.coffee:93 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    push  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.DisplayLayer.codeForOpenTagC:\\Users\\happy\\\u2026b\\displa\u2026:1246  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.DisplayLayer.updateTagsC:\\Users\\happy\\\u2026b\\displa\u2026:1291  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.isValidScreenRowtext-editor-pre\u2026ter.coffee:304 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    endReadableNT_stream_readable.js:969  \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    matchC:\\Users\\happy\\\u2026lus\\lib\\fu\u2026:45 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.setWindowSizetext-editor-pre\u2026ter.coffee:946\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    get innerWidth\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.setGutterWidthtext-editor-pre\u2026ter.coffee:965 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    constrainRow  \n0.2\u2009ms0.00\u2009%    6.9\u2009ms0.13\u2009%    (anonymous function)provider-manager.coffee:1 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\marker\u2026:413\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    isPrimitiveValueVM1637:1  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.getClientHeighttext-editor-pre\u2026ter.coffee:853  \n0.2\u2009ms0.00\u2009%    21.0\u2009ms0.39\u2009%   module.exports.TextEditorPresenter.pixelPositionForScreenPositiontext-editor-pre\u2026er.coffee:1006 \n0.2\u2009ms0.00\u2009%    217.0\u2009ms3.98\u2009%  redrawRangesOnLayercanvas-drawer.js:263 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    computeIntactRangescanvas-drawer.js:809 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Decoration.getPropertiesdecoration.coffee:135  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.DisplayLayer.getMarkerLayerC:\\Users\\happy\\\u2026ib\\displa\u2026:243  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    flatbuffers.Builder.endObjectC:\\Users\\happy\\\u2026ndor\\flat\u2026:571 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    jQueryC:\\Users\\happy\\\u2026t\\jquery.js:73  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)text-editor-pre\u2026ter.coffee:568\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    descriptor.getC:\\Users\\happy\\\u2026\\remote.js:117  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TokenizedBuffer.updateInvalidRowstokenized-buffer.coffee:176 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    webkitMatchesSelector \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\keymap\u2026:526\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    resume__stream_readable.js:734\n0.2\u2009ms0.00\u2009%    5.5\u2009ms0.10\u2009%    module.exports.LinesTileComponent.removeLineNodelines-tile-component.coffee:74\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    flatbuffers.Builder.padC:\\Users\\happy\\\u2026ndor\\flat\u2026:270 \n0.2\u2009ms0.00\u2009%    11.3\u2009ms0.21\u2009%   module.exports.TextEditorPresenter.getScreenRangesToRendertext-editor-pre\u2026ter.coffee:322  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\marker\u2026:182\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\marker\u2026:172\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    min \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getScreenLineCount\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.updateStartRowtext-editor-pre\u2026ter.coffee:619 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.updateEndRowtext-editor-pre\u2026ter.coffee:624 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getMetadataC:\\Users\\happy\\\u2026\\dist\\tok\u2026:235 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    clearInterval \n0.2\u2009ms0.00\u2009%    3.0\u2009ms0.06\u2009%    module.exports.TextEditorPresenter.updateBlockDecorationstext-editor-pre\u2026er.coffee:1062 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    unrefinternal/child_process.js:427\n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.updateVerticalDimensionstext-editor-pre\u2026ter.coffee:659 \n0.2\u2009ms0.00\u2009%    6.2\u2009ms0.11\u2009%    module.exports.TextEditorComponent.checkForVisibilityChangetext-editor-com\u2026ent.coffee:744 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.LinesTileComponent.findNodeNextTolines-tile-comp\u2026ent.coffee:180\n0.2\u2009ms0.00\u2009%    92.9\u2009ms1.70\u2009%   object.(anonymous function)C:\\Users\\happy\\\u2026lus\\lib\\un\u2026:73 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    curCSSC:\\Users\\happy\\\u2026jquery.js:5553  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    removeAttribute \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)pane.coffee:60\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    fixC:\\Users\\happy\\\u2026jquery.js:4545 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    psychoAnalyzeC:\\Users\\happy\\\u2026d\\sigmund.js:8 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\index.js:41\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Selection.finalizeselection.coffee:810 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    filterSetC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    now \n0.2\u2009ms0.00\u2009%    11.6\u2009ms0.21\u2009%   (anonymous function)C:\\Users\\happy\\\u2026derscore.\u2026:691\n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    module.exports.LinesYardstick.clientRectForRangelines-yardstick.coffee:1  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)text-editor.coffee:1051 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    SearchCallbackArgumentC:\\Users\\happy\\\u2026lib\\text-b\u2026:57  \n0.2\u2009ms0.00\u2009%    83.0\u2009ms1.52\u2009%   module.exports.TextEditor.mutateSelectedTexttext-editor.coffee:1081 \n0.2\u2009ms0.00\u2009%    2.1\u2009ms0.04\u2009%    module.exports.Selector.matchesC:\\Users\\happy\\\u2026rty-store\\\u2026:51 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Grammar.scopesFromStackC:\\Users\\happy\\\u2026b\\grammar\u2026:311  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.CompositeDisposable.disposeC:\\Users\\happy\\\u2026b\\composit\u2026:23  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditor.mergeCursorstext-editor.coffee:2256 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    fs.Statsfs.js:150 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    messageKeyhelpers.coffee:7\n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    module.exports.DisplayLayer.computeFoldsInBufferRowRangeC:\\Users\\happy\\\u2026ib\\displa\u2026:900\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    setInterval \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    path.dirnameC:\\Users\\happy\\\u2026ron-shims.js:5\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    isStringtype-helpers.coffee:4 \n0.2\u2009ms0.00\u2009%    3.0\u2009ms0.06\u2009%    module.exports.TextEditorComponent.focusedtext-editor-com\u2026ent.coffee:345  \n0.2\u2009ms0.00\u2009%    354.5\u2009ms6.49\u2009%  (anonymous function)text-editor-com\u2026ent.coffee:223\n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    execProxyC:\\Users\\happy\\\u2026b\\index.js:115 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)linter-registry.js:64 \n0.2\u2009ms0.00\u2009%    3.9\u2009ms0.07\u2009%    module.exports.TextEditorComponent.onMouseDowntext-editor-com\u2026ent.coffee:528  \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    dispatchC:\\Users\\happy\\\u2026jquery.js:4396\n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    (anonymous function)token-iterator.coffee:9 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    max \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    get \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    next  \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.Range.getExtentC:\\Users\\happy\\\u2026ib\\range.\u2026:243  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.SymbolProvider.wordAtBufferPositionsymbol-provider.coffee:233  \n0.2\u2009ms0.00\u2009%    12.2\u2009ms0.22\u2009%   module.exports.GitRepository.refreshStatusgit-repository.coffee:468 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    channel.onreadinternal/child_process.js:438 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.AtomEnvironment.getStateKeyatom-environment.coffee:907 \n0.2\u2009ms0.00\u2009%    9.2\u2009ms0.17\u2009%    wrapObjectVM1637:34 \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    laterC:\\Users\\happy\\\u2026derscore.\u2026:717 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    firstCharsEqualsnippets-provider.coffee:51\n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    module.exports.KeymapManager.addC:\\Users\\happy\\\u2026ib\\keymap\u2026:125\n0.2\u2009ms0.00\u2009%    4.6\u2009ms0.08\u2009%    module.exports.BufferSearch.bufferChangedbuffer-search.coffee:207 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Range.compareC:\\Users\\happy\\\u2026ib\\range.\u2026:186\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditor.getLastSelectiontext-editor.coffee:2602 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    fs.closefs.js:602 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Point.traverseC:\\Users\\happy\\\u2026ib\\point.\u2026:113 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)internal/child_process.js:775 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    parseRange\n0.2\u2009ms0.00\u2009%    3.9\u2009ms0.07\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\semver.js:729\n0.2\u2009ms0.00\u2009%    2.3\u2009ms0.04\u2009%    module.exports.ScopedPropertyStore.withCachingC:\\Users\\happy\\\u2026erty-store\\\u2026:1  \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    stableC:\\Users\\happy\\\u2026le\\stable.js:9  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    scopeChainForScopeDescriptorprovider-manager.coffee:221 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)scope-descriptor.coffee:43\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    makeC:\\Users\\happy\\\u2026nimatch.js:142\n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    (anonymous function)tokenized-buffe\u2026ator.coffee:19\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    RegionIteratorC:\\Users\\happy\\\u2026ib\\patch.\u2026:199  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    isWindowC:\\Users\\happy\\\u2026\\interact.js:1\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    prefinish_stream_writable.js:475  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    typeC:\\Users\\happy\\\u2026\\jquery.js:300\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    bubbleNodeDownC:\\Users\\happy\\\u2026st\\patch.\u2026:310  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.DisplayLayer.tagForCodeC:\\Users\\happy\\\u2026b\\displa\u2026:1239  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    serialize \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    scoreAcronymsC:\\Users\\happy\\\u2026\\scorer.js:294 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Selector.selectorComponentMatchesScopeC:\\Users\\happy\\\u2026lib\\selec\u2026:101 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    editorDestroyedstable-adapter.js:111  \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    Comparator.parseC:\\Users\\happy\\\u2026\\semver.js:678\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    utf8Slice \n0.2\u2009ms0.00\u2009%    4.6\u2009ms0.08\u2009%    (anonymous function)project.coffee:73 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    Readable.read_stream_readable.js:271  \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    endWritable_stream_writable.js:496\n0.2\u2009ms0.00\u2009%    13.4\u2009ms0.25\u2009%   (anonymous function)color-buffer.coffee:159 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    MinimatchC:\\Users\\happy\\\u2026nimatch.js:132 \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    replaceXRangesC:\\Users\\happy\\\u2026\\semver.js:931  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    replaceStarsC:\\Users\\happy\\\u2026er\\semver.js:1\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    writeBuffer \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    pushValueToArraybootstrap_node.js:204 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getActualElementC:\\Users\\happy\\\u2026nteract.js:698\n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    module.exports.BufferSearch.findMarkerbuffer-search.coffee:195\n0.2\u2009ms0.00\u2009%    8.8\u2009ms0.16\u2009%    InjectedScript.RemoteObjectVM1637:122 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Rule.normalizeCaptureIndicesC:\\Users\\happy\\\u2026lib\\rule.js:83 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    ChangeIteratorC:\\Users\\happy\\\u2026ib\\patch.\u2026:513  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    truncatedUpperCaseC:\\Users\\happy\\\u2026\\scorer.js:377  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    normalizeSpawnArgumentschild_process.js:320 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    apply \n0.2\u2009ms0.00\u2009%    3.2\u2009ms0.06\u2009%    module.exports.PathsProvider.getBeginningOfCurrentWordBufferPositionpaths-provider.coffee:35  \n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    fs.readdirSyncfs.js:944 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Rule.scanInjectionsC:\\Users\\happy\\\u2026lib\\rule.js:68  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    ColorBufferElement.updateSelectionscolor-buffer-el\u2026ent.coffee:488 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    set length\n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    ascendC:\\Users\\happy\\\u2026st\\iterat\u2026:273  \n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    Socket._flushWriteC:\\Users\\happy\\\u2026b\\index.js:643  \n0.2\u2009ms0.00\u2009%    2.8\u2009ms0.05\u2009%    module.exports.HighlightsComponent.updateSynchighlights-component.coffee:17 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    Duplex_stream_duplex.js:23\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.DecorationManager.didDestroyMarkerDecorationdecoration-manager.coffee:147  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    normalizeStringWin32path.js:12\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    req.oncompleteinternal/child_process.js:637 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    set countC:\\Users\\happy\\\u2026om-status.js:1 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextBuffer.lineLengthForRowC:\\Users\\happy\\\u2026ib\\text-b\u2026:493  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.hasPixelPositionRequirementstext-editor-pre\u2026er.coffee:1003 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditor.getHorizontalScrollMargintext-editor.coffee:3514\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    Serialization.Patch.createChangesVectorC:\\Users\\happy\\\u2026st\\serial\u2026:289 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    _dirCreatedC:\\Users\\happy\\\u2026lib\\tmp.js:330 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    matched.groupsC:\\Users\\happy\\\u2026-regexp.js:159  \n0.2\u2009ms0.00\u2009%    1.8\u2009ms0.03\u2009%    (anonymous function)main.js:121 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    set WebGLRenderingContext \n0.2\u2009ms0.00\u2009%    2.1\u2009ms0.04\u2009%    fs.rmdirSyncfs.js:884 \n0.2\u2009ms0.00\u2009%    6.7\u2009ms0.12\u2009%    module.exports.SuggestionList.showsuggestion-list.coffee:154  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    regex.execC:\\Users\\happy\\\u2026-regexp.js:173  \n0.2\u2009ms0.00\u2009%    3.9\u2009ms0.07\u2009%    module.exports.TokenizedLine.getTokenIteratortokenized-line.coffee:15 \n0.2\u2009ms0.00\u2009%    22.2\u2009ms0.41\u2009%   module.exports.DisplayMarker.notifyObserversC:\\Users\\happy\\\u2026ib\\displa\u2026:214\n0.2\u2009ms0.00\u2009%    21.5\u2009ms0.39\u2009%   module.exports.Selection.markerDidChangeselection.coffee:767  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.ExpressionsRegistry.getRegExpexpressions-registry.coffee:57\n0.2\u2009ms0.00\u2009%    1.8\u2009ms0.03\u2009%    .uniq..uniqueC:\\Users\\happy\\\u2026derscore.\u2026:476 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    freezeC:\\Users\\happy\\\u2026dist\\patch.\u2026:1  \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    module.exports.Marker.setRangeC:\\Users\\happy\\\u2026ib\\marker\u2026:102  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    .isElementC:\\Users\\happy\\\u2026erscore.\u2026:1009 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.TextBuffer.isEmptyC:\\Users\\happy\\\u2026ib\\text-b\u2026:435 \n0.2\u2009ms0.00\u2009%    6.5\u2009ms0.12\u2009%    satisfiesC:\\Users\\happy\\\u2026semver.js:1092 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.getScrollLefttext-editor-pre\u2026ter.coffee:847\n0.2\u2009ms0.00\u2009%    9.0\u2009ms0.17\u2009%    emitOneevents.js:94 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Marker.extractParamsC:\\Users\\happy\\\u2026lib\\marker\u2026:21 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    getHeightstable-adapter.js:30 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    TextEditorElement.pixelPositionForScreenPositiontext-editor-element.coffee:208\n0.2\u2009ms0.00\u2009%    16.6\u2009ms0.30\u2009%   module.exports.FindView.updateResultCounterfind-view.coffee:319 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    removeClassC:\\Users\\happy\\\u2026jquery.js:7213 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    serializeArrayC:\\Users\\happy\\\u2026jquery.js:8490  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    isSoftWrappedAtEndC:\\Users\\happy\\\u2026\\dist\\scr\u2026:172  \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    drawLinesForRangescanvas-drawer.js:298\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\sigmund.js:26\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Config.deepCloneconfig.coffee:974  \n0.2\u2009ms0.00\u2009%    4.4\u2009ms0.08\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\index.js:87\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    TokenizedBufferIteratortokenized-buffe\u2026rator.coffee:5 \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    Hmaccrypto.js:86  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.FindView.setInfoMessagefind-view.coffee:332\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    requestIdleCallback \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    getC:\\Users\\happy\\\u2026lib\\text-b\u2026:41 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.BufferSearch.createMarkerbuffer-search.coffee:203  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.DecorationManager.decorateMarkerdecoration-manager.coffee:106  \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    module.exports.Pattern.handleMatchC:\\Users\\happy\\\u2026b\\pattern\u2026:207  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.MarkerLayer.destroyMarkerC:\\Users\\happy\\\u2026ib\\marker\u2026:345\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    truncateIntactRangescanvas-drawer.js:899  \n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    setupChannelinternal/child_process.js:411 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.CommandRegistry.addInlineListenercommand-registry.coffee:123 \n0.2\u2009ms0.00\u2009%    6.5\u2009ms0.12\u2009%    module.exports.TextEditor.scopeDescriptorForBufferPositiontext-editor.coffee:1\n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    SuggestionListElement.rendersuggestion-list\u2026ent.coffee:124\n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    module.exports.DisplayMarker.setBufferRangeC:\\Users\\happy\\\u2026ib\\displa\u2026:133 \n0.2\u2009ms0.00\u2009%    100.8\u2009ms1.85\u2009%  module.exports.AutocompleteManager.getSuggestionsFromProvidersautocomplete-ma\u2026ger.coffee:173  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\index.js:17\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.ProviderManager.metadataForProviderprovider-manager.coffee:127 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    webkitMatchesSelector \n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    matchingTypeForConfigsymbol-store.js:16 \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.SpanSkipList.insertNodeC:\\Users\\happy\\\u2026t\\lib\\spa\u2026:112  \n0.2\u2009ms0.00\u2009%    3.9\u2009ms0.07\u2009%    module.exports.SymbolProvider.buildConfigsymbol-provider.coffee:143 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    resolvepath.js:158\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)paths-provider.coffee:83  \n0.2\u2009ms0.00\u2009%    2.3\u2009ms0.04\u2009%    filterC:\\Users\\happy\\\u2026zzaldrin.js:15  \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    fs.readdirSyncELECTRON_ASAR.js:568\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    fs.Stats.isDirectoryfs.js:188 \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    fs.statSyncELECTRON_ASAR.js:272 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    SemVer.formatC:\\Users\\happy\\\u2026er\\semver.js:1 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TiledComponent.getComponentForTiletiled-component.coffee:50\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    prepareTmpDirRemoveCallbackC:\\Users\\happy\\\u2026lib\\tmp.js:402\n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    _createMessagezmq-kernel.js:410 \n0.2\u2009ms0.00\u2009%    0.9\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\marker\u2026:173\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)snippets.coffee:196 \n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    module.exports.AutocompleteManager.requestNewSuggestionsautocomplete-ma\u2026ger.coffee:452\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    BackwardsC:\\Users\\happy\\\u2026lib\\match-\u2026:53 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TokenizedLine.isCommenttokenized-line.coffee:47\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    isVisibleminimap-element.js:397 \n0.2\u2009ms0.00\u2009%    13.2\u2009ms0.24\u2009%   module.exports.TokenizedBuffer.isFoldableAtRowtokenized-buffer.coffee:1 \n0.2\u2009ms0.00\u2009%    1.4\u2009ms0.03\u2009%    Backwards.nextC:\\Users\\happy\\\u2026ib\\match-\u2026:106  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    setItem \n0.2\u2009ms0.00\u2009%    1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026rty-store\\\u2026:97\n0.2\u2009ms0.00\u2009%    3.0\u2009ms0.06\u2009%    selectorsMatchScopeChainscope-helpers.coffee:1\n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.DisplayLayer.clipScreenPositionC:\\Users\\happy\\\u2026b\\displa\u2026:1445  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.Emitter.emitC:\\Users\\happy\\\u2026ode_modul\u2026:120 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.KeymapManager.findPartialMatchesC:\\Users\\happy\\\u2026ib\\keymap\u2026:500 \n0.2\u2009ms0.00\u2009%    2.5\u2009ms0.05\u2009%    lintlinter-registry.js:40 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    setStart  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    call  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.getEndTileRowtext-editor-pre\u2026ter.coffee:301\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    translateBufferPositionC:\\Users\\happy\\\u2026\\dist\\tok\u2026:240 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.AutocompleteManager.getUniqueSuggestionsautocomplete-ma\u2026ger.coffee:328 \n0.2\u2009ms0.00\u2009%    0.5\u2009ms0.01\u2009%    lintmain.js:86\n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    MinimatchC:\\Users\\happy\\\u2026nimatch.js:110 \n0.2\u2009ms0.00\u2009%    0.7\u2009ms0.01\u2009%    module.exports.DisplayMarkerLayer.emitDidUpdateC:\\Users\\happy\\\u2026ib\\displa\u2026:162 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026helpers.js:118\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    module.exports.LinesTileComponent.textNodesForScreenRowlines-tile-comp\u2026ent.coffee:287 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    nodeName  \n0.2\u2009ms0.00\u2009%    2.3\u2009ms0.04\u2009%    module.exports.HighlightsComponent.updateHighlightNodehighlights-component.coffee:40  \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    innerHandlerC:\\Users\\happy\\\u2026-listener.js:5\n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    readStart \n0.2\u2009ms0.00\u2009%    1.6\u2009ms0.03\u2009%    module.exports.Marker.setHeadPositionC:\\Users\\happy\\\u2026ib\\marker\u2026:122 \n0.2\u2009ms0.00\u2009%    0.2\u2009ms0.00\u2009%    scoreAcronymsC:\\Users\\happy\\\u2026us\\lib\\sc\u2026:297 \n0\u2009ms0\u2009% 3.2\u2009ms0.06\u2009%    remoteMemberFunctionC:\\Users\\happy\\\u2026\\remote.js:103\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _validateStdiointernal/child_process.js:750 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.DisplayMarker.setHeadScreenPositionC:\\Users\\happy\\\u2026ib\\displa\u2026:153  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    SuggestionListElement.addActiveClassToEditorsuggestion-list\u2026ent.coffee:131\n0\u2009ms0\u2009% 3.9\u2009ms0.07\u2009%    module.exports.MarkerLayer.getMarkerRangeC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.ScopedPropertyStore.getPropertyValueC:\\Users\\happy\\\u2026rty-store\\\u2026:46 \n0\u2009ms0\u2009% 9.7\u2009ms0.18\u2009%    module.exports.DOMElementPool.freeElementAndDescendantsdom-element-pool.coffee:1  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    RangeC:\\Users\\happy\\\u2026\\lib\\range.\u2026:1 \n0\u2009ms0\u2009% 82.0\u2009ms1.50\u2009%   module.exports.TextEditor.transacttext-editor.coffee:1464 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    (anonymous function)task.coffee:146 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    finishMaybe_stream_writable.js:482\n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    getScreenPositionWithMaxLineLengthC:\\Users\\happy\\\u2026ex\\dist\\dis\u2026:1  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    endReadable_stream_readable.js:955\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.Marker.getStartPositionC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    exclusiveTotalBlockPixelsPrecedingRowC:\\Users\\happy\\\u2026dex\\dist\\it\u2026:1 \n0\u2009ms0\u2009% 4.6\u2009ms0.08\u2009%    _this.requests.(anonymous function)provider.coffee:462\n0\u2009ms0\u2009% 5.5\u2009ms0.10\u2009%    seekToScreenRowC:\\Users\\happy\\\u2026ex\\dist\\scr\u2026:1 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    Comparator.testC:\\Users\\happy\\\u2026\\semver.js:704 \n0\u2009ms0\u2009% 9.0\u2009ms0.17\u2009%    module.exports.DisplayMarker.getHeadScreenPositionC:\\Users\\happy\\\u2026\\lib\\displa\u2026:1  \n0\u2009ms0\u2009% 9.0\u2009ms0.17\u2009%    _wrapObjectVM1637:48  \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    Socket.sendC:\\Users\\happy\\\u2026p\\index.js:312 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    v4C:\\Users\\happy\\\u2026s\\uuid\\v4.js:4  \n0\u2009ms0\u2009% 3.0\u2009ms0.06\u2009%    module.exports.Grammar.scopeForIdC:\\Users\\happy\\\u2026b\\grammar\u2026:295 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    execC:\\Users\\happy\\\u2026ib\\index.js:99\n0\u2009ms0\u2009% 2.8\u2009ms0.05\u2009%    module.exports.DecorationManager.decorationsForScreenRowRangedecoration-manager.coffee:72 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    createSocketinternal/child_process.js:242 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TreeView.serializetree-view.coffee:74  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    serializeC:\\Users\\happy\\\u2026jquery.js:8487 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    jQuery.fn.(anonymous function)C:\\Users\\happy\\\u2026jquery.js:9108  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TreeView.hasFocustree-view.coffee:195  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    directoryExpansionStatestree-view.coffee:75 \n0\u2009ms0\u2009% 3.5\u2009ms0.06\u2009%    serializeC:\\Users\\happy\\\u2026st\\patch.\u2026:110 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)config.coffee:978 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    calculateLineMessageseditor-linter.js:156 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.constrainRowtext-editor-pre\u2026ter.coffee:295 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextBuffer.positionForCharacterIndexC:\\Users\\happy\\\u2026b\\text-b\u2026:1072 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Decorationdecoration.coffee:65\n0\u2009ms0\u2009% 15.3\u2009ms0.28\u2009%   module.exports.TextEditor.decorationsStateForScreenRowRangetext-editor.coffee:1759\n0\u2009ms0\u2009% 2.8\u2009ms0.05\u2009%    module.exports.TextEditor.decorationsForScreenRowRangetext-editor.coffee:1756 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.DisplayMarkerLayer.createDisplayMarkerC:\\Users\\happy\\\u2026lib\\displa\u2026:97 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.MarkerLayer.markRangeC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    (anonymous function)decoration.coffee:70  \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    Socketnet.js:120  \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:113\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\displa\u2026:135\n0\u2009ms0\u2009% 8.8\u2009ms0.16\u2009%    module.exports.Cursor.getScreenPositioncursor.coffee:1\n0\u2009ms0\u2009% 4.4\u2009ms0.08\u2009%    module.exports.DisplayLayer.softWrapDescriptorForScreenRowC:\\Users\\happy\\\u2026\\lib\\displa\u2026:1  \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.Marker.getTailPositionC:\\Users\\happy\\\u2026ib\\marker\u2026:149 \n0\u2009ms0\u2009% 5.3\u2009ms0.10\u2009%    module.exports.DisplayMarkerLayer.translateBufferPositionC:\\Users\\happy\\\u2026ib\\displa\u2026:146 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.DisplayLayer.getRightmostScreenPositionC:\\Users\\happy\\\u2026\\lib\\displa\u2026:1  \n0\u2009ms0\u2009% 3.9\u2009ms0.07\u2009%    module.exports.Marker.getRangeC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    exports.prepQueryC:\\Users\\happy\\\u2026lus\\lib\\sc\u2026:55 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    fs.statSyncfs.js:990  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    exports.matchC:\\Users\\happy\\\u2026lus\\lib\\ma\u2026:58 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    rngC:\\Users\\happy\\\u2026d\\lib\\rng.js:6 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    Socket.sendC:\\Users\\happy\\\u2026b\\index.js:601 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    resolveFilePathmodule-cache.coffee:152\n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.Cursor.clearSelectioncursor.coffee:600 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    (anonymous function)cursor.coffee:77  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    exports.prepQueryC:\\Users\\happy\\\u2026b\\scorer.js:57 \n0\u2009ms0\u2009% 2.8\u2009ms0.05\u2009%    module.exports.Config.getRawScopedValueconfig.coffee:1\n0\u2009ms0\u2009% 82.0\u2009ms1.50\u2009%   (anonymous function)text-editor.coffee:1082 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    ColorBufferElement.updateHighlightDecorationscolor-buffer-el\u2026ent.coffee:196 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\semver.js:783\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\semver.js:792\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.GitRepository.isPathIgnoredgit-repository.coffee:302 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    minimatchC:\\Users\\happy\\\u2026inimatch.js:92 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    promises.push.Promise.then._this.emitter.emit.linterlinter-registry.js:62 \n0\u2009ms0\u2009% 5.8\u2009ms0.11\u2009%    findNodeC:\\Users\\happy\\\u2026ex\\dist\\scr\u2026:1\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TextEditor.clipScreenPositiontext-editor.coffee:1631 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026mon\\init.js:22\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    ChildProcess._handle.onexitinternal/child_process.js:181  \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    (anonymous function)task.coffee:149 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)task.coffee:90\n0\u2009ms0\u2009% 82.0\u2009ms1.50\u2009%   module.exports.TextBuffer.transactC:\\Users\\happy\\\u2026ib\\text-b\u2026:857  \n0\u2009ms0\u2009% 2.3\u2009ms0.04\u2009%    module.exports.ProviderMetadata.matchesScopeChainprovider-metadata.coffee:38  \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026rty-store\\\u2026:52\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    Range.formatC:\\Users\\happy\\\u2026\\semver.js:747\n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.DisplayMarker.setHeadBufferPositionC:\\Users\\happy\\\u2026\\lib\\displa\u2026:1  \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.DisplayMarker.clearTailC:\\Users\\happy\\\u2026ib\\displa\u2026:197  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)internal/child_process.js:417 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    testSetC:\\Users\\happy\\\u2026semver.js:1058 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    Hash.digestcrypto.js:78 \n0\u2009ms0\u2009% 4.2\u2009ms0.08\u2009%    Socket.writenet.js:646\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getScopeChainsnippets.coffee:192  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    SuggestionListElement.itemsChangedsuggestion-list\u2026ent.coffee:118  \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    (anonymous function)internal/child_process.js:318 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.LineNumbersTileComponent.findNodeNextToline-numbers-ti\u2026onent.coffee:1  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Marker.destroyC:\\Users\\happy\\\u2026ib\\marker\u2026:267 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.TextEditor.markBufferRangetext-editor.coffee:1847  \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    getScreenPositionWithMaxLineLengthC:\\Users\\happy\\\u2026ex\\dist\\scr\u2026:1  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditor.decorateMarkertext-editor.coffee:1730 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    (anonymous function)buffer-search.coffee:111  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.LinesComponent.textNodesForScreenRowlines-component.coffee:1 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextBuffer.characterIndexForPositionC:\\Users\\happy\\\u2026b\\text-b\u2026:1062 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.FindView.markersUpdatedfind-view.coffee:302\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TokenizedBuffer.isFoldableCommentAtRowtokenized-buffer.coffee:1\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)autocomplete-provider.js:64 \n0\u2009ms0\u2009% 4.4\u2009ms0.08\u2009%    module.exports.History.serializeC:\\Users\\happy\\\u2026ib\\histor\u2026:337\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    serializemain.coffee:42 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    serializeatom-python-test.coffee:37 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    notifyEditorLinterslinter-views.js:102\n0\u2009ms0\u2009% 15.3\u2009ms0.28\u2009%   module.exports.TextEditorPresenter.fetchDecorationstext-editor-pre\u2026er.coffee:1058 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditor.isEmptytext-editor.coffee:861 \n0\u2009ms0\u2009% 4.6\u2009ms0.08\u2009%    module.exports.TextEditor.cursorsForScreenRowRangetext-editor.coffee:2230 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.getHorizontalScrollMarginInPixelstext-editor-pre\u2026er.coffee:1428\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.updateHighlightStatetext-editor-pre\u2026er.coffee:1175 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.DisplayMarker.getTailScreenPositionC:\\Users\\happy\\\u2026ib\\displa\u2026:165  \n0\u2009ms0\u2009% 3.2\u2009ms0.06\u2009%    module.exports.DisplayMarker.getBufferRangeC:\\Users\\happy\\\u2026\\lib\\displa\u2026:1 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (unresolved function) \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    addListenerevents.js:269  \n0\u2009ms0\u2009% 3.5\u2009ms0.06\u2009%    module.exports.Cursor.changePositioncursor.coffee:651 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.DisplayLayer.buildTokenTextC:\\Users\\happy\\\u2026b\\displa\u2026:1263  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    ColorBufferElement.updatecolor-buffer-el\u2026ent.coffee:133 \n0\u2009ms0\u2009% 6.9\u2009ms0.13\u2009%    module.exports.Marker.getEndPositionC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1\n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    isPathIgnoredhelpers.coffee:27\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TokenizedBuffer.buildIteratortokenized-buffer.coffee:46\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    mapC:\\Users\\happy\\\u2026\\jquery.js:142 \n0\u2009ms0\u2009% 16.6\u2009ms0.30\u2009%   jQuery.accessC:\\Users\\happy\\\u2026jquery.js:3468 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    isC:\\Users\\happy\\\u2026jquery.js:2709  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)linter-registry.js:60 \n0\u2009ms0\u2009% 3.5\u2009ms0.06\u2009%    serializeChangesC:\\Users\\happy\\\u2026ist\\serial\u2026:47\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    Writable.end_stream_writable.js:440 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    toBufcrypto.js:36 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    flow_stream_readable.js:758 \n0\u2009ms0\u2009% 16.4\u2009ms0.30\u2009%   textC:\\Users\\happy\\\u2026jquery.js:5205\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    slowToStringbuffer.js:428 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    drawBackDecorationsForLinescanvas-drawer.js:324 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.MarkerLayer.createMarkerC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TextEditorComponent.pixelPositionForScreenPositiontext-editor-com\u2026ent.coffee:474 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    Socket.readnet.js:298 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:113\n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    module.exports.ProviderManager.sortProvidersprovider-manager.coffee:69\n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    Range.testC:\\Users\\happy\\\u2026semver.js:1044  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)provider.coffee:460 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    debuglog.coffee:3 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TextEditor.getTexttext-editor.coffee:896 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.ProviderManager.apiVersionForProviderprovider-manager.coffee:132 \n0\u2009ms0\u2009% 3.0\u2009ms0.06\u2009%    module.exports.TextEditor.backwardsScanInBufferRangetext-editor.coffee:2817 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    uniqC:\\Users\\happy\\\u2026q\\index.js:784\n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    Socket._flushWritesC:\\Users\\happy\\\u2026b\\index.js:692 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Bufferbuffer.js:65\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Module._resolveLookupPathsmodule.js:300 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)validate.coffee:26\n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.GitDiffView.markRangegit-diff-view.coffee:123  \n0\u2009ms0\u2009% 17.1\u2009ms0.31\u2009%   (anonymous function)find-view.coffee:1\n0\u2009ms0\u2009% 3.0\u2009ms0.06\u2009%    doWrite_stream_writable.js:299\n0\u2009ms0\u2009% 4.2\u2009ms0.08\u2009%    Message._decodeC:\\Users\\happy\\\u2026p\\index.js:167 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    parseComparatorC:\\Users\\happy\\\u2026\\semver.js:812 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    ComparatorC:\\Users\\happy\\\u2026\\semver.js:654  \n0\u2009ms0\u2009% 4.4\u2009ms0.08\u2009%    module.exports.TextBuffer.serializeC:\\Users\\happy\\\u2026ib\\text-b\u2026:216 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Pane.serializepane.coffee:58 \n0\u2009ms0\u2009% 4.6\u2009ms0.08\u2009%    exports.getCurrentWindowC:\\Users\\happy\\\u2026\\remote.js:306\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    renderlinter-views.js:56  \n0\u2009ms0\u2009% 26.1\u2009ms0.48\u2009%   module.exports.TextEditorPresenter.commitPendingLogicalScrollLeftPositiontext-editor-pre\u2026er.coffee:1467 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    .cloneC:\\Users\\happy\\\u2026derscore.\u2026:889 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    tempFileC:\\Users\\happy\\\u2026b\\index.js:254\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    braceExpandC:\\Users\\happy\\\u2026nimatch.js:233 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.GutterContainerComponent.reorderGuttersgutter-containe\u2026nent.coffee:75  \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.Selection.getBufferRangeselection.coffee:75\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    (anonymous function)task.coffee:50\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)git-repository.coffee:477 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    SuggestionListElement.findCharacterMatchIndicessuggestion-list\u2026ent.coffee:413 \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.History.applyGroupingIntervalC:\\Users\\happy\\\u2026ib\\histor\u2026:161\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Task.handleEventstask.coffee:95\n0\u2009ms0\u2009% 3.5\u2009ms0.06\u2009%    module.exports.Cursor.setScreenPositioncursor.coffee:76 \n0\u2009ms0\u2009% 6.5\u2009ms0.12\u2009%    module.exports.BracketMatcher.getScopedSettingbracket-matcher.coffee:227  \n0\u2009ms0\u2009% 47.4\u2009ms0.87\u2009%   (anonymous function)text-editor.coffee:1083 \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    module.exports.BracketMatcher.wrapSelectionInBracketsbracket-matcher.coffee:152 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Point.compareC:\\Users\\happy\\\u2026\\lib\\point.\u2026:1\n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.PropertySet.matchesC:\\Users\\happy\\\u2026rty-store\\\u2026:16  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.BracketMatcher.toggleQuotesbracket-matcher.coffee:26 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.Marker.clearTailC:\\Users\\happy\\\u2026ib\\marker\u2026:192 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    EventEmitterevents.js:11  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditor.getTextInBufferRangetext-editor.coffee:903  \n0\u2009ms0\u2009% 3.7\u2009ms0.07\u2009%    module.exports.DOMElementPool.buildElementdom-element-pool.coffee:20  \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.LineNumbersTileComponent.setLineNumberInnerNodesline-numbers-ti\u2026ent.coffee:110 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    (anonymous function)task.coffee:97\n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    isEqualC:\\Users\\happy\\\u2026us\\lib\\un\u2026:420 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    descendLeftC:\\Users\\happy\\\u2026ex\\dist\\scr\u2026:1 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    (anonymous function)text-editor-pre\u2026ter.coffee:149\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)color-buffer-element.coffee:41\n0\u2009ms0\u2009% 6.9\u2009ms0.13\u2009%    module.exports.Marker.getHeadPositionC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.LinesComponent.lineNodeForScreenRowlines-component.coffee:1\n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.TextEditorPresenter.setBoundingClientRecttext-editor-pre\u2026ter.coffee:932\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    resetC:\\Users\\happy\\\u2026ex\\dist\\scr\u2026:1 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    Socket.endnet.js:422  \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.TextBuffer.nextNonBlankRowC:\\Users\\happy\\\u2026\\lib\\text-b\u2026:1 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    emitReadable__stream_readable.js:430  \n0\u2009ms0\u2009% 8.6\u2009ms0.16\u2009%    (anonymous function)buffered-process.coffee:112 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Buffer.toStringbuffer.js:495  \n0\u2009ms0\u2009% 6.0\u2009ms0.11\u2009%    getCurrentKeymapC:\\Users\\happy\\\u2026out\\lib\\ke\u2026:13\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.DOMElementPool.buildTextdom-element-pool.coffee:31 \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    module.exports.ApplicationDelegate.getCurrentWindowapplication-delegate.coffee:19 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getTextEditorScrollRatiominimap.js:529\n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    copyToOffscreencanvas-layer.js:63 \n0\u2009ms0\u2009% 3.9\u2009ms0.07\u2009%    clearCanvascanvas-layer.js:79 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)linter.coffee:101 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    View.pushStackC:\\Users\\happy\\\u2026ace-pen.js:239  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026jquery.js:9112\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    winnowC:\\Users\\happy\\\u2026jquery.js:2634  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    Module.resolveFilenamemodule.js:441  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    Serialization.Patch.endPatchC:\\Users\\happy\\\u2026st\\serial\u2026:309\n0\u2009ms0\u2009% 2.3\u2009ms0.04\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ist\\serial\u2026:49\n0\u2009ms0\u2009% 16.6\u2009ms0.30\u2009%   exports.forkchild_process.js:19 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.Task.ontask.coffee:146 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    _subtypeVM1637:102\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.MarkerLayer.addMarkerC:\\Users\\happy\\\u2026\\lib\\marker\u2026:1\n0\u2009ms0\u2009% 3.7\u2009ms0.07\u2009%    module.exports.Task.sendtask.coffee:133 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Disposable.disposeC:\\Users\\happy\\\u2026b\\disposab\u2026:20 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    messagesvalidate.coffee:22\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.MarkerLayer.markerUpdatedC:\\Users\\happy\\\u2026ib\\marker\u2026:340\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.MarkerLayer.setMarkerRangeC:\\Users\\happy\\\u2026ib\\marker\u2026:371 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.ScopedPropertyStore.getAllC:\\Users\\happy\\\u2026rty-store\\\u2026:89 \n0\u2009ms0\u2009% 3.0\u2009ms0.06\u2009%    module.exports.TextBuffer.backwardsScanInRangeC:\\Users\\happy\\\u2026ib\\text-b\u2026:997  \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    fs.statSyncNoExceptionfs.js:995 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.GitDiffView.removeDecorationsgit-diff-view.coffee:119  \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.GitDiffView.addDecorationsgit-diff-view.coffee:107 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    module.exports.TextEditor.scanInBufferRangetext-editor.coffee:2803\n0\u2009ms0\u2009% 21.7\u2009ms0.40\u2009%   (anonymous function)C:\\Users\\happy\\\u2026p\\index.js:342\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.ColorProject.getGlobalIgnoredNamescolor-project.coffee:578 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.PaneContainer.serializepane-container.coffee:27\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Workspace.getPackageNamesWithActiveGrammarsworkspace.coffee:112\n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    module.exports.ApplicationDelegate.isWindowFullScreenapplication-delegate.coffee:75 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    onSocketFinishnet.js:204  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    tempFilesC:\\Users\\happy\\\u2026b\\index.js:114 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    expandTopC:\\Users\\happy\\\u2026on\\index.js:65 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    getPageXYC:\\Users\\happy\\\u2026\\interact.js:1 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Config.onDidChangeconfig.coffee:467\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)linter.coffee:38  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.Selection.isEmptyselection.coffee:126  \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.Task.terminatetask.coffee:156  \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    Transaction.groupWithC:\\Users\\happy\\\u2026lib\\histor\u2026:43 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextBuffer.scheduleDidStopChangingEventC:\\Users\\happy\\\u2026b\\text-b\u2026:1419  \n0\u2009ms0\u2009% 20.6\u2009ms0.38\u2009%   module.exports.MarkerLayer.emitChangeEventsC:\\Users\\happy\\\u2026ib\\marker\u2026:289 \n0\u2009ms0\u2009% 47.4\u2009ms0.87\u2009%   (anonymous function)text-editor.coffee:1051 \n0\u2009ms0\u2009% 3.5\u2009ms0.06\u2009%    (anonymous function)text-editor.coffee:2087 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditor.emitWillInsertTextEventtext-editor.coffee:3687  \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    emitTwoevents.js:104  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.ViewRegistry.readDocumentview-registry.coffee:214  \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.DisplayMarker.getHeadBufferPositionC:\\Users\\happy\\\u2026ib\\displa\u2026:141  \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    (anonymous function)linter.coffee:97  \n0\u2009ms0\u2009% 5.8\u2009ms0.11\u2009%    setCurrentNodeC:\\Users\\happy\\\u2026ex\\dist\\scr\u2026:1  \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    module.exports.ViewRegistry.requestDocumentUpdateview-registry.coffee:1 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    checkForVisibilityChangeminimap-element.js:934\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Socket.destroySoonnet.js:448  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    emitReadable_stream_readable.js:417 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    utf8Textstring_decoder.js:198 \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    module.exports.AtomEnvironment.getCurrentWindowatom-environment.coffee:520\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    updateCountsC:\\Users\\happy\\\u2026ter-views.js:1\n0\u2009ms0\u2009% 6.0\u2009ms0.11\u2009%    module.exports.Selection.clearselection.coffee:176\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    cssC:\\Users\\happy\\\u2026jquery.js:6010 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    jQuery.filterC:\\Users\\happy\\\u2026jquery.js:2663 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getCapedTextEditorScrollRatioC:\\Users\\happy\\\u2026b\\minimap.js:1 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    Serialization.Change.addOldExtentC:\\Users\\happy\\\u2026st\\serial\u2026:179 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Serialization.Point.createPointC:\\Users\\happy\\\u2026ist\\serial\u2026:56 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    flatbuffers.Builder.createStringC:\\Users\\happy\\\u2026ndor\\flat\u2026:706\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    computeScrollTopstable-adapter.js:54  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getScreenHeightminimap.js:584 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.SuggestionList.changeItemssuggestion-list.coffee:208 \n0\u2009ms0\u2009% 16.4\u2009ms0.30\u2009%   (anonymous function)C:\\Users\\happy\\\u2026jquery.js:5206\n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    _cleanupCallbackC:\\Users\\happy\\\u2026lib\\tmp.js:424\n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:266\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Readable_stream_readable.js:104 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Socket._readnet.js:405\n0\u2009ms0\u2009% 8.6\u2009ms0.16\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\index.js:23\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    Module._resolveFilenameC:\\Users\\happy\\\u2026ch-paths.js:31 \n0\u2009ms0\u2009% 19.0\u2009ms0.35\u2009%   Tasktask.coffee:66\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\semver.js:933\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:143\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.Task.oncetask.coffee:148 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Config.onDidChangeKeyPathconfig.coffee:940 \n0\u2009ms0\u2009% 3.7\u2009ms0.07\u2009%    module.exports.Task.starttask.coffee:116  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    exports.normalizeKeystrokesC:\\Users\\happy\\\u2026lib\\helper\u2026:76 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    ChildProcess.killinternal/child_process.js:363\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getWordRegexpC:\\Users\\happy\\\u2026\\helpers.js:40 \n0\u2009ms0\u2009% 20.6\u2009ms0.38\u2009%   (anonymous function)C:\\Users\\happy\\\u2026ib\\marker\u2026:290\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    PatchC:\\Users\\happy\\\u2026ist\\patch.\u2026:93 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    setmessage-registry.js:31 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    fs.statSyncNoExceptionELECTRON_ASAR.js:296\n0\u2009ms0\u2009% 12.5\u2009ms0.23\u2009%   module.exports.GitDiffView.updateDiffsgit-diff-view.coffee:99 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Patch.changesC:\\Users\\happy\\\u2026ib\\patch.\u2026:571\n0\u2009ms0\u2009% 23.6\u2009ms0.43\u2009%   module.exports.Marker.emitChangeEventC:\\Users\\happy\\\u2026ib\\marker\u2026:398 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    onceevents.js:293 \n0\u2009ms0\u2009% 16.4\u2009ms0.30\u2009%   module.exports.BufferSearch.setCurrentMarkerFromSelectionbuffer-search.coffee:179 \n0\u2009ms0\u2009% 21.7\u2009ms0.40\u2009%   emitManyevents.js:125 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    maybeCloseinternal/child_process.js:873 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.ColorProject.getIgnoredNamescolor-project.coffee:571 \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    minimatchC:\\Users\\happy\\\u2026nimatch.js:114 \n0\u2009ms0\u2009% 4.6\u2009ms0.08\u2009%    module.exports.Project.serializeproject.coffee:70 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.Workspace.serializeworkspace.coffee:99 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    translateScreenPositionC:\\Users\\happy\\\u2026ex\\dist\\tok\u2026:1 \n0\u2009ms0\u2009% 2.3\u2009ms0.04\u2009%    module.exports.PackageManager.serializepackage-manager.coffee:496 \n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    module.exports.AtomEnvironment.isFullScreenatom-environment.coffee:556\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    setCountC:\\Users\\happy\\\u2026container.js:1\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getC:\\Users\\happy\\\u2026jquery.js:6046 \n0\u2009ms0\u2009% 2.3\u2009ms0.04\u2009%    SuggestionListElement.returnItemsToPoolsuggestion-list\u2026ent.coffee:222 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.startBlinkingCursorstext-editor-pre\u2026er.coffee:1390 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    flatbuffers.Builder.addFieldStructC:\\Users\\happy\\\u2026ndor\\flat\u2026:465  \n0\u2009ms0\u2009% 3.7\u2009ms0.07\u2009%    module.exports.TextEditor.moveCursorstext-editor.coffee:2248  \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    flatbuffers.Builder.startVectorC:\\Users\\happy\\\u2026ndor\\flat\u2026:679 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.Cursor.getBufferPositioncursor.coffee:1\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    return\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    onSocketEndnet.js:254 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    onEofChunk_stream_readable.js:399 \n0\u2009ms0\u2009% 12.9\u2009ms0.24\u2009%   eachC:\\Users\\happy\\\u2026\\jquery.js:138\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    StringDecoder.writestring_decoder.js:70 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    Streamstream.js:22\n0\u2009ms0\u2009% 7.6\u2009ms0.14\u2009%    module.exports.KeymapManager.keystrokeForKeyboardEventC:\\Users\\happy\\\u2026ib\\keymap\u2026:432  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.KeymapManager.findExactMatchesC:\\Users\\happy\\\u2026ib\\keymap\u2026:525 \n0\u2009ms0\u2009% 5.5\u2009ms0.10\u2009%    module.exports.AtomEnvironment.getWindowDimensionsatom-environment.coffee:589 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getScrollTopFromEditorC:\\Users\\happy\\\u2026b\\minimap.js:1  \n0\u2009ms0\u2009% 206.4\u2009ms3.78\u2009%  updateTokensLayercanvas-drawer.js:133 \n0\u2009ms0\u2009% 6.0\u2009ms0.11\u2009%    updateBackDecorationsLayercanvas-drawer.js:147\n0\u2009ms0\u2009% 5.1\u2009ms0.09\u2009%    updateFrontDecorationsLayercanvas-drawer.js:161 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    getScrollTopstable-adapter.js:42  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getMaxScrollTopC:\\Users\\happy\\\u2026b\\minimap.js:1 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:143\n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    module.exports.TextEditor.getTextInRangetext-editor.coffee:994\n0\u2009ms0\u2009% 7.6\u2009ms0.14\u2009%    module.exports.AutocompleteManager.showSuggestionListautocomplete-ma\u2026ger.coffee:372 \n0\u2009ms0\u2009% 9.7\u2009ms0.18\u2009%    (anonymous function)C:\\Users\\happy\\\u2026lib\\index.js:4\n0\u2009ms0\u2009% 3.9\u2009ms0.07\u2009%    (anonymous function)bracket-matcher-view.coffee:30\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    Module._resolveFilenamemodule-cache.coffee:270\n0\u2009ms0\u2009% 23.1\u2009ms0.42\u2009%   module.exports.Task.oncetask.coffee:48\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    createNamedRegexC:\\Users\\happy\\\u2026-regexp.js:108\n0\u2009ms0\u2009% 37.7\u2009ms0.69\u2009%   module.exports.TextBuffer.setTextInRangeC:\\Users\\happy\\\u2026ib\\text-b\u2026:591\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    rangeFromLineNumberC:\\Users\\happy\\\u2026b\\index.js:148 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    Readable.on_stream_readable.js:686\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)linter.coffee:36  \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    existsSyncC:\\Users\\happy\\\u2026\\fs-plus.js:90  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    flatbuffers.Builder.nestedC:\\Users\\happy\\\u2026ndor\\flat\u2026:479  \n0\u2009ms0\u2009% 12.5\u2009ms0.23\u2009%   (anonymous function)git-diff-view.coffee:1\n0\u2009ms0\u2009% 12.9\u2009ms0.24\u2009%   eachC:\\Users\\happy\\\u2026\\jquery.js:345\n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    getSpawnOptionsC:\\Users\\happy\\\u2026\\helpers.js:41 \n0\u2009ms0\u2009% 4.4\u2009ms0.08\u2009%    module.exports.BufferSearch.bufferStoppedChangingbuffer-search.coffee:121 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)symbol-provider.coffee:98 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)color-buffer.coffee:36\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    fs.mkdirELECTRON_ASAR.js:648  \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    Buffer.frombuffer.js:86 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    writeAllfs.js:1261\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)internal/child_process.js:333 \n0\u2009ms0\u2009% 4.4\u2009ms0.08\u2009%    module.exports.BracketMatcherView.updateMatchbracket-matcher-view.coffee:76 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.ColorProject.isIgnoredPathcolor-project.coffee:392 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    module.exports.ColorProject.isVariablesSourcePathcolor-project.coffee:383 \n0\u2009ms0\u2009% 9.9\u2009ms0.18\u2009%    module.exports.AtomEnvironment.serializeatom-environment.coffee:713 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    setEventXYC:\\Users\\happy\\\u2026\\interact.js:1  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    isElementC:\\Users\\happy\\\u2026nteract.js:533 \n0\u2009ms0\u2009% 12.0\u2009ms0.22\u2009%   (anonymous function)git-repository.coffee:476 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.setFocusedtext-editor-pre\u2026ter.coffee:802 \n0\u2009ms0\u2009% 3.7\u2009ms0.07\u2009%    module.exports.TextEditor.setCursorScreenPositiontext-editor.coffee:2076  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorComponent.requestAnimationFrametext-editor-com\u2026ent.coffee:231\n0\u2009ms0\u2009% 83.0\u2009ms1.52\u2009%   module.exports.TextEditor.mergeIntersectingSelectionstext-editor.coffee:2677  \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    process.nextTickinternal/child_process.js:743 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    (anonymous function)decoration-manager.coffee:137 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)color-buffer.coffee:161 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\helpers.js:71\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)color-buffer.coffee:341 \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.TextEditor.getCursorBufferPositiontext-editor.coffee:2025  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.AutocompleteManager.cancelHideSuggestionListRequestautocomplete-ma\u2026ger.coffee:387  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.BracketMatcherView.findCurrentPairbracket-matcher\u2026iew.coffee:192 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.Range.containsPointC:\\Users\\happy\\\u2026ib\\range.\u2026:222  \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    module.exports.TextEditor.isFoldedAtCursorRowtext-editor.coffee:3269  \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    (anonymous function)minimap-element.js:347\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    emitNoneevents.js:84  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.LanguageMode.decreaseIndentRegexForScopeDescriptorlanguage-mode.coffee:346 \n0\u2009ms0\u2009% 5.8\u2009ms0.11\u2009%    module.exports.AtomEnvironment.storeWindowDimensionsatom-environment.coffee:622 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.SpanSkipList.spliceArrayC:\\Users\\happy\\\u2026st\\lib\\spa\u2026:53 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getScrollTopminimap.js:816\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    getTextEditorScaledScrollTopminimap.js:464\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    canScrollminimap.js:883 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    clearCacheminimap.js:951  \n0\u2009ms0\u2009% 6.5\u2009ms0.12\u2009%    module.exports.Cursor.getScopeDescriptorcursor.coffee:188 \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    require.resolveC:\\Users\\happy\\\u2026le-cache.js:52 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\helpers.js:71\n0\u2009ms0\u2009% 11.1\u2009ms0.20\u2009%   (anonymous function)color-buffer.coffee:424 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    parseC:\\Users\\happy\\\u2026b\\index.js:271 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.File.existsSyncC:\\Users\\happy\\\u2026ode_modul\u2026:152  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    _tmpNameCreatedC:\\Users\\happy\\\u2026lib\\tmp.js:326 \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.TagFinder.isCursorOnTagtag-finder.coffee:28\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TextEditor.getCursorScreenPositiontext-editor.coffee:2059  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TextEditor.isFoldedAtScreenRowtext-editor.coffee:3285  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditor.getDecreaseIndentPatterntext-editor.coffee:3464 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    writeFdfs.js:1321 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ceful-fs.js:37\n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ib\\text-b\u2026:728\n0\u2009ms0\u2009% 8.6\u2009ms0.16\u2009%    module.exports.DisplayLayer.bufferDidChangeC:\\Users\\happy\\\u2026ib\\displa\u2026:373 \n0\u2009ms0\u2009% 10.9\u2009ms0.20\u2009%   (anonymous function)C:\\Users\\happy\\\u2026ib\\text-b\u2026:717\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.ColorBuffer.isIgnoredcolor-buffer.coffee:180 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getTempDirectoryC:\\Users\\happy\\\u2026\\helpers.js:48\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditor.isFoldedAtBufferRowtext-editor.coffee:3277  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditor.bufferRowForScreenRowtext-editor.coffee:962 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getDecreaseIndentPatterntext-editor-registry.js:405 \n0\u2009ms0\u2009% 1.4\u2009ms0.03\u2009%    module.exports.ColorBuffer.isVariablesSourcecolor-buffer.coffee:178 \n0\u2009ms0\u2009% 10.2\u2009ms0.19\u2009%   (anonymous function)atom-environment.coffee:863 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    module.exports.DisplayLayer.emitDidChangeSyncEventC:\\Users\\happy\\\u2026ib\\displa\u2026:365  \n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    pointerUpC:\\Users\\happy\\\u2026teract.js:2182 \n0\u2009ms0\u2009% 3.0\u2009ms0.06\u2009%    requestUpdateFramehelpers.coffee:18 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.DisplayLayer.spliceDisplayIndexC:\\Users\\happy\\\u2026ib\\displa\u2026:403  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.DisplayLayer.expandBufferRangeToLineBoundariesC:\\Users\\happy\\\u2026ib\\displa\u2026:496 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    updatePublicmessage-registry.js:55\n0\u2009ms0\u2009% 10.9\u2009ms0.20\u2009%   module.exports.TokenizedBuffer.bufferDidChangetokenized-buffer.coffee:185 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\helpers.js:49\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.DisplayLayer.foldsIntersectingBufferRangeC:\\Users\\happy\\\u2026ib\\displa\u2026:302\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.DisplayMarker.getTailBufferPositionC:\\Users\\happy\\\u2026ib\\displa\u2026:157  \n0\u2009ms0\u2009% 11.8\u2009ms0.22\u2009%   module.exports.ViewRegistry.requestDocumentPollview-registry.coffee:275 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    spliceC:\\Users\\happy\\\u2026x\\dist\\dis\u2026:61  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.GitRepository.refreshIndexgit-repository.coffee:1  \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.DisplayLayer.whitespaceLengthForEmptyBufferRowC:\\Users\\happy\\\u2026ib\\displa\u2026:956 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)text-editor-com\u2026ent.coffee:650\n0\u2009ms0\u2009% 2.5\u2009ms0.05\u2009%    (anonymous function)editor-linter.js:85 \n0\u2009ms0\u2009% 10.2\u2009ms0.19\u2009%   Readable.push_stream_readable.js:123  \n0\u2009ms0\u2009% 9.5\u2009ms0.17\u2009%    module.exports.TokenizedBuffer.buildTokenizedLinesForRowstokenized-buffer.coffee:243  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _createTmpDirC:\\Users\\happy\\\u2026lib\\tmp.js:319 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.DisplayLayer.findFoldMarkersC:\\Users\\happy\\\u2026ib\\displa\u2026:312 \n0\u2009ms0\u2009% 4.2\u2009ms0.08\u2009%    module.exports.Patch.spliceC:\\Users\\happy\\\u2026ib\\patch.\u2026:556 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    maybeDestroynet.js:437\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    bubbleNodeDownC:\\Users\\happy\\\u2026\\dist\\dis\u2026:165  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    bubbleNodeUpC:\\Users\\happy\\\u2026\\dist\\dis\u2026:154\n0\u2009ms0\u2009% 4.4\u2009ms0.08\u2009%    stepC:\\Users\\happy\\\u2026b\\index.js:143\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    descendRightC:\\Users\\happy\\\u2026st\\iterat\u2026:293\n0\u2009ms0\u2009% 9.5\u2009ms0.17\u2009%    (anonymous function)tokenized-buffer.coffee:247 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.requestAutoscrolltext-editor-pre\u2026er.coffee:1415\n0\u2009ms0\u2009% 21.5\u2009ms0.39\u2009%   (anonymous function)selection.coffee:24 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.asyncC:\\Users\\happy\\\u2026ib\\index.js:32\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _getTmpNameC:\\Users\\happy\\\u2026lib\\tmp.js:143 \n0\u2009ms0\u2009% 2.1\u2009ms0.04\u2009%    (anonymous function)text-editor.coffee:394\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    RegionIterator.seekC:\\Users\\happy\\\u2026ib\\patch.\u2026:237 \n0\u2009ms0\u2009% 3.7\u2009ms0.07\u2009%    RegionIterator.spliceC:\\Users\\happy\\\u2026ib\\patch.\u2026:335 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Patch.regionsC:\\Users\\happy\\\u2026ib\\patch.\u2026:567\n0\u2009ms0\u2009% 9.7\u2009ms0.18\u2009%    stepC:\\Users\\happy\\\u2026b\\index.js:113\n0\u2009ms0\u2009% 13.2\u2009ms0.24\u2009%   module.exports.ColorBuffer.scanBufferForColorscolor-buffer.coffee:386 \n0\u2009ms0\u2009% 2.8\u2009ms0.05\u2009%    (anonymous function)C:\\Users\\happy\\\u2026eq\\index.js:19\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)main.js:134 \n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.TextBuffer.isModifiedC:\\Users\\happy\\\u2026ib\\text-b\u2026:343\n0\u2009ms0\u2009% 9.0\u2009ms0.17\u2009%    module.exports.TokenizedBuffer.buildTokenizedLineForRowtokenized-buffer.coffee:277\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)C:\\Users\\happy\\\u2026lib\\tmp.js:160\n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    (anonymous function)fs.js:1313\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _getUniqueNameC:\\Users\\happy\\\u2026lib\\tmp.js:156  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)C:\\Users\\happy\\\u2026ceful-fs.js:38\n0\u2009ms0\u2009% 25.4\u2009ms0.47\u2009%   Socket._flushReadsC:\\Users\\happy\\\u2026b\\index.js:667  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)atom-environment.coffee:241 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    RegionIterator.getInputPositionC:\\Users\\happy\\\u2026ib\\patch.\u2026:354 \n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    RegionIterator.insertC:\\Users\\happy\\\u2026ib\\patch.\u2026:450 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)fs.js:1265\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    .isEqualC:\\Users\\happy\\\u2026derscore.\u2026:995 \n0\u2009ms0\u2009% 9.0\u2009ms0.17\u2009%    module.exports.TokenizedBuffer.buildTokenizedLineForRowWithTexttokenized-buffer.coffee:280\n0\u2009ms0\u2009% 18.3\u2009ms0.33\u2009%   module.exports.TextEditor.selectionRangeChangedtext-editor.coffee:2762\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.Selection.getScreenRangeselection.coffee:64\n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.TextEditor.cursorMovedtext-editor.coffee:2252  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _generateTmpNameC:\\Users\\happy\\\u2026lib\\tmp.js:115\n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    module.exports.ColorBuffer.updatecolor-buffer.coffee:149  \n0\u2009ms0\u2009% 10.2\u2009ms0.19\u2009%   module.exports.AtomEnvironment.saveStateatom-environment.coffee:862 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    NodeC:\\Users\\happy\\\u2026lib\\patch.\u2026:18\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    autosavePaneItemautosave.coffee:29\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    autosaveAllPaneItemsautosave.coffee:41\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _randomCharsC:\\Users\\happy\\\u2026\\lib\\tmp.js:56\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    (anonymous function)minimap.js:234\n0\u2009ms0\u2009% 1.6\u2009ms0.03\u2009%    (anonymous function)helpers.coffee:22 \n0\u2009ms0\u2009% 12.7\u2009ms0.23\u2009%   (anonymous function)git-repository.coffee:88  \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    elemData.handleC:\\Users\\happy\\\u2026jquery.js:4117 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    (anonymous function)text-editor-pre\u2026er.coffee:1364\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)bracket-matcher-view.coffee:68\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    emitChangesminimap.js:936 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.Scanner.handleMatchC:\\Users\\happy\\\u2026ib\\scanner\u2026:64  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    TextEditorElement.focusedtext-editor-element.coffee:138 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)editor-linter.js:32 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditorPresenter.pauseCursorBlinkingtext-editor-presenter.coffee:1  \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    (anonymous function)selection-count-view.coffee:29\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    onMouseMovetext-editor-com\u2026ent.coffee:661 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)color-buffer-element.coffee:66\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)cursor-position-view.coffee:36\n0\u2009ms0\u2009% 21.5\u2009ms0.39\u2009%   _tickCallbackinternal/proces\u2026ext_tick.js:87 \n0\u2009ms0\u2009% 4.6\u2009ms0.08\u2009%    (anonymous function)helpers.coffee:24 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)text-editor-com\u2026ent.coffee:233\n0\u2009ms0\u2009% 1.2\u2009ms0.02\u2009%    module.exports.ScopeSelector.matchesC:\\Users\\happy\\\u2026ib\\scope-s\u2026:11\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    module.exports.TextEditorPresenter.toggleCursorBlinktext-editor-pre\u2026er.coffee:1404\n0\u2009ms0\u2009% 5.1\u2009ms0.09\u2009%    module.exports.Scanner.findNextMatchC:\\Users\\happy\\\u2026ib\\scanner\u2026:54\n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    module.exports.TextEditor.getSelectedBufferRangetext-editor.coffee:2288 \n0\u2009ms0\u2009% 32.1\u2009ms0.59\u2009%   (anonymous function)window-event-handler.coffee:1 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.TextEditorPresenter.stopBlinkingCursorstext-editor-presenter.coffee:1  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    ColorBufferElement.requestSelectionUpdatecolor-buffer-element.coffee:1\n0\u2009ms0\u2009% 4.2\u2009ms0.08\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:143\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    module.exports.Pattern.tagsForCaptureIndicesC:\\Users\\happy\\\u2026b\\pattern\u2026:286\n0\u2009ms0\u2009% 3.2\u2009ms0.06\u2009%    (anonymous function)C:\\Users\\happy\\\u2026\\helpers.js:71\n0\u2009ms0\u2009% 8.6\u2009ms0.16\u2009%    (anonymous function)C:\\Users\\happy\\\u2026b\\index.js:113\n0\u2009ms0\u2009% 0.9\u2009ms0.02\u2009%    (anonymous function)main.js:123 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.TextEditor.getSelectedTexttext-editor.coffee:2281  \n0\u2009ms0\u2009% 19.4\u2009ms0.36\u2009%   (anonymous function)C:\\Users\\happy\\\u2026b\\text-b\u2026:1423\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    (anonymous function)minimap-element.js:724\n0\u2009ms0\u2009% 2.8\u2009ms0.05\u2009%    (anonymous function)fs.js:122 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)color-buffer-el\u2026ent.coffee:483\n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    module.exports.Selection.getTextselection.coffee:141  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    (anonymous function)linter.coffee:95  \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    _handle.closenet.js:491 \n0\u2009ms0\u2009% 0.7\u2009ms0.01\u2009%    requestUpdateminimap-element.js:786 \n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    wrapperfs.js:745  \n0\u2009ms0\u2009% 1.8\u2009ms0.03\u2009%    (anonymous function)color-buffer.coffee:41\n0\u2009ms0\u2009% 0.2\u2009ms0.00\u2009%    getAllC:\\Users\\happy\\\u2026jquery.js:5018  \n0\u2009ms0\u2009% 10.2\u2009ms0.19\u2009%   (anonymous function)atom-environment.coffee:242 \n0\u2009ms0\u2009% 0.5\u2009ms0.01\u2009%    (anonymous function)\n```. @n-riesco \n\nBy the way, Hydrogen already provides a command to shutdown a kernel: Hydrogen: Shutdown Kernel.\n\nOk ,thanks,I will try it.. > By the way, Hydrogen already provides a command to shutdown a kernel: Hydrogen: Shutdown Kernel.\nHydrogen:Shutdown Kernel is usable,If it can Bind the any letter typed-trigger,this question will be solved in my assumptions .\nIn Windows OS,set up or off on the setting pane will be more efficient.\nThanks a lot.\n. OK,I will study and deeply dig this problem,thanks. ",
    "valmormn": "vscodeJupyter is far behind hydrogen as a tool.. ",
    "joolius": "vscodeJupyter didn't have updates for a year, and yes, it doesn't come even close to Hydrogen.\nAtom has been unusable for people behind corporate proxies for like a year now and devs don't care. I doubt that things are going to get better for Atom now that Microsoft has bought github. Its two editors targeting the same audience and they're even built using the same framework. I love Atom, but what I would love even more is to see Hydrogen on VS Code.. @jflam ,  I think it looks promising, but in my view demarcating cells with \"#%%\" is a hassle. In Hydrogen I either run code line by line or select a block of code and run it. Results then appear either in the output window (\"Python Interactive\" in VS Code Python extension), or right after a Line/Block of code in the editor itself.\nIs there a way to Run Selection/Line with Jupyter? I only see an option to send it to the terminal\n\n. @ronglums, it could be any key. My comment was rather there appears to be no command to Run Selection/Line in Jupyter.  There is a Run Cell command, but that is different as it executes whatever is between \"#%%\" tags, and I want to execute only a single line (or selection) in Jupyter. Do you know what I mean? :-). Unfortunately this bug persists. I use Hydrogen with MagicPython. Autocomplete only works when I enable language-python. Could you please take a look into this again? Thank you.. +1. . ",
    "jflam": "Hi Folks, you should try our Python extension for VS Code - it has the beginnings of what we call the \u201cPython Interactive Window\u201d which you can think of as an editor-centric way of interacting with Jupyter, i.e., we\u2019re not just dropping Jupyter into a web view tab in VS Code. \nExtension: https://marketplace.visualstudio.com/items?itemName=ms-python.python\nDocs: https://code.visualstudio.com/docs/languages/python\nPlease let me know what you think!. @joolius totally agree. Look for that to be fixed in our next update. @ronglums - another data point :)\n@rgbkrk great question. We thought about making this a general purpose thing (by having it installed as its own extension), but voted to put it first in the Python extension and then evaluate feedback about wanting other languages. This is totally a \"let's focus the team on a singular goal\" decision.. ",
    "ronglums": "@joolius, this is definitely on our list to resolve. The challenge, however, is that Shift+Enter used to run code in Python Terminal exclusively, and it may not be desirable to non-data science users if we were to take it over to run code in the Python Interactive window. Perhaps a user setting to toggle b/w the two? Would love to hear suggestions! . @joolius, yes I do! :) We'll add that shortly.. @neo-anderson , thanks for the detailed notes! This is very helpful. :)\nWe have just added in the VS Code Python extension the ability to run any code selection (with or without %##) in the Interactive window. It's not released yet, but you can try out our insiders build.\nInline output display isn't feasible with the current VS Code UI, but we've looked into this and have an idea for how to enable it. \nSource markdown scenario makes a lot of sense. It is not something we've closely looked at, but will keep in mind down the road.\nRegarding the \"maximize editor group\" behavior, sounds like this issue: https://github.com/Microsoft/vscode/issues/62083. Please vote on it! :). @neo-anderson , not sure why the insiders doesn't work for you. :( @IanMatthewHuff @rchiodo, any thoughts?\n@BenRussert , yes, inline results in the code editor. This requires changes in VS Code core.. ",
    "neo-anderson": "@ronglums \nThere are many reasons why Jupyter+Hydrogen+pweave+Atom setup works well for me as a data scientist. It makes it possible to recreate the RMarkdown workflow for python along with the advantages of the powerful Atom editor.\n- The source file is a plain markdown file with code blocks denoted using `` string, which is consistent with the standard markdown syntax. This means that I can preview the markdown file in any markdown preview application without making any changes.\n- You can run entire code blocks or select the statements to run and execute the selection only. This is a huge time saver when compared to the Jupyter notebook way of creating blocks even for running a single statement. For example, if I quickly want to see the shape of a dataframe, I can just typedf.shape` inside the code block, run it (Cmd+Enter/Shfit+Enter) and delete it after seeing the result.\n- Inline output display. The output from Jupyter is displayed as a frame/bubble under the statement that was run. Clicking this frame would copy the result into the clipboard. Handy.\n- If I feed the source markdown file into pweave, I can export it into a pdf/html/md file with the output of the code blocks inserted. This feature is a recreation of the knitr+Sweave feature in R Studio.  Extremely useful for creating reports. This is one of the main reasons I switched to Atom. I use pweave to create a markdown file with code blocks replaced with the output from Jupyter and then I use pandoc to convert it into a pdf using themes/templates. It offers a lot of customization options for each code block too. For example, hide/show the code block in the exported report, hide/show the output results in the report, skip evaluation of code blocks, etc. Examples: echo=False, eval=True, results=\"hidden\"\n- Ability to maximize the code and markdown preview tabs and quickly switch between them using shortcut keys. \"Maximize editor group\" feature in VS Code will not maximize the tab to the full width of the window for some reason.\nI am so excited to see the new update to the Python extension in VS Code. If the above features can be added to VS Code or even improved upon, data scientists will be able to use VS Code to efficiently perform their tasks.\nSample source file:\n```\nTitle\nHello world! This is a simple markdown file.\npython echo=False\nprint(\"Run this code block using hydrogen. If you use pweave to export this file, this code block would not be exported because echo parameter is set to False for this block.\"). @BenRussert Is it possible to use the interactive window of VS Code to display the output from Hydrogen? Are there other issues blocking the port?\nThanks for the response, @ronglums. Excited to hear the progress.\nUnfortunately, I couldn't get the insiders build to work. I installed the extension and I tried running some code. But the Interactive window only shows \"/Users/aswinraj/.vscode/extensions/ms-python.python-2019.2.5135-alpha/out/datascience-ui/history-react/index_bundle.js is not a valid file name\". Not sure how to fix it. \nGood to know that you're thinking about inline output and markdown source. That would totally fit the data science workflow popularized by R Markdown.\n. I don't see kernelspecs on the settings page either. . ",
    "NavyAdmiral": "@BenRussert Actually with https://github.com/Microsoft/vscode/pull/66418 merged, vscode's exposed API should be enough now. ",
    "Naxane": "\nSide note: Any updates on #457?\n\ni no longer get that error\n. npm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nI am still receiving this error\nWhen doing apm --version i get\n$ apm --version\napm  1.12.5\nnpm  3.10.5\nnode 4.4.5\npython 2.7.2\ngit 1.9.4.msysgit.2\nvisual studio 2015\nCan anyone help?\ni have attempted to switch it from VS2015 to VS2013 but it still shows VS2015 i have rebooted my machine too.\n. I am using git bash\n. apm install hydrogen --msvs_version=2013 returns the same error\n. Installing hydrogen to C:\\Users\\Conor.atom\\packages failed\n\nzmq@2.15.3 install C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116828-6656-58su2k\\node_modules\\Hydrogen\\node_modules\\zmq\nnode-gyp rebuild\n\nC:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116828-6656-58su2k\\node_modules\\Hydrogen\\node_modules\\zmq>if not defined npm_config_node_gyp (node \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"\" rebuild )\nC:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116828-6656-58su2k\n`-- (empty)\nmodule.js:327\n    throw err;\n    ^\nError: Cannot find module 'c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js'\n    at Function.Module._resolveFilename (module.js:325:15)\n    at Function.Module._load (module.js:276:25)\n    at Function.Module.runMain (module.js:441:10)\n    at startup (node.js:139:18)\n    at node.js:968:3\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116828-6656-58su2k\\package.json'\nnpm WARN apm-install-dir-116828-6656-58su2k No description\nnpm WARN apm-install-dir-116828-6656-58su2k No repository field.\nnpm WARN apm-install-dir-116828-6656-58su2k No README data\nnpm WARN apm-install-dir-116828-6656-58su2k No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe\" \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Conor.atom.apm.apmrc\" \"--userconfig\" \"C:\\Users\\Conor.atom.apmrc\" \"install\" \"C:\\Users\\Conor\\AppData\\Local\\Temp\\d-116828-6656-1k0m7hx\\package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2013\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116828-6656-58su2k\\npm-debug.log\nnpm ERR! code 1\nno luck yet again ;-;\n. I have updated stuff in the hopes it works:\nCurrent:\n$ apm --version\napm  1.12.5\nnpm  3.10.5\nnode 4.4.5\npython 2.7.2\ngit 2.10.0.windows.1\nvisual studio 2015\nThis is what the trouble shooting guide says i need:\napm  1.12.5\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.8.1.windows.1\nvisual studio 2015\nim really running out of ideas, ;-;\n. installing hydrogen for atom through the apm command on cmd does not work\neither, i get the same code, i doubt its a problem with gitbash then\nOn Thu, Sep 29, 2016 at 10:16 AM, Nicolas Riesco notifications@github.com\nwrote:\n\nOn 28/09/16 17:44, Naxane wrote:\n\nI am using git bash\n\nDoes the installation work when you run Atom from cmd.exe?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/458#issuecomment-250413554,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AGtN7J-VBzfDqF0H7smcl5-IfXm2CCZDks5qu4HZgaJpZM4KINAr\n.\n. i attempted to install term3, and got the same error relating to node-gyp rebuild\nnpm ERR! ptyw.js@0.4.1 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the ptyw.js@0.4.1 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the ptyw.js package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs ptyw.js\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls ptyw.js\nnpm ERR! There is likely additional logging output above.\n. - node-gyp rebuild fails - True\n- Python 2.7 is installed and accessible by Atom - True\n- Visual Studio 2015 is installed and accessible by Atom - True\n- Are there any other versions of Visual Studio also installed? - 2015 and 2013 versions are both installed, 2015 is seen as the one accessible by Atom\n- One of the log messages complains about a missing file: c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\n\n. ive installed C# and C++ in VS2015\nuninstalled hydrogen, which returned an error because it doesnt exist, and the reinstalled it, which raised an error:\nConor@CONOR-PC /c/Sites\n$ apm install hydrogen\nInstalling hydrogen to C:\\Users\\Conor.atom\\packages failed\nzmq@2.15.3 install C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-11920-vuakbm\\node_modules\\Hydrogen\\node_modules\\zmq\nnode-gyp rebuild\n\nC:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-11920-vuakbm\n`-- (empty)\ngyp ERR! configure error\ngyp ERR! stack Error: Python executable \"c:\\Users\\Conor\\AppData\\Local\\Programs\\Python\\Python35-32\\python.EXE\" is v3.5.2, which is not supported by gyp.\ngyp ERR! stack You can pass the --python switch to point to Python >= v2.5.0 & < 3.0.0.\ngyp ERR! stack     at failPythonVersion (c:\\Users\\Conor\\AppData\\Roaming\\npm\\node_modules\\node-gyp\\lib\\configure.js:454:14)\ngyp ERR! stack     at c:\\Users\\Conor\\AppData\\Roaming\\npm\\node_modules\\node-gyp\\lib\\configure.js:443:9\ngyp ERR! stack     at ChildProcess.exithandler (child_process.js:204:7)\ngyp ERR! stack     at emitTwo (events.js:87:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:172:7)\ngyp ERR! stack     at maybeClose (internal/child_process.js:829:16)\ngyp ERR! stack     at Socket. (internal/child_process.js:319:11)\ngyp ERR! stack     at emitOne (events.js:77:13)\ngyp ERR! stack     at Socket.emit (events.js:169:7)\ngyp ERR! stack     at Pipe._onclose (net.js:486:12)\ngyp ERR! System Windows_NT 10.0.14393\ngyp ERR! command \"c:\\Program Files\\nodejs\\node.exe\" \"c:\\Users\\Conor\\AppData\\Roaming\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-11920-vuakbm\\node_modules\\Hydrogen\\node_modules\\zmq\ngyp ERR! node -v v4.5.0\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-11920-vuakbm\\package.json'\nnpm WARN apm-install-dir-116830-11920-vuakbm No description\nnpm WARN apm-install-dir-116830-11920-vuakbm No repository field.\nnpm WARN apm-install-dir-116830-11920-vuakbm No README data\nnpm WARN apm-install-dir-116830-11920-vuakbm No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe\" \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Conor.atom.apm.apmrc\" \"--userconfig\" \"C:\\Users\\Conor.atom.apmrc\" \"install\" \"C:\\Users\\Conor\\AppData\\Local\\Temp\\d-116830-11920-jdf52x\\package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-11920-vuakbm\\npm-debug.log\nnpm ERR! code 1\n. i didn't used to get the python issue, but i've done that command anyway,\nConor@CONOR-PC /\n$ apm install hydrogen\nInstalling hydrogen to C:\\Users\\Conor.atom\\packages failed\n\nzmq@2.15.3 install C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-10552-1inrv2i\\node_modules\\Hydrogen\\node_modules\\zmq\nnode-gyp rebuild\n\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\nTRACKER : error TRK0005: Failed to locate: \"CL.exe\". The system cannot find the file specified. [C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-10552-1inrv2i\\node_modules\\Hydrogen\\node_modules\\zmq\\build\\zmq.vcxproj]\nC:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-10552-1inrv2i\n`-- (empty)\ngyp ERR! build error\ngyp ERR! stack Error: C:\\Program Files (x86)\\MSBuild\\14.0\\bin\\msbuild.exe failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onExit (c:\\Users\\Conor\\AppData\\Roaming\\npm\\node_modules\\node-gyp\\lib\\build.js:276:23)\ngyp ERR! stack     at emitTwo (events.js:87:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:172:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)\ngyp ERR! System Windows_NT 10.0.14393\ngyp ERR! command \"c:\\Program Files\\nodejs\\node.exe\" \"c:\\Users\\Conor\\AppData\\Roaming\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-10552-1inrv2i\\node_modules\\Hydrogen\\node_modules\\zmq\ngyp ERR! node -v v4.5.0\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-10552-1inrv2i\\package.json'\nnpm WARN apm-install-dir-116830-10552-1inrv2i No description\nnpm WARN apm-install-dir-116830-10552-1inrv2i No repository field.\nnpm WARN apm-install-dir-116830-10552-1inrv2i No README data\nnpm WARN apm-install-dir-116830-10552-1inrv2i No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe\" \"c:\\Users\\Conor\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Conor.atom.apm.apmrc\" \"--userconfig\" \"C:\\Users\\Conor.atom.apmrc\" \"install\" \"C:\\Users\\Conor\\AppData\\Local\\Temp\\d-116830-10552-wpmah\\package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\Conor\\AppData\\Local\\Temp\\apm-install-dir-116830-10552-1inrv2i\\npm-debug.log\nnpm ERR! code 1\n. there is no such thing as \"cl\", what is it and how can i properly get it?\n. \nAre these the components i'm installing?\n. Installing MFC fixed it\n. ",
    "pingshunhuangalex": "New Updates:\nNow my laptop runs a python2 as default...\nMeanwhile, I found a historical version of VS 2013 Update 4. Installed it and run apm --version. The version no. after visual studio is surprisingly 2012... However, by running apm config ls -l I can see msvs_version = 2013\nRun your magic command again for no reason\napm config set msvs_version 2013 -g\nset GYP_MSVS_VERSION=2013\nDoesn't change anything... still 2012\nAgain try to install via apm install hydrogen, no luck again still got node-gyp rebuild error...\nWell, I'm uninstall VS2013 now, want to have another go with 2015 to see if I have any luck.\nYou know... any help would be appreciated.\n. I did everything perfectly, and strictly following the instruction and troubleshooting, but still no luck. I'm out of methods. Please see the log below, somebody please help...\n```\n$ apm config list\n; cli configs\nglobalconfig = \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\"\nuser-agent = \"npm/3.10.5 node/v4.4.5 win32 ia32\"\nuserconfig = \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\"\n; userconfig C:\\Users\\Pingshun Huang.atom.apmrc\nGYP_MSVS_VERSION = \"2013\"\nmsvs_version = \"2013\"\n; globalconfig C:\\Users\\Pingshun Huang.atom.apm.apmrc\ncache = \"C:\\Users\\Pingshun Huang\\.atom\\.apm\"\nprogress = false\n; node bin location = C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe\n; cwd = C:\\Users\\Pingshun Huang\\Desktop\n; HOME = C:\\Users\\Pingshun Huang\n; \"npm config ls -l\" to show all defaults.\n```\n$ apm -v\napm  1.12.5\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.10.0.windows.1\nvisual studio 2015\n```\n$ apm install hydrogen\nInstalling hydrogen to C:\\Users\\Pingshun Huang.atom\\packages failed\n\nzmq@2.15.3 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\node_modules\\Hydrogen\\node_modules\\zmq\nnode-gyp rebuild\n\nC:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\node_modules\\Hydrogen\\node_modules\\zmq>if not defined npm_config_node_gyp (node \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"\" rebuild )\nC:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\n`-- (empty)\nmodule.js:327\n    throw err;\n    ^\nError: Cannot find module 'C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js'\n    at Function.Module._resolveFilename (module.js:325:15)\n    at Function.Module._load (module.js:276:25)\n    at Function.Module.runMain (module.js:441:10)\n    at startup (node.js:139:18)\n    at node.js:968:3\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\package.json'\nnpm WARN apm-install-dir-11691-11456-v4ild7 No description\nnpm WARN apm-install-dir-11691-11456-v4ild7 No repository field.\nnpm WARN apm-install-dir-11691-11456-v4ild7 No README data\nnpm WARN apm-install-dir-11691-11456-v4ild7 No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.10.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\" \"install\" \"C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\d-11691-11456-krlso9\\package.tgz\" \"--runtime=electron\" \"--target=0.37.8\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zmq@2.15.3 install: node-gyp rebuild\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zmq@2.15.3 install script 'node-gyp rebuild'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zmq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zmq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zmq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-11691-11456-v4ild7\\npm-debug.log\nnpm ERR! code 1\n```\n. Thank you so much @n-riesco !! You are a true life saver!!! I came across your comment in #485 several times, but the most valuable part of the answer is actually folded. Therefore, it just slipped through...\nI suggest you include the above reply in the documentation or troubleshooting. It is the missing of this single sentence that keeps me occupied for nothing for 2 days. It's now 4:11 in the morning, I can finally have a good rest.\nAmazing package BTW, please keep up the good work!\n. Sorry for the spamming, just want to get everything right. Thanks.\n. @lgeiger Sorry, there is no file or folder called apm-install-dir-... in the directory, nor can I find any npm-debug.log.\n. It does create a new folder while I run the update, but it quickly remove itself after a couple of seconds even when I'm in the folder. I can't get anything out, nor can I find the npm-debug.log (I know it shows in the command though...)\nP.S. After several trial, I saw the file right before it removes itself. It was just a flash, there is no way to even select it...\n. Hi @lgeiger \nI just tried the --verbose method, it still didn't work. However, the error message seems a bit different this time. The space in my user folder name may still be an issue here\n```\n\nzeromq@3.2.1 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-22628-ml0yq3\\node_modules\\Hydrogen\\node_modules\\zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\nHydrogen@1.0.0 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-22628-ml0yq3\\node_modules\\Hydrogen\nnpm rebuild --build-from-source\n\n'C:\\Users\\Pingshun' is not recognized as an internal or external command,\noperable program or batch file.\nC:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-22628-ml0yq3\n`-- (empty)\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-22628-ml0yq3\\package.json'\nnpm WARN apm-install-dir-1161019-22628-ml0yq3 No description\nnpm WARN apm-install-dir-1161019-22628-ml0yq3 No repository field.\nnpm WARN apm-install-dir-1161019-22628-ml0yq3 No README data\nnpm WARN apm-install-dir-1161019-22628-ml0yq3 No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\" \"install\" \"C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\d-1161019-22628-1udtomu\\package.tgz\" \"--runtime=electron\" \"--target=1.3.9\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! Hydrogen@1.0.0 install: npm rebuild --build-from-source\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the Hydrogen@1.0.0 install script 'npm rebuild --build-from-source'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the Hydrogen package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     npm rebuild --build-from-source\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs Hydrogen\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls Hydrogen\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-22628-ml0yq3\\npm-debug.log\nnpm ERR! code 1\nfailed\n```\n. Thanks for the update. Unfortunately, I still have no luck on this. However, this time Atom throws 2 error messages \n```\n\nzeromq@3.2.1 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-16168-wa5r4e\\node_modules\\Hydrogen\\node_modules\\zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\nHydrogen@1.0.1 postinstall C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-16168-wa5r4e\\node_modules\\Hydrogen\nnpm rebuild zeromq --build-from-source\n\nC:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-16168-wa5r4e\n`-- (empty)\nnpm WARN deprecated node-uuid@1.4.7: use uuid module instead\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n(node) warning: possible EventEmitter memory leak detected. 11 error listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at TLSSocket.addListener (events.js:239:17)\n    at TLSSocket.Readable.on (_stream_readable.js:673:33)\n    at Request. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm-registry-client\\lib\\request.js:153:7)\n    at emitOne (events.js:77:13)\n    at Request.emit (events.js:169:7)\n    at ClientRequest. (C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\request\\request.js:823:10)\n    at emitOne (events.js:82:20)\n    at ClientRequest.emit (events.js:169:7)\n    at tickOnSocket (_http_client.js:502:7)\n    at onSocketNT (_http_client.js:514:5)\n'C:\\Users\\Pingshun' is not recognized as an internal or external command,\noperable program or batch file.\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-16168-wa5r4e\\package.json'\nnpm WARN apm-install-dir-1161019-16168-wa5r4e No description\nnpm WARN apm-install-dir-1161019-16168-wa5r4e No repository field.\nnpm WARN apm-install-dir-1161019-16168-wa5r4e No README data\nnpm WARN apm-install-dir-1161019-16168-wa5r4e No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\" \"install\" \"C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\d-1161019-16168-siqg1c\\package.tgz\" \"--runtime=electron\" \"--target=1.3.9\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! Hydrogen@1.0.1 postinstall: npm rebuild zeromq --build-from-source\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the Hydrogen@1.0.1 postinstall script 'npm rebuild zeromq --build-from-source'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the Hydrogen package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     npm rebuild zeromq --build-from-source\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs Hydrogen\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls Hydrogen\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-16168-wa5r4e\\npm-debug.log\nnpm ERR! code 1\n```\n```\n\nzeromq@3.2.1 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-11868-pffs3n\\node_modules\\Hydrogen\\node_modules\\zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\nHydrogen@1.0.1 postinstall C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-11868-pffs3n\\node_modules\\Hydrogen\nnpm rebuild zeromq --build-from-source\n\nC:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-11868-pffs3n\n`-- (empty)\nnpm WARN deprecated node-uuid@1.4.7: use uuid module instead\n'C:\\Users\\Pingshun' is not recognized as an internal or external command,\noperable program or batch file.\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-11868-pffs3n\\package.json'\nnpm WARN apm-install-dir-1161019-11868-pffs3n No description\nnpm WARN apm-install-dir-1161019-11868-pffs3n No repository field.\nnpm WARN apm-install-dir-1161019-11868-pffs3n No README data\nnpm WARN apm-install-dir-1161019-11868-pffs3n No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\" \"install\" \"C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\d-1161019-11868-1vgd6rd\\package.tgz\" \"--runtime=electron\" \"--target=1.3.9\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! Hydrogen@1.0.1 postinstall: npm rebuild zeromq --build-from-source\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the Hydrogen@1.0.1 postinstall script 'npm rebuild zeromq --build-from-source'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the Hydrogen package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     npm rebuild zeromq --build-from-source\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs Hydrogen\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls Hydrogen\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161019-11868-pffs3n\\npm-debug.log\nnpm ERR! code 1\n```\n. I went through the past issue I opened when I first installed Hydrogen (#460). I noticed that it also spit out similar errors like this, but back then it was C++ components not properly installed.\nTherefore, is it possible that I'm getting this error because of the brand-new bundle?\nHow did you guys tackle it previously?\n. Sure @lgeiger \nI haven't changed anything since Hydrogen was successfully installed.\n$ apm --version\napm  1.12.9\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.10.0.windows.1\nvisual studio 2015\n. @lgeiger so now just installing win-build-bundle is not enough, i have to install the huge vs2015?. I know, but i thought win-build-tool has already included the necessary C++ part. Sorry i mean windows build tool, one of the options in readme.\nI've got GYP_MSVS set to 2015 already when i provided the error message above, i'll try again using poweshell tomorrow. Thanks. Hi @lgeiger \nI tried everything I could, but still got no luck.\n\nI double-checked I have windows build tools installed and did get the necessary C++ components in the tool folder.\nI checked the GYP_MSVS_VERSION is set to 2015 (see apm config list and npm config list below)\nI ran everything in PowerShell Administrator (below output are copied from git bash, but the error messages are the same)\n\n** Just to clarify, Hydrogen 0.15.0 ran like a magic in Atom (installed on top of windows build tools). It's just upgrading it to 1.0.1 that is causing the problem.\n$ apm --version\napm  1.12.9\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.10.0.windows.1\nvisual studio 2015\n```\n$ apm config list\n; cli configs\nglobalconfig = \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\"\nuser-agent = \"npm/3.10.5 node/v4.4.5 win32 ia32\"\nuserconfig = \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\"\n; userconfig C:\\Users\\Pingshun Huang.atom.apmrc\nGYP_MSVS_VERSION = \"2015\"\nmsvs_version = \"2015\"\npython = \"D:\\Anaconda3\\envs\\python2\\python.exe\"\n; globalconfig C:\\Users\\Pingshun Huang.atom.apm.apmrc\ncache = \"C:\\Users\\Pingshun Huang\\.atom\\.apm\"\nprogress = false\n; node bin location = C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\bin\\node.exe\n; cwd = C:\\Users\\Pingshun Huang\n; HOME = C:\\Users\\Pingshun Huang\n; \"npm config ls -l\" to show all defaults.\n\n$ npm config list\n; cli configs\nuser-agent = \"npm/3.10.8 node/v6.7.0 win32 x64\"\n; globalconfig C:\\Users\\Pingshun Huang\\AppData\\Roaming\\npm\\etc\\npmrc\nGYP_MSVS_VERSION = \"2015\"\nmsvs_version = \"2015\"\npython = \"D:\\Anaconda3\\envs\\python2\\python.exe\"\n; builtin config undefined\nprefix = \"C:\\Users\\Pingshun Huang\\AppData\\Roaming\\npm\"\n; node bin location = C:\\Program Files\\nodejs\\node.exe\n; cwd = C:\\Users\\Pingshun Huang\n; HOME = C:\\Users\\Pingshun Huang\n; \"npm config ls -l\" to show all defaults.\n```\nError message spit out while running apm install hydrogen --verbose\n```\n\nzeromq@3.2.1 install C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161022-6220-7vwisa\\node_modules\\Hydrogen\\node_modules\\zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\nHydrogen@1.0.1 postinstall C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161022-6220-7vwisa\\node_modules\\Hydrogen\nnpm rebuild zeromq --build-from-source\n\n'C:\\Users\\Pingshun' is not recognized as an internal or external command,\noperable program or batch file.\nC:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161022-6220-7vwisa\n`-- (empty)\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161022-6220-7vwisa\\package.json'\nnpm WARN apm-install-dir-1161022-6220-7vwisa No description\nnpm WARN apm-install-dir-1161022-6220-7vwisa No repository field.\nnpm WARN apm-install-dir-1161022-6220-7vwisa No README data\nnpm WARN apm-install-dir-1161022-6220-7vwisa No license field.\nnpm ERR! Windows_NT 10.0.14393\nnpm ERR! argv \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\Pingshun Huang\\AppData\\Local\\atom\\app-1.12.4\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\Pingshun Huang\\.atom\\.apmrc\" \"install\" \"C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\d-1161022-6220-qw05x9\\package.tgz\" \"--runtime=electron\" \"--target=1.3.9\" \"--arch=ia32\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! Hydrogen@1.0.1 postinstall: npm rebuild zeromq --build-from-source\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the Hydrogen@1.0.1 postinstall script 'npm rebuild zeromq --build-from-source'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the Hydrogen package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     npm rebuild zeromq --build-from-source\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs Hydrogen\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls Hydrogen\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\PINGSH~1\\AppData\\Local\\Temp\\apm-install-dir-1161022-6220-7vwisa\\npm-debug.log\nnpm ERR! code 1\nfailed\n```. Thanks mate, works like a charm now. So, what was the issue then?\nP.S. It does show up the below error message before/after installation, but not sure if it's Hydrogen related\nFetching outdated packages and themes failed.\nRequest for package information failed: connect ETIMEDOUT 54.243.119.83:443. I'm using the material dark theme, which should also be quite popular I assume.\nWill changing the vertical-align from top to middle affect what it displays in Atom One Dark theme?. Found the solution here: https://github.com/nteract/hydrogen/issues/1033\nIt seems installing from console does work, but it doesn't really resolve the issue described above.\nI'll leave the ticket open for now and let the you guys decide whether to close it. Thanks.. Done. https://github.com/nteract/hydrogen/pull/1138. https://github.com/atom/atom/issues/14913. Well, there are lots of alternatives... VS2015 and Python 2 may not be necessary either, both C++ components and Python 2 are included in npm install --global --production windows-build-tools. \nAlso after trying it myself and talking to n-riesco, now I prefer installing python 3 and just set npm config and apm config python to my python 2 directory.\nJust tell me how you want me to change it. Thanks.\n. Updated with all the details I have, that's all I got really.\n. ",
    "aornugent": "\n. Yes, I have followed these instructions. From the dev-console, ZMQ appears to find the correct connection.json file (created inside the container and mounted on host). Could port/IP settings be misconfigured? I usually access my notebooks at localhost:8888.\n. No dice. Pasting the command from the docker instructions\necho \"alias hydrokernel='python -m ipykernel \"'--ip=$(hostname -I)'\" -f /tmp/hydrogen/connection.json'\" >> /etc/bash.bashrc results in the same message of 'Existing kernel: starting\" indefinitely.\nIn my original post I adapted the IJulia commands from the kernelspec args.\n. Thanks polyma, that's done the trick. \n. ",
    "polyma": "I'm having the same issue. I'm using docker-compose. I've deleted the 'ip' section of the command line input so it defaults to 0.0.0.0 (which I should be able to connect to in docker-compose). I have also forwarded all the ports mentioned in connection.json... to no avail. Is there a verbose connection output we could be using to debug? \n. Actually, it was a spelling error on my part, I got it working using this on the command line\npython -m ipykernel --stdin=45323 --iopub=43223 --shell=41454 --control=44186 --hb=40772 --ip=0.0.0.0 -f /tmp/hydrogen/connection.json\nI forwarded each of those ports using docker-compose.yml\n. ",
    "kilotaras": "ipython 2.4.1 was released almost a year ago. Current version is 5.1.0 which produces cd in output. \n\nThis is used mostly in progressbars (e.g. keras model training).\nIn hydrogen output produced can span several hunreds lines.\n. ",
    "ivan-krukov": "As far as progress bars go, #474 does not resolve this:\n\nIt seems that since output is updated over time, \\rs get ignored.. ",
    "tibaes": "Tried passing the password in the configuration, but no success.\nSo I removed the SSL and the Password configuration of the Jupyter server and now I can connect.\nAs my local network is safe, I will work this way for now.\nI am closing this issue, as the password problem appear to be in the jupyter-js-service, as mentioned above. However, I believe the SSL issue is caused by my self-signed certificate. Contrary to the browser, Atom did not ask me to accept the certificate. With a valid certificate, probably the safe connection could be made, but I don't have a valid one for testing.\n. ",
    "init-random": "Thank you for your reply. I apologize for the delay. Here is the message.\nI do not think this is related to #53, execution does not complete upon saving the file.\n\n. ",
    "fsausset": "Thansk!\nIndeed, it's not clear if it comes from client or server side...\n. @nikitakit Any news from where it could come from: hydrogen or jupyter-js-services?\nI can do some more testing if needed, following your instructions.\n. Thanks for the information and links.\nI think that I'll use the http basic auth and wait for a better solution from the jupyter side.\nI'm indeed interested in using hydrogen + jupyterHub + authentication when it will be available.\n. The issue is also there with a basic http auth through a nginx proxy!\nI can connect/launch a kernel, but then it's not usable as it's always in \"reconnecting\" state.\n. I forgot wsUrl... Basic http auth is now working. Thanks!\n. I'm quite new to Hydrogen and didn't noticed that kernels are per window.\nThis behaviour is fine! :-)\n. ",
    "alesguzik": "@nikitakit can you please update your comment to have http://localhost:8888 instead of https://localhost:8888? I've just spent half an hour trying to debug why it stopped working after I've copied your line that seemingly differed only in \"token\": \"secret\". http seem to be the default for jupyter-notebook. @lgeiger it is correct in the docs, it's just that while debugging I google-landed at this issue thread, and used code from the comment above. I've asked author to update his comment, so people like me won't spend time trying to figure out what's wrong. ",
    "matthew-nm": "I just realized that I'm basically making the same comment as @n-riesco from #433.\nSo, +1, I suppose.\n. ",
    "ipozdeev": "Thanks!\n. ",
    "HaoranXue": "Sorry, I mean when i try to update hydrogen to 0.15.0 \n. Thank you it works ! I think it is because of the update of new mac system cause this problem . \nThanks again! \nHydrogen is the Best package in ATOM for python. \n. ",
    "josh-gree": "Thanks! Was missing a bracket, all working now. The error is very misleading...\n. ",
    "xinzhou1023": "Hi @lgeiger ,\nThanks for such a quick response. Yeah, you are correct. It should be http instead. I have two version jupyter notebook on my remote server. One is anaconda version which is working now. The other version require a login. Do you know how does Hydrogen handle that type of remote notebook? I already tired the normal gateway setup and it didn't work.\nThanks again!\n. Thanks, @nikitakit. I got the hydrogen-auth installed. However, I got a error message below when I run it. My Hydrogen version is the latest I think, 0.15.0. How should I fix it?\n\n. Thanks for the response. I actually disabled the token and cookie check by doing \nc.NotebookApp.disable_check_xsrf = True\nc.NotebookApp.token = ''\nThen I found this issue.\nI also got this error when I tried to activate the developer tool.\nHydrogen: Could not enable dev tools Error: Cannot find module 'mobx-react-devtools'\n  at Module._resolveFilename (module.js:455:15)\n  at Module._resolveFilename (/Applications/Atom.app/Contents/Resources/electron.asar/common/reset-search-paths.js:35:12)\n  at Function.Module._resolveFilename (/Applications/Atom.app/Contents/Resources/app.asar/src/module-cache.js:383:52)\n  at Function.Module._load (module.js:403:25)\n  at Module.require (module.js:483:17)\n  at require (/Applications/Atom.app/Contents/Resources/app.asar/src/native-compile-cache.js:50:27)\n  at renderDevTools (/Users/markzhou/.atom/packages/Hydrogen/lib/utils.js:103:22)\n  at Object.activate (/Users/markzhou/.atom/packages/Hydrogen/lib/main.js:184:31)\n  at Package.module.exports.Package.activateNow (/Applications/Atom.app/Contents/Resources/app.asar/src/package.js:218:19)\n  at /Applications/Atom.app/Contents/Resources/app.asar/src/package.js:876:25\n  at Function.module.exports.Emitter.simpleDispatch (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/event-kit/lib/emitter.js:25:14)\n  at Emitter.module.exports.Emitter.emit (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/event-kit/lib/emitter.js:129:28)\n  at CommandRegistry.module.exports.CommandRegistry.handleCommandEvent (/Applications/Atom.app/Contents/Resources/app.asar/src/command-registry.js:240:20)\n  at /Applications/Atom.app/Contents/Resources/app.asar/src/command-registry.js:3:59\n  at Object.didConfirmSelection (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/command-palette/lib/command-palette-view.js:106:29)\n  at SelectListView.confirmSelection (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/atom-select-list/src/select-list-view.js:371:22)\n  at HTMLDivElement.coreConfirm (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/atom-select-list/src/select-list-view.js:88:17)\n  at CommandRegistry.module.exports.CommandRegistry.handleCommandEvent (/Applications/Atom.app/Contents/Resources/app.asar/src/command-registry.js:259:29)\n  at /Applications/Atom.app/Contents/Resources/app.asar/src/command-registry.js:3:59\n  at KeymapManager.module.exports.KeymapManager.dispatchCommandEvent (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:599:16)\n  at KeymapManager.module.exports.KeymapManager.handleKeyboardEvent (/Applications/Atom.app/Contents/Resources/app.asar/node_modules/atom-keymap/lib/keymap-manager.js:390:22)\n  at WindowEventHandler.module.exports.WindowEventHandler.handleDocumentKeyEvent (/Applications/Atom.app/Contents/Resources/app.asar/src/window-event-handler.js:106:36)\n  at HTMLDocument.<anonymous> (/Applications/Atom.app/Contents/Resources/app.asar/src/window-event-handler.js:3:59). Thanks for the clarification. I didn't see any output from the developer console when I connect to my remote kernel. So I just attached some screenshots here so that you guys might be able to find out the reason.\n\nAfter I activated 'connect to remote kernel', I saw my gate way setup name, 'remote'.\n\nI select 'remote' gateway and then I saw this. This this where the issue is. I have one kernel running remotely ( activated through jupyter directly) but I couldn't see it.\n\nSince I couldn't see any session, I selected 'new session'. Then I saw this. It says 'no kernel spec available'. I guess that is reason of my issue. However, before my jupyter got updated, I don't need to setup the kernel spec. I then randomly type in something in the textbox and pressed enter. The chatbox gone and other output from atom. I then tried to run some python code and it failed with the red box error message says no kernel spec found. \n\n\nHopefully this could help for you guys to figure out a reason.\n. ",
    "utsavvakil": "Got it. Thanks! I had done this before, and it was working perfectly. But for some reason, it had stopped working in the middle. Ran the command again, and it started working perfectly!\n\nOn Nov 16, 2016, at 1:59 PM, Lukas Geiger notifications@github.com wrote:\nYou need Python 2 for building Hydrogen (you can use Python 3 later).\nTake a look at our installation guide https://github.com/nteract/hydrogen#installation.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/504#issuecomment-261038438, or mute the thread https://github.com/notifications/unsubscribe-auth/AGHIfc4Q3LvKURECAaXuxE2Puv304wR4ks5q-1KNgaJpZM4KzV3_.\n. \n",
    "asmotrich": "Please let me know if I can help debug the issue. Unfortunately I'm rather new to JavaScript, Node and Atom. I have a newer instance of Node installed on the system, it did not interfere with Atom installation/upgrade before. Judging by description the #506 and #507 are the same.\nThank you,\n-Azary\n. ",
    "jensb89": "I have nearly the same error on Mac OS X El Capitan as well...\n. @lgeiger\nhere the complete console output: https://gist.github.com/jensb89/0497c77bcd0ee24e390bfb236ccaf22f\nHope that helps :)\n. @lgeiger just wanted to be on the safe side :-) \n. ",
    "felansu": "Same error:\n```\nfelansu@universia:~/Repository$ sudo apm install hydrogen\n[sudo] password for felansu: \nInstalling hydrogen to /home/felansu/.atom/packages \u2717\n\nzeromq@3.2.1 install /tmp/apm-install-dir-1161022-15953-154a4uj/node_modules/Hydrogen/node_modules/zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\n\n/tmp/apm-install-dir-1161022-15953-154a4uj\n\u2514\u2500\u2500 (empty)\nnpm WARN deprecated node-uuid@1.4.7: use uuid module instead\nsh: 1: prebuild: Permission denied\nnpm WARN enoent ENOENT: no such file or directory, open '/tmp/apm-install-dir-1161022-15953-154a4uj/package.json'\nnpm WARN apm-install-dir-1161022-15953-154a4uj No description\nnpm WARN apm-install-dir-1161022-15953-154a4uj No repository field.\nnpm WARN apm-install-dir-1161022-15953-154a4uj No README data\nnpm WARN apm-install-dir-1161022-15953-154a4uj No license field.\nnpm ERR! Linux 4.4.0-47-generic\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/felansu/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/felansu/.atom/.apmrc\" \"install\" \"/tmp/d-1161022-15953-18pige3/package.tgz\" \"--runtime=electron\" \"--target=1.3.6\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! zeromq@3.2.1 install: prebuild --install --preinstall \"npm run build:libzmq\"\nnpm ERR! spawn ENOENT\nnpm ERR! \nnpm ERR! Failed at the zeromq@3.2.1 install script 'prebuild --install --preinstall \"npm run build:libzmq\"'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     prebuild --install --preinstall \"npm run build:libzmq\"\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-1161022-15953-154a4uj/npm-debug.log\nnpm ERR! code 1\n. @n-riesco this is the output of apm --version:\nfelansu@universia:~$ apm --version\napm  1.12.9\nnpm  3.10.5\nnode 4.4.5\npython 2.7.12\ngit 2.7.4\nand runing without sudo:\nfelansu@universia:~/Repository$ apm install hydrogen\nInstalling hydrogen to /home/felansu/.atom/packages \n\u2717\n\nzeromq@3.2.1 install /tmp/apm-install-dir-1161022-19338-n511se/node_modules/Hydrogen/node_modules/zeromq\nprebuild --install --preinstall \"npm run build:libzmq\"\nzeromq@3.2.1 build:libzmq /tmp/apm-install-dir-1161022-19338-n511se/node_modules/Hydrogen/node_modules/zeromq\nnode scripts/preinstall.js\n\n/tmp/apm-install-dir-1161022-19338-n511se\n\u2514\u2500\u2500 (empty)\nnpm WARN deprecated node-uuid@1.4.7: use uuid module instead\nprebuild WARN install connect ETIMEDOUT 54.231.33.211:443\nevents.js:141\n      throw er; // Unhandled 'error' event\n      ^\nError: connect ETIMEDOUT 52.216.16.200:443\n    at Object.exports._errnoException (util.js:870:11)\n    at exports._exceptionWithHostPort (util.js:893:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1061:14)\nnpm ERR! Linux 4.4.0-47-generic\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/.bin/npm\" \"run\" \"build:libzmq\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@3.2.1 build:libzmq: node scripts/preinstall.js\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zeromq@3.2.1 build:libzmq script 'node scripts/preinstall.js'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/preinstall.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to install?\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-1161022-19338-n511se/node_modules/Hydrogen/node_modules/zeromq/npm-debug.log\nprebuild ERR! build Error: npm run build:libzmq  failed with exit code 1\nprebuild ERR! build     at Object.exports.spawnFailed (/tmp/apm-install-dir-1161022-19338-n511se/node_modules/Hydrogen/node_modules/prebuild/error.js:31:10)\nprebuild ERR! build     at ChildProcess. (/tmp/apm-install-dir-1161022-19338-n511se/node_modules/Hydrogen/node_modules/prebuild/util.js:116:14)\nprebuild ERR! build     at emitTwo (events.js:87:13)\nprebuild ERR! build     at ChildProcess.emit (events.js:172:7)\nprebuild ERR! build     at Process.ChildProcess._handle.onexit (internal/child_process.js:200:12)\nnpm WARN enoent ENOENT: no such file or directory, open '/tmp/apm-install-dir-1161022-19338-n511se/package.json'\nnpm WARN apm-install-dir-1161022-19338-n511se No description\nnpm WARN apm-install-dir-1161022-19338-n511se No repository field.\nnpm WARN apm-install-dir-1161022-19338-n511se No README data\nnpm WARN apm-install-dir-1161022-19338-n511se No license field.\nnpm ERR! Linux 4.4.0-47-generic\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/felansu/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/felansu/.atom/.apmrc\" \"install\" \"/tmp/d-1161022-19338-ym3nag/package.tgz\" \"--runtime=electron\" \"--target=1.3.6\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@3.2.1 install: prebuild --install --preinstall \"npm run build:libzmq\"\nnpm ERR! Exit status 2\nnpm ERR! \nnpm ERR! Failed at the zeromq@3.2.1 install script 'prebuild --install --preinstall \"npm run build:libzmq\"'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     prebuild --install --preinstall \"npm run build:libzmq\"\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-1161022-19338-n511se/npm-debug.log\nnpm ERR! code 1\n```. ",
    "jdtuck": "I am having the same error as @felansu and have tried multiple times. ",
    "mictadlo": "changelog. I could not find watchman, but I disabled all other python plugins, but it still crashes.\n. Please find the  report below:\n```\nProcess:               Atom Helper [32141]\nPath:                  /opt/homebrew-cask/*/Atom.app/Contents/Frameworks/Atom Helper.app/Contents/MacOS/Atom Helper\nIdentifier:            com.github.atom.helper\nVersion:               1.12.5 (1.12.5)\nCode Type:             X86-64 (Native)\nParent Process:        Atom [27781]\nResponsible:           Atom [27781]\nUser ID:               1032814217\nDate/Time:             2016-11-25 11:20:16.490 +1000\nOS Version:            Mac OS X 10.11.6 (15G1108)\nReport Version:        11\nAnonymous UUID:        31065394-C3B8-3648-BD9C-1F90DFA94CE2\nSleep/Wake UUID:       CB397E04-8FAD-4B77-9EAF-8AF9EE7DC54E\nTime Awake Since Boot: 64000 seconds\nTime Since Wake:       640 seconds\nSystem Integrity Protection: enabled\nCrashed Thread:        0  CrRendererMain  Dispatch queue: com.apple.main-thread\nException Type:        EXC_BREAKPOINT (SIGTRAP)\nException Codes:       0x0000000000000002, 0x0000000000000000\nDyld Error Message:\n  Symbol not found: _clock_gettime\n  Referenced from: /Users/USER/*/zmq.node\n  Expected in: /usr/lib/libSystem.B.dylib\nThread 0 Crashed:: CrRendererMain  Dispatch queue: com.apple.main-thread\n0   dyld                            0x00007fff6d839075 dyld_fatal_error + 1\n1   dyld                            0x00007fff6d83c094 dyld::fastBindLazySymbol(ImageLoader, unsigned long) + 139\n2   libdyld.dylib                   0x00007fff99aec262 dyld_stub_binder + 282\n3   ???                             0x000000012200e0b8 0 + 4865450168\n4   zmq.node                        0x0000000121f07a35 zmq::clock_t::clock_t() + 37\n5   zmq.node                        0x0000000121f07b95 zmq::clock_t::clock_t() + 21\n6   zmq.node                        0x0000000121f631fd zmq::poller_base_t::poller_base_t() + 45\n7   zmq.node                        0x0000000121f383f6 zmq::kqueue_t::kqueue_t(zmq::ctx_t const&) + 38\n8   zmq.node                        0x0000000121f3865d zmq::kqueue_t::kqueue_t(zmq::ctx_t const&) + 29\n9   zmq.node                        0x0000000121f69fcd zmq::reaper_t::reaper_t(zmq::ctx_t, unsigned int) + 221\n10  zmq.node                        0x0000000121f6a1e3 zmq::reaper_t::reaper_t(zmq::ctx_t, unsigned int) + 35\n11  zmq.node                        0x0000000121f09ca7 zmq::ctx_t::create_socket(int) + 551\n12  zmq.node                        0x0000000121fdb70a zmq_socket + 90\n13  zmq.node                        0x0000000121f030ea zmq::Socket::Socket(zmq::Context, int) + 150\n14  zmq.node                        0x0000000121f00578 zmq::Socket::New(Nan::FunctionCallbackInfo const&) + 302\n15  zmq.node                        0x0000000121f05318 Nan::imp::FunctionCallbackWrapper(v8::FunctionCallbackInfo const&) + 147\n16  libnode.dylib                   0x000000010950209a v8::internal::FunctionCallbackArguments::Call(void ()(v8::FunctionCallbackInfo const&)) + 298\n17  libnode.dylib                   0x000000010953bae5 0x109158000 + 4078309\n18  libnode.dylib                   0x000000010953d94e 0x109158000 + 4086094\n19  ???                             0x000013653bc08ba7 0 + 21325515099047\n20  ???                             0x000013653bc45e88 0 + 21325515349640\n21  ???                             0x00001365437b2cdc 0 + 21325644770524\n22  ???                             0x00001365437b2a37 0 + 21325644769847\n23  ???                             0x000013653bc3d83b 0 + 21325515315259\n24  ???                             0x00001365437b1b65 0 + 21325644766053\n25  ???                             0x0000136543799d6a 0 + 21325644668266\n26  ???                             0x000013653bc3d83b 0 + 21325515315259\n27  ???                             0x000013654379982f 0 + 21325644666927\n28  ???                             0x000013653f620446 0 + 21325576012870\n29  ???                             0x000013653f6200b7 0 + 21325576011959\n30  ???                             0x000013653bc45fa3 0 + 21325515349923\n31  ???                             0x000013653bc29f0f 0 + 21325515235087\n32  libnode.dylib                   0x0000000109815b5b 0x109158000 + 7068507\n33  libnode.dylib                   0x000000010981595b v8::internal::Execution::Call(v8::internal::Isolate, v8::internal::Handle, v8::internal::Handle, int, v8::internal::Handle) + 331\n34  libnode.dylib                   0x0000000109815da9 v8::internal::Execution::TryCall(v8::internal::Isolate, v8::internal::Handle, v8::internal::Handle, int, v8::internal::Handle, v8::internal::MaybeHandle) + 121\n35  libnode.dylib                   0x000000010990bc57 v8::internal::Isolate::RunMicrotasksInternal() + 759\n36  libnode.dylib                   0x000000010990b79a v8::internal::Isolate::RunMicrotasks() + 42\n37  libnode.dylib                   0x000000010922ca9a node::AsyncWrap::MakeCallback(v8::Local, int, v8::Local) + 938\n38  libnode.dylib                   0x000000010922e627 node::AsyncWrap::MakeCallback(v8::Local, int, v8::Local) + 71\n39  libnode.dylib                   0x000000010925cbe5 0x109158000 + 1068005\n40  libnode.dylib                   0x00000001092af27e 0x109158000 + 1405566\n41  libnode.dylib                   0x00000001092abab8 0x109158000 + 1391288\n42  libnode.dylib                   0x00000001092ad74c 0x109158000 + 1398604\n43  libnode.dylib                   0x00000001092ad928 0x109158000 + 1399080\n44  libnode.dylib                   0x00000001092bc27b 0x109158000 + 1458811\n45  libnode.dylib                   0x00000001092adce2 uv_run + 146\n46  com.github.electron.framework   0x0000000105519387 atom::NodeBindings::UvRunOnce() + 119\n47  com.github.electron.framework   0x0000000105519c00 void base::internal::RunnableAdapter::Run(atom::NodeBindings&&) + 32\n48  com.github.electron.framework   0x0000000105519b7a void base::internal::InvokeHelper >::MakeItSo >(base::internal::RunnableAdapter, base::WeakPtr) + 58\n49  com.github.electron.framework   0x0000000105519b2b base::internal::Invoker, base::internal::BindState, void (atom::NodeBindings), base::WeakPtr >, base::internal::InvokeHelper >, void ()>::Run(base::internal::BindStateBase) + 59\n50  com.github.electron.framework   0x00000001055fd16b 0x10540f000 + 2023787\n51  com.github.electron.framework   0x000000010712b87a 0x10540f000 + 30525562\n52  com.github.electron.framework   0x000000010712a839 0x10540f000 + 30521401\n53  com.github.electron.framework   0x000000010712c473 0x10540f000 + 30528627\n54  com.github.electron.framework   0x00000001055fd16b 0x10540f000 + 2023787\n55  com.github.electron.framework   0x000000010561df83 0x10540f000 + 2158467\n56  com.github.electron.framework   0x000000010561e27c 0x10540f000 + 2159228\n57  com.github.electron.framework   0x000000010561e5db 0x10540f000 + 2160091\n58  com.github.electron.framework   0x00000001055f1d0d 0x10540f000 + 1977613\n59  com.github.electron.framework   0x00000001056150fa 0x10540f000 + 2121978\n60  com.github.electron.framework   0x00000001055f1714 0x10540f000 + 1976084\n61  com.apple.CoreFoundation        0x00007fff8b4157e1 CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION + 17\n62  com.apple.CoreFoundation        0x00007fff8b3f4f1c __CFRunLoopDoSources0 + 556\n63  com.apple.CoreFoundation        0x00007fff8b3f443f __CFRunLoopRun + 927\n64  com.apple.CoreFoundation        0x00007fff8b3f3e38 CFRunLoopRunSpecific + 296\n65  com.apple.Foundation            0x00007fff92e72ed9 -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 270\n66  com.github.electron.framework   0x00000001055f238e 0x10540f000 + 1979278\n67  com.github.electron.framework   0x00000001055f1b64 0x10540f000 + 1977188\n68  com.github.electron.framework   0x00000001056344a1 0x10540f000 + 2249889\n69  com.github.electron.framework   0x000000010561d72d 0x10540f000 + 2156333\n70  com.github.electron.framework   0x00000001062bd6cf 0x10540f000 + 15394511\n71  com.github.electron.framework   0x0000000105cc47c0 0x10540f000 + 9131968\n72  com.github.electron.framework   0x0000000105cc39a6 0x10540f000 + 9128358\n73  com.github.electron.framework   0x0000000105411807 AtomMain + 71\n74  com.github.atom.helper          0x0000000105404f26 main + 38\n75  libdyld.dylib                   0x00007fff99aee5ad start + 1\nThread 1:: Dispatch queue: com.apple.libdispatch-manager\n0   libsystem_kernel.dylib          0x00007fff99adfefa kevent_qos + 10\n1   libdispatch.dylib               0x00007fff89f77165 _dispatch_mgr_invoke + 216\n2   libdispatch.dylib               0x00007fff89f76dcd _dispatch_mgr_thread + 52\nThread 2:: Chrome_ChildIOThread\n0   libsystem_kernel.dylib          0x00007fff99adfeca kevent + 10\n1   com.github.electron.framework   0x00000001063e3f67 0x10540f000 + 16600935\n2   com.github.electron.framework   0x00000001063e194d 0x10540f000 + 16591181\n3   com.github.electron.framework   0x00000001055f1251 0x10540f000 + 1974865\n4   com.github.electron.framework   0x00000001056344a1 0x10540f000 + 2249889\n5   com.github.electron.framework   0x000000010561d72d 0x10540f000 + 2156333\n6   com.github.electron.framework   0x0000000105653e98 0x10540f000 + 2379416\n7   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n8   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n9   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n10  libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 3:: Compositor\n0   libsystem_kernel.dylib          0x00007fff99ad8f72 mach_msg_trap + 10\n1   libsystem_kernel.dylib          0x00007fff99ad83b3 mach_msg + 55\n2   com.apple.CoreFoundation        0x00007fff8b3f5124 __CFRunLoopServiceMachPort + 212\n3   com.apple.CoreFoundation        0x00007fff8b3f45ec __CFRunLoopRun + 1356\n4   com.apple.CoreFoundation        0x00007fff8b3f3e38 CFRunLoopRunSpecific + 296\n5   com.github.electron.framework   0x00000001055f20ef 0x10540f000 + 1978607\n6   com.github.electron.framework   0x00000001055f1b64 0x10540f000 + 1977188\n7   com.github.electron.framework   0x00000001056344a1 0x10540f000 + 2249889\n8   com.github.electron.framework   0x000000010561d72d 0x10540f000 + 2156333\n9   com.github.electron.framework   0x0000000105653e98 0x10540f000 + 2379416\n10  com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n11  libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n12  libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n13  libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 4:: CompositorTileWorker1/20483\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   com.github.electron.framework   0x00000001062631a9 0x10540f000 + 15024553\n3   com.github.electron.framework   0x000000010565345d 0x10540f000 + 2376797\n4   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 5:: CompositorTileWorker2/20995\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   com.github.electron.framework   0x00000001062631a9 0x10540f000 + 15024553\n3   com.github.electron.framework   0x000000010565345d 0x10540f000 + 2376797\n4   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 6:: CompositorTileWorkerBackground/21507\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   com.github.electron.framework   0x00000001062631a9 0x10540f000 + 15024553\n3   com.github.electron.framework   0x000000010565345d 0x10540f000 + 2376797\n4   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 7:\n0   libsystem_kernel.dylib          0x00007fff99ad8fae semaphore_wait_trap + 10\n1   libnode.dylib                   0x00000001092b7690 uv_sem_wait + 16\n2   com.github.electron.framework   0x00000001055192c0 atom::NodeBindings::EmbedThreadRunner(void*) + 48\n3   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n4   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n5   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n6   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 8:: HTMLParserThread\n0   libsystem_kernel.dylib          0x00007fff99ad8f72 mach_msg_trap + 10\n1   libsystem_kernel.dylib          0x00007fff99ad83b3 mach_msg + 55\n2   com.apple.CoreFoundation        0x00007fff8b3f5124 __CFRunLoopServiceMachPort + 212\n3   com.apple.CoreFoundation        0x00007fff8b3f45ec __CFRunLoopRun + 1356\n4   com.apple.CoreFoundation        0x00007fff8b3f3e38 CFRunLoopRunSpecific + 296\n5   com.github.electron.framework   0x00000001055f20ef 0x10540f000 + 1978607\n6   com.github.electron.framework   0x00000001055f1b64 0x10540f000 + 1977188\n7   com.github.electron.framework   0x00000001056344a1 0x10540f000 + 2249889\n8   com.github.electron.framework   0x000000010561d72d 0x10540f000 + 2156333\n9   com.github.electron.framework   0x0000000105653e98 0x10540f000 + 2379416\n10  com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n11  libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n12  libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n13  libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 9:\n0   libsystem_kernel.dylib          0x00007fff99adfeca kevent + 10\n1   pathwatcher.node                0x000000010e837a72 PlatformThread() + 76\n2   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n3   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n4   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n5   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 10:\n0   libsystem_kernel.dylib          0x00007fff99adfeca kevent + 10\n1   pathwatcher.node                0x000000010ee14a6a PlatformThread() + 76\n2   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n3   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n4   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n5   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 11:\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   libnode.dylib                   0x00000001092b77e9 uv_cond_wait + 9\n3   libnode.dylib                   0x00000001092abe33 0x109158000 + 1392179\n4   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 12:\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   libnode.dylib                   0x00000001092b77e9 uv_cond_wait + 9\n3   libnode.dylib                   0x00000001092abe33 0x109158000 + 1392179\n4   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 13:\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   libnode.dylib                   0x00000001092b77e9 uv_cond_wait + 9\n3   libnode.dylib                   0x00000001092abe33 0x109158000 + 1392179\n4   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 14:\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b837728 _pthread_cond_wait + 767\n2   libnode.dylib                   0x00000001092b77e9 uv_cond_wait + 9\n3   libnode.dylib                   0x00000001092abe33 0x109158000 + 1392179\n4   libnode.dylib                   0x00000001092b73b9 0x109158000 + 1438649\n5   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n6   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n7   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 15:: WorkerPool/41291\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b83775e _pthread_cond_wait + 821\n2   com.github.electron.framework   0x000000010564329b 0x10540f000 + 2310811\n3   com.github.electron.framework   0x0000000105655b0d 0x10540f000 + 2386701\n4   com.github.electron.framework   0x0000000105655f33 0x10540f000 + 2387763\n5   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n6   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n7   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n8   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 16:: WorkerPool/59263\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b83775e _pthread_cond_wait + 821\n2   com.github.electron.framework   0x000000010564329b 0x10540f000 + 2310811\n3   com.github.electron.framework   0x0000000105655b0d 0x10540f000 + 2386701\n4   com.github.electron.framework   0x0000000105655f33 0x10540f000 + 2387763\n5   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n6   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n7   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n8   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 17:: WorkerPool/35691\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b83775e _pthread_cond_wait + 821\n2   com.github.electron.framework   0x000000010564329b 0x10540f000 + 2310811\n3   com.github.electron.framework   0x0000000105655b0d 0x10540f000 + 2386701\n4   com.github.electron.framework   0x0000000105655f33 0x10540f000 + 2387763\n5   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n6   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n7   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n8   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 18:: WorkerPool/36755\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b83775e _pthread_cond_wait + 821\n2   com.github.electron.framework   0x000000010564329b 0x10540f000 + 2310811\n3   com.github.electron.framework   0x0000000105655b0d 0x10540f000 + 2386701\n4   com.github.electron.framework   0x0000000105655f33 0x10540f000 + 2387763\n5   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n6   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n7   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n8   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 19:: WorkerPool/38939\n0   libsystem_kernel.dylib          0x00007fff99adedb6 __psynch_cvwait + 10\n1   libsystem_pthread.dylib         0x00007fff8b83775e _pthread_cond_wait + 821\n2   com.github.electron.framework   0x000000010564329b 0x10540f000 + 2310811\n3   com.github.electron.framework   0x0000000105655b0d 0x10540f000 + 2386701\n4   com.github.electron.framework   0x0000000105655f33 0x10540f000 + 2387763\n5   com.github.electron.framework   0x00000001056502c7 0x10540f000 + 2364103\n6   libsystem_pthread.dylib         0x00007fff8b83699d _pthread_body + 131\n7   libsystem_pthread.dylib         0x00007fff8b83691a _pthread_start + 168\n8   libsystem_pthread.dylib         0x00007fff8b834351 thread_start + 13\nThread 20:\n0   libsystem_kernel.dylib          0x00007fff99adf5e2 __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8b836578 _pthread_wqthread + 1283\n2   libsystem_pthread.dylib         0x00007fff8b834341 start_wqthread + 13\nThread 21:\n0   libsystem_kernel.dylib          0x00007fff99adf5e2 __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8b836578 _pthread_wqthread + 1283\n2   libsystem_pthread.dylib         0x00007fff8b834341 start_wqthread + 13\nThread 22:\n0   libsystem_kernel.dylib          0x00007fff99adf5e2 __workq_kernreturn + 10\n1   libsystem_pthread.dylib         0x00007fff8b836578 _pthread_wqthread + 1283\n2   libsystem_pthread.dylib         0x00007fff8b834341 start_wqthread + 13\nThread 0 crashed with X86 Thread State (64-bit):\n  rax: 0x00007fff6d872290  rbx: 0x00007fe2117c6b00  rcx: 0x0000000000000000  rdx: 0x0000000000000000\n  rdi: 0x00007fff6d872400  rsi: 0x0000000000000000  rbp: 0x00007fff5a7f0210  rsp: 0x00007fff5a7f01f8\n   r8: 0x00007fff6d85b04c   r9: 0x00000000c0000000  r10: 0x00007fff5a7efff7  r11: 0x00007fff6d872400\n  r12: 0x00007fe211760a00  r13: 0x00007fe212815400  r14: 0x00007fff6d872400  r15: 0x00007fe21166eb10\n  rip: 0x00007fff6d839075  rfl: 0x0000000000000246  cr2: 0x00007fff7ab74459\nLogical CPU:     2\nError Code:      0x00000000\nTrap Number:     3\nBinary Images:\n       0x105404000 -        0x105404ff7 +com.github.atom.helper (1.12.5 - 1.12.5) <46590D66-6257-311E-9AB6-734FB869A42E> /opt/homebrew-cask//Atom.app/Contents/Frameworks/Atom Helper.app/Contents/MacOS/Atom Helper\n       0x10540f000 -        0x1087acfcf +com.github.electron.framework (0)  /opt/homebrew-cask//Atom.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Electron Framework\n       0x109018000 -        0x10902efff +com.github.Squirrel (1.0 - 1)  /opt/homebrew-cask//Atom.app/Contents/Frameworks/Squirrel.framework/Versions/A/Squirrel\n       0x109050000 -        0x1090b3ff7 +org.reactivecocoa.ReactiveCocoa (1.0 - 1) <701B20DE-3ADD-3643-B52A-E05744C30DB3> /opt/homebrew-cask//Atom.app/Contents/Frameworks/ReactiveCocoa.framework/Versions/A/ReactiveCocoa\n       0x10912b000 -        0x10913ffff +org.mantle.Mantle (1.0 - ???) <31915DD6-48E6-3706-A076-C9D4CE17F4F6> /opt/homebrew-cask//Atom.app/Contents/Frameworks/Mantle.framework/Versions/A/Mantle\n       0x109158000 -        0x109e9cffb +libnode.dylib (0) <4C5E5AA4-699F-34A9-A7DF-886AF70D1CE0> /opt/homebrew-cask//Atom.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Libraries/libnode.dylib\n       0x10a349000 -        0x10a57ffff +libffmpeg.dylib (0) <75778496-86EF-3AF8-877F-CBA5E70F0325> /opt/homebrew-cask//Atom.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Libraries/libffmpeg.dylib\n       0x10a726000 -        0x10a75dfff  com.apple.audio.midi.CoreMIDI (1.10 - 88) <51E79766-51D8-3A95-A7FD-18E7E11528F3> /System/Library/Frameworks/CoreMIDI.framework/Versions/A/CoreMIDI\n       0x10a78b000 -        0x10a7a4fff  libexpat.1.dylib (12.60.1) <6BF318AC-F90F-3F16-99C2-6ADDE404E280> /usr/lib/libexpat.1.dylib\n       0x10ab9d000 -        0x10ab9ffff  libCGXType.A.dylib (960.3) <70FA6D91-53BC-3DA6-92F3-7FEB33C73948> /System/Library/Frameworks/CoreGraphics.framework/Versions/A/Resources/libCGXType.A.dylib\n       0x10abf8000 -        0x10abf8fff +cached-run-in-this-context.node (???) <2720572E-7EE0-35E1-84DB-2AB14F915C4C> /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/cached-run-in-this-context/build/Release/cached-run-in-this-context.node\n       0x10e834000 -        0x10e838fff +pathwatcher.node (???) <45DFA2D9-AC8F-34B0-818F-C32BF387ECBE> /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/pathwatcher/build/Release/pathwatcher.node\n       0x10e866000 -        0x10e869ff7 +keyboard-layout-manager.node (???) <4F0096D8-623D-389A-BC83-49427EB21C1E> /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/keyboard-layout/build/Release/keyboard-layout-manager.node\n       0x10eda9000 -        0x10edfafff +onig_scanner.node (???) <08CEAE6C-FC88-3D1A-9295-EBDB242815BC> /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/oniguruma/build/Release/onig_scanner.node\n       0x10ee11000 -        0x10ee15fff +pathwatcher.node (???) <9907EA0C-83C7-31F3-90B5-3917D7FC4FC5> /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/text-buffer/node_modules/pathwatcher/build/Release/pathwatcher.node\n       0x10ee1d000 -        0x10ee26fff +marker_index.node (???) <6253CAAD-700D-3FD7-BA71-0EAB7A573680> /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/marker-index/build/Release/marker_index.node\n       0x10ee36000 -        0x10eee8ff7 +git.node (???)  /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/git-utils/build/Release/git.node\n       0x10f078000 -        0x10f079fff +scrollbar-style-observer.node (???)  /opt/homebrew-cask//Atom.app/Contents/Resources/app.asar.unpacked/node_modules/scrollbar-style/build/Release/scrollbar-style-observer.node\n       0x10f908000 -        0x10f931ffb  libRIP.A.dylib (960.3) <702967FB-D16C-38C7-A3CC-0EC336740A69> /System/Library/Frameworks/CoreGraphics.framework/Versions/A/Resources/libRIP.A.dylib\n       0x121efe000 -        0x12200dff7 +zmq.node (???) <56983649-EA48-3F79-A4BF-5F8BDA2F3EC6> /Users/USER//zmq.node\n    0x7fff6d838000 -     0x7fff6d86fa47  dyld (360.22)  /usr/lib/dyld\n    0x7fff878a0000 -     0x7fff87b32ffb  com.apple.RawCamera.bundle (6.21 - 879) <4F0A10FB-7C96-31E8-9A70-E30F615B2565> /System/Library/CoreServices/RawCamera.bundle/Contents/MacOS/RawCamera\n    0x7fff87b6f000 -     0x7fff87b73fff  libpam.2.dylib (20)  /usr/lib/libpam.2.dylib\n    0x7fff87b79000 -     0x7fff87bcefff  com.apple.AE (701 - 701)  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/AE.framework/Versions/A/AE\n    0x7fff87bcf000 -     0x7fff87bcffff  com.apple.audio.units.AudioUnit (1.13 - 1.13) <378B5292-F216-32AB-B628-8C33A72D7052> /System/Library/Frameworks/AudioUnit.framework/Versions/A/AudioUnit\n    0x7fff87c1b000 -     0x7fff87c20fff  com.apple.DiskArbitration (2.7 - 2.7)  /System/Library/Frameworks/DiskArbitration.framework/Versions/A/DiskArbitration\n    0x7fff87c21000 -     0x7fff87c50ff7  com.apple.DictionaryServices (1.2 - 250.3) <30250542-CBAA-39C1-91AA-B57A5DE17594> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/DictionaryServices.framework/Versions/A/DictionaryServices\n    0x7fff87d69000 -     0x7fff87d6cffb  libScreenReader.dylib (426.42) <16FC79D1-4573-3E90-945F-CBA22D5185FD> /usr/lib/libScreenReader.dylib\n    0x7fff87f33000 -     0x7fff87febff7  com.apple.CoreDuet (1.0 - 1)  /System/Library/PrivateFrameworks/CoreDuet.framework/Versions/A/CoreDuet\n    0x7fff87ff2000 -     0x7fff88298ff7  com.apple.CoreData (120 - 641.3)  /System/Library/Frameworks/CoreData.framework/Versions/A/CoreData\n    0x7fff88357000 -     0x7fff886ecfdb  com.apple.vImage (8.0 - 8.0) <4BAC9B6F-7482-3580-8787-AB0A5B4D331B> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/vImage\n    0x7fff886ed000 -     0x7fff886f1fff  libGIF.dylib (1460) <2A59D65D-57F6-36B5-B655-84A8E9B2EC4E> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libGIF.dylib\n    0x7fff886f2000 -     0x7fff88709ff7  libsystem_asl.dylib (323.50.1) <41F8E11F-1BD0-3F1D-BA3A-AA1577ED98A9> /usr/lib/system/libsystem_asl.dylib\n    0x7fff88722000 -     0x7fff8873bfff  com.apple.CFOpenDirectory (10.11 - 194) <11F95672-55E0-3F9D-9171-5E8C56AEE948> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/Frameworks/CFOpenDirectory.framework/Versions/A/CFOpenDirectory\n    0x7fff88749000 -     0x7fff88765fff  com.apple.GenerationalStorage (2.0 - 239.1) <8C821448-4294-3736-9CEF-467C93785CB9> /System/Library/PrivateFrameworks/GenerationalStorage.framework/Versions/A/GenerationalStorage\n    0x7fff888c4000 -     0x7fff88938ff7  com.apple.Heimdal (4.0 - 2.0) <5D365381-8B5E-3259-8867-FC4A7D307BDE> /System/Library/PrivateFrameworks/Heimdal.framework/Versions/A/Heimdal\n    0x7fff88949000 -     0x7fff89572ff7  com.apple.AppKit (6.9 - 1404.47)  /System/Library/Frameworks/AppKit.framework/Versions/C/AppKit\n    0x7fff89580000 -     0x7fff895abffb  libarchive.2.dylib (33.20.2) <6C370A21-63FD-3A68-B4B3-5333F24B770B> /usr/lib/libarchive.2.dylib\n    0x7fff89f0b000 -     0x7fff89f6efff  libAVFAudio.dylib (161.2) <1A98DBF3-490B-37FB-928A-AB1E36E6E5DD> /System/Library/Frameworks/AVFoundation.framework/Versions/A/Resources/libAVFAudio.dylib\n    0x7fff89f6f000 -     0x7fff89f9cfff  libdispatch.dylib (501.40.12)  /usr/lib/system/libdispatch.dylib\n    0x7fff8a019000 -     0x7fff8a019fff  com.apple.CoreServices (728.13 - 728.13)  /System/Library/Frameworks/CoreServices.framework/Versions/A/CoreServices\n    0x7fff8a0b8000 -     0x7fff8a168fff  com.apple.backup.framework (1.7.4 - 1.7.4)  /System/Library/PrivateFrameworks/Backup.framework/Versions/A/Backup\n    0x7fff8a169000 -     0x7fff8a16dfff  com.apple.CommonPanels (1.2.6 - 96) <4AE7E5AE-55B3-37FA-9BDE-B23147ADA2E9> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/CommonPanels.framework/Versions/A/CommonPanels\n    0x7fff8a16e000 -     0x7fff8a198ff7  libc++abi.dylib (307.2) <922EFB36-0E9E-315B-8270-E81AC43472C0> /usr/lib/libc++abi.dylib\n    0x7fff8a203000 -     0x7fff8a211fff  com.apple.opengl (12.1.0 - 12.1.0) <0718DB60-BA4F-3CF7-A117-10A2515D931F> /System/Library/Frameworks/OpenGL.framework/Versions/A/OpenGL\n    0x7fff8a222000 -     0x7fff8a3a0fff  com.apple.UIFoundation (1.0 - 436.1)  /System/Library/PrivateFrameworks/UIFoundation.framework/Versions/A/UIFoundation\n    0x7fff8a3a1000 -     0x7fff8a3f2fff  com.apple.audio.CoreAudio (4.3.0 - 4.3.0)  /System/Library/Frameworks/CoreAudio.framework/Versions/A/CoreAudio\n    0x7fff8a597000 -     0x7fff8a87cffb  com.apple.CoreServices.CarbonCore (1136.2 - 1136.2) <2DBAFC9A-6CD6-351D-B1F4-87D81AA6D640> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/CarbonCore\n    0x7fff8a88c000 -     0x7fff8a891fff  com.apple.MediaAccessibility (1.0 - 79)  /System/Library/Frameworks/MediaAccessibility.framework/Versions/A/MediaAccessibility\n    0x7fff8a892000 -     0x7fff8a91afff  com.apple.CoreSymbolication (3.1 - 58048.1) <4730422E-4178-34F9-8550-BB92F2A4F44B> /System/Library/PrivateFrameworks/CoreSymbolication.framework/Versions/A/CoreSymbolication\n    0x7fff8a91e000 -     0x7fff8a926fff  libcopyfile.dylib (127)  /usr/lib/system/libcopyfile.dylib\n    0x7fff8a975000 -     0x7fff8a97aff7  com.apple.AssetCacheServices (14.1 - 14.1) <5F249F84-660A-3E94-B073-6729E7ED56D9> /System/Library/PrivateFrameworks/AssetCacheServices.framework/Versions/A/AssetCacheServices\n    0x7fff8a986000 -     0x7fff8a99cfff  com.apple.CoreMediaAuthoring (2.2 - 953) <5103EF2E-BB0A-302B-B8BB-CED301BC746B> /System/Library/PrivateFrameworks/CoreMediaAuthoring.framework/Versions/A/CoreMediaAuthoring\n    0x7fff8ab35000 -     0x7fff8ab84ff7  com.apple.opencl (2.7.0 - 2.7.0) <39581F1A-04FE-3CCA-9118-E9BB9053F7A1> /System/Library/Frameworks/OpenCL.framework/Versions/A/OpenCL\n    0x7fff8ab85000 -     0x7fff8ac3eff7  com.apple.cloudkit.CloudKit (482.29 - 482.29)  /System/Library/Frameworks/CloudKit.framework/Versions/A/CloudKit\n    0x7fff8ac3f000 -     0x7fff8aed9ff3  com.apple.security (7.0 - 57337.60.2)  /System/Library/Frameworks/Security.framework/Versions/A/Security\n    0x7fff8af71000 -     0x7fff8af82fff  libSparseBLAS.dylib (1162.2)  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libSparseBLAS.dylib\n    0x7fff8af8f000 -     0x7fff8b07eff7  libxml2.2.dylib (29.11)  /usr/lib/libxml2.2.dylib\n    0x7fff8b088000 -     0x7fff8b0acfff  libJPEG.dylib (1460) <12EBCDFF-FE82-38FD-8593-3648F3A84CDB> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJPEG.dylib\n    0x7fff8b0ad000 -     0x7fff8b1f7ff7  com.apple.coreui (2.1 - 366.1) <8138636F-A0A7-31C7-896C-5F5747FA1B2A> /System/Library/PrivateFrameworks/CoreUI.framework/Versions/A/CoreUI\n    0x7fff8b318000 -     0x7fff8b36afff  com.apple.AppleVAFramework (5.0.32 - 5.0.32) <271ED7A9-73E5-3595-A8D6-28594C9F3C9D> /System/Library/PrivateFrameworks/AppleVA.framework/Versions/A/AppleVA\n    0x7fff8b36b000 -     0x7fff8b7e1ff7  com.apple.CoreFoundation (6.9 - 1259) <51D1F34F-9FEC-3EF2-8382-2D13D75F845A> /System/Library/Frameworks/CoreFoundation.framework/Versions/A/CoreFoundation\n    0x7fff8b833000 -     0x7fff8b83cff7  libsystem_pthread.dylib (138.10.4) <3DD1EF4C-1D1B-3ABF-8CC6-B3B1CEEE9559> /usr/lib/system/libsystem_pthread.dylib\n    0x7fff8b83d000 -     0x7fff8b84bfff  libxar.1.dylib (302) <03207F66-2C4A-3DBD-8D81-70F4C85903C4> /usr/lib/libxar.1.dylib\n    0x7fff8b84c000 -     0x7fff8b884ff7  com.apple.RemoteViewServices (2.0 - 101)  /System/Library/PrivateFrameworks/RemoteViewServices.framework/Versions/A/RemoteViewServices\n    0x7fff8b895000 -     0x7fff8b904fff  com.apple.SearchKit (1.4.0 - 1.4.0)  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SearchKit.framework/Versions/A/SearchKit\n    0x7fff8b982000 -     0x7fff8b983ff3  com.apple.print.framework.Print (10.0 - 266) <3E85F70C-D7D4-34E1-B88A-C1F503F99CDA> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Print.framework/Versions/A/Print\n    0x7fff8ba84000 -     0x7fff8baa1ff7  com.apple.AppleVPAFramework (2.1.2 - 2.1.2) <41378C0B-B56A-3A73-9BD0-E06FA1F87B8C> /System/Library/PrivateFrameworks/AppleVPA.framework/Versions/A/AppleVPA\n    0x7fff8bab5000 -     0x7fff8bb1bff7  libsystem_network.dylib (583.50.1)  /usr/lib/system/libsystem_network.dylib\n    0x7fff8bb1c000 -     0x7fff8bb1eff7  libRadiance.dylib (1460) <9C7A9DD6-B567-3751-BE25-3E382043F2BF> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libRadiance.dylib\n    0x7fff8bfd5000 -     0x7fff8c006fff  com.apple.GSS (4.0 - 2.0)  /System/Library/Frameworks/GSS.framework/Versions/A/GSS\n    0x7fff8c09c000 -     0x7fff8c0a8ff7  com.apple.OpenDirectory (10.11 - 194) <31A67AD5-5CC2-350A-96D7-821DF4BC4196> /System/Library/Frameworks/OpenDirectory.framework/Versions/A/OpenDirectory\n    0x7fff8c0a9000 -     0x7fff8c0c8ff7  com.apple.framework.Apple80211 (11.0 - 1121.34.2) <90477FAE-B835-3931-80FB-FDFF02B21D9D> /System/Library/PrivateFrameworks/Apple80211.framework/Versions/A/Apple80211\n    0x7fff8c0c9000 -     0x7fff8c0e5ff3  libresolv.9.dylib (60)  /usr/lib/libresolv.9.dylib\n    0x7fff8c0e6000 -     0x7fff8c14dfff  com.apple.framework.CoreWiFi (11.0 - 1101.20) <993592F1-B3F1-3FAD-87BD-EA83C361BCCF> /System/Library/PrivateFrameworks/CoreWiFi.framework/Versions/A/CoreWiFi\n    0x7fff8c158000 -     0x7fff8c1a4ffb  com.apple.HIServices (1.22 - 550) <6B76B41C-CF5A-34C4-89F4-EFD7CA3D1C9D> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/HIServices.framework/Versions/A/HIServices\n    0x7fff8c1a5000 -     0x7fff8c6e3ff7  com.apple.MediaToolbox (1.0 - 1731.15.206) <119FFD0E-947D-3103-9221-458439F5764D> /System/Library/Frameworks/MediaToolbox.framework/Versions/A/MediaToolbox\n    0x7fff8c8cb000 -     0x7fff8cd66ffb  com.apple.GeoServices (1.0 - 1151.49.1) <2D887517-B73D-30FF-91DC-AF6AD91F96B9> /System/Library/PrivateFrameworks/GeoServices.framework/Versions/A/GeoServices\n    0x7fff8cd6a000 -     0x7fff8cd85ff7  libCRFSuite.dylib (34) <078B4CD8-6A8C-3067-B2BA-0C2A0BAB8AC3> /usr/lib/libCRFSuite.dylib\n    0x7fff8cda2000 -     0x7fff8cdcbfff  com.apple.ProtectedCloudStorage (1.0 - 1) <7436B2B3-943A-3500-B099-80F133B3E002> /System/Library/PrivateFrameworks/ProtectedCloudStorage.framework/Versions/A/ProtectedCloudStorage\n    0x7fff8ce57000 -     0x7fff8cee4fef  libsystem_c.dylib (1082.60.1) <28733D22-553E-3CBC-8D2C-EDCEB46E46AF> /usr/lib/system/libsystem_c.dylib\n    0x7fff8cf3a000 -     0x7fff8d100ff7  com.apple.ImageIO.framework (3.3.0 - 1460)  /System/Library/Frameworks/ImageIO.framework/Versions/A/ImageIO\n    0x7fff8d624000 -     0x7fff8d635fff  libcmph.dylib (6)  /usr/lib/libcmph.dylib\n    0x7fff8d636000 -     0x7fff8d636fff  com.apple.Accelerate.vecLib (3.10 - vecLib 3.10) <054DFE32-737D-3211-9A14-0FC5E1A880E3> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/vecLib\n    0x7fff8d657000 -     0x7fff8d65cfff  com.apple.ImageCapture (9.0 - 9.0)  /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/ImageCapture.framework/Versions/A/ImageCapture\n    0x7fff8d65d000 -     0x7fff8d682ff7  libPng.dylib (1460)  /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libPng.dylib\n    0x7fff8d683000 -     0x7fff8d851ff3  com.apple.QuartzCore (1.11 - 410.14) <076BDE58-8AED-3D47-84FD-548CF8E8EDB9> /System/Library/Frameworks/QuartzCore.framework/Versions/A/QuartzCore\n    0x7fff8d852000 -     0x7fff8d902fe7  libvMisc.dylib (563.5) <6D73C20D-D1C4-3BA5-809B-4B597C15AA86> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvMisc.dylib\n    0x7fff8d908000 -     0x7fff8d99efff  com.apple.ColorSync (4.9.0 - 4.9.0) <8FC37E20-6579-3CB2-9D49-BC39FC38DF87> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ColorSync.framework/Versions/A/ColorSync\n    0x7fff8da28000 -     0x7fff8da28ff7  liblaunch.dylib (765.50.8) <834ED605-5114-3641-AA4D-ECF31B801C50> /usr/lib/system/liblaunch.dylib\n    0x7fff8da29000 -     0x7fff8da7cff7  libc++.1.dylib (120.1) <8FC3D139-8055-3498-9AC5-6467CB7F4D14> /usr/lib/libc++.1.dylib\n    0x7fff8daec000 -     0x7fff8daf4fff  libMatch.1.dylib (27) <3AC0BFB8-7E69-3DBE-A175-7F3946FC4554> /usr/lib/libMatch.1.dylib\n    0x7fff8daf5000 -     0x7fff8db1cfff  com.apple.ChunkingLibrary (167 - 167)  /System/Library/PrivateFrameworks/ChunkingLibrary.framework/Versions/A/ChunkingLibrary\n    0x7fff8e114000 -     0x7fff8e23bfff  com.apple.LaunchServices (728.13 - 728.13)  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/LaunchServices\n    0x7fff8e23c000 -     0x7fff8e23cfff  com.apple.ApplicationServices (48 - 48)  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/ApplicationServices\n    0x7fff8e242000 -     0x7fff8e245fff  libCoreVMClient.dylib (119.5) <560D70FB-709F-3030-96C9-F249FCB7DA6D> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreVMClient.dylib\n    0x7fff8e718000 -     0x7fff8e752ff7  com.apple.DebugSymbols (132 - 132) <23A42C53-B941-3871-9EE2-4C87A46005B5> /System/Library/PrivateFrameworks/DebugSymbols.framework/Versions/A/DebugSymbols\n    0x7fff8e757000 -     0x7fff8e763fff  com.apple.SpeechRecognitionCore (2.2.7 - 2.2.7) <6BA06290-D4A3-351C-87F9-B61EF61FF055> /System/Library/PrivateFrameworks/SpeechRecognitionCore.framework/Versions/A/SpeechRecognitionCore\n    0x7fff8e764000 -     0x7fff8e778fff  com.apple.CoreDuetDaemonProtocol (1.0 - 1) <1D60D60C-914A-3BAB-8607-79F68F4C712E> /System/Library/PrivateFrameworks/CoreDuetDaemonProtocol.framework/Versions/A/CoreDuetDaemonProtocol\n    0x7fff8e779000 -     0x7fff8e77bfff  libCVMSPluginSupport.dylib (12.1)  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCVMSPluginSupport.dylib\n    0x7fff8f12d000 -     0x7fff8f12fff7  com.apple.xpc.ServiceManagement (1.0 - 1)  /System/Library/Frameworks/ServiceManagement.framework/Versions/A/ServiceManagement\n    0x7fff8f130000 -     0x7fff8f254fff  libsqlite3.dylib (216.4) <280D67B8-F93D-3587-A146-19F36C817548> /usr/lib/libsqlite3.dylib\n    0x7fff90482000 -     0x7fff9048dfff  com.apple.AppSandbox (4.0 - 261.40.2) <52766210-B6EB-3B73-AB1B-42E0A9AD2EE8> /System/Library/PrivateFrameworks/AppSandbox.framework/Versions/A/AppSandbox\n    0x7fff904b7000 -     0x7fff904c3fff  com.apple.speech.synthesis.framework (5.4.12 - 5.4.12) <71DA00B8-5EA2-326B-8814-59DB25512F65> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/SpeechSynthesis.framework/Versions/A/SpeechSynthesis\n    0x7fff90b1d000 -     0x7fff90e98ffb  com.apple.VideoToolbox (1.0 - 1731.15.206) <19DD020F-128A-32B0-96A4-A51F111B549F> /System/Library/Frameworks/VideoToolbox.framework/Versions/A/VideoToolbox\n    0x7fff90ea5000 -     0x7fff90ed7ff7  libTrueTypeScaler.dylib (158.6) <469A7620-3B6F-3E06-80A7-8D89E5DD9C81> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libTrueTypeScaler.dylib\n    0x7fff90ed8000 -     0x7fff92123feb  com.apple.CoreGraphics (1.600.0 - 960.3) <407FA367-204F-389E-8E33-0435E3B56D40> /System/Library/Frameworks/CoreGraphics.framework/Versions/A/CoreGraphics\n    0x7fff92124000 -     0x7fff9232ffff  libFosl_dynamic.dylib (16.24) <5F9DB82D-FD4B-3952-8531-CE020F93ED49> /usr/lib/libFosl_dynamic.dylib\n    0x7fff92bbc000 -     0x7fff92c01ff7  com.apple.coreservices.SharedFileList (24.4 - 24.5) <1D2AD77B-778F-3253-A295-3D0A32A8121C> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/SharedFileList.framework/Versions/A/SharedFileList\n    0x7fff92c6f000 -     0x7fff92cb0ff7  libGLU.dylib (12.1)  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLU.dylib\n    0x7fff92cb1000 -     0x7fff92d58fff  com.apple.LanguageModeling (1.0 - 1) <58C18A47-BDE7-3CBE-81C0-797029D170A1> /System/Library/PrivateFrameworks/LanguageModeling.framework/Versions/A/LanguageModeling\n    0x7fff92e4e000 -     0x7fff931a2fff  com.apple.Foundation (6.9 - 1259) <71A9D3A0-0B1F-3E3A-86F3-1486365A6EF2> /System/Library/Frameworks/Foundation.framework/Versions/C/Foundation\n    0x7fff931a3000 -     0x7fff931a9fff  com.apple.IOAccelerator (205.11 - 205.11)  /System/Library/PrivateFrameworks/IOAccelerator.framework/Versions/A/IOAccelerator\n    0x7fff931aa000 -     0x7fff932a6ff7  libFontParser.dylib (158.6) <267A9AE4-4138-3112-8D73-BDFDC96568FF> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontParser.dylib\n    0x7fff932a7000 -     0x7fff932d5ff7  libsandbox.1.dylib (460.60.2) <3C80CDFD-DFE5-3238-9CAE-CEAA80DDAD76> /usr/lib/libsandbox.1.dylib\n    0x7fff9337d000 -     0x7fff9337efff  libsystem_secinit.dylib (20) <32B1A8C6-DC84-3F4F-B8CE-9A52B47C3E6B> /usr/lib/system/libsystem_secinit.dylib\n    0x7fff9337f000 -     0x7fff933c5ff7  libauto.dylib (186) <999E610F-41FC-32A3-ADCA-5EC049B65DFB> /usr/lib/libauto.dylib\n    0x7fff93404000 -     0x7fff93406fff  com.apple.CoreDuetDebugLogging (1.0 - 1) <7C932160-AC9C-3173-900F-98138E829CB3> /System/Library/PrivateFrameworks/CoreDuetDebugLogging.framework/Versions/A/CoreDuetDebugLogging\n    0x7fff93407000 -     0x7fff93412fff  libGL.dylib (12.1) <70D51643-04AC-3400-8F11-A6FC25985289> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGL.dylib\n    0x7fff93413000 -     0x7fff93416ff7  libCoreFSCache.dylib (119.5) <2389D7DA-B8EF-3EB4-AAAF-FBEDE01CDECA> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libCoreFSCache.dylib\n    0x7fff9341a000 -     0x7fff9370ffff  com.apple.HIToolbox (2.1.1 - 807.2) <36413C45-36AF-34EF-9C0E-F18B31D1E565> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/HIToolbox.framework/Versions/A/HIToolbox\n    0x7fff939e4000 -     0x7fff93a1efff  com.apple.QD (3.12 - 302) <0FE53180-2895-3D14-A1E7-F82DE1D106E1> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/QD.framework/Versions/A/QD\n    0x7fff93ab9000 -     0x7fff93ad0ff7  libsystem_coretls.dylib (83.40.5)  /usr/lib/system/libsystem_coretls.dylib\n    0x7fff93ad1000 -     0x7fff93cf2ff7  com.apple.CoreImage (11.4.0 - 366.4.20) <7721BA55-A10E-3425-8392-C5D7C510EAAB> /System/Library/Frameworks/CoreImage.framework/Versions/A/CoreImage\n    0x7fff93d91000 -     0x7fff93ea0fe7  libvDSP.dylib (563.5) <9AB6CA3C-4F0E-35E6-9184-9DF86E7C3DAD> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libvDSP.dylib\n    0x7fff93eef000 -     0x7fff93ef7fff  libsystem_networkextension.dylib (385.40.36) <66095DC7-6539-38F2-95EE-458F15F6D014> /usr/lib/system/libsystem_networkextension.dylib\n    0x7fff93ef8000 -     0x7fff93f36ff7  libGLImage.dylib (12.1)  /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGLImage.dylib\n    0x7fff93f37000 -     0x7fff93f3afff  com.apple.Mangrove (1.0 - 1) <2D86B3AD-64C3-3BB4-BC66-1CFD0C90E844> /System/Library/PrivateFrameworks/Mangrove.framework/Versions/A/Mangrove\n    0x7fff93f3b000 -     0x7fff93f40ff7  libheimdal-asn1.dylib (453.40.10) <981DE40B-FA16-36F7-BE92-8C8A115D6CD9> /usr/lib/libheimdal-asn1.dylib\n    0x7fff93fa3000 -     0x7fff93fa5ff7  libsystem_configuration.dylib (802.40.13) <3DEB7DF9-6804-37E1-BC83-0166882FF0FF> /usr/lib/system/libsystem_configuration.dylib\n    0x7fff9410d000 -     0x7fff941a2fff  com.apple.ink.framework (10.9 - 214) <1F76CF36-3F79-36B8-BC37-C540AF34B338> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Ink.framework/Versions/A/Ink\n    0x7fff941a8000 -     0x7fff941b3ff7  libChineseTokenizer.dylib (16) <79B8C67A-3061-3C78-92CD-4650719E68D4> /usr/lib/libChineseTokenizer.dylib\n    0x7fff941cc000 -     0x7fff941dcff3  com.apple.ProtocolBuffer (1 - 243)  /System/Library/PrivateFrameworks/ProtocolBuffer.framework/Versions/A/ProtocolBuffer\n    0x7fff94275000 -     0x7fff942d1fff  libTIFF.dylib (1460) <0838C0B3-A846-32F3-87AA-D28F2EF38775> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libTIFF.dylib\n    0x7fff942d2000 -     0x7fff943abfff  com.apple.CoreMedia (1.0 - 1731.15.206)  /System/Library/Frameworks/CoreMedia.framework/Versions/A/CoreMedia\n    0x7fff943ae000 -     0x7fff943b4fff  com.apple.XPCService (2.0 - 1) <5E2122D6-FFA2-3552-BF16-9FD3F36B40DB> /System/Library/PrivateFrameworks/XPCService.framework/Versions/A/XPCService\n    0x7fff944fe000 -     0x7fff94506fff  com.apple.CoreServices.FSEvents (1223.10.1 - 1223.10.1) <7F5B7A23-BC1D-3FA9-A9B8-D534F1E1979A> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/FSEvents.framework/Versions/A/FSEvents\n    0x7fff9557f000 -     0x7fff95815fff  libmecabra.dylib (696.5)  /usr/lib/libmecabra.dylib\n    0x7fff95896000 -     0x7fff9593afff  com.apple.Bluetooth (4.4.6 - 4.4.6f1) <4072EA3E-F2DD-32C1-9B19-9339C7087051> /System/Library/Frameworks/IOBluetooth.framework/Versions/A/IOBluetooth\n    0x7fff9593b000 -     0x7fff959b0fff  com.apple.framework.IOKit (2.0.2 - 1179.50.2)  /System/Library/Frameworks/IOKit.framework/Versions/A/IOKit\n    0x7fff95a48000 -     0x7fff95a4dff3  libunwind.dylib (35.3)  /usr/lib/system/libunwind.dylib\n    0x7fff95a6b000 -     0x7fff95a73fef  libsystem_platform.dylib (74.40.2) <29A905EF-6777-3C33-82B0-6C3A88C4BA15> /usr/lib/system/libsystem_platform.dylib\n    0x7fff95aa8000 -     0x7fff95abeff7  libLinearAlgebra.dylib (1162.2)  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLinearAlgebra.dylib\n    0x7fff95abf000 -     0x7fff95ac8ff3  libsystem_notify.dylib (150.40.1)  /usr/lib/system/libsystem_notify.dylib\n    0x7fff95c4a000 -     0x7fff95c4cff7  com.apple.securityhi (9.0 - 55006) <1E7BE52B-97EA-371A-AECA-1EE2AD246D8A> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SecurityHI.framework/Versions/A/SecurityHI\n    0x7fff95c50000 -     0x7fff95c61ff7  libsystem_trace.dylib (201.10.3)  /usr/lib/system/libsystem_trace.dylib\n    0x7fff95cdb000 -     0x7fff95e87ff7  com.apple.avfoundation (2.0 - 1046.9.12) <2D241BC4-A619-3382-BABD-C4E4490BD638> /System/Library/Frameworks/AVFoundation.framework/Versions/A/AVFoundation\n    0x7fff95e9e000 -     0x7fff95ea2fff  libcache.dylib (75) <9548AAE9-2AB7-3525-9ECE-A2A7C4688447> /usr/lib/system/libcache.dylib\n    0x7fff95ef6000 -     0x7fff95ef7fff  libDiagnosticMessagesClient.dylib (100) <4243B6B4-21E9-355B-9C5A-95A216233B96> /usr/lib/libDiagnosticMessagesClient.dylib\n    0x7fff95f5a000 -     0x7fff95f5afff  libmetal_timestamp.dylib (600.0.44.2)  /System/Library/PrivateFrameworks/GPUCompiler.framework/libmetal_timestamp.dylib\n    0x7fff95f5b000 -     0x7fff95fe4ff7  com.apple.PerformanceAnalysis (1.0 - 1) <9EF745B2-ECD5-33F8-912F-E96771C9E6F8> /System/Library/PrivateFrameworks/PerformanceAnalysis.framework/Versions/A/PerformanceAnalysis\n    0x7fff95fe5000 -     0x7fff95fe5fff  com.apple.Carbon (154 - 157) <8F6ED602-5943-3E29-A793-BC331E2C183D> /System/Library/Frameworks/Carbon.framework/Versions/A/Carbon\n    0x7fff962cc000 -     0x7fff962cffff  libsystem_sandbox.dylib (460.60.2) <2A68B39C-B786-3A05-87A2-56E688469FB8> /usr/lib/system/libsystem_sandbox.dylib\n    0x7fff96360000 -     0x7fff965e7fff  com.apple.CFNetwork (760.6.3 - 760.6.3) <8CB9CB2E-D0FB-31D4-A1AE-2A5FE028AD6B> /System/Library/Frameworks/CFNetwork.framework/Versions/A/CFNetwork\n    0x7fff965e8000 -     0x7fff965f7ffb  com.apple.LangAnalysis (1.7.0 - 1.7.0) <18D21123-A3E7-3851-974A-08E5D4540475> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/LangAnalysis.framework/Versions/A/LangAnalysis\n    0x7fff965fb000 -     0x7fff96613fef  libcompression.dylib (28)  /usr/lib/libcompression.dylib\n    0x7fff96664000 -     0x7fff96772ff3  com.apple.desktopservices (1.10.3 - 1.10.3) <3A6906D4-C0B8-30D1-B589-0466E5E42B69> /System/Library/PrivateFrameworks/DesktopServicesPriv.framework/Versions/A/DesktopServicesPriv\n    0x7fff96773000 -     0x7fff9677bffb  libsystem_dnssd.dylib (625.60.4) <80189998-32B0-316C-B5C5-53857486713D> /usr/lib/system/libsystem_dnssd.dylib\n    0x7fff97c82000 -     0x7fff97ccdff7  com.apple.CoreMediaIO (703.0 - 4791)  /System/Library/Frameworks/CoreMediaIO.framework/Versions/A/CoreMediaIO\n    0x7fff97cf1000 -     0x7fff97d0bff3  liblzma.5.dylib (10)  /usr/lib/liblzma.5.dylib\n    0x7fff98138000 -     0x7fff98167ffb  libsystem_m.dylib (3105) <08E1A4B2-6448-3DFE-A58C-ACC7335BE7E4> /usr/lib/system/libsystem_m.dylib\n    0x7fff98168000 -     0x7fff9818cfff  com.apple.MultitouchSupport.framework (304.12 - 304.12) <25FA270C-361D-3732-ABF5-A291240AD6A4> /System/Library/PrivateFrameworks/MultitouchSupport.framework/Versions/A/MultitouchSupport\n    0x7fff981fa000 -     0x7fff98205fff  com.apple.CrashReporterSupport (10.11 - 718) <05892B57-F2CD-3C84-B984-0417F6B361DB> /System/Library/PrivateFrameworks/CrashReporterSupport.framework/Versions/A/CrashReporterSupport\n    0x7fff98206000 -     0x7fff98252fff  com.apple.print.framework.PrintCore (11.2 - 472.2) <5AE8AA6B-CE09-397D-B0D4-0F9CCBF1F77D> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/PrintCore.framework/Versions/A/PrintCore\n    0x7fff98253000 -     0x7fff98267fe3  libCGInterfaces.dylib (317.9) <5079DE4F-3717-32FF-B76A-77F53236D17D> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vImage.framework/Versions/A/Libraries/libCGInterfaces.dylib\n    0x7fff98268000 -     0x7fff98308fff  com.apple.Metadata (10.7.0 - 972.34)  /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/Metadata.framework/Versions/A/Metadata\n    0x7fff98311000 -     0x7fff98324fff  com.apple.CoreBluetooth (1.0 - 1)  /System/Library/Frameworks/CoreBluetooth.framework/Versions/A/CoreBluetooth\n    0x7fff98349000 -     0x7fff98777fff  com.apple.vision.FaceCore (3.3.1 - 3.3.1)  /System/Library/PrivateFrameworks/FaceCore.framework/Versions/A/FaceCore\n    0x7fff9877c000 -     0x7fff98787ff7  libcommonCrypto.dylib (60075.50.1) <93732261-34B4-3914-B7A2-90A81A182DBA> /usr/lib/system/libcommonCrypto.dylib\n    0x7fff98788000 -     0x7fff98789fff  liblangid.dylib (122) <9CC4F0D1-5C51-3B69-BC8F-EE3A51FD0822> /usr/lib/liblangid.dylib\n    0x7fff9878a000 -     0x7fff9878dff7  com.apple.help (1.3.3 - 46) <35DA4D48-0BC2-35A1-8D7C-40905CDF4F64> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/Help.framework/Versions/A/Help\n    0x7fff987f1000 -     0x7fff987f1fff  libOpenScriptingUtil.dylib (169.1)  /usr/lib/libOpenScriptingUtil.dylib\n    0x7fff987fc000 -     0x7fff98a09fff  libicucore.A.dylib (551.51.4) <3899B146-3840-3D4A-8C4A-FE391D5D25C7> /usr/lib/libicucore.A.dylib\n    0x7fff98a28000 -     0x7fff98a9fff7  com.apple.MMCS (1.3 - 357.1) <549FBEFC-55F7-3101-BF51-A0B1F7CF2B46> /System/Library/PrivateFrameworks/MMCS.framework/Versions/A/MMCS\n    0x7fff98aa0000 -     0x7fff98aa7ff7  libcompiler_rt.dylib (62)  /usr/lib/system/libcompiler_rt.dylib\n    0x7fff98aa8000 -     0x7fff98bedfff  com.apple.QTKit (7.7.3 - 2943.13) <3E3DB3DD-8D7E-3478-B020-F975CCAAE522> /System/Library/Frameworks/QTKit.framework/Versions/A/QTKit\n    0x7fff98c05000 -     0x7fff98c05ff7  libkeymgr.dylib (28) <8371CE54-5FDD-3CE9-B3DF-E98C761B6FE0> /usr/lib/system/libkeymgr.dylib\n    0x7fff995b9000 -     0x7fff995feff3  libFontRegistry.dylib (155.2)  /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/Resources/libFontRegistry.dylib\n    0x7fff996c0000 -     0x7fff996c8fff  com.apple.NetFS (6.0 - 4.0) <842A5346-24C3-3F22-9ECF-E586A10EA1F2> /System/Library/Frameworks/NetFS.framework/Versions/A/NetFS\n    0x7fff996d5000 -     0x7fff996d7fff  libsystem_coreservices.dylib (19.2) <1B3F5AFC-FFCD-3ECB-8B9A-5538366FB20D> /usr/lib/system/libsystem_coreservices.dylib\n    0x7fff996ea000 -     0x7fff996efff7  libmacho.dylib (875.1) <318264FA-58F1-39D8-8285-1F6254EE410E> /usr/lib/system/libmacho.dylib\n    0x7fff9973b000 -     0x7fff99764ff7  libxpc.dylib (765.50.8) <54D1328E-054E-3DAA-89E2-375722F9D18F> /usr/lib/system/libxpc.dylib\n    0x7fff99809000 -     0x7fff9980affb  libremovefile.dylib (41) <552EF39E-14D7-363E-9059-4565AC2F894E> /usr/lib/system/libremovefile.dylib\n    0x7fff9985b000 -     0x7fff998c6ff7  com.apple.framework.CoreWLAN (11.0 - 1101.20) <3B35C543-7FCE-333F-80C1-432FA41DDCDE> /System/Library/Frameworks/CoreWLAN.framework/Versions/A/CoreWLAN\n    0x7fff998c7000 -     0x7fff998e9fff  com.apple.IconServices (68.1 - 68.1)  /System/Library/PrivateFrameworks/IconServices.framework/Versions/A/IconServices\n    0x7fff998ea000 -     0x7fff9993aff7  com.apple.Symbolication (1.4 - 58044)  /System/Library/PrivateFrameworks/Symbolication.framework/Versions/A/Symbolication\n    0x7fff99a2b000 -     0x7fff99a6dff7  com.apple.Metal (56.6 - 56.6) <30518711-8D00-3759-AA19-800D3C88E693> /System/Library/Frameworks/Metal.framework/Versions/A/Metal\n    0x7fff99a6e000 -     0x7fff99a9eff3  com.apple.CoreAVCHD (5.8.0 - 5800.4.2) <4AAFB1C4-3708-30F9-ACFA-90564347204C> /System/Library/PrivateFrameworks/CoreAVCHD.framework/Versions/A/CoreAVCHD\n    0x7fff99a9f000 -     0x7fff99ab0ff7  libz.1.dylib (61.20.1)  /usr/lib/libz.1.dylib\n    0x7fff99ac8000 -     0x7fff99ae6ff7  libsystem_kernel.dylib (3248.60.11)  /usr/lib/system/libsystem_kernel.dylib\n    0x7fff99aeb000 -     0x7fff99aeeffb  libdyld.dylib (360.22) <25D28225-99AE-3A04-B98C-ACFF47D6D9B0> /usr/lib/system/libdyld.dylib\n    0x7fff99aef000 -     0x7fff99b23ff7  com.apple.CoreVideo (1.8 - 191.3) <1AA24A1B-CB84-3F6B-B6DE-11494542649C> /System/Library/Frameworks/CoreVideo.framework/Versions/A/CoreVideo\n    0x7fff99b24000 -     0x7fff99b29fff  com.apple.TCC (1.0 - 1)  /System/Library/PrivateFrameworks/TCC.framework/Versions/A/TCC\n    0x7fff99d04000 -     0x7fff99d07fff  libspindump.dylib (197.1) <48F4C673-9F0C-38BE-B550-88241E812518> /usr/lib/libspindump.dylib\n    0x7fff99d08000 -     0x7fff99d16ff7  libbz2.1.0.dylib (38) <28E54258-C0FE-38D4-AB76-1734CACCB344> /usr/lib/libbz2.1.0.dylib\n    0x7fff99d27000 -     0x7fff99ecdff7  com.apple.audio.toolbox.AudioToolbox (1.13 - 1.13) <370E95BC-956C-3962-86CC-0A14CF6A0389> /System/Library/Frameworks/AudioToolbox.framework/Versions/A/AudioToolbox\n    0x7fff9a675000 -     0x7fff9a69eff7  libxslt.1.dylib (14.4) <72CD1CA4-1FBD-3672-ADCE-A89AB741689A> /usr/lib/libxslt.1.dylib\n    0x7fff9a7c9000 -     0x7fff9a8b9ff7  libJP2.dylib (1460) <01240EC3-6CC6-3D9A-AADB-6C3991D05840> /System/Library/Frameworks/ImageIO.framework/Versions/A/Resources/libJP2.dylib\n    0x7fff9a8ba000 -     0x7fff9a8d6ff7  libextension.dylib (78)  /usr/lib/libextension.dylib\n    0x7fff9a8e3000 -     0x7fff9a8e3fff  libenergytrace.dylib (10.40.1) <0A491CA7-3451-3FD5-999A-58AB4362682B> /usr/lib/libenergytrace.dylib\n    0x7fff9a90c000 -     0x7fff9a915ff7  com.apple.CommonAuth (4.0 - 2.0) <4B8673E1-3697-3FE2-8D30-AC7AC5D4F8BF> /System/Library/PrivateFrameworks/CommonAuth.framework/Versions/A/CommonAuth\n    0x7fff9a9ed000 -     0x7fff9a9f0fff  com.apple.IOSurface (108.2.3 - 108.2.3) <52E51D16-42E9-3DDB-A16C-48225EF262C4> /System/Library/Frameworks/IOSurface.framework/Versions/A/IOSurface\n    0x7fff9a9f1000 -     0x7fff9aa01fff  libbsm.0.dylib (34) <7E14504C-A8B0-3574-B6EB-5D5FABC72926> /usr/lib/libbsm.0.dylib\n    0x7fff9aa77000 -     0x7fff9aae5ff7  com.apple.ApplicationServices.ATS (377 - 394.4) <9779E916-0788-3CAC-B1EC-F68BCB12A2B6> /System/Library/Frameworks/ApplicationServices.framework/Versions/A/Frameworks/ATS.framework/Versions/A/ATS\n    0x7fff9ab21000 -     0x7fff9ab2bfff  com.apple.NetAuth (6.0 - 6.0)  /System/Library/PrivateFrameworks/NetAuth.framework/Versions/A/NetAuth\n    0x7fff9adc8000 -     0x7fff9ae37fff  com.apple.datadetectorscore (7.0 - 460)  /System/Library/PrivateFrameworks/DataDetectorsCore.framework/Versions/A/DataDetectorsCore\n    0x7fff9aeb7000 -     0x7fff9aed1fff  com.apple.Kerberos (3.0 - 1) <1B4744BF-E5AE-38E2-AA56-E22D3270F2E8> /System/Library/Frameworks/Kerberos.framework/Versions/A/Kerberos\n    0x7fff9b758000 -     0x7fff9b774ff7  libsystem_malloc.dylib (67.40.1) <5748E8B2-F81C-34C6-8B13-456213127678> /usr/lib/system/libsystem_malloc.dylib\n    0x7fff9b7f0000 -     0x7fff9b7f0ff7  libunc.dylib (29)  /usr/lib/system/libunc.dylib\n    0x7fff9b800000 -     0x7fff9b88ddd7  com.apple.AppleJPEG (1.0 - 1)  /System/Library/PrivateFrameworks/AppleJPEG.framework/Versions/A/AppleJPEG\n    0x7fff9b896000 -     0x7fff9b9c3ff3  com.apple.CoreText (352.0 - 494.12)  /System/Library/Frameworks/CoreText.framework/Versions/A/CoreText\n    0x7fff9bb08000 -     0x7fff9bee0fef  com.apple.CoreAUC (214.0.0 - 214.0.0)  /System/Library/PrivateFrameworks/CoreAUC.framework/Versions/A/CoreAUC\n    0x7fff9bf82000 -     0x7fff9bf9bfff  com.apple.openscripting (1.7.1 - 169.1) <36EBF6A7-334A-3197-838F-E8C7B27FCDBB> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/OpenScripting.framework/Versions/A/OpenScripting\n    0x7fff9c000000 -     0x7fff9c000fff  com.apple.Cocoa (6.11 - 22) <807787AB-D231-3F51-A99B-A9314623C571> /System/Library/Frameworks/Cocoa.framework/Versions/A/Cocoa\n    0x7fff9c001000 -     0x7fff9c053fff  com.apple.CloudDocs (1.0 - 383.13) <5FD9138D-09D9-3B97-BBAD-5692E1687F30> /System/Library/PrivateFrameworks/CloudDocs.framework/Versions/A/CloudDocs\n    0x7fff9c054000 -     0x7fff9c082ff7  com.apple.CoreServicesInternal (248.2 - 248.2) <6E111F0A-D7F1-3738-ADE7-CF983BD4EC8B> /System/Library/PrivateFrameworks/CoreServicesInternal.framework/Versions/A/CoreServicesInternal\n    0x7fff9c1b5000 -     0x7fff9c1ccfff  libmarisa.dylib (4)  /usr/lib/libmarisa.dylib\n    0x7fff9c23b000 -     0x7fff9c25dff7  com.apple.Sharing (442.13.6 - 442.13.6)  /System/Library/PrivateFrameworks/Sharing.framework/Versions/A/Sharing\n    0x7fff9c2a1000 -     0x7fff9c2f2ff7  libcups.2.dylib (435.2) <91584A40-214D-33E8-A613-CE22289037C8> /usr/lib/libcups.2.dylib\n    0x7fff9c2f3000 -     0x7fff9c45afff  libBLAS.dylib (1162.2)  /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libBLAS.dylib\n    0x7fff9c521000 -     0x7fff9c522ffb  libSystem.B.dylib (1226.10.1) <012548CD-614D-3AF0-B3B1-676F427D2CD6> /usr/lib/libSystem.B.dylib\n    0x7fff9c5a5000 -     0x7fff9c5a7ff7  libquarantine.dylib (80) <0F4169F0-0C84-3A25-B3AE-E47B3586D908> /usr/lib/system/libquarantine.dylib\n    0x7fff9c67d000 -     0x7fff9c67efff  libsystem_blocks.dylib (65) <1244D9D5-F6AA-35BB-B307-86851C24B8E5> /usr/lib/system/libsystem_blocks.dylib\n    0x7fff9c67f000 -     0x7fff9ca7bfff  libLAPACK.dylib (1162.2) <987E42B0-5108-3065-87F0-9DF7616A8A06> /System/Library/Frameworks/Accelerate.framework/Versions/A/Frameworks/vecLib.framework/Versions/A/libLAPACK.dylib\n    0x7fff9cbd0000 -     0x7fff9cc2efff  com.apple.CoreServices.OSServices (728.13 - 728.13) <27C12B92-7845-38DD-B82D-DC5B678352D6> /System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/OSServices.framework/Versions/A/OSServices\n    0x7fff9cc87000 -     0x7fff9cc9cfff  com.apple.AppContainer (4.0 - 261.40.2)  /System/Library/PrivateFrameworks/AppContainer.framework/Versions/A/AppContainer\n    0x7fff9cc9d000 -     0x7fff9ccfbfff  com.apple.SystemConfiguration (1.14 - 1.14)  /System/Library/Frameworks/SystemConfiguration.framework/Versions/A/SystemConfiguration\n    0x7fff9cd05000 -     0x7fff9d067f3f  libobjc.A.dylib (680) <7489D2D6-1EFD-3414-B18D-2AECCCC90286> /usr/lib/libobjc.A.dylib\n    0x7fff9d06e000 -     0x7fff9d079fff  libkxld.dylib (3248.60.11) <4F0110D1-66C6-3FF2-B30D-5AD4F34080E1> /usr/lib/system/libkxld.dylib\n    0x7fff9d07a000 -     0x7fff9d07cfff  com.apple.loginsupport (1.0 - 1) <9B2F5F9B-ED38-313F-B798-D2B667BCD6B5> /System/Library/PrivateFrameworks/login.framework/Versions/A/Frameworks/loginsupport.framework/Versions/A/loginsupport\n    0x7fff9d07d000 -     0x7fff9d083ff7  com.apple.speech.recognition.framework (5.1.1 - 5.1.1) <9E5A980A-F455-32D5-BBEE-3BD6018CC45E> /System/Library/Frameworks/Carbon.framework/Versions/A/Frameworks/SpeechRecognition.framework/Versions/A/SpeechRecognition\n    0x7fff9d0e3000 -     0x7fff9d10cfff  libsystem_info.dylib (477.50.4)  /usr/lib/system/libsystem_info.dylib\n    0x7fff9d110000 -     0x7fff9d187feb  libcorecrypto.dylib (335.50.1)  /usr/lib/system/libcorecrypto.dylib\n    0x7fff9d188000 -     0x7fff9d1fcff3  com.apple.securityfoundation (6.0 - 55126)  /System/Library/Frameworks/SecurityFoundation.framework/Versions/A/SecurityFoundation\n    0x7fff9d272000 -     0x7fff9d272fff  com.apple.Accelerate (1.10 - Accelerate 1.10) <185EC96A-5AF0-3620-A4ED-4D3654D25B39> /System/Library/Frameworks/Accelerate.framework/Versions/A/Accelerate\n    0x7fff9d279000 -     0x7fff9d281fff  libGFXShared.dylib (12.1) <5A0C2493-200C-30BE-97D5-8E8C0B8E604D> /System/Library/Frameworks/OpenGL.framework/Versions/A/Libraries/libGFXShared.dylib\n    0x7fff9d282000 -     0x7fff9d284fff  com.apple.SecCodeWrapper (4.0 - 261.40.2) <1F832591-59A8-3B3F-943F-D6D827463782> /System/Library/PrivateFrameworks/SecCodeWrapper.framework/Versions/A/SecCodeWrapper\n    0x7fff9d285000 -     0x7fff9d2d1ff7  com.apple.corelocation (1486.17 - 1615.38) <6336CFC5-9D7D-3B76-B263-56DD6EBD0B8D> /System/Library/Frameworks/CoreLocation.framework/Versions/A/CoreLocation\n    0x7fff9d6c7000 -     0x7fff9d715ff7  libstdc++.6.dylib (104.1) <76E2AFB1-07E5-3F19-B692-F6E21B7E470D> /usr/lib/libstdc++.6.dylib\n    0x7fff9d716000 -     0x7fff9d808ff7  libiconv.2.dylib (44)  /usr/lib/libiconv.2.dylib\nExternal Modification Summary:\n  Calls made by other processes targeting this process:\n    task_for_pid: 188\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by this process:\n    task_for_pid: 0\n    thread_create: 0\n    thread_set_state: 0\n  Calls made by all processes on this machine:\n    task_for_pid: 57895\n    thread_create: 0\n    thread_set_state: 0\nVM Region Summary:\nReadOnly portion of Libraries: Total=320.3M resident=0K(0%) swapped_out_or_unallocated=320.3M(100%)\nWritable regions: Total=852.1M written=0K(0%) resident=0K(0%) swapped_out=0K(0%) unallocated=852.1M(100%)\n                            VIRTUAL   REGION\n\nREGION TYPE                        SIZE    COUNT (non-coalesced) \n===========                     =======  ======= \nActivity Tracing                  2048K        2 \nCG shared images                   144K        6 \nCoreAnimation                        8K        3 \nCoreUI image data                   80K        2 \nCoreUI image file                  128K        2 \nDispatch continuations            8192K        2 \nIOKit                             19.7M       40 \nKernel Alloc Once                    8K        3 \nMALLOC                            85.7M       47 \nMALLOC guard page                   32K        7 \nMemory Tag 242                      12K        2 \nMemory Tag 255                   672.8M      226 \nSTACK GUARD                       56.1M       24 \nStack                            153.7M       29 \nVM_ALLOCATE                      128.4M      621 \nVM_ALLOCATE (reserved)               4K        2         reserved VM address space (unallocated)\n__DATA                            25.8M      236 \n__IMAGE                            528K        2 \n__LINKEDIT                       102.6M       23 \n__TEXT                           217.8M      241 \n__UNICODE                          552K        2 \nmapped file                      249.1M       38 \nshared memory                    312.7M       27 \n===========                     =======  ======= \nTOTAL                              2.0G     1564 \nTOTAL, minus reserved VM space     2.0G     1564 \n```\n . Thank you it works.. ",
    "FriedaKallotter": "I am having this problem as well. In Atom it states:\nFailed to activate the Hydrogen package\nCannot find module '../build/Release/zmq.node'\nBefore that Hydrogen was working fine. I changed some Packages and was trying to fix an error with PyLs. After a while Hydrogen gave me this error. But I am not exactly sure which exact steps I took to break it.\n[Enter steps to reproduce:]\n\n...\n...\n\nAtom: 1.34.0 x64\u0001\nElectron: 2.0.16\nOS: Microsoft Windows 10 Home\nThrown From: Hydrogen package 2.8.0\nStack Trace\nFailed to activate the Hydrogen package\n```\nAt Cannot find module '../build/Release/zmq.node'\nError: Cannot find module '../build/Release/zmq.node'\n    at Module._resolveFilename (module.js:543:15)\n    at Module._resolveFilename (~/AppData/Local/atom/app-1.34.0/resources/electron.asar/common/reset-search-paths.js:35:12)\n    at Function.get_Module._resolveFilename (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:154667)\n    at Module.require (/app.asar/static/index.js:40:43)\n    at require (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:145974)\n    at /packages/Hydrogen/node_modules/zeromq/lib/index.js:6:11)\n    at /packages/Hydrogen/node_modules/zeromq/lib/index.js:857:3)\n    at Module.get_Module._compile (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:146684)\n    at Object.value [as .js] (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:150231)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:504:12)\n    at Function.Module._load (module.js:496:3)\n    at Module.require (/app.asar/static/index.js:47:45)\n    at require (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:145974)\n    at /packages/Hydrogen/node_modules/zeromq/index.js:2:18)\n    at /packages/Hydrogen/node_modules/zeromq/index.js:3:3)\n    at Module.get_Module._compile (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:146684)\n    at Object.value [as .js] (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:150231)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:504:12)\n    at Function.Module._load (module.js:496:3)\n    at Module.require (/app.asar/static/index.js:47:45)\n    at require (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:145974)\n    at /packages/Hydrogen/node_modules/jmp/index.js:37:11)\n    at /packages/Hydrogen/node_modules/jmp/index.js:450:3)\n    at Module.get_Module._compile (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:146684)\n    at Object.value [as .js] (~/AppData/Local/atom/app-1.34.0/resources/app/static/:11:150231)\n    at Module.load (module.js:561:32)\n    at tryModuleLoad (module.js:504:12)\n    at Function.Module._load (module.js:496:3)\n```\nCommands\n-6:44.6.0 hydrogen:run-all (input.hidden-input)\nNon-Core Packages\natom-ide-ui 0.13.0 \natom-python-run 0.9.7 \nautocomplete-python 1.12.0 \nbusy-signal 2.0.0 \nHydrogen 2.8.0 \nide-python 1.2.1 \nintentions 1.1.5 \nlinter 2.0.0 \nlinter-pylint 2.1.1 \nlinter-ui-default 1.7.1 \nplatformio-ide-terminal 2.9.0 \npython-runner 1.2.1 \nrun-python-simply 0.6.0\n. ",
    "thomasbazeille": "\nFailed to activate the Hydrogen package\n\nI get the same error message (but not the same trace) after after upgrading it to v2.8.0. To solve this, I downgraded fro now to v2.7.0 through:\napm uninstall hydrogen\napm install hydrogen@2.7.0\nWith that, everything works fine in Atom 1.26.1\n```\nError (0 , _util.promisify) is not a function\nFull Stack Trace:\nTypeError: (0 , util.promisify) is not a function\n    at Object. (/Users/thomasbazeille/.atom/packages/Hydrogen/lib/import-notebook.js:15:19)\n    at Object. (/Users/thomasbazeille/.atom/packages/Hydrogen/lib/import-notebook.js:148:2)\n    at Module.get_Module._compile (/private/var/folders/l/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module.load (module.js:439:3)\n    at Module.require (file:///private/var/folders/l/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app.asar/static/index.js:47:45)\n    at require (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/native-compile-cache.js:66:33)\n    at Object. (/Users/thomasbazeille/.atom/packages/Hydrogen/lib/main.js:57:47)\n    at Object. (/Users/thomasbazeille/.atom/packages/Hydrogen/lib/main.js:588:24)\n    at Module.get_Module.compile (/private/var/folders/l/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module.load (module.js:439:3)\n    at Module.require (file:///private/var/folders/l/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app.asar/static/index.js:47:45)\n    at require (internal/module.js:20:19)\n    at customRequire (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/static/:96:26)\n    at Package.requireMainModule (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/package.js:782:33)\n    at Package.activateNow (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/package.js:220:40)\n    at activationCommandSubscriptions.add.commandRegistry.onWillDispatch.event (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/package.js:865:28)\n    at Function.module.exports.Emitter.simpleDispatch (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/node_modules/event-kit/lib/emitter.js:25:20)\n    at Emitter.module.exports.Emitter.emit (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/node_modules/event-kit/lib/emitter.js:141:34)\n    at CommandRegistry.handleCommandEvent (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/command-registry.js:360:24)\n    at KeymapManager.module.exports.KeymapManager.dispatchCommandEvent (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/node_modules/atom-keymap/lib/keymap-manager.js:621:22)\n    at KeymapManager.module.exports.KeymapManager.handleKeyboardEvent (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/node_modules/atom-keymap/lib/keymap-manager.js:412:28)\n    at WindowEventHandler.handleDocumentKeyEvent (/private/var/folders/l_/wjqqm1010t59yh1sn_rqg88h0000gn/T/AppTranslocation/A97BDDAC-E76A-4AEC-8A9A-9A7CECC54625/d/Atom.app/Contents/Resources/app/src/window-event-handler.js:110:40)\nThe error was thrown from the Hydrogen package. This issue has already been reported.```. ",
    "buyology": "\nstart the kernel in the root directory of your project\n\n@lgeiger how would you do this?\nScripts cmd-i runs in the project root while Hydrogen runs in the directory of the actual file. @slavaGanzin sounds good, guess I'll have to patch it myself in the meantime. actually @slavaGanzin wouldn't it be relevant to submit the project path-patch in a separate PR?\nI cannot see why this shouldn't be the default behaviour especially with lots of ppl coming from Script and using this with the python kernel which makes imports a hassle out of the box. * Added check for length of atom.project.getPaths()-array\n Added support for multiprojects set-up (didn't know you could do this!)\n Refactored the settings into an enum with these three settings:\n  * firstProjectDir (default)\n  * projectDirOfFile\n  * dirOfFile. updated. I guess this has to do with the fact that Atom removes the decorator from the DOM as you scroll down and adds it back in and the scrollTop-state is lost?\nWonder if this needs to be fixed upstream in Atom (they do keep some registry of these components?) or if we could store this property somehow as it's removed and restore it upon recreation. Spent some time looking at this and from what I could see this clearly had something to do when they first remove it from the DOM and add it back in. \nI even tried to pull in https://github.com/atom/atom/pull/13880 as this is supposed to alter these things, and  off-screen-block-decorations-component has been removed, but I guess that behaviour's just been moved somewhere else\nIt'd be very nice if Atom had an event when they added the component back in, then at least we could store the scrollTop and add it back in. Do you have an actual input file to reproduce? \n(btws: \na) you should close the file headers.close() after your loop if you are not doing that already, \nb) as you are are dealing with pandas DataFrames, have you considered using to_csv?). Have you installed a kernel for R? Are you seeing any errors?\nCan you provide more insight into your environment?. Can you give some more details? Are you seeing errors of some sort?. I see, so sorry for not looking more closely at the previous issues. My reasoning was just that I couldn't imagine a situation where you would actually want to scroll upwards and downwards to see the entirety of a plot :nerd_face: (especially since R seems to somehow produce these gigantic plots out of the box relative to matplotlib? haven't looked to deep into that though)\nMaybe it would make sense to make the height of the output relative to the total viewport height?\nAnyway, I will pivot this PR into an addition to the new docs @BenRussert \ud83d\udc4d  . Thanks for the bug report! Seems to be the same issue as in #777 and #616\nConfirmed that it fails if you first run Hydrogen and then open a pdf, but works if you first open the pdf and then start a kernel\nIt seems that instead of pointing to the expected /<atom package dir>/atom-pdf-view/pdfjs-dist/build/pdf.worker.js the pdf workerSrc is set to /Atom.app/Contents/Resources/app/static/~, where it obviously can't find pdf_worker.js\ncc @izuzak. yes, that's a possible work around \ud83d\udc4d reopening this however so we can get it fixed :hole: :bug:. Great!. Agreed!. Was just going to write and say we need to catch this :) According to the docs it should return null if there is no projectpath? Need to test this. \nIs the way to test \"without\" a project path to open a file directly in atom?. :) cool! unlearning this kind of shortening stuff w/ go atm but looks reasonable :)\n@n-riesco this is not a string but the null/\"undefined\" keyword?. whoa it's kinda crazy you can do ''+null and end up with 'null'. but I guess the above is kind of exploiting javascript's null-handling a bit in the first place.. ",
    "max-sixty": "Thanks a lot for doing this! Really helpful. It's merged and undoubtedly better than the last one. \nThat said - I do think this would be far far simpler if running this was encompassed in the dockerfile, rather than 1) the dockerfile, 2) the run command, 3) the exec command and 4) the kernelgateway command in bash. \nBut @tiangolo appreciate you doing this, and only wish it had been here earlier!. Thanks for the response @tiangolo !\n\n...But in that case, wouldn't it be easier to use a Jupyter Docker stack?\n\nYes, good idea. \n\nOr the equivalent docker-compose.yml, probably both options.\n\nAgreed\n\nThe kernel settings wouldn't necessarily be like you specified above, as many users won't run that from a Linux machine but rather from Windows or Mac, and in those cases it will mostly be a Virtual Machine with a local IP (as 192.168.99.100).\n\nI use Docker for Mac and localhost worked for me. What makes you think you need the IP?\n\nSo it should probably be kept for backward compatibility.\n\nYour call, but there is a lot there! Might be simpler as a link to a 'Further detail' / 'Previous implementation' page. For a first time user, there's a lot of detail that's not really needed, and makes it look arduous to set this up when it's surprisingly simple. I'm sure there are several good approaches for making it simpler, though. \n\nI think I can easily add that to the README.md (it's almost already written in this issue \ud83d\ude06 ). Or do you want to take a stab at it and create a PR?\n\nIf you want to add it I would be honored! If you prefer me to, I'm happy to take a stab in the near future.\n. Beautiful, @tiangolo . > In the section Terminate the connection and container add a note explaining how to do it with the Jupyter Docker Stack (that would be a lot simpler).\nThat's just Ctrl-C now \ud83d\udc83 . The Remote Kernels section was in decent shape (I think I did a PR on this, or helped someone else to, IIRC). But I think a chunk has been repeated in a copy / paste (e.g. https://nteract.gitbooks.io/hydrogen/docs/Usage/RemoteKernelConnection.html#run-docker-container-with-docker-compose is there twice).\nAnd it could do with a spring clean. Does anyone know why this is here? I've been very happily using the Kernel Gateway!\n\nAs of December 2016, we recommend that you use a notebook server (version 4.3 or greater) instead of the Jupyter Kernel Gateway. We expect this to change in the future, and will update this README when that occurs.+\n\nHappy to pitch in. Is there a reason to have a kernel per file? \nThis makes my workflow much tougher - I'm copying and pasting code into a file to run it in the existing kernel! . I agree it's not a complete unadulterated slam dunk and there are multiple perspectives...\nI think a couple of changes we could make that would help everyone:\n- An option to have a global kernel\n- A way of setting a default kernel. I use a docker setup, and in order to get a kernel running in a new file, I need to run through 4-5 prompts (rather than Cmd-Enter if using a local kernel). Much of the frustration of the multiple kernels is around getting any kernel set up, not necessarily having the same kernel in that file. This eagerly awaits feedback \nReady to go from my end after this in answered: \n\nOne question: what's the difference between running a notebook and connection to a kernel there, and running kernelgateway. Should we replace all references to kernel-gateway with jupyter notebook, then?. @lgeiger I tried using the jupyter notebook approach. \n\nHow do you handle the token? I get a new one each time I start the process, which is fine when copying & pasting into a browser, but less convenient if it requires updating the config. I also have an SSL issue (using an unsigned certificate?) but that's a separate issue.\nThat's not needed for the kernel-gateway, as there's no authentication (which is fine if running locally).\nDo you enter it into the config each time?. I've made updates based on the prior feedback, thanks for those . @nikitakit thanks - that worked well.\nI've updated the documentation and ready to merge / open to more feedback. Updated!. Tests failed, but I think unrelated?. > the typo is still present\n\ud83e\udd15 \n...but now updated!. Thank you! Hope I can be helpful in the near future.. Or if there's only one kernel? But then maybe needs to state something like 'connected to Python 3; only kernel available'. I'm having issues with jupyter-notebook when using both a) http and b) tokens. I can't authenticate by typing the token into the login in the browser, let alone connect through hydrogen.\nI've followed all the steps in the 'Remote Kernel Connection' docs (which I wrote most of). Potentially there's an upstream change that doesn't allow http & tokens to work together?\n. Why this approach rather than tini? . FWIW this is repeated. How would someone find this?\nDespite the port mappings in the d-c file, localhost:8888 doesn't work?. Is this still true with tini?. What to remove?. \ud83e\udd26\u200d\u2642\ufe0f . ",
    "mandarup": "That was it, it installed successfully when ran without sudo!\nunfortunately, I guess which would be a separate concern, executing Hydrogen Run from within atom hangs and crashes editor. . ",
    "pedrecal": "I was having a similar issue. When i try to run the installation without sudo i get this:\n```\n/usr/share/atom/resources/app/apm/node_modules/fs-plus/node_modules/mkdirp/index.js:74\n                    throw err0;\n                          ^\nError: EACCES, permission denied '/opt/virtual_env'\n    at Object.fs.mkdirSync (fs.js:654:18)\n    at sync (/usr/share/atom/resources/app/apm/node_modules/fs-plus/node_modules/mkdirp/index.js:55:12)\n    at Function.sync (/usr/share/atom/resources/app/apm/node_modules/fs-plus/node_modules/mkdirp/index.js:61:24)\n    at Object.fsPlus.makeTreeSync (/usr/share/atom/resources/app/apm/node_modules/fs-plus/lib/fs-plus.js:343:23)\n    at Install.module.exports.Install.createAtomDirectories (/usr/share/atom/resources/app/apm/lib/install.js:544:10)\n    at Install.module.exports.Install.run (/usr/share/atom/resources/app/apm/lib/install.js:829:12)\n    at Object.module.exports.run (/usr/share/atom/resources/app/apm/lib/apm-cli.js:226:32)\n    at Object. (/usr/share/atom/resources/app/apm/lib/cli.js:8:7)\n    at Object. (/usr/share/atom/resources/app/apm/lib/cli.js:19:4)\n    at Module._compile (module.js:456:26)\n. Yeah! I just noticed that now! Sorry for taking your time. I'll try to find out what's happening.. When i try to install directly from atom, i get this:\n\nzeromq@4.1.1 install /tmp/apm-install-dir-11719-3659-ipbek9/node_modules/Hydrogen/node_modules/jmp/node_modules/zeromq\nprebuild-install || (npm run build:libzmq && node-gyp rebuild)\n\nnpm WARN engine portfinder@1.0.13: wanted: {\"node\":\">= 0.12.0\"} (current: {\"node\":\"0.10.40\",\"npm\":\"2.13.3\"})\nnpm WARN engine deep-extend@0.4.1: wanted: {\"node\":\">=0.12.0\",\"iojs\":\">=1.0.0\"} (current: {\"node\":\"0.10.40\",\"npm\":\"2.13.3\"})\nprebuild-install info begin Prebuild-install version 2.1.0\nprebuild-install info looking for local prebuild @ prebuilds/zeromq-v4.1.1-node-v1-linux-x64.tar.gz\nprebuild-install info looking for cached prebuild @ /home/pedrecal/.atom/.node-gyp/.npm/_prebuilds/https-github.com-zeromq-zeromq.js-releases-download-v4.1.1-zeromq-v4.1.1-node-v1-linux-x64.tar.gz\nprebuild-install http request GET https://github.com/zeromq/zeromq.js/releases/download/v4.1.1/zeromq-v4.1.1-node-v1-linux-x64.tar.gz\nprebuild-install http 404 https://github.com/zeromq/zeromq.js/releases/download/v4.1.1/zeromq-v4.1.1-node-v1-linux-x64.tar.gz\nprebuild-install WARN install No prebuilt binaries found (target=0.36.8 runtime=node arch=x64 platform=linux)\nsh: 1: npm: not found\nnpm ERR! Linux 3.16.0-4-amd64\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/pedrecal/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/pedrecal/.atom/.apmrc\" \"install\" \"/tmp/d-11719-3659-1v7dh1z/package.tgz\" \"--target=0.36.8\" \"--arch=x64\"\nnpm ERR! node v0.10.40\nnpm ERR! npm  v2.13.3\nnpm ERR! file sh\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno ENOENT\nnpm ERR! syscall spawn\nnpm ERR! zeromq@4.1.1 install: prebuild-install || (npm run build:libzmq && node-gyp rebuild)\nnpm ERR! spawn ENOENT\nnpm ERR! \nnpm ERR! Failed at the zeromq@4.1.1 install script 'prebuild-install || (npm run build:libzmq && node-gyp rebuild)'.\nnpm ERR! This is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     prebuild-install || (npm run build:libzmq && node-gyp rebuild)\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-11719-3659-ipbek9/npm-debug.log\n```\nThis only happens with hydrogen.. It worked! Thank you so much!. ",
    "amitnagis": "\nHow do you have these separate python setups installed?\n\nLet me give an answer in layman terms: I have two python2.7 , let me call them A and B respectively. A is native python2.7 that is preinstalled with MacOS at /usr/bin/python2.7. B was installed using macports at /opt/local/bin/python2.7. Jupyter was installed twice as follows\n/usr/local/bin/pip install jupyter\nand\n/opt/local/bin/pip-2.7 install jupyter.\nThen, atom was downloaded from the atom website and installed, followed by installation of Hydrogen via atom package manager. Ideally I would like to have the freedom to use Hydrogen with either of /usr/bin/python2.7 and /opt/local/bin/python2.7 but it seems by default it assumes /usr/bin/python2.7.\nTo give perspective, let me say that when I run /opt/local/bin/jupyter-2.7 notebook  in the terminal I work with  /opt/local/bin/python2.7 and access all the installed libraries in the notebook, instead when I run /usr/local/bin/jupyter notebook  I work with /usr/bin/python2.7 and can correspondingly call all the installed libraries with this python version.\nI apologize for not following your answer. I thought therefore, I should perhaps give a more detailed description of my issue incase I wasn't clear to begin with. It is possible that your aforesaid solution solves my problem- in that case I would be grateful if you could explain your solution in layman terms so I that I can implement it without screwing up existing workflow to access python installations by calling different jupyter notebooks. \nThanks. Hey! thanks for the elaborate reply! Your first solution worked like a charm- but it was your last post that gave me the understanding and the eventual confidence to implement your first solution. Thanks a lot.. ",
    "plumps": "Fortunately 1.12 is already stable . ",
    "gsportelli": "Ahhh... that was it!\nBoth the examples work. Now I remember, I was messing with the IPython config folder a few months ago. Will have to fix it again.\nThanks!. ",
    "MichaelStetner": "I've been having this problem too, and it affects other multi-line statements. In all of the following examples, I have the cursor at the beginning of the first line and push Ctrl+Enter. \nFor example, the following causes an error:\nprint(\n    \"hello\"\n)\nError message:\nFile \"<ipython-input-8-5d8744617373>\", line 2\n    \"hello\"\n           ^\nSyntaxError: unexpected EOF while parsing\nIt works if I indent the closing parenthesis, like this:\nprint(\n    \"hello\"\n )\nSame for triple quoted blocks. This triple quoted block evaluates just fine:\n\"\"\"\n hello\n \"\"\"\nIt seems like Hydrogen is detecting multi-line statements based on indentation only, not parentheses or triple quotes.. This seems like the same issue that is mentioned here: https://nteract.gitbooks.io/hydrogen/docs/Installation.html\nFollowing the instructions from that page, I was able to install it from the command line by doing apm install hydrogen. ",
    "mohitv789": "I am getting this error while running following code: :(\n```\nHierarchical Clustering Code\nImporting the libraries\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nImporting the dataset\ndataset = pd.read_csv('Mall_Customers.csv')\nX = dataset.iloc[:, [3, 4]].values\ny = dataset.iloc[:, 3].values\nSplitting the dataset into the Training set and Test set\nfrom sklearn.cross_validation import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 0)\"\"\"\nFeature Scaling\nfrom sklearn.preprocessing import StandardScaler\nsc_X = StandardScaler()\nX_train = sc_X.fit_transform(X_train)\nX_test = sc_X.transform(X_test)\nsc_y = StandardScaler()\ny_train = sc_y.fit_transform(y_train)\nUsing the dendrogram to find the optimal number of clusters\nimport scipy.cluster.hierarchy as sch\ndendrogram = sch.dendrogram(sch.linkage(X, method = 'ward'))\nplt.title('Dendrogram')\nplt.xlabel('Customers')\nplt.ylabel('Euclidean distances')\nplt.show()\nFitting Hierarchical Clustering to the dataset\nfrom sklearn.cluster import AgglomerativeClustering\nhc = AgglomerativeClustering(n_clusters = 5, affinity = 'euclidean', linkage = 'ward')\ny_hc = hc.fit_predict(X)\nVisualising the clusters\nplt.scatter(X[y_hc == 0, 0], X[y_hc == 0, 1], s = 100, c = 'red', label = 'Cluster 1')\nplt.scatter(X[y_hc == 1, 0], X[y_hc == 1, 1], s = 100, c = 'blue', label = 'Cluster 2')\nplt.scatter(X[y_hc == 2, 0], X[y_hc == 2, 1], s = 100, c = 'green', label = 'Cluster 3')\nplt.scatter(X[y_hc == 3, 0], X[y_hc == 3, 1], s = 100, c = 'cyan', label = 'Cluster 4')\nplt.scatter(X[y_hc == 4, 0], X[y_hc == 4, 1], s = 100, c = 'magenta', label = 'Cluster 5')\nplt.title('Clusters of customers')\nplt.xlabel('Annual Income (k$)')\nplt.ylabel('Spending Score (1-100)')\nplt.legend()\nplt.savefig(\"plot_hc.png\")\n```. @kylebarron Thanks!. ",
    "joselatrans": "No, it's not working there either. Igeiger thanks\nI already solved the issue, your comment was of much help.. ",
    "mda6": "I am having similar issue on windows 10 64bits\nI notice the lag when i want to select some code up and down.. and it becomes really noticeable..\nI tried some for loop to test Hydrogen and some print cells as well and this happened for me too.\nI think that shutting down the kernel fixes or to run some variable only i.e. item = 1. Actually, shutting the kernel down or restarting, dose not fixes the issue always.. now i had to reload atom to fix it. @lgeiger you are right! I tried it with one dark everything is fine.. \nI am using the Atom Material theme.. can you try and reproduce it on your side?\nThank you!\nedit: how would i go and find the problem with this? I'd like to continue using Atom Material :). Thanks man. @n-riesco Thanks.. but what about everything else? Is it possible integrate Atom with Nuke so i can use Hydrogen on code writen for nuke directly inside Atom?. @n-riesco If you mean by what can be done in Python..  take a look at this: https://github.com/Nvizible/NukeExternalControl (with my limited knowledge i am not sure i understand it completly, but i think this is it?) maybe we can go from there?\nAnd thanks a ton for taking the time with me!. @n-riesco I got this thing working! But to a point am not sure where to go from here on..\nWhat i did is added the code in Startup Code in Atom (i added the lines that starts the connection between python and nuke.\nNow i can call nuke commands from Hydrogen inside Atom! i.e. \"print nuke.selectedNodes()\" I get result of selected nodes from Nuke (which is awesome!)\nBut i am not sure why some of my other variables are not printed by Hydrogen. i.e. 2 level for loop with if else statements working with default dictionary - and Hydrogen is giving me result as the dictionary is empty where it is not (if i run the code directly i get the correct result)\nedit: though do i need to create custom kernel if i'd like to use the Nuke's python interpreter that ships with it?. Actually not really.. the only thing that i noticed is when i was switching back to that buffer from another. ",
    "vuki": "I'm on Windows, but I think that Linux uses the same shortcut.\n'atom-workspace atom-text-editor':\n  'ctrl-backspace': 'editor:delete-to-beginning-of-word'\n\nctrl-alt-backspace seems to be already taken by the core module.\n'.platform-win32 atom-text-editor':\n  'ctrl-alt-backspace': 'bracket-matcher:remove-matching-brackets'\n\n. Thanks for response. ctrl-shift-backspace  seems to be available.\nI know about keybindings, I did this, but it's cumbersome to do this on every machine I use Atom on.. ",
    "hz": "Besides Plotly, could Bokeh be introduced with hydrogen remote gateway support? . ",
    "erdemalpkaya": "Sorry, I wrote again but I would like work atom and still the same issue just I want to know how can we fix the problem or do I have to wait?. (from #557) for Python it is still not working. ",
    "bu2": "@rgbkrk Hi, I confirm that Bokeh does not work in Atom/Hydrogen because of CSP.\nI test the following example:\n```\nimport numpy as np\nfrom six.moves import zip\nfrom bokeh.plotting import figure, show, output_notebook\nN = 4000\nx = np.random.random(size=N) * 100\ny = np.random.random(size=N) * 100\nradii = np.random.random(size=N) * 1.5\ncolors = [\"#%02x%02x%02x\" % (int(r), int(g), 150) for r, g in zip(50+2x, 30+2y)]\nTOOLS=\"hover,crosshair,pan,wheel_zoom,box_zoom,reset,tap,save,box_select,poly_select,lasso_select\"\noutput_notebook()\np = figure(tools=TOOLS)\np.scatter(x,y, radius=radii, fill_color=colors, fill_alpha=0.6, line_color=None)\nshow(p)\n```\nIt works well in the browser, but fail in Atom with following error: \n\nresult-view.js [sm]:180 Refused to execute inline script because it violates the following Content Security Policy directive: \"script-src 'self'\". Either the 'unsafe-inline' keyword, a hash ('sha256-ogkYwsWoO1rOzslISuHG1VOYtS/i17cD7hIASgVCFsY='), or a nonce ('nonce-...') is required to enable inline execution.\n\nI will let you know if I can fix it.... ",
    "eskemojoe007": "I am behind a proxy, but I've set up the proxy using the .apmrc file per usual without strict SSL.  The errors I'm getting are consistent with what I got last time including the zeromq lines.  I had to tell it which python to use according the old instructions.\nI tried installing using apm install hydrogen and got the following output\n```\nD:\\Users\\212333077>apm install hydrogen\nINFO: Could not find files for the given pattern(s).\nInstalling hydrogen to D:\\Users\\212333077.atom\\packages failed\n\nzeromq@4.1.0 install D:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-1161\n122-12220-10sm5cl\\node_modules\\Hydrogen\\node_modules\\zeromq\nprebuild-install || (npm run build:libzmq && node-gyp rebuild)\nzeromq@4.1.0 build:libzmq D:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir\n-1161122-12220-10sm5cl\\node_modules\\Hydrogen\\node_modules\\zeromq\nnode scripts/preinstall.js\n\nDownloading libzmq for Windows\nD:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-1161122-12220-10sm5cl\n`-- (empty)\nprebuild-install info begin Prebuild-install version 2.0.3\nprebuild-install info looking for local prebuild @ prebuilds\\zeromq-v4.1.0-elect\nron-v49-win32-ia32.tar.gz\nprebuild-install info looking for cached prebuild @ D:\\Users\\212333077\\AppData\\R\noaming\\npm-cache_prebuilds\\https-github.com-zeromq-zeromq.js-releases-download-\nv4.1.0-zeromq-v4.1.0-electron-v49-win32-ia32.tar.gz\nprebuild-install http request GET https://github.com/zeromq/zeromq.js/releases/d\nownload/v4.1.0/zeromq-v4.1.0-electron-v49-win32-ia32.tar.gz\nprebuild-install WARN install getaddrinfo ENOTFOUND github.com github.com:443\nevents.js:141\n      throw er; // Unhandled 'error' event\n      ^\nError: getaddrinfo ENOTFOUND github.com github.com:443\n    at errnoException (dns.js:27:10)\n    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:78:26)\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"D:\\Users\\212333077\\AppData\\Local\\atom\\app-1.12.7\\resources\n\\app\\apm\\bin\\node.exe\" \"D:\\Users\\212333077\\AppData\\Local\\atom\\app-1.12\n.7\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"build:libzmq\n\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.1.0 build:libzmq: node scripts/preinstall.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.1.0 build:libzmq script 'node scripts/preinstall\n.js'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/preinstall.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to in\nstall?\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     D:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-1161122-12220-\n10sm5cl\\node_modules\\Hydrogen\\node_modules\\zeromq\\npm-debug.log\nnpm WARN enoent ENOENT: no such file or directory, open 'D:\\Users\\212333~1\\AppDa\nta\\Local\\Temp\\apm-install-dir-1161122-12220-10sm5cl\\package.json'\nnpm WARN apm-install-dir-1161122-12220-10sm5cl No description\nnpm WARN apm-install-dir-1161122-12220-10sm5cl No repository field.\nnpm WARN apm-install-dir-1161122-12220-10sm5cl No README data\nnpm WARN apm-install-dir-1161122-12220-10sm5cl No license field.\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"D:\\Users\\212333077\\AppData\\Local\\atom\\app-1.12.7\\resources\n\\app\\apm\\bin\\node.exe\" \"D:\\Users\\212333077\\AppData\\Local\\atom\\app-1.12\n.7\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"D\n:\\Users\\212333077\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"D:\\Users\\212333077\\\n.atom\\.apmrc\" \"install\" \"D:\\Users\\212333~1\\AppData\\Local\\Temp\\d-1161122-1\n2220-tm5jh1\\package.tgz\" \"--runtime=electron\" \"--target=1.3.13\" \"--arch=ia32\" \"\n--global-style\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.1.0 install: prebuild-install || (npm run build:libzmq && nod\ne-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.1.0 install script 'prebuild-install || (npm run\n build:libzmq && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     prebuild-install || (npm run build:libzmq && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     D:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-1161122-12220-\n10sm5cl\\npm-debug.log\nnpm ERR! code 1\n``\n. I don't believe I have node locally.  I can change networks this evening to try my home non-proxy setup.. Ah....I actually think this is a proxy problem.  Even though I set up my apm to access my proxy, another package sync-settings had an issue syncing to github until they changed to another branch of github and I set my user variables to have the proper proxy.  See https://github.com/atom-community/sync-settings/issues/142.  The same change might need to be done here.. I installed node out of the box and triednpm install zeromq` which failed with the following error:\n```\nD:\\Users\\212333077>npm install zeromq\n\nzeromq@4.1.0 install D:\\Users\\212333077\\node_modules\\zeromq\nprebuild-install || (npm run build:libzmq && node-gyp rebuild)\n\nprebuild-install info begin Prebuild-install version 2.0.3\nprebuild-install info looking for local prebuild @ prebuilds\\zeromq-v4.1.0-node-\nv48-win32-x64.tar.gz\nprebuild-install info looking for cached prebuild @ D:\\Users\\212333077\\AppData\\R\noaming\\npm-cache_prebuilds\\https-github.com-zeromq-zeromq.js-releases-download-\nv4.1.0-zeromq-v4.1.0-node-v48-win32-x64.tar.gz\nprebuild-install http request GET https://github.com/zeromq/zeromq.js/releases/d\nownload/v4.1.0/zeromq-v4.1.0-node-v48-win32-x64.tar.gz\nprebuild-install WARN install getaddrinfo ENOTFOUND github.com github.com:443\n\nzeromq@4.1.0 build:libzmq D:\\Users\\212333077\\node_modules\\zeromq\nnode scripts/preinstall.js\n\nDownloading libzmq for Windows\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\nError: getaddrinfo ENOTFOUND github.com github.com:443\n    at errnoException (dns.js:28:10)\n    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\\nnode_modules\\npm\\bin\\npm-cli.js\" \"run\" \"build:libzmq\"\nnpm ERR! node v6.9.2\nnpm ERR! npm  v3.10.9\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.1.0 build:libzmq: node scripts/preinstall.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.1.0 build:libzmq script 'node scripts/preinstall\n.js'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/preinstall.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to in\nstall?\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     D:\\Users\\212333077\\node_modules\\zeromq\\npm-debug.log\nnpm WARN enoent ENOENT: no such file or directory, open 'D:\\Users\\212333077\\pack\nage.json'\nnpm WARN 212333077 No description\nnpm WARN 212333077 No repository field.\nnpm WARN 212333077 No README data\nnpm WARN 212333077 No license field.\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\\nnode_modules\\npm\\bin\\npm-cli.js\" \"install\" \"zeromq\"\nnpm ERR! node v6.9.2\nnpm ERR! npm  v3.10.9\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.1.0 install: prebuild-install || (npm run build:libzmq && nod\ne-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.1.0 install script 'prebuild-install || (npm run\n build:libzmq && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     prebuild-install || (npm run build:libzmq && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     D:\\Users\\212333077\\npm-debug.log\n```\nI then set the npm proxy up following https://jjasonclark.com/how-to-setup-node-behind-web-proxy/ with strict npm config set strict-ssl false as well.  Same errors.. I also verified that my env variable are set:\n```\nD:\\Users\\212333077\\Desktop>echo %HTTP_PROXY%\nhttp://foo.com:80\nD:\\Users\\212333077\\Desktop>echo %HTTPS_PROXY%\nhttp://foo.com:80\n``. @ianfiske, I eventually installed in a proxy-less environment.  Sorry.. I must have done a poor search.  Sorry to pen another issue when you were already aware.  . @n-riesco running into a similar issue.  I've used Hydrogen for quite some time.  Updating atom to 1.28 broke everything on my windows rigs.  I fixed the python issue by usingapm config set python c:\\path\\to\\python2`, but now run into canvas issues a little different than above. \nInstalling hydrogen to C:\\Users\\<username>\\.atom\\packages failed\n\n> canvas@1.6.11 install C:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\node_modules\\Hydrogen\\node_modules\\canvas\n> node-gyp rebuild\n\n\nC:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\node_modules\\Hydrogen\\node_modules\\canvas>if not defined npm_config_node_gyp (node \"C:\\Users\\<username>\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\<username>\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\n\n> zeromq@4.6.0 install C:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\node_modules\\Hydrogen\\node_modules\\zeromq\n> node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\n\nThe system cannot find the path specified.\n\nDownloading libzmq for Windows\nDownload finished\n\nC:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\node_modules\\Hydrogen\\node_modules\\zeromq>if not defined npm_config_node_gyp (node \"C:\\Users\\<username>\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\<username>\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\nC:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\n`-- (empty)\n\n\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\<username>\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.15063\ngyp ERR! command \"C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\atom\\\\app-1.28.0\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\atom\\\\app-1.28.0\\\\resources\\\\app\\\\apm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\node_modules\\Hydrogen\\node_modules\\canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\<username>\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.15063\ngyp ERR! command \"C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\atom\\\\app-1.28.0\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\atom\\\\app-1.28.0\\\\resources\\\\app\\\\apm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\node_modules\\Hydrogen\\node_modules\\zeromq\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-11862-12176-m0scbf.01h1cq5mi No description\nnpm WARN apm-install-dir-11862-12176-m0scbf.01h1cq5mi No repository field.\nnpm WARN apm-install-dir-11862-12176-m0scbf.01h1cq5mi No README data\nnpm WARN apm-install-dir-11862-12176-m0scbf.01h1cq5mi No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 (node_modules\\Hydrogen\\node_modules\\canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 install: `node-gyp rebuild`\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Windows_NT 10.0.15063\nnpm ERR! argv \"C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\atom\\\\app-1.28.0\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\<username>\\\\AppData\\\\Local\\\\atom\\\\app-1.28.0\\\\resources\\\\app\\\\apm\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"--globalconfig\" \"C:\\\\Users\\\\<username>\\\\.atom\\\\.apm\\\\.apmrc\" \"--userconfig\" \"C:\\\\Users\\\\<username>\\\\.atom\\\\.apmrc\" \"install\" \"C:\\\\Users\\\\<usershort>~1\\\\AppData\\\\Local\\\\Temp\\\\d-11862-12176-9a9b1g.qpewixusor\\\\package.tgz\" \"--runtime=electron\" \"--target=2.0.3\" \"--arch=x64\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\n\nnpm ERR! zeromq@4.6.0 install: `node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\<usershort>~1\\AppData\\Local\\Temp\\apm-install-dir-11862-12176-m0scbf.01h1cq5mi\\npm-debug.log\nnpm ERR! code 1\n\nI have installed GTK2 and libjpeg-turbo per the canvas documentation and get the same errors.  Is the nan package missing?  I navigated to \\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\bin and ran npm install nan with no luck.. @n-riesco It seems as though #1352 discusses the same issue I am having.. Similarly #1298 had some discussion around this.. Updating with Atom 1.28.1 has the same issue:\napm  1.19.0\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.28.1\npython 2.7.13\ngit 2.16.2.windows.1\nvisual studio 2015\n\nThe error still persists\nInstalling hydrogen to C:\\Users\\USERNNAME\\.atom\\packages failed\n\n> canvas@1.6.11 install C:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\node_modules\\Hydrogen\\node_modules\\canvas\n> node-gyp rebuild\n\n\nC:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\node_modules\\Hydrogen\\node_modules\\canvas>if not defined npm_config_node_gyp (node \"C:\\Users\\USERNNAME\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\USERNNAME\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\n\n> zeromq@4.6.0 install C:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\node_modules\\Hydrogen\\node_modules\\zeromq\n> node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\n\nThe system cannot find the path specified.\n\nDownloading libzmq for Windows\nDownload finished\n\nC:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\node_modules\\Hydrogen\\node_modules\\zeromq>if not defined npm_config_node_gyp (node \"C:\\Users\\USERNNAME\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\USERNNAME\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\nC:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\n`-- (empty)\n\n\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\USERNNAME\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.15063\ngyp ERR! command \"C:\\\\Users\\\\USERNNAME\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\USERNNAME\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\node_modules\\Hydrogen\\node_modules\\canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\USERNNAME\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.15063\ngyp ERR! command \"C:\\\\Users\\\\USERNNAME\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\USERNNAME\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\node_modules\\Hydrogen\\node_modules\\zeromq\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-118611-15728-bobvct.fegs2u766r No description\nnpm WARN apm-install-dir-118611-15728-bobvct.fegs2u766r No repository field.\nnpm WARN apm-install-dir-118611-15728-bobvct.fegs2u766r No README data\nnpm WARN apm-install-dir-118611-15728-bobvct.fegs2u766r No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 (node_modules\\Hydrogen\\node_modules\\canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 install: `node-gyp rebuild`\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Windows_NT 10.0.15063\nnpm ERR! argv \"C:\\\\Users\\\\USERNNAME\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\USERNNAME\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"--globalconfig\" \"C:\\\\Users\\\\USERNNAME\\\\.atom\\\\.apm\\\\.apmrc\" \"--userconfig\" \"C:\\\\Users\\\\USERNNAME\\\\.atom\\\\.apmrc\" \"install\" \"C:\\\\Users\\\\USERSHORT~1\\\\AppData\\\\Local\\\\Temp\\\\d-118611-15728-gw1fpd.tpi1pxpqfr\\\\package.tgz\" \"--runtime=electron\" \"--target=2.0.4\" \"--arch=x64\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\n\nnpm ERR! zeromq@4.6.0 install: `node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\USERSHORT~1\\AppData\\Local\\Temp\\apm-install-dir-118611-15728-bobvct.fegs2u766r\\npm-debug.log\nnpm ERR! code 1. To clarify I have this issue with multiple PC's, although their setup is almost identical.  I also had installed node a similar time.  I went fully nuclear.\n\nRemoving Everything\n- Uninstall Atom using windows uninstaller\n- Delete c:\\Users\\USERNAME\\.atom\n- Delete c:\\Users\\USERNAME\\AppData\\Local\\atom\n- Delete c:\\Users\\USERNAME\\AppData\\Roaming\\atom\n- Remove any trace of node similarly (though probably not necessary)\nAttempting to reinstall hydrogen and atom:\n- Reinstalled Atom\n- Attempted to install hydrogen behind proxy with global HTTP_PROXY and HTTPS_PROXY variables.  Failed with Python 3 error message\n-  ran into the typical python 3 issue where I had to enter apm config set python /path/to/python2. \n- Installed again, failed due to known proxy issues with hydrogen\n- I disconnected to a proxy-free network, removed my proxy settings, and tried again with the same error message.\nAttempt 2 \n- Follow all the steps in \"Remove Everything\"\n- Reinstalled Atom\n- Set Python to python 2 first\n- No proxy, connected to open network, proxy settings disabled and not in .apmrc\n- Still failed with the same error message\nSee the error message again below.  This doesn't seem to be a corrupt ATOM issue.  \nInstalling hydrogen to C:\\Users\\212333077\\.atom\\packages failed\n\n> canvas@1.6.11 install C:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\node_modules\\Hydrogen\\node_modules\\canvas\n> node-gyp rebuild\n\n\nC:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\node_modules\\Hydrogen\\node_modules\\canvas>if not defined npm_config_node_gyp (node \"C:\\Users\\212333077\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\212333077\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\n\n> zeromq@4.6.0 install C:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\node_modules\\Hydrogen\\node_modules\\zeromq\n> node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\n\nThe system cannot find the path specified.\n\nDownloading libzmq for Windows\nDownload finished\n\nC:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\node_modules\\Hydrogen\\node_modules\\zeromq>if not defined npm_config_node_gyp (node \"C:\\Users\\212333077\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\\\..\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\212333077\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\nC:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\n`-- (empty)\n\n\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\212333077\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.15063\ngyp ERR! command \"C:\\\\Users\\\\212333077\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\212333077\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\node_modules\\Hydrogen\\node_modules\\canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: `gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\212333077\\AppData\\Local\\atom\\app-1.28.1\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.15063\ngyp ERR! command \"C:\\\\Users\\\\212333077\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\212333077\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\node_modules\\\\node-gyp\\\\bin\\\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\node_modules\\Hydrogen\\node_modules\\zeromq\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-118611-6988-190hmgf.qg8eb138fr No description\nnpm WARN apm-install-dir-118611-6988-190hmgf.qg8eb138fr No repository field.\nnpm WARN apm-install-dir-118611-6988-190hmgf.qg8eb138fr No README data\nnpm WARN apm-install-dir-118611-6988-190hmgf.qg8eb138fr No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 (node_modules\\Hydrogen\\node_modules\\canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 install: `node-gyp rebuild`\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Windows_NT 10.0.15063\nnpm ERR! argv \"C:\\\\Users\\\\212333077\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\bin\\\\node.exe\" \"C:\\\\Users\\\\212333077\\\\AppData\\\\Local\\\\atom\\\\app-1.28.1\\\\resources\\\\app\\\\apm\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"--globalconfig\" \"C:\\\\Users\\\\212333077\\\\.atom\\\\.apm\\\\.apmrc\" \"--userconfig\" \"C:\\\\Users\\\\212333077\\\\.atom\\\\.apmrc\" \"install\" \"C:\\\\Users\\\\212333~1\\\\AppData\\\\Local\\\\Temp\\\\d-118611-6988-1dxb3e.powz6c4n29\\\\package.tgz\" \"--runtime=electron\" \"--target=2.0.4\" \"--arch=x64\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\n\nnpm ERR! zeromq@4.6.0 install: `node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\212333~1\\AppData\\Local\\Temp\\apm-install-dir-118611-6988-190hmgf.qg8eb138fr\\npm-debug.log\nnpm ERR! code 1. @n-riesco Looked into some of that...couldn't find any actionable things to do, this is now out of my league.  I guess I have to switch editors, as I need hydrogen on the daily.  . Shouldn't be a username as my windows usernames on both machines are either a single name like \"billy\" or a numeric string like \"123456\".  It worked up until the recent updates to 1.28 when Hydrogen needed to be rebuilt.. @n-riesco - my `apm --version` yeilds:\n\nC:\\Users\\212333077>apm --version\napm  1.19.0\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.28.1\npython 2.7.13\ngit 2.16.2.windows.1\nvisual studio 2015\n\nHmmm...I nuked my atom and everything, but it looks like the new 1.28 should have Node 8.9:\n\nThis also upgrades Atom\u2019s Node.js from 7.9.0 to 8.9.3\n\nI'll try nuking again.. When looking in the console, I too get 8.9.3, but with a different APM Version.  See https://github.com/atom/apm/issues/328.. @n-riesco can you look at your successful machine's path? and put that here (obviously removing any non-atom related paths.). Hmmm...its interesting to me that you don't have C:\\Users\\user\\AppData\\Local\\atom\\bin...how do you access apm from the command line?  I've been adding that the last couple of nuke and installs.  \nMine looks like this:\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\nC:\\Apps\\product\\11.2.0\\client_1\\bin\nC:\\ProgramData\\Oracle\\Java\\javapath\nC:\\Program Files (x86)\\Windows Resource Kits\\Tools\\\nC:\\Sybase\\DataAccess\\OLEDB\\dll\nC:\\Sybase\\DataAccess\\ODBC\\dll\nC:\\Sybase\\OCS-12_5\\lib3p\nC:\\Sybase\\ADO.NET\\dll\nC:\\Sybase\\OLEDB\nC:\\Sybase\\ODBC\nC:\\Sybase\\OCS-12_5\\dll\nC:\\Sybase\\OCS-12_5\\bin\nC:\\Apps\\cygwin\\bin\nC:\\Windows\\system32\nC:\\Windows\nC:\\Windows\\System32\\Wbem\nC:\\Windows\\System32\\WindowsPowerShell\\v1.0\\\nC:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common\nC:\\Apps\\Tcl\\bin\nC:\\Apps\\perl\\bin\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Windows Performance Toolkit\\\nC:\\Program Files (x86)\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\\nC:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\\nC:\\Program Files (x86)\\Microsoft SQL Server\\140\\DTS\\Binn\\\nC:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\\nC:\\Program Files\\Cloud Foundry\nC:\\Program Files\\Git\\cmd\nC:\\Users\\user\\AppData\\Local\\Programs\\Python\\Launcher\\\nC:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python36\\Scripts\\\nC:\\Users\\user\\AppData\\Local\\Programs\\Python\\Python36\\\nC:\\Users\\user\\AppData\\Local\\Microsoft\\WindowsApps\nC:\\Users\\user\\AppData\\Local\\GitHubDesktop\\bin\nC:\\Users\\user\\AppData\\Local\\Programs\\MiKTeX 2.9\\miktex\\bin\\x64\\\nC:\\Python27\\\nC:\\Users\\user\\AppData\\Local\\atom\\bin\n\n. I've never had it in the path before, since Atom ships with its own node implementation of node.  I've never had to install my own node in the past.\nJust tried running on older versions (which used to work) with the same error message.\nC:\\Users\\user>apm --version\napm  1.19.0\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.27.2\npython 2.7.13\ngit 2.16.2.windows.1\nvisual studio 2015\n\nC:\\Users\\user>atom --version\n\nAtom    : 1.27.2\nElectron: 1.7.15\nChrome  : 58.0.3029.110\nNode    : 7.9.0\n\nC:\\Users\\user>apm install hydrogen@2.2.3\nInstalling hydrogen@2.2.3 to C:\\Users\\user\\.atom\\packages failed\n\nC:\\Users\\user>apm install hydrogen@2.1.1\nInstalling hydrogen@2.1.1 to C:\\Users\\user\\.atom\\packages failed\n\n. SOLVED\nHad nothing to do with path, nothing to do with python 3 vs 2 (although I think python 2 is still required), nothing to do with version, or with apm vs installing in atom (which I did check).\nI had previously installed some alias commands for windows by setting my registry HKEY_CURRENT_USER\\Software\\Microsoft\\Command Processor\\AutoRun to point at an alias file.  I had completely forgotten about doing this however.  Removing this key solved everything.  I found this solution at a couple of places:\n- https://github.com/lovell/sharp/issues/909\n- https://stackoverflow.com/questions/15485632/node-js-npm-error-message-system-cannot-find-the-path-specified\n- https://github.com/cmderdev/cmder/issues/121\nSo @crstnbr if you are still having problems...check that registry key.\nI succeed with older and newer versions of atom and hydrogen.  \nC:\\Users\\user>apm --version\napm  1.19.0\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.28.2\npython 2.7.13\ngit 2.16.2.windows.1\nvisual studio 2015\n\nC:\\Users\\user>atom --version\n\nAtom    : 1.28.2\nElectron: 2.0.5\nChrome  : 61.0.3163.100\nNode    : 8.9.3\n\nC:\\Users\\user>apm install hydrogen\nInstalling hydrogen to C:\\Users\\user\\.atom\\packages done. Won't let me change the title, but I think we should change it to something like \"Installation on windows with node-gyp error\" or something similar.  Thanks team..\n",
    "ianfiske": "I am still getting this exact error, even though it's pulling zeromq.js@4.1.1, which should have fixed the error.  @eskemojoe007 Is it working for you now?. Sorry, not exact same error.  Just very similar:\n```\n\nzeromq@4.1.1 build:libzmq C:\\Users\\y3044\\node_modules\\zeromq\nnode scripts/preinstall.js\n\nDownloading libzmq for Windows\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\nError: connect ECONNREFUSED 192.30.253.113:443\n    at Object.exports._errnoException (util.js:1022:11)\n    at exports._exceptionWithHostPort (util.js:1045:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1087:14)\n.\n.\n.\n``. The entire log is 10k lines, so I'll just post that relevant part right beforenode scripts/preinstall.jsfor now :).  Looks like'prebuild-install' is not recognized as an internal or external command,\noperable program or batch file.` is the cause here.  Googling didn't help me find a solution to that.\n```\n.\n.\n.\nREQUEST end event https://registry.npmjs.org/ultron\nREQUEST emitting complete https://registry.npmjs.org/ultron\nREQUEST onRequestResponse https://registry.npmjs.org/options 304 { server: 'nginx/1.10.1',\n  'content-type': 'application/json',\n  'last-modified': 'Thu, 17 Nov 2016 23:21:00 GMT',\n  etag: 'W/\"582e3b5c-1fda\"',\n  'cache-control': 'max-age=300',\n  'accept-ranges': 'bytes',\n  date: 'Tue, 10 Jan 2017 13:55:19 GMT',\n  via: '1.1 varnish',\n  'x-served-by': 'cache-dfw1847-DFW',\n  'x-cache': 'HIT',\n  'x-cache-hits': '3',\n  'x-timer': 'S1483999417.300902,VS0,VE0',\n  vary: 'Accept-Encoding',\n  connection: 'close',\n  'content-encoding': 'gzip',\n  age: '263' }\nREQUEST reading response's body\nREQUEST finish init function https://registry.npmjs.org/options\nREQUEST response end https://registry.npmjs.org/options 304 { server: 'nginx/1.10.1',\n  'content-type': 'application/json',\n  'last-modified': 'Thu, 17 Nov 2016 23:21:00 GMT',\n  etag: 'W/\"582e3b5c-1fda\"',\n  'cache-control': 'max-age=300',\n  'accept-ranges': 'bytes',\n  date: 'Tue, 10 Jan 2017 13:55:19 GMT',\n  via: '1.1 varnish',\n  'x-served-by': 'cache-dfw1847-DFW',\n  'x-cache': 'HIT',\n  'x-cache-hits': '3',\n  'x-timer': 'S1483999417.300902,VS0,VE0',\n  vary: 'Accept-Encoding',\n  connection: 'close',\n  'content-encoding': 'gzip',\n  age: '263' }\nREQUEST end event https://registry.npmjs.org/options\nREQUEST emitting complete https://registry.npmjs.org/options\n\nzeromq@4.1.1 install C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117010-28436-1i5fg5a\\node_modules\\Hydrogen\\node_modules\\zeromq\nprebuild-install || (npm run build:libzmq && node-gyp rebuild)\n\n'prebuild-install' is not recognized as an internal or external command,\noperable program or batch file.\n\nzeromq@4.1.1 build:libzmq C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117010-28436-1i5fg5a\\node_modules\\Hydrogen\\node_modules\\zeromq\nnode scripts/preinstall.js\n\nDownloading libzmq for Windows\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\nError: connect ECONNREFUSED 192.30.253.113:443\n    at Object.exports._errnoException (util.js:1022:11)\n    at exports._exceptionWithHostPort (util.js:1045:20)\n    at TCPConnectWrap.afterConnect [as oncomplete] (net.js:1087:14)\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"run\" \"build:libzmq\"\nnpm ERR! node v6.9.4\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.1.1 build:libzmq: node scripts/preinstall.js\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.1.1 build:libzmq script 'node scripts/preinstall.js'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/preinstall.js\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm WARN Local package.json exists, but node_modules missing, did you mean to install?\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117010-28436-1i5fg5a\\node_modules\\Hydrogen\\node_modules\\zeromq\\npm-debug.log\nC:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117010-28436-1i5fg5a\n`-- (empty)\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117010-28436-1i5fg5a\\package.json'\nnpm WARN apm-install-dir-117010-28436-1i5fg5a No description\nnpm WARN apm-install-dir-117010-28436-1i5fg5a No repository field.\nnpm WARN apm-install-dir-117010-28436-1i5fg5a No README data\nnpm WARN apm-install-dir-117010-28436-1i5fg5a No license field.\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Users\\USER\\AppData\\Local\\atom\\app-1.12.9\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\USER\\AppData\\Local\\atom\\app-1.12.9\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\USER\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\USER\\.atom\\.apmrc\" \"install\" \"C:\\Users\\USER\\AppData\\Local\\Temp\\d-117010-28436-15vpniu\\package.tgz\" \"--runtime=electron\" \"--target=1.3.13\" \"--arch=ia32\" \"--global-style\"\nnpm ERR! node v4.4.5\nnpm ERR! npm  v3.10.5\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.1.1 install: prebuild-install || (npm run build:libzmq && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.1.1 install script 'prebuild-install || (npm run build:libzmq && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     prebuild-install || (npm run build:libzmq && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117010-28436-1i5fg5a\\npm-debug.log\nnpm ERR! code 1\nfailed\n``. I just noticed that I get a different error fromprebuild-installdepending on whether I run in CMD or Git Bash.  The above error ('prebuild-install' is not recognized as an internal or external command, operable program or batch file`)  was using Git Bash.  When I run with Windows CMD, I get \n```\n...\n\nzeromq@4.1.1 install C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117011-24824-1l45jlg\\node_modules\\Hydrogen\\nod\n_modules\\zeromq\nprebuild-install || (npm run build:libzmq && node-gyp rebuild)\n\nprebuild-install info begin Prebuild-install version 2.1.0\nprebuild-install info looking for local prebuild @ prebuilds\\zeromq-v4.1.1-electron-v49-win32-ia32.tar.gz\nprebuild-install info looking for cached prebuild @ C:\\Users\\USER\\AppData\\Roaming\\npm-cache_prebuilds\\https-github.com-zeromq-zeromq.js-releases-download-v4.1.1-zeromq-v4.1.1-electron-v49-win32-ia32.tar.gz\nprebuild-install http request GET https://github.com/zeromq/zeromq.js/releases/download/v4.1.1/zeromq-v4.1.1-electron-v49-win32-ia32.tar.gz\nprebuild-install WARN install unable to get local issuer certificate\n\nzeromq@4.1.1 build:libzmq C:\\Users\\USER\\AppData\\Local\\Temp\\apm-install-dir-117011-24824-1l45jlg\\node_modules\\Hydroge\n\\node_modules\\zeromq\nnode scripts/preinstall.js\n\nDownloading libzmq for Windows\nevents.js:141\n      throw er; // Unhandled 'error' event\n...\n```\nLooks like maybe there is an issue with the certificate?  Incidentally, my .apmrc and .npmrc both do specify a cafile, which is required for my proxy settings to work normally.  Is it possible that prebuild is not using the correct cafile?. ",
    "NicolasHaeffner": "I have a similar issue. I am behind a corporate proxy as well and the installer does not seem to have access to github. All the environment variables are set. Unfortunately the folder that is supposed to contain the logfile is beeing deleted as soon as the install fails. \nHere is the relevant output of apm install Hydrogen --verbose : \n```\n\ncanvas@1.6.11 install C:\\Users\\HAF1YH\\AppData\\Local\\Temp\\apm-install-dir-118515-968-fjmcqr.cxjnp9o1or\\node_modules\\Hydrogen\\node_modules\\canv                               as\nnode-gyp rebuild\n\nC:\\Users\\HAF1YH\\AppData\\Local\\Temp\\apm-install-dir-118515-968-fjmcqr.cxjnp9o1or\\node_modules\\Hydrogen\\node_modules\\canvas>if not defined npm_co                               nfig_node_gyp (node \"C:\\Users\\HAF1YH\\AppData\\Local\\atom\\app-1.27.2\\resources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\....\\node_modules\\node                               -gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:/Users/HAF1YH/AppData/Local/atom/app-1.27.2/resources/app/apm/bin/../node_modules/.bin/node-gyp\"                                rebuild )\nC:\\Users\\HAF1YH\\AppData\\Local\\atom\\app-1.27.2\\resources\\app\\apm\\node_modules.bin\\node-gyp:2\nbasedir=$(dirname \"$(echo \"$0\" | sed -e 's,\\,/,g')\")\n          ^^^^^^^\nSyntaxError: missing ) after argument list\n    at Object.exports.runInThisContext (vm.js:76:16)\n    at Module._compile (module.js:542:28)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.runMain (module.js:604:10)\n    at run (bootstrap_node.js:394:7)\n    at startup (bootstrap_node.js:149:9)\n    at bootstrap_node.js:509:3\n\nzeromq@4.6.0 install C:\\Users\\HAF1YH\\AppData\\Local\\Temp\\apm-install-dir-118515-968-fjmcqr.cxjnp9o1or\\node_modules\\Hydrogen\\node_modules\\zerom                               q\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\nprebuild-install WARN install self signed certificate in certificate chain\nDownloading libzmq for Windows\n{ Error: getaddrinfo ENOTFOUND github.com github.com:443\n    at errnoException (dns.js:28:10)\n    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)\n  code: 'ENOTFOUND',\n  errno: 'ENOTFOUND',\n  syscall: 'getaddrinfo',\n  hostname: 'github.com',\n  host: 'github.com',\n  port: 443 }\nC:\\Users\\HAF1YH\\AppData\\Local\\Temp\\apm-install-dir-118515-968-fjmcqr.cxjnp9o1or\n`-- (empty)\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\HAF1YH\\AppData\\Local\\Temp\\apm-install-dir-118515-968-fjmcqr.cxjnp9o1or\\packag                               e.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-118515-968-fjmcqr.cxjnp9o1or No description\nnpm WARN apm-install-dir-118515-968-fjmcqr.cxjnp9o1or No repository field.\nnpm WARN apm-install-dir-118515-968-fjmcqr.cxjnp9o1or No README data\nnpm WARN apm-install-dir-118515-968-fjmcqr.cxjnp9o1or No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 (node_modules\\Hydrogen\\node_modules\\canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 install: node-gyp rebuild\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\Users\\HAF1YH\\AppData\\Local\\atom\\app-1.27.2\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\HAF1YH\\AppData\\Local\\ato                               m\\app-1.27.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\HAF1YH\\.atom\\.apm\\.apmrc\" \"--userconfig                               \" \"C:\\Users\\HAF1YH\\.atom\\.apmrc\" \"install\" \"C:\\Users\\HAF1YH\\AppData\\Local\\Temp\\d-118515-968-f8o292.7haku1h5mi\\package.tgz\" \"--runtim                               e=electron\" \"--target=1.7.15\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\HAF1YH\\AppData\\Local\\Temp\\apm-install-dir-118515-968-fjmcqr.cxjnp9o1or\\npm-debug.log\nnpm ERR! code 1\nfailed\n```\nI don't see any info on where prebuild-install looks for the binaries. Do you have any Idea on how to fix this?. ",
    "idmitrievsky": "Oh, I forgot to include it, sorry. Nothing that looks like an error in there.\n\n. Wow, I didn't know about nteract/nteract until now \u2013 it looks super cool! \ud83d\ude03  I think that it makes sense to mention nteract somewhere in Hydrogen README, it can interest some of Hydrogen users.\nSo custom handling of these mimetypes is going to be added to Hydrogen eventually? Looking forward to it, thank you for your answer!. ",
    "jakevdp": "Note for folks who come across this thread: For Altair version 2.0 or newer, the above vegify function is not required. The good news is that nteract will correctly display Altair plots by default once nteract's dependencies are updated and it supports Vega version 3.X and Vega-Lite version 2.X. The bad news is that until those dependencies are updated, it will not be possible to display Altair plots correctly in nteract.\nIf you want to use Altair in the meantime, please try another front-end, such as nteract desktop, nteract-on-jupyter, JupyterLab, Jupyter Notebook, or CoLab.. I think moving toward deprecating the old schema version (vega v2 and vega-lite v1) will be fine\nAltair is now using the vegalite v2 mimetype, and I suspect that the vast majority of users will be using that soon.\nThat said, Altair does still have the ability to generate vegalite v1 mimetypes as well... JupyterLab and the classic notebook will still be able to handle those, though it will require explicitly enabling an extra extension in order to do so.. That's great to hear \u2013 thanks!. ",
    "rpalloni": "Thank you @jakevdp for adding the comment.\nHere further info: https://github.com/altair-viz/altair/issues/710\n@lgeiger  should I open an issue?. @lgeiger \nI tried to install ijsinstall but does not work.\nIn the pic  the log (running as admin)\n\nAnd actually this page https://registry.npmjs.org/ijsinstall is empty\nI've installed the ijavascript and jp-kernel but maybe i did something wrong (see figure)\n\n. That was the first thing I did as recommended. But the only thing that worked for me was to put the JS kernel here: \n\nAnyway, I would recommend to follow \"the Python way\" to structure the folder tree. It is much more intuitive\n\n. Actually I updated Hydrogen to version 2.4 in Atom and worked like a charm...Awesome! Thanks!. You are stars! Thanks for your help! I only changed a bit the initial setting up according to https://github.com/jsdom/jsdom/blob/master/README.md\nHere follows an example and pic maybe useful for other folks! \nGrazie!\n\nCode:\n`var jsdom = require(\"jsdom\");\nconst { JSDOM } = jsdom;\nvar d3 = require(\"d3\");\nvar dom = new JSDOM();\nvar doc = dom.window.document;\n// simple example\nvar svg = d3.select(doc.body)\n      .append(\"svg\");\nsvg.append(\"rect\")\n    .attr(\"width\", 80)\n    .attr(\"height\", 80)\n    .style(\"fill\", \"orange\");\n$$.svg(svg.node().outerHTML);\n// complex example\nvar w = 600;\nvar h = 250;\nvar dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13, 11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];\ndataset\nvar xScale = d3.scaleBand()\n                            .domain(d3.range(dataset.length))\n                            .rangeRound([0, w])\n                            .paddingInner(0.05);\nvar yScale = d3.scaleLinear()\n                    .domain([0, d3.max(dataset)])\n                    .range([0, h]);\n//Create SVG element\nvar svg = d3.select(doc.body)\n            .append(\"svg\")\n            .attr(\"width\", w)\n            .attr(\"height\", h);\n//Create bars\nsvg.selectAll(\"rect\")\n   .data(dataset)\n   .enter()\n   .append(\"rect\")\n   .attr(\"x\", function(d, i) {\n        return xScale(i);\n   })\n   .attr(\"y\", function(d) {\n        return h - yScale(d);\n   })\n   .attr(\"width\", xScale.bandwidth())\n   .attr(\"height\", function(d) {\n        return yScale(d);\n   })\n   .attr(\"fill\", function(d) {\n        return \"rgb(0, 0, \" + Math.round(d * 10) + \")\";\n   });\n//Create labels\nsvg.selectAll(\"text\")\n   .data(dataset)\n   .enter()\n   .append(\"text\")\n   .text(function(d) {\n        return d;\n   })\n   .attr(\"text-anchor\", \"middle\")\n   .attr(\"x\", function(d, i) {\n        return xScale(i) + xScale.bandwidth() / 2;\n   })\n   .attr(\"y\", function(d) {\n        return h - yScale(d) + 14;\n   })\n   .attr(\"font-family\", \"sans-serif\")\n   .attr(\"font-size\", \"11px\")\n   .attr(\"fill\", \"white\");\n$$.svg(svg.node().outerHTML);`. ",
    "wlccgp3": "thanks a lot for your reply. . oh, I got it.thank you very much.\n. ",
    "jonwoodring": "I'm really looking forward to this merge. This is exactly what I was looking for out of Hydrogen (markdown and fences for literate programming).\nHave you thought about a way to .md => code? That is, automatically change markdown to source code comments and remove fences?\nThanks so much for this.. ",
    "Iniyan-S": "Now i have resolved the issue. After lil digging i found that actually i had to run /opt/anaconda3/bin$ ./jupyter kernelspec list --json  command at the anaconda installation location and update my kernelspec code field with the o/p of the previous command as following,{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"spec\": {\n        \"argv\": [\n          \"/opt/anaconda3/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"env\": {}\n      },\n      \"resource_dir\": \"/opt/anaconda3/lib/python3.5/site-packages/ipykernel/resources\"\n    }\n  }\n}\n. ",
    "linamnt": "Edit: Resolved, though I don't fully understand why. I had an issue with a rogue .pyc that had to be removed and prevented jupyter notebooks in this folder in general to  not run properly, though not sure what it was about it that caused this. \nSorry to bring up a closed issue but I think my issue is related. I was having trouble with inline usage in any file whereby running a line would start a Python process in the bg that was using lots of memory and would never end unless I manually killed process. I used @Iniyan-S solution and worked on most files. \nBut on the specific project folder I'm working on, if I ran hydrogen inline, still would not work and cause new python process again, but eventually stops and an empty traceback appears, see below. It's not anything about the python files themselves, because if I copy and paste the same code but put it in another folder, it works fine.\nNot sure what it is in this folder that could cause this?\nEdit, add details:\n$ atom --version\nAtom    : 1.13.0\nElectron: 1.3.13\nChrome  : 52.0.2743.82\nNode    : 6.5.0\nThis is the developer console when I run it: \n\n. ",
    "natashawatkins": "Actually I solved this myself. ",
    "michaelaye": "There you go:\n\n. Note that I use nb_conda_kernels for automatic ipykernel detection, so I don't have kernel path files to point to kernels, could that be a problem?. No, the missing ipykernel path files are not the problem, I just switched to atom's default python and hydrogen works there.. oh, darn. sorry for the noise. Works! Thanks a lot ducking_outta_here_fast :/. Well, I'm guessing the _xsrf check is there for a reason?. ",
    "blokeley": "I can't get this working at all.  I'm not missing quotes.\nI've tried everything:\n{\"MagicPython\": \"python\"}\n{\"magicpython\": \"python\"}\n{\"python\": \"magicpython\"}\nThe Hydrogen Kernel Monitor always says, \"No running kernels\", and if I try \"Start Local Kernel\", I just get \"no kernels found\"\nVersions:\nAtom 1.22.1\nHydrogen 2.1.0\nPython 3.6.2\nipython 6.1.0\njupyter 1.0.0\nWindows 10. I followed those instructions but no change (I think I had done them before, some months ago anyway).\nThis is what I did:\n\nInstall the kernel as per your link above.\nOpen Atom.\nCreate a new file.\nUse the Grammar Selector to change to MagicPython.\nWrite some dummy code, for example \"print('hello')\".\nType Ctrl+Enter.\n\nNothing happens.\nKernel Monitor says No running kernels.\nUpdate Kernels brings up a blue box saying \"Python 3\".\nStart Local Kernel says \"No kernels found\"\nI thought that maybe the file had to be saved to disk, then I managed to get a kernel going on a saved file using the language mapping {\"python\": \"magicpython\"}.\nMaybe I found the bug:\n Hydrogen works when I open an existing Python file, but \n Not when I create a new file then save it.\n* Not when I create a new file which has not yet been saved to disk.\nI used to use the latter case (use new \"buffers\" i.e. unsaved files) as temporary ipython consoles.\nPlease could you list the steps from opening Atom onwards that should get it working?  I used to use Hydrogen a lot many months ago and it seemed to just work, but I can't get it working now that I use MagicPython (which I have to use because I use mypy and f-strings a lot).\nThanks in advance for any help.. ",
    "hugeme": "@lgeiger Thank you that worked!. Yes the other way around is fine :). Thank you!. Hi @BenRussert, thx for your quick reply. I just followed https://irkernel.github.io/installation/ and installed r-language.  Do I have to add that new infos to hydrogen somehow?\nOk, I suppose I have to add:\n{\"python\" : \"magicpython\", \"ir\":\"R\"}, However not sure whether its correct.\nSo initializing hydrogen starts both Kernels. Question remains how to switch between them.\n. @BenRussert thats super cool. everything is working as you have pointed out, thx!. Update:\nI figure out that ipython kernelspec list comprises of:\npython3    /usr/local/lib/python3.6/site-packages/ipykernel/resources\nir         /Users/user/Library/Jupyter/kernels/ir\nSo in /Users/user/Library/Jupyter/kernels/ir there are 3 files:\nkernel.js       kernel.json     logo-64x64.png\nwhere kernel.json has the following content:\n{\n  \"argv\": [\"/usr/local/Cellar/r/3.4.0_1/R.framework/Resources/bin/R\", \"--slave\", \"-e\", \"IRkernel::main()\", \"--args\", \"{connection_file}\"],\n  \"display_name\": \"R\",\n  \"language\": \"R\"\n}\nI just changes 3.4.0_1 to 3.4.1_1 and everything works again. Not sure whether that is the right approach however.. @BenRussert Yes, that works fine via console. Hi @BenRussert, yes I can import sys  from hydrogen. Hm, not 100% sure but #730  doesnt sound like the current problem, since I can launched python2 kernel and can do anything except importing modules, perhaps its path related.  when pip install --upgrade ipykernel I get Operation not permitted back with last line Operation not perm\nitted: '/var/folders/sz/cl3xl4cn0pjd9rwpb_vw1xmd7xkcgp/T/pip-60uUj8-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/py\nthon/_markerlib'\")] when sudo pip install --upgrade ipykernel I get an error as well with Operation\u00a0not\u00a0permitted:\u00a0'/tmp/pip-WM0jil-uninstall/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/p\nython/_markerlib'\")] as the last line.\nUpdate:\nsudo chown -R $USER /Library/Python/2.7 and pip install --upgrade ipykernel  the modules however I still cant import. Then I have tried to change in jupyter kernelspec list \n/usr/local/opt/python/bin/python2.7 to /usr/local/bin/python2.7 \n{\n \"display_name\": \"Python 2\",\n \"language\": \"python\",\n \"argv\": [\n  \"/usr/local/opt/python/bin/python2.7\",\n  \"-m\", \n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ]\n}\nthat doesnt work either. Note sure whethet that might help:\nHydrogen:\nimport os\npath = os.path.dirname(os.file)\npath\n'/usr/local/Cellar/python/2.7.13_1/Frameworks/Python.framework/Versions/2.7/lib/python2.7'\nConsole:\nimport os\npath = os.path.dirname(os.file)\npath\n'/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7'\nimport os\npath = os.path.dirname(pandas.file)\npath\n'/Library/Python/2.7/site-packages/pandas'\n. @BenRussert I think I solved something here :) not sure whether that was correct on long run. I put  export PATH=\"/usr/local/opt/python/libexec/bin:$PATH\" into my .bash_profileand reinstall all packages I need. So basically now I can import them all. Still thanks for your help!\n. @Locustv2 did you resolve the problem? I have the same issue. ",
    "yildirimalici": "@lgeiger Thank you that worked!. ",
    "orijjsjje": "Hi Igeiger, Thanks for the quick response. What is the difference with dev mode? I've done what you said, but couldn't find the view you meant called View Dev Console (see screenshot).\n\n. ah oke, I've run the code in the first screenshot I posted and did what you said resulting in this:\n\n. @lgeiger  or anyone else who knows how to solve this issue?. \nIndeed very useful to learn how to debug this way. Above you can see the error I found. Could someone explain this error and tell me how to solve it?\n. This is what I found on Stackoverflow: http://stackoverflow.com/questions/9768444/possible-eventemitter-memory-leak-detected\nIt says that I've to run this line:\nprocess.setMaxListeners(0);\nHowever, I am new to Python/Atom so if this is the solution, where should I run this line then? Once I run this line in Atom I get this error:\nTraceback (most recent call last):\n  File \"/Users/***/Documents/Pyhton/Project/test.py\", line 1, in <module>\n    process.setMaxListeners(0)\nNameError: name 'process' is not defined. I am using version 1.12.9 and it happens only with hydrogen. For example this line of code:\nx = 1\nprint(x)\nThen it keeps on running showing that icon in the first screenshot I posted saying that Python 3 is busy.\nHowever, when I look at the console in dev mode, then it doesn't show an error, but the program just doesn't run. Only a couple of warnings (see screenshot):\n\nThis way I can't continue working in python so would be appreciated if anyone can help me to find the solution :). Here it is:\n\n. I guess you mean atom > preferences > editor. I don't even see the option Use Shadow DOM there...   so what can I do to get hydrogen running?. I am using the latest version already. Checked for it, but Atom itself says so.. @lgeiger found out that installing 13.1.1 doesn't solve the issue. Restarting the kernel does temporarily. \n@n-riesco yes only when it invokes input and yes it shows that window, once I press enter the issue of endless runtime occurs. Here above you can see in the screenshots what the dev console communicates. Would be great if you could help me solving this.. ",
    "drorata": "Seems like the problem is there:\njson\n{\n  \"kernelspecs\": {\n    \"apache_toree_scala\": {\n      \"spec\": {\n        \"language\": \"scala\",\n        \"env\": {\n          \"PYTHONPATH\": \"/Users/myname/Applications/spark/python:/Users/myname/Applications/spark/python/lib/py4j-0.9-src.zip\",\n          \"__TOREE_OPTS__\": \"\",\n          \"PYTHON_EXEC\": \"python\",\n          \"SPARK_HOME\": \"/Users/myname/Applications/spark\",\n          \"__TOREE_SPARK_OPTS__\": \"\",\n          \"DEFAULT_INTERPRETER\": \"Scala\"\n        },\n        \"display_name\": \"Apache Toree - Scala\",\n        \"argv\": [\n          \"/Users/myname/Library/Jupyter/kernels/apache_toree_scala/bin/run.sh\",\n          \"--profile\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/Library/Jupyter/kernels/apache_toree_scala\"\n    },\n    \"python3\": {\n      \"spec\": {\n        \"language\": \"python\",\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"argv\": [\n          \"/Users/myname/anaconda/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/Library/Jupyter/kernels/python3\"\n    },\n    \"bash\": {\n      \"spec\": {\n        \"language\": \"bash\",\n        \"env\": {\n          \"PS1\": \"$\"\n        },\n        \"display_name\": \"Bash\",\n        \"argv\": [\n          \"/Users/myname/anaconda/bin/python\",\n          \"-m\",\n          \"bash_kernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/Library/Jupyter/kernels/bash\"\n    },\n    \"scala211\": {\n      \"spec\": {\n        \"language\": \"scala211\",\n        \"env\": {},\n        \"display_name\": \"Scala 2.11\",\n        \"argv\": [\n          \"/Users/myname/Library/Jupyter/kernels/jupyter-scala_2.11.6-0.2.0-SNAPSHOT/bin/jupyter-scala\",\n          \"--quiet\",\n          \"--connection-file\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/.ipython/kernels/scala211\"\n    },\n    \"toree\": {\n      \"spec\": {\n        \"language\": \"\",\n        \"env\": {\n          \"PYTHONPATH\": \"/Users/myname/Applications/spark/python:/Users/myname/Applications/spark/python/lib/py4j-0.8.2.1-src.zip\",\n          \"CAPTURE_STANDARD_OUT\": \"true\",\n          \"SPARK_OPTS\": \"--master=local[2] --driver-java-options=-Xms1024M --driver-java-options=-Xmx4096M --driver-java-options=-Dlog4j.logLevel=info\",\n          \"MAX_INTERPRETER_THREADS\": \"16\",\n          \"SEND_EMPTY_OUTPUT\": \"false\",\n          \"SPARK_HOME\": \"/Users/myname/Applications/spark\",\n          \"CAPTURE_STANDARD_ERR\": \"true\"\n        },\n        \"display_name\": \"Toree\",\n        \"argv\": [\n          \"/Users/myname/Library/Jupyter/kernels/toree/bin/run.sh\",\n          \"--profile\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/Library/Jupyter/kernels/toree\"\n    },\n    \"python2\": {\n      \"spec\": {\n        \"language\": \"python\",\n        \"env\": {},\n        \"display_name\": \"Python 2\",\n        \"argv\": [\n          \"/Users/myname/anaconda/envs/py2/bin/python\",\n          \"-m\",\n          \"IPython.kernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/.ipython/kernels/python2\"\n    },\n    \"apache_toree_pyspark\": {\n      \"spec\": {\n        \"language\": \"python\",\n        \"env\": {\n          \"PYTHONPATH\": \"/Users/myname/Applications/spark/python:/Users/myname/Applications/spark/python/lib/py4j-0.9-src.zip\",\n          \"__TOREE_OPTS__\": \"\",\n          \"PYTHON_EXEC\": \"python\",\n          \"SPARK_HOME\": \"/Users/myname/Applications/spark\",\n          \"__TOREE_SPARK_OPTS__\": \"\",\n          \"DEFAULT_INTERPRETER\": \"PySpark\"\n        },\n        \"display_name\": \"Apache Toree - PySpark\",\n        \"argv\": [\n          \"/Users/myname/Library/Jupyter/kernels/apache_toree_pyspark/bin/run.sh\",\n          \"--profile\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/myname/Library/Jupyter/kernels/apache_toree_pyspark\"\n    }\n  }\n}\nBut I don't understand, from the command line jupyter works. How should I fix it?. I found a solution. \n\nRun jupyter kernelspec list and find the problematic kernel.\nEdit the JSON with the correct path. In my case it was ~/Library/Jupyter/kernels/python3/kernel.json\nRestart Atom.\n\nStill, I'm a little puzzled who did this happen, and why was the path wrong.... Is it the only programmatic way to update the kernels? Which part of jupyter uses these definitions? As I wrote jupyter worked just fine also with the wrong settings. . ",
    "vishal786btc": "Hi All, \nI am facing this issue while pressing Ctrl-C in the Atom editor. Please suggest something simple to circumvent this. I wasn't facing this issue earlier, not sure why this has occurred? \nAppreciate the help. Snapshot is attached.\n\nThanks,\nVishal. Rbox had registered the key binding. \nFor now I uninstalled Rbox and things are normal.\nNeeded to know a clean and less messy way of running R code in atom.. Thanks, Lukas. Will do.\nWith IR kernel, I'm good to run the R code. However, some of the commands kept on executing forever no way to terminate them. Secondly, Would I again need to re-install all the r libraries installed earlier, code isn't finding them anymore?. Currently it is set to newline.\n\nCan you please tell how to fix this? It'll be really helpful.. yes Ben. I have installed it.\nI just sent the screenshot of keybindings.\npfa-\n\n. ",
    "ziyaotang": "Hello, I have the same question. It seems that I still cannot set the size of the image. Any improvement on this? Thanks!. ",
    "cdkorzen": "https://bugs.chromium.org/p/chromium/issues/detail?id=435015 is possibly related to why I can't save profile/timeline data, but I'm not sure.. ",
    "ionor": "I have the exact same problem with high CPU usage even during idle-time. \n- Using win 7 64-bits.\n- Python 3.6 from latest anaconda 4.3.\n- Atom 1.14.0-beta4 (tried stable relase as well)\n- ipython 5.1.0, ipykernel 4.5.2 and latest hydrogen\n- tried reinstalling anaconda (with all included packages), atom, hydrogen etc but without any noticeable progress.\nAnd i also have the same problem with saving profile//data. \nWhen i run the same code in spyder or pycharm i dont se the same effect,\n. ",
    "evmin": "Thank you. Missed this link.\n```\natom --version\nAtom    : 1.13.1\nElectron: 1.3.13\nChrome  : 52.0.2743.82\nNode    : 6.5.0\n```\nThe logs after I have tried to select a Kernel\n```\nHydrogen setWatchSidebar: undefined\nHydrogen Selected command: Object {name: \"Python 2\", kernelSpec: Object}\nHydrogen handleKernelCommand: [Object]0: Objectcallee: handleKernelCommand(_ref)length: 1Symbol(Symbol.iterator): values()proto: Object__defineGetter__: defineGetter()arguments: nullcaller: nulllength: 2name: \"defineGetter\"proto: ()defineSetter: defineSetter()lookupGetter: lookupGetter()lookupSetter: lookupSetter()constructor: Object()hasOwnProperty: hasOwnProperty()isPrototypeOf: isPrototypeOf()propertyIsEnumerable: propertyIsEnumerable()toLocaleString: toLocaleString()toString: toString()valueOf: valueOf()get proto: proto()set proto: proto()\n```\nNot sure I am posting the correct thing though. Is there anything specific I should be looking for?. And when I try to run a cell:\n'/Users/kn/anaconda/bin/python' could not be spawned. Is it installed and on your path? If so please open an issue on the package spawning the process.\nNot sure what \"kn\" is - it is not my username. Done.\nback to the original \"No kernel specs found\" and then \"No kernel for language python found\"\n. I think I might be onto something.\nI am usually starting Atom from the Nimble Commander.\nWhen I start from there - that's where I get the issue. \nIf I start from the shell, or from Alfred - it seems to work (though Atom Helper consumes 400% and the fans a spinning like crazy).\n. Ok I can pinpoint the issue to running it to NC. \nWould you have an idea where to look?. \n. I appreciate your help and your guidance a lot - thank you. I will take it up with NC - indeed NC does not forward everything (I am a part of beta testing user team, so it is understandable, otherwise it is a great tool).\nI have  not seen 400% ever since. Could be a one off fluke. I suspect PATH is at fault here.\nIn either case I consider the case solved.\nOnce again - thank you! Especially for teaching me the dev console.. ",
    "alton-campbell": "Hmm... today, without updating anything, the deprecation warning is gone. Closing this issue unless it comes back.. ",
    "blink1073": "This is actually an accidental release :sheep:.  I had thought that https://github.com/jupyterlab/services/pull/304 was already merged.  I'll release 0.38 when we get that in.  The only API change is the addition of a reconnect() method for terminal sessions.. Ha, there are 0 commits between the 0.36.1 and 0.37 release, so yes ;).. But for 0.38, I'd say no breaking changes either.  I'd bump a minor version if I had one ;).. It's hard coming from the SciPy culture of infinite 0.x .... (what the bot said).  Agreed that it is unfortunate that semver and user expectations conflict.. (nbformat is now in @jupyterlab/coreutils).. Yep, LGTM. Here's an example using the self-contained ws and xhr: https://github.com/jupyterlab/jupyterlab/blob/1cfc20689315df1d94eca81a10ab99572eea7a5d/packages/services/examples/node/index.js#L14.. @lgeiger this has the sessions backport ^^.. Looks good!  You can update to 0.50.1 which adds source maps to the released package that were supposed to be there in 0.50.0.. Missed some of the source maps in 0.50.1, 0.50.2 has them all.. We use the name unless it is an empty string and then defer to the basename of the path.. ",
    "greenkeeper[bot]": "Version 0.38.0 just got published.\nUpdate to this version instead \ud83d\ude80 \n. ## Version 6.10.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nRelease Notes\nv6.10.2\nFixed\n\nFix jsx-indent indentation calculation with nested JSX (#1117)\n\n\n\nCommits\nThe new version differs by 2 commits .\n\n5b75162 Update CHANGELOG and bump version\n41bdb58 Fix jsx-indent indentation calculation with nested JSX (fixes #1117)\n\nSee the full diff.\n\n. ## Version 1.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 0 commits .\nSee the full diff.\n\n. ## Version 2.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 2 commits .\n\n1e91ca9 v2.0.1\n57efbd7 Add offset state.\n\nSee the full diff.\n\n. ## Version 2.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 2 commits .\n\n751eacb v2.0.2\nbb65de3 Fix bounds\n\nSee the full diff.\n\n. ## Version 2.0.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 12 commits0.\n\n75ae93a 2.0.3\nd45899b Merge branch 'master' of https://github.com/bokuweb/react-resizable-box into 2.0.3\nec26b27 chore(package): update flow-runtime to version 0.11.0 (#79)\n130010d 2.0.3 (#78)\n3586d94 Revert \"Remove auto fix\"\ne1bd08f Remove auto fix\n6f7a154 Add size type\n6bcb82e chore(package): update flow-bin to version 0.45.0 (#76)\n6948df1 chore(package): update mocha to version 3.3.0 (#74)\nb9053c1 chore(package): update eslint-plugin-flowtype to version 2.31.0 (#71)\nfcde8b9 chore(package): update babel-eslint to version 7.2.3 (#70)\n2dc6fc5 Fix example\n\nfalse\nSee the full diff\n\n. ## Version 2.0.4 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 9 commits ahead by 9, behind by 5.\n\n4375dbd 2.0.4\n31aca62 Update README\n6b774c7 Fix recieve props (#86)\nd9588bf chore(package): update eslint-plugin-react to version 7.0.0 (#84)\n67d97a3 Update ISSUE_TEMPLATE.md\na1ce972 chore(package): update eslint-plugin-jsx-a11y to version 5.0.0 (#83)\nf2920c9 chore(package): update flow-runtime to version 0.12.0 (#82)\n7c809a4 chore(package): update sinon to version 2.2.0 (#81)\n8a31349 2.0.3 (#80)\n\nfalse\nSee the full diff\n\n. ## Version 1.2.1 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nCommits\nThe new version differs by 2 commits .\n\n076804c 1.2.1\n007cfd9 Fix duplicate comments in classes (#1349)\n\nSee the full diff.\n\n. ## Version 1.2.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nCommits\nThe new version differs by 2 commits .\n\n88e0041 1.2.2\nbae08d4 Only break for conditionals (#1350)\n\nSee the full diff.\n\n. ## Version 2.3.1 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nRelease Notes\n2.3.1\nBug fixes\n\nFixed an issue that prevented WebSocket.prototype.close() from working\nproperly if called from a listener of the headers event.\n\n\n\nCommits\nThe new version differs by 2 commits .\n\n732aaf0 [dist] 2.3.1\n3633d6c [fix] Make WebSocket#close() work when called from a headers listener\n\nSee the full diff.\n\n. ## Version 0.42.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.42.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.44.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.46.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n3.1.0\nFeatures\n\nAdded ability to specify the handshake request timeout (#1177).\n\nBug fixes\n\nFixed an issue where CloseEvent.wasClean was incorrectly set to false for\nclose codes in the 3000-4999 range (#1146).\n\n\n\nCommits\nThe new version differs by 28 commits.\n\n4e3ada1 [dist] 3.1.0\nb320169 [feature] Allow client to specify handshake request timeout (#1177)\n5c06c8f chore(package): update eslint to version 4.3.0 (#1176)\nab6c1c2 [minor] Remove redundant assignments\nd781190 chore(package): update eslint to version 4.2.0 (#1169)\n16bbddb [doc] Fix \"unware\" and \"reponse\" typos in README.md (#1168)\n3544e30 chore(package): update eslint-plugin-import to version 2.7.0 (#1167)\nafb36e9 [doc] Fix typos in API docs (#1165)\n833766f chore(package): update eslint-plugin-node to version 5.1.0 (#1155)\n034ab89 [ci] Test on node 8\nc311c43 [lint] Fix lint issues\n0434428 chore(package): update eslint to version 4.1.0 (#1151)\n2d4dc08 chore(package): update eslint-plugin-import to version 2.6.0 (#1149)\ncd55ced chore(package): update eslint-plugin-import to version 2.5.0 (#1147)\nbb2e952 [fix] Set wasClean to true when close code is in 3000-4999 range (#1146)\n\nThere are 28 commits in total.\nSee the full diff\n\n. ## Version 3.2.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n3.2.0\nFeatures\n\nAdded ability to specify the compression level (#1199).\nAdded ability to limit the number of concurrent calls to zlib (#1204).\n\n\n\nCommits\nThe new version differs by 11 commits.\n\n4082e69 [dist] 3.2.0\nf2d18b6 [feature] zlib deflate concurrency limit (#1204)\n80445e7 [feature] Allow 'level' option (#1199)\n7234fd4 chore(package): update nyc to version 11.2.0 (#1198)\n92750e3 chore(package): update eslint to version 4.6.0 (#1197)\n6663b89 chore(package): update eslint to version 4.5.0 (#1190)\ned4cf53 [test] Remove hybi-util.js\n381e7e0 [benchmark] Fix parser benchmark\na1ac659 chore(package): update eslint to version 4.4.0 (#1183)\n63b3c11 chore(package): update mocha to version 3.5.0 (#1179)\nfaea812 chore(package): update nyc to version 11.1.0 (#1178)\n\nSee the full diff\n\n. ## Version 2.1.1 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nCommits\nThe new version differs by 4 commits.\n\n56873bf Build: update package.json and changelog for v2.1.1\nfde7fdf Fix: Support ESLint <3.11.0 (#24)\n8b55518 Chore: add yarn.lock (#23)\n7e70e11 Docs: fix links in changelog (#22)\n\nSee the full diff\n\n. ## Version 0.48.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by  commits.\nSee the full diff\n\n. ## Version 0.49.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\ncdc5eca v0.49.1\n\nSee the full diff\n\n. ## Version 4.2.1 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 1.4.4 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. ## Version 3.1.13 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nCommits\nThe new version differs by 3 commits.\n\n937e71c Merge pull request #1040 from rossipedia/fix-module-build\n0cfe4a7 workaround for webpack build not finding\n8b44718 Published version 3.1.12\n\nSee the full diff\n\n. ## Version 3.1.14 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. After pinning to 3.0.1 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 1.5.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.5.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.47.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.48.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.49.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.50.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.50.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.50.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.53.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n8565661 v0.53.1\n\nSee the full diff\n\n. ## Version 0.54.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\nb6516d5 v0.54.0\n\nSee the full diff\n\n. ## Version 1.6.0-beta2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.6.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n1.6.0: Config File, JSX\n\nI want to give a special shout out to @azz who has been maintaining the repository and implementing a bunch of the changes in this release as I had less time to devote to prettier due to vacation and switching team :)\nHighlights\nConfiguration\nImplement cosmiconfig for workspace configuration (#2434) by @azz\nSince the very first release of prettier, people have asked for a .prettierrc file. We've been trying to have as few options as possible and tried to avoid being one more .dotfile that you have to have when starting a new project.\nBut, the truth is, we need to have some way to configure prettier that can be kept in sync with all the integrations. By not having one, we pushed the problem to them and saw a bunch of incompatible ways of handling the problem. So now, it's handled by prettier itself.\n// .prettierrc\n{\n  \"trailingComma\": \"es5\",\n  \"singleQuote\": true\n}\nFor more information on configuration file support, see the README.\nSupport .prettierignore files (#2412) by @evilebottnawi\nAlong with telling what configuration to use, you can write a file .prettierignore to tell which files not to convert.\n# .prettierignore\ndist/\npackage.json\n\nJSX\nImprove JSX Formatting (#2398) by @suchipi\nThe last big friction point from people trying to adopt prettier was around how JSX was being printed. We went through all the issues that were raised and made a bunch of changes:\n\nArrow Function Expressions returning JSX will now add parens when the JSX breaks\n\n// Before\nconst Component = props =>\n  <div>\n    Hello {props.name}!\n  </div>;\n\n// After\nconst Component = props => (\n  <div>\n    Hello {props.name}!\n  </div>\n);\n\nConditional expressions within (or containing) JSX are formatted in a different way using parenthesis\n\n// Before\n<div>\n  {props.isVisible\n    ? <BaseForm\n        url=\"/auth/google\"\n        method=\"GET\"\n      />\n    : <Placeholder />}\n</div>;\n\n// After\n<div>\n  {props.isVisible ? (\n    <BaseForm\n      url=\"/auth/google\"\n      method=\"GET\"\n    />\n  ) : (\n    <Placeholder />\n  )}\n</div>\n\nJSX in logical expressions (|| or &&) is always wrapped in parens when the JSX breaks\n\n// Before\n<div>\n  {props.isVisible &&\n    <BaseForm\n      url=\"/auth/google\"\n      method=\"GET\"\n    />}\n</div>;\n\n// After\n<div>\n  {props.isVisible && (\n    <BaseForm\n      url=\"/auth/google\"\n      method=\"GET\"\n    />\n  )}\n</div>\nHopefully this is going to be more in line with how the majority of the community is writing JSX and we can have prettier be used in more place ;)\nInline single expressions in JSX (#2442) by @karl\nWith JSX, we started by respecting a lot of line breaks that were in the original source. This had the advantage of doing fewer changes to your codebase but chipped away the value of a consistent pretty printer as the same semantic code could be written in two ways.\nDuring each new release we've tightened this and made decisions around how to always print a piece of code. The latest of those is what happens if there's a single child in a JSX object, we're now always going to inline it.\n// Before\nreturn (\n  <div>\n    {this.props.test}\n  </div>\n);\nreturn <div>{this.props.test}</div>;\n\n// After\nreturn <div>{this.props.test}</div>;\nreturn <div>{this.props.test}</div>;\nEnsure there is a line break after leading JSX white space (#2348) by @karl\nLeading JSX empty spaces are now on their own line. It looked weird to have them before a tag as it \"indented\" it differently compared to the rest.\n// Before\n<span className=\"d1\">\n  {' '}<a\n    href=\"https://github.schibsted.io/finn/troika\"\n    className=\"link\"\n  />\n</span>\n\n// After\n<span className=\"d1\">\n  {' '}\n  <a\n    href=\"https://github.schibsted.io/finn/troika\"\n    className=\"link\"\n  />\n</span>\nOther Changes\nJSON\nUse babylon.parseExpression for JSON (#2476) by @josephfrazier\nWe used to use a strict JSON parser that would throw if there was a comment or a trailing comma. This was inconvenient as many JSON files in practice are parsed using JavaScript or json5 that are not as strict. Now, we have relaxed this and are using the JavaScript parser to parse and print JSON. This means that comments will be maintained if there were some.\nNote that this is purely additive, if your original file was JSON compliant, it will keep printing a valid JSON.\n// Before\nSyntax error\n\n// After\n{ /* some comment */ \"a\": 1 }\nJavaScript\nAdd more supervisory parens (#2423) by @azz\nParenthesis are a hot topic because they are not part of the AST, so prettier ignores all the ones you are putting and re-creating them from scratch. We went through all the things that people reported and came up with a few edge cases that were very confusing when comparisons were chained and % was mixed with * or /.\nOne thing that we are not changing is the fact that we remove extra parenthesis around combinations of basic arithmetic operators: +-*/.\n// Before\nx !== y === z;\nx * y % z;\n\n// After\n(x !== y) === z;\n(x * y) % z;\nImplement prettier-ignore inside JSX (#2487) by @azz\nIt's useful to be able to ignore pieces of JSX, it's now possible to add a comment inside of a JSX expression to ignore the formatting of the next element.\n// Before\n<Component>\n  {/*prettier-ignore*/}\n  <span ugly format=\"\" />\n</Component>\n\n// Before\n<Component>\n  {/*prettier-ignore*/}\n  <span     ugly  format=''   />\n</Component>\nDo not swallow prettier-ignore comments (#2664)\nIn order to support some edge cases, in the internals, we have the ability to avoid printing comments in a generic way and print them in the call site instead. It turns out that when we used prettier-ignore, we didn't print the comments at all! This is now fixed.\n// Before\npush(\n  <td> :)\n  </td>,\n);\n\n// After\npush(\n  // prettier-ignore\n  <td> :)\n  </td>,\n);\nFix indentation of a do-while condition (#2359) by @jsnajdr\nIt took 6 months for someone to report that do-while were broken when the while condition is multi-line, it confirms my hunch that this construct is not widely used in practice.\n// Before\ndo {} while (\n  someVeryLongFunc(\n  someVeryLongArgA,\n  someVeryLongArgB,\n  someVeryLongArgC\n)\n);\n\n// After\ndo {} while (\n  someVeryLongFunc(\n    someVeryLongArgA,\n    someVeryLongArgB,\n    someVeryLongArgC\n  )\n);\nBreak sequence expressions (#2388) by @bakkot\nAnother underused feature of JavaScript is sequence expressions. We used to do a bad job at printing them when they would go multi-line, this has been corrected :)\n// Before\n(a = b ? c : \"lllllllllllllllllllllll\"), (a = b\n  ? c\n  : \"lllllllllllllllllllllll\"), (a = b ? c : \"lllllllllllllllllllllll\"), (a = b\n  ? c\n  : \"lllllllllllllllllllllll\"), (a = b ? c : \"lllllllllllllllllllllll\");\n\n// After\n(a = b ? c : 'lllllllllllllllllllllll'),\n  (a = b ? c : 'lllllllllllllllllllllll'),\n  (a = b ? c : 'lllllllllllllllllllllll'),\n  (a = b ? c : 'lllllllllllllllllllllll'),\n  (a = b ? c : 'lllllllllllllllllllllll')\nTrim trailing whitespace from comments (#2494) by @azz\nWe took the stance with prettier to remove all the trailing whitespaces. We used to not touch comments because it's user generated, but that doesn't mean that they should have whitespace :)\n// Before\n// There is some space here ->______________\n\n// After\n// There is some space here ->\nFix interleaved comments in class decorators (#2660, #2661)\nOur handling for comments inside of the class declaration was very naive, we would just move all the comments to the top. We now are more precise and respect the comments that are interleaved inside of decorators and around extends.\n// Before\n// A\n// B\n// C\n@Foo()\n@Bar()\nclass Bar {}\n\n// After\n// A\n@Foo()\n// B\n@Bar()\n// C\nclass Bar {}\nImprove bind expression formatting (#2493) by @azz\nBind expressions are being discussed at TC39 and we figured we could print it with prettier. We used to be very naive about it and just chain it. Now, we use the same logic as we have for method chaining with the . operator for it. We also fixed some edge cases where it would output invalid code.\n// Before\nobservable::filter(data => data.someTest)::throttle(() =>\n  interval(10)::take(1)::takeUntil(observable::filter(data => someOtherTest))\n)::map(someFunction);\n\n// After\nobservable\n  ::filter(data => data.someTest)\n  ::throttle(() =>\n    interval(10)::take(1)::takeUntil(observable::filter(data => someOtherTest))\n  )\n  ::map(someFunction);\nAdd support for printing optional catch binding (#2570) by @existentialism\nIt's being discussed at TC39 to be able to make the argument of a catch(e) optional. Let's make sure we can support it in prettier if people use it.\n// Before\nSyntax error\n\n// After\ntry {} catch {}\nAdd support for printing optional chaining syntax (#2572) by @azz\nAnother new proposal being discussed at TC39 is an optional chaining syntax. This is currently a stage 1 proposal, so the syntax may change at any time.\nobj?.prop       // optional static property access\nobj?.[expr]     // optional dynamic property access\nfunc?.(...args) // optional function or method call\nHandle Closure Compiler type cast syntax correctly (#2484) by @yangsu\nComments are tricky to get right, but especially when they have meaning based on where they are positioned. We're now special casing the way we deal with comments used as type cast for Closure Compiler such that they keep having the same semantics.\n// Before\nlet assignment /** @type {string} */ = getValue();\n\n// After\nlet assignment = /** @type {string} */ (getValue());\nInline first computed property lookup in member chain (#2670) by @azz\nIt looks kind of odd to have a computed property lookup on the next line, so we added a special case to inline it.\n// Before\ndata\n  [key]('foo')\n  .then(() => console.log('bar'))\n  .catch(() => console.log('baz'));\n\n// After\ndata[key]('foo')\n  .then(() => console.log('bar'))\n  .catch(() => console.log('baz'));\nFlow\nSupport opaque types and export star (#2543, #2542) by @existentialism\nThe flow team introduced two very exciting features under a new syntax. We now support them in prettier. I've personally been waiting for opaque types for a veerrryyyy long time!\n// Before\nSyntax error\n\n// After\nopaque type ID = string;\nexport type * from \"module\";\nStrip away unnecessary quotes in keys in type objects and interfaces (#2643)\nWe've been doing this on JavaScript objects since the early days of prettier but forgot to apply the same thing to Flow and TypeScript types.\n// Before\ntype A = {\n  \"string\": \"A\";\n}\n\n// After\ntype A = {\n  string: \"A\";\n}\nPrint TypeParameter even when unary function type (#2406) by @danwang\nOopsy, we were dropping the generic in this very specific case.\n// Before\ntype myFunction = A => B;\n\n// After\ntype myFunction = <T>(A) => B;\nKeep parens around FunctionTypeAnnotation inside ArrayTypeAnnotation (#2561) by @azz\nParenthesis... someday we'll get all of them fixed :)\n// Before\nconst actionArray: () => void[] = [];\n\n// After\nconst actionArray: (() => void)[] = [];\nTypeScript\nSupport TypeScript 2.5 RC (#2672) by @azz\nTypeScript 2.5 RC was recently announced, allowing you to use the upcoming \"optional catch binding\" syntax in TypeScript, too. \ud83c\udf89\nDon't add namespace keyword to global declaration (#2329) by @azz\n// Before\nnamespace global {\n  export namespace JSX {  }\n}\n\n// After\nglobal {\n  export namespace JSX {}\n}\nFix <this.Component /> (#2472) by @backus\nThanks to the untyped and permissive nature of JavaScript, we've been able to concat undefined to a string and get some interesting code as a result. Now fixed for this case :)\n// Before\n<undefined.Author />\n\n// After\n<this.Author />\nAllow type assertions to hug (#2439) by @azz\nWe want to make sure that all the special cases that we added for JavaScript and Flow also work for TypeScript constructs. In this case, objects should also hug if they are wrapped in a as operator.\n// Before\nconst state = JSON.stringify(\n  {\n    next: window.location.href,\n    nonce,\n  } as State\n);\n\n// After\nconst state = JSON.stringify({\n  next: window.location.href,\n  nonce,\n} as State);\nRemove parens for type assertions in binary expressions (#2419) by @azz\nMost of the time we add parenthesis for correctness but in this case, we added them for nothing, so we can just get rid of them and have a cleaner code :)\n// Before\n(<x>a) || {};\n\n// After\n<x>a || {};\nPrint parens around type assertion as LHS in assignment (#2525) by @azz\nYet another case of missing parenthesis. Thankfully we're getting very few of them nowadays and they are for extremely rare edge cases.\n// Before\nfoo.bar as Baz = [bar];\n\n// After\n(foo.bar as Baz) = [bar];\nPrint declare for TSInterfaceDeclaration (#2574) by @existentialism\nThe declare keyword doesn't do anything for interface so we never put it there. However, it felt weird if you were in a declaration file and seeing everything have declare before it except for interfaces. So now we reprint declare if it was there in the first place.\n// Before\ninterface Dictionary<T> {\n  [index: string]: T\n}\n\n// After\ndeclare interface Dictionary<T> {\n  [index: string]: T\n}\nCSS\nNormalize quotes in CSS (#2624) by @lydell\nIn order to get a first version of CSS to ship, we kept string quotes as is. We are now respecting the singleQuote option of prettier. The difficulty here was to make sure that we output correct code for all the crazy escapes, unicode characters, emoji, special rules like charset which only work with double quotes...\n// Before\ndiv {\n  content: \"abc\";\n}\n\n// After\ndiv {\n  content: 'abc';\n}\nNormalize numbers in CSS (#2627) by @lydell\nAnother place where we can reuse the logic we've done for JavaScript to improve CSS printing.\n// Before\nborder: 1px solid rgba(0., 0.0, .0, .3);\n\n// After\nborder: 1px solid rgba(0, 0, 0, 0.3);\nQuote unquoted CSS attribute values in selectors (#2644) by @lydell\nI can never quite remember the rules behind quotes around attributes so we're now always putting quotes there.\n// Before\na[id=test] {}\n\n// After\na[id=\"test\"] {}\nAdd support for css keyword (#2337) by @zanza00\n// Before\nconst header = css`.top-bar {background: black;margin: 0;position: fixed;}`\n\n// After\nconst header = css`\n  .top-bar {\n    background: black;\n    margin: 0;\n    position: fixed;\n  }\n`;\nSupport styled-components with existing component (#2552, #2619) by @azz\nstyled-components has a lot of different variants for tagging template literals as CSS. It's not ideal that we've got to encode all those ways inside of prettier but since we started, might as well do it for real.\nstyled(ExistingComponent)`\n  css: property;\n`;\n\nstyled.button.attr({})`\n  border: rebeccapurple;\n`;\nTrim whitespace in descendant combinator (#2411) by @azz\nThe CSS parsers we use do not give us a 100% semantic tree: in many occasions they bail and just give us what is being entered. It's up to us to make sure we clean this up while maintaining correctness. In this case, we just printed spaces between selectors as is but we know it's correct to always replace it by a single space.\n// Before\n.hello\n\n            .how-you-doin {\n  height: 42;\n}\n\n// After\n.hello .how-you-doin {\n  height: 42;\n}\nStrip BOM before parsing (#2373) by @azz\nI still have nightmares from dealing with BOM in a previous life. Thankfully, in 2017 it's no longer a big issue as most tooling is now aware of it. Thanks @azz for fixing an edge cases related to CSS parsing.\n// Before\n[BOM]/* Block comment *\nhtml {\n  content: \"#{1}\";  \n}\n// After\n[BOM]/* Block comment */\nhtml {\n  content: \"#{1}\";  \n}\nGraphQL\nAdd support for range-formatting GraphQL (#2319) by @josephfrazier\nIf you tried to use the range formatting feature in a GraphQL file, it would throw an exception, now it properly worked again and only reformats the piece you selected.\nAdd .gql file extension to be parsed as GraphQL (#2357) by @rrdelaney\nAt Facebook, we use .graphql extension but it looks like it's common to have .gql as well, doesn't cost a lot to support it in the heuristic that figures out what parser to use.\nCLI\nSupport multiple patterns with ignore pattern (#2356) by @evilebottnawi\nIt was already possible to have multiple glob patterns but they would be additive, with this change, you can add a glob pattern to ignore some files. It should be very handy to ignore folders that are deeply nested.\n \nMake --list-different to work with --stdin (#2393) by @josephfrazier\nThis is a handy way of knowing if prettier would print a piece of code in a different way. We already had all the concepts in place, we just needed to wire them up correctly.\n$ echo 'call ( ) ;' | prettier --list-different\n(stdin)\n$ echo $?\n1\n\n. ## Version 1.6.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. After pinning to 2.1.1 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 2.3.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 2.3.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 4.1.3 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 4.2.1 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nRelease Notes\nv4.2.1\n\n4.2.1 (2017-09-15)\nBug Fixes\n\nMissing entry file (#283) (e17ba5f), closes #284\n\n\n\nCommits\nThe new version differs by 1 commits.\n\ne17ba5f fix: Missing entry file (#283)\n\nSee the full diff\n\n. ## Version 3.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 0.57.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n07e641e v0.57.2\n\nSee the full diff\n\n. ## Version 0.57.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n31e8fe8 v0.57.3\n\nSee the full diff\n\n. ## Version 0.58.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n7697bd8 v0.58.0\n\nSee the full diff\n\n. ## Version 0.59.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n8f60831 v0.59.0\n\nSee the full diff\n\n. ## Version 0.60.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 3 commits.\n\n65d93cf v0.60.0\n1829d25 Merge pull request #99 from flowtype/mit\ne527bf1 Update license to MIT\n\nSee the full diff\n\n. ## Version 0.60.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n873a43a v0.60.1\n\nSee the full diff\n\n. ## Version 0.61.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\ne4dcfdb v0.61.0\n\nSee the full diff\n\n. ## Version 0.62.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n46bdd66 v0.62.0\n\nSee the full diff\n\n. After pinning to 3.1.0 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 1.8.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.8.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. After pinning to 3.3.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 16.0.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 16.0.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 16.0.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 16.1.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 16.1.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 16.1.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 0.5.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 9 commits.\n\n9b0290f 0.5.0\n8076021 Merge pull request #13 from nikshik/set-query-text\nce4e10f Merge branch 'master' into nikshik-set-query-text\n44e0bdd Document new API\n460b0aa Move setQuery logic inside update\n1466285 Remove semicolons\n617259b Add test for set query; Fix not cleared selection if text was previously selected\n9c769b8 Change method name and signature for setting query text\n40365f2 Add setQueryText method to be able to preset text to queryEditor\n\nSee the full diff\n\n. After pinning to 3.0.2 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 3.0.2 your tests are passing again. Downgrade this dependency \ud83d\udccc.. After pinning to 3.3.1 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 3.3.3 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nCommits\nThe new version differs by 5 commits.\n\n9c14059 Fixed #1258: cannot replace map contents using another map\nafee132 Merge branch 'dannsam-1238-robust-iobservablefactory-assignment'\n2eb7a45 Fixed some test / compile issues\ndf5002c Split IObservableFactories type definition and implementation\nc6bd40c Published version 3.3.2\n\nSee the full diff\n\n. ## Version 3.4.0 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nCommits\nThe new version differs by 16 commits.\n\na15a8d0 Merge pull request #1254 from Kriegslustig/feature/correctly-expose-flow-typings\n20bb538 Merge branch 'master' into feature/correctly-expose-flow-typings\n1cfc305 Merge branch 'master' into feature/correctly-expose-flow-typings\nc6dd0d8 Published version 3.3.3\n9c14059 Fixed #1258: cannot replace map contents using another map\nb14f7e9 add a changelog entry for #1254\nafee132 Merge branch 'dannsam-1238-robust-iobservablefactory-assignment'\n2eb7a45 Fixed some test / compile issues\n548ce0c document new way to include flow\n12c5b2c update flow-bin\n0b389fc correclty expose isObservableMap function\n83c7fc1 improve flow typing for observable.map (fixes #1184)\n7b31f96 add flow tests for extendedObservable and mobx.observable\n1d955fc expose flow types directly\ndf5002c Split IObservableFactories type definition and implementation\n\nThere are 16 commits in total.\nSee the full diff\n\n. ## Version 3.4.1 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. After pinning to 4.3.4 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 1.9.1 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 1.1.2 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 3.3.2 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 1.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.4 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 2.0.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.0-0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.0-1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.1.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.1.4 just got published. \nUpdate to this version instead \ud83d\ude80 \n. - The dependency @jupyterlab/services was updated from 0.52.0 to 3.2.1.\nUpdate to this version instead \ud83d\ude80. ## Version 3.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 3.0.4 just got published. \nUpdate to this version instead \ud83d\ude80 \n. After pinning to 3.0.3 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 3.1.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. ## Version 3.1.3 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 3.1.4 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 3.1.4 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. After pinning to 3.1.2 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 4.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n4.1.0\nFeatures\n\nAdded WebSocketServer.prototype.address() (#1294).\nAdded zlib{Deflate,Inflate}Options options (#1306).\n\n\n\nCommits\nThe new version differs by 30 commits.\n\nd390dc5 [dist] 4.1.0\na70bd65 [test] Fix typo\nd8da1b2 [doc] Add missing zlibInflateOptions option\n053a322 [minor] Add zlib{Deflate,Inflate}Options options (#1306)\nf2b5105 chore(package): update eslint-plugin-import to version 2.9.0 (#1309)\n84fa837 chore(package): update eslint-config-standard to version 11.0.0 (#1307)\n36f249d chore(package): update eslint to version 4.18.0 (#1304)\n563edbd [test] Use WebSocketServer#address()\n75b6397 [fix] Ensure that the status code is not incorrectly overwritten\nc8408c0 [doc] Fix docs for onerror listener\n9194770 [doc] Fix typo\n98d1955 [doc] Add a link to isomorphic-ws (#1298)\n8281940 chore(package): update eslint-plugin-node to version 6.0.0 (#1295)\n8d61fa0 [api] Add WebSocketServer.prototype.address() (#1294)\n66b0d55 [minor] Use do...while in Receiver#startLoop()\n\nThere are 30 commits in total.\nSee the full diff\n\n. ## Version 5.0.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n5.0.0\nBreaking changes\n\nDropped support for Node.js < 4.5.0 (#1313).\nThe connection is no longer closed if the server does not agree to any of\nthe client's requested subprotocols (#1312).\nnet.Socket errors are no longer re-emitted (a4050db).\n\nFeatures\n\nRead backpressure is now properly handled when permessage-deflate is enabled\n(#1302).\n\n\n\nCommits\nThe new version differs by 10 commits.\n\nd3af506 [dist] 5.0.0\n7abe823 [minor] Rename abortConnection to abortHandshake\n7fb82a3 [fix] Rename the 'close' event to 'conclude'\nfb05059 [test] Fix faulty test\n3f80ab7 [major] Drop support for Node.js < 4.5.0 (#1313)\n14538db [major] Fix subprotocol handling (#1312)\n3913c59 [benchmark] Fix parser benchmark\na4050db [major] Do not re-emit net.Socket errors\naa2c423 [minor] Do not use Readable.prototype.pipe()\n70fff53 [minor] Make Receiver inherit from stream.Writable\n\nSee the full diff\n\n. ## Version 5.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n5.1.0\nFeatures\n\nThe address argument of the WebSocket constructor can now be a URL\ninstance (#1329).\nThe options argument of the WebSocket constructor now accepts any TLS\noption that is also accepted by https.request() (#1332).\n\n\n\nCommits\nThe new version differs by 7 commits.\n\n7c74567 [dist] 5.1.0\n9e152f9 [feature] Allow all options accepted by http{,s}.request() (#1332)\n938cdde chore(package): update eslint to version 4.19.0 (#1330)\n1504d67 [fix] Allow URL instances as URL in WebSocket constructor (#1329)\n57d3dbb chore(package): update nyc to version 11.6.0 (#1326)\n23f5957 [fix] Remove buffer noAssert argument (#1324)\n2a55dda chore(package): update eslint-plugin-promise to version 3.7.0 (#1321)\n\nSee the full diff\n\n. ## Version 5.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n5.1.1\nBug fixes\n\nFixed a regression introduced in 9e152f9 (#1347).\n\n\n\nCommits\nThe new version differs by 5 commits.\n\n10c92ff [dist] 5.1.1\nf335d79 [fix] Add default value for servername option (#1347)\n2d7bf88 [perf] Use js version of {un,}mask() for very small frames (#1348)\nf52debe [doc] Explain the behavior of server.close() more precisely (#1342)\n83ce534 chore(package): update eslint-plugin-import to version 2.10.0 (#1340)\n\nSee the full diff\n\n. ## Version 5.2.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n5.2.0\nFeatures\n\nAdded ability to specify custom headers when rejecting the handshake (#1379).\n\n\n\nCommits\nThe new version differs by 14 commits.\n\ne4d032c [dist] 5.2.0\ne7bfe5f chore(package): update mocha to version 5.2.0 (#1385)\n6dae94b chore(package): update eslint-plugin-import to version 2.12.0 (#1384)\naebda2b chore(package): update nyc to version 11.8.0 (#1382)\nd871bdf [feature] Add headers argument to verifyClient() callback (#1379)\nbb9c21c [test] Fix failing test on node 10\n6d8f1f4 [ci] Test on node 10\n4385c78 [doc] Add request to emit arguments in shared server example (#1372)\n690b3f2 [minor] Replace bound function with arrow function\n9dc25a3 chore(package): update nyc to version 11.7.1 (#1364)\na81e580 chore(package): update mocha to version 5.1.0 (#1362)\n3215cf3 chore(package): update eslint-plugin-import to version 2.11.0 (#1361)\n0100d82 [doc] Improve FAQ example for X-Forwarded-For header (#1360)\nc801e99 [doc] Improve docs and examples (#1355)\n\nSee the full diff\n\n. ## Version 5.2.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n5.2.1\nBug fixes\n\nFixed a bug that could prevent buffered data from being processed under\ncertain circumstances (6046a28).\n\n\n\nCommits\nThe new version differs by 5 commits.\n\n175ce46 [dist] 5.2.1\n307be7a [fix] Remove the 'data' listener when the receiver emits an error\n6046a28 [fix] Do not prematurely remove the listener of the 'data' event\nbf9b2ec chore(package): update nyc to version 12.0.2 (#1395)\nbcab531 chore(package): update eslint-plugin-promise to version 3.8.0 (#1389)\n\nSee the full diff\n\n. ## Version 5.2.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n5.2.2\nBug fixes\n\nFixed a use after invalidation bug introduced in 6046a28 (8aba871).\n\n\n\nCommits\nThe new version differs by 2 commits.\n\n5d55e52 [dist] 5.2.2\n8aba871 [fix] Fix use after invalidation bug\n\nSee the full diff\n\n. ## Version 6.0.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\n6.0.0\nBreaking changes\n\nDropped support for Node.js 4 (d73885c).\nAdded a shim that throws an error when used if the package is bundled for the\nbrowser (#1345).\nAdded a maxPayload option on the client. Defaults to 100 MiB (#1402).\nDropped support for the memLevel and level options. Use\nzlibDeflateOptions instead. (80e2002).\n\n\n\nCommits\nThe new version differs by 15 commits ahead by 15, behind by 2.\n\n1ee42fd [dist] 6.0.0\nd963003 [example] Update dependencies\n38d2e8b chore(package): update eslint-plugin-node to version 7.0.0 (#1420)\nfc95793 [fix] Fix use after invalidation bug\nfbd4391 [fix] Fix compatibility with Node.js 6\nb354cd1 [minor] Remove no longer needed workaround for socketPath option\nef5a8f5 [pkg] Update eslint-plugin-standard to version 3.1.0\n80e2002 [major] Drop support for the memLevel and level options\n92d0a2e [major] Add maxPayload option for the client (#1402)\n9f87842 [major] Make bundlers use a browser shim that throws an error (#1345)\n72bfbe8 chore(package): update bufferutil to version 4.0.0 (#1413)\n5bb29ed chore(package): update utf-8-validate to version 5.0.0 (#1415)\n3bc6b96 chore(package): update eslint to version 5.0.0 (#1403)\nd73885c [major] Drop support for Node.js 4\n5d90141 chore(package): update eslint-plugin-import to version 2.13.0 (#1405)\n\nSee the full diff\n\n. - The dependency ws was updated from 3.3.3 to 6.1.0.\nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes for 6.1.0\nFeatures\n\nThe WebSocket server now emits a 'close' event when the server\ncloses (#1453).\n\n\n\nCommits\nThe new version differs by 11 commits.\n\nb9ce38d [dist] 6.1.0\n9fe2f33 [test] Fix failing test on Windows\n90407bb [feature] Make WebSocketServer#close() emit 'close' (#1453)\n6de05e0 [pkg] Update nyc to version 13.0.1\n26b65da [pkg] Update eslint to version 5.6.1\n7d7ddfd chore(package): update eslint-config-standard to version 12.0.0 (#1440)\n19a0225 [lint] Add missing spaces\n30335cb chore(package): update eslint-plugin-standard to version 4.0.0 (#1439)\n1e78aba [pkg] Update eslint-plugin-import to version 2.14.0\n2bb93fb [pkg] Update eslint to version 5.4.0\n07d337a chore(package): update eslint-plugin-promise to version 4.0.0 (#1432)\n\nSee the full diff\n\n. ## Version 0.63.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\nb6f2635 v0.63.1\n\nSee the full diff\n\n. After pinning to 3.2.0 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 0.65.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\nb561c0f v0.65.0\n\nSee the full diff\n\n. ## Version 2.99.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 16 commits.\n\n6a8ff78 v2.99.0\ncc8d257 update jasmine-should-fail\nb42f1ed update spec suite views\na871f45 update jasmine-should-fail\n948aaec update jasmine-should-fail\n7fde0b3 lint\nb278a88 show deprecations\n3693d81 update spec helpers\n48df0ef move deprecations to the top\nc68af5e add to deprecations\n81b9e04 add deprecation view\ne34089a fix titles\nffb786e update deps\n505612b update spec helpers\nb975f26 update readme\n\nThere are 16 commits in total.\nSee the full diff\n\n. ## Version 2.99.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 4 commits.\n\nec9d935 v2.99.1\n37a91bf clean up  code\n34d2d11 show error message when no stack trace\n9179a06 alert about jasmine 3.x\n\nSee the full diff\n\n. ## Version 4.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.2.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.3.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.3.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.4 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.2.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.3.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.3.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.4 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.4.5 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.0.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.1.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 4.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 6 commits.\n\n6d8c6af Merge pull request #1394 from jjinux/changelog-observable-computed-get\nb68df65 Merge pull request #1393 from andrew--r/master\n7bb3f14 Added something missing from the CHANGELOG\n1f04e8b Fixed flow typings (#1392)\nef9ffb9 Removed jsfiddle link\n1bbcac3 Published version 4.0.0\n\nSee the full diff\n\n. ## Version 4.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 9 commits.\n\n4b44c32 Fixed object initialization issue\n6e50585 Removed debugger statements\nea47438 Merge pull request #1399 from ismailhabib/master\n94a8882 Merge pull request #1400 from jdreesen/patch-1\n0d73fdd Added tests to verify that arrays are still spreadable / not concat spreadable, see #1395\n562030b Fix some more typos in the changelog\n9d8a725 Fix typo in the changelog\n2dc4f1d Minor fix for flow typing\n6f7dc09 Published version 4.0.1\n\nSee the full diff\n\n. ## Version 4.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 18 commits.\n\n1cd8e7b Test fixups\nc9bb570 Merge pull request #1414 from mobxjs/random-improvements\n7b7d6a7 Merge branch 'master' into random-improvements\n3e07bcb Merge pull request #1407 from mobxjs/make-actions-reconfigurable\n84d4f0f Merge pull request #1412 from mobxjs/fix-rn-decorators\n5fb127c Updated changelog\n02c0994 Implemented #1402: run when effect in action\nf1c45e2 Added tests verifying #1413\naa2f558 Fixed potentially runaway promise when cancelling the flow generator\n5e230c2 Added test demonstrating tuples, see #1391\nb7fec6e Slightly faster observable initialization\n037020d Introduced keepAlive option on computed.\n18ad1d9 All observable api's now default to any for their generic arguments\n25f2fed Updated sponsors list\ne6363ad Correct issue nr is #1396\n\nThere are 18 commits in total.\nSee the full diff\n\n. ## Version 4.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 21 commits.\n\n7ae8796 Updated changelog\na1a923b Fixed an error message. Fixes #1418\nf41dd51 Using the default export will no longer throw, but warn instead. Fixes #1458\n43779b8 Merge pull request #1460 from farwayer/spy-stop-fix\n647c3d5 spy: fix stop listen from handler\nb0fcdc1 spy: stop listen from handler test\n8562e77 Merge pull request #1450 from makepost/master\ne2cc3b3 Merge pull request #1430 from NoNameProvided/patch-1\ne9b497f Merge pull request #1438 from forki/patch-1\n052bc55 Merge pull request #1451 from AMilassin/patch-2\n460ada2 Flow-typed: add missing runInAction declaration\nc71ee1d Decorate: Fix in type-checked JS, resolves #1448\n057df95 sponsor update\neb13572 Attempt 3\na834549 doh\n\nThere are 21 commits in total.\nSee the full diff\n\n. ## Version 0.69.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\nb8a5da6 v0.69.0\n\nSee the full diff\n\n. ## Version 5.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 2 commits.\n\n6c4774b Add mobx-react@5 in peer dependencies\n066f801 Published version 5.0.0\n\nSee the full diff\n\n. ## Version 0.71.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n89a4835 v0.71.0\n\nSee the full diff\n\n. ## Version 0.73.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 2 commits.\n\nfb2064b v0.73.0\ndcf08d0 v0.72.0\n\nSee the full diff\n\n. ## Version 0.74.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\na0b07d8 v0.74.0\n\nSee the full diff\n\n. ## Version 0.75.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\nf6ebe2f v0.75.0\n\nSee the full diff\n\n. ## Version 0.76.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n46f20af v0.76.0\n\nSee the full diff\n\n. ## Version 0.77.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\ned08ced v0.77.0\n\nSee the full diff\n\n. ## Version 0.78.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\na633609 v0.78.0\n\nSee the full diff\n\n. ## Version 0.79.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n9f2e8cb v0.79.0\n\nSee the full diff\n\n. ## Version 0.79.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n6c5ed41 v0.79.1\n\nSee the full diff\n\n. After pinning to 4.2.1 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 4.3.1 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. After pinning to 1.12.1 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 1.13.1 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 1.13.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. ## Version 1.13.3 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 1.13.4 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 1.13.5 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 1.13.6 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nRelease Notes\n1.13.6\n\ud83d\udd17 Changelog\n\n. ## Version 1.13.7 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nRelease Notes\n1.13.7\n\ud83d\udd17 Changelog\n\n. ## Version 1.14.0 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nRelease Notes\nPrettier 1.14: YAML Support\n\ud83d\udd17 Release Notes\n\n. ## Version 1.14.1 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nRelease Notes\n1.14.1\n\ud83d\udd17 Changelog\n\n. ## Version 1.14.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n\nRelease Notes\n1.14.2\n\ud83d\udd17 Changelog\n\n. ## Version 5.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 15 commits.\n\ndd68d98 Reverted back to publishing ES5 builds. Fixes #1584\ne656edf Fixed #1583: observableMap.size not observable\n67e9577 Export $mobx flag for devtools\nee3f286 Merge pull request #1579 from t49tran/fix-changelog-typo\na9d3b11 Merge pull request #1581 from Loilo/patch-1\ne7e0209 the later -> the latter\neb85b9e Somehow linked to unrelated issues in changelog\nf534e7f Updated changelog to reflect changes in mobx-react 5.2.1\n7e954f5 doc: fix changelog typo\nf8496e6 Added note about freeze exception icmw React style property\n9133f6d Clearer NodeJS version number\n445b490 Added componentWillMount issue to the changelog, and fixed node version\nfae3f2e Merge pull request #1576 from mobxjs/capaj-patch-1\n88ac8ea just wording fixes\nc2dd6fb Published version 5.0.0\n\nSee the full diff\n\n. ## Version 5.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 5.0.3 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 2 commits.\n\n6d7616a fixed issue where custom props could no longer be used on observable arrays\ne59797c Published version 5.0.2\n\nSee the full diff\n\n. After pinning to 3.1.7 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 3.1.1 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 6.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\n0da1ab2 Corrected peer dependency\n\nSee the full diff\n\n. ## Version 6.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 3 commits.\n\nfdea259 Fixed #80; Text nodes don't have a boundingClientRect\n1b0d2b8 Merge pull request #98 from AMilassin/master\n1cc4fad Re-add missing isObservableMap import\n\nSee the full diff\n\n. ## Version 3.0.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 2 commits.\n\n08c1ad0 3.0.1\n98164cd Update package-lock.json\n\nSee the full diff\n\n. ## Version 3.0.2 just got published. \nUpdate to this version instead \ud83d\ude80 \n\nRelease Notes\nv3.0.2\nPatches\n\ne9964ce - Whitelist missing files in package.json (@giuseppeg)\n\n\n\nCommits\nThe new version differs by 2 commits.\n\ndb2765b 3.0.2\ne9964ce Whitelist missing files in package.json\n\nSee the full diff\n\n. After pinning to 4.3.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 4.3.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. After pinning to 3.2.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. After pinning to 3.2.0 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 3.2.2 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. After pinning to 3.4.0 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 3.4.2 just got published. \nYour tests are still failing with this version. Compare the changes \ud83d\udea8 \n. ## Version 3.4.2 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 3.4.3 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 3.4.4 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. ## Version 1.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.3.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.1.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.6.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.3.1 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.4.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.7.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.8.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. ## Version 1.5.0 just got published. \nUpdate to this version instead \ud83d\ude80 \n. After pinning to 5.0.4 your tests are passing again. Downgrade this dependency \ud83d\udccc.. ## Version 5.1.0 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n\nCommits\nThe new version differs by 4 commits.\n\n8a62b98 Improved configure({ enforceActions }) api\n86f32d3 Warn about the absence of Symbols\n36b0159 Improved handling of multiple MobX instances, by using share-by-default, fixes #1681 / #1082\neb55603 Published version 5.0.5\n\nSee the full diff\n\n. - The dependency mobx was updated from 5.1.0 to 5.1.1.\nYour tests are passing again with this update. Explicitly upgrade to this version \ud83d\ude80\n\nCommits\nThe new version differs by 10 commits.\n\n3261444 Added mobx 4 version to changelog\ndf6b0c8 Merge pull request #1711 from makepost/master\ncc896ea Merge pull request #1707 from jjinux/fix/changelog-3-0-0\nd97e915 Decorate: Allow modifier when strict\n91fc585 Added an item to the CHANGELOG for version 3.0.0\na175c70 Published version 5.1.0\n8a62b98 Improved configure({ enforceActions }) api\n86f32d3 Warn about the absence of Symbols\n36b0159 Improved handling of multiple MobX instances, by using share-by-default, fixes #1681 / #1082\neb55603 Published version 5.0.5\n\nSee the full diff\n\n. - The devDependency flow-bin was updated from 0.79.1 to 0.81.0.\nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\ne500960 v0.81.0\n\nSee the full diff\n\n. - The devDependency flow-bin was updated from 0.79.1 to 0.82.0.\nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 1 commits.\n\nbb7df7f v0.82.0\n\nSee the full diff\n\n. After pinning to 3.2.2 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 3.2.4 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. After pinning to 3.2.1 your tests are still failing. The reported issue might not affect your project. These imprecisions are caused by inconsistent test results.. ## Version 3.2.3 just got published. \nYour tests are passing again with this version. Explicitly upgrade to this version \ud83d\ude80 \n. - The devDependency husky was updated from 0.14.3 to 1.0.1.\nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 12 commits.\n\n998339e Lint\nfd5379c 1.0.1\n3c3b60d Update CHANGELOG.md\nff64d7e Update README.md\nd6c3acb Merge branch 'master' of https://github.com/typicode/husky\n9b1ed8f Update CHANGELOG.md\n1aac5c3 husky-upgrade: don't create husky config if no hooks exist (#359)\n14e4c45 Update README.md\nee39cf9 husky-upgrade replace GIT_PARAMS with HUSKY_GIT_PARAMS (#360)\n201221e Update README.md (#361)\n5926ac6 upgrader: Add trailing newline to package.json (#362)\n582b6b6 Fix link in CHANGELOG.md (#357)\n\nSee the full diff\n\n. - The devDependency husky was updated from 0.14.3 to 1.1.0.\nUpdate to this version instead \ud83d\ude80 \n\nCommits\nThe new version differs by 9 commits.\n\nd22b4f2 1.1.0\nec35c66 Update badges\nec415c6 Fix TypeScript errors\n2242913 Add module/types\nbec48eb Update CHANGELOG.md\n0eb1db3 Add comment\nf09ce83 Create .git/hooks if doesn't exist (#368)\n075c644 Update dependencies\n92a93f3 Update README.md\n\nSee the full diff\n\n. ",
    "ajlai": "here you go:\n\nI looked a bit more into why this is happening and it seems to be because we pass the cell divider comment line as the first line of the cell when running it. (checked using %hist) For cell magics to work the first line must be the cell magic and cannot be a comment.. ",
    "dengemann": "@lgeiger @BenRussert moving to my new mac and doing a fresh install I run into the same issue with exactly the same error message as reported by @davemssavage. I tried the suggestions above but nothing worked. My Atom version is 1.19.9 x64 and Hydrogen is the latest (1.19.0). I'd be very grateful for your help, hydrogen became a hard dependency for my daily work.. @BenRussert woot! Indeed that little red bug in the bottom pane is not just cute but indeed revealed a built conflict plus a graphical resolution interface. Btw. rebuilding with apm from command line did not do the job, only the GUI way worked. Now everything works like a charm. Thank you for your help. Keep up the amazing work, hydrogen profoundly transformed the way I get things done.. That's indeed amusing. It would not have occurred to me to search for a\nsolution inside the GUI. Thank you once more!\nOn Sun, Aug 13, 2017 at 10:05 PM Ben Russert notifications@github.com\nwrote:\n\n@dengemann https://github.com/dengemann that is great to hear!\nYou are not the first to report that the GUI method works, but not via\napm. I'm \ud83e\udd37\u200d\u2642\ufe0f on that, so I've been pushing the GUI method.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/617#issuecomment-322064152,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AB0fiq8Ub0OkNiYtAK0kTmbzUFElJ6rTks5sX1bwgaJpZM4MFSav\n.\n. \n",
    "adavidzh": "FWIW, I tripped on this today and the GUI solution worked while the CLI solution didn't.. Thank you all for this great tool!. ",
    "hagaiattias": "It actually says \"scala\":\njson\n{\n  \"kernelspecs\": {\n    \"scala\": {\n      \"resource_dir\": \"/Users/hattias/Library/Jupyter/kernels/scala\",\n      \"spec\": {\n        \"language\": \"scala\",\n        \"display_name\": \"Scala\",\n        \"env\": {},\n        \"argv\": [\n          \"java\",\n          \"-noverify\",\n          \"-jar\",\n          \"/Users/hattias/Library/Jupyter/kernels/scala/launcher.jar\",\n          \"launch\",\n          \"-r\",\n          \"sonatype:releases\",\n          \"-r\",\n          \"sonatype:snapshots\",\n          \"-i\",\n          \"ammonite\",\n          \"-I\",\n          \"ammonite:org.jupyter-scala:ammonite-runtime_2.11.8:0.8.1\",\n          \"-I\",\n          \"ammonite:org.jupyter-scala:scala-api_2.11.8:0.4.0-RC3\",\n          \"org.jupyter-scala:scala-cli_2.11.8:0.4.0-RC3\",\n          \"--\",\n          \"--id\",\n          \"scala\",\n          \"--name\",\n          \"Scala\",\n          \"--quiet\",\n          \"--connection-file\",\n          \"{connection_file}\"\n        ]\n      }\n    },\n    \"python2\": {\n      \"resource_dir\": \"/Users/hattias/Tools/anaconda2/lib/python2.7/site-packages/ipykernel/resources\",\n      \"spec\": {\n        \"language\": \"python\",\n        \"display_name\": \"Python 2\",\n        \"env\": {},\n        \"argv\": [\n          \"/Users/hattias/Tools/anaconda2/bin/python\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\nI created a mapping {\"scala\":\"scala\"} but still getting the error.. Yeah, I actually just installed it and the error went away, however when trying to execute simplest code I see the \"mini-icon of moving barcharts\", but nothing happens.. I actually think I found the problem after looking in the console as you suggested - \n\nHydrogen ZMQKernel: stderr: Exception in thread \"main\" java.lang.RuntimeException: ammonite.runtime.tools.DependencyThing$IvyResolutionException: failed to resolve dependencies:\n  file:/Users/hattias/.m2/repository/org/scala-lang/scala-library/2.11.8/scala-library-2.11.8.jar: not found\n\nI have another version of scala installed (2.10.4), how can I change it?. ok, I installed 2.11.8 and now it works. thanks for the help!. ",
    "jackjameshoward": "I'm using jupyter notebooks, so can I redirect Hydrogen to the correct path for jupyter notebooks? . I've resolved this now. I used the output of jupyter kernelspec list --json in the end because it allowed me to add multiple versions of python. Thanks. ",
    "data-steve": "Awesome!\nAs I said, if someone can reproduce the power of RStudio for other languages, they will get the kind of lock-in that RStudio is getting and building a business on top of. \nI just posted a similar request at Continuum, the biggest real player in fully open-source for data science, aside from RStudio. Continuum is multi-lingual at least in their language distribution service . Feels like Jupyter overcommitted to the notebook concept and is dropping the ball on this one. Visual Studio is doing Rtools and PythonTools plugins but still isn\u2019t that compelling. Rodeo is too slow and buggy, freezes up when data is of any real size.\n~ Steve\nSent via telepathy\n\nOn Mar 23, 2017, at 10:01 AM, BenRussert notifications@github.com wrote:\nAgreed this would be great. I think react inspector http://xyc.github.io/react-inspector/ might be a good starting place.\nI might experiment with this as a plugin and hopefully get some discussion going here if anyone else has some ideas/code.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/628#issuecomment-288728264, or mute the thread https://github.com/notifications/unsubscribe-auth/AHefi5kMB6Zjav1gFmZgIy10ja2mjgcbks5rontPgaJpZM4MQjCX.\n\n\n. I wish I could help more than just cheering and wishlisting things. I have zero experience with React and barely any experience with javascript beyond basic web and d3 stuff. \nI\u2019m very happy to be a guinea pig though. Hydrogen has become my default editor for a lot of quick stuff.\nOne question related to what you mention in terms of a sidebar. Everytime I saved the file I\u2019m working inall the visualizations / cross tabs etc disappear which makes it hard to do much long-running experimentation because I have to keep going back to re-run plots/crosstabs and possibly underlying data has changed along the way. That\u2019s one big of advantage of having a plot viewer on the side or console/output in Jupyter. Is that a sidebar thing as well?\n~ Steve\nSent via telepathy\n\nOn Mar 23, 2017, at 10:44 AM, Lukas Geiger notifications@github.com wrote:\nRereading the issue makes me think that we may be able to support this simply by adding support for the application/json output type and utilizing the watch sidebar.\nThis way we don't have a complete variable explorer that shows all available variables from the current scope, instead one can add custom variables or expression to watch, similar to a debugger (we already support this).\nnteract https://github.com/nteract/nteract already has support for interacting with objects https://cloud.githubusercontent.com/assets/836375/19217520/db6e4fc8-8daa-11e6-98fb-266c15466a65.png and exports the relevant React components in @nteract/display-area https://github.com/nteract/nteract/tree/master/packages/display-area and @nteract/tranforms https://github.com/nteract/nteract/tree/master/packages/transforms using react-json-tree https://github.com/alexkuz/react-json-tree. I think using this together with our Watch Sidebar would bring us very close to the desired behavior.\n@BenRussert https://github.com/BenRussert @data-steve https://github.com/data-steve Awesome that you are interested in experimenting with this! I started #655 https://github.com/nteract/hydrogen/pull/655 which tries to bring in @nteract/tranforms to adds support for the above mentioned object output and more.\nI would be super happy to have more people collaborating on this effort. \ud83c\udf89\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/628#issuecomment-288741489, or mute the thread https://github.com/notifications/unsubscribe-auth/AHefi_oG5x9INsUmirCYYx5nKOXMeiLYks5rooVAgaJpZM4MQjCX.\n\n\n. \n\nOn Mar 23, 2017, at 1:27 PM, Lukas Geiger notifications@github.com wrote:\nIs that a sidebar thing as well?\nI don't fully understand, but this GIF describes the behavior best: https://github.com/nteract/hydrogen#watch-expressions https://github.com/nteract/hydrogen#watch-expressions\nEvery time code is run, the plot is recomputed.\n\n\nI guess I just mean, like in RStudio, you run code from your script or console and it opens in a plot viewer, from my understanding of this Toggle Watches feature https://github.com/nteract/hydrogen#watch-expressions https://github.com/nteract/hydrogen#watch-expressions that viewer only tracks registered variables? But in a data science workflow, it much more common to want to keep track of generated plots on a variety of variables than necessarily track how only a tracked variable changes as the same variable updates. \nMore generally, I\u2019d say the Watches panel would be much more useful as just a general purpose plot viewer / trackers as in the gif above. In RStudio you can download/delete/etc the plots directly from the viewer. \nAlso, this seems like a nice enough feature to button-ize because I\u2019d be using it all the time. Having to Control Panel and search for such an odd phrasing like Hydrogen: Toggle Watches is hard to remember \n~ Steve\nSent via telepathy\n. Also, is there a way to export the resulting script with visualizations and cross tabs having been run as a html file?\n\nOn Mar 23, 2017, at 5:05 PM, Lukas Geiger notifications@github.com wrote:\nDefinitely something that would be great to look into.\nAlso, this seems like a nice enough feature to button-ize because I\u2019d be using it all the time. Having to Control Panel and search for such an odd phrasing like Hydrogen: Toggle Watches is hard to remember\nIn Atom you can allways add custom keybindings by editing the keymaps.cson file. Though you're right a default shortcut would be handy. Any ideas?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/nteract/hydrogen/issues/628#issuecomment-288859660, or mute the thread https://github.com/notifications/unsubscribe-auth/AHefi2y2cyl_kFEfCYatfqmfeTQRfvbMks5rot6pgaJpZM4MQjCX.\n\n\n. ",
    "abalter": "I believe that the JupyterLab roadmap lists a variable inspector as a future development. And JupyterLab is under very active development. Maybe sharing some ideas with them could be useful.. Hi @BenRussert, what I mean is the equivalent of this in jupyter noteboks. . Sorry I'm coming off as  dumb. Yes, I see that it runs different kernels in different cells. But being able to pass variables between code blocks with different kernels goes beyond that. Is there some documentation on this?\nIn the example above, how does hydrogen know that in the space between echo \"a + b = $(($1 + $2))\" and print(c) we've transitioned from the bash kernel to python? If just an empty line, that seems pretty inconvenient and dangerous.\nWhat about when using fenced code blocks as in R markdown? What would be the syntax in that case?. So, I tried running something like what you have above. But when I step through it with shift-enter, it always balks when I land on a line starting a code block with a magic command like %%R. I get\n\"UsageError: %%R is a cell magic, but the cell body is empty. Did you mean the line magic %R (single %)?\"\n\n\nHowever, if I select the entire block, it will run properly. \nSo this confirms exactly what I suspected: The current hydrogen syntax does not currently include a way to implicitly identify code cells. I think this is a serious shortcoming.\nI think this syntax is very important. \nWhile I love Python, I think the R-markdown system is really fabulous. I think it would be great if hydrogen would expand on this so that executable code blocks were in fences with metadata to show which language, and which variables were passing in and out.\n```(language=\"python\", push=['a','b'])\na=10\nb=20\n```\n```(language=\"R\", pull=['a','b'], push=['a','b','m'])\nm = 1/2*(a + b)\n```\n```(language=\"Python\", pull=['m'])\nprint(\"m = \" + str(m))\n```\nIt would be nice if there were shortcuts for the code block metadata.\nBut at the very least, need some syntax to show the start of a code block: \n```\n%%Python -o a b\na=10\nb=20\n%%R -i a b -o m\nm = 1/2*(a + b)\n%%Python -i m\nprint(\"m = \" + str(m))\n```. Using that method of separating code blocks, how do you specify\n\nWhich kernel to use for the code block and?\nHow to pass variables in and out?\n\nAnd, this gives yet another (making 5) way to delineate code blocks. This method does allow to specify kernel. But still no way to share variables.. I love what hydrogen is trying to do. But syntax-wise, it is to an extent reinventing the wheel. R-markdown already specifies a way to perform literate programming in a file that can be either run in notebook format or as a script. That sytax is widely used, widely understood and matches the markdown formatting that is virtually ubiquitously use by coders.\nHowever, R-markdown only handles R. What the world needs is a version that can pipeline multiple kernels. I'd love to see hydrogen become that. But right now, there are too many ways to do the same thing, and none of them do this thing completely.\nOh, and just found another supporting argument. In the section on run cells the docs say \" just replace # with the comment symbol for your desired language.\" Well, there are many of these //,%,# and maybe more. With code blocks in fences, there is no confusion at all.. ",
    "mcburton": "@lgeiger I know this is closed and merged, but I just want to say being able to \"Run Cell\" on Markdown fenced blocks is a crucial feature. If Hydrogen could support this it would make possible Atom a plagform for writing generalized rmarkdown-ish files (whatever kernel jupyter supports). As @fasiha mentioned, this would also allow me to do \"real work\" (scholarly writing with citations, charts/graphs/, code blocks, SPELL CHECK). In short, it would be amazing (and a nice complement to the Notebook, which I also use heavily). \n. @fasiha I'd be happy to try it out!. Yeah, this isn't a problem for me at the moment since I just want this for\npreviewing outputs in the writing process. The way Hydrogen is currently\nset is almost perfect.\nI could see a separate \"publishing/export\" step, akin to Knitr, that runs\nthe whole file and generates HTML/PDF/whatever and then connects into\nPandoc for further transformation.\nTotally agree, great next step for markdown+hydrogen!\nOn Wed, Mar 22, 2017 at 10:06 AM Ahmed Fasih notifications@github.com\nwrote:\n\nNote that while these Hydrogen changes help with interactive programming in\nMarkdown, there is not currently any way to \u201cexport\u201d your Hydrogen/Jupyter\nresults (plots, tables, etc., which Hydrogen renders so nicely). So with\nfuture Run Cell or Run All Cells support, you\u2019d just see nice results\nin your Atom editor, without any way of automatically exporting those\noutputs to PNG files, HTML/GFM tables, etc. You\u2019d have to manually save\nfigures and etc\u2026\nI guess that\u2019d be the next step for Markdown+Hydrogen!\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/pull/637#issuecomment-288408760, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/AAEERPqbxRS68XXjazQ8bHxZNYLU6FNvks5roSrmgaJpZM4MdYEm\n.\n. \n",
    "yanceyy": "Thanks for your reply. i have tried the method you mentioned, but it does not work on my computer. i still received the same Uncaught Error after i installed it.\ud83d\ude2d. thanks for your help. i do not receive any error during installing hydrogen.\n\u279c  ~ apm install hydrogen\nInstalling hydrogen to /Users/wangyang/.atom/packages \u2713\nand  apm rebuild hydrogen seems do not work. when i use 'hydrogen: run ' in Atom, it  will pop up the same error as before. and the 4 steps reinstallation also does not work.\nThese methods can not fix the problem, maybe i have installed some incompatible packages by pip in the past. i will reinstall my computer operating system to try in the future. \nAll in all thanks for your help.\n. ",
    "frivollier": "I have the exact same problem:\n\nthe kernel runs for 30 seconds, I am able to execute a few commands, then is crashes.\nI need to restart to get it back and running\nI have tried to reinstall many times without success. \n- Python 3.6 via anaconda distrib\n- Atom 1.18\n- Hydrogen 1.17.1\nAny help will be appreciated\n\n. Thanks for the feedback, I tested  Hydrogen on another mac machine where it\nactually runs fine. They both have slightly different python environments\nso I will try to figure out what\u2019s wrong and report.\nFrederic. @lgeiger I am unable to get rid of this error. I have tried many things unsuccessfully.\nAny recommendation to troubleshoot will be appreciated. . I get this error with any libraries or code file. \nI was able to get it to run without crashing with Atom in developer mode but it is not consistent. ",
    "fox895": "Ok thanks for the rapid reply! . ",
    "cripcate": "At this point it just randomly works or not, like on a 50% chance when starting the hydrogen kernel in atom. It's weird. Activating / deavtivating linter and flake8 has no effect, besides the 4 errors in the middle disappearing.. It exists, and can be executed. It's my standard python path. Right now it seems to be working again, without me changing a thing :S. It seems to be working again. And quite stable. Really weird because I haven't really changed anything before the issue occured, or anything particular to fix it. But i guess i can close the issue now. . ",
    "liavassif": "A separate (single and combined) output display would be great.. ",
    "kolya-ay": "Looks awesome! Is there any plans to switch from react to \"native\" atom's etch for ui?. ",
    "Announcement": "Friendly reminder that neither etch nor ink have good docs yet... unless anyone can point me in the right direction. I just simply couldn't figure them out :'(. @rgbkrk @kolya-ay For the time being it is not actually viable to switch over, but as soon as they provide documentation expect I'd recommend at least accepting pull requests for the conversion process. . ",
    "willsroberts": "+1\nOn Wed, Mar 29, 2017 at 1:13 PM, BenRussert notifications@github.com\nwrote:\n\n@willsroberts https://github.com/willsroberts There is not enough here\nfor me to see anything to help. As a starting point try running conda\nupdate conda then conda update anaconda in a terminal to make sure all\nyour python packages are up to date.\nBet that will fix it, but please reply either way.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/674#issuecomment-290211575,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHxha1j5enroY3g6apryOfMGhhJsiM5Qks5rqruAgaJpZM4MtP2Y\n.\n\n\n-- \nWilliam Roberts\n(c) 6508237667\n(e) wsroberts@gmail.com\nData Science Fellow, Galvanize Inc.\n. it worked. Please close\nOn Thu, Mar 30, 2017 at 8:32 AM, BenRussert notifications@github.com\nwrote:\n\n@willsroberts https://github.com/willsroberts did that work for you?\nJust wondering if we should close the issue.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/674#issuecomment-290448535,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AHxhayk16HO9ISttYA_eqAEVeZoCo2-3ks5rq8sOgaJpZM4MtP2Y\n.\n\n\n-- \nWilliam Roberts\n(c) 6508237667\n(e) wsroberts@gmail.com\nData Science Fellow, Galvanize Inc.\n. ",
    "piccolbo": "You bet!\nimport pandas as pd\nimport ggplot as gg\ndf = pd.DataFrame(dict(x = range (1,10), y = range(1,10)))\ngg.ggplot(df, gg.aes(x='x', y = 'y')) + gg.geom_line()\n\nAfter my first report I discovered that if I select the gplot line and the following line, with a random harmless expression, and then evaluate, then the problem is lessened. But the graphics panel is still too small -- it scrolls though. \n```\nprint(gg.ggplot(df, gg.aes(x='x', y = 'y')) + gg.geom_line())\n1\n````\n\n. I agree there's a big overlap with#632. But mostly for my education, when is the decision between inline and block graphics made? How can such a big inline bubble that covers the rest of the code make sense? Why no scroll bars if part of the graphics is hidden? My answer, coming from rstudio, would be never inline and always size the bubble big enough to avoid scrolling. ",
    "githubmpc": "Hi @willingc, Thanks for the reply. Actually completed those steps prior to posting the initial post but I should have been more clear apologies. The error I'm getting is as noted as a common problem in the troubleshooting guide - the \"No kernel for language X found, but I have a kernel for that language\" error. I don't quite understand the specifics in the guide on how to fix that error in terms of declaring the KernelSpec manually for IRkernel (this seems like what I need to do?)\nThanks!. Thanks @lgeiger @willingc . My output for those commands:\n\n. Actually its working now. The only difference was that I restarted my computer since my first post. It popped up with the kernel updated message. I did try updating kernel after installing IRkernel yesterday but obviously didn't do it properly. Thank you both!. ",
    "jineshqa": "Thank you.\nOn Wed, Apr 5, 2017, 7:34 AM Lukas Geiger notifications@github.com wrote:\n\nJust released v1.10.1 \ud83d\ude80\nThanks @n-riesco https://github.com/n-riesco for fixing it \ud83c\udf89\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/696#issuecomment-291880774,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AI-_r5AR3tNSBMWNoTR0Gu8FdI5rPm7yks5rs6ZjgaJpZM4Mzexy\n.\n-- \nJinesh Doshi\nQA Manager / 408.614.6986\nKenandy, ERP for Business Innovation \nKenandy.com http://www.kenandy.com/ / LinkedIn\nhttps://www.linkedin.com/company/kenandy / Twitter\nhttps://www.twitter.com/Kenandy / Facebook\nhttps://www.facebook.com/KenandyInc / Blog http://blog.kenandy.com/\n. @n-riesco @lgeiger could you point me to how to install IJavaScript using ijsinstall. I think I messed up my installation. Now I am getting this error after running ijsinstall from terminal.\n\n\n. @n-riesco That did the trick. Thanks.. {\n  \"kernelspecs\": {\n    \"javascript\": {\n      \"resource_dir\": \"/Users/jinesh/Library/Jupyter/kernels/javascript\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/local/Cellar/node/7.8.0/bin/node\",\n          \"/usr/local/lib/node_modules/ijavascript/lib/kernel.js\",\n          \"--hide-undefined\",\n          \"{connection_file}\",\n          \"--protocol=5.0\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Javascript (Node.js)\",\n        \"language\": \"javascript\"\n      }\n    },\n    \"python3\": {\n      \"resource_dir\": \"/Users/jinesh/Library/Jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/local/opt/python3/bin/python3.6\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}. @n-riesco Nothing on running ijsinstall. See output and screenshot below.\n```\n{\n  \"kernelspecs\": {\n    \"javascript\": {\n      \"resource_dir\": \"/Users/jinesh/Library/Jupyter/kernels/javascript\",\n      \"spec\": {\n        \"argv\": [\n          \"ijskernel\",\n          \"--hide-undefined\",\n          \"{connection_file}\",\n          \"--protocol=5.0\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Javascript (Node.js)\",\n        \"language\": \"javascript\"\n      }\n    },\n    \"python3\": {\n      \"resource_dir\": \"/Users/jinesh/Library/Jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/local/opt/python3/bin/python3.6\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}\n```\n\n. @n-riesco  Sure..what settings do I need to change?. @n-riesco OK, it worked just fine. Thank you again for all the help.. ",
    "lleiou": "@lgeiger Thank you very much for your reply! Yes you are right, I use python 2, that's why I got the error. \nApart from switching to Python 3, I found another solution on Stack Overflow:\nimport sys\nstdin, stdout, stderr = sys.stdin, sys.stdout, sys.stderr\nreload(sys)\nsys.stdin, sys.stdout, sys.stderr = stdin, stdout, stderr\n. ",
    "jacknlliu": "I found that if I connect to the remote kernel with new session option  in the second option, then it will fail to complete. And if I choose a running session, it will be OK.. @nikitakit  There are python3 or python2 option after new session was selected. If some details about these, please let me know how to configure them.. @nikitakit  yeah, it's the point. new session did not work.. @dsweber2 I always open a new session from the web browser firstly, then using this plugin to select this session, instead of new a session by this plugin.. ",
    "algorithmx": "@nikitakit Hi, I use the ssh port forwarding to tunnel to my office desktop and hope to connect to it via hydrogen. As you pointed out, with correct file extension I can see the available kernels; when I choose the kernel, the Jupyter sever responses by printing some messages. But when I run the lines, Hydrogen calls the local kernels. My question is, how to make Hydrogen calling the remote kernel to run some codes (with the ssh port forwarding)?. ",
    "dsweber2": "@jacknlliu did you ever manage to resolve this? I also am getting up to just the point where I can select a session, and then for whatever reason it won't respond. I'm on Windows, and I'm using a token, though I had the same issue when I did it without one.. ",
    "yelled1": "# ## Please NOTE that this was fixed by updating to Hydrogen 2.4.1 ##\nI still get those two strange blank boxes:\npython\nfrom plotly import offline\noffline.init_notebook_mode()\noffline.iplot([{\"y\": [1, 2, 1]}])\nI am pretty darn sure I have the latest plotly (do I need dash as well?). See below, as I tried both conda & pip.\nThank u much,\n```\n(SPk) /opt/miniconda3/envs$ conda remove plotly\nSolving environment: done\nPackage Plan\nenvironment location: /opt/miniconda3/envs/SPk\n  removed specs: \n    - plotly\nThe following packages will be REMOVED:\n    plotly: 2.5.1-py36_0\nProceed ([y]/n)? y\nPreparing transaction: done\nVerifying transaction: done\nExecuting transaction: done\n(SPk) /opt/miniconda3/envs$ which pip\n/opt/miniconda3/envs/SPk/bin/pip\n(SPk) /opt/miniconda3/envs$ pip install plotly --upgrade\nCollecting plotly\n  Downloading https://files.pythonhosted.org/packages/a7/3d/4dcdbafc9d5c01f468d41999cd9ab733f38e9ea4e4bea5a62841fedf5f0e/plotly-2.5.1.tar.gz (24.9MB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 24.9MB 68kB/s \nRequirement already up-to-date: decorator>=4.0.6 in ./SPk/lib/python3.6/site-packages (from plotly)\nRequirement already up-to-date: nbformat>=4.2 in ./SPk/lib/python3.6/site-packages (from plotly)\nCollecting pytz (from plotly)\n  Downloading https://files.pythonhosted.org/packages/dc/83/15f7833b70d3e067ca91467ca245bae0f6fe56ddc7451aa0dc5606b120f2/pytz-2018.4-py2.py3-none-any.whl (510kB)\n    100% |\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588| 512kB 3.1MB/s \nRequirement already up-to-date: requests in ./SPk/lib/python3.6/site-packages (from plotly)\nRequirement already up-to-date: six in ./SPk/lib/python3.6/site-packages (from plotly)\nRequirement already up-to-date: ipython_genutils in ./SPk/lib/python3.6/site-packages (from nbformat>=4.2->plotly)\nRequirement already up-to-date: traitlets>=4.1 in ./SPk/lib/python3.6/site-packages (from nbformat>=4.2->plotly)\nRequirement already up-to-date: jsonschema!=2.5.0,>=2.4 in ./SPk/lib/python3.6/site-packages (from nbformat>=4.2->plotly)\nRequirement already up-to-date: jupyter_core in ./SPk/lib/python3.6/site-packages (from nbformat>=4.2->plotly)\nRequirement already up-to-date: chardet<3.1.0,>=3.0.2 in ./SPk/lib/python3.6/site-packages (from requests->plotly)\nRequirement already up-to-date: idna<2.7,>=2.5 in ./SPk/lib/python3.6/site-packages (from requests->plotly)\nRequirement already up-to-date: urllib3<1.23,>=1.21.1 in ./SPk/lib/python3.6/site-packages (from requests->plotly)\nRequirement already up-to-date: certifi>=2017.4.17 in ./SPk/lib/python3.6/site-packages (from requests->plotly)\nBuilding wheels for collected packages: plotly\n  Running setup.py bdist_wheel for plotly ... done\n  Stored in directory: /home/hyoon/.cache/pip/wheels/33/be/39/f82c0f53ea29777fdc29afaf7bfad87442488a280662d355fb\nSuccessfully built plotly\nInstalling collected packages: pytz, plotly\n  Found existing installation: pytz 2018.3\n    Uninstalling pytz-2018.3:\n      Successfully uninstalled pytz-2018.3\nSuccessfully installed plotly-2.5.1 pytz-2018.4\n```. ",
    "cailmdaley": "I found the issue--my python build was corrupted. Thanks!. In my case, I think this error was caused by something in the OS X distribution of Python (\"/Library/Frameworks/Python...\"). I solved this by installing a fresh Python build with Homebrew, and setting it to my default Python. Hope this helps!. ",
    "acerock6": "Hi, \nI am facing a similar error in Spyder IDE for Python. I am trying to access it with Python 27. Can you please give me a solution? . I am facing a similar issue with Jupyter notebook where suddenly I get Autosave failed with '_xsrf' argument missing from the post. This is so frustrating as I have a lot of unsaved changes.. ",
    "aazim-lakhani": "I encountered a similar problem. pip install --upgrade pyzmq did the trick for me . ",
    "dhhagan": "Hmm. I fixed it by adding another python3 kernel mapping in the optional settings. When I run jupyter kernelspec list --json it gives me a python3 mapping that calls python2.7 ..? Not sure why, but changing the first argv to python3 from python fixed it.. ",
    "nullsquirrel": "Had the same issue and was able to resolve per dhhagan's solution above:\n\nchanging the first argv to python3 from python fixed it.\n\nThis arg is what specifies which binary to call for the kernel, and on most machines python is mapped to 2.7, thus changing this to python3 actually tells the kernel to use python3.  Rather than making this change in the option settings of the Hydrogen plugin, I found it easiest to edit the kernelspec file... which can be located by running jupyter kernelspec list.  For my Mac (using Homebrew), this returned the following:\nAvailable kernels:\n  python3    /usr/local/share/jupyter/kernels/python3. ",
    "gmd7": "It's running in .sage files, but not in markdown:\n```python\n3+4*9\n```\nis fine.\n```sage\n3+4*9\n```\ndoes nothing. Dev-Console shows only:\nHydrogen: findCodeBlock: 1. java\ndiff(x^4,x)\nwith mapping {\"sagemath\":\"java\"} works!. ",
    "onewhaleid": "Interesting. I'll open an issue at language-python and MagicPython.\nThank you @lgeiger.. I can reproduce this in an otherwise empty file, so I guess it's in the global scope.. ",
    "vpetrovykh": "I'm a MagicPython developer. Could you be more specific in whether there's a particular scope that's missing or something like that, please?. @lgeiger could you please give a little more detail on what information Hydrogen is relying on when determining code block boundaries? Is there some specific name that is given to the code block by the language parser that should be there?. @lgeiger considering that Atom seems to have an known issue with code folding (e.g.  https://github.com/atom/first-mate/issues/48 and https://github.com/atom/atom/issues/1183) would it be viable for Hydrogen to try and check for some special syntax scope (e.g. meta.foldable... or maybe rely on some existing meta... scopes) and if present use it to fold the all contents marked by that scope? In case the scope is not present you could fall back on generic code-folding.. ",
    "AustP": "Good question, I don't really know. I installed all of this Jupyter stuff to use your plugin. It might be more appropriate for the PHP kernel to handle it. The one I used was https://github.com/Litipk/Jupyter-PHP. Thanks for the workaround. I'll close this issue in favor of the other one.. ",
    "castarco": "Hi there, I'm the \"maintainer\" of the PHP kernel (when I find time...). As far as I know, using <?php is required to enable the pygments highlighting, but there is a trick that allows keeping the syntax highlighting without crashing the kernel, writing:\nphp\n// <?php\ninstead of \nphp\n<?php. ",
    "ahsen1402": "thanks but problem is I can not run it when I try to run it it gives me a kernel not found error, or grammar error.. Python kernel i have but there is no markdown kernel in jupyter but in the documentation the creator of hydrogen claims it is compatible with markdown so i prorably missing something maybe too easy. Thanks I will retry, for such files can the file extension be anything such as py?. Thanks for the fast comments I have installed the IRkernel and I see the kernel and it works in Jupyter, however in hydrogen\nPython\npython\nx='this is a string'\nR\nR\nx=14\nx=matrix(0,3,5)\nThe second R code does not work and gives me an error\n\nNameError                                 Traceback (most recent call last)\n in ()\n----> 1 x=matrix(0,3,5)\nNameError: name 'matrix' is not defined\nSorry my noobishnes but this tool is supercool i feel bad not to make it work :(. unfortunately it does not work with .md as well.. @n-riesco maybe it is a kernel update issue where do i run Hydrogen: Update Kernels ? i cant seem to find this command.. When i update kernels i get a message saying \n```\nHydrogen Kernels upgraded:\nR\nMatlab\nPython 3\n```\nbut still\nPython\npython\nx='this is a string'\nprint(x)\nR\nR\nx=14\nx=matrix(0,3,5)\nthe R portion gives me error \n```\n\nNameError                                 Traceback (most recent call last)\n in ()\n----> 1 x=matrix(0,3,5)\nNameError: name 'matrix' is not defined\n```\nany more ideas? It looks like i have the kernel and hydrogen recognizes it.. I tried them all phyton and github markdown, actually in github markdown i got an error saying\nNo kernel for language github markdown found\nCheck that the language for this file is set in Atom and that you have a Jupyter kernel installed for it.. would be great i would like this work very much. . fyi the code i run is\nR\nx=14\nx=matrix(0,3,5)\nlibrary(ggplot2)\nqplot(1:3,2:4)\nhere it is thanks,\nHydrogen: Could not enable dev tools Error: Cannot find module 'mobx-react-devtools'(\u2026)\nutils.js [sm]:75 Hydrogen: findCodeBlock: 16\nutils.js [sm]:75 Hydrogen: KernelManager: startKernelFor: r\nutils.js [sm]:75 Hydrogen: ZMQKernel: @kernelProcess: ChildProcess {domain: null, _events: EventHandlers, _eventsCount: 0, _maxListeners: undefined, _closesNeeded: 3\u2026}\nutils.js [sm]:75 Hydrogen: ZMQKernel: monitor shellSocket\nutils.js [sm]:75 Hydrogen: ZMQKernel: monitor controlSocket\nutils.js [sm]:75 Hydrogen: ZMQKernel: monitor ioSocket\nutils.js [sm]:75 Hydrogen: ZMQKernel: controlSocket connected\nutils.js [sm]:75 Hydrogen: ZMQKernel: shellSocket connected\nutils.js [sm]:75 Hydrogen: ZMQKernel: ioSocket connected\nutils.js [sm]:75 Hydrogen: ZMQKernel: all main sockets connected\nutils.js [sm]:75 Hydrogen: KernelManager: startKernelFor: kernel for r connected\nutils.js [sm]:75 Hydrogen: clearBubblesOnRow: 16\nutils.js [sm]:75 Hydrogen: Kernel.execute: x=14\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: shell message: Message {idents: Array[0], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: ResultView: Show status container\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: findCodeBlock: 17\nutils.js [sm]:75 Hydrogen: clearBubblesOnRow: 17\nutils.js [sm]:75 Hydrogen: Kernel.execute: x=matrix(0,3,5)\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: shell message: Message {idents: Array[0], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: ResultView: Show status container\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: findCodeBlock: 18\nutils.js [sm]:75 Hydrogen: clearBubblesOnRow: 18\nutils.js [sm]:75 Hydrogen: Kernel.execute: library(ggplot2)\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: shell message: Message {idents: Array[0], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: ResultView: Show status container\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: findCodeBlock: 19\nutils.js [sm]:75 Hydrogen: clearBubblesOnRow: 19\nutils.js [sm]:75 Hydrogen: Kernel.execute: qplot(1:3,2:4)\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: IO message: Message {idents: Array[1], header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js [sm]:75 Hydrogen: ResultView: Add result Object {data: Object, stream: \"pyout\"}\nutils.js [sm]:75 Hydrogen: ResultView: Hide status container\nevents.js:160 Uncaught Invariant Violation: Minified React error #130; visit http://facebook.github.io/react/docs/error-decoder.html?invariant=130&args[]=undefined&args[]= for the full message or use the non-minified dev environment for full errors and additional helpful warnings.reactProdInvariant @ reactProdInvariant.js:31instantiateReactComponent @ instantiateReactComponent.js:74performInitialMount @ ReactCompositeComponent.js:367mountComponent @ ReactCompositeComponent.js:258mountComponent @ ReactReconciler.js:46mountComponentIntoNode @ ReactMount.js:104perform @ Transaction.js:140batchedMountComponentIntoNode @ ReactMount.js:126perform @ Transaction.js:140batchedUpdates @ ReactDefaultBatchingStrategy.js:62batchedUpdates @ ReactUpdates.js:97_renderNewRootComponent @ ReactMount.js:320_renderSubtreeIntoContainer @ ReactMount.js:401render @ ReactMount.js:422addResult @ result-view.js [sm]:193(anonymous function) @ main.js [sm]:273onIOMessage @ zmq-kernel.js [sm]:355(anonymous function) @ index.js:347emitMany @ events.js:127emit @ events.js:201Socket._emitMessage @ index.js:631Socket._flushRead @ index.js:642Socket._flushReads @ index.js:678_zmq.onReadReady @ index.js:297. hi guys i will reply once i get back to work, i am in a brief holiday. I agree with @n-riesco  as the ggplot2 package is a visualization package that does some plots. Do you guys have the irkernek installed? Why dont you just try this simple command\nlibrary(ggplot2)\nqplot(1:3,2:4)\nif you see a plot after this then there is something wrong on my side. But if you see the same error then maybe it is easy for you to debug?. @lgeiger @rgbkrk @n-riesco  thanks for the help and your time, looking forward for the update.. ",
    "cbarrick": "I also ran into this. It's looking for the Python 2 version of ipykernel_launcher but I only had IPython installed in Python 3. Fixed with pip install ipython ipykernel.\nNow the Python 3 kernel works for me.\n\nIs there a reason why Hydrogen should not use the Python 3 version of the ipykernel_launcher when it's available?. The CI is failing because I have not added type annotations when consuming the busy-signal service. I'm not sure how to get the types from another package.\nThere's an additional failure dealing with a $FlowFixMe comment. I have no idea what's up with that.. > One thing I'm curious about (having not run the code yet) is whether this provides any way to know what kernel you're connected to if the current state is idle. \nAt the moment there is no way to tell what kernel you're using when idle. IMO the \"select kernel\" menu is sufficient for me to garuntee which kernel I have running.\n\nAlso the remote kernels tend to enter a reconnecting or dead state if switch WiFi networks, so there's actually more status states than just idle/busy.\n\nCurrently a message is sent to the busy signal whenever the state is anything but idle. If you have multiple kernels, each controls a separate busy-signal provider, meaning their messages are independent.. What about a pop-up when a kernel is started or connected that provides the kernel info? The kernel commands are always available from the command pallet, and can easily be bound to keyboard shortcuts. Personally, I'd rather not have another button in the status bar.. Ok, I now see how it can be really useful. I'll drop the commit removing the old status bar controls. Perhaps remove the | busy bit instead. Hiding it all together is easy enough from a custom stylesheet should anyone want that.\nFor the history clutter, ~~it appears that the history list has one entry per busy-signal provider. The alternative implementation would be for all kernels to share a provider. This makes cleaning up the current list less elegant, but not too difficult.~~ Edit: The behavior appears to be one history entry per unique message, and it maxes out at 10. Repeat messages get lowered to the front of the list. Nothing can change.. ",
    "daborton": "Hmm. So in macOS the system install of Python2.7 is protected, so your solution would require me to install a separate python2 than used by the system. Certainly doable, but perhaps I can second your question:\n\"Is there a reason why Hydrogen should not use the Python 3 version of the ipykernel_launcher when it's available?\". > No reason to use one or the other. It is a preference left up to the user.\nHow is this preference set? As I mentioned above, the Python 3 kernel is found by Hydrogen (and selected), but for some reason the error in launching the kernel remains.... See below, but remember that jupyter runs fine (notebook, etc in local server / browser).\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/usr/local/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"python\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}. @lgeiger sorry for the delay. Ran, and response is: \nInstalled kernelspec python3 in /Users/daborton/Library/Jupyter/kernels/python3\nsame issue, when running Hydrogen in Atom, yields same:\n/usr/bin/python: No module named ipykernel_launcher. ",
    "dr-john": "pip install --upgrade ipykernel. ",
    "pankajkumar": "@dr-john  Thanks, Upgrading ipykernel within virtualenv solved my problem. . ",
    "shpigunov": "@pankajkumar how did you do that?. @lgeiger did that.\nsolved the issue for me.\nthanks a million!. ",
    "echz": "I have a similar issue, the same error but it looks like atom/hydrogen is looking for the kernel in the wrong place?  The error I am seeing is referencing: /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python: No module named ipykernel_launcher as the directory it's looking for the kernel but running jupyter kernelspec list --jsonoutputs:\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/Library/Frameworks/Python.framework/Versions/3.6/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"python\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}\nI went into the config file on atom to try and force it to look at the python 3 directory instead of the OSX default 2.7 directory my config file currently looks like:\n\"*\":\n  Hydrogen:\n    kernelspec: '''\n      {\n        \"kernelspecs\": {\n          \"python3\": {\n            \"resource_dir\": \"/Library/Frameworks/Python.framework/Versions/3.6/share/jupyter/kernels/python3\",\n            \"spec\": {\n              \"argv\": [\n                \"python\",\n                \"-m\",\n                \"ipykernel_launcher\",\n                \"-f\",\n                \"{connection_file}\"\n              ],\n              \"env\": {},\n              \"display_name\": \"Python 3\",\n              \"language\": \"python\"\n            }\n          }\n        }\n      }\n    '''\n  core:\n    telemetryConsent: \"no\"\n    themes: [\n      \"one-dark-ui\"\n      \"atom-dark-syntax\"\n    ]\n  \"exception-reporting\":\n    userId: \"e7139dd9-68d0-14cd-1aec-1f216d962304\"\n  runner:\n    scopes:\n      python: \"/Library/Frameworks/Python.framework/Versions/3.6/bin/python3\"\n  welcome:\n    showOnStartup: false\nI'm not entirely sure why it's still looking at /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python \nAnyone know what i'm doing wrong here?\n\n. Thanks @BenRussert is this something I need to manually update, or is it a case of just waiting for the next release to see if this resolves the issue?\nHi @lgeiger I have upgraded my ipykernel.  I think it's more related to having two Python versions on OSX, the default 2.7 that comes with OSX and the 3.6 version.\nThe up-to-date kernel is installed in the /Library/Frameworks/Python.framework/Versions/3.6/bin/python3 directory. Atom runner has confirmed that is the version of python being used, over the 2.7 version:\n\nThis was changed out when I added the runner code to the config:\nrunner:\n    scopes:\n      python: \"/Library/Frameworks/Python.framework/Versions/3.6/bin/python3\"\nRunning 'jupyter kernelspec list --json' in the terminal also points to this directory for the kernel.\nThe weird part is the error message that is coming up still references the default 2.7 OSX directory for the kernel:\n\nIf it leave it on the default settings, it will point to the 2.7 version so I changed the config file for Hydrogen to point to /Library/Frameworks/Python.framework/Versions/3.6/share/jupyter/kernels/python3 but I still get the error saying it can't find the kernel in the old OSX 2.7 directory it seems to be getting it's information on where to search for the kernel from from somewhere other than the config file?\nThis sounds like the bug @BenRussert has described so I might just need to wait for the next update to see if the issue is resolved.\n. ",
    "aeromomo": "is this fixed?\n. ",
    "phanhoangphuong": "This fix the problem in my case on Mac OS X: python3 -m ipykernel install --user. ",
    "bwilliams18": "I'm having this same I'm having this same issue here...\nI've tried updating ipykernel, and that hasn't fixed the problem. Any advice? Where should I look to fix things? . ",
    "joseflilljegren": "My problem with ipykernel was path-related. Be aware that python3 -m ipykernel install --user as proposed by phanhoangphuong above stores the kernel for Python 3 in a folder named python3. My Hydrogen was looking for \"python\", so a simple symbolic link did the trick for me:\nln -s ~/Library/Jupyter/kernels/python3 ~/Library/Jupyter/kernels/python. ",
    "lukejanicke": "(Not a Jupyter expert here. Just getting Hydrogen working for the first time.)\nI chose the solution proposed by @lgeiger because it leaves default macOS Python and Homebrew Python 3 completely alone. I copied the Terminal output of jupyter kernelspec list --json into Hydrogen settings Kernal Specs but changed the first argv from python to python3.\n@joseflilljegren, thanks for the symbolic link trick. I\u2019ll note that one for future reference.\nCould anyone explain what python3 -m ipykernel install --user actually does?\nAlso, pip3 install --upgrade ipykernel?\nUpdate:\nI edited /usr/local/share/jupyter/kernels/python3/kernel.json and changed python to python3 there instead.. ",
    "rajaatreja": "On Mac OS X this line fixes the error once and for all:- python3 -m ipykernel install --user\nRun this command in the terminal and in a second problem will be gone.\n(woke up the whole night to find this solution...). ",
    "cvanelteren": "I have a similar issue on linux. I use pyenv to create virtual envs for different python versions. I know that I had to change the point to the binary in hydrogen. After a recent update I am not able to find this anymore. Hydrogen points to a different version of python that I am using, can somebody tell me where this point is in the package?\nThis is my output for jupyter kernelspec list --json\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/home/casper/.pyenv/versions/3.6.1/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"python\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    },\n    \"matlab\": {\n      \"resource_dir\": \"/home/casper/.pyenv/versions/3.6.1/share/jupyter/kernels/matlab\",\n      \"spec\": {\n        \"argv\": [\n          \"python\",\n          \"-m\",\n          \"matlab_kernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Matlab\",\n        \"language\": \"matlab\"\n      }\n    }\n  }\n} \n. ",
    "potterzot": "@cvanelteren Just installed hydrogen today and had the same issue on linux, solved by linking:\nln -s .local/share/jupyter/kernels/python3 .local/share/jupyter/kernels/python.\n",
    "CrispyCrafter": "In most cases above the \"argv\" dictionary key in the json output (jupyter kernelspec list --json) points to the system default version of python . If you have multiple python versions installed, i.e. 2.x.x or 3.x.x on the same system, this command will call your default version. You can check your default version by running:\npython --version\nI take it most people want to run with python 3. \nTo fix this issue in Atom you have to change \"argv\" entry from python to python3. \nTo do this run:\njupyter kernelspec list --json\nSave/Copy the output and change:\nargv\": [ \"python\" ...   to   argv\": [ \"python3\"\nCopy the changed (complete JSON) and in Atom:\nEdit->Prefferences->Packages->Hydrogen->Kernel Specs\npaste the result. That's quite strange. I am running Hydrogen v1.22.0 and Atom v1.19.3 .\nAlso, I'm running it on Ubuntu 16.04.\nWhat is your setup?\n. Updated. It seems Kernel Specs are no longer available. Am I correct in assuming that the Language Mappings json would serve the same purpose as Kernel Specs in previous versions.\ni.e. \n(Kernel Specs) argv\": [ \"python\" ... to argv\": [ \"python3\"  ===>  (Language Mappings) {\"python\": \"python3\"}. ",
    "njgresham": "For what it is worth, the following rigmarole succeeded for me:  I'm using Mac OS High Sierra 10.13.4 and I have Homebrew 1.6.3. I already set up my /usr/local/bin/python2.7 and /usr/local/bin/python3.6 via brew. I'm  have Atom 1.27.0 installed via brew cask and Hydrogen-2.5.0  installed via the Atom package manager.\nIt is essential to straighten out which python is which ...\n```\n$ which python\n/usr/bin/python              # Mac OS bundled python, avoid\n$ which python2\n/usr/local/bin/python2   # Installed via brew\n$ which python3\n/usr/local/bin/python3   # Installed via brew\n```\nIf this looks sane, we may proceed to the installation of jupyter and the python3, python2 kernels and thier specs:\n```\nset up jupyter and kernel spec for python3 in user's $HOME\npip3 install --upgrade jupyter\npython3 -m ipykernel install --user\nset up kernel spec for python2 in user's $HOME\npip2 install --upgrade ipykernel\nkernel set up may fail with error concerning zeromq, so reinstall first\nbrew reinstall zeromq\npip2 uninstall pyzmq ; pip2 install pyzmq\npython2 -m ipykernel install --user\nNow we may check whether the kernal specs look good:\n$ jupyter kernelspec list --json\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/Users/redscharlach/Library/Jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/local/opt/python/bin/python3.6\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    },\n    \"python2\": {\n      \"resource_dir\": \"/Users/redscharlach/Library/Jupyter/kernels/python2\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/local/opt/python@2/bin/python2.7\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 2\",\n        \"language\": \"python\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    }\n  }\n}\n```\nAfter this I restarted Atom and checked that Hydrogen appeared to handle python3 and python2 code when the correct Jupyter kernel was selected.\n. ",
    "wesinator": "Same issue in atom when hydrogen was updated.\n/usr/bin/python: No module named ipykernel_launcher\n\nUbuntu 18.04.1\npip install ipython ipykernel gives requirements already satisfied.. @willingc Requirement already up-to-date for all reqs.\nAvailable kernels:\n  python3    /home/ubuntu/.local/share/jupyter/kernels/python3\n. I'm still experiencing this issue also on macOS 10.14.3\n\nLooks like it's trying to load the /usr/bin/python Python 2 version regardless of the selected kernel.\nPython 3 is /usr/local/bin/python3\napm  2.1.3\nnpm  6.2.0\nnode 8.9.3 x64\natom 1.34.0\npython 2.7.10\ngit 2.17.2\natom was installed with brew cask\nAvailable kernels:\n  python3    /usr/local/share/jupyter/kernels/python3\n\npip3 install -U ipython ipykernel\nRequirement already up-to-date: ipython in /usr/local/lib/python3.7/site-packages (7.2.0)\nRequirement already up-to-date: ipykernel in /usr/local/lib/python3.7/site-packages (5.1.0)\nRequirement already satisfied, skipping upgrade: setuptools>=18.5 in /usr/local/lib/python3.7/site-packages (from ipython) (40.6.3)\nRequirement already satisfied, skipping upgrade: prompt-toolkit<2.1.0,>=2.0.0 in /usr/local/lib/python3.7/site-packages (from ipython) (2.0.7)\nRequirement already satisfied, skipping upgrade: backcall in /usr/local/lib/python3.7/site-packages (from ipython) (0.1.0)\nRequirement already satisfied, skipping upgrade: pygments in /usr/local/lib/python3.7/site-packages (from ipython) (2.3.1)\nRequirement already satisfied, skipping upgrade: pickleshare in /usr/local/lib/python3.7/site-packages (from ipython) (0.7.5)\nRequirement already satisfied, skipping upgrade: traitlets>=4.2 in /usr/local/lib/python3.7/site-packages (from ipython) (4.3.2)\nRequirement already satisfied, skipping upgrade: decorator in /usr/local/lib/python3.7/site-packages (from ipython) (4.3.0)\nRequirement already satisfied, skipping upgrade: pexpect; sys_platform != \"win32\" in /usr/local/lib/python3.7/site-packages (from ipython) (4.6.0)\nRequirement already satisfied, skipping upgrade: jedi>=0.10 in /usr/local/lib/python3.7/site-packages (from ipython) (0.13.2)\nRequirement already satisfied, skipping upgrade: appnope; sys_platform == \"darwin\" in /usr/local/lib/python3.7/site-packages (from ipython) (0.1.0)\nRequirement already satisfied, skipping upgrade: jupyter-client in /usr/local/lib/python3.7/site-packages (from ipykernel) (5.2.4)\nRequirement already satisfied, skipping upgrade: tornado>=4.2 in /usr/local/lib/python3.7/site-packages (from ipykernel) (5.1.1)\nRequirement already satisfied, skipping upgrade: wcwidth in /usr/local/lib/python3.7/site-packages (from prompt-toolkit<2.1.0,>=2.0.0->ipython) (0.1.7)\nRequirement already satisfied, skipping upgrade: six>=1.9.0 in /usr/local/lib/python3.7/site-packages (from prompt-toolkit<2.1.0,>=2.0.0->ipython) (1.12.0)\nRequirement already satisfied, skipping upgrade: ipython-genutils in /usr/local/lib/python3.7/site-packages (from traitlets>=4.2->ipython) (0.2.0)\nRequirement already satisfied, skipping upgrade: ptyprocess>=0.5 in /usr/local/lib/python3.7/site-packages (from pexpect; sys_platform != \"win32\"->ipython) (0.6.0)\nRequirement already satisfied, skipping upgrade: parso>=0.3.0 in /usr/local/lib/python3.7/site-packages (from jedi>=0.10->ipython) (0.3.1)\nRequirement already satisfied, skipping upgrade: python-dateutil>=2.1 in /usr/local/lib/python3.7/site-packages (from jupyter-client->ipykernel) (2.7.5)\nRequirement already satisfied, skipping upgrade: pyzmq>=13 in /usr/local/lib/python3.7/site-packages (from jupyter-client->ipykernel) (17.1.2)\nRequirement already satisfied, skipping upgrade: jupyter-core in /usr/local/lib/python3.7/site-packages (from jupyter-client->ipykernel) (4.4.0)\n\nShould I open a new issue ?. @kylebarron \nInstalled kernelspec python3 in /usr/local/share/jupyter/kernels/python3\nWhen I run \"Start Local Kernel\" > Python 3, it doesn't do anything; show the error or run.\n. @kylebarron \njson\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/usr/local/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/local/opt/python/bin/python3.7\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    }\n  }\n}\n. Seems to be running now, when I did Hydrogen: Run it worked and shows the menu in the bottom left.\nI think https://github.com/nteract/hydrogen/issues/730#issuecomment-462523232 fixed the kernel issue. I guess I need to read the docs more on how to run it.\nThanks!. ",
    "rodrigob": "I have the same problem when using\n%matplotlib notebook\nwhat is the suggested solution ?. Maybe related to #747 ?. Thanks @nikitakit for the reply.\nYes I am using the inline mode, but I am looking forward to have interactive elements too.\nI guess another work around in the mean time is to have a window pop-up (non-inline backend) for the piece of interactive code.\n. ",
    "alavi09": "Hi @amelio-vazquez-reina,\nIam guessing you are working with javascript? I think hydrogen is a different use case to a typical debugger. Have you used atom-node-debugger package in atom? Its quite good.\n. ",
    "guillefix": "Any news on this? I am very interested in this too.. I had the same issue and opening and closing the file fixed it.. ",
    "alendit": "https://github.com/Microsoft/ptvsd in conjunction with remote debugging (https://code.visualstudio.com/docs/python/debugging#_remote-debugging) looks promising, although I wasn't able to get it to work. \nimport ptvsd\nptvsd.enable_attach(address=('127.0.0.1', 3000), redirect_output=True)\nenables attaching VSCode to a running IPython/Hydrogen process, but breakpoints (in form of breakpoint() or ptvsd.break_into_debugger() call) are getting skipped, as if they weren't there. VSCode even displays live threading information from IPython kernel, so obviously some communication is going on, but IPython refuses to break and yield control.\nIf I run the same code in a script, everything works just fine. I guess it's some kind of threading issue.. Yes, there is. But no command for 'Move Cursor Cell Up' and 'Move Cursor Cell Down', i.e. like in Jupyter where you can navigate on cell level (without executing the cells).. ",
    "dpriedel": "I second this request.  I find that having the output intermingled with my code makes working on my code more difficult -- the screen gets cluttered with output and there is lots more scrolling for example.  The watch feature doesn't really help because I don't necessarily want to recompute all my values every time I submit something for evaluation.\nThanks. On 05/12/2017 03:59 PM, BenRussert wrote:\n\nI don't necessarily want to recompute all my values every time I\nsubmit something for evaluation.\n\nI agree completely, but wanted to offer this as a temporary solution \nthat is currently available.\nI think it would be nice to have a sidebar that can contain watched \nvalues as well as static results. Maybe a checkbox to choose if you \nwant the value to be watched (i.e. recomputed)\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub \nhttps://github.com/nteract/hydrogen/issues/760#issuecomment-301171946, \nor mute the thread \nhttps://github.com/notifications/unsubscribe-auth/AGjjyhPJTL4YnmdklFb_plDPs3QwirlHks5r5LougaJpZM4NMg-C.\nI understand.  I like your suggested solution too! This would address my \nonly complaint with Hydrogen.\n\nThanks\nDave\n. This looks great...can't wait till it's released !. ",
    "lr1100": "I am just a lonely guy, but for me I would love it as the default. \nI was running some RNN code and was desiring it to act more like a terminal in the sense of any new output always being displayed.\nThanks for considering it!. ",
    "paanvaannd": "I was having a lot of issues with Jupyter (couldn't get the notebook to work either) so I figured I'd uninstall Hydrogen and Jupyter and even my Python 3 installation (through Homebrew) and reinstall them all. I did that yesterday. I didn't have time to check whether that solved the issues until just now but everything is working! I don't think it's a Hydrogen issue since Jupyter was also acting up so perhaps it was a Jupyter issue which is why reinstallation helped. If something similar pops up I'll try your suggested commands and see if that helps before reporting another issue.\nThis is an amazing tool, by the way! I really love it and look forward to its continued development. Hope you have a great week :+). ",
    "kiwi0fruit": "@lgeiger I was not able to get plotly render 3D plots.\n\nI used this manual. But for some reason 3D plots were not showing - only the area and controls. When I scroll down so the plot is not visible, then click on text, then scroll up - the plot appears. But it dissappears when I scroll up more or move mouse over the plot. Very strange and suspicious.\nI also tryed to pass matplotlib 3D plot to the plotly but this gave me error (like I was sending something empy).\nSo I dropped plotly as not working out of the box and found really nice solution:\nUsing matplotlib with Qt. The code should be slightly modified:\n\n```py\nimport matplotlib\nmatplotlib.use('Qt5Agg')\nThis should be done before import matplotlib.pyplot\n'Qt4Agg' for PyQt4 or PySide, 'Qt5Agg' for PyQt5\nimport matplotlib.pyplot as plt\n```\nThis gave me interactive 3D plots that can be rotated right in the Hydrogen (actually in the separate window but who cares?) - that is a must have for any scientific tool like Jupyter or Mathematica (I prefer Hydrogen over them). So I suggest adding this to the manual.. It's also possible to grab Hydrogen output via Stitch or Pandoctools. The latter can export to ipynb and designed to leverage the full power of Pandoc filters (Jupyter output collecting is also a Pandoc filter).. Does this work in Hydrogen export to ipynb?\n```py\n\n# Headline1\n- bullet point\nbold text\n```\nAs nbconvert seems to support that: http://ipython.org/ipython-doc/2/notebook/nbconvert.html#notebook-json-file-format. I think block comment way is more convenient for one way conversion (hydrogen to ipynb). Like in vscode-ipynb-py-convert and pandoctools.\n```py\n%%\n'''\nHeader\ntext.\n'''\n%%\nprint('hello')\n```. If we speak about python only then two way conversion is possible (stringify to python strings). But there would be problems on other languages.\nYep, it's more difficult to implement. Your second concern adds to this (first one does not matter).\n. If you want to make it comfortable with in-line comments then you can add Atom hot keys 'uncomment cell' and 'comment cell'.. Any language with block comments can be used with block comments instead of inline comments the very same way. Not any markdown text can be encoded though. Cases that cannot be encoded via block comments can always be encoded via in-line comments.\n. In addition to vscode-ipynb-py-convert the block commented Markdown cells are supported by pandoctools (that uses knitty that uses stitch). And the # %% format supported by pandoctools is convertable to stitch format.. At the moment the idea is to try to comminicate python app with new Atom package via json-rpc. But I still need a way to call atom.commands.dispatch from new package in order to ask Hydrogen to evaluate code chunk and to give me the output. I guess there is no such command in Hydrogen yet - as it wasn't needed.. Thanks! Looks promising. Closing until I'll test and get new questions.. @nikitakit Hello. It would be a timesaver for me if you could tell if there is a functinality in the plugin API that can be used to send code from another Atom package (text is not even present in the editor), then wait for Hydrogen to execute it and send (JSON?) output back to that Atom package.. Hydrogen 2.6.0 Windows 7. Startup code still doesn't get re-run after kernel restart.\n@BenRussert @lgeiger . Code was specified by kernel name that is registered in user data.. But it doesn't work for me. When I \"Shutdown Kernel\" then start it again - startup code runs. But when I \"Restart Kernel\" - it doesn't run. I've just tested on (Hydrogen version 2.6.0. Windows 7 x64).. May be relevant: I have a custom named kernel: \"research\".. This doesn't help at all. I still cannot tell apart Hydrogen/nteract vs\nJupyter/JupyterLab.\nI guess I used bad wording.\n. Thanks for feedback. The only difference I found is that Hydrogen adds Atom\nfolder to the $PATH and nteract adds it's folder to the $PATH. When Jupyter\nand Jupyter Lab do not do this. But I guess it's not very reliable...\n\n. For a convenience wrapper for matplotlib dynamic plots as they are not\nsupported in nteract/Hydrogen. So the wrapper switched to Qt5 when on\nnteract.\n. nteract desktop app also prepends PATH this same way.. with the proposed instruction there is no need to start atom from activated\nenvironment.\n\notherwise R kernel from Anaconda may give dll not found error.. I never start Atom from activated environment as it's not convenient. I did so before I read nteract and Hydrogen manual though. I register the kernel for the User and it works.\n. By the way, where did you get the idea that pyhon environments need activating before using them with Hydrogen or nteract? https://nteract.io/kernels says nothing about it.. Sounds unclear. But googling showed this:\nhttps://ipython.readthedocs.io/en/stable/install/kernel_install.html\n\nUsing virtualenv or conda envs, you can make your IPython kernel in one env available to Jupyter in a different env. To do so, run ipykernel install from the kernel\u2019s env, with \u2013prefix pointing to the Jupyter env:\n\n/path/to/kernel/env/bin/python -m ipykernel install --prefix=/path/to/jupyter/env --name 'python-my-env'\n\nI hope this would work.... The proposed instruction didn't work. I still get: \n\nTraceback (most recent call last): File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\runpy.py\", line 193, in _run_module_as_main \"main\", mod_spec) File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\runpy.py\", line 85, in _run_code exec(code, run_globals) File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\ipykernel_launcher.py\", line 15, in from ipykernel import kernelapp as app File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\ipykernel__init__.py\", line 2, in from .connect import File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\ipykernel\\connect.py\", line 18, in import jupyter_client File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\jupyter_client__init__.py\", line 4, in from .connect import File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\jupyter_client\\connect.py\", line 23, in import zmq File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\zmq__init__.py\", line 47, in from zmq import backend File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\zmq\\backend__init__.py\", line 40, in reraise(*exc_info) File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\zmq\\utils\\sixcerpt.py\", line 34, in reraise raise value File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\zmq\\backend__init__.py\", line 27, in _ns = select_backend(first) File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\zmq\\backend\\select.py\", line 27, in select_backend mod = import(name, fromlist=public_api) File \"C:\\Users\\User\\Miniconda3\\envs\\python3\\lib\\site-packages\\zmq\\backend\\cython__init__.py\", line 6, in from . import (constants, error, message, context, ImportError: DLL load failed: \ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd\ufffd.\n\nin Hydrogen. Though I changed /path/to/kernel/env/bin/python to /path/to/myenv/bin/python because I don't have jupyter in the kernel env (and I'm not going to install anything additional to the root env as when it screws conda it's very nasty).\nSo the only way I know to get working Python and R environments in Hydrogen is the script proposed in the PR.. @nikitakit I actually also had a working simple jupyter spec as you quote before I updated to fresh pandas and Python 3.7\nWorth mentioning: I'm on Windows 7 x64. ",
    "frahlg": "I cannot share the actual database-file as it is under NDA. As I only want to export the headers for post processing and the most straight forward way is to make a list.\nI did not do a headers.close(), and now when I do it works just as intended! Thank you!\nIn some way Hydrogen behaves different than Sublime Text or just the CLI interpreter, even if I did not close the file as I should.. ",
    "jailsonfm": "I would like to have an example how to use hydrogen for R data analysis.\nFor python everything works perfectly like by using Jupyter, but for R I dont how to have the inline output and plots. Thanks Jai. Yes. After an extensive survey through several forums I finally figured out how to install rkernel. I can use both python and R in Jupyter but not in atom with hydrogen package. Atom recognizes both .R and .py but both can't run now.\nThank you for your kind attention Buyology!. Thanks to all. I installed the language-r and now it works fine!\n. ",
    "izuzak": "Thanks for the ping, @buyology :bow:, but I'm not sure I understand what kind of input you're expecting from me here (as the developer of that package). Could you please be a bit clearer about that? \ud83d\ude4f \nI just tried using the latest version of the atom-pdf-view package in the latest version of Atom and it worked just fine for me. I don't use hydrogen and the package wasn't really built with hydrogen in mind. If there's anything you'd like for the package to do differently -- I'd recommend submitting a more detailed issue (or even better a pull request) over at https://github.com/izuzak/atom-pdf-view. . ",
    "Madhu94": "I'll check this out. Been meaning to look into hydrogen for sometime.. @lgeiger So, unless you begin a block of code with a comment that has %% in it,  all the contents of the editor are taken to be just one cell ? For the Run All command.\nMaybe I didn't look hard enough, but that wasn't too clear from the docs. I know the example gif in the README showed the %% in the comments, but my eyes usually glide over comments most of the time :)\n(Mental reminder to make that obvious from the docs). Thanks @kengz , I think I've got this.. @lgeiger I am doing it with @nteract/commutable as you suggested in the first update. I have not worked out how to get the outputs exactly (I think they're in store.kernel.OutputStore). Once I get a minimal version working, I'll put up a WIP pull request.\n. @lgeiger Thanks for leaving this feature for new contributors. I absolutely love the Hydrogen codebase.  . As I mentioned above  this is still a WIP :). I'd like to able to capture the \"whole notebook\" - output, execution state and all. \nBut doesn't a \"computed property\" get updated on state change ?. Thanks a lot! I'll get it done by this week.. flow doesn't seem happy after pulling in commutable (and hence immutable.js). I will update once I've resolved the issues. \nEdit : Oh! flow-typed. I'll check to see if updating immutable.js works. I think this PR can wait just a little longer.. @BenRussert Thanks! I will move it out to a separate file. There's very little in it right now, but that'll soon change I guess.. @lgeiger @rgbkrk @BenRussert Do you see any problems in downgrading flow-bin to a version that works with our immutable.js@3.8, and just upgrade flow-bin for both the desktop package and hydrogen later?  I tried out different combinations of flow-bin and immutable and the flow errors are strange...\nI get that we don't normally downgrade packages.. . @BenRussert Downgrading caused one more flow bug - electron is a required module which was not found. I've added a stub for electron.js file in the flow-typed folder. \nWhat is the right thing to do here? See this commit.. This is a duplicate of #1296, will check this. Picking this up, as I made the original PR for exporting to notebook. \n. @dynobo Is the \"%%markdown\" syntax expected to be like the ipython's \"%%markdown\" cell magic ? I think in that case, the expected output would be this ?\n\n. My mistake, I thought %%markdown was a magic like %%javascript. I just wondered where the \"%%markdown\" syntax came from; I couldn't find it in the Hydrogen docs either.. I think there was a createCodeCell somewhere inside, but it wasn't exposed.  Is there a better way to do it ?. I forget that I'm working with desktop stuff and that I have more \"power\" now. Thanks!!. I viewed the notebook file as something derivable from the state, so I put it as a computed property, but I was so uncertain about this, so I made the WIP PR.. ",
    "ttor": "For anyone who needs this right now, I have uploaded my interim solution as a gist here.. @lgeiger I'd love to help out with Hydrogen. Let me first try to get a little more comfortable with the codebase and maybe solve a few issues. . Thanks for the fix and the cc!. ",
    "kengz": "milestone suggestion:\n1. a low-hanging fruit is to just save the entire atom pane with the input and output as an HTML file, so people can immediately export to share with people as-is\n2. the next stage is to dig deeper into this HTML div and extract the elements\nrelated thing done for saving a preview pane of a markdown file as-is into an HTML file: https://github.com/atom/markdown-preview/pull/68\nSee the screenshot for the targetable HTML div.\n\n. Oh okay I didn't realize you could add keymap to command not already declared! Here's it working:\n'ctrl-enter': 'hydrogen:run'\n  'ctrl-shift-enter': 'hydrogen:run-all'\n  'ctrl-backspace': 'hydrogen:clear-results'\n  'ctrl-shift-backspace': 'hydrogen:restart-kernel'\nThanks for pointing that out. Feel free to close The issue. . ",
    "saber7165": "@lgeiger , I see that there has been a PR on this, but how can I use this with Hydrogen in Atom? I cannot find documentation on how to do this. . @kylebarron, thanks. I got confused because here it shows it as merged and the branch deleted more than a year ago. So I thought this is part of the package now. . Do you know how I can call it, or have any example? Is it like run-cell and run-all commands or sth different? I can certainly wait though for #1498 to get merged.. @kylebarron, thanks. It worked really well. Do you know if option 1 here (converting the hydrogen output to html) has been implemented or not?. @kylebarron and @lgeiger, I agree to some extent. However, nbconvert is an additional step which also needs to run the code in order to generate the output. This would be waste of time if the code takes time to run. Once the output is generated from atom though, I think there should be option to take a \"snapshot\" and save it as html. Like in Spyder, one can just right click on the ipython terminal and save the whole output as html. I addition, adding such options makes users independent of any extra tools other than Hydrogen+atom.. Cool. So this means that one can run the code in Hydrogen, then save the code with the outputs using #1498 to a notebook, and then use nbconvert to get html, right? I am interested in having the outputs (and possibly the code) saved to html file.. Nice! I'll wait then. Thanks for all the info.. ",
    "jdpigeon": "I think I can find time before the sprint to add flow to these files. I've been meaning to learn it and this looks like a perfect opportunity!. What's best practices when describin the flow type of a parameter that is actually a function?\nIn the first method in kernel-manager.js, I used some detective work to find out that the first parameter, grammar, should have the type grammer: atom$Grammar. However the second argument seems to be a function! Can I just set it to onStarted: Function?\nstartKernelFor(grammar: atom$Grammar, onStarted: Function) {\n    try {\n      const rootDirectory = atom.project.rootDirectories[0]\n.... Nice! That makes this quite easier. Hey guys,\nSo I went through and added Flow types to those two files. However, in trying to resolve linting issues that came up, I got to the point where it seems like changes to the actual code need to be made. Since I'm not familiar with the code base, I'm gonna pass my changes off to you guys for support.\nSpecifically, adding Flow to kernel-manager.js created a number of errors both within the file and others (main, signal-list-view, ws-kernel, and zmq-kernel), mainly related to:\n- expected parameter types of things imported from the store (store.grammar throws a 'null type is incompatible with atom$Grammar' bug)\n- Functions with two few arguments (ie. ZMQKernel constructor). Not sure if parameters should be nullable and, if so, how to account for that.\nAll the changes I've made are in this commit on my personal fork: https://github.com/jdpigeon/hydrogen/commit/ba4d41b60327a5f8c565ddaa6c46765573c7ef46\nI left comments near many of the errors w/ points of confusion. Got it https://github.com/nteract/hydrogen/pull/832. Hey guys, I'm running into something similar. Can't get Hydrogen w/ jp-babel to successfully import modules.\nIdeally, I'd love to be able to do:\nimport React, { Component } from \"react\";\nimport Button from \"./components/button\"\nHowever, both of these throw the same cannot find module @giovannipbonin linked above. No amount of fiddling with paths, adding parent dirs in and everything seems to help.\nSeems like pretty basic functionality. Have I messed something up with my install? Here's my kernel specs\n{\n \"kernelspecs\": {\n    \"babel\": {\n      \"resource_dir\": \"/home/dano/.local/share/jupyter/kernels/babel\",\n      \"spec\": {\n        \"argv\": [\n          \"jp-babel-kernel\",\n          \"--hide-undefined\",\n          \"{connection_file}\",\n          \"--protocol=5.0\"\n        ],\n        \"env\": {},\n        \"display_name\": \"jp-Babel (Node.js)\",\n        \"language\": \"babel\"\n      }\n    }. Aha! That's it. Of course. I always set my root in this one project one directory above where all the node_modules are.\nNow I seem to be in the situation giovanni was in, though. I can import local stuff, but I have to use the path from the project root rather than the local path. I can temporarily change things in order to test with Hydrogen, but do you think there's a way of having Hydrogen figure those local paths based on which file you're running it in?\n. Hey man, I made your recommended changes and managed to get the number of errors in kernel-manager down to 1! However, I've made some things nullable in other files that lead to some more flow errors. Done. ",
    "Mike-MU10": "Hi rgbkrk.\nThe problem is that this is company's computer and I cannot get rid of AVG. Any other solution?. ",
    "hpierce1102": "Hacktoberfest 2018 browser here (I see this was originally tagged in 2017), is this still needed? It looks like result-view/history.js and code-manager.js was taken care of already.\nAssuming this is still desired and relevant, I'd love to take a crack at a few of these!. I just struggled to Hydrogen and ijavascript up and running on a similar system. Here's some random, potentially helpful, potentially not, notes:\nWindows 10 v1803\nAtom: 1.31.1\nI don't know how to check my Electron version.\nChrome 69.0.3497\nNode: 8.9.4\n$ npm install -g ijavascript\n$ ijavascript\nand then updating the kernels in Atom worked for me. The documentation listed here: https://nteract.io/kernels/node didn't make it explicitly clear for dumb people like me that you had to run ijavascript to actually install the kernel.. Sorry for the radio silence. Yes, I'd like to look at it again and dive in Jasmine spies.. ",
    "homocomputeris": "Well, it doesn't work in Jupyter when using\nif __name__ == '__main__':\n    unittest.main()\nbut works with something like\ntest_suite = unittest.TestSuite()\ntest_suite.addTest(unittest.makeSuite(TestStringMethods))\nrunner=unittest.TextTestRunner()\nrunner.run(test_suite)\nSo, not a Hydrogen problem, I believe.. It used to abort any computation, showing Python log with something like \"interrupted by the user\". Upon the second interruption Atom would pop up something like \"No Python kernel used\".\nNow nothing happens: the calculation animation proceeds, no pop-ups appear.\nYes, I am using the latest version.. Well, it seems that Atom actually disconnects from the kernel, but there are no indication of it.. ",
    "arl-o": "This version of the .main call: \nif __name__ == '__main__':\n    unittest.main(argv=['first-arg-is-ignored'], exit=False)\nworks fine for me. (Source.). Thanks for responding! \nSo it's intended behavior for shutting down the kernel, but not necessarily for restarting.\nWould it be too cruft-y to add an 'isRestarting' flag, and check !kernel && !isRestarting rather than just !kernel ? It might be quicker+safer to implement than changing the behavior of the kernel class. \nI realize it's a small problem, but having the code area jump left or right, or having to re-open the project tab when it was visible pre-restart, is a little jarring. \nedit: Oh, and I have a touch of OCD, so this issue may not bother anyone other than me, in which case feel free to ignore it and I'll just maintain my own branch. . Wow, this is awesome! Y'all are the speedy, communicative devs I aspire to become. . #863 is still active. . I feel silly, wasn't running atom in dev mode. \n863 is no longer active! It works fine. . I can reproduce the above, but it's not the same problem as #863, since the code is definitely running, just not consistently re-populating the bubbles.\nIn #863, the process was hanging indefinitely, but in the issue described above I've had it work where only some of the bubbles populate, but their results are correct: \n\nI could also reproduce this problem by mashing a custom keymap which calls restart kernel and clear bubbles simultaneously, then quickly running the code. \n. ",
    "andykog": "Unpublished mobx-react@4.2.0-rollup. ",
    "ivanov": "As Kyle said, this looks great, @lgeiger! Another reasonable possibility for the outputs would be too keep adding them  onto a single page on the left, and scroll down so that the last one comes into view... that way you can scroll down through them and see multiple (for example, if you're just printing one line per output, it'd be nice to see a bunch of them as opposed to having to click to page through them. \nOn the other hand, the current implementation is perfect for comparing images, flipping back and forth between them, so there are use cases for both.. ",
    "bcdunbar": "Ah, okay.\nRestarted and ran:\np <- plot_ly(x = 1, y = 1)\np\n\n. Yup, the above solution (ropensci/plotly#768 (comment)) works in Atom.. ",
    "callmeish": "Adressed in #954. I'm a bit new to this github thing, let me know if anything in that looks weird or needs changes.. Rebased, tested, should be good now. Thanks a bunch for the tip on local flow testing.. I didn't realize that the output might not be something with an output.text property, thanks for catching that. The style thing was a good idea as well.\nI do have a question as far as the case where kernel or kernel.outputStore are undefined. That entire function is (or was, as I moved it out of an anonymous function) nested inside a div that wouldn't even appear if kernel.outputStore.outputs.length returned a value less than or equal to 0. Would that condition not require that both  kernel and kernel.outputStore be defined?. ",
    "kkonevets": "pyCharm can handle this issue pretty well, why can't hydrogen do the same?. ",
    "StevenLi-DS": "@BenRussert Thanks buddy.. @lgeiger  does this support windows? I restarted the python3 kernel but the result buddles (check marks) still display at the end of each block of my code? I have to shut down the kernel to let them disappear and then run my code.. @BenRussert some other thoughts:\nhttps://github.com/nteract/hydrogen/issues/1332. @BenRussert  Sorry buddy. I'm not a developer yet and mainly using Python for data analysis only. Thanks for mentioning the cells and I guess I did miss something from the doc. I think what I am looking for would be like displaying a buddle with a number to tell me the order of execution after the line that defines a cell. For example:\n# %% [1]\nprint(cell)\n# %% [2]\nprint(cell). @nikitakit I think you're right. Dendenping on what you do and your workflow, the change indeed may be helpful for some people. \nI think I may perfer the second option:\n\nexecution counts in the sidebar, where the line numbers are. \n",
    "terryphi": "Haha,  no,  I thought it would be a bit more effective for me to try and\nmake a prototype and try to get my idea across that way.\nI'm not a software guy,  so the best I could do is try to get someone with\nexpertise to try and tackle it if I could come up with a proof of concept.\nOn Jun 21, 2017 12:43 PM, \"Ben Russert\" notifications@github.com wrote:\n\n@terryphi https://github.com/terryphi I'll close, but did you find a\nsolution or just ask the question somewhere else? I'm interested in Twine\nnow \ud83d\ude04 .\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/886#issuecomment-310137487,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYt6TZAlJcpd5Zp03r-4q_NZ2iMqteQyks5sGUg8gaJpZM4OBGvW\n.\n. Thanks!\n\nAre you aware of this?\nhttp://www.pythonect.org/\nOn Wed, Jun 21, 2017 at 1:51 PM, Ben Russert notifications@github.com\nwrote:\n\nMermaid is a flow diagram library that has an atom package\nhttps://atom.io/packages/atom-mermaid. This might be similar enough to\nget you started.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/886#issuecomment-310155952,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYt6TW_j7GRiOgNGq3W7qsHdxK8K9Vfwks5sGVgwgaJpZM4OBGvW\n.\n\n\n-- \n-Terry J. Price\n. There's actually alot of them.\nhttps://wiki.python.org/moin/FlowBasedProgramming\nI'm new to all this, so I don't know if what I'm talking about has been\ndone before.\nOn Wed, Jun 21, 2017 at 3:05 PM, Terry Price terry.price@gmail.com wrote:\n\nThanks!\nAre you aware of this?\nhttp://www.pythonect.org/\nOn Wed, Jun 21, 2017 at 1:51 PM, Ben Russert notifications@github.com\nwrote:\n\nMermaid is a flow diagram library that has an atom package\nhttps://atom.io/packages/atom-mermaid. This might be similar enough to\nget you started.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/886#issuecomment-310155952,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYt6TW_j7GRiOgNGq3W7qsHdxK8K9Vfwks5sGVgwgaJpZM4OBGvW\n.\n\n\n--\n-Terry J. Price\n\n-- \n-Terry J. Price\n. ",
    "davestroud": "That worked.  Thank you!. ",
    "qubicql": "@nikitakit @rgbkrk \nI would highly appreciate an implementation of the whitespace issue #862 !\nIts not about having false indentations but about testing parts of a loop/if-statement etc.\n. ",
    "xgb1206": "I have the Julia grammar in my active editor.. I was running Jupyter 4.2.1.. ",
    "jasonleonhard": "For now you might consider adding this to your styles.less\natom-text-editor {\n  .hydrogen {\n    .hydrogen_cell_display{\n        background-color: black;\n    }\n  }\n}\n\n. Thank you. I found that the file must be saved, opened and closed before it would to execute as well as the cursor placement inside of the block to be executed.\nAwesome Hydrogen!. ",
    "mattiasarro": "@n-riesco where and how can I configure IPython / Hydrogen to for example disable syntax highlighting in stack traces? \nThough CSS-configurable color scheme would be very nice.. I also can't scroll the results view. div.cell_display expands to fit the content inside it, but horizontal scroll doesn't work. When I add .cell_display { max-width: 1200px; } (or whatever is guaranteed to fit on my screen) to my stylesheet, then the results area gets small and scrollable again. \nIt makes sense that you can't scroll within the div.cell_display tag, as it's not overflowing width-wise. Either atom-text-editor should be scrollable along the whole width of div.cell_display, or div.cell_display should only expand to the visible area (which was the old behavior, before some upgrade).\nI'm on Atom 1.20.0, Hydrogen 1.22.0, One Light UI theme, Atom Light syntax theme.. ",
    "bigheadming": "Thanks @BenRussert. However, it does not change after I added \"--colors='Linux'\" to my kernel.json. The color is still the same: \n{\n \"argv\": [\n  \"/home/xxx/anaconda3/bin/python\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"--colors='Linux'\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}\nThere is a bit difference between my kernel.json and @n-riesco 's. His 3rd argument is \"ipykernel\" while mine is \"ipykernel_launcher\". May be that's the reason mine it doesn't apply to my case.\nThanks but do not work in my case :(\nYou mentioned about ansi-to-react, however I'm not sure what to do and where to do. Could you please show more? \nThanks. I think I found a solution. In my case, --colors='Linux' does not work, but --colors='NoColor' work. Now all error messages have no color (ie white), and I can change the background color  to black. . I have the same problem when using show command in pyspark. Can you please fix it, or allow the user to choose the font-family in output area? Thanks.\npeopleDF.show(truncate=False)\n+-----------------------+-------+------------------------------------+\n|cities                 |name   |schools                             |\n+-----------------------+-------+------------------------------------+\n|[palo alto, menlo park]|Michael|[[stanford, 2010], [berkeley, 2012]]|\n|[santa cruz]           |Andy   |[[ucsb, 2011]]                      |\n|[portland]             |Justin |[[berkeley, 2014]]                  |\n+-----------------------+-------+------------------------------------+. Thanks. I actually spent quite some time looking at the .output-area paragraph in hydrogen.less last night. I know that the problem may probably be a matter of changing the appropriate font so that the text table output would be aligned. In that .output-area paragraph, I've tried adding font-family: Consolas; (under the line of height: 100%; ). It didn't work. I also tried to mess with atom's config.cson (under Config in File menu) by adding outputAreaFontFamily: Consolas (under the line of outputAreaFontSize: 14 under paragraph Hydrogen:). It didn't work. I googled and googled ... but can't find an answer. I am really a newbee in stylesheet. If you could give me an example or give me more hints, I can try it again. Thanks.\nSeparate question (please allow me  to ask here), Is there a way to specify multiple gateways? I tried the followings but didn't work (returned error). The user case is that I may be running 2 kernels, one for python another for scala so that I can work on both simultaneously. Thanks.\n[{\n  \"name\": \"Jupyter Book - Python\",\n  \"options\": {\n    \"baseUrl\": \"http://localhost:8889\",\n    \"token\": \"xxx\"\n  },\n  {\n    \"name\": \"Jupyter Book - Scala\",\n    \"options\": {\n      \"baseUrl\": \"http://localhost:8890\",\n      \"token\": \"xxx\"\n    }\n}]\n. Hi, here are some updates. First, to resolve the alignment problem in the output area, I put font-family: monospace under the .output-area .multiline-container. However, I find another problem when an error returns. As you can see in the picture below, the red color and blue color error text (there is blue color message after the get_return value) can't be seen clearly.\n\nAfter struggling for a while (yes, a lot of time). I end up changing the background color in the .output-area .multiline-container in order to see all the 'beautiful' colored error message, using the settings below: \n.hydrogen .output-area {\n  color: darken(white, 15%);\n  .multiline-container {\n    font-family: monospace;\n    //text-align: center;\n    background-color: darken(darkgrey, 15%);\n    //color: darken(white, 20%);\n  }\n  .nteract-display-area-traceback {\n    color: darken(white, 15%);\n  }\n}\nThe error in the output area looks like this now: \n\nHere is the fix for the alignment:\n\nThe color error message issue is where I spent most of my time trying. Frankly, I don't like the grey background given all else are in black color. But there is the best color I can find in order to see the 'beautiful' green, blue and red error messages. \nThe reason for the returned color error message may be from default color of  jupyter notebook. As seen below, it returns a html with color preset: \n\nI tried to include a custom.css in .jupyter directory and passed the custom.css when starting the jupyter server (by adding c.NotebookApp.extra_static_paths = ['/home/xxx/.jupyter/custom'] in jupyter_notebook_config.py). In a browser, the notebook comes out beautiful with all color I want. However, when doing it hydrogen, it stays the same no matter what I tried. \nAnyone, please see if you can help me to fix the problem by altering the colored error message return by Jupyter. Thanks in advance. \nBTW, text-align: center works, but I disable it as I don't know the output in center. \nAnother issue I found is that the slide bar on the output area is not working. It is supposed that I can click and drag the 'square' so that I can see the output one by one. But it doesn't work. The only way is to use the '<' and '>' at both ends of the slide bar to see the output one by one. \n\n. ",
    "andreas-wolf": "After trying a lot with ipython themes and stuff I came back to @jasonleonhard 's solution and did a bit of refinement. I added this to my styles to overwrite the blue colored spans with a color fitting for my theme:\n.nteract-display-area-traceback > span[style*=\"rgb(0, 0, 187)\"] { \ncolor: #abb2bf!important;\n}. ",
    "xieve": "Is there no way to just use\n| color | class |\n| --- | --- |\n| red | syntax--invalid.syntax--illegal |\n| green | syntax--keyword |\n| turquoise | syntax--object |\n...and so on, based on what IPython uses those for?\nAlso, basically, there's also the possibility to highlight the output in the plugin rather than translating those ANSI colors, right?. ",
    "docsteveharris": "Thank you. But where do I put this? It doesn't match the JSON which seems to be required for Kernel specs. thank you very much! all works.. ",
    "g4nym3de": "I'm terribly sorry. Turns out I haven't installed ipykernel yet. 'pip install ipykernel' solves the problem and for anyone using anaconda with tensorflow in a separate env and just couldn't live without atom + hydrogen, be sure to check the above wonderful solution by @lgeiger  \n\nThx for the answer but the second line wouldn't work, it says No module named ipykernel\nMy kernelspec is \n{\n  \"kernelspecs\": {\n    \"python2\": {\n      \"resource_dir\": \"/Users/spoc/anaconda2/share/jupyter/kernels/python2\", \n      \"spec\": {\n        \"language\": \"python\", \n        \"display_name\": \"Python 2\", \n        \"env\": {}, \n        \"argv\": [\n          \"/Users/spoc/anaconda2/bin/python\", \n          \"-m\", \n          \"ipykernel_launcher\", \n          \"-f\", \n          \"{connection_file}\"\n        ]\n      }\n    }\n  }\n}\n. ",
    "gyh75520": "I modify the hosts file.Does this belong to proxy\uff1f\nI tried many times, always report this error.\n. I can not open this link. \nI have successfully installed other atom's plugins.\nI'm so upset that I can not install hydrogen.. HowarddeMacBook-Pro:~ howard$ uname -a\nDarwin HowarddeMacBook-Pro.local 16.6.0 Darwin Kernel Version 16.6.0: Fri Apr 14 16:13:31 PDT 2017; root:xnu-3789.60.24~4/RELEASE_X86_64 x86_64\nHowarddeMacBook-Pro:~ howard$ apm -v\napm  1.18.1\nnpm  3.10.10\nnode 6.9.5 x64\npython 2.7.10\ngit 2.11.0\n. HowarddeMacBook-Pro:~ howard$ jupyter troubleshoot\nDEPRECATION: The default format will switch to columns in the future. You can use --format=(legacy|columns) (or define a format=(legacy|columns) in your pip.conf under the [list] section) to disable this warning.\n$PATH:\n    /Library/Frameworks/Python.framework/Versions/3.5/bin\n    /Library/Frameworks/Python.framework/Versions/3.5/bin\n    /usr/local/bin\n    /usr/bin\n    /bin\n    /usr/sbin\n    /sbin\nsys.path:\n    /Library/Frameworks/Python.framework/Versions/3.5/bin\n    /Library/Frameworks/Python.framework/Versions/3.5/lib/python35.zip\n    /Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5\n    /Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/plat-darwin\n    /Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/lib-dynload\n    /Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages\nsys.executable:\n    /Library/Frameworks/Python.framework/Versions/3.5/bin/python3\nsys.version:\n    3.5.0 (v3.5.0:374f501f4567, Sep 12 2015, 11:00:19) \n    [GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]\nplatform.platform():\n    Darwin-16.6.0-x86_64-i386-64bit\nwhich -a jupyter:\n    /Library/Frameworks/Python.framework/Versions/3.5/bin/jupyter\n    /Library/Frameworks/Python.framework/Versions/3.5/bin/jupyter\npip list:\n    appnope (0.1.0)\n    astroid (1.5.3)\n    bleach (2.0.0)\n    decorator (4.0.11)\n    entrypoints (0.2.3)\n    flake8 (3.3.0)\n    html5lib (0.999999999)\n    ipykernel (4.6.1)\n    ipython (6.1.0)\n    ipython-genutils (0.2.0)\n    ipywidgets (6.0.0)\n    isort (4.2.15)\n    jedi (0.10.2)\n    Jinja2 (2.9.6)\n    jsonschema (2.6.0)\n    jupyter (1.0.0)\n    jupyter-client (5.1.0)\n    jupyter-console (5.1.0)\n    jupyter-core (4.3.0)\n    lazy-object-proxy (1.3.1)\n    MarkupSafe (1.0)\n    mccabe (0.6.1)\n    mistune (0.7.4)\n    nbconvert (5.2.1)\n    nbformat (4.3.0)\n    notebook (5.0.0)\n    pandocfilters (1.4.1)\n    pep8 (1.7.0)\n    pexpect (4.2.1)\n    pickleshare (0.7.4)\n    pip (9.0.1)\n    prompt-toolkit (1.0.14)\n    ptyprocess (0.5.2)\n    pycodestyle (2.3.1)\n    pydocstyle (2.0.0)\n    pyflakes (1.5.0)\n    Pygments (2.2.0)\n    pylama (7.4.1)\n    pylama-pylint (3.0.1)\n    pylint (1.7.2)\n    python-dateutil (2.6.0)\n    pyzmq (16.0.2)\n    qtconsole (4.3.0)\n    setuptools (36.0.1)\n    simplegeneric (0.8.1)\n    six (1.10.0)\n    snowballstemmer (1.2.1)\n    terminado (0.6)\n    testpath (0.3.1)\n    tornado (4.5.1)\n    traitlets (4.3.2)\n    wcwidth (0.1.7)\n    webencodings (0.5.1)\n    widgetsnbextension (2.0.0)\n    wrapt (1.10.10)\nHowarddeMacBook-Pro:~ howard$ jupyter kernelspec list\nAvailable kernels:\n  python3    /Library/Frameworks/Python.framework/Versions/3.5/share/jupyter/kernels/python3\nI installed python3.5 and\nvim ~/.bash_profile\nadd alias python='/Library/Frameworks/Python.framework/Versions/3.5/bin/python3.5'  at the end.\nand then installed jupyter.\nbecause I installed hydrogen failed, I Revoke  the file's modification.\nHowarddeMacBook-Pro:~ howard$ python\nPython 2.7.10 (default, Feb  7 2017, 00:08:15) \n[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n\n\n\n\n\nBut it reported the same error. . @willingc Thank you for your patience\uff0c-v-.\nI followed your advice, but it also reported the same error.\nbe close to tears.. I found my phone and windows can access the https://github.com/zeromq/zeromq.js/releases/download/v4.5.0/zeromq-v4.5.0-electron-v49-darwin-x64.tar.gz\n, only my mac can't. . @studynon Thank you!!!!\n I'm so happy !!. ",
    "studynon": "@gyh75520 Did you solve your installation ERROR? I also catch this error. After I copy the .tar.gz to /.atom/.node-gyp/.npm/_prebuilds/. The ERROR of prebuild-install WARN install connect ECONNREFUSED 121.59.17.8:443 still exists. @lgeiger . @gyh75520 I have solved it! Maybe it is your hosts problem. You can change your /etc/hosts file according to here.. ",
    "jeremyechols": "I have figured out that when declaring a variable and assigning a value to it, you have to run the code from the top line (seems inconvenient, when I'm wanting to run the code upon completion of typing the values, but I get it). \nHowever, I have not figured out a workflow to make if/elif/else statements run within Hydrogen.. ",
    "andb0t": "Your comment triggered a deeper dig into my setup and I found the problem: \nI use anaconda on Windows and have a conda environment set up. Numpy and matplotlib are installed  and everything works from the python shell. I have installed ipykernel and use the kernel I get from executing jupyter kernelspec list -json in the very same shell. However, when changing conda environment I had forgotten to add the path of the new conda environment python executable to the windows PATH environmental variable. \nThanks!. Sure, I'd be glad to help where I can. Do you have any special best practices, regulations, minimum contributions per time unit etc, that I should know of?. Great, then I'd be happy if you would add me!. ",
    "afshin": "I think the backward incompatible changes to @jupyterlab/services API will not have an adverse effect. The biggest one is that future.onDone has been renamed to future.done, but you weren't using that. Other changes are the TS version was updated and phosphor versions were updated.\ncc: @blink1073. ",
    "juancarloscastillo": "yes, I get:\njuan@juan-Lenovo-Yoga-2-13:~$ jupyter kernelspec list\nAvailable kernels:\n  ir         /home/juan/.local/share/jupyter/kernels/ir\n  ir32       /home/juan/.local/share/jupyter/kernels/ir32\n  python2    /usr/local/share/jupyter/kernels/python2\nis maybe something missing?\n. Now I restarted everything and its working! Now a last question: it is possible to have R in Atom with Jupyter, but at the same time a screen with a log of all the results of a session? thanks!. Great feature, thanks! But I am still looking for the possibility to have a\noption for a \"traditional\" log where results appear after running a code\nline, as in a terminal. I have been searching all over the web and so far\nthe only thing that appears to work is r-exec ... only for Mac (I am on\nLinux). Is this so? It would be a pity because I think Atom could be a\ngreat place for generating a workflow for academics working with R-Latex\nand Git ... but it seems that so far this works only in Emacs.\nJuan Carlos Castillo\nInstituto de Sociolog\u00eda, Pontificia Universidad Cat\u00f3lica de Chile\nCOES http://www.coes.cl - Centro de Estudios de Conflicto y Cohesi\u00f3n\nSocial\njc-castillo.com http://jc-castillo.com +56 2 2354 4654\nHoras reuni\u00f3n alumnos: jc-castillo.com/contact\n2017-07-10 16:27 GMT+02:00 Lukas Geiger notifications@github.com:\n\n@juancarloscastillo https://github.com/juancarloscastillo Glad it's\nworking!\nNow a last question: it is possible to have R in Atom with Jupyter, but at\nthe same time a screen with a log of all the results of a session? thanks!\nYou can open the external output area\nhttps://github.com/nteract/hydrogen/releases/tag/v1.15.0 with\n\"Hydrogen: Toggle Output Area\" to show the execution history in the side\npanel.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/909#issuecomment-314122386,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Ab0wct9cYRLKrT15a7tlJAEjiLD8sCXDks5sMjS7gaJpZM4OREc2\n.\n. \n",
    "pochoi": "Mine is OSX 10.10.5\nI guess I have similar issue.\nBelow is what happens when I press shift-enter in .R file\n\nThings are fine in Juila and Python files.\nHere is my kernelspec\n{\n  \"kernelspecs\": {\n    \"julia-0.5\": {\n      \"spec\": {\n        \"language\": \"julia\",\n        \"display_name\": \"Julia 0.5.0\",\n        \"env\": {},\n        \"argv\": [\n          \"/Applications/Julia-0.5.app/Contents/Resources/julia/bin/julia\",\n          \"-i\",\n          \"--startup-file=yes\",\n          \"--color=yes\",\n          \"/Users/po/.julia/v0.5/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/po/Library/Jupyter/kernels/julia-0.5\"\n    },\n    \"ir\": {\n      \"spec\": {\n        \"language\": \"R\",\n        \"display_name\": \"R\",\n        \"env\": {},\n        \"argv\": [\n          \"/Library/Frameworks/R.framework/Resources/bin/R\",\n          \"--slave\",\n          \"-e\",\n          \"IRkernel::main()\",\n          \"--args\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/po/Library/Jupyter/kernels/ir\"\n    },\n    \"python3\": {\n      \"spec\": {\n        \"language\": \"python\",\n        \"display_name\": \"Python 3\",\n        \"env\": {},\n        \"argv\": [\n          \"/Users/po/anaconda/bin/python3\",\n          \"-m\",\n          \"ipykernel\",\n          \"-f\",\n          \"{connection_file}\"\n        ]\n      },\n      \"resource_dir\": \"/Users/po/Library/Jupyter/kernels/python3\"\n    }\n  }\n}\n. ",
    "dc-coder": "why is jupyter required? can't it be done without jupyter?. ",
    "oskar-j": "Same story here @acerock6 \nI'm simply running it on my laptop. \nI have no clue how to save my notebook now as it always fails!\n[W 18:23:22.758 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1): '_xsrf' argument missing from POST\n[W 18:23:22.758 NotebookApp] '_xsrf' argument missing from POST\n[W 18:23:22.774 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1) 31.24ms referer=http://localhost:8888/notebooks/BSolve%20challenge.ipynb\n[W 18:24:33.094 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1): '_xsrf' argument missing from POST\n[W 18:24:33.094 NotebookApp] '_xsrf' argument missing from POST\n[W 18:24:33.094 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1) 15.22ms referer=http://localhost:8888/notebooks/BSolve%20challenge.ipynb\n[W 18:24:45.716 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1): '_xsrf' argument missing from POST\n[W 18:24:45.716 NotebookApp] '_xsrf' argument missing from POST\n[W 18:24:45.716 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1) 18.63ms referer=http://localhost:8888/notebooks/BSolve%20challenge.ipynb\n[W 18:25:23.165 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1): '_xsrf' argument missing from POST\n[W 18:25:23.165 NotebookApp] '_xsrf' argument missing from POST\n[W 18:25:23.165 NotebookApp] 403 PUT /api/contents/BSolve%20challenge.ipynb (::1) 15.58ms referer=http://localhost:8888/notebooks/BSolve%20challenge.ipynb\nEdit\nsuddenly after couple of minutes, jupyter saved my notebook \ud83d\ude06. ",
    "lightalchemist": "For some reason, if I open another notebook in the same kernel, this error goes away and I'm allowed to save... . ",
    "AbhaySinghania": "Hi,\nEven I faced the same issue.\nSolution: Try downloading your file (this will save the work), and you will be redirected to password page of jupyter notebook where the token is required to download the file which can be found on cmd localhost section. After this, you will be able to save the notebook again and your work will be downloaded.. ",
    "kopec-wojciech": "Hi,\nI also encountered this issue, the solution was to refresh the localhost page, which then will ask you for a password or token to log in. Follow the instructions on the screen to get the access back to your notebook.. ",
    "AlkisPis": "Changing < #c.NotebookApp.disable_check_xsrf = False > to < c.NotebookApp.disable_check_xsrf = True > in jupyter_notebook_config.py  works!  It's maybe not an optimal solution but I have had enough with Jupyter Notebook oddities!. It seems I'm in the wrong place. My solution has been totally ignored ... . ",
    "Prem95": "I had the error after I accidentally deleted my browsers history after about 3 weeks since it was slowing the browser. It could be the same case. @jforrest888 No problem. Glad it helped. Thanks!. ",
    "jforrest888": "Prem\nI'm glad you mentioned the browser history.  I started having  the same error, and after reading your comment, I remembered that I had cleared the browser history earlier in the day.\nI was able to copy the code from jupyter to my pc, so it wasn't a big issue.. ",
    "lwasser": "hey all. I've run into this on and off with my students. i'd like to understand what is causing this issue. If the notebook is lanched via a server that contains the token authentication, why would it \"lose\" that connection . what is the trigger for the issue?. ",
    "phillies": "\nIt seems I'm in the wrong place. My solution has been totally ignored ...\n\nMaybe because it's the same solution as posted by @kylebarron last year and deemed as not optimal as it opens security vulnerabilities. . ",
    "jedbaxter": "\nFor some reason, if I open another notebook in the same kernel, this error goes away and I'm allowed to save...\n\nThis worked for me as well. seems to re-establish a good connection to the server. . ",
    "aarondt": "I was using chrome and allowing pop-ups made it work again.. ",
    "MatthewSteen": "This would be helpful for developing in other languages (i.e. non-Python). For example, I mostly develop in Ruby using the %%script ruby cell magic to run files, then change to %%writefile name.rb cell magic to overwrite the source file with changes. \nWithout the %load file.ext magic, I have to manually copy/paste the contents of a source file into Atom if a colleague makes changes to that file in a repo. Basically I have an .ipynb file (or a .py file when using Atom/Hydrogen, which I prefer for the Git integration) for each Ruby .rb source file. \nHere's an example of what that looks like in a single notebook cell.\n\n```\n%%script ruby\nputs 'hello world'\n```\n\nhello world\n\n\n```\n%%writefile hello_world.rb\nputs 'hello world'\n```\n\noverwriting hello_world.rb\n\n\n(pull changes to hello_world.rb from remote repo)\n```\n%load hello_world.rb\ndef hello_world()\n  puts 'hello world'\nend\n```\n\n. ",
    "BruceChen2017": "@rgbkrk   @lgeiger   @BenRussert      . Yes(windows 7).But actually I like to put several expression in different lines of one block so that jupyter will display all results line by line. I really hope you can make this functionality work. @BenRussert \n```\n%%\ndef f(x):\n    return x**2\nf(2)\nf(3)\noutput is still displayed by 49\n. Sorry to both of you @BenRussert  @rgbkrk .By default,as @BenRussert shows,both jupyter and hydrogen only display the output of the last expression.But there is a way to show all output of different expressions in  \none cell.\nexcecute two lines in the file\nfrom IPython.core.interactiveshell import InteractiveShell\nInteractiveShell.ast_node_interactivity = \"all\"\nor   create `~/.ipython/profile_default/ipython_config.py`  and write:\nc = get_config()\nRun all nodes interactively\nc.InteractiveShell.ast_node_interactivity = \"all\"\n``\nWhat  I did is just the latter.  \nSo as I said before,can you make this work if I use this setting.Of course ,putting expression in separate cells or usingprint` for each expression will work,but you have to type more which is very inefficient for me.\nAnyway,that is just my hope you can ignore.. ",
    "rachelfu": "Thanks for the reply! Sometimes, it has problem parse a function if I hit shift+enter at the last line. Script doesn't have similar issue. I will select the block for now.. @BenRussert \nThis works too. Thanks!. ",
    "chq-matteo": "In the zip file there is a .mp4 file of the issue\nHydrogen Watch .zip\n. ",
    "bbsdkjdx": "hydrogen is rally excellent with such an awesome team.. ",
    "gepcel": "Wow, first of all, it worked.\nI've reinstalled these (there is another package incompatible) packages multiple times. And googled around for a very long time. And searched the atom git repo. All with no luck. \nI've even noticed there are some buttons there but didn't pay attention what it says, because of the color of the text. I even tried to click the last two buttons, just without trying the first button for even once. Thank you very much.\n\n. ",
    "DavidLGoldberg": "Did that too, although I think it has the same effect as jumping into the package.  Still same scenario.  I've never seen a command get deregistered that way in Atom EVER.  Really, really strange.  It's probably not really a hydrogen issue at all from my experience with this kind of thing. :\\  Maybe I can link to this on the atom discussion boards tonight as I've seen a lot of other upgrade -> package rebuild issues recently.. BTW, I've been using this at/for work stuff. I was actually right about to give a demo when it stopped working :\\ hah!\nAnyway, I of course still really love the package, might try to contrib later on if I have any ideas.\nThere's no hydrogen -> notebook feature yet right?\nI've been using explicit # %% cells as well as highlight and run (awesome feature!).\n. Cut and pasting into a notebook before a demo or something will totally suffice for now....... Unfortunately closing / uninstalling didn't fix it.  Although I'm embarrassed to say I forgot trying that!\nI'll try a compete reinstall of Atom tonight.  Might be overdue / why some of these things are occurring.\nJust want to triple confirm you're on 1.19.0 right with a restart and things are working on your end?\nPretty sure you have enough users you would have a bunch of people weighing in.  Probably just my install is corrupt :\\\nI'll let you know tonight how this went.. Sorry for the slow response, fyi:\nI had forgotten what the GUI version was called...I kept trying \"rebuild\" in cmd+shift+p instead of \"incompatible\" :-\\  Yes that is and has been totally necessary (instead of the command line!)\nWhen I ran it, I didn't get Hydrogen listed though.  I had 2 other unrelated packages I had to fix.\nUnfortunately I didn't get to test Hydrogen immediately after, before upgrading to 1.19.1.\nSo either the incompatible packages GUI (probably) or the upgrade fixed it.\nEither way, All working again!  Thanks everyone!. ",
    "Akashdesarda": "Thanks for the help. The solution was just 2 clicks away. . ",
    "ancientsigyl": "I tried this:\ncd C:\\Python36\\Scripts\\\njupyter kernelspec list --json\nand got the following:\nSuggestion [3,General]: The command jupyter was not found, but does exist in the current location. Windows PowerShell does not load commands from the current location by default. If you trust this command, instead type: \".\\jupyter\". \nSo I tried:\n.\\jupyter kernelspec list --json\nand got the following:\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"C:\\Users\\ancientsigyl\\AppData\\Roaming\\jupyter\\kernels\\python3\",\n      \"spec\": {\n        \"argv\": [\n          \"c:\\Python36\\pythonw.exe\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}. ",
    "dlefcoe": "running Atom on windows 10.\nI just downloaded Atom and Hydrogen. I want to use Hydrogen with javascript, but whenever I try it \nget this error message:\nNo kernel for grammar javascript found\nCheck that the language for this file is set in Atom and that you have a Jupyter kernel installed for it.\ni have no idea what this means...\nhow can i fix this / get this working please ?\n. the installation instruction are for Linux and Mac,  but not windows.\nWindows suggests install Anaconda...  \n\nIn Windows, Anaconda offers a convenient distribution to install Python and many other packages, such as Jupyter and IJavascript.\n\nHowever, anaconda is just for python from what i can see.\n...am lost on how to do it ?!?. would be appreciated if can.  my attempts so far have failed.. have created the folders suggested. saved the files as stated.\nI open terminal and type ijskernel.cmd and ijskernel, neither work.\nStandard install of node from: https://nodejs.org/en/download/\nfor iJavascript:   just did this in the terminal  npm install -g ijavascript\nDoesn't work.. When i do this i get the following error:\nError: Error: missing connection_file\n    at parseCommandArguments (C:\\Users\\Owner\\AppData\\Roaming\\npm\\node_modules\\ijavascript\\lib\\kernel.js:182:19)\n    at Object.<anonymous> (C:\\Users\\Owner\\AppData\\Roaming\\npm\\node_modules\\ijavascript\\lib\\kernel.js:46:14)\n    at Module._compile (module.js:643:30)\n    at Object.Module._extensions..js (module.js:654:10)\n    at Module.load (module.js:556:32)\n    at tryModuleLoad (module.js:499:12)\n    at Function.Module._load (module.js:491:3)\n    at Function.Module.runMain (module.js:684:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3. yes,  this is the case.  ijskernel.cmd  is stored in C:\\Users\\Owner\\AppData\\Roaming\\npm \ni have modified the kernel.json accordingly as recommended.  still does not run.\nget this error message\n\nNo kernel for grammar JavaScript found\nCheck that the language for this file is set in Atom and that you have a Jupyter kernel installed for it.\n. yes, i have.  i have done all of this...  does not seem to work.   not sure what to do as they instructions are pretty simple ?!?. yes, i have done this.\n\nthe language is javascript (node.js).    also tried with python 3.0.    same. am really struggling to figure out what to do ?!?!?\n. so reinstall node ?   is this the solution ?  you have a link or instruction for installing new version using NVM please ?   (for windows 10 if this is a solution). where should i run the suggested command please ?  in atom or in the command prompt ?!?. i type shift+ctrl+p\nand then enter hydrogen:update-kernels\nit brings up the same error message that am trying to resolve but cannot:\n\n. yes.  i can confirm that kernel.json exists in the folder suggested and the content is as follows.\n{\n  \"argv\": [\n    \"C:\\Users\\Owner\\AppData\\Roaming\\ijskernel.cmd\",\n    \"--hide-undefined\",\n    \"{connection_file}\",\n    \"--protocol=5.0\"\n  ],\n  \"display_name\": \"Javascript (Node.js)\",\n  \"language\": \"javascript\"\n}. This is done.   A new different error now when attempt to run hydrogen on Hello world program:\n'C:\\Users\\Owner\\AppData\\Roaming\\ijskernel.cmd' could not be spawned. Is it installed and on your path? If so please open an issue on the package spawning the process.\nalso get this in developer tools\n\n. This solves the problem.\nThe final solution is to update kernel.json accordingly:\n{ \"argv\": [ \"C:\\\\Users\\\\Owner\\\\AppData\\\\Roaming\\\\npm\\\\ijskernel.cmd\", \"--hide-undefined\", \"{connection_file}\", \"--protocol=5.0\" ], \"display_name\": \"Javascript (Node.js)\", \"language\": \"javascript\" }\n. ",
    "vijaykarthik123": "Hi, \nI have the same issue on Atom with the hydrogen package. I have a small snippet of code here which doesn't seem to work at all.\n```\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n%config InlineBackend.figure_format = 'png'\np = np.pi;\nt = np.linspace(0,1,10000)\nf = np.sin(2p0.1*t)\nplt.figure()\nplt.plot(t,f)\nplt.show()\n```\nThe kernel.json specified at the %APPDATA% env. variable seems to work fine when called with \njupyter kernelspec list --json. \nAtom version - 1.26.1\nHydrogen version - 2.4.1\nPython - 3.6.5. @n-riesco thanks for pointing that out to me. I wanted a light-weight text editor and Atom - however good it might be - doesn't suit my purpose. But anyways, Hydrogen package works now. I'll have to choose between Spyder IDE and Visual Studio Code.\nThanks again!. ",
    "gabrielash": "No, I tried disabling, but also I can connect to my jupiter kernel on http without a problem. ",
    "hotung1027": "I facing the same issue, when I run the jupyter notebook server with \njupyter notebook --certfile=xx --keyfile=xx \nor using ssl in jupyter_notebook_config.py\nHydrogen seems not able to connect the remote kernel,\nalso the server did not receive any request when I commend on atom .\nHydrogen:Connect to Remote Kernel\nWhile I not using secure notebook server(connect with http), it does not having any issue.\nBoth I have setup token, so I guess not the problem not regarding to token.. ",
    "77QingLiu": "Same issue as @hotung1027. Remote connecting with http is worked but not https. @nikitakit ,  installed the cert-tweaks, but still not working. . @nikitakit. I dowloaded the certificate which in PEM format from the server and setting the  cert-tweaks point to this PEM file.\n\nBut it's not working. Do you know why?\n. Same issue. apm rebuild hydrogen not work. @dsanalytics, tried but not working. even reinstall the hydrogen package.. @BenRussert, not yet. Rebuild or reinstall the package both not work, even reinstall Atom. solved by re-compile. thank you for kindly help. 77qingliu \u90ae\u7bb1\uff1a77qingliu@gmail.com \u7b7e\u540d\u7531\u00a0\u7f51\u6613\u90ae\u7bb1\u5927\u5e08\u00a0\u5b9a\u5236 \u57282018\u5e7404\u670805\u65e5 05:13\uff0cdsanalytics \u5199\u9053\uff1a @77QingLiu based on the screenshots just posted, is that what you tried and didn't work? If so, can you post the error message for atom|hydrogen people to check? \u2014 You are receiving this because you were mentioned. Reply to this email directly, view it on GitHub, or mute the thread.. @kylebarron remote kernel with https in Jupyter is OK but not working in Hydrogen, So I think this is a hydrogen-specific issue.\nSeems this issue has been existing and it's caused byy the js-encrypted package in atom.\n. ",
    "Jayu8": "This works! sorry for the trouble. ",
    "SevnChen": "there is a button \"rebuild modules\"!!!\ni am stupid.. ",
    "mpastell": "I've added the links. This is really a great feature that makes working with literate documents much easier!. I'll keep that in mind. Pweave doesn't currently support multiple kernels, but that would be interesting to add in the future. I'm adding a section to Pweave docs about using language-weave with Hydrogen.. New docs are now online: http://mpastell.com/pweave/editors.html. You typically get this error if you try to execute a line of markdown from .pmd. Try moving your cursor to a code block. Also remove the setting from kernel gateways, it is not needed.. Hydrogen doesn\u2019t run pweave, but it can be used to execute code during development. You need to run pweave from command line to get html etc. The commands are in the examples page (below the table). Run this from command line:\npweave -f md2html FIR_designp.pmd\nRest of the commands are also included in the example gallery,. ",
    "gragrou": "Hello,\nThanks for the answer. \nRunning jupyter kernelspec list --json | grep display_name yielded the following output \"display_name\": \"Python 2\". \nI then tried to set {\"Python 2\": \"%matplotlib qt5\"}, which did not work (the backend used by Python was matplotlib inline despite the settings).\nI also tried {\"Python 3\": \"%matplotlib qt5\"} just in case, which did not work either (still matplotlib inline).\nAny clue of what the issue could be ?\nThanks for your help :). Hello @BenRussert,\nThanks for your help, I appreciate. This is precisely what I did not understand:\n\nNote that hydrogen:restart-kernel command will not run your startup code (only full startup).\n\nMy backend was in fact correctly set at first Hydrogen startup. Yet, since the startup code \"Python 2\": \"%matplotlib qt5\"} does not get reevaluated when using hydrogen:restart-kernel, it switched back to what appears to be Hydrogen's default backend: %matplotlib inline.\nThis raises the question of why the startup code that the user writes in the settings is not reevaluated when hydrogen:restart-kernelis used. It seems a bit confusing to me and I do not know then how to force the default backend to be %matplotlib qt5 as I often have to use the command  hydrogen:restart-kernel.\nIf you can give me any clue on how to do that, it would raise my opinion on Hydrogen from awesome up to ultimate ;). ",
    "mhsekhavat": "I just found #724 \nClosing.\n. ",
    "Razcore": "Update:\nIt looks that it works the first time when I install it. Second time when I open Atom, it just stops displaying anything. The only way to make it work it's just by uninstall - install procedure.\n Any help around this issue will be very appreciated as I'm a big user of Hydrogen ( in the past I was using Spyder which at least on the interactive side was better).. \n\n. It seems to work in when I run with ctrl+enter command. I have the Script package installed as well. My hot keys on running the entire script were shift+enter. I guess it was totally my confusion. Thanks for support nevertheless!. ",
    "srk-srinivasan": "Atom version 1.19.6 X 64. \nOS: Mac os Sierra.\nIt was working fine till yesterday around 8 pm.\n. I deleted atom from entire system. Reinstalled from scratch. Reinstalled Hydrogen. yet this issue is lingering on.. Thank you for your prompt response. Any solution yet? or shall I wait till bug fixes?. I am using Toggle output area as of now. Than you for such a quick response. . ",
    "boyanangelov": "Same here on ubuntu 16.04. Thanks for working on this! Updated and it works.. ",
    "choudhary001": "@lgeiger I would like to take this up. Can you outline what is needed here?\nThanks!. ",
    "xmen1412": "@lgeiger  well thanks a lot man , it works...:D. @lgeiger\n\nthis is the error when i press shift + enter for information, i use windows 10  64 bit with anaconda version 3.4.4 includes python.\n. @lgeiger yess i do.. ",
    "boyali": "Thank you for response. I noticed that I wrote to Hydrogen issues. I asked for desktop application. . ",
    "teristam": "Hi BenRussert,\nI will really appreciate the help! Now I managed to do apm develop hydrogen to clone the repository and I can also see the change to the package in my atom editor. But I am not sure what's the correct way to submit a pull request. Should I create a new git branch on my side first? Thank you!. Thank you so much for the detailed instructions. Will give it a try later today!. Will first-child work? Will experiment and amend accordingly\nOn Sep 15, 2017 6:52 PM, \"Ben Russert\" notifications@github.com wrote:\n\nI agree it should not affect all descendant divs. We may need a more\nrigorous selection here.\nI didnt even think of that. Can this be pulled off with just a selector?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/pull/997#issuecomment-329928669, or mute\nthe thread\nhttps://github.com/notifications/unsubscribe-auth/ADP7dWRlHjRvjdAisHjY9PTflaEqPE_lks5siw25gaJpZM4PZYFv\n.\n. Hi, I used a more stringent selector to only affect the first level div inside .cell_display. It seems to work better:\n```  .scroll-list {\n    .cell_display {\n      height: 100%;\n      padding: 0;\n\n  > div {\n    margin-bottom: 10px;\n    margin-top: 10px;\n  }\n}\n\n}\n```\n\nHow do you think?\n. ",
    "adrianoesch": "i just watched this talk by bret victors on youtube where he outlines a very compelling argument for instant feedback. from what i've read in this atlantic long-read he was also an inspiration for LightTable. in one of his demos he has a side by side view, which reminded me very much of hydrogen. apart from the fact that it's not side by side and not instantaneous. so i was wondering how much it would take, to get even a little closer to that experience. i'd guess that the loops etc are probably not that easy, but the side by side view and and instant feedback might be feasible, don't you think so? is it possible already? figured this thread might get have the same goal, but not sure.\nthank you anyway, love your work! . That was it, thanks a lot @BenRussert!. ",
    "catethos": "Thanks @lgeiger !. ",
    "SamaelChen": "I've upgraded Atom to 1.20.0 the blank space disappeared, but I still cannot scroll the window. @lgeiger . @BenRussert The second case was fixed in Atom v1.20.0. Thanks.. ",
    "aseyffert": "That's quite unfortunate. I see this issue (atom/atom#11838) has been around for quite some time. I guess this is me joining the queue waiting for it to get resolved... :neutral_face: \nThanks for the feedback! :smiley:. ",
    "dmarx": "I was getting the same error and managed to resolve it while writing up my observations! Rubber duck debugging with Github Issues! \nIn the Hydrogen settings config, this was what I had for my kernelspec string (I think I might've modified the resource_dir from it's original setting as part of my original attempt to fix to this error):\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/anaconda/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"python3\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}\nAnd this is what I had when running the jupyter command in my console:\n{\n  \"kernelspecs\": {\n    \"python\": {\n      \"resource_dir\": \"/Users/davimarx/Library/Jupyter/kernels/python\",\n      \"spec\": {\n        \"argv\": [\n          \"/anaconda/bin/python3\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    },\n    \"python3\": {\n      \"resource_dir\": \"/Users/davimarx/Library/Jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/anaconda/bin/python3\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\"\n      }\n    }\n  }\n}\nI was able to get Hydrogen working properly by pasting the output from jupyter kernelspec list --json into the kernelspec setting in the Hydrogen configuration pane. \n\nFor posterity (and maybe to help googlers find their way here), here're the errors I saw in the developer console:\nwarning: /bin/false -ilc \"command env\" failed with signal (undefined)\n<embedded>:16263 Error: spawn /bin/false ENOENT\n    at exports._errnoException (util.js:1022:11)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32)\n    at onErrorNT (internal/child_process.js:359:16)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\n<embedded>:16262 warning: /bin/false -ilc \"command env\" failed with signal (undefined)\n<embedded>:16263 Error: spawn /bin/false ENOENT\n    at exports._errnoException (util.js:1022:11)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32)\n    at onErrorNT (internal/child_process.js:359:16)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\nevents.js:160 Uncaught Error: spawn python3 ENOENT\n    at exports._errnoException (util.js:1022:11)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:193:32)\n    at onErrorNT (internal/child_process.js:359:16)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\n<embedded>:16262 warning: /bin/false -ilc \"command env\" failed with signal (undefined)\n<embedded>:16263 Error: spawn /bin/false ENOENT\n    at exports._errnoException (util.js:1022)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:193)\n    at onErrorNT (internal/child_process.js:359)\n    at _combinedTickCallback (internal/process/next_tick.js:74)\n    at process._tickCallback (internal/process/next_tick.js:98)\nRelevant specs:\n macOS Sierra v10.12.6\n Atom 1.20.1 x64\n Hydrogen 1.23.0\n Python 3.6.1 is my default python interpreter via an anaconda installation (conda 4.3.27).. ",
    "giovannipbonin": "It's a local package, the ./ worked with the caveat that i also needed to add the parent directory to bundles \"static\", but this can be omitted when running the app that's why it wasn't added before. I'll close this.\nThanks. ",
    "csmith23": "I actually realized that I didn't add anaconda to my path when I reinstalled recently, but I added it and all is working now. ",
    "xanecs": "I'll try to fix this. Of course,\nIm just gettings started with atom packages but I'll see what I can do.. I've noticed that and did a second commit on my repo. Do you know why it doesn't show up in the pull request?\nEdit: It did now, perhaps it just takes time. ",
    "sigbjorngrini": "Thank you @lgeiger for the quick reply. I wasn't aware of that.  The point I wanted to make also is that they give different autocomplete options, but I realized now that this is an autocomplete-plus problem. This is what I get now with longer than 3 characters:\n\n\n. Yes they are, so it is autocomplete-python that doesn't show for the numpy case. Thank you. Anyhow it would be nice to have autocompletion for shorter that 3 characters for my use, but I understand that it may not be preferable for others.. @lgeiger Ok, I'll try fix this and send a PR.. Solved with #1054. Not sure how you want this to be written, but I added var minimumWordLength. It can be done without defining a new variable also.. Thanks, I can try to look at some solutions to issues, but my js skills are very limited.. What about display()?\n```Python\nimport pandas as pd\ndata = {'name': ['Jason', 'Molly', 'Tina', 'Jake', 'Amy'],\n        'year': [2012, 2012, 2013, 2014, 2014],\n        'reports': [4, 24, 31, 2, 3]}\ndf = pd.DataFrame(data)\nfrom IPython.display import display\ndisplay(df)\ndf\n```\n\n. ",
    "Eric2333": "I just upgraded my hydrogen from 1.19.something to 2.0.1. After I restart my Atom, and when I try to run some code with cmd + enter. I didn't see the error message above and nothing is responding. I tried those two commands. But everything is still the same - no response. Any clue? . I see. Thank you! @BenRussert . ",
    "Datseris": "Hm, maybe this happened due to the use prettier commit to the docs github page?. Currently I have to press so many buttons:\nFirst Ctrl Shift P, then \"Hydrogen Kernel\" then Click hydrogen connect to existing Kernel, then try to guess which one is the kernel I want, since the popup window is not wide enough to read the full path AND it is not scrollable with Atom Material theme (bug).. Same for me.\nOn 2 Nov 2017 18:28, \"Maximilian Roos\" notifications@github.com wrote:\n\nIs there a reason to have a kernel per file?\nThis makes my workflow much tougher - I'm copying and pasting code into a\nfile to run it in the existing kernel!\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1057#issuecomment-341497982,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASwgYd3BHCltUyLN4-2s6I1BFMkEcnJVks5syfusgaJpZM4P_FZb\n.\n. but it is not how Spyder works. For example I switched from spyder to atom.\n\nI am not asking to change the default, but at least giving me the option to\nrecover the behaviour I need should be really easy...\nOn 3 Nov 2017 05:01, \"Ben Russert\" notifications@github.com wrote:\n\nI think there is definitely a happy medium to be worked out on this as the\n2.0 release is only a couple weeks old. I still think independent kernels\nare most intuitive and should be the default, but I'm hoping ideas from\nthis thread result in making this better through config or other\nenhancements. I'm interested in working on that or helping anyone else who\nwants to contribute.\nIs there a reason to have a kernel per file?\nIn my opinion (and I think this is a matter or preference), the reason\neach file should start its own kernel by default is because if you want\nyour file to run outside of hydrogen, say in a script or an app, you'd have\nto pay attention to namespaces and what you import/require/using etc. It's\nalso how jupyter notebook works unless additional setup is done to connect\nto existing kernels.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1057#issuecomment-341618358,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ASwgYfUbtukZu-FQyGylrcuzfrWuCm66ks5sypARgaJpZM4P_FZb\n.\n. \n",
    "MikkelOJ": "Thanks a lot for your reply! It is very much appreciated!\nSorry for the very basic questions: \nIf I print(sys.version) inside hydrogen it gives me \n3.6.3 (v3.6.3:2c5fed86e0, Oct  3 2017, 00:32:08) \n[GCC 4.2.1 (Apple Inc. build 5666) (dot 3)]\nSo i guess that I should be running python 3.6, the same as the matplotlib location that I'm pointing to? \nAnd by the way, Hydrogen says it using Python 3, so i guess that's not the issue? \nThanks again. I remember that I created a Python 3.5 environment to install OpenCV3 on my Mac. Could that be related to this?\nThanks!. When i run the plot command, the console prints:\n\"Hydrogen: ZMQKernel: stdout: Intel MKL FATAL ERROR: Cannot load libmkl_intel_thread.dylib.\"\nIn the beginning, is also see two warnings:\n:119170 IntersectionObserver.observe(target): target element is not a descendant of root.\nTreeView @ :119170\n:21206 'Hydrogen.kernelspec' could not set the default. Attempted default: undefined; Schema: {}\nAny idea what could be wrong? Can i provide other information? \nThanks a lot for the help! I really appreciate it! \n. ",
    "dwolfschlaeger": "I'll have a look at that. . Short-term solution:\nThere is already a command \"Status Bar: Toggle\" for hiding and unhiding the status bar.\nAlternative solution:\nWe can provide a user option which defines whether the status bar is hidden by default using hydrogen. What do you think @lgeiger?\n. Added a bigger and a better gif as I noticed there was a part of \"Kap\" still visible.. ",
    "danielbayley": "@dwolfschlaeger I wasn't referring to the entire status bar! Packages shouldn't be interfering with that\u2026 I mean the option to hide the status bar item added by this package when a kernel is running\u2026. \n. > I don't know what side effects there might be\n@BenRussert All it does is add an extra class to the selector already under .status-bar; so I can't see how there could be any side effects\u2026 unless there is another package called hydrogen that puts things in the status bar with that class selector (and apm packages are namespaced\u2026)\n\nOr just make it more friendly to other status bar elements?\n\nIt changes absolutely nothing for Hydrogen\u2026 this is just so it will play nice with other packages that put things in the status bar. Everyone seems to use it as a dumping ground without any thought to what else is in there! The main reason for this PR is so Hydrogen doesn't mess up the order of thing in my status bar (using https://atom.io/packages/move-status-items).. ",
    "CellDynamics": "Indeed, it could be very useful feature bringing Hydrogen a bit closer to Spyder.  A simple checkbox in configuration that run silently Connect to existing kernel for each new file would be enough. . ",
    "suatatan": "I applied 'Checkout the list of keymaps' advice of @lgeiger  and it worked. Maybe another package caused the problem like @BenRussert. There was no version problem.. ",
    "crazypenguin": "save your untitled file as .py file\uff0cdoes it works\uff1f. ",
    "vader333": "Oh, thank you for that suggestion. Apparently, I don't have python-language-server, which is required for hydrogen to work. When I saved it as a py file, it gave me that error, so I installed it, and after that, it worked. Thanks again!. ",
    "pum-purum-pum-pum": "No :(. what can I do to help you detect the problem?. the problem dissapeared after I switched my keybinding for hydrogen inspector from alt-i to cntrl-i. But cntrl-i still crashes my autocomplete, that's crazy.. ",
    "msoedov": "Agreed with @rgbkrk , it should works by default . ",
    "WolfLo": "I am sorry for the ignorance @lgeiger  but...where do I find the language mapping settings please?. Thank you @lgeiger. I set it as languageMappings: { \"python\": \"magicpython\" }, as you suggested but I keep receiving the error \n\nNo kernel for grammar MagicPython found\n\nI am working in a virtualenv, calling Atom from within. Do you have any further suggestion? should the language mapping chenge in case I am using python3?\nTyping  python3 -m ipykernel install --user i get the following:\n\nInstalled kernelspec python3 in /home/lupol/.local/share/jupyter/kernels/python3. \n",
    "dsanalytics": "Can store.kernel.outputStore.clear() be mapped to a keyboard shortcut? If so, that would solve this PR-free.. Ben, once dock clear is successfully included in hydrogen:clear-results, what should my configs look like in order to combine clear results and execute cell in hydrogen in a single shortcut? See my starting point below - thx in advance.\ninit.coffee\natom.commands.add 'atom-text-editor', 'hydrogen:clear-results-run-cell', ->\n???\nkeymap.cson\n'.platform-win32 atom-text-editor:not([mini]), .platform-linux atom-text-editor:not([mini])':\n  'ctrl-alt-enter': 'hydrogen:clear-results-run-cell'\n. Thanks Ben - I'll check it out.\nAny ETA for this issue?. Thank you gentlemen! Atom seems to be fast becoming my primary platform for DS!. How long does it usually take to get package update in Atom through Install in Settings? No huge rush - just asking to learn about the process.. I think Ben's idea is better for being simpler and easier to implement I'd guess. Thanks Ben!. Pweave is supposed to render the entire file and not just execute one code block. Code block does execute, but how do I execute all code cells at once along with all markdown being properly rendered so that the entire file produces formatted rich text report?\nEven if I execute each code cell manually, markdown still doesn't render - so how does one initiate that part?\nIf you don't mind my asking, how did you generate md and 2 html files from pmd files provided on your example page? See the screenshot.\n\n. Related: https://github.com/atom/atom/issues/16061. My apologies to @mpastell - I removed the post made in ignorance.. @dnowacki-usgs - allow me to clarify: \n1) Copy to clipboard is only available when clock icon is active but not with list icon (the one next to it) - i.e. when all input is available on the screen, copying all of it to clipboard is not offered. Screenshot below.\n2) Only text seems to be copied - when output contains e.g. a matplotlib chart - ctrl-copy reports 'Nothing to copy'. Screenshot below.\nMy printing would need to include all output (list icon option) and print everything including matplotlib charts - just as shown on the screen. I hope this clarifies it - please let me know if you'd need any other explanation.\n\n\n. Atom did not prompt me to do that - can I just reinstall it with apm instead?\n. @jlewis91 - have you tried to just install with apm install ... vs apm rebuild?. @lgeiger so is this atom issue then? If so, can you get in touch with atom people and get them to reopen my ticket https://github.com/atom/atom/issues/16992 and take a look? Thanks.. @77QingLiu have you tried apm install hydrogen?. @lgeiger so is this hydrogen or atom issue? Do we know?. @Kriechi  , @jlewis91  can someone post an image showing rebuild button's GUI location - it seems that due to some bug in Atom it may be hidden unless you hover over it as one of you reported. Thanks.. @BenRussert - yes I can see it. Thanks for posting.\n\n. @77QingLiu based on the screenshots just posted, is that what you tried and didn't work?\nIf so, can you post the error message for atom|hydrogen people to see?\n. I'm looking to change font 1st and foremost - e.g. to fixed font so that formatted numbers line up nicely across rows.\nP.S. I could not find that font size option - screenshot would be appreciated.. Thanks. Handy option, but I'd need an option to change font too.. @sigbjorngrini - that's the thing - thanks!. @ethan92429 v2.4.1 has been released - when you get a chance, check for the issues you reported and let us know.. @hughcameron  No, because I use the other option for that one auto-scrolls till the end while the 1st one does not for some strange reason. \nSo, I wonder:\n1) why there's no Copy button for the 2nd option, and \n2) why the 1st option does not auto-scroll? \nAs you can see, it's catch-22 for me.\n\n. I don't understand why there are two views in the first place - other apps simply output to the same place and auto-scroll to the end - standard paradigm everywhere. What was the reason to have 2 views?. I'm in data science and not software development. I do work in python, but that's only for the purpose of data analysis and algorithmic modeling. The workflow I inquire about in Atom/Hydrogen is a standard workflow of a data scientist, nothing exotic or unusual.\nSo, please see what you can do, at least with those tickets that I see as one-liner-fixes, like auto-scroll to the end (#1312). Thanks in advance.. This has nothing to do with #1327. I do switch back and forth a lot in order to copy the entire content to clipboard, so I was just looking for a workaround until #1311 is implemented. In other words, I was hoping to have a shortcut to: switch view, copy to clipboard, and come back as a temp solution. Coming back to the list view is needed because of the issue described in #1312 - i.e. auto scroll not working in the 1st view.\nAs you can see, I have a lot of catch-22s here.. ",
    "Lokdal": "I would really like to see this implemented in Hydrogen. Unless there is a known workaround that I couldn't find already?. ",
    "moharsen": "I went to nteract and ran python -m pip install ipykernel. No difference in the results.\n\nIt seems the python 2 is getting selected no matter what. In the beginning, when I attempt a Ctrl+Enter on the first import line, I get to choose the kernel in the following screen:\n\nThe text in the lower left corner of the screen shows that Python 3 has been selected\n\nHowever, if I import platform and print platform.python_version() I still see Python 2.7.14 being used. \n\nNo wonder it can not find the modules installed with python 3.\n\nNo such problems with Jupyter notebooks using python 3:\n\n. @lgeiger That solved the problem. Thanks a lot.. ",
    "Goochimagne": "I got mine to work by using the conda install instead of python . ",
    "LannyFox": "Hi,\nI'm having the same issues on my windows machine. My Atom and and Hydrogen are both the most recent releases.\nAtom - 1.21.2\nHydrogen - 2.0.1\nI updated both yesterday and have been getting this error since then. I re-installed Hydrogen and Ipykernel and still have the same issue. I see from past threads that there used to be a kernelspec setting where you could direct hydrogen to the kernel but that seems to have been removed. Any ideas how to resolve this issue?\nThanks!. [Problem Solved]\nFor me the issue was solved when I added anaconda3 and anaconda3/Scripts to the PATH variable.\nHope this helps others as well!\n. ",
    "rafaveguim": "Same here.. ",
    "yangyang2000": "Same issues on Windows machine. ",
    "denismeia": "@lgeiger Thanks! I've tried everything and it looks like YOUR solution worked for me! I appreciate that.. ",
    "casperdcl": "restarting atom worked for me. ",
    "illpack": "The icon appears randomly.\nIf there is text output, sometimes it appears but 90% of the times does not. \nTested executing the same command that produces a line of text several times.\nCan it be that Hydrogen interprets this output not as text but as something else on certain occasions?\nThanks, . I am getting the same error.\nUpdated all my packages on Atom 1.23.1 x64 inside Windows 7, Hydrogen was working perfectly.\nAll packages updated. \nHydrogen failed to install, even from the command line as suggested. \nTraceback:\n```\nfs.js:640\n  return binding.open(pathModule._makeLong(path), stringToFlags(flags), mode);\n                 ^\nError: ENOENT: no such file or directory, open 'C:\\Users\\asdf.atom\\packages\\Hydrogen\\package.json'\n    at Error (native)\n    at Object.fs.openSync (fs.js:640:18)\n    at Proxy.fs.readFileSync (fs.js:508:33)\n    at Proxy.fs.readFileSync (C:\\Users\\asdf\\AppData\\Local\\atom\\app-1.23.1\\resources\\app\\apm\\node_modules\\asar-require\\lib\\require.js:86:27)\n    at C:\\Users\\asdf\\AppData\\Local\\atom\\app-1.23.1\\resources\\app\\apm\\lib\\install.js:476:42\n    at fn (C:\\Users\\asdf\\AppData\\Local\\atom\\app-1.23.1\\resources\\app\\apm\\node_modules\\async\\lib\\async.js:582:34)\n    at Immediate. (C:\\Users\\asdf\\AppData\\Local\\atom\\app-1.23.1\\resources\\app\\apm\\node_modules\\async\\lib\\async.js:498:34)\n    at runCallback (timers.js:649:20)\n    at tryOnImmediate (timers.js:622:5)\n    at processImmediate [as _immediateCallback] (timers.js:594:5)\n```\nAny hints?\nThanks,. Looks fixed and working!\nThanks!. ",
    "Elias427": "Thank you for your support. I reinstalled my jupyter kernel in the same way I did before and for some reason this solved the issue. . ",
    "Fartown": "i met the same question.\nbut the solution can not work.\nAtom    : 1.26.1\nElectron: 1.7.11\nChrome  : 58.0.3029.110\nNode    : 7.9.0\nHydrogen :2.4.1\nmodule.js:549 throw err; ^\nError: Cannot find module '../build/Release/zmq.node' at Function.Module._resolveFilename (module.js:547:15) at Function.Module._load (module.js:474:25) at Module.require (module.js:596:17) at require (internal/module.js:11:18) at Object. (/Users/zchao/.nvm/versions/node/v8.10.0/lib/node_modules/ijavascript/node_modules/zeromq/lib/index.js:6:11) at Module._compile (module.js:652:30) at Object.Module._extensions..js (module.js:663:10) at Module.load (module.js:565:32) at tryModuleLoad (module.js:505:12) at Function.Module._load (module.js:497:3). ",
    "dayvidwesley": "Thank you, solved. ",
    "6ubLunbI": "For those who may suffer from the same issue, just downgrade your atom from 1.22 to 1.21 and downgrade your hydrogen to 1.23.0, everything just work fine then.. Thanks, I do not realize it need to be saved, which works previously.. ",
    "randomstuff": "I had a similar problem when trying to use a kernel from a venv. Hydrogen apparently does not lookup kernels in the current venv (which kind-of make sense) and I needed to do:\nJUPYTER_PATH=/path/to/my/venv/share/jupyter\n\nIf you do not want to install the kernel in --user, you might want to use something similar:\nJUPYTER_PATH=/Users/Jeppe/anaconda/share/jupyter\n\n. ",
    "pascalsiemsen": "Just wanted to back this up. That feature would be awesome when working with two screens. And yes, thanks for the package anyway (just switched from Sublime because of this great package (and the really slow Sublime R REPL)).. Updating \"stringi\" in R has solved the issue.. ",
    "ffinger": "It looks like other packages have found a way to use separate windows:\nhttps://github.com/atom-community/markdown-preview-plus/pull/385\nhttps://github.com/atom-community/markdown-preview-plus/issues/36\nCould the same thing be done for hydrogen output and hydrogen inspector panes?. ",
    "Jogala": "Would be really useful!. I would suggest an other, maybe easier approach: \nWould it be possible to redirect the output to an other external terminal that is connected to the same kernel? I already asked that question on the hydrogen-launcher site.. What do you exactly mean by that? The  colours? I am using the gnome3 terminal and it looks pretty good. Isn't that a very common one?. I guess you mean Settings->Startup Code.  I had tried that but had no success with the syntax. \nHow would the above example look like if using the \"hydrogen Startup Code\"?\n. Sorry but what is the exact syntax that is accepted by Startup Code? I tried:\n{\"Python3\": %run ~/output_python/start_up_script.py}\nand \n{%run ~/output_python/start_up_script.py}\nbut got the error\nYour Hydrogen config is broken: startupCode\nSyntaxError: Unexpected token % in JSON at position .... {\"Python 3\" : \"%run ~/output_python/start_up_script.py\"}\nworked!!! Wuuuh!! . And the name of the field does not matter? I chose \"Python 3\" because I saw it in the above example. But could I really choose just anything or what is the logic behind that name?\nThanks a lot!. According to this stackoverflow answer there is no point in repeating JSON keys, but one needs to pass an array as value.\nHence I tried:\n{\"Python 3\" : [\"%matplotlib qt\",\"%run ~/output_python/start_up_script.py\"]}\nBut it does not work. Non of the two commands gets executed.. Thanks a lot @kylebarron ! \n{\"Python 3\" : \"%run ~/output_python/start_up_script.py\\n%matplotlib qt\"} \nworked! Do you have an idea why adding it to the start_up_script.py did not work? It looks like%runcan not execute %matplotlib.. That is what I did and it works (the order does not matter as it is two lines of code, I guess that is the point you wanted to emphasize). But what I ment is that if you write %matplotlib qt into start_up_script.py  which is executed by %run, then it does not work.\nMore precise, %run start_up_script.py seems not to get executed at all but the whole process does not throw any error message. . Ja that is what it looks like, it is also not working with \nexec(open(\"~/output_python/start_up_script.py\").read())\nStrange... I mean one can use it anywhere when directly executing the script that contains the magic command, but you can not execute a script that contains magic from an other script. \nBut Ok... an other ipython sublety. \n. ",
    "skywinder": "It seems it works. DIdn't know that I can't do that via atom visual interface. Thanks for the help! \ud83d\udc4d . ",
    "guiguan": "Same here. Couldn't install via UI. ",
    "dharamsk": "The file was saved with one line in it and the kernel had been instantiated prior to that one line save. \nI attempted to click on the bottom left of the window where is says \"Python 2: Busy\". The entire window was unresponsive. I could open a new window and use that, but the original window was unsalvageable (I waited a long time to see if it would respond before killing it). . no, it was supposed to continue the loop until a variable was defined. Like this: \nsome_var = None\nwhile not some_var:\n    i -= 1\n    if i == 100:\n         some_var = 'some string'\nIt wasn't exactly that, but similar in that it was fast iteration and would never succeed. I think the issue is that while the kernel is busy processing the infinite loop, the entire window in atom freezes. You can't cmd-shift-p or anything like that. The only solution is to completely kill the program and hopefully you saved your work \ud83d\ude2c . I can take a video of this if you can't repro. ",
    "DannyDannyDanny": "SOLVED\n~~any updates on this? here's my little example:~~\n. ",
    "wulidongdong": "Thanks for response! and sorry about missing this description.\n print('hello world') in python3.6. ",
    "rafaelgm": "Same thing happens here. What is weird is my PC at work is fine (copy/paste works properly), but my PC at home has the same issue as the OP's.\nAlso if the ouput is multiline, my PC at work displays the copy button (and works properly), but my PC at home doesn't.\nPC at work:\n\nPC at home:\n\nBoth computers are running Windows 10, same Anaconda distribution (Python 3 64bits), and the hardware is very similar (both i7 16GB RAM). Also both are running the latest version of Hydrogen (2.1.0) and Atom (1.22.1).\nI've already tried uninstalling Atom, removing the %USERPROFILE%\\.atom folder and reinstalling it again, with no success.\nMy Atom installation is quite clean (I only use 5 packages: Hydrogen, atom-beautify, autocomplete-python, python-indent and python-tools)\nIf I discover a workaround I'll post it here. Feel free to contact me here to perform any sort of test.. Well, I was able to pinpoint and fix the problem here.\nAs I mentioned above about having two machines, one working, one not working, I did this:\n\n\nCopied the %USERPROFILE%\\.atom\\packages\\Hydrogen folder from my work PC to my home PC, and now the copy/paste feature works (both the single line output and multiline, where the copy button reappeared)\n\n\nI restored the original folder and then compared this folder with the one from work and noted there were many differences (but on both folders, package.json had \"version\": \"2.1.0\".\n\n\nThrough a careful process on replacing/undo replacing the different files (binary search helped here lol), I was able to find the critical difference in this file:\n\n\n\n%USERPROFILE%\\.atom\\packages\\Hydrogen\\node_modules\\@nteract\\display-area\\lib\\display.js\n\n\nOn the left is my version, and on the right is the version running on my work PC. If I transfer those yellow lines to my version and save, the problem disappears.\n\n\nThe package display-area here was version 3.1.0, and at work it was version 3.0.2 (looking at display-area\\package.json). For some reason those lines were deleted on the new version and this feature stopped working.\nThe mystery now (for me) is why the versions on my two computers are different. \ud83d\ude01. ",
    "renec112": "Thank you very much @lgeiger ! somehow pprints messes things up.\nHave experinced this error before?\n\nNow the latex isn't being rendered, but python understands it's latex.. I tried updating miktex and installed mathjax.. No luck :/. Thank you @lgeiger  i really appreciate your suggestions. This is what i get, same error in a brand new file:\n\n. Atom version:\n1.22.1\nHydrogen version:\n2.10\nSympy version:\n1.1.1. Do you have any ideas i could try @lgeiger? I would very much  appreciate your tips\nedit i tried uninstalling and re-installing, it made no difference. Thank you @lgeiger.\nThis is the output from hydrogen:\n\nAnd running this in jupyter notebook is no problem:\n\nstrangely i tried installing everything on another computer, and it worked like a charm\n. ah i found the error!\napparently my package:\nLatex: preview-inline blocks between $$ and $$. I thought this package only worked on .tex files, and was disabled on .py files. \n@lgeiger  Thank you very much for your help. Checking error messages as you suggested, and seeing the kite package throwing many errors, made me disable all packages too see if it made a difference :) !. ",
    "tribbloid": "@renec112 good discovery, my tests suggest that it also affects hydrogen. ",
    "jbsldn75": "@lgeiger \nThanks for the link.  Going back to the Arch wiki, it says to install a number of specific apm packages to make sure atom plays nice with Arch.  I didn't see this before.  Thanks for directing me to that.  For those having a problem installing hydrogen using apm in Arch, be sure you have the relevant atom packages identified on the wiki.\nAfter installing the packages recommended on the wiki I was able to install hydrogen.  However, \nI still have the error:\n(node:10598) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpdir() instead.\nright before. May have to look elsewhere to have it solved.   . ",
    "Kamik423": "Shebang should be pretty language agnostic. And then just ignore any input you do not understand as to not try and use the language \u201eCreate by ...\u201c. ",
    "yuchaz": "By canceling the background-color in developer tool, it solve this problem. Thanks a lot :)\n\nIs there any workaround I can use to solve this problem without opening the dev tool? (e.g. adding some snippets when starting up or somethings). Sorry for not really familiar with CSS syntax. \nThank you!. ",
    "Houkime": "Yep, this works.. ",
    "yunusemrecan": "Creating a new kernel with ipython kernel install --user --name \"kernel_name\" in venv works for me. When hydrogen asks, just select the kernel. PS: I also installed jupyter module in venv but I am not sure is it necessary or not.. ",
    "jzf2101": "Should https://github.com/nteract/nteract.io/pull/42 fix this?. ",
    "deerlord": "This looks like a serious misconfiguration with Jupyter. Despite having installed under python3, the kernel is set to call python2 (/usr/bin/python). Updating this manually in kernel.json solved the issue. . ",
    "DerektheDev": "I tried apm install hydrogen (lowercase), and it worked.. ",
    "tonydero": "@kylebarron Installing with lowercase apm install hydrogen and then restarting Atom got it to work and show in the command palette in Ubuntu 16.04 LTS for me.. ",
    "DoblDon": "Worked!Thanks for prompt reply.\nSent from Yahoo Mail. Get the app \nOn Tuesday, December 12, 2017, 3:42:31 PM EST, Lukas Geiger <notifications@github.com> wrote:\n\nPlease try installing it from the command line via apm install hydrogen\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n    . ",
    "HenrikEckermann": "Hydrogen + pweave +snippets in Atom = AWESOME!!!. now it works again....Maybe it was my fault but I did not change anything. Just tried again and it worked (before it did not work 5-6 times.... ",
    "benmak11": "I got the same error as well... Anyone looking into this?. ",
    "Chestergc": "That solved it for me as well, weird that when I checked for the file it mentioned it was clearly there and populated at the time of the error. The log I got for the error was the same as yours, besides the username obviously.. ",
    "cdarlint": "same here, and solved by apm as well. ",
    "black-snow": "apm install hydrogen worked .... ",
    "HaoyangFan": "Sorry, I just find out that this issue is duplicate to #1151 #1150, and I solve this issue using the same way by running apm install hydrogen . ",
    "olegantonyan": "Thank you @BenRussert \nIt works on py files, I can hit ctrl+enter and it will print the output (just like Avdi has in his emacs https://www.rubytapas.com/)\nHowever, what I actually want is to use atom (or any other editor) instead of jupyter notebook web ui to work with ipynb files. Is this doable with hydrogen?. ",
    "scriptjs": "I'm sorry, could you please clarify. I believed the mapping to mean one kernel to one language grammer in Atom. The settings make that explicit. I don't understand how I am getting an implicit mapping to two kernels. There is nothing in the settings that would make a one to one mapping more explicit and the implicit behaviour is confusing.. ",
    "selfagency": "Thanks.. Duplicate of #1150.. that worked! thanks.. ",
    "ctivanovich": "Ah, this seems to have been noted in the documentation, and installing via command line is still possible,\n as noted here (https://nteract.gitbooks.io/hydrogen/docs/Installation.html). ",
    "Rutrus": "Solution:\n1. Edit /usr/local/share/jupyter/kernels/python3/kernel.json\n2. In line 3: Replace python with python3\n3. Restart ATOM (not only the plugin)\nResult:\n{\n \"argv\": [\n  \"python3\",\n  \"-m\",\n  \"ipykernel_launcher\",\n  \"-f\",\n  \"{connection_file}\"\n ],\n \"display_name\": \"Python 3\",\n \"language\": \"python\"\n}\nExplanation:\npython command always points to python2. ",
    "mlgarchery": "If it could help anyone:\nI was in an anaconda environment, the kernel.json file was in \"anaconda3/envs//share/jupyter/kernels/python3\".\nDon't forget to launch atom after you activated the env:\n$ source activate name_of_the_env\n$ atom. ",
    "Putnik1": "Thanks, it of course works now :). ",
    "MarkPuchalaII": "For clarity, updating to Atom 1.23.2 allowed Hydrogen to install no problem,\nso I assume that's where the bug is.. ",
    "DoaneAS": "Hi,  \nI'm also having the same issue, and have followed much the same process as above.  \n@hrishikeshac one thing you can try is to verify that the ssh tunnel is working, by going to http://localhost:7777 in a browser.  This works for me (using a port 9999), but I'm having the same error about no kernel specs available.\nCan anyone suggest how to debug this?   Seems like I may need to provide atom/hydrogen more information from the server kernelspec, but I'm not clear how to go about doing this.. Thanks @nikitakit, having a python script open in atom, as well as using jupyter kernelgateway package on my remote server, fixed the problem and I was able to connect to a python2 or python3 kernel on the remote server.  \nBefore using jupyter kernelgateway, I was using jupyter notebook or jupyter lab, with the port and token defined in the respective config file on the remote server.  I also reinstalled atom. \nThanks for the helpful suggestion.. ",
    "jkroes": "@DoaneAS Your use of kernel_gateway was the only documented way I have found to use Hydrogen with a remote kernel. . The problem persists with a non-development instance of Atom and a newly installed Hydrogen package. Any additional information that might be helpful here?. Uninstalling hydrogen-python produced a different error message:\n:11 'Hydrogen.kernelspec' could not set the default. Attempted default: undefined; Schema: {}\nsetDefaults @ :11\nC:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:179 Error: Minified React error #130; visit https://reactjs.org/docs/error-decoder.html?invariant=130&args[]=object&args[]= for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \n    at ca (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:13:316)\n    at t (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:14:166)\n    at $e (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:117:40)\n    at C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:150:81\n    at P (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:154:38)\n    at yg (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:171:94)\n    at fh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:204:22)\n    at gh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:205:274)\n    at Jh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:220:348)\n    at Kh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:219:144)\n    at nh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:216:261)\n    at Tf (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:214:85)\n    at Qh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233:14)\n    at Rh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233:92)\n    at Xh.render (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:241:109)\n    at C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244:417\n    at Oh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:231:234)\n    at $h (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244:350)\n    at Object.render (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:246:329)\n    at reactFactory (file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/utils.js:24:12)\n    at new WatchesPane (file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/panes/watches.js:18:5)\n    at file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/main.js:212:20\n    at Workspace.createItemForURI (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:430067)\n    at Workspace.open (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:427925)\n    at Workspace.toggle (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:429374)\n    at HTMLElement.hydrogenToggleWatches (file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/main.js:111:57)\n    at CommandRegistry.handleCommandEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:347327)\n    at Object.didConfirmSelection (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:690277)\n    at SelectListView.confirmSelection (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:855336)\n    at HTMLDivElement.core:confirm (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:850215)\n    at CommandRegistry.handleCommandEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:347327)\n    at KeymapManager.t.exports.KeymapManager.dispatchCommandEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:1227611)\n    at KeymapManager.t.exports.KeymapManager.handleKeyboardEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:1223745)\n    at WindowEventHandler.handleDocumentKeyEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:282763)\nHg @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:179\nPg.c.callback @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:190\nuf @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:128\ntf @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:128\nMh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:229\nJh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:220\nKh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:219\nnh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:216\nTf @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:214\nQh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233\nRh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233\nXh.render @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:241\n(anonymous) @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244\nOh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:231\n$h @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244\nrender @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:246\nreactFactory @ utils.js:24\nWatchesPane @ watches.js:18\n(anonymous) @ main.js:212\ncreateItemForURI @ VM22 :11\nopen @ VM22 :11\ntoggle @ VM22 :11\nhydrogenToggleWatches @ main.js:111\nhandleCommandEvent @ VM22 :11\ndidConfirmSelection @ VM22 :11\nconfirmSelection @ VM22 :11\ncore:confirm @ VM22 :11\nhandleCommandEvent @ VM22 :11\nt.exports.KeymapManager.dispatchCommandEvent @ VM22 :11\nt.exports.KeymapManager.handleKeyboardEvent @ VM22 :11\nhandleDocumentKeyEvent @ VM22 :11\nC:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:13 Uncaught (in promise) Error: Minified React error #130; visit https://reactjs.org/docs/error-decoder.html?invariant=130&args[]=object&args[]= for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \n    at ca (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:13:316)\n    at t (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:14:166)\n    at $e (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:117:40)\n    at C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:150:81\n    at P (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:154:38)\n    at yg (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:171:94)\n    at fh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:204:22)\n    at gh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:205:274)\n    at Jh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:220:348)\n    at Kh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:219:144)\n    at nh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:216:261)\n    at Tf (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:214:85)\n    at Qh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233:14)\n    at Rh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233:92)\n    at Xh.render (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:241:109)\n    at C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244:417\n    at Oh (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:231:234)\n    at $h (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244:350)\n    at Object.render (C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:246:329)\n    at reactFactory (file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/utils.js:24:12)\n    at new WatchesPane (file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/panes/watches.js:18:5)\n    at file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/main.js:212:20\n    at Workspace.createItemForURI (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:430067)\n    at Workspace.open (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:427925)\n    at Workspace.toggle (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:429374)\n    at HTMLElement.hydrogenToggleWatches (file:///C:/Users/jkroes/.atom/packages/Hydrogen/lib/main.js:111:57)\n    at CommandRegistry.handleCommandEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:347327)\n    at Object.didConfirmSelection (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:690277)\n    at SelectListView.confirmSelection (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:855336)\n    at HTMLDivElement.core:confirm (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:850215)\n    at CommandRegistry.handleCommandEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:347327)\n    at KeymapManager.t.exports.KeymapManager.dispatchCommandEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:1227611)\n    at KeymapManager.t.exports.KeymapManager.handleKeyboardEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:1223745)\n    at WindowEventHandler.handleDocumentKeyEvent (C:\\Users\\jkroes\\AppData\\Local\\atom\\app-1.32.2\\resources\\app\\static\\:11:282763)\nca @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:13\nt @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:14\n$e @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:117\n(anonymous) @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:150\nP @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:154\nyg @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:171\nfh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:204\ngh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:205\nJh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:220\nKh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:219\nnh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:216\nTf @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:214\nQh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233\nRh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:233\nXh.render @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:241\n(anonymous) @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244\nOh @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:231\n$h @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:244\nrender @ C:\\Users\\jkroes.atom\\packages\\Hydrogen\\node_modules\\react-dom\\cjs\\react-dom.production.min.js:246\nreactFactory @ utils.js:24\nWatchesPane @ watches.js:18\n(anonymous) @ main.js:212\ncreateItemForURI @ VM22 :11\nopen @ VM22 :11\ntoggle @ VM22 :11\nhydrogenToggleWatches @ main.js:111\nhandleCommandEvent @ VM22 :11\ndidConfirmSelection @ VM22 :11\nconfirmSelection @ VM22 :11\ncore:confirm @ VM22 :11\nhandleCommandEvent @ VM22 :11\nt.exports.KeymapManager.dispatchCommandEvent @ VM22 :11\nt.exports.KeymapManager.handleKeyboardEvent @ VM22 :11\nhandleDocumentKeyEvent @ VM22 :11\nPromise rejected (async)\nhandleCommandEvent @ VM22 :11\ndidConfirmSelection @ VM22 :11\nconfirmSelection @ VM22 :11\ncore:confirm @ VM22 :11\nhandleCommandEvent @ VM22 :11\nt.exports.KeymapManager.dispatchCommandEvent @ VM22 :11\nt.exports.KeymapManager.handleKeyboardEvent @ VM22 :11\nhandleDocumentKeyEvent @ VM22 :11\n. I don't see a gif above.\nI guess what I'm wondering about is how bubbles are used, and what functionality they offer above and beyond restarting a kernel and then Hydrogen: Run. When I toggle bubbles and restart-kernel-and-re-evaluate-bubbles, it seems like non-bubble code is also run. . ",
    "KirkHadley": "Hey folks just wanted to document that I just got this error trying to connect to a remote jupyter notebook server NotebookApp.token = '<generated' (i.e. default, require a token) and got things to work simply by opening a .py file in atom and attempting the remote kernel connect process a second time. Perhaps no need to change over to jupyer kernelgateway and/or run an insecure notebook server?. ",
    "zachlipp": "Is there any movement on this? I've been a big fan of hydrogen but haven't been able to use it for months. ",
    "zzz123xyz": "run the jupyter notebook with the --ip=full ip address of your server. Then just fill the full ip address of your server:port and write all the specs in a single line in the kernel gateways blank. Then it works. ",
    "Doekeb": "Output of \"jupyter kernelspec list --json\":\n\nFigured out what was wrong, but for posterity:\nNeeded {\"language\": \"sage\"} instead of {\"language\": \"\"} so I added the entry {\"language\": \"sage\"} in /path/to/kernel/kernel.json. Everything works now!. ",
    "jeffgreenca": "@lgeiger thanks for the offer, at this time I can't commit to routine availability though.  I'll be happy to contribute as I have opportunity thru PRs.. ",
    "SteveBronder": "Yep! apologies and ty. ",
    "tweakimp": "You were right, thanks. I feel like automatic reloading of modules should be an option though.. ",
    "OscarSouth": "Apologies, I already found the cause:\nI had named the .py 'testing' file in my Atom projects folder 'py2neo.py' and this was the cause of the problem.  After renaming this file, the library imports without issue.. ",
    "kashuk": "Any update on this? Thanks!. Thanks Kyle for your prompt reply. I am new to Hydrogen so might miss something here. In Jupiter Notebook, when I write \"/U\" and tab it will autocomplete to \"/Users\" but when I do it In Hydrogen, I have to write \"/Use\" and then it will give me a couple of options including the \"/User\" but not as the first option. If that is what I suppose to get then that is okay. I just wanted to double check. Thanks again!\n. Great! I already changed it and it feels much better. Thanks for the tip! here is the screenshot:\n\n. ",
    "hjlgood": "Fixed by removing .atom folder and reinstalling atom. type the following\n1) mv ~/.atom ~/.atom-backup\n2) sudo apt-get purge atom\n3) sudo apt-get install atom\n4) install hydrogen from 'settings' menu. also try the following if the above solution does not fix the problem\napm rebuild\napm install hydrogen. ",
    "yjhung": "I am getting this same error on linux mint but the steps above did not work for me. Were there any permissions that you have to change?\nLogs\n\ncanvas@1.6.9 install /tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/canvas\nnode-gyp rebuild\ncanvas-prebuilt@1.6.0 install /tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/canvas-prebuilt\nnode-pre-gyp install\n\n404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\n\nzeromq@4.6.0 install /tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\n/bin/sh: 1: prebuild-install: Permission denied\nBuilding libzmq for linux\n/tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor\n\u2514\u2500\u2500 (empty)\ngyp ERR! configure error \ngyp ERR! stack Error: Python executable \"/usr/share/atom/resources/app/apm/bin/python-interceptor.sh\" is v3.6.4, which is not supported by gyp.\ngyp ERR! stack You can pass the --python switch to point to Python >= v2.5.0 & < 3.0.0.\ngyp ERR! stack     at failPythonVersion (/usr/share/atom/resources/app/apm/node_modules/node-gyp/lib/configure.js:454:14)\ngyp ERR! stack     at /usr/share/atom/resources/app/apm/node_modules/node-gyp/lib/configure.js:443:9\ngyp ERR! stack     at ChildProcess.exithandler (child_process.js:197:7)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at maybeClose (internal/child_process.js:877:16)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5)\ngyp ERR! System Linux 4.4.0-112-generic\ngyp ERR! command \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/.bin/node-gyp\" \"rebuild\"\ngyp ERR! cwd /tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok \nnode-pre-gyp ERR! install error \nnode-pre-gyp ERR! stack Error: 404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\nnode-pre-gyp ERR! stack     at Request. (/usr/local/lib/node_modules/node-pre-gyp/lib/install.js:118:27)\nnode-pre-gyp ERR! stack     at emitOne (events.js:101:20)\nnode-pre-gyp ERR! stack     at Request.emit (events.js:188:7)\nnode-pre-gyp ERR! stack     at Request.onRequestResponse (/usr/local/lib/node_modules/node-pre-gyp/node_modules/request/request.js:1074:10)\nnode-pre-gyp ERR! stack     at emitOne (events.js:96:13)\nnode-pre-gyp ERR! stack     at ClientRequest.emit (events.js:188:7)\nnode-pre-gyp ERR! stack     at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:474:21)\nnode-pre-gyp ERR! stack     at HTTPParser.parserOnHeadersComplete (_http_common.js:99:23)\nnode-pre-gyp ERR! stack     at TLSSocket.socketOnData (_http_client.js:363:20)\nnode-pre-gyp ERR! stack     at emitOne (events.js:96:13)\nnode-pre-gyp ERR! System Linux 4.4.0-112-generic\nnode-pre-gyp ERR! command \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/local/bin/node-pre-gyp\" \"install\"\nnode-pre-gyp ERR! cwd /tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/canvas-prebuilt\nnode-pre-gyp ERR! node -v v6.9.5\nnode-pre-gyp ERR! node-pre-gyp -v v0.6.39\nnode-pre-gyp ERR! not ok \ninternal/child_process.js:313\n    throw errnoException(err, 'spawn');\n    ^\nError: spawn EACCES\n    at exports._errnoException (util.js:1022:11)\n    at ChildProcess.spawn (internal/child_process.js:313:11)\n    at exports.spawn (child_process.js:380:9)\n    at buildZMQ (/tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/zeromq/scripts/preinstall.js:17:15)\n    at IncomingMessage. (/tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/node_modules/Hydrogen/node_modules/zeromq/scripts/preinstall.js:106:5)\n    at emitNone (events.js:91:20)\n    at IncomingMessage.emit (events.js:185:7)\n    at endReadableNT (_stream_readable.js:974:12)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\nnpm WARN enoent ENOENT: no such file or directory, open '/tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-11811-23884-q37t7h.7hqa9ssjor No description\nnpm WARN apm-install-dir-11811-23884-q37t7h.7hqa9ssjor No repository field.\nnpm WARN apm-install-dir-11811-23884-q37t7h.7hqa9ssjor No README data\nnpm WARN apm-install-dir-11811-23884-q37t7h.7hqa9ssjor No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.9 (node_modules/Hydrogen/node_modules/canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.9 install: node-gyp rebuild\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas-prebuilt@1.6.0 (node_modules/Hydrogen/node_modules/canvas-prebuilt):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas-prebuilt@1.6.0 install: node-pre-gyp install\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Linux 4.4.0-112-generic\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/joseph/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/joseph/.atom/.apmrc\" \"install\" \"/tmp/d-11811-23884-z9vpsn.9p8rara4i/package.tgz\" \"--runtime=electron\" \"--target=1.6.15\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-11811-23884-q37t7h.7hqa9ssjor/npm-debug.log\nnpm ERR! code 1. Thanks for the quick response! Sorry, my mistake when sending the logs. I have been developing on version python 3.6 and forgot i was in that specific environment when reproducing the error.\nI have followed the guide previously using python 2.7, but the end result is the same. I am not sure if this is related since there is a 404 error code when it was fetching a package?\n404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\nThanks again!\nLogs\n$ python --version\nPython 2.7.12\n$ apm install hydrogen\nInstalling hydrogen to /home/jh/.atom/packages \u2717\n\ncanvas@1.6.9 install /tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/canvas\nnode-gyp rebuild\ncanvas-prebuilt@1.6.0 install /tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/canvas-prebuilt\nnode-pre-gyp install\n\n404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\n\nzeromq@4.6.0 install /tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\n/bin/sh: 1: prebuild-install: Permission denied\nBuilding libzmq for linux\n/tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi\n\u2514\u2500\u2500 (empty)\n/bin/sh: 1: ./util/has_lib.sh: Permission denied\ngyp: Call to './util/has_lib.sh freetype' returned exit status 126 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/usr/share/atom/resources/app/apm/node_modules/node-gyp/lib/configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Linux 4.4.0-112-generic\ngyp ERR! command \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/.bin/node-gyp\" \"rebuild\"\ngyp ERR! cwd /tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok \nnode-pre-gyp ERR! install error \nnode-pre-gyp ERR! stack Error: 404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\nnode-pre-gyp ERR! stack     at Request. (/usr/local/lib/node_modules/node-pre-gyp/lib/install.js:118:27)\nnode-pre-gyp ERR! stack     at emitOne (events.js:101:20)\nnode-pre-gyp ERR! stack     at Request.emit (events.js:188:7)\nnode-pre-gyp ERR! stack     at Request.onRequestResponse (/usr/local/lib/node_modules/node-pre-gyp/node_modules/request/request.js:1074:10)\nnode-pre-gyp ERR! stack     at emitOne (events.js:96:13)\nnode-pre-gyp ERR! stack     at ClientRequest.emit (events.js:188:7)\nnode-pre-gyp ERR! stack     at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:474:21)\nnode-pre-gyp ERR! stack     at HTTPParser.parserOnHeadersComplete (_http_common.js:99:23)\nnode-pre-gyp ERR! stack     at TLSSocket.socketOnData (_http_client.js:363:20)\nnode-pre-gyp ERR! stack     at emitOne (events.js:96:13)\nnode-pre-gyp ERR! System Linux 4.4.0-112-generic\nnode-pre-gyp ERR! command \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/local/bin/node-pre-gyp\" \"install\"\nnode-pre-gyp ERR! cwd /tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/canvas-prebuilt\nnode-pre-gyp ERR! node -v v6.9.5\nnode-pre-gyp ERR! node-pre-gyp -v v0.6.39\nnode-pre-gyp ERR! not ok \ninternal/child_process.js:313\n    throw errnoException(err, 'spawn');\n    ^\nError: spawn EACCES\n    at exports._errnoException (util.js:1022:11)\n    at ChildProcess.spawn (internal/child_process.js:313:11)\n    at exports.spawn (child_process.js:380:9)\n    at buildZMQ (/tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/zeromq/scripts/preinstall.js:17:15)\n    at IncomingMessage. (/tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/node_modules/Hydrogen/node_modules/zeromq/scripts/preinstall.js:106:5)\n    at emitNone (events.js:91:20)\n    at IncomingMessage.emit (events.js:185:7)\n    at endReadableNT (_stream_readable.js:974:12)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\nnpm WARN enoent ENOENT: no such file or directory, open '/tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi No description\nnpm WARN apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi No repository field.\nnpm WARN apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi No README data\nnpm WARN apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.9 (node_modules/Hydrogen/node_modules/canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.9 install: node-gyp rebuild\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas-prebuilt@1.6.0 (node_modules/Hydrogen/node_modules/canvas-prebuilt):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas-prebuilt@1.6.0 install: node-pre-gyp install\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Linux 4.4.0-112-generic\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/joseph/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/joseph/.atom/.apmrc\" \"install\" \"/tmp/d-11811-21483-1g06b2w.tnk22tvs4i/package.tgz\" \"--runtime=electron\" \"--target=1.6.15\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-11811-21483-1duxhrm.zhnse5ewmi/npm-debug.log\nnpm ERR! code 1\n. I tried with sudo but met with the same errors too so am out of ideas.\nAppreciate if you have any suggestions.\nOn 1 Feb. 2018 1:40 pm, \"Nikita Kitaev\" notifications@github.com wrote:\n\nI think the 404 is normal, but the \"permission denied\" errors are not.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1207#issuecomment-362140417,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AWSRgdXGCcrCgQnnEFoCbxJSMlLLL4Biks5tQSQpgaJpZM4R09Iz\n.\n. Thanks for your suggestion Ben! Unfortunately i am still getting permission errors.\n\nI updated the python-interceptor.sh that you have suggested. \n37     exec python2.7 \"${ARGS[@]}\"\n 38     ;;\n 39   *)\n 40     exec python2.7 \"$@\"\nI am going without hydrogen at the moment, but very keen to give it a go again.\nLogs\n$ PYTHON=python27 apm install hydrogen\nInstalling hydrogen to /home/joseph/.atom/packages \u2717\n\ncanvas@1.6.9 install /tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/canvas\nnode-gyp rebuild\ncanvas-prebuilt@1.6.0 install /tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/canvas-prebuilt\nnode-pre-gyp install\n\n404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\n\nzeromq@4.6.0 install /tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\n/bin/sh: 1: prebuild-install: Permission denied\nBuilding libzmq for linux\n/tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor\n\u2514\u2500\u2500 (empty)\n/bin/sh: 1: ./util/has_lib.sh: Permission denied\ngyp: Call to './util/has_lib.sh freetype' returned exit status 126 while in binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/usr/share/atom/resources/app/apm/node_modules/node-gyp/lib/configure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:215:12)\ngyp ERR! System Linux 4.4.0-112-generic\ngyp ERR! command \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/.bin/node-gyp\" \"rebuild\"\ngyp ERR! cwd /tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok \nnode-pre-gyp ERR! install error \nnode-pre-gyp ERR! stack Error: 404 status code downloading tarball https://github.com/chearon/node-canvas-prebuilt/releases/download/v1.6.0/canvas-prebuilt-v1.6.0-electron-v1.6-linux-x64.tar.gz\nnode-pre-gyp ERR! stack     at Request. (/usr/local/lib/node_modules/node-pre-gyp/lib/install.js:118:27)\nnode-pre-gyp ERR! stack     at emitOne (events.js:101:20)\nnode-pre-gyp ERR! stack     at Request.emit (events.js:188:7)\nnode-pre-gyp ERR! stack     at Request.onRequestResponse (/usr/local/lib/node_modules/node-pre-gyp/node_modules/request/request.js:1074:10)\nnode-pre-gyp ERR! stack     at emitOne (events.js:96:13)\nnode-pre-gyp ERR! stack     at ClientRequest.emit (events.js:188:7)\nnode-pre-gyp ERR! stack     at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:474:21)\nnode-pre-gyp ERR! stack     at HTTPParser.parserOnHeadersComplete (_http_common.js:99:23)\nnode-pre-gyp ERR! stack     at TLSSocket.socketOnData (_http_client.js:363:20)\nnode-pre-gyp ERR! stack     at emitOne (events.js:96:13)\nnode-pre-gyp ERR! System Linux 4.4.0-112-generic\nnode-pre-gyp ERR! command \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/local/bin/node-pre-gyp\" \"install\"\nnode-pre-gyp ERR! cwd /tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/canvas-prebuilt\nnode-pre-gyp ERR! node -v v6.9.5\nnode-pre-gyp ERR! node-pre-gyp -v v0.6.39\nnode-pre-gyp ERR! not ok \ninternal/child_process.js:313\n    throw errnoException(err, 'spawn');\n    ^\nError: spawn EACCES\n    at exports._errnoException (util.js:1022:11)\n    at ChildProcess.spawn (internal/child_process.js:313:11)\n    at exports.spawn (child_process.js:380:9)\n    at buildZMQ (/tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/zeromq/scripts/preinstall.js:17:15)\n    at IncomingMessage. (/tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/node_modules/Hydrogen/node_modules/zeromq/scripts/preinstall.js:106:5)\n    at emitNone (events.js:91:20)\n    at IncomingMessage.emit (events.js:185:7)\n    at endReadableNT (_stream_readable.js:974:12)\n    at _combinedTickCallback (internal/process/next_tick.js:74:11)\n    at process._tickCallback (internal/process/next_tick.js:98:9)\nnpm WARN enoent ENOENT: no such file or directory, open '/tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-11816-29674-1avczbh.8rddsd1jor No description\nnpm WARN apm-install-dir-11816-29674-1avczbh.8rddsd1jor No repository field.\nnpm WARN apm-install-dir-11816-29674-1avczbh.8rddsd1jor No README data\nnpm WARN apm-install-dir-11816-29674-1avczbh.8rddsd1jor No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.9 (node_modules/Hydrogen/node_modules/canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.9 install: node-gyp rebuild\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas-prebuilt@1.6.0 (node_modules/Hydrogen/node_modules/canvas-prebuilt):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas-prebuilt@1.6.0 install: node-pre-gyp install\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Linux 4.4.0-112-generic\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/joseph/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/joseph/.atom/.apmrc\" \"install\" \"/tmp/d-11816-29674-5ft68p.wjgpynwmi/package.tgz\" \"--runtime=electron\" \"--target=1.6.15\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-11816-29674-1avczbh.8rddsd1jor/npm-debug.log\nnpm ERR! code 1\n. Hi Ben,\nThis is my apm -v output.\n$ apm --version\napm  1.18.12\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.23.3\npython 2.7.12\ngit 2.7.4\nOn 6 February 2018 at 15:13, Ben Russert notifications@github.com wrote:\n\n@yjhung https://github.com/yjhung what does apm -v output for you? For\nexample, here is mine after applying the quick fix described above:\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.23.3\npython 2.7.14\ngit 2.14.1\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1207#issuecomment-363305622,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AWSRgcu8D3OD415mGAQ1O9Mof6CA-UWpks5tR9FvgaJpZM4R09Iz\n.\n. I finally got Hydrogen installed! \nIt was because my tmp folder was set to noexec. After remounting it to executable, it installed just fine. . \n",
    "monroews": "I tried to uninstall hydrogen.\nI get this error.\n\n. I uninstalled hydrogen and then reinstalled it and now it works again.. ",
    "mgdreamingstar": "I can install Hydrogen by apm install hydrogen, but Atom say can't rebuild Hydrogen.. ",
    "tomer-ben-david": "ok cool.  so now got stuck installing jupyter-scala ;) will close this one and continue working on the jupyter-scala installation.. . ",
    "amansheim-bm-net": "Also Windows 10, Atom 1.24.0 x64, Hydrogen 2.2.3. ",
    "archanatikayatray": "This is the error message I am getting: \n\nzeromq@4.6.0 install /tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/jmp/node_modules/zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\nprebuild-install info begin Prebuild-install version 2.5.0\nprebuild-install info looking for local prebuild @ prebuilds/zeromq-v4.6.0-node-v14-linux-x64.tar.gz\nprebuild-install info looking for cached prebuild @ /home/archanatikayatray/.atom/.apm/_prebuilds/https-github.com-zeromq-zeromq.js-releases-download-v4.6.0-zeromq-v4.6.0-node-v14-linux-x64.tar.gz. gyp ERR! configure error \ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/usr/share/atom/resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/configure.js:343:16)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)\ngyp ERR! System Linux 3.8.11\ngyp ERR! command \"node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/@nteract/vega-embed2/node_modules/vega/node_modules/canvas\ngyp ERR! node -v v0.10.35\ngyp ERR! node-gyp -v v1.0.2\ngyp ERR! not ok \nnpm WARN optional dep failed, continuing canvas@1.6.9\nPackage cairo was not found in the pkg-config search path.\nPerhaps you should add the directory containing cairo.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'cairo' found\ngyp: Call to './util/has_lib.sh freetype' returned exit status 0. while trying to load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error:gyp` failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/usr/share/atom/resources/app/apm/node_modules/npm/node_modules/node-gyp/lib/configure.js:343:16)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)\ngyp ERR! System Linux 3.8.11\ngyp ERR! command \"node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas\ngyp ERR! node -v v0.10.35\ngyp ERR! node-gyp -v v1.0.2\ngyp ERR! not ok \nnode-pre-gyp ERR! install error \nnode-pre-gyp ERR! stack Error: Unsupported target version: 0.22.0\nnode-pre-gyp ERR! stack     at get_runtime_abi (/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/node-pre-gyp/lib/util/versioning.js:172:23)\nnode-pre-gyp ERR! stack     at Object.module.exports.evaluate (/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/node-pre-gyp/lib/util/versioning.js:293:19)\nnode-pre-gyp ERR! stack     at install (/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/node-pre-gyp/lib/install.js:165:31)\nnode-pre-gyp ERR! stack     at Object.self.commands.(anonymous function) [as install] (/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/node-pre-gyp/lib/node-pre-gyp.js:50:37)\nnode-pre-gyp ERR! stack     at run (/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/node-pre-gyp/bin/node-pre-gyp:82:30)\nnode-pre-gyp ERR! stack     at Object. (/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/node-pre-gyp/bin/node-pre-gyp:134:1)\nnode-pre-gyp ERR! stack     at Module._compile (module.js:456:26)\nnode-pre-gyp ERR! stack     at Object.Module._extensions..js (module.js:474:10)\nnode-pre-gyp ERR! stack     at Module.load (module.js:356:32)\nnode-pre-gyp ERR! stack     at Function.Module._load (module.js:312:12)\nnode-pre-gyp ERR! System Linux 3.8.11\nnode-pre-gyp ERR! command \"node\" \"/tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt/node_modules/.bin/node-pre-gyp\" \"install\"\nnode-pre-gyp ERR! cwd /tmp/apm-install-dir-11817-16180-1ei67du/node_modules/Hydrogen/node_modules/@nteract/transform-vega/node_modules/vega-embed/node_modules/vega/node_modules/canvas-prebuilt\nnode-pre-gyp ERR! node -v v0.10.35\nnode-pre-gyp ERR! node-pre-gyp -v v0.6.39\nnode-pre-gyp ERR! not ok \nnpm WARN optional dep failed, continuing canvas@1.6.9\nnpm WARN optional dep failed, continuing canvas-prebuilt@1.6.0\nnpm ERR! Linux 3.8.11\nnpm ERR! argv \"/usr/share/atom/resources/app/apm/bin/node\" \"/usr/share/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/archanatikayatray/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/archanatikayatray/.atom/.apmrc\" \"install\" \"/tmp/d-11817-16180-9fscx9/package.tgz\" \"--target=0.22.0\" \"--arch=x64\"\nnpm ERR! node v0.10.35\nnpm ERR! npm  v2.5.1\nnpm ERR! code EPEERINVALID\nnpm ERR! peerinvalid The package commonmark does not satisfy its siblings' peerDependencies requirements!\nnpm ERR! peerinvalid Peer commonmark-react-renderer@4.3.4 wants commonmark@^0.27.0 || ^0.26.0 || ^0.24.0\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /tmp/apm-install-dir-11817-16180-1ei67du/npm-debug.log\n. ",
    "krystalzeng": "I am having similar issues. hydrogen:move-and-run-down runs the entire document instead of moving to the next line. It seems to only run till the end of document when the cursor is on a def/class line. I used ctrl-. to see what key binding is getting called, here's a screenshot.\n\n. I am having the same issues.. It appears that it will only skip to the end of file if the file starts with classes or functions. However, I was able to run class by class before.. @sunt05 You can manually overwrite the utils.js file if it's urgent for you. I updated mine according to @lgeiger's fix, and it works for me now. . ",
    "jollymike": "I have had the same issue occur a few times recently. It seems to be related to the hydrogen installation getting corrupted somehow. A reinstall fixes it. . ",
    "Schobbish": "@n-riesco it works now! Thanks for your help!. ",
    "sunt05": "This issue has been resolved in the recent update of Hydrogen (2.2.3).. same here. really annoying.. Hi @lgeiger, this issue can be merged with this one: https://github.com/nteract/hydrogen/issues/1229, where a code example is presented.. When will this patch be applied? Desperately waiting for the update.... Thanks for the quick response! @rgbkrk . ",
    "lookbehindyoo": "I have the same issue. Its something to do with the path of the kernel vs your local file I think. There is a workaround which can help you until someone responds - transfer your file to the site-packages directory of your python installation.\nEdit\nI think I found the option that is causing both our problems.\nSettings tab>Packages>Hydrogen>Settings>Directory to start Kernel in. \nIt seems the default option is to start the kernel in the directory of the first project you ever used it with. I have directories all over the place, so the option I want is the one shown below;\n\nHope this helps!. Happy to hear it. This had me stumped for a couple hours! If this has resolved the problem, I think you are able to close the issue. I'm not a contributor to the project so I dont have that power. If a dev reads this however, perhaps it is worth adding this topic to the FAQs or something, as this is not immediately obvious. . ",
    "nagyj2": "I tried the above, and now it works, thanks! :). ",
    "andybrnr": "Modification of this question... how should this work with remote kernels? I tried changing the kernel start directory, but when it's remote, I'm not sure how this alters things... haven't been able to make my local imports behave when running against a remote kernel yet.. Hi @nikitakit,\nThanks for the quick response. Just so I'm clear about my use case and so I understand the proposed fix, let me walk through my scenario.\n1) Clone my python project from bitbucket to a local repo on my MacBook\n2) Open repo up in Atom, use Hydrogen to launch a remote kernel on an AWS instance with the RAM needed to chew on a large dataset hosted in S3\n3) Attempt to run imports in first cell that load functions from a local module within the project \nIf I run a %cd magic, it just tells me where the kernel on the AWS instance has been launched. I guess since the remote kernel can't put my local filesystem on the path, it's natural that it can't find the local imports, but was hoping there was a workaround that didn't involve cloning the repo to the AWS instance, launching the kernel in the remote repo, which would then work... but would require a commit/push/pull with every code change to the local modules. Is there a way to deal with this?\nThanks!. After digging into the old issues more thoroughly, discovered this was addressed in #629 to some extent (i.e. need some sort of file synchronization in place). I haven't poked around the code base for hydrogen much yet, and not sure my dev skills would be up to it (though I'm willing to look!), but it seems like it should be possible to implement a solution to this that doesn't involve a file sync. I found an old SO post where a Spyder dev was talking about this issue, and they apparently had a mechanism to search the local path and push local modules up to the remote kernel, run them, and drop back into the importing file. Any sense of how doable it would be to implement a similar mechanism?. @kylebarron did you get this sorted out? I'm just beginning to experiment with the goal of a similar kind of deployment. I haven't been able to connect in and launch a new kernel with either the VS Code Jupyter plugin using token auth or with Atom + Hydrogen. Any thoughts on how to approach debugging the failure to get a working connection would be much appreciated.. Created an issue on the jupyterhub project, but not sure whether it's really a JH issue, a Hydrogen issue, or something in between. I realized I needed to point to a different url when using jupyterhub... e.g. if for a stand alone jupyter server, you point it at base_url/, with jupyterhub you won't hit the proper api endpoint unless pointed at base_url/user/user_name (where the notebook root is after authenticating with PAM). I can authenticate to the server with a token, select a new session (and see the existence of other ones if the kernels are already up), and see the list of available kernels. Clicking on a kernel does start the kernel on the server, which I can see from the JupyterHub logs. However, Hydrogen doesn't seem to realize the kernel is up and running, as the \"select kernel\" dialog remains presented after kernel start - if I cancel out, pull the connect to remote kernel dialog up again and reauthenticate, I can see the existence of the session for the kernel that I just started, but clicking on the name in the dialog doesn't connect to it. So I guess when running behind jupyterhub, the url paths for the api clearly aren't the same as with the stand alone server - I can't quite figure out what's mismatched, though, as the fact that I can get some dialogs at all means it's talking to the notebook server API, it just can't reach the kernel. Any ideas about where I need to look? Thanks!. Ok, pulled up developer tools. Getting a 502: Invalid Status error after I click the kernel to launch, followed up with a message that there's no running kernel with the given id. However, in the log from the server, I can see the kernel with that id launch. Thoughts on next steps?\n\n. FWIW, I think this could be related to a change in JupyterLab services, but not 100% sure.... Finally got to the bottom of it - the issue was proxy related. We have an NGINX proxy as a gateway routing traffic to the AWS instance hosting JupyterHub inside a VPC. I thought we'd ruled this out as the issue, but I hadn't appreciated the nuances of websocket connections with two proxies in series (NGINX gateway <-> configurable-http-proxy <-> notebook server). This SO post got me sorted out. Works like a charm now!. ",
    "matanster": "One missing piece following the answer to the original question before the thread was modified/hijacked :)\nYou need to restart atom after making this change (at least, I couldn't make it work without that extra step).. May I suggest that the default setting in this regard is just the most unreasonable one? any major cons to making it the current directory by default? another option, would be to ask the user during installation, though I find a reasonable default necessary even in that case.. ",
    "xudongmit": "The problem is just solved by switching off the \"soft tab\" setting of Atom. It seems Hydrogen cannot detect Atom's soft tabs. \nI'm using the 2.2.2. Thank you!. Well, I always got the error message \" operation not permitted, unlink ''\". ",
    "cocomice": "I have same problem with python 2. Atom is looking for python executable in an old path (Program File (x86)\\Anaconda\\python.exe), which no more existed. How can I change it. . @n-riesco  thanks! it works for me ~~maybe this can be added into the Hydrogen's troubleshooting guide .... @lgeiger sorry I am a newbie. What do you mean by \"send a PR\"? I would like to contribute if possible. . ",
    "ViktorAmbrose": "@lgeiger Thank you. I didn't see the python -m ipykernel install --user portion of the conda install. Thank you :D. ",
    "laughedelic": "Oh, thanks! That helped. I'm going to send a PR to fix that JSON.. ",
    "ericmjl": "@nikitakit thanks for the pointer. Indeed yes, relative imports don't work -- I only had to open IPython to confirm that. \nThanks for pointing out xdbg as well - it's something I'll give a shot at using in the near future!. ",
    "nobleach": "I too am noticing this after installing Atom 1.25. Every kernel I attempt to use gives me an error asking if it's in my path. I did re-compile as suggested. \nBut what I realized is that I had also installed a new version of node via nvm. I ran through the setup again (of all the kernels I cared about) and it works again.. No, not at all. I just realized that is what was causing my problem. I updated to node 8.10.\nMy suggestion is that you run npm build from your terminal with whatever node version you're currently using. And, to test things out, make sure you can run your kernel from the command line or just try which ijskernel (or whatever kernel you care to use). ",
    "singh72641": "its in atom. ",
    "wtadler": "After a few more launches, Atom suggested that I re-compile Hydrogen, which fixed it.. That's right that there's no issue with shift-enter (which I never use).\nWould be great to close the tooltip on cmd/ctrl-enter as well as cmd/ctrl-alt-enter (which runs the cell and also doesn't move the cursor and close the tooltip).\n. Thanks, love it! I would expect that I'm not the only person running hydrogen and autocomplete-plus (both at about 700k downloads) who would like this to be built in. I'd do a PR but I just took a spin through the code and am not sure where your addition would go.. > when using run I never call it while my cursor is in the middle of an autocomplete suggestion... I always would hit tab to complete first...\nIn my case, I rarely actually use autocomplete. 95% of the time my habit is just to finish typing the command. I only complete the suggestion when, e.g., a variable name is particularly long, or I'm using autocomplete to browse through an object's methods. Perhaps other users use it like this too.. ",
    "jlewis91": "Had the same issue. For the theme I use, Nord Atom, the Rebuild button is essentially invisible until you hover over it. And unfortunately, while the Rebuild button works, the apm rebuild command does not. Seems like an unfortunate combination of a UI issue & the fact that the command has no effect.. I believe I tried both. apm rebuild definitely did not work.. ",
    "Kriechi": "~~I'm experiencing the same issue:~~\nFailed to require the main module of 'Hydrogen' because it requires one or more incompatible native modules (canvas, zeromq).\nRun `apm rebuild` in the package directory and restart Atom to resolve.\n~~Neither rebuild, nor uninstall/install resolves it.~~\n~~I cannot connect to any servers anymore. Hydrogen is unusable for me.~~\nedit:\nClicking rebuild from the Atom GUI worked.  \u00af_(\u30c4)_/\u00af. ",
    "maxster256": "That helped!\nW dniu 22/03/18 20:37 Nikita Kitaev  notifications@github.com napisa\u0142: \n\nCould you try reinstalling hydrogen using the command line?\napm uninstall hydrogenapm install hydrogen\nAn aside for hydrogen devs: a number of similar issues(https://github.com/nteract/hydrogen/issues?utf8=%E2%9C%93&q=%22Uncaught+Error%3A+Cannot+find+module%22) have been popping up during the past year. Reinstalling always seems to fix things.\nBut does anyone know why this is happening in the first place? There are enough bug reports to suggest a real problem with installation.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub(https://github.com/nteract/hydrogen/issues/1265#issuecomment-375332371), or mute the thread(https://github.com/notifications/unsubscribe-auth/AM8JugYa7j4ubD3pnKhED6Z8_wglfbr4ks5tg7lLgaJpZM4S0qCx).\n. \n",
    "jrial": "I don't rule anything out, but in my tests I can consistently demonstrate the difference between Hydrogen enabled and Hydrogen disabled.. Sorry to waste your time. I was unable to reproduce with Hydrogen disabled, while being pretty consistently able to reproduce with Hydrogen enabled. I must've relaunched my Atom like 20 times to be sure.\nApparently it takes 25 times to confirm stuff with any semblance of certainty, because I now witnessed this behaviour with Hydrogen disabled. My search continues.. ",
    "mlangiu": "I am using python3\n\n. Still no progress, the kernel was already up to date...\nThe system version printed is:\n2.7.14 (default, Mar 22 2018, 15:04:47) \n[GCC 4.2.1 Compatible Apple LLVM 9.0.0 (clang-900.0.39.2)]\n. Hmm you were right!\nBut I still think it is a bit strange, I would have assumed that either selecting the Python 3 kernel upon first execution of Hydrogen or the magic comment at the top of the file should have resulted in loading the correct version.\nInstead I had to manually change all occurrences of python to python3 in \n.atom/packages/script/lib/grammars/python.coffee, which seems sort of twisted.\nWhat if I want to run a python2 script at some point, will I have to edit the coffee scripe everytime I want to switch back and forth between the two?\nI'd appreciate if you could point me towards some more elegant solution to this.\nIn any case: thanks for the help so far! :). This prompt is exactly what I meant! What confuses me is that despite selecting the python3 kernel to use with Hydrogen for the current file, the python command is invoked instead of python3.\nI would expect that upon selection of a python 2 or 3 kernel that the corresponding version is started . Aah, I had overlooked your comment on ~/Library/Jupyter/kernels!\nDeleting that directory and reissuing the pip commands seems to do it, even after reverting the python.coffee script.\nThank you for the help ;). @mbroedl: I use that package already, and it doesn't help. \nYou're probably right that the second part of this issue may be amended by the provider of hydrogen-python, as it seems to be related to leading white space,  however, I think the fundamental issue is that executing a basic if/elif/else statement doesn't work. To me it feels like the execution of a basic control structure should be language independent, no?. @BenRussert Yes, that works\n@kylebarron  For me it doesn't work no matter where the cursor is, not even when selecting the entire function and then executing Hydrogen Run (as in the if/else statement in #1341). Could you let us know your version information?. Indeed I am!. I did, thanks for the info. ",
    "iceblove": "thanks. ",
    "schwaaweb": "Hello I have moved on from this error but I'm still stuck and am not sure where to turn.\nI am just trying to get hydrogen to work at all and I am not sure how to go about it. I am in a course that uses jupyter notebooks on collab and I am trying to set up a local environment that will work offline and has a better connection to git and github.\nI'm on OSX 10.13.4 as you can see above I'm running jupyter 4.4.0 and I'm able to run jupyter notebooks locally through the browser \n  e.g. [http://localhost:8888/notebooks/Untitled.ipynb?kernel_name=thisenv#]\nI am unable to run code through hydrogen and am at a lost on where to start or how to debug my progress.\nI've tried somethings at this page but am unclear about what applies to my situation.\nWhat meaningful info can I get from my environment in order to properly ask for help?\nIs there information on how you start a new notebook from within Atom with Hydrogen, or how to load a jupyter notebook into Atom? A screencast would be great!\nAny help is appreciated!\nThank you\n- Darwin\n. I started out trying to run plaintext python. Here is an error that I get when I try to run jupyter notebook code:\n\nI have read the confused on what information I need to give hydrogen so it executes code using my local jupyter installation. This is not clear to me at the documentation link above.\n. The code above is in plain text fyi. I was able to get this working by switching to .py files. Thanks you for your help. It would be helpful if the documentation explained the difference between running a jupyter notebook on anaconda or collab vs. running the same code within Hydrogen/Atom. Once I get a bit more comfortable with the environment I may document this. Thank you for your help!. ",
    "ethan92429": "@dsanalytics 2.4.1 is working well! Thanks for the update. . ",
    "dynobo": "@Madhu94 \nNo, not really. I would expect it to be converted into a cell of type \"markdown\". After running a cell of this type, the source code vanishs and only the rendered markdown stays visible. \nFor an example, see the text in this shot of a notebook. The first two cells (\"Jupyter Notebook Slides..\" and \"Overview\") are markdown cells: \n\n. @Madhu94: I stumbled upon it through the \"rich document\" feature, described shortly on the bottom of this page. I expected the markdown-parts of such an document to be exported as markdown-cells even without \"%%markdown\" syntax (this would be my favourite solution), but as it didn't do this, I thought at least the markdown syntax might be able to handle that.\nBut I want to give a bit background:\nI like a lot the R-Notebooks, which allow to mix Code and Markdown in the same file. There, I can write everything from top to bottom in a single text file in my IDE, and it can also be read in every simple Text-Editor. In e.g. Jupyter I have to create/move cells in the Web-App, and I need a notebook viewer to render the content. \nHydrogen, with \"Rich documents\" is just soooo close to filling this need, which would be really cool. Unfortunately, as long as a Hydrogen is not \"the standard\", such a feature still would be quite worthless without being able to export such a Rich Document to Jupyter Notebooks, so I can share it in my university class or something...\nSo, if the markdown-parts of a \"Rich document\" would be rendered as jupyter-markdown-cells (with, or even better without %%markdown), this would be so perfect. I guess other people knowing R-Notebooks might feel the same... :-)\n. ",
    "mwouts": "Hello @dynobo, I see you have previous experience with R markdown notebooks. Have you ever tried to open these documents with Jupyter? There are a few plugins around that allow this. I recommend in particular notedown (many GitHub stars) and jupytext (my contribution). \nAre you able to run python cells in markdown or R markdown documents in Hydrogen? If yes, you could experiment editing these documents simultaneously in Hydrogen and Jupyter (run %autosave 0 if you open both editors at the same time, and use Ctrl+R to reload from file while preserving kernel).. Hello @kiwi0fruit , I think there are plans to support this in Hydrogen at some point. For now you can use an independent program named jupytext (I am the main author). Jupytext does support the double percent cells syntax (this is documented here). Markdown cells are defined like this:\n```\n%% [markdown]\nContent of\nmarkdown cell\n```. Hello @kylebarron , I think we should use compatible specifications across the multiple implementations of the text to jupyter notebook converters. \nMay I suggest that Hydrogen could use # %% [markdown] for marking markdown cells? That syntax was suggested by the Spyder team at https://github.com/spyder-ide/spyder/issues/7933, and that's the one implemented in jupytext. \nSee also the documentation for the percent format in jupytext, or this\n review of script formats for notebooks. Interestingly the percent format is supported beyond Hydrogen and Spyder, in as many as five Python editors!. Thanks @kylebarron , @kiwi0fruit ! It's good to have this conversation. \n\nWhat about Hydrogen having a superset?\n\nWell, if you choose a superset that we can also implement in jupytext, I will be glad to follow your standard. Not on markdown however because that's hard to distinguish from the cell title used by Spyder. But I have no objection to <markdown> or <md>. By the way, do you plan to support raw cells?\n\nI think block comment way is more convenient for one way conversion\n\nThe Spyder team also suggested to represent markdown cells as multiline strings - they like the potential for using f-strings. And Sphinx-Galleries also offer markdown cells as multiline strings. However, we have not yet implemented support for these multiline strings in jupytext, and I am not sure we will, because of the following reasons\n- multiline strings are Python specific\n- and they are more difficult to parse than commented lines, especially in Hydrogen's case, when the parser has to be developed in Javascript.. See also a preliminary chat on this with @rgbkrk at https://github.com/jupyter/notebook/issues/3694. Thanks @kylebarron, these are enlightening comments. Jupytext is a plain python package, and offers a command line converter, but also a contents manager for Jupyter.\nThe most convenient use case for Jupytext is to configure Jupyter notebook (or Jupyter lab) to use Jupytext's content manager, and then allow Jupyter notebook to open python scripts as notebooks (and save notebooks as scripts). The scripts can be edited in any IDE, including Atom+Hydrogen. Refreshing the notebook in Jupyter (Ctrl+R) will then display the latests edits, and preserve outputs for unchanged cells if you use paired notebooks.\nTo answer your question on Python interpreter or kernel, I would say that Jupytext runs in the same python process as the Jupyter application, not in a kernel (but, as a python package, it could also operate in a python kernel).\nI have no experience of Javascript, and I'm afraid it would be painful to translate the python script parser of Jupytext from Python to Javascript. Clearly, Jupytext's identification of code/markdown cells in arbitrary python scripts is complex and fragile compared to the fully explicit JSON notebooks. It is also a bit more complex than the identification of Hydrogen's cells markers. In Jupytext, cells are often implicit (commented paragraphs are markdown,  adjacent blocks of python code are a code cell). Only code cells made of multiple blocks have start and end markers. \nThe purpose of this is to\n- allow any python file to become a notebook (without adding any marker)\n- reversely, have python scripts generated from notebooks that also look natural\n- preserve cells on round trip conversion.\nI understand that Hydrogen requires a representation of notebooks as scripts that is easier to parse into cells. I would be interested in working on a prototype of a notebook to script two way converter, that could build a script that is easily parsed by Hydrogen (the scripts currently generated by Jupytext are currently recognized as a single cell, if I am correct). For that, would you have recommendations on how to represent markdown cells (and distinguish them from commented code cells), as well as cell metadata (would a json dictionary after the cell marker, as suggested here, be acceptable ?)\n. Hello @kylebarron, I just published a new RC for Jupytext that implements a notebook converter for the double percent format, cf. https://github.com/mwouts/jupytext/issues/59.\nWould you have a minute to review the format specifications? In order to support notebook and cell metadata I had to extend the specifications, cf. the README.\nIf you also want to test it (which would be very helpful), the rc is available with\npip install jupytext==0.7.0rc0\nThanks!. The double percent format is available in Jupytext v0.7.0.\nI will now close this issue, as Jupytext cannot be used directly from within Hydrogen/Atom (as it is coded in Python).\nYet let me hope that the future implementation of Hydrogen's converter can be compatible with that of Jupytext (and I'm ready to evolve the current implementation!). Please free to challenge cell header, and how to best represent markdown cells (commented code, or multiline strings?). See also Spyder's input at https://github.com/spyder-ide/spyder/issues/7933. \nFor reference, the regular expression I currently use to parse the cell title, type and metadata is here.\n. Hello @kylebarron , thanks for the developement, this feature was wanted for a long time!\nIs it correct that %% [markdown] cells from jupytext will also be recognized as markdown? Like in this example? As a quick reminder: we have choosen square brackets and not just the work markdown in order to support cell titles from Spyder, cf this thread.. > # %% [markdown] would be supported fine. As long as the substring markdown (or md) exists somewhere after # %%, it'll be caught. I think that's better than us imposing another format.\nVery nice!\n\nI'm also working on a PR to import Notebook files into Hydrogen, and hopefully it'll be possible to import, modify, and export without any data loss. I'd love to explore a run all cells and export notebook command that adds cell output to the created notebook file.\n\nThat sounds great! That will make Hydrogen the first text editor where users can act on the ipynb file without having to run the notebook in full a second time.. Hello @kylebarron , I am sorry I cannot help for the issue you encounter. But I was curious to know where the metadata for the text file is stored when using Hydrogen. Is it preserved when the editor is closed and restarted? Do you like, or not, the idea to represent some metadata in the text file itself? (that's what we did first in jupytext, but now we are considering other possibilities, like storing them only in the ipynb file). ",
    "justdoGIT": "i guess it is 32 bit ubuntu 16.04 OS , thats why there is some issue..\n. after resolving python 2 issues now i am facing these errors \n@n-riesco  can you please have a look and suggest me something\n(py2) kamal ~ $ apm install hydrogen\nInstalling hydrogen to /home/kamal/.atom/packages \u2717\ncanvas@1.6.10 install /tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i/node_modules/Hydrogen/node_modules/canvas\nnode-gyp rebuild\n\nmake: Entering directory '/tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i/node_modules/Hydrogen/node_modules/canvas/build'\nSOLINK_MODULE(target) Release/obj.target/canvas-postbuild.node\nCOPY Release/canvas-postbuild.node\nCXX(target) Release/obj.target/canvas/src/Canvas.o\nCXX(target) Release/obj.target/canvas/src/CanvasGradient.o\nCXX(target) Release/obj.target/canvas/src/CanvasPattern.o\nCXX(target) Release/obj.target/canvas/src/CanvasRenderingContext2d.o\nCXX(target) Release/obj.target/canvas/src/color.o\nCXX(target) Release/obj.target/canvas/src/Image.o\nCXX(target) Release/obj.target/canvas/src/ImageData.o\nCXX(target) Release/obj.target/canvas/src/init.o\nCXX(target) Release/obj.target/canvas/src/FontFace.o\nSOLINK_MODULE(target) Release/obj.target/canvas.node\nCOPY Release/canvas.node\nmake: Leaving directory '/tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i/node_modules/Hydrogen/node_modules/canvas/build'\nzeromq@4.6.0 install /tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i/node_modules/Hydrogen/node_modules/zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\nprebuild-install WARN install No prebuilt binaries found (target=1.6.16 runtime=electron arch=ia32 platform=linux)\n/tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i\n`-- (empty)\nIn file included from ../src/Canvas.cc:20:0:\n../src/JPEGStream.h: In function \u2018boolean empty_closure_output_buffer(j_compress_ptr)\u2019:\n../src/JPEGStream.h:42:108: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), (v8::Localv8::Function)dest->closure->fn, 2, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\nIn file included from ../src/Canvas.cc:20:0:\n../src/JPEGStream.h: In function \u2018void term_closure_destination(j_compress_ptr)\u2019:\n../src/JPEGStream.h:63:113: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), (v8::Localv8::Function)dest->closure->fn, 2, data_argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\nIn file included from ../src/Canvas.cc:20:0:\n../src/JPEGStream.h:71:112: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), (v8::Localv8::Function)dest->closure->fn, 2, end_argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\n../src/Canvas.cc: In static member function \u2018static void Canvas::ToBufferAsyncAfter(uv_work_t)\u2019:\n../src/Canvas.cc:221:31: warning: \u2018v8::Localv8::Value Nan::Callback::Call(int, v8::Localv8::Value) const\u2019 is deprecated [-Wdeprecated-declarations]\nclosure->pfn->Call(1, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:1618:3: note: declared here\nCall(int argc, v8::Localv8::Value argv[]) const {\n^\n../src/Canvas.cc:226:31: warning: \u2018v8::Localv8::Value Nan::Callback::Call(int, v8::Localv8::Value) const\u2019 is deprecated [-Wdeprecated-declarations]\nclosure->pfn->Call(2, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:1618:3: note: declared here\nCall(int argc, v8::Localv8::Value argv[]) const {\n^\n../src/Canvas.cc: In function \u2018cairo_status_t streamPNG(void, const uint8_t, unsigned int)\u2019:\n../src/Canvas.cc:377:102: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), (v8::Localv8::Function)closure->fn, 3, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\n../src/Canvas.cc: In static member function \u2018static Nan::NAN_METHOD_RETURN_TYPE Canvas::StreamPNGSync(Nan::NAN_METHOD_ARGS_TYPE)\u2019:\n../src/Canvas.cc:446:103: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), (v8::Localv8::Function)closure.fn, 1, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\n../src/Canvas.cc:452:103: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), (v8::Localv8::Function)closure.fn, 1, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\n../src/Canvas.cc: In function \u2018cairo_status_t streamPDF(void, const uint8_t, unsigned int)\u2019:\n../src/Canvas.cc:476:77: warning: \u2018v8::Localv8::Value Nan::MakeCallback(v8::Localv8::Object, v8::Localv8::Function, int, v8::Localv8::Value)\u2019 is deprecated [-Wdeprecated-declarations]\nNan::MakeCallback(Nan::GetCurrentContext()->Global(), closure->fn, 3, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Canvas.cc:7:\n../../nan/nan.h:929:46: note: declared here\nNAN_DEPRECATED inline v8::Localv8::Value MakeCallback(\n^\n../src/Image.cc: In member function \u2018void Image::loaded()\u2019:\n../src/Image.cc:380:25: warning: \u2018v8::Localv8::Value Nan::Callback::Call(int, v8::Localv8::Value) const\u2019 is deprecated [-Wdeprecated-declarations]\nonload->Call(0, NULL);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Image.cc:7:\n../../nan/nan.h:1618:3: note: declared here\nCall(int argc, v8::Localv8::Value argv[]) const {\n^\n../src/Image.cc: In member function \u2018void Image::error(v8::Localv8::Value)\u2019:\n../src/Image.cc:393:26: warning: \u2018v8::Localv8::Value Nan::Callback::Call(int, v8::Localv8::Value) const\u2019 is deprecated [-Wdeprecated-declarations]\nonerror->Call(1, argv);\n^\nIn file included from ../src/Canvas.h:22:0,\nfrom ../src/Image.cc:7:\n../../nan/nan.h:1618:3: note: declared here\nCall(int argc, v8::Localv8::Value argv[]) const {\n^\n{ Error: getaddrinfo EAI_AGAIN github.com:443\nat Object.exports._errnoException (util.js:1022:11)\nat errnoException (dns.js:33:15)\nat GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)\ncode: 'EAI_AGAIN',\nerrno: 'EAI_AGAIN',\nsyscall: 'getaddrinfo',\nhostname: 'github.com',\nhost: 'github.com',\nport: 443 }\nnpm WARN enoent ENOENT: no such file or directory, open '/tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i/package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-118325-4953-1utuiku.zqimxtj4i No description\nnpm WARN apm-install-dir-118325-4953-1utuiku.zqimxtj4i No repository field.\nnpm WARN apm-install-dir-118325-4953-1utuiku.zqimxtj4i No README data\nnpm WARN apm-install-dir-118325-4953-1utuiku.zqimxtj4i No license field.\nnpm ERR! Linux 4.4.0-112-generic\nnpm ERR! argv \"/opt/atom/resources/app/apm/bin/node\" \"/opt/atom/resources/app/apm/node_modules/npm/bin/npm-cli.js\" \"--globalconfig\" \"/home/kamal/.atom/.apm/.apmrc\" \"--userconfig\" \"/home/kamal/.atom/.apmrc\" \"install\" \"/tmp/d-118325-4953-qaic0g.2m743ac3di/package.tgz\" \"--runtime=electron\" \"--target=1.6.16\" \"--arch=ia32\" \"--global-style\"\nnpm ERR! node v6.9.5\nnpm ERR! npm v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the zeromq package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR! node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR! npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR! npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR! /tmp/apm-install-dir-118325-4953-1utuiku.zqimxtj4i/npm-debug.log\nnpm ERR! code 1\n. then I guess there must be some problem with zeromq too. I tried installing zeromq with python 2.7 but it failed. The error is shown below:\n(py2) kamal ~ $ npm install zeromq\n```\n\nzeromq@4.6.0 install /home/kamal/node_modules/zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\nprebuild-install WARN install getaddrinfo EAI_AGAIN github.com:443\n{ Error: getaddrinfo EAI_AGAIN github.com:443\n    at Object.exports._errnoException (util.js:1020:11)\n    at errnoException (dns.js:33:15)\n    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:76:26)\n  code: 'EAI_AGAIN',\n  errno: 'EAI_AGAIN',\n  syscall: 'getaddrinfo',\n  hostname: 'github.com',\n  host: 'github.com',\n  port: 443 }\nnpm WARN enoent ENOENT: no such file or directory, open '/home/kamal/package.json'\nnpm WARN kamal No description\nnpm WARN kamal No repository field.\nnpm WARN kamal No README data\nnpm WARN kamal No license field.\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the zeromq@4.6.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n```. so should i manually install libzmq with python 2.7\n . I have no idea why it failed, most probable reason I think is the proxy settings. Although apt-get and other utilities are working and also I am able to install other software packages from npm installer. There may be a possibility that the site hosting zeromq is down but surely I can't say much. I'll get back to you soon...\nAnd I just want to install hydrogen package on my ubuntu 32 bit machine. atom's package manager is unable to install it so i am trying to install it via command line\n. ",
    "shr00mie": "tried the same test on ubuntu desktop 17.10 direct to local jupyterlab. same results:\n\n\np.s. while submitting the above, found the following which resolved the issue in case anyone runs across the same:\nhttps://github.com/bokeh/bokeh/issues/5351\n\n. ",
    "apoorvalal": "Cool, that works (for both python and r). Cheers! \nFor future reference, Alt-i opens the Find menu on linux, so I remapped Inspector to \n'ctrl-alt-i'      : 'hydrogen:toggle-inspector'\n. ",
    "hughcameron": "Hey @dsanalytics - does this button appear for you above the output area?\n\n. ",
    "jdanbrown": "Also worth noting that we seem to be stuck with them anyway:\n\nPayloads are considered deprecated, though their replacement is not yet implemented.\n\nAnd thanks for the pointer to that section of the docs\u2014it explains what \"source\": \"page\" is in the shell msg at top:\n\npage: display data in a pager.\nPager output is used for introspection, or other displayed information that\u2019s not considered output. Pager payloads are generally displayed in a separate pane, that can be viewed alongside code, and are not included in notebook documents.. > Patterns and muscle memory from other frontends don't work in the current version of hydrogen\n\nYeah, and I'd push that point a little further: supporting the payload msgs is helpful for users who prefer to see content inline instead of in the bottom dock, i.e. would prefer to see the results of ?foo as normal output instead of in the inspector.. ",
    "taobo33": "Hi Ben, thanks for the fast response! \nI have tried restarting atom. I even tried restarting the PC a few times. :(\nIt might have something to do with the new 1803 upgrade :(. after several reboot the same issue persists :(\ncan I manually place the file that needs download somewhere (in order to )to fix this? Thank you for the advise.. I also tried \" apm install hydrogen\" in Windows Power Shell as admin.\n```\nnpm ERR! not a package C:\\Users\\taobo33\\AppData\\Local\\Temp\\d-118414-11448-1vlqq6t.72bxd2t9\\package.tgz\nnpm ERR! addLocal Could not install C:\\Users\\taobo33\\AppData\\Local\\Temp\\d-118414-11448-1vlqq6t.72bxd2t9\\package.tgz\nnpm ERR! Windows_NT 10.0.17134\nnpm ERR! argv \"C:\\Users\\taobo33\\AppData\\Local\\atom\\app-1.26.1\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\taobo33\\AppData\\Local\\atom\\app-1.26.1\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\taobo33\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\taobo33\\.atom\\.apmrc\" \"install\" \"C:\\Users\\taobo33\\AppData\\Local\\Temp\\d-118414-11448-1vlqq6t.72bxd2t9\\package.tgz\" \"--runtime=electron\" \"--target=1.7.11\" \"--arch=x64\" \"--global-style\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! path C:\\Users\\taobo33\\AppData\\Local\\Temp\\npm-5276-ad413ca5\\unpack-de41dcbb\\package.json\nnpm ERR! code ENOENT\nnpm ERR! errno -4058\nnpm ERR! syscall open\nnpm ERR! enoent ENOENT: no such file or directory, open 'C:\\Users\\taobo33\\AppData\\Local\\Temp\\npm-5276-ad413ca5\\unpack-de41dcbb\\package.json'\nnpm ERR! enoent ENOENT: no such file or directory, open 'C:\\Users\\taobo33\\AppData\\Local\\Temp\\npm-5276-ad413ca5\\unpack-de41dcbb\\package.json'\nnpm ERR! enoent This is most likely not a problem with npm itself\nnpm ERR! enoent and is related to npm not being able to find a file.\nnpm ERR! enoent\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\taobo33\\AppData\\Local\\Temp\\apm-install-dir-118414-11448-1i9sc4f.p87rkbuik9\\npm-debug.log\n```\nHowever I could not provide the log it mentioned. I can not find such log file in my ..AppData/local/Temp folder(C:\\Users\\taobo33\\AppData\\Local\\Temp\\apm-install-dir-118414-11448-1i9sc4f.p87rkbuik9\\npm-debug.log). Also tried to un-install Atom. Still can not install Hydrogen \ud83e\udd15 . No worries Ben, I blame the new 1803 windows update. Other than Atom, it also caused some issue in my taskbar. (I can not install color-picker earlier but a registry hack fixed that)\nHi @n-riesco, yes I can install other packages, I have color-picker, indent- guide-improved, emmet and script installed just fine. I will try install more and see if it works. Thanks :). I've copied the Hydrogen folder from another PC and put it into the package install folder (in my case it is\"C:\\Users\\taobo33.atom\\packages\")\nThen when I open Atom, the Hydrogen is installed ... Guess this will work if anyone has similar issue with me on PC. . ",
    "tillbey": "I ran into the same issue using a local xeus-cling kernel. Using this suggestion I got it running by adding the following language mapping:\n{ \"python\": \"magicpython\", \"c++17\": \"c++\" }. ",
    "bjce": "The same happened when I tried to import mayavi. Thank you for your answer @BenRussert ! \nHere is the terminal output from jupyter kernelspec list --json:\n```\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/Users/mymac/Library/Jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/anaconda3/bin/python\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    },\n    \"julia-0.6\": {\n      \"resource_dir\": \"/Users/mymac/Library/Jupyter/kernels/julia-0.6\",\n      \"spec\": {\n        \"argv\": [\n          \"/Applications/Julia-0.6.app/Contents/Resources/julia/bin/julia\",\n          \"-i\",\n          \"--startup-file=yes\",\n          \"--color=yes\",\n          \"/Users/mymac/.julia/v0.6/IJulia/src/kernel.jl\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Julia 0.6.2\",\n        \"language\": \"julia\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    }\n  }\n}\n``. I have to add that now when running the line :import mayavi`\nI get the following error message: \n```\nModuleNotFoundError                       Traceback (most recent call last)\n in ()\n      1 import matplotlib.pyplot as plt\n----> 2 import mayavi\nModuleNotFoundError: No module named 'mayavi'\n``\nbut the lineimport matplotlib.pyplot as pltworks fine\n. Well @BenRussert It seems that it is related to the problem that I have several versions of python: I had to install themayavi` packages into anaconda bin running the following commands: \n$ cd /anaconda3/bin\n$ ./pip install mayavi\n(found on Stackoverflow: https://stackoverflow.com/questions/43703598/ipython-error-no-module-named-mayavi)\nAnd then I could run the line without error message\nimport mayavi with Hydrogen\nI hope this solves the problem on long term basis. \nSorry for the inconvenience and many thanks for your time. @BenRussert: \nThis is the output of conda env list\n```\nconda environments:\n\n                     /Users/mymac/.julia/v0.6/Conda/deps/usr\n                     /Users/mymac/.platformio/penv\n\nbase                  *  /anaconda3\n```\nNow I ran \nimport numpy\nI get the error: \n```\nImportError                               Traceback (most recent call last)\n in ()\n----> 1 import numpy\n~/Downloads/numpy.py in ()\n----> 1 from numpy import genfromtxt\n      2 my_data = genfromtxt('/Users/mymac/Documents/PyQt/image_viewer/csv_file_generator/eggs.csv',\n      3     delimiter=',',\n      4     dtype=None,\n      5     encoding=None)\nImportError: cannot import name 'genfromtxt'\n```\nIf the error comes from the root environment or the path to it, how can I fix it? shall I change the path? and if yes from where: Atom? Terminal?\nMany thanks in advance and sorry for that probably very basic question. Thanks for your feedback @BenRussert \n\nHow did you install python? It could be that the install did not add the new python location to your path.\n\nI ran the the python-3.6.5-macosx10.6.pkg downloaded from https://www.python.org/downloads/. Maybe it is not the answer you expected. In that case, I'll be glad to give more precisions.\nHowever I'm still running into trouble : I'm trying to run a script from Atom/Hydrogen and get an error ModuleNotFoundError: No module named 'PySide'. When running the exact same script in Spyder, it works fine.\nWhen looking at the sys.path in Atom/Hydrogen and Spyder, they turn out to be exactly the same\n\nfrom Atom/Hydrogen:\n\n```\nimport sys\nsys.path\n['',\n '/anaconda3/lib/python36.zip',\n '/anaconda3/lib/python3.6',\n '/anaconda3/lib/python3.6/lib-dynload',\n '/anaconda3/lib/python3.6/site-packages',\n '/anaconda3/lib/python3.6/site-packages/aeosa',\n '/anaconda3/lib/python3.6/site-packages/cycler-0.10.0-py3.6.egg',\n '/anaconda3/lib/python3.6/site-packages/IPython/extensions',\n '/Users/mymac/.ipython']\n```\n\nIn Sypder: \n\n```\nimport sys\nsys.path\nOut[5]: \n['',\n '/anaconda3/lib/python36.zip',\n '/anaconda3/lib/python3.6',\n '/anaconda3/lib/python3.6/lib-dynload',\n '/anaconda3/lib/python3.6/site-packages',\n '/anaconda3/lib/python3.6/site-packages/aeosa',\n '/anaconda3/lib/python3.6/site-packages/cycler-0.10.0-py3.6.egg',\n '/anaconda3/lib/python3.6/site-packages/IPython/extensions',\n '/Users/mymac/.ipython']\n``. Thank you very much for your answer @kylebarron. Sorry that I didn't reply to your comment before. I think that in the meantime Icdthe file indicated when writing the commandjupyter kernelspec listand changed the path from there. Thank you very much for your attention again. @kylebarron Thank you very much for your quick answer. Could indicate were exactly in Atom I could find those settings?. GREEAAAT!!!!!!!!!!!!!!!!!!! IT WORKED!!!!! MANY THANKS!!!!!! :n). So I ranpython3 -m ipykernel` and changed the path in the .json file as noted in this question and it worked. ",
    "lovezeropython": "@n-riesco raise other error\n\n. ",
    "sdrakulich": "Replicated on Linux today. Also bump, any official word here or?. I have tried manually closing the kernel before shutting atom down. When I said \"manually closed\", I mean both through that mechanism, and through \"End Task\" in process manager on the R runtime. Jupyter kernel does not appear for some reason, although it did on Ubuntu for me.\nEither way, since Hydrogen detects that I have started a new session (can't close atom and reopen, then \"connect to existing kernel\", because there are no active kernels listed), there is some event-detection that can go on, if not on-close, then on-open instead.\nBy \"which R kernel is installed\", what do you mean? IRkernel as far as I know, and the latest version. I am running the latest versions of R and atom as well.. Verifying: \"Shutdown Kernel\" (within atom, running Hydrogen's command...) does nothing. R remains running, with full memory loaded in.\nAgain: manually shutting down this R instance does not actually solve the issue.\nSomewhere, using Hydrogen is sapping massive amounts of memory, in a cumulative fashion.\nI am going to openly ask: do you have any idea what is going on here?. Yes, I run some code prior to trying to shut it down. I am going to bump this. Even shutting down the kernel using the command from within Atom leads to the R for Windows terminal front-end to continue running, and taking up all the memory it was before.\nI have tested this on Linux, and using the shutdown Hydrogen Kernel command through Atom does indeed close all active processes.. The kernel does, the R windows-front-end service does not\nOn Wed, Aug 1, 2018 at 1:42 PM Nicolas Riesco notifications@github.com\nwrote:\n\n@sdrakulich https://github.com/sdrakulich If you run q() does the\nkernel die?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1319#issuecomment-409660270,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAKtbiCuameGkg1HHKAbxr1bRHmDlamtks5uMeiGgaJpZM4UMtue\n.\n. \n",
    "frejonb": "I'm not sure how to check if the command ran. There's no box telling anything. Even selecting simple functions like println, nothing happens.. Neither \u2325 + i nor the command palette works (only in scala, other kernels work just fine). I'm also not too familiar with the kernel as I was just using hydrogen to learn scala but without easy access to docstrings it's proving quite challenging. Do you know how I could try figure out wether it's a kernel problem?\nOtherwise I think I'm better off learning in IntelliJ.  . I'm using jupyter-scala.\nIn scala I get \nutils.js? [sm]:162 Hydrogen: ZMQKernel.inspect: print('a') 5\nwhile python gives \nHydrogen: ZMQKernel.inspect: print('a') 5\nutils.js? [sm]:162 Hydrogen: IO message: Message {idents: Array(1), header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js? [sm]:162 Hydrogen: Invalid reply: wrong channel\nutils.js? [sm]:162 Hydrogen: IO message: Message {idents: Array(1), header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js? [sm]:162 Hydrogen: Invalid reply: wrong channel\nutils.js? [sm]:162 Hydrogen: shell message: Message {idents: Array(0), header: Object, parent_header: Object, metadata: Object, content: Object\u2026}\nutils.js? [sm]:162 Hydrogen: Inspector: Result: Object {data: Object, found: true}. ",
    "Jorys-Paulin": "@BenRussert I have the same problem, also running Windows 10 and the latest version of Atom.\nHere are my logs:\n```bash\nInstalling hydrogen to C:\\Users\\pauli.atom\\packages failed\nnpm ERR! Windows_NT 10.0.17134\nnpm ERR! argv \"C:\\Users\\pauli\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\pauli\\AppData\\Local\\atom\\app-1.28.0\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.js\" \"--globalconfig\" \"C:\\Users\\pauli\\.atom\\.apm\\.apmrc\" \"--userconfig\" \"C:\\Users\\pauli\\.atom\\.apmrc\" \"install\" \"C:\\Users\\pauli\\AppData\\Local\\Temp\\d-118524-14072-1qtj8z8.7smglgcik9\\package.tgz\" \"--runtime=electron\" \"--target=2.0.3\" \"--arch=x64\" \"--global-style\" \"--msvs_version=2015\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! file C:\\Users\\pauli.atom.apm\\etch\\0.12.8\\package\\package.json\nnpm ERR! code EJSONPARSE\nnpm ERR! Failed to parse json\nnpm ERR! Unexpected token '\\u0000' at 1:1\nnpm ERR!\nnpm ERR! ^\nnpm ERR! File: C:\\Users\\pauli.atom.apm\\etch\\0.12.8\\package\\package.json\nnpm ERR! Failed to parse package.json data.\nnpm ERR! package.json must be actual JSON, not just JavaScript.\nnpm ERR!\nnpm ERR! This is not a bug in npm.\nnpm ERR! Tell the package author to fix their package.json file. JSON.parse\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\pauli\\AppData\\Local\\Temp\\apm-install-dir-118524-14072-3cc06t.ky24mo0f6r\\npm-debug.log\n```\nNote that the npm-debug.log file mentioned in the bottom doesn't exist, as for its parent directory. ",
    "MrKuggie": "I've been unable to reply but started playing with it tonight. I found this link which fixed my issue;\nhttps://github.com/atom/apm/issues/593\nI followed it by deleting .apm\nFollowed by simply reinstalling hydrogen using apm install hydrogen\nHope this helps anyone having my issues.. ",
    "triceraflops": "Ok, so it seems you definitely need python 2.7 to install Hydrogen on Windows.\nFrom the command line\napm install hydrogen --python /path/to/python2. ",
    "AdrienLeGuillou": "This is what I went for at first but this does not work for remote kernels.\nWhat I had in mind is more like the \"watches\" but without the automatic execution. Or a temporary file just to send lines to the kernel and get the results.. Thank you for the workarounds,\nthe 'exploratory file' is the solution I am using already. I just felt It would be great to have a more 'integrated solution'. And imagining an input zone in the output pane seems interesting to me.\nI perfectly understand if this do not align with the project goals. If I find the time I might learn the APIs and try to make a plugin for that.. ",
    "bryceh29": "@BenRussert apm install does not work. However, I am installing the dependencies as I see them manually. I installed lodash but that doesn't seem to help. Potentially there is a manual way to list dependencies that I'm not aware of and then install all of them manually. There were different lodash options so I don't know if all are created equally I suppose. Oh well, thanks for the time. IT won't mess with it. Guess I just won't be able to use it. . ",
    "cdrappi": "Same exact thing! Mine.\nTrying to get atom to work with ijavascript. I installed hydrogen 2.4.1 and 2.3.0 manually to see if it was a 2.4.1 --> 2.5.0 change, but no dice\nnode -v\nv10.4.1\nnpm -v\n6.1.0\nAtom: 1.27.2 x64\nElectron: 1.7.15\nOS: Mac OS X 10.13.4\nThrown From: Hydrogen package 2.5.0\nStack Trace\nUncaught Error: Cannot find module 'react-hot-loader'\n```\nAt module.js:472\nError: Cannot find module 'react-hot-loader'\n    at Module._resolveFilename (module.js:470:15)\n    at Module._resolveFilename (/Applications/Atom.app/Contents/Resources/electron.asar/common/reset-search-paths.js:35:12)\n    at Function.get_Module._resolveFilename (/Applications/Atom.app/Contents/Resources/app/src/module-cache.js:354:58)\n    at Module.require (/app.asar/static/index.js:40:43)\n    at require (/Applications/Atom.app/Contents/Resources/app/src/native-compile-cache.js:66:33)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/object-to-react.js:13:21\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/object-to-react.js:16:3)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/object-to-react.js:163:3)\n    at Module.get_Module._compile (/Applications/Atom.app/Contents/Resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (/Applications/Atom.app/Contents/Resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (/app.asar/static/index.js:47:45)\n    at require (/Applications/Atom.app/Contents/Resources/app/src/native-compile-cache.js:66:33)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/index.js:14:22)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/index.js:114:3)\n    at Module.get_Module._compile (/Applications/Atom.app/Contents/Resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (/Applications/Atom.app/Contents/Resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (/app.asar/static/index.js:47:45)\n    at require (/Applications/Atom.app/Contents/Resources/app/src/native-compile-cache.js:66:33)\n    at /packages/Hydrogen/node_modules/@nteract/transforms/lib/index.js:43:22)\n    at /packages/Hydrogen/node_modules/@nteract/transforms/lib/index.js:110:3)\n    at Module.get_Module._compile (/Applications/Atom.app/Contents/Resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (/Applications/Atom.app/Contents/Resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n```\nCommands\n2x -1:37 hydrogen:run-and-move-down (input.hidden-input)\n     -1:32.3.0 core:move-left (input.hidden-input)\n     -1:31.9.0 hydrogen:run-and-move-down (input.hidden-input)\n     -1:25.8.0 core:copy (atom-notification.fatal.icon.icon-bug.native-key-bindings.has-detail.has-close.has-stack)\nNon-Core Packages\nautocomplete-python 1.10.5 \nbusy-signal 1.4.3 \nHydrogen 2.5.0 \nintentions 1.1.5 \nlinter 2.2.0 \nlinter-ui-default 1.7.1 \npretty-json 2.0.1 \npython-indent 1.1.5 \npython-tools 0.6.9. i cd'ed into ~/.atom/packages/Hydrogen/ and manually installed react-hot-loader with npm install react-hot-loader, and now get a different error:\n```internal/modules/cjs/loader.js:596 throw err; ^\nError: Cannot find module '../build/Release/zmq.node' at Function.Module._resolveFilename \n(internal/modules/cjs/loader.js:594:15) at Function.Module._load \n(internal/modules/cjs/loader.js:520:25) at Module.require (internal/modules/cjs/loader.js:650:17) at \nrequire (internal/modules/cjs/helpers.js:20:18) at Object. \n(/usr/local/lib/node_modules/ijavascript/node_modules/zeromq/lib/index.js:6:11) at Module._compile \n(internal/modules/cjs/loader.js:702:30) at Object.Module._extensions..js \n(internal/modules/cjs/loader.js:713:10) at Module.load (internal/modules/cjs/loader.js:612:32) at\n tryModuleLoad (internal/modules/cjs/loader.js:551:12) at Function.Module._load \n(internal/modules/cjs/loader.js:543:3)\n```\nbefore getting this error, hydrogen tells me \"kernels updated\" and i see all 3 kernels: javascript/node.js, python2 and python3. which is good! but the zeromq stuff is puzzling\nnow installing zeromq manually let's see what happens\nupdate: it didn't work, saying this version of zeromq is using a different version of node (64) than what is required (54). @BenRussert thanks for getting back to me! I rm rf'ed the whole hydrogen folder and then apm install hydrogen and now it goes back to giving me this again. (same stack trace as before)\nFailed to activate the Hydrogen package\nCannot find module 'react-hot-loader'\ni've also deleted all my atom files and re-installed atom all together. let me know if you have other ideas, or a place for me to look. happy to dig into some code to get this shit working. ",
    "tctchris": "[Enter steps to reproduce:]\n\nDownloaded AtomSetup-x64.exe v1.27.2\nInstalled Hydrogen 2.5.0 from within Atom\nGot the error\nDeleted Hydrogen\nInstalled it with apm\nGot the same error\n\nAtom: 1.27.2 x64\nElectron: 1.7.15\nOS: Windows 10\nThrown From: Hydrogen package 2.5.0\nStack Trace\nUncaught Error: Cannot find module 'react-hot-loader'\n```\nAt module.js:472\nError: Cannot find module 'react-hot-loader'\n    at Module._resolveFilename (module.js:470:15)\n    at Module._resolveFilename (~/AppData/Local/atom/app-1.27.2/resources/electron.asar/common/reset-search-paths.js:35:12)\n    at Function.get_Module._resolveFilename (~/AppData/Local/atom/app-1.27.2/resources/app/src/module-cache.js:354:58)\n    at Module.require (/app.asar/static/index.js:40:43)\n    at require (~/AppData/Local/atom/app-1.27.2/resources/app/src/native-compile-cache.js:66:33)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/object-to-react.js:13:21\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/object-to-react.js:16:3)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/object-to-react.js:163:3)\n    at Module.get_Module._compile (~/AppData/Local/atom/app-1.27.2/resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (~/AppData/Local/atom/app-1.27.2/resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (/app.asar/static/index.js:47:45)\n    at require (~/AppData/Local/atom/app-1.27.2/resources/app/src/native-compile-cache.js:66:33)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/index.js:14:22)\n    at /packages/Hydrogen/node_modules/@nteract/transform-vdom/lib/index.js:114:3)\n    at Module.get_Module._compile (~/AppData/Local/atom/app-1.27.2/resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (~/AppData/Local/atom/app-1.27.2/resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n    at Function.Module._load (module.js:439:3)\n    at Module.require (/app.asar/static/index.js:47:45)\n    at require (~/AppData/Local/atom/app-1.27.2/resources/app/src/native-compile-cache.js:66:33)\n    at /packages/Hydrogen/node_modules/@nteract/transforms/lib/index.js:43:22)\n    at /packages/Hydrogen/node_modules/@nteract/transforms/lib/index.js:110:3)\n    at Module.get_Module._compile (~/AppData/Local/atom/app-1.27.2/resources/app/src/native-compile-cache.js:106:36)\n    at Object.value [as .js] (~/AppData/Local/atom/app-1.27.2/resources/app/src/compile-cache.js:240:29)\n    at Module.load (module.js:488:32)\n    at tryModuleLoad (module.js:447:12)\n```\nCommands\n\nNon-Core Packages\nHydrogen 2.5.0\n. ",
    "todbot1338": "I have the exact same issue!\nI have a complete clean install of Atom (on my Desktop System) and Python3 and a clean install of Atom on my Surface Pro 3 (with Anaconda) it shows the same error.\nAtom: 1.27.2 x64 (both systems)\nElectron: ? (how do i find this)\nOS: Windows 10 Pro (both Systems)\nThrown from: Hydrogen package 2.5.0\nnote: i tried installing with\napm install hydrogen\nin cmd and with atom directly.\n@BenRussert i tried that already, did not work.. ",
    "gnuoyfj": "I have the identical problem.  \nCannot find module 'react-hot-loader'\nWindows 7 Professional, 64 bit , Atom. ",
    "RickoClausen": "I have the same issue. \nMac High Sierra.. ",
    "jefftrevino": "Thank you for this recommendation. This is a  useful example, but quite a bit more complex than what I'm trying to do. I really just need to run Python code in a locally running  kernel and have that code return a string (a path) back to my JavaScript code in my hydrogen plugin, so that my hydrogen plugin can use the path to open a .pdf file in a new Atom pane. Perhaps there is a more minimal example I can refer to?. ",
    "choisads": "Self-finding solution\n: I found that I installed lxml and beautifulsoup4 in a different virtual environment from jupyter. \n. ",
    "spring-haru": "I will go for code cells. Thanks, anyway.. ",
    "crstnbr": "I'm on a plane to Chicago right now but will try to test it with 1.27 later\ntoday.. That's what I get with Atom v1.27:\n```\nC:\\Users\\carsten\\Desktop\n$ atom --version\nAtom    : 1.27.2\nElectron: 1.7.15\nChrome  : 58.0.3029.110\nNode    : 7.9.0\nC:\\Users\\carsten\\Desktop\n$ apm --version\napm  1.19.0\nnpm  3.10.10\nnode 6.9.5 x64\natom 1.27.2\npython 2.7.13\ngit 2.11.0.windows.2\nvisual studio 2015\nC:\\Users\\carsten\\Desktop\n$ apm install hydrogen\nInstalling hydrogen to C:\\Users\\carsten.atom\\packages failed\n\ncanvas@1.6.11 install C:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install\n-dir-11865-7184-4tauu2.5nx62sm7vi\\node_modules\\Hydrogen\\node_modules\\ca\nnvas\nnode-gyp rebuild\n\nC:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-dir-11865-7184-4tauu2.5\nnx62sm7vi\\node_modules\\Hydrogen\\node_modules\\canvas>if not defined npm_\nconfig_node_gyp (node \"C:\\Users\\carsten\\AppData\\Local\\atom\\app-1.27.2\\r\nesources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\....\\node_modules\\\nnode-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\carsten\\AppDa\nta\\Local\\atom\\app-1.27.2\\resources\\app\\apm\\bin\\..\\node_modules\\node-gy\np\\bin\\node-gyp.js\" rebuild )\n\nzeromq@4.6.0 install C:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-\ndir-11865-7184-4tauu2.5nx62sm7vi\\node_modules\\Hydrogen\\node_modules\\zer\nomq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && no\nde-gyp rebuild)\n\nThe system cannot find the path specified.\nDownloading libzmq for Windows\nDownload finished\nC:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-dir-11865-7184-4tauu2.5\nnx62sm7vi\\node_modules\\Hydrogen\\node_modules\\zeromq>if not defined npm_\nconfig_node_gyp (node \"C:\\Users\\carsten\\AppData\\Local\\atom\\app-1.27.2\\r\nesources\\app\\apm\\node_modules\\npm\\bin\\node-gyp-bin\\....\\node_modules\\\nnode-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\carsten\\AppDa\nta\\Local\\atom\\app-1.27.2\\resources\\app\\apm\\bin\\..\\node_modules\\node-gy\np\\bin\\node-gyp.js\" rebuild )\nC:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-dir-11865-7184-4tauu2.5\nnx62sm7vi\n`-- (empty)\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in\n binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\carsten\\AppData\\L\nocal\\atom\\app-1.27.2\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\config\nure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/chi\nld_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.17134\ngyp ERR! command \"C:\\Users\\carsten\\AppData\\Local\\atom\\app-1.27.2\\\n\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\carsten\\AppData\\Loca\nl\\atom\\app-1.27.2\\resources\\app\\apm\\node_modules\\node-gyp\\bin\\\nnode-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-dir-11865-\n7184-4tauu2.5nx62sm7vi\\node_modules\\Hydrogen\\node_modules\\canvas\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nThe system cannot find the path specified.\ngyp: Call to 'node -e \"require('nan')\"' returned exit status 1 while in\n binding.gyp. while trying to load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: gyp failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (C:\\Users\\carsten\\AppData\\L\nocal\\atom\\app-1.27.2\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\config\nure.js:305:16)\ngyp ERR! stack     at emitTwo (events.js:106:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:191:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/chi\nld_process.js:215:12)\ngyp ERR! System Windows_NT 10.0.17134\ngyp ERR! command \"C:\\Users\\carsten\\AppData\\Local\\atom\\app-1.27.2\\\n\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\carsten\\AppData\\Loca\nl\\atom\\app-1.27.2\\resources\\app\\apm\\node_modules\\node-gyp\\bin\\\nnode-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-dir-11865-\n7184-4tauu2.5nx62sm7vi\\node_modules\\Hydrogen\\node_modules\\zeromq\ngyp ERR! node -v v6.9.5\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\carst\nen\\AppData\\Local\\Temp\\apm-install-dir-11865-7184-4tauu2.5nx62sm7vi\\pack\nage.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^1\n5.0.0 but none was installed.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@\n^0.27.0 || ^0.26.0 || ^0.24.0 but none was installed.\nnpm WARN apm-install-dir-11865-7184-4tauu2.5nx62sm7vi No description\nnpm WARN apm-install-dir-11865-7184-4tauu2.5nx62sm7vi No repository fie\nld.\nnpm WARN apm-install-dir-11865-7184-4tauu2.5nx62sm7vi No README data\nnpm WARN apm-install-dir-11865-7184-4tauu2.5nx62sm7vi No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 (node_mod\nules\\Hydrogen\\node_modules\\canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.11 install:\nnode-gyp rebuild\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! Windows_NT 10.0.17134\nnpm ERR! argv \"C:\\Users\\carsten\\AppData\\Local\\atom\\app-1.27.2\\re\nsources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\carsten\\AppData\\Local\\\natom\\app-1.27.2\\resources\\app\\apm\\node_modules\\npm\\bin\\npm-cli.\njs\" \"--globalconfig\" \"C:\\Users\\carsten\\.atom\\.apm\\.apmrc\" \"--userc\nonfig\" \"C:\\Users\\carsten\\.atom\\.apmrc\" \"install\" \"C:\\Users\\carste\nn\\AppData\\Local\\Temp\\d-11865-7184-etlbwo.k89xcac3di\\package.tgz\" \"\n--runtime=electron\" \"--target=1.7.15\" \"--arch=x64\" \"--global-style\" \"--\nmsvs_version=2015\"\nnpm ERR! node v6.9.5\nnpm ERR! npm  v3.10.10\nnpm ERR! code ELIFECYCLE\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (no\nde scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script 'node scripts/prebui\nld-install.js || (node scripts/preinstall.js && node-gyp rebuild)'.\nnpm ERR! Make sure you have the latest version of node.js and npm insta\nlled.\nnpm ERR! If you do, this is most likely a problem with the zeromq packa\nge,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node scripts/prebuild-install.js || (node scripts/preinsta\nll.js && node-gyp rebuild)\nnpm ERR! You can get information on how to open an issue for this proje\nct with:\nnpm ERR!     npm bugs zeromq\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls zeromq\nnpm ERR! There is likely additional logging output above.\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Users\\carsten\\AppData\\Local\\Temp\\apm-install-dir-11865-\n7184-4tauu2.5nx62sm7vi\\npm-debug.log\nnpm ERR! code 1\n```. I have both node an atom\\bin in my path. Removing atom\\bin doesn't help (same issue).. @eskemojoe007 That was indeed the problem! Thanks so much everyone!\nI'm closing this.. ",
    "JeanClaudeR": "Have experienced the same, thanks for rep\u00f4rting the issue. ",
    "masoodimran": "Thanks Ben! I will try your suggestion on a fresh install of Atom and let you know if it worked. Thanks again for taken time to analyze this issue and respond.. Hello Ben, just wanted to update you that after doing a fresh install and only installing the hydrogen package has fixed the issue. As per your suggestion, it worked. Thanks a lot! . ",
    "shekeru": "i think i tried that and i ended up with a different error\nfinally downgrading back to tornado 4.5.x fixed it lol. ",
    "jacquespeeters": "+1 Rstudio is great for interractive Data exploration. \nConsole with bugs/inline/tables. Super useful to understand which the oder of the outputs. \nHydrogen Output area for plots and tables when a better formatting is desired.\nActually, Rstudio's trick to avoid loosing too much space screen space, is having a tab to switch between plots and projects/files. \nPycharm started a scientific mode to mimic this way to exploring, but has some downside compared to Hydrogen (especially remote kernels). . ",
    "piovac": "Problem solved. Sorry for the spam...\nI am posting the reason of the issue because I believe this is due to the recent upgrade of the python brew formula.\nThe issue was of the misbehavior was actually that the python3 jupyter kernel was calling the python 2.7 version of ipykernel launcher. This is probably due to the recent upgrade of the python formula which is not installing python2 anymore. The upgrade probably left some leftover. Unistalling python, ipython and jupyter completely, then reinstalling python, ipython and jupyter followed by the installation of python@2 completely resolved the issue. Both Python 2 and 3 now work fine.. ",
    "Pixel860": "I tried installing it multiple times but it doesn't work.. ",
    "adragott": "Thanks for the responses. Sorry it took me a bit to get back to this post. After more research, I've given up. I was willing to due anything it took up until it required me to write my own Atom packages. I don't have the knowledge to do this, and I don't have the time to learn how. I'll just have to go back to spyder until either I can find the time to make python ide for data analysis package for atom or until someone else makes one, which is unfortunate because atom is great.. ",
    "abendafb": "Fixing null case as well. BTW, is it isSingeLine on purpose?. ",
    "gnidnuos": "Installed PIP 18.0\nhttps://pip.pypa.io/en/stable/installing/\nInstalled ipykernel\nhttps://ipython.readthedocs.io/en/stable/install/kernel_install.html\nNow working, thanks!!!. ",
    "kinglloyd001": "here is the screen shot of the error message i have been getting for the\npast couple 'of days, i even tried out a different version of python and\nalso installing and uninstalling atom. please assist, i am actually new to\natom and python.\nOn Sat, Aug 25, 2018 at 2:01 AM Ben Russert notifications@github.com\nwrote:\n\n@kinglloyd001 https://github.com/kinglloyd001 What tipped you off that\nthe problem is our package.json? This info may help me understand the\nissue you're running into.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1391#issuecomment-415911654,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ATDl4HPPw3st9qvOlP2Z5MiFOGVmqpTcks5uUJPzgaJpZM4WIho9\n.\n. \n",
    "alexandercbooth": "Great job @BenRussert, this looks awesome! . ",
    "bradhackinen": "Thanks Ben, that was it. I must have somehow clicked that setting without noticing. I feel a little foolish now.. ",
    "mycaule": "IntelliJ has better support https://plugins.jetbrains.com/plugin/10023-intellij-zeppelin\nMight need to fork this https://github.com/chilang/intellij-zeppelin and merge it with hydrogen. ",
    "oesst": "Thanks for you comment and sorry for the late response I was on holidays.\nI tried your example but I get the same error message as before. I marked the whole cell (in your example line 218 till 227) and run it with \"Shift + Return\" \n\n\nNameError                                 Traceback (most recent call last)\n in ()\n----> 1 get_ipython().run_cell_magic('markdown', '', '## Emphasis\\n\\n This is bold text *')\n~/.local/lib/python3.5/site-packages/IPython/core/interactiveshell.py in run_cell_magic(self, magic_name, line, cell)\n   2101             magic_arg_s = self.var_expand(line, stack_depth)\n   2102             with self.builtin_trap:\n-> 2103                 result = fn(magic_arg_s, cell)\n   2104             return result\n   2105 \n in markdown(self, line, cell)\n~/.local/lib/python3.5/site-packages/IPython/core/magic.py in (f, a, k)\n    185     # but it's overkill for just that one bit of state.\n    186     def magic_deco(arg):\n--> 187         call = lambda f, *a, k: f(a, **k)\n    188 \n    189         if callable(arg):\n~/.local/lib/python3.5/site-packages/IPython/core/magics/display.py in markdown(self, line, cell)\n     68     def markdown(self, line, cell):\n     69         \"\"\"Render the cell as Markdown text block\"\"\"\n---> 70         display(Markdown(cell))\nNameError: name 'Markdown' is not defined. Hey,\n\njust tried it with your code. Now the following error appears: \n\nFile ipython-input-1-205bc7cd5bbb, line 4\n    %%markdown\n    ^\nSyntaxError: invalid syntax\n. Hey Kyle,\n\nthat is what I have been trying (see the Gif). \nHowever I get the same error as mentioned in the first comment.\nThanks for your patience.\n\n\n\nNameError                                 Traceback (most recent call last)\n in ()\n----> 1 get_ipython().run_cell_magic('markdown', '', '# this is a markdown header 1\\n## this is a markdown header 2\\n### this is a markdown header 3\\nhey this is markdown')\n~/.local/lib/python3.5/site-packages/IPython/core/interactiveshell.py in run_cell_magic(self, magic_name, line, cell)\n   2101             magic_arg_s = self.var_expand(line, stack_depth)\n   2102             with self.builtin_trap:\n-> 2103                 result = fn(magic_arg_s, cell)\n   2104             return result\n   2105 \n in markdown(self, line, cell)\n~/.local/lib/python3.5/site-packages/IPython/core/magic.py in (f, a, k)\n    185     # but it's overkill for just that one bit of state.\n    186     def magic_deco(arg):\n--> 187         call = lambda f, *a, k: f(a, **k)\n    188 \n    189         if callable(arg):\n~/.local/lib/python3.5/site-packages/IPython/core/magics/display.py in markdown(self, line, cell)\n     68     def markdown(self, line, cell):\n     69         \"\"\"Render the cell as Markdown text block\"\"\"\n---> 70         display(Markdown(cell))\nNameError: name 'Markdown' is not defined. That was my bad. Updated IPython solved the issue.\nThanks for your help.. \n",
    "Rudey": "Btw when I try to run code locally on the server with Hydrogen and Atom it works. With 'locally' I mean that I sit in front of the computer and type stuff in. It is just a powerful computer we use for digital image correlation that has windows only software on it.. Yes I can connect to a pre-existing kernel, run code, and have access to variables on both ends.. So I must admit that I do not have a lot of expertise in oop and js but I have been digging into where this wrong path might come from.\nI also found that I can't choose the right kernels on the client. So when I want to start a new session I can only choose the kernels that are installed on the client (Python3) but the server also supports Matlab kernels, which is available to choose when I work on the server locally.\nHere is what I found out so far:\nThe 'wrong' path is generated in line 93 in ws-kernel-picker.js in the WSKernelPicker class:\nthis._path = `${store.filePath || \"unsaved\"}-${v4()}`;\nbecause store.filePath is the local path of the file on the client.\nSo when selecting [New Session] the value of this._path is then written into a _.map within WSKernelPicker.onSession. To 'fix' this I hardcoded a valid path on my server into line 337 in ws-kernel-picker:\npath: `${\"C:\\\\cygwin64\\\\home\\\\<user-name>\\\\\" || \"unsaved\"}-${v4()}`\nThis starts a new session and gives it the path name as kernel name. You can also then restart and shutdown the kernel with hydrogen. You still can only choose kernels that are available on the client because with this 'fix' I just inject the path before the WSKernel Object is sent to the server.\nI do not know whether there is a general fix for this. You would either need to get a valid path from the server somehow, or add a config option for this.\n. ",
    "ferdnyc": "I still don't even sort of understand how the links are working on the GitHub project page README view, though. Freakin' JS magicians. :laughing: . ",
    "rcliu": "Tried both of these and still getting error: stack Error: Python executable \"/Applications/Atom.app/Contents/Resources/app/apm/bin/python-interceptor.sh\" is v3.6.5, which is not supported by gyp.\nI'm using Anaconda, could that be causing this issue?. Got it, any idea how long it usually takes for them to fix bugs like this?. ",
    "Fercho120": "\n\nif I execute Atom from anaconda's prompt with the 3.7 env active, I got no error\nIt sounds like you need to activate the env you want before starting up atom, whether in the anaconda prompt or another terminal like powershell or cmd.\n\nHow are you starting atom when not using the anaconda prompt? The best way to do this is in a terminal with the env you want activated, then cd to your project folder and run atom .\n\nWhen not starting atom from anaconda prompt I simply open atom from direct access on desktop; nevertheless atom opened on that way detects and uses multiple python 3.6 ipykernels without problem. \nAt the end I need to create a GUI and I wonder if the GUI should be launched from anaconda prompt or if is possible to launch it without using the prompt. ",
    "cehc84": "I had exactly the same issue. I was using Atom 1.34.0, Hydrogen 2.8.0, Anaconda 2018.12, conda 4.6.3, Python 3.7, Windows 10 Pro.  \nI solved it by installing python 3.6 instead of 3.7. \nNow hydrogen works fine, my python script runs well, and I can still run Atom from the start menu.. ",
    "drewbo": "Not sure what's causing it but as a workaround, you can go to the package and directly install the dependency:\nsh\ncd ~/.atom/packages/Hydrogen/\nnpm install @babel/runtime-corejs2. ",
    "LulinS": "I have seen the same problem in the Mac OS. ",
    "yburatti": "Uninstalled and reinstalled since new commit. It works!\nJust want to say a really big thank you to all the contributors for how efficiently and fast this was solved!. ",
    "totovr": "Actually in both are defined as sets:\n\nThis using Hydrogen\n\n```Python\nsetExample = set()\nsetExample\nsetExample = {1, 2, 3}\nsetExample\nsetExample.add(4)\nsetExample.add(0)\nsetExample\nsetExample.add('H')\nsetExample\nsetExample.add('A')\nsetExample.add('Z')\nsetExample\n{0, 1, 2, 3, 4, 'H', 'A', 'Z'}\n```\n\nThis using Jupyter Notebook\n\n```Python\nsetExample = set()\nsetExample\nsetExample = {1, 2, 3}\nsetExample\nsetExample.add(4)\nsetExample.add(0)\nsetExample\nsetExample.add('H')\nsetExample\nsetExample.add('A')\nsetExample.add('Z')\nsetExample\n{0, 1, 2, 3, 4, 'A', 'H', 'Z'}\n```. ",
    "RaghuNaik": "Guys, would appreciate any feedback to get hydrogen installed on my machine. . ",
    "jeremyj": "OK I finally found a solution to this problem referenced here: https://github.com/nteract/jupyter-paths/issues/27. ",
    "sikaiser": "I sent one (#1421). Hope this is what you had in mind.\nI used the text that I suggested above. It's maybe not perfect, as not every mapping has to be manually specified. But I figured this would then become clear to the user from the description of the language mapping setting.. ",
    "goi42": "\n\nThere's a setting in Hydrogen to turn off Autocomplete. This should allow you to use Hydrogen at least.\n\n\nYes, this prevents the error. I would really like to be able to use those features, but this is at least a workaround.\n\n\n\n\nThis error does not occur in an iPython session nor in a Jupyter notebook\n   I believe those use Tab and Ctrl+Space respectively to show completions. If you manually ask for completions in those environments, do you get the same bug?\n\n\n\n\nTab completion works fine in iPython. It does break in Jupyter though...\n. Yes, thank you for your help. Sorry for dragging you into my debugging.. ",
    "JackCaster": "I am also unable to install Hydrogen under Windows 10 and Atom 1.31.1.\nWhen I run apm install hydrogen, I get the error message saved in the gist: https://gist.github.com/JackCaster/146fad47467cdde99a136890534944f6\nIf you look at line 98, there are some complains on the Python version not being <3.0. Can this explain the failure?. > @JackCaster there is definitely an issue with node gyp if it doesn't find python 2. See this issue.\nmmm... it seems the issue you linked to is still unresolved. I am not sure on what I should do next to install Hydrogen.  Any suggestions?. > This had worked for me on a similar issue previously:\n\natom/atom#15925 (comment)\n\nAs suggested, I tried what is described in https://github.com/atom/apm/issues/179#issuecomment-399618944. I created a Conda environment with Python 2.7 and set the path in apm \napm config set python /path/to/python2.7\nIn the apm script, however, I do not have anything like export npm_config_python=\"${binDir}/python-interceptor.sh\" . In apm.sh I have \n```\n!/bin/sh\n\"$(dirname \"$0\")/../app-1.31.1/resources/cli/apm.sh\" \"$@\"\nand in `apm.cmd` I have\n@echo off\n\"%~dp0..\\app-1.31.1\\resources\\cli\\atom.cmd\" %*\nI also installed node 8.12 which is available in the path.\nI then ran `apm install hydrogen` and the installation fails. The log is available [here](https://gist.github.com/JackCaster/146fad47467cdde99a136890534944f6), and the error in the terminal is\nInstalling hydrogen to C:\\Users\\moran.atom\\packages failed\n\ncanvas@1.6.12 install C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\nnode-gyp rebuild\n\nC:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas>if not defined npm_config_node_gyp (node \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin\\....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\nWarning: Missing input files:\nC:\\GTK\\bin\\zlib1.dll\nC:\\GTK\\bin\\libexpat-1.dll\nC:\\GTK\\bin\\libpng14-14.dll\nC:\\GTK\\bin\\libcairo-2.dll\nC:\\GTK\\bin\\libfontconfig-1.dll\nC:\\GTK\\bin\\libfreetype-6.dll\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\nMSBUILD : error MSB4132: The tools version \"2.0\" is unrecognized. Available tools versions are \"4.0\".\n\nzeromq@4.6.0 install C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\nnode scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\n\nprebuild-install WARN install unexpected end of file\nDownloading libzmq for Windows\nDownload finished\nC:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq>if not defined npm_config_node_gyp (node \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\npm\\node_modules\\npm-lifecycle\\node-gyp-bin\\....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )  else (node \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\..\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild )\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\nMSBUILD : error MSB4132: The tools version \"2.0\" is unrecognized. Available tools versions are \"4.0\".\ngyp info it worked if it ends with ok\ngyp verb cli [ 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\node.exe',\ngyp verb cli   'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\bin\\node-gyp.js',\ngyp verb cli   'rebuild' ]\ngyp info using node-gyp@3.4.0\ngyp info using node@8.9.3 | win32 | x64\ngyp verb command rebuild []\ngyp verb command clean []\ngyp verb clean removing \"build\" directory\ngyp verb command configure []\ngyp verb check python checking for Python executable \"C:\\Miniconda3\\envs\\python27\\python.exe\" in the PATH\ngyp verb which succeeded C:\\Miniconda3\\envs\\python27\\python.exe C:\\Miniconda3\\envs\\python27\\python.exe\ngyp verb check python version C:\\Miniconda3\\envs\\python27\\python.exe -c \"import platform; print(platform.python_version());\" returned: \"2.7.15\\r\\n\"\ngyp verb get node dir compiling against --target node version: 2.0.7\ngyp verb command install [ '2.0.7' ]\ngyp verb install input version string \"2.0.7\"\ngyp verb install installing version: iojs-2.0.7\ngyp verb install --ensure was passed, so won't reinstall if already installed\ngyp verb install version is already installed, need to check \"installVersion\"\ngyp verb got \"installVersion\" 9\ngyp verb needs \"installVersion\" 9\ngyp verb install version is good\ngyp verb get node dir target node version installed: iojs-2.0.7\ngyp verb build dir attempting to create \"build\" dir: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\build\ngyp verb build dir \"build\" dir needed to be created? C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\build\ngyp verb build/config.gypi creating config file\ngyp sill build/config.gypi { target_defaults:\ngyp sill build/config.gypi    { cflags: [],\ngyp sill build/config.gypi      default_configuration: 'Release',\ngyp sill build/config.gypi      defines: [],\ngyp sill build/config.gypi      include_dirs: [],\ngyp sill build/config.gypi      libraries: [] },\ngyp sill build/config.gypi   variables:\ngyp sill build/config.gypi    { asan: 0,\ngyp sill build/config.gypi      coverage: false,\ngyp sill build/config.gypi      debug_devtools: 'node',\ngyp sill build/config.gypi      debug_http2: false,\ngyp sill build/config.gypi      debug_nghttp2: false,\ngyp sill build/config.gypi      force_dynamic_crt: 0,\ngyp sill build/config.gypi      host_arch: 'x64',\ngyp sill build/config.gypi      icu_data_file: 'icudt59l.dat',\ngyp sill build/config.gypi      icu_data_in: '..\\..\\deps/icu-small\\source/data/in\\icudt59l.dat',\ngyp sill build/config.gypi      icu_endianness: 'l',\ngyp sill build/config.gypi      icu_gyp_path: 'tools/icu/icu-generic.gyp',\ngyp sill build/config.gypi      icu_locales: 'en,root',\ngyp sill build/config.gypi      icu_path: 'deps/icu-small',\ngyp sill build/config.gypi      icu_small: true,\ngyp sill build/config.gypi      icu_ver_major: '59',\ngyp sill build/config.gypi      node_byteorder: 'little',\ngyp sill build/config.gypi      node_enable_d8: false,\ngyp sill build/config.gypi      node_enable_v8_vtunejit: false,\ngyp sill build/config.gypi      node_install_npm: true,\ngyp sill build/config.gypi      node_module_version: 57,\ngyp sill build/config.gypi      node_no_browser_globals: false,\ngyp sill build/config.gypi      node_prefix: '/usr/local',\ngyp sill build/config.gypi      node_release_urlbase: 'https://nodejs.org/download/release/',\ngyp sill build/config.gypi      node_shared: false,\ngyp sill build/config.gypi      node_shared_cares: false,\ngyp sill build/config.gypi      node_shared_http_parser: false,\ngyp sill build/config.gypi      node_shared_libuv: false,\ngyp sill build/config.gypi      node_shared_openssl: false,\ngyp sill build/config.gypi      node_shared_zlib: false,\ngyp sill build/config.gypi      node_tag: '',\ngyp sill build/config.gypi      node_use_bundled_v8: true,\ngyp sill build/config.gypi      node_use_dtrace: false,\ngyp sill build/config.gypi      node_use_etw: true,\ngyp sill build/config.gypi      node_use_lttng: false,\ngyp sill build/config.gypi      node_use_openssl: true,\ngyp sill build/config.gypi      node_use_perfctr: true,\ngyp sill build/config.gypi      node_use_v8_platform: true,\ngyp sill build/config.gypi      node_without_node_options: false,\ngyp sill build/config.gypi      openssl_fips: '',\ngyp sill build/config.gypi      openssl_no_asm: 0,\ngyp sill build/config.gypi      shlib_suffix: 'so.57',\ngyp sill build/config.gypi      target_arch: 'x64',\ngyp sill build/config.gypi      v8_enable_gdbjit: 0,\ngyp sill build/config.gypi      v8_enable_i18n_support: 1,\ngyp sill build/config.gypi      v8_enable_inspector: 1,\ngyp sill build/config.gypi      v8_no_strict_aliasing: 1,\ngyp sill build/config.gypi      v8_optimized_debug: 0,\ngyp sill build/config.gypi      v8_promise_internal_field_count: 1,\ngyp sill build/config.gypi      v8_random_seed: 0,\ngyp sill build/config.gypi      v8_trace_maps: 0,\ngyp sill build/config.gypi      v8_use_snapshot: true,\ngyp sill build/config.gypi      want_separate_host_toolset: 0,\ngyp sill build/config.gypi      nodedir: 'C:\\Users\\moran\\.atom\\.node-gyp\\.node-gyp\\iojs-2.0.7',\ngyp sill build/config.gypi      copy_dev_lib: true,\ngyp sill build/config.gypi      standalone_static_library: 1,\ngyp sill build/config.gypi      access: '',\ngyp sill build/config.gypi      allow_same_version: '',\ngyp sill build/config.gypi      also: '',\ngyp sill build/config.gypi      always_auth: '',\ngyp sill build/config.gypi      audit: 'true',\ngyp sill build/config.gypi      auth_type: 'legacy',\ngyp sill build/config.gypi      bin_links: 'true',\ngyp sill build/config.gypi      browser: '',\ngyp sill build/config.gypi      ca: '',\ngyp sill build/config.gypi      cache: 'C:\\Users\\moran\\.atom\\.apm',\ngyp sill build/config.gypi      cache_lock_retries: '10',\ngyp sill build/config.gypi      cache_lock_stale: '60000',\ngyp sill build/config.gypi      cache_lock_wait: '10000',\ngyp sill build/config.gypi      cache_max: 'Infinity',\ngyp sill build/config.gypi      cache_min: '10',\ngyp sill build/config.gypi      cert: '',\ngyp sill build/config.gypi      cidr: '',\ngyp sill build/config.gypi      color: 'true',\ngyp sill build/config.gypi      commit_hooks: 'true',\ngyp sill build/config.gypi      depth: 'Infinity',\ngyp sill build/config.gypi      description: 'true',\ngyp sill build/config.gypi      dev: '',\ngyp sill build/config.gypi      dist_url: 'https://atom.io/download/electron',\ngyp sill build/config.gypi      dry_run: '',\ngyp sill build/config.gypi      editor: 'notepad.exe',\ngyp sill build/config.gypi      engine_strict: '',\ngyp sill build/config.gypi      fetch_retries: '2',\ngyp sill build/config.gypi      fetch_retry_factor: '10',\ngyp sill build/config.gypi      fetch_retry_maxtimeout: '60000',\ngyp sill build/config.gypi      fetch_retry_mintimeout: '10000',\ngyp sill build/config.gypi      force: '',\ngyp sill build/config.gypi      git: 'git',\ngyp sill build/config.gypi      git_tag_version: 'true',\ngyp sill build/config.gypi      global: '',\ngyp sill build/config.gypi      globalconfig: 'C:\\Users\\moran\\.atom\\.apm\\.apmrc',\ngyp sill build/config.gypi      globalignorefile: 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\etc\\npmignore',\ngyp sill build/config.gypi      global_style: 'true',\ngyp sill build/config.gypi      group: '',\ngyp sill build/config.gypi      ham_it_up: '',\ngyp sill build/config.gypi      heading: 'npm',\ngyp sill build/config.gypi      https_proxy: '',\ngyp sill build/config.gypi      if_present: '',\ngyp sill build/config.gypi      ignore_prepublish: '',\ngyp sill build/config.gypi      ignore_scripts: '',\ngyp sill build/config.gypi      init_author_email: '',\ngyp sill build/config.gypi      init_author_name: '',\ngyp sill build/config.gypi      init_author_url: '',\ngyp sill build/config.gypi      init_license: 'ISC',\ngyp sill build/config.gypi      init_module: 'C:\\Users\\moran\\.atom\\.node-gyp\\.npm-init.js',\ngyp sill build/config.gypi      init_version: '1.0.0',\ngyp sill build/config.gypi      json: '',\ngyp sill build/config.gypi      key: '',\ngyp sill build/config.gypi      legacy_bundling: '',\ngyp sill build/config.gypi      link: '',\ngyp sill build/config.gypi      local_address: '',\ngyp sill build/config.gypi      logs_max: '10',\ngyp sill build/config.gypi      long: '',\ngyp sill build/config.gypi      maxsockets: '50',\ngyp sill build/config.gypi      message: '%s',\ngyp sill build/config.gypi      metrics_registry: 'https://registry.npmjs.org/',\ngyp sill build/config.gypi      node_gyp: 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js',\ngyp sill build/config.gypi      node_options: '',\ngyp sill build/config.gypi      node_version: '8.9.3',\ngyp sill build/config.gypi      no_proxy: '',\ngyp sill build/config.gypi      offline: '',\ngyp sill build/config.gypi      onload_script: '',\ngyp sill build/config.gypi      only: '',\ngyp sill build/config.gypi      optional: 'true',\ngyp sill build/config.gypi      otp: '',\ngyp sill build/config.gypi      package_lock: 'true',\ngyp sill build/config.gypi      package_lock_only: '',\ngyp sill build/config.gypi      parseable: '',\ngyp sill build/config.gypi      prefer_offline: '',\ngyp sill build/config.gypi      prefer_online: '',\ngyp sill build/config.gypi      prefix: 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin',\ngyp sill build/config.gypi      production: '',\ngyp sill build/config.gypi      progress: '',\ngyp sill build/config.gypi      read_only: '',\ngyp sill build/config.gypi      rebuild_bundle: 'true',\ngyp sill build/config.gypi      registry: 'https://registry.npmjs.org/',\ngyp sill build/config.gypi      rollback: 'true',\ngyp sill build/config.gypi      runtime: 'electron',\ngyp sill build/config.gypi      save: 'true',\ngyp sill build/config.gypi      save_bundle: '',\ngyp sill build/config.gypi      save_dev: '',\ngyp sill build/config.gypi      save_exact: '',\ngyp sill build/config.gypi      save_optional: '',\ngyp sill build/config.gypi      save_prefix: '^',\ngyp sill build/config.gypi      save_prod: '',\ngyp sill build/config.gypi      scope: '',\ngyp sill build/config.gypi      scripts_prepend_node_path: 'warn-only',\ngyp sill build/config.gypi      script_shell: '',\ngyp sill build/config.gypi      searchexclude: '',\ngyp sill build/config.gypi      searchlimit: '20',\ngyp sill build/config.gypi      searchopts: '',\ngyp sill build/config.gypi      searchstaleness: '900',\ngyp sill build/config.gypi      send_metrics: '',\ngyp sill build/config.gypi      shell: 'C:\\WINDOWS\\system32\\cmd.exe',\ngyp sill build/config.gypi      shrinkwrap: 'true',\ngyp sill build/config.gypi      sign_git_commit: '',\ngyp sill build/config.gypi      sign_git_tag: '',\ngyp sill build/config.gypi      sso_poll_frequency: '500',\ngyp sill build/config.gypi      sso_type: 'oauth',\ngyp sill build/config.gypi      strict_ssl: 'true',\ngyp sill build/config.gypi      tag: 'latest',\ngyp sill build/config.gypi      tag_version_prefix: 'v',\ngyp sill build/config.gypi      target: '2.0.7',\ngyp sill build/config.gypi      timing: '',\ngyp sill build/config.gypi      tmp: 'C:\\Users\\moran\\AppData\\Local\\Temp',\ngyp sill build/config.gypi      umask: '0000',\ngyp sill build/config.gypi      unicode: '',\ngyp sill build/config.gypi      unsafe_perm: 'true',\ngyp sill build/config.gypi      update_notifier: 'true',\ngyp sill build/config.gypi      usage: '',\ngyp sill build/config.gypi      user: '',\ngyp sill build/config.gypi      userconfig: 'C:\\Users\\moran\\.atom\\.apmrc',\ngyp sill build/config.gypi      user_agent: 'npm/6.2.0 node/v8.9.3 win32 x64',\ngyp sill build/config.gypi      version: '',\ngyp sill build/config.gypi      versions: '',\ngyp sill build/config.gypi      viewer: 'browser' } }\ngyp verb build/config.gypi writing out config file: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\build\\config.gypi\ngyp verb config.gypi checking for gypi file: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\config.gypi\ngyp verb common.gypi checking for gypi file: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\common.gypi\ngyp verb gyp gyp format was not specified; forcing \"msvs\"\ngyp info spawn C:\\Miniconda3\\envs\\python27\\python.exe\ngyp info spawn args [ 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\gyp\\gyp_main.py',\ngyp info spawn args   'binding.gyp',\ngyp info spawn args   '-f',\ngyp info spawn args   'msvs',\ngyp info spawn args   '-G',\ngyp info spawn args   'msvs_version=auto',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\build\\config.gypi',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\addon.gypi',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\Users\\moran\\.atom\\.node-gyp\\.node-gyp\\iojs-2.0.7\\common.gypi',\ngyp info spawn args   '-Dlibrary=shared_library',\ngyp info spawn args   '-Dvisibility=default',\ngyp info spawn args   '-Dnode_root_dir=C:\\Users\\moran\\.atom\\.node-gyp\\.node-gyp\\iojs-2.0.7',\ngyp info spawn args   '-Dnode_gyp_dir=C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp',\ngyp info spawn args   '-Dnode_lib_file=iojs.lib',\ngyp info spawn args   '-Dmodule_root_dir=C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas',\ngyp info spawn args   '--depth=.',\ngyp info spawn args   '--no-parallel',\ngyp info spawn args   '--generator-output',\ngyp info spawn args   'C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\\build',\ngyp info spawn args   '-Goutput_dir=.' ]\ngyp verb command build []\ngyp verb build type Release\ngyp verb architecture x64\ngyp verb node dev dir C:\\Users\\moran.atom.node-gyp.node-gyp\\iojs-2.0.7\ngyp verb found first Solution file build/binding.sln\ngyp verb could not find \"msbuild.exe\" in PATH - finding location in registry\ngyp verb \"Release\" dir needed to be created? C:\\Users\\moran.atom.node-gyp.node-gyp\\iojs-2.0.7\\Release\ngyp verb copying \"iojs.lib\" for x64 C:\\Users\\moran.atom.node-gyp.node-gyp\\iojs-2.0.7\\Release\\iojs.lib\ngyp info spawn C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\msbuild.exe\ngyp info spawn args [ 'build/binding.sln',\ngyp info spawn args   '/clp:Verbosity=minimal',\ngyp info spawn args   '/nologo',\ngyp info spawn args   '/p:Configuration=Release;Platform=x64' ]\ngyp ERR! build error\ngyp ERR! stack Error: C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\msbuild.exe failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onExit (C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\build.js:276:23)\ngyp ERR! stack     at emitTwo (events.js:126:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:214:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:198:12)\ngyp ERR! System Windows_NT 10.0.17134\ngyp ERR! command \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\bin\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\canvas\ngyp ERR! node -v v8.9.3\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\ngyp info it worked if it ends with ok\ngyp verb cli [ 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\node.exe',\ngyp verb cli   'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\bin\\node-gyp.js',\ngyp verb cli   'rebuild' ]\ngyp info using node-gyp@3.4.0\ngyp info using node@8.9.3 | win32 | x64\ngyp verb command rebuild []\ngyp verb command clean []\ngyp verb clean removing \"build\" directory\ngyp verb command configure []\ngyp verb check python checking for Python executable \"C:\\Miniconda3\\envs\\python27\\python.exe\" in the PATH\ngyp verb which succeeded C:\\Miniconda3\\envs\\python27\\python.exe C:\\Miniconda3\\envs\\python27\\python.exe\ngyp verb check python version C:\\Miniconda3\\envs\\python27\\python.exe -c \"import platform; print(platform.python_version());\" returned: \"2.7.15\\r\\n\"\ngyp verb get node dir compiling against --target node version: 2.0.7\ngyp verb command install [ '2.0.7' ]\ngyp verb install input version string \"2.0.7\"\ngyp verb install installing version: iojs-2.0.7\ngyp verb install --ensure was passed, so won't reinstall if already installed\ngyp verb install version is already installed, need to check \"installVersion\"\ngyp verb got \"installVersion\" 9\ngyp verb needs \"installVersion\" 9\ngyp verb install version is good\ngyp verb get node dir target node version installed: iojs-2.0.7\ngyp verb build dir attempting to create \"build\" dir: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\build\ngyp verb build dir \"build\" dir needed to be created? C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\build\ngyp verb build/config.gypi creating config file\ngyp sill build/config.gypi { target_defaults:\ngyp sill build/config.gypi    { cflags: [],\ngyp sill build/config.gypi      default_configuration: 'Release',\ngyp sill build/config.gypi      defines: [],\ngyp sill build/config.gypi      include_dirs: [],\ngyp sill build/config.gypi      libraries: [] },\ngyp sill build/config.gypi   variables:\ngyp sill build/config.gypi    { asan: 0,\ngyp sill build/config.gypi      coverage: false,\ngyp sill build/config.gypi      debug_devtools: 'node',\ngyp sill build/config.gypi      debug_http2: false,\ngyp sill build/config.gypi      debug_nghttp2: false,\ngyp sill build/config.gypi      force_dynamic_crt: 0,\ngyp sill build/config.gypi      host_arch: 'x64',\ngyp sill build/config.gypi      icu_data_file: 'icudt59l.dat',\ngyp sill build/config.gypi      icu_data_in: '..\\..\\deps/icu-small\\source/data/in\\icudt59l.dat',\ngyp sill build/config.gypi      icu_endianness: 'l',\ngyp sill build/config.gypi      icu_gyp_path: 'tools/icu/icu-generic.gyp',\ngyp sill build/config.gypi      icu_locales: 'en,root',\ngyp sill build/config.gypi      icu_path: 'deps/icu-small',\ngyp sill build/config.gypi      icu_small: true,\ngyp sill build/config.gypi      icu_ver_major: '59',\ngyp sill build/config.gypi      node_byteorder: 'little',\ngyp sill build/config.gypi      node_enable_d8: false,\ngyp sill build/config.gypi      node_enable_v8_vtunejit: false,\ngyp sill build/config.gypi      node_install_npm: true,\ngyp sill build/config.gypi      node_module_version: 57,\ngyp sill build/config.gypi      node_no_browser_globals: false,\ngyp sill build/config.gypi      node_prefix: '/usr/local',\ngyp sill build/config.gypi      node_release_urlbase: 'https://nodejs.org/download/release/',\ngyp sill build/config.gypi      node_shared: false,\ngyp sill build/config.gypi      node_shared_cares: false,\ngyp sill build/config.gypi      node_shared_http_parser: false,\ngyp sill build/config.gypi      node_shared_libuv: false,\ngyp sill build/config.gypi      node_shared_openssl: false,\ngyp sill build/config.gypi      node_shared_zlib: false,\ngyp sill build/config.gypi      node_tag: '',\ngyp sill build/config.gypi      node_use_bundled_v8: true,\ngyp sill build/config.gypi      node_use_dtrace: false,\ngyp sill build/config.gypi      node_use_etw: true,\ngyp sill build/config.gypi      node_use_lttng: false,\ngyp sill build/config.gypi      node_use_openssl: true,\ngyp sill build/config.gypi      node_use_perfctr: true,\ngyp sill build/config.gypi      node_use_v8_platform: true,\ngyp sill build/config.gypi      node_without_node_options: false,\ngyp sill build/config.gypi      openssl_fips: '',\ngyp sill build/config.gypi      openssl_no_asm: 0,\ngyp sill build/config.gypi      shlib_suffix: 'so.57',\ngyp sill build/config.gypi      target_arch: 'x64',\ngyp sill build/config.gypi      v8_enable_gdbjit: 0,\ngyp sill build/config.gypi      v8_enable_i18n_support: 1,\ngyp sill build/config.gypi      v8_enable_inspector: 1,\ngyp sill build/config.gypi      v8_no_strict_aliasing: 1,\ngyp sill build/config.gypi      v8_optimized_debug: 0,\ngyp sill build/config.gypi      v8_promise_internal_field_count: 1,\ngyp sill build/config.gypi      v8_random_seed: 0,\ngyp sill build/config.gypi      v8_trace_maps: 0,\ngyp sill build/config.gypi      v8_use_snapshot: true,\ngyp sill build/config.gypi      want_separate_host_toolset: 0,\ngyp sill build/config.gypi      nodedir: 'C:\\Users\\moran\\.atom\\.node-gyp\\.node-gyp\\iojs-2.0.7',\ngyp sill build/config.gypi      copy_dev_lib: true,\ngyp sill build/config.gypi      standalone_static_library: 1,\ngyp sill build/config.gypi      access: '',\ngyp sill build/config.gypi      allow_same_version: '',\ngyp sill build/config.gypi      also: '',\ngyp sill build/config.gypi      always_auth: '',\ngyp sill build/config.gypi      audit: 'true',\ngyp sill build/config.gypi      auth_type: 'legacy',\ngyp sill build/config.gypi      bin_links: 'true',\ngyp sill build/config.gypi      browser: '',\ngyp sill build/config.gypi      ca: '',\ngyp sill build/config.gypi      cache: 'C:\\Users\\moran\\.atom\\.apm',\ngyp sill build/config.gypi      cache_lock_retries: '10',\ngyp sill build/config.gypi      cache_lock_stale: '60000',\ngyp sill build/config.gypi      cache_lock_wait: '10000',\ngyp sill build/config.gypi      cache_max: 'Infinity',\ngyp sill build/config.gypi      cache_min: '10',\ngyp sill build/config.gypi      cert: '',\ngyp sill build/config.gypi      cidr: '',\ngyp sill build/config.gypi      color: 'true',\ngyp sill build/config.gypi      commit_hooks: 'true',\ngyp sill build/config.gypi      depth: 'Infinity',\ngyp sill build/config.gypi      description: 'true',\ngyp sill build/config.gypi      dev: '',\ngyp sill build/config.gypi      dist_url: 'https://atom.io/download/electron',\ngyp sill build/config.gypi      dry_run: '',\ngyp sill build/config.gypi      editor: 'notepad.exe',\ngyp sill build/config.gypi      engine_strict: '',\ngyp sill build/config.gypi      fetch_retries: '2',\ngyp sill build/config.gypi      fetch_retry_factor: '10',\ngyp sill build/config.gypi      fetch_retry_maxtimeout: '60000',\ngyp sill build/config.gypi      fetch_retry_mintimeout: '10000',\ngyp sill build/config.gypi      force: '',\ngyp sill build/config.gypi      git: 'git',\ngyp sill build/config.gypi      git_tag_version: 'true',\ngyp sill build/config.gypi      global: '',\ngyp sill build/config.gypi      globalconfig: 'C:\\Users\\moran\\.atom\\.apm\\.apmrc',\ngyp sill build/config.gypi      globalignorefile: 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\etc\\npmignore',\ngyp sill build/config.gypi      global_style: 'true',\ngyp sill build/config.gypi      group: '',\ngyp sill build/config.gypi      ham_it_up: '',\ngyp sill build/config.gypi      heading: 'npm',\ngyp sill build/config.gypi      https_proxy: '',\ngyp sill build/config.gypi      if_present: '',\ngyp sill build/config.gypi      ignore_prepublish: '',\ngyp sill build/config.gypi      ignore_scripts: '',\ngyp sill build/config.gypi      init_author_email: '',\ngyp sill build/config.gypi      init_author_name: '',\ngyp sill build/config.gypi      init_author_url: '',\ngyp sill build/config.gypi      init_license: 'ISC',\ngyp sill build/config.gypi      init_module: 'C:\\Users\\moran\\.atom\\.node-gyp\\.npm-init.js',\ngyp sill build/config.gypi      init_version: '1.0.0',\ngyp sill build/config.gypi      json: '',\ngyp sill build/config.gypi      key: '',\ngyp sill build/config.gypi      legacy_bundling: '',\ngyp sill build/config.gypi      link: '',\ngyp sill build/config.gypi      local_address: '',\ngyp sill build/config.gypi      logs_max: '10',\ngyp sill build/config.gypi      long: '',\ngyp sill build/config.gypi      maxsockets: '50',\ngyp sill build/config.gypi      message: '%s',\ngyp sill build/config.gypi      metrics_registry: 'https://registry.npmjs.org/',\ngyp sill build/config.gypi      node_gyp: 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\\\..\\node_modules\\node-gyp\\bin\\node-gyp.js',\ngyp sill build/config.gypi      node_options: '',\ngyp sill build/config.gypi      node_version: '8.9.3',\ngyp sill build/config.gypi      no_proxy: '',\ngyp sill build/config.gypi      offline: '',\ngyp sill build/config.gypi      onload_script: '',\ngyp sill build/config.gypi      only: '',\ngyp sill build/config.gypi      optional: 'true',\ngyp sill build/config.gypi      otp: '',\ngyp sill build/config.gypi      package_lock: 'true',\ngyp sill build/config.gypi      package_lock_only: '',\ngyp sill build/config.gypi      parseable: '',\ngyp sill build/config.gypi      prefer_offline: '',\ngyp sill build/config.gypi      prefer_online: '',\ngyp sill build/config.gypi      prefix: 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin',\ngyp sill build/config.gypi      production: '',\ngyp sill build/config.gypi      progress: '',\ngyp sill build/config.gypi      read_only: '',\ngyp sill build/config.gypi      rebuild_bundle: 'true',\ngyp sill build/config.gypi      registry: 'https://registry.npmjs.org/',\ngyp sill build/config.gypi      rollback: 'true',\ngyp sill build/config.gypi      runtime: 'electron',\ngyp sill build/config.gypi      save: 'true',\ngyp sill build/config.gypi      save_bundle: '',\ngyp sill build/config.gypi      save_dev: '',\ngyp sill build/config.gypi      save_exact: '',\ngyp sill build/config.gypi      save_optional: '',\ngyp sill build/config.gypi      save_prefix: '^',\ngyp sill build/config.gypi      save_prod: '',\ngyp sill build/config.gypi      scope: '',\ngyp sill build/config.gypi      scripts_prepend_node_path: 'warn-only',\ngyp sill build/config.gypi      script_shell: '',\ngyp sill build/config.gypi      searchexclude: '',\ngyp sill build/config.gypi      searchlimit: '20',\ngyp sill build/config.gypi      searchopts: '',\ngyp sill build/config.gypi      searchstaleness: '900',\ngyp sill build/config.gypi      send_metrics: '',\ngyp sill build/config.gypi      shell: 'C:\\WINDOWS\\system32\\cmd.exe',\ngyp sill build/config.gypi      shrinkwrap: 'true',\ngyp sill build/config.gypi      sign_git_commit: '',\ngyp sill build/config.gypi      sign_git_tag: '',\ngyp sill build/config.gypi      sso_poll_frequency: '500',\ngyp sill build/config.gypi      sso_type: 'oauth',\ngyp sill build/config.gypi      strict_ssl: 'true',\ngyp sill build/config.gypi      tag: 'latest',\ngyp sill build/config.gypi      tag_version_prefix: 'v',\ngyp sill build/config.gypi      target: '2.0.7',\ngyp sill build/config.gypi      timing: '',\ngyp sill build/config.gypi      tmp: 'C:\\Users\\moran\\AppData\\Local\\Temp',\ngyp sill build/config.gypi      umask: '0000',\ngyp sill build/config.gypi      unicode: '',\ngyp sill build/config.gypi      unsafe_perm: 'true',\ngyp sill build/config.gypi      update_notifier: 'true',\ngyp sill build/config.gypi      usage: '',\ngyp sill build/config.gypi      user: '',\ngyp sill build/config.gypi      userconfig: 'C:\\Users\\moran\\.atom\\.apmrc',\ngyp sill build/config.gypi      user_agent: 'npm/6.2.0 node/v8.9.3 win32 x64',\ngyp sill build/config.gypi      version: '',\ngyp sill build/config.gypi      versions: '',\ngyp sill build/config.gypi      viewer: 'browser' } }\ngyp verb build/config.gypi writing out config file: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\build\\config.gypi\ngyp verb config.gypi checking for gypi file: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\config.gypi\ngyp verb common.gypi checking for gypi file: C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\common.gypi\ngyp verb gyp gyp format was not specified; forcing \"msvs\"\ngyp info spawn C:\\Miniconda3\\envs\\python27\\python.exe\ngyp info spawn args [ 'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\gyp\\gyp_main.py',\ngyp info spawn args   'binding.gyp',\ngyp info spawn args   '-f',\ngyp info spawn args   'msvs',\ngyp info spawn args   '-G',\ngyp info spawn args   'msvs_version=auto',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\build\\config.gypi',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\addon.gypi',\ngyp info spawn args   '-I',\ngyp info spawn args   'C:\\Users\\moran\\.atom\\.node-gyp\\.node-gyp\\iojs-2.0.7\\common.gypi',\ngyp info spawn args   '-Dlibrary=shared_library',\ngyp info spawn args   '-Dvisibility=default',\ngyp info spawn args   '-Dnode_root_dir=C:\\Users\\moran\\.atom\\.node-gyp\\.node-gyp\\iojs-2.0.7',\ngyp info spawn args   '-Dnode_gyp_dir=C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp',\ngyp info spawn args   '-Dnode_lib_file=iojs.lib',\ngyp info spawn args   '-Dmodule_root_dir=C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq',\ngyp info spawn args   '--depth=.',\ngyp info spawn args   '--no-parallel',\ngyp info spawn args   '--generator-output',\ngyp info spawn args   'C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\\build',\ngyp info spawn args   '-Goutput_dir=.' ]\ngyp verb command build []\ngyp verb build type Release\ngyp verb architecture x64\ngyp verb node dev dir C:\\Users\\moran.atom.node-gyp.node-gyp\\iojs-2.0.7\ngyp verb found first Solution file build/binding.sln\ngyp verb could not find \"msbuild.exe\" in PATH - finding location in registry\ngyp verb \"Release\" dir needed to be created? null\ngyp verb copying \"iojs.lib\" for x64 C:\\Users\\moran.atom.node-gyp.node-gyp\\iojs-2.0.7\\Release\\iojs.lib\ngyp info spawn C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\msbuild.exe\ngyp info spawn args [ 'build/binding.sln',\ngyp info spawn args   '/clp:Verbosity=minimal',\ngyp info spawn args   '/nologo',\ngyp info spawn args   '/p:Configuration=Release;Platform=x64' ]\ngyp ERR! build error\ngyp ERR! stack Error: C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\msbuild.exe failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onExit (C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\lib\\build.js:276:23)\ngyp ERR! stack     at emitTwo (events.js:126:13)\ngyp ERR! stack     at ChildProcess.emit (events.js:214:7)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:198:12)\ngyp ERR! System Windows_NT 10.0.17134\ngyp ERR! command \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\bin\\node.exe\" \"C:\\Users\\moran\\AppData\\Local\\atom\\app-1.31.1\\resources\\app\\apm\\node_modules\\node-gyp\\bin\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\node_modules\\Hydrogen\\node_modules\\zeromq\ngyp ERR! node -v v8.9.3\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nnpm WARN enoent ENOENT: no such file or directory, open 'C:\\Users\\moran\\AppData\\Local\\Temp\\apm-install-dir-11891-15488-1fsle7d.5unz\\package.json'\nnpm WARN react-rangeslider@2.2.0 requires a peer of react@^0.14.0 || ^15.0.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN commonmark-react-renderer@4.3.4 requires a peer of commonmark@^0.27.0 || ^0.26.0 || ^0.24.0 but none is installed. You must install peer dependencies yourself.\nnpm WARN apm-install-dir-11891-15488-1fsle7d.5unz No description\nnpm WARN apm-install-dir-11891-15488-1fsle7d.5unz No repository field.\nnpm WARN apm-install-dir-11891-15488-1fsle7d.5unz No README data\nnpm WARN apm-install-dir-11891-15488-1fsle7d.5unz No license field.\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.12 (node_modules\\Hydrogen\\node_modules\\canvas):\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: canvas@1.6.12 install: node-gyp rebuild\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: Exit status 1\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! zeromq@4.6.0 install: node scripts/prebuild-install.js || (node scripts/preinstall.js && node-gyp rebuild)\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the zeromq@4.6.0 install script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\moran.atom.apm_logs\\2018-10-01T09_16_16_553Z-debug.log\nI see it complains about:\ngyp ERR! node -v v8.9.3\ngyp ERR! node-gyp -v v3.4.0\ngyp ERR! not ok\nwhich is weird, as\nnode -v\nv8.12.0\n```\n. ",
    "mariogarcc": "I tried the basic \"print(\"Hello world\")\" after the code I was working with a couple months ago couldn't run.. > Can you show the code you tried to run?\n\n. Yes, sir. For the first installation method it prompted \"requirement already satisfied\" for a lot of paths. For the second one it printed Installed kernelspec python3 in C:\\ProgramData\\jupyter\\kernels\\python3, so I tried running the code again but it gave the same errors - in the dev console aswell.\nMaybe that python3 kernel should be located in another place? I have no idea.. > If you're in the command window, and you type ipython, it should enter the IPython terminal. Does that work for you?\nIt works perfectly, running simple code, too.\n\nAssuming it does, can you try opening Atom from the command line, by typing atom . into that same command window?\n\nIt opened atom succesfully, having C:\\Users\\myuser as a project folder.. Created another test file with the same code and it gives the same error (in the dev console aswell). :(. Well, I don't really know how it works. I posted in the official atom issues page and they told me this was a Hydrogen problem (probably since the script package is able to run the code). They also said the git error was a problem but had nothing to do with my issue. Thank you for your continued help anyway!. Worry not, I didn't mean it like that. I'm quite new to programming and have absolutely no idea about software or hardware so I'm as blind as a mole in these questions. I really appreciate anyone's help!. If you are referring to the \"Startup Code\" section of settings, it's on the default {}, with the settings above also being on default. If you're referring to config.cson, this is what I have (I haven't changed anything manually on this file, only through the settings view through atom):\n\n. Hey! The issue was definetely there. I didn't have the default path installed, I actually had the same I'm using now but the \"anaconda\" folder was written with lowercase letters, with the actual folder starting with an uppercase \"A\".\n So I changed that and now it works fine.\nThank you very much to everybody who helped!\n\n. ",
    "davidbarraza": "Hi @mariogarcc. I had the same problem, but I was able to solve it. As you see in the dev console, the yellow part says the problem is related to a kernel spec. This is a kernel.json file located in C:\\Users\\[username]\\AppData\\Roaming\\jupyter\\kernels\\python3 that pulls a python.exe in the \"argv\" argument. I use Anaconda, so when I first install it I didn't use the default path. The problem is that the .json file pulls the python.exe assuming you previously use the default installation directory. My solution was to change the path from \"C:\\ProgramData\\Anaconda3\\python.exe\" to \"C:\\Users\\anaconda\\Anaconda3\\python.exe\" where I install Anaconda. Now, it works like a charm!\n\nI hope this will help you.\n. ",
    "abbassiddiqi": "Cleaning the corrupted local npm cache may fix this error.\nnpm cache clean --force\n\nJust run your npm command again after executing the above command in your terminal.\n\nThere could be few other reasons for the invalid JSON, as described in the official documentation here.\nThe official npm website has well documented most of the common errors. But unfortunately they don\u2019t appear on the top results when you google the error.. ",
    "jonahsimon36": "Thank you for the response. I was not able to actually figure out how to change the language mappings (or even view them), but running the \"Hydrogen: Update Kernels\" command solved my problem.. ",
    "Ornataweaver": "Does it mean Hydrogen doesn't work with python2?. Seems like a lot of people are having trouble,\nMake sure 'pip' is working properly in your system. For me, pip2 is not responding so I worked with pip3.\nI got this from \"Joseph T\" in comments under a YouTube video:\n\"\nI had troubles with installation so here is a guide:\nInstall Hydrogen in Atom\nType in terminal:\nbash\npython3 -m pip install --upgrade pip; sudo python3 -m pip install jupyter\npython3 -m ipykernel install --user\nsudo pip install --upgrade ipykernel\nCtrl+Shift+P in Atom and type hydrogen update kernel\nAfter that select your python lines to run and press Ctrl+Enter\nIf still not working close and reopen Atom and try again\ufeff\n\"\nfrom https://www.youtube.com/watch?v=VcDbxEV-OI0\nThe thing is, you should install ipykernel separately yourself, in Terminal.\nAny kernel you want, for beginners like me, that was a challenge.. Can you guys refer to this more explicitly in the readme, for beginner?. I had Hydrogen installed more than a year ago. since it didn't work, I was afraid of going to it.\nUntil yesterday, I decided to get it to work no matter what.\nIt took me more than 3 hours.. One of the problems was that I thought jupyter was the kernel.\nI later found out I should install ipykernel.. Whatever I used in atom, was installed via atom or apm. This caused the confusion.\nAlthough it's good for learners to break habits.\nMany of consumers of atom are highschool kids, and even younger. So this can happen for them too.\nSuggestions\n\nStart the Installation page (https://nteract.gitbooks.io/hydrogen/docs/Installation.html) with:\ntext\n  Hydrogen requires Atom 1.20.0+ and kernels, \n  which should be installed outside of atom and apm, \n  for the languages you intend to use Hydrogen with.\nPut a \"Beginner notice:\" on the top and emphasize that kernels should be installed out of Atom.\nDevs read the rest of it more carefully, and won't make my mistake.\n\nThe second option is better.\nUserStoryHub\nTo top it off mentioning apm install hydrogen in the second line, gives the impression that kernels are installed via apm as well.. ",
    "chris-revell": "Actually yes it provides the following warning:\nHydrogen.kernelspec' could not set the default. Attempted default: undefined; Schema: {}\n. IPython does work in the terminal. Running jupyter kernelspec list --json shows that Hydrogen is pointing to a version of Python that no longer exists. Is there any way to change this?. That seems to have done the trick. Thanks very much. . ",
    "benzipperer": "Thanks! Yes, that thread does correctly identify that you need a baseUrl of http://SERVER:8000/user/USERNAME rather than just http://SERVER:8000/.\nI'm unsure but I think what I am struggling with is how to start jupyterhub-singleuser when necessary through Hydrogen or at least have this somehow start without having the user additionally log in through http://SERVER:8000/. \nAfter the jupyterhub-singleuser process is running for a given user (say because of the web login) hydrogen connects just fine. But after jupyterhub is restarted, say after a reboot, the user must use the web login before connecting with hydrogen, which I'd like to try to avoid.. ",
    "ctr26": "Is it a bug with hydrogen or with the way the ipython environment is set up? . I'm just a little confused as to why it behaves as it should on one system and differently on another. I'm guessing it's an issue with IPython?. ",
    "olgabaranov": "Ah, didn't know which is which. Thanks for the help!. ",
    "LordLTSmash": "Anaconda was reporting pillow 5.3 as installed. I downgraded to 5.0, it\ninstalled it again and all the dependencies and then it worked.\nAWESOME. Great software.\nThanks a lot. It seems it was a problem with Anaconda's installer, maybe.\nEl jue., 15 nov. 2018 a las 11:47, Kyle Barron (notifications@github.com)\nescribi\u00f3:\n\nIt looks like a Pillow dependency isn't found. From an Anaconda terminal,\ncan you try running:\nconda install -c conda-forge pillow\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/nteract/hydrogen/issues/1472#issuecomment-439129559,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/Aq_PC1G8Y26Baw1e5EdR7F3M3Y4DMR3jks5uvaiigaJpZM4Yg7nD\n.\n\n\n-- \nBenjam\u00edn Mart\u00ednez Velasco\n. ",
    "arnold-c": "That worked! Thanks for the help (and your work with Hydrogen - it's awesome!). ",
    "fredcallaway": "I'm not sure that the \"check if hidden\" approach would generate the correct behavior. By default, when you switch to a different tab, the output pane is hidden and it remains hidden when you switch back to the original tab (until you run some code and generate more output). So, I think if you used the \"check if hidden\" approach, you would effectively automatically toggle back to inline input every time you switched tabs, which I don't think is desirable.\nForgive my naivet\u00e9 (I've never developed an atom plugin) but would it be possible to simply attach a flag variable to atom.workspace indicating whether the output area is active?. I think it is most intuitive to have one command that toggles the visibility of the dock and also the direction of output, ie output should go to the dock if and only if the output area is visible.. I don't think it is an IJulia problem because I don't get this behavior in a Jupyter notebook running the IJulia kernel. Running these lines in a notebook cell vs. a Hydrogen cell (with the Run Cell command), I get newlines separating each line in the notebook only.\ndisplay(1)\ndisplay(2)\ndisplay(3)\nOf course, if I replace display with println, I get the behavior you'd expect. So it appears to be something unique to display which is quite odd, but also unfortunate because it is what implicitly gets run to display results whenever you run e.g. a line of code.. Huh! I am not sure how to reconcile that logging with the behavior in the notebook. Very mysterious. I will create an issue on the IJulia repo, as I think this is incorrect behavior on their end.\nIf Hydrogen wants to do something about this (and I understand why you might not), I think the thing to do would be to append a newline onto output that has output_type: \"display_data\". In some cases, you actually don't want a newline (e.g. when using print as opposed to println). But I think it's clear that a newline should be appended to the output of display (to match the behavior in the notebook and the console).\nThanks for your time spent debugging this issue!. Well this is embarrassing. I only just now thought to update my hydrogen (2.6.0 -> 2.8.0) and now it works correctly. Sorry to waste your time.... ",
    "robotdna": "\nHave you tried opening Atom on the command line after sourcing the environment?\n\nI'd love to try this, but have not; can you walk me through how I'd do this? . > If you're using conda environments\n\nconda create -n conda_env -c conda-forge jupyter pandas numpy ...\nsource activate conda_env\natom .\nIf you're not using conda environments, you just need to make sure your PATH is correct.\n\nI am not using conda environments to my knowledge (just installed Anaconda, and \"python file.py\" my stuff in the terminal). Is the PATH located in the Hydrogen settings? I am not seeing it. My .bashrc has a path specific to my Anaconda folder already. . > If you type ipython in your terminal, are you able to load numpy?\nBringing up a generic terminal, iPython works and numpy is recognized and able to be imported. . > And how are you starting atom? Are you starting it by clicking an icon or from the terminal? When you start Atom from the terminal, Atom receives all the environment variables from the terminal, and should find the same python executable.\n\nTry atom path/to/dir.\n\nI was opening it from an icon, in a Plasma dock. Opening via terminal seems to have everything working! Thank you for your assistance! . ",
    "hyperfraise": "It uses 3.6 by default and I haven't found anything that works to make it change.. python --version\nPython 3.7.0\n:/. I've successfully ran \n```\npython3.7 -m pip install ipykernel  # install the python kernel (ipykernel) globally\npython3.7 -m ipykernel install      # install python kernel into nteract's available kernel list` \nbut it still uses 3.6.\n$ jupyter kernelspec list --json\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"/home/damien/.local/share/jupyter/kernels/python3\",\n      \"spec\": {\n        \"argv\": [\n          \"/usr/bin/python3\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    }\n  }\n}\n```. Oh, it does show 3.6. This is the path of my 3.7 interpreter :\n/home/user/miniconda3/bin/python3.7. I did all of this with absolute paths to interpreters in with sudo su and it worked. Thanks a lot.. ",
    "camall3n": "I'm not sure if this is the same issue, but it seems related.\nWhen the results in multiple panes are on the same line, running either output clears the other. But when they are on different lines, running the output has the expected effect, which is to only update the current pane.\n\nEdit: This also happens even when the two panes aren't visible at the same time (e.g. if one pane is behind the other).\nEdit: By the way, this particular example doesn't require remote kernels; both are local kernels.. My strategy for especially scary rebases is to make a duplicate branch before I rebase. That way there's always an easy-to-reach backup even if something goes wrong.. ",
    "silvestre125": "After reinstalling Miniconda and Atom, the error is the following:\n\nI have installed ipython too (in root env, and my python3.7 env)\nHow can I configure the system path manually in Hydrogen?\nCan I give you more information in order to help me?\nThanks.\n. The output of\njupyter kernelspec list --json\non root env  (and my python37) is\n{\n  \"kernelspecs\": {\n    \"python3\": {\n      \"resource_dir\": \"C:\\\\Users\\\\*****\\\\AppData\\\\Roaming\\\\jupyter\\\\kernels\\\\python3\",\n      \"spec\": {\n        \"argv\": [\n          \"C:\\\\Users\\\\*****\\\\Miniconda3\\\\python.exe\",\n          \"-m\",\n          \"ipykernel_launcher\",\n          \"-f\",\n          \"{connection_file}\"\n        ],\n        \"env\": {},\n        \"display_name\": \"Python 3\",\n        \"language\": \"python\",\n        \"interrupt_mode\": \"signal\",\n        \"metadata\": {}\n      }\n    }\n  }\n}\nAfter execute \njupyter notebook\nI have the next output:\nError executing Jupyter command 'notebook': [Errno 'jupyter-notebook' not found] 2\nI have installed Jupyter notebooks on my env python37, and it opens and works properly.\nWhen I try to execute some code on Atom (with Jupyter notebooks running in Chrome), the error is the same:\n\nI have tried installing jupyter on my root env, but the error is the same.\n. ",
    "JohnCHarrington": "\nI wasn't sure if this should be its own PR, since it might need more discussion, but it would also be useful to add the import notebook functionality as an opener for .ipynb files. It's a simple 10-line change.\n\nI know nothing about how this works, but the ideal for me would be to have atom open .ipynb files like this, then export them on save. Everyone around me works directly in jupyter, this way I could work with them pretty seamlessly.\nOn a side note, how about having this import/export to/from the rich document format? Even if it only supported importing one language and markdown cells it would be nice to have the choice of which format to work in.\n. Fair enough, I can add a hotkey for export anyway. \nYes I mean markdown documents, then the grammar/kernelspec would be used to set the language on the code blocks.. ",
    "chanonlim": "I moved to a new computer because my old computer's HDD is probably corrupted so I don't have the original VDI file sadly. But I can make a new one, so. ",
    "FranciscoRZ": "Clarification: kernel restart seems to work fine after a second call.\nThis is probably a very minor issue, just thought you might want to know.. ",
    "jpenev": "Tried reinstalling, ran it, same error.\nDid the conda install:\n(base) C:\\Users\\jrp_3>conda install -c conda-forge pyzmq\nSolving environment: done\nPackage Plan\nenvironment location: C:\\Users\\jrp_3\\Anaconda3\nadded / updated specs:\n    - pyzmq\nThe following packages will be downloaded:\npackage                    |            build\n---------------------------|-----------------\nconda-4.5.12               |        py37_1000         660 KB  conda-forge\n\nThe following packages will be UPDATED:\nconda: 4.5.12-py37_0 --> 4.5.12-py37_1000 conda-forge\n\nProceed ([y]/n)? y\nDownloading and Extracting Packages\nconda-4.5.12         | 660 KB    | ############################################################################ | 100%\nPreparing transaction: done\nVerifying transaction: done\nExecuting transaction: done\n(base) C:\\Users\\jrp_3>\nTried rerunning it, same error. ",
    "SiSeUniBE": "I had the same issue when updating Hydrogen.\nconda update --all solved the issue (sorry, I don't have time to check which outdated package caused it). ",
    "ssuds": "Bingo, reinstalling ipython did the trick. Thanks @kylebarron!. ",
    "OnlineVagrant": "@kylebarron  running the first command in the R terminal executes but \n\nIRkernel::installspec()\ngives the following error\nError in IRkernel::installspec() :\n  jupyter-client has to be installed but \"jupyter kernelspec --version\" exited with code 127.\nIn addition: Warning message:\nIn system2(\"jupyter\", c(\"kernelspec\", \"--version\"), FALSE, FALSE) :\n  '\"jupyter\"' not found\n\nisn't jupyter installed by default when you install anocanda?\n. How do I go about doing that?\nDo I have to use the Anaconda terminal?\nusing terminals to install things isn't really my thing I find all this very confusing.\nI found these two commands for installing it using pip. \npython3 -m pip install --upgrade pip\npython3 -m pip install jupyter\nbut typing them into Anaconda gives  a CommandNotFoundError\n. I figured out the problem. It wasn't installing because I was executing the commands in the R terminal rather than running R from the anaconda terminal and then executing the commands.\n. ",
    "zachlanger19": "I have 'Enable Debug Messages' enabled. I also tried disabling teletype, same result as above minus the teletype messages.. Ah, thank you! When I ran jupyter kernelspec list --json, under argv it showed that is was still pointing to python3.6 rather than python3.7. This can be fixed with:\npython3.7 -m ipykernel install --user. ",
    "ondrejtichacek": "Seeing the reference in #1542, I think I should clarify: the current behavior does not seem to be a bug - switching files A - B - A does not permanently clear the output area of A. This feature request is aimed at showing output of A in the output area of B in a case that B has no active kernel.. @kylebarron That is correct, I am talking about the output pane, by default placed on the right side of atom interface. I made a short video capturing the issue with my workflow.. ",
    "pashashocky": "Is there a way to recover the missing communications from my currently running kernel? This would be very useful as I will miss out on roughly 12 hours of output.. @kylebarron Thank you, can you point me to how I can find that dictionary? That would be amaze!\nMeanwhile, looking at the issues. Thank you. @kylebarron #1539 is slightly different. It's talking about the output window allowing you to keep output from a different file. When you switch back to that tab, it would still be there though. \nThank you for the link!. @kylebarron Understood, thank you. Unfortunately the Out dictionary will not store printed output... or output that is printed by tqdm... or any other status updates as it seems.. ",
    "aviatesk": "Thanks for your quick reply !\nI totally got it. Certainly Hydrogen's core functionalities should be language-independent.\nClose this issue.. ",
    "WyRe": "Oh, then it was my bad, sorry, I thought I had to add simply there the language. I did not noticed about that syntax \n{\"kernel1\": \"grammar_kernel1\", \"kernel2\": \"grammar_kernel2\"}\nI guess I do not need to add anything extra for IRkernel, right? @BenRussert. ",
    "nl-datascience": "Dear all,\nI am facing the same issue.\nOS: Windows 10\nAtom: 1.34.0\nPython: Python 3.7.0\nHydrogen: 2.8.0\nLogs:\nTraceback (most recent call last): File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main \"main\", mod_spec) File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\runpy.py\", line 85, in _run_code exec(code, run_globals) File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\ipykernel_launcher.py\", line 15, in from ipykernel import kernelapp as app File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\ipykernel__init__.py\", line 2, in from .connect import File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\ipykernel\\connect.py\", line 18, in import jupyter_client File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\jupyter_client__init__.py\", line 4, in from .connect import File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\jupyter_client\\connect.py\", line 23, in import zmq File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\zmq__init__.py\", line 47, in from zmq import backend File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\zmq\\backend__init__.py\", line 40, in reraise(*exc_info) File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\zmq\\utils\\sixcerpt.py\", line 34, in reraise raise value File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\zmq\\backend__init__.py\", line 27, in _ns = select_backend(first) File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\zmq\\backend\\select.py\", line 27, in select_backend mod = import(name, fromlist=public_api) File \"C:\\Users\\m-a.nehrkorn-ludwig\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\zmq\\backend\\cython__init__.py\", line 6, in from . import (constants, error, message, context, ImportError: DLL load failed: Das angegebene Modul wurde nicht gefunden.\nThanks!. ",
    "joseppinilla": "I was having issues with Hydrogen 2.8.0 and Atom>1.28.0.\nI solved this by updating ipykernel\npip install --upgrade ipykernel. ",
    "gunwoo7": "Ok. It works properly. Thank you. ",
    "berbasscor": "It works fine in Jupyter Notebook, all outputs are generated and animations work perfectly (I've been using Bruce Sherwood's Demos to test it).\n\nHave you tried this: https://github.com/BruceSherwood/vpython-jupyter?\n\nI'm not quite sure what I should be trying or doing with this. . I believe this might be an answer to what I was looking for: #293 (which references #27.)\nWould that be it?. ",
    "MichaelSchmidt82": "Sounds great!  You'll have to excuse my ignorance, but I haven't actually contributed anything outside my own personal project.  Should I just submit a PR thats a fix for #1558 then?. ",
    "grahamanderson": "Strange. This is what I get.  Anything else it could be?\n\n. works fine :\\\n\n. I'm not familiar with atom's console. Here is the output. \n\n. yes. https://www.dropbox.com/s/k4y2xtcxopxx4u6/Screenshot%202019-02-25%2015.28.56.png?dl=0\n. Ok. Thanks. Hopefully, it's an easy fix. @BenRussert did you get a chance to look at this? I'll happily provide whatever info I can to get a dataframe to display in Hydrogen-Atom :) FYI, this was working properly--months ago when I last used it. Thanks in advance. numpy arrays work fine\n\nmy ipython version is: 6.2.1\nlmk what other questions I can answer\n. I upgraded to 7.3.0 ...restarted Atom in my virtual environment...\nstill a blank box\n\n. \n\nI'll join the slack channel.\n. \n. \n. ack...I updated jupyter which completely broke it...\nwhich i guess (in a way) solves my problem\n[C 11:40:26.167 NotebookApp] Bad config encountered during initialization:\n[C 11:40:26.168 NotebookApp] The 'kernel_spec_class' trait of  instance must be a type, but 'beakerx.kernel_spec.BeakerXKernelSpec' could not be imported\nFor those who may be experiencing this...I changed my config file to:\n/Users/me/anaconda3/envs/jupyter/etc/jupyter/jupyter_notebook_config.json\nNow, I'm getting Server 500 errors...when launching jupyter files\n{\n  \"NotebookApp\": {\n    \"nbserver_extensions\": {\n      \"jupyterlab\": false,\n      \"jupyter_nbextensions_configurator\": true,\n      \"nb_conda\": false,\n      \"beakerx\": true\n    }\n  }. my notebook version is 5.74\njupyter version is 4.4.0\nupgraded both. Post somewhat rocky updates, the dataframe are displaying properly in Hydrogen :)\nThe bad news is that Jupyter notebooks no longer display notebooks--filed [issue].(https://github.com/jupyter/notebook/issues/4438) with jupyter.\nThank the gods for virtual environments. ",
    "DizzyNDL": "Yeah i just ended up having to reinstall Atom. Thanks . ",
    "erileff": "When I tried to start a new JS notebook, I kept getting this:\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.7/site-packages/tornado/web.py\", line 1699, in _execute\n    result = await result\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 736, in run\n    yielded = self.gen.throw(*exc_info)  # type: ignore\n  File \"/usr/local/lib/python3.7/site-packages/notebook/services/sessions/handlers.py\", line 73, in post\n    type=mtype))\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 729, in run\n    value = future.result()\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 736, in run\n    yielded = self.gen.throw(*exc_info)  # type: ignore\n  File \"/usr/local/lib/python3.7/site-packages/notebook/services/sessions/sessionmanager.py\", line 79, in create_session\n    kernel_id = yield self.start_kernel_for_session(session_id, path, name, type, kernel_name)\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 729, in run\n    value = future.result()\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 736, in run\n    yielded = self.gen.throw(*exc_info)  # type: ignore\n  File \"/usr/local/lib/python3.7/site-packages/notebook/services/sessions/sessionmanager.py\", line 92, in start_kernel_for_session\n    self.kernel_manager.start_kernel(path=kernel_path, kernel_name=kernel_name)\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 729, in run\n    value = future.result()\n  File \"/usr/local/lib/python3.7/site-packages/tornado/gen.py\", line 209, in wrapper\n    yielded = next(result)\n  File \"/usr/local/lib/python3.7/site-packages/notebook/services/kernels/kernelmanager.py\", line 160, in start_kernel\n    super(MappingKernelManager, self).start_kernel(**kwargs)\n  File \"/usr/local/lib/python3.7/site-packages/jupyter_client/multikernelmanager.py\", line 110, in start_kernel\n    km.start_kernel(**kwargs)\n  File \"/usr/local/lib/python3.7/site-packages/jupyter_client/manager.py\", line 259, in start_kernel\n    **kw)\n  File \"/usr/local/lib/python3.7/site-packages/jupyter_client/manager.py\", line 204, in _launch_kernel\n    return launch_kernel(kernel_cmd, **kw)\n  File \"/usr/local/lib/python3.7/site-packages/jupyter_client/launcher.py\", line 138, in launch_kernel\n    proc = Popen(cmd, **kwargs)\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/subprocess.py\", line 775, in __init__\n    restore_signals, start_new_session)\n  File \"/usr/local/Cellar/python/3.7.2_2/Frameworks/Python.framework/Versions/3.7/lib/python3.7/subprocess.py\", line 1522, in _execute_child\n    raise child_exception_type(errno_num, err_msg, err_filename)\nFileNotFoundError: [Errno 2] No such file or directory: 'ijskernel': 'ijskernel'\nI've done a ton more trying to figure out why ijskernel isn't there. I've uninstalled & reinstalled multiple things, tons of searching for similar issues and trying those solutions -- way too many to list. \nUpdate: After hours of trying to fix this, I decided to try installing IJS through conda. And... it worked. If anyone else ever has these types of issues: try that! I can now use Jupyter and, best of all, Hydrogen works.\n\nI'm ecstatic that it's now working! :). ",
    "reynoldsnlp": "Ah! That makes sense. As you were... :). "
}