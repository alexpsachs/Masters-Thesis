{
    "cliftonc": "Done (could be better but good enough for a start).\n. Done.\n. Thanks for the pointer - will take a look.\n. I'm going to split this issue out into a separate one, closing this with the implementation of bcrypt to provide secure logins, but creating a new one to cover the integration of oauth etc. via facebook / twitter.\n. You can use npm link, but as its not a library I need to do more work (e.g. like Express) to have it create default site.  Closed for now, will create another issue that captures this if it is a requirement.\n. This has now been refactored into the master branch, including use of jsTree for standard navigation.\n. As reported by dennis, the menus aren't in a great state at the moment.\n. Definitely, the menu area needs a lot of work.  I think one key thing is to\nadd a proper event emitter and dependency model to modules, so they can work\nproperly with each other asynchronously.\nWould be great if you can suggest ideas re. the menus, and I will write up\nthe changes I think we need to make to the underlying framework (eg so we\ncan have a module that waits until all other modules have emitted their\nevents and then render things like menus).\nClifton\nOn May 30, 2011 1:49 AM, \"coleGillespie\" \nreply@reply.github.com\nwrote:\n\nso the menus are worse than i anticipated. =)\n<div id=\"adminMenu\">\n <%- admin %>\n</div>\nwhat exactly does <%- admin %> mean in this context?\ni am guessing it means do what is defined in themes.json at the following\nline...\n\"admin\": {\"menu\": \"admin\", \"template\": \"adminMenu.html\"},\nthem template part makes sense, but the \"menu\" part is a little confusing.\neither way i am going to have to find a way to compeltely refactor the\nmenu stuff in order to get a better admin backend here. the current way is\nin dire need of reconsideration. i will put some thought into it and come\nback with my ideas.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/5#comment_1259237\n. Agreed - I'll wait for your ideas and we can go from there.  Thanks for the good work on the admin panel, applied very easily to the content form.\n. That's ok, I understand what your thinking.  What I need to do is better\nexplain the underlying module and event model changes I want to make first,\nthat will then let us write a cleaner and more consistent way to expose\nmenus (front end and admin) while keeping thw modular idea intact.\n\nGive me a.couple of days and will post it.\nOn Jun 1, 2011 2:31 AM, \"coleGillespie\" \nreply@reply.github.com\nwrote:\n\ni know that is really rough, but maybe you get a better idea... i know\nthis would be a huge re write...it might be to much of a stretch at this\npoint...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/5#comment_1271516\n. Cole, I've been busily refactoring a whole swathe of things, and tackled menus in the middle of that.  Do you want to take a look at the new Menu library, and the way that cleanslate is now rendering menus - along with the way that it is dealt with in the modules?\n\nHopefully much cleaner, and dealt with now in a similar manner to the Form api.  You can create as many menus as you like, heirarchy is very easy to do (via path), and you can render them wherever you like in a theme.\n. Cool, I was slightly distracted this week with the real world as well - hate it when that happens heh? :)\n. Cool - looking forward to it!\nOn 17 June 2011 15:13, coleGillespie \nreply@reply.github.comwrote:\n\ni am finally making progress on the menus. i think you are really going to\nlike the new look to things. more updates to come within 48 hours.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/5#issuecomment-1388388\n. Closing this as the menus are feature complete for current release, will open new issue if we want to add specific new features.\n. Sanity test written, can be run to make sure that a change doesn't break anything fundamental, but is an outside in test only.\n. Tests for Menu written.\n. Mocha?  It looks quite good.\n. Dennis,  thanks for spotting this, I've decided to actually fix the install process properly, it was very flakey.  I will reject this (not because I don't want the help, but because I am about to commit a bigger fix to it that include yours),  thanks for your help.\n. Done, thanks!\n\nOn 5 May 2011 04:22, dennishall \nreply@reply.github.comwrote:\n\ntitle and commit comment say it all. code is straightforward.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/8\n. Agreed, I always intended to re-write the whole auth piece once I found a good plugin / approach that worked with external accounts like twitter / facebook etc. - it was just a placeholder pre any real release.\n\nWill leave this open until we get that done!\n. Agreed - it was always a placeholder pending a 'proper' user authentication approach, I'll get it fixed today.\n. Updated in commits:  \nmodified user module: ff0bec86e3704e718b34\nadded crypto util: b7dafe6d920545a32859\nNote that as this now introduces password encryption for the first time, it is destructive in that you do need to reset your mongodb database (but I am assuming that as we haven't actually ever 'released' or tagged anything that no one is running anything with it they want to keep just yet!).\nClifton\n. If you are able to test and confirm I will close the issue.\n. Ok ... I kind of took the easiest route I could find pending a 'proper' user\nauth module that includes oauth etc., plugging a hole so to speak to buy\ntime to decide how to do it properly.\nClearly you know more about this specific area than I do (which is great and\nvery glad for the input), what do you recommend in terms of implementation?\nOn 25 May 2011 19:59, ncb000gt \nreply@reply.github.comwrote:\n\nI recommend using the bcrypt module above (completely biased) but AES\nallows decryption and your random key is based on JS randomization. Really\nboth of those aren't things you want with passwords. And, ultimately you\ndon't even want to store a password, encrypted, hashed or otherwise, if you\ncan help it.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/9#comment_1237463\n. Ok, makes sense, someone is working on integrating oauth, so will fix the current login process to use a one way hash and store that rather than storing an encrypted password - not sure what I was thinking, should have done more research.\n. Ok, this is now 'fixed' - I've used your bcrypt module, incredibly simple - so thanks for the tip.  I'm going to close the issue as it looks good to my testing, and I've also closed other holes related to escalation of admin user permissions, so if you are able to quickly check the implementation (particularly utils/crypto) as I'm not 100% confident that the way the salt is generated (?) each time is right, but it works ... I would have expected that I would have had to keep the salt constant for a user?\n\nThanks for all your input.\nClifton\n. Have you run npm link in the application folder?\nOn 20 May 2011 11:06, mvvershinin \nreply@reply.github.comwrote:\n\nHi. i write on calip.so about my error with start.\nthat's what we have, nothing is certain. can tell where to look in detail.\nnode -v\nv0.4.7\nnpm -v\n1.0.6\nnode --vars\nNODE_PREFIX: /usr/local\nNODE_CFLAGS: -rdynamic -D_GNU_SOURCE -DHAVE_CONFIG_H=1 -pthread -m32 -g -O3\n-DHAVE_OPENSSL=1 -DEV_FORK_ENABLE=0 -DEV_EMBED_ENABLE=0 -DEV_MULTIPLICITY=0\n-DX_STACKSIZE=65536 -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64\n-DEV_MULTIPLICITY=0 -DHAVE_FDATASYNC=1 -DPLATFORM=\"linux\" -D__POSIX__=1\n-Wno-unused-parameter -D_FORTIFY_SOURCE=2 -DNDEBUG -I/usr/local/include/node\nnode app\nIllegal instruction\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/10\n. It will log any errors to the console, so you should see them immediately,\nit seems to be failing very early in the start up process if you are getting\nthat error immediately.\n\nAre you able to run any other nodejs applications (e.g. a hello world\nexpress application)?\nAre you in the calipso folder?  (e.g if you did git clone to /var/www then\nare you in /var/www/calipso)?\nClifton\nOn 20 May 2011 11:40, mvvershinin \nreply@reply.github.comwrote:\n\nyes i run it, and all was without errors. may you tell me where i may see\nlogs or something else.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/10#comment_1209216\n. Closed given inability to replicate and no activity or response.\n. Users can now belong to multiple roles, and this is managed via the profiles page.  Still TODO is to add the ability to create and manage roles and then their permissions.\n. Closing - will create an additional feature in the roadmap for permission based security.\n. Closed - @dennishall created the cleanslate theme.\n. Moved to: https://github.com/dtan/calipso-feeds/issues/1\n. This is now in the master branch.  Will write a blog post with an example, but allows (almost) complete over riding of fields on content by content type, including addition of sections and removal (e.g. hiding) of the default fields.  Has limited usability but it demonstrates that it works.\n\ne.g. add the following to Article fields (edit the content type):\n{\"fields\":[\n   {\"name\":\"content[yourField]\",\"type\":\"text\",\"label\":\"Your Field\",\"description\":\"Hello\"},\n   {\"name\":\"content[scheduled]\",\"hide\":true}\n],\n\"sections\":[\n  {\"id\":\"form-section-category\",\"hide\":true},\n  {\"id\":\"form-section-blah\",\"label\":\"My Section\",\n\"fields\":[\n   {\"name\":\"content[anotherField]\",\"type\":\"text\",\"label\":\"Another Field\",\"description\":\"Hello\"}\n]}\n]}\nThis will, add a field called 'yourField', hide the field 'scheduled', hide the section with ID 'form-section-category' and add a section with a field.  All of this will be saved / loaded from Mongo for this content type.\nIf you haven't dug into Calipso yet, this is all based on the Forms API outlined in CalipsoForm.\n. Yes, you can add as many field items as you like - there is no limit.  The 'fields' array can have as many items as you like in it.\n. Yes, the form api lets you create any form field, e.g.\n{label:'Select Field',name:'object[select]',type:'select',options:[\"option 1\",\"option 2\"],description:'Description...'},\nThe options field can also be a synchronous function calll (in the case the options need to be more dynamic).\nHTH\nClifton\n. Best to take a look at this: http://calip.so/dox/library/Form\n. Basics of this in place via contentVersions module, need to add diffing, and also ensure I track all changes, but allow some changes to not be a 'public' version (at the moment it doesn't quite work that way).\n. This has now been implemented, does very (poor :( ) diff, revert, version list, allows mark of version change (with potential to notify etc. in future).  Closed for this initial version.\n. Agree completely, I think good workflow is fundamental, and is very much on the roadmap.  My thinking was we need three things working well:\n1. User roles and permissions (doesn't really exist yet - is a really high priority).\n2. Content types and ability to define rules by type - some of this exists but is very rudimentary.\n3. Workflow engine based on events and a state machine defined for each content type, linked to the permissions system - the hooks are there from Mongoose, but you could create a much more fine grained state machine (+eventemitter) and do some very cool stuff with this one.\n4.  A content scheduling system (e.g. this one is time not event based), but really is just a variant on the above.\nThe use case for scheduling vs workflow is to allow editors to stage changes, or (for example) for items that are time sensitive such as content that follows a tv broadcast, to be made public at the right time but edited well in advance.\nDefinitely not trying to reimplement Drupal - but really do feel there are a lot of very good things about the way Drupal is built that are worth learning from.  I'm really scratching my own itch, enjoying building this and if it becomes useful for others then that's great!  \nWould be great if you can help out, happy to talk through options for any of the above, or start putting designs / thoughts up on the wiki?\n. Moved to https://github.com/dtan/calipso-media/issues/1\n. By single page I mean a page where the entire form is rendered in one go, using tabs to show/hide sections of it.  The alternative is a multi-step form where you go back / forward between pages (e.g. a complex wizard).\nThe form library at the moment can render the html elements required to make tabs (there is a tabs:true parameter on a form object), but the theme needs to the take that div and ul and add the css/javascript that makes them tabs.\nGiven that the theme will be responsible, what I'm looking for is either a very light approach (e.g. roll our own) if added to cleanslate (speak to Dennis as he maintains that one), really something that can be used as an example of how to do it in a theme.\n. Not at the moment, the reason is that NodeJS loads modules via a Require,\nand basically if you require something it is loaded into an internal in\nmemory cache, so if you require it again it doesn't actually reload it just\ngives you the cached version.  It watches and reloads the templates but\nthats all at the moment (as that is easy).\nThe only option is to add something like node-supervisor aroudn the app that\nmonitors all the javascript and restarts the app - I think its somewhere on\nthe issue list?  If not you should add it.\nClifton\nOn 26 May 2011 15:05, coleGillespie \nreply@reply.github.comwrote:\n\nevery time you make a change to xxxxx.module.js you must restart the server\nto see the changes, is their an easier or more immediate way to see those\nchanges?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/20#comment_1242492\n. Excellent - look forward to seeing it - yes, there are still a few growing\npains, it is very early days after all (first commit was only in early\nApril!).\n\nOn 26 May 2011 15:13, coleGillespie \nreply@reply.github.comwrote:\n\neither way, i am currently constructing the json to build a proper form in\nthe admin module, i guess i will build it all up and test it when i am done\ninstead of testing as i go along. as with all new systems come small growing\npains =)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/20#comment_1242553\n. Selects just require an array, and languages and themes are already stored\non the main calipso object or on the request object:\n\nrequest.languages = Array of languages (this should probably be refactored\nout and become a property of the calipso object).\nThe others are already all available via the data object (see lines 65 - 78)\nin the admin.module init.\nSo you can get the themes via:\ncalipso.data.themes = Array of themes\nYou can iterate through the modules and add a new item to the form (the form\nis just a json object, so you can create it first without the modules, then\niterate through the modules and add them as fields to the object, then\nrender it).\nIf you want to put what you have in a gist I can feedback?\nClifton\nOn 26 May 2011 15:57, coleGillespie \nreply@reply.github.comwrote:\n\nmodules would be another example...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/20#comment_1242870\n. Apologies, the calipso.data.themes object is an object array, it doesn't\nneed to be.\n\nSo, I would refactor lines 67 to:\ncalipso.data.themes = [];\ncalipso.lib.fs.readdir(app.path + '/themes', function(err, folders) {\n  folders.forEach(function(name) {\n    calipso.data.themes.push(name);\n }\n});\nAnd then\n{\n  id:'form-section-theme',\n  label:'Theme',\n  fields:[\n     {\n        label:'Theme',\n        name:'admin[theme]',\n        type:'select',\n        options:calipso.data.themes,\n        instruct:'Select the theme, this impacts the websites theme.'\n     }\n  ]\n}\n``````\nOn 26 May 2011 16:31, coleGillespie \nreply@reply.github.comwrote:\n\nso in theory i should be able to say something like\njson\n{\n  id:'form-section-theme',\n  label:'Theme',\n  fields:[\n     {\n        label:'Theme',\n        name:'admin[theme]',\n        type:'select',\n        options:function()         {\n           return calipso.data.themes\n        },\n        instruct:'Select the theme, this impacts the websites theme.'\n     }\n  ]\n}\n--\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/20#comment_1243090\n``````\n. The form library is part of core, http://calip.so/dox/library/calipsoForm, and renders the json object.  Easiest to take a look through that and you will see how it works and what it accepts.  When I started I couldn't find a form rendering library that worked the way that I wanted, so rolled my own simple one.\n. No problem!\n. console.dir, or sys.inspect - the latter lets you decide how many levels deep you want to go into objects.  Also, using node-inspector with chrome is very useful.\n. I meant this: http://howtonode.org/debugging-with-node-inspector\n\nOn 28 May 2011 21:38, coleGillespie \nreply@reply.github.comwrote:\n\nby 'node-inspector' you are just talking about 'Elements' inside of the\ndeveloper tools correct?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/20#comment_1255170\n. Yes - thanks for the good work!\n. I was thinking that the I would like all documentation to go on the calip.so site, but for that to work, issue #11 needs to be fixed (so contributors can create content on the site).\n\nFor now, the wiki is fine as a scratch pad until we get that one done.\n. A rapid sweep through all of the existing modules is required to enable the static strings (mostly flash messages) to use the req.t function.\n. Agree, though I think the Drupal model of just wrapping static strings in t() functions is neat and simple (better than the java way of coming up with msg labels for everything), and if you don't care then you don't use it - its just that your site (or module) can then never be translated.\n. No, I think largely that most things should be wrapped now, I just need to get some documentation written that explains it, and improve the process for creating a base language file for translation ...\n. I noticed this today: mashpie/i18n-node, will re-write translation library to use this.\n. An initial version is up there, though I am thinking I will probably switch to the approach I took with another app (express-mvc-bootstrap) where you install it as a global library, and the script then creates an empty site for you in whatever locations you specifiy.\n. Thinking that actually making the default install a library via NPM, and then using this type of approach to create a clean app is the best option ... https://github.com/cliftonc/express-mvc-bootstrap/blob/master/eb\n. Ok, there is now a script in the bin folder called 'calipso'.  If we like this approach (will blog about it and see if anyone has a view):\n- we release version of calipso via npm (core modules & themes only)\n- people 'npm install -g calipso'\n- you can then:\ncalipso create-site\n  calipso test\n  calipso\nThere is an initial release in npm now, but will continue to direct people to github for now until we agree this is the best approach.\n. What is the contents of the node_modules folder?  Is there anything in\nthere?\nOn 26 May 2011 15:43, adrinux \nreply@reply.github.comwrote:\n\nThat was on Ubuntu 10.04.2 Lucid.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/24#comment_1242766\n. It looks like there was a problem with mime ... which is a dependency from formidable (the forms library), does 'npm install mime' work?\n. This is now completely revamped with the new module structure, and the installation process via NPM + calipso script should address these issues.  Will close this, any new issues with the NPM process will be raised as separate issues.\n. Thanks, this may be the reason why many are having issues getting it installed.\n\nI'll get the docs updated and see if I can get the install script to check for libexpat1-dev.\n. The install script (bin/install.sh) should now check for this and prompt you to find it and install it if you don't have it ... \n. Yes, it is really unfortunate but the node-expat library at present assumes that libexpat1-dev is installed.  I wrote the install script (bin/install.sh) to try and make it a bit easier, but I haven't tested it widely and so haven't updated the docs to say use this approach as the default.\n. Consider it backing a few camps, and based on feedback we will settle on one\nthat seems to work for everyone!\nOn 25 May 2011 20:14, adrinux \nreply@reply.github.comwrote:\n\nAh, I see. I wasn't even using the script to install was I :) Sorry. And I\nnotice you have an npm package too. oh the confusion :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/25#comment_1237585\n. Ok, this dependency has now been moved out of core, and is explicitly required in the community feeds module.  Modules now require their own dependencies via their own package.json, and can be managed via the 'calipso modules check' or 'calipso modules install feeds' commands via the new command line tool.  \n\nTheir may be issues getting feeds installed, but that will be a seperate issue and can be resolved by documentation for each platform re. installation of expat.\n. Well spotted - I need to modify the default theme to not require jade (as the default templates are ejs).\n. The default user / password is 'admin' and 'password' - can you try that?\n. No problem, wish they were all that simple ;)\n. Apologies - I had thought that khoomeister had simply read it incorrectly, didn't confirm that it was actually a bug in the code, now patched.\n. This is in progress, will be switching to https://github.com/indexzero/nconf\n. This is now fully in place:\nhttps://github.com/cliftonc/calipso/blob/devel/lib/Config.js\nThis will expose a new API:\ncalipso.config.get('database:uri') \ncalipso.config.set('database:uri','mongodb://blah/blah')\nAll configuration will be stored in files, named after the environment they are running in.\nconf/development.json\nModule configuration will be stored in this file, and later linked to core functions that allow rapid creation of admin screens for modules (the system_settings_form module in Drupal is a great example of how to do this).\nThis is a breaking change and will force the 0.3.0 release.\n. Hi, the tests are broken in the devel branch with the current commit - these need to be fixed - and in general the tests need to be re-looked at given the extent of changes in 3.0.\n. This is closed given the 0.3.0 quiet release this week.\n. That looks like an error with mongodb, were you able to get it installed and working?  \nAre you able to type 'mongo' from a command line, and then 'show dbs' from the mongo command prompt (it should work without any errors).\n. Can you try manually reinstalling mongodb and mongoose libraries via npm?\nnpm install mongodb\nnpm install mongoose\nClifton\nOn 24 May 2011 11:07, fzx \nreply@reply.github.comwrote:\n\nI repaired mongodb and it can run, but the error still exists.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/29#comment_1227237\n. Good point :)  Will clean it up.\n. Good idea, added as a section to readme instead, anyone who submits a pull request that gets accepted will be added to the list (or anyone I add as a collaborator).\n. No problem, i've taken a quick look, and realised I didn't give you enough of a steer - apologies as during the day I am at work and so can only dig in / out of this early morning / evening.\n\nI'm going to reject this, as in principle it is right, but in execution slightly wrong.  The form api (in calipsoForm) allows you to specify if you want tabs or not, and then it will render the UL for you.  The right approach to do this would be:\n1.  Add the jquery script to the scripts.html as you have.\n2.  Modify the admin page to just render the form as per a 'proper' calipso form (see the content module for an example).  The fact that we actually define a form in html in that template is a legacy of an early version - I have just never refactored it to use the calipso form library.\n3.  Add the javascript to create the tabs to just the admin page so it doesn't run on every page request.\nMake sense?\n. Done.\n. The media module will manage images, but hasn't been written yet, then it needs to be connected up to the content wysiwig editor ... I was going to do the two separately (so people could use different ones), and then join them together at the front end - very open to ideas on this one as it is quite a bit of work to get right, and we probably wont get it right first time!\n. Agree - I think in line editing should be the aim, and shouldn't be difficult - just need to enable posting of json back to the content update function (with support for partial updates) to speed things up and make sure we aren't sending around the whole content object each time, and ensure that when we render blocks of content that we do so in a consistent manner that enables us to locate contents identifier at all times.\nAs long as aloha is implemented as a module, I don't see any issue with it being AGPL - it would be up to the site builder / user to choose to use it, our code would just wrap it (but not include it in core) ... \n. Thanks, I have explicitly added the dependency on request, pool and mime, and fixed the bug in the installation routine that got it stuck in install mode.\n. The scheduler runs effectively as a background task that is started as soon as the app is, when you run it in cluster mode (node app-cluster), it runs 4 servers - hence, you get four schedulers.  This means any job you have configured runs 4 times.  We need to change it so that when a scheduler starts, it checks if any other schedulers are running on other nodes (you do this via multicast or by holding a specific port on the server open) and if so, going to sleep.\n. Closed due to inactivity, this is now out of date and a .fr has been contributed.\n. Cole, this looks great - I will just merge this straight in and may make some small changes, but will let you know what they all are in advance.\n. It is admin / password, and yes the whole install process needs to be re\ndone, as it is where I think 90% of issues currently occur ...\nClifton\nOn May 31, 2011 1:05 PM, \"adrinux\" \nreply@reply.github.com\nwrote:\n\nJust wiped the db and did another install - and didn't appear to see an\nadmin user/pass displayed this time? What is the default? admin user is\nadmin, but password? Perhaps that needs adding to the readme, or the install\ninstructions on the site.\nI can't log in :/\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/41\n. @adrinux, agree - low barrier to entry = a very very good thing.  I think this just highlights that a bullet proof scripted installation process that works is really a big short term requirement, and I might move some other features out of the 0.2 roadmap to account for doing this properly.\n. Not sure - does it work if you manually install hooks?  If so, I'll add it as an explicit dependency.\n. Cool, glad you got it working!\n. It's a bug in npm (i think - I haven't had time to dig into it), but basically an 'npm install -d' will install all the first level dependencies of calipso, but not the dependencies of the dependencies ...  \n\nIt's a pain in the a*, but this is basically:\ncd node_modules/mongoose\nnpm install -d\nYou have to do this for the other modules that have dependencies (hook.io, winston, connect-form etc.).\nIf there is a better way would be great to know what it is ... \n. The issue seems to be with ulimit -n limits in Ubuntu, this has now been increased for the user NodeJS is running as:\n/etc/security/limits.conf\nusername         hard    nofile            65000\nWill monitor.\n. The limits change fixed it, and I also removed the gzip module as it really wasn't working well, I now use gzip via nginx (which is being used as a proxy via the following settings):\ngzip             on;\n gzip_min_length  1000;\n gzip_proxied     any;\n gzip_types       text/plain application/xml application/javascript text/css;\n gzip_disable     \"MSIE [1-6].\";\n. I think east and west feels right (no pun intended), and is more common in panel layout libraries (e.g. http://dev.sencha.com/deploy/ext-4.0.2a/examples/layout/border.html), and happy to go with that as the default.  I'll make some time this weekend to rename the references (unless someone else would like to have a go?) :)\n. In the end I've gone with 'side panel'.  Thanks for the comments and input.\n. The module needs to be turned on, and the block needs to be rendered in a template within the theme.  If you look in the init function, you will see that by default that function renders to a block called 'right', so this needs to be included in the right.js / right.html in the theme (the name is just a key, you have to include it for it to appear). \nYou will see that for most things, the block is something like content.blah - and the theme typically uses a regex to render anything /content.*/ to the body element of a page.  The template module isn't actually a great example any more, specifically with cleanslate as it doesn't include it by default ... needs to be fixed!\nHTH\nClifton\n. Also - note on the other issue, is that it definitely shouldn't be called right! :)\n. Will target a full breadth example / template module for the 0.3.0 release.\n. Absolutely, go for it.\n. I also submitted a change today (374e4c0) that shows the module description on the admin page in the shiny new description field :) Thanks for your help!\n. Fantastic, my bash skills aren't that great, so this is a big help!\n. No, you're completely right - it shouldn't fail.  I wrote that script late one evening as an attempt to see if I could make installation more robust, but rapidly reached the limit of my bash skills and parked it until I either had more time or someone like yourself took up the baton ;)\nClifton\n. Cool - thanks!\n. I didn't even spot, just assumed it was in the previous pull request and I had missed it!\n. Excellent!  Thanks, this makes it much clearer.\nAll you have to do is submit the pull request and I get notified ... you can change anything you like in your fork - I only know about it when I get the pull request.\n. This is definitely a known issue, I will raise bugs on both bcrypt and node-expat libraries that try to get those modules to install their dependencies, otherwise we need to get the install script to install these.  \nDid you use the /bin/install.sh?\n. No problem, both of those have dependencies on installs outside of npm's control at the moment, so I need to get those checks and installs written into the install.sh script or just make it very clear that you have to install both those libraries first ... glad you persevered and got it working!\n. I don't set node_path, the default install instructions put it in the right place with the right settings for me (Ubuntu 10/11).  What is the error?\n. I don't have a mac to test anything on, so very difficult at this stage to say what you need to do to get it to work ... maybe an excuse to buy myself a new laptop?! :)\n. Thanks - very useful info.\nI'm in the middle of re-factoring the module management to allow for modules to import their own dependencies, hence the core won't rely on mongodb or expat (hence resolving many of the initial install issues).  Of course it means that the issues will still occur, but isolated around those that want to use specific features ...\nWatch this space, hope to have it up in the next 2-3 days.\n. Ok, this is now almost all done in its first phase:\nDefault user installation should be via npm, not github (only grab code from here if you want to hack the core).\nnpm install calipso -g\ncalipso then becomes a command:\ncalipso modules list\ncalipso modules install feeds (at the moment this reinstalls its dependencies only, but later will download and install it if it doesn't exist already)\ncalipso modules check (checks all)\ncalipso modules enable feeds (enable / disable from cmd line)\ncalipso modules disable feeds (enable / disable from cmd line)\ncalipso server (runs server - same as node app)\nThe core now has less dependencies (only those really required for core at the moment).\nAlso, the module loading will fail gracefully if a modules dependencies aren't met.  Hopefully will be a better experience installing and set us up for a module repo that enables quick installation / mgmt of additional modules ...\nClifton\n. Yeah, definitely a good idea to not invest too much more time into the\ninternals of the user module, but rather make sure any security /\npermissions / roles management is done in a clear and decoupled way so that\nwe can replace the current user module with an everyauth based one ... It is\nat least a solid weekend's work I expect!\nClifton\nOn 26 July 2011 15:51, dtan \nreply@reply.github.comwrote:\n\n[ma]: https://github.com/bnoguchi/mongoose-auth\n[ea]: https://github.com/bnoguchi/everyauth\nhave you looked at [mongoose-auth][ma] or [everyauth][ea]?  I'm sure if one\nof those routes were taken, the current login/user module would have to be\nrefactored extensively.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/52#issuecomment-1654709\n. Thanks Martin :)\n. Well spotted - now fixed.\n. Thanks, I think a wider fix is to revisit the approach of re-applying the config is in order at some point, as at the moment it is managed in the calipso router chain, which has a 'bad smell' about it .... but this certainly makes the user experience better in the short term.\n. Thanks!\n. Fine for now, but we do probably need to make it more robust and just find theme folders that are valid themes.  Thanks!\n. Cole, I'm not sure if this improves the user experience or not over the horizontal menu at the top of the screen ... It is slightly better to have the menu available and use ajax requests to load the individual pages, but I think that at the end of the day we probably need both (or a combination of both) of the approaches ... and I'm really starting to think now that we actually need to enable a separate front end / admin theme (to enable people to change one without changing the other ...).\n\nI've found that on large sites most editors and administrators want access to things from where ever they are, hence you almost always end up with the menu at the top that has links to everything, as well as the menu on the admin screens that allows you to navigate the complexity (eventually!) of all the options.\nHave you taken a look at how Wordpress does it?  The other good one to look at for ideas is the rubik admin theme in Drupal (http://drupal.org/node/1162652).\nI like the direction and the effort, just trying to make sure we end up in a good place that supports a good and consistent UX.\n. Cole, this has been parked for now - we are probably going to refactor admin out into its own theme.\n. This is now fixed in commit 0126b94cc27131575d7bbb92ccb4d2fa627199f9,  verified that it works ok in MongoHQ - including sensible errors where possible.\n. I'll take a look, probably a left over of the recent work in the user module ... yet another indication I need to write more tests ;)\n. Now fixed, the roles weren't being cached as part of the install process (into calipso.data.roles) via 7cb6872\n. Thanks!\n. Morning, can you pull the latest changes down? \nI was making some changes related to tag cloud last week to test the possibility of alteration of objects in the event chain that may have caused issues (they are removed in the latest push done yesterday and this morning).  \nI've also wrapped the function that is erroring (basically the error above is that it hasn't saved the content properly, and hence it hasn't then been able to retrieve it for some reason), but the showContentByID function had no error handling.  If your error recurs you will see a 404 (e.g. the content can't be found).\nIf it happens again, but this time you get a 404, can you let me know what you are entering into the form?\nCheers,\nClifton\n. No problem.\n. This has now been done, will create additional feature for repository functionality to separate out the refactor from the new.\n. Closing, we should really be discussing these things on the google group: http://groups.google.com/group/calipsocms/\n. Dan, the second commit is great, very helpful, but the first was there for a reason - e.g. so we could have different app settings in different environments - if you want to change the settings you go to the environment config file.\nCan you remove the first one and I will merge it?\nClifton\n. Definitely - config should be clear and stored in one place, but in larger\nprojects you will always have multiple environments (dev, test, prod etc.)\nwhere actually those environments can (and most likely will) have very\ndifferent settings, hence the per environment config.\nFor small use (e.g. a personal blog), it would only be one environment -\nprod, but best to build it from the ground up to support multiple\nenvironments ... make sense?  I would like to pull all config out of Mongo\ninto config files that can then change by environment (e.g. using nconf) -\nso this area broadly needs a refactor to make sure it works in big project\nmode as well as personal blog mode ...\nClifton\nOn 19 July 2011 12:42, dtan \nreply@reply.github.comwrote:\n\nclifton, the main reason for the first one was that the port was hardcode\nin the development.js conf.  If you change your port (like i have for both\nmy localhost and mongodb b/c of multiple node instances running at once)\nwouldn't you want to have just one place to change the ports rather than\nmultiple?  i'll send out another pull request for my mac fix though.\ndale\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/67#issuecomment-1606293\n. Yes - 100% - it just isn't quite all there yet ... the config at the moment\nis stored in the appconfigs collection in Mongo, it needs to be refactored\nout and joined up with the per environment config, and then managed via the\nfile system (makes it much easier to manage deployment across environments\nas the configuration can be under source control as well).\n\nClifton\nOn 19 July 2011 13:25, dtan \nreply@reply.github.comwrote:\n\nso then you would want to have some place in the admin to set some of this\nstuff?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/67#issuecomment-1606501\n. Thanks Dale, very helpful!\n. That file is generated by stylus ... does the user you are running Calipso as have write access to that folder?\n. It should be generated on the first request - the stylus middleware is\ndefined in the app.js.\n\nOn 19 July 2011 13:24, dtan \nreply@reply.github.comwrote:\n\nwhen would the file be generated?  once I switched the theme from the admin\npanel or when I run the app?  i'm only running this on my localhost so i\nhave admin access there (though this is a work computer, so there could be\nsomething i'm missing b/c of that)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/69#issuecomment-1606499\n. Only inside the stylus middleware - line 114 of app.js?\n\nOn 19 July 2011 14:24, dtan \nreply@reply.github.comwrote:\n\nya it doesn't seem to be generating.  are there any debug options i can\nthrow into the console to see if middleware is working?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/69#issuecomment-1606878\n. Interesting - that's a bug in the theme module, it isn't flipping the theme\npath.  It is probably in the lib/Theme - near the end is the code that deals\nwith the reloading of a theme, the main piece / complexity is around\nre-configuring the static file handler, so the error is likely in there\nsomewhere.\n\nI can take a look later on the train home.\nClifton\nOn 19 July 2011 16:16, dtan \nreply@reply.github.comwrote:\n\nwhen i turn \"debug: true\", go into the admin and switch a theme, the debug\noutput doesn't seem to change theme paths:\nStarted on cleanslate\n19 Jul 11:15:00 - debug: Logging enabled: Console\n source : /calipso/themes/cleanslate/stylus/css/style.styl\n dest : /calipso/themes/cleanslate/public/css/style.css\n read : /calipso/themes/cleanslate/stylus/css/style.styl\n source : /calipso/themes/cleanslate/stylus/css/admin-menu.styl\n dest : /calipso/themes/cleanslate/public/css/admin-menu.css\n read : /calipso/themes/cleanslate/stylus/css/admin-menu.styl\n source : /calipso/themes/cleanslate/stylus/css/admin.styl\n dest : /calipso/themes/cleanslate/public/css/admin.css\n read : /calipso/themes/cleanslate/stylus/css/admin.styl\n source : /calipso/themes/cleanslate/stylus/css/primary-menu.styl\n dest : /calipso/themes/cleanslate/public/css/primary-menu.css\n read : /calipso/themes/cleanslate/stylus/css/primary-menu.styl\nChanged to calipso\n19 Jul 11:15:42 - debug: Logging enabled: Console\n source : /calipso/themes/cleanslate/stylus/css/calipso.styl\n dest : /calipso/themes/cleanslate/public/css/calipso.css\n read : /calipso/themes/cleanslate/stylus/css/calipso.styl\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/69#issuecomment-1607790\n. Ok, figured it out.\n\nI tag the static middleware in app.js with a 'themeStatic' flag, so that when we flip themes I can remove the middleware and add it back in with the new theme path (see line 878 of lib/calipso.js).  What I missed was doing the same with the stylus middleware (see lines 110 of app.js).\nThis means there can be a 'no mans land' where stylus is pointing to the wrong place but the theme is pointing to where the css should be if stylus is working (hence you need a restart).\nWill aim to fix this week if I can get some time around work!\n. Fixed in 94454fe9d5eccf5327a60d5431fdd021b7ddab5f\nDale do you have time to confirm?\n. cool - no rush!\n. I'm 100% certain this one is fixed now, Dale - reopen if you encounter it again.\n. Good question ... at the moment you need to edit the appconfigs document in\nmongo to disable a document, or fix tweetstream ... not good!\nOn 20 July 2011 17:34, dtan \nreply@reply.github.comwrote:\n\nI just tried enabling tweetstream and i got this error:\nUncaught exception: TypeError: Cannot call method 'route_finish' of\nundefinedTypeError: Cannot call method 'route_finish' of undefined\n   at /calipso/lib/calipso.js:254:41\n   at route\n(/calipso/modules/community/tweetstream/tweetstream.module.js:36:7)\n   at Array.\n(/calipso/modules/community/tweetstream/tweetstream.module.js:31:9)\nI believe I did NOT have the pusher module enabled and it seems that\ntweetstream needs pusher enabled for this to work.   How can you un-enable\n(is that right?) a module so the site can still render once it has reached\nthis state?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/70\n. The error is with the latest mongodb driver, and is to do with the _id being converted from a string - I've noticed it as well - I suspect there has been a change either in the mongodb driver or in mongoose that means that you can't pass a string value into findById?  Haven't had the chance to dig into it this week ...\n. Yeah, I can't seem to replicate it at the moment, whats your npm list look like from the base of calipso?\n. Ok, I meant run 'npm list' as it shows you the versions of all the\ndependencies, I thought maybe it was a mismatch in mongodb / mongoose\nversions or something ...\n\nOn 22 July 2011 15:54, dtan \nreply@reply.github.comwrote:\n\nnot sure what you mean by \"npm list look like from the base of calipso\".\n are you referring to which dependencies were installed by npm?  I think i\ngot a fix for this particular issue that I'll send over in a few minutes.\nfor some reason, the req.moduleParams.id is coming back empty.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/71#issuecomment-1632240\n. Agree, at the moment I think it gets disabled, and logged to the command line, but it needs to be pushed out to flash to notify the user.\n. Great - excellent addition.\n. Excellent - looking forward seeing to what is driving these changes :)\n. This is a good fix, not sure why I didn't use the original id anyway it doesn't make sense to go back to req.moduleParams, but it is also very strange that later down that list the req. moduleParams no longer exists ... I definitely need to dig through all that and figure out what is going on.\n. You would assume so, not sure if you only get notified if I comment afterwards?\n. I think it looks good, but the isAdmin piece won't work - the main reason is that there may be admin urls that don't sit under admin ... e.g. those exposed by apps themselves (with the admin:true flag on the route), and as you say, we will probably want to make that configurable at some point in the far flung future ...\n\nThere may also be situations where some parts of the page require admin access for them to appear, but others don't (e.g. its the same url, but different parts appear depending on who you are logged in as ...).\nI was considering breaking out the admin functions into an Admin theme (so you can theme both seperately) ... and then ensuring that any URL's exposed by modules that are 'Admin' automatically switch to the admin theme - may be a better way to deal with it?  \nIt isn't very DRY to have every theme re-implement the back end admin functions.\n. We would have to:\n- create a new theme object under calipso, e.g. calipso.themeAdmin (that\n  just gets loaded the same as the normal theme and is just a new instance of\n  the theme engine)\n- move the current theme to calipso.themeSite (?)\n- add a wrapper class to replace calipso.theme (e.g.acts as an wrapper to\n  either theming back end, where the default is that it renders to the front\n  end - so it works as before in all old modules of calipso.theme.renderItem)\n- then change the router so that whenever the route matched is admin:true\n  (and is not a /.*/ route) that it sets a flag in the response to indicate it\n  should use the admin theme (which is picked up by the calipso.theme wrapper)\n- this is similar to the way res.layout is set and used.  This change would\n  be done in lib/Router.js.\n... I think that would do it, but what it does do is create a rule that\nsays: if multiple modules match a route, and any one of those matches is an\nadmin:true route, that it flips to the admin theme.  So the admin module\nwouldn't really change, just use the admin:true property of routes to drive\nswitching of themes, and as a result all of its matched routes would be\nrendered in the admin theme.\nYou would probably want to do one more thing, which is provide a helper\nfunction in the admin theme that allows it to control rendering of the top /\noverlay menu on the front end for when an administrator is logged in (e.g.\nthe site theme can call the admin theme to get that menu and render it into\nthe response).\nThe admin theme wouldn't actually be any different in its configuration, but\nclearly would have its own CSS, layouts etc. that optimise it for Admin\nfunctions - it would then be possible for a theme to be both front end and\nadmin (if you wanted).\nDefinitely doable!\nClifton\nOn 25 July 2011 13:57, dtan \nreply@reply.github.comwrote:\n\ni think having a separate admin theme would be better.  Then you can have a\nmore robust admin side without having to affect the main site itself.  At\nthis point, i don't think it really matters to be very DRY since this is\nstill a very young project.  Optimization can come later (as it should, i've\nbeen bitten quite a few times doing it prematurely).\nFor having the admin broken out into a separate theme, how would that work\nexactly?  Would it be apart of the core admin module?  and then the\ndifferent pages could be overwritten in the theme?\nsee, this is why i don't want to just merge my changes right into the\nmaster branch =).  (i'll keep the functionality though, just in case ;))\nok, so i'll make a quick update to this and remove the isAdmin method.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/83#issuecomment-1645478\n. We would have to:\n- create a new theme object under calipso, e.g. calipso.themeAdmin (that just gets loaded the same as the normal theme and is just a new instance of the theme engine)\n- move the current theme to calipso.themeSite (?)\n- add a wrapper class to replace calipso.theme (e.g.acts as an wrapper to either theming back end, where the default is that it renders to the front end - so it works as before in all old modules of calipso.theme.renderItem)\n- then change the router so that whenever the route matched is admin:true (and is not a /.*/ route) that it sets a flag in the response to indicate it should use the admin theme (which is picked up by the calipso.theme wrapper) - this is similar to the way res.layout is set and used.  This change would be done in lib/Router.js.\n  ... I think that would do it, but what it does do is create a rule that says: if multiple modules match a route, and any one of those matches is an admin:true route, that it flips to the admin theme.  So the admin module wouldn't really change, just use the admin:true property of routes to drive switching of themes, and as a result all of its matched routes would be rendered in the admin theme.\n\nYou would probably want to do one more thing, which is provide a helper function in the admin theme that allows it to control rendering of the top / overlay menu on the front end for when an administrator is logged in (e.g. the site theme can call the admin theme to get that menu and render it into the response).\nThe admin theme wouldn't actually be any different in its configuration, but clearly would have its own CSS, layouts etc. that optimise it for Admin functions - it would then be possible for a theme to be both front end and admin (if you wanted).\nDefinitely doable!\n:)\n. Yes, definitely.\nOn Jul 26, 2011 4:47 PM, \"dtan\" \nreply@reply.github.com\nwrote:\n\nit also looks like there should be a separate \"admin theme\" selector in\nthe administration page.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/84#issuecomment-1655309\n. I remember seeing a nodejitsu blog about node-mailer?\nOn Jul 25, 2011 9:28 PM, \"dtan\" \nreply@reply.github.com\nwrote:\nwhich email lib/client should be shipped with calipso? With registration,\ncontact forms, etc, there needs to be at least one.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/86\n. Hi, did you try installing mongodb manually? e.g. npm install mongodb.\n. On ubuntu you need to manually: \n\nnpm install mongodb --mongodb:native\nI need to raise an issue on mongodb as this even breaks on updates of the module.\n. That looks like an error with NPM connecting to the registry?\nApologies, the easiest way to apply the native flag to mongodb is to pass it to the calipso install process (NPM seems to then pass it through to mongodb).\nnpm install calipso -g --mongodb:native\nIf this doesn't work, you can install mongodb in global mode:\nnpm install mongodb -g --mongodb:native\nClifton\n. Closing due to lack of response, please let me know if you are still having a problem and I will re-open.\n. That doesn't work for me?\nnpm root === /var/www/calipso/node_modules\nnpm config get root === undefined\nI'm on Ubuntu 10.10, npm 1.0.10.\n. Will close this pull request, please raise an issue re. your version of npm, node and will follow up via that route if it is still an issue?\n. Looks great!  Dale - do you want to make the call on merging this as you have already looked at this one?  It's ok from my perspective, but if you're halfway through something then your call.\n. Fantastic :)  I've never really started using Jade in anger, so this is a big help.  I am currently building the repository module that will allow people to register modules and themes on calipso, and then download / install from there.\nSo .... It will add extra incentive for me to get that done knowing that there are real examples of things that we can put in it :)  \nPlease just place this into your own git repository, and I'll have instructions (hopefully by the end of next week?) re. getting it listed on calip.so, and you can help me test out the repository functions.\nThanks again,\nClifton\n. Morning, the basics of this are now in place with some fairly hefty additions and refactoring over the weekend (you will need a sizeable git pull origin - apologies if this breaks anything in train - best to stash first).\nI have posted something describing the command line client changes here:\nhttp://calip.so/calipso-site-modules-themes.html\nThe repository on calip.so is in progress, but you can install modules and themes from a github repository reference (e.g. I have taken the calipso theme out of core, and you can install it from the CLI via):\ncalipso themes install cliftonc/calipso-site-theme\n(or if you are in your calipso github clone you need to add an -s):\ncalipso themes install cliftonc/calipso-site-theme -s\nComments very welcome!\nClifton\n. Thanks dale, I've kind of been dreading this, as at the moment require('lib/calipso') is everywhere ... where this will get really hairy is in the themes, where the backing .js files require calipso, and the paths get really complicated (unless I'm missing some new global variable that refers to the base path of the running application?)\nClifton\n. Not pretty, but could we just use the following to avoid all the '/../../' etc. as __dirname is local to each module?\nvar rootpath = process.cwd();\nrequire(rootpath + '/lib/calipso');\n. It is slightly different (I thought) as if you run it inside a module file\n(e.g. /modules/content/content.js) ... ?\n__dirname = /var/www/calipso/modules/content\nprocess.cwd() = /var/www/calipso\nThis was on some very quick testing, so may be incorrect?\nClifton\nOn 8 August 2011 15:38, dtan \nreply@reply.github.comwrote:\n\nisn't process.cwd() the same concept as __dirname?  when i run\nprocess.cwd() inside any directory via node's command line, I get the same\nvalue as __dirname.  As far as i know, there is no other global var to fix\nall of these references in one place.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/94#issuecomment-1754628\n. Good question.  I suspect that technically the 'proper' answer would be:\n\nvar calipso = require(require('path').join(process.cwd(),'lib/calipso'));\nBut that is as ugly and unreadable as anything I've ever seen :)\nvar path = require('path'), rootpath = process.cwd(), calipso =\nrequire(path.join(rootpath,'lib/calipso'));\nSlightly cleaner ... ?\nI am assuming here that path.join deals with any cross-system path issues\n... what do you think?\nClifton\nOn 8 August 2011 15:57, dtan \nreply@reply.github.comwrote:\n\nwhat's the preferred method for using rootpath:\nvar rootpath = process.cwd(),\n     calipso = require(rootpath + '/lib/calipso')\nor\nvar rootpath = process.cwd() + '/',\n     calipso = require(rootpath + 'lib/calipso')\nbasically, where should that slash live?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/94#issuecomment-1754779\n. and of course \"library = \" should be \"calipso =\" :)\n\nOn 8 August 2011 16:21, Clifton Cunningham clifton.cunningham@gmail.comwrote:\n\nNo idea re. windows ... I only use linux, I have a windows VM somewhere,\nand just have memories from earlier days of the differences between / and \\\nas directory separators and occasional strange behaviour.\nHow about we go nice and simple for now, and just do:\nvar rootpath = process.cwd() + \"/\",  // prefer this here as a path should\nalways end with a \"/\" or you risk it matching a file in parent directory of\nthe same name\n     library = require(rootpath + \"lib/calipso\");\nThat way we just need to add rootpath as a new variable, and then insert\n\"rootpath + \" inside the original requires?\nOne advantage of having all the common libraries attached to calipso.lib is\nthat there isn't really that many requires scattered around the source code,\nso it isn't too big a deal if it is verbose, but the above works for me.\nClifton\nOn 8 August 2011 16:13, dtan \nreply@reply.github.comwrote:\n\ni never really thought about a root path having any weird characters in\nit. this seems verbose to me, but at least it will take into account those\nvalues (if any):\nvar path = require('path'),\n     rootpath = process.cwd(),\n     calipso = require(path.join(rootpath, 'lib/calipso'));\nthe only thing is that the entire require statement will have to be\nwritten like that for the i18n require, support, etc.\ndo you know if the windows version handles the slashes automatically for\nus?  so then we don't have to worry about doing\nrequire(path.join(rootpath, 'lib\\calipso'));\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/94#issuecomment-1754919\n. No idea re. windows ... I only use linux, I have a windows VM somewhere, and\njust have memories from earlier days of the differences between / and \\ as\ndirectory separators and occasional strange behaviour.\n\n\nHow about we go nice and simple for now, and just do:\nvar rootpath = process.cwd() + \"/\",  // prefer this here as a path should\nalways end with a \"/\" or you risk it matching a file in parent directory of\nthe same name\n     library = require(rootpath + \"lib/calipso\");\nThat way we just need to add rootpath as a new variable, and then insert\n\"rootpath + \" inside the original requires?\nOne advantage of having all the common libraries attached to calipso.lib is\nthat there isn't really that many requires scattered around the source code,\nso it isn't too big a deal if it is verbose, but the above works for me.\nClifton\nOn 8 August 2011 16:13, dtan \nreply@reply.github.comwrote:\n\ni never really thought about a root path having any weird characters in it.\nthis seems verbose to me, but at least it will take into account those\nvalues (if any):\nvar path = require('path'),\n     rootpath = process.cwd(),\n     calipso = require(path.join(rootpath, 'lib/calipso'));\nthe only thing is that the entire require statement will have to be\nwritten like that for the i18n require, support, etc.\ndo you know if the windows version handles the slashes automatically for\nus?  so then we don't have to worry about doing\nrequire(path.join(rootpath, 'lib\\calipso'));\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/94#issuecomment-1754919\n. A good idea - though not sure if it adds to understandability of the code if\nwe have a wrapper for require ... will almost certainly make some dependency\ncheckers struggle (but then again, sticking a path.join inside a require\nstatement does pretty much the same thing you'd expect ... ?).\n\nThinking:\n- We are going to always have to get rootpath to require calipso.\n- If we require calipso this way, we should probably be consistent and\n  require any other libraries the same way (excluding those that are\n  automatically loaded by calipso into calipso.lib).\nSo thinking we stick with the less verbose option without the path.join and\njust run with it.\nOn a separate note, why did they take out the require.paths?  It seemed like\na really useful function in terms of ensuring your code was readable and\nsimple?  Did I miss a good blog post that explained why?\nClifton\nOn 8 August 2011 16:23, dennishall \nreply@reply.github.comwrote:\n\nDoes it make sense to have a function, calipso.require, so that after\nrequiring calipso via \"regular\" require as you've detailed, the\ncalipso.require function could be used as a shorthand of requiring \"calipso\nincludes\".\nvar path = require('path'),\n     rootpath = process.cwd(),\n      calipso = require(path.join(rootpath, 'lib/calipso')),\n     i18n = calipso.require('i18n');\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/94#issuecomment-1755028\n. I think what you've done looks good to me, its clear enough and isn't too verbose - done!\n. Can't check from here unfortunately, but have taken a quick look at the module and it looks fine at a quick glance.  Can check later when back @ home.\n\nYou should be able to use the 'bin/calipso modules disable google-analytics -s' command to disable it though if you need to debug where the problem is.\nClifton\n. Merged, just tidying up any final small pieces now, commited two small updates to pusher and scheduler modules.\nDale - if the merge looks ok we can delete that branch, it looks fine to me?\n. Excellent work by the way!\n. The default is that it prints out the help, so they can see all of the commands available (on purpose), then if they want to run it straight away they can then see that the command is 'calipso server'?\nI think this makes more sense as the default given the range of commands available, otherwise you will need to type 'calipso help' to get the help listing ... (not really sure which is better from an experience perspective)?\n. Thanks - well spotted, timely reminder to always recheck the install process on any major changes!\n. Also pushed up to npm, no version change as (minor) bug fix.\n. That is very strange, I will try to replicate on a clean install and see what is going on.\n. I added some fixes to this yesterday, there was a fairly major bug in that the lib/Menu class was inadvertently adding calipso to the global object, and hence creating some fairly strange behaviour.  Need to retest now that has been removed.\n. Fine by me to change.\nOn Aug 9, 2011 2:20 PM, \"dtan\" \nreply@reply.github.com\nwrote:\n\nWhen I switched to node v0.5.0, and try to run npm install -d inside my\ncalipso build, i get this error:\nusing node v0.5.0\n$ npm install calipso -g\nnpm ERR! Unsupported\nnpm ERR! Not compatible with your version of node/npm: calipso@0.2.2\nnpm ERR! Required: {\"node\":\"0.4.x\"}\nnpm ERR! Actual: {\"npm\":\"1.0.10\",\"node\":\"v0.5.0\"}\nnpm ERR!\nnpm ERR! System Darwin 10.8.0\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"calipso\" \"-g\"\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR! /site/npm-debug.log\nnpm not ok\nis it safe to change this in the package.json file:\n\"engines\": {\n\"node\": \"0.4.x\"\n},\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/98\n. You need to npm publish, but I think only I can do that?\nOn Aug 9, 2011 3:37 PM, \"dtan\" \nreply@reply.github.com\nwrote:\ncool, updated. does anything else need to be done to make the change on\nthe npm registry?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/98#issuecomment-1763817\n. Ok, 0.2.3 is pushed to npm, i also updated the packag.json to be 0.4.x || 0.5.x, feels like the right setting until we find something that is too difficult to support in both.\n. Agree, all of the community modules are effectively optional and should live\nelsewhere so they don't clog up core ... It just needed the simpler download\n/ install process before it made sense to do.\n\nIt also raises a second idea re an install profile that pre packages core +\na set of community modules e.g. for a blog.  But that can follow.\nThe skinnier we can make core the better, though balancing that with an\ninstall process that has a site that does something up and running as\nquickly as possible.\nOn Aug 11, 2011 7:32 PM, \"dtan\" \nreply@reply.github.com\nwrote:\n\nI was thinking that at least the community modules packaged with a\ndefault calipso build should be broken out into their own git repos. I'm on\nthe fence with breaking out core modules simply b/c they are absolutely\nnecessary for the default build, otherwise i don't see why they would be in\ncore. But that might even be a path to go down with the core modules as\nwell. This would be similar to the current implementation fo the themes.\nI'm just going to harbor the community modules in my repo for now.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/99\n. Cool - I think that not putting community in the name makes sense, that folder structure is really only critical for organisation, you can actually put a module into any folder and it will work (e.g. at the moment the script always downloads them to 'downloaded' but you could then put them wherever you liked).\n\nI need to get the basics of the repo up and running, as well as add the concept of an install profile that describes a collected set of modules (so you don't have to download each individually).  Will try and get it done this weekend and get it up on Calip.so, then we can remove all the community modules from core and people can download them straight from the other repos.\nCheers,\nClifton\n. Ok, first pass at repository is on line, bit rough and ready but figured best to get early feedback ...\nhttp://calip.so/repo\n. This can be closed, it has been done in 0.3.0, any issues with the repo we can reopen as they occur.\n. The help text is out of date, it is actually -port (or -p) now that it has\nswitched to optimist:\ncalipso server -p 2022\ncalipso server -port 2022\nOr set the environment variable PORT (this should perhaps be NODE_PORT?).\nJust committed quick update.\nClifton\nOn 12 August 2011 18:08, dtan \nreply@reply.github.comwrote:\n\nhere is the output when trying to run the server via the calipso server\ncommand and using a different port:\n$ calipso server server.PORT=3101\n   Launching calipso from: /calipso\n   Calipso directory: /.nvm/v0.4.9/lib/node_modules/calipso/bin/../\n_ _\n ___  __ _| (_)_ __  ___  ___\n/ __|/ _` | | | '_ \\/ __|/ _ \\\n| (*| (| | | | |) * \\ () |\n    |,||| ./|_//\n                  |_|\ndb port: 27020\n   app.set('db-uri'):  mongodb://localhost/calipso-dev\n   12 Aug 13:06:03 - debug: Logging enabled: Console\n   Calipso server listening on port: 3000\n   Calipso configured for development environment\nNotice i put `server.port=3101\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/100\n. Well spotted, I'll do a run through to make sure we are scanning all inputs\nproperly.\n\nOn 23 August 2011 17:50, dvv \nreply@reply.github.comwrote:\n\n(npm version)\n\"About me\" field allows to include <script>alert('hacked')</script> and\nit gets executed successfully in when viewing the profile.\nBest regards,\n--Vladimir\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/102\n. This is now incorporated in the devel branch (0.3.0), and doesn't seem to have caused any issues.\n. Closed due to 0.3.0 release.\n. That's a bug, as the makefile was recently removed.  I need to quickly edit the calipso bin cmd and remove that copy file.\n. This has now been fixed, if you are using it via the github repository you just need to do another pull, if you have installed via NPM unfortunately I need to do a publish (will need to wait until I get home to do that I'm afraid).\n\nCheers,\nClifton\n. Sorry, I haven't had time to re publish to npm, only github has the latest\nfixes for this.  Will try and get it up tomorrow am, but a bit flat out atm!\nClifton\nOn Aug 29, 2011 6:45 PM, \"nekdolan\" \nreply@reply.github.com\nwrote:\n\nNow I get this error:\n...\nCopied: /var/www3/test/utils\nCopied: /var/www3/test/themes\nCopied: /var/www3/test/i18n\nCopied: /var/www3/test/scripts\ncreate: /var/www3/test/scripts/templates\nCopied: /var/www3/test/scripts/templates\nnode.js:134\nthrow e; // process.nextTick error, or 'error' event on first tick\n^\nError: Command failed: cp: cannot stat\n`/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/..//node_modules/*': No\nsuch file or directory\nat ChildProcess.exithandler (child_process.js:102:15)\nat ChildProcess.emit (events.js:67:17)\nat Socket. (child_process.js:172:12)\nat Socket.emit (events.js:64:17)\nat Array. (net.js:831:12)\nat EventEmitter._tickCallback (node.js:126:26)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/104#issuecomment-1934268\n. Its npm install -g (if you want to emulate the npm install from a github\nclone) not npm rebuild.\n\nInstall downloads all of the.dependencies and puts them into node_modules.\nOnce you have done this the calipso command will work.\nOn Aug 30, 2011 8:58 AM, \"nekdolan\" \nreply@reply.github.com\nwrote:\n\nThat's alright, but why do I get a different error now? I made another git\nclone and in the calipso folder I used 'npm rebuild'. Until now the makefile\nwas missing but after the rebuild it is the node_modules folder that is\nmissing. Am I doing something wrong? I mean a git clone should get the\nnecessary data from here, right?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/104#issuecomment-1940040\n. Can you try:\n1.  Uninstall via npm (npm uninstall calipso -g)\n2.  Go to to root of folder of github clone of calipso.\n3.  Cmd:  'npm install'\n4.  Cmd:  'npm install -g'\n5.  Go to a new folder somewhere, type 'calipso site MyNewSite'.\n6.  cd MyNewSite\n7.  calipso server\n\n?\n. Things get put in node modules via the npm install command, it should download all of the dependencies and put them into node_modules for you ... what happens in the 'npm install' step, before you do an npm install -g?  (The -g just copies it into the global folder so that the calipso command is available from anywhere).  \nI'm halfway through a major refactor of the configuration, but will stash that today and see if I can figure out what is going on with your install.\nYou can run it from the github clone, also - it is a fully working site.  After npm install in that folder (or npm install -d) you can just run 'node app', or './bin/calipso -s server'.  \nClifton\n. Just noticed, you are running a very old version of npm, can you upgrade to\nthe latest stable version?\nOn Sep 3, 2011 9:19 AM, \"nekdolan\" \nreply@reply.github.com\nwrote:\n\nroot@vps236:/usr/local# git clone git://github.com/cliftonc/calipso.git\nInitialized empty Git repository in /usr/local/calipso/.git/\nremote: Counting objects: 5974, done.\nremote: Compressing objects: 100% (2706/2706), done.\nremote: Total 5974 (delta 2970), reused 5880 (delta 2917)\nReceiving objects: 100% (5974/5974), 1.86 MiB | 1625 KiB/s, done.\nResolving deltas: 100% (2970/2970), done.\nroot@vps236:/usr/local# cd calipso\nroot@vps236:/usr/local/calipso# ls\nREADME.textile bin i18n logs package.json support utils\napp-cluster.js conf lib media pids test\napp.js config.json logo.js modules scripts themes\nroot@vps236:/usr/local/calipso# npm install\nnpm info it worked if it ends with ok\nnpm info using npm@0.3.18\nnpm info using node@v0.4.9\nnpm info calculating sha1\n/usr/local/lib/node/.npm/.cache/calipso/0.2.3/package.tgz\nnpm info shasum 86e04f59911077f6e16141c16fd5af0d69a79290\nnpm info preinstall calipso@0.2.3\nnpm info install calipso@0.2.3\nUsing Node version: v0.4.9\nUsing NPM version: 0.3.18\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking that key modules are installed...\nInstallation completed, please try the command \"calipso\" to test the\ninstallation.\nnpm info postinstall calipso@0.2.3\nnpm info predeactivate calipso@0.2.3\nnpm info deactivate calipso@0.2.3\nnpm info postdeactivate calipso@0.2.3\nnpm info preactivate calipso@0.2.3\nnpm info activate calipso@0.2.3\nnpm info postactivate calipso@0.2.3\nnpm info build Success: calipso@0.2.3\nnpm ok\nroot@vps236:/usr/local/calipso# npm install -g\nnpm info it worked if it ends with ok\nnpm info using npm@0.3.18\nnpm info using node@v0.4.9\nnpm info calculating sha1\n/usr/local/lib/node/.npm/.cache/calipso/0.2.3/package.tgz\nnpm info shasum 07647c46c8fb8f8d67e506474643d1aca0d6d4c7\nnpm info preinstall calipso@0.2.3\nnpm info install calipso@0.2.3\nUsing Node version: v0.4.9\nUsing NPM version: 0.3.18\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking that key modules are installed...\nInstallation completed, please try the command \"calipso\" to test the\ninstallation.\nnpm info postinstall calipso@0.2.3\nnpm info predeactivate calipso@0.2.3\nnpm info deactivate calipso@0.2.3\nnpm info postdeactivate calipso@0.2.3\nnpm info preactivate calipso@0.2.3\nnpm info activate calipso@0.2.3\nnpm info postactivate calipso@0.2.3\nnpm info build Success: calipso@0.2.3\nnpm ok\n...\nError: Command failed: cp: cannot stat\n`/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/..//node_modules/*': No\nsuch file or directory\nWhy does calipso put node_modules into it's own folder? Most of the\nmodules don't go there so... are these calipso specific modules?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/104#issuecomment-1985849\n. Excellent! Glad we got there in the end.\nOn Sep 4, 2011 8:12 AM, \"nekdolan\" \nreply@reply.github.com\nwrote:\nThanks\nThe npm upgrade did the trick\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/104#issuecomment-1990220\n. +1 - I think it also needs an API wrapped around it, so that modules can do a \n\n'calipso.theme.addJavascript('file'); \n calipso.theme.addStyle('file'); \n(or they can define these files in their exports? e.g. .styles = ['static/style.css'])\nThemes could also define a js and css folder more explicitly in the theme.json so they can be scanned reliably.  This means we could drop any bad inline js as well.\nThat then gives us a 'stack' of js and css that can then be combined and minified.  It can be done as part of the bootstrap and not on each request, and the watch of these file types could trigger it to be re-run ...\nThe current method of having a 'static' folder in a module, that is then included is pretty much the sledgehammer approach to module includes ...\n. Definitely, I once started to write one of these:\nhttps://github.com/cliftonc/calipso/blob/master/lib/Helpers.js#L204\nBut never got around to finishing it.  I guess the key decision is if we want to deal with the modularity server side or client side \ne.g. \nOption 1: we could just have each of the individual files exposed, and then a client side javascript loader loads them all.\nPros: More dynamic, only pull down the JS files required to work on the page you're on.\nNegative:  Need to think about how module JS files are exposed in a robust way?\nOption 2: we could concatenate and minify them all on the server side and send it in one go.\nPros:  Simpler client side, more 'traditional'.\nCons:  We get a big hunk of JS on every page (not bad if it's cached of course).\nWhat do you think?\n. Does this need to be done via a cookie?  \nWe can just pass returnTo to the login form via a url param, and then set it in the login form in a hidden field, it then goes along with the post and then a successful login just sends back a 302 to the returnTo?\n. thanks, the custom fields use the form api defined in lib/form.js.  Dennis has done a lot of work refactoring it, with a long term aim of making it much more cck (drupal) capable.\nwill take this issue as a documentation one (primarily) if that's ok? \n. Re. your second point at the bottom - I've just committed a small tweak to the event manager to make it simpler (I think!) to alter forms.\n1.  There is now a 'core' event called FORM, that is emitted whenever a form is rendered (see #703 of lib/Form.js) - it is a custom event that also emits the form id (extracted from the form).\n2.  This allows you to register a listener in one line (see line #75 of contentVersions for example) that can alter a form that is defined in another module.\nProbably needs some renaming as 'custom' isn't a great name for these events, but what do you think of this approach?  \nClifton\n. (p.s. also good to enable the devtools module as it adds a menu item to admin allow you to see all the registered events and listeners).\n. Excellent, thanks.  The config approach has changed in the devel branch, and the modules are in the process of being moved out into separate repos for the next release (see dtan/calipso-google-analytics) - but i'll merge your changes into those and let you know where they are.\n. Excellent - thanks!\n. I did see that - it looks much better.\n. This is now fixed in 0.3.0.\n. Updated so we don't confuse anyone :)\n. It is all searchable via CLI at the moment, web soon.  If you grab the latest devel branch, it is now all up to date and lets you find and install modules and themes that are listed on calip.so.  Will update this issue after the 0.3.0 release.\n. Closed, a web version of the search / install should be built as an admin module.\n. You need to use the getContent helper, not get block when grabbing content - check out the calipso-site-theme from my repo, and you will see the examples of the github and blog landing pages.\ngetBlock is used to grab pre-rendered html from modules, that you can then just place into a view.  If you use getContent, you can get access to the mongoose object directly, then use:\ncontent.get('yourFieldName') will do the trick (or content.yourFieldname as well should work).\nLet me know if you're still stuck.\nClifton\n. Just to clarify:\ngetContentList >> Lets you query to get a list of content (useful for pages like: http://calip.so/section/github, example: https://github.com/cliftonc/calipso-site-theme/blob/master/templates/githubLanding/body.js)\ngetContent >> Lets you get one piece of content based on its alias useful for pages like: http://calip.so, example: https://github.com/cliftonc/calipso-site-theme/blob/master/templates/home/body.js)\nClifton\n. You're not missing anything obvious - it is still early days and the 'make it easy and intuitive' is still very much a work in progress!\nThe alias will be in req.moduleParams, but only in the context of the content module atm - it won't be there by the time you get to the theme.  As all the modules are executed in parallel, and so effectively in their own scope, a lot of the processing is done just in the context of the module and not then aggregated (safely) somewhere (given that modules may overlap in defining params in a route) so you can access it in the theme layer.\nSo the crux of the problem is that the content functions all execute inside the content module, and from a theme you can only get access to either a) the rendered block, b) the helpers that let you go back to mongodb, or c) the ability to over-ride the show.html template renderer, but that isn't very scalable past 1-2 content types.\nFor me there are a few important things here:\n- current approach isn't very intuitive, it needs to be clearer and make more sense as well as be better documented so the limitations of the parallel approach are clear or I just work around them\n- any params extracted from the request by modules should all be stored, aggregated and available to the theme layer via a helper (e.g. getParams)\n- we need to allow you to specify the template markup for both the landing page (list) and page (show) for a content type, from within the content type.\nDoes that about sum it up?  \nps.  getContent should work (because I use it all the time) - but note that if it can't find the alias in MongoDB, it 'helpfully' provides a link so you can create it.  Best to console.dir() the alias + returned object from the theme as something doesn't match up.\n. getParams is in devel, the second is a bit larger, so I will write up as a feature and add it to the issues list.\n. Hi, most of this is now accessible in the devel branch, if you're still interested (6 months is an awfully long time I know!) then let me know if you can take a look.\n. Excellent - thanks!\n. Link to issue #117, link to gist: https://gist.github.com/1252291\n. Interesting ....\nDoes npm work for anything else?  (e.g. npm install express -g)\nDo you have gzip installed?\nCan you try 'npm install -d' as it gives more output and we may be able to\nsee which module fails?\nClifton\n(edit as I realised my comments disappeared!)\nOn 10 October 2011 13:14, casperanderseneu \nreply@reply.github.comwrote:\n\nIt fails on decompressing an archive file during npm install\nverbose: https://gist.github.com/1274984\n[casper@think /usr/home/casper/git/calipso]$ npm install\nnpm ERR! gzip \"--decompress\" \"--stdout\"\n\"/tmp/npm-1318240347771/1318240351613-0.15520785213448107/tmp.tgz\" gzip:\n/tmp/npm-1318240347771/1318240351613-0.15520785213448107/tmp.tgz: trailing\ngarbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\"\n\"/tmp/npm-1318240347771/1318240351613-0.15520785213448107/tmp.tgz\"\nnpm ERR! Failed unpacking\n/tmp/npm-1318240347771/1318240351613-0.15520785213448107/tmp.tgz\nnpm ERR! couldn't unpack\n/tmp/npm-1318240347771/1318240351613-0.15520785213448107/tmp.tgz to\n/tmp/npm-1318240347771/1318240351613-0.15520785213448107/contents\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\"\n\"/tmp/npm-1318240347771/1318240351613-0.15520785213448107/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess.\n(/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Report this entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR!\nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! cwd /usr/home/casper/git/calipso\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/git/calipso/npm-debug.log\nnpm not ok\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/123\n. Very strange.  \n\nNo need for the -g, that just attempts to install it globally.  'npm install -d' will just install all of the dependencies for the project you are in locally inside the node_modules folder (the desired behaviour).\nDoes the command:\ngzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\"\nWork on its own? \nIs this tmp file still there, and does it look valid?\n. Ok, so npm works, gzip works, the command that is failing inside npm works outside of npm ... \nThe only thing I can think of is something related to your node / npm install.  Why do you run npm via sudo?\n. np, leave it open - let me know how you get on.\nOn 10 October 2011 18:51, casperanderseneu \nreply@reply.github.comwrote:\n\nsudo, because it is necessary when installing with -g as instructed in the\nQuick Install guide.\n[casper@think ~/test]$ git clone git://github.com/cliftonc/calipso.git\n[casper@think ~/test]$ cd calipso/\n[casper@think ~/test/calipso]$ npm install -d\n==> same gzip problem\nyes, it is odd. ok, don't roll your head with it for now.\nI'll give it a little time, and then test on different machines to see if\nit persists.\nso we can close the issue for now, if convenient.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/123#issuecomment-2350135\n. Great news :)\n\nOn 11 October 2011 14:56, casperanderseneu \nreply@reply.github.comwrote:\n\nanother problem has shown, but this particular issue is no more.\nI removed my global /usr/local/lib/node_modules folder, and /root/.npm +\n/home/me/.npm just to be sure.\nafter reinstalling npm, the before mentioned problem is history here.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/123#issuecomment-2361571\n. Nathan, it looks great, I've merged in the changes (I did it manually as I needed to remove the movies - they make the repo massive for anyone starting out, so best for us to keep them somewhere else).\n. No, it isn\u00b4t even compatible with 0.5x, the reason being that many of the libraries that it depends on aren\u00b4t yet compatible.  \n\nI basically need to find time (or volunteers) to help keep it up to date for core Node releases (which may mean committing and fixing some dependent projects - mongoose, express etc), but I am really struggling to find time at the moment.\nSo for now it only runs on the 0.4.x branches (any version you like).\n. Thanks guys - I've been flat out and so haven't managed to get the devel branch fully up to date and running with 0.6, but will aim to get it together and committed this weekend.\n. I've just started a new job, so have had to focus on that for a while.  I'm intending to pick it up again over the next few weeks.  If you take the devel branch, not the master, it shouldn't be far off working on 0.6?  I don't have a Windows PC at the moment, so haven't yet tried to install Calipso on a windows PC.  \nI'd recommend an Ubuntu VM on VirtualBox if you want the easiest experience.  Happy to help, and as I said, once I've gotten my feet properly under the desk in my new job and have a little time at weekends I'll be getting back into this.\nCheers,\nClifton\n. Closed due to age.\n. Thanks - back up now.\n. Thanks!\n. Thanks guys - very helpful, will hopefully be able to get back into this soon!\n. Hi, the best bet is to grab one of the existing 'community' modules from the repo, e.g.\nhttp://calip.so/repo/show/module/Template (https://github.com/dtan/calipso-template)\nAnd put it into /modules/custom (or /modules/community) both are ignored by the base project.  You can then rename / edit to your hearts content, and when done just commit from the root.\nYou can then install the module into other 'sites' using the cmd line.\nBest of luck, let me know if you have any questions, I've been unable to work on this much of late but happy to help as much as I can.\nClifton\n. This has now been fixed in devel, slight refactoring to the order in which modules are enabled and installed during the installation process.\n. Hey, this has now been done as part of a slightly larger refactoring over the weekend, and the devel branch is good to go on v0.6+.  You still get the occasional warning as some of the dependencies still use it, but will trace those down and get them patched.\nThanks for the contribution!  I'm working to get 0.3.0 out this week, so if you have any time to check out the devel branch and have a play any feedback or assistance would be greatly appreciated!\nClifton\n. Rich,  I've come to the same conclusion.  The devel branch now has hook.io removed, and has a new cluster.js that uses the new core cluster approach.  \nThe inter process comms issue will need to be resolved separately and take into account the whole tcp sharing thing in the core cluster comms (it may just be easiest to have the comms go via a mongodb pub sub type approach?).\n. Ok, I'll revert it back in with the latest hook.io and see how it goes. \nThe alternative is to take a simpler and more direct no master multicast approach so any node can broadcast to the rest ( e.g. On configuration change), or build a module that uses something like redis pub sub to wire up all the nodes to respond to certain events.  This approach keeps the core cleaner and simpler, may spike it and see how it looks.\n. Sounds very cool, will drop by your fork and take a look.  I've refactored a lot this weekend, mainly so I can start to really clean up the core libs and get proper tests etc. against all the core code.  I will try to get hook.io back in based on your work in the next day or two.  \nThe permissions are also all working now at a first pass, would be great if you can take a look and let me know what you think?  I think it needs to be refactored slightly so that in modules you just use the permission string rather than the references to the permission.Helper all the time, but would appreciate your input.\nCheers,\nClifton\n. Ok, definitely get it, currently the permission system is focused on functions not data, but it can be extended to deal with both so that within a module you can leverage it to control permissions on a document by document basis.\nLet me give it some thought.\n. The VPS it was running on died, back up now.\n. Definitely 7+, but I don't really mind if we break in IE 7 / 8 as long as we only break from a styling perspective (e.g. shadows, rounded corners etc). and not from a functionality or layout one.\n. Hi Nathan, good to see you back!\nI'll take a look, can you make sure you're working in devel?  I've done a lot of work there this weekend to make it run in the latest versions of node, get things moving again.\n. Great, 0.3.1 is now in NPM, it isn't quite 'finished', but I wanted the first npm install to work and felt it better to just get it out there and then iteratively add more functionality to that branch.\n. This is now done in devel.\n. Perfect - thanks.\n. OK,  I'll take a look this afternoon,  I've been refactoring a lot and mayhave missed something. \n. I've pushed a new version to NPM, can you retest?  It looks good to me on all versions of Node.\n. Great, will close this then.\n. Hi, that looks like you're using an old version of bcrypt (a required library).  What version of node are you using?\nDoes;\nnpm install bcrypt\nWork?\n. Well spotted!\n. Morning,\nPulled this down and started going over it, but all of this together breaks the current devel?\nThe recent refactoring to clean up the core libraries (under /lib) are all impacted - e.g. we end up with /lib/Event.js and /lib/core/Event.js.  It's really not clear what is now being used?\nIt's such a massive set of commits, it's difficult to know where to start.  Is it possible to break out:\n1.  The new modules (assets, mail).\n2.  Changes to any core libraries in lib/\n3.  Changes to the themes\nAs separate pull requests?  Happy to discuss if you have a different suggestion, I like where all of this is going and the huge amount of effort, but this merge puts devel into a very weird state when applied.\nThere are also some new features now (e.g. per module config - checkout https://github.com/dtan/calipso-disqus/blob/master/disqus.js) that mean you wouldn't need to edit the form in the admin module to add the configuration for the asset module, but we can talk through these in each area if you are able to break the pull request up into different pieces?\nClifton\n. Andy, will definitely be looking through it all today, also very keen to get it merged in.\n. Go for it,  had a busier day than planned!\nFrom my mobile,  apologies for brevity and typos.\nOn May 27, 2012 4:14 PM, \"Andreas Richter\" \nreply@reply.github.com\nwrote:\n\nCan I close this?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5954147\n. Andreas - apologies on this, I've added you as a collaborator so you can check and merge this into the devel branch yourself and keep things moving between your work and the main branch.   Things are a little hectic here atm and i just haven't had the time to go through this properly and figure out how to merge it all together.\n. Thanks!\n. Thanks - I just need to fix the install scripts now that the support folder has been removed. \n. Thanks!\n. Definitely on the cards, there is a big pull request pending that we need to get into devel, and then I think we need to focus on making it work on 0.8.  The biggest issue I had with 0.7 was all the third party libraries - many of them need to be upgraded (which may be where most of our work is contributing back to those!).\n. It is intended to all be MIT, we need to add it to the README, feel free to\nsubmit a pull request to add it.\n\nOn 5 July 2012 07:48, Benjamin Atkin <\nreply@reply.github.com\n\nwrote:\nI see that lib/calipso.js has the MIT license and that most, if not all,\nincluded dependencies are under the MIT license. I don't see a license in\nthe README or package.json, though. Is there a license for the whole\nproject?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/156\n. A good example is here: https://github.com/cliftonc/calipso-repo/blob/master/repo.js#L243\n. Thanks Nicolas, will respond to your other email shortly!\n. bcrypt can't compile on Windows, see: https://github.com/ncb000gt/node.bcrypt.js/issues/71\n\nUnless we re-implement the password hashing using something that works across platform we're out of luck on this one.  Open to ideas.\n. Apologies all, let this drop over the Christmas period.\nKhush, can you help get us a smartmachine and mongodb instance on Joyent?  I have the latest backup from calip.so on dropbox that I can share.   Current VPS provider is proving painful to get back online.\n. It's back up, on the current VPS - but will get it moved over to Joyent asap.\n. Yes, though nodejitsu == joyent these days - will explore both.  Submitted to webmaster tools first thing this morning - apologies to everyone for the delays.\n. ",
    "dennishall": "Make sure to check out connect-auth. It has everything except the securely transmitted and stored (salted, hashed) passwords.\n. Here's an example of connect-auth with salts and shas. https://gist.github.com/957897\nPlease excuse the abandoned email verification chunks other commented-out code.\n. npm link has never worked for me, I've always had to \"npm install\" each dependency.\nMaybe use git submodules. See https://github.com/robrighter/node-boilerplate for an example. I like this setup. Except we wouldn't be using it as a boilerplate for new projects, so some things would need to be adjusted, others wouldn't apply. Adjust: instead of putting the submodules in [projroot]/lib, put them in [projroot]/node_modules. N/A - most of initproject.sh.\nthen the install of calipso would be\ngit clone (calipso.git)\ngit submodule update --init --recursive\n. No problem. I'll look forward to seeing the bigger fix. :)\n. Although i18n is nice, realistically, most sites will not need it. Whatever approach is taken should take a least-overhead approach so that most sites will not be encumbered with needless function calls.\n. It might not be ideal, but I've found the node-boilerplate approach to be quick and convenient. ( https://github.com/robrighter/node-boilerplate )\n. Default template, cleanslate, now uses a right.html (ejs) template instead of right.jade.\n. If there are no objections, sounds like this issue can be closed.\n. Yes, \"page-aside\" would be good. (\"page-\" prefix since page subitems could feasibly have their own asides, which should similarly be subitem-name namespaced.) I would resolve it, but I'm totally slammed with other work right now.\n. On the other hand, including too many things in cleanslate would turn it into a misnomer.\nI think that the 'template' module just needs beefier comments. A good place to start might be to paste your comment in this thread at the top of the template module.\n. @adrinux / cliftonc - comment & close [this thread]?\n. Yeah, \"instruct\" bothered me a little also. I usually use \"field-note\", which could either be instructions or a description, it's nice and generic that way.\n. @coleGillespie / cliftonc - comment & close?\n. Maybe the database startup test needs to be abstracted then, one file = one test for one db implementation.\nI think the old test that I wrote worked. If you changed what db, and what implementation of it, mongo 'supports', then may as well change the test, or add an appropriate one.\nI had written that test just so that people wouldn't get the install/startup dilemma of - \"everything looks like it should work, but it doesn't\".\nA better test might be to try to run \"mongo\" at the command prompt from a script called by calipso.\n. Right. This was a mistake.\n. node v 0.5.3 - error pertained to app.js attempting to modify require.paths. From the node docs:\nNote: Please Avoid Modifying require.paths\nrequire.paths may disappear in a future release.\n. Does it make sense to have a function, calipso.require, so that after requiring calipso via \"regular\" require as you've detailed, the calipso.require function could be used as a shorthand of requiring \"calipso includes\"?\nvar path = require('path'),\n  rootpath = process.cwd(), \n  calipso = require(path.join(rootpath, 'lib/calipso')),\n  i18n = calipso.require('i18n');\n. A note on obtaining the root path: It might be useful to use require.main / require.main.filename.\nhttp://nodejs.org/docs/v0.4.10/api/modules.html#accessing_the_main_module\n. @dtan, good point about the other modules basically only requiring calipso. I'm a bit out of touch and trying to get back into things here.\n. Might be nice to merge it back into the main branch then.\nAlso to update my remark about require.main / require.main.filename - they won't be useful for people who did the npm install calipso route, since require.main will be based off of the globally installed location of calipso, and not the site-local copy of it. (Logged from calipso.js, ran from $calipso server from www/siteName - require.main.filename: /home/ubuntu/local/node/lib/node_modules/calipso/bin/calipso)\n. Actually, probably best to just update the docs to tell people to run \"calipso server\".\n. looks like the pertinent line is missing the calipso namespace for 'app', and should be calipso.app.doingInstall = true;\n. To make it a little easier on the node 4.x folks, it probably makes sense to use a wider version range than \"5.x\", perhaps \"0.4.x - 0.5.x\"?\n. Thank you for reporting this issue.\nI don't have calipso running on my machine here at work at the moment, so I can only guess at this, but it looks like clear is what we want here. If you are able and willing, please try\n.table-admin {\n  clear: both;\n}\ninstead and let us know how it works. Also, if you are able to, test in ie8,9 as well. Thanks again.\n. That sounds like a good interim solution.\nThis should probably be partly the job of the content type to declare whether a given field should allow [ no html, filtered html, or full html ] + defined per role. Of course, on further thought, that should probably only apply to textareas, and all other fields should most likely simply disallow any form of html.\n. Good point. I had mistakenly considered this as input filtering. So, to combine your point with mine, the output should be filtered as one of [plain text, filtered html, full html]. This article focuses on your point, but also touches on mine: http://www.lullabot.com/articles/drupal-input-formats-and-filters\n. Just to round out this conversation a little more, it should be noted that input filtering will probably give better performance for most cases (filter once, on db insert/update, instead of filtering every time it's viewed) - at the cost of some content flexibility. (Depending on the performance difference between input and output filtering, that might be an easy choice for most people.)\n. One potential method of sanitization - albeit probably heavy+/expensive - might be to use jsdom (+jquerify if needed) to get innerText.\nAnother potential method - but labor-intensive: port htmLawed to js [http://www.bioinformatics.org/phplabware/internal_utilities/htmLawed]. NOTE: It also has some useful test cases that we might want to run against whatever solution is used.\nSimilar, but already written in js - This question, http://stackoverflow.com/questions/1637275/simple-html-sanitizer-in-javascript, is answered with a link to a plugin for the 'caja' library: http://code.google.com/p/google-caja/source/browse/trunk/src/com/google/caja/plugin/html-sanitizer.js\n. Sounds like another dependency management situation. Require js might work out better for the js side of things. http://requirejs.org/docs/optimization.html. Even the order of stylesheets can make a difference, although I'm not inclined to support module-specific stylesheet ordering. In my view, module stylesheets can simply be appended to the list of stylesheets.\n. It does not 'need' to be done via cookie. Some might even argue that the cookie method is inferior. I might be wrong, but it is the way I've done it for the sake of improved page cacheability. There could basically be an infinite number of possible returnTo's, leading to many, many \"different\" login pages, from a caching perspective. I endorse using a temporary cookie for this functionality.\nA similar change that I'm working on is to move a couple of user details into a cookie so that client javascript can take care of page personalization. For instance, if username is in a cookie, then all content pages can be much more simply cached. It is somewhat likely that a given project may require that absolutely no user information is stored in a cookie, so it would be good to make this a config option. However, for the typical expected calipso use-case, putting username in a cookie should be ok, and thus I recommend that it is the default config.\nIt might be nice to allow the entire site to function without cookies, but I'm not particularly in favor of it since that is rarely a project requirement (probably hasn't been a requirement in years).\n. I'm interested in any feedback you can provide regarding the structure. I'm especially curious what, if any, structure(s) you tried along the way to finding the right one. Maybe there is room to make it more intuitive also.\n. I added a more friendly display of those steps. If you haven't done a fresh install from devel in awhile, I recommend you have a look.\n. Just an update to that last part - no need to take an early glance there, it's in the devel branch of calipso now (and updates will happen there).\n. ",
    "coleGillespie": "this is going to be the next issue i tackle. it is going to involve a lot of changes to the admin section and will end up looking completely different from the way it does now. using jsTree i will come up with a proof of concept to really tidy up the way the menu looks on the backend. feel free to go ahead and assign this to me.\n. is there a global menu object? i need to find a way to get the primary and secondary menu items for each module no matter what module i am currently in so i can display it in the jsTree\n. so the menus are worse than i anticipated. =)\n<div id=\"adminMenu\">\n  <%- admin %>\n</div>\nwhat exactly does <%- admin %> mean in this context? \ni am guessing it means do what is defined in themes.json at the following line...\n\"admin\": {\"menu\": \"admin\", \"template\": \"adminMenu.html\"},\nthem template part makes sense, but the \"menu\" part is a little confusing.\neither way i am going to have to find a way to compeltely refactor the menu stuff in order to get a better admin backend here. the current way is in dire need of reconsideration. i will put some thought into it and come back with my ideas.\n. I think the best thing for me to do in this case is to build a static menu structure based on the current way the menus are set up using jsTree. that way you can get an idea of what the final administration panel will look like. it would make more sense for you to be able to see an actual static working backend, kind of like the old hard coded admin panel that i turned into tabs. once i build this prototype you will be able to get a feel for my idea of how a backend should look. \n. ok, this is going to be somewhat of a rewrite on how the whole backend works but here is my idea. \ncontent has its own folder\n- inside of the content folder are content types that are defined by the user, these content types will link to a list page for that content type that will have an add content button on it that links to the add new content page for that type.\nMedia and other modules\n -inside will be options for that particular module\nAdmin Settings\n  -inside will be parts of the admin that will link to a page that will allow the user to drill down deeper into the admin settings than they can currently. maybe provide meta info about each child of the admin settings on these pages.\nhttp://www.colegillespie.com/code/jstree/delta.html\n. i know that is really rough, but maybe you get a better idea... i know this would be a huge re write...it might be to much of a stretch at this point...\n. sounds good\n. it is great to see you back after a week or so. I was beginning to wonder how long it would be before i saw another comment here on this issue. I have been very busy working in another type of cms with my full time job. I will have a look at the updated code and see what i can come up with. i will try to come up with a re factored admin section that includes a tree view. very excited to proceed with this.\n. alright, i will have some time today to try and get something out on the menu side of things. i just noticed the deadline for 0.2 =/\n. i am finally making progress on the menus. i think you are really going to like the new look to things. more updates to come within 48 hours.\n. awesome. i will be back around next release. sorry have been on vacation in the south pacific all summer. just now getting back into the groove.\n. do you have any ideas on which test framework you would like to see implemented?\n. have you seen this? http://deepliquid.com/content/Jcrop.html\n. define what you mean by \"displayed on a single page\"\nwould you like the .admin-page to be a certain height?\n. would you be opposed to third party tabs/accordion effects or do you think we should roll our own?\n. i am going to write my own using jquery in the cleanslate admin page. stay tuned for updates.\n. would the use of jquery be acceptable/lightweight enough for these tabs, or would you like to see it even more lightweight?\n. every time you make a change to xxxxx.module.js you must restart the server to see the changes, is their an easier or more immediate way to see those changes?\n. either way, i am currently constructing the json to build a proper form in the admin module, i guess i will build it all up and test it when i am done instead of testing as i go along. as with all new systems come small growing pains =)\n. the admin form is a bit different from the content form, the admin form includes dynamic inputs that are rendered when the page is loaded. for example: languages and themes. Would we compensate that logic inside of json, loop over each language or theme? or would we pre build the language/themes object inside of showLanguages/init methods and then insert it inside of the json via a global var we create for the language/theme object? Or would we render it at loadtime inside of the admin.html just like we are doing now and not even worry about it in the json, this option actually would not work since we will not be building our form in the html. Suggestions?\n. modules would be another example...\n. still working on a prototype\n. so in theory i should be able to say something like\njson\n{\n   id:'form-section-theme',\n   label:'Theme',\n   fields:[\n      {\n         label:'Theme',\n         name:'admin[theme]',\n         type:'select',\n         options:function()         {\n            return calipso.data.themes\n         },\n         instruct:'Select the theme, this impacts the website theme.'\n      }\n   ]\n}\n. roger that\n. is there a public list of the accepted field types? i am guessing is it the same as w3c? are you using a node module to parse this json and build out the form? (sorry for all the questions, just trying to make sure i am clear on everything)\n. changing calipso.data.themes.push(name); causes a validation error when trying to save\n. disregard that last comment  fixed it\n. do you have a good method of debugging? i would really like to be able to drill down into some of these objects i am creating\n. nevermind, console.log was not working before, now it is working great =)\n. by 'node-inspector' you are just talking about 'Elements' inside of the developer tools correct?\n. AWESOME! i almost have the whole admin form rendering from json, i just have to finish the modules section and then re write your tabs logic a little bit inside of the calipso form lib to render the right stuff for my tabs javascript and then i will be able to commit it to my fork for you to inspect\n. at this point should we close this issue? \n. what do you think the best way to start this documentation would be? right now we do not have a specific documentation destination set up inside of the master branch (at least i do not think it is there). should i create a docs/ folder inside the master branch? or create some documentation inside of the calip.so web site. I think the best way to go about it would be to set up a wiki for \"themes\" in this particular repo. \n. something like this\nhttps://github.com/coleGillespie/calipso/wiki\n. was thinking the same thing earlier, but i did not say it...\n. ok, that makes sense. let me see what i can come up with\n. i am going to close this request, a new one with the correct code will be coming your way shortly\n. in what places would you like to see this editor?\n. i am not sure i fully understand that matter at hand here. could you explain in more detail?\n. adrinux try clearing your cache as well when you do a clean install... clifton i think that the install process while a bit tedious is also a way of rooting out developers who can not get it right. if you can get through the install process then i welcome you to bring your ideas and contribute d^^b\n. once you get all the correct libraries in place, installing is not that hard...just git clone and npm install and you are up and running\n. I agree with you 100%. i put this up for a test just so you could get a preview of what i have been working on and what the back end _might look like if we do decide to take this approach. i did not expect full acceptance and was a bit hesitant to actually push this to my tree but I wanted to show you my progress and get your feed back (which is exactly what happend ^_^).\nWith that being said I think that there are a few directions we can go here. We must ask ourself a few questions.\n  -What abilities do we want to give the admin on the front end?\n  -What abilities do we want to give the admin on the back end?\nI think it would be nice to use the previously suggested Aloha-Editor and allow for some block level manipulation at the front end and leave all the heavy lifting for the back end admin.\n. ",
    "LarryEitel": "Trying to run 'sanity test' using mocha per reference in package.js:\nNODE_ENV=mocha mocha --reporter spec -t 5000 -s 500\nIt returns:\ncalipso.logging.configureLogging(loggingConfig);\n                ^\nTypeError: Object #<Object> has no method 'configureLogging'\n. got same response :S\nI'm on ubuntu server (latest)\n. Thanks for reply. I reinstalled from repo with no complaints. App launches fine too. However, I get same error with trying to run tests using: npm test.\nEnjoy your vacation. :)\n. FYI, test is complaining about missing should. Adding it however, doesn't resolve this issue.\n. Here is a link to pastebin of test run on cloned repo of tower: http://pastebin.com/pwXvAsRQ\nMy related problem was in fact cause I was running a test on a new site. I WOULD like to see a test of generated new site, albeit simple. I and likely others would then extend from there. Actually, the core models could/should be testable. Also would serve as example for new custom models.\nA Thanks to all who have contributed to this project!\n. git clone https://github.com/cliftonc/calipso.git\ncd calipso/\nsudo npm install -d\nnpm test\nreturns:\n```\n\ncalipso@0.3.4 test /home/larry/_of/_prjs/calipso\nNODE_ENV=mocha mocha --reporter spec -t 5000 -s 500\n\n/home/larry/_of/_prjs/calipso/test/helpers/calipsoHelper.js:98\ncalipso.logging.configureLogging(loggingConfig);\n                ^\nTypeError: Object # has no method 'configureLogging'\n    at Object. (/home/larry/_of/_prjs/calipso/test/helpers/calipsoHelper.js:98:17)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/home/larry/_of/_prjs/calipso/test/lib.core.menu.js:7:21)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Mocha.loadFiles (/home/larry/_of/_prjs/calipso/node_modules/mocha/lib/mocha.js:126:27)\n    at Array.forEach (native)\n    at Mocha.loadFiles (/home/larry/_of/_prjs/calipso/node_modules/mocha/lib/mocha.js:123:14)\n    at Mocha.run (/home/larry/_of/_prjs/calipso/node_modules/mocha/lib/mocha.js:229:8)\n    at Object. (/home/larry/_of/_prjs/calipso/node_modules/mocha/bin/_mocha:324:7)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.runMain (module.js:492:10)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\nnpm ERR! Test failed.  See above for more details.\nnpm ERR! not ok code 0\n```\n. Distributor ID: Ubuntu\nDescription:    Ubuntu 12.04 LTS\nRelease:        12.04\nnpm: 1.1.48\nnode:  0.8.6\n. ",
    "richtera": "You should use \"npm test\"\nAndy\nSent via the internets\nOn Aug 23, 2012, at 12:15 PM, Larry Eitel notifications@github.com wrote:\nTrying to run 'sanity test' using mocha per reference in package.js:\nNODE_ENV=mocha mocha --reporter spec -t 5000 -s 500\nIt returns:\ncalipso.logging.configureLogging(loggingConfig);\n                ^\nTypeError: Object # has no method 'configureLogging'\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/6#issuecomment-7980646.\n. Try to reinstall. But I'll look at it when I come back from vacation.\nTravisci is building it and running npm test and it passed. I'll check\nthough\nAndy\nSent from my iPhone\nOn Aug 23, 2012, at 12:19 PM, Larry Eitel notifications@github.com wrote:\ngot same response :S\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/6#issuecomment-7980790.\n. This doesn't make much sense are you testing inside of a deployed website\nor the root repo. The tests are designed to run. Git clone, npm install,\nnpm test. If you deploy a site it won't find te right stuff I am guessing.\nAndy\nSent from my iPhone\nOn Aug 23, 2012, at 12:49 PM, Larry Eitel notifications@github.com wrote:\nFYI, test is complaining about missing should. Adding it however, doesn't\nresolve this issue.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/6#issuecomment-7981792.\n. You need to install the dev dependencies first.\nSo run \"npm install -dev\"\nThen \"npm test\"\nThe npm install -dev will install should and mocha.\nThis works for me, please let me know if I have a hidden dependency on my system which makes is pass even though it shouldn't.\nThanks\nAndy\nOn Aug 23, 2012, at 7:57 PM, Larry Eitel notifications@github.com wrote:\n\nHere is a link to pastebin of test run on cloned repo of tower: http://pastebin.com/pwXvAsRQ\nMy related problem was in fact cause I was running a test on a new site. I WOULD like to see a test of generated new site, albeit simple. I and likely others would then extend from there. Actually, the core models could/should be testable. Also would serve as example for new custom models.\nA Thanks to all who have contributed to this project!\n\u2014\nReply to this email directly or view it on GitHub.\n. What version of node? I can't reproduce this problem.\nI am using\nnpm@1.1.45\nnode@0.8.4\nRunning on MacOS.\nThe last builds on devel and master passed as per travisci\nhttp://travis-ci.org/#!/cliftonc/calipso/builds\nThe devel and master branch were merged.\nThanks\nAndy\n\nOn Aug 24, 2012, at 7:29 AM, Larry Eitel notifications@github.com wrote:\n\ngit clone https://github.com/cliftonc/calipso.git\ncd calipso/\nsudo npm install -d\nnpm test\nreturns:\n\ncalipso@0.3.4 test /home/larry/_of/_prjs/calipso\nNODE_ENV=mocha mocha --reporter spec -t 5000 -s 500\n\n/home/larry/_of/_prjs/calipso/test/helpers/calipsoHelper.js:98\ncalipso.logging.configureLogging(loggingConfig);\n                ^\nTypeError: Object # has no method 'configureLogging'\n    at Object. (/home/larry/_of/_prjs/calipso/test/helpers/calipsoHelper.js:98:17)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/home/larry/_of/_prjs/calipso/test/lib.core.menu.js:7:21)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Mocha.loadFiles (/home/larry/_of/_prjs/calipso/node_modules/mocha/lib/mocha.js:126:27)\n    at Array.forEach (native)\n    at Mocha.loadFiles (/home/larry/_of/_prjs/calipso/node_modules/mocha/lib/mocha.js:123:14)\n    at Mocha.run (/home/larry/_of/_prjs/calipso/node_modules/mocha/lib/mocha.js:229:8)\n    at Object. (/home/larry/_of/_prjs/calipso/node_modules/mocha/bin/_mocha:324:7)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.runMain (module.js:492:10)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\nnpm ERR! Test failed.  See above for more details.\nnpm ERR! not ok code 0\n\u2014\nReply to this email directly or view it on GitHub.\n. Travis has 0.8.7 and it's failing now. 0.8.3 worked fine. Must be a node version thing.\nI am still on vacation but had an hour to check. I will probably need some time to fix but I am installing 0.8.7 locally to see for now.\nThanks\nAndy\n\nOn Aug 24, 2012, at 10:22 AM, Larry Eitel notifications@github.com wrote:\n\nDistributor ID: Ubuntu\nDescription: Ubuntu 12.04 LTS\nRelease: 12.04\nnpm: 1.1.48\nnode: 0.8.6\n\u2014\nReply to this email directly or view it on GitHub.\n. bcrypt is no longer compatible with 0.8 latest due to uv.h.\nWe'll have to talk to the bcrypt guys.\nThanks\nAndy\n\nOn Aug 24, 2012, at 10:22 AM, Larry Eitel notifications@github.com wrote:\n\nDistributor ID: Ubuntu\nDescription: Ubuntu 12.04 LTS\nRelease: 12.04\nnpm: 1.1.48\nnode: 0.8.6\n\u2014\nReply to this email directly or view it on GitHub.\n. Looks like it might have been a node 0.8.6 or 0.8.7 problem and nvm. I had to upgrade my nvm version and then use 0.8.8 and now it's succeeding.\nI will still need to double check that a new site built with the calipso command line can be tested. I'll do that when I get back from vacation.\nThanks\nAndy\n\nOn Aug 24, 2012, at 10:22 AM, Larry Eitel notifications@github.com wrote:\n\nDistributor ID: Ubuntu\nDescription: Ubuntu 12.04 LTS\nRelease: 12.04\nnpm: 1.1.48\nnode: 0.8.6\n\u2014\nReply to this email directly or view it on GitHub.\n. To test a deployed site:\n\nnpm install -g calipso\ncalipso site \ncd \nThis is required in order to install dev dependencies:\nnpm install\nnpm test\nThis should pass.\nPlease let me know.\nThanks\nAndy\nOn Aug 24, 2012, at 1:22 PM, Larry Eitel notifications@github.com wrote:\n\nDistributor ID: Ubuntu\nDescription: Ubuntu 12.04 LTS\nRelease: 12.04\nnpm: 1.1.48\nnode: 0.8.6\n\u2014\nReply to this email directly or view it on GitHub.\n. The aloha integration is part of the published module. There might be defects but this has been completed.\n. everyauth is now supported.\ntwitter, facebook and google.\n. The sanitizer stuff causes problems.\nDo you know how to configure the sanitizer? I is removing links inside of each post.\nSo if the post has an <a href=\"...\"> it ends up with <a> only removing href.\nI understand that a href can pose a problem but in a CMS you need to be able to post items which have HTML that might be considered problematic since the posts are not just rich text. It looks like the sanitizer assumes we're just dealing with HTML formatted text and not HTML pages.\n. There are field validators. Yes. Some fields need full text and some are html otherwise admin pages break. So sone fields have relaxed validators. It would be better to add new field types if you need stronger validation on some\nAndy\n\nSent from my iPhone\n\nOn Mar 10, 2015, at 5:54 AM, Andy Tyurin notifications@github.com wrote:\nHey! What about field validators? Does calipso already have it? Or maybe it will be good idea to integrate it with forms api?\np.s. I'm newbie here and searching for some docs of calipso. I wanna to help with development and make blog for myself.\nRegards,\nAndy\n\u2014\nReply to this email directly or view it on GitHub.\n. Where is there a link to gallery.calip.so? I ported the calip.so site to nodejitsu, but I might be missing pieces. Recently I fixed /dox and /repo.\nI am not sure what gallery.calip.so should point to? There is an assets module which can proxy s3 folders to be available as urls on the site.\nThis allows you to manage the assets using the assets module or any s3 compatible application. But the module needs some work to be cleaned up.\nThanks\nAndy\n\nOn Sep 15, 2013, at 10:53 AM, nka11 notifications@github.com wrote:\n\n2 years later...\nThe site http://gallery.calip.so is down\nand i can't find image handling in actual calipso code. Additionnaly, a note in roadmap for such feature request.\nHave any of you guys any help or started work for me in order to achieve an Image(s) module ?\nI already have some sniplets for storing binary in mongo, and to handle HTTP native file transfert with express.\n\u2014\nReply to this email directly or view it on GitHub.\n. I like the idea of aloha media. The reason I went with s3 was that I wasn't sure whether the mongo grid store is grown up enough. Using blobs inside of a database containing images may work, but you can't stream those requiring them to be stored in the file system or in memory. That was a little bit of a concern, but I guess if they are not huge it's ok. Using s3 allows you to store things like movies and such on s3 and use the assets module to proxy the http stream directly from s3. Let me know what kind of use case you have? Small images, just icons and site decorations or real media storage. Because if you're using a nodejs deployment system like jitsu or heroku you can easily push images, obviously you can't post them from something like an iphone. I think there it's a good idea in any case.\nThanks\nAndy\n\nOn Sep 15, 2013, at 11:23 AM, nka11 notifications@github.com wrote:\n\nThe url appears into the present issue description. \nI dont need the s3 file handling, i'm thinking about site own storage for \nimage, integrated with aloha imahe plugin for administration. \nHave you some guidelines in order to help me to write a module for calipso \nnative image(s) field ? \nLe 15 sept. 2013 16:59, \"Andreas Richter\" notifications@github.com a \n\u00e9crit : \n\nWhere is there a link to gallery.calip.so? I ported the calip.so site to \nnodejitsu, but I might be missing pieces. Recently I fixed /dox and /repo. \nI am not sure what gallery.calip.so should point to? There is an assets \nmodule which can proxy s3 folders to be available as urls on the site. \nThis allows you to manage the assets using the assets module or any s3 \ncompatible application. But the module needs some work to be cleaned up. \nThanks \nAndy \nOn Sep 15, 2013, at 10:53 AM, nka11 notifications@github.com wrote: \n\n2 years later... \nThe site http://gallery.calip.so is down \nand i can't find image handling in actual calipso code. Additionnaly, a \nnote in roadmap for such feature request. \nHave any of you guys any help or started work for me in order to achieve \nan Image(s) module ? \nI already have some sniplets for storing binary in mongo, and to handle \nHTTP native file transfert with express. \n\u2014 \nReply to this email directly or view it on GitHub. \n\n\u2014 \nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24472981 \n. \n\u2014\nReply to this email directly or view it on GitHub.\n. You don't need a custom field module unless you want to support images as a\ncustom field inside of a content cistom field area. I don't thinks you want\nit there. If you make a module similar to assets (i would call it\naloha-media) then you have access to mongoose and can store the content.\nFor retrieval you can use a url like /media/. You can add image tags\ninto the content to refer to them\nAndy\n\n\nSent from my iPhone\nOn Sep 16, 2013, at 2:44 AM, nka11 notifications@github.com wrote:\nOk I see the point for s3 and the problem for handling streaming, it's ok.\nOf course, my use case is about small contents like images and decorations.\nThe user/client don't want an additional service and just use aloha, drops\nit's image from file explorer in an aloha-editable and then it shows, with\ntooling. In the background, it's (can be resized and) uploaded to the\nserver and stored in db, maybe (automatically) declined in several\nresolutions (optimized for several uses : thumbnail, preview, full-screen,\nfull-size).\nI know how to do all that, it's implemented in some of my projects.\nAs i'm discovering calipso, and i find it interresting, i'd like to add\nthis feature here, but i guess i need a \"Field\" module dedicated to\nImage(s) (just like in drupal) to handle specific content type and link it\nas a multi-valued property of a Node.\nFor optimisation purpose, mongodb file content could be duplicated in a\nfile/memory cache or in a frontend reverse proxy.\nWe talked about the opportunity offered by mongo to handle big content\n(over 1G documents) in an earlier discussion with\n@draftkrafthttps://github.com/draftkraft, I think a mongo content\nstore can work, it's just a client's choice\n(subscribe s3 or other cdn or prefer to keep control). Implementation has\nto provide both.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24491356\n.\n. That's not a bad idea. Make a local storage mode to store the file into the\ndatabase\nAndy\nSent from my iPhone\nOn Sep 16, 2013, at 3:57 AM, nka11 notifications@github.com wrote:\nhad a look on s3 plugin...\nThought : have a multi-valued property-tuple type \"Attachments\" with an\nattachment-type (asset/native), and other fields depending of attachment\ntype (For example : file-name, file-data and content-type for native,\nfile-store, file-url and content-type for asset)\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24493821\n.\n. Ah ok. So you need a custom field type which will query into the available\nimages or are you ok with pasting the image id and just storing a uuid?\nThanks\nAndy\nSent from my iPhone\nOn Sep 16, 2013, at 7:45 AM, nka11 notifications@github.com wrote:\nOk then, two points :\nHandle media natively regarding the resource/node referencing it... I'm\nokay with it\nbut\nA single 'tag' association within the content may fit for simple entities.\nFor well described entities, i'll need more bindings : example :\nfoaf:person have a picture property which refers to an image, it (the\nassociation) has to be stored somewhere in the db.\nI will need some \"Image\" properties for some kinds of entities which will\nreference an existing image (whatever it's container).\n2013/9/16 Andreas Richter notifications@github.com\n\nThat's not a bad idea. Make a local storage mode to store the file into\nthe\ndatabase\nAndy\nSent from my iPhone\nOn Sep 16, 2013, at 3:57 AM, nka11 notifications@github.com wrote:\nhad a look on s3 plugin...\nThought : have a multi-valued property-tuple type \"Attachments\" with an\nattachment-type (asset/native), and other fields depending of attachment\ntype (For example : file-name, file-data and content-type for native,\nfile-store, file-url and content-type for asset)\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24493821>\n.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24503006>\n.\n\n\nNicolas Karageuzian\nhttp://nico.karageuzian.com/\nJe soutiens les logiciels libres, j'adh\u00e8re \u00e0 l'APRIL\nhttp://www.april.org\nNouvelles de l'APRIL\nhttp://planet.april.org/\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24504203\n.\n. It seems even switching back to 0.4.12 the built-in app-cluster doesn't seem to work. It starts up but doesn't respond to any requests. Has anyone gotten this to work?\n. Ok I got it to work by disabling hook.io in each of the workers. This is definitely not the right way but the reason this hangs is because the \"clustering\" system assumes that the hook.io listener has to be shared per cluster tcp listener sharing. Since each worker should really listen on their own sockets and not a shared \"master\" socket this doesn't work. There is currently no provision in node to override whether a listener port stays on the worker or is requested by the master.\n. I fixed hook.io to work with cluster. It's already merged\nAndy\nSent from my iPhone\nOn Apr 8, 2012, at 7:02 AM, Clifton Cunningham\nreply@reply.github.com\nwrote:\n\nRich,  I've come to the same conclusion.  The devel branch now has hook.io removed, and has a new cluster.js that uses the new core cluster approach.\nThe inter process comms issue will need to be resolved separately and take into account the whole tcp sharing thing in the core cluster comms (it may just be easiest to have the comms go via a mongodb pub sub type approach?).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/136#issuecomment-5014757\n. FYI:\nhttps://github.com/hookio/hook.io/commit/808c107b137e4e4f1c3c8d640115124c2b272089\nThanks\nAndy\n\nOn Apr 8, 2012, at 7:02 AM, Clifton Cunningham wrote:\n\nRich,  I've come to the same conclusion.  The devel branch now has hook.io removed, and has a new cluster.js that uses the new core cluster approach.  \nThe inter process comms issue will need to be resolved separately and take into account the whole tcp sharing thing in the core cluster comms (it may just be easiest to have the comms go via a mongodb pub sub type approach?).\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/136#issuecomment-5014757\n. I have most of the packages changes in my fork but the work we're doing on assets and projects modules is not quite complete. Assets is a system where someone can upload and download documents to s3. Projects is a system that collects different assets into projects with separate folders. There will also be project specific permissions. I was planning to make pull request when it's close to done but I can check if we can do one earlier so you're not missing stuff.\nAndy\n\nSent via the internets\nOn Apr 9, 2012, at 3:13 AM, Clifton Cunninghamreply@reply.github.com wrote:\n\nOk, I'll revert it back in with the latest hook.io and see how it goes. \nThe alternative is to take a simpler and more direct no master multicast approach so any node can broadcast to the rest ( e.g. On configuration change), or build a module that uses something like redis pub sub to wire up all the nodes to respond to certain events.  This approach keeps the core cleaner and simpler, may spike it and see how it looks.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/136#issuecomment-5021782\n. Just some of my thoughts:\nIn terms of permissions we have a requirement that permissions stay with a project so there are relative permissions. I am not sure if this will be useful to you other than having a permissions framework that might be a little more flexible. The whole asset storage is divided into s3 buckets and folders. We use special folder names to break them up into projects and folders. Then we add permisisons to projects and folders. So for example there might be a project where person a can read and write files to the folder whereas person b can only read them or not at all. But for another project those roles could be reversed. I would like to do the same kind of thing for content also. If we do this right we might be able to use a single instance for multiple \"small\" sites rather than having to spin up a new calipso for each. I was thinking maybe a small company could have separate projects for each of their departments (in the future it might be nice to even have separate themes for each project.)\nThanks\nAndy\n\nOn Apr 10, 2012, at 2:02 AM, Clifton Cunningham wrote:\n\nSounds very cool, will drop by your fork and take a look.  I've refactored a lot this weekend, mainly so I can start to really clean up the core libs and get proper tests etc. against all the core code.  I will try to get hook.io back in based on your work in the next day or two.  \nThe permissions are also all working now at a first pass, would be great if you can take a look and let me know what you think?  I think it needs to be refactored slightly so that in modules you just use the permission string rather than the references to the permission.Helper all the time, but would appreciate your input.\nCheers,\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/136#issuecomment-5039676\n. I would like to close this issue as well.\n. This should work now.\n. I updated the commit range to include the install hang fix and removed the jsdom dependency which was not used.\n. Cool. We are using it as is so things are working. Breaking up the commit\nS would not be a big deal. Which location of things like Events is\nprefferable? I have not recently checked out devel to compare but i\nguess that would be a good idea. Please make sure to reinstall all the\nnpms since versions changed. Which breakages are you seeing? Maybe I\ncan address those first.\nAndy\n\nSent from my iPhone\nOn May 20, 2012, at 3:40 AM, Clifton Cunningham\nreply@reply.github.com\nwrote:\n\nMorning,\nPulled this down and started going over it, but all of this together breaks the current devel?\nThe recent refactoring to clean up the core libraries (under /lib) are all impacted - e.g. we end up with /lib/Event.js and /lib/core/Event.js.  It's really not clear what is now being used?\nIt's such a massive set of commits, it's difficult to know where to start.  Is it possible to break out:\n1.  The new modules (assets, mail).\n2.  Changes to any core libraries in lib/\n3.  Changes to the themes\nAs separate pull requests?  Happy to discuss if you have a different suggestion, I like where all of this is going and the huge amount of effort, but this merge puts devel into a very weird state when applied.\nThere are also some new features now (e.g. per module config - checkout https://github.com/dtan/calipso-disqus/blob/master/disqus.js) that mean you wouldn't need to edit the form in the admin module to add the configuration for the asset module, but we can talk through these in each area if you are able to break the pull request up into different pieces?\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5807135\n. I just created a smaller commit which only upgrades express, connect and hookio, lets it run under new versions of node. I have done some small testing under 0.7 as well.\nThis does not contain assets and other fixes we made but it does remove the static file filter already.\nI hope this works now. You can abandon the other pull request.\nThanks\nAndy\n\nOn May 20, 2012, at 3:40 AM, Clifton Cunningham wrote:\n\nMorning,\nPulled this down and started going over it, but all of this together breaks the current devel?\nThe recent refactoring to clean up the core libraries (under /lib) are all impacted - e.g. we end up with /lib/Event.js and /lib/core/Event.js.  It's really not clear what is now being used?\nIt's such a massive set of commits, it's difficult to know where to start.  Is it possible to break out:\n1.  The new modules (assets, mail).\n2.  Changes to any core libraries in lib/\n3.  Changes to the themes\nAs separate pull requests?  Happy to discuss if you have a different suggestion, I like where all of this is going and the huge amount of effort, but this merge puts devel into a very weird state when applied.\nThere are also some new features now (e.g. per module config - checkout https://github.com/dtan/calipso-disqus/blob/master/disqus.js) that mean you wouldn't need to edit the form in the admin module to add the configuration for the asset module, but we can talk through these in each area if you are able to break the pull request up into different pieces?\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5807135\n. It seems the hang I might have mentioned during the install is now showing up in the login popup. To fix the one for install I had to change res.send() to res.write(). I will probably have to adjust the commit again :-(.\nThe new express and connect have made some api adjustments without changing the method names.\nAndy\n\nOn May 20, 2012, at 9:44 AM, Andreas Richter wrote:\n\nI just created a smaller commit which only upgrades express, connect and hookio, lets it run under new versions of node. I have done some small testing under 0.7 as well.\nThis does not contain assets and other fixes we made but it does remove the static file filter already.\nI hope this works now. You can abandon the other pull request.\nThanks\nAndy\nOn May 20, 2012, at 3:40 AM, Clifton Cunningham wrote:\n\nMorning,\nPulled this down and started going over it, but all of this together breaks the current devel?\nThe recent refactoring to clean up the core libraries (under /lib) are all impacted - e.g. we end up with /lib/Event.js and /lib/core/Event.js.  It's really not clear what is now being used?\nIt's such a massive set of commits, it's difficult to know where to start.  Is it possible to break out:\n1.  The new modules (assets, mail).\n2.  Changes to any core libraries in lib/\n3.  Changes to the themes\nAs separate pull requests?  Happy to discuss if you have a different suggestion, I like where all of this is going and the huge amount of effort, but this merge puts devel into a very weird state when applied.\nThere are also some new features now (e.g. per module config - checkout https://github.com/dtan/calipso-disqus/blob/master/disqus.js) that mean you wouldn't need to edit the form in the admin module to add the configuration for the asset module, but we can talk through these in each area if you are able to break the pull request up into different pieces?\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5807135\n. I kind of figured out what the lock up is:\nIn connect's middleware session.js the following code replaces req.end\n    var end = res.end;\n    res.end = function(data, encoding){\n    debugger;\n      res.end = end;\n      if (!req.session) return res.end(data, encoding);\n      debug('saving');\n      req.session.resetMaxAge();\n      req.session.save(function(){\n        debug('saved');\n        res.end(data, encoding);\n      });\n    };\n\n\nThen in calipso lib core Module.js\n        calipso.silly(\"Responding with rendered content\");\n        res.send(content);\n// Callback\n    req.routeComplete(res);\nThe problem is that when routeComplete checks the finished flag of the request it will not yet have been set since there is a completion call on req.session.save before it gets set.\nI think we might need out own \"request is finished\" flag.\nDo you have any suggestions about what should be done?\nThanks\nAndy\nOn May 20, 2012, at 10:35 AM, Andreas Richter wrote:\n\nIt seems the hang I might have mentioned during the install is now showing up in the login popup. To fix the one for install I had to change res.send() to res.write(). I will probably have to adjust the commit again :-(.\nThe new express and connect have made some api adjustments without changing the method names.\nAndy\nOn May 20, 2012, at 9:44 AM, Andreas Richter wrote:\n\nI just created a smaller commit which only upgrades express, connect and hookio, lets it run under new versions of node. I have done some small testing under 0.7 as well.\nThis does not contain assets and other fixes we made but it does remove the static file filter already.\nI hope this works now. You can abandon the other pull request.\nThanks\nAndy\nOn May 20, 2012, at 3:40 AM, Clifton Cunningham wrote:\n\nMorning,\nPulled this down and started going over it, but all of this together breaks the current devel?\nThe recent refactoring to clean up the core libraries (under /lib) are all impacted - e.g. we end up with /lib/Event.js and /lib/core/Event.js.  It's really not clear what is now being used?\nIt's such a massive set of commits, it's difficult to know where to start.  Is it possible to break out:\n1.  The new modules (assets, mail).\n2.  Changes to any core libraries in lib/\n3.  Changes to the themes\nAs separate pull requests?  Happy to discuss if you have a different suggestion, I like where all of this is going and the huge amount of effort, but this merge puts devel into a very weird state when applied.\nThere are also some new features now (e.g. per module config - checkout https://github.com/dtan/calipso-disqus/blob/master/disqus.js) that mean you wouldn't need to edit the form in the admin module to add the configuration for the asset module, but we can talk through these in each area if you are able to break the pull request up into different pieces?\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5807135\n. Good news I figured out a fix. I added our own replacement to res.end which sets our own flag which I can then check in req.routeComplete.\nI modified the small pull request.\nThanks\nAndy\n\n\n\nOn May 20, 2012, at 11:20 AM, Andreas Richter wrote:\n\nI kind of figured out what the lock up is:\nIn connect's middleware session.js the following code replaces req.end\n   var end = res.end;\n   res.end = function(data, encoding){\n   debugger;\n     res.end = end;\n     if (!req.session) return res.end(data, encoding);\n     debug('saving');\n     req.session.resetMaxAge();\n     req.session.save(function(){\n       debug('saved');\n       res.end(data, encoding);\n     });\n   };\nThen in calipso lib core Module.js\n       calipso.silly(\"Responding with rendered content\");\n       res.send(content);\n// Callback\n   req.routeComplete(res);\nThe problem is that when routeComplete checks the finished flag of the request it will not yet have been set since there is a completion call on req.session.save before it gets set.\nI think we might need out own \"request is finished\" flag.\nDo you have any suggestions about what should be done?\nThanks\nAndy\nOn May 20, 2012, at 10:35 AM, Andreas Richter wrote:\n\nIt seems the hang I might have mentioned during the install is now showing up in the login popup. To fix the one for install I had to change res.send() to res.write(). I will probably have to adjust the commit again :-(.\nThe new express and connect have made some api adjustments without changing the method names.\nAndy\nOn May 20, 2012, at 9:44 AM, Andreas Richter wrote:\n\nI just created a smaller commit which only upgrades express, connect and hookio, lets it run under new versions of node. I have done some small testing under 0.7 as well.\nThis does not contain assets and other fixes we made but it does remove the static file filter already.\nI hope this works now. You can abandon the other pull request.\nThanks\nAndy\nOn May 20, 2012, at 3:40 AM, Clifton Cunningham wrote:\n\nMorning,\nPulled this down and started going over it, but all of this together breaks the current devel?\nThe recent refactoring to clean up the core libraries (under /lib) are all impacted - e.g. we end up with /lib/Event.js and /lib/core/Event.js.  It's really not clear what is now being used?\nIt's such a massive set of commits, it's difficult to know where to start.  Is it possible to break out:\n1.  The new modules (assets, mail).\n2.  Changes to any core libraries in lib/\n3.  Changes to the themes\nAs separate pull requests?  Happy to discuss if you have a different suggestion, I like where all of this is going and the huge amount of effort, but this merge puts devel into a very weird state when applied.\nThere are also some new features now (e.g. per module config - checkout https://github.com/dtan/calipso-disqus/blob/master/disqus.js) that mean you wouldn't need to edit the form in the admin module to add the configuration for the asset module, but we can talk through these in each area if you are able to break the pull request up into different pieces?\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5807135\n. Hi Clifton\nDo you know when you'll have time to look at the merge? I would like to request a pull for the rest of the stuff but I can't do that unless the first pull was merged. We can accumulate more and then do it as one larger pull request but we might run into similar problems as the last time. Obviously we both are very busy but I just wanted to ping you to see. Have a great weekend and I'll talk to you soon.\nThanks\nAndy\n. Can I close this?\n. Perfect actually. Didn't want you to waste time looking at the old commit. I'll close it.\nThanks\nAndy\n\n\n\n\nOn May 27, 2012, at 11:25 AM, Clifton Cunningham wrote:\n\nGo for it,  had a busier day than planned!\nFrom my mobile,  apologies for brevity and typos.\nOn May 27, 2012 4:14 PM, \"Andreas Richter\" \nreply@reply.github.com\nwrote:\n\nCan I close this?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5954147\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5954222\n. Split this into several smaller pull requests.\n. By you not looking at this commit today actually allowed me to make the final adjustment to have a small merge with all the changes and it should not cause a failure this time.\nI was able to switch to released versions of npm modules. My knox mods were also merged so I switched to the npm distribution of knox.\nHopefully I didn't leave any junk files around this time. I am crossing my fingers :). Have a great weekend. We'll get this through yet.\nThanks\nAndy\n\nOn May 27, 2012, at 11:29 AM, Andreas Richter wrote:\n\nPerfect actually. Didn't want you to waste time looking at the old commit. I'll close it.\nThanks\nAndy\nOn May 27, 2012, at 11:25 AM, Clifton Cunningham wrote:\n\nGo for it,  had a busier day than planned!\nFrom my mobile,  apologies for brevity and typos.\nOn May 27, 2012 4:14 PM, \"Andreas Richter\" \nreply@reply.github.com\nwrote:\n\nCan I close this?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5954147\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/147#issuecomment-5954222\n. Figured out how to fix the hang by adding our own. Request finished flag and setting it in a replacement of res.end.\n. This is the pull request to look at. The other one should be closed.\n. Switch all npm module to registered version instead of git locations which I think is better. Added support for maxAge.\n. The latest hook.io will also work (tested with clustering.) We had forced 0.8.7-2.\n. Not a problem, I have been busy as well. Thanks for making me a contributor.\nAndy\n\n\nSent from my iPhone\nOn Jun 26, 2012, at 3:49 AM, Clifton Cunningham\nreply@reply.github.com\nwrote:\n\nAndreas - apologies on this, I've added you as a collaborator so you can check and merge this into the devel branch yourself and keep things moving between your work and the main branch.   Things are a little hectic here atm and i just haven't had the time to go through this properly and figure out how to merge it all together.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/148#issuecomment-6569296\n. Can we close this issue?\n. Could you rebase this? I am sorry but I merged a large commit of mine. I would like to quickly try this to see if it makes sense to merge or put it on another branch.\n. Ok I'll let you know. I might pull it to a new branch and test it.\nAndy\n\nOn Jul 21, 2012, at 7:11 PM, Cameron Bytheway wrote:\n\nJust rebased it.  I wasn't able to test it because I'm pretty busy with other projects currently.  If I can do anything to help let me know and I should be able to work some time in.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/153#issuecomment-7157489\n. Sorry, I did not get around to testing this. Are there other projects using jugglingdb yet? I actually have some other projects this might be interesting for as well.\n. This is still pending, sorry. I kind of got caught up in windows specific things and wanted support for google, twitter and facebook auth.\n. I am planning to do this next; getting windows support and everyauth took longer than expected. If you can rebase this it would be greatly appreciated, otherwise I am pretty sure I can figure it out.\n. I created a branch \"CamShaft-jugglingdb\" with the merge. I am having some problems with it and some comments.\n1. Somehow I can't login using it but it's also not throwing any errors. I'll need to debug but maybe you can check it out.\n2. Would it be possible to assume {where:{...}} if you only get {...} so that existing findOne or find doesn't need to change? This is important because other modules would need to be rewritten even through almost 100% of them are just doing a plain where.\n. FYI the active branch in calipso is \"master\". The \"devel\" branch is a little behind currently.\n. I am having a problem at https://gist.github.com/4021763 on line 22.\nBasically it seems that the Schema can't be used as a constructor but tries to create a new schema.\nThis tries to decode a value as a type. Any suggestions?\n\nGOOD NEWS! This redis adapter version is deprecated, use redis2 instead. A lot of improvements, and new indexes incompatible with old (sorry about that): now we only store id and not ModelName:id in indexes. Also dates format in indexes changed to unix timestamp for better sorting and filtering performance\n5 Nov 19:58:25 - info: Installing module content\n\nwelcome, message, default\n\nI added a console.log(self.__data[attr]) at node_modules/jugglingdb/lib/abstract-class.js:82\njavascript\nSyntaxError: Unexpected token w\n    at Object.parse (native)\n    at AbstractClass._initProperties.def (/Users/andy/calipso/node_modules/jugglingdb/lib/abstract-class.js:82:46)\n    at Array.forEach (native)\n    at Function.Schema.define.NewClass.forEachProperty (/Users/andy/calipso/node_modules/jugglingdb/lib/schema.js:193:33)\n    at ModelConstructor.AbstractClass._initProperties (/Users/andy/calipso/node_modules/jugglingdb/lib/abstract-class.js:74:10)\n    at ModelConstructor.AbstractClass (/Users/andy/calipso/node_modules/jugglingdb/lib/abstract-class.js:30:10)\n    at new ModelConstructor (/Users/andy/calipso/node_modules/jugglingdb/lib/schema.js:153:23)\n    at Object.install (/Users/andy/calipso/modules/core/content/content.js:989:12)\n    at /Users/andy/calipso/modules/core/admin/admin.js:540:40\n    at Array.forEach (native)\n5 Nov 19:58:25 - error: Module 'content' was unable to be installed... Reason: Object welcome, message, default has no method 'forEach'\n. FYI same thing happens with memory database type. Just so you don't specifically check redis:\n``` javascript\n5 Nov 20:30:23 - info: Installing module content\nSyntaxError: Unexpected token w\n    at Object.parse (native)\n    at AbstractClass._initProperties.def (/Users/andy/calipso/node_modules/jugglingdb/lib/abstract-class.js:81:46)\n    at Array.forEach (native)\n    at Function.Schema.define.NewClass.forEachProperty (/Users/andy/calipso/node_modules/jugglingdb/lib/schema.js:193:33)\n    at ModelConstructor.AbstractClass._initProperties (/Users/andy/calipso/node_modules/jugglingdb/lib/abstract-class.js:74:10)\n    at ModelConstructor.AbstractClass (/Users/andy/calipso/node_modules/jugglingdb/lib/abstract-class.js:30:10)\n    at new ModelConstructor (/Users/andy/calipso/node_modules/jugglingdb/lib/schema.js:153:23)\n    at Object.install (/Users/andy/calipso/modules/core/content/content.js:989:12)\n    at /Users/andy/calipso/modules/core/admin/admin.js:540:40\n    at Array.forEach (native)\n5 Nov 20:30:23 - error: Module 'content' was unable to be installed... Reason: Object welcome, message, default has no method 'forEach'\n5 Nov 20:30:23 - info: Installing module contentTypes\n```\n. Figured out this particular problem. The defaults for the initial contents records didn't have an Array as the initial value for the tags property. Your lib was trying to parse it as Json, I suppose mongoose tries to split a string by \",\" and uses that.\n. Having problems with strings. When I try to serialize the user object into the cookie it looks like this:\njavascript\n{\"username\":\"andy\",\"isAdmin\":false,\"id\":1,\"language\":\"en\",\"roles\":[{\"0\":\"A\",\"1\":\"d\",\"2\":\"m\",\"3\":\"i\",\"4\":\"n\",\"5\":\"i\",\"6\":\"s\",\"7\":\"t\",\"8\":\"r\",\"9\":\"a\",\"10\":\"t\",\"11\":\"o\",\"12\":\"r\",\"bold\":\"\\u001b[1mAdministrator\\u001b[22m\",\"underline\":\"\\u001b[4mAdministrator\\u001b[24m\",\"italic\":\"\\u001b[3mAdministrator\\u001b[23m\",\"inverse\":\"\\u001b[7mAdministrator\\u001b[27m\",\"grey\":\"\\u001b[90mAdministrator\\u001b[39m\",\"black\":\"\\u001b[30mAdministrator\\u001b[39m\",\"yellow\":\"\\u001b[33mAdministrator\\u001b[39m\",\"red\":\"\\u001b[31mAdministrator\\u001b[39m\",\"green\":\"\\u001b[32mAdministrator\\u001b[39m\",\"blue\":\"\\u001b[34mAdministrator\\u001b[39m\",\"white\":\"\\u001b[37mAdministrator\\u001b[39m\",\"cyan\":\"\\u001b[36mAdministrator\\u001b[39m\",\"magenta\":\"\\u001b[35mAdministrator\\u001b[39m\",\"rainbow\":\"\\u001b[31mA\\u001b[39m\\u001b[33md\\u001b[39m\\u001b[32mm\\u001b[39m\\u001b[34mi\\u001b[39m\\u001b[35mn\\u001b[39m\\u001b[31mi\\u001b[39m\\u001b[33ms\\u001b[39m\\u001b[32mt\\u001b[39m\\u001b[34mr\\u001b[39m\\u001b[35ma\\u001b[39m\\u001b[31mt\\u001b[39m\\u001b[33mo\\u001b[39m\\u001b[32mr\\u001b[39m\",\"zebra\":\"A\\u001b[7md\\u001b[27mm\\u001b[7mi\\u001b[27mn\\u001b[7mi\\u001b[27ms\\u001b[7mt\\u001b[27mr\\u001b[7ma\\u001b[27mt\\u001b[7mo\\u001b[27mr\",\"zalgo\":\"A\u0338\u0355\u0316\u0332\u0332\u031d\u0319\u0331\u031d\u032f\u032f\u0356\u0331\u0330\u034d\u030d\u036a\u0307\u0305\u0365\u0311\u0304\u033e\u0308\u0307\u030c\u030c\u0364\u033d\u034b\u0311d\u0326\u0353\u0348\u0320\u0324\u035a\u032c\u035a\u0326\u032f\u032e\u034e\u0318\u0347\u0332\u0323\u0331\u0329\u033b\u032c\u032c\u0356\u032f\u033a\u032e\u033c\u0317\u0317\u034d\u0320\u0356\u0347\u0323\u035a\u0331\u034e\u034d\u0324\u031d\u031e\u033b\u0317\u0349\u035a\u0323\u0324\u032e\u0354\u035a\u032f\u0339\u0331\u035a\u033d\u036b\u034b\u036c\u0368\u0367\u035cm\u0337\u0317\u033a\u0332\u0330\u0319\u0329\u032f\u031f\u0339\u0354\u0319\u033c\u032d\u032b\u0330\u0359\u031c\u033b\u034d\u032e\u032e\u035a\u034d\u035a\u034d\u0319\u032c\u0326\u033b\u0316\u033b\u0339\u0355\u0326\u030a\u0309\u030e\u0314\u036d\u034a\u0308\u0308\u034a\u030d\u034b\u0301\u0366\u034b\u030d\u0345i\u031b\u032c\u0359\u0326\u032b\u0332\u0333\u0323\u0348\u0347\u032c\u032e\u0324\u0323\u0332\u0319\u0347\u032a\u0332\u0326\u031c\u0329\u0355\u032f\u033c\u0316\u031f\u0313\u0367\u0369\u0313n\u0349\u0332\u032f\u032f\u0347\u0354\u0304\u0367\u030c\u036f\u0364\u034a\u0302\u030e\u0307\u0305\u036d\u0308\u0313\u0357\u033d\u036d\u035e\u0345i\u032c\u0356\u034e\u032f\u035a\u0353\u0355\u0348\u032c\u032e\u031c\u0320\u0353\u0329\u033b\u0332\u0319\u0332\u0320\u0333\u033b\u0325\u0325\u031e\u0333\u0329\u031c\u035a\u035a\u032a\u032f\u032c\u032a\u0324\u0359\u0359\u0332\u0354\u032a\u031d\u0356\u0313\u033f\u034c\u0313\u0342\u0305\u0303\u0308\u030e\u0300s\u0336\u0320\u034e\u0323\u032b\u0331\u032e\u032d\u0329\u032a\u032c\u0347\u0319\u0324\u0323\u0355\u031f\u0331\u033b\u0349\u033b\u0323\u0325\u032c\u031e\u0320\u032f\u0355\u032b\u0364\u0301\u0309\u030c\u034b\u033e\u0345t\u0338\u031f\u032a\u0331\u032c\u034e\u031f\u031f\u0333\u0339\u032f\u0332\u031d\u0326\u033c\u034e\u034e\u0359\u0311\u0369\u030f\u0366\u0363\u0365\u0364\u0304\u0313\u030e\u0368\u030f\u0369\u0307\u0346\u0300\u0314\u0345\u0213\u0321\u034d\u034e\u033c\u032d\u034e\u0320\u0353\u032a\u0301\u030f\u033f\u0357\u034a\u0365\u036e\u030b\u036b\u0302\u0305\u034a\u00e1\u032b\u032f\u0330\u033c\u0355\u0324\u033b\u034e\u031d\u0354\u0316\u0353\u0332\u0320\u031c\u0314\u033e\u036e\u036a\u033d\u034a\u0308\u0304\u0301\u0300\u0303\u0308\u0360\u0345t\u031c\u032c\u032d\u0325\u033a\u0326\u0329\u0317\u031e\u032d\u0332\u0347\u0324\u0356\u0333\u0333\u0330\u032c\u033a\u032b\u0348\u030f\u0301\u0363\u034b\u030b\u030b\u033d\u0313\u0367\u0313\u0364\u0361o\u031e\u0332\u0319\u035a\u0339\u0326\u0348\u033a\u032c\u0331\u031d\u0333\u031e\u0355\u0348\u031e\u032a\u032e\u0316\u0324\u032d\u0354\u0324\u032d\u032c\u033c\u032b\u0318\u0326\u0332\u0316\u032a\u032c\u031c\u0356\u0320\u0317\u032f\u0347\u0319\u0348\u033e\u030c\u0302\u0357\u033e\u0313\u036c\u030d\u0363\u0368\u030e\u0369\u030d\u0300\u033e\u0360\u0213\u031f\u032a\u0347\u033b\u0355\u0330\u032a\u0326\u032f\u0324\u0347\u036d\u0364\u0304\u0301\u0345\",\"stripColors\":\"Administrator\",\"id\":1}]}\nWhich seems to be due to the fact the \"new String('something')\" in node is not a string but an object of type String. I tried to find out on the node chat to see if this is recent but I doubt it.\n. I think there are problems with the List class. Adding an itemType property to the roles definition makes it work a tiny bit better but it's still broken. The redis2 adapter doesn't work unless indexes are defined and the redis adapter says it's deprecated. Boolean values are converted to strings of \"true\" and \"false\" and therefore \"false\" will show up as true. Do you have any suggestions on how to proceed? Or should we just wait?\n. Do any of the serialization problems seem familiar or already fixed in jugglingdb?\nFor example saving\n    { username:\"Andy\", locked:false, roles:[\"Administrator\"] }\nto redis or memory comes back as\n    { username:\"Andy\", locked: \"false\", roles:[{\"0\":\"A\",\"1\":\"d\",....}]}\nI do have a little time available but I just want to make sure I am not fighting an uphill battle; I will still request help if I need it.\nThanks\nAndy\nOn Nov 6, 2012, at 12:11 PM, Cameron Bytheway notifications@github.com wrote:\n\nATM I don't have much time to look at it. I'm not using calipso anymore so it isn't a high priority for me.\nThat being said, if you feel like this is something that it's something you guys want, I can set aside some time to look at it.\n\u2014\nReply to this email directly or view it on GitHub.\n. The current devel branch should now work under 0.8 although except for the passing of \"make test\" it would be great if someone actually used it extensively under 0.8.\n. Did you recompile bcrypt? Looks like you switched from 32bit to 64bit\nor seitched platforms. You might want to remove all node_modules\ndirectories and re-run npm install.\nThanks\nAndy\n\nSent from my iPhone\nOn Aug 3, 2012, at 10:57 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\ninstall runs with force flag, but starting fails with\n``` javascript\nmodule.js:485\n process.dlopen(filename, module.exports);\n         ^\nError: dlopen(/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/bcrypt/build/Release/bcrypt_lib.node, 1): no suitable image found.  Did find:\n   /Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/bcrypt/build/Release/bcrypt_lib.node: mach-o, but wrong architecture\n   at Object.Module._extensions..node (module.js:485:11)\n   at Module.load (module.js:356:32)\n   at Function.Module._load (module.js:312:12)\n   at Module.require (module.js:362:17)\n   at require (module.js:378:17)\n   at Object. (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/bcrypt/bcrypt.js:5:18)\n   at Module._compile (module.js:449:26)\n   at Object.Module._extensions..js (module.js:467:10)\n   at Module.load (module.js:356:32)\n   at Function.Module._load (module.js:312:12)\n```\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7485408\n. Ah... I have not updated npm with the latest version. Install it with\nthe git url until that is resolved, please.\nThanks\nAndy\n\nSent via the internets\nOn Aug 6, 2012, at 5:19 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\ni tried an\nnpm install -g again\nnpm said ok, then\ncalipso site www\nnothing wrong here to\ncd www; calipso install;\nok,\ncalipso server\nsame error stack again.\n\nLooks like you switched from 32bit to 64bit or seitched platforms.\n\ni did, but i installed calipso (and bcrypt with it) after the switch.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7519917\n. That's an xcode and maybe os setup. I use the latest xcode, node\n0.8.4, nvm and mountain lion, previously lion. It work in both\nAndy\n\nSent from my iPhone\nOn Aug 6, 2012, at 9:48 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\nok next try:\nnpm install -g git://github.com/cliftonc/calipso.git\ncaused a bunch of other problems\nnpm log\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7524181\n. It's complaining that you need to run xcode-select\nAndy\n\nSent from my iPhone\nOn Aug 6, 2012, at 10:04 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\ni don't have x-code installed, only Commandline Tools. why should i install xcode only to get make and gcc? :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7524566\n. I am not 100% sure but the way I understand it the command line tools\nare just wrappers around the xcode installation. Gcc is really being\ninstalled by xcode and not the command line tools installer. That\nwould really be a question for apple. Pretty sure xcode is a\ndependency of the command line installer\nThanks\nAndy\n\nSent from my iPhone\nOn Aug 6, 2012, at 10:50 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\nwhy i need xcode anyway? what would be used on linux or win?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7525685\n. :)\nThe installation depends on being able to compile bcrypt. This is an\nnpm module calipso depends on. Just type npm install bcrypt somewhere\nin a folder and you'll see the same error\nThanks\nAndy\n\nSent from my iPhone\nOn Aug 6, 2012, at 11:01 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\nwell i do not have a xcode.app on my system. anyway, the installation should not depend on such a tool. what is really needed for installation, what is used on linux?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7525953\n. I force pushed master and you should get further now. Master and the\ndevel branch were supposed to be copies at this point but somewhere\nalong the way master got rolled back to the 0.4 node version\nThanks\nAndy\n\nSent from my iPhone\nOn Aug 6, 2012, at 11:01 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\nwell i do not have a xcode.app on my system. anyway, the installation should not depend on such a tool. what is really needed for installation, what is used on linux?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7525953\n. This should work now. I had pushed the fixes to my own fork by mistake making them not available in the main repo.\nLet me know if you figured out the xcode problem.\nAccording to the xcode-select page:\nDESCRIPTION\n     xcode-select controls the location of the Xcode folder which will be used\n     by xcodebuild(1) and other, related Xcode BSD tools. This allows you to\n     easily switch between using different versions of the Xcode tools, and\n     can be used to update the path to the current Xcode folder if it is moved\n     after installation.\nThis seems to indicate that the Xcode BSD tools are related to Xcode and therefore Xcode is probably a requirement.\nYou might also want to look here:\nhttp://kennethreitz.com/xcode-gcc-and-homebrew.html\nThanks\nAndy\n\nOn Aug 6, 2012, at 2:17 PM, Andy Richter andy@richteralsi.com wrote:\n\nI force pushed master and you should get further now. Master and the\ndevel branch were supposed to be copies at this point but somewhere\nalong the way master got rolled back to the 0.4 node version\nThanks\nAndy\nSent from my iPhone\nOn Aug 6, 2012, at 11:01 AM, Gregor Elke\nreply@reply.github.com\nwrote:\n\nwell i do not have a xcode.app on my system. anyway, the installation should not depend on such a tool. what is really needed for installation, what is used on linux?\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7525953\n. Try 'node app' instead of calipso server. I usually start up the site that\nway since I use upstart. Let me check into using the calipso command to\nstart the server.\nAndy\n\n\nSent via the internets\nOn Aug 7, 2012, at 4:23 AM, Gregor Elke notifications@github.com wrote:\nrelating to xcode-select issue:\nsudo xcode-select -switch /usr/bin\nsolves the problem with compiling bcrypt, or better node-gyp, w/o XCode\nnow\nsudo npm install -g git://github.com/cliftonc/calipso.git\nsucceed with errors https://gist.github.com/3283146\ncalipso site www; cd www; calipso server;\ncreates\n/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:39\n        throw arguments[0];\n                       ^\nTypeError: undefined is not a function\n    at /Users/gregor/Projects/netbreeze/website/test/node/www/app.js:198:7\n    at Object.calipso.initCallback\n(/Users/gregor/Projects/netbreeze/website/test/node/www/lib/calipso.js:67:5)\n    at checkAllModulesInited\n(/Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:408:13)\n    at /Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:385:9\n    at Function.done\n(/Users/gregor/Projects/netbreeze/website/test/node/www/modules/core/admin/admin.js:125:5)\n    at next (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:51:23)\n    at next (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:60:12)\n    at Object.Step\n(/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:122:3)\n    at Object.init\n(/Users/gregor/Projects/netbreeze/website/test/node/www/modules/core/admin/admin.js:55:15)\n    at initModule\n(/Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:370:32)\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/155#issuecomment-7546740.\n. I also fixed the \"calipso server\" command. But you'd have to update the whole npm -g install.\nThanks for reporting the defect.\nAndy\nOn Aug 7, 2012, at 6:55 AM, Andy Richter andy@richteralsi.com wrote:\n\nTry 'node app' instead of calipso server. I usually start up the site that way since I use upstart. Let me check into using the calipso command to start the server.\nAndy\nSent via the internets\nOn Aug 7, 2012, at 4:23 AM, Gregor Elke notifications@github.com wrote:\n\nrelating to xcode-select issue:\nsudo xcode-select -switch /usr/bin\nsolves the problem with compiling bcrypt, or better node-gyp, w/o XCode\nnow\nsudo npm install -g git://github.com/cliftonc/calipso.git\nsucceed with errors https://gist.github.com/3283146\ncalipso site www; cd www; calipso server; \ncreates\n/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:39\n        throw arguments[0];\n                       ^\nTypeError: undefined is not a function\n    at /Users/gregor/Projects/netbreeze/website/test/node/www/app.js:198:7\n    at Object.calipso.initCallback (/Users/gregor/Projects/netbreeze/website/test/node/www/lib/calipso.js:67:5)\n    at checkAllModulesInited (/Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:408:13)\n    at /Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:385:9\n    at Function.done (/Users/gregor/Projects/netbreeze/website/test/node/www/modules/core/admin/admin.js:125:5)\n    at next (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:51:23)\n    at next (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:60:12)\n    at Object.Step (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:122:3)\n    at Object.init (/Users/gregor/Projects/netbreeze/website/test/node/www/modules/core/admin/admin.js:55:15)\n    at initModule (/Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:370:32)\n\u2014\nReply to this email directly or view it on GitHub.\n. The version on the npm site has now also updated by Clifton.\nThanks\nAndy\n\n\nOn Aug 7, 2012, at 7:33 AM, Gregor Elke notifications@github.com wrote:\n\nwhile uninstalling i get this:\nmr-orange:node gregor$ sudo npm rm -g calipso\nnpm ERR! Error: ENOTEMPTY, rmdir '/usr/local/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/lib/.libs'\nnpm ERR! If you need help, you may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! System Darwin 11.4.0\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"rm\" \"-g\" \"calipso\"\nnpm ERR! cwd /Users/gregor/Projects/netbreeze/website/test/node\nnpm ERR! node -v v0.8.3\nnpm ERR! npm -v 1.1.43\nnpm ERR! path /usr/local/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/lib/.libs\nnpm ERR! code ENOTEMPTY\nnpm ERR! errno 53\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /Users/gregor/Projects/netbreeze/website/test/node/npm-debug.log\nnpm ERR! not ok code 0\nsudo rm -rf /usr/local/lib/node_modules/calipso; sudo npm uninstall -g calipso;\nclears the install.\nafter the fresh install calipso works!\nthis issue is solved for me :) thank you very much\n\u2014\nReply to this email directly or view it on GitHub.\n. Posted your defect:\nhttps://github.com/springmeyer/node-zipfile/issues/23\nThanks\nAndy\n\nOn Aug 7, 2012, at 7:33 AM, Gregor Elke notifications@github.com wrote:\n\nwhile uninstalling i get this:\nmr-orange:node gregor$ sudo npm rm -g calipso\nnpm ERR! Error: ENOTEMPTY, rmdir '/usr/local/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/lib/.libs'\nnpm ERR! If you need help, you may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! System Darwin 11.4.0\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"rm\" \"-g\" \"calipso\"\nnpm ERR! cwd /Users/gregor/Projects/netbreeze/website/test/node\nnpm ERR! node -v v0.8.3\nnpm ERR! npm -v 1.1.43\nnpm ERR! path /usr/local/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/lib/.libs\nnpm ERR! code ENOTEMPTY\nnpm ERR! errno 53\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /Users/gregor/Projects/netbreeze/website/test/node/npm-debug.log\nnpm ERR! not ok code 0\nsudo rm -rf /usr/local/lib/node_modules/calipso; sudo npm uninstall -g calipso;\nclears the install.\nafter the fresh install calipso works!\nthis issue is solved for me :) thank you very much\n\u2014\nReply to this email directly or view it on GitHub.\n. This should now all work. Can I close this issue?\n. I am assuming this all works now.\n. Really? What's the output? I'll switch to 0.8.9 tonight.\nAndy\n\nSent from my iPhone\nOn Sep 12, 2012, at 11:17 AM, \"F\u00e1bio C\u00e9sar Canesin\" \nnotifications@github.com wrote:\nIts is not working with v0.8.9 .. when using: $ npm install calipso -g ...\non OSX 10.8.1 Xcode 4.4.1. Also on Win7 MSVC2010.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/155#issuecomment-8497191.\n. You need to install expat and libexpat. Future versions will optionally\ndepend on it. If you need it right now you can remove the expat dep\nAndy\nSent from my iPhone\nOn Oct 15, 2012, at 9:01 AM, phaneendra notifications@github.com wrote:\nCalipso is dependent on node-expat. Fails with node version 0.8.11 on a\nLinux box. Any ideas on how to fix this.\nphaneendra@phlinuxbox:~/Development/Work/calipso$ npm i\nnpm http GET https://registry.npmjs.org/node-expat\nnpm http 304 https://registry.npmjs.org/node-expat\n\nnode-expat@1.4.5 install /home/phaneendra/Development/Work/calipso/node_modules/node-expat\nnode-waf configure build\n\nChecking for program g++ or c++          : /usr/bin/g++\nChecking for program cpp                 : /usr/bin/cpp\nChecking for program ar                  : /usr/bin/ar\nChecking for program ranlib              : /usr/bin/ranlib\nChecking for g++                         : ok\nChecking for node path                   : not found\nChecking for node prefix                 : ok /home/phaneendra/.nvm/v0.8.11\nChecking for header expat.h              : not installed\n/home/phaneendra/Development/Work/calipso/node_modules/node-expat/wscript:13:\nerror: the configuration failed (see\n'/home/phaneendra/Development/Work/calipso/node_modules/node-expat/build/config.log')\nnpm ERR! node-expat@1.4.5 install: node-waf configure build\nnpm ERR! sh \"-c\" \"node-waf configure build\" failed with 1\nnpm ERR!\nnpm ERR! Failed at the node-expat@1.4.5 install script.\nnpm ERR! This is most likely a problem with the node-expat package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-waf configure build\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls node-expat\nnpm ERR! There is likely additional logging output above.\nnpm ERR! System Linux 3.2.0-32-generic-pae\nnpm ERR! command \"/home/phaneendra/.nvm/v0.8.11/bin/node\"\n\"/home/phaneendra/.nvm/v0.8.11/bin/npm\" \"i\"\nnpm ERR! cwd /home/phaneendra/Development/Work/calipso\nnpm ERR! node -v v0.8.11\nnpm ERR! npm -v 1.1.62\nnpm ERR! code ELIFECYCLE\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /home/phaneendra/Development/Work/calipso/npm-debug.log\nnpm ERR! not ok code 0\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/155#issuecomment-9443941.\n. Why is this 192 commits? Seems wrong.\n. This was already in the repo and has been merged through internal changes.\n. The current devel branch head actually goes to bcrypt 0.7.x\n. The recent push to the devel branch goes to bcrypt 0.7.x. Could you try if that works under windows; I will myself when I get around to it, but my current deployment is under ubuntu.\n. This should now work, please let me know.\n. I see several problems under windows. Previously I had dependencies just under the modules that need them but it was necessary to move those to the root because core modules won't be \"installed\" and their \"npm install\" isn't run. However some of the problems you're running into a more basic than that: node-waf needs to be available and probably visual studio 2010 for some of the native modules. I need to gather my thoughts about allowing the main things to run without the native modules so that windows installs will run but without native modules.\nThis might be a little harder.\nThanks\nAndy\nOn Sep 9, 2012, at 3:18 PM, Matt Biggin notifications@github.com wrote:\n\nSorry it's taken a while to test. Different error now:\nnpm http GET https://registry.npmjs.org/calipso\nnpm http 304 https://registry.npmjs.org/calipso\nnpm http GET https://registry.npmjs.org/mongodb\nnpm http GET https://registry.npmjs.org/connect-form\nnpm http GET https://registry.npmjs.org/cluster\nnpm http GET https://registry.npmjs.org/hook.io\nnpm http GET https://registry.npmjs.org/knox\nnpm http GET https://registry.npmjs.org/node-expat\nnpm http GET https://registry.npmjs.org/imagemagick\nnpm http GET https://registry.npmjs.org/mailer\nnpm http GET https://registry.npmjs.org/connect-mongodb\nnpm http GET https://registry.npmjs.org/jade\nnpm http GET https://registry.npmjs.org/formidable\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/pool\nnpm http GET https://registry.npmjs.org/qs\nnpm http GET https://registry.npmjs.org/async\nnpm http GET https://registry.npmjs.org/mime\nnpm http GET https://registry.npmjs.org/request\nnpm http GET https://registry.npmjs.org/optimist\nnpm http GET https://registry.npmjs.org/rimraf\nnpm http GET https://registry.npmjs.org/zipfile\nnpm http GET https://registry.npmjs.org/nconf\nnpm http GET https://registry.npmjs.org/semver\nnpm http GET https://registry.npmjs.org/step\nnpm http GET https://registry.npmjs.org/colors\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/underscore\nnpm http GET https://registry.npmjs.org/ejs\nnpm http GET https://registry.npmjs.org/bcrypt\nnpm http GET https://registry.npmjs.org/winston\nnpm http GET https://registry.npmjs.org/stylus\nnpm http GET https://registry.npmjs.org/mongoose\nnpm http 200 https://registry.npmjs.org/connect-form\nnpm http GET https://registry.npmjs.org/connect-form/-/connect-form-0.2.1.tgz\nnpm http 200 https://registry.npmjs.org/knox\nnpm http GET https://registry.npmjs.org/knox/-/knox-0.0.11.tgz\nnpm http 200 https://registry.npmjs.org/node-expat\nnpm http GET https://registry.npmjs.org/node-expat/-/node-expat-1.4.5.tgz\nnpm http 200 https://registry.npmjs.org/cluster\nnpm http GET https://registry.npmjs.org/cluster/-/cluster-0.7.7.tgz\nnpm http 200 https://registry.npmjs.org/imagemagick\nnpm http GET https://registry.npmjs.org/imagemagick/-/imagemagick-0.1.2.tgz\nnpm http 200 https://registry.npmjs.org/mailer\nnpm http GET https://registry.npmjs.org/mailer/-/mailer-0.6.7.tgz\nnpm http 200 https://registry.npmjs.org/hook.io\nnpm http 200 https://registry.npmjs.org/connect-mongodb\nnpm http GET https://registry.npmjs.org/connect-mongodb/-/connect-mongodb-1.1.5.tgz\nnpm http GET https://registry.npmjs.org/hook.io/-/hook.io-0.8.11.tgz\nnpm http 200 https://registry.npmjs.org/jade\nnpm http 200 https://registry.npmjs.org/pool\nnpm WARN pool@0.4.1 package.json: bugs['web'] should probably be bugs['url']\nnpm http 200 https://registry.npmjs.org/formidable\nnpm http 200 https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/formidable/-/formidable-1.0.11.tgz\nnpm http GET https://registry.npmjs.org/connect/-/connect-2.3.9.tgz\nnpm http 200 https://registry.npmjs.org/qs\nnpm http 200 https://registry.npmjs.org/mongodb\nnpm http 200 https://registry.npmjs.org/mime\nnpm http GET https://registry.npmjs.org/mongodb/-/mongodb-0.9.9-8.tgz\nnpm http GET https://registry.npmjs.org/mime/-/mime-1.2.7.tgz\nnpm http 200 https://registry.npmjs.org/optimist\nnpm http 200 https://registry.npmjs.org/request\nnpm http 200 https://registry.npmjs.org/rimraf\nnpm http 200 https://registry.npmjs.org/zipfile\nnpm http 200 https://registry.npmjs.org/nconf\nnpm http GET https://registry.npmjs.org/nconf/-/nconf-0.6.4.tgz\nnpm http 200 https://registry.npmjs.org/semver\nnpm http 200 https://registry.npmjs.org/async\nnpm http 200 https://registry.npmjs.org/step\nnpm http 200 https://registry.npmjs.org/colors\nnpm http 200 https://registry.npmjs.org/underscore\nnpm WARN zipfile@0.3.1 dependencies field should be hash of : pairs\nnpm http 200 https://registry.npmjs.org/ejs\nnpm http 200 https://registry.npmjs.org/bcrypt\nnpm http 200 https://registry.npmjs.org/stylus\nnpm http GET https://registry.npmjs.org/bcrypt/-/bcrypt-0.7.2.tgz\nnpm http GET https://registry.npmjs.org/stylus/-/stylus-0.28.2.tgz\nnpm http 200 https://registry.npmjs.org/express\nnpm http 200 https://registry.npmjs.org/knox/-/knox-0.0.11.tgz\nnpm http 200 https://registry.npmjs.org/winston\nnpm http 200 https://registry.npmjs.org/node-expat/-/node-expat-1.4.5.tgz\nnpm http GET https://registry.npmjs.org/express/-/express-3.0.0rc4.tgz\nnpm http 200 https://registry.npmjs.org/cluster/-/cluster-0.7.7.tgz\nnpm http 200 https://registry.npmjs.org/imagemagick/-/imagemagick-0.1.2.tgz\nnpm http 200 https://registry.npmjs.org/mailer/-/mailer-0.6.7.tgz\nnpm http 200 https://registry.npmjs.org/connect-form/-/connect-form-0.2.1.tgz\nnpm http 200 https://registry.npmjs.org/mongoose\nnpm http 200 https://registry.npmjs.org/connect-mongodb/-/connect-mongodb-1.1.5.tgz\nnpm http 200 https://registry.npmjs.org/hook.io/-/hook.io-0.8.11.tgz\nnpm http 200 https://registry.npmjs.org/formidable/-/formidable-1.0.11.tgz\nnpm http 200 https://registry.npmjs.org/connect/-/connect-2.3.9.tgz\nnpm http 200 https://registry.npmjs.org/mongodb/-/mongodb-0.9.9-8.tgz\nnpm http 200 https://registry.npmjs.org/mime/-/mime-1.2.7.tgz\nnpm http 200 https://registry.npmjs.org/nconf/-/nconf-0.6.4.tgz\nnpm http 200 https://registry.npmjs.org/bcrypt/-/bcrypt-0.7.2.tgz\nnpm http 200 https://registry.npmjs.org/stylus/-/stylus-0.28.2.tgz\nnpm http 200 https://registry.npmjs.org/express/-/express-3.0.0rc4.tgz\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/mongodb\nnode-expat@1.4.5 install C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\node_modules\\calipso\\node_modules\\node-expat\nnode-waf configure build\nnpm http GET https://registry.npmjs.org/graceful-fs\nnpm http GET https://registry.npmjs.org/nodemailer/0.1.20\nnpm http 304 https://registry.npmjs.org/connect\nnpm http 304 https://registry.npmjs.org/mongodb\nnpm http GET https://registry.npmjs.org/connect/-/connect-1.9.2.tgz\nnpm http GET https://registry.npmjs.org/mongodb/-/mongodb-1.1.6.tgz\n'node-waf' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! error installing node-expat@1.4.5\nnpm ERR! error installing calipso@0.3.10\nnpm http GET https://registry.npmjs.org/commander/0.6.1\nnpm http GET https://registry.npmjs.org/range-parser/0.0.4\nnpm http GET https://registry.npmjs.org/cookie/0.0.4\nnpm http GET https://registry.npmjs.org/crc/0.2.0\nnpm http GET https://registry.npmjs.org/fresh/0.1.0\nnpm http GET https://registry.npmjs.org/methods/0.0.1\nnpm http GET https://registry.npmjs.org/send/0.0.4\nnpm http GET https://registry.npmjs.org/connect/2.4.4\nnpm http GET https://registry.npmjs.org/debug\nnpm http GET https://registry.npmjs.org/mkdirp/0.3.3\nnpm http 200 https://registry.npmjs.org/graceful-fs\nnpm ERR! Error: ENOENT, no such file or directory 'C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\nodemodules\\calipso\\node_modules\\cluster.npm\\package\\package.json'\nnpm ERR! You may report this log at:\nnpm ERR! http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR! npm-@googlegroups.com\nnpm ERR!\nnpm ERR! System Windows_NT 6.1.7601\nnpm ERR! command \"C:\\Program Files (x86)\\nodejs\\node.exe\" \"C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\"\nnpm ERR! cwd C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\nnpm ERR! node -v v0.6.10\nnpm ERR! npm -v 1.1.0-3\nnpm ERR! path C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\node_modules\\calipso\\node_modules\\cluster.npm\\package\\package.json\nnpm ERR! fstream_path C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\node_modules\\calipso\\node_modules\\cluster.npm\\package\\package.json\nnpm ERR! fstream_type File\nnpm ERR! fstream_class FileWriter\nnpm ERR! fstream_finish_call chmod\nnpm ERR! code ENOENT\nnpm ERR! message ENOENT, no such file or directory 'C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\node_modules\\calipso\\node_modules_cluster.npm\\package\\package.json'\nnpm ERR! errno {}\nnpm ERR! fstream_stack Object.oncomplete (C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\node_modules\\fstream\\lib\\writer.js:285:17)\nnpm http 200 https://registry.npmjs.org/nodemailer/0.1.20\nnpm ERR! error rolling back calipso@0.3.10 Error: UNKNOWN, unknown error 'C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\node_modules\\calipso\\node_modules\\bcrypt'\nnpm ERR! node-expat@1.4.5 install: node-waf configure build\nnpm ERR! cmd \"/c\" \"node-waf configure build\" failed with 1\nnpm ERR!\nnpm ERR! Failed at the node-expat@1.4.5 install script.\nnpm ERR! This is most likely a problem with the node-expat package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR! node-waf configure build\nnpm ERR! You can get their info via:\nnpm ERR! npm owner ls node-expat\nnpm ERR! There is likely additional logging output above.\nnpm ERR!\nnpm ERR! System Windows_NT 6.1.7601\nnpm ERR! command \"C:\\Program Files (x86)\\nodejs\\node.exe\" \"C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\"\nnpm ERR! cwd C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\nnpm ERR! node -v v0.6.10\nnpm ERR! npm -v 1.1.0-3\nnpm ERR! code ELIFECYCLE\nnpm ERR! message node-expat@1.4.5 install: node-waf configure build\nnpm ERR! message cmd \"/c\" \"node-waf configure build\" failed with 1\nnpm ERR! errno {}\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR! C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\npm-debug.log\nnpm not ok\n\u0097\nReply to this email directly or view it on GitHub.\n. What version of node are you using? I am trying v0.8.8 64bit, Visual Studio 2010 and ActivePython 2.7.2 64bit first.\nIf that has problem I'll switch to 32bit 0.8.8 and python 2.7.2.\nThanks\nAndy\n\nOn Sep 9, 2012, at 6:11 PM, Matt Biggin notifications@github.com wrote:\n\nLet me know if I can do anything to help.\n\u2014\nReply to this email directly or view it on GitHub.\n. The problematic modules are:\n\nbcrypt requires openssl include files but seems to attempt building with visual studio 2010. This is only used for the password hashing function.... maybe there is a better way.\nzipfile still uses node-waf... isn't some of this native in node?\nnode-expat would require libexpat, maybe I need to look into another xml parser. Also still uses node-waf.\nI don't have any more time today... but I'll keep this on the burner. The current thing I was working on was to support google, facebook and twitter auth.\nThanks\nAndy\nOn Sep 9, 2012, at 7:57 PM, Andreas Richter richtera@gmail.com wrote:\n\nWhat version of node are you using? I am trying v0.8.8 64bit, Visual Studio 2010 and ActivePython 2.7.2 64bit first.\nIf that has problem I'll switch to 32bit 0.8.8 and python 2.7.2.\nThanks\nAndy\nOn Sep 9, 2012, at 6:11 PM, Matt Biggin notifications@github.com wrote:\n\nLet me know if I can do anything to help.\n\u2014\nReply to this email directly or view it on GitHub.\n. Do you have visual studio 2010 and python installed? They are needed for\nnode gyp to work. I am trying to remove. The dependency of the three\nmodules I found problematic but I think node gyp will be require to work.\nAt most we can do something similar to mongoose where the native components\nare optional. Native modules on windows are not always supported by the npm\ncommunity although the move from waf to gyp makes it more possible.\nAndy\n\n\nSent from my iPhone\nOn Sep 10, 2012, at 1:26 AM, Matt Biggin notifications@github.com wrote:\nI'm current running v0.6.10\nThis is on a 64-bit machine but I'm sure for the build it's running 32-bit\nI've just upgraded to the latest version so now it's node-v0.8.8-x64\nRunning against that version gave a bunch of errors, two spring out:\n1/ node-waf missing\n2/ need to \"npm install mongodb --mongodb:native\" - which I ran and that\nfailed too on node-gyp\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/160#issuecomment-8414220.\n. Spent a while on this... just trying to get zipfile to work. There are some instructions on the github repo for zipfile but even using those I am kind of stuck between cmake and trying to download and compile libzlib. Hmmmm, maybe we need someone to convert those modules to run under windows natively (without heavy lifting.)\nI'll try to chip away at it but this is a larger project.\nThanks\nAndy\nOn Sep 10, 2012, at 5:19 AM, Andy Richter andy@richteralsi.com wrote:\n\nDo you have visual studio 2010 and python installed? They are needed for node gyp to work. I am trying to remove. The dependency of the three modules I found problematic but I think node gyp will be require to work. At most we can do something similar to mongoose where the native components are optional. Native modules on windows are not always supported by the npm community although the move from waf to gyp makes it more possible.\nAndy\nSent from my iPhone\nOn Sep 10, 2012, at 1:26 AM, Matt Biggin notifications@github.com wrote:\n\nI'm current running v0.6.10\nThis is on a 64-bit machine but I'm sure for the build it's running 32-bit\nI've just upgraded to the latest version so now it's node-v0.8.8-x64\nRunning against that version gave a bunch of errors, two spring out:\n1/ node-waf missing\n2/ need to \"npm install mongodb --mongodb:native\" - which I ran and that failed too on node-gyp\n\u2014\nReply to this email directly or view it on GitHub.\n. I am always testing Mac OS and Ubuntu. Most linux variations will also work anyway.\nExpat needs libexpat-dev which is kind of a pain. It would be good to either hand code a small XML parser or find one written in node only.\nFor bcyrpt we could use crypto.pbkdf2(password, salt, iterations, keylen, callback) which is native in node. Not quite as good but no native parts required.\nFor zipfile it would be nice to have but we might be able to refactor it as an optional package. It's really only used for the calipso command line (as far as I remember.)\nMaking these three changes would allow this to run on windows. The real work would be to fork the three modules that don't work and fix them to compile under windows.\nThanks\nAndy\n\n\nOn Sep 16, 2012, at 9:54 AM, Matt Biggin notifications@github.com wrote:\n\nI don't have VS2010 and python installed.\nThanks for looking into this. Please don't make this a huge priority on my behalf. If I really want this work work I will happily use Linux. If you need me to test things though just let me know. (Happy to implement stuff if you want to punt something my way, I'll do my best)\n\u2014\nReply to this email directly or view it on GitHub.\n. The full \"npm install -g calipso\" then \"calipso site sampleSite\" doesn't work yet but the master branch now can be installed under windows.\ngit clone, npm install, bin/calipso server\nI tested it under windows 7.\nSeveral modules are now optionally loaded but there are a few things left to do to make the \"calipso site\" command and some other ones work under windows. But I think this is a good first step. I need to do a little more testing before publishing the npm itself.\n. This now works.\nTested under windows 8.\nSteps.\nInstall Mongo (I installed it as a service)\nInstall git (add git sh.exe to the path or use cygwin; this is a requirement from npm since it uses sh to wrap command lines that were under sh under unix, there is currently no way to have a \"windows specific\" bin file using a cmd or bat file. There file is there but you'd have to make it available manually. In the git repo it's bin/calipso.cmd; replacing the npm installed calipso.cmd with this one would work without sh.exe)\nInstall nodejs\nnpm install -g calipso\ncalipso site  (even works with paths containing a space or the like)\ncd \ncalipso server\n\nLet me know how it goes.\n. Also tested on Mac OS X\n. Also tested ubuntu... noticed defect.\nThe correct version is calipso@0.3.14 or greater.\n. bcrypt is optional (will use it if it exists or crypto.pbkdf2 instead)\nnode-expat has been removed (using node-xml instead)\nzipfile has been removed (using adm-zip instead)\n. This should now also be fixed.\n. Make sure your calipso node_modules directory is empty when you start, that\nyou're using node 0.6.x or node 0.8.x\nThanks\nAndy\nSent from my iPhone\nOn Aug 13, 2012, at 5:06 PM, billymoon notifications@github.com wrote:\nI am still getting a bunch of errors when trying to install via npm...\n'configure' finished successfully (3.641s)\nWaf: Entering directory\n/usr/lib/node_modules/calipso/node_modules/zipfile/build'\nmake: *** No targets specified and no makefile found. Stop.\nTraceback (most recent call last):\nFile \"/usr/bin/node-waf\", line 16, in \nScripting.prepare(t, os.getcwd(), VERSION, wafdir)\nFile \"/usr/share/nodejs/wafadmin/Scripting.py\", line 145, in prepare\nprepare_impl(t, cwd, ver, wafdir)\nFile \"/usr/share/nodejs/wafadmin/Scripting.py\", line 135, in prepare_impl\nmain()\nFile \"/usr/share/nodejs/wafadmin/Scripting.py\", line 188, in main\nfun(ctx)\nFile \"/usr/share/nodejs/wafadmin/Scripting.py\", line 386, in build\nreturn build_impl(bld)\nFile \"/usr/share/nodejs/wafadmin/Scripting.py\", line 399, in build_impl\nbld.add_subdirs([os.path.split(Utils.g_module.root_path)[0]])\nFile \"/usr/share/nodejs/wafadmin/Build.py\", line 981, in add_subdirs\nself.recurse(dirs, 'build')\nFile \"/usr/share/nodejs/wafadmin/Utils.py\", line 634, in recurse\nf(self)\nFile \"/usr/lib/node_modules/calipso/node_modules/zipfile/wscript\", line\n163, in build\nAttributeError: 'NoneType' object has no attribute 'ant_glob'\nnpm ERR! error rolling back Error: ENOTEMPTY, rmdir\n'/usr/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/regress'\nnpm ERR! error rolling back calipso@0.3.6 { [Error: ENOTEMPTY, rmdir\n'/usr/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/regress']\nnpm ERR! error rolling back errno: 53,\nnpm ERR! error rolling back code: 'ENOTEMPTY',\nnpm ERR! error rolling back path:\n'/usr/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/regress'\n}\nnpm ERR! node-expat@1.4.5 install:node-waf configure build\nnpm ERR!sh \"-c\" \"node-waf configure build\"` failed with 1\nnpm ERR!\nnpm ERR! Failed at the node-expat@1.4.5 install script.\nnpm ERR! This is most likely a problem with the node-expat package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR! node-waf configure build\nnpm ERR! You can get their info via:\nnpm ERR! npm owner ls node-expat\nnpm ERR! There is likely additional logging output above.\nnpm ERR! System Linux 2.6.18-274.7.1.el5.028stab095.1\nnpm ERR! command \"nodejs\" \"/usr/bin/npm\" \"install\" \"-g\" \"calipso\"\nnpm ERR! cwd /home/sysadmin/clients/will/app\nnpm ERR! node -v v0.8.6\nnpm ERR! npm -v 1.1.48\nnpm ERR! code ELIFECYCLE\nLet me know if there is any more useful debug info I can give for you. I am\non virtual server using openvz, with ubuntu 11.04. I have up-to-date npm\nand node.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/162#issuecomment-7708040.\n. Not sure how I can help. Npm install bcrypt should fail the same way. This\nis either gyp problem or your system doesn't have the right compilers to\ncompile native modules.\nThanks\nAndy\nSent via the internets\nOn Aug 13, 2012, at 5:59 PM, billymoon notifications@github.com wrote:\nI did as you said, but I am still getting errors like this...\nnpm http 304 https://registry.npmjs.org/npm\nnpm WARN package.json methods@0.0.1 No README.md file found!\nTraceback (most recent call last):\nFile \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp_addon\", line 38, in\nrc = gyp.main(gyp_args)\nFile \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/init.py\", line\n471, in main\noptions.circular_check)\nFile \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/init.py\", line\n111, in Load\ndepth, generator_input_info, check, circular_check)\nFile \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/input.py\", line\n2378, in Load\ndepth, check)\nFile \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/input.py\", line\n358, in LoadTargetBuildFile\nincludes, True, check)\nFile \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/input.py\", line\n208, in LoadOneBuildFile\nraise Exception(\"%s not found (cwd: %s)\" % (build_file_path, os.getcwd()))\nException: binding.gyp not found (cwd:\n/home/sysadmin/cali/node_modules/calipso/node_modules/bcrypt) while trying\nto load binding.gyp\ngyp ERR! configure error\ngyp ERR! stack Error: gyp_addon failed with exit code: 1\ngyp ERR! stack at ChildProcess.onCpExit\n(/usr/lib/nodejs/npm/node_modules/node-gyp/lib/configure.js:330:16)\ngyp ERR! stack at ChildProcess.EventEmitter.emit (events.js:91:17)\ngyp ERR! stack at Process._handle.onexit (child_process.js:674:10)\ngyp ERR! System Linux 2.6.18-274.7.1.el5.028stab095.1\ngyp ERR! command \"node\"\n\"/usr/lib/nodejs/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /home/sysadmin/cali/node_modules/calipso/node_modules/bcrypt\ngyp ERR! node -v v0.8.6\ngyp ERR! node-gyp -v v0.6.3\ngyp ERR! not ok\nnpm http 304 https://registry.npmjs.org/mkdirp\nnpm http 304 https://registry.npmjs.org/portfinder\nnpm http 304 https://registry.npmjs.org/socket.io/0.9.6\nnpm http 304 https://registry.npmjs.org/prompt\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/162#issuecomment-7709559.\n. This should be fixed as well.\nHowever errors when deploying other npm modules need to fixed by the people who commit those modules.\nbcrypt seems to work now but had some problems under 0.8.6 and 0.8.7.\n. Try 'node app' to startup the site. I think the npm version might be one\ncommit behind. Installing directly from git should also work\nThanks\nAndy\nSent from my iPhone\nOn Aug 7, 2012, at 2:17 PM, billymoon notifications@github.com wrote:\nI installed calipso, which seemed to go ok, and created a site, which also\nseemed to go ok, until I tried to start the server. That would throw an\nerror, as would trying to check/list modules...\nsysadmin@svr:~/cali$ calipso modules check\nLaunching calipso from: /home/sysadmin/cali\nCalipso directory: /usr/lib/node_modules/calipso/lib/../\n/home/sysadmin/cali/node_modules/step/lib/step.js:39\n        throw arguments[0];\n                       ^\nTypeError: undefined is not a function\n    at /home/sysadmin/cali/app.js:198:7\n    at Object.calipso.initCallback (/home/sysadmin/cali/lib/calipso.js:67:5)\n    at checkAllModulesInited (/home/sysadmin/cali/lib/core/Module.js:408:13)\n    at /home/sysadmin/cali/lib/core/Module.js:385:9\n    at Function.done (/home/sysadmin/cali/modules/core/admin/admin.js:125:5)\n    at next (/home/sysadmin/cali/node_modules/step/lib/step.js:51:23)\n    at next (/home/sysadmin/cali/node_modules/step/lib/step.js:60:12)\n    at Object.Step (/home/sysadmin/cali/node_modules/step/lib/step.js:122:3)\n    at Object.init (/home/sysadmin/cali/modules/core/admin/admin.js:55:15)\n    at initModule (/home/sysadmin/cali/lib/core/Module.js:370:32)\nsysadmin@svr:~/cali$\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/163.\n. Hmm, that's curious. The assets module does have the knox dependency and I\nam actually using this module.\nWizard activation and late bound npm install for the module might be\nbroken. Thanks for the heads up.\nActivating the module with the calipso command line should work.\nThanks\nAndy\nSent from my iPhone\nOn Aug 8, 2012, at 2:05 AM, George Plymale notifications@github.com wrote:\nThanks for that. Same issue here whilst trying calipso. Another thing I've\nseen in the wizard installation is the following:\n8 Aug 02:04:05 - error: Module mail has been disabled because Cannot\nfind module 'mailer/vendor/mustache'\n8 Aug 02:04:05 - error: Module assets has been disabled because Cannot\nfind module 'knox'\nShould perhaps those be added as some kind of a dependency for calipso just\nas a sanity check before offering them in a wizard?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/163#issuecomment-7575762.\n. Fixed. Clifton told me to move core module dependencies up into the root package.json.\nI re-published the npm module. Sorry for the inconvenience. However I have not been able to spend time on some good documentation for those two modules.\nIf people are interested in using them (and since they are in the core) I will try to spend some time documenting.\nuse \"/assets/sync\" to have it snarf your folder and field hierarchy from your buckets and put those references into the mongodb.\nIf you have a folder in a bucket with the name \"project::\" it will create a virtual folder by the project name and put the folder in it.\nBy default it will use the username associated with the s3 login that initially created the file.\nYou can create a new user with that name on the system and login as that user to become the same user as s3.\nThere is work to be done on this module but it works pretty well to proxy URL requests to s3 (it supports PUT, DELETE and GET.)\nThe file ownership is by user but the ui to modify permissions is not working yet.\nThanks\nAndy\nOn Aug 8, 2012, at 7:02 AM, Andy Richter andy@richteralsi.com wrote:\n\nHmm, that's curious. The assets module does have the knox dependency and I am actually using this module.\nWizard activation and late bound npm install for the module might be broken. Thanks for the heads up.\nActivating the module with the calipso command line should work.\nThanks\nAndy\nSent from my iPhone\nOn Aug 8, 2012, at 2:05 AM, George Plymale notifications@github.com wrote:\n\nThanks for that. Same issue here whilst trying calipso. Another thing I've seen in the wizard installation is the following:\n8 Aug 02:04:05 - error: Module mail has been disabled because Cannot find module 'mailer/vendor/mustache'\n8 Aug 02:04:05 - error: Module assets has been disabled because Cannot find module 'knox'\nShould perhaps those be added as some kind of a dependency for calipso just as a sanity check before offering them in a wizard?\n\u2014\nReply to this email directly or view it on GitHub.\n. This should be fixed now.\n. Did you install latest? Did it show the setup pages in the browser to\nconfigure the site and admin user?\nNode 0.8.x works although I am testing with 0.8.4 and later.\nThanks\nAndy\n\n\nSent via the internets\nOn Aug 10, 2012, at 7:43 AM, Greg Miell notifications@github.com wrote:\nNo message showing the default admin username and password is being shown\nfor a new Calipso site, the db is empty too. Using node 0.8.2\nThanks\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/164\n.\n. Hmm maybe someone else hit the site. Clear the conf folder files and restart\nAndy\nSent from my iPhone\nOn Aug 10, 2012, at 8:15 AM, Greg Miell notifications@github.com wrote:\nUsing version 0.3.6 from npm and just re-tried with node 0.8.6, just\ngetting the Clean Slate default site, no setup pages whatsoever :S\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/164#issuecomment-7640504.\n. Curious\nAndy\nSent from my iPhone\nOn Aug 10, 2012, at 8:31 AM, Greg Miell notifications@github.com wrote:\nThat fixed it, though no-one else has access to the site (localhost on my\nlaptop at the moment :S), maybe development.json is being pulled in during\ninstall?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/164#issuecomment-7640796.\n. I realized that during publish I need to remove the development.json file otherwise npm will publish it even though it's not in the git repo.\n. What's the cwd? The cwd should be inside of the site. I'll test it when I\ncome back from vacation.\nAndy\nSent from my iPhone\nOn Aug 17, 2012, at 12:41 PM, m9147757 notifications@github.com wrote:\nfyi - Calipso noob.\nI installed Calipso, started it, and logged into the admin web UI.\nEverything seems to be ok to that point. Working with the command line,\nhowever, is giving me some problems. I'm exploring the process for managing\nthemes and modules. When I try to get a modules list, I get an error\n(similar error with themes). I get the same error regardless of the\nspecific operation I want to perform on modules (or themes) - list,\ninstall, etc..\nOS: Ubuntu 12.04\nroot@rob-VirtualBox1:/var/www/testsite# calipso modules list\nLaunching calipso from: /var/www/testsite\nCalipso directory: /usr/local/lib/node_modules/calipso/lib/../\n17 Aug 12:37:06 - debug: Binding events for mail handler ...\n/var/www/testsite/node_modules/mongoose/lib/utils.js:413\nthrow err;\n^\nError: Cannot find module 'lib/cli/Modules'\nat Function.Module._resolveFilename (module.js:338:15)\nat Function.Module._load (module.js:280:25)\nat Module.require (module.js:362:17)\nat require (module.js:378:17)\nat /usr/local/lib/node_modules/calipso/lib/calipso-cli.js:92:23\nat /var/www/testsite/app.js:198:7\nat Object.calipso.initCallback (/var/www/testsite/lib/calipso.js:67:5)\nat checkAllModulesInited (/var/www/testsite/lib/core/Module.js:408:13)\nat /var/www/testsite/lib/core/Module.js:382:11\nat _asyncMap (/var/www/testsite/node_modules/async/lib/async.js:190:13)\nroot@rob-VirtualBox1:/var/www/testsite#\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/165.\n. I see the cwd was correct.... I'll check it out\nSent from my iPhone\nOn Aug 17, 2012, at 12:41 PM, m9147757 notifications@github.com wrote:\nfyi - Calipso noob.\nI installed Calipso, started it, and logged into the admin web UI.\nEverything seems to be ok to that point. Working with the command line,\nhowever, is giving me some problems. I'm exploring the process for managing\nthemes and modules. When I try to get a modules list, I get an error\n(similar error with themes). I get the same error regardless of the\nspecific operation I want to perform on modules (or themes) - list,\ninstall, etc..\nOS: Ubuntu 12.04\nroot@rob-VirtualBox1:/var/www/testsite# calipso modules list\nLaunching calipso from: /var/www/testsite\nCalipso directory: /usr/local/lib/node_modules/calipso/lib/../\n17 Aug 12:37:06 - debug: Binding events for mail handler ...\n/var/www/testsite/node_modules/mongoose/lib/utils.js:413\nthrow err;\n^\nError: Cannot find module 'lib/cli/Modules'\nat Function.Module._resolveFilename (module.js:338:15)\nat Function.Module._load (module.js:280:25)\nat Module.require (module.js:362:17)\nat require (module.js:378:17)\nat /usr/local/lib/node_modules/calipso/lib/calipso-cli.js:92:23\nat /var/www/testsite/app.js:198:7\nat Object.calipso.initCallback (/var/www/testsite/lib/calipso.js:67:5)\nat checkAllModulesInited (/var/www/testsite/lib/core/Module.js:408:13)\nat /var/www/testsite/lib/core/Module.js:382:11\nat _asyncMap (/var/www/testsite/node_modules/async/lib/async.js:190:13)\nroot@rob-VirtualBox1:/var/www/testsite#\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/165.\n. The latest version fixes it. The path in the shell script was assuming\nthings were running from a git repo clone and inside of the main module\nrather than from an installed site.\nThanks\nAndy\nSent via the internets\nOn Sep 5, 2012, at 12:54 PM, Jesse Cravens notifications@github.com wrote:\nIm receiving this same error .. could you add a comment as to how/if it was\nresolved.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/165#issuecomment-8305650.\n. I stand corrected. Just reproduced the problem... let me double check but it might not be closed after all.\nAndy\nOn Sep 5, 2012, at 5:12 PM, Andy Richter andy@richteralsi.com wrote:\n\nThe latest version fixes it. The path in the shell script was assuming things were running from a git repo clone and inside of the main module rather than from an installed site.\nThanks\nAndy\nSent via the internets\nOn Sep 5, 2012, at 12:54 PM, Jesse Cravens notifications@github.com wrote:\n\nIm receiving this same error .. could you add a comment as to how/if it was resolved.\n\u2014\nReply to this email directly or view it on GitHub.\n. This should work now, but for some reason the travisci job fails even though local \"npm test\" succeeds fine.\nThanks\nAndy\n\n\nOn Sep 5, 2012, at 8:13 PM, Andreas Richter richtera@gmail.com wrote:\n\nI stand corrected. Just reproduced the problem... let me double check but it might not be closed after all.\nAndy\nOn Sep 5, 2012, at 5:12 PM, Andy Richter andy@richteralsi.com wrote:\n\nThe latest version fixes it. The path in the shell script was assuming things were running from a git repo clone and inside of the main module rather than from an installed site.\nThanks\nAndy\nSent via the internets\nOn Sep 5, 2012, at 12:54 PM, Jesse Cravens notifications@github.com wrote:\n\nIm receiving this same error .. could you add a comment as to how/if it was resolved.\n\u2014\nReply to this email directly or view it on GitHub.\n. The stylus middle ware is disabled by default and the code to implement it seems broken (some misspellings and checking for the theme when not defined yet.)\nMight need some work?! How important is it to use the calipso theme? Copying the cleanslate theme and using compass is the preferred method I think...\n-- anyone else want to comment?\nThanks\nAndy\n\n\n\nOn Sep 10, 2012, at 4:58 PM, pandasander notifications@github.com wrote:\n\nWhen installing 'calipso' theme with the command:\ncalipso themes download cliftonc/calipso-site-theme\n... The theme install fine.\nHaving enabled in in configuration, I get the Chrome error message:\nGET http://localhost:3000/css/calipso.css 404 (Not Found)\nWhen I create a style sheet: public/css/calipso.css , the error message is resolved , though css styles are seemingly incomplete.\n\u2014\nReply to this email directly or view it on GitHub.\n. I just re-published. You can now enable the stylus middlware in the themes admin section.\nThen the calipso theme should work again. Still thinking this is not the best way to do this, but....\nI noticed that even if you had enabled the stylus middleware through the config file directly it still wouldn't have worked.\nSo I convinced myself that this was a defect and is now fixed :). I don't often talk to myself.\nThanks\nAndy\n\nOn Sep 10, 2012, at 5:56 PM, Andreas Richter richtera@gmail.com wrote:\n\nThe stylus middle ware is disabled by default and the code to implement it seems broken (some misspellings and checking for the theme when not defined yet.)\nMight need some work?! How important is it to use the calipso theme? Copying the cleanslate theme and using compass is the preferred method I think...\n-- anyone else want to comment?\nThanks\nAndy\nOn Sep 10, 2012, at 4:58 PM, pandasander notifications@github.com wrote:\n\nWhen installing 'calipso' theme with the command:\ncalipso themes download cliftonc/calipso-site-theme\n... The theme install fine.\nHaving enabled in in configuration, I get the Chrome error message:\nGET http://localhost:3000/css/calipso.css 404 (Not Found)\nWhen I create a style sheet: public/css/calipso.css , the error message is resolved , though css styles are seemingly incomplete.\n\u2014\nReply to this email directly or view it on GitHub.\n. Please let me know if this is now working.\n. Hmm\nNpm install -g calipso\nCalipso site \ncd \ncalipso themes install cliftonc/calipso-site-theme\nNode app\n.... Setup, login enable stylus\nCtrl-c\nNode app\nLogin enable theme\n\n\nThis should work\nAndy\nSent from my iPhone\nOn Sep 12, 2012, at 6:08 AM, pandasander notifications@github.com wrote:\nHi Andy,\nSorry for late reply,\nStill no lick unfortunately.\nI tried the following:\nI cloned a new instance, from git hub, started it up, completed the set up\nwizard, then stopped the instance.\nInstalled the theme using this command: calipso themes download\ncliftonc/calipso-site-theme\nTried enabling the theme, same problem.\nTried checking the 'Enable Stylus' check box, then saved configuration.\nStill no luck.\nCould there be something I am missing like a code dependency?\nI noticed Stylus installed when I ran: npm install stylus. Node noobie\ntalking here: Perhaps either this means Stylus was missing, which would be\na problem; or the stylus dependency is saved in another location, and this\nis not a problem at all.\nEverything else seems to run fine, just without this theme.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/166#issuecomment-8487980.\n. I like the idea except how would it \"merge\" the stylesheets?\nAssuming each theme is mostly centered on layout and not css it would work but otherwise we'd have to come up with a different way.\n. Are you using module templates?\n. I am trying to figure out what kind of things you would want to put into the module specific theme. If you only need to put templates, then couldn't you just add the template to the template folder of the module? Since as we previously talked about merging css would be pretty hard.\nhttp://calip.so/calipso-modules.html\nand themes can override those files if someone wanted to in the future.\n. I do understand the usecase. I guess my question was if you put layouts and templates for each module in the module templates folder then they will be private to the module until at a later date someone decides to make a new theme which includes your templates and overrides them. I guess we would need to come up with a good naming convention so that templates are not inadvertently overridden by themes just because there is a name collision. Is there something you cannot do by controlling the views within the modules templates? I do agree that the name collision problems is probably the most concerning thing. My thought was to allow the modules templates folder to supply layouts and templates but then allow override of those in any theme. However I have not specifically tested what and if there are breakages. To load a whole theme per module might be interesting but then modules would no longer play nice with each other when they are both on the same page, we'd have to require iframes or something like that.\nI do like the idea of laying out forms using a template although most of this could be controlled with css as well unless you want to render completely different kinds of controls.\nAs to your comments at the end:\nWhat do you mean with \"\u2022 Using templates within module with native theme: Works without any change.\"?\nThanks\nAndy\nOn Oct 29, 2012, at 2:02 PM, Vinod Kulkarni notifications@github.com wrote:\n\nLet me explain my usecase: A locally installed service where clickable mockups can be created and managed by a product team. (I chose calipso for the purpose as base framework, and right now working on a specific module for this purpose.) I would want end users to do exactly two steps: 1. Install calipso. 2. Install the mockup module. They should have readily working mockup site under particular URL.\nAnd now, let us say, somebody contributes a totally independent 'mindmap' module, with its own theme/layout. Those already using calipso for mockup module, will not have any conflicts with this mindmap module. Nor do they have to do any specific setup, or fiddle with different blocks in the layout pages etc.. URL spaces for both modules would be different.\nBoth these modules should feel like they are independent applications. (Perhaps, another way to look at it is that themes are specific to URL paths. /mockups is one theme, and /mindmap is another theme.) These 'apps' may offer some simple controls for the user preferences, but definitely can't meddle with layouts and overall application experience.\nOpen issues as I see them:\nDynamically merging CSS: Right now I am directly embedding my CSS files in layout HTML. But we will figure out a way.\nUsing templates within module with native theme: Works without any change.\nForms layout: Currently form is autogenerated. For my purposes, I need template based control on form layout. Would be creating a separate issue on this and propose a design.\n\u2014\nReply to this email directly or view it on GitHub.\n. I do understand. I am not convinced that having a theme per module is the right thing to do. Personally I would like to add all that functionality to a module (i.e. having it's own default theme) and still allowing a theme to override those things. This would require better name spaces for overrides though. But I need to think this through a little more. Your idea of dynamically loading a theme would work but it seems kind of inflexible if someone wanted to take that module and apply their own theme to it.\nSo in terms of your use case we need to solve that; I am just not sure about what the ideal way to solve it is.\n. How much would adding a \"public\" folder in addition to the \"templates\" folder to each module help? We could make the static server so that it serves the files from all the public folders joined together. Making a new template which included those files in the future would then override those files.\n. I made this change in the user module to illustrate. This is in the git repo but not yet published to npm.\nThe user modules now has it's own public folder that serves up some styles and images.\nThe login and loginPage template uses the files from there.\nIf the theme has copies of files in it's public folder it will be able to override those files.\nLet me know what you think?\n. I see we need to resolve layouts. The theme.layout object won't get custom layouts from anywhere. We'll need to add capability to add module themes into there.\nChecking.\nAndy\n\nOn Nov 4, 2012, at 2:06 PM, Vinod Kulkarni notifications@github.com wrote:\n\nSeems good idea. I will try to use it. In the meanwhile, I have made my current codebase available here: https://github.com/codevin/calipso-screenswiki/tree/devel. It is working code with lots of copy-paste, but I hope you get the intent.\n\u2014\nReply to this email directly or view it on GitHub.\n. I made some steps toward this.\n1. I added a new branch called privateThemes in calipso. This has support for theme-extension.json in each module.\n2. I forked your repo and pushed changes to use this feature under richtera/calipso-screenswiki/tree/devel\nIt seems to work but there is work to be done. For some reason in some cases it's using a \"list\" layout instead of a \"view\" layout. And the \"screen-view\" (which is the new name of view within the module) doesn't work as a normal content view since you're changing the item name from item.content to screens.item.content. Not sure what's the best to do but maybe you can look at the rest and we'll make the correct adjustments to calipso after that.\nI think having each module able to add new theme items into the current theme which then can be overridden by new themes is the right thing to do.\n. If this works well I am planning to add it to the documentation. Were you able to try this out?\n. How do I get _module.js? It's missing from the repo.\nAndy\n\nOn Dec 6, 2012, at 1:28 PM, Vinod Kulkarni notifications@github.com wrote:\n\nI have now created a sample Todo app that can become a template for such module-as-app. Can you check it out?\nhttps://github.com/codevin/todoApp .\nI have separated out the module specific code within _module.js. So one can cleanly develop over calipso.\nBefore we can release it for wider circulation, I need to add user module block for login/logout within local theme.\n\u2014\nReply to this email directly or view it on GitHub.\n. That looks good.\nQuestions that come to mind are:\n1. If you wanted the app work as the \"default app\":\n    should we add a default URL into the config so you can just tell calipso to put people to /todo when they reach for /?\n    allow such app to default / and just override the main router with new handlers?\n2. To do login\n    should we provide a more general way to allow the existing user module to be used?\n    did you already come up with a way to use a different popup or form?\nThanks\nAndy\n\nOn Dec 7, 2012, at 2:06 AM, Vinod Kulkarni notifications@github.com wrote:\n\nHave updated now. Please check.\n\u2014\nReply to this email directly or view it on GitHub.\n. This would be tricky just in terms of figuring out which template would override which? Module, theme, module? I guess we could set a precedence level or allow renaming of template. Or did your other comment about the login screen take this into account?\n. Done. I did't use the automatic merge though.\n. Master and I published the module.\nThanks\nAndy\n\nSent from my iPhone\nOn Nov 22, 2012, at 12:44 PM, Juzer Ali notifications@github.com wrote:\nWhich branch have you added the licence to?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/169#issuecomment-10641261.\n. There must be a setting missing in you config file.\nThe setting is:\n{\n  \"version\": \"0.3.0\",\n  \"installed\": true,\n  \"database\": {\n    \"uri\": \"mongodb://localhost/calipso\"\n  },\n  \"server\": {\n    \"name\": \"Calipso\",\n    \"url\": \"http://localhost:3000\",\n    \"modulePath\": \"./modules\",\n    \"themePath\": \"./themes\",\n    \"cluster\": {\n      \"workers\": \"\",\n      \"restartWorkers\": true,\n      \"maximumRestarts\": \"1\"\n    },\n    \"events\": {\n      \"maxListeners\": \"500\"\n    },\n    \"loginPath\": \"\",\n    \"authentication\": {\n      \"password\": true,\n      \"migrate2pbkdf2\": true,\n      \"facebookAppId\": \"\",\n      \"facebookAppSecret\": \"\",\n      \"googleClientId\": \"\",\n      \"googleClientSecret\": \"\",\n      \"twitterConsumerKey\": \"\",\n      \"twitterConsumerSecret\": \"\"\n    }\n  },\n.\n.\n.\nIt's supposed to default to true but maybe somehow it got set to false on your site.\nI am sorry.\nThanks\nAndy\nOn Nov 27, 2012, at 9:18 PM, nupthale notifications@github.com wrote:\n\nthe input component of username and password disappear when i click on the login, there just left the submit button there. i got this a lot of times when i update my cloudfoundry blog. so i have to reinstall it again and agian , is there any idea what's the problem?\n\u2014\nReply to this email directly or view it on GitHub.\n. Hmmm, if the value is not there it will correctly default to true. I just tested it by completely removing the \"authentication\" section.\nI wonder what's going on.\nAndy\n\nOn Nov 27, 2012, at 9:29 PM, Andreas Richter richtera@gmail.com wrote:\n\nThere must be a setting missing in you config file.\nThe setting is:\n{\n  \"version\": \"0.3.0\",\n  \"installed\": true,\n  \"database\": {\n    \"uri\": \"mongodb://localhost/calipso\"\n  },\n  \"server\": {\n    \"name\": \"Calipso\",\n    \"url\": \"http://localhost:3000\",\n    \"modulePath\": \"./modules\",\n    \"themePath\": \"./themes\",\n    \"cluster\": {\n      \"workers\": \"\",\n      \"restartWorkers\": true,\n      \"maximumRestarts\": \"1\"\n    },\n    \"events\": {\n      \"maxListeners\": \"500\"\n    },\n    \"loginPath\": \"\",\n    \"authentication\": {\n      \"password\": true,\n      \"migrate2pbkdf2\": true,\n      \"facebookAppId\": \"\",\n      \"facebookAppSecret\": \"\",\n      \"googleClientId\": \"\",\n      \"googleClientSecret\": \"\",\n      \"twitterConsumerKey\": \"\",\n      \"twitterConsumerSecret\": \"\"\n    }\n  },\n.\n.\n.\nIt's supposed to default to true but maybe somehow it got set to false on your site.\nI am sorry.\nThanks\nAndy\nOn Nov 27, 2012, at 9:18 PM, nupthale notifications@github.com wrote:\n\nthe input component of username and password disappear when i click on the login, there just left the submit button there. i got this a lot of times when i update my cloudfoundry blog. so i have to reinstall it again and agian , is there any idea what's the problem?\n\u2014\nReply to this email directly or view it on GitHub.\n. What's your normal upgrade procedure?\nAndy\n\n\nOn Nov 27, 2012, at 9:18 PM, nupthale notifications@github.com wrote:\n\nthe input component of username and password disappear when i click on the login, there just left the submit button there. i got this a lot of times when i update my cloudfoundry blog. so i have to reinstall it again and agian , is there any idea what's the problem?\n\u2014\nReply to this email directly or view it on GitHub.\n. If you're using vmc you might want to use the git clone instead. The npm\ninstall assumes you're using npm install -g and 'calipso site '\nand then using vmc on .\nThanks\nAndy\n\nSent via the internets\nOn Nov 28, 2012, at 2:27 AM, nupthale notifications@github.com wrote:\nwhen i upgrade, i just do the following step : 1. npm install 2 vmc update\nappName\nmy cloudfoundry url is https://nupthale.cloudfoundry.com, i reinstall it so\nit;s normal now, i am not sure what 's wrong with it now , next time i 'll\ncheck the config file ,thanks .\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/170#issuecomment-10793130.\n. This should now work. Also:\nFor deployments like cloudfoundry or nodejitsu we now support MONGO_URI.\nIf this environment variable is set then it will not use a config file but store the config in the mongodb.\nThis makes upgrades and deployments a lot easier.\nThe log file will output an installation password which needs to be pasted on the site the first time to make sure nobody else starts setting up your installation.\n. Hmm I am not aware of the website being down. Let me ask around.\nSent via the internets\nOn Nov 30, 2012, at 5:47 AM, mansona notifications@github.com wrote:\nHey guys,\nI'm interested in what you are all doing with Calipso but i'm wondering why\nthe website is down http://calip.so/\nIs this project still going?\nCheers,\n- A\n\u2014\n  Reply to this email directly or view it on\n  GitHubhttps://github.com/cliftonc/calipso/issues/171.\n. I asked clifton and he asked his provider to reboot. We're talking about\nmoving it to a ec2 tier.\nSorry about the inconvenience.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 5:29 AM, Gerard Webb notifications@github.com wrote:\nstill down...\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10915656.\n. That might be easier, yes. Although I have a ec2 instance running with a\ncalipso instance.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 9:57 AM, khushil notifications@github.com wrote:\nPut it into a SmaryOS instance on Joyent public cloud?\nOn Saturday, 1 December 2012, Andreas Richter wrote:\n\nI asked clifton and he asked his provider to reboot. We're talking about\nmoving it to a ec2 tier.\nSorry about the inconvenience.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 5:29 AM, Gerard Webb >\nwrote:\nstill down...\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10915656>.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917957>.\n\n\nSent from Gmail Mobile on my iPad2\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917975.\n. Ok i'll restart it again.\nAndy\nSent from my iPhone\nOn May 8, 2014, at 12:37 PM, Ryan Donahue notifications@github.com wrote:\nSite is once again down.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-42572792\n.\n. I fixed and tested this to work on windows. The bash dependency is\ngenerated by npm and not by calipso. If you clone the repo i added a .cmd\nfile to do the calipso thing. You will need the git bash or cygwin sh in\nthe path for the bash file to work on windows but then it will.\nThanks\nAndy\nSent via the internets\nOn Dec 1, 2012, at 6:03 AM, Gerard Webb notifications@github.com wrote:\ni just clones the repo. When i do npm install -d i also get the problem\nwith bash\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10915954.\n. git://github.com/springmeyer/node-zipfile.git still uses waf? zipfile is only used by the calipso theme and calipso module installers. Does someone have a gyp or binary windows compile?\ngit://github.com/astro/node-expat.git uses gyp. I can update the package if someone wants.\nexpat is only used for the assets module which still needs some more work and docs.\n. It looks like zipfile has a gyp build file but the package.json has a waf\ninstall command\nAndy\nSent from my iPhone\nOn Dec 1, 2012, at 5:01 PM, Gerard Webb notifications@github.com wrote:\nHey cliff.\nWell I got everything going on windows once I learnt s bit more. Its nice\narchitecture.\nBut I did notice that both those dependencies have gyp now. So worth\npulling anyway when you consider that they are turning off WAF for v9 of\nnodejs I think.\nOn 01/12/2012 9:45 PM, \"Andreas Richter\" notifications@github.com wrote:\n\ngit://github.com/springmeyer/node-zipfile.git still uses waf? zipfile is\nonly used by the calipso theme and calipso module installers. Does\nsomeone\nhave a gyp or binary windows compile?\ngit://github.com/astro/node-expat.git uses gyp. I can update the package\nif someone wants.\nexpat is only used for the assets module which still needs some more work\nand docs.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10921898>.\n\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10922817.\n. I got a message from Dane:\nI created the gyp file long before things like node-gyp existed. I still\nuse it to compile on windows. Ive not gotten around to updating the build\nsystem to use anything but waf, and honestly I'm not i sure I will because\nthe pure js unzipping libs around look pretty promising and would allow\ndeprecating this lib.\nMaybe we need to switch to another zip library. What's the most popular one?\nThanks\nAndy\nSent from my iPhone\nOn Dec 2, 2012, at 6:16 AM, Gerard Webb notifications@github.com wrote:\nOK easy fix :)\nOn 02/12/2012 1:44 AM, \"Andreas Richter\" notifications@github.com wrote:\n\nIt looks like zipfile has a gyp build file but the package.json has a waf\ninstall command\nAndy\nSent from my iPhone\nOn Dec 1, 2012, at 5:01 PM, Gerard Webb notifications@github.com wrote:\nHey cliff.\nWell I got everything going on windows once I learnt s bit more. Its nice\narchitecture.\nBut I did notice that both those dependencies have gyp now. So worth\npulling anyway when you consider that they are turning off WAF for v9 of\nnodejs I think.\nOn 01/12/2012 9:45 PM, \"Andreas Richter\" notifications@github.com\nwrote:\n\ngit://github.com/springmeyer/node-zipfile.git still uses waf? zipfile\nis\nonly used by the calipso theme and calipso module installers. Does\nsomeone\nhave a gyp or binary windows compile?\ngit://github.com/astro/node-expat.git uses gyp. I can update the\npackage\nif someone wants.\nexpat is only used for the assets module which still needs some more\nwork\nand docs.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10921898>.\n\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10922817>.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10924320>.\n\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10928469.\n. bcrypt is optional (will use it if it exists or crypto.pbkdf2 instead)\nnode-expat has been removed (using node-xml instead)\nzipfile has been removed (using adm-zip instead)\n. How did you install node? Npm should do the right thing automatically. It's\nnot possible to override how npm handles the generation of the sh wrappers.\nIf you do a git clone of the whole repo it includes a cmd version of the\ncalipso cmd which works. But if you use the npm install you'd have to\nmanually move the cmd if your npm version dies the wrong thing. I install\nthis on windows all the time so I am not sure exactly how to help\nAndu\nSent from my iPhone\nOn Mar 23, 2013, at 12:20 AM, pitxels notifications@github.com wrote:\nHello there,\nwhat do you mean by \"You will need the git bash or cygwin sh in the path\nfor the bash file to work on windows but then it will.\"\nI have been trying to install calipso for 3 days now, can you kindly\nelaborate on the steps to workaround the installation?\nThanks!\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-15331537\n.\n. I'll check it out. We had major problems with cluster due to hook.io when\nmoving to the node builtin clustering. I am not sure if there would be\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com wrote:\nthere is better clustering node js library that is more production friendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed. It is\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n. All events are published through hook.io but there is work to be done to\nactually make that useful :)\nAndy\nSent from my iPhone\nOn Dec 3, 2012, at 8:41 AM, Gerard Webb notifications@github.com wrote:\nhook.io looks awesome. did not know this existed for nodejs.\nCurious where this is used in calipso ?\nOn 3 December 2012 14:38, Ged Wed gedw99@gmail.com wrote:\n\nyeah its quality i think. Also has nice set-up for proxy.\nwe should asks what proxy they use too. Might be a nodejs one too\ng\nOn 3 December 2012 14:32, Andreas Richter notifications@github.comwrote:\n\nI'll check it out. We had major problems with cluster due to hook.iowhen\nmoving to the node builtin clustering. I am not sure if there would be\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com\nwrote:\nthere is better clustering node js library that is more production\nfriendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed. It\nis\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952653>.\n\n\n+46 73 364 67 96\n\n\n+46 73 364 67 96\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952912.\n. Thing like login, logout, create, update and so on. Clifton would have more\ninfo about this. Once the site is moved I would like to spend time\ndocumenting stuff and making sure everything is flushed out\nAndy\nSent from my iPhone\nOn Dec 3, 2012, at 9:13 AM, Gerard Webb notifications@github.com wrote:\nWow this sounds nice.\nWhen you say all the events can you give me an example ? Sorry\nCan scale out the back end to different sub systems running on different\nprocesses or even servers ?\nOn 3 December 2012 15:02, Andreas Richter notifications@github.com wrote:\n\nAll events are published through hook.io but there is work to be done to\nactually make that useful :)\nAndy\nSent from my iPhone\nOn Dec 3, 2012, at 8:41 AM, Gerard Webb notifications@github.com wrote:\nhook.io looks awesome. did not know this existed for nodejs.\nCurious where this is used in calipso ?\nOn 3 December 2012 14:38, Ged Wed gedw99@gmail.com wrote:\n\nyeah its quality i think. Also has nice set-up for proxy.\nwe should asks what proxy they use too. Might be a nodejs one too\ng\nOn 3 December 2012 14:32, Andreas Richter notifications@github.comwrote:\n\nI'll check it out. We had major problems with cluster due to\nhook.iowhen\nmoving to the node builtin clustering. I am not sure if there would be\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com\nwrote:\nthere is better clustering node js library that is more production\nfriendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed. It\nis\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952653>.\n\n\n+46 73 364 67 96\n\n\n+46 73 364 67 96\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952912>.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10953643>.\n\n\n+46 73 364 67 96\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10954025.\n. There is a bin folder with the calipso and calipso.cmd files. They should work normally in the git clone. Is there a nodejs solution for non-jailbroken iOS?\n. Sorry I have been offline for a while. With the theme extension support this should just be merged into the documentation, right?\n. Makes sense, yes\nSent from my iPhone\nOn Dec 8, 2012, at 11:35 PM, Vinod Kulkarni notifications@github.com\nwrote:\nIn getBlock definition (lib/core/Helpers.js), shouldn't the function return\nstring if next is not defined?\nCurrent code:\ngetBlock: function(req, res, calipso) {\nreturn function(block, next) {\n// TODO : Allow block to be passed as a regex (e.g. to include all\nscripts.* blocks)\n    var output = \"\";\n    res.renderedBlocks.get(block, function(err, blocks) {\n```\n  blocks.forEach(function(content) {\n    output += content;\n  });\nif (typeof next === 'function') next(null, output);\n});\n```\nModifying relevant part:\n//... return output\n  if (typeof next === 'function') {\n          next(null, output);\n  } else {\n        return output;\n  }\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/176.\n. What's left to do on the calipso side? (other than documenting theme-extensions of course :)\nThanks\nAndy\nOn Dec 9, 2012, at 1:02 PM, Vinod Kulkarni notifications@github.com wrote:\n\nActually realized it is not a bug. It is only usable as a chain of functions.\nThe motivation was that I looking for a using getBlock() directly in template. But it seems very difficult. The only way is to first populate options with these blocks and then send them to template.\nTo still allow module templates to directly use the blocks, I using syntax of '_module_user_login' to refer to, say, user.login block from user module. Simplifies unnecessary indirections.\n\u2014\nReply to this email directly or view it on GitHub.\n. I'll check into it tonight. I have not seen pr heard of this. Unfortunately\nthe trace doesn't really indicate the error\nAndy\n\nSent from my iPhone\nOn Dec 17, 2012, at 12:20 PM, bledek notifications@github.com wrote:\nThe operation acts successful on the client (see attached image)\n[image: calipso create\nuser]https://f.cloud.github.com/assets/868792/17229/7c0751a0-486d-11e2-930a-d40190e11907.png\nBut on the server side, the following happens:\n/Users/brownb/Dev/CMS/calipso/node_modules/mongoose/lib/utils.js:413\n        throw err;\n              ^Error: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:645:11)\n    at ServerResponse.res.setHeader\n(/Users/brownb/Dev/CMS/calipso/node_modules/express/node_modules/connect/lib/patch.js:59:22)\n    at ServerResponse.res.set.res.header\n(/Users/brownb/Dev/CMS/calipso/node_modules/express/lib/response.js:515:10)\n    at ServerResponse.res.format\n(/Users/brownb/Dev/CMS/calipso/node_modules/express/lib/response.js:462:8)\n    at ServerResponse.res.redirect\n(/Users/brownb/Dev/CMS/calipso/node_modules/express/lib/response.js:660:8)\n    at Promise.\n(/Users/brownb/Dev/CMS/calipso/modules/core/user/user.js:905:19)\n    at Promise.addBack\n(/Users/brownb/Dev/CMS/calipso/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.EventEmitter.emit (events.js:99:17)\n    at Promise.emit\n(/Users/brownb/Dev/CMS/calipso/node_modules/mongoose/lib/promise.js:59:38)\n    at Promise.complete\n(/Users/brownb/Dev/CMS/calipso/node_modules/mongoose/lib/promise.js:70:20)\nThis happens on the npm repo install, or the local forked dev environment.\nThe difference between the two is that on the npm version, you cannot log\nin after restarting the server - the login form does not render the\nusername/password fields. This does not happen with the github version.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/177.\n. What are the values of your authentication section in your config file? I\nam not able to reproduce this.\nAndy\nSent from my iPhone\nOn Dec 18, 2012, at 11:06 PM, bledek notifications@github.com wrote:\nHere is a little better error message:\nModule user, error: Cannot read property 'username' of undefined\nCalipso Module: userTypeError: Cannot read property 'username' of\nundefined Calipso Module: user\n    at /www/martialmarketing.com/webroot/modules/core/user/user.js:722:31\n    at me.process (/www/martialmarketing.com/webroot/lib/core/Form.js:1141:14)\n    at /www/martialmarketing.com/webroot/lib/core/Form.js:1179:14\n    at /www/martialmarketing.com/webroot/lib/core/Form.js:1215:7\n    at _asyncMap\n(/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:190:13)\n    at async.forEach\n(/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:94:25)\n    at _asyncMap\n(/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:187:17)\n    at _asyncMap\n(/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:190:13)\n    at async.forEach\n(/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:82:20)\n    at _asyncMap\n(/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:184:9)\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/177#issuecomment-11516819.\n. Make sure that your config file has this:\n{\n  \"version\": \"0.3.0\",\n  \"installed\": true,\n  \"database\": {\n    \"uri\": ...\n  },\n  \"server\": {\n    \"name\": ...\n    \"authentication\": {\n      \"password\": true,\n      \"migrate2pbkdf2\": true\n      ....\n    }\n...\nmigrate2pdkdf2 can be false but password is what enabled the username/password form.\nNot sure what else it could be. I would need exact steps, os specs and such to try to reproduce.\n. I published the npm module with the latest changes so there should no longer be a discrepancy between the current master and npm.\n. Each module and theme has a \"public\" folder which is the root of the static URL.\nThe theme overrides files in a public folder of a module.\nThanks\nAndy\nOn Dec 21, 2012, at 12:59 AM, bledek notifications@github.com wrote:\n\nI put some images in a 'media' folder in the root, but it can't seem to get to them. I found the line in app.js:\napp.use(express\"static\");\nwhich seems fine to me, but the log outputs:\n15 Dec 12:05:45 - debug: Handling static asset\nThe GET call fails, however.\nAny ideas?\n\u2014\nReply to this email directly or view it on GitHub.\n. I am going to try and rebase it but currently all work is being based on master. I might need to ask you to rebase.\n. Also I was thinking of adding project files for .idea as well but have reconsidered since they are modified whenever the project is opened. So they were constantly changing.\n. I liked a lot of this stuff but the \"Reformatted code for consistency\" causes a lot of merge conflicts because it introduces \"tab\" characters back into the code.\nCould you please redo that step using space chars instead? I am still trying to rebase this but it seems extremely hard due to these tabs.\nAlso personally I do like \ntry {\n}\ncatch (e) {\n}\nbetter than\ntry\n{\n}\ncatch (e)\n{\n}\nThanks\nAndy\n\nOn Dec 28, 2012, at 1:25 AM, Sean Goresht notifications@github.com wrote:\n\nAdded variables.scss to control main variables in styles ~ Change px to em where possible\nAdded grids.scss to allow for flexible fluid grid system based off of 1140 grid system ~ Update html markup on installation to use proper header and footer\nAdded helper classes to aid with layout\nAdded media-queries.scss to allow for a multitude of media queries\nUpdated layout to be responsive on all devices and screen sizes\nReformatted code for consistency in coding standards\nYou can merge this Pull Request by running:\ngit pull https://github.com/srsgores/calipso devel\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/179\nCommit Summary\nReformatting some files.\nMade installation styles responsive.\nFile Changes\nA .idea/.name (1)\nA .idea/calipso.iml (10)\nA .idea/codeStyleSettings.xml (13)\nA .idea/encodings.xml (5)\nA .idea/jsLibraryMappings.xml (7)\nA .idea/libraries/sass_stdlib.xml (8)\nA .idea/misc.xml (8)\nA .idea/modules.xml (9)\nA .idea/scopes/scope_settings.xml (5)\nA .idea/vcs.xml (7)\nA .idea/workspace.xml (728)\nM app.js (759)\nM lib/conf/default.json (154)\nM logo.js (23)\nM modules/core/admin/admin.js (2338)\nM modules/core/admin/package.json (20)\nM modules/core/admin/templates/cache.html (14)\nM modules/core/admin/templates/install_modules.html (115)\nM modules/core/admin/templates/install_mongo.html (163)\nM modules/core/admin/templates/install_user.html (175)\nM modules/core/admin/templates/install_welcome.html (36)\nM modules/core/admin/templates/languages.html (96)\nM modules/core/admin/templates/reload.html (19)\nM modules/core/assets/assets.js (5056)\nM modules/core/assets/package.json (20)\nM modules/core/assets/templates/list.html (7)\nM modules/core/assets/templates/listAdmin.html (28)\nM modules/core/assets/templates/rss.html (10)\nM modules/core/assets/templates/show.html (20)\nM modules/core/content/content.js (1817)\nM modules/core/content/defaults/about-me.json (4)\nM modules/core/content/defaults/article.json (8)\nM modules/core/content/defaults/welcome.json (4)\nM modules/core/content/package.json (20)\nM modules/core/content/templates/list.html (7)\nM modules/core/content/templates/listAdmin.html (34)\nM modules/core/content/templates/rss.html (10)\nM modules/core/content/templates/show.html (20)\nM modules/core/contentTypes/contentTypes.js (845)\nM modules/core/contentTypes/package.json (20)\nM modules/core/contentTypes/templates/list.html (49)\nM modules/core/contentTypes/templates/show.html (53)\nM modules/core/contentVersions/contentVersions.js (477)\nM modules/core/contentVersions/package.json (20)\nM modules/core/contentVersions/support/jsdiff.js (359)\nM modules/core/contentVersions/templates/diff.html (23)\nM modules/core/contentVersions/templates/list.html (122)\nM modules/core/contentVersions/templates/show.html (32)\nM modules/core/mail/mail.js (1104)\nM modules/core/mail/package.json (20)\nM modules/core/mail/templates/mail.html (25)\nM modules/core/permissions/package.json (20)\nM modules/core/permissions/permissions.js (362)\nM modules/core/permissions/templates/permissions.html (11)\nM modules/core/scheduler/package.json (20)\nM modules/core/scheduler/scheduler.cron.js (430)\nM modules/core/scheduler/scheduler.js (918)\nM modules/core/scheduler/templates/admin.html (76)\nM modules/core/scheduler/templates/show.html (56)\nM modules/core/static/package.json (20)\nM modules/core/static/static.js (53)\nM modules/core/tagcloud/package.json (20)\nM modules/core/tagcloud/tagcloud.js (200)\nM modules/core/tagcloud/templates/tagcloud.html (38)\nM modules/core/taxonomy/package.json (20)\nM modules/core/taxonomy/taxonomy.js (247)\nM modules/core/user/package.json (20)\nM modules/core/user/public/css/login-icons.css (30)\nM modules/core/user/public/sass/login-icons.scss (25)\nM modules/core/user/templates/list.html (58)\nM modules/core/user/templates/login.html (24)\nM modules/core/user/templates/loginPage.html (24)\nM modules/core/user/templates/profile.html (23)\nM modules/core/user/templates/role.list.html (49)\nM modules/core/user/templates/role.show.html (36)\nM modules/core/user/user.js (2297)\nM modules/core/user/user.roles.js (675)\nM scripts/help.js (77)\nM test/helpers/defaultConfig.json (164)\nD themes/core/cleanslate/public/css/admin-menu.css (217)\nM themes/core/cleanslate/public/css/admin.css (1134)\nM themes/core/cleanslate/public/css/install.css (615)\nA themes/core/cleanslate/public/css/partials/grids.css (0)\nD themes/core/cleanslate/public/css/primary-menu.css (213)\nM themes/core/cleanslate/public/css/style.css (1007)\nM themes/core/cleanslate/public/sass/admin-menu.scss (199)\nA themes/core/cleanslate/public/sass/grids.scss (144)\nM themes/core/cleanslate/public/sass/install.scss (790)\nA themes/core/cleanslate/public/sass/media-queries.scss (176)\nA themes/core/cleanslate/public/sass/variables.scss (23)\nM themes/core/cleanslate/templates/install.html (83)\nM themes/core/cleanslate/theme.json (174)\nPatch Links\nhttps://github.com/cliftonc/calipso/pull/179.patch\nhttps://github.com/cliftonc/calipso/pull/179.diff\n\u2014\nReply to this email directly or view it on GitHub.\n. I am having a hard time reconciling these changes.\nMost of the calipso code uses 2 spaces instead of tabs.\nAll of the calipso code has the starting curly brace at the end of the line so\nfunction () {\n}\nrather than \nfunction ()\n{\n}\nI am not sure how to extract the real changed out of this commit.\nDo you have time to redo the formatting with different code style settings?\nThanks\nAndy\n\nOn Dec 28, 2012, at 9:03 AM, Andreas Richter richtera@gmail.com wrote:\n\nI liked a lot of this stuff but the \"Reformatted code for consistency\" causes a lot of merge conflicts because it introduces \"tab\" characters back into the code.\nCould you please redo that step using space chars instead? I am still trying to rebase this but it seems extremely hard due to these tabs.\nAlso personally I do like \ntry {\n}\ncatch (e) {\n}\nbetter than\ntry\n{\n}\ncatch (e)\n{\n}\nThanks\nAndy\nOn Dec 28, 2012, at 1:25 AM, Sean Goresht notifications@github.com wrote:\n\nAdded variables.scss to control main variables in styles ~ Change px to em where possible\nAdded grids.scss to allow for flexible fluid grid system based off of 1140 grid system ~ Update html markup on installation to use proper header and footer\nAdded helper classes to aid with layout\nAdded media-queries.scss to allow for a multitude of media queries\nUpdated layout to be responsive on all devices and screen sizes\nReformatted code for consistency in coding standards\nYou can merge this Pull Request by running:\ngit pull https://github.com/srsgores/calipso devel\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/179\nCommit Summary\nReformatting some files.\nMade installation styles responsive.\nFile Changes\nA .idea/.name (1)\nA .idea/calipso.iml (10)\nA .idea/codeStyleSettings.xml (13)\nA .idea/encodings.xml (5)\nA .idea/jsLibraryMappings.xml (7)\nA .idea/libraries/sass_stdlib.xml (8)\nA .idea/misc.xml (8)\nA .idea/modules.xml (9)\nA .idea/scopes/scope_settings.xml (5)\nA .idea/vcs.xml (7)\nA .idea/workspace.xml (728)\nM app.js (759)\nM lib/conf/default.json (154)\nM logo.js (23)\nM modules/core/admin/admin.js (2338)\nM modules/core/admin/package.json (20)\nM modules/core/admin/templates/cache.html (14)\nM modules/core/admin/templates/install_modules.html (115)\nM modules/core/admin/templates/install_mongo.html (163)\nM modules/core/admin/templates/install_user.html (175)\nM modules/core/admin/templates/install_welcome.html (36)\nM modules/core/admin/templates/languages.html (96)\nM modules/core/admin/templates/reload.html (19)\nM modules/core/assets/assets.js (5056)\nM modules/core/assets/package.json (20)\nM modules/core/assets/templates/list.html (7)\nM modules/core/assets/templates/listAdmin.html (28)\nM modules/core/assets/templates/rss.html (10)\nM modules/core/assets/templates/show.html (20)\nM modules/core/content/content.js (1817)\nM modules/core/content/defaults/about-me.json (4)\nM modules/core/content/defaults/article.json (8)\nM modules/core/content/defaults/welcome.json (4)\nM modules/core/content/package.json (20)\nM modules/core/content/templates/list.html (7)\nM modules/core/content/templates/listAdmin.html (34)\nM modules/core/content/templates/rss.html (10)\nM modules/core/content/templates/show.html (20)\nM modules/core/contentTypes/contentTypes.js (845)\nM modules/core/contentTypes/package.json (20)\nM modules/core/contentTypes/templates/list.html (49)\nM modules/core/contentTypes/templates/show.html (53)\nM modules/core/contentVersions/contentVersions.js (477)\nM modules/core/contentVersions/package.json (20)\nM modules/core/contentVersions/support/jsdiff.js (359)\nM modules/core/contentVersions/templates/diff.html (23)\nM modules/core/contentVersions/templates/list.html (122)\nM modules/core/contentVersions/templates/show.html (32)\nM modules/core/mail/mail.js (1104)\nM modules/core/mail/package.json (20)\nM modules/core/mail/templates/mail.html (25)\nM modules/core/permissions/package.json (20)\nM modules/core/permissions/permissions.js (362)\nM modules/core/permissions/templates/permissions.html (11)\nM modules/core/scheduler/package.json (20)\nM modules/core/scheduler/scheduler.cron.js (430)\nM modules/core/scheduler/scheduler.js (918)\nM modules/core/scheduler/templates/admin.html (76)\nM modules/core/scheduler/templates/show.html (56)\nM modules/core/static/package.json (20)\nM modules/core/static/static.js (53)\nM modules/core/tagcloud/package.json (20)\nM modules/core/tagcloud/tagcloud.js (200)\nM modules/core/tagcloud/templates/tagcloud.html (38)\nM modules/core/taxonomy/package.json (20)\nM modules/core/taxonomy/taxonomy.js (247)\nM modules/core/user/package.json (20)\nM modules/core/user/public/css/login-icons.css (30)\nM modules/core/user/public/sass/login-icons.scss (25)\nM modules/core/user/templates/list.html (58)\nM modules/core/user/templates/login.html (24)\nM modules/core/user/templates/loginPage.html (24)\nM modules/core/user/templates/profile.html (23)\nM modules/core/user/templates/role.list.html (49)\nM modules/core/user/templates/role.show.html (36)\nM modules/core/user/user.js (2297)\nM modules/core/user/user.roles.js (675)\nM scripts/help.js (77)\nM test/helpers/defaultConfig.json (164)\nD themes/core/cleanslate/public/css/admin-menu.css (217)\nM themes/core/cleanslate/public/css/admin.css (1134)\nM themes/core/cleanslate/public/css/install.css (615)\nA themes/core/cleanslate/public/css/partials/grids.css (0)\nD themes/core/cleanslate/public/css/primary-menu.css (213)\nM themes/core/cleanslate/public/css/style.css (1007)\nM themes/core/cleanslate/public/sass/admin-menu.scss (199)\nA themes/core/cleanslate/public/sass/grids.scss (144)\nM themes/core/cleanslate/public/sass/install.scss (790)\nA themes/core/cleanslate/public/sass/media-queries.scss (176)\nA themes/core/cleanslate/public/sass/variables.scss (23)\nM themes/core/cleanslate/templates/install.html (83)\nM themes/core/cleanslate/theme.json (174)\nPatch Links\nhttps://github.com/cliftonc/calipso/pull/179.patch\nhttps://github.com/cliftonc/calipso/pull/179.diff\n\u2014\nReply to this email directly or view it on GitHub.\n. I believe I was actually able to extract the changes and put them into new commits.\nThere are two new commits in master, would you be able to check them?\nThere was a problem with the grids.sass file as well, but I think I fixed that as well.\nThanks for the nice work.\nAndy\n\n\nOn Dec 28, 2012, at 9:46 AM, Andreas Richter richtera@gmail.com wrote:\n\nI am having a hard time reconciling these changes.\nMost of the calipso code uses 2 spaces instead of tabs.\nAll of the calipso code has the starting curly brace at the end of the line so\nfunction () {\n}\nrather than \nfunction ()\n{\n}\nI am not sure how to extract the real changed out of this commit.\nDo you have time to redo the formatting with different code style settings?\nThanks\nAndy\nOn Dec 28, 2012, at 9:03 AM, Andreas Richter richtera@gmail.com wrote:\n\nI liked a lot of this stuff but the \"Reformatted code for consistency\" causes a lot of merge conflicts because it introduces \"tab\" characters back into the code.\nCould you please redo that step using space chars instead? I am still trying to rebase this but it seems extremely hard due to these tabs.\nAlso personally I do like \ntry {\n}\ncatch (e) {\n}\nbetter than\ntry\n{\n}\ncatch (e)\n{\n}\nThanks\nAndy\nOn Dec 28, 2012, at 1:25 AM, Sean Goresht notifications@github.com wrote:\n\nAdded variables.scss to control main variables in styles ~ Change px to em where possible\nAdded grids.scss to allow for flexible fluid grid system based off of 1140 grid system ~ Update html markup on installation to use proper header and footer\nAdded helper classes to aid with layout\nAdded media-queries.scss to allow for a multitude of media queries\nUpdated layout to be responsive on all devices and screen sizes\nReformatted code for consistency in coding standards\nYou can merge this Pull Request by running:\ngit pull https://github.com/srsgores/calipso devel\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/179\nCommit Summary\nReformatting some files.\nMade installation styles responsive.\nFile Changes\nA .idea/.name (1)\nA .idea/calipso.iml (10)\nA .idea/codeStyleSettings.xml (13)\nA .idea/encodings.xml (5)\nA .idea/jsLibraryMappings.xml (7)\nA .idea/libraries/sass_stdlib.xml (8)\nA .idea/misc.xml (8)\nA .idea/modules.xml (9)\nA .idea/scopes/scope_settings.xml (5)\nA .idea/vcs.xml (7)\nA .idea/workspace.xml (728)\nM app.js (759)\nM lib/conf/default.json (154)\nM logo.js (23)\nM modules/core/admin/admin.js (2338)\nM modules/core/admin/package.json (20)\nM modules/core/admin/templates/cache.html (14)\nM modules/core/admin/templates/install_modules.html (115)\nM modules/core/admin/templates/install_mongo.html (163)\nM modules/core/admin/templates/install_user.html (175)\nM modules/core/admin/templates/install_welcome.html (36)\nM modules/core/admin/templates/languages.html (96)\nM modules/core/admin/templates/reload.html (19)\nM modules/core/assets/assets.js (5056)\nM modules/core/assets/package.json (20)\nM modules/core/assets/templates/list.html (7)\nM modules/core/assets/templates/listAdmin.html (28)\nM modules/core/assets/templates/rss.html (10)\nM modules/core/assets/templates/show.html (20)\nM modules/core/content/content.js (1817)\nM modules/core/content/defaults/about-me.json (4)\nM modules/core/content/defaults/article.json (8)\nM modules/core/content/defaults/welcome.json (4)\nM modules/core/content/package.json (20)\nM modules/core/content/templates/list.html (7)\nM modules/core/content/templates/listAdmin.html (34)\nM modules/core/content/templates/rss.html (10)\nM modules/core/content/templates/show.html (20)\nM modules/core/contentTypes/contentTypes.js (845)\nM modules/core/contentTypes/package.json (20)\nM modules/core/contentTypes/templates/list.html (49)\nM modules/core/contentTypes/templates/show.html (53)\nM modules/core/contentVersions/contentVersions.js (477)\nM modules/core/contentVersions/package.json (20)\nM modules/core/contentVersions/support/jsdiff.js (359)\nM modules/core/contentVersions/templates/diff.html (23)\nM modules/core/contentVersions/templates/list.html (122)\nM modules/core/contentVersions/templates/show.html (32)\nM modules/core/mail/mail.js (1104)\nM modules/core/mail/package.json (20)\nM modules/core/mail/templates/mail.html (25)\nM modules/core/permissions/package.json (20)\nM modules/core/permissions/permissions.js (362)\nM modules/core/permissions/templates/permissions.html (11)\nM modules/core/scheduler/package.json (20)\nM modules/core/scheduler/scheduler.cron.js (430)\nM modules/core/scheduler/scheduler.js (918)\nM modules/core/scheduler/templates/admin.html (76)\nM modules/core/scheduler/templates/show.html (56)\nM modules/core/static/package.json (20)\nM modules/core/static/static.js (53)\nM modules/core/tagcloud/package.json (20)\nM modules/core/tagcloud/tagcloud.js (200)\nM modules/core/tagcloud/templates/tagcloud.html (38)\nM modules/core/taxonomy/package.json (20)\nM modules/core/taxonomy/taxonomy.js (247)\nM modules/core/user/package.json (20)\nM modules/core/user/public/css/login-icons.css (30)\nM modules/core/user/public/sass/login-icons.scss (25)\nM modules/core/user/templates/list.html (58)\nM modules/core/user/templates/login.html (24)\nM modules/core/user/templates/loginPage.html (24)\nM modules/core/user/templates/profile.html (23)\nM modules/core/user/templates/role.list.html (49)\nM modules/core/user/templates/role.show.html (36)\nM modules/core/user/user.js (2297)\nM modules/core/user/user.roles.js (675)\nM scripts/help.js (77)\nM test/helpers/defaultConfig.json (164)\nD themes/core/cleanslate/public/css/admin-menu.css (217)\nM themes/core/cleanslate/public/css/admin.css (1134)\nM themes/core/cleanslate/public/css/install.css (615)\nA themes/core/cleanslate/public/css/partials/grids.css (0)\nD themes/core/cleanslate/public/css/primary-menu.css (213)\nM themes/core/cleanslate/public/css/style.css (1007)\nM themes/core/cleanslate/public/sass/admin-menu.scss (199)\nA themes/core/cleanslate/public/sass/grids.scss (144)\nM themes/core/cleanslate/public/sass/install.scss (790)\nA themes/core/cleanslate/public/sass/media-queries.scss (176)\nA themes/core/cleanslate/public/sass/variables.scss (23)\nM themes/core/cleanslate/templates/install.html (83)\nM themes/core/cleanslate/theme.json (174)\nPatch Links\nhttps://github.com/cliftonc/calipso/pull/179.patch\nhttps://github.com/cliftonc/calipso/pull/179.diff\n\u2014\nReply to this email directly or view it on GitHub.\n. But please rebase on master first. There are changes you're missing.\n\n\n\nThe reason I don't like tabs is because there are carious definitions for\ntab sizes and things don't align corectly. I wish there was a standard text\nsetting comment which would tell all editors o use x numer of spaces for\ntabs. But I guess if everything was tabs everywhere that wouldn't be\nhorrible.\nThe core libraries and test scripts were not touched by your reformat which\ndefintely made things askew between modules and the rest.\nAlso: if we do want to reformat all the code we should not mix a commit\nwith reformat and one with new functionality like the responsive stuff.\nIt would be awesome if the responsive stuff was for the whole site ... Hint\n:).\nThanks\nAndy\nSent from my iPhone\nOn Dec 28, 2012, at 9:45 PM, Sean Goresht notifications@github.com wrote:\nHey Andy,\nThe reason I used tabs is because some of calipso did use tabs; and it's\napparently better to use tabs over\nspaceshttp://stackoverflow.com/questions/9231688/is-the-tab-character-bad-in-source-code.\nIn PHPStorm, reformatting code is easy, and can be done with one command on\nany file or a batch of files (CTRL + ALT + L). So I can easily revert to\nspaces if need be. I personally think you guys should consider using tabs\nbecause it makes the document a lot more readable, especially once you set\nyour editor to show special characters; tab levels are way more apparent,\nand you can see which code is on what level.\nI'm going to take a look at the merge you did, but for now, I'll be making\nmore changes off my version, which uses tabs. I've tested calipso, and the\nreformatting has not broken anything.\nThanks for merging.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/179#issuecomment-11746577.\n. On debian there is another command called 'node'. Usually I put node into\n/use/local/bin as a symlink and then put /usr/local/bin in the PATH before\n/usr/bin. I forget the name if the nodejs binary but I think it's\n/usr/bin/nodejs\nThanks\nAndy\nSent from my iPhone\nOn Dec 29, 2012, at 6:26 AM, PovilasSid notifications@github.com wrote:\nHi, I wanted to tryout calipso and ran :\nnpm install calipso -g\ncommand but I was greeted by some errors:\n```> bson@0.0.4 install\n/usr/local/lib/node_modules/calipso/node_modules/mongodb/node_modules/bson\nnode install.js\nsh: 1: node: not found\nnpm ERR! error installing bson@0.0.4\nnpm WARN This failure might be due to the use of legacy binary \"node\"\nnpm WARN For further explanations, please read\nnpm WARN /usr/share/doc/nodejs/README.Debian\nnpm WARN\nnpm ERR! error installing mongodb@0.9.9-8\nnpm ERR! error installing calipso@0.3.17\nnpm http 304 https://registry.npmjs.org/prompt\nnpm http 304 https://registry.npmjs.org/portfinder\nnpm http 304 https://registry.npmjs.org/weak/0.1.5\nnpm http 304 https://registry.npmjs.org/socket.io/0.9.6\nnpm http 304 https://registry.npmjs.org/npm\nnpm ERR! Error: ENOENT, lstat\n'/usr/local/lib/node_modules/calipso/node_modules/everyauth/node_modules/connect.npm/package/lib/middleware/cookieParser.js'\nnpm ERR! You may report this log at:\nnpm ERR! http://bugs.debian.org/npm\nnpm ERR! or use\nnpm ERR! reportbug --attach /home/povilas/npm-debug.log npm\nnpm ERR!\nnpm ERR! System Linux 3.5.0-21-generic\nnpm ERR! command \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd /home/povilas\nnpm ERR! node -v v0.6.19\nnpm ERR! npm -v 1.1.4\nnpm ERR! path\n/usr/local/lib/nodemodules/calipso/node_modules/everyauth/node_modules/_connect.npm/package/lib/middleware/cookieParser.js\nnpm ERR! fstream_path\n/usr/local/lib/node_modules/calipso/node_modules/everyauth/node_modules/connect.npm/package/lib/middleware/cookieParser.js\nnpm ERR! fstreamtype File\nnpm ERR! fstream_class FileWriter\nnpm ERR! code ENOENT\nnpm ERR! message ENOENT, lstat\n'/usr/local/lib/node_modules/calipso/node_modules/everyauth/node_modules/_connect.npm/package/lib/middleware/cookieParser.js'\nnpm ERR! errno {}\nnpm ERR! fstream_stack Object.oncomplete\n(/usr/lib/nodejs/fstream/lib/writer.js:204:26)\nnpm http 304 https://registry.npmjs.org/socket.io-client/0.9.6\nnpm http 304 https://registry.npmjs.org/lazy\nnpm ERR! error installing oauth@0.9.8\nnpm ERR! error rolling back calipso@0.3.17 Error: ENOTEMPTY, rmdir\n'/usr/local/lib/node_modules/calipso/node_modules/everyauth/node_modules/___oauth.npm/package'\nnpm ERR! bson@0.0.4 install: node install.js\nnpm ERR! sh \"-c\" \"node install.js\" failed with 127\nnpm ERR!\nnpm ERR! Failed at the bson@0.0.4 install script.\nnpm ERR! This is most likely a problem with the bson package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR! node install.js\nnpm ERR! You can get their info via:\nnpm ERR! npm owner ls bson\nnpm ERR! There is likely additional logging output above.\nnpm ERR!\nnpm ERR! System Linux 3.5.0-21-generic\nnpm ERR! command \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd /home/povilas\nnpm ERR! node -v v0.6.19\nnpm ERR! npm -v 1.1.4\nnpm ERR! code ELIFECYCLE\nnpm ERR! message bson@0.0.4 install: node install.js\nnpm ERR! message sh \"-c\" \"node install.js\" failed with 127\nnpm ERR! errno {}\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR! /home/povilas/npm-debug.log\nnpm not ok\nThis maybe very simple yet I am new so please help.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/180.\n. I can try to merge this again, but could you please base your stuff on master and not devel. This is again based on devel. I had merged your code into master the last time but it took a few hours due to all the conflicts. Would it be possible for you to cherry-pick these into the master branch and fix the merge conflicts?\nAlso:\n1. I don't think it's a good idea to checking the .idea project files. Both PHPStorm and WebStorm change these files when you do anything and we'd have to check them in. I was planning to add .idea to .gitignore\n2. The module should probably be in either community or core rather than downloaded if it's part of the main repo.\nOtherwise I am really happy you're doing this stuff. Let me know it it's possible for you to rebase the code.\n. Here is a picture of how the branches are:\nThe devel and devel3 branches are temporary merges of your stuff to see how easy it would be to merge.\nIt would basically be the same amount of work as the last time since the merges of your stuff in master would have to be redone.\nThe last two commits in master \"Redo code formatting\" and \"Change theme to be responsive\" are merges of your code.\nThanks\nAndy\nOn Jan 3, 2013, at 1:31 AM, Sean Goresht notifications@github.com wrote:\n\nMade admin back-end responsive for all screen sizes\nCreated jQuery script to expand/contract css3 menu. The menu updates on refresh, using Modernizr\nAdded Modernizr custom build. Added detection for no localstorage support like in ie7.\nAdded CSS3 icons and fallback script for ie7 and below\nFixed part of the download script in lib\nDrastically improved HTML5 markup, using section, article, fieldset, and legend. These changes are reflected in the form.js helper\nAdded Aloha WYSYWIG, but this fails still. Codemirror is next. \nYou can merge this Pull Request by running:\ngit pull https://github.com/srsgores/calipso devel\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/181\nCommit Summary\nMade forms markup compatible with grid system.\nMade admin UI responsive\nFixed Menus\nFixed menu again\nAdd Aloha editor\nTrying to update aloha\nUpdate aloha again\nFile Changes\nM .idea/calipso.iml (1)\nA .idea/cssxfire.xml (9)\nM .idea/workspace.xml (875)\nM docs/coverage.html (2)\nM lib/calipso.js (498)\nM lib/cli/Download.js (946)\nM lib/client/Client.js (2)\nM lib/core/Form.js (2130)\nM lib/core/Menu.js (628)\nM modules/core/admin/templates/install_user.html (2)\nM modules/core/assets/templates/list.html (4)\nM modules/core/assets/templates/show.html (3)\nM modules/core/content/content.js (4)\nA modules/downloaded/calipso-aloha-master/.gitignore (1)\nA modules/downloaded/calipso-aloha-master/aloha.js (90)\nA modules/downloaded/calipso-aloha-master/package.json (12)\nA modules/downloaded/calipso-aloha-master/static/css/aloha-common-extra.css (23)\nA modules/downloaded/calipso-aloha-master/static/css/aloha-core.css (19)\nA modules/downloaded/calipso-aloha-master/static/css/aloha-reset.css (24)\nA modules/downloaded/calipso-aloha-master/static/css/aloha-sidebar.css (272)\nA modules/downloaded/calipso-aloha-master/static/css/aloha.css (1)\nA modules/downloaded/calipso-aloha-master/static/img/arrow-down.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/arrow-left.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/arrow.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/base-multi.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/base.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/bg.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/breadcrumb-divider.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/gentics-logo.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/grabhandle.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/maximize.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/multisplit-base.jpg (0)\nA modules/downloaded/calipso-aloha-master/static/img/multisplit-close.gif (0)\nA modules/downloaded/calipso-aloha-master/static/img/multisplit-open.gif (0)\nA modules/downloaded/calipso-aloha-master/static/img/pin.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/removeformat.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/text_indent.png (0)\nA modules/downloaded/calipso-aloha-master/static/img/text_indent_remove.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha-jquery-noconflict.js (12)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha.js (474)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/block-jump.js (153)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/command.js (283)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/console.js (347)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/contenthandlermanager.js (83)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/core.js (485)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/ecma5shims.js (326)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/editable.js (943)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/engine.js (8485)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/ephemera.js (485)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/ierange-m2.js (29)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/jquery.aloha.js (544)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/markup.js (1272)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/ca/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/de/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/i18n.js (20)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/mk/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/pt-br/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/ru/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/uk/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/nls/zh-hans/i18n.js (11)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/observable.js (113)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/plugin.js (282)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/pluginmanager.js (149)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/rangy-core.js (30)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/registry.js (137)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/repository.js (255)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/repositorymanager.js (658)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/repositoryobjects.js (162)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/selection.js (2402)\nA modules/downloaded/calipso-aloha-master/static/lib/aloha/sidebar.js (1045)\nA modules/downloaded/calipso-aloha-master/static/lib/css.js (455)\nA modules/downloaded/calipso-aloha-master/static/lib/i18n.js (192)\nA modules/downloaded/calipso-aloha-master/static/lib/require.js (2053)\nA modules/downloaded/calipso-aloha-master/static/lib/text.js (288)\nA modules/downloaded/calipso-aloha-master/static/lib/util/arrays.js (208)\nA modules/downloaded/calipso-aloha-master/static/lib/util/browser.js (32)\nA modules/downloaded/calipso-aloha-master/static/lib/util/class.js (78)\nA modules/downloaded/calipso-aloha-master/static/lib/util/dom.js (1702)\nA modules/downloaded/calipso-aloha-master/static/lib/util/dom2.js (253)\nA modules/downloaded/calipso-aloha-master/static/lib/util/functions.js (41)\nA modules/downloaded/calipso-aloha-master/static/lib/util/json2.js (464)\nA modules/downloaded/calipso-aloha-master/static/lib/util/lang.js (89)\nA modules/downloaded/calipso-aloha-master/static/lib/util/maps.js (108)\nA modules/downloaded/calipso-aloha-master/static/lib/util/misc.js (51)\nA modules/downloaded/calipso-aloha-master/static/lib/util/position.js (176)\nA modules/downloaded/calipso-aloha-master/static/lib/util/range.js (917)\nA modules/downloaded/calipso-aloha-master/static/lib/util/strings.js (85)\nA modules/downloaded/calipso-aloha-master/static/lib/util/trees.js (325)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/3rdparty.txt (70)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/amplify.store.js (298)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/class.js (76)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/grid.locale.de.js (138)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/grid.locale.en.js (133)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/ierange-m2.js (508)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery-1.5.1.js (8316)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery-1.6.1.js (8948)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery-1.6.js (8865)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery-1.7.1.js (9266)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery-1.7.2.js (9421)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery-ui-1.9.0.custom-aloha.js (14711)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery.jqgrid.js (474)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery.jstree.js (4549)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/jquery.layout-1.3.0-rc30.7.js (5924)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/pubsub/js/pubsub-unminified.js (187)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/pubsub/js/pubsub.js (2)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/rangy-core.js (3295)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/css/jstree.css (88)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/css/repository-browser.css (756)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/arrow-000-medium.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/arrow-180.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/arrow-315-medium.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/arrow-stop-180.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/arrow-stop.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/arrow.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/control-stop-square-small.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/folder-horizontal-open.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/folder-open.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/magnifier-left.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/page.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/picture.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/sort-alphabet-descending.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/sort-alphabet.png (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/img/throbber.gif (0)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/js/repository-browser-unminified.js (1381)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/repository-browser/js/repository-browser.js (32)\nA modules/downloaded/calipso-aloha-master/static/lib/vendor/sanitize.js (278)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/css/abbr.css (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/img/remabbr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/lib/abbr-plugin.js (308)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/ca/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/de/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/i18n.js (15)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/mk/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/pt-br/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/ru/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/uk/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/nls/zh-hans/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/abbr/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/LICENSE (166)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/README (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/css/align.css (31)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/img/align.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/lib/align-plugin.js (465)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/ca/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/de/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/i18n.js (18)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/mk/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/pt-br/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/ru/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/uk/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/nls/zh-hans/i18n.js (6)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/align/package.json (2)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/README (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/css/block.css (110)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/img/toolbar-draghandle.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/block-plugin.js (348)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/block.js (1275)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/blockcontenthandler.js (118)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/blockmanager.js (594)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/editor.js (331)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/editormanager.js (55)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/lib/sidebarattributeeditor.js (126)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/ca/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/de/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/i18n.js (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/mk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/pt-br/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/ru/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/uk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/nls/zh-hans/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/block/package.json (11)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/css/characterpicker.css (43)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/img/icon.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/lib/characterpicker-plugin.js (349)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/ca/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/de/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/i18n.js (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/mk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/pt-br/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/ru/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/uk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/characterpicker/nls/zh-hans/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/commands/css/abbr.css (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/commands/lib/commands-plugin.js (33)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/commands/lib/inserthtml.js (126)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/commands/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/README.md (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/lib/blockelementcontenthandler.js (149)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/lib/contenthandler-plugin.js (60)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/lib/genericcontenthandler.js (283)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/lib/oembedcontenthandler.js (461)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/lib/sanitizecontenthandler.js (186)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/lib/wordcontenthandler.js (420)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/contenthandler/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/dom-to-xhtml/lib/dom-to-xhtml-plugin.js (74)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/dom-to-xhtml/lib/dom-to-xhtml.js (415)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/img/em.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/img/strong.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/lib/format-plugin.js (591)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/ca/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/de/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/i18n.js (61)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/mk/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/pt-br/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/ru/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/uk/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/format/nls/zh-hans/i18n.js (52)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/highlighteditables/css/highlighteditables.css (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/highlighteditables/lib/highlighteditables-plugin.js (100)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/highlighteditables/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/css/horizontalruler.css (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/img/icon.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/lib/horizontalruler-plugin.js (95)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/ca/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/de/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/i18n.js (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/mk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/pt-br/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/ru/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/uk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/horizontalruler/nls/zh-hans/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/README.md (66)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/css/image.css (133)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/demo/crop.html (76)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/demo/crop.php (21)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/demo/cropnresize.jpg (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/demo/index.html (117)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/blank.jpg (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/crop-buttons.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/cropnresize.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/handle-sw.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/image-align-left.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/image-align-none.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/image-align-right.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/image-border.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/image-title.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/image.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/padding-decrease.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/padding-increase.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/page.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/size-decrease.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/img/size-increase.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/lib/image-floatingMenu.js (308)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/lib/image-plugin-actions.js (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/lib/image-plugin.js (1309)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/ca/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/de/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/i18n.js (41)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/mk/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/pt-br/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/ru/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/uk/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/nls/zh-hans/i18n.js (32)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/test/test.css (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/test/test.html (40)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/jcrop/jcrop.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/jcrop/jquery.jcrop.css (46)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/jcrop/jquery.jcrop.min.js (165)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/mousewheel/mousewheel.js (85)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_diagonals-thick_18_b81900_40x40.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_diagonals-thick_20_666666_40x40.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_flat_10_000000_40x100.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_glass_100_f6f6f6_1x400.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_glass_100_fdf5ce_1x400.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_glass_65_ffffff_1x400.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_gloss-wave_35_f6a828_500x100.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_highlight-soft_100_eeeeee_1x100.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-bg_highlight-soft_75_ffe45c_1x100.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-icons_222222_256x240.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-icons_228ef1_256x240.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-icons_ef8c08_256x240.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-icons_ffd27a_256x240.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/image/vendor/ui/ui-lightness/images/ui-icons_ffffff_256x240.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/css/link.css (58)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/extra/delicious.js (264)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/extra/linklist.js (247)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/extra/slowlinklist.js (247)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/lib/link-plugin.js (798)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/ca/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/de/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/i18n.js (23)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/mk/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/pt-br/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/ru/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/uk/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/link/nls/zh-hans/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/lib/list-plugin.js (878)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/ca/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/de/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/i18n.js (16)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/mk/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/pt-br/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/ru/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/uk/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/nls/zh-hans/i18n.js (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/list/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/paste/README.md (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/paste/lib/paste-plugin.js (250)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/paste/package.json (8)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/css/table.css (122)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/img/down.cur (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/img/left.cur (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/img/table_layout.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/img/wai-green.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/img/wai-red.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/lib/table-cell.js (467)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/lib/table-create-layer.js (213)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/lib/table-plugin-utils.js (356)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/lib/table-plugin.js (1518)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/lib/table-selection.js (438)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/lib/table.js (1517)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/ca/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/de/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/i18n.js (37)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/mk/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/pt-br/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/ru/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/uk/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/nls/zh-hans/i18n.js (28)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/table/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/css/jquery-ui-1.9m6.css (430)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/css/ui.css (689)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/blockquote.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/character-picker.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/em.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/format-block.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/format-inline.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/indent.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/jqueryui/ui-icons_222222_256x240.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/justify.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/language-annotation.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/anchor.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/blockquote.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/caption.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/cite.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/dd.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/div.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/dl.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/dt.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/h1.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/h2.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/h3.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/h4.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/h5.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/h6.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/p.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/pre.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/q.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/table.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/td.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/metaview/th.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/multisplit-close.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/multisplit-open.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/outdent.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/quote.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/removeformat.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/strong.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/img/tree.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/arena.js (11)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/autocomplete.js (70)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/button.js (114)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/component.js (121)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/container.js (210)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/context.js (53)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/dialog.js (161)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/floating.js (399)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/menuButton.js (169)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/multiSplit.js (237)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/port-helper-attribute-field.js (439)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/port-helper-multi-split.js (71)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/scopes.js (187)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/settings.js (201)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/subguarded.js (183)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/surface.js (106)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/tab.js (281)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/text.js (33)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/toggleButton.js (57)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/toolbar.js (250)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/ui-plugin.js (169)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/ui.js (181)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/lib/utils.js (104)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/ca/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/de/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/i18n.js (72)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/mk/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/pt-br/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/ru/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/uk/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/nls/zh-hans/i18n.js (44)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/ui/vendor/jquery-ui-autocomplete-html.js (42)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/undo/demo/index.css (49)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/undo/demo/index.html (85)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/undo/lib/undo-plugin.js (165)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/undo/package.json (7)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/undo/vendor/diff_match_patch_uncompressed.js (2155)\nA modules/downloaded/calipso-aloha-master/static/plugins/common/undo/vendor/undo.js (121)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/README (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/css/attributes.css (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/lib/attributes-plugin.js (237)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/ca/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/de/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/i18n.js (14)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/mk/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/pt-br/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/ru/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/uk/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/attributes/nls/zh-hans/i18n.js (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/captioned-image/css/captioned-image.css (15)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/captioned-image/lib/captioned-image-plugin.js (555)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/README (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/css/cite.css (49)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/img/blockquote.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/img/icon_cite.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/lib/cite-plugin.js (614)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/ca/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/de/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/i18n.js (13)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/mk/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/pt-br/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/ru/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/uk/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/nls/zh-hans/i18n.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/cite/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/img/add-icon.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/img/add.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/img/comments.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/img/hr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/img/textbox.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/lib/comments-plugin.js (692)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/lib/comments.css (442)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/comments/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/README.md (5)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/TODO.md (2)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/.gitignore (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/index.css (47)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/index.html (101)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/migration/index.css (189)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/migration/index.html (321)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/specs/DragnDropnImage.graphml (677)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/style.css (47)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/demo/upload.php.example (29)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/img/cross.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/img/hourglass.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/img/loading.gif (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/img/page.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/img/tick.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/lib/draganddropfiles-plugin.js (4)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/lib/dragndropfiles.css (110)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/lib/dragndropfiles.js (363)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/lib/dropfilesrepository.js (365)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/ca/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/de/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/i18n.js (12)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/mk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/pt-br/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/ru/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/uk/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/nls/zh-hans/i18n.js (3)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/draganddropfiles/package.json (1)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/LICENSE (2)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/aa.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ab.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ad.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ae.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/af.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ag.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ai.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ak.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/al.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/am.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/an.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ao.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ar.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/as.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/at.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/au.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/av.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/aw.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ax.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ay.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/az.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ba.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bb.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bd.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/be.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bf.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bg.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bh.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bi.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bj.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bo.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/br.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bs.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bt.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bw.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/by.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/bz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ca.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/catalonia.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cc.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cd.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ce.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cf.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cg.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ch.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ci.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ck.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cl.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/co.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cs.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cx.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cy.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/cz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/da.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/de.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/dj.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/dk.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/dm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/do.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/dv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/dz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ec.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ee.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/eg.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/eh.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/el.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/en.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/eo.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/er.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/es.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/et.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/eu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/europeanunion.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fa.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fam.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ff.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fi.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fj.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fk.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fo.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/fy.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ga.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gb.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gd.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ge.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gf.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gh.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gi.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gl.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gp.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gq.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gs.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gt.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gw.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/gy.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ha.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/he.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hi.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hk.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ho.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ht.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hy.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/hz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/id.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ie.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ig.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ii.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/il.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/in.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/io.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/iq.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ir.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/is.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/it.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ja.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/jm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/jo.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/jp.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/jv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ka.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ke.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kg.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kh.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ki.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kk.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kl.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/km.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ko.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kp.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ks.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ku.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kw.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ky.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/kz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/la.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lb.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lc.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lg.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/li.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lk.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ln.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lo.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ls.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lt.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/lv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ly.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ma.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mc.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/md.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/me.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mg.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mh.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mi.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mk.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ml.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mm.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mo.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mp.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mq.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ms.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mt.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mw.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mx.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/my.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/mz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/na.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nb.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nc.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nd.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ne.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nf.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ng.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ni.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nl.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nn.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/no.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/np.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nr.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nu.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nv.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/ny.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/nz.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/oc.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/extra/flag-icons/img/flags/om.png (0)\nA modules/downloaded/calipso-aloha-master/static/plugins/e\n. You need to checkout your latest devel. Then pull master from up stream.\nCheckout rhe latest master by pulling on it. Then go back to checkout\ndevel. And then do git rebase master. This will try to apply your changes\non my master branch. But you will see a lot of conflicts. Do you know how\nto pull upstream changes?\nAndy\n\nSent from my iPhone\nOn Jan 5, 2013, at 1:06 AM, Sean Goresht notifications@github.com wrote:\nI took a look at your commits, and it appears that you haven't updated the\nhtml templates. I'm currently trying to figure out rebase. I understand it,\nbut it's the first time I've had to do it (yes, I'm a young programmer).\nHere's a little summary on my errors. Maybe you can help:\nWindows PowerShell\nCopyright (C) 2012 Microsoft Corporation. All rights reserved.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nFirst, rewinding head to replay your work on top of it...\nApplying: Try readme\nApplying: Try readme\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Added MIT licence to readme\nApplying: Private Themes testing\nApplying: fix copying of theme config from extension.\nApplying: Bump version\nApplying: Remove dependency on zipfile and use adm-zip instead.\nUsing index info to reconstruct a base tree...\nM       lib/cli/Download.js\n:70: trailing whitespace.\nwarning: 1 line adds whitespace errors.\nFalling back to patching base and 3-way merge...\nAuto-merging lib/cli/Download.js\nCONFLICT (content): Merge conflict in lib/cli/Download.js\nFailed to merge in the changes.\nPatch failed at 0010 Remove dependency on zipfile and use adm-zip instead.\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0\n!1 | +0 ~0 -0 !1]> git rebase --continue\n.idea/workspace.xml: needs update\nlib/cli/Download.js: needs merge\nYou must edit all merge conflicts and then\nmark them as resolved using git add\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0\n!1 | +0 ~1 -0 !1]> git add *\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~4 -0]>\ngit commit -m \"Resolving conflicts\"\n[detached HEAD 1322183] Resolving conflicts\n 4 files changed, 83 insertions(+), 36 deletions(-)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(1322183...)|REBASE]> git checkout\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nIt seems that there is already a rebase-apply directory, and\nI wonder if you are in the middle of another rebase.  If that is the\ncase, please try\n        git rebase (--continue | --abort | --skip)\nIf that is not the case, please\n        rm -fr \"c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply\"\nand run me again.  I am stopping in case you still have something\nvaluable there.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git status\nOn branch master\nYou are currently rebasing.\n(all conflicts fixed: run \"git rebase --continue\")\n\nUntracked files:\n(use \"git add ...\" to include in what will be committed)\n\n.idea/\nnothing added to commit but untracked files present (use \"git add\" to track)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git ignore .idea/\ngit: 'ignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignor .idea/\ngit: 'gitignor' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignore .idea/\ngit: 'gitignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git rebase\n--continue\nApplying: Remove dependency on zipfile and use adm-zip instead.\nApplying: Update version number\nUsing index info to reconstruct a base tree...\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Remove dependency on node-expat and libexpat.\nUsing index info to reconstruct a base tree...\nM       modules/core/assets/assets.js\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Add project files\nUsing index info to reconstruct a base tree...\n:23: new blank line at EOF.\n+\n:34: new blank line at EOF.\n+\n:62: new blank line at EOF.\n+\n:77: new blank line at EOF.\n+\n:102: new blank line at EOF.\n+\nwarning: squelched 1 whitespace error\nwarning: 6 lines add whitespace errors.\nFalling back to patching base and 3-way merge...\nerror: The following untracked working tree files would be overwritten by merge:\n        .idea/workspace.xml\nPlease move or remove them before you can merge.\nAborting\nFailed to merge in the changes.\nPatch failed at 0013 Add project files\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]>\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/181#issuecomment-11910621.\n. I have an idea... I will try to use WebStorm to reformat both master and your branch.\nThe WebStorm default javascript settings look good except for the 4 char indent which I changed to 2.\nThey do use the hanging { and so on.\nThanks\nAndy\nOn Jan 5, 2013, at 1:06 AM, Sean Goresht notifications@github.com wrote:\n\nI took a look at your commits, and it appears that you haven't updated the html templates. I'm currently trying to figure out rebase. I understand it, but it's the first time I've had to do it (yes, I'm a young programmer).\nHere's a little summary on my errors. Maybe you can help:\nWindows PowerShell\nCopyright (C) 2012 Microsoft Corporation. All rights reserved.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nFirst, rewinding head to replay your work on top of it...\nApplying: Try readme\nApplying: Try readme\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Added MIT licence to readme\nApplying: Private Themes testing\nApplying: fix copying of theme config from extension.\nApplying: Bump version\nApplying: Remove dependency on zipfile and use adm-zip instead.\nUsing index info to reconstruct a base tree...\nM       lib/cli/Download.js\n:70: trailing whitespace.\nwarning: 1 line adds whitespace errors.\nFalling back to patching base and 3-way merge...\nAuto-merging lib/cli/Download.js\nCONFLICT (content): Merge conflict in lib/cli/Download.js\nFailed to merge in the changes.\nPatch failed at 0010 Remove dependency on zipfile and use adm-zip instead.\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~0 -0 !1]> git rebase --continue\n.idea/workspace.xml: needs update\nlib/cli/Download.js: needs merge\nYou must edit all merge conflicts and then\nmark them as resolved using git add\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~1 -0 !1]> git add *\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~4 -0]> git commit -m \"Resolving conflicts\"\n[detached HEAD 1322183] Resolving conflicts\n 4 files changed, 83 insertions(+), 36 deletions(-)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(1322183...)|REBASE]> git checkout\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nIt seems that there is already a rebase-apply directory, and\nI wonder if you are in the middle of another rebase.  If that is the\ncase, please try\n        git rebase (--continue | --abort | --skip)\nIf that is not the case, please\n        rm -fr \"c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply\"\nand run me again.  I am stopping in case you still have something\nvaluable there.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git status\nOn branch master\nYou are currently rebasing.\n(all conflicts fixed: run \"git rebase --continue\")\n\nUntracked files:\n(use \"git add ...\" to include in what will be committed)\n\n.idea/\nnothing added to commit but untracked files present (use \"git add\" to track)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git ignore .idea/\ngit: 'ignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignor .idea/\ngit: 'gitignor' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignore .idea/\ngit: 'gitignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git rebase --continue\nApplying: Remove dependency on zipfile and use adm-zip instead.\nApplying: Update version number\nUsing index info to reconstruct a base tree...\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Remove dependency on node-expat and libexpat.\nUsing index info to reconstruct a base tree...\nM       modules/core/assets/assets.js\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Add project files\nUsing index info to reconstruct a base tree...\n:23: new blank line at EOF.\n+\n:34: new blank line at EOF.\n+\n:62: new blank line at EOF.\n+\n:77: new blank line at EOF.\n+\n:102: new blank line at EOF.\n+\nwarning: squelched 1 whitespace error\nwarning: 6 lines add whitespace errors.\nFalling back to patching base and 3-way merge...\nerror: The following untracked working tree files would be overwritten by merge:\n        .idea/workspace.xml\nPlease move or remove them before you can merge.\nAborting\nFailed to merge in the changes.\nPatch failed at 0013 Add project files\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]>\n\u2014\nReply to this email directly or view it on GitHub.\n. I merged everything and now master and devel is the same. Please pull everything from upstream and then fix anything remaining on master in your repo.\nIt seems some of the buttons are too high but it passed normal test scripts.\nThanks\nAndy\n\nOn Jan 5, 2013, at 10:15 AM, Andreas Richter richtera@gmail.com wrote:\n\nI have an idea... I will try to use WebStorm to reformat both master and your branch.\nThe WebStorm default javascript settings look good except for the 4 char indent which I changed to 2.\nThey do use the hanging { and so on.\nThanks\nAndy\nOn Jan 5, 2013, at 1:06 AM, Sean Goresht notifications@github.com wrote:\n\nI took a look at your commits, and it appears that you haven't updated the html templates. I'm currently trying to figure out rebase. I understand it, but it's the first time I've had to do it (yes, I'm a young programmer).\nHere's a little summary on my errors. Maybe you can help:\nWindows PowerShell\nCopyright (C) 2012 Microsoft Corporation. All rights reserved.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nFirst, rewinding head to replay your work on top of it...\nApplying: Try readme\nApplying: Try readme\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Added MIT licence to readme\nApplying: Private Themes testing\nApplying: fix copying of theme config from extension.\nApplying: Bump version\nApplying: Remove dependency on zipfile and use adm-zip instead.\nUsing index info to reconstruct a base tree...\nM       lib/cli/Download.js\n:70: trailing whitespace.\nwarning: 1 line adds whitespace errors.\nFalling back to patching base and 3-way merge...\nAuto-merging lib/cli/Download.js\nCONFLICT (content): Merge conflict in lib/cli/Download.js\nFailed to merge in the changes.\nPatch failed at 0010 Remove dependency on zipfile and use adm-zip instead.\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~0 -0 !1]> git rebase --continue\n.idea/workspace.xml: needs update\nlib/cli/Download.js: needs merge\nYou must edit all merge conflicts and then\nmark them as resolved using git add\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~1 -0 !1]> git add *\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~4 -0]> git commit -m \"Resolving conflicts\"\n[detached HEAD 1322183] Resolving conflicts\n 4 files changed, 83 insertions(+), 36 deletions(-)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(1322183...)|REBASE]> git checkout\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nIt seems that there is already a rebase-apply directory, and\nI wonder if you are in the middle of another rebase.  If that is the\ncase, please try\n        git rebase (--continue | --abort | --skip)\nIf that is not the case, please\n        rm -fr \"c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply\"\nand run me again.  I am stopping in case you still have something\nvaluable there.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git status\nOn branch master\nYou are currently rebasing.\n(all conflicts fixed: run \"git rebase --continue\")\n\nUntracked files:\n(use \"git add ...\" to include in what will be committed)\n\n.idea/\nnothing added to commit but untracked files present (use \"git add\" to track)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git ignore .idea/\ngit: 'ignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignor .idea/\ngit: 'gitignor' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignore .idea/\ngit: 'gitignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git rebase --continue\nApplying: Remove dependency on zipfile and use adm-zip instead.\nApplying: Update version number\nUsing index info to reconstruct a base tree...\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Remove dependency on node-expat and libexpat.\nUsing index info to reconstruct a base tree...\nM       modules/core/assets/assets.js\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Add project files\nUsing index info to reconstruct a base tree...\n:23: new blank line at EOF.\n+\n:34: new blank line at EOF.\n+\n:62: new blank line at EOF.\n+\n:77: new blank line at EOF.\n+\n:102: new blank line at EOF.\n+\nwarning: squelched 1 whitespace error\nwarning: 6 lines add whitespace errors.\nFalling back to patching base and 3-way merge...\nerror: The following untracked working tree files would be overwritten by merge:\n        .idea/workspace.xml\nPlease move or remove them before you can merge.\nAborting\nFailed to merge in the changes.\nPatch failed at 0013 Add project files\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]>\n\u2014\nReply to this email directly or view it on GitHub.\n. Somehow the media queries don't work right for the menus:\n\n\nIt's like the submenus immediately show for smaller devices. Maybe that's what you wanted though.\nAndy\nOn Jan 5, 2013, at 2:45 PM, Andreas Richter richtera@gmail.com wrote:\n\nI merged everything and now master and devel is the same. Please pull everything from upstream and then fix anything remaining on master in your repo.\nIt seems some of the buttons are too high but it passed normal test scripts.\nThanks\nAndy\nOn Jan 5, 2013, at 10:15 AM, Andreas Richter richtera@gmail.com wrote:\n\nI have an idea... I will try to use WebStorm to reformat both master and your branch.\nThe WebStorm default javascript settings look good except for the 4 char indent which I changed to 2.\nThey do use the hanging { and so on.\nThanks\nAndy\nOn Jan 5, 2013, at 1:06 AM, Sean Goresht notifications@github.com wrote:\n\nI took a look at your commits, and it appears that you haven't updated the html templates. I'm currently trying to figure out rebase. I understand it, but it's the first time I've had to do it (yes, I'm a young programmer).\nHere's a little summary on my errors. Maybe you can help:\nWindows PowerShell\nCopyright (C) 2012 Microsoft Corporation. All rights reserved.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nFirst, rewinding head to replay your work on top of it...\nApplying: Try readme\nApplying: Try readme\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Added MIT licence to readme\nApplying: Private Themes testing\nApplying: fix copying of theme config from extension.\nApplying: Bump version\nApplying: Remove dependency on zipfile and use adm-zip instead.\nUsing index info to reconstruct a base tree...\nM       lib/cli/Download.js\n:70: trailing whitespace.\nwarning: 1 line adds whitespace errors.\nFalling back to patching base and 3-way merge...\nAuto-merging lib/cli/Download.js\nCONFLICT (content): Merge conflict in lib/cli/Download.js\nFailed to merge in the changes.\nPatch failed at 0010 Remove dependency on zipfile and use adm-zip instead.\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~0 -0 !1]> git rebase --continue\n.idea/workspace.xml: needs update\nlib/cli/Download.js: needs merge\nYou must edit all merge conflicts and then\nmark them as resolved using git add\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~1 -0 !1]> git add *\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~4 -0]> git commit -m \"Resolving conflicts\"\n[detached HEAD 1322183] Resolving conflicts\n 4 files changed, 83 insertions(+), 36 deletions(-)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(1322183...)|REBASE]> git checkout\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nIt seems that there is already a rebase-apply directory, and\nI wonder if you are in the middle of another rebase.  If that is the\ncase, please try\n        git rebase (--continue | --abort | --skip)\nIf that is not the case, please\n        rm -fr \"c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply\"\nand run me again.  I am stopping in case you still have something\nvaluable there.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git status\nOn branch master\nYou are currently rebasing.\n(all conflicts fixed: run \"git rebase --continue\")\n\nUntracked files:\n(use \"git add ...\" to include in what will be committed)\n\n.idea/\nnothing added to commit but untracked files present (use \"git add\" to track)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git ignore .idea/\ngit: 'ignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignor .idea/\ngit: 'gitignor' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignore .idea/\ngit: 'gitignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git rebase --continue\nApplying: Remove dependency on zipfile and use adm-zip instead.\nApplying: Update version number\nUsing index info to reconstruct a base tree...\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Remove dependency on node-expat and libexpat.\nUsing index info to reconstruct a base tree...\nM       modules/core/assets/assets.js\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Add project files\nUsing index info to reconstruct a base tree...\n:23: new blank line at EOF.\n+\n:34: new blank line at EOF.\n+\n:62: new blank line at EOF.\n+\n:77: new blank line at EOF.\n+\n:102: new blank line at EOF.\n+\nwarning: squelched 1 whitespace error\nwarning: 6 lines add whitespace errors.\nFalling back to patching base and 3-way merge...\nerror: The following untracked working tree files would be overwritten by merge:\n        .idea/workspace.xml\nPlease move or remove them before you can merge.\nAborting\nFailed to merge in the changes.\nPatch failed at 0013 Add project files\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]>\n\u2014\nReply to this email directly or view it on GitHub.\n. Also:\nThe menus have a line to the right and the this two tone effect on the submenus. At least under safari\n\n\n\nThanks\nAndy\nOn Jan 5, 2013, at 2:53 PM, Andreas Richter richtera@gmail.com wrote:\n\nSomehow the media queries don't work right for the menus:\n\nIt's like the submenus immediately show for smaller devices. Maybe that's what you wanted though.\nAndy\nOn Jan 5, 2013, at 2:45 PM, Andreas Richter richtera@gmail.com wrote:\n\nI merged everything and now master and devel is the same. Please pull everything from upstream and then fix anything remaining on master in your repo.\nIt seems some of the buttons are too high but it passed normal test scripts.\nThanks\nAndy\nOn Jan 5, 2013, at 10:15 AM, Andreas Richter richtera@gmail.com wrote:\n\nI have an idea... I will try to use WebStorm to reformat both master and your branch.\nThe WebStorm default javascript settings look good except for the 4 char indent which I changed to 2.\nThey do use the hanging { and so on.\nThanks\nAndy\nOn Jan 5, 2013, at 1:06 AM, Sean Goresht notifications@github.com wrote:\n\nI took a look at your commits, and it appears that you haven't updated the html templates. I'm currently trying to figure out rebase. I understand it, but it's the first time I've had to do it (yes, I'm a young programmer).\nHere's a little summary on my errors. Maybe you can help:\nWindows PowerShell\nCopyright (C) 2012 Microsoft Corporation. All rights reserved.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nFirst, rewinding head to replay your work on top of it...\nApplying: Try readme\nApplying: Try readme\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Added MIT licence to readme\nApplying: Private Themes testing\nApplying: fix copying of theme config from extension.\nApplying: Bump version\nApplying: Remove dependency on zipfile and use adm-zip instead.\nUsing index info to reconstruct a base tree...\nM       lib/cli/Download.js\n:70: trailing whitespace.\nwarning: 1 line adds whitespace errors.\nFalling back to patching base and 3-way merge...\nAuto-merging lib/cli/Download.js\nCONFLICT (content): Merge conflict in lib/cli/Download.js\nFailed to merge in the changes.\nPatch failed at 0010 Remove dependency on zipfile and use adm-zip instead.\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~0 -0 !1]> git rebase --continue\n.idea/workspace.xml: needs update\nlib/cli/Download.js: needs merge\nYou must edit all merge conflicts and then\nmark them as resolved using git add\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~1 -0 !1]> git add *\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~4 -0]> git commit -m \"Resolving conflicts\"\n[detached HEAD 1322183] Resolving conflicts\n 4 files changed, 83 insertions(+), 36 deletions(-)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(1322183...)|REBASE]> git checkout\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nIt seems that there is already a rebase-apply directory, and\nI wonder if you are in the middle of another rebase.  If that is the\ncase, please try\n        git rebase (--continue | --abort | --skip)\nIf that is not the case, please\n        rm -fr \"c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply\"\nand run me again.  I am stopping in case you still have something\nvaluable there.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git status\nOn branch master\nYou are currently rebasing.\n(all conflicts fixed: run \"git rebase --continue\")\n\nUntracked files:\n(use \"git add ...\" to include in what will be committed)\n\n.idea/\nnothing added to commit but untracked files present (use \"git add\" to track)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git ignore .idea/\ngit: 'ignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignor .idea/\ngit: 'gitignor' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignore .idea/\ngit: 'gitignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git rebase --continue\nApplying: Remove dependency on zipfile and use adm-zip instead.\nApplying: Update version number\nUsing index info to reconstruct a base tree...\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Remove dependency on node-expat and libexpat.\nUsing index info to reconstruct a base tree...\nM       modules/core/assets/assets.js\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Add project files\nUsing index info to reconstruct a base tree...\n:23: new blank line at EOF.\n+\n:34: new blank line at EOF.\n+\n:62: new blank line at EOF.\n+\n:77: new blank line at EOF.\n+\n:102: new blank line at EOF.\n+\nwarning: squelched 1 whitespace error\nwarning: 6 lines add whitespace errors.\nFalling back to patching base and 3-way merge...\nerror: The following untracked working tree files would be overwritten by merge:\n        .idea/workspace.xml\nPlease move or remove them before you can merge.\nAborting\nFailed to merge in the changes.\nPatch failed at 0013 Add project files\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]>\n\u2014\nReply to this email directly or view it on GitHub.\n. Looks ok.\nAndy\n\n\n\n\nSent from my iPhone\nOn Jan 5, 2013, at 9:20 PM, Sean Goresht notifications@github.com wrote:\nI see what happened now. You did update the CSS, but when you did your\nreformat, it unminified it. That also included the minified scripts like\njQuery and Modernizr.\nI just did the pull from upstream, as you suggested. I did\ngit remote add upstream https://github.com/cliftonc/calipso.git`\nSeeing as I couldn't find a remote by the name of upstream.\nThen I just did a git pull upstream master.\nThat's where I'm at now. Let me know if I did anything wrong.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/181#issuecomment-11923276.\n. Weird. I merged all your changes.\nPlease make sure you're on master\nThanks\nAndy\nSent from my iPhone\nOn Jan 5, 2013, at 8:59 PM, Sean Goresht notifications@github.com wrote:\nThe reason things aren't working is because you didn't replace the old css\nfiles in the directory. Of course, you will see no changes if you don't\ntake the CSS files in the css directory.\nI want to get my fork working so we can avoid future issues like this.\nInitially, I had envisioned you doing the rebase and then doing a theirs\nconflict. Then the entire project could be consistent, using 4-space tab\ncharacters. I suppose this wouldn't work if there were new additions in\nmaster that weren't present in devel, but I may be wrong. I'm going to try\ndoing this, but let me know if you have any better suggestions.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/181#issuecomment-11923096.\n. Merged manually into master.\n. I'll fix the http:// problem.\n. Could you please pull upstream and rebase. I had fixed some stuff in terms of removing http: in front of the google font references and removing admin-menu.css.\nAlso by changing your branch configuration to do rebase it'll rebase automatically.\nIn each [branch] section in your .git/config file add \"rebase=true\"\nThis is how mine looks:\n[branch \"master\"]\n    remote = origin\n    merge = refs/heads/master\n    rebase = true\n. Also this commit changed the code style again. Please revert the code style changes.\n. When working on projects together as a team, reformatting the code is a big\nno-no. In fact any global changes are a bad idea because someone will need\nto do a hand merge in the end. If a project has been around for a while it\nalready has a particular style and it's better to learn the style than to\nreformat. The only way you could do this is to work off of a branch, make\nall the style changes, commit. Then make your changes and cherry pick the\nmodifications after your style change commit to the original branch and fix\nall the conflicts (which incidentally are all the same ones I have to fix.)\nCode style changes just can't be imposted onto projects at a later time\nunless everyone in the group wants to agree and reformat everything. I\nalready applied all your curly braces, extra comma and other fixes which\nwere part of your reformatting. If you use the code format xml file I sent\nto you then your format should match the one in the code. I am not sure if\nthere is another solution because at any moment someone could come to the\nproject with yet another code preference and conflict with yours. Let me\nknow if you have another suggestion.\nThanks\nAndy\nSent via the internets\nOn Jan 6, 2013, at 11:18 PM, Sean Goresht notifications@github.com wrote:\nOk, thanks for the heads up. My workflow for editing the JS files is to\ninitially reformat them to my syntax settings (the way I find it easiest to\nread the code), then make changes. But what I don't understand is why you\ncan't merge the conflicts and do a theirs resolution to the conflict. Or\nbetter yet, why not reformat the entire project to use tabs (in a separate,\nnew commit)?\nIt is possible to put the else bracket on the same line. You just have to\ngo to the bracket settings.\nReally, I don't want you to have to hand-edit my changes. That's a waste of\ndevelopment time. How can we keep it so that I get to edit using my syntax\nsettings, and you don't have to spend hours hand-editing them?\nLet me know your thoughts.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-11940454.\n. Awesome idea. I'll add it to the repo. The .idea folder was changing so\nmuch that I deleted it.\nAndy\nSent from my iPhone\nOn Jan 24, 2013, at 10:03 AM, doru notifications@github.com wrote:\nIs the \"code format xml file\" public?\nDo you have a link to it?\nThanks,\nAlin\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12654791.\n. Yes webstorm\nAndy\nSent from my iPhone\nOn Jan 24, 2013, at 10:48 AM, doru notifications@github.com wrote:\nAre you using webstorm? Is it the recomanded IDE for yhe project?\nI am using it a lot and I like it a lot.\nAlin\nOn Jan 24, 2013 10:42 AM, \"Andreas Richter\" notifications@github.com\nwrote:\n\nAwesome idea. I'll add it to the repo. The .idea folder was changing so\nmuch that I deleted it.\nAndy\nSent from my iPhone\nOn Jan 24, 2013, at 10:03 AM, doru notifications@github.com wrote:\nIs the \"code format xml file\" public?\nDo you have a link to it?\nThanks,\nAlin\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12654791.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12656874>.\n\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12657170.\n. You would need to pull master, make your changes and then undo all changes\nwhich are not code changes. Unfortunately webstorm or phpstorm doesn't\nsupport undo format changes. I added my version of the codestyle as an\nexport jar file to the repo. The only other way would be for me to do the\nmerge after you push a change and then you checkout after the merge but\nthat's a lot of work for me on each patch. I have not figured out an\nautomated way to do this but maybe it can be automated. Is it impossible\nfor you to leave the code formatted as is and modify it from there?\nThanks\nAndy\nSent from my iPhone\nOn Jan 26, 2013, at 10:53 PM, Sean Goresht notifications@github.com wrote:\nPlease explain how I should proceed with working on this repo. Do I just\npull from devel, and then reformat, using the new settings before sending\nthe pull request? Can you please specify a workflow for jetBrains editors\nlike PHPStorm or Webstorm?\nThanks.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12747199.\n. I did merge all these, forgot to close the pull request.\n. Do you want to just modify the content fields or are you thinking your type of item is completely different from normal content?\nThanks\nAndy\nOn Jan 12, 2013, at 4:43 PM, chesnel notifications@github.com wrote:\n\nHello,\nI'm try to create a simple content types and I wan't add custom fields, unfortunately the website with the website calip.so is down and it's impossible to find the way to do. Is it possible to put an example ? because I turn around... Perhaps it would be interesting to add to the wiki on github ?\nMerci beaucoup de votre aide :)\n\u2014\nReply to this email directly or view it on GitHub.\n. Do these fields show up for an admin only or do you want to present these\ninput fields as part of the content?\nAndy\n\nSent via the internets\nOn Jan 12, 2013, at 6:04 PM, chesnel notifications@github.com wrote:\nI want to create custom fields in my new content types, not modify fields\nalready existing. Example : add input text, checkbox or dropdown.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/185#issuecomment-12186141.\n. Got it. The forms are driven by a json structure. In order to create custom\nfields you could copy the code for the content module and modify the form\njson. But then you content module would be separate from the distribution.\nIt might make sense to come up with some specific extension point to add\nfields to existing module storage, like users, content and so on. We should\ntalk about it.\nAndy\nSent via the internets\nOn Jan 12, 2013, at 6:25 PM, chesnel notifications@github.com wrote:\nI just want to know the syntax for this part :\n[image: Capture d e cran 2013-01-12 a 18 23\n38]https://f.cloud.github.com/assets/1634411/62420/2540b4a4-5d0f-11e2-8746-5bec57f44770.png\nthere is nowhere where you can have different example?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/185#issuecomment-12186363.\n. Could you send the whole file? It's hard to tell otherwise. You'll also\nwant to add the field to the schema\nAndy\nSent from my iPhone\nOn Jan 12, 2013, at 7:21 PM, chesnel notifications@github.com wrote:\nOk, I find in contentTypes.js example for format json, but unfortunately\nit's not work... : I have a message : No - Unexpected token l\n{\nlabel:'Content Type',\nname:'contentType[contentType]',\ntype:'text',\ndescription:'Enter the name of the content type, it must be unique.'\n},\n{\nlabel:'Description',\nname:'contentType[description]',\ntype:'text',\ndescription:'Enter a description.'\n}\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/185#issuecomment-12187393.\n. Ok, the easiest way to start would be to copy the folder\nmodules/core/contentType to modules/community/myContentType\nGo to your admin page and enable the module. Then forcefully disable the\noriginal contenttype module by changing the conf/development.json file and\nset enable to false for the original contentType (the ui doesn't allow some\nmodules to be disabled.) then you can change your new module. Now this is\nnot the perfect way to do this because you now have a separate 'core'\nmodule, but there is not standard way to extend schema on core modules. I\nthink this might be a good addition to the platform. But doing the steps I\njust mentioned will work until you need to do a major upgrade where\ncontentType in the core has major changes\nThanks\nAndy\nSent from my iPhone\nOn Jan 12, 2013, at 9:25 PM, chesnel notifications@github.com wrote:\nmmh ... it is not a file. I put the piece of code in the field that I\nshowed in the picture before. I think I have not explained well what I want\nto understand ... I'm note really good with my english : /\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/185#issuecomment-12188563.\n. I agree that we need to either add or improve the way to add custom types or extend existing types without writing new modules. I am investigating this as well. Let me know if anyone would like to put ideas together.\n. Here is an example of the form:\njavascript\n{\"fields\":[\n  {\"label\":\"Something\", \"name\":\"isCool\", \"type\":\"hidden\", \"description\":\"Is this really cool? Can't really see this\"}\n],\"sections\":[\n  {\"label\":\"Hello\",\"fields\":[\n    {\"label\":\"Cool?\", \"name\":\"content[isHelloCool]\", \"type\":\"checkbox\", \"description\":\"Is this really cool?\"},\n    {\"label\":\"Cool Name\", \"name\":\"content[coolHelloName]\", \"type\":\"text\", \"description\":\"What's the cool name?\"}\n  ]}\n]}\nIt turns out everything has to be full JSON (so all attribute names need to be quoted.)\nThere is a fields property and a sections property. Both contain arrays.\nLooking for more docs.\n. On vacation... Will check\nSent from my iPhone\nOn Aug 25, 2013, at 11:10 AM, Andrew Rosborough notifications@github.com\nwrote:\nCan somebody look over\nhttps://github.com/arosboro/calipso/compare/issue%23185_calipso_form_generator\nSorry, I accidently included a commit from a previous pull request (forgot\nto branch off of master). It's a very basic interface and I'm not sure if\nit introduces IO blockers.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/185#issuecomment-23232479\n.\n. It seems nodejitsu is currently broken and the site is down again.\n. This is now merged.\n. Curious. I have not seen this.\nThanks\nAndy\nSent from my iPhone\nOn Mar 9, 2013, at 3:40 AM, Alex notifications@github.com wrote:\nFirst I would like to thank developers of such unteresting product as\nCalipso!\nHere is the issue: when I execute \"long\" request (timeout ~4 seconds) to\nCalipso throught AJAX, it works right. But when I, for example, abort\nrequest on the second second (for example, just redirecting to another\npage), user session drops and asks to login again.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/187\n.\n. A public folder in your module should be mounted at the root. So\nmodules/community//public/ should be reachable\nas / just make sure the path is unique\nThanks\nAndy\nSent from my iPhone\nOn Mar 9, 2013, at 3:43 AM, Alex notifications@github.com wrote:\nFor example, we have Test module installed and launched. It has one\nclient-script which needs to be loaded in end-user page.\nRight now i'm placing it the\nthemes\\core\\cleanslate\\public\nSo this kind of loading client script will fail if we change theme. Maybe I\ncan put client scripts somewhere in module folder, so they will be uploaded\ntheme-independently?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/188\n.\n. Check your conf/...json. There were cases where an additional auth: with password: false snuck in there. I have not figured out how this happens.\nNot sure what you mean with reset?\nWe don't currently have a self update, but in theory all the content is in the database so unless you have custom modules redploying a new site should give you the same but upgraded site.\nThanks\nAndy\nOn Mar 12, 2013, at 8:58 PM, Donovan Adams - Hydrotik notifications@github.com wrote:\n\nAfter trying to update some themes, and then uninstalling I noticed the login field is missing int he admin login panel.\nAlso is there a way to reset calipso? also to do a self update?\n\u2014\nReply to this email directly or view it on GitHub.\n. Do you know the sequence of events that caused the additional item from being inserted (upgrade, restart, new install?) I will comb through the code and see.\nSomehow when I try to default the parameters it adds an additional item instead of updating the existing one.\nThanks\nAndy\n\nOn Mar 13, 2013, at 1:09 AM, Donovan Adams - Hydrotik notifications@github.com wrote:\n\nThanks Andy. I'm seeing this in dev json\n\"authentication\": {\n\"password\": true,\n\"migrate2pbkdf2\": false\n},\nAnd\n,\n\"authentication\": {\n\"password\": false,\n\"migrate2pbkdf2\": false,\n\"facebookAppId\": \"\",\n\"facebookAppSecret\": \"\",\n\"googleClientId\": \"\",\n\"googleClientSecret\": \"\",\n\"twitterConsumerKey\": \"\",\n\"twitterConsumerSecret\": \"\"\n}\nunder the server object. I removed the later and all is well. Should I move the additional social params to the remaining auth object?\nI had made a hackish \"fix\" to user.js below, so glad this is the proper resolution. Looking forward to getting my theme on! Cheers,\nfunction userFields() {\nif(calipso.auth.password) cosole.log(calipso.auth.password);\n/var fields = calipso.auth.password ? [\n{label:'Username', name:'user[username]', type:'text'},\n{label:'Password', name:'user[password]', type:'password'}\n] : [];/\nvar fields = [\n{label:'Username', name:'user[username]', type:'text'},\n{label:'Password', name:'user[password]', type:'password'}\n];\nif (calipso.auth.google) {\nfields.push({name:'google', text:'Use Google Login', type:'link', href:'/auth/google', cls:'googleicon'});\n}\nif (calipso.auth.twitter) {\nfields.push({name:'twitter', text:'Use Twitter Login', type:'link', href:'/auth/twitter', cls:'twittericon'});\n}\nif (calipso.auth.facebook) {\nfields.push({name:'facebook', text:'Use Facebook Login', type:'link', href:'/auth/facebook', cls:'facebookicon'});\n}\nconsole.log(fields);\nreturn fields;\n}\nStill not sure\n\u2014\nReply to this email directly or view it on GitHub.\n. I still haventt figured out what makes this happen but look into your config json and remove the password: false section.\n. I changed the password property to have a default value of true. Maybe this will make it work.\nEssentially when you initially setup calipso if the password property is unchecked the form will not have a username field. There might be more to this, however.\n. Use compass and not sass.\nThanks\nAndy\n\nSent from my iPhone\nOn Mar 14, 2013, at 12:20 AM, Donovan Adams - Hydrotik \nnotifications@github.com wrote:\nWent through steps to get Sass working and installed compass. When I run\nsass --watch sass:css\nFrom my public folder I get a number of errors:\nFile to import not found or unreadable: compass/css3.\nI don't have a lot of experience with Sass or compass so I'm assuming I am\nmissing some tooling setup? Going to watch some tutorials in the meantime.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/191\n.\n. Yes it makes sense to leave it open.\nSent from my iPhone\nOn Apr 14, 2013, at 12:19 PM, ilog2000 notifications@github.com wrote:\nI found the source of the problem: input type='email' in\n\"calipso\\modules\\core\\admin\\admin.js\" fails rendering. Changing it to\ntype='text' resolves the issue. Shall we re-open this bug?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/192#issuecomment-16353666\n.\n. This has been merged. Will publish npm in a little bit. Sorry about the delays.\n. Merged manually. There were additional changes not necessary.\n. I see a problem with this. By sanitizing the content of an article any links within the contents are removed. I think we need to add this to a smaller subset of places.\n. Fixed. The second parameter to sanitizer is a function all URLs are passed through.\nCurrently this allows all URLs, but I see the possibility to do some kind of meaningful filtering.\n. Your code changes should be in master. I just removed the changes that\ndidn't really affect anything. There were indentation and newline changes.\nAndy\nSent from my iPhone\nOn Apr 18, 2013, at 12:16 PM, Andrew Rosborough notifications@github.com\nwrote:\nI'm hoping to fix the errors in the javascript console and investigate\nintegrating aloha editor.\nYou can merge this Pull Request by running\ngit pull https://github.com/arosboro/calipso require_js_syntax_error\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/197\nCommit Summary\n- if statement closed prematurely causing scope issue.\nFile Changes\n- M modules/core/aloha/static/lib/require.jshttps://github.com/cliftonc/calipso/pull/197/files#diff-0(1)\nPatch Links:\n- https://github.com/cliftonc/calipso/pull/197.patch\n- https://github.com/cliftonc/calipso/pull/197.diff\n. Ok I will check again. I thought it merged correctly, sorry\nSent from my iPhone\nOn Apr 27, 2013, at 11:10 AM, Andrew Rosborough notifications@github.com\nwrote:\nLooking at commit\nff189b3https://github.com/cliftonc/calipso/commit/ff189b3Thu Apr 18\n03:34:16 2013 -0700. Looking at\nmodules/core/aloha/static/lib/require.js\nYou'll see that on line 1873, the if statement from line 1857 is closed. I\nthink this closing brace should be removed. If you go to line 1906 in vim\nand press '%' to go to the opening brace, it takes you to line 1834\n(req.load function assignment). When you remove the curly brace on line\n1873 with my patch, the closing bracket (1905 now) matches up with line\n1837, the first if statement in the function.\nSee: https://github.com/jrburke/requirejs/blob/master/require.js#L1827\nAnother option would be to update require.js to this version from jrburke's\nrepository, although I'm not sure if this would introduce more errors.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/197#issuecomment-17117617\n.\n. This should also be fixed now as part of the aloha commit.\n. Curious, I am not seeing the problem. Not sure exactly how to reproduce this to fix it?\n. Is anyone still running into this? I am not seeing the problem; are there specific scenarios where this is a problem?\n. I agree about the settings, this is a little harder to refactor, but it does need to be done soon. The only setting we really would need outside is the database URI and most deployment systems pass this as an environment variable.\nNot sure when we can do this, but this is necessary.\nThanks\nAndy\nOn Jun 6, 2013, at 2:33 AM, Brian notifications@github.com wrote:\n\nYup, same here. :)\nAlso, wouldn't it be best to write these settings to the db? Let's say I'm hosting on heroku... I wouldn't really have access to my settings.json in order to make this change. I sort of like having the setting local... but I also sort of don't.\n\u2014\nReply to this email directly or view it on GitHub.\n. Added Number(...) casts and now it seems to work. This is a 0.10. node issue.\n. I apologise for the delay. Looking at this now. Seem to be getting URL failures.\n26 May 14:12:03 - info: No Calipso module routes matched the current URL /css/primary-menu.css\n26 May 14:12:16 - info: No Calipso module routes matched the current URL /css/primary-menu.css\n26 May 14:12:25 - info: No Calipso module routes matched the current URL /css/primary-menu.css\n26 May 14:12:25 - info: No Calipso module routes matched the current URL /content/show/css/aloha.css\n26 May 14:13:20 - info: No Calipso module routes matched the current URL /css/primary-menu.css\n26 May 14:13:20 - info: No Calipso module routes matched the current URL /content/show/css/aloha.css\nAre there files missing?\n. A folder called \"public\" will automatically be mounted as a static route. You don't need to do the \"static\" thing.\n. I am having other problems with this as well. The dojo require seems to be conflicting with assumptions jquery window.define() is making. JSON for example calls window.define(a) with it's definition but confuses the dojo load callback and messes up the jqgrid-locale-en load. Not sure how to proceed.\n. I figured out the problem but I am not sure how to handle it.\ncalipso is using jquery and $.getScript to dynamically load scripts (actually only in one place that I could see; when loading store.min.js in this case under Chrome)\nBut the scripts internally (like the store.js to support local store on those browsers that don't) see window.define and window.define.amd.\nThe script then calls defined(module) but our the define script in require.js expects different arguments (because it's the dojo require.js.)\nWe can either hack the scripts or use requireJS or something more standard than dojo (if there is such a thing; not sure what require store.js was written for.)\nAlso it seems there are multiple versions of jquery floating around in calipso now.\nThanks\nAndy\n\nOn Jun 1, 2013, at 2:21 PM, Andrew Rosborough notifications@github.com wrote:\n\nI'm a little busy with another project at the moment, I'll try to figure out what's going on and review your comments when I have a little more time.\n\u2014\nReply to this email directly or view it on GitHub.\n. I figured out how to fix the require problem. I am not able to see the aloha editor though.\nI must be something missing; how is this supposed to work?\n. Got it. I merged and modified the code.\nIt's now part of the release.\n. Working on demo site. Currently calipso.nodejitsu.com\nProblem with links in content.\n. Fixed content links by commenting out sanitizer (needs to figure out how to configure sanitizer)\n. Enabled sanitize while passing a function to allow all URLs.\n. Which version of node and what os are you using?\n\nSent from my iPhone\nOn Jun 16, 2013, at 5:40 PM, Sergey Mamyan notifications@github.com wrote:\nnpm http GET https://github.com/ciaranj/node-oauth/tarball/master\nnpm ERR! fetch failed https://github.com/ciaranj/node-oauth/tarball/master\nnpm ERR! Error: CERT_NOT_YET_VALID\nnpm ERR! at SecurePair. (tls.js:1283:32)\nnpm ERR! at SecurePair.EventEmitter.emit (events.js:92:17)\nnpm ERR! at SecurePair.maybeInitFinished (tls.js:896:10)\nnpm ERR! at CleartextStream.read as _read\nnpm ERR! at CleartextStream.Readable.read (_stream_readable.js:304:10)\nnpm ERR! at EncryptedStream.write as _write\nnpm ERR! at doWrite (_stream_writable.js:211:10)\nnpm ERR! at writeOrBuffer (_stream_writable.js:201:5)\nnpm ERR! at EncryptedStream.Writable.write (_stream_writable.js:172:11)\nnpm ERR! at write (_stream_readable.js:557:24)\nnpm ERR! at flow (_stream_readable.js:566:7)\nnpm ERR! at Socket.pipeOnReadable (_stream_readable.js:598:5)\nnpm ERR! If you need help, you may report this log at:\nnpm ERR! http://github.com/isaacs/npm/issueshttps://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR! npm-@googlegroups.com\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/201\n.\n. This seems to be an npm or machine problem and is not related to calipso.\n. This was a problem because of sanitize. I disabled sanitize for the html content in each article.\nIt doesn't look like sanitize is able to configure partial acceptance of tags.\n. Ah ok, i'll check it out. I had noticed this at one time but other stuff\nwas more pressing\nAndy\nSent from my iPhone\nOn Jun 26, 2013, at 7:03 PM, LeslieMurphy notifications@github.com wrote:\nHi there and thanks in advance for taking a look at this issue.\nI followed the instructions for running the development version, and get\nthis log message when I access Calipso from a browser:\ninfo: No Calipso module routes matched the current URL\n/css/primary-menu.css\nI can see there is a scss file of that name, but nothing was generated into\nthe actual CSS folder:\n\n/var/www/calipso/themes/core/cleanslate/public/sass/partials/_primary-menu.scss\n\nI then installed Ruby and Compass, and even tried running compass from\nwithin the /var/www/calipso/themes/core/cleanslate/public/sass directory\nto see if it might build the CSS - to no avail.\nWhat is the trick to get the files to generate?\nAlso - I did my install on a new Ubuntu VM install. I did not see any\ninstall pre-requisites mentioned for Ruby, Compass, etc. Should these be\nadded to the documentation?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/203\n.\n. removed the reference to the file. This was no longer being used since the styles are included as a partial.\n. There was a problem with the admin stylesheet.\n. I fixed this by typecasting the value to number. Not sure if this important\nAndy\nSent from my iPhone\nOn Jun 29, 2013, at 9:49 PM, Todd notifications@github.com wrote:\nAdded simple type validation for the for the input of the\nsetmaxListeners calls.\nYou can merge this Pull Request by running\ngit pull https://github.com/thenderson21/calipso master\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/205\nCommit Summary\n- Added input validation for maxListeners\nFile Changes\n- M lib/core/Event.jshttps://github.com/cliftonc/calipso/pull/205/files#diff-0(31)\nPatch Links:\n- https://github.com/cliftonc/calipso/pull/205.patch\n- https://github.com/cliftonc/calipso/pull/205.diff\n. I fixed the maxListener problem already. If this is still causing someone problems, we'll just create a new separate issue.\n. Which version of node?\nSent from my iPhone\nOn Jul 8, 2013, at 11:42 AM, xiaoao notifications@github.com wrote:\ngit clone https://github.com/cliftonc/calipso\nnpm install\nnode app.js\nthen i register ,and fill the form and click the register button.\nthe error and logs as follows:\nnode app.js\n_ _\n  | ()   \n/ *|/ ` | | | ' \\/ __|/ _ \\\n| (*| (| | | | |) __ \\ () |\n___|,||_| ./|_//\n|_|\n8 Jul 23:13:55 - debug: Binding events for mail handler ...\nCalipso version: 0.3.27\nCalipso configured for: development environment.\nCalipso server listening on port: 3000\n/Users/xiao/app/node/calipso/node_modules/mongoose/lib/utils.js:413\nthrow err;\n^\nError: Can't set headers after they are sent.\nat ServerResponse.OutgoingMessage.setHeader (http.js:692:11)\nat ServerResponse.res.setHeader\n(/Users/xiao/app/node/calipso/node_modules/express/node_modules/connect/lib/patch.js:59:22)\nat ServerResponse.res.set.res.header\n(/Users/xiao/app/node/calipso/node_modules/express/lib/response.js:515:10)\nat ServerResponse.res.format\n(/Users/xiao/app/node/calipso/node_modules/express/lib/response.js:462:8)\nat ServerResponse.res.redirect\n(/Users/xiao/app/node/calipso/node_modules/express/lib/response.js:662:8)\nat Promise. (/Users/xiao/app/node/calipso/modules/core/user/user.js:920:19)\nat Promise.\n(/Users/xiao/app/node/calipso/node_modules/mongoose/lib/promise.js:120:8)\nat Promise.EventEmitter.emit (events.js:98:17)\nat Promise.emit\n(/Users/xiao/app/node/calipso/node_modules/mongoose/lib/promise.js:59:38)\nat Promise.complete\n(/Users/xiao/app/node/calipso/node_modules/mongoose/lib/promise.js:70:20)\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/206\n.\n. Usually this happens if there is an exception somewhere. Which modules are\nyou trying to use?\nAndy\nSent from my iPhone\nOn Jul 8, 2013, at 8:04 PM, xiaoao notifications@github.com wrote:\nnode -v\nv0.10.3\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/206#issuecomment-20645167\n.\n. Sorry my question was confusing. Which modules did you activate during installation? Maybe you could send the conf/*.json files (removing the database URLs if they have credentials.)\nThanks\nAndy\nOn Jul 9, 2013, at 1:48 AM, xiaoao notifications@github.com wrote:\n\ncalipso xiao$ git pull\nAlready up-to-date.\ngit difftool -t meld -y HEAD\n\u2014\nReply to this email directly or view it on GitHub.\n. I just reproduced the problem. Checking.\n. If bcrypt is available then the registrations will execute twice causing the error. Thanks for finding this.\n. If calipso sees a MONGO_URI in the environment it will automatically switch to storing the configuration in the database instead of the file system. To take over a previously configured database and \"re-install\" just delete the \"confs\" collection or execute \"db.confs.update({environment:'development'},{$set:{\"configuration.installed\":false}})\"\n. The site on calip.so now uses this feature.\n. This should work now.\n. I see. Not sure what's going on.\nAndy\n\nOn Sep 6, 2013, at 7:32 AM, daslicht notifications@github.com wrote:\n\nbroken either: http://calip.so/an-introduction-to-calipso.html\n\u2014\nReply to this email directly or view it on GitHub.\n. Good catch. I had to upgrade mongoose and mongoose's model.toObject() will strip out anything that's not in the schema. The code added displayAuthor to the object which is not a real schema path.\nI am glad you saw that right away, thanks.\nAndy\n. I wonder if we should change the field name editor so the user only types in the name of the property rather than requiring them to type \"content[fieldName]\".\n. FYI: Travis CI seems to timeout a lot of times and mark this as a failure even though it passes the next time.\n. The UI is a tiny bit confusing but a great start.\nCurrently it also doesn't support hiding fields or sections.\n. I merged this code because it's a very good place to start and doesn't break anything.\n. I know. Nodejitsu currently has deployment problems and I am unable to\nredeploy. I hope they fix their build system soon\nAndy\n\nSent from my iPhone\nOn Sep 4, 2013, at 10:58 AM, Ricky Nelson notifications@github.com wrote:\nIt is giving an error 400: www.calip.so is currently stopped.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/212\n.\n. Somehow mongodb version needs to be later in order to run under smartos which nodejitsu is now using. This requires mongoose and connect-mongodb to be upgraded. mongoose has an API change with sort.\nThe site is currently back up.\n. FYI: The mongoose changes have not been published to npm yet, so currently calipso cannot be installed on nodejitsu. I hope to finish that today.\n. The merge I needed to do was easier than I though and I checked it in and published. Hopefully nobody else's modules have a lot of \"sort()\" calls which have changed in the latest mongoose.\n. Looks like there is a typo in your code...\nI added the text formatting escape to read it better but it looks like the code should be\njavascript\nif (self.sort in self.children[a] && self.sort in self.children[b] { // changed by jc\nrather than\njavascript\nif (self.sort in self.children && self.sort in self.children[b] { // changed by jc\nwhich is the code in your snippet.\n. How does your mongouri look like?\nAndy\nSent from my iPhone\nOn Sep 6, 2013, at 9:12 AM, daslicht notifications@github.com wrote:\nHello,\nwhen I try to run calipso i get the following error, even tho mongodb is\nrunning on port 27017\nidea?\nError: Invalid mongodb uri. Missing hostname\n    at muri (/Users/daslicht/calipso/node_modules/mongoose/node_modules/muri/lib/index.js:40:11)\n    at NativeConnection.Connection.open\n(/Users/daslicht/calipso/node_modules/mongoose/lib/connection.js:190:16)\n    at Mongoose.createConnection\n(/Users/daslicht/calipso/node_modules/mongoose/lib/index.js:155:17)\n    at Storage.mongoConnect (/Users/daslicht/calipso/lib/core/Storage.js:67:27)\n    at finish (/Users/daslicht/calipso/lib/calipso.js:164:21)\n    at initialiseCalipso (/Users/daslicht/calipso/lib/calipso.js:153:12)\n    at Object.init (/Users/daslicht/calipso/lib/calipso.js:81:3)\n    at /Users/daslicht/calipso/app.js:364:13\n    at /Users/daslicht/calipso/node_modules/nconf/lib/nconf/provider.js:373:32\n    at /Users/daslicht/calipso/node_modules/async/lib/async.js:190:13\ndaslicht:calipso daslicht$\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/214\n.\n. Usually in the conf folder\nAndy\nSent from my iPhone\nOn Sep 6, 2013, at 9:28 AM, daslicht notifications@github.com wrote:\nWhere do I set it in calipso? Which is the config file ?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/214#issuecomment-23938780\n.\n. Usually the uri shoud be\nmongodb://[:@][:]/\nWhere <...> are variables and [...] is optional.\nThanks\nAndy\nSent from my iPhone\nOn Sep 6, 2013, at 9:28 AM, daslicht notifications@github.com wrote:\nWhere do I set it in calipso? Which is the config file ?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/214#issuecomment-23938780\n.\n. Guessing /conf/*.json has invalid stuff\nAndy\nSent from my iPhone\nOn Sep 9, 2013, at 4:51 PM, steveww notifications@github.com wrote:\nI followed the instructions on http://calipso.so but when I try to fire it\nup I get:\nevents.js:72\nthrow er; // Unhandled 'error' event\n^\nError: Invalid mongodb uri. Missing hostname\nat muri\n(/home/stevew/temp/node/node_modules/mongoose/node_modules/muri/lib/index.js:40:11)\nat NativeConnection.Connection.open\n(/home/stevew/temp/node/node_modules/mongoose/lib/connection.js:190:16)\nat Mongoose.createConnection\n(/home/stevew/temp/node/node_modules/mongoose/lib/index.js:155:17)\nat Storage.mongoConnect (/home/stevew/temp/node/lib/core/Storage.js:67:27)\nat finish (/home/stevew/temp/node/lib/calipso.js:164:21)\nat initialiseCalipso (/home/stevew/temp/node/lib/calipso.js:153:12)\nat Object.init (/home/stevew/temp/node/lib/calipso.js:81:3)\nat /home/stevew/temp/node/app.js:364:13\nat /home/stevew/temp/node/node_modules/nconf/lib/nconf/provider.js:373:32\nat /home/stevew/temp/node/node_modules/async/lib/async.js:190:13\nWhere do I check the configuration to validate the mongodb URL?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/215\n.\n. If you remove the file the web interface will show an installer\nAndy\nSent from my iPhone\nOn Sep 9, 2013, at 5:15 PM, steveww notifications@github.com wrote:\nMore detail would be appreciated.\nThere is only development.json in there. What should the URI look like?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/215#issuecomment-24115445\n.\n. Did you remove the file? Ok checking\nAndy\nSent from my iPhone\nOn Sep 9, 2013, at 5:24 PM, steveww notifications@github.com wrote:\nThere is not any web interface, the server does not start due to the\nexception.\nIt's worse than that. It's dead Jim.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/215#issuecomment-24116096\n.\n. Ok, makes sense now. Let me check what's going on. Seems to be a defect.\nAndy\nOn Sep 9, 2013, at 5:27 PM, Andy Richter andy@richteralsi.com wrote:\n\nDid you remove the file? Ok checking\nAndy\nSent from my iPhone\nOn Sep 9, 2013, at 5:24 PM, steveww notifications@github.com wrote:\n\nThere is not any web interface, the server does not start due to the exception.\nIt's worse than that. It's dead Jim.\n\u2014\nReply to this email directly or view it on GitHub.\n. This is a problem due to the upgrade of mongoose.\nThe easiest way is to provide an environment called MONGO_URI=mongodb://....\nThis would work and then write the config to the db.\n. Trying to fix.\n. Fixed. Republishing NPM.\nThe old mongoose worked with an empty URL for a dummy connection, but the new one requires one.\n. Hmm, this only works if there is a server at that location.\nNeed to rethink.\n. It works if there is a mongo running on the default port. Trying to see\nwhether i can allocate an unopened connection. Use MONGO_URI for now should\nwork. In order to support nodejitsu I had to upgrade mongoose which causes\nthis problem\nAndy\n\n\nSent from my iPhone\nOn Sep 9, 2013, at 5:28 PM, steveww notifications@github.com wrote:\nYes I keep deleting the development.json file.\nStarting the server. It throws the exception and recreates the file.\nBroken.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/215#issuecomment-24116395\n.\n. Alright. using just Connection() seems to work. I am publishing again. Sorry for the back and forth, but I didn't understand the problem initially. Basically if you have a machine with mongod running on the default port without authentication the first fix worked fine. Using MONGO_URI is better when using calipso for deployment, and the json conf folder is better if you have control of your file system.\n0.3.38 should now work.\n. I don't see this. I did notice that every time you install it inserts the About-Me, Welcome and Sample Article. This part I can fix easily (never noticed it until I was trying to track this one down.)\nAnother thing I noticed was that one of the merges made the taxonomy an required field which means that sometimes you can't actually update content, because it's unable to focus on a required field on a secondary tab. This should be fixed independently, but taxonomy has a default of '' and should not be required.\nBlock content will only show up if that block is being used in the template but articles should show up fine. Can you send me reproducible steps for the Article to block conversion?\nI fixed the duplication of the sample data during installation.\n. Have you tried the aloha editor to edit the blocks?\n. Ah ok. We might have found another problem. If the content type does not\nget installed properly then it would fail. Aloha shows up as a yellow\noutline over the block in the actual ui and not inside of the content\neditor ui. I will check on the content type. I wish I didn't need to\nupgrade mongoose willy nilly but the calip.so site was down since nodejitsu\nno longer supports mongodb 0.9.x and to get mongodb 1.3.x I had to upgrade\nmongoose. I belive all this is fallout thereof.\nSorry, I'll stay on top of it.\nAndy\nSent from my iPhone\nOn Sep 10, 2013, at 8:05 AM, steveww notifications@github.com wrote:\nI have the aloha editor module enabled but I only get a textbox to edit\ncontent. This is another issue.\nI did a fresh install of everything.\nI created some content I only had Block Content to choose from.\nI made sure it was published\nIt does not show up on the site\nLooking inside mongo I see that is_public is set to false. Is this\nimportant?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/216#issuecomment-24154442\n.\n. Fixed. There was a typo in the content installer, causing content-type and other modules to not install correctly.\nThis is probably why you didn't get access to all the content-types.\n. Can you paste the output of \"node app\" or the way you install it? I tried it multiple times and it seems to work for me.\nDo you have steps to reproduce?\nAndy\nOn Sep 10, 2013, at 10:34 AM, steveww notifications@github.com wrote:\n\nJust reinstalled everything and it's still the same.\nOnly Block Content and new content does not show up.\n\u2014\nReply to this email directly or view it on GitHub.\n. Hmm, ok you're using 0.10.18 and I am using 0.10.15 (checking)\nAlso, could you send the output of \"calipso server\" and then execute the installation steps (removing conf/development.json before executing calipso server.)\nThe reason is that the installation of the previous install would set \"installed\" = true although it didn't properly populate contentTypes and other modules thereafter.\nThanks\nAndy\n\nOn Sep 10, 2013, at 11:04 AM, steveww notifications@github.com wrote:\n\nInstalled as per the instructions on your site:\nnpm install calipso -g\ncalipso site /path/to/a/dir\ncalipso server\nRunning on Ubuntu 12.04 LTS with Mongo 2.0.4\nSee the log at http://www.steveww.org/drop/calipso.log.gz\n\u2014\nReply to this email directly or view it on GitHub.\n. Actually what is \"node 0.10.18\"? I don't see it published yet. I usually use \"nvm\" to make sure I have production versions.\nAndy\n\nOn Sep 10, 2013, at 11:16 AM, Andreas Richter andy@richteralsi.com wrote:\n\nHmm, ok you're using 0.10.18 and I am using 0.10.15 (checking)\nAlso, could you send the output of \"calipso server\" and then execute the installation steps (removing conf/development.json before executing calipso server.)\nThe reason is that the installation of the previous install would set \"installed\" = true although it didn't properly populate contentTypes and other modules thereafter.\nThanks\nAndy\nOn Sep 10, 2013, at 11:04 AM, steveww notifications@github.com wrote:\n\nInstalled as per the instructions on your site:\nnpm install calipso -g\ncalipso site /path/to/a/dir\ncalipso server\nRunning on Ubuntu 12.04 LTS with Mongo 2.0.4\nSee the log at http://www.steveww.org/drop/calipso.log.gz\n\u2014\nReply to this email directly or view it on GitHub.\n. Does it sizzle? :)\nThanks\nAndy\n\n\nOn Sep 10, 2013, at 11:19 AM, steveww notifications@github.com wrote:\n\nJust got it hot off node.org\n\u2014\nReply to this email directly or view it on GitHub.\n. This looks good. Do you see any errors when you're trying to add or update content which might give us a clue?\nI am not quite sure what is and isn't working in your scenario.\nThanks\nAndy\n\nOn Sep 10, 2013, at 11:26 AM, steveww notifications@github.com wrote:\n\nOutput of calipso server\nCalipso version: 0.3.40\nCalipso configured for: development environment.\nCalipso server listening on port: 3000\nInstallation Password: \"x0XgTEJjDySEI0oyPzaveOumuYHndA0yXQ==\" (inside quotes)\n10 Sep 16:25:10 - info: Saving configuration ... \n10 Sep 16:25:10 - info: Reloading updated configuration ... \n10 Sep 16:25:10 - info: Installing module content\n10 Sep 16:25:10 - info: Installing module contentTypes\n10 Sep 16:25:10 - info: Installing module permissions\n10 Sep 16:25:10 - info: Installing module user\n10 Sep 16:25:11 - info: User module installed ... \n10 Sep 16:25:11 - info: Content types module installed ... \n10 Sep 16:25:11 - info: Content module installed ... \n10 Sep 16:25:11 - info: User Roles sub-module installed ...\n\u2014\nReply to this email directly or view it on GitHub.\n. Ok trying to go through your steps.\nAndy\n\nOn Sep 10, 2013, at 11:33 AM, steveww notifications@github.com wrote:\n\nHere it is.\n\u2014\nReply to this email directly or view it on GitHub.\n. Somehow the contentTypes were still not installing correctly. I moved some of the code around and now it works.\nMight have been a timing issue or something that didn't jump out at me. Seems to work now.\nThanks\nAndy\n\nOn Sep 10, 2013, at 11:36 AM, Andreas Richter andy@richteralsi.com wrote:\n\nOk trying to go through your steps.\nAndy\nOn Sep 10, 2013, at 11:33 AM, steveww notifications@github.com wrote:\n\nHere it is.\n\u2014\nReply to this email directly or view it on GitHub.\n. Blocks are used from within templates. For example the about and welcome blocks show up on the home page.\nThanks\nAndy\n\n\nOn Sep 10, 2013, at 12:11 PM, steveww notifications@github.com wrote:\n\nCool I can now create an Article and it shows up :-)\nBlock content still does not show up. What is Block for?\n\u2014\nReply to this email directly or view it on GitHub.\n. Did you look at http://calip.so for the documentation? It's not as complete as I'd like but might get you started.\n\nFor example this is how content is output:\n``` html\n<% contents.forEach(function(item) { %>\n\n<p><%- item.teaser %> ... <a href='/<%= item.alias %>.html'>more</a></p>\n\n\n<% });  %>\n<%- pager %>\n```\nThis is how a block might be pulled in:\nhtml\n<div class = \"home-content\">\n    <div class = \"home-welcome\">\n        <%- welcome %>\n    </div>\n</div>\n``` javascript\n/*\n * Additional content section / block functions for body.\n /\nvar rootpath = process.cwd() + '/',\n    path = require('path'),\n    calipso = require(path.join(rootpath, 'lib/calipso'));\nexports = module.exports = function (req, options, callback)\n{\n/**\n *  Get additional content for blocks in the template\n */\ncalipso.lib.step(\n\n    function getContent()\n    {\n        options.getContent(req, \"welcome\", this.parallel());\n    }, function done(err, welcome, homepageText)\n    {\n        callback(err, {\n            welcome: welcome,\n            homepageText: homepageText\n        });\n    });\n\n};\n```\n. It accumulates all the blocks matching the regex.\nFor example...\n``` javascript\n/*\n * Additional content section / block functions for body.\n /\nvar rootpath = process.cwd() + '/',\n    path = require('path'),\n    calipso = require(path.join(rootpath, 'lib/calipso'));\nexports = module.exports = function (req, options, callback)\n{\n/**\n *  Get additional content for blocks in the template\n */\ncalipso.lib.step(\n    function getContent()\n    {\n        options.getBlock(/^content.*/, this.parallel());\n        options.getBlock(/^admin.*/, this.parallel());\n        options.getBlock('scripts.disqus', this.parallel());\n    },\n    function done(err, content, admin, disqus)\n    {\n        callback(err, {content: content, admin: admin, disqus: disqus});\n    }\n);\n\n};\n```\nThe first options.getBlock() accumulates all content blocks which are then passed as the first parameter (after the error) to the done() function. Therefore the callback will be invoked with {content: array of all content blocks, ...}\nThe route needs to populate those blocks and then the js associated to the template can pull them out and return them to the renderer.\n. The data is formatted by templates. Either a generic one or a custom one\nassociated with the content type. Then the theme templates put together the\nrendered blocks.\nThanks\nAndy\nSent from my iPhone\nOn Sep 11, 2013, at 7:12 AM, steveww notifications@github.com wrote:\nHmm.....\nDigging through the source it looks like getBlock pulls in modules and\ngetContent pulls in \"Block Content\" whose alias matches the name.\nLooking at some of the modules it appears that presentation formatting is\nincluded in the modules. Surely there should be total separation of\nformatting so that it is only handled by the template?\nI know this is getting off topic now. May be we should continue elsewhere?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/216#issuecomment-24232236\n.\n. Use three backquotes on the line before and after code you put in. You can\nadd the type after the initial back quotes. Like bq bq bq html or bq bq bq\njavascript. It's part if the github md\nAndy\nSent from my iPhone\nOn Sep 11, 2013, at 7:57 AM, steveww notifications@github.com wrote:\nChrome on Linux not working so well on Github trying with a different set\nup on my Mac.\n... continued\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/216#issuecomment-24234298\n.\n. That's the template which can be overridden in the theme. If the theme\ndoesn't have a replacement it will use the one from the model\nAndy\nSent from my iPhone\nOn Sep 11, 2013, at 7:58 AM, steveww notifications@github.com wrote:\nOK still did not work on my Mac. Github is blocking my content when it has\nHTML in it.\nThere are h2 and small tags in the show.html for example.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/216#issuecomment-24234355\n.\n. Please put it into a directory without a space in it. This should fix it. Let me know.\nDo you have some kind of cygwin or git shell installed? npm will use that.\nThanks\nAndy\nOn Sep 10, 2013, at 11:22 AM, Mirodil notifications@github.com wrote:\n\nI have got the following error on installing windows box:\nC:\\Program Files\\nodejs>calipso site Z:\\F-Drive\\Projects\\NOTE.JS\\examples\\calips\no\nLaunching calipso from: C:\\Program Files\\nodejs\nCalipso directory: C:\\Program Files\\nodejs\\node_modules\\calipso\\lib/../\nC:\\Program Files\\nodejs\\node_modules\\calipso\\lib\\calipso-cli.js:416\n          throw err;\n                ^\nError: Command failed: The filename, directory name, or volume label syntax is i\nncorrect.\nat ChildProcess.exithandler (child_process.js:637:15)\nat ChildProcess.EventEmitter.emit (events.js:98:17)\nat maybeClose (child_process.js:735:16)\nat Socket.<anonymous> (child_process.js:948:11)\nat Socket.EventEmitter.emit (events.js:95:17)\nat Pipe.close (net.js:466:12)\n\u2014\nReply to this email directly or view it on GitHub.\n. Ok then I would go to the directory you need the installation in and use a relative path only.\nLike\n    cd \"z:\\F-Drive\\Projects\\NOTE.JS\\examples\\\"\n    calipso site calipso\nThanks\nAndy\n\nOn Sep 10, 2013, at 11:27 AM, Mirodil notifications@github.com wrote:\n\nYes, I have cygwin and git installed in my windows box.\n\u2014\nReply to this email directly or view it on GitHub.\n. I will merge this stuff this weekend. Sorry it took two weeks.\n. Sorry I had to rebase and force update. There were a whole bunch of merge loops. I had fixed this already but merged some of your code.\n. Thanks for pointing this out.\n. Either way is fine. Since I can rebase and merge as well.\nAndy\n\nSent from my iPhone\nOn Sep 26, 2013, at 5:21 PM, Stu Salsbury notifications@github.com wrote:\nI'm going to close this and do PRs in feature branches to keep things\nclean(er).\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/223#issuecomment-25204968\n.\n. :)\nSent from my iPhone\nOn Sep 26, 2013, at 5:49 PM, Stu Salsbury notifications@github.com wrote:\nOk -- my git-foo is low -- if I don't do things in an orderly fashion I'm\nquite liable to get very mixed up!\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/223#issuecomment-25206914\n.\n. The intent was to support the new version since the old one doesn't work on\nsmartos. I did as much testing as I could, thanks for the findings.\nAndy\nSent from my iPhone\nOn Sep 26, 2013, at 4:26 PM, Stu Salsbury notifications@github.com wrote:\nSorry for the noise, but I'm running into more mongoose compatibility\nissues.\nhttps://github.com/cliftonc/calipso/blob/master/lib/core/Table.js#L167 says:\nqry = qry.sort(sortArr[0], dir);\nwhich is also outdated. See\nhttp://stackoverflow.com/questions/4299991/how-to-sort-in-mongoose , for\ninstance.\nSo I guess the question is whether or not the intent is to support 3.6.x or\nsome other version. Perhaps earlier versions, including the one that the\ncalipso developer(s) have installed already, had support for the syntax\nthat is breaking now? When I ran the install I got mongoose \"version\":\n\"3.6.20\". I'll hold of on PRs for these things because it seems to be\nsomewhat pervasive and perhaps the intent wasn't to allow newer versions of\nMongoose (yet)? Please let me know. I'll be fixing as I go locally and\nwould like to be able to contribute.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/224\n.\n. I ended up rebasing and force pushing. There were several merge loops in the repo. I have to figure out how to setup github for rebase.\n. Hmmm, I was not able to reproduce this. Were you using MONGO_URI or just a conf file?\nAndy\nOn Sep 27, 2013, at 1:43 PM, Stu Salsbury notifications@github.com wrote:\n\nI wiped my repo and started from scratch. I don't know if I did something wrong or if a recently merged change has broken the install. But here's what I'm getting when I post my installation password from /admin/install:\nTypeError: Cannot read property 'undefined' of undefined\n    at parse (/home/user/ws/mysite/node_modules/express/node_modules/connect/node_modules/qs/lib/querystring.js:50:37)\n    at /home/user/_ws/mysite/node_modules/express/node_modules/connect/node_modules/qs/lib/querystring.js:73:9\n    at Array.reduce (native)\n    at Object.exports.parse (/home/user/_ws/mysite/node_modules/express/node_modules/connect/node_modules/qs/lib/querystring.js:27:6)\n    at IncomingForm. (/home/user/_ws/mysite/node_modules/express/node_modules/connect/lib/middleware/multipart.js:117:25)\n    at IncomingForm.EventEmitter.emit (events.js:92:17)\n    at IncomingForm._maybeEnd (/home/user/_ws/mysite/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:383:8)\n    at MultipartParser.parser.onEnd (/home/user/_ws/mysite/node_modules/express/node_modules/connect/node_modules/formidable/lib/incoming_form.js:326:10)\n    at callback (/home/user/_ws/mysite/node_modules/express/node_modules/connect/node_modules/formidable/lib/multipart_parser.js:102:31)\n    at MultipartParser.write (/home/user/_ws/mysite/node_modules/express/node_modules/connect/node_modules/formidable/lib/multipart_parser.js:259:15)\n\u2014\nReply to this email directly or view it on GitHub.\n. If you deploy the git clone it works fine. This is how I deploy to\ncalip.so.  The only thing is that some deployment methods like to take over\nthe package.json file. So you might need some helper scripts to make sure\nyou don't include the changed file in pull requests. But otherwise if you\nadd an environment variable called MONGO URI to your deployment pointing\nto the database then calipso will store all configs in the database instead\nand updating your site won't erase the config. If you have shell access and\nyou can manually manage the conf json file then that's possible as well of\ncourse. Calip.so is using nodejitsu but I have played around with heroku as\nwell. Unless you have shell access the calipso command line is not easy to\nuse for you.\nThanks\nAndy\n\nSent via the internets\nOn Sep 27, 2013, at 8:58 PM, Stu Salsbury notifications@github.com wrote:\nSo I'm getting started building my own site with calipso. I'm assuming I'll\nbe doing quite a few patches to calipso itself along the way....\nAm I going to experience pain and agony if I just develop the site in my\nclone of the calipso repository instead of doing calipso site\n/path/to/mysite?\nI can already feel the pain of creating a separate site. If I develop\ndirectly in the calipso source, are there any gotchas when it comes time to\ndeploying to, say, heroku?\nI haven't really grokked the whole process of doing the deployment yet --\nhow best to deal with multiple databases and configurations and such, but\nit seems to me that the lesser of two evils, given that I'll probably be\npatching calipso while I go, is to just run from its source. Does this make\nsense?\nHow is everyone else handling this?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/229\n.\n. That's a good idea, but not currently implemented. Your code can site in\ngit clones inside of community inside of modules or themes. That's how I\nconnect external stuff and manager the repos.\nAndy\nSent via the internets\nOn Sep 27, 2013, at 9:00 PM, Stu Salsbury notifications@github.com wrote:\nshort followup -- it would be awesome if calipso could be configured as an\nnpm dependency of my app instead of my app living in calipso... I think\nthat would make my brain hurt less ;)\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/229#issuecomment-25287022\n.\n. No I don't. It's a good solution but it gets in the way of pull requests. I\nmanually check then out and then work in each. Maybe there is a better way\nbut I have not thought if one.\nSent from my iPhone\nOn Sep 29, 2013, at 11:43 AM, Stu Salsbury notifications@github.com wrote:\n@richtera https://github.com/richtera do you use git submodules for your\nmodules and themes?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/229#issuecomment-25322499\n.\n. Note also that both modules and themes allow subfolders for that reason. So\nyou can have a site repo in each for example containing multiple modules or\nthemes.\nAndy\nSent from my iPhone\nOn Sep 29, 2013, at 11:43 AM, Stu Salsbury notifications@github.com wrote:\n@richtera https://github.com/richtera do you use git submodules for your\nmodules and themes?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/229#issuecomment-25322499\n.\n. I would start out with the .gitignore inside of the calipso repo.\nAndy\nSent from my iPhone\nOn Dec 28, 2013, at 12:17 AM, Nicholas Calugar notifications@github.com\nwrote:\nAlong these lines, if I install using the calipso site command, is there a\nprescribed .gitignore I should use when I commit my site to a git repo? I'm\nobviously going to ignore node_modules and the conf directory. What else\nshouldn't I commit?\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/229#issuecomment-31290744\n.\n. I am refactoring calipso to live inside of a module in each site rather than taking over the site.\n. Yea I got the refactor to work. I am waiting to push it out to the main site since that's been a little flaky. How you're doing well. I remember you said you stopped using calipso. I have been too busy to pick it back up as well. Have a great day.\nAndy\nOn May 25, 2014, at 3:31 PM, Stu Salsbury notifications@github.com wrote:\n\n@richtera thanks for the update. I've not been doing anything with my project, but when I saw this it occurred to me that the title of this issue might be misleading, so I edited it. :) Please feel free to close it if you'd like. I hope your refactoring works out!\n\u2014\nReply to this email directly or view it on GitHub.\n. That was meant to say \"Hope you're doing well.\"\n\nOn May 25, 2014, at 3:33 PM, Andreas Richter andy@richteralsi.com wrote:\n\nYea I got the refactor to work. I am waiting to push it out to the main site since that's been a little flaky. How you're doing well. I remember you said you stopped using calipso. I have been too busy to pick it back up as well. Have a great day.\nAndy\nOn May 25, 2014, at 3:31 PM, Stu Salsbury notifications@github.com wrote:\n\n@richtera thanks for the update. I've not been doing anything with my project, but when I saw this it occurred to me that the title of this issue might be misleading, so I edited it. :) Please feel free to close it if you'd like. I hope your refactoring works out!\n\u2014\nReply to this email directly or view it on GitHub.\n. Merged\n. Merged\n. Is aloha turned on? It's possible that the site doesn't behave right\nwithout aloha\nAndy\n\n\nSent from my iPhone\nOn Sep 28, 2013, at 4:43 PM, Stu Salsbury notifications@github.com wrote:\nI'm getting 404 errors in my heroku logs. The following urls show 404:\n- /lib/require.js\n- /lib/store.js\n- /lib/aloha.js\n- /js/aloha-config.js\n- /js/aloha-save.js\n- /css/aloha.css\nIt should be noted that the behavior of the app is the same as if I had\ncreated a site using ./bin/calipso site /my/path -- and maybe this is a\nclue:\nWhen I run from the calipso source, aloha works and I get yellow borders\naround stuff (I'm not in love with the yellow borders, but they're there).\nWhen I run from a site created with ./bin/calipso site those yellow borders\nare absent and I get no aloha. Same with running on heroku.\nSo it seems like there may be something going on when one either pushes\ncalipso source via git or they create a site from the source, that messes\nup a path. Is this possible?\nIncidentally, I wondered about these lines in package.json:\n\"subdomain\": \"calipso\",\n\"domains\": [\n    \"calip.so\",\n    \"www.calip.so\"\n]\nWhat is their purpose? Obviously a bit of a shot in the dark, but could\nthey have something to do with the 404s?\nIn any case, I'm headed in a direction that won't involve aloha -- so not a\nsupport request but a heads up.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/233\n.\n. Hmmm. Is the static module on? Hmm interesting\nAndy\nSent from my iPhone\nOn Sep 28, 2013, at 5:10 PM, Stu Salsbury notifications@github.com wrote:\nThis happens when aloha is turned on. When it's off, no errors. Put simply,\naloha fails with those 404s when I don't run from my cloned directory -- it\ngets turned on and doesn't work.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/233#issuecomment-25308556\n.\n. I'll check tomorrow\nAndy\nSent from my iPhone\nOn Sep 28, 2013, at 5:43 PM, Stu Salsbury notifications@github.com wrote:\nI had all included modules enabled. I've since disabled aloha. I just tried\nenabling aloha and dsabling static and it doesn't seem to make a different\nw/respect to the 404s.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/233#issuecomment-25309091\n.\n. BTW: The domain and subdomain references are for the nodejitsu deployment. I wish they didn't use the package.json file for their settings, but since I deploy the package from the same folder I had to merge the nodejitsu settings.\n. You guys might to monitor your database. The nodejitsu instance's db just ran close to 500M because of the session table not being cleared of old sessions. Will need to figure this out but I just cleared the session table by hand.\n. Good discussion to have. My thoughts on this\nErrors should usually be logged unless they are expected. For example when\nthe user closes the page mid response there is no reason the put that in\nthe log.\nErrors should not be shown to the user unless they are meaningful.\nEspecially if they might reveal something.\nErrors need to be thrown or passed on if they prevent further work to be\ndone.\nAndy\nSent from my iPhone\nOn Sep 28, 2013, at 8:42 PM, Stu Salsbury notifications@github.com wrote:\nI'm trying to understand the strategy around error handling. Is there a\ndocument I missed?\nI see cases where errors are thrown and where errors are logged and passed\nto next.\nis it safe to say that\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/235\n.\n. Have you looked into this any more? I like the idea. I am planning to make some time on the weekend to get things cleaned up. I have had a lot of things going on.\n. What os? This is the binary package for mongo connections\nAndy\nSent from my iPhone\nOn Sep 30, 2013, at 12:45 PM, glockjt notifications@github.com wrote:\nnpm WARN package.json bson@0.0.4 No readme data.\nevents.js:72\nthrow er; // Unhandled 'error' event\nError: spawn ENOENT\nat errnoException (child_process.js:980:11)\nat Process.ChildProcess._handle.onexit (child_process.js:771:34)\nnpm ERR! weird error 8\nnpm\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/239\n.\n. Do you have visual studio installed? Not sure what bson uses for windows\ncompiles\nAndy\nSent from my iPhone\nOn Sep 30, 2013, at 12:48 PM, glockjt notifications@github.com wrote:\nWindows 7 x64\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/239#issuecomment-25380502\n.\n. Hmm, maybe it's not finding the msbuild exe. Should be in the path though\nAndy\nSent from my iPhone\nOn Sep 30, 2013, at 12:51 PM, glockjt notifications@github.com wrote:\nyes i have visual studio installed\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/239#issuecomment-25380822\n.\n. Can you try to run npm install using an admin shell?\n. I am wondering if we should just get rid of the node 0.8.x testing in Travis. There is some weirdness with the travis compiles of node 0.8 causing problems when defining exports as new objects.\n. Merged and rebased.\n. I merged all the code, but I did not have quite enough time to validate everything and was going to wait before pushing out the npm module containing this code. Let me know if you need it right away, please.\n. I don't think it's our problem. It happens when you have a modules with\njavascript\nmodules.exports = { ... }\nRather than using the object passed in by require and just using\njavascript\nexports.<name> = ...\n.\n.\n.\nTo define each export. Somehow in the first case it causes a timing or\nother problem. Not sure. I spent a while with it and it's still 50% success\nonly. I posted it to travis guys but got nowhere.\nThanks\nAndy\n. Markdown doesn't work in an e-mail:\nI don't think it's our problem. It happens when you have a modules with\njavascript\nmodules.exports = { ... }\nRather than using the object passed in by require and just using\njavascript\nexports.<name> = ...\n.\n.\n.\nTo define each export. Somehow in the first case it causes a timing or\nother problem. Not sure. I spent a while with it and it's still 50% success\nonly. I posted it to travis guys but got nowhere.\nThanks\nAndy\n. Maybe it actually has something to do with calipso not being a module and being imported from different paths.\n. I like the idea, but this is not a good solution since calipso is an npm module itself. Therefore npm install will ignore the node_modules folder and the calipso folder will not get put into the destination.\nAlthough the calipso command could setup this situation during installation. If we can make calipso completely work as an npm module then this could work.\nI think that might be a possibility, but would take some work to do. This would probably involve making modules npm modules as well.\nNot sure if this makes sense right now, but I do see the advantage.\nAndy\nOn Oct 3, 2013, at 6:18 PM, Stu Salsbury notifications@github.com wrote:\n\nNote This may not be how anyone wants to do this -- hopefully we can \ndiscuss if it's not palatable.\nSeemed like an easy way to expose the calipso object so that all of that\n\"path\" business isn't necessary. In the longer run, it would be nice to do\nsome refactoring of dependencies within the system on a larger scale, but\nthis felt like a no-brainer (even though I can see it being questionable if you\ndon't come from a world where you put your own stuff into node_modules).\nI only changed a single instance of the require statement, in part to demonstrate\nthat no existing functionality is impacted by this change -- it just provides a cleaner,\nfaster route to accessing the same object.\nCommit message follows:\nExpose the the calipso object from node_modules so that it can be\naccessed via:\nvar calipso = require('calipso');\nThis will improve performance and obviate the need for almost every module\nto navigate the directory hierarchy in order to gain access to the object.\nYou can merge this Pull Request by running\ngit pull https://github.com/stu-salsbury/calipso calipso-obj-to-node_modules\nOr view, comment on, or merge it at:\nhttps://github.com/cliftonc/calipso/pull/243\nCommit Summary\nfeat(calipso object): make accessible from node_modules\nFile Changes\nM .gitignore (3)\nM app.js (6)\nA node_modules/calipso/index.js (7)\nPatch Links:\nhttps://github.com/cliftonc/calipso/pull/243.patch\nhttps://github.com/cliftonc/calipso/pull/243.diff\n. Merged and Rebased\n. Cool, ok. Some content we can also post on calip.so. There is still some work to do to make sure calip.so is all up to date. I kind of ran out of time after having to upgrade mongoskin to a newer version. You've already fixed some of those problems and I am updating the version on calip.so to match.\nAndy\n\nOn Oct 5, 2013, at 1:33 PM, Stu Salsbury notifications@github.com wrote:\n\nRather than ask about each issue I'm facing as I learn calipso, I'm trying to push through some of them on my own. I'm keeping track of them in this wiki page.\nPlease feel free to coach me if I'm going down the wrong path. The intent is to document aspects of calipso that I didn't immediately \"get\". Hopefully it will end up as a good resource for fleshing out the actual docs. For now, it just sort of documents what I'm learning as I go.\n\u2014\nReply to this email directly or view it on GitHub.\n. Can I close this?\n. I will pull this, but I don't think it's pressing. Thanks for repairing this.\n. Windows, linux or Mac? I will try to get to this on the weekend. Sorry my time was kind of taken up otherwise lately.\n. I will get to this on the weekend. Sorry for the 2 weeks wait.\n. This happens when the max session timeout is not set.\n. Restarted deployment. Not sure what happened. It seems to be going down for no reason.\nI'll monitor it.\n. I will check. Don't know why it's going down. Nothing has changed\nAndy\n\nSent from my iPhone\nOn Feb 6, 2014, at 2:38 PM, arturh85 notifications@github.com wrote:\nWebsite seems down again, reopen of\n171https://github.com/cliftonc/calipso/issues/171\n\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/255\n.\n. Oh yea I restarted it. Sorry about not sending and email\nAndy\nSent from my iPhone\nOn Feb 20, 2014, at 2:21 PM, arturh85 notifications@github.com wrote:\nThanks, works again.\n\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/255#issuecomment-35664523\n.\n. I know I need to spend more time on it, sorry. I am trying to get back.\nAndy\nOn Mar 19, 2014, at 12:16 AM, Steven Vachon notifications@github.com wrote:\n\nI'm not the only one who's wondering this.\n\u2014\nReply to this email directly or view it on GitHub.\n. This is on nodejitsu and it keeps on dying. Not sure why, I don't see any error messages.\nI'll restart it again.\nAndy\n\nOn Mar 26, 2014, at 3:39 PM, DSKVR notifications@github.com wrote:\n\nWondering the same. 404 on http://calip.so/\n\u2014\nReply to this email directly or view it on GitHub.\n. I restarted and pushed a change that should hopefully catch the exception. It seems to happen with badly migrated passwords from bcrypt to pbkdf2.\nThanks\nAndy\n\nOn May 12, 2014, at 1:22 AM, Elie Zedeck RANDRIAMIANDRIRAY notifications@github.com wrote:\n\nFor at least 3 days in a row now, it's been displaying 404.\nI'm aware of the forever package, isn't this a good case to use it? It's really bad for the project to have a Homepage that dies this often.\n\u2014\nReply to this email directly or view it on GitHub.\n. I think I figured out why it was crashing. It's been up for a while now.\nThere was a problem with the bcrypt to pbkdf2 upgrade. This would cause an exception that didn't get dropped.\n. I have been maintaining it although not as active as I'd like to. What specifically do you need to know?\nAndy\n\nOn Jun 13, 2014, at 4:49 PM, samuelgoldenbaum notifications@github.com wrote:\n\nLooking for a resource who knows this project well.\n\u2014\nReply to this email directly or view it on GitHub.\n. Unfortunately nodejitsu is no longer so we\u2019ll need a real web deployment which I haven\u2019t really setup yet.\nI was working on an express 4 branch and a refactor to make the whole calipso a node module. Unfortunately I have a bunch of other things on my plate.\nThanks\nAndy\nOn Nov 24, 2015, at 9:19 AM, Steven Vachon notifications@github.com wrote:\nWebsite's down again.\nWhile I consider calipso dead, especially with Automattic's new \"Calypso\" launched recently, omni https://github.com/chielkunkels/omni is an interesting lib that might help lighten the load in this project.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/257#issuecomment-159280739.\n. :) ok. I'll try to get back to it. At least I didn't mess up the published npm module. My goal was to create a new version using express4 and refactoring so that calipso will be a npm module inside of each deployment rather than a partial copy. Is anyone interested in it or interested in helping?\n. I understand that part. I just don't understand why the app on the nodejitsu console says it's running but yet I need to restart it.\nOnce I restart it then it's up for a while. Need to investigate.\nAndy\n\nOn Mar 26, 2014, at 3:40 PM, DSKVR notifications@github.com wrote:\n\ndskvr$ curl -I calip.so\nHTTP/1.1 404 Not Found\nContent-Type: text/html\nDate: Wed, 26 Mar 2014 19:40:12 GMT\nConnection: keep-alive\n\u2014\nReply to this email directly or view it on GitHub.\n. It's working now. There was an exception bringing this down all the time.\n. Ah yes, we need to fix that. Sorry things are slow right now, I am trying to catch up with too many things.\nI'll take a look\nAndy\n\nOn Apr 2, 2014, at 7:32 PM, Mickael van der Beek notifications@github.com wrote:\n\nI tried to contact the repository owner but didn't get an answer so I thought I would post the issue here just in case one of the many contributors could fix this.\nThere's a very simple but equally dangerous XSS attack vector on the application's usernames.\nTo reproduce, follow these steps:\ncreate a user who's username is something like: alert(1)\nconnect as a moderator / admin\nbrowser to the user list\nyou'll get an alert with the message 1\nThis could lead to CSRF attacks and compromise moderator / admin accounts.\nI'm sure there are numerous other ways to pass XSS attacks in Calipso since there is not input sanitisation or escaping.\nI'd recommend using libraries like the excellent:\nDOMPurify https://github.com/cure53/DOMPurify\nor\nGoogle Caja https://code.google.com/p/google-caja/\n\u2014\nReply to this email directly or view it on GitHub.\n. To pull them into the content pages you would need to pick them up within new templates in your theme. By adding them here they should show up in the admin pages to add the information to the content records.\n. Problems with admin forms.\n./themes when saving the main admin form. \"/\" should be allowed there.\n. It's ok. I tested just the main admin pages. As long as they work we should\nbe ok. I wish I hadn't merged yet. I am actually working on the\nmodule_refactor branch which changes calipso to be a module. It requires one\nadditional line in the require preamble but otherwise works the same. If\nyou rebase and make pull requests there it's less likely to affect people\npulling master until I switch\nAndy\n\nSent from my iPhone\nOn Jun 4, 2014, at 8:43 AM, Mickael van der Beek notifications@github.com\nwrote:\nYes, I saw yesterday that there were some issues remaining due to my code\nbasically forcing escaping on input data and links having hard-coded\nconcatenation with variable that contained non-URL-encoded characters.\nI did my best to remove most of them but I think that there are still a few\nleft.\nSince I don't know the architecture of Calipso well enough, it's difficult\nto spot those cases.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/pull/261#issuecomment-45085358.\n. Also merged this into module_refactor and will work on it there. Will need to see whether we should roll back master for other people; hopefully they are using the npm module which I didn't bump yet.\n. This commit is causing serious problem. The html escape is happening during the configuration fields causing #&2f; to be part of all path values that have a /. Did you notice this problem? I am not sure why we want to escape both text and textarea type string fields? Do we need to add another field category for configuration fields?\n. I removed the \"text\" field escape for now. I would like to know specifically what fields needed to be cleaned up by the addition of this code to be able to make a decision whether we need a new \"cleantext\" which gets cleaned up or a \"rawtext\" field to be used inside of all configuration string fields or a \"path\" type string field for file paths.\n. Fixed but not published to npm yet.\n. Did you have a config file previous to this or are you using a MONGO_URI environment variable?\nMONGO_URI environment variable is the best way to do this, because most deployment systems like heroku or nodejisu use environment variables to defined database connections.\nThe old config file method is error prone.\nThanks\nAndy\nOn Aug 30, 2014, at 8:01 PM, tomchambers2 notifications@github.com wrote:\n\nFreshly cloned from repo, did npm install and got to the last setup page when I got this error.\n$ node app\n31 Aug 00:57:21 - debug: beggining to deal with 'stack'\n31 Aug 00:57:21 - debug: calipso.app.stack found theme.static\n31 Aug 00:57:21 - debug: calipso.app.stack WITH THEME = [ { route: '', handle: [Function: query] },\n  { route: '', handle: [Function: expressInit] },\n  { route: '', handle: [Function: bodyParser] },\n  { route: '', handle: [Function] },\n  { route: '', handle: [Function: methodOverride] },\n  { route: '', handle: [Function: cookieParser] },\n  { route: '', handle: [Function] },\n  { route: '', handle: { [Function: session] tag: 'session' } },\n  { route: '', handle: [Function] },\n  { route: '',\n    handle: { [Function: static] tag: 'theme.static' } },\n  { route: '', handle: [Function: static] },\n  { route: '', handle: [Function: static] },\n  { route: '', handle: [Function] } ]\nCalipso version: 0.3.51\nCalipso configured for: development environment.\nCalipso server listening on port: 3000\nInstallation Password: \"bqSJTmvHWeOZbGvLJbIWfklGEsKW8s1Zaw==\" (inside quotes)\n31 Aug 00:57:46 - error: Unable to connect to the specified database mongodb://localhost/calipso, the problem was: failed to connect to [mongodb:27017]\n$ mongod\nmongod --help for help and startup options\n2014-08-31T00:57:06.652+0100 [initandlisten] MongoDB starting : pid=43905 port=27017 dbpath=/data/db 64-bit host=Toms-MacBook-Pro-2.local\n2014-08-31T00:57:06.653+0100 [initandlisten] db version v2.6.4\n2014-08-31T00:57:06.653+0100 [initandlisten] git version: nogitversion\n2014-08-31T00:57:06.653+0100 [initandlisten] build info: Darwin Toms-MacBook-Pro-2.local 14.0.0 Darwin Kernel Version 14.0.0: Sat Aug  9 00:14:02 PDT 2014; root:xnu-2782.1.80~2/RELEASE_X86_64 x86_64 BOOST_LIB_VERSION=1_49\n2014-08-31T00:57:06.653+0100 [initandlisten] allocator: tcmalloc\n2014-08-31T00:57:06.653+0100 [initandlisten] options: {}\n2014-08-31T00:57:06.653+0100 [initandlisten] journal dir=/data/db/journal\n2014-08-31T00:57:06.653+0100 [initandlisten] recover : no journal files present, no recovery needed\n2014-08-31T00:57:06.713+0100 [initandlisten] waiting for connections on port 27017\n2014-08-31T00:57:32.987+0100 [initandlisten] connection accepted from 127.0.0.1:51153 #1 (1 connection now open)\n2014-08-31T00:57:32.989+0100 [initandlisten] connection accepted from 127.0.0.1:51154 #2 (2 connections now open)\n2014-08-31T00:57:32.990+0100 [initandlisten] connection accepted from 127.0.0.1:51155 #3 (3 connections now open)\n2014-08-31T00:57:32.991+0100 [initandlisten] connection accepted from 127.0.0.1:51156 #4 (4 connections now open)\n2014-08-31T00:57:32.993+0100 [initandlisten] connection accepted from 127.0.0.1:51157 #5 (5 connections now open)\n2014-08-31T00:57:46.074+0100 [conn1] end connection 127.0.0.1:51153 (4 connections now open)\n2014-08-31T00:57:46.074+0100 [conn2] end connection 127.0.0.1:51154 (3 connections now open)\n2014-08-31T00:57:46.074+0100 [conn3] end connection 127.0.0.1:51155 (2 connections now open)\n2014-08-31T00:57:46.075+0100 [conn4] end connection 127.0.0.1:51156 (1 connection now open)\n2014-08-31T00:57:46.075+0100 [conn5] end connection 127.0.0.1:51157 (0 connections now open)\n\u2014\nReply to this email directly or view it on GitHub.\n. For node-gyp to work you need python. For the native extensions you'll need\nvisual studio as well. That's kind of a node/windows thing and not really\nrelated to calipso though. Bcrypt is an optional dependency though if onpy\nthat fails you should still be fine\nAndy\n\nSent from my iPhone\nOn Oct 10, 2014, at 6:55 AM, semiaddict notifications@github.com wrote:\nI a have been trying to install calipso on my Windows machine for a couple\nof days now.\nI keep getting a couple of warnings and an error (see the lines in bold\nbelow).\nI upgraded nodejs to the latest version and still get the same error.\nI am missing something ?\nI saw that others has some issues with Windows, but I'm not sure if it is\nthe same problem as they date back to 2012.\nNote that I also tries installing from a git clone, but got the same error.\nC:\\Users\\semiaddict>npm install -g calipso\nnpm WARN excluding symbolic link index.js -> lib/connect-form.js\n\nbcrypt@0.7.8 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\nnode-gyp rebuild\n\n\\\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt>node\n\"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_mod\nules\\node-gyp\\bin\\node-gyp.js\" rebuild\ngyp ERR! configure error\ngyp ERR! stack Error: Can't find Python executable \"python\", you can set\nthe PYTHON env variable.\ngyp ERR! stack at failNoPython (C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\configure.js:103:14)\ngyp ERR! stack at C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\configure.js:64:11\ngyp ERR! stack at Object.oncomplete (evalmachine.:107:15)\ngyp ERR! System Windows_NT 6.2.9200\ngyp ERR! command \"node\" \"C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\"\n\"rebuild\"\ngyp ERR! cwd\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\ngyp ERR! node -v v0.10.32\ngyp ERR! node-gyp -v v1.0.1\ngyp ERR! not ok\nnpm WARN optional dep failed, continuing bcrypt@0.7.8\n\\\n\nkerberos@0.0.4 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\njs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\n\\\n\nbson@0.2.15 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson>node\n\"C:\\Program Files\\nodejs\\n\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\n/\n\nkerberos@0.0.3 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos>node\n\"C:\\Program Files\\nodejs\\node\n_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\n\\\n\nbson@0.2.2 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson>node\n\"C:\\Program Files\\nodejs\\node_mod\nules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\n/\n\nweak@0.1.5 preinstall\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\weak\nnode build.js\n\nnpm WARN excluding symbolic link lib\\socket.io-client.js -> io.js\n|\n\nws@0.4.32 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\socket.io-client\\node_modules\\ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\socket.io-client\\node_modules\\ws>node \"C:\\Program\nFiles\\nodejs\\no\nde_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\calipso ->\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\bin\\calipso\n\ncalipso@0.3.50 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\nbash ./bin/install.sh\n\n'bash' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! calipso@0.3.50 install: bash ./bin/install.sh npm ERR! Exit\nstatus 1 npm ERR! npm ERR! Failed at the calipso@0.3.50 install script. npm\nERR! This is most likely a problem with the calipso package, npm ERR! not\nwith npm itself. npm ERR! Tell the author that this fails on your system:\nnpm ERR! bash ./bin/install.sh npm ERR! You can get their info via: npm\nERR! npm owner ls calipso npm ERR! There is likely additional logging\noutput above. npm ERR! System Windows_NT 6.2.9200 npm ERR! command\n\"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program\nFiles\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"-g\" \"calipso\" npm\nERR! cwd C:\\Users\\semiaddict npm ERR! node -v v0.10.32 npm ERR! npm -v\n1.4.28 npm ERR! code ELIFECYCLE npm ERR! not ok code 0\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/264.\n. I would just forget about bcrypt. It's for backwards compatibility. Maybe I\nshould remove the dependency altogether.\nAndy\nSent from my iPhone\nOn Oct 10, 2014, at 9:33 AM, semiaddict notifications@github.com wrote:\nThank you richtera.\nI installed Python 2.7.8 as well as Visual Studio Express 2013 and now I am\ngetting different errors related to the inclusion of qos.h :\nC:\\Users\\semiaddict>npm install -g calipso\nnpm WARN excluding symbolic link index.js -> lib/connect-form.js\n/\n\nbcrypt@0.7.8 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\nnode-gyp rebuild\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt>node\n\"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_mod\nules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nblowfish.cc\nbcrypt.cc\nbcrypt_node.cc\n..\\src\\bcrypt.cc(232): warning C4267: '=' : conversion from 'size_t' to\n'unsigned char', possible loss of data\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_mo\ndules\\calipso\\node_modules\\bcrypt\\build\\bcrypt_lib.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n(..\\src\\bcr ypt_node.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\\build\\bcrypt_lib.vcxproj]\ngyp ERR! build error gyp ERR! stack Error: C:\\Program Files\n(x86)\\MSBuild\\12.0\\bin\\msbuild.exe failed with exit code: 1 gyp ERR! stack\nat ChildProcess.onExit (C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\build.js:267:23)\ngyp ERR! stack at ChildProcess.emit (events.js:98:17) gyp ERR! stack at\nProcess.ChildProcess._handle.onexit (child_process.js:810:12) gyp ERR!\nSystem Windows_NT 6.2.9200 gyp ERR! command \"node\" \"C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\"\n\"rebuild\" gyp ERR! cwd\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\ngyp ERR! node -v v0.10.32 node-gyp -v v1.0.1 gyp ERR! not ok npm WARN\nexcluding symbolic link lib\\socket.io-client.js -> io.js npm WARN optional\ndep failed, continuing bcrypt@0.7.8\n\nkerberos@0.0.3 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\n_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nkerberos.cc\nworker.cc\nsecurity_buffer.cc\nsecurity_buffer_descriptor.cc\nsecurity_context.cc\nsecurity_credentials.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n(..\\lib\\win 32\\worker.cc http://worker.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerberos.vcx\nproj] C:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882):\nfatal error C1083: Cannot open include file: 'qos.h': No such file or\ndirectory (..\\lib\\win 32\\kerberos.cc http://kerberos.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerberos.v\ncxproj] C:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882):\nfatal error C1083: Cannot open include file: 'qos.h': No such file or\ndirectory (..\\lib\\win 32\\wrappers\\security_buffer_descriptor.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_module\ns\\kerberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\\nbuild\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_credentials.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerb\neros\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_context.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n\\build\\kerberos.vcxproj]\n\nkerberos@0.0.4 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos>node\n\"C:\\Program Files\\node\njs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nkerberos.cc\nworker.cc\nsecurity_buffer.cc\nsecurity_buffer_descriptor.cc\nsecurity_context.cc\nsecurity_credentials.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n(..\\lib\\win 32\\worker.cc http://worker.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerbe\nros.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer_descriptor.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node\n_modules\\kerberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\ke\nrberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_credentials.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modul\nes\\kerberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win 32\\kerberos.cc\nhttp://kerberos.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\\build\\ker\nberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_context.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\k\nerberos\\build\\kerberos.vcxproj]\n\nbson@0.2.15 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson>node\n\"C:\\Program Files\\nodejs\\n\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nbson.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n[C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\\build\\bson.vcxproj]\n\nweak@0.1.5 preinstall\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\weak\nnode build.js\nbson@0.2.2 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson>node\n\"C:\\Program Files\\nodejs\\node_mod\nules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nbson.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n[C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\\build\\bson.vcxproj]\n\nws@0.4.32 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\socket.io-client\\node_modules\\ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\socket.io-client\\node_modules\\ws>node \"C:\\Program\nFiles\\nodejs\\no\nde_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nbufferutil.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n[C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\nhttp://hook.io\\node_modules\\socket.io-client\\node_modules\\ws\\build\\bufferutil.vcxproj]\nvalidation.cc http://validation.cc C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory [C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\nhttp://hook.io\\node_modules\\socket.io-client\\node_modules\\ws\\build\\validation.vcxproj]\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\calipso ->\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\bin\\calipso\n\ncalipso@0.3.50 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\nbash ./bin/install.sh\n\n'bash' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! calipso@0.3.50 install: bash ./bin/install.sh npm ERR! Exit\nstatus 1 npm ERR! npm ERR! Failed at the calipso@0.3.50 install script. npm\nERR! This is most likely a problem with the calipso package, npm ERR! not\nwith npm itself. npm ERR! Tell the author that this fails on your system:\nnpm ERR! bash ./bin/install.sh npm ERR! You can get their info via: npm\nERR! npm owner ls calipso npm ERR! There is likely additional logging\noutput above. npm ERR! System Windows_NT 6.2.9200 npm ERR! command\n\"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program\nFiles\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"-g\" \"calipso\" npm\nERR! cwd C:\\Users\\semiaddict npm ERR! node -v v0.10.32 npm ERR! npm -v\n1.4.28 npm ERR! code ELIFECYCLE npm ERR! not ok code 0\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/264#issuecomment-58655695.\n. Try to git clone calipso and do npm install .\nIt should not fail if bcrypt doesn't work.\nI haven't checked on windows for a bit :(\nAndy\nSent from my iPhone\nOn Oct 10, 2014, at 9:33 AM, semiaddict notifications@github.com wrote:\nThank you richtera.\nI installed Python 2.7.8 as well as Visual Studio Express 2013 and now I am\ngetting different errors related to the inclusion of qos.h :\nC:\\Users\\semiaddict>npm install -g calipso\nnpm WARN excluding symbolic link index.js -> lib/connect-form.js\n/\n\nbcrypt@0.7.8 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\nnode-gyp rebuild\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt>node\n\"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_mod\nules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nblowfish.cc\nbcrypt.cc\nbcrypt_node.cc\n..\\src\\bcrypt.cc(232): warning C4267: '=' : conversion from 'size_t' to\n'unsigned char', possible loss of data\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_mo\ndules\\calipso\\node_modules\\bcrypt\\build\\bcrypt_lib.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n(..\\src\\bcr ypt_node.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\\build\\bcrypt_lib.vcxproj]\ngyp ERR! build error gyp ERR! stack Error: C:\\Program Files\n(x86)\\MSBuild\\12.0\\bin\\msbuild.exe failed with exit code: 1 gyp ERR! stack\nat ChildProcess.onExit (C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\build.js:267:23)\ngyp ERR! stack at ChildProcess.emit (events.js:98:17) gyp ERR! stack at\nProcess.ChildProcess._handle.onexit (child_process.js:810:12) gyp ERR!\nSystem Windows_NT 6.2.9200 gyp ERR! command \"node\" \"C:\\Program\nFiles\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\"\n\"rebuild\" gyp ERR! cwd\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\ngyp ERR! node -v v0.10.32 node-gyp -v v1.0.1 gyp ERR! not ok npm WARN\nexcluding symbolic link lib\\socket.io-client.js -> io.js npm WARN optional\ndep failed, continuing bcrypt@0.7.8\n\nkerberos@0.0.3 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\n_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nkerberos.cc\nworker.cc\nsecurity_buffer.cc\nsecurity_buffer_descriptor.cc\nsecurity_context.cc\nsecurity_credentials.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n(..\\lib\\win 32\\worker.cc http://worker.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerberos.vcx\nproj] C:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882):\nfatal error C1083: Cannot open include file: 'qos.h': No such file or\ndirectory (..\\lib\\win 32\\kerberos.cc http://kerberos.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerberos.v\ncxproj] C:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882):\nfatal error C1083: Cannot open include file: 'qos.h': No such file or\ndirectory (..\\lib\\win 32\\wrappers\\security_buffer_descriptor.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_module\ns\\kerberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\\nbuild\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_credentials.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerb\neros\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_context.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n\\build\\kerberos.vcxproj]\n\nkerberos@0.0.4 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos>node\n\"C:\\Program Files\\node\njs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nkerberos.cc\nworker.cc\nsecurity_buffer.cc\nsecurity_buffer_descriptor.cc\nsecurity_context.cc\nsecurity_credentials.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n(..\\lib\\win 32\\worker.cc http://worker.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerbe\nros.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer_descriptor.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node\n_modules\\kerberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\ke\nrberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_credentials.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modul\nes\\kerberos\\build\\kerberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win 32\\kerberos.cc\nhttp://kerberos.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\\build\\ker\nberos.vcxproj] C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_context.cc)\n[C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\k\nerberos\\build\\kerberos.vcxproj]\n\nbson@0.2.15 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson>node\n\"C:\\Program Files\\nodejs\\n\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nbson.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n[C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\\build\\bson.vcxproj]\n\nweak@0.1.5 preinstall\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\weak\nnode build.js\nbson@0.2.2 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson>node\n\"C:\\Program Files\\nodejs\\node_mod\nules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nbson.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n[C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\\build\\bson.vcxproj]\n\nws@0.4.32 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\socket.io-client\\node_modules\\ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\\nhook.io\\node_modules\\socket.io-client\\node_modules\\ws>node \"C:\\Program\nFiles\\nodejs\\no\nde_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\"\nrebuild\nBuilding the projects in this solution one at a time. To enable parallel\nbuild, please add the \"/m\" switch.\nbufferutil.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal\nerror C1083: Cannot open include file: 'qos.h': No such file or directory\n[C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\nhttp://hook.io\\node_modules\\socket.io-client\\node_modules\\ws\\build\\bufferutil.vcxproj]\nvalidation.cc http://validation.cc C:\\Program Files (x86)\\Windows\nKits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include\nfile: 'qos.h': No such file or directory [C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\nhttp://hook.io\\node_modules\\socket.io-client\\node_modules\\ws\\build\\validation.vcxproj]\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\calipso ->\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\bin\\calipso\n\ncalipso@0.3.50 install\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\nbash ./bin/install.sh\n\n'bash' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! calipso@0.3.50 install: bash ./bin/install.sh npm ERR! Exit\nstatus 1 npm ERR! npm ERR! Failed at the calipso@0.3.50 install script. npm\nERR! This is most likely a problem with the calipso package, npm ERR! not\nwith npm itself. npm ERR! Tell the author that this fails on your system:\nnpm ERR! bash ./bin/install.sh npm ERR! You can get their info via: npm\nERR! npm owner ls calipso npm ERR! There is likely additional logging\noutput above. npm ERR! System Windows_NT 6.2.9200 npm ERR! command\n\"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program\nFiles\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"-g\" \"calipso\" npm\nERR! cwd C:\\Users\\semiaddict npm ERR! node -v v0.10.32 npm ERR! npm -v\n1.4.28 npm ERR! code ELIFECYCLE npm ERR! not ok code 0\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/264#issuecomment-58655695.\n. Basically the npm module will rewrite shell scripts using the bash executable. Not sure if this has been re-designed for later nodejs versions but usually I have bash installed as part of git or as part of cygwin.\n. But node is the nodejs executable. Can you type node on the conmand line?\nAndy\nSent from my iPhone\nOn Oct 29, 2014, at 9:46 PM, jayp notifications@github.com wrote:\ncalipso\n/usr/local/bin/calipso: line 10: exec: node: not found\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/265.\n. The styling might be a little outdated, yes. If your still having trouble there is a module_refactor branch which is the next version. It uses the whole calipso module as a submodule to the site you're building rather than trying to do a shell install. I was going to update the npm a few months ago but other things got in the way. You would download it then do npm install -g . in the folder to install calipso globally. Then you should be able to use the calipso command line. The module refactor should also work locally within the repo. Are you using a MONGO_URI or a config file?\nThanks\nAndy\n\nOn Oct 29, 2014, at 10:32 PM, jayp notifications@github.com wrote:\nand black background on http://calip.so/ http://calip.so/ looks ugly.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/265#issuecomment-61037513.\n. Did you install mongo on your server and start it? Alternatively you can\nprovide a MONGO_URI environment variable. Do you have an old config file or\nis there a bug that tries to connect before you can configure the database\nurl?\nAndy\n\nSent from my iPhone\nOn Dec 5, 2014, at 9:29 AM, ETS REPO notifications@github.com wrote:\nif installation pass has any forward slash / then installation form not\naccepting it, and not going further but if it has no forwards slash then it\naccepting\nand even though mongodb url is given correctly its getting error like\n5 Dec 19:51:04 - error: Unable to connect to the specified database\nmongodb://localhost:27017/calipso, the problem was:\nfailed to connect to [mongodb:27017]\n[image: image]\nhttps://cloud.githubusercontent.com/assets/3172168/5317004/55112248-7cb8-11e4-8df5-3b22c4fb10a3.png\n[image: image]\nhttps://cloud.githubusercontent.com/assets/3172168/5317015/76cc149c-7cb8-11e4-9341-fea346fda705.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/266.\n. The installation password is not and error. Basically when you go to the site it will ask for an installation password which has to be the one in the application's log. What do you mean \"normal user\"? Calipso only runs when it's connected to a mongodb instance. The password protects you from someone else setting up your site when you're hosting it. Only the person that has access to the console log will know the password.\nDoes that make sense or are you still stuck?\nThanks\nAndy\n\nOn Dec 6, 2014, at 7:56 AM, ETS REPO notifications@github.com wrote:\nwell for mongo its ok for professional user can work on but not normal user\nI have installed already\nbut what about installation password error ...?\ndid you checked it?\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/266#issuecomment-65895982.\n. I have recently seen some kind of / to / conversion in other places as well. I wonder if this is node version specific. I just resolve a similar problem with the installation password by changing it to  hex string. I don\u2019t know where an how this conversion is happening.\nAndy\nOn Dec 5, 2014, at 9:29 AM, ETS REPO notifications@github.com wrote:\nif installation pass has any forward slash / then installation form not accepting it, and not going further but if it has no forwards slash then it accepting\nand even though mongodb url is given correctly its getting error like\n5 Dec 19:51:04 - error: Unable to connect to the specified database mongodb://localhost:27017/calipso, the problem was: failed to connect to [mongodb:27017]\nhttps://cloud.githubusercontent.com/assets/3172168/5317004/55112248-7cb8-11e4-8df5-3b22c4fb10a3.png\n https://cloud.githubusercontent.com/assets/3172168/5317015/76cc149c-7cb8-11e4-9341-fea346fda705.png\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/266.\n. This was due to a html escape cleanup merged in june. I undid this changed and published.\nI am not quite sure what the author wanted to escape fields of type \"text\" for so I asked what the original reason was so that we can determine whether it makes sense to create a new field type for text that gets escaped or a new field type for text that doesn't get escaped. Thanks for notifying me.\n. Which branch are you using, I thought this was fixed some time ago, but I'll make sure it gets into whatever branch you're using.\nThanks\nAndy\nOn Dec 15, 2014, at 4:44 AM, Alex notifications@github.com wrote:\nHello, hope that this will really help. I have Calipso working on my 80 port, so some guys constantly are bombing 80 port with proxy-search requests\nGET http://www.baidu.com/ HTTP/1.1\nUser-Agent: Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.1; WOW64; Trident/5.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; .NET4.0C; .NET4.0E)\nContent-Type: application/x-www-form-urlencoded\nAccept: /\nReferer: http://www.baidu.com/\nHost: www.baidu.com\nAccept-Encoding: gzip, deflate\nProxy-Connection: Keep-Alive\nThe problem is that when these requests happen, following error crashes the Calipso\nCannot read property 'user' of undefined\nTypeError: Cannot read property 'user' of undefined\n    at PermissionFilter.check (C:\\calipso\\production\\lib\\core\\Permission.js:183:27)\n    at CalipsoMenu.addMenuItem (C:\\calipso\\production\\lib\\core\\Menu.js:83:27)\n    at Object.route (C:\\calipso\\production\\modules\\community\\geothemes\\geothemes.js:96:19)\n    at routeModule (C:\\calipso\\production\\lib\\core\\Module.js:133:15)\n    at iterator (C:\\calipso\\production\\lib\\core\\Module.js:54:5)\n    at _asyncMap (C:\\calipso\\production\\node_modules\\async\\lib\\async.js:185:13)\n    at async.forEach (C:\\calipso\\production\\node_modules\\async\\lib\\async.js:86:13)\n    at Array.forEach (native)\n    at _forEach (C:\\calipso\\production\\node_modules\\async\\lib\\async.js:26:24)\n    at async.forEach (C:\\calipso\\production\\node_modules\\async\\lib\\async.js:85:9)\nC:\\calipso\\production\\node_modules\\step\\lib\\step.js:39\n        throw arguments[0];\n                       ^\nTypeError: Cannot read property 'user' of undefined\n    at PermissionFilter.check (C:\\calipso\\production\\lib\\core\\Permission.js:183:27)\n    at CalipsoMenu.addMenuItem (C:\\calipso\\production\\lib\\core\\Menu.js:83:27)\n    at C:\\calipso\\production\\lib\\core\\Module.js:145:24\n    at Function.allMatched (C:\\calipso\\production\\lib\\core\\Router.js:254:11)\n    at next (C:\\calipso\\production\\node_modules\\step\\lib\\step.js:51:23)\n    at next.parallel (C:\\calipso\\production\\node_modules\\step\\lib\\step.js:83:14)\n    at check (C:\\calipso\\production\\node_modules\\step\\lib\\step.js:99:9)\n    at process.startup.processNextTick.process._tickCallback (node.js:244:9)\nI've made a bit of research, and it appears that in the case of these requests object req.session is not initialized, so the application crashes when tries to use it. So, I had to make a terrible, but working fix - in calipso.js, in routingFn() I've put this code:\n/*\nFix for not-initialized session in Express - weird requests cause broken session,\nso everything that relies upon it - breaks as well.\n*/\nif (!req.session) {\n    console.log(\"Fake session insert\");\n    req.session = {\n        cookie: { path: '/', _expires: '', originalMaxAge: '', httpOnly: true },\n        user: {isAdmin: false},\n        fake: true\n    };\nI understand that this is an issue of Express or Everyauth library, but maybe there is a known solution for Calipso.\nAnd thanks for a Calipso CMS!\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/267.\n. I pushed and published a fix to this. I am currently working on the module_refactor which now also contains this fix.\nThe module refactor branch uses calipso as a normal npm module instead of the current \u201ccopy into place kind of thing\u201d\nThanks\nAndy\nOn Dec 15, 2014, at 4:44 AM, Alex notifications@github.com wrote:\n183\n. BTW: Which authentication are you using? I was unable to readily reproduce the problem, but I could see that the code didn\u2019t double check that req.session was set.\nAndy\nOn Dec 15, 2014, at 4:44 AM, Alex notifications@github.com wrote:\n183\n. I fixed the error in both branches and published a new npm. Eventually i\nwill migrate the npm to the new branch\nAndy\n\nSent from my iPhone\nOn Dec 19, 2014, at 12:46 AM, Alex notifications@github.com wrote:\nThanks for an explanation!\nSo, basically I should migrate to module_refactor branch is order to avoid\nthis error?\nI was using basic authentication with login/password stored in the MongoDB\nwithout bcrypt (because of Windows operating-system).\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/267#issuecomment-67600903.\n. This has been fixed.\n. You're still seeing the session problem?\nAndy\nSent from my iPhone\nOn Dec 22, 2014, at 8:42 AM, Alex notifications@github.com wrote:\nWell, I guess it is a Windows thing, but I manage to recreate this bug on\nmaster and module_refactor freshly-installed branch.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/cliftonc/calipso/issues/267#issuecomment-67837929.\n. This must be in a second place then. I saw you added an initialization to the session, but that can cause problems with the authentication system.\nI wonder how to debug this. Ok. I\u2019ll check out whether I forgot another place to check that both session and session.user is defined.\nAndy\n\nOn Dec 22, 2014, at 9:23 AM, Alex notifications@github.com wrote:\nYes, the same problem - the log from the very installation is shown below. The error is thrown because no session is initialized (unable to read req.session.user property)\n22 Dec 22:40:39 - info: Installing module content\n22 Dec 22:40:39 - info: Installing module contentTypes\n22 Dec 22:40:39 - info: Installing module permissions\n22 Dec 22:40:39 - info: Installing module user\n22 Dec 22:40:39 - info: Content types module installed ...\n22 Dec 22:40:39 - info: Content module installed ...\n22 Dec 22:40:39 - info: User module installed ...\n22 Dec 22:40:39 - info: User Roles sub-module installed ...\n22 Dec 22:41:12 - error: Cannot read property 'user' of undefined Calipso Module: user\n22 Dec 22:41:12 - info: No Calipso module routes matched the current URL /http://www.baidu.com/\nC:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:39\n        throw arguments[0];\n                       ^\nTypeError: Cannot read property 'user' of undefined\n    at processTheme (C:\\calipso\\testrefactor\\lib\\core\\Themes.js:407:30)\n    at Object.module.exports.Theme.theme.render (C:\\calipso\\testrefactor\\lib\\core\\Themes.js:132:11)\n    at doResponse (C:\\calipso\\testrefactor\\lib\\core\\Module.js:304:19)\n    at C:\\calipso\\testrefactor\\lib\\core\\Module.js:186:7\n    at Function.done (C:\\calipso\\testrefactor\\lib\\core\\Module.js:273:7)\n    at next (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:51:23)\n    at next.parallel (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:83:14)\n    at check (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:99:9)\n    at next.group (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:116:22)\n    at Function.allMatched (C:\\calipso\\testrefactor\\lib\\core\\Router.js:269:11)\nC:\\calipso\\testrefactor>\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/267#issuecomment-67841865.\n. I am unable to get into a scenario where the session is undefined. Which URL are you executing when this happens?\nThanks\nAndy\nOn Dec 22, 2014, at 9:56 AM, Alex notifications@github.com wrote:\nThanks a lot! I'll try to examine it as well.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/cliftonc/calipso/issues/267#issuecomment-67845502.\n. This seems to actually be a bug in express.session. If the URL doesn't start with / then session will not get defined at all. I added a wrapper to express.session to default the session to {} in that case.\nI just pushed this to both branches.\n. Sorry we currently have no provider for this. It was hosted on nodejitsu which no longer exists.\n. \n",
    "ncb000gt": "I figured. I just now came across the cms and just happened to take a look at the auth code. :)\nThought I'd mention it.\n. I recommend using the bcrypt module above (completely biased) but AES allows decryption and your random key is based on JS randomization. Really both of those aren't things you want with passwords. And, ultimately you don't even want to store a password, encrypted, hashed or otherwise, if you can help it.\n. I doubt I know much more about the topic. I'm more of a hobbyist but have had arguments with crypto people before (who reminded me of how little I actually know on the subject) :).\nOAuth would be a very good way to go with this. Twitter, Facebook, etc. all have teams dedicated to security itself, it's better to toss the work onto them. But, in a CMS you can't assume that a project will allow use of those systems. Not to forget the fact that those require accounts on those platforms and you'll be leaving some users out that way.\nSo, having an alternative where you don't need those platforms is good. The point about not storing the password itself is that if your system is compromised and your DB files are stolen, the attacker could get the data back. The problem there is that if you have passwords in that DB you have left your users open, since most people only use one password for everything anyway. So, if you can store the \"random\" data and use the password (which can be thrown away) as a throwaway value then you are protecting your users almost as much as possible and making it so that an attacker would get gibberish data.\n. I've worked on content management systems before. I know what kind of workload you have. It's not easy to research everything before implementing. But, thats why github is so awesome right- peer review! :)\nRegardless, thanks for being amenable to it.\n. At a quick glance it looks good. Glad the bcrypt lib was easy enough to use.\nThe salt that is generated is stored in the hash you get back. More details on the algorithm itself are at http://en.wikipedia.org/wiki/Bcrypt. However, if you find a flaw with my implementation please let me know. I'll fix it asap.\n. ",
    "tommoor": "+1 this should be fixed asap, it just looks bad to take security this lightly.\n. Upon installation calipso still tells you that the username is 'user' ... i don't think this is closed?\n. ",
    "mvvershinin": "i'm forger to write - testing node like \"hello world\" in browser work fine.\n. yes i run it, and all was without errors. may you tell me where i may see logs or something else.\n. in console was only \"illegal instruction\" i try to find in /var/log anything\nelse, but there are nothing look like from node.js. But \"hello world\"\nworknormal from calipso directory.\ni try to find what a problem , and tell about it. may be it error not from\ncalipso.\n2011/5/20 cliftonc \nreply@reply.github.com\n\nIt will log any errors to the console, so you should see them immediately,\nit seems to be failing very early in the start up process if you are\ngetting\nthat error immediately.\nAre you able to run any other nodejs applications (e.g. a hello world\nexpress application)?\nAre you in the calipso folder?  (e.g if you did git clone to /var/www then\nare you in /var/www/calipso)?\nClifton\nOn 20 May 2011 11:40, mvvershinin \nreply@reply.github.comwrote:\n\nyes i run it, and all was without errors. may you tell me where i may see\nlogs or something else.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/10#comment_1209216\n\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/10#comment_1209382\n\n\n,\nmvvershinin@gmail.com\nICQ 284713125\n. ",
    "dtan": "@mvvershinin are you still getting this problem?\n. have you looked at mongoose-auth or everyauth?  I'm sure if one of those routes were taken, the current login/user module would have to be refactored extensively.\n. closed by #77\n. @kmiyashiro - we're talking about the same symphony?  I think their admin UI is well organized.  I haven't used Wordpress in a while but i really don't think their admin is that great.  I've never used squarespace before.\n. ok, just making sure b/c i know a lot of people would just default to symfony.  yes, symphony is targeted more towards a developer base than a casual user.  I guess since i'm coming from that area i'm used to that type of interface and not a wordpress one where it's widespread for most people.  I opened an issue about being able to delete a user waaay too easily.  Small details like that i think symphony handles well in that you have to navigate to another part of the screen to delete something.  how does wp handle that type of stuff?  is it somewhat similar?\n. here is the output on osx when running ./bin/install.sh:\n$ ./bin/install.sh \nUsing Node version: v0.4.9\nUsing NPM version: 1.0.10\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking for libexpat ...\nfind: /usr/local/mysql-5.1.47-osx10.6-x86_64/data: Permission denied # this is system dependent\nLibexpat OK\nInstalling dependencies via NPM ... please be patient this can take a few minutes ...\nChecking for program g++ or c++          : /usr/bin/g++ \nChecking for program cpp                 : /usr/bin/cpp \nChecking for program ar                  : /usr/bin/ar \nChecking for program ranlib              : /usr/bin/ranlib \nChecking for g++                         : ok\nChecking for node path                   : not found \nChecking for node prefix                 : ok /usr/local/Cellar/node/0.4.9 \n'configure' finished successfully (0.086s)\nWaf: Entering directory /projects/calipso/node_modules/mongodb/external-libs/bson/build'\n[1/9] cxx: bson.cc -> build/default/bson_1.o\n[2/9] cxx: long.cc -> build/default/long_1.o\n[3/9] cxx: objectid.cc -> build/default/objectid_1.o\n[4/9] cxx: binary.cc -> build/default/binary_1.o\n[5/9] cxx: code.cc -> build/default/code_1.o\n[6/9] cxx: dbref.cc -> build/default/dbref_1.o\n[7/9] cxx: timestamp.cc -> build/default/timestamp_1.o\n[8/9] cxx: local.cc -> build/default/local_1.o\n[9/9] cxx_link: build/default/bson_1.o build/default/long_1.o build/default/objectid_1.o build/default/binary_1.o build/default/code_1.o build/default/dbref_1.o build/default/timestamp_1.o build/default/local_1.o -> build/default/bson.node\nWaf: Leaving directory/projects/calipso/node_modules/mongodb/external-libs/bson/build'\n'build' finished successfully (4.343s)\n(not in NODE_PATH env variable)\nChecking that key modules are installed...\n  express module ...  found.\n  mongodb module ...  found.\n  node-expat module ...  found.\nRunning sanity tests ...\nand the test scripts do not fire for some reason, but still allows me to run calipso.\n. clifton, the main reason for the first one was that the port was hardcode in the development.js conf.  If you change your port (like i have for both my localhost and mongodb b/c of multiple node instances running at once) wouldn't you want to have just one place to change the ports rather than multiple?  i'll send out another pull request for my mac fix though.\ndale\n. so then you would want to have some place in the admin to set some of this stuff?\n. gotcha, that sounds like a better approach\n. when would the file be generated?  once I switched the theme from the admin panel or when I run the app?  i'm only running this on my localhost so i have admin access there (though this is a work computer, so there could be something i'm missing b/c of that)\n. ya it doesn't seem to be generating.  are there any debug options i can throw into the console to see if middleware is working?\n. when i turn \"debug: true\", go into the admin and switch a theme, the debug output doesn't seem to change theme paths:\nStarted on cleanslate\n19 Jul 11:15:00 - debug: Logging enabled: Console \n  source : /calipso/themes/cleanslate/stylus/css/style.styl\n  dest : /calipso/themes/cleanslate/public/css/style.css\n  read : /calipso/themes/cleanslate/stylus/css/style.styl\n  source : /calipso/themes/cleanslate/stylus/css/admin-menu.styl\n  dest : /calipso/themes/cleanslate/public/css/admin-menu.css\n  read : /calipso/themes/cleanslate/stylus/css/admin-menu.styl\n  source : /calipso/themes/cleanslate/stylus/css/admin.styl\n  dest : /calipso/themes/cleanslate/public/css/admin.css\n  read : /calipso/themes/cleanslate/stylus/css/admin.styl\n  source : /calipso/themes/cleanslate/stylus/css/primary-menu.styl\n  dest : /calipso/themes/cleanslate/public/css/primary-menu.css\n  read : /calipso/themes/cleanslate/stylus/css/primary-menu.styl\nChanged to calipso\n19 Jul 11:15:42 - debug: Logging enabled: Console \n  source : /calipso/themes/cleanslate/stylus/css/calipso.styl\n  dest : /calipso/themes/cleanslate/public/css/calipso.css\n  read : /calipso/themes/cleanslate/stylus/css/calipso.styl\n. weird, i was just poking around in the theme module, just doing some console.log to see where things fell in order, and the theme started working all of a sudden.  not sure what kicked it in though.\n. i'll give it go over the weekend or early next week.\n. yup, sorry, i was having issues with the latest updates and switching themes.  but i see that it's switching to the calipso theme correctly once i downloaded it.\n. i'm currently in the mongo shell for this and can print out the db.appconfigs collection, but how would i go about updating the \"modules\" settings?  I'm not that well versed in mongo at the moment.\nthanks\n. ok, after some googling, i found a mongo solution if this ever happens:\ndb.appconfigs.find().forEach(\n  function (e) {\n    var mods = e.modules;\n    for (var i = 0, len = mods.length; i < len; i++) {\n      var mod = mods[i],\n        name = mod.name,\n        enabled = mod.enabled\n      if (name === 'pusher') {\n        if (!enabled) {\n          mod.enabled = true\n        }\n      }\n    }\n    db.appconfigs.save(e)\n  }\n)\ninstead of disabling tweetstream here, i enabled its dependency - pusher\n. fixed by issue #72\n. i just looked in the mongoose module and it seems to be constructing a valid mongodb call still:\nthis.findOne({ _id: id }, fields, options, callback);\ni was looking at the output in the editContentForm() in modules/core/content/content.js and when i printed out the id, it was coming up as an empty string.  but when i printed out req.moduleParams it gave me\nid=4e2737ac21010369b000001c\nnot sure if that is intended behavior or not but thought it would at least be worth mentioning.\nedit - \nwell, it seems that it does find the post correctly, which makes sense b/c it is displaying hehe.  I'll try and do some more digging on the save/update portion\n. ok, so i'm still getting that error output.  What is weird is that my url becomes /content/show/undefined after clicking save, then if i navigate to the updated content, it was actually saved.  So i think it is saving properly, but maybe it's on the redirect after saving this is happening on?\n. not sure what you mean by \"npm list look like from the base of calipso\".  are you referring to which dependencies were installed by npm?  I think i got a fix for this particular issue that I'll send over in a few minutes.  \nfor some reason, the req.moduleParams.id is coming back empty.\n. whoops, posted this in the area a second ago. just for posterity sake, here is my current node_modules installed:\n\u251c\u2500\u252c bcrypt@0.2.3 \n\u2502 \u2514\u2500\u2500 nodeunit@0.5.3 \n\u251c\u2500\u252c cluster@0.6.9 \n\u2502 \u2514\u2500\u2500 log@1.2.0 \n\u251c\u2500\u2500 colors@0.5.0 \n\u251c\u2500\u252c connect@1.6.0 \n\u2502 \u2514\u2500\u2500 qs@0.3.0 \n\u251c\u2500\u252c connect-form@0.2.1 \n\u2502 \u2514\u2500\u2500 formidable@1.0.2 \n\u251c\u2500\u2500 ejs@0.4.3 \n\u251c\u2500\u2500 elasticsearchclient@0.0.5  extraneous\n\u251c\u2500\u252c express@2.4.3 \n\u2502 \u2514\u2500\u2500 qs@0.3.0 \n\u251c\u2500\u2500 expresso@0.8.1 \n\u251c\u2500\u2500 github-flavored-markdown@1.0.0  extraneous\n\u251c\u2500\u2500 jade@0.13.0 \n\u251c\u2500\u2500 mime@1.2.2 \n\u251c\u2500\u2500 mongodb@0.9.6-7 \n\u251c\u2500\u252c mongoose@1.7.3 \n\u2502 \u251c\u2500\u2500 colors@0.5.0 \n\u2502 \u2514\u2500\u2500 hooks@0.1.9 \n\u251c\u2500\u2500 node-expat@1.3.2  extraneous\n\u251c\u2500\u252c optimist@0.2.6 \n\u2502 \u2514\u2500\u2500 wordwrap@0.0.1 \n\u251c\u2500\u2500 pool@0.4.1 \n\u251c\u2500\u2500 qs@0.3.0 \n\u251c\u2500\u2500 request@2.0.1 \n\u251c\u2500\u2500 semver@1.0.9 \n\u251c\u2500\u2500 should@0.2.1 \n\u251c\u2500\u252c socket.io@0.7.7  extraneous\n\u2502 \u251c\u2500\u2500 bison@1.1.1  extraneous\n\u2502 \u251c\u2500\u2500 policyfile@0.0.3 \n\u2502 \u251c\u2500\u2500 redis@0.6.0 \n\u2502 \u2514\u2500\u252c socket.io-client@0.7.4 \n\u2502   \u2514\u2500\u2500 uglify-js@1.0.3 \n\u251c\u2500\u2500 step@0.0.4 \n\u251c\u2500\u252c stylus@0.13.7 \n\u2502 \u251c\u2500\u2500 cssom@0.2.0 \n\u2502 \u2514\u2500\u2500 growl@1.1.0 \n\u251c\u2500\u2500 twitter-node@0.0.2  extraneous\n\u251c\u2500\u2500 underscore@1.1.7 \n\u2514\u2500\u252c winston@0.3.2 \n  \u251c\u2500\u2500 colors@0.5.0 \n  \u251c\u2500\u2500 eyes@0.1.6 \n  \u251c\u2500\u252c loggly@0.3.5 \n  \u2502 \u251c\u2500\u2500 request@1.9.9 \n  \u2502 \u2514\u2500\u2500 timespan@2.2.0 \n  \u2514\u2500\u2500 pkginfo@0.2.2 \n. fixed by issue #76\n. gotcha.  After writing that I kinda figured that it was outputted somewhere.  I keep on forgetting that it is also up to the theme to account for these messages.\n. i should have something to show in the coming weeks (though i still need to figure out how everything connects...getting there...slow...ly....heh)\n. here are the node modules installed in my current build:\n\u251c\u2500\u252c bcrypt@0.2.3 \n\u2502 \u2514\u2500\u2500 nodeunit@0.5.3 \n\u251c\u2500\u252c cluster@0.6.9 \n\u2502 \u2514\u2500\u2500 log@1.2.0 \n\u251c\u2500\u2500 colors@0.5.0 \n\u251c\u2500\u252c connect@1.6.0 \n\u2502 \u2514\u2500\u2500 qs@0.3.0 \n\u251c\u2500\u252c connect-form@0.2.1 \n\u2502 \u2514\u2500\u2500 formidable@1.0.2 \n\u251c\u2500\u2500 ejs@0.4.3 \n\u251c\u2500\u2500 elasticsearchclient@0.0.5  extraneous\n\u251c\u2500\u252c express@2.4.3 \n\u2502 \u2514\u2500\u2500 qs@0.3.0 \n\u251c\u2500\u2500 expresso@0.8.1 \n\u251c\u2500\u2500 github-flavored-markdown@1.0.0  extraneous\n\u251c\u2500\u2500 jade@0.13.0 \n\u251c\u2500\u2500 mime@1.2.2 \n\u251c\u2500\u2500 mongodb@0.9.6-7 \n\u251c\u2500\u252c mongoose@1.7.3 \n\u2502 \u251c\u2500\u2500 colors@0.5.0 \n\u2502 \u2514\u2500\u2500 hooks@0.1.9 \n\u251c\u2500\u2500 node-expat@1.3.2  extraneous\n\u251c\u2500\u252c optimist@0.2.6 \n\u2502 \u2514\u2500\u2500 wordwrap@0.0.1 \n\u251c\u2500\u2500 pool@0.4.1 \n\u251c\u2500\u2500 qs@0.3.0 \n\u251c\u2500\u2500 request@2.0.1 \n\u251c\u2500\u2500 semver@1.0.9 \n\u251c\u2500\u2500 should@0.2.1 \n\u251c\u2500\u252c socket.io@0.7.7  extraneous\n\u2502 \u251c\u2500\u2500 bison@1.1.1  extraneous\n\u2502 \u251c\u2500\u2500 policyfile@0.0.3 \n\u2502 \u251c\u2500\u2500 redis@0.6.0 \n\u2502 \u2514\u2500\u252c socket.io-client@0.7.4 \n\u2502   \u2514\u2500\u2500 uglify-js@1.0.3 \n\u251c\u2500\u2500 step@0.0.4 \n\u251c\u2500\u252c stylus@0.13.7 \n\u2502 \u251c\u2500\u2500 cssom@0.2.0 \n\u2502 \u2514\u2500\u2500 growl@1.1.0 \n\u251c\u2500\u2500 twitter-node@0.0.2  extraneous\n\u251c\u2500\u2500 underscore@1.1.7 \n\u2514\u2500\u252c winston@0.3.2 \n  \u251c\u2500\u2500 colors@0.5.0 \n  \u251c\u2500\u2500 eyes@0.1.6 \n  \u251c\u2500\u252c loggly@0.3.5 \n  \u2502 \u251c\u2500\u2500 request@1.9.9 \n  \u2502 \u2514\u2500\u2500 timespan@2.2.0 \n  \u2514\u2500\u2500 pkginfo@0.2.2 \ndoes anything look out of the ordinary to you?\n. i'm not getting any notification emails about closed/successful pull requests.  aren't i supposed to get these notifications?\n. ya, you would think.  i do get an email when a comment updates the thread.\n. whoops, deleted my branch before this was merged.  going to see if merging still works.\n. hmmm thought i was just sending a request for the language stuff.  let me try this again\n. i think having a separate admin theme would be better.  Then you can have a more robust admin side without having to affect the main site itself.  At this point, i don't think it really matters to be very DRY since this is still a very young project.  Optimization can come later (as it should, i've been bitten quite a few times doing it prematurely).  \nFor having the admin broken out into a separate theme, how would that work exactly?  Would it be apart of the core admin module?  and then the different pages could be overwritten in the theme?\nsee, this is why i don't want to just merge my changes right into the master branch =).  (i'll keep the functionality though, just in case ;))\nok, so i'll make a quick update to this and remove the isAdmin method.\n. ^ convo moved to #84\n. hehe, i'll have to digest this one for a bit \n. it also looks like there should be a separate \"admin theme\" selector in the administration page.\n. ah right.  cool, it supports smtp and sendmail (i think sendmail is the most common mail lib for *nix boxes?).\nhttp://www.nodemailer.org/\n. which os are you on?  not sure if that matters or not, but good to know for testing purposes\n. didn't think about doing that myself, but i am getting the same as clifton\n$ npm config get root\nundefined\n$ npm root\n/Users/dale/Sites/git/_projects/wtd-depot/node_modules\nI ran that with both 1.0.10 and 1.0.22 to the same results, though my root is kind of weird on my local machine heh\n. I've noticed this as well and touched on this topic with Clifton. Ill look at this again soon. \n--- dale\nOn Aug 6, 2011, at 12:47 PM, conancatreply@reply.github.com wrote:\n\nHi there! I was converting the templates of Cleanslate from EJS to Jade, and when I changed the 404.html/500.html to 404.jade/500.jade Calipso throws an error, saying that the file not found. Then I later found out that it's due to the two files are being hard-coded at themes.js.\nI'm proposing that the error templates are to be dynamically returned from the theme folder using regular expression, matching 3 digits indicating it's a template for any error code. This way it will automatically detect the file extension as well, which in turn compiles the template correctly (whether with EJS or Jade). \nI hope this is okay :)\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/92\n. Sure. I'll take a look and close/merge this one. \n\n--- dale\nOn Aug 7, 2011, at 2:46 AM, cliftoncreply@reply.github.com wrote:\n\nLooks great!  Dale - do you want to make the call on merging this as you have already looked at this one?  It's ok from my perspective, but if you're halfway through something then your call.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/92#issuecomment-1747610\n. The only thing I am wondering about is if we should have an errors folder to house all the error pages.  Two files is fine being dumped into the templates directory, but I could imagine that it could become a mess if someone were to make a bunch of error pages.  Adding that change into this file would not be that big of an issue.  but we would need to update all the templates.  Doing that now would be better than later since there are so few themes at the moment.\n. I think clifton is working on a community site to post modules and themes on the calip.so site.\n. also, what kind of problems were you experiencing, dennis?  I was it on > 0.5.0?  I just loaded up calipso on that node version and I am not really seeing anything out of the ordinary.\n. gotcha.  I'm seeing that now.  was there some other way introduced to help make the project path available throughout all the files?  I've seen one solution where you need to explicitly define the root path of the project folder but that requires defining that in multiple places for this switch over.  I have no problem doing that (actually doing that right now), but is there an alternative method?\n. i don't think this should necessarily be closed as it should be something on our radar.  I've been trying to get this to work, but I'm running into an issue with upgrading winston with npm install -d.  However, it seems that node-expat also has v0.5.3 compat issues as discussed in this issue.   I created a new branch for this issue.\n. isn't process.cwd() the same concept as __dirname?  when i run process.cwd() inside any directory via node's command line, I get the same value as __dirname.  As far as i know, there is no other global var to fix all of these references in one place.\n. ah, ya you're right.  it gives different values depending if you're running an app or if you're running it in just the node cli.  i'll make those changes then.\n. what's the preferred method for using rootpath:\n\nvar rootpath = process.cwd(),\n  calipso = require(rootpath + '/lib/calipso')\nor \nvar rootpath = process.cwd() + '/',\n  calipso = require(rootpath + 'lib/calipso')\nbasically, where should that slash live?\n. i never really thought about a root path having any weird characters in it. this seems verbose to me, but at least it will take into account those values (if any):\nvar path = require('path'), \n  rootpath = process.cwd(), \n  calipso = require(path.join(rootpath, 'lib/calipso'));\nthe only thing is that the entire require statement will have to be written like that for the i18n require, support, etc.\ndo you know if the windows version handles the slashes automatically for us?  so then we don't have to worry about doing\nrequire(path.join(rootpath, 'lib\\calipso'));\n. i was thinking of a shortcut as well, but path.join is about as short as you can get anyways so it would almost be like a wrapper inside a wrapper.  when you have multiple requires based on the rootpath is usually only in the app.js file.  everything else has basically been just requiring calipso\n. yup np.  i should have probably waited until this thread died down before I committed/made changes to this, but oh well. =)  I'll look at what you suggested in accessing the main module, but for now it seems to be finding the root path correctly (but there are still some holes i need to fix)\n. right, you can at least read it and see what it is doing.  one problem i'm having with this though - when i try and run my app, i keep on seeing this in the console output:\ncalipso is not defined Calipso Module: google-analytics\nI'm not sure why that is happening since I've converted everything to this new path structure.  so this doesn't allow the site to render.  any clues?  \nyou should be able to see this behavior by pulling the no-require.paths branch.\n. i think it was some theme stuff prior to you switching over to themes/core, themes/community, themes/custom structure that was tripping me up.  a clean install and it works fine.\n. thanks for checking on that benvie.  The code i'm using is from the path node api to join the values, so it should be good then.\n. sure, i'm cloning a fresh copy of this repo to make sure none of my dev stuff is interfering with anything\n. overall it looks good.  there is just something weird going on with the community/google-analytics module.  I'll post that issue into a different bug.  i'll delete the branch if you haven't already, clifton.\n. thanks, clifton.  I noticed lib/cli files did not have the path to require calipso correctly so i just merged that into the master.  There was also a minor error in the cli/Download.js file i fixed.\n. ya , i don't see this happening anymore with the latest updates.  i'll reopen or create a new issue if i see it happen again\n. cool, updated.  does anything else need to be done to make the change on the npm registry?  \nalso confirmed that with \"node\": \"0.5.x\", i can still do npm install -d with node v0.4.9 and install without errors.\n. probably.  I've never published anything to the npm registry \n. i did a npm install -d on a fresh clone after pushing the 0.5.x dependency using v0.4.10 and it didn't give me any issues.  It doesn't really make sense that it should work on anything less than 0.5.x, but somehow it still does.  Not sure if this is a bug with npm or not.\n. ok cool.  I'm in the process of add the community modules to my account so that should be done soon.  \nWell, actually, should there be a naming convention for these?  I was planning on doing calipso-{module name}.  but since this is going to be a community module, should we label them with the group the module is going to be in?  So instead, it would be calipso-community-{module name}.  It's a little verbose, but at least it's easy to tell by the name of the repo where this is going to live\n. i named them as calipso-{module name} for now.  the name can change later easily.  all 12 community modules are listed on my dashboard\n. sounds good.  i'm moving this week so i'll have intermittent internet access for the next week or two.\n. cool, looks good for now.  There will definitely need to be some categorization in the future instead of dumping everything onto one page.\n. cool looks good now. thanks\n. migration docs for 1.x -> 2.x: http://mongoosejs.com/docs/migration-1x-2x.html\n. ",
    "Charuru": "Hi will this have out of the box support for multiple field items?\n. Sorry just to clarify one more time, I mean multiple values.\nSuch as Authors: [Bob, John, Jane]\n. ",
    "rjsteinert": "I'm just getting up to speed on Node.js and Calisto looks pretty rad.  Coming from a Drupal background it's definitely fun to think \"If we could start all over again...\"  Here's some input from one of my brainstorms.\nContent Scheduling could be built as a one off or it could be the result of more powerful systems working together.\nThe one off\nWrite some custom code that places a date widget on edit forms and stores that value in a db table and then write some other code that occasionally looks for nodes that should be published.\nBuild other systems first\nThis piece of functionality could be built using frameworks similar to those found in Drupal modules such as the Workflow module (for workflow states such as draft, published), Workflow Access (for defining which roles have read, update, and delete grants at which workflow states), and Job scheduler module (for picking up tasks in a queue), and lastly a field type for setting time/workflow transition to be scheduled into the Job queue.  \nI am under the opinion that a CMS should help to facilitate complicated workflows.  IE. The Workflow module and Workflow Access module should replace Drupal's primitive and presumptuous Published checkbox.  I think it would be a big sell for this CMS if this (what I consider basic) functionality was tackled from the beginning.  \n@cliftonc What do you think?  I am interested in helping out, even if Calisto isn't the next Drupal it would be a healthy exercise in trying to implement something \"the right way\".\n. ",
    "jzacsh": "@cliftonc, grepping through the code-base, it looks like all text passed to flash() is using req.t()\n- Is there anywhere else I should look?\n. I agree, this also allows a region to be moved (and not looking semantically incorrect/confusing), regardless of locale being RTL or not.\n. Hey, I fixed this in the latest commit referenced above ^ - ready to pull.\n. @dsimmons\nIf you saved it anywhere, can you paste what the output of install.sh was? I'm wondering why it didn't fail. If not, I'll see if I have time to set up a default ubuntu-vm and see what's happening on install.sh\n. @dsimmons, I'm not sure, actually - the script should have failed. I suppose its possible you just thought the script was finished and you just moved on. Nonetheless I'll try to test this on a VM sometime this week.\n. ",
    "adrinux": "I cloned calipso again (already have the dependencies installed, and have calipso working from another folder), and tried install.sh, it failed at the sanity test:\n``\n./bin/install.sh\nUsing Node version: v0.4.8\nUsing NPM version: 1.0.6\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking for libexpat ...\nLibexpat OK\nInstalling dependencies via NPM ... please be patient this can take a few minutes ...\n./install.sh: line 2: [: too many arguments\nChecking for program g++ or c++          : /usr/bin/g++ \nChecking for program g++ or c++          : /usr/bin/g++ \nChecking for program cpp                 : /usr/bin/cpp \nChecking for program ar                  : /usr/bin/ar \nChecking for program ranlib              : /usr/bin/ranlib \nChecking for program cpp                 : /usr/bin/cpp \nChecking for program ar                  : /usr/bin/ar \nChecking for program ranlib              : /usr/bin/ranlib \nChecking for g++                         : ok  \nChecking for g++                         : ok  \nChecking for node path                   : not found \nChecking for node prefix                 : ok /usr/local \nChecking for node path                   : not found \nChecking for node prefix                 : ok /usr/local \n'configure' finished successfully (1.112s)\n'configure' finished successfully (1.110s)\nWaf: Entering directory/var/www/calipso-test-01/node_modules/mongodb/external-libs/bson/build'\n[1/9] cxx: bson.cc -> build/default/bson_1.o\n[2/9] cxx: long.cc -> build/default/long_1.o\nWaf: Entering directory /var/www/calipso-test-01/node_modules/node-expat/build'\n[1/2] cxx: node-expat.cc -> build/default/node-expat_1.o\n[2/2] cxx_link: build/default/node-expat_1.o -> build/default/node-expat.node\nWaf: Leaving directory/var/www/calipso-test-01/node_modules/node-expat/build'\n'build' finished successfully (5.520s)\n../long.cc: In member function 'char Long::toString(int32_t, char)':\n../long.cc:251: warning: format '%lld' expects type 'long long int', but argument 3 has type 'int64_t'\n../long.cc:254: warning: format '%llu' expects type 'long long unsigned int', but argument 3 has type 'int64_t'\n../long.cc:258: warning: format '%llx' expects type 'long long unsigned int', but argument 3 has type 'int64_t'\n[3/9] cxx: objectid.cc -> build/default/objectid_1.o\n[4/9] cxx: binary.cc -> build/default/binary_1.o\n[5/9] cxx: code.cc -> build/default/code_1.o\n[6/9] cxx: dbref.cc -> build/default/dbref_1.o\n[7/9] cxx: timestamp.cc -> build/default/timestamp_1.o\n[8/9] cxx: local.cc -> build/default/local_1.o\n../timestamp.cc: In member function 'char Timestamp::toString(int32_t, char)':\n../timestamp.cc:247: warning: format '%lld' expects type 'long long int', but argument 3 has type 'int64_t'\n../timestamp.cc:250: warning: format '%llu' expects type 'long long unsigned int', but argument 3 has type 'int64_t'\n../timestamp.cc:254: warning: format '%llx' expects type 'long long unsigned int', but argument 3 has type 'int64_t'\n[9/9] cxx_link: build/default/bson_1.o build/default/long_1.o build/default/objectid_1.o build/default/binary_1.o build/default/code_1.o build/default/dbref_1.o build/default/timestamp_1.o build/default/local_1.o -> build/default/bson.node\nWaf: Leaving directory `/var/www/calipso-test-01/node_modules/mongodb/external-libs/bson/build'\n'build' finished successfully (10.964s)\nMakefile.ref:58: NANOJIT_ARCH not defined in config/Linux_All.mk, JIT disabled\ncc1: warning: command line option \"-fno-rtti\" is valid for C++/ObjC++ but not for C\neditline.c: In function 'TTYflush':\neditline.c:172: warning: ignoring return value of 'write', declared with attribute warn_unused_result\neditline.c: In function 'add_history':\neditline.c:1050: warning: pointer targets in passing argument 2 of 'strcmp' differ in signedness\n/usr/include/string.h:142: note: expected 'const char ' but argument is of type 'CHAR '\ncc1: warning: command line option \"-fno-rtti\" is valid for C++/ObjC++ but not for C\nar: creating ../obj/editline/libedit.a\nMakefile.ref:58: NANOJIT_ARCH not defined in config/Linux_All.mk, JIT disabled\njsopcode.cpp: In function 'jsbytecode Decompile(SprintStack, jsbytecode, intN, JSOp)':\njsopcode.cpp:2005: warning: case label value exceeds maximum value for type\njsopcode.cpp:2008: warning: case label value exceeds maximum value for type\njsopcode.cpp:3698: warning: case label value exceeds maximum value for type\njsopcode.cpp:3775: warning: case label value exceeds maximum value for type\njsparse.cpp: In function 'JSParseNode Statement(JSContext, JSTokenStream, JSTreeContext)':\njsparse.cpp:2764: warning: suggest parentheses around '&&' within '||'\nar: creating obj/libjs.a\nhttp-message.c: In function 'HTTPMessage_set_content_length':\nhttp-message.c:280: warning: format '%u' expects type 'unsigned int', but argument 3 has type 'size_t'\nhttp-server.c: In function 'HTTPServer_run':\nhttp-server.c:184: warning: passing argument 3 of 'accept' from incompatible pointer type\n/usr/include/sys/socket.h:214: note: expected 'socklen_t * restrict' but argument is of type 'size_t '\nThe following files couldn't be removed.\nRemove them manually and try again\nsudo rm -rf \"/home/adrian/.npm/mime/1.2.2/package\"\nIt appears that NPM has installed the key modules ...\nRunning sanity tests ...\n/bin/sh: expresso: not found\nmake: *** [test] Error 127\nIf you can see 100% success on the sanity tests then you are probably good to go!\n```\n. That was on Ubuntu 10.04.2 Lucid.\n. Yes, including expresso:\ncluster  connect-form  express   github-flavored-markdown  mongodb   node-expat  should     stylus        winston\nconnect  ejs           expresso  jade                      mongoose  qs          socket.io  twitter-node\n. Well, it currently reports:\nmime@1.2.2 ./node_modules/mime\nSo I'd say yes?\n. I just tried my first install 5 mins ago and had a ton of errors at the 'npm install'  stage. starting fresh after installing libexpat1-dev seems to have fixed things, but there was no prompt to go find it.\n. Ah, I see. I wasn't even using the script to install was I :) Sorry. And I notice you have an npm package too. oh the confusion :)\n. If only all existing wysiwyg editors didn't suck so much :)\nI've seen a couple of different ones mentioned recently that look interesting:\nhttps://github.com/twoism/reviser was used as a base for a custom editor by the drupal based http://www.pagebuild.net/ - the MIT license of reviser makes for easy inclusion into calipso, though it's age presumably means it needs work.\nAnd a radically different approach, inline DOM based editing http://www.aloha-editor.org/  which is interesting in the sense that pages in a cms are often built with content from different modules. Rather than 'written' in a wysiwyg editor. License is AGPL. So, an interesting approach that may be emulated, and solve some of the UI issues wysiwyg editors have.\n. admin/password is what I remembered...so it's just kicking back to the front/login. Clearly another issue. Will close this.\n@coleGillespie You do see people wander into open source projects with a low skill level and gradually climb to be significant contributors. And even hard core devs find repeated tedious installs annoying eventually.\n. Was going to assign this to myself...but I can't - must be reserved to project owners?\n. @raisch Re-read the original comment about RTL (right to left) languages like arabic and think about your suggestion again ;)\n. I don't see how east and west get around the original problem. That on multilingual sites a sidebar can switch from left to right, depending on language. So east will end up in the west and west in the east.\nAnd then there is responsive design, where east and west may end up on top of each other.\nFor me terms that relate to source code order are the only ones that are helpful and flexible. 'First', 'Second' etc.\n. Here's a high profile example:\nhttp://amnesty.org/\nvs\nhttp://amnesty.org/ar\nYou can play with the language switcher yourselves, note how the sidebar switches sides. I don't think east and west swap sides.\n(It has to be said this is a somewhat trivial issue, and not all that important right now \u2013 bit if calip.so were to take off, and be used for multilingual sites, it makes for a better Theme DX if you don't use regions with fixed directions).\n. A more descriptive title - haven't had time to get back to this issue yet.\n. ",
    "ghost": "During my installation i had to drop my Node from 5.0 to 4.7 in order to get the loggly module installed as it is a dependency for winston.\nThis will be a problem if npm to run the script on the 5.0 beta.\n. I repaired mongodb and it can run, but the error still exists.\n. @cliftonc,thanks. problem sovled. I use virtualbox in windows, and put calipso dir in a shared dir with windows. I moved calipso dir to some place at /home, and reinstall mongodb (must 'make'), and everything is ok.\n. In mongodb install dir, there is a node_modules/mongodb/external-libs/bson/bson.node link to build/default/bson.node, that is the cause of my problem!\n. yeh I'm having problems getting calipso to communicate with mongodb, was wondering if you could share how to set NODE_PATH, I think this is where the problem lies\n. I'm on mac osx, when I run node app in the calipso folder I get \"error connecting to mongodb, maybe it's not running?\" I will try to reinstall it again\n. It's my understanding that Node 0.5.x has built in functionality for translating paths across systems, but I'm not 100% sure. You should definitely check before writing a bunch of code to handle that.\n. Just confirmed it. If I do something like \"fs.readdirSync('/Users/Brandon')\" on Windows it automatically boxes that into C:\\Users\\Brandon.\nhttp://nodejs.org/docs/v0.5.3/api/path.html also has the functions for stuff that doesn't automatically translate (everything in filesystem should do it automaticallly).\n. npm install express and other packages does work.\n- except for some, eg. connect-form failing on tar\n$ which gzip\n/usr/bin/gzip\n$ /usr/bin/gzip --version\nFreeBSD gzip 20100407\n4 attempts\n1.\n[casper@think /usr/home/casper/git]$ sudo npm install -d calipso\n2.\n[casper@think /usr/home/casper/git]$ sudo npm install calipso -g\n3.\n[casper@think /usr/home/casper/git]$ git clone git://github.com/cliftonc/calipso.git\n[casper@think /usr/home/casper/git]$ cd calipso\n[casper@think /usr/home/casper/git]$ npm install\n4.\n[casper@think /usr/home/casper/git]$ npm install -d\n[casper@think /usr/home/casper/git]$ sudo npm install -d calipso\nnpm info it worked if it ends with ok\nnpm info using npm@1.0.30\nnpm info using node@v0.4.12\nnpm info addNamed [ 'calipso', '' ]\nnpm ERR! registry error parsing json\nnpm ERR! SyntaxError: Unexpected token <\nnpm ERR! Request timeoutRequest timeout\nnpm ERR!     at Object.parse (native)\nnpm ERR!     at Request.callback (/usr/local/lib/node_modules/npm/lib/utils/npm-registry-client/request.js:146:21)\nnpm ERR!     at Request. (/usr/local/lib/node_modules/npm/node_modules/request/main.js:337:18)\nnpm ERR!     at Request.emit (events.js:64:17)\nnpm ERR!     at IncomingMessage. (/usr/local/lib/node_modules/npm/node_modules/request/main.js:305:16)\nnpm ERR!     at IncomingMessage.emit (events.js:81:20)\nnpm ERR!     at HTTPParser.onMessageComplete (http.js:133:23)\nnpm ERR!     at CleartextStream.ondata (http.js:1231:22)\nnpm ERR!     at CleartextStream.push (tls.js:303:27)\nnpm ERR!     at SecurePair.cycle (tls.js:577:20)\nnpm ERR! Report this _entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"-d\" \"calipso\"\nnpm ERR! cwd /usr/home/casper/git\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/git/npm-debug.log\nnpm not ok\n[casper@think /usr/home/casper/git]$ sudo npm install calipso -g\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\" gzip: /tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz: trailing garbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\" \nnpm ERR! Failed unpacking /tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\nnpm ERR! couldn't unpack /tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz to /tmp/npm-1318251051891/1318251064213-0.2597628510557115/contents\nnpm ERR! error installing calipso@0.2.3 Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\"\nnpm ERR! error installing calipso@0.2.3 exited with 1\nnpm ERR! error installing calipso@0.2.3     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.emit (events.js:67:17)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Report this entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd /usr/home/casper/git\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/git/npm-debug.log\nnpm not ok\nthen I tried again to do a git clone install (ref: http://calip.so/quickstart-install-calipso.html)\n[casper@think /usr/home/casper/git]$ git clone git://github.com/cliftonc/calipso.git\nCloning into calipso...\nremote: Counting objects: 6220, done.\nremote: Compressing objects: 100% (2732/2732), done.\nremote: Total 6220 (delta 3197), reused 6110 (delta 3136)\nReceiving objects: 100% (6220/6220), 1.91 MiB | 72 KiB/s, done.\nResolving deltas: 100% (3197/3197), done.\n[casper@think /usr/home/casper/git]$ cd calipso\n[casper@think /usr/home/casper/git/calipso]$ npm install\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318250689436/1318250692958-0.4978256537579/tmp.tgz\" gzip: /tmp/npm-1318250689436/1318250692958-0.4978256537579/tmp.tgz: trailing garbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318250689436/1318250692958-0.4978256537579/tmp.tgz\" \nnpm ERR! Failed unpacking /tmp/npm-1318250689436/1318250692958-0.4978256537579/tmp.tgz\nnpm ERR! couldn't unpack /tmp/npm-1318250689436/1318250692958-0.4978256537579/tmp.tgz to /tmp/npm-1318250689436/1318250692958-0.4978256537579/contents\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318250689436/1318250692958-0.4978256537579/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Report this entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\"\nnpm ERR! cwd /usr/home/casper/git/calipso\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/git/calipso/npm-debug.log\nnpm not ok\n[casper@think /usr/home/casper/git/calipso]$ npm install -d\nnpm info it worked if it ends with ok\nnpm info using npm@1.0.30\nnpm info using node@v0.4.12\nnpm info preinstall calipso@0.2.3\nnpm info addNamed [ 'express', '2.4.x' ]\nnpm info addNamed [ 'connect', '1.6.x' ]\nnpm info addNamed [ 'ejs', '0.4.x' ]\nnpm info addNamed [ 'jade', '0.13.x' ]\nnpm info addNamed [ 'stylus', '0.13.x' ]\nnpm info addNamed [ 'underscore', '1.1.x' ]\nnpm info addNamed [ 'mongoose', '1.7.x' ]\nnpm info addNamed [ 'winston', '0.3.x' ]\nnpm info addNamed [ 'mongodb', '0.9.x' ]\nnpm info addNamed [ 'connect-form', '0.2.x' ]\nnpm info addNamed [ 'qs', '0.3.x' ]\nnpm info addNamed [ 'request', '2.0.1' ]\nnpm info addNamed [ 'pool', '0.4.x' ]\nnpm info addNamed [ 'mime', '1.2.x' ]\nnpm info addNamed [ 'cluster', '0.6.x' ]\nnpm info addNamed [ 'step', '0.0.x' ]\nnpm info addNamed [ 'optimist', '0.2.x' ]\nnpm info addNamed [ 'colors', '0.5.x' ]\nnpm info addNamed [ 'bcrypt', '0.2.x' ]\nnpm info addNamed [ 'semver', '1.0.x' ]\nnpm info addNamed [ 'hook.io', '0.6.x' ]\nnpm info addNamed [ 'zipfile', '0.2.x' ]\nnpm info addNamed [ 'rimraf', '1.0.x' ]\nnpm info addNamed [ 'nconf', '0.2.x' ]\nnpm info addNamed [ 'expresso', '0.8.x' ]\nnpm info addNamed [ 'should', '0.2.x' ]\nnpm info fetch https://registry.npmjs.org/jade/-/jade-0.13.0.tgz\nnpm info fetch https://registry.npmjs.org/semver/-/semver-1.0.10.tgz\nnpm info fetch https://registry.npmjs.org/rimraf/-/rimraf-1.0.8.tgz\nnpm info fetch https://registry.npmjs.org/zipfile/-/zipfile-0.2.4.tgz\nnpm info fetch https://registry.npmjs.org/expresso/-/expresso-0.8.1.tgz\nnpm info shasum cfa5a85d95888c75b4a9275bda7491568d8cfd20\nnpm info shasum /tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz\" gzip: /tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz: trailing garbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz\" \nnpm ERR! Failed unpacking /tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz\nnpm ERR! couldn't unpack /tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz to /tmp/npm-1318250797053/1318250810193-0.8016545553691685/contents\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318250797053/1318250810193-0.8016545553691685/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Report this entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"-d\"\nnpm ERR! cwd /usr/home/casper/git/calipso\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/git/calipso/npm-debug.log\nnpm not ok\n. double checking: these crashed too:\n1.\n[casper@think /usr/home/casper/test]$ sudo npm install calipso -g\n2.\n[casper@think /usr/home/casper/test]$ git clone git://github.com/cliftonc/calipso.git\n[casper@think /usr/home/casper/test]$ cd calipso/\n[casper@think /usr/home/casper/test/calipso]$ sudo npm install -d -g\n[casper@think /usr/home/casper/test]$ sudo npm install calipso -g\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\" gzip: /tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz: trailing garbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\" \nnpm ERR! Failed unpacking /tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\nnpm ERR! couldn't unpack /tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz to /tmp/npm-1318251051891/1318251064213-0.2597628510557115/contents\nnpm ERR! error installing calipso@0.2.3 Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\"\nnpm ERR! error installing calipso@0.2.3 exited with 1\nnpm ERR! error installing calipso@0.2.3     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.emit (events.js:67:17)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318251051891/1318251064213-0.2597628510557115/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Report this entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd /usr/home/casper/test\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/test/npm-debug.log\nnpm not ok\n[casper@think /usr/home/casper/test]$ ls -la\ntotal 120\ndrwxr-xr-x   2 casper  casper     512 Oct 10 14:51 .\ndrwxr-xr-x  35 casper  casper    1536 Oct 10 14:49 ..\n-rw-r--r--   1 root    casper  117310 Oct 10 14:51 npm-debug.log\n[casper@think /usr/home/casper/test]$ ls -al\ntotal 120\ndrwxr-xr-x   2 casper  casper     512 Oct 10 14:51 .\ndrwxr-xr-x  35 casper  casper    1536 Oct 10 14:49 ..\n-rw-r--r--   1 root    casper  117310 Oct 10 14:51 npm-debug.log\n[casper@think /usr/home/casper/test]$ cd ..\n[casper@think /usr/home/casper]$ cd git\n-bash: cd: git: No such file or directory\n[casper@think /usr/home/casper]$ cd test\n[casper@think /usr/home/casper/test]$ rm npm-debug.log \noverride rw-r--r--  root/casper for npm-debug.log? ls -al\n[casper@think /usr/home/casper/test]$ sudo rm npm-debug.log \n[casper@think /usr/home/casper/test]$ sudo npm install -d calipso -g\nnpm info it worked if it ends with ok\nnpm info using npm@1.0.30\nnpm info using node@v0.4.12\nnpm info addNamed [ 'calipso', '' ]\nnpm info into /usr/local/lib calipso@0.2.3\nnpm info installOne calipso@0.2.3\nnpm info unbuild /usr/local/lib/node_modules/calipso\nnpm info preinstall calipso@0.2.3\nnpm info addNamed [ 'express', '2.4.x' ]\nnpm info addNamed [ 'connect', '1.6.x' ]\nnpm info addNamed [ 'ejs', '0.4.x' ]\nnpm info addNamed [ 'jade', '0.13.x' ]\nnpm info addNamed [ 'stylus', '0.13.x' ]\nnpm info addNamed [ 'underscore', '1.1.x' ]\nnpm info addNamed [ 'mongoose', '1.7.x' ]\nnpm info addNamed [ 'winston', '0.3.x' ]\nnpm info addNamed [ 'mongodb', '0.9.x' ]\nnpm info addNamed [ 'connect-form', '0.2.x' ]\nnpm info addNamed [ 'qs', '0.3.x' ]\nnpm info addNamed [ 'request', '2.0.1' ]\nnpm info addNamed [ 'pool', '0.4.x' ]\nnpm info addNamed [ 'mime', '1.2.x' ]\nnpm info addNamed [ 'cluster', '0.6.x' ]\nnpm info addNamed [ 'step', '0.0.x' ]\nnpm info addNamed [ 'optimist', '0.2.x' ]\nnpm info addNamed [ 'colors', '0.5.x' ]\nnpm info addNamed [ 'bcrypt', '0.2.x' ]\nnpm info addNamed [ 'semver', '1.0.x' ]\nnpm info addNamed [ 'hook.io', '0.6.x' ]\nnpm info addNamed [ 'zipfile', '0.2.x' ]\nnpm info addNamed [ 'rimraf', '1.0.x' ]\nnpm info fetch https://registry.npmjs.org/jade/-/jade-0.13.0.tgz\nnpm info fetch https://registry.npmjs.org/stylus/-/stylus-0.13.9.tgz\nnpm info fetch https://registry.npmjs.org/bcrypt/-/bcrypt-0.2.4.tgz\nnpm info fetch https://registry.npmjs.org/semver/-/semver-1.0.10.tgz\nnpm info fetch https://registry.npmjs.org/hook.io/-/hook.io-0.6.1.tgz\nnpm info fetch https://registry.npmjs.org/zipfile/-/zipfile-0.2.4.tgz\nnpm info fetch https://registry.npmjs.org/mongodb/-/mongodb-0.9.6-21.tgz\nnpm info fetch https://registry.npmjs.org/rimraf/-/rimraf-1.0.8.tgz\nnpm info shasum 07d977afab3da66b45f2f37996e4d6e4a828e333\nnpm info shasum /tmp/npm-1318252164189/1318252166976-0.49557319399900734/tmp.tgz\nnpm info shasum 0b14502f2c113b9e5aba757cdac70292e19b7e5c\nnpm info shasum /root/.npm/bcrypt/0.2.4/package.tgz\nnpm info shasum 5d1ef9b3d8849a01c9a569e7ea15885ee88e4d18\nnpm info shasum /tmp/npm-1318252164189/1318252167701-0.5450613875873387/tmp.tgz\nnpm info shasum dc8e388df668fc0159da622b795bf732d5a150a3\nnpm info shasum /root/.npm/hook.io/0.6.1/package.tgz\nnpm info shasum cfa5a85d95888c75b4a9275bda7491568d8cfd20\nnpm info shasum /tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz\" gzip: /tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz: trailing garbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz\" \nnpm ERR! Failed unpacking /tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz\nnpm ERR! couldn't unpack /tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz to /tmp/npm-1318252164189/1318252167219-0.3647481652442366/contents\nnpm ERR! error installing calipso@0.2.3 Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz\"\nnpm ERR! error installing calipso@0.2.3 exited with 1\nnpm ERR! error installing calipso@0.2.3     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.emit (events.js:67:17)\nnpm ERR! error installing calipso@0.2.3     at Socket. (child_process.js:172:12)\nnpm ERR! error installing calipso@0.2.3     at Socket.emit (events.js:64:17)\nnpm ERR! error installing calipso@0.2.3     at Array.2 (net.js:831:12)\nnpm ERR! error installing calipso@0.2.3     at EventEmitter.tickCallback (node.js:126:26)\nnpm info unbuild /usr/local/lib/node_modules/calipso\nnpm info preuninstall calipso@0.2.3\nnpm info uninstall calipso@0.2.3\nnpm info postuninstall calipso@0.2.3\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252164189/1318252167219-0.3647481652442366/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at Socket. (child_process.js:172:12)\nnpm ERR!     at Socket.emit (events.js:64:17)\nnpm ERR!     at Array.2 (net.js:831:12)\nnpm ERR!     at EventEmitter._tickCallback (node.js:126:26)\nnpm ERR! Report this _entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"-d\" \"calipso\" \"-g\"\nnpm ERR! cwd /usr/home/casper/test\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/test/npm-debug.log\nnpm not ok\n[casper@think /usr/home/casper/test]$ git clone git://github.com/cliftonc/calipso.git\nCloning into calipso...\nremote: Counting objects: 6220, done.\nremote: Compressing objects: 100% (2732/2732), done.\nremote: Total 6220 (delta 3197), reused 6110 (delta 3136)\nReceiving objects: 100% (6220/6220), 1.91 MiB | 43 KiB/s, done.\nResolving deltas: 100% (3197/3197), done.\n[casper@think /usr/home/casper/test]$ cd calipso/\n[casper@think /usr/home/casper/test/calipso]$ sudo npm install -d -g\nnpm info it worked if it ends with ok\nnpm info using npm@1.0.30\nnpm info using node@v0.4.12\nnpm info shasum 26f1959764d2d0634df1951e060bdb44bd7d82eb\nnpm info shasum /root/.npm/calipso/0.2.3/package.tgz\nnpm info into /usr/local/lib calipso@0.2.3\nnpm info installOne calipso@0.2.3\nnpm info unbuild /usr/local/lib/node_modules/calipso\nnpm info preinstall calipso@0.2.3\nnpm info addNamed [ 'express', '2.4.x' ]\nnpm info addNamed [ 'connect', '1.6.x' ]\nnpm info addNamed [ 'ejs', '0.4.x' ]\nnpm info addNamed [ 'jade', '0.13.x' ]\nnpm info addNamed [ 'stylus', '0.13.x' ]\nnpm info addNamed [ 'underscore', '1.1.x' ]\nnpm info addNamed [ 'mongoose', '1.7.x' ]\nnpm info addNamed [ 'winston', '0.3.x' ]\nnpm info addNamed [ 'mongodb', '0.9.x' ]\nnpm info addNamed [ 'connect-form', '0.2.x' ]\nnpm info addNamed [ 'qs', '0.3.x' ]\nnpm info addNamed [ 'request', '2.0.1' ]\nnpm info addNamed [ 'pool', '0.4.x' ]\nnpm info addNamed [ 'mime', '1.2.x' ]\nnpm info addNamed [ 'cluster', '0.6.x' ]\nnpm info addNamed [ 'step', '0.0.x' ]\nnpm info addNamed [ 'optimist', '0.2.x' ]\nnpm info addNamed [ 'colors', '0.5.x' ]\nnpm info addNamed [ 'bcrypt', '0.2.x' ]\nnpm info addNamed [ 'semver', '1.0.x' ]\nnpm info addNamed [ 'hook.io', '0.6.x' ]\nnpm info addNamed [ 'zipfile', '0.2.x' ]\nnpm info addNamed [ 'rimraf', '1.0.x' ]\nnpm info addNamed [ 'nconf', '0.2.x' ]\nnpm info fetch https://registry.npmjs.org/colors/-/colors-0.5.1.tgz\nnpm info fetch https://registry.npmjs.org/mongodb/-/mongodb-0.9.6-21.tgz\nnpm info fetch https://registry.npmjs.org/semver/-/semver-1.0.10.tgz\nnpm info fetch https://registry.npmjs.org/jade/-/jade-0.13.0.tgz\nnpm info fetch https://registry.npmjs.org/nconf/-/nconf-0.2.0.tgz\nnpm info fetch https://registry.npmjs.org/zipfile/-/zipfile-0.2.4.tgz\nnpm info fetch https://registry.npmjs.org/stylus/-/stylus-0.13.9.tgz\nnpm info fetch https://registry.npmjs.org/rimraf/-/rimraf-1.0.8.tgz\nnpm info shasum 7d0023eaeb154e8ee9fce75dcb923d0ed1667774\nnpm info shasum /tmp/npm-1318252433782/1318252482081-0.5951459116768092/tmp.tgz\nnpm info shasum 27fef81042ee59cdb863006c8b3d6d865446bf21\nnpm info shasum /root/.npm/colors/0.5.1/package.tgz\nnpm info shasum cfa5a85d95888c75b4a9275bda7491568d8cfd20\nnpm info shasum /tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\" gzip: /tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz: trailing garbage ignored\nnpm ERR! gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\" \nnpm ERR! Failed unpacking /tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\nnpm ERR! couldn't unpack /tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz to /tmp/npm-1318252433782/1318252484468-0.9484020196832716/contents\nnpm ERR! error installing calipso@0.2.3 Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\"\nnpm ERR! error installing calipso@0.2.3 exited with 1\nnpm ERR! error installing calipso@0.2.3     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.emit (events.js:67:17)\nnpm ERR! error installing calipso@0.2.3     at ChildProcess.onexit (child_process.js:192:12)\nnpm info unbuild /usr/local/lib/node_modules/calipso\nnpm info preuninstall calipso@0.2.3\nnpm info uninstall calipso@0.2.3\nnpm info postuninstall calipso@0.2.3\nnpm ERR! Error: Failed gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\"\nnpm ERR! exited with 1\nnpm ERR!     at ChildProcess. (/usr/local/lib/node_modules/npm/lib/utils/exec.js:77:19)\nnpm ERR!     at ChildProcess.emit (events.js:67:17)\nnpm ERR!     at ChildProcess.onexit (child_process.js:192:12)\nnpm ERR! Report this entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System FreeBSD 8.2-RELEASE\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"install\" \"-d\" \"-g\"\nnpm ERR! cwd /usr/home/casper/test/calipso\nnpm ERR! node -v v0.4.12\nnpm ERR! npm -v 1.0.30\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /usr/home/casper/test/calipso/npm-debug.log\nnpm not ok\n. file is still there\n[casper@think /usr/home/casper/test]$ file /tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\n/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz: gzip compressed data, from Unix, last modified: Tue Oct  4 03:51:35 2011\nresult:\n[casper@think /usr/home/casper/test]$ gzip \"--decompress\" \"--stdout\" \"/tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz\"\npackage/cp.js000644 057761 000024 00000000314 11642463247 014036 0ustar00isaacsstaff000000 000000 \nvar ch = require(\"child_process\")\n  , cp = ch.spawn(\"node\", [\"semver.js\"])\ncp.on(\"exit\", function (code) {\n  console.error(\"exit\", code)\n})\ncp.stdout.pipe(process.stdout)\ncp.stderr.pipe(process.stderr)\npackage/LICENSE000644 057761 000024 00000002104 11642463247 014102 0ustar00isaacsstaff000000 000000 Copyright 2009, 2010, 2011 Isaac Z. Schlueter.\nAll rights reserved.\nPermission is hereby granted, free of charge, to any person\nobtaining a copy of this software and associated documentation\nfiles (the \"Software\"), to deal in the Software without\nrestriction, including without limitation the rights to use,\ncopy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the\nSoftware is furnished to do so, subject to the following\nconditions:\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\nOF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\nWHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\nFROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\npackage/no-exit.js000644 057761 000024 00000001236 11642463247 015023 0ustar00isaacsstaff000000 000000 \n;(function () {\nvar gen = +(process.argv[2] || 0);\nvar maxGen = 5;\nif (gen === maxGen) {\n  console.log(\"hit maxGen, exiting\", maxGen);\n  return;\n}\nvar ch = require(\"child_process\");\nvar cp = ch.spawn(\"node\", [__filename, gen + 1]);\nconsole.log(\"gen=%d\", gen);\nvar timer = setTimeout(function () {\n  console.error(cp.stdout)\n  throw new Error(\"timeout! gen=\"+gen);\n}, 10000);\nprocess.on(\"exit\", function (code) {\n  console.error(\"exiting %d with code %d\", gen, code || 0);\n});\ncp.on(\"exit\", function (code) {\n  console.error(\"exit %d from gen %d\", code, gen + 1);\n  clearTimeout(timer);\n})\ncp.stdout.pipe(process.stdout);\ncp.stderr.pipe(process.stderr);\n})();\npackage/package.json000644 057761 000024 00000000643 11642463247 015371 0ustar00isaacsstaff000000 000000 { \"name\" : \"semver\"\n, \"version\" : \"1.0.10\"\n, \"description\" : \"The semantic version parser used by npm.\"\n, \"main\" : \"semver.js\"\n, \"scripts\" : { \"test\" : \"tap semver.js\" }\n, \"devDependencies\": { \"tap\" : \"0.x >=0.0.4\" }\n, \"license\" :\n  { \"type\" : \"MIT\"\n  , \"url\" : \"https://github.com/isaacs/semver/raw/master/LICENSE\" }\n, \"repository\" : \"git://github.com/isaacs/node-semver.git\"\n, \"bin\" : { \"semver\" : \"./bin/semver\" } }\npackage/pipeout.js000644 057761 000024 00000000674 11642463247 015132 0ustar00isaacsstaff000000 000000 var stream = require(\"stream\")\nvar util = require(\"util\")\nfunction Piper() {}\nutil.inherits(Piper, stream.Stream)\nPiper.prototype.write = function (c) {\n  console.error(\"data\", c)\n  this.emit(\"data\", c)\n}\nPiper.prototype.end = function () {\n  this.emit(\"end\")\n}\nvar pied = new Piper\npied.pipe(process.stdout)\npied.write(\"yo\")\nsetTimeout(function () {\n  console.error(\"step 2\", c)\npied.write(\"ho ho\")\nsetTimeout(function () {\npied.end()\n}) })\npackage/README.md000644 057761 000024 00000007611 11642463247 014364 0ustar00isaacsstaff000000 000000 semver(1) -- The semantic versioner for npm\nUsage\n```\n$ npm install semver\nsemver.valid('1.2.3') // true\nsemver.valid('a.b.c') // false\nsemver.clean('  =v1.2.3   ') // '1.2.3'\nsemver.satisfies('1.2.3', '1.x || >=2.5.0 || 5.0.0 - 7.2.3') // true\nsemver.gt('1.2.3', '9.8.7') // false\nsemver.lt('1.2.3', '9.8.7') // true\n```\nAs a command-line utility:\n```\n$ semver -h\nUsage: semver -v  [-r ]\nTest if version(s) satisfy the supplied range(s),\nand sort them.\nMultiple versions or ranges may be supplied.\nProgram exits successfully if any valid version satisfies\nall supplied ranges, and prints all satisfying versions.\nIf no versions are valid, or ranges are not satisfied,\nthen exits failure.\nVersions are printed in ascending order, so supplying\nmultiple versions to the utility will just sort them.\n```\nVersions\nA version is the following things, in this order:\n- a number (Major)\n- a period\n- a number (minor)\n- a period\n- a number (patch)\n- OPTIONAL: a hyphen, followed by a number (build)\n- OPTIONAL: a collection of pretty much any non-whitespace characters\n  (tag)\nA leading \"=\" or \"v\" character is stripped off and ignored.\nComparisons\nThe ordering of versions is done using the following algorithm, given\ntwo versions and asked to find the greater of the two:\n- If the majors are numerically different, then take the one\n  with a bigger major number. 2.3.4 > 1.3.4\n- If the minors are numerically different, then take the one\n  with the bigger minor number. 2.3.4 > 2.2.4\n- If the patches are numerically different, then take the one with the\n  bigger patch number. 2.3.4 > 2.3.3\n- If only one of them has a build number, then take the one with the\n  build number.  2.3.4-0 > 2.3.4\n- If they both have build numbers, and the build numbers are numerically\n  different, then take the one with the bigger build number.\n  2.3.4-10 > 2.3.4-9\n- If only one of them has a tag, then take the one without the tag.\n  2.3.4 > 2.3.4-beta\n- If they both have tags, then take the one with the lexicographically\n  larger tag.  2.3.4-beta > 2.3.4-alpha\n- At this point, they're equal.\nRanges\nThe following range styles are supported:\n- >1.2.3 Greater than a specific version.\n- <1.2.3 Less than\n- 1.2.3 - 2.3.4 := >=1.2.3 <=2.3.4\n- ~1.2.3 := >=1.2.3 <1.3.0\n- ~1.2 := >=1.2.0 <2.0.0\n- ~1 := >=1.0.0 <2.0.0\n- 1.2.x := >=1.2.0 <1.3.0\n- 1.x := >=1.0.0 <2.0.0\nRanges can be joined with either a space (which implies \"and\") or a\n|| (which implies \"or\").\nFunctions\n\nvalid(v): Return the parsed version, or null if it's not valid.\ninc(v, release): Return the version incremented by the release type\n  (major, minor, patch, or build), or null if it's not valid.\n\nComparison\n\ngt(v1, v2): v1 > v2\ngte(v1, v2): v1 >= v2\nlt(v1, v2): v1 < v2\nlte(v1, v2): v1 <= v2\neq(v1, v2): v1 == v2 This is true if they're logically equivalent,\n  even if they're not the exact same string.  You already know how to\n  compare strings.\nneq(v1, v2): v1 != v2 The opposite of eq.\ncmp(v1, comparator, v2): Pass in a comparison string, and it'll call\n  the corresponding function above.  \"===\" and \"!==\" do simple\n  string comparison, but are included for completeness.  Throws if an\n  invalid comparison string is provided.\ncompare(v1, v2): Return 0 if v1 == v2, or 1 if v1 is greater, or -1 if\n  v2 is greater.  Sorts in ascending order if passed to Array.sort().\nrcompare(v1, v2): The reverse of compare.  Sorts an array of versions\n  in descending order when passed to Array.sort().\n\nRanges\n\nvalidRange(range): Return the valid range or null if it's not valid\nsatisfies(version, range): Return true if the version satisfies the\n  range.\nmaxSatisfying(versions, range): Return the highest version in the list\n  that satisfies the range, or null if none of them do.\n  package/semver.js000644 057761 000024 00000036255 11642463247 014752 0ustar00isaacsstaff000000 000000 \n  // See http://semver.org/\n  // This implementation is a hair less strict in that it allows\n  // v1.2.3 things, and also tags that don't begin with a char.\n\nvar semver = \"\\s_[v=]\\s([0-9]+)\"                // major\n           + \".([0-9]+)\"                  // minor\n           + \".([0-9]+)\"                  // patch\n           + \"(-[0-9]+-?)?\"                 // build\n           + \"([a-zA-Z-][a-zA-Z0-9-.:])?\" // tag\n  , exprComparator = \"^((<|>)?=?)\\s(\"+semver+\")$|^$\"\n  , xRangePlain = \"[v=]([0-9]+|x|X|_)\"\n                + \"(?:.([0-9]+|x|X|_)\"\n                + \"(?:.([0-9]+|x|X|_))?)?\"\n  , xRange = \"((?:<|>)?=?)?\\s\" + xRangePlain\n  , exprSpermy = \"(?:~>?)\"+xRange\n  , expressions = exports.expressions =\n    { parse : new RegExp(\"^\\s_\"+semver+\"\\s_$\")\n    , parsePackage : new RegExp(\"^\\s_([^\\/]+)-@\\s_$\")\n    , parseRange : new RegExp(\n        \"^\\s_(\" + semver + \")\\s+-\\s+(\" + semver + \")\\s_$\")\n    , validComparator : new RegExp(\"^\"+exprComparator+\"$\")\n    , parseXRange : new RegExp(\"^\"+xRange+\"$\")\n    , parseSpermy : new RegExp(\"^\"+exprSpermy+\"$\")\n    }\nObject.getOwnPropertyNames(expressions).forEach(function (i) {\n  exports[i] = function (str) {\n    return (\"\" + (str || \"\")).match(expressions[i])\n  }\n})\nexports.rangeReplace = \">=$1 <=$7\"\nexports.clean = clean\nexports.compare = compare\nexports.satisfies = satisfies\nexports.gt = gt\nexports.gte = gte\nexports.lt = lt\nexports.lte = lte\nexports.eq = eq\nexports.neq = neq\nexports.cmp = cmp\nexports.inc = inc\nexports.valid = valid\nexports.validPackage = validPackage\nexports.validRange = validRange\nexports.maxSatisfying = maxSatisfying\nfunction stringify (version) {\n  var v = version\n  return [v[1]||'', v[2]||'', v[3]||''].join(\".\") + (v[4]||'') + (v[5]||'')\n}\nfunction clean (version) {\n  version = exports.parse(version)\n  if (!version) return version\n  return stringify(version)\n}\nfunction valid (version) {\n  if (typeof version !== \"string\") return null\n  return exports.parse(version) && version.trim().replace(/^[v=]+/, '')\n}\nfunction validPackage (version) {\n  if (typeof version !== \"string\") return null\n  return version.match(expressions.parsePackage) && version.trim()\n}\n// range can be one of:\n// \"1.0.3 - 2.0.0\" range, inclusive, like \">=1.0.3 <=2.0.0\"\n// \">1.0.2\" like 1.0.3 - 9999.9999.9999\n// \">=1.0.2\" like 1.0.2 - 9999.9999.9999\n// \"<2.0.0\" like 0.0.0 - 1.9999.9999\n// \">1.0.2 <2.0.0\" like 1.0.3 - 1.9999.9999\nvar starExpression = /(<|>)?=?\\s__/g\n  , starReplace = \"\"\n  , compTrimExpression = new RegExp(\"((<|>)?=?)\\s*(\"\n                                    +semver+\"|\"+xRangePlain+\")\", \"g\")\n  , compTrimReplace = \"$1$3\"\nfunction toComparators (range) {\n  var ret = (range || \"\").trim()\n    .replace(expressions.parseRange, exports.rangeReplace)\n    .replace(compTrimExpression, compTrimReplace)\n    .split(/\\s+/)\n    .join(\" \")\n    .split(\"||\")\n    .map(function (orchunk) {\n      return orchunk\n        .split(\" \")\n        .map(replaceXRanges)\n        .map(replaceSpermies)\n        .map(replaceStars)\n        .join(\" \").trim()\n    })\n    .map(function (orchunk) {\n      return orchunk\n        .trim()\n        .split(/\\s+/)\n        .filter(function (c) { return c.match(expressions.validComparator) })\n    })\n    .filter(function (c) { return c.length })\n  return ret\n}\nfunction replaceStars (stars) {\n  return stars.replace(starExpression, starReplace)\n}\n// \"2.x\",\"2.x.x\" --> \">=2.0.0 <2.1\"\n// \"2.3.x\" --> \">=2.3.0 <2.4.0\"\nfunction replaceXRanges (ranges) {\n  return ranges.split(/\\s+/)\n               .map(replaceXRange)\n               .join(\" \")\n}\nfunction replaceXRange (version) {\n  return version.trim().replace(expressions.parseXRange,\n                                function (v, gtlt, M, m, p) {\n    var anyX = !M || M.toLowerCase() === \"x\" || M === \"\"\n               || !m || m.toLowerCase() === \"x\" || m === \"\"\n               || !p || p.toLowerCase() === \"x\" || p === \"*\"\n      , ret = v\nif (gtlt && anyX) {\n  // just replace x'es with zeroes\n  ;(!M || M === \"*\" || M.toLowerCase() === \"x\") && (M = 0)\n  ;(!m || m === \"*\" || m.toLowerCase() === \"x\") && (m = 0)\n  ;(!p || p === \"*\" || p.toLowerCase() === \"x\") && (p = 0)\n  ret = gtlt + M+\".\"+m+\".\"+p\n} else if (!M || M === \"*\" || M.toLowerCase() === \"x\") {\n  ret = \"*\" // allow any\n} else if (!m || m === \"*\" || m.toLowerCase() === \"x\") {\n  // append \"-\" onto the version, otherwise\n  // \"1.x.x\" matches \"2.0.0beta\", since the tag\n  // *lowers* the version value\n  ret = \">=\"+M+\".0.0- <\"+(+M+1)+\".0.0-\"\n} else if (!p || p === \"*\" || p.toLowerCase() === \"x\") {\n  ret = \">=\"+M+\".\"+m+\".0- <\"+M+\".\"+(+m+1)+\".0-\"\n}\n//console.error(\"parseXRange\", [].slice.call(arguments), ret)\nreturn ret\n})\n}\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceSpermies (version) {\n  return version.trim().replace(expressions.parseSpermy,\n                                function (v, gtlt, M, m, p) {\n    if (gtlt) throw new Error(\n      \"Using '\"+gtlt+\"' with ~ makes no sense. Don't do it.\")\n    if (!M || M.toLowerCase() === \"x\") {\n      return \"*\"\n    }\n    // ~1 == >=1.0.0 <2.0.0\n    if (!m || m.toLowerCase() === \"x\") {\n      return \">=\"+M+\".0.0 <\"+(+M+1)+\".0.0\"\n    }\n    // ~1.2 == >=1.2.0 <1.3.0\n    if (!p || p.toLowerCase() === \"x\") {\n      return \">=\"+M+\".\"+m+\".0 <\"+M+\".\"+(+m+1)+\".0\"\n    }\n    // ~1.2.3 == >=1.2.3 <1.3.0\n    return \">=\"+M+\".\"+m+\".\"+p+\" <\"+M+\".\"+(+m+1)+\".0\"\n  })\n}\nfunction validRange (range) {\n  range = range.trim().replace(starExpression, starReplace)\n  var c = toComparators(range)\n  return (c.length === 0)\n       ? null\n       : c.map(function (c) { return c.join(\" \") }).join(\"||\")\n}\n// returns the highest satisfying version in the list, or undefined\nfunction maxSatisfying (versions, range) {\n  return versions\n    .filter(function (v) { return satisfies(v, range) })\n    .sort(compare)\n    .pop()\n}\nfunction satisfies (version, range) {\n  version = valid(version)\n  if (!version) return false\n  range = toComparators(range)\n  for (var i = 0, l = range.length ; i < l ; i ++) {\n    var ok = false\n    for (var j = 0, ll = range[i].length ; j < ll ; j ++) {\n      var r = range[i][j]\n        , gtlt = r.charAt(0) === \">\" ? gt\n               : r.charAt(0) === \"<\" ? lt\n               : false\n        , eq = r.charAt(!!gtlt) === \"=\"\n        , sub = (!!eq) + (!!gtlt)\n      if (!gtlt) eq = true\n      r = r.substr(sub)\n      r = (r === \"\") ? r : valid(r)\n      ok = (r === \"\") || (eq && r === version) || (gtlt && gtlt(version, r))\n      if (!ok) break\n    }\n    if (ok) return true\n  }\n  return false\n}\n// return v1 > v2 ? 1 : -1\nfunction compare (v1, v2) {\n  var g = gt(v1, v2)\n  return g === null ? 0 : g ? 1 : -1\n}\nfunction rcompare (v1, v2) {\n  return compare(v2, v1)\n}\nfunction lt (v1, v2) { return gt(v2, v1) }\nfunction gte (v1, v2) { return !lt(v1, v2) }\nfunction lte (v1, v2) { return !gt(v1, v2) }\nfunction eq (v1, v2) { return gt(v1, v2) === null }\nfunction neq (v1, v2) { return gt(v1, v2) !== null }\nfunction cmp (v1, c, v2) {\n  switch (c) {\n    case \">\": return gt(v1, v2)\n    case \"<\": return lt(v1, v2)\n    case \">=\": return gte(v1, v2)\n    case \"<=\": return lte(v1, v2)\n    case \"==\": return eq(v1, v2)\n    case \"!=\": return neq(v1, v2)\n    case \"===\": return v1 === v2\n    case \"!==\": return v1 !== v2\n    default: throw new Error(\"Y U NO USE VALID COMPARATOR!? \"+c)\n  }\n}\n// return v1 > v2\nfunction num (v) {\n  return v === undefined ? -1 : parseInt((v||\"0\").replace(/[^0-9]+/g, ''), 10)\n}\nfunction gt (v1, v2) {\n  v1 = exports.parse(v1)\n  v2 = exports.parse(v2)\n  if (!v1 || !v2) return false\nfor (var i = 1; i < 5; i ++) {\n    v1[i] = num(v1[i])\n    v2[i] = num(v2[i])\n    if (v1[i] > v2[i]) return true\n    else if (v1[i] !== v2[i]) return false\n  }\n  // no tag is > than any tag, or use lexicographical order.\n  var tag1 = v1[5] || \"\"\n    , tag2 = v2[5] || \"\"\n// kludge: null means they were equal.  falsey, and detectable.\n  // embarrassingly overclever, though, I know.\n  return tag1 === tag2 ? null\n         : !tag1 ? true\n         : !tag2 ? false\n         : tag1 > tag2\n}\nfunction inc (version, release) {\n  version = exports.parse(version)\n  if (!version) return null\nvar parsedIndexLookup =\n    { 'major': 1\n    , 'minor': 2\n    , 'patch': 3\n    , 'build': 4 }\n  var incIndex = parsedIndexLookup[release]\n  if (incIndex === undefined) return null\nvar current = num(version[incIndex])\n  version[incIndex] = current === -1 ? 1 : current + 1\nfor (var i = incIndex + 1; i < 5; i ++) {\n    if (num(version[i]) !== -1) version[i] = \"0\"\n  }\nif (version[4]) version[4] = \"-\" + version[4]\n  version[5] = \"\"\nreturn stringify(version)\n}\nif (module === require.main) {  // tests below\nvar tap = require(\"tap\")\n  , test = tap.test\ntap.plan(5)\ntest(\"\\ncomparison tests\", function (t) {\n; [ [\"0.0.0\", \"0.0.0foo\"]\n  , [\"0.0.1\", \"0.0.0\"]\n  , [\"1.0.0\", \"0.9.9\"]\n  , [\"0.10.0\", \"0.9.0\"]\n  , [\"0.99.0\", \"0.10.0\"]\n  , [\"2.0.0\", \"1.2.3\"]\n  , [\"v0.0.0\", \"0.0.0foo\"]\n  , [\"v0.0.1\", \"0.0.0\"]\n  , [\"v1.0.0\", \"0.9.9\"]\n  , [\"v0.10.0\", \"0.9.0\"]\n  , [\"v0.99.0\", \"0.10.0\"]\n  , [\"v2.0.0\", \"1.2.3\"]\n  , [\"0.0.0\", \"v0.0.0foo\"]\n  , [\"0.0.1\", \"v0.0.0\"]\n  , [\"1.0.0\", \"v0.9.9\"]\n  , [\"0.10.0\", \"v0.9.0\"]\n  , [\"0.99.0\", \"v0.10.0\"]\n  , [\"2.0.0\", \"v1.2.3\"]\n  , [\"1.2.3\", \"1.2.3-asdf\"]\n  , [\"1.2.3-4\", \"1.2.3\"]\n  , [\"1.2.3-4-foo\", \"1.2.3\"]\n  , [\"1.2.3-5\", \"1.2.3-5-foo\"]\n  , [\"1.2.3-5\", \"1.2.3-4\"]\n  , [\"1.2.3-5-foo\", \"1.2.3-5-Foo\"]\n  ].forEach(function (v) {\n    var v0 = v[0]\n      , v1 = v[1]\n    t.ok(gt(v0, v1), \"gt('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(lt(v1, v0), \"lt('\"+v1+\"', '\"+v0+\"')\")\n    t.ok(!gt(v1, v0), \"!gt('\"+v1+\"', '\"+v0+\"')\")\n    t.ok(!lt(v0, v1), \"!lt('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(eq(v0, v0), \"eq('\"+v0+\"', '\"+v0+\"')\")\n    t.ok(eq(v1, v1), \"eq('\"+v1+\"', '\"+v1+\"')\")\n    t.ok(neq(v0, v1), \"neq('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(cmp(v1, \"==\", v1), \"cmp('\"+v1+\"' == '\"+v1+\"')\")\n    t.ok(cmp(v0, \">=\", v1), \"cmp('\"+v0+\"' >= '\"+v1+\"')\")\n    t.ok(cmp(v1, \"<=\", v0), \"cmp('\"+v1+\"' <= '\"+v0+\"')\")\n    t.ok(cmp(v0, \"!=\", v1), \"cmp('\"+v0+\"' != '\"+v1+\"')\")\n  })\n  t.end()\n})\ntest(\"\\nequality tests\", function (t) {\n; [ [\"1.2.3\", \"v1.2.3\"]\n  , [\"1.2.3\", \"=1.2.3\"]\n  , [\"1.2.3\", \"v 1.2.3\"]\n  , [\"1.2.3\", \"= 1.2.3\"]\n  , [\"1.2.3\", \" v1.2.3\"]\n  , [\"1.2.3\", \" =1.2.3\"]\n  , [\"1.2.3\", \" v 1.2.3\"]\n  , [\"1.2.3\", \" = 1.2.3\"]\n  , [\"1.2.3-0\", \"v1.2.3-0\"]\n  , [\"1.2.3-0\", \"=1.2.3-0\"]\n  , [\"1.2.3-0\", \"v 1.2.3-0\"]\n  , [\"1.2.3-0\", \"= 1.2.3-0\"]\n  , [\"1.2.3-0\", \" v1.2.3-0\"]\n  , [\"1.2.3-0\", \" =1.2.3-0\"]\n  , [\"1.2.3-0\", \" v 1.2.3-0\"]\n  , [\"1.2.3-0\", \" = 1.2.3-0\"]\n  , [\"1.2.3-01\", \"v1.2.3-1\"]\n  , [\"1.2.3-01\", \"=1.2.3-1\"]\n  , [\"1.2.3-01\", \"v 1.2.3-1\"]\n  , [\"1.2.3-01\", \"= 1.2.3-1\"]\n  , [\"1.2.3-01\", \" v1.2.3-1\"]\n  , [\"1.2.3-01\", \" =1.2.3-1\"]\n  , [\"1.2.3-01\", \" v 1.2.3-1\"]\n  , [\"1.2.3-01\", \" = 1.2.3-1\"]\n  , [\"1.2.3beta\", \"v1.2.3beta\"]\n  , [\"1.2.3beta\", \"=1.2.3beta\"]\n  , [\"1.2.3beta\", \"v 1.2.3beta\"]\n  , [\"1.2.3beta\", \"= 1.2.3beta\"]\n  , [\"1.2.3beta\", \" v1.2.3beta\"]\n  , [\"1.2.3beta\", \" =1.2.3beta\"]\n  , [\"1.2.3beta\", \" v 1.2.3beta\"]\n  , [\"1.2.3beta\", \" = 1.2.3beta\"]\n  ].forEach(function (v) {\n    var v0 = v[0]\n      , v1 = v[1]\n    t.ok(eq(v0, v1), \"eq('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(!neq(v0, v1), \"!neq('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(cmp(v0, \"==\", v1), \"cmp(\"+v0+\"==\"+v1+\")\")\n    t.ok(!cmp(v0, \"!=\", v1), \"!cmp(\"+v0+\"!=\"+v1+\")\")\n    t.ok(!cmp(v0, \"===\", v1), \"!cmp(\"+v0+\"===\"+v1+\")\")\n    t.ok(cmp(v0, \"!==\", v1), \"cmp(\"+v0+\"!==\"+v1+\")\")\n    t.ok(!gt(v0, v1), \"!gt('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(gte(v0, v1), \"gte('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(!lt(v0, v1), \"!lt('\"+v0+\"', '\"+v1+\"')\")\n    t.ok(lte(v0, v1), \"lte('\"+v0+\"', '\"+v1+\"')\")\n  })\n  t.end()\n})\ntest(\"\\nrange tests\", function (t) {\n; [ [\"1.0.0 - 2.0.0\", \"1.2.3\"]\n  , [\"1.0.0\", \"1.0.0\"]\n  , [\">=\", \"0.2.4\"]\n  , [\"\", \"1.0.0\"]\n  , [\"\", \"1.2.3\"]\n  , [\"\", \"v1.2.3-foo\"]\n  , [\">=1.0.0\", \"1.0.0\"]\n  , [\">=1.0.0\", \"1.0.1\"]\n  , [\">=1.0.0\", \"1.1.0\"]\n  , [\">1.0.0\", \"1.0.1\"]\n  , [\">1.0.0\", \"1.1.0\"]\n  , [\"<=2.0.0\", \"2.0.0\"]\n  , [\"<=2.0.0\", \"1.9999.9999\"]\n  , [\"<=2.0.0\", \"0.2.9\"]\n  , [\"<2.0.0\", \"1.9999.9999\"]\n  , [\"<2.0.0\", \"0.2.9\"]\n  , [\">= 1.0.0\", \"1.0.0\"]\n  , [\">=  1.0.0\", \"1.0.1\"]\n  , [\">=   1.0.0\", \"1.1.0\"]\n  , [\"> 1.0.0\", \"1.0.1\"]\n  , [\">  1.0.0\", \"1.1.0\"]\n  , [\"<=   2.0.0\", \"2.0.0\"]\n  , [\"<= 2.0.0\", \"1.9999.9999\"]\n  , [\"<=  2.0.0\", \"0.2.9\"]\n  , [\"<    2.0.0\", \"1.9999.9999\"]\n  , [\"<\\t2.0.0\", \"0.2.9\"]\n  , [\">=0.1.97\", \"v0.1.97\"]\n  , [\">=0.1.97\", \"0.1.97\"]\n  , [\"0.1.20 || 1.2.4\", \"1.2.4\"]\n  , [\">=0.2.3 || <0.0.1\", \"0.0.0\"]\n  , [\">=0.2.3 || <0.0.1\", \"0.2.3\"]\n  , [\">=0.2.3 || <0.0.1\", \"0.2.4\"]\n  , [\"||\", \"1.3.4\"]\n  , [\"2.x.x\", \"2.1.3\"]\n  , [\"1.2.x\", \"1.2.3\"]\n  , [\"1.2.x || 2.x\", \"2.1.3\"]\n  , [\"1.2.x || 2.x\", \"1.2.3\"]\n  , [\"x\", \"1.2.3\"]\n  , [\"2..\", \"2.1.3\"]\n  , [\"1.2.\", \"1.2.3\"]\n  , [\"1.2.* || 2.\", \"2.1.3\"]\n  , [\"1.2. || 2.\", \"1.2.3\"]\n  , [\"\", \"1.2.3\"]\n  , [\"2\", \"2.1.2\"]\n  , [\"2.3\", \"2.3.1\"]\n  , [\"~2.4\", \"2.4.0\"] // >=2.4.0 <2.5.0\n  , [\"~2.4\", \"2.4.5\"]\n  , [\"~>3.2.1\", \"3.2.2\"] // >=3.2.1 <3.3.0\n  , [\"~1\", \"1.2.3\"] // >=1.0.0 <2.0.0\n  , [\"~>1\", \"1.2.3\"]\n  , [\"~> 1\", \"1.2.3\"]\n  , [\"~1.0\", \"1.0.2\"] // >=1.0.0 <1.1.0\n  , [\"~ 1.0\", \"1.0.2\"]\n  , [\"<1\", \"1.0.0beta\"]\n  , [\"< 1\", \"1.0.0beta\"]\n  , [\">=1\", \"1.0.0\"]\n  , [\">= 1\", \"1.0.0\"]\n  , [\"<1.2\", \"1.1.1\"]\n  , [\"< 1.2\", \"1.1.1\"]\n  , [\"1\", \"1.0.0beta\"]\n  ].forEach(function (v) {\n    t.ok(satisfies(v[1], v[0]), v[0]+\" satisfied by \"+v[1])\n  })\n  t.end()\n})\ntest(\"\\nnegative range tests\", function (t) {\n; [ [\"1.0.0 - 2.0.0\", \"2.2.3\"]\n  , [\"1.0.0\", \"1.0.1\"]\n  , [\">=1.0.0\", \"0.0.0\"]\n  , [\">=1.0.0\", \"0.0.1\"]\n  , [\">=1.0.0\", \"0.1.0\"]\n  , [\">1.0.0\", \"0.0.1\"]\n  , [\">1.0.0\", \"0.1.0\"]\n  , [\"<=2.0.0\", \"3.0.0\"]\n  , [\"<=2.0.0\", \"2.9999.9999\"]\n  , [\"<=2.0.0\", \"2.2.9\"]\n  , [\"<2.0.0\", \"2.9999.9999\"]\n  , [\"<2.0.0\", \"2.2.9\"]\n  , [\">=0.1.97\", \"v0.1.93\"]\n  , [\">=0.1.97\", \"0.1.93\"]\n  , [\"0.1.20 || 1.2.4\", \"1.2.3\"]\n  , [\">=0.2.3 || <0.0.1\", \"0.0.3\"]\n  , [\">=0.2.3 || <0.0.1\", \"0.2.2\"]\n  , [\"2.x.x\", \"1.1.3\"]\n  , [\"2.x.x\", \"3.1.3\"]\n  , [\"1.2.x\", \"1.3.3\"]\n  , [\"1.2.x || 2.x\", \"3.1.3\"]\n  , [\"1.2.x || 2.x\", \"1.1.3\"]\n  , [\"2..\", \"1.1.3\"]\n  , [\"2..\", \"3.1.3\"]\n  , [\"1.2.\", \"1.3.3\"]\n  , [\"1.2. || 2.\", \"3.1.3\"]\n  , [\"1.2. || 2.*\", \"1.1.3\"]\n  , [\"2\", \"1.1.2\"]\n  , [\"2.3\", \"2.4.1\"]\n  , [\"~2.4\", \"2.5.0\"] // >=2.4.0 <2.5.0\n  , [\"~2.4\", \"2.3.9\"]\n  , [\"~>3.2.1\", \"3.3.2\"] // >=3.2.1 <3.3.0\n  , [\"~>3.2.1\", \"3.2.0\"] // >=3.2.1 <3.3.0\n  , [\"~1\", \"0.2.3\"] // >=1.0.0 <2.0.0\n  , [\"~>1\", \"2.2.3\"]\n  , [\"~1.0\", \"1.1.0\"] // >=1.0.0 <1.1.0\n  , [\"<1\", \"1.0.0\"]\n  , [\">=1.2\", \"1.1.1\"]\n  , [\"1\", \"2.0.0beta\"]\n  ].forEach(function (v) {\n    t.ok(!satisfies(v[1], v[0]), v[0]+\" not satisfied by \"+v[1])\n  })\n  t.end()\n})\ntest(\"\\nincrement versions test\", function (t) {\n; [ [ \"1.2.3\",   \"major\", \"2.0.0\"   ]\n  , [ \"1.2.3\",   \"minor\", \"1.3.0\"   ]\n  , [ \"1.2.3\",   \"patch\", \"1.2.4\"   ]\n  , [ \"1.2.3\",   \"build\", \"1.2.3-1\" ]\n  , [ \"1.2.3-4\", \"build\", \"1.2.3-5\" ]\n, [ \"1.2.3tag\",    \"major\", \"2.0.0\"   ]\n  , [ \"1.2.3-tag\",   \"major\", \"2.0.0\"   ]\n  , [ \"1.2.3tag\",    \"build\", \"1.2.3-1\" ]\n  , [ \"1.2.3-tag\",   \"build\", \"1.2.3-1\" ]\n  , [ \"1.2.3-4-tag\", \"build\", \"1.2.3-5\" ]\n  , [ \"1.2.3-4tag\",  \"build\", \"1.2.3-5\" ]\n, [ \"1.2.3\", \"fake\",  null ]\n  , [ \"fake\",  \"major\", null ]\n  ].forEach(function (v) {\n    t.equal(inc(v[0], v[1]), v[2], \"inc(\"+v[0]+\", \"+v[1]+\") === \"+v[2])\n  })\nt.end()\n})\n}\npackage/bin/semver000755 057761 000024 00000003562 11642463247 015105 0ustar00isaacsstaff000000 000000 #!/usr/bin/env node\n// Standalone semver comparison program.\n// Exits successfully and prints matching version(s) if\n// any supplied version is valid and passes all tests.\nvar argv = process.argv.slice(2)\n  , versions = []\n  , range = []\n  , gt = []\n  , lt = []\n  , eq = []\n  , semver = require(\"../semver\")\nmain()\nfunction main () {\n  if (!argv.length) return help()\n  while (argv.length) {\n    var a\n    switch (a = argv.shift()) {\n      case \"-v\": case \"--version\":\n        versions.push(argv.shift())\n        break\n      case \"-r\": case \"--range\":\n        range.push(argv.shift())\n        break\n      case \"-h\": case \"--help\": case \"-?\":\n        return help()\n      default:\n        versions.push(a)\n        break\n    }\n  }\nversions = versions.filter(semver.valid)\n  for (var i = 0, l = range.length; i < l ; i ++) {\n    versions = versions.filter(function (v) {\n      return semver.satisfies(v, range[i])\n    })\n    if (!versions.length) return fail()\n  }\n  return success(versions)\n}\nfunction fail () { process.exit(1) }\nfunction success () {\n  versions.sort(semver.compare)\n    .map(semver.clean)\n    .forEach(function (v,i,_) { console.log(v) })\n}\nfunction help () {\n  console.log([\"Usage: semver -v  [-r ]\"\n              ,\"Test if version(s) satisfy the supplied range(s),\"\n              ,\"and sort them.\"\n              ,\"\"\n              ,\"Multiple versions or ranges may be supplied.\"\n              ,\"\"\n              ,\"Program exits successfully if any valid version satisfies\"\n              ,\"all supplied ranges, and prints all satisfying versions.\"\n              ,\"\"\n              ,\"If no versions are valid, or ranges are not satisfied,\"\n              ,\"then exits failure.\"\n              ,\"\"\n              ,\"Versions are printed in ascending order, so supplying\"\n              ,\"multiple versions to the utility will just sort them.\"\n              ].join(\"\\n\"))\n}\ngzip: /tmp/npm-1318252433782/1318252484468-0.9484020196832716/tmp.tgz: trailing garbage ignored\n. sudo, because it is necessary when installing with -g as instructed in the Quick Install guide.\n[casper@think ~/test]$ git clone git://github.com/cliftonc/calipso.git\n[casper@think ~/test]$ cd calipso/\n[casper@think ~/test/calipso]$ npm install -d\n==> same gzip problem\nyes, it is odd. ok, don't roll your head with it for now.\nI'll give it a little time, and then test on different machines to see if it persists.\nso we can close the issue for now, if convenient.\nI can probably take down the package that is failing via git into node_modules\n. another problem has shown, but this particular issue is no more.\nI removed my global /usr/local/lib/node_modules folder, and /root/.npm + /home/me/.npm just to be sure.\nafter reinstalling npm, the before mentioned problem is history here.\n. install runs with force flag, but starting fails with \n``` javascript\nmodule.js:485\n  process.dlopen(filename, module.exports);\n          ^\nError: dlopen(/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/bcrypt/build/Release/bcrypt_lib.node, 1): no suitable image found.  Did find:\n    /Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/bcrypt/build/Release/bcrypt_lib.node: mach-o, but wrong architecture\n    at Object.Module._extensions..node (module.js:485:11)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:362:17)\n    at require (module.js:378:17)\n    at Object. (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/bcrypt/bcrypt.js:5:18)\n    at Module._compile (module.js:449:26)\n    at Object.Module._extensions..js (module.js:467:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n```\non MacOS X 10.7 and Node 0.8.3\n. i tried an\nnpm install -g again\nnpm said ok, then \ncalipso site www\nnothing wrong here to\ncd www; calipso install;\nok,\ncalipso server\nsame error stack again.\n\nLooks like you switched from 32bit to 64bit or seitched platforms.\n\ni did, but i installed calipso (and bcrypt with it) after the switch.\n. ok next try:\nnpm install -g git://github.com/cliftonc/calipso.git\ncaused a bunch of other problems\nnpm log\n. i don't have x-code installed, only Commandline Tools. why should i install xcode only to get make and gcc? :)\n. why i need xcode anyway? what would be used on linux or win?\n. well i do not have a xcode.app on my system. anyway, the installation should not depend on such a tool. what is really needed for installation, what is used on linux?\n. relating to xcode-select issue: \nshell\nsudo xcode-select -switch /usr/bin\nsolves the problem with compiling bcrypt, or better node-gyp, w/o XCode\nnow\nshell\nsudo npm install -g git://github.com/cliftonc/calipso.git\nsucceed with errors https://gist.github.com/3283146\ncalipso site www; cd www; calipso server;\ncreates\n/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:39\n        throw arguments[0];\n                       ^\nTypeError: undefined is not a function\n    at /Users/gregor/Projects/netbreeze/website/test/node/www/app.js:198:7\n    at Object.calipso.initCallback (/Users/gregor/Projects/netbreeze/website/test/node/www/lib/calipso.js:67:5)\n    at checkAllModulesInited (/Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:408:13)\n    at /Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:385:9\n    at Function.done (/Users/gregor/Projects/netbreeze/website/test/node/www/modules/core/admin/admin.js:125:5)\n    at next (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:51:23)\n    at next (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:60:12)\n    at Object.Step (/Users/gregor/Projects/netbreeze/website/test/node/www/node_modules/step/lib/step.js:122:3)\n    at Object.init (/Users/gregor/Projects/netbreeze/website/test/node/www/modules/core/admin/admin.js:55:15)\n    at initModule (/Users/gregor/Projects/netbreeze/website/test/node/www/lib/core/Module.js:370:32)\n. while uninstalling i get this:\n```\nmr-orange:node gregor$ sudo npm rm -g calipso\nnpm ERR! Error: ENOTEMPTY, rmdir '/usr/local/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/lib/.libs'\nnpm ERR! If you need help, you may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! System Darwin 11.4.0\nnpm ERR! command \"node\" \"/usr/local/bin/npm\" \"rm\" \"-g\" \"calipso\"\nnpm ERR! cwd /Users/gregor/Projects/netbreeze/website/test/node\nnpm ERR! node -v v0.8.3\nnpm ERR! npm -v 1.1.43\nnpm ERR! path /usr/local/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/lib/.libs\nnpm ERR! code ENOTEMPTY\nnpm ERR! errno 53\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /Users/gregor/Projects/netbreeze/website/test/node/npm-debug.log\nnpm ERR! not ok code 0\n```\nsudo rm -rf /usr/local/lib/node_modules/calipso; sudo npm uninstall -g calipso;\nclears the install.\nafter the fresh install calipso works!\nthis issue is solved for me :) thank you very much\n. still down...\n. Put it into a SmaryOS instance on Joyent public cloud?\nOn Saturday, 1 December 2012, Andreas Richter wrote:\n\nI asked clifton and he asked his provider to reboot. We're talking about\nmoving it to a ec2 tier.\nSorry about the inconvenience.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 5:29 AM, Gerard Webb >\nwrote:\nstill down...\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10915656>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917957.\n\n\nSent from Gmail Mobile on my iPad2\n. Should be able to duplicate, might be able to get some discount from joyent\ntoo...\nOn Saturday, 1 December 2012, Andreas Richter wrote:\n\nThat might be easier, yes. Although I have a ec2 instance running with a\ncalipso instance.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 9:57 AM, khushil >\nwrote:\nPut it into a SmaryOS instance on Joyent public cloud?\nOn Saturday, 1 December 2012, Andreas Richter wrote:\n\nI asked clifton and he asked his provider to reboot. We're talking about\nmoving it to a ec2 tier.\nSorry about the inconvenience.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 5:29 AM, Gerard Webb <javascript:_e({},\n\n'cvml', 'notifications@github.com ');>>\n\nwrote:\nstill down...\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10915656>.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917957>.\n\n\nSent from Gmail Mobile on my iPad2\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917975>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10918000.\n\n\nSent from Gmail Mobile on my iPad2\n. I run allot of stuff on appfog for nodejs and mongo. Its seem solid.\nIts paas\nOn 01/12/2012 3:54 PM, \"Andreas Richter\" notifications@github.com wrote:\n\nI asked clifton and he asked his provider to reboot. We're talking about\nmoving it to a ec2 tier.\nSorry about the inconvenience.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 5:29 AM, Gerard Webb notifications@github.com wrote:\nstill down...\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10915656>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917957.\n. So Joyent will give calypso a free SmartMachine, just let me know which one\nyou need and ill get you the free code. NodeJS should sit on SmartOS,\nthey're a perfect match :-)\n\nOn Saturday, 1 December 2012, Gerard Webb wrote:\n\nI run allot of stuff on appfog for nodejs and mongo. Its seem solid.\nIts paas\nOn 01/12/2012 3:54 PM, \"Andreas Richter\" >\nwrote:\n\nI asked clifton and he asked his provider to reboot. We're talking about\nmoving it to a ec2 tier.\nSorry about the inconvenience.\nAndy\nSent via the internets\nOn Dec 1, 2012, at 5:29 AM, Gerard Webb >\nwrote:\nstill down...\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10915656>.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10917957>.\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/171#issuecomment-10918747.\n\n\nSent from Gmail Mobile on my iPad2\n. to just get going on windows  i need the bash call removed it seems\n.   \"scripts\": {\n    \"install\" : \"bash ./bin/install.sh\"\nin the package file seems to be the issue ?\nCant it call an OS agnostic file, which then branches to call a specific OS files based on OS ?\n. i would like to be able to do local DEV on this so i can contribute back, but a little help on getting this going on windows would be appreciated :)\n. i just clones the repo. When i do npm install -d i also get the problem with bash\n. OK.\nDid not even know this.\nI use GitHub for windows.\nWill have to try again under the shell.\nThanks for update\n On 01/12/2012 3:53 PM, \"Andreas Richter\" notifications@github.com wrote:\n\nI fixed and tested this to work on windows. The bash dependency is\ngenerated by npm and not by calipso. If you clone the repo i added a .cmd\nfile to do the calipso thing. You will need the git bash or cygwin sh in\nthe path for the bash file to work on windows but then it will.\nThanks\nAndy\nSent via the internets\nOn Dec 1, 2012, at 6:03 AM, Gerard Webb notifications@github.com wrote:\ni just clones the repo. When i do npm install -d i also get the problem\nwith bash\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10915954>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10917942.\n. thanks richtera i got it all working on windows. Was pretty easy. I created some scripts to automate some basic stuff along the way.\n. Hey cliff.\n\nWell I got everything going on windows once I learnt s bit more. Its nice\narchitecture.\nBut I did notice that both those dependencies have gyp now. So worth\npulling anyway when you consider that they are turning off WAF for v9 of\nnodejs I think.\n On 01/12/2012 9:45 PM, \"Andreas Richter\" notifications@github.com wrote:\n\ngit://github.com/springmeyer/node-zipfile.git still uses waf? zipfile is\nonly used by the calipso theme and calipso module installers. Does someone\nhave a gyp or binary windows compile?\ngit://github.com/astro/node-expat.git uses gyp. I can update the package\nif someone wants.\nexpat is only used for the assets module which still needs some more work\nand docs.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10921898.\n. OK easy fix :)\nOn 02/12/2012 1:44 AM, \"Andreas Richter\" notifications@github.com wrote:\nIt looks like zipfile has a gyp build file but the package.json has a waf\ninstall command\nAndy\nSent from my iPhone\nOn Dec 1, 2012, at 5:01 PM, Gerard Webb notifications@github.com wrote:\nHey cliff.\nWell I got everything going on windows once I learnt s bit more. Its nice\narchitecture.\nBut I did notice that both those dependencies have gyp now. So worth\npulling anyway when you consider that they are turning off WAF for v9 of\nnodejs I think.\nOn 01/12/2012 9:45 PM, \"Andreas Richter\" notifications@github.com\nwrote:\n\ngit://github.com/springmeyer/node-zipfile.git still uses waf? zipfile\nis\nonly used by the calipso theme and calipso module installers. Does\nsomeone\nhave a gyp or binary windows compile?\ngit://github.com/astro/node-expat.git uses gyp. I can update the\npackage\nif someone wants.\nexpat is only used for the assets module which still needs some more\nwork\nand docs.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10921898>.\n\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10922817>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/172#issuecomment-10924320.\n. yeah its quality i think. Also has nice set-up for proxy.\n\nwe should asks what proxy they use too. Might be a nodejs one too\ng\nOn 3 December 2012 14:32, Andreas Richter notifications@github.com wrote:\n\nI'll check it out. We had major problems with cluster due to hook.io when\nmoving to the node builtin clustering. I am not sure if there would be\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com wrote:\nthere is better clustering node js library that is more production\nfriendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed. It is\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952653.\n\n\n+46 73 364 67 96\n. hook.io looks awesome. did not know this existed for nodejs.\nCurious where this is used in calipso ?\nOn 3 December 2012 14:38, Ged Wed gedw99@gmail.com wrote:\n\nyeah its quality i think. Also has nice set-up for proxy.\nwe should asks what proxy they use too. Might be a nodejs one too\ng\nOn 3 December 2012 14:32, Andreas Richter notifications@github.comwrote:\n\nI'll check it out. We had major problems with cluster due to hook.iowhen\nmoving to the node builtin clustering. I am not sure if there would be\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com\nwrote:\nthere is better clustering node js library that is more production\nfriendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed. It is\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952653.\n\n\n+46 73 364 67 96\n\n\n+46 73 364 67 96\n. Wow this sounds nice.\nWhen you say all the events can you give me an example ? Sorry\nCan scale out the back end to different sub systems running on different\nprocesses or even servers ?\nOn 3 December 2012 15:02, Andreas Richter notifications@github.com wrote:\n\nAll events are published through hook.io but there is work to be done to\nactually make that useful :)\nAndy\nSent from my iPhone\nOn Dec 3, 2012, at 8:41 AM, Gerard Webb notifications@github.com wrote:\nhook.io looks awesome. did not know this existed for nodejs.\nCurious where this is used in calipso ?\nOn 3 December 2012 14:38, Ged Wed gedw99@gmail.com wrote:\n\nyeah its quality i think. Also has nice set-up for proxy.\nwe should asks what proxy they use too. Might be a nodejs one too\ng\nOn 3 December 2012 14:32, Andreas Richter notifications@github.comwrote:\n\nI'll check it out. We had major problems with cluster due to\nhook.iowhen\nmoving to the node builtin clustering. I am not sure if there would be\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com\nwrote:\nthere is better clustering node js library that is more production\nfriendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed. It\nis\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952653>.\n\n\n+46 73 364 67 96\n\n\n+46 73 364 67 96\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952912>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10953643.\n\n\n+46 73 364 67 96\n. OK so its being used to decouple the architecture rather than scale it out.\nStill very nice.\nI am wondering how to run the theme installer on a command line from a dev\nsetup. I pulled all the code so I can help with development.\nI am also working out how to do the MVC client side. I imagine hook.io will\nbe nice for this.\nI want to wrap the MVC with s index dB and then embed the whole thing with\nphone gap and deploy to iPhone and Android. Will mean you can update the\ncms on the server and when a mobile client is on network they get latest\ndata.\nI think calipso looks like a good candidate for this as well ad mongo\nG\nOn 03/12/2012 3:47 PM, \"Andreas Richter\" notifications@github.com wrote:\n\nThing like login, logout, create, update and so on. Clifton would have\nmore\ninfo about this. Once the site is moved I would like to spend time\ndocumenting stuff and making sure everything is flushed out\nAndy\nSent from my iPhone\nOn Dec 3, 2012, at 9:13 AM, Gerard Webb notifications@github.com wrote:\nWow this sounds nice.\nWhen you say all the events can you give me an example ? Sorry\nCan scale out the back end to different sub systems running on different\nprocesses or even servers ?\nOn 3 December 2012 15:02, Andreas Richter notifications@github.com\nwrote:\n\nAll events are published through hook.io but there is work to be done\nto\nactually make that useful :)\nAndy\nSent from my iPhone\nOn Dec 3, 2012, at 8:41 AM, Gerard Webb notifications@github.com\nwrote:\nhook.io looks awesome. did not know this existed for nodejs.\nCurious where this is used in calipso ?\nOn 3 December 2012 14:38, Ged Wed gedw99@gmail.com wrote:\n\nyeah its quality i think. Also has nice set-up for proxy.\nwe should asks what proxy they use too. Might be a nodejs one too\ng\nOn 3 December 2012 14:32, Andreas Richter notifications@github.comwrote:\n\nI'll check it out. We had major problems with cluster due to\nhook.iowhen\nmoving to the node builtin clustering. I am not sure if there would\nbe\nsimilar conflicts with cluster2 but it looks ok.\nThanks\nAndy\nSent via the internets\nOn Dec 3, 2012, at 7:42 AM, Gerard Webb notifications@github.com\nwrote:\nthere is better clustering node js library that is more production\nfriendly.\nhttp://ql-io.github.com/cluster2/\nit has draining, checking and logging and many other things needed.\nIt\nis\nused by ebay.\nalso the will work with load balancers properly also as it has health\nchecking.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/173.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952653>.\n\n\n+46 73 364 67 96\n\n\n+46 73 364 67 96\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10952912>.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10953643>.\n\n\n+46 73 364 67 96\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10954025>.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-10955812.\n. Yes i know, but running them on a development root does not work.\n\nMisunderstand the question. No i dont need to use nodejs on Iphone. What i\nam talking about is running some of the callipso JavaScript cod in the\nbrowser.\nThe intent is to have a CMS that can run offline\nThe advantage is that you can then upload a HTml5 app wrapping in a app\ncontainer, and never have to push it through app store again.\nJust update the server side configuration through admin, and when the users\nIPhone is next time connected to the network, will update itself.\nThis is a very powerful solution, and there is as far as i know no other\nsolution dong this.\nCalipso having a good base as a nodeJS CMS is a good candidate fr this and\ni m trying to see if others believe in this idea, and could comment about\neasily this can be done based on their intimate knowledge of the\narchitecture.\nI am new to calipso and so its had to comment fully. But i can see the code\nis well decoupled and so think that what i am talking about is possible.\nOn 7 December 2012 02:17, Andreas Richter notifications@github.com wrote:\n\nThere is a bin folder with the calipso and calipso.cmd files. They should\nwork normally in the git clone. Is there a nodejs solution for\nnon-jailbroken iOS?\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/173#issuecomment-11114358.\n\n\n+46 73 364 67 96\n. ",
    "khoomeister": "Thanks well that's easy!\n. ",
    "kmpm": "I have, in a fork of devel, made some changes so that calipso starts with node 0.6.x. Everything seems to be all right but the tests does not run well and it seems as if it is the calipso.config that doesn't get initialized properly. \nThis might be as it should be considering the \"under development\" but I would like to know since running the tests is the only way for me to verify that thing are working after my \"fixes\"\nThis is the error I got when running \"express -s\"\nevent.test.js I can create pre and post event emitters and emit an event, with no asynchronous callback: TypeError: Cannot call method 'get' of undefined\n    at new CalipsoEventEmitter (/home/peterm/projekt/calipso/lib/Event.js:61:44)\n    at Test.fn (/home/peterm/projekt/calipso/test/event.test.js:19:12)\n. ",
    "justinTNT": "wysiwyg?\ngot any plans for how to upload and format images within content?\nnice project, btw.\n. cole: wherever there's a textarea ...\nclifton: doing them separately sounds right. I'm working on a similar project, stitching together express, mongoose and sammy : my plan is to try to  bash an existing out-of-the-box wysiwyg editor into it, then have a separate dedicated general-purpose file uploader. \nI have (quite) a few more basic things to get done first, but I'll check back in once I'm focussed on the editor.\n. ",
    "arosboro": "Can we collaborate on aloha integration.  I've downloaded the latest version of aloha an updated the core aloha module and the aloha.styles.html template is not being rendered.  I don't see aloha.css included anywhere.  How is the integration going to work?  Currently it looks like aloha is being called on textareas but I think it should be on content-block spans to enable in content editing.\n. I made a modification to use the sanitizer npm module which uses caja as dennishall suggested.  Changed the content and user modules to sanitize output.  Pull request to follow.\n. It looks like \njavascript\nmodule.router.addRoute('GET /asset/:f1?/:f2?/:f3?/:f4?/:f5?/:f6?/:f8?/:f9?/:f10?.:format?', listAssets, {\n  template:'listAdmin',\n  block:'content.list'\n}, this.parallel());\nand the other listAssets routes need to be changed to include {admin:true, permit:isAdmin}\n. I think work needs to go into custom content types to allow you to define your own fields without writing code.  I'll investigate this when I have some time.\n. The content type form is defined at line 152 of modules/core/contentTypes/contentTypes.js\njavascript\n152 /**\n153  * Content type create / edit form\n154  */\n155 var contentTypeForm = {\nIn various callbacks it has the title and action property modified.\nIt gets rendered in several router callbacks like path:'GET /content/type/edit/:id' editContentTypeForm()\njavascript\n272       calipso.form.render(contentTypeForm, values, req, function (form) {\n273         calipso.theme.renderItem(req, res, form, block, {}, next);\n274       });\nI'd like to conceptualize and implement a field ui module and field modules to handle creation of sections and fields.  The field ui module would provide fields for labeling, naming and selecting a type of field, then the field modules would provide a list of field implementations with their own settings.  Filling out the form would generate correct calipso form language for custom field json.\nIt would help if form language had some sort of callback mechanism for validation and or ajax.  Maybe the first step should be revamping calipso form language.\n. I found a way to alter the ContentType form and started adding a ui for fields.  It's pretty clunky but I thought it could spark some discussion.  I just rendered the field, I'm not looking at form submissions yet.\nedit: I cleaned it up a little bit.\n\n. Can somebody look over https://github.com/arosboro/calipso/compare/issue%23185_calipso_form_generator\nSorry, I accidently included a commit from a previous pull request (forgot to branch off of master).  It's a very basic interface and I'm not sure if it introduces IO blockers.\n. Thanks, \nI just added logic to create new fields and sections in addition to updating existing fields.\nEnjoy your vacation.\n. I'm seeing this bug too.  I'll start looking into why the email type may be undefined.\n. The Form.js me.elementTypes.email was overridden with a render function that didn't return a value, and used textarea.render instead of text.render (Which defaults to defaultTagRenderer).\n``` javascript\n--- a/lib/core/Form.js\n+++ b/lib/core/Form.js\n@@ -633,11 +633,9 @@ me.elementTypes.json = {\nme.elementTypes.email = {\n   render:function (field, value) {\n-    //var _field = copyProperties(field, {});\n-    //_field.type = 'text';\n     field.type = 'text';\n     field.cls = (field.cls ? field.cls + ' ' : '') + 'email';\n-    me.elementTypes.textarea.render(field, value);\n+    return me.elementTypes.text.render(field, value);\n   }\n };\n```\nThis is my first attempt at a bug fix.  https://github.com/arosboro/calipso/compare/issue%23192_undefined_email_admin_install\n. I think this is related to Issue #192 because the email field was undefined, the validator failed.  Apply my patch and see if it installs.\n. Looking at commit ff189b3 Thu Apr 18 03:34:16 2013 -0700.  Looking at modules/core/aloha/static/lib/require.js\nYou'll see that on line 1873, the if statement from line 1857 is closed.  I think this closing brace should be removed.  If you go to line 1906 in vim and press '%' to go to the opening brace, it takes you to line 1834 (req.load function assignment).  When you remove the curly brace on line 1873 with my patch, the closing bracket (1905 now) matches up with line 1837, the first if statement in the function.\nSee: https://github.com/jrburke/requirejs/blob/master/require.js#L1827\nAnother option would be to update require.js to this version from jrburke's repository, although I'm not sure if this would introduce more errors.\n. No problem, you may want to hold off.  In getting aloha to work I may update the entire core module with the latest code  from the aloha project rather than making little hotfixes like this one.\n. Can you add the code to line 256 of calipso_test/lib/core/Event.js above the existing statement?\njs\nconsole.log(moduleName);\nconsole.log(maxListeners);\n. I'm a little busy with another project at the moment, I'll try to figure out what's going on and review your comments when I have a little more time.\n. ",
    "KnowledgeGarden": "Not sure either. What got calipso to finally work was to remove it\nentirely and do a fresh install. Now it seems to work fine. No clue\nwhat was going on. Probably less calipso, more me.\nOn Sun, Jun 5, 2011 at 11:56 PM, cliftonc\nreply@reply.github.com\nwrote:\n\nNot sure - does it work if you manually install hooks? \u00a0If so, I'll add it as an explicit dependency.\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/42#comment_1307463\n. \n",
    "bowmanb": "I ran into this by installing node from Ubuntu repositories and trying to 'npm install' calipso. This failed.\nAfter downloading node from their website and compiling node and running 'npm install' on the same calipso instance, I got this error. As KnowledgeGarden mentioned, a clean install fixed the issue.\n. Looks good. Thanks for the help.\n. ",
    "flowforever": "I met this issue again , can anyone tell me , where can I download the hooks module ?\n. Thanks for your reply very much.\nI have downloaded hooks.js https://github.com/bnoguchi/hooks-js file ,\nthen copy it to the 'node_modules' directory , it works very well now .\nmongoose is really excellent , I love it very much .\n\u5728 2011-11-14 \u4e0b\u53489:12\uff0c\"Clifton Cunningham\" <\nreply@reply.github.com\n\n\u5199\u9053\uff1a\nIt's a bug in npm (i think - I haven't had time to dig into it), but\nbasically an 'npm install -d' will install all the first level dependencies\nof calipso, but not the dependencies of the dependencies ...\nIt's a pain in the a*, but this is basically:\ncd node_modules/mongoose\nnpm install -d\nYou have to do this for the other modules that have dependencies (hook.io,\nwinston, connect-form etc.).\nIf there is a better way would be great to know what it is ...\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/42#issuecomment-2730162\n. \n",
    "raisch": "Perhaps 'east' and 'west'?\n. @adrinux, ;) My (albeit trivial) comment was based on the assumption that most \"bidi\" cultures will find recognizing the cardinal directions in context a simpler task than language specific signals like 'right' and 'left'.  Consider how Google Maps defaults to a 'north==top' orientation for both Arabic ( http://maps.google.com/?hl=ar ) and Hebrew (http://maps.google.com/?hl=he) speakers.\n. ",
    "sirkitree": "Submitted a pull request for this. I'm not actually sure of the typical conventions on github, if referencing the issue notifies you, or if sending a pull request is somewhat a duplicate action. I did both, but I'm a little new to collaborating on github.\n. Ha, this was totally my next step, but I didn't submit it because with the column css properties on that page, the descriptions are counted as their own rows and it pushes everything around making it very hard to read (this is in the cleanslate theme) - But I guess that is another issue now :)\n. ",
    "dsimmons": "Yep, to no avail using the latest pull.  It seems that everything else works fine, it's just expat and bcrypt that cause problems (for me anyway).  I'm pretty sure I had the same problems last time around (maybe a week ago?).  Just for clarity, I'm using the latest stable version of both Node and NPM.\n. Of course!  I was actually getting my environment set up to start contributing this weekend.  It's little late EST time today, but on my agenda for tomorrow is sorting through the code and looking at the standards docs at the very least!  I'm very much interested in the progression of this project.\n. I unfortunately did not, and obviously it doesn't do anything now I've manually fixed the dependencies. I'm looking through the install script and it looks like the check is in there, maybe I missed it in all of the output?\n. It definitely might have failed, but there was a bunch of NPM error output (mainly regarding expat), so there's a very good chance that I missed it favor of the verbose, colored NPM text.  Also in regard to install.sh, my NODE_PATH wasn't set correctly initially.  I've since manually fixed it, but it seems like for the sake of the Makefile, it assumes that Expresso is installed with NPM globally?  I don't know if this is the default, but 'npm install' had installed it locally (to ./node_modules) and wasn't able to find it for the sanity tests until I did 'npm install -g expresso'.\n. Sorry, I've been primarily out of town for the past few weeks and haven't caught up on emails.  As for setting your NODE_PATH, I have the following in my ~/.bashrc:\n\nexport NODE_PATH=\"/usr/local/lib/node_modules\"\n\nOf course, adjust the above for the location of your node_modules directory.  I believe mine is the default from the install script.  Also note that I chowned my /usr/local/ directory recursively to my user account so that I didn't have to use sudo to update NPM.\nSorry for the delayed response, let me know if you have any issues!\n. Also for reference, as to maybe help someone out in the future: I wiped and re-installed Node, NPM, MongoDB, and Calipso.  I ran into 2 different problems this time.\n1)  Rather than manually compiling Node from source like I had been previously doing, this time around I used Chris Lea's PPA (it looks like he keeps it up-to-date with the latest stable version, my main concern if using a package manager).  However, it doesn't include node-waf for whatever reason.  Because a few of the NPM dependencies require node-waf, I ended up building Node in a temp directory and symlinking node-waf to /usr/bin.  Seems to work fine, but in the future I might just copy the binary and see if that works.\n2)  I had to manually perform a make on node_modules/mongodb.  It seems like there's something funky going on with its install script.  I posted an issue about it here: https://github.com/christkv/node-mongodb-native/issues/286.\nI realize that neither of these are the fault of Calipso, but caused problems nonetheless.  In the event that anyone else runs into either of these problems, seems to be working fine with the above two fixes!\n. That will certainly be a welcomed addition!  Looking forward to the changes!\n. ",
    "thinkroth": "I agree. I don't think it's a permanent solution.  It just felt a bit weird to have to manually refresh a page.  I wanted to get something in so that things felt a bit better on the admin end.\n. ",
    "josmas": "same problem here... a restart fixes it!\n. ",
    "kmiyashiro": "I really don't like a lot of Symphony's UI. Wordpress, as terrible as the code may be, has a much better admin UI.\nSquarespace actually has the best UI.\n. @dtan Yes, I've used Symphony (XML/XLST based) for almost 5 years now. The target audiences are different, but Wordpress manages to do pretty well for both advanced and casual users. It's still not \"omg so good\", but definitely better than Symphony.\nSymphony has a ton of very basic UI problems that have been there forever. Wordpress continues to improve.\n. I don't remember, but basic UI conventions say to always make sure the user meant to do something if what they are trying to do is fairly rare and has a large impact. That's pretty basic, you can find examples of that anywhere.\nEven better is to allow Undo so you don't get in the user's way. See GMail's UI when deleting and sending mail, or Google Docs, or any version control system (and Wordpress).\n. Is keeping up with an unstable channel a good idea? Things can change at any time. Maybe a separate 0.5 compat branch or something so that not a lot of refactoring will be needed once stable 0.6 is released is a good idea?\n. ",
    "MechanisM": "after successfully installed mongodb via npm install mongodb --mongodb:native\nroot@MechanisM:/home/mechanism# npm install calipso -g\n\nmongodb@0.9.6-9 install /usr/lib/node_modules/calipso/node_modules/mongodb\nbash ./install.sh\n\n\n=                                                                              =\n=  To install with C++ bson parser do    =\n=  the parser only works for node 0.4.X or lower                               =\n=                                                                              =\nNot building native library for cygwin\nnpm ERR! registry error parsing json\nnpm ERR! error installing winston@0.3.3 SyntaxError: Unexpected token ILLEGAL\nnpm ERR! error installing winston@0.3.3 Request timeout Request timeout \nnpm ERR! error installing winston@0.3.3     at Object.parse (native)\nnpm ERR! error installing winston@0.3.3     at IncomingMessage. (/usr/lib/node_modules/npm/lib/utils/npm-registry-client/request.js:163:25)\nnpm ERR! error installing winston@0.3.3     at IncomingMessage.emit (events.js:81:20)\nnpm ERR! error installing winston@0.3.3     at HTTPParser.onMessageComplete (http.js:133:23)\nnpm ERR! error installing winston@0.3.3     at CleartextStream.ondata (http.js:1227:22)\nnpm ERR! error installing winston@0.3.3     at CleartextStream.push (tls.js:303:27)\nnpm ERR! error installing winston@0.3.3     at SecurePair.cycle (tls.js:574:20)\nnpm ERR! error installing winston@0.3.3     at EncryptedStream.write (tls.js:96:13)\nnpm ERR! error installing winston@0.3.3     at Socket.ondata (stream.js:36:26)\nnpm ERR! error installing winston@0.3.3     at Socket.emit (events.js:64:17)\nnpm ERR! error installing calipso@0.2.1 SyntaxError: Unexpected token ILLEGAL\nnpm ERR! error installing calipso@0.2.1  Request timeout Request timeout \nnpm ERR! error installing calipso@0.2.1     at Object.parse (native)\nnpm ERR! error installing calipso@0.2.1     at IncomingMessage. (/usr/lib/node_modules/npm/lib/utils/npm-registry-client/request.js:163:25)\nnpm ERR! error installing calipso@0.2.1     at IncomingMessage.emit (events.js:81:20)\nnpm ERR! error installing calipso@0.2.1     at HTTPParser.onMessageComplete (http.js:133:23)\nnpm ERR! error installing calipso@0.2.1     at CleartextStream.ondata (http.js:1227:22)\nnpm ERR! error installing calipso@0.2.1     at CleartextStream._push (tls.js:303:27)\nnpm ERR! error installing calipso@0.2.1     at SecurePair.cycle (tls.js:574:20)\nnpm ERR! error installing calipso@0.2.1     at EncryptedStream.write (tls.js:96:13)\nnpm ERR! error installing calipso@0.2.1     at Socket.ondata (stream.js:36:26)\nnpm ERR! error installing calipso@0.2.1     at Socket.emit (events.js:64:17)\nnpm ERR! SyntaxError: Unexpected token ILLEGAL\nnpm ERR!  Request timeout Request timeout \nnpm ERR!     at Object.parse (native)\nnpm ERR!     at IncomingMessage. (/usr/lib/node_modules/npm/lib/utils/npm-registry-client/request.js:163:25)\nnpm ERR!     at IncomingMessage.emit (events.js:81:20)\nnpm ERR!     at HTTPParser.onMessageComplete (http.js:133:23)\nnpm ERR!     at CleartextStream.ondata (http.js:1227:22)\nnpm ERR!     at CleartextStream._push (tls.js:303:27)\nnpm ERR!     at SecurePair.cycle (tls.js:574:20)\nnpm ERR!     at EncryptedStream.write (tls.js:96:13)\nnpm ERR!     at Socket.ondata (stream.js:36:26)\nnpm ERR!     at Socket.emit (events.js:64:17)\nnpm ERR! Report this _entire log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR! \nnpm ERR! System Linux 3.0.0-7-generic\nnpm ERR! command \"node\" \"/usr/bin/npm\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd /home/mechanism\nnpm ERR! node -v v0.4.9\nnpm ERR! npm -v 1.0.22\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /home/mechanism/npm-debug.log\nnpm not ok\n. seems like calipso not compatible with node v0.6.2?\n. aaronfay you mean calipso works correctly with node 0.6.3 on ubuntu 11.10? I have ubuntu 12.04(atm) and node 0.6.3 and calipso doesn't works.\n. Yep now it's solved: \"npm install calipso -g\" works fine and installs everything successfully.\n. Thanxx! Now Everything works just fine!!\n. ",
    "tomru": "ok, my bad. I used the npm 0.3.8 where the syntax is still different. Sorry about the hassle....\n. ",
    "conancat": "Awesome! I was wondering where can we post community created themes and all as I am trying to work on a theme for Calipso, wanted to try out things and all :) \nThanks @cliftonc! I will add it into the repo module once it's up :D\n. ",
    "kevinmctigue": "Yep, that seemed to fix it. The issue was in Firefox 6 as well.\n. ",
    "dvv": "I think the problem is not in the input, but rather in output. No need to limit user's input (<script>alert('hacked')</script> is a pretty valid description of someone's profile :) really.), but output should always be escaped (maybe at layout template level?).\n. ",
    "nekdolan": "So <-> npm update calipso <-> should work, right?\nTried another git clone, but that didn't work. Somehow I can't remove calipso from npm.\nSorry I'm a newbie :(\n. Now I get this error:\n...\nCopied: /var/www3/test/utils\n   Copied: /var/www3/test/themes\n   Copied: /var/www3/test/i18n\n   Copied: /var/www3/test/scripts\n   create: /var/www3/test/scripts/templates\n   Copied: /var/www3/test/scripts/templates\nnode.js:134\n        throw e; // process.nextTick error, or 'error' event on first tick\n        ^\nError: Command failed: cp: cannot stat `/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/..//node_modules/*': No such file or directory\nat ChildProcess.exithandler (child_process.js:102:15)\nat ChildProcess.emit (events.js:67:17)\nat Socket. (child_process.js:172:12)\nat Socket.emit (events.js:64:17)\nat Array. (net.js:831:12)\nat EventEmitter._tickCallback (node.js:126:26)\n. That's alright, but why do I get a different error now? I made another git clone and in the calipso folder I used 'npm rebuild'. Until now the makefile was missing but after the rebuild it is the node_modules folder that is missing. Am I doing something wrong? I mean a git clone should get the necessary data from here, right?\n. But what if I already had calipso installed with npm? To me it seems that npm does not really care about dependencies if it's not a new install. I also tried the install script with no luck.\nroot@vps236:/usr/local# git clone git://github.com/cliftonc/calipso.git\nInitialized empty Git repository in /usr/local/calipso/.git/\nremote: Counting objects: 5974, done.\nremote: Compressing objects: 100% (2706/2706), done.\nremote: Total 5974 (delta 2970), reused 5880 (delta 2917)\nReceiving objects: 100% (5974/5974), 1.86 MiB | 1611 KiB/s, done.\nResolving deltas: 100% (2970/2970), done.\nroot@vps236:/usr/local# cd calipso\nroot@vps236:/usr/local/calipso# npm install -g\nnpm info it worked if it ends with ok\nnpm info using npm@0.3.18\nnpm info using node@v0.4.9\nnpm info calculating sha1 /usr/local/lib/node/.npm/.cache/calipso/0.2.3/package.tgz\nnpm info shasum 9a0224d01902559c4db70cd5ef330b1d90be7756\nnpm info preinstall calipso@0.2.3\nnpm info install calipso@0.2.3\nUsing Node version: v0.4.9\nUsing NPM version: 0.3.18\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking that key modules are installed...\nInstallation completed, please try the command \"calipso\" to test the installation.\nnpm info postinstall calipso@0.2.3\nnpm info predeactivate calipso@0.2.3\nnpm info deactivate calipso@0.2.3\nnpm info postdeactivate calipso@0.2.3\nnpm info preactivate calipso@0.2.3\nnpm info activate calipso@0.2.3\nnpm info postactivate calipso@0.2.3\nnpm info build Success: calipso@0.2.3\nnpm ok\n@/var/www3/calipso site test \n...\n  Copied: /var/www3/test/themes\n   Copied: /var/www3/test/utils\n/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/calipso:378\n    if (err) throw err;\n             ^\nError: Command failed: cp: cannot stat `/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/..//node_modules/*': No such file or directory\nat ChildProcess.exithandler (child_process.js:102:15)\nat ChildProcess.emit (events.js:67:17)\nat ChildProcess.onexit (child_process.js:192:12)\n. ...\nSite/lib\n   Copied: /var/www3/MyNewSite/modules\n   Copied: /var/www3/MyNewSite/support\n/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/calipso:378\n    if (err) throw err;\n             ^\nError: Command failed: cp: cannot stat `/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/..//node_modules/*': No such file or directory\nat ChildProcess.exithandler (child_process.js:102:15)\nat ChildProcess.emit (events.js:67:17)\nat ChildProcess.onexit (child_process.js:192:12)\nroot@vps236:/var/www3# cd MyNewSite\nroot@vps236:/var/www3/MyNewSite# calipso server\nLaunching calipso from: /var/www3/MyNewSite\nCalipso directory: /usr/local/lib/node/.npm/calipso/0.2.3/package/bin/../\nThis is not a Calipso site - you must run: calipso site SiteName\nroot@vps236:/var/www3/MyNewSite#\nMaybe if I reinstall npm and nodejs it would be okay, or if I manually put stuff into the modules directory\n. root@vps236:/usr/local# git clone git://github.com/cliftonc/calipso.git\nInitialized empty Git repository in /usr/local/calipso/.git/\nremote: Counting objects: 5974, done.\nremote: Compressing objects: 100% (2706/2706), done.\nremote: Total 5974 (delta 2970), reused 5880 (delta 2917)\nReceiving objects: 100% (5974/5974), 1.86 MiB | 1625 KiB/s, done.\nResolving deltas: 100% (2970/2970), done.\nroot@vps236:/usr/local# cd calipso\nroot@vps236:/usr/local/calipso# ls\nREADME.textile  bin          i18n     logs     package.json  support  utils\napp-cluster.js  conf         lib      media    pids          test\napp.js          config.json  logo.js  modules  scripts       themes\nroot@vps236:/usr/local/calipso# npm install\nnpm info it worked if it ends with ok\nnpm info using npm@0.3.18\nnpm info using node@v0.4.9\nnpm info calculating sha1 /usr/local/lib/node/.npm/.cache/calipso/0.2.3/package.tgz\nnpm info shasum 86e04f59911077f6e16141c16fd5af0d69a79290\nnpm info preinstall calipso@0.2.3\nnpm info install calipso@0.2.3\nUsing Node version: v0.4.9\nUsing NPM version: 0.3.18\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking that key modules are installed...\nInstallation completed, please try the command \"calipso\" to test the installation.\nnpm info postinstall calipso@0.2.3\nnpm info predeactivate calipso@0.2.3\nnpm info deactivate calipso@0.2.3\nnpm info postdeactivate calipso@0.2.3\nnpm info preactivate calipso@0.2.3\nnpm info activate calipso@0.2.3\nnpm info postactivate calipso@0.2.3\nnpm info build Success: calipso@0.2.3\nnpm ok\nroot@vps236:/usr/local/calipso# npm install -g\nnpm info it worked if it ends with ok\nnpm info using npm@0.3.18\nnpm info using node@v0.4.9\nnpm info calculating sha1 /usr/local/lib/node/.npm/.cache/calipso/0.2.3/package.tgz\nnpm info shasum 07647c46c8fb8f8d67e506474643d1aca0d6d4c7\nnpm info preinstall calipso@0.2.3\nnpm info install calipso@0.2.3\nUsing Node version: v0.4.9\nUsing NPM version: 0.3.18\nYou have write permission to the current folder.\nThe current folder appears to be Calipso (or something like it!)\nChecking that key modules are installed...\nInstallation completed, please try the command \"calipso\" to test the installation.\nnpm info postinstall calipso@0.2.3\nnpm info predeactivate calipso@0.2.3\nnpm info deactivate calipso@0.2.3\nnpm info postdeactivate calipso@0.2.3\nnpm info preactivate calipso@0.2.3\nnpm info activate calipso@0.2.3\nnpm info postactivate calipso@0.2.3\nnpm info build Success: calipso@0.2.3\nnpm ok\n...\nError: Command failed: cp: cannot stat `/usr/local/lib/node/.npm/calipso/0.2.3/package/bin/..//node_modules/*': No such file or directory\nWhy does calipso put node_modules into it's own folder? Most of the modules don't go there so... are these calipso specific modules?\n(npm install -d gave similar results)\n. Thanks\nThe npm upgrade did the trick\n. ",
    "nhunzaker": "Solder looks promising. Have we considered a implementing it through a view helper? Perhaps something like:\n<%= javascript(\"first\", \"second, \"third\") %>\n<%= stylesheet(\"first, second, third\") %>\nWhich would compile them together at runtime. This is largely borrowed from the Rails community, but it may be an easier method to guarantee order.\n. I think a cached, server side solution might be a cleaner. The user always has the option of using a traditional script tag if they want another behavior.\n. I should also say, this is the first step. I tried to be as unobtrusive as possible. I'd like to work through each page and seriously evaluate the UI. This is just an attempt to bring everything up to speed.\n. @cliftonc I should have done this far too long ago. I'm tackling it right now.\n. Looks good, I uncovered a bug in the admin menu system generation, but I\"ll file a separate issue.\n. Progressive visual enhancement for IE 7+ works for me.\n. Yeah, this is on Devel. Glad to see we're on v0.6.x!\n. Woah, awesome\n+1\n. ",
    "d7p": "it would be nice to have the option not to have usernames etc in cookies, for instance if the user is on a public pc.\ninstead of the username or anything else being stored in cookie, a GUID could be placed in the cookie and a table of loged in users. the session GUID and what ever user data needed stored for quick look up on each request.\nWhen a user requesting a page the GUID would be checked and the users data added to the request object, so it can be used.\nAs for page personalization an ajax request could be maid after login and data saved in local storage or if it is a public pc in a client side object. \nI may have missed something as i am new to this project but i would like to help \n. ",
    "php-workx": "sure, that's ok.\n. here are some examples that i have tried until i \"found\" the right structure:\n1.\ntext: custom text\ndatetime: custom date\n2.\ntype: \"text\", label: \"custom text\"\ntype: \"datetime\", label: \"custom date\"\nthen i had a look at the code i tried the following:\n3.\n{\"label\": \"custom date\", \"name\": \"content[custom_date]\", \"type\": \"datetime\", \"description\": \"The custom date\"},\n{\"label\": \"custom text\", \"name\": \"content[custom_text]\", \"type\": \"text\", \"description\": \"The custom text\"} \n4.\n [\n{\"label\": \"custom date\", \"name\": \"content[custom_date]\", \"type\": \"datetime\", \"description\": \"The custom date\"},\n{\"label\": \"custom text\", \"name\": \"content[custom_text]\", \"type\": \"text\", \"description\": \"The custom text\"} \n]\nand at least the correct way\n{\n\"sections\": [ \n{ \"id\": \"form-section-customsection\", \"label\": \"Custom Section\", \"fields\": [\n{\"label\": \"custom date\", \"name\": \"content[custom_date]\", \"type\": \"datetime\", \"description\": \"The custom date\"},\n{\"label\": \"custom text\", \"name\": \"content[custom_text]\", \"type\": \"text\", \"description\": \"The custom text\"} \n] }\n]\n}\nat first, an example found be very helpful. my additional suggestions:\n- form elements should have a 'weight' field to change the order of form fields\n- it should be easier to at elements to existing sections (at the moment i am doing this by using events)\n- simple gui to create the structure\n. ",
    "arpunk": "Reacting to data emited from site A in site B is something I was also looking for with hook.io. One of the features we looked over was the ability to connect to the hook cloud from different machines.\nYou could also react to events from the hook.io cloud on the client side using hook.js\n. +1 for all of that. Is everything searcheable via CLI or web only?\n. ",
    "gzbigegg": "My situation is like this (fresh installation):\n1. I developed a custom module named \"chatroom\" and put it under /calipso/modules/community/chatroom\n2. Of course I don't have this module info in the lib/conf/default.json file, and I don't want to mess that file from a 3-rd party module developer's perspective.\n3. I did a fresh installation, and I can see all available modules in the last step of the installation, including my chatroom module.\n4. Then I went on with my chatroom module selected, it crashed, because my module was not enabled at the Calipso initialization time.\nI fixed this problem by some more effort in the installation code (trying to read/require/init those modules). But I somehow feel uncertain if this is the intended behavior you like here (based on the comment in the lib/calipso.js#requireModule()). And I just realize that the proper way might be to go installation first, and then enable any 3-rd party modules from the admin console.\nI will submit a pull request of my fix anyway, just FYR.\n. I think my claiming \"0.6.x compatible\" is a bit naive. I just made it being able to be boot up with node 0.6.x. There would/should be other compatibility issues. Hack it and have fun!\n. ",
    "Ateiri": "Hey! What about field validators? Does calipso already have it? Or maybe it will be good idea to integrate it with forms api?\np.s. I'm newbie here and searching for some docs of calipso. I wanna to help with development and make blog for myself.\nRegards,\nAndy\n. ",
    "dethe": "Ah, I thought getContentList was for listing a user's content, not a single content object.\nThanks for the clarification.\n--Dethe\nOn 2011-09-28, at 10:37 PM, Clifton Cunningham wrote:\n\nYou need to use the getContent helper, not get block when grabbing content - check out the calipso-site-theme from my repo, and you will see the examples of the github and blog landing pages.\ngetBlock is used to grab pre-rendered html from modules, that you can then just place into a view.  If you use getContent, you can get access to the mongoose object directly, then use:\ncontent.get('yourFieldName') will do the trick (or content.yourFieldname as well should work).\nLet me know if you're still stuck.\nClifton\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/issues/117#issuecomment-2234297\n. So here's the thing. I'm trying to show one item with multiple pieces of content. Displaying this by alias and tracing through what happens: in Content.js::showAliasedContent it retrieves the object from mongodb. Then, at some point before calling my over-ridden it seems to throw the object away. I can't find a path to it from req, res, or options. Is there a reason for this, or is it a bug, or am I missing something? The only paths I can see are to a) modify to the code to stash the object, possibly in the request, since the options seem to go missing at some point, b) strip the .html off of options.getPageId (which appears to not be a function, but a string with the alias appended with \".html\") and then use the reconstituted alias to retrieve the object with a getContentList query, or c) other. I'm assuming there is an other, since a CMS has to actually be able to display content. What am I doing wrong?\n. This work-around got things working for me:\n\nhttps://gist.github.com/1252291\nI still don't understand why we retrieve the object from the DB, then throw it away and I have to retrieve it again later in the render. I realize I'm probably missing something really obvious here, but I have explored and traced through the code without figuring it out.\nAlso, is the alias stored anywhere? Having to parse the getPageId string doesn't seem right.\nI did try using getContent() to retrieve a single object using the alias, but it seemed to return HTML for a missing object.\n. On 2011-09-29, at 10:11 PM, Clifton Cunningham wrote:\n\nYou're not missing anything obvious - it is still early days and the 'make it easy and intuitive' is still very much a work in progress!\n\nOK, well I will stumble about and let you know what corners I crash into.\n\nThe alias will be in req.moduleParams, but only in the context of the content module atm - it won't be there by the time you get to the theme.  As all the modules are executed in parallel, and so effectively in their own scope, a lot of the processing is done just in the context of the module and not then aggregated (safely) somewhere (given that modules may overlap in defining params in a route) so you can access it in the theme layer.\nSo the crux of the problem is that the content functions all execute inside the content module, and from a theme you can only get access to either a) the rendered block, b) the helpers that let you go back to mongodb, or c) the ability to over-ride the show.html template renderer, but that isn't very scalable past 1-2 content types.\n\nAh, I see. Makes more sense now.\n\nFor me there are a few important things here:\n- current approach isn't very intuitive, it needs to be clearer and make more sense as well as be better documented so the limitations of the parallel approach are clear or I just work around them\n- any params extracted from the request by modules should all be stored, aggregated and available to the theme layer via a helper (e.g. getParams)\n- we need to allow you to specify the template markup for both the landing page (list) and page (show) for a content type, from within the content type.\nDoes that about sum it up?\n\nThat would be lovely. I could make good progress with that much.\n--Dethe\n. ",
    "wqli78": "nice job!\n. ",
    "nka11": "2 years later...\nThe site  http://gallery.calip.so is down\nand i can't find image handling in actual calipso code. Additionnaly, a note in roadmap for such feature request.\nHave any of you guys any help or started work for me in order to achieve an Image(s) module ?\nI already have some sniplets for storing binary in mongo, and to handle HTTP native file transfert with express.\n. The url appears into the present issue description.\nI dont need the s3 file handling, i'm thinking about site own storage for\nimage, integrated with aloha imahe plugin for administration.\nHave you some guidelines in order to help me to write a module for calipso\nnative image(s) field ?\nLe 15 sept. 2013 16:59, \"Andreas Richter\" notifications@github.com a\n\u00e9crit :\n\nWhere is there a link to gallery.calip.so? I ported the calip.so site to\nnodejitsu, but I might be missing pieces. Recently I fixed /dox and /repo.\nI am not sure what gallery.calip.so should point to? There is an assets\nmodule which can proxy s3 folders to be available as urls on the site.\nThis allows you to manage the assets using the assets module or any s3\ncompatible application. But the module needs some work to be cleaned up.\nThanks\nAndy\nOn Sep 15, 2013, at 10:53 AM, nka11 notifications@github.com wrote:\n\n2 years later...\nThe site http://gallery.calip.so is down\nand i can't find image handling in actual calipso code. Additionnaly, a\nnote in roadmap for such feature request.\nHave any of you guys any help or started work for me in order to achieve\nan Image(s) module ?\nI already have some sniplets for storing binary in mongo, and to handle\nHTTP native file transfert with express.\n\u2014\nReply to this email directly or view it on GitHub.\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24472981\n.\n. Ok I see the point for s3 and the problem for handling streaming, it's ok.\n\nOf course, my use case is about small contents like images and decorations.\nThe user/client don't want an additional service and just use aloha, drops it's image from file explorer in an aloha-editable and then it shows, with tooling. In the background, it's (can be resized and) uploaded to the server and stored in db, maybe (automatically) declined in several resolutions (optimized for several uses : thumbnail, preview, full-screen, full-size).\nI know how to do all that, it's implemented in some of my projects.\nAs i'm discovering calipso, and i find it interresting, i'd like to add this feature here, but i guess i need a \"Field\" module dedicated to Image(s) (just like in drupal) to handle specific content type and link it as a multi-valued property of a Node.\nFor optimisation purpose, mongodb file content could be duplicated in a file/memory cache or in a frontend reverse proxy.\nWe talked about the opportunity offered by mongo to handle big content (over 1G documents) in an earlier discussion with @draftkraft , I think a mongo content store can work, it's just a client's choice (subscribe s3 or other cdn or prefer to keep control). Implementation has to provide both.\n. had a look on s3 plugin...\nThought : have a multi-valued property-tuple type \"Attachments\" with an attachment-type (asset/native), and other fields depending of attachment type (For example : file-name, file-data and content-type for native, file-store, file-url and content-type for asset)\n. Ok then, two points :\nHandle media natively regarding the resource/node referencing it... I'm\nokay with it\nbut\nA single 'tag' association within the content may fit for simple entities.\nFor well described entities, i'll need more bindings : example :\nfoaf:person have a picture property which refers to an image, it (the\nassociation) has to be stored somewhere in the db.\nI will need some \"Image\" properties for some kinds of entities which will\nreference an existing image (whatever it's container).\n2013/9/16 Andreas Richter notifications@github.com\n\nThat's not a bad idea. Make a local storage mode to store the file into\nthe\ndatabase\nAndy\nSent from my iPhone\nOn Sep 16, 2013, at 3:57 AM, nka11 notifications@github.com wrote:\nhad a look on s3 plugin...\nThought : have a multi-valued property-tuple type \"Attachments\" with an\nattachment-type (asset/native), and other fields depending of attachment\ntype (For example : file-name, file-data and content-type for native,\nfile-store, file-url and content-type for asset)\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24493821>\n.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24503006\n.\n\n\nNicolas Karageuzian\n  http://nico.karageuzian.com/\nJe soutiens les logiciels libres, j'adh\u00e8re \u00e0 l'APRIL\nhttp://www.april.org\n             Nouvelles de l'APRIL\n            http://planet.april.org/\n. Well, sounds good. Let's start incrementally :\n1 - provide a native storage module\n2 - then enable browsing in native storage and allow to include images\nreference in content (img tag)\n3 - build in a unique list of tuples (uuid, mime-type) of content/media\ncoming from any assets (native, s3 but maybe flickr, google image or youtube)\n4 - provide the custom field providing media linking for entities\nDoes it sounds good to you ?\nRegards\n2013/9/16 Andreas Richter notifications@github.com\n\nAh ok. So you need a custom field type which will query into the available\nimages or are you ok with pasting the image id and just storing a uuid?\nThanks\nAndy\nSent from my iPhone\nOn Sep 16, 2013, at 7:45 AM, nka11 notifications@github.com wrote:\nOk then, two points :\nHandle media natively regarding the resource/node referencing it... I'm\nokay with it\nbut\nA single 'tag' association within the content may fit for simple entities.\nFor well described entities, i'll need more bindings : example :\nfoaf:person have a picture property which refers to an image, it (the\nassociation) has to be stored somewhere in the db.\nI will need some \"Image\" properties for some kinds of entities which will\nreference an existing image (whatever it's container).\n2013/9/16 Andreas Richter notifications@github.com\n\nThat's not a bad idea. Make a local storage mode to store the file into\nthe\ndatabase\nAndy\nSent from my iPhone\nOn Sep 16, 2013, at 3:57 AM, nka11 notifications@github.com wrote:\nhad a look on s3 plugin...\nThought : have a multi-valued property-tuple type \"Attachments\" with an\nattachment-type (asset/native), and other fields depending of attachment\ntype (For example : file-name, file-data and content-type for native,\nfile-store, file-url and content-type for asset)\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24493821>\n.\n\u2014\nReply to this email directly or view it on GitHub<\nhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24503006>\n.\n\n\nNicolas Karageuzian\nhttp://nico.karageuzian.com/\nJe soutiens les logiciels libres, j'adh\u00e8re \u00e0 l'APRIL\nhttp://www.april.org\nNouvelles de l'APRIL\nhttp://planet.april.org/\n\u2014\nReply to this email directly or view it on\nGitHub<\nhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24504203>\n.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/121#issuecomment-24504490\n.\n\n\nNicolas Karageuzian\n  http://nico.karageuzian.com/\nJe soutiens les logiciels libres, j'adh\u00e8re \u00e0 l'APRIL\nhttp://www.april.org\n             Nouvelles de l'APRIL\n            http://planet.april.org/\n. not a problem, il will update\nthanks for accepting my contribution.\n. ",
    "aaronfay": "FYI just manually installed all the dependencies on 0.6.2 no problem, ubuntu 10. Modules past bcrypt wouldn't install on Windows  because most of them tried to compile. \n. An update, I wildcarded the dependencies, and ran npm install -g in Ubuntu, everything compiled fine and installed, however calipso commands complained: \nError: require.paths is removed. Use node_modules folders, or the NODE_PATH environment variable instead.\nSimply copying the files to my project folder and running node app worked fine.   I am actually on Ubuntu 11.10 (sorry) node 0.6.3.\n. It installed fine other than the deprecation regarding require.paths.  Manually running the app seems to work fine, I am having some issues with the browser interface that I haven't looked into yet.  I will submit a pull request if I can get the frontend running properly.\n. ",
    "shawn-simon": "Is this project still being worked on? I was interested in working on it however I can't get it to build since I develop on windows and bcrypt doesn't build. I was trying to get it set up on an AWS linux image but it was just too time consuming. It's disappointing since it looked perfect for the site I was developing- I'm fairly new to node and am not really interested in sinking a lot of time getting this to build and then finding it doesn't suit my needs, so it would be awesome if someone could patch it to build on .6.\n. You just need to update the packages.json to allow use the latest version of everything. Then fix all the bugs caused by the latest versions of node. It probably wouldn't be that hard. I was a total node noob when I originally posted this.\n. ",
    "chrispaterson": "+1 interest in getting this compatible!\n. FWIW: I downgraded to node@0.4.12 and ran \n!$ sudo npm install calipso -g\nError: npm doesn't work with node v0.4.12\nRequired: node@0.6 || 0.7 || 0.8\n    at /usr/local/lib/node_modules/npm/bin/npm-cli.js:60:23\n    at Object. (/usr/local/lib/node_modules/npm/bin/npm-cli.js:80:2)\n    at Module._compile (module.js:411:26)\n    at Object..js (module.js:417:10)\n    at Module.load (module.js:343:31)\n    at Function._load (module.js:302:12)\n    at Array.0 (module.js:430:10)\n    at EventEmitter._tickCallback (node.js:126:26)\nDoh!  How can I help with this?\n. ",
    "cxj": "Another minor warning, this one issued upon initiation of generating the site:\n``Calipso server listening on port: 3000\nCan't set headers after they are sent. Calipso Module: user\nDEPRECATION WARNING:encrypt_synchas been deprecated. Please usehashSync` instead.\n```\nAs I start to work with this, and port it to no.de from my laptop, I'll try to find and fix these, but have to admit I'm a newcomer to node.js so progress will be somewhat slow.\n```\n. More (sorry for putting these all here -- when I started it made sense, but now I realize I had better find a proper place to record these and verify their applicability):\n``9 Feb 22:32:06 - info: User module installed ... \nCan't set headers after they are sent. Calipso Module: user\nCan't set headers after they are sent. Calipso Module: user\nDEPRECATION WARNING:compare_synchas been deprecated. Please usecompareSync` instead.\n\n. Indeed, once I started running Calipso using this fork, I ran into some problems.  Mostly, however it does work.  \nThere is a hang any time you try store new content.  If one aborts the web browser and clicks back to home page, for instance, the successful completion messages (in green) appear, and the content is stored.  Not yet knowing how Calipso works internally, I'll just take a wild guess that some callback is not firing, and the web service end of the stack never returns a useful HTTP result code to the browser.  \nAs a fan of Drupal (and a long time developer), I like the direction this is headed.\n. ",
    "dorudumi": "It was an old library.\nI re-installed calipso via npm and all works fine now.\nThanks for the help.\n. Is the \"code format xml file\" public?\nDo you have a link to it?\nThanks, \nAlin\n. Are you using webstorm? Is it the recomanded IDE for yhe project?\nI am using it a lot and I like it a lot.\nAlin\nOn Jan 24, 2013 10:42 AM, \"Andreas Richter\" notifications@github.com\nwrote:\n\nAwesome idea. I'll add it to the repo. The .idea folder was changing so\nmuch that I deleted it.\nAndy\nSent from my iPhone\nOn Jan 24, 2013, at 10:03 AM, doru notifications@github.com wrote:\nIs the \"code format xml file\" public?\nDo you have a link to it?\nThanks,\nAlin\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12654791.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/pull/184#issuecomment-12656874.\n. \n",
    "vermiculite": "Glad to have helped. I would like to invest some time in this project. Where would you see my contribution being most valuable? \n. ",
    "camshaft": "Just rebased it.  I wasn't able to test it because I'm pretty busy with other projects currently.  If I can do anything to help let me know and I should be able to work some time in.\n. Yeah railway.js uses it as its ORM.\n. No problem. I'll do that later today.\n. ATM I don't have much time to look at it. I'm not using calipso anymore so it isn't a high priority for me.\nThat being said, if you feel like this is something that it's something you guys want, I can set aside some time to look at it.\n. I have seen that issue with it before and it probably should be fixed upstream. It's an issue with those drivers.\n. ",
    "ashtuchkin": "Glad to hear that, thanks!\nJFYI Currently its possible to use npm install -g calipso --force and I didn't notice any significant problems. \nHope it'll help others try this beautiful cms before v0.8 is officially supported. \n. ",
    "fe-lix-": "+1 for this feature.\nAnd i confirm that --force works.\nThanks.\n. ",
    "canesin": "Its is not working with v0.8.9 .. when using: $ npm install calipso -g ... on OSX 10.8.1 Xcode 4.4.1. Also on Win7 MSVC2010.\n. ",
    "phaneendra": "Calipso is dependent on node-expat. Fails with node version 0.8.11 on a Linux box. Any ideas on how to fix this.\n```\nphaneendra@phlinuxbox:~/Development/Work/calipso$ npm i\nnpm http GET https://registry.npmjs.org/node-expat\nnpm http 304 https://registry.npmjs.org/node-expat\n\nnode-expat@1.4.5 install /home/phaneendra/Development/Work/calipso/node_modules/node-expat\nnode-waf configure build\n\nChecking for program g++ or c++          : /usr/bin/g++ \nChecking for program cpp                 : /usr/bin/cpp \nChecking for program ar                  : /usr/bin/ar \nChecking for program ranlib              : /usr/bin/ranlib \nChecking for g++                         : ok\nChecking for node path                   : not found \nChecking for node prefix                 : ok /home/phaneendra/.nvm/v0.8.11 \nChecking for header expat.h              : not installed \n/home/phaneendra/Development/Work/calipso/node_modules/node-expat/wscript:13: error: the configuration failed (see '/home/phaneendra/Development/Work/calipso/node_modules/node-expat/build/config.log')\nnpm ERR! node-expat@1.4.5 install: node-waf configure build\nnpm ERR! sh \"-c\" \"node-waf configure build\" failed with 1\nnpm ERR! \nnpm ERR! Failed at the node-expat@1.4.5 install script.\nnpm ERR! This is most likely a problem with the node-expat package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-waf configure build\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls node-expat\nnpm ERR! There is likely additional logging output above.\nnpm ERR! System Linux 3.2.0-32-generic-pae\nnpm ERR! command \"/home/phaneendra/.nvm/v0.8.11/bin/node\" \"/home/phaneendra/.nvm/v0.8.11/bin/npm\" \"i\"\nnpm ERR! cwd /home/phaneendra/Development/Work/calipso\nnpm ERR! node -v v0.8.11\nnpm ERR! npm -v 1.1.62\nnpm ERR! code ELIFECYCLE\nnpm ERR! \nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /home/phaneendra/Development/Work/calipso/npm-debug.log\nnpm ERR! not ok code 0\n```\n. ",
    "juzerali": "This should be closed.\n. #156\n. Which branch have you added the licence to?\n. ",
    "blakmatrix": "this is because the base branch is not master \n. ",
    "nicolasembleton": "Great, thanks a lot Clifton.\n2012/7/9 Clifton Cunningham <\nreply@reply.github.com\n\nThanks Nicolas, will respond to your other email shortly!\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/cliftonc/calipso/pull/159#issuecomment-6841732\n. \n",
    "ultraflynn": "How difficult can it be to write a cross-platform passwird hasher.....\nNo idea I'm afraid. If someone wants to point me in the right direction I might give it a go though.\n. Sorry for the delay. I'll give that a try tonight.\n. Sorry it's taken a while to test. Different error now:\nC:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test>npm install calipso -g\nnpm http GET https://registry.npmjs.org/calipso\nnpm http 304 https://registry.npmjs.org/calipso\nnpm http GET https://registry.npmjs.org/ejs\nnpm http GET https://registry.npmjs.org/formidable\nnpm http GET https://registry.npmjs.org/underscore\nnpm http GET https://registry.npmjs.org/cluster\nnpm http GET https://registry.npmjs.org/step\nnpm http GET https://registry.npmjs.org/connect-mongodb\nnpm http GET https://registry.npmjs.org/optimist\nnpm http GET https://registry.npmjs.org/colors\nnpm http GET https://registry.npmjs.org/connect-form\nnpm http GET https://registry.npmjs.org/semver\nnpm http GET https://registry.npmjs.org/qs\nnpm http GET https://registry.npmjs.org/zipfile\nnpm http GET https://registry.npmjs.org/mime\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/jade\nnpm http GET https://registry.npmjs.org/bcrypt\nnpm http GET https://registry.npmjs.org/node-expat\nnpm http GET https://registry.npmjs.org/nconf\nnpm http GET https://registry.npmjs.org/stylus\nnpm http GET https://registry.npmjs.org/winston\nnpm http GET https://registry.npmjs.org/imagemagick\nnpm http GET https://registry.npmjs.org/request\nnpm http GET https://registry.npmjs.org/hook.io\nnpm http GET https://registry.npmjs.org/mailer\nnpm http GET https://registry.npmjs.org/pool\nnpm http GET https://registry.npmjs.org/knox\nnpm http GET https://registry.npmjs.org/rimraf\nnpm http GET https://registry.npmjs.org/async\nnpm http GET https://registry.npmjs.org/express\nnpm http GET https://registry.npmjs.org/mongoose\nnpm http GET https://registry.npmjs.org/mongodb\nnpm http 304 https://registry.npmjs.org/ejs\nnpm http 304 https://registry.npmjs.org/underscore\nnpm http 304 https://registry.npmjs.org/cluster\nnpm http 304 https://registry.npmjs.org/formidable\nnpm http 304 https://registry.npmjs.org/connect-mongodb\nnpm http 304 https://registry.npmjs.org/optimist\nnpm http 304 https://registry.npmjs.org/colors\nnpm http 304 https://registry.npmjs.org/step\nnpm http 304 https://registry.npmjs.org/semver\nnpm http 304 https://registry.npmjs.org/connect-form\nnpm http 304 https://registry.npmjs.org/qs\nnpm http 304 https://registry.npmjs.org/zipfile\nnpm http 304 https://registry.npmjs.org/mime\nnpm WARN zipfile@0.3.1 dependencies field should be hash of : pairs\nnpm http 304 https://registry.npmjs.org/connect\nnpm http 304 https://registry.npmjs.org/jade\nnpm http 304 https://registry.npmjs.org/bcrypt\nnpm http 304 https://registry.npmjs.org/node-expat\nnpm http 304 https://registry.npmjs.org/nconf\nnpm http 304 https://registry.npmjs.org/stylus\nnpm http 304 https://registry.npmjs.org/winston\nnpm http 304 https://registry.npmjs.org/imagemagick\nnpm http 304 https://registry.npmjs.org/request\nnpm http 304 https://registry.npmjs.org/hook.io\nnpm http 304 https://registry.npmjs.org/mailer\nnpm http 304 https://registry.npmjs.org/pool\nnpm http 304 https://registry.npmjs.org/knox\nnpm WARN pool@0.4.1 package.json: bugs['web'] should probably be bugs['url']\nnpm http 304 https://registry.npmjs.org/rimraf\nnpm http 304 https://registry.npmjs.org/async\nnpm http 304 https://registry.npmjs.org/express\nnpm http 304 https://registry.npmjs.org/mongodb\nnpm http 304 https://registry.npmjs.org/mongoose\nnpm http GET https://registry.npmjs.org/graceful-fs\nnpm http GET https://registry.npmjs.org/connect\nnpm http GET https://registry.npmjs.org/mongodb\n\nnode-expat@1.4.5 install C:\\Users\\Matt\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\node-expat\nnode-waf configure build\n\n'node-waf' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! error installing node-expat@1.4.5\nnpm ERR! error installing calipso@0.3.10\nnpm ERR! error rolling back calipso@0.3.10 Error: UNKNOWN, unknown error 'C:\\Users\\Matt\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules___optimist.npm\\package\\test'\nnpm ERR! node-expat@1.4.5 install: node-waf configure build\nnpm ERR! cmd \"/c\" \"node-waf configure build\" failed with 1\nnpm ERR!\nnpm ERR! Failed at the node-expat@1.4.5 install script.\nnpm ERR! This is most likely a problem with the node-expat package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-waf configure build\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls node-expat\nnpm ERR! There is likely additional logging output above.\nnpm ERR!\nnpm ERR! System Windows_NT 6.1.7601\nnpm ERR! command \"C:\\Program Files (x86)\\nodejs\\node.exe\" \"C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\nnpm ERR! node -v v0.6.10\nnpm ERR! npm -v 1.1.0-3\nnpm ERR! code ELIFECYCLE\nnpm ERR! message node-expat@1.4.5 install: node-waf configure build\nnpm ERR! message cmd \"/c\" \"node-waf configure build\" failed with 1\nnpm ERR! errno {}\nnpm http 304 https://registry.npmjs.org/graceful-fs\nnpm http GET https://registry.npmjs.org/nodemailer/0.1.20\nnpm ERR! Error: ENOENT, no such file or directory 'C:\\Users\\Matt\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modulesjade.npm\\package\\lib'\nnpm ERR! You may report this log at:\nnpm ERR!     http://github.com/isaacs/npm/issues\nnpm ERR! or email it to:\nnpm ERR!     npm-@googlegroups.com\nnpm ERR!\nnpm ERR! System WindowsNT 6.1.7601\nnpm ERR! command \"C:\\Program Files (x86)\\nodejs\\node.exe\" \"C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"calipso\" \"-g\"\nnpm ERR! cwd C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\nnpm ERR! node -v v0.6.10\nnpm ERR! npm -v 1.1.0-3\nnpm ERR! path C:\\Users\\Matt\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules_jade.npm\\package\\lib\nnpm ERR! fstream_path C:\\Users\\Matt\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modulesjade.npm\\package\\lib\\doctypes.js\nnpm ERR! fstreamtype File\nnpm ERR! fstream_class FileWriter\nnpm ERR! code ENOENT\nnpm ERR! message ENOENT, no such file or directory 'C:\\Users\\Matt\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules_jade.npm\\package\\lib'\nnpm ERR! errno {}\nnpm ERR! fstream_stack Object.oncomplete (C:\\Program Files (x86)\\nodejs\\node_modules\\npm\\node_modules\\fstream\\lib\\writer.js:161:23)\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR!     C:\\Users\\Matt\\Dropbox\\GitHub\\calipso-test\\npm-debug.log\nnpm not ok\n. Let me know if I can do anything to help.\n. I'm current running v0.6.10\nThis is on a 64-bit machine but I'm sure for the build it's running 32-bit\nI've just upgraded to the latest version so now it's node-v0.8.8-x64\nRunning against that version gave a bunch of errors, two spring out:\n1/ node-waf missing\n2/ need to \"npm install mongodb --mongodb:native\" - which I ran and that failed too on node-gyp\n. I don't have VS2010 and python installed.\nThanks for looking into this. Please don't make this a huge priority on my behalf. If I really want this work work I will happily use Linux. If you need me to test things though just let me know. (Happy to implement stuff if you want to punt something my way, I'll do my best)\n. ",
    "billymoon": "I am still getting a bunch of errors when trying to install via npm...\n'configure' finished successfully (3.641s)\nWaf: Entering directory /usr/lib/node_modules/calipso/node_modules/zipfile/build'\nmake: *** No targets specified and no makefile found.  Stop.\nTraceback (most recent call last):\n  File \"/usr/bin/node-waf\", line 16, in <module>\n    Scripting.prepare(t, os.getcwd(), VERSION, wafdir)\n  File \"/usr/share/nodejs/wafadmin/Scripting.py\", line 145, in prepare\n    prepare_impl(t, cwd, ver, wafdir)\n  File \"/usr/share/nodejs/wafadmin/Scripting.py\", line 135, in prepare_impl\n    main()\n  File \"/usr/share/nodejs/wafadmin/Scripting.py\", line 188, in main\n    fun(ctx)\n  File \"/usr/share/nodejs/wafadmin/Scripting.py\", line 386, in build\n    return build_impl(bld)\n  File \"/usr/share/nodejs/wafadmin/Scripting.py\", line 399, in build_impl\n    bld.add_subdirs([os.path.split(Utils.g_module.root_path)[0]])\n  File \"/usr/share/nodejs/wafadmin/Build.py\", line 981, in add_subdirs\n    self.recurse(dirs, 'build')\n  File \"/usr/share/nodejs/wafadmin/Utils.py\", line 634, in recurse\n    f(self)\n  File \"/usr/lib/node_modules/calipso/node_modules/zipfile/wscript\", line 163, in build\nAttributeError: 'NoneType' object has no attribute 'ant_glob'\nnpm ERR! error rolling back Error: ENOTEMPTY, rmdir '/usr/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/regress'\nnpm ERR! error rolling back  calipso@0.3.6 { [Error: ENOTEMPTY, rmdir '/usr/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/regress']\nnpm ERR! error rolling back   errno: 53,\nnpm ERR! error rolling back   code: 'ENOTEMPTY',\nnpm ERR! error rolling back   path: '/usr/lib/node_modules/calipso/node_modules/zipfile/deps/libzip-0.10/regress' }\nnpm ERR! node-expat@1.4.5 install:node-waf configure buildnpm ERR!sh \"-c\" \"node-waf configure build\"` failed with 1\nnpm ERR! \nnpm ERR! Failed at the node-expat@1.4.5 install script.\nnpm ERR! This is most likely a problem with the node-expat package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-waf configure build\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls node-expat\nnpm ERR! There is likely additional logging output above.\nnpm ERR! System Linux 2.6.18-274.7.1.el5.028stab095.1\nnpm ERR! command \"nodejs\" \"/usr/bin/npm\" \"install\" \"-g\" \"calipso\"\nnpm ERR! cwd /home/sysadmin/clients/will/app\nnpm ERR! node -v v0.8.6\nnpm ERR! npm -v 1.1.48\nnpm ERR! code ELIFECYCLE\nLet me know if there is any more useful debug info I can give for you. I am on virtual server using openvz, with ubuntu 11.04. I have up-to-date npm and node.\n. I did as you said, but I am still getting errors like this...\nnpm http 304 https://registry.npmjs.org/npm\nnpm WARN package.json methods@0.0.1 No README.md file found!\nTraceback (most recent call last):\n  File \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp_addon\", line 38, in \n    rc = gyp.main(gyp_args)\n  File \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/init.py\", line 471, in main\n    options.circular_check)\n  File \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/init.py\", line 111, in Load\n    depth, generator_input_info, check, circular_check)\n  File \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/input.py\", line 2378, in Load\n    depth, check)\n  File \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/input.py\", line 358, in LoadTargetBuildFile\n    includes, True, check)\n  File \"/home/sysadmin/.node-gyp/0.8.6/tools/gyp/pylib/gyp/input.py\", line 208, in LoadOneBuildFile\n    raise Exception(\"%s not found (cwd: %s)\" % (build_file_path, os.getcwd()))\nException: binding.gyp not found (cwd: /home/sysadmin/cali/node_modules/calipso/node_modules/bcrypt) while trying to load binding.gyp\ngyp ERR! configure error \ngyp ERR! stack Error: gyp_addon failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onCpExit (/usr/lib/nodejs/npm/node_modules/node-gyp/lib/configure.js:330:16)\ngyp ERR! stack     at ChildProcess.EventEmitter.emit (events.js:91:17)\ngyp ERR! stack     at Process._handle.onexit (child_process.js:674:10)\ngyp ERR! System Linux 2.6.18-274.7.1.el5.028stab095.1\ngyp ERR! command \"node\" \"/usr/lib/nodejs/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /home/sysadmin/cali/node_modules/calipso/node_modules/bcrypt\ngyp ERR! node -v v0.8.6\ngyp ERR! node-gyp -v v0.6.3\ngyp ERR! not ok \nnpm http 304 https://registry.npmjs.org/mkdirp\nnpm http 304 https://registry.npmjs.org/portfinder\nnpm http 304 https://registry.npmjs.org/socket.io/0.9.6\nnpm http 304 https://registry.npmjs.org/prompt\n. Hey, thanks - that seemed to work great (node app). I will wait until you update the npm version, and update from there. Cheers\n| Billy Moon, itAccess.org\n| Mobile: 251-910-372-984\n| http://billy.itaccess.org/\nSent with Sparrow (http://www.sparrowmailapp.com/?sig)\nOn Tuesday, August 7, 2012 at 10:31 PM, Andreas Richter wrote:\n\nTry 'node app' to startup the site. I think the npm version might be one\ncommit behind. Installing directly from git should also work\nThanks\nAndy  \nSent from my iPhone  \nOn Aug 7, 2012, at 2:17 PM, billymoon  wrote:  \nI installed calipso, which seemed to go ok, and created a site, which also\nseemed to go ok, until I tried to start the server. That would throw an\nerror, as would trying to check/list modules...  \nsysadmin@svr:~/cali$ calipso modules check\nLaunching calipso from: /home/sysadmin/cali\nCalipso directory: /usr/lib/node_modules/calipso/lib/../  \n/home/sysadmin/cali/node_modules/step/lib/step.js:39\nthrow arguments[0];\n^\nTypeError: undefined is not a function\nat /home/sysadmin/cali/app.js:198:7\nat Object.calipso.initCallback (/home/sysadmin/cali/lib/calipso.js:67:5)\nat checkAllModulesInited (/home/sysadmin/cali/lib/core/Module.js:408:13)\nat /home/sysadmin/cali/lib/core/Module.js:385:9\nat Function.done (/home/sysadmin/cali/modules/core/admin/admin.js:125:5)\nat next (/home/sysadmin/cali/node_modules/step/lib/step.js:51:23)\nat next (/home/sysadmin/cali/node_modules/step/lib/step.js:60:12)\nat Object.Step (/home/sysadmin/cali/node_modules/step/lib/step.js:122:3)\nat Object.init (/home/sysadmin/cali/modules/core/admin/admin.js:55:15)\nat initModule (/home/sysadmin/cali/lib/core/Module.js:370:32)\nsysadmin@svr:~/cali$  \n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/cliftonc/calipso/issues/163.  \n\u2014\nReply to this email directly or view it on GitHub (https://github.com/cliftonc/calipso/issues/163#issuecomment-7564067).\n. \n",
    "ylluminate": "Thanks for that.  Same issue here whilst trying calipso.  Another thing I've seen in the wizard installation is the following:\n8 Aug 02:04:05 - error: Module mail has been disabled because Cannot find module 'mailer/vendor/mustache'\n8 Aug 02:04:05 - error: Module assets has been disabled because Cannot find module 'knox'\nShould perhaps those be added as some kind of a dependency for calipso just as a sanity check before offering them in a wizard?\n. ",
    "jacktok07": "npm install -save knox\n. ",
    "GothAck": "Using version 0.3.6 from npm and just re-tried with node 0.8.6, just getting the Clean Slate default site, no setup pages whatsoever :S\n. That fixed it, though no-one else has access to the site (localhost on my laptop at the moment :S), maybe development.json is being pulled in during install?\n. ",
    "BCool13": "I have the same problem, removing development.json file from the conf directory solved the problem. \n. ",
    "rob-wooten": "thx. \n. ",
    "jessecravens": "Im receiving this same error .. could you add a comment as to how/if it was resolved. \n. ",
    "pandasander": "Hi Andy,\nSorry for late reply,\nStill no lick unfortunately.\nI tried the following:\nI cloned a new instance, from git hub, started it up, completed the set up wizard, then stopped the instance.\nInstalled the theme using this command: calipso themes download cliftonc/calipso-site-theme\nTried enabling the theme, same problem.\nTried checking the 'Enable Stylus' check box, then saved configuration. Still no luck.\nCould there be something I am missing like a code dependency?\nI noticed Stylus installed when I ran: npm install stylus. Node noobie talking here: Perhaps either this means Stylus was missing, which would be a problem; or the stylus dependency is saved in another location, and this is not a problem at all.\nEverything else seems to run fine, just without this theme.\n. Wow, yes, that got it working.\nLegend - thanks for your help.\nJames\n. ",
    "codevin": "The idea is mainly for the new type of modules which create the UI specific to them. So theme will necessarily have template section which will do option.getStyles(); and I don't seem to see a problem here... I will explore though. \nFor e.g. one could create a blog as an module with its own theme, and also leveraging other calipso modules (for e.g. for content, for content types, roles, user management and what not.)  Then when one deploys this blog application as is, the UI is already good to go if user chooses the module's theme. \nThe idea is that this will make calipso help allow module writers to create embeddable components for application. For e.g. if I want to create a new app, I would get ready made\n- User management, roles etc.\n- Variety of authentication options\n- Flexible user profile management\n- Entity management with versioning, voting, tagging and what not.  (Entities depending on user's application focus such as photos, songs, playlists, locations, bookmarks...)\n- iGoogle like UI based layout management to configure apps and blocks, like what drupal provides. \n- Clean capabilities for module management. Somewhat on lines of http://blog.getprismatic.com/blog/2012/10/1/prismatics-graph-at-strange-loop.html\n. Let me explain my usecase: A locally installed service where clickable mockups can be created and managed by a product team. (I chose calipso for the purpose as base framework, and right now working on a specific module for this purpose.) I would want end users to do exactly two steps: 1. Install calipso.  2. Install the mockup module.  They should have readily working mockup site under particular URL. \nAnd now, let us say, somebody contributes a totally independent 'mindmap' module, with its own theme/layout. Those already using calipso for mockup module, will not have any conflicts with this mindmap module. Nor do they have to do any specific setup, or fiddle with different blocks in the layout pages etc.. URL spaces for both modules would be different.\nBoth these modules should feel like they are independent applications. (Perhaps, another way to look at it is that themes are specific to URL paths. /mockups is one theme, and /mindmap is another theme.) These 'apps' may offer some simple controls for the user preferences, but definitely can't meddle with layouts and overall application experience.\nOpen issues as I see them:\n- Dynamically merging CSS: Right now I am directly embedding my CSS files in layout HTML. But we will figure out a way. \n- Using templates within module with native theme: Works without any change. \n- Forms layout: Currently form is autogenerated. For my purposes, I need template based control on form layout. Would be creating a separate issue on this and propose a design.\n. > \"\u2022 Using templates within module with native theme: Works without any change.\" \nI meant that I ship a module + a theme combination. (Of course, they are still independent). The theme is meant for the app, and may use some of the other existing templates and their blocks (such as tagging block). Under the namespace (such as /mockups), this theme will be used by default as application UI (overriding site theme), and the mockup template drives the UI with its own blocks.\nIn essence, I am delivering a totally independent app using calipso platform. Yes, namespace management has to be cleaned up. For e.g. I want to register ownership for \"/mockups\", and then locally handle those URLs; and for unhandled URLs under this namespace, mockup template will be owner for error messages as well.\n. If you follow drupal, there are many application-specific forks; see http://www.ministryofdrupal.org/Drupal_Forks_and_Distributions. For e.g. http://managingnews.com/ is a fork of drupal, but totally converted into dedicated application. And forks are bad; they reduce the reusability.  And in such apps, the control over the theme/look-and-feel is of most importance. \nIn calipso, my example mockup module can become such a full-fledged app. It will use capabilities of calipso; neverthless acts as independent app to end user.  That is the idea that I am talking about...\n. Seems good idea.  I will try to use it. In the meanwhile, I have made my current codebase available here: https://github.com/codevin/calipso-screenswiki/tree/devel.  It is working code with lots of copy-paste, but I hope you get the intent. \n. This is good, appreciate adding these capabilities as needed. I will check it out over the weekend.\n. It works, and no issues found so far. There will be other requirements for module-as-app, I will open separate issues for them as required. (For e.g. \"/\" should be configurable to be mapped to any module etc.) \nI am in process of putting up a sample TODO application module for the same. Ideally on lines of typical express application, with its own internal routing, but leveraging all existing modules and themes from Calipso. \nI filed this stackoverflow question:  http://stackoverflow.com/questions/13666435/using-match-engine-of-node-js-express-module-independent-of-app-server\n. I have now created a sample Todo app that can become a template for such module-as-app. Can you check it out?\nhttps://github.com/codevin/todoApp . \n/todo is registered as app URL base.\nI have separated out the module specific code within _module.js. So one can cleanly develop over calipso.\nBefore we can release it for wider circulation, I need to add user module block for login/logout within local theme.\n. Have updated now. Please check.\n. You have identified both the issues, and I was going to open tickets for\nthem.\nHere is my thinking: You essentially have two types of modules:\n- Helper modules: tagging, content, user management, ... - No default\n  URLs, but are embedded in admin and other apps.\n- App modules:  Portal, blog server, CMS system etc.  - Under /app1,\n  /app2, etc.\n- (And then, admin interface for basic management, should be under\n  /admin).\n- Of course, map \"/\" to any of the app.\nLet us open a new ticket for it.\nUser module: I am about to look into this, as to how to leverage it within\nthe example app.\nOn Fri, Dec 7, 2012 at 6:16 PM, Andreas Richter notifications@github.comwrote:\n\nThat looks good.\nQuestions that come to mind are:\n1. If you wanted the app work as the \"default app\":\nshould we add a default URL into the config so you can just tell calipso\nto put people to /todo when they reach for /?\nallow such app to default / and just override the main router with new\nhandlers?\n2. To do login\nshould we provide a more general way to allow the existing user module to\nbe used?\ndid you already come up with a way to use a different popup or form?\nThanks\nAndy\nOn Dec 7, 2012, at 2:06 AM, Vinod Kulkarni notifications@github.com\nwrote:\n\nHave updated now. Please check.\n\u2014\nReply to this email directly or view it on GitHub.\n\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/168#issuecomment-11128947.\n. Could you also support overriding of module template blocks in the private theme? \n\nWhen I render user.login block within the application module (todoApp), I would like full control over how this block is rendered. In particular, the URLs like /login may have to be redirected to the application module.\n. One more issue to tackle: When I use multiple app modules (usually copied from the template app module), I find that the layout names clash, and thus, the module's layout name is not loaded since one is already present with same name from previous app Module.\nOf course, we can just rename the layouts of each new app Module. (And write this in documentation.)\nBut I was thinking if we can solve it elegantly - i.e. should module name be embedded in theme namespace?\nWe have  are two different concepts:\n1. Module will want to override main theme layout with its own layout: We want the same name.\n2. Module layout will introduce new theme layouts, and these shouldn't clash with other modules i.e. when module is installed, it shouldn't require further tweaking around to ensure names don't clash.\nI am undecided about this. Can we think of something? \n. Actually realized it is not a bug. It is only usable as a chain of functions. \nThe motivation was that I looking for a using getBlock() directly in template. But it seems very difficult.  The only way is to first populate options with these blocks and then send them to template.\nTo still allow module templates to directly use the blocks, I using syntax of '_module_user_login'  to refer to, say, user.login block from user module. Simplifies unnecessary indirections.\n. ",
    "nupthale": "when i upgrade, i just do the following step : 1. npm install  2 vmc update appName \nmy cloudfoundry url is https://nupthale.cloudfoundry.com, i reinstall it so it;s normal now, i am not sure what 's wrong with it now , next time i 'll check the config file ,thanks .\n. ",
    "mansona": "Well in that case can i also recommend pingdom ;) https://www.pingdom.com/\n. Also as a side note, it looks to have been removed from the google index. This is probably because it has been down for a few weeks (maybe months) now\n. Yay! Thanks guys! Just to throw a spanner in the works... have you thought of moving it to nodejitsu instead? They offer free hosting for Open Source projects and I really like the way they do deployment stuff, very Heroku like! Just a thought! \nAlso now that the site is back up it might be worth getting onto webmaster tools and resubmitting it to the Google index, considering it being down so much has annihilated it from search results!\n. Coola boola! Might also be worth setting up a Pingdom account for it so this situation doesn't happen again ;) #justsayin \n. ",
    "wizonesolutions": "Still down.\n. The suspense was killing me! Happy to see what this is about now. Looks promising.\n. ",
    "goloroden": "Still down ...\n. ",
    "kentontaylor": "Still down...I'm willing to help - am fairly new to github, but have experience with EC2, Node and Calipso.  Let me know if I can help.\n. ",
    "giang-nghg": "@richtera The website is down again, it's been 2 days\n. ",
    "Splat": "Site is once again down. \n. ",
    "pitxels": "Hello there,\nwhat do you mean by \"You will need the git bash or cygwin sh in the path for the bash file to work on windows but then it will.\"\nI have been trying to install calipso for 3 days now, can you kindly elaborate on the steps to workaround the installation in windows?\nThanks!\n. Ok I just did this as a last resort: node app.js and it started working.\nFor some reason it was not obvious and I was trying to install something that was not necessary after cloning.\n. ",
    "bledek": "Here is a little better error message:\njavascript\nModule user, error: Cannot read property 'username' of undefined Calipso Module: userTypeError: Cannot read property 'username' of undefined Calipso Module: user\n    at /www/martialmarketing.com/webroot/modules/core/user/user.js:722:31\n    at me.process (/www/martialmarketing.com/webroot/lib/core/Form.js:1141:14)\n    at /www/martialmarketing.com/webroot/lib/core/Form.js:1179:14\n    at /www/martialmarketing.com/webroot/lib/core/Form.js:1215:7\n    at _asyncMap (/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:190:13)\n    at async.forEach (/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:94:25)\n    at _asyncMap (/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:187:17)\n    at _asyncMap (/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:190:13)\n    at async.forEach (/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:82:20)\n    at _asyncMap (/www/martialmarketing.com/webroot/node_modules/async/lib/async.js:184:9)\n. All of those things were in my conf/development.json. The root config.json was empty (just: {}).\n. ",
    "LeslieMurphy": "I am encountering this exact issue as well - with a fresh install.  My error before the app shuts down is:\n/var/www/calipso/node_modules/mongoose/lib/utils.js:413\n        throw err;\n              ^\nError: Can't set headers after they are sent.\n    at ServerResponse.OutgoingMessage.setHeader (http.js:704:11)\n    at ServerResponse.res.setHeader (/var/www/calipso/node_modules/express/node_modules/connect/lib/patch.js:59:22)\n    at ServerResponse.res.set.res.header (/var/www/calipso/node_modules/express/lib/response.js:515:10)\n    at ServerResponse.res.format (/var/www/calipso/node_modules/express/lib/response.js:462:8)\n    at ServerResponse.res.redirect (/var/www/calipso/node_modules/express/lib/response.js:662:8)\n    at Promise. (/var/www/calipso/modules/core/user/user.js:918:19)\n    at Promise. (/var/www/calipso/node_modules/mongoose/lib/promise.js:120:8)\n    at Promise.EventEmitter.emit (events.js:98:17)\n. Thanks!   I was getting weird formatting in Firefox, and thought that this CSS might be causing an issue.  I see now that there must just be a bug with CSS for Firefox.  I'll open an issue on that, if one has not already been reported.\n. ",
    "srsgores": "Hey Andy,\nThe reason I used tabs is because some of calipso did use tabs; and it's apparently better to use tabs over spaces.  In PHPStorm, reformatting code is easy, and can be done with one command on any file or a batch of files (CTRL + ALT + L).  So I can easily revert to spaces if need be.  I personally think you guys should consider using tabs because it makes the document a lot more readable, especially once you set your editor to show special characters; tab levels are way more apparent, and you can see which code is on what level.\nI'm going to take a look at the merge you did, but for now, I'll be making more changes off my version, which uses tabs.  I've tested calipso, and the reformatting has not broken anything.\nThanks for merging.\n. Ok, sounds good.  \nGiven your reason for disliking tabs, I think we will need to create a coding standards document outlining what a tab is.  If we do this, I think we will have no trouble with future commits.  FYI, I do a 4-space tab.\nI'm working on the admin side of things now for the responsive stuff.  The site is already entirely responsive, but I figure I'll commit both at once.\n. I took a look at your commits, and it appears that you haven't updated the html templates.  I'm currently trying to figure out rebase.  I understand it, but it's the first time I've had to do it (yes, I'm a young programmer).\nHere's a little summary on my errors.  Maybe you can help:\n```\nWindows PowerShell\nCopyright (C) 2012 Microsoft Corporation. All rights reserved.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nFirst, rewinding head to replay your work on top of it...\nApplying: Try readme\nApplying: Try readme\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Langage not working on md file.\nApplying: Added MIT licence to readme\nApplying: Private Themes testing\nApplying: fix copying of theme config from extension.\nApplying: Bump version\nApplying: Remove dependency on zipfile and use adm-zip instead.\nUsing index info to reconstruct a base tree...\nM       lib/cli/Download.js\n:70: trailing whitespace.\nwarning: 1 line adds whitespace errors.\nFalling back to patching base and 3-way merge...\nAuto-merging lib/cli/Download.js\nCONFLICT (content): Merge conflict in lib/cli/Download.js\nFailed to merge in the changes.\nPatch failed at 0010 Remove dependency on zipfile and use adm-zip instead.\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~0 -0 !1]> git rebase --continue\n.idea/workspace.xml: needs update\nlib/cli/Download.js: needs merge\nYou must edit all merge conflicts and then\nmark them as resolved using git add\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~2 -0 !1 | +0 ~1 -0 !1]> git add *\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(de20bd3...)|REBASE +0 ~4 -0]> git commit -m \"Resolving conflicts\"\n[detached HEAD 1322183] Resolving conflicts\n 4 files changed, 83 insertions(+), 36 deletions(-)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [(1322183...)|REBASE]> git checkout\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master]> git rebase devel\nIt seems that there is already a rebase-apply directory, and\nI wonder if you are in the middle of another rebase.  If that is the\ncase, please try\n        git rebase (--continue | --abort | --skip)\nIf that is not the case, please\n        rm -fr \"c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply\"\nand run me again.  I am stopping in case you still have something\nvaluable there.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git status\nOn branch master\nYou are currently rebasing.\n(all conflicts fixed: run \"git rebase --continue\")\n\nUntracked files:\n(use \"git add ...\" to include in what will be committed)\n\n.idea/\nnothing added to commit but untracked files present (use \"git add\" to track)\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git ignore .idea/\ngit: 'ignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignor .idea/\ngit: 'gitignor' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git gitignore .idea/\ngit: 'gitignore' is not a git command. See 'git --help'.\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]> git rebase --continue\nApplying: Remove dependency on zipfile and use adm-zip instead.\nApplying: Update version number\nUsing index info to reconstruct a base tree...\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Remove dependency on node-expat and libexpat.\nUsing index info to reconstruct a base tree...\nM       modules/core/assets/assets.js\nM       package.json\nFalling back to patching base and 3-way merge...\nNo changes -- Patch already applied.\nApplying: Add project files\nUsing index info to reconstruct a base tree...\n:23: new blank line at EOF.\n+\n:34: new blank line at EOF.\n+\n:62: new blank line at EOF.\n+\n:77: new blank line at EOF.\n+\n:102: new blank line at EOF.\n+\nwarning: squelched 1 whitespace error\nwarning: 6 lines add whitespace errors.\nFalling back to patching base and 3-way merge...\nerror: The following untracked working tree files would be overwritten by merge:\n        .idea/workspace.xml\nPlease move or remove them before you can merge.\nAborting\nFailed to merge in the changes.\nPatch failed at 0013 Add project files\nThe copy of the patch that failed is found in:\n   c:/Users/Sean/Documents/GitHub/calipso/.git/rebase-apply/patch\nWhen you have resolved this problem, run \"git rebase --continue\".\nIf you prefer to skip this patch, run \"git rebase --skip\" instead.\nTo check out the original branch and stop rebasing, run \"git rebase --abort\".\nC:\\Users\\Sean\\Documents\\GitHub\\calipso [master +1 ~0 -0 !]>\n```\n. The reason things aren't working is because you didn't replace the old css files in the directory.  Of course, you will see no changes if you don't take the CSS files in the css directory.\nI want to get my fork working so we can avoid future issues like this.  Initially, I had envisioned you doing the rebase and then doing a theirs conflict.  Then the entire project could be consistent, using 4-space tab characters.  I suppose this wouldn't work if there were new additions in master that weren't present in devel, but I may be wrong.  I'm going to try doing this, but let me know if you have any better suggestions.\n. I see what happened now.  You did update the CSS, but when you did your reformat, it unminified it.  That also included  the minified scripts like jQuery and Modernizr.\nI just did the pull from upstream, as you suggested.  I did\n`git remote add upstream https://github.com/cliftonc/calipso.git``\nSeeing as I couldn't find a remote by the name of upstream.\nThen I just did a git pull upstream master.\nThat's where I'm at now.  Let me know if I did anything wrong.\n. Ok, thanks for the heads up.  My workflow for editing the JS files is to initially reformat them to my syntax settings (the way I find it easiest to read the code), then make changes.  But what I don't understand is why you can't merge the conflicts and do a theirs resolution to the conflict.  Or better yet, why not reformat the entire project to use tabs (in a separate, new commit)?\nIt is possible to put the else bracket on the same line.  You just have to go to the bracket settings.\nReally, I don't want you to have to hand-edit my changes.  That's a waste of development time.  How can we keep it so that I get to edit using my syntax settings, and you don't have to spend hours hand-editing them?\nLet me know your thoughts.\n. Please explain how I should proceed with working on this repo.  Do I just pull from devel, and then reformat, using the new settings before sending the pull request?  Can you please specify a workflow for jetBrains editors like PHPStorm or Webstorm?\nThanks.\n. ",
    "chesnel": "I want to create custom fields in my new content types, not modify fields already existing.  Example : add input text, checkbox or dropdown.\n. I just want to know the syntax for this part :\n\nthere is nowhere where you can have different example?\n. Ok, I find in contentTypes.js example for format json, but unfortunately it's not work... : I have a message : No - Unexpected token l\n{\n  label:'Content Type',\n  name:'contentType[contentType]',\n  type:'text',\n  description:'Enter the name of the content type, it must be unique.'\n},\n{\n  label:'Description',\n  name:'contentType[description]',\n  type:'text',\n  description:'Enter a description.'\n}\n. mmh ... it is not a file. I put the piece of code in the field that I showed in the picture before. I think I have not explained well what I want to understand ... I'm note really good with my english : /\n. I'm  don't understand...sorry.. but I don't wan't to create a new module. I just want to add new field in content types with the interface (on screenshot above). I try different format json. I'm start with this : \n``` javascript\n{id:'content-form',title:'Create Content ...',type:'form',method:'POST',action:'/content',tabs:true,\n          sections:[{\n            id:'form-section-content',\n            label:'Content',\n            fields:[\n                    {label:'Title',name:'content[title]',type:'text',description:'Title to appear for this piece of content.'},\n                    {label:'Teaser',name:'content[teaser]',type:'textarea',description:'Enter some short text that describes the content, appears in lists.'},\n                    {label:'Content',name:'content[content]',type:'textarea',description:'Enter the full content text.'}\n                   ]\n          }\n}\n```\nbut I have always the error : No - Unexpected Token I (sometimes it's a S...)\n. ",
    "canadiannomad": "You aren't alone on this.  No idea what they mean, and the \"help below\" is absent. O_o\n. ",
    "sashuk": "Thanks a lot!\n. I can tell you about possibilities using my own example - in my company we are using Calipso as a CMS for a aggregation of spatial web-services, basically Calipso can do this:\n1. Admin / client panel\n2. Roles and multi-level access control\n3. Theming\n4. Code is readable and pretty easy-to-modify (especially when you are used to asynchronous JS execution)\n. I am using master branch (yesterday I've checked out fresh 0.3.50 version, and it still was failing at these requests)\n. Thanks for an explanation!\nSo, basically I should migrate to module_refactor branch is order to avoid this error?\nI was using basic authentication with login/password stored in the MongoDB without bcrypt (because of Windows operating-system).\n. Well, I guess it is a Windows thing, but I manage to recreate this bug on master and module_refactor freshly-installed branch.\n. Yes, the same problem - the log from the very installation is shown below. The error is thrown because no session is initialized (unable to read _req.session.user_ property)\n```\n22 Dec 22:40:39 - info: Installing module content\n22 Dec 22:40:39 - info: Installing module contentTypes\n22 Dec 22:40:39 - info: Installing module permissions\n22 Dec 22:40:39 - info: Installing module user\n22 Dec 22:40:39 - info: Content types module installed ...\n22 Dec 22:40:39 - info: Content module installed ...\n22 Dec 22:40:39 - info: User module installed ...\n22 Dec 22:40:39 - info: User Roles sub-module installed ...\n22 Dec 22:41:12 - error: Cannot read property 'user' of undefined Calipso Module: user\n22 Dec 22:41:12 - info: No Calipso module routes matched the current URL /http://www.baidu.com/\nC:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:39\n        throw arguments[0];\n                       ^\nTypeError: Cannot read property 'user' of undefined\n    at processTheme (C:\\calipso\\testrefactor\\lib\\core\\Themes.js:407:30)\n    at Object.module.exports.Theme.theme.render (C:\\calipso\\testrefactor\\lib\\core\\Themes.js:132:11)\n    at doResponse (C:\\calipso\\testrefactor\\lib\\core\\Module.js:304:19)\n    at C:\\calipso\\testrefactor\\lib\\core\\Module.js:186:7\n    at Function.done (C:\\calipso\\testrefactor\\lib\\core\\Module.js:273:7)\n    at next (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:51:23)\n    at next.parallel (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:83:14)\n    at check (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:99:9)\n    at next.group (C:\\calipso\\testrefactor\\node_modules\\step\\lib\\step.js:116:22)\n    at Function.allMatched (C:\\calipso\\testrefactor\\lib\\core\\Router.js:269:11)\nC:\\calipso\\testrefactor>\n```\n. Thanks a lot! I'll try to examine it as well.\n. You need to telnet calipso in order to simulate it, the example request was listed in the very ticket. Basically it simulates proxy-search request (pretty bad guys who are doing it).\n. Great that finally figured that out.\n. ",
    "hydrotik": "Thanks Andy. I'm seeing this in dev json\n\"authentication\": {\n    \"password\": true,\n    \"migrate2pbkdf2\": false\n  },\nAnd\n,\n    \"authentication\": {\n      \"password\": false,\n      \"migrate2pbkdf2\": false,\n      \"facebookAppId\": \"\",\n      \"facebookAppSecret\": \"\",\n      \"googleClientId\": \"\",\n      \"googleClientSecret\": \"\",\n      \"twitterConsumerKey\": \"\",\n      \"twitterConsumerSecret\": \"\"\n    }\nunder the server object. I removed the later and all is well. Should I move the additional social params to the remaining auth object?\nI had made a hackish \"fix\" to user.js below, so glad this is the proper resolution. Looking forward to getting my theme on! Cheers,\nfunction userFields() {\n    if(calipso.auth.password) cosole.log(calipso.auth.password);\n  /var fields = calipso.auth.password ? [\n    {label:'Username', name:'user[username]', type:'text'},\n    {label:'Password', name:'user[password]', type:'password'}\n  ] : [];/\n  var fields = [\n    {label:'Username', name:'user[username]', type:'text'},\n    {label:'Password', name:'user[password]', type:'password'}\n  ];\n  if (calipso.auth.google) {\n    fields.push({name:'google', text:'Use Google Login', type:'link', href:'/auth/google', cls:'googleicon'});\n  }\n  if (calipso.auth.twitter) {\n    fields.push({name:'twitter', text:'Use Twitter Login', type:'link', href:'/auth/twitter', cls:'twittericon'});\n  }\n  if (calipso.auth.facebook) {\n    fields.push({name:'facebook', text:'Use Facebook Login', type:'link', href:'/auth/facebook', cls:'facebookicon'});\n  }\n  console.log(fields);\n  return fields;\n}\nStill not sure\n. ",
    "gonafr": "Solved with a reinstall of Calipso via npm. \nWrote the version number on the installation process.\n. I used this command: sudo npm install calipso@0.3.17 -g and it worked.\n. ",
    "ilog2000": "Strange enough, but I tried to install Calipso last night and got the same issue. The installation was not via npm, I just copied the master branch code over to my local PC and ran \"npm install\". Symptoms were similar: undefined field in admin setup page, failure on pressing next, restarting web server, and an attempt to log in as admin that took forever. Deleting and re-installing didn't help.\n. I found the source of the problem: input type='email' in \"calipso\\modules\\core\\admin\\admin.js\" fails rendering. Changing it to type='text' resolves the issue. Shall we re-open this bug?\n. ",
    "jackkeller": "I was having this issue too, I ended up updating conf/development.json\nSearch for:\n\"events\": {\n    \"maxListeners\": \"500\"\nNow, go ahead and remove those quotes from 500, and that got my server instance to fire up once again. I figured this after running through the install process twice and figuring out that the admin section was somehow saving this as a string and the app doesn't seem to appreciate that.\n. ",
    "n1cholasv": "Had the same problem, and the maxListeners change above seems to work for me. \n. ",
    "bjoshuanoah": "Yup, same here. :) \nAlso, wouldn't it be best to write these settings to the db? Let's say I'm hosting on heroku... I wouldn't really have access to my settings.json in order to make this change. I sort of like having the setting local... but I also sort of don't.\n. ",
    "thenderson21": "I get the same issue. My system is OS X 10.8.4, NodeJs v0.10.12 , MongoDB 2.4.4,  If I make a change in the admin section it throws the above error until is change\n \"events\": {\n\"maxListeners\": \"500\"\nto\n\"events\": {\n\"maxListeners\": 500\n. ",
    "bacongobbler": "You could always try deploying it yourself onto a local computer. It takes less than 30 seconds to get your own demo site up and running.\n. ",
    "binarykitchen": "What if I am on the road using an internet cafe, evaluating some CMS for a new project?\n. +1\n. ",
    "brechindo": "It is rather disconcerting every time I see that calip.so is down, which seems to be most of the time.  For those of us already taking the plunge, it shouldn't be a show-stopper but it certainly doesn't help to encourage growth of the audience.\n. ",
    "xiaoao": "node -v\nv0.10.3\n. calipso xiao$ git pull\nAlready up-to-date.\ngit difftool -t meld -y  HEAD\n. {\n  \"version\": \"0.3.0\",\n  \"installed\": true,\n  \"database\": {\n    \"uri\": \"mongodb://localhost/calipso\"\n  },\n  \"authentication\": {\n    \"password\": true,\n    \"migrate2pbkdf2\": false\n  },\n  \"server\": {\n    \"name\": \"calipso\",\n    \"url\": \"http://localhost:3000\",\n    \"modulePath\": \"./modules\",\n    \"themePath\": \"./themes\",\n    \"cluster\": {\n      \"workers\": \"600\",\n      \"restartWorkers\": true,\n      \"maximumRestarts\": \"1\"\n    },\n    \"events\": {\n      \"maxListeners\": \"500\"\n    },\n    \"authentication\": {\n      \"password\": true,\n      \"migrate2pbkdf2\": false,\n      \"facebookAppId\": \"\",\n      \"facebookAppSecret\": \"\",\n      \"googleClientId\": \"\",\n      \"googleClientSecret\": \"\",\n      \"twitterConsumerKey\": \"\",\n      \"twitterConsumerSecret\": \"\"\n    },\n    \"loginPath\": \"\"\n  },\n  \"calipso\": {\n    \"repo\": {\n      \"url\": \"http://calip.so/repo/api\",\n      \"defaultVersion\": \"master\"\n    }\n  },\n  \"performance\": {\n    \"cache\": {\n      \"enabled\": true,\n      \"ttl\": \"600\"\n    },\n    \"watchFiles\": true\n  },\n  \"session\": {\n    \"secret\": \"calipso\",\n    \"maxAge\": \"\"\n  },\n  \"theme\": {\n    \"default\": \"cleanslate\",\n    \"front\": \"cleanslate\",\n    \"admin\": \"cleanslate\"\n  },\n  \"i18n\": {\n    \"language\": \"en\",\n    \"additive\": true\n  },\n  \"logging\": {\n    \"console\": {\n      \"enabled\": true,\n      \"level\": \"info\",\n      \"timestamp\": true,\n      \"colorize\": true\n    },\n    \"file\": {\n      \"enabled\": false,\n      \"level\": \"info\",\n      \"filepath\": \"logs/calipso.log\",\n      \"timestamp\": true\n    }\n  },\n  \"libraries\": {\n    \"stylus\": {\n      \"enable\": false,\n      \"warn\": true,\n      \"compress\": false\n    },\n    \"formidable\": {\n      \"keepExtensions\": true\n    }\n  },\n  \"modules\": {\n    \"admin\": {\n      \"enabled\": true\n    },\n    \"aloha\": {\n      \"enabled\": true\n    },\n    \"assets\": {\n      \"enabled\": true,\n      \"config\": {\n        \"s3key\": \"\",\n        \"s3secret\": \"\"\n      }\n    },\n    \"content\": {\n      \"enabled\": true\n    },\n    \"contentTypes\": {\n      \"enabled\": true\n    },\n    \"contentVersions\": {\n      \"enabled\": true\n    },\n    \"mail\": {\n      \"enabled\": true,\n      \"config\": {\n        \"host\": \"\",\n        \"port\": \"\",\n        \"domain\": \"\",\n        \"authentication\": false,\n        \"ssl\": false,\n        \"from\": \"\",\n        \"username\": \"\",\n        \"password\": \"\",\n        \"base64\": false\n      }\n    },\n    \"permissions\": {\n      \"enabled\": true\n    },\n    \"scheduler\": {\n      \"enabled\": true\n    },\n    \"static\": {\n      \"enabled\": true\n    },\n    \"tagcloud\": {\n      \"enabled\": true\n    },\n    \"taxonomy\": {\n      \"enabled\": true\n    },\n    \"user\": {\n      \"enabled\": true\n    }\n  }\n}\n. ",
    "daslicht": "http://calip.so/dox/template still broken \n. broken either: http://calip.so/an-introduction-to-calipso.html\n. Thank You !\n. http://calip.so/dox/template is still not accessible ?\n. Where do I set it in calipso? Which is the config file ?\n. I used the calipso site command to create a new site and started it out of its new folder which works now.\n. ",
    "steveww": "More detail would be appreciated.\nThere is only development.json in there. What should the URI look like?\n. There is not any web interface, the server does not start due to the exception.\nIt's worse than that. It's dead Jim.\n. Yes I keep deleting the development.json file.\nStarting the server. It throws the exception and recreates the file.\nBroken.\n. Looks like that fixed it. Thanks.\n. I have the aloha editor module enabled but I only get a textbox to edit content. This is another issue.\nI did a fresh install of everything.\nI created some content I only had Block Content to choose from.\nI made sure it was published\nIt does not show up on the site\nLooking inside mongo I see that is_public is set to false. Is this important?\n. Just reinstalled everything and it's still the same.\nOnly Block Content and new content does not show up.\n. Installed as per the instructions on your site:\nnpm install calipso -g\ncalipso site /path/to/a/dir\ncalipso server\nRunning on Ubuntu 12.04 LTS with Mongo 2.0.4\nSee the log at http://www.steveww.org/drop/calipso.log.gz\n. Just got it hot off node.org\n\n. End of calipso site ... command\nApplication created at: /home/stevew/temp/node\nInstalling any difficult application dependencies via NPM, please wait ... \nInstalling mongodb in native mode ...\nnpm WARN package.json connect-form@0.2.1 No repository field.\nnpm WARN package.json ejs@0.6.1 No repository field.\nnpm http GET https://registry.npmjs.org/mongodb\nnpm http 304 https://registry.npmjs.org/mongodb\nnpm http GET https://registry.npmjs.org/kerberos/0.0.3\nnpm http GET https://registry.npmjs.org/bson/0.2.2\nnpm http 304 https://registry.npmjs.org/kerberos/0.0.3\nnpm http 304 https://registry.npmjs.org/bson/0.2.2\n. Output of calipso server\nCalipso version: 0.3.40\nCalipso configured for: development environment.\nCalipso server listening on port: 3000\nInstallation Password: \"x0XgTEJjDySEI0oyPzaveOumuYHndA0yXQ==\" (inside quotes)\n10 Sep 16:25:10 - info: Saving configuration ... \n10 Sep 16:25:10 - info: Reloading updated configuration ... \n10 Sep 16:25:10 - info: Installing module content\n10 Sep 16:25:10 - info: Installing module contentTypes\n10 Sep 16:25:10 - info: Installing module permissions\n10 Sep 16:25:10 - info: Installing module user\n10 Sep 16:25:11 - info: User module installed ... \n10 Sep 16:25:11 - info: Content types module installed ... \n10 Sep 16:25:11 - info: Content module installed ... \n10 Sep 16:25:11 - info: User Roles sub-module installed ... \n. No errors. I just can get to the new content after I create it.\nJust a moment I will attach a view of the data......\n. Here it is.\n\n. I will try the install on one of my EC2 instances. Then you should be able to see what is happening.\n. Cool I can now create an Article and it shows up :-)\nBlock content still does not show up. What is Block for?\n. Please can you point me in the right direction as to how these are called in to the template?\n. OK I have figured out how options.getContent(...) works.\nI have read the limited documentation on the WIKI on Github.\nNot sure what options.getBlock(/regex/, this.parallel()) does???????\n. Hmm.....\nDigging through the source it looks like getBlock pulls in modules and getContent pulls in \"Block Content\" whose alias matches the name.\nLooking at some of the modules it appears that presentation formatting is included in the modules. Surely there should be total separation of formatting so that it is only handled by the template?\nI know this is getting off topic now. May be we should continue elsewhere?\n. Not wishing to get in to a pantomime situation but.......\nFrom the content core module it clearly has formatting elements in it:\n\n<%- content.title %>\n\n```\nBy <%- content.displayAuthor.name %>\n```\n\nh2 and small (end tag only) are formatting. IMHO the elelmets would be better as \n. Not sure what happened there only half my post appeared????\n\n... continued\n\n\n<%- content.title %>\n\n```\nBy <%- content.displayAuthor.name %>\n```\n. Chrome on Linux not working so well on Github trying with a different set up on my Mac.\n\n... continued\n\n\n<%- content.title %>\n\n```\nBy <%- content.displayAuthor.name %>\n```\n\n and  are definitely formatting \n. OK still did not work on my Mac. Github is blocking my content when it has HTML in it.\n\nThere are h2 and small tags in the show.html for example.\n. OK I see.\nHow do I work out what I need to put in the template to override the model? What are the rules for substitution?\n. To answer my own question.\n\nYou need to define the overrides in the theme.json file by adding a modules element. Have a look at the calipso theme under the downloaded folder for an example as the documentation is not clear on where to add it.\n.",
    "Mirodil": "Yes, I have cygwin and git installed in my windows box.\n. Thank you, it works.\n. ",
    "laurelnaiad": "Found it. \n\n2.7.0 / 2012-06-14\n- added; deprecation warnings to methods being removed in 3.x\n\nI'll do a PR.\n. I'm going to close this and do PRs in feature branches to keep things clean(er).\n. Ok -- my git-foo is low -- if I don't do things in an orderly fashion I'm quite liable to get very mixed up!\n. Ok, thanks.  I'll keep the PRs coming as I find them.\n. Hmmm. I just repeated what I thought were my steps and I'm not able to reproduce it either.  Doh!\n. short followup -- it would be awesome if calipso could be configured as an npm dependency of my app instead of my app living in calipso... I think that would make my brain hurt less ;) \n. Cool -- thanks.\n. @richtera do you use git submodules for your modules and themes?\n. Thanks.  I guess what you're saying is to use .gitignore as its set up to ignore the community directories so that they don't squeak into  calipso, and set up git repositories in them for non-core stuff?\n. @richtera thanks for the update.  I've not been doing anything with my project, but when I saw this it occurred to me that the title of this issue might be misleading, so I edited it. :)  Please feel free to close it if you'd like.  I hope your refactoring works out!\n. This happens when aloha is turned on.  When it's off, no errors.  Put simply, aloha fails with those 404s when I don't run from my cloned directory -- it gets turned on and doesn't work.\n. I had all included modules enabled. I've since disabled aloha.  I just tried enabling aloha and dsabling static and it doesn't seem to make a different w/respect to the 404s.\n. np -- as I mentioned, I'm not planning to use aloha but wanted to pass on the info.  LMK if you want me to try anything.\n. > Errors need to be thrown or passed on if they prevent further work to be\n\ndone.\n\nI guess that's why I'm asking -- when I've passed err's to next in calipso it doesn't seem to stop a later error from occurring -- as if no error handler snapped up the error.  That's why I looked around and ended up finding cases where errors are thrown instead (which I assume are crashing the process).\nIf the error is should be fatal, is that the way to create a fatal error?  And otherwise log as appropriate and pass to next?\n. I did look at it.  It seemed the path of least resistance, though not the best architecture, was to do this in the theme.  This is some coffeescript that I wrote to live in the theme.  It uses async b/c I prefer it, pygmentize-bundled, which requires python (I wanted code formatting and pygmentize is the best), and marked.\n``` coffeescript\nmarked = require 'marked'\npygmentize = require 'pygmentize-bundled'\nasync = require 'async'\nopts = {\n  gfm: true\n  tables: true\n  breaks: false\n  pedantic: false\n  sanitize: true\n  highlight: (code, lang, callback) ->\n    console.log 'pygmentizing'\nswitch lang\n  when 'js' then myLang = 'js'\n  else myLang = lang\n\npygmentize(\n  {\n    lang: myLang\n    format: 'html'\n    options:\n      cssclass: 'codehilite'\n      # nowrap: true\n      linenos: true\n  }\n  code\n  (err, result) ->\n    if err\n      callback err\n    else\n      callback null, result.toString()\n)\n\n}\nmodule.exports = {\n  markdown: (contentObj, callback) ->\n    async.waterfall(\n      [\n        doMarked = (cb) ->\n          marked contentObj.content, opts, cb\n      ]\n      done = (err, rendered) ->\n        contentObj.content = rendered\n        callback err, contentObj\n    )\n}\n```\nThe package.json for the theme:\njson\n{\n  \"name\": \"my-calipso-theme\",\n  \"description\": \"my calipso theme\",\n  \"version\": \"0.0.1\",\n  \"dependencies\": {\n    \"pygmentize-bundled\": \"~2.1.0\",\n    \"marked\": \"~0.2.9\",\n    \"async\": \"~0.2.9\"\n  }\n}\nIn use:\n``` coffeescript\ncalipso = require 'calipso'\nasync = require 'async'\nrenderer = require '../../renderer'\nmodule.exports = (req, options, callback) ->\nasync.waterfall(\n    [\n      getContent = (cb) ->\n        options.getContent req, { alias: \"lorem\", clickEdit: false }, cb\n      render = (contentObj, cb) ->\n        renderer.markdown contentObj, cb\n    ]\n    done = (err, contentObj) ->\n      if req.session && req.session.user && req.session.user.isAdmin\n        contentObj.content = \"\n          \n          #{contentObj.content}\"\n      callback err, { content: contentObj.content }\n  )\n```\nI also added compass support.  In app.js:\n``` javascript\n   if (app.config.get('libraries:compass:enable')) {\n      app.mwHelpers.compassMiddleware = function (themePath) {\n        var getConfig = function(name) {\n          return app.config.get('libraries:compass:' + name);\n        };\n    var mw = compass({\n      project: themePath,\n      sass: getConfig('sourceDir'),\n      css: getConfig('destDir'),\n      libs: getConfig('libs'),\n      img: getConfig('imgDir'),\n      cache: getConfig('cache'),\n      logging: getConfig('logging'),\n      mode: getConfig('mode')\n    });\n    mw.tag = 'theme.compass';\n    return mw;\n  };\n  app.use(app.mwHelpers.compassMiddleware(''));\n}\n\n```\nAnd, to make a long story short, the more I dug into the architecture, the more\ntime I felt myself spending on working around it than with it.  I hate to say\nit, but my ultimate conclusion was that Calipso and I were not a good fit.\nI wanted something that was more content management, I wanted something that\nmade fewer assumptions about the use HTML and jQuery.  So I have stopped\nworking on this project.\nIn any case, I just dumped that code in this issue so that you might leverage\nit if you revisit markdown.  I have a feeling it won't be of use, but there it\nis, anyway.\nThank your for working with me as I explored.\n. this PR got borked.\n. I'm not going to delete my branch until I take a crack at the travis node 0.8 error. I'd hate to abandon it just because it is failing for an unknown reason. I'm sorry I didn't catch the travis error.\n. Hmm.  Something tells me that 'calipso not being used as a module' probably isn't it.  In any case, I see you cut the cord :)\n. Good point -- I'm still getting to know calipso and understanding what it can do and what's hardcoded.  I agree this isn't a good change now.\n. ",
    "SocalNick": "Along these lines, if I install using the calipso site command, is there a prescribed .gitignore I should use when I commit my site to a git repo? I'm obviously going to ignore node_modules and the conf directory. What else shouldn't I commit?\n. ",
    "iancrowther": "such a useful snippet! thanks @stu-salsbury \n. I'm using osx\nOn Thursday, 21 November 2013, Andreas Richter wrote:\n\nWindows, linux or Mac? I will try to get to this on the weekend. Sorry my\ntime was kind of taken up otherwise lately.\n\u2014\nReply to this email directly or view it on GitHubhttps://github.com/cliftonc/calipso/issues/249#issuecomment-28980430\n.\n. \n",
    "glockjt": "Windows 7 x64\n. yes i have visual studio installed\n. I'm sorry for not getting back to you.  So I re-installed node on windows and then obviously re-installed calipso and it worked.  I started having issues with other packages so this is why I decided to do a fresh install.\n. ",
    "patprzybilla": "if you do it all over maybe I should adjust to keep it consistent? \n. ",
    "eniac111": "It's okay. I'm not using the CMS right now..\n. ",
    "innerdaze": "Hi, the website is giving back a 404 again :(\n. ",
    "arturh85": "Thanks, works again.\n. ",
    "stevenvachon": "Thank you\n. Re-opened in case others are thinking of asking the same thing.\n. Website's down again.\nWhile I consider calipso dead, especially with Automattic's new \"Calypso\" launched recently, omni is an interesting lib that might help lighten the load in this project.\n. #257 \n. ",
    "dskvr": "Wondering the same. 404 on http://calip.so/\n. ",
    "eliezedeck": "For at least 3 days in a row now, it's been displaying 404.\nI'm aware of the forever package, isn't this a good case to use it? It's really bad for the project to have a Homepage that dies this often.\n. ",
    "samuelgoldenbaum": "Looking for a resource who knows this project well.\n. Sent you a linkedin request - mail me at: samuel.goldenbaum(at)hellocomputer.com and we can setup a Skype chat\n. ",
    "nbro": "@richtera Don't start something that you cannot finish next time.\n. ",
    "dieguito151": "Bump. What's the status of the project?\nI think it would be interesting to revive this project.. ",
    "bdmorin": "Just adding my voice to the noise, I'd like to check out the website as well.\n. ",
    "Mickael-van-der-Beek": "Yes, I saw yesterday that there were some issues remaining due to my code basically forcing escaping on input data and links having hard-coded concatenation with variable that contained non-URL-encoded characters.\nI did my best to remove most of them but I think that there are still a few left.\nSince I don't know the architecture of Calipso well enough, it's difficult to spot those cases.\n. ",
    "tomchambers2": "I am new to mongodb, so spent a bit of time looking at MONGO_URL, but in the end I got it working by using the npm module installation instead of the old install guide.\n. ",
    "semiaddict": "Thank you richtera.\nI installed Python 2.7.8 as well as Visual Studio Express 2013 and now I am getting different errors related to the inclusion of qos.h :\n\nC:\\Users\\semiaddict>npm install -g calipso\nnpm WARN excluding symbolic link index.js -> lib/connect-form.js\n/\n\nbcrypt@0.7.8 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\nnode-gyp rebuild\n\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt>node \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_mod\nules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  blowfish.cc\n  bcrypt.cc\n  bcrypt_node.cc\n..\\src\\bcrypt.cc(232): warning C4267: '=' : conversion from 'size_t' to 'unsigned char', possible loss of data [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_mo\ndules\\calipso\\node_modules\\bcrypt\\build\\bcrypt_lib.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\src\\bcr\nypt_node.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\\build\\bcrypt_lib.vcxproj]\ngyp ERR! build error\ngyp ERR! stack Error: C:\\Program Files (x86)\\MSBuild\\12.0\\bin\\msbuild.exe failed with exit code: 1\ngyp ERR! stack     at ChildProcess.onExit (C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\lib\\build.js:267:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:810:12)\ngyp ERR! System Windows_NT 6.2.9200\ngyp ERR! command \"node\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js\" \"rebuild\"\ngyp ERR! cwd C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\bcrypt\ngyp ERR! node -v v0.10.32\nnode-gyp -v v1.0.1\ngyp ERR! not ok\nnpm WARN excluding symbolic link lib\\socket.io-client.js -> io.js\nnpm WARN optional dep failed, continuing bcrypt@0.7.8\n\nkerberos@0.0.3 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\n|\n|\n_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  kerberos.cc\n  worker.cc\n  security_buffer.cc\n  security_buffer_descriptor.cc\n  security_context.cc\n  security_credentials.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\worker.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerberos.vcx\nproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\kerberos.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerberos.v\ncxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer_descriptor.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_module\ns\\kerberos\\build\\kerberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\\\nbuild\\kerberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_credentials.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerb\neros\\build\\kerberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_context.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\kerberos\n\\build\\kerberos.vcxproj]\n\nkerberos@0.0.4 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos>node \"C:\\Program Files\\node\njs\\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  kerberos.cc\n  worker.cc\n  security_buffer.cc\n  security_buffer_descriptor.cc\n  security_context.cc\n  security_credentials.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\worker.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\\build\\kerbe\nros.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer_descriptor.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node\n_modules\\kerberos\\build\\kerberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_buffer.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\ke\nrberos\\build\\kerberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_credentials.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modul\nes\\kerberos\\build\\kerberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\kerberos.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\kerberos\\build\\ker\nberos.vcxproj]\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory (..\\lib\\win\n32\\wrappers\\security_context.cc) [C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\k\nerberos\\build\\kerberos.vcxproj]\n\nbson@0.2.15 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson>node \"C:\\Program Files\\nodejs\\n\node_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  bson.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory [C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\connect-mongodb\\node_modules\\mongodb\\node_modules\\bson\\build\\bson.vcxproj]\n\nweak@0.1.5 preinstall C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\\node_modules\\weak\nnode build.js\nbson@0.2.2 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson>node \"C:\\Program Files\\nodejs\\node_mod\nules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  bson.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory [C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\mongoose\\node_modules\\mongodb\\node_modules\\bson\\build\\bson.vcxproj]\n\nws@0.4.32 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\\node_modules\\socket.io-client\\node_modules\\ws\n(node-gyp rebuild 2> builderror.log) || (exit 0)\n\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\\node_modules\\socket.io-client\\node_modules\\ws>node \"C:\\Program Files\\nodejs\\no\nde_modules\\npm\\bin\\node-gyp-bin....\\node_modules\\node-gyp\\bin\\node-gyp.js\" rebuild\nBuilding the projects in this solution one at a time. To enable parallel build, please add the \"/m\" switch.\n  bufferutil.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory [C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\\node_modules\\socket.io-client\\node_modules\\ws\\build\\bufferutil.vcxproj]\n  validation.cc\nC:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\winsock2.h(882): fatal error C1083: Cannot open include file: 'qos.h': No such file or directory [C:\\Users\\s\nemiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\node_modules\\hook.io\\node_modules\\socket.io-client\\node_modules\\ws\\build\\validation.vcxproj]\nC:\\Users\\semiaddict\\AppData\\Roaming\\npm\\calipso -> C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\\bin\\calipso\n\ncalipso@0.3.50 install C:\\Users\\semiaddict\\AppData\\Roaming\\npm\\node_modules\\calipso\nbash ./bin/install.sh\n\n'bash' is not recognized as an internal or external command,\noperable program or batch file.\nnpm ERR! calipso@0.3.50 install: bash ./bin/install.sh\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the calipso@0.3.50 install script.\nnpm ERR! This is most likely a problem with the calipso package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     bash ./bin/install.sh\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls calipso\nnpm ERR! There is likely additional logging output above.\nnpm ERR! System Windows_NT 6.2.9200\nnpm ERR! command \"C:\\Program Files\\nodejs\\node.exe\" \"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\" \"install\" \"-g\" \"calipso\"\nnpm ERR! cwd C:\\Users\\semiaddict\nnpm ERR! node -v v0.10.32\nnpm ERR! npm -v 1.4.28\nnpm ERR! code ELIFECYCLE\nnpm ERR! not ok code 0\n. \n",
    "jpca999": "yes\n. and black background on  http://calip.so/   looks ugly.\n. this is clean  http://richtera.org/\n. ",
    "etsrepo": "well for mongo its ok for professional user can work on but not normal user \nI have installed already\nbut what about installation password error ...?\ndid you checked it?\n. ",
    "julmot": "Still offline. ",
    "mootari": "Still down. Here's a link to the last working version from June 2015.. "
}