{
    "hillelcoren": "Thanks for catching that. I had the qty field set as int thinking of products but you're right, to work for hourly (and I'm sure other cases) it needs to be a float.\nThe fix has been checked in. \n. Demo has been updated.\nThanks again, let me know if you find anything else. \n. I've checked in a fix for this error. \nI've made the environment.php file an optional method of setting the environment. \n. You need to use your Github user/pass. \nThe number of third party libraries used in the app exceeds the maximum allowed to download through anonymous Github access. \n. Thanks for the feedback.\nSure, I'll add it back as a fourth option. I'll include the change with the next build. \n. I've added back the old design.\n. Merged in changes\n. The application is fully tested. If you run into any issues setting it up or while using it please let me know, I'm happy to help (feel free to email me).\nWe're just getting started on v2.0. Two of the features are: multi-user support and reusable products. However, we'd also like to see what features our initial users request. \n. Thanks for catching this. I'll include a fix with the next build. \n. A fix has been checked in and deployed\n. Thanks for creating the issue. I'll change it to work as you suggested. \n. This has been implemented.\n. The favicon is there, it's just not very good https://www.invoiceninja.com/favicon.ico\nWe're going to try to improve it... I'll leave this issue open until we change it. \n. Yes. We're currently working on adding support for language resource files. We also have French and German developers signed on to help translate the application in their respective languages.\n. @Stormcore \nWe're using the the JS PDF library (https://github.com/MrRio/jsPDF) to generate the PDFs but I've been struggling to get it to work with non-latin characters. You can follow the work on this issue here: https://github.com/MrRio/jsPDF/issues/12 \n. I've implemented account level language support. I'm currently working on refactoring the label texts to resource files. \n. All texts have been refactored to https://github.com/hillelcoren/invoice-ninja/blob/master/app/lang/en/texts.php\nThe last release includes support for German, Dutch and Brazilian Portuguese. More languages to follow... \n. 1. Great, I mostly test with the site running in the root web folder but we definitely want to support running the site in a sub-folder.\n2. I hear your logic but we don't consider the dashboard to be the root page. Would you be able to re-submit w/o this change or I can merge your request as is and just remove this line.\nThanks again for taking the time to submit the changes. \n. Did you mean to close the request?\n. You are correct.... this will be added in the next build.\nThanks!! \n. This has been added\n. We're using the Intervention/image library to resize the logo and convert it to a JPEG. I'll look into improving the end result (and will keep the issue open while I look into it).\nFor now you may get better results if you're able to upload an image which is already a JPEG with the exact sizing suggested. \n. I believe I've tracked down the problem. I'll include a fix with the next build however it will cause e/o's logos to become smaller (they're currently getting scaled up which is why they're fuzzy). You'll be able to fix the logo by re-uploading it. \n. This looks like it may be a composer issue. In the end we're not using Rocketeer for deployment. I'm going to remove the dependency in the next build. For now you should be able to remove the Rocketeer line from composer.json and run composer update. \nLet me know if this doesn't resolve your issue. I'll close the comment once I've checked in the next build with this change. \n. I've seen problems with the composer cache, can you please try deleting it.\nYou can find it by running: composer config cache-dir \n. Also, make sure to remove the Rocketeer line from app/config/app.php\n. I haven't seen this error myself but there are a number of suggested solutions on the following thread: \nhttp://laravel.io/forum/02-18-2014-class-monologlogger-not-found\n. Thanks for sharing your solution, I'm sure it will help others.\nCan we close the issue?\n. Thanks for the suggestion. I'll add it with the next release.\n. The lockfile file has been added. \n. Thanks for catching this, I'm surprised we didn't notice this sooner.\nI merged your change but when testing I found I needed to change it to addslashes for it to work.\n. I'm glad you found the issue.\nLet me know if you run into any other problems.\n. Thanks for letting me know.\nWe're currently working on a new version of the page so I'll probably just let this fix itself by going away.\n. Closing this issue as the page is no longer shown.\n. AMAZING!!! Thanks You!!\nMore texts and messages to come..... \n. This is a very good idea and something we've heard from other people as well.\nThis will definitely be included in a future build. \n. Coming soon.... if you'd like to beta test please let us know, we're looking for feedback.\n. No, most of that code will be removed soon. \n. This has been checked in.\n. We hope to go live this weekend. \n. Thanks, that's good feedback. \nWhen you pause/resume would you expect it to create multiple tasks for each segment of work or just create one task with the total active duration. \nYou can see this link to see how toggl handles this: http://support.toggl.com/my-profile/#continuebutton\n. Thanks, we'll look into adding this in a future release. \n. I've updated our implementation to include a \"resume\" button. Thanks again for the feedback!\n. Thanks for the feedback!\nWe see our current tasks implementation as a 1.0 release and plan to continue to improve it over time. We'll try to incorporate these changes into a future release. \n. I've just checked in some further enhancements:\n- Re-worked editing task details \n- Enabled adding a task to an existing invoice \nMore to come, hopefully we're moving in the right direction...\n. I agree that this is most likely a configuration issue, I'm going to close the issue.\n. I think this may be a database version issue, which database and version\nare you using?\nOn Mar 21, 2014, at 12:08 PM, Arul notifications@github.com wrote:\nI have tried installing it on my mac, I had to do the following to get it\nto show something\nI step by step followed the instruction on the README file\nninja $ bower install\nbower cached        git://github.com/jquery/jquery.git#1.11.0\nbower validate      1.11.0 against git://github.com/jquery/jquery.git#~1.\nbower cached        git://github.com/components/jqueryui.git#1.10.4\nbower validate      1.10.4 against git://github.com/components/jqueryui.git#~1.\nbower cached        git://github.com/Jowin/Datatables-Bootstrap3.git#db5b01916a\nbower validate      db5b01916a against\ngit://github.com/Jowin/Datatables-Bootstrap3.git#\nbower cached        git://github.com/DataTables/DataTables.git#1.9.4\nbower validate      1.9.4 against\ngit://github.com/DataTables/DataTables.git#~1.\nbower cached        git://github.com/bowerjs/knockout.git#3.0.0\nbower validate      3.0.0 against git://github.com/bowerjs/knockout.git#~3.\nbower cached        git://github.com/SteveSanderson/knockout.mapping.git#2.4.1\nbower validate      2.4.1 against\ngit://github.com/SteveSanderson/knockout.mapping.git#\nbower cached        git://github.com/rniemeyer/knockout-sortable.git#0.8.6\nbower validate      0.8.6 against\ngit://github.com/rniemeyer/knockout-sortable.git#\nbower cached        git://github.com/FortAwesome/Font-Awesome.git#4.0.3\nbower validate      4.0.3 against\ngit://github.com/FortAwesome/Font-Awesome.git#~4.\nbower cached        git://github.com/jashkenas/underscore.git#1.6.0\nbower validate      1.6.0 against git://github.com/jashkenas/underscore.git#~1.\nbower cached        git://github.com/MrRio/jsPDF.git#0.9.0\nbower validate      0.9.0 against git://github.com/MrRio/jsPDF.git#\nbower cached        git://github.com/eternicode/bootstrap-datepicker.git#1.3.0\nbower validate      1.3.0 against\ngit://github.com/eternicode/bootstrap-datepicker.git#~1.\nbower cached        git://github.com/twitter/typeahead.js.git#0.9.3\nbower validate      0.9.3 against\ngit://github.com/twitter/typeahead.js.git#~0.9.3\nbower cached        git://github.com/josscrowcroft/accounting.js.git#0.3.2\nbower validate      0.3.2 against\ngit://github.com/josscrowcroft/accounting.js.git#~0.\nbower cached        git://github.com/mozilla/pdf.js.git#cebf7836f4\nbower validate      cebf7836f4 against git://github.com/mozilla/pdf.js.git#\nbower cached        git://github.com/twbs/bootstrap.git#3.1.1\nbower validate      3.1.1 against git://github.com/twbs/bootstrap.git#~3.\nbower cached        git://github.com/jquery/jquery.git#1.9.1\nbower validate      1.9.1 against git://github.com/jquery/jquery.git#~1.9\nbower cached        git://github.com/twbs/bootstrap.git#3.1.1\nbower validate      3.1.1 against git://github.com/twbs/bootstrap.git#>=3.0 <4.0\nbower cached        git://github.com/jquery/jquery.git#2.1.0\nbower validate      2.1.0 against git://github.com/jquery/jquery.git#>=1.7.1\nbower cached        git://github.com/jquery/jquery.git#2.1.0\nbower validate      2.1.0 against git://github.com/jquery/jquery.git#>=1.6\nbower cached        git://github.com/jquery/jquery.git#1.8.3\nbower validate      1.8.3 against git://github.com/jquery/jquery.git#~1.8.0\nbower cached        git://github.com/jquery/jquery.git#2.1.0\nbower validate      2.1.0 against git://github.com/jquery/jquery.git#>= 1.9.0\nUnable to find a suitable version for jquery, please choose one:\n    1) jquery#~1.8.0 which resolved to 1.8.3 and is required by\ndatatables#1.9.4\n    2) jquery#~1.9 which resolved to 1.9.1 and is required by\ntypeahead.js#0.9.3\n    3) jquery#~1.* which resolved to 1.11.0 and is required by\nhillelcoren/invoice-ninja\n    4) jquery#>= 1.9.0 which resolved to 2.1.0 and is required by\nbootstrap#3.1.1, bootstrap#3.1.1\n    5) jquery#>=1.7.1 which resolved to 2.1.0 and is required by\nbootstrap-datepicker#1.3.0\n    6) jquery#>=1.6 which resolved to 2.1.0 and is required by jquery-ui#1.10.4\nPrefix the choice with ! to persist it to bower.json\n[?] Answer: !6\nbower resolution    Saved jquery#>=1.6 as resolution\nbower install       datatables-bootstrap3#db5b01916a\nbower install       accounting#0.3.2\nbower install       jspdf#0.9.0\nbower install       knockout-mapping#2.4.1\nbower install       typeahead.js#0.9.3\nbower install       bootstrap-datepicker#1.3.0\nbower install       knockout.js#3.0.0\nbower install       jquery-ui#1.10.4\nbower install       datatables#1.9.4\nbower install       font-awesome#4.0.3\nbower install       knockout-sortable#0.8.6\nbower install       jquery#2.1.0\nbower install       underscore#1.6.0\nbower install       pdfjs#cebf7836f4\nbower install       bootstrap#3.1.1\ndatatables-bootstrap3#db5b01916a public/vendor/datatables-bootstrap3\naccounting#0.3.2 public/vendor/accounting\njspdf#0.9.0 public/vendor/jspdf\nknockout-mapping#2.4.1 public/vendor/knockout-mapping\ntypeahead.js#0.9.3 public/vendor/typeahead.js\n\u2514\u2500\u2500 jquery#2.1.0\nbootstrap-datepicker#1.3.0 public/vendor/bootstrap-datepicker\n\u251c\u2500\u2500 bootstrap#3.1.1\n\u2514\u2500\u2500 jquery#2.1.0\nknockout.js#3.0.0 public/vendor/knockout.js\njquery-ui#1.10.4 public/vendor/jquery-ui\n\u2514\u2500\u2500 jquery#2.1.0\ndatatables#1.9.4 public/vendor/datatables\n\u2514\u2500\u2500 jquery#2.1.0\nfont-awesome#4.0.3 public/vendor/font-awesome\nknockout-sortable#0.8.6 public/vendor/knockout-sortable\njquery#2.1.0 public/vendor/jquery\nunderscore#1.6.0 public/vendor/underscore\npdfjs#cebf7836f4 public/vendor/pdfjs\nbootstrap#3.1.1 public/vendor/bootstrap\n\u2514\u2500\u2500 jquery#2.1.0\n- I had to manually select jquery for bower see the details above\n- had to make app/storage writeable. We should include that in the\n  documentation\n- had to manually copy jquery.min.js from public/vendor/dist dirctory to\n  public/vendor\nThen the home page started working, but when I clicked on Invoice Now it\ntook me to http://ninja.dev/get_started and then I see the following error\nIlluminate \\ Database \\ QueryException\nSQLSTATE[HY000]: General error: 1364 Field 'name' doesn't have a\ndefault value (SQL: insert into accounts (ip, account_key,\nupdated_at, created_at) values (127.0.0.1,\nI0HxixAeYErv145BIMHTvDmYL4go7ICG, 2014-03-21 09:21:32, 2014-03-21\n09:21:32))\nLet me know if I'm doing anything wrong!\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/45\n.\n. From stackoverflow\nThis is caused by the STRICT_TRANS_TABLES SQL mode defined in the\n%PROGRAMDATA%\\MySQL\\MySQL Server 5.6\\my.ini file. Removing that setting and\nrestarting MySQL should fix the problem.\nOn Mar 21, 2014, at 12:39 PM, Arul notifications@github.com wrote:\nIt's MySQL 5.6.15\n\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/45#issuecomment-38264607\n.\n. Thanks @gplv2, I definitely agree. \nI've checked in a fix/workaround for this issue. I've changed the code to check both possible locations.\n. I agree, we're working on an easier solution\n. Here are the steps. Let me know if you run into any issues.\nhttp://hillelcoren.com/invoice-ninja/self-hosting/\n. I've just checked in a first pass at a setup page. \n. In case you didn't notice you can click the button in the top right to access the company details page where you can set this information. Or just use this link...\nhttps://www.invoiceninja.com/company/details\nLet me know if this isn't what you meant\n. @DanielKaji \nThe code for the templates is in public/js/script.js. There are sub-functions like displayAccount and displayClient which are called by the report rendering function. It should be easy to tweak the code, if you have any questions let me know.\n. Maybe you can use custom fields on /settings/invoice_settings. This looks great. I hadn't heard of docker before. \n. Amazing, thanks!!\nI'll add a link the project in the readme.\n. @rollbrettler \nI just wanted to let you know that we've created a repo with Docker files: https://github.com/invoiceninja/dockerfiles\nThanks again for your help!\n. It looks like you may have missed a migration file. try running migrate:reset and then another migrate. \n. I think the problem may be caused by the app being developed using MySQL without strict mode. http://www.palantir.net/blog/beware-mysql-51-my-son\nIf you're able to use MySQL I believe it will work, it could take some time to resolve the issue with SQLite (assuming this is the problem).\n. More info on strict mode...\nField '...' doesn't have a default value error\nTry running SET GLOBAL sql_mode = 'ANSI'; in the MySQL console. If that doesn't work follow this guide to disable MySQL strict mode: https://shopplugin.net/kb/mysql-strict-mode-issues/ \n. This should now be fixed.\n. Can you check in the Firefox preferences under Applications what your setting is for PDFs.\n. If you're using Firefox check your settings for PDFs in Preferences in the Applications tab. This page has some troubleshooting steps: https://support.mozilla.org/en-US/kb/view-pdf-files-firefox-without-downloading-them.\nTo force the application to view PDFs inline use the following link https://www.invoiceninja.com/force_inline_pdf (note: this will use a JavaScript renderer which isn't as good as the one built into Firefox)\n. Thanks for reporting this. I've tracked down the problem, the issue was the & in the password. I needed to URI encode the values. \nI've checked in a fix and hope to deploy to production later today.\n. This fix has been deployed to the production site.\n. If you have the site setup locally you un-comment the following lines to\nadd a language select to the company details page.\napp/controllers/AccountController.php - line 90\napp/views/accounts/details.blade.php - line 66\nThere's still more text to translate I just need to refactor it all out of\nthe code.\nOn Sun, Mar 23, 2014 at 7:49 PM, pierrefaure notifications@github.comwrote:\n\nHi,\nI'm not sure for line 42 :)\nYou can merge this Pull Request by running\ngit pull https://github.com/pierrefaure/invoice-ninja patch-1\nOr view, comment on, or merge it at:\nhttps://github.com/hillelcoren/invoice-ninja/pull/54\nCommit Summary\n- Update fields.php\nFile Changes\n- M app/lang/en/fields.phphttps://github.com/hillelcoren/invoice-ninja/pull/54/files#diff-0(84)\nPatch Links:\n- https://github.com/hillelcoren/invoice-ninja/pull/54.patch\n- https://github.com/hillelcoren/invoice-ninja/pull/54.diff\n\nReply to this email directly or view it on GitHubhttps://github.com/hillelcoren/invoice-ninja/pull/54\n.\n. I just noticed that myself, I've checked in a fix.\n\nOn Sun, Mar 23, 2014 at 8:01 PM, pierrefaure notifications@github.comwrote:\n\nUps, I think I edited /en/fields.php and not /fr/fields.php\n\nReply to this email directly or view it on GitHubhttps://github.com/hillelcoren/invoice-ninja/pull/54#issuecomment-38390490\n.\n. Just wanted to let you know that I've added more texts.\n\nThanks again for your help!\n. If you could change over that would be great, I've used the project for the other translations. \nThanks again, more texts soon... \n. I should remove that code, it came with Confide but it can't be used to create a user.\nA user and account record should automatically be created for you when you click 'Invoice Now' on the home page. \n. I've always used a 1.x version of jQuery so that could be the issue. I've also heard from other people that the DebugBar library was causing issues. I'd suggest checking your browser console for errors.\nYou can test the site without the debugbar by setting debug to false in app/config/app.php. To remove it completely remove the references from app/config/app.php and composer.json and run a composer update. I'm looking into the root of the problem. \n. @cristoslc \nThanks, good to hear it's working. I don't think we need screenshots, the problem is understood. \n@hardikdangar \nIs the site working for you?\n. I believe I've tracked down this problem. Depending on which version of jquery is chosen during the Bower install the dist folder may (or may not) exists.\nI've added a resolutions section to bower.json which should prevent this from happening. \n. Thanks for the suggestion. \nHave you tried creating the VAT tax as an invoice level tax in the manage rates panel? \n. In my country VAT is a 17% tax added to the invoice. Could you send me an example of what a PIVA looks like. \nThe tax field only allows numbers as it's expecting a tax rate. It sounds like you may need something different.\n. This feature (or more precisely the ability to create custom fields) has been added to the Pro plan.\n. Please give this a try...\nsudo php -d memory_limit=-1 /usr/local/bin/composer install\nFrom http://tech.enekochan.com/2013/12/16/fix-fatal-error-allowed-memory-size-of-x-bytes-exhausted-tried-to-allocate-x-bytes-with-composer-update/\n. Agreed, we're adding a re-send confirmation feature in a future release.\n. This has been checked in.\n. Thanks for letting me know. Should we close the issue?\n. The code for the templates is in public/js/script.js. There are sub-functions like displayAccount and displayClient which are called by the report rendering function. It should be easy to tweak the code, if you have any questions let me know.\n. The code for the templates is in public/js/script.js. You can search for doc.addImage( to find where in the code the images are added.\n. Amazing, thank you!!\n. As for polite form, we like things on the friendlier side.\nLong term we'd like people to be able to customize the labels. \n. Amazing, thanks for the quick turnaround!\nI had to manually commit your changes due to a conflict.\n. Amazing, thanks very much for the translations and the fix!\nHope to have it live soon(ish). You'll be able to set your language on the Company Details page.\n. Thanks. I was aware of some of these but not all, this list is extremely helpful.\n. The database supports this but we need to make changes to the UI.\nWe plan to include this in a future build. \n. This has been implemented. \n. We don't support this, and most likely won't in the future. To implement this you'll need to create three separate invoices. \n. Agreed. We plan on focusing on these sorts of user customizations in a future build. \n. I've just checked in the ability to hide the quantity field.\n. Looks great, thank you!! \n. Amazing, thank you!!\nThe updates will go live with our next release over the weekend. \n. Thanks again!\n. Amazing, thanks!!! We can always refine the texts over time... \n. Thanks!\n. It seems like many people have unique requirements. We're working on adding the ability to define custom fields for the Client and Company.\n. Custom fields have been added to the Pro plan. If you'd rather use the free plan you could use the 'invoice terms' field to display your bank account on the invoice. \n. Thanks for the fix!!\n. Can you try running a git pull. I added the missing files earlier today. \n. This should now be resolved. I'm closing the issue but please re-open if you're still having trouble. \n. Looks great, thanks! \n. I believe the reason the jQuery file is missing may be due to this issue: https://github.com/bower/bower/issues/859\nA quick fix is to copy the file from public/vedor/jquery file to the correct place. I'm looking into fixing this. \n. I've checked in a fix/workaround for this issue. I've changed the code to check both possible locations. \n. Thank you, this info is very helpful. We plan on working on this in a future build. \n. I've checked in work on this feature\n. This feature has been deployed\n. Our implementation is close, when a user receives a quote they can pay it but they must first click 'Approve' which converts it to an invoice which they can pay.\nWe don't yet support recurring quotes. \n. Ok, we'll keep this in mind for a future release. \n. Sorry, no update.. Sorry, it isn't yet supported. . Yes, we hope to support this . Awesome, thanks again! \n. Did Composer and Bower install run successfully?\n. The high level instructions are on the GutHub page. You'll need SSH access to use Composer and Bower.\nWe plan to release the next version as a ZIP file with all third-party libraries included, it should make it easier for you to install.\n. Hopefully within about two weeks. \n. Congratulations! Best of luck with your new company.\nI was planning on creating a Vagrant file but also having a disk image is a\ngood idea.\nWe're currently focusing on getting the next major release out. Once it's\ndone (~1-2 weeks) I hope to spend some time on this.\nOn Apr 17, 2014, at 10:22 PM, Domotoc notifications@github.com wrote:\nSimple question, you have not a image of a clean installation of debian (or\nunbutu, etc) with invoice ninja loaded ? juste for wait the \"all inclusive\nversion\" :) ?\n(I started my company this month and I have to send my first bill :))\nI think for newbie like me it would be great. LOL ;)\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/95#issuecomment-40752355\n.\n. Thanks for letting me know!\nI'll create a migration and add these changes to the codebase.\n. Sure, you should just need to add a new record to the currencies table. \nNote: we cache this data so you'll need to clear the cache after making the change. You can do that by uncommenting Cache::flush(); in routes.php and loading a page. \n. Of course. Thanks for helping with the project! \n. If you have command line access you can use tinker to check the db and cache:\nphp artisan tinker\nApp\\Models\\Currency::whereCode('USD')->first();\nCache::get('currencies');. Try running composer install\n. Or use the self host zip rather than the zip from GitHub\nhttp://docs.invoiceninja.com/en/latest/install.html. Please try running a git pull/artisan migrate.\nOn Apr 17, 2014, at 5:54 PM, Thomas Heinz notifications@github.com wrote:\nInstalled it in\nhttp://dev.mydomain.net/invoice-ninja/\nTrying to access it via\nhttp://dev.mydomain.net/invoice-ninja/public/\nPage loads, everything looks finde. As soon as I click on \"Invoice now\" I\nget a 404:\n/var/www/virtual/user/dev.mydomain.net/invoice-ninja/public/index.php\nOkay, so I added index.php in the URL\nhttp://dev.mydomain.net/invoice-ninja/public/index.php\nAs soon as I now click in \"Invoice now\" I get a error Message:\nSymfony \\ Component \\ Debug \\ Exception \\ FatalErrorException\nClass Zizaco\\Confide\\ConfideUser contains 3 abstract methods and must\ntherefore be declared abstract or implement the remaining methods\n(Illuminate\\Auth\\UserInterface::getRememberToken,\nIlluminate\\Auth\\UserInterface::setRememberToken,\nIlluminate\\Auth\\UserInterface::getRememberTokenName)\nDon't know how to solve that....\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/99\n.\n. Please try running composer install.\nOn Apr 17, 2014, at 5:54 PM, Thomas Heinz notifications@github.com wrote:\nInstalled it in\nhttp://dev.mydomain.net/invoice-ninja/\nTrying to access it via\nhttp://dev.mydomain.net/invoice-ninja/public/\nPage loads, everything looks finde. As soon as I click on \"Invoice now\" I\nget a 404:\n/var/www/virtual/user/dev.mydomain.net/invoice-ninja/public/index.php\nOkay, so I added index.php in the URL\nhttp://dev.mydomain.net/invoice-ninja/public/index.php\nAs soon as I now click in \"Invoice now\" I get a error Message:\nSymfony \\ Component \\ Debug \\ Exception \\ FatalErrorException\nClass Zizaco\\Confide\\ConfideUser contains 3 abstract methods and must\ntherefore be declared abstract or implement the remaining methods\n(Illuminate\\Auth\\UserInterface::getRememberToken,\nIlluminate\\Auth\\UserInterface::setRememberToken,\nIlluminate\\Auth\\UserInterface::getRememberTokenName)\nDon't know how to solve that....\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/99\n.\n. Great, thanks for letting me know.\nOn Apr 17, 2014, at 7:37 PM, Thomas Heinz notifications@github.com wrote:\nYou are the best. It's working now. Great!\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/99#issuecomment-40734741\n.\n. I believe this is related to the latest version of Laravel. As you've seen\nI've included the fields but I think there maybe a change require by the\nconfide framework.\nI'm away for a couple of days so haven't had a chance to really look into\nit but I've checked in the composer lock file which should have solved this.\nI hope to be able to spend more time on this later in the week.\nOn Apr 20, 2014, at 5:54 PM, dixens notifications@github.com wrote:\nHi Hillel,\nGot the same message on a fresh install today (complete with the\nremember_token field and methods) :\nSymfony \\ Component \\ Debug \\ Exception \\ FatalErrorException\nClass Zizaco\\Confide\\ConfideUser contains 3 abstract methods and must\ntherefore be declared abstract or implement the remaining methods\n(Illuminate\\Auth\\UserInterface::getRememberToken,\nIlluminate\\Auth\\UserInterface::setRememberToken,\nIlluminate\\Auth\\UserInterface::getRememberTokenName)\nReran the whole thing (pull/migrate -> nothing to migrate / composer\ninstall -> Nothing to install or update), same error message.\nThank you\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/99#issuecomment-40896523\n.\n. Thanks for letting me know.\nOn Apr 20, 2014, at 6:06 PM, dixens notifications@github.com wrote:\n... never mind, it is sorted out. For some reason, my\nZizaco/Confide/ConfideUser.php did not have new reference to UserInterface\nin Token related methods. Sorry about the fuss.\n\u2014\nReply to this email directly or view it on\nGitHubhttps://github.com/hillelcoren/invoice-ninja/issues/99#issuecomment-40896736\n.\n. @osmanzeki \nThanks for the tip! Once I've tested everything I'll check in the change. \n. The composer.json file has been updated so this should no longer be a problem. \n. The main error seems to be Maximum execution time of 30 seconds exceeded\nAre you able to increase the execution time?. Amazing, thanks!! \nThe product library feature will be available with our next release on Sunday. \n. Thank you for the correction! \n. Thanks for reporting this issue.\nI'm able to replicate the problem, I'm working on it now... \n. I've checked in a fix for this and deployed it to production. I've used the datepicker to handle formatting the date. Long term I'm going to look into using moment.js (most date work is currently handled server side). \n. Thanks for your thoughts.\nThere is a script which runs every hour to send recurring invoices. If you create a recurring invoice and set the start date to today it will get sent within the hour. Setting the start date to date in the future means we'll wait to send it.\nI agree that the variables feature is unclear. It's meant to be used with recurring invoices. When the invoice is generated and sent we freeze the variables. However, if it's used for a non-recurring invoice the value will keep changing. This is a bug which will need to be fixed. \n. I've just checked in a change so that date variables are only enabled for recurring invoices. \n. Could you provide steps for me to replicate this issue. Also, where exactly did you make the code change?\nThanks \n. Thank you for the screenshot and code. I'll work on this today. \n. I've merged your pull request which should resolve this issue.\nThanks again!! \n. If you're self hosting you'll need to setup a cron to call php artisan ninja:send-invoices.\nI'll also add this to the documentation. \n. The log file is app/storage/log/laravel.log.\nTo enable email support you'll need to configure app/config/mail.php (or create app/config/[environment]/mail.php). To send emails, rather than just logging them, make sure the 'pretend' flag is set to false.\n. Thanks for submitting the change. \nIs there a reason you're specifying 4 rather than 2 in total.toFixed(4)\n. Thanks for submitting the fix. I saw in the issue that you used the following line of code so I'll just replace it.\ninvoice.balance_amount = accounting.toFixed(total,2) - (accounting.toFixed(invoice.amount,2) - accounting.toFixed(invoice.balance,2));\n. Hi, thanks for your interest in the project.\n- Moving the currency symbol is doable but not-trivial. I'd be happy to help if you'd like to implement the feature. We store the list of currencies in a table called (unsurprisingly) currencies. You'd need to add a symbol_position field. Also note this data is cached, if you change it you'd need to un-comment Cache::flush(); in routes.php and load the page.\n- Supporting Swedish would be great. If you decide to work on it please use https://github.com/caouecs/Laravel4-lang for the starter files. \n. Thanks, that's a good idea. \nI hope to upgrade to the latest version of Laravel soon... \n. That's a good suggestion, thanks! \n. You can now set the transaction reference field when creating a new payment. \n. If you don't have any recurring invoices we do hide the section. We'd like to make improvements to this page in the future. \nThe invoice staying in draft state is a bug. It looks like we're only updating the state if the client pays the invoice, if the payment is entered manually we're not updating it.\nI'll work on a fix along with a query to correct existing data. Thanks for reporting this.\n. @peterquentin \nThanks for the fix. I've added your code to the activity handler so it will be applied for all payments.\n. Very cool, thanks for sharing this change! \n. Thanks for the changes! I'm with you on all of them but the last one. Many people don't set the due date so I don't think we can make it required. \nIn case you haven't noticed, if you set the payment terms for the client the due date is set automatically.\n. This pull request doesn't seem to have any changes. \n. Still empty... Do you want to delete this pull request and start again. \n. Thanks again!\n. That'd be awesome! We're trying to make the mobile version of our site as responsive as possible but it'll never compare to a native experience. We plan on implementing an API, it shouldn't be too much work. \nSupport for third party notifications systems is a great idea, maybe create it as a separate issue to track.\nIf you have any questions working on the code let me know. You can reach me at contact@invoiceninja.com.\nBest,\nHillel\n. We currently support creating clients and reading your list of clients, invoices, quotes and payments.\n. Here are some examples:\nRead all clients\ncurl -X GET ninja.dev/api/v1/clients -u username:password\nCreate a client\ncurl -X POST ninja.dev/api/v1/clients --header\n\"Content-Type:application/json\" -d '{\"name\":\"Client\"}' -u username:password\nOn Jan 28, 2015 1:11 PM, \"Kristof Feys\" notifications@github.com wrote:\n\n@RichardLindhout https://github.com/RichardLindhout Ok thanks. I've\nbeen looking in the code but I'm not completely sure how it works as I've\nnever used laravel. I will try some other things to see if I get it\nworking.\na sample call / some documentation would indeed be extremely helpful.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/118#issuecomment-71817233\n.\n. It's planned for the future but I can't promise when it will be implemented, there are number of features ahead of it. \n. I'm currently working on API documentation, here are some samples in the meantime...\n\n// read clients\ncurl -X GET ninja.dev/api/v1/clients -H \"X-Ninja-Token: TOKEN\"\n// create client\ncurl -X POST ninja.dev/api/v1/clients -H \"Content-Type:application/json\" -d '{\"name\":\"Client\",\"contact\":{\"email\":\"test@gmail.com\"}}' -H \"X-Ninja-Token: TOKEN\"\n// create invoice\ncurl -X POST ninja.dev/api/v1/invoices -H \"Content-Type:application/json\" -d '{\"client_id\":\"1\", \"product_key\":\"ITEM\"}' -H \"X-Ninja-Token: TOKEN\"\n// email invoice\ncurl -X POST ninja.dev/api/v1/email_invoice -H \"Content-Type:application/json\" -d '{\"id\":1}' -H \"X-Ninja-Token: TOKEN\"\n. The API limits were only meant for our production site, I've checked in a change to remove them for self host sites.\n. Thanks for the suggestion, we'll work on it in a future release. \n. We've enabled setting a discount amount in the latest release. \n. Make sure you've added the 'Discount' field on Settings > Invoice Design > Product Fields . I've seen a similar issue with other versions of MySQL, basically certain versions of MySQL supply default values while other databases do not. This post has more details: http://www.palantir.net/blog/beware-mysql-51-my-son\n. This should now be fixed.\n. @hoopyfrood \nI've just checked in a fix for this error. The PaymentLibrary class didn't have the timestamps property set to true so the created_at field was null. \n. I'm looking into this feature now. \nOne complication is that some states/countries charge tax on shipping while others do not. Out of curiosity, would you need shipping to be taxed. \n. I've just checked in this feature.\n. I'm working on it this week, hope to have it ready in a few days...\n. 100% agreed\nWe're always trying to balance adding new features while still improving what we have. We're currently working on adding automated tests using Codeception and PhantomJS, better code documentation is planned as well.\n. We added quote_id recently so it's most likely a migration issue. Did you first run git pull to get the latest migration files? \n. https://github.com/hillelcoren/invoice-ninja/tree/master/app/database/migrations\nCheck that you have 2014_05_17_175626_add_quotes.php  \n. It's possible I modified this migration after checking in, which would explain why it's saying 'nothing migrate'. \nTo fix this you could erase the last record from your migrations table, comment out the 'is_quote' line in the migration and then run php artisan migrate. \nSorry for the trouble. \n. I'm not sure I agree. If the cron didn't run and the invoices were sent a day later then the invoice date should match the data it was actually created (rather then the day it was supposed to be created). \n. I hear ya. \nThe challenge is this isn't a simple change (calculating the intended sent date is harder than it sounds) and it would just be to handle an error case. \n. tplanner looks great, I'll work on including it in a future release (we'd like to improve our recurring functionality in general). \n. We recommend setting up an hourly cron to automatically send any pending recurring invoices. In the future we'd like to enable users to specify the time of day to send the invoices. \n. We've added support for https://github.com/simshaun/recurr\n. If you could send me the changes I can try to look into incorporating them.\n. Mollie should support iDeal payments. \n. It looks like Mollie supports SEPA: https://www.mollie.com/en/payments/direct-debit\nWe don't support auto-billing with Mollie. We looked into adding support for SEPA through Stripe but had trouble testing it https://github.com/invoiceninja/invoiceninja/issues/1676#issuecomment-338503992. \n. We don't have immediate plans to add auto-billing support for Mollie but you can track the request here https://github.com/invoiceninja/invoiceninja/issues/1809. Amazing, thanks!\n. 'quote_total' is used for the header of the quotes list page and 'total' is used at the bottom of the quote PDF.\nThanks again for your help! \n. The problem is it's most likely an edge use-case so I'm not sure it should be added as an action. If you're self-hosting it should be easy to make this adjustment, you'd need to update app/models/Activity.php to prevent updating the ledger. \n. To get the files you'll need to run bower install \n. Thanks for your kind words. I'll add the bower install step to the readme.\n. Thanks for submitting these changes. I need to review them more closely, I'll try to get back to you within a few days. \n. This has been implemented \n. This appears to be a duplicate of Multiple Users for one company.\nhttps://github.com/hillelcoren/invoice-ninja/issues/76\nThis is a high priority item for us.\n. Tracking with https://github.com/hillelcoren/invoice-ninja/issues/76\n. Thanks for submitting the changes!\nWe can add the currency but matching 65 on the phone number would also match US numbers. Not sure the best way to handle it...\nhttp://www.bennetyee.org/ucsd-pages/area.html\n. Thanks, I've merged the other pull request.\n. One point to add. If you change script.js you'll need to run grunt to regenerate the built JavaScript files.\nIf you have any questions about the code let me know.\n. From the command line run grunt (no parameters needed) from the root folder of the source code.\n. The javascript for the PDFs is now stored in the invoice_designs table. \n. Thanks for reporting this, I'll aim to fix it in the next release. \n. This fix is included in v1.3.3\n. Thanks for the correction.\n. Thanks for submitting this change. I'm away for the week but I'll test/merge when I get back next week. \n. This should now be fixed.\n. One of the PHP payment libraries we use supports it so it should be possible:\nhttps://github.com/calvinfroedge/PHP-Payments\nThe database allows storing multiple account gateways but there is some work remaining in the UI. \n. This is definitely an issue. \nI think it can be solved by modifying Activity.php to not update the balance with recurring invoices. When the actual invoices is generated (sometime in the future) it will handle the balance adjustment.\n. I've checked in fixes for Activity.php.\nI'm having trouble replicating the problem with the sequencing of invoices, could you please provide more details.\n. Yes, if you self-host the code includes all pro features.\n. Amazing, thank you so much!!\n. Thanks for submitting these changes.\nA concern I have is although this fixes seeding it's likely there will be other issues. We may want to set all fields to nullable. Do you know if this is a common issue with Laravel/Eloquent? \n. Amazing, thanks again for contributing. I'll try to test out your changes later today and then merge.\nI wasn't aware of the \"? :\" shortcut, that's handy. Also. some of the links were hard coded on purpose (ie, the email footers). I'll need to put these back. \n. Most people who setup the site are using it to send their own invoices. I hardcoded the links so setting the SITE_URL wouldn't cause people to try to sign up on their servers. \nIt's not part of the license, you can make any changes you like as long as you leave the 'powered by...' footer.\n. Try running install rather than update\n. I'm not sure, I'm not able to replicate this problem. I've been meaning to upgrade to the latest version of Laravel which it looks like will solve your problem. I'll prioritize the work.\nAs a workaround you could copy the vendor folder from the zip:\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v1.3.3.zip\n. Try running composer dump-autoload\n. That's strange...\nThe class is defined in vendor/patricktalmadge/bootstrapper/src/Bootstrapper/BootstrapperServiceProvider.php. Can you check that you have the file. \n. I'm sorry I don't understand your question, could you please try explaining it another way.\nAlso, before you put in too much effort in you may want to check our license to make sure it works for your purposes. \n. You should be able to update composer.json and app.php to the new name or copy the vendor files from the zip available here: http://hillelcoren.com/invoice-ninja/self-hosting/\n. I've checked in an updated composer.lock file which should resolve this.\n. Could you explain what you mean by 'product prices'\n{{Former :: hidden ('data') -> data_bind (\"value: ko.toJSON (model)\")}}\nWe're using the Former library to create a hidden field called data. We then use KnockoutJS to bind the field to the model in JSON format. \nwindow.model = new ContactsModel ({{$ client}});\nThis creates a new KnockoutJS ContactsModel using the client in JSON format as the input.\nko.applyBindings (model);\nThe is a call to KnockoutJS to update the view with the data in the model.\n. Check that you've set a value for the key property in app/config/app.php\n. I took a quick look at this. We're using the date format function but it looks like it doesn't respect the locale setting. \nhttp://stackoverflow.com/questions/8744952/php-how-to-format-a-given-datetime-object-considering-localegetdefault\nWe'll look into changing over to strftime in a future release. If you want to hack the code you should be able to fix this for the client invoice view page by changing the following line in app/controllers/InvoiceController.php to use strftime.\n$invoice->invoice_date = Utils::fromSqlDate($invoice->invoice_date);\n. strftime expects a timestamp so you'll probably need to convert the invoice_date field. \n. The data is cached, after modifying it you need to load a page with Cache::flush() un-commented in app/routes.php or run \"sudo php artisan cache:clear\" from the terminal. \n. The German date format has been added.\n. This was a good suggestion, thanks!\n. Thanks for the fix!\n. Thanks for reporting this. \n. Finding bugs is help enough... \n. Agreed, this has been corrected. \n. Thanks for your help!\nThe code for the PDFs is stored in the javascript field in the invoice_designs table. You can modify it in the following migration: 2014_10_06_195330_add_invoice_designs_table.php \n. I believe the following would be the best approach, don't feel obligated though as this would be more work. Whatever you don't do I hope to do eventually.\n- Move the Javascript for each of the invoice designs to their own file under a new folder called app/ninja/invoice_designs/\n- Change the existing migration to read the JS from the new files\n- Create a new InvoiceDesigns seeder which updates the designs also reading the JS from new files\n- Change the logo upload code in the saveDetails function AccountController.php so it only modifies the file if it's GIF or larger than allowed.\n- Add support for both JPG and PNG in the invoice designs\n. This will be included with our next release. It should already work with the code from GitHub. \nNote: you need to use the new PDF renderer. \n. Not sure about this one... maybe it should be an option to enable/disable editing of the field. Would that comply? I'm sure many people like being able to change it.\n. We'll include it with our next release. We'll add a .env setting which when enabled will prevent an invoice from being changed once it's been marked as sent. . Thanks for the feedback, I'll look into it.\nYou should still be able to send emails for /invoices . The locking feature only prevents users from changing the invoice details, not the company settings which affect the invoice. . Amazing, thanks!!!\n. Agreed. We're working on making the PDF layout more customizable in general. \n. This has been implemented. \n. We've hesitated to add VAT, ID, etc.. fields as each country has its own specific rules. The thinking was that custom fields provided the same functionality as well as allowing for the label to be customized. \nThat said I like the approach wherein we'd have the rules defined on a per country basis. It's a far better user experience. We're working on i18n in general... \n. Thanks again!\n. I was just looking into you issue now, looks like you beat me to it..\nThanks for checking in the fix! \n. Thanks very much for your help!! \n. Thanks again!\n. These changes are amazing, thank you!\n. Brilliant, thanks for the changes! \n. Thanks again!\n. Thanks!\n. Brilliant, thanks for your help! \n. You can see more details about the error in app/storage/logs/laravel.log\nIf you're updating an existing site check that you've run composer install and php artisan migrate. \n. Run php artisan migrate --seed to initialize the database once you've pushed the code and set the config files \n. Thanks for sharing your Boxfile changes. \nTry enabling debug mode in app/config/app.php to see the details for the error \n. Try running chmod -R 755 app/storage\n. Here are some things to try, please re-test after each one to determine which helps.\nphp artisan cache:clear\nchmod -R 777 app/storage \ncomposer dump-autoload\nFrom: http://stackoverflow.com/questions/23571045/laravel-permission-denied-in-storage-meta-services-json\n. Thanks for sharing this.\n. Check app/storage/logs/laravel.log for more details on the error. \nNot having a valid session could redirect to you the login page. \n. I've reworked this migration into the initial database schema, it should now work with sqlite. \n. This can now be accomplished by customizing the invoice design. \n. I'm not sure. We saw this error in the past but it was resolved by adding the methods to app/models/User.php.\n. We use the original invoices as the payment receipt. After making a payment the invoice is updated to show the amount paid to date and the balance is set to 0.\nIt might be helpful if we added a \"PAID\" image to the invoice.\n. The query looks like a 'ninja_' prefix is being added to all of the table names. Is possible you have a table prefix configured.  Please check to make sure the 'prefix' value in your database.php file is blank. \n. Did you set the 'ninja_' prefix or was it already set?\nYes, you'd need to re-create the database.\n. Thanks for the explanation. We'll try to fix it in a future release. \n. @codedge Sure, that'd be great. \nPlease make sure to create the pull request against our develop branch.\n. Are there any errors in the console, did any of the files fail to load?\nThanks\n. Thanks @nmkr, I'll take care of it. \n. It looks like this was caused by the Grunt build script. We'll have a fix for this in the next version. \n. I've included a fix for this with the latest release\n. I agree, this will be fixed in the next release. \n. That'd be great. Here are two guides I found very helpful:\nhttps://help.github.com/articles/fork-a-repo/\nhttps://help.github.com/articles/using-pull-requests/\n. I've included a fix for this with the latest release\n. Thanks for catching this. I've commented out the duplicates. \n. Thanks!\n. We usually suggest people set that info as the default invoice terms on the /company/notifications page.\nWe may be able to email the PDF using something like PhantomJS. The benefit to sending the URL is it enables us to track when the client views the PDF but I see the benefit of supporting adding it to the email.\n. This can now be accomplished by customizing the invoice design.\n. Thanks for sharing this!\n. This should now be resolved. \n. Thanks for sharing these changes!\n. This feature has been implemented. \n. Thanks for submitting this. I noticed you set the precision to 0. Is it working well for you, adjusting the precision is a bit untested. \n. Sorry for the delay, I'll try to work on this today. \n. The precision setting seems to be working, however the the currency symbol \u20ab isn't supported by the PDF generator we're using. It doesn't have full UTF-8 support.\nIs there another value that can be used as the symbol?\n. Thanks again!\n. It sounds like you may not have mod_rewrite enabled. 'Setup' isn't a folder, it's a Laravel route defined using the path.\n. Also, check that you have the .htaccess file. \n. The library we're using to generate the PDFs doesn't yet support UTF-8.\nhttps://github.com/MrRio/jsPDF/issues/12\nIf they add support our system should just work, otherwise we'd need to change over to a different PDF library to support this.\n. The dashboard doesn't currently support multiple currencies. We plan to fix this in an upcoming release. \n. We use pdfmake to generate the PDFs, we need the library to support it to enable it in our app.\nhttps://github.com/bpampuch/pdfmake/issues/315\n. I'm sorry, there isn't much I can do. We're both waiting on support being added to pdfmake. \n. Could you explain the first point. We have a customer Id filed, but I'm not sure what you mean by 'shown at the invoices (german jurisdiction)'.\nThe templates are stored in the invoice_designs table. If you make any changes you need to clear the database cache for it to be reflected in the app. \n. Thanks, I see. \nThere is a customer Id fields for the client but it must be filled in manually and we don't enforce that it's unique. We do provide every client with a unique Id (it can be seen in the URL. ie, /clients/1) but we don't support showing it on the invoice. \n. Here are two possible workarounds:\n\nApply a unique constraint to the table.\nAdd 'ID Number' as a custom client field on /settings/invoice_settings to enable searching by it. You'd then need to switch the fields on /settings/invoice_design#invoice_fields\n\nOur app doesn't support multiple currencies for a single client. We currently advise adding the client twice, adding a unique constraint would prevent this from working.\nWe'll look into adding auto-suggest and search by ID Number\\VAT number in a future release. . Sorry, that isn't supported. . I think you'd need to modify the JavaScript code. . That'd be great, thanks! Let me know if you have any questions about the code.\nI just checked in a bug fix for the dashboard page (hiding quotes) so I'd advise updating your codebase before starting on any changes. \n. I think the styling is ok for now, it's obviously much more important that the data is correct.\nI'll aim to test\\merge this later today. Thanks again! \n. It works great. Thanks again for your help!\n. Thanks for reporting this. We just added support for multiple currencies to the dashboard, it's likely it's related. I'll take a look... \n. I've corrected the dashboard query to address the problem.\nAllowing the client currency to be null is by design. It allows for the client currency to inherit from the account setting which is the system wide default.\n. I've just re-tested it and it appears to update the client balance correctly when editing an invoice after it's been paid. Maybe I'm misunderstanding you. \nHere's an example test:\n- Create invoice for $100 - client balance is $100\n- Enter payment of $100 - client balance is $0\n- Update invoice to $150 - client balance is $50\n- Enter payment of $50 - client balance is $0\n. We'd definitely like to make it clearer that the invoice has been paid. We're considering add a PAID stamp to the PDF.\nSome of our users need to be able to update the invoice after a payment has been made. For example, they'll use a single invoice to charge a deposit and then the final remaining amount. \nOn a related note, we've been asked to make the invoice number non-editable. Maybe we can make these advanced security settings which the user can opt-in to. \n. https://github.com/hillelcoren/invoice-ninja/compare/v1.6.0...v1.6.1\n. Thanks for your help!\n. I checked in a change to this query a few hours ago, I just want to check you're using the latest code. \n. Thanks for letting us know about this. I've just released a fix. \n. That's a good suggestion but implementing it is more complicated than it should be. \nI'll work on it for the next release. \n. I've checked in this feature.\n. If emails for new users are being sent then your email settings (in app/config/mail.php) are clearly correct.\nIs it possible that the invoice emails are getting blocked by a spam filter? \n. I've just checked in a fix for this issue.\n. Thanks for your help!\nI'll check-in the correction later today. \n. Thanks for contributing. The reason this info isn't in the readme is because it should all be handled by the setup utility the first time the site is loaded.\n. I'm not sure why you wouldn't see it. It isn't a composer post-install but rather a custom setup utility which creates the config files and sets the app key. It's only shown if the tables don't yet exist.\n. That'd be great, we're always looking for more contributors. \nI usually wait for the person who created the issue to close it after I comment that it's been fixed (so they can review it). If you see any that should be closed please let me know.\n. Amazing, thank you!\n. I'm not sure I fully understand, but.. you can create credits and then use them when creating payments by selecting \"Apply credit\". \n. Currently the only way to create a balance is to create an invoice. You can see the incomings/outgoings listed under the Activity tab on the client page. \n. This may be a bug. When you first installed the app did you use the setup page? \n. As a workaround try setting your database credentials in app/config/database.php\n. Thanks for your help!\n. I've just checked in a fix for this. \nIn the last release we changed the default environment name from 'development' to 'production' not realizing that Laravel treats the 'production' config differently and doesn't read config files in its folder. I've changed the default back to 'development'. \n. To fix your app:\n- Change the value in bootstrap/environment.php to 'development'\n- Rename the folder app/config/production to app/config/development\n. I found an additional problem. The config generator wasn't creating the database.php config file in the right format so the values weren't getting loaded. Check that your app/config/development/database.php looks like this...\nphp return array (\n  'default' = 'mysql',\n  'connections' => \n  array (\n    'mysql' => \n    array (\n      'host' => 'localhost',\n      'database' => 'ninja',\n      'username' => 'ninja',\n      'password' => 'ninja',\n    ),\n  ),\n);\n. Thanks!\n. Thanks for letting us know. We're just just wrapping up work our new homepage design so this problem should fix itself soon. \n. Thanks for the explanation. I've tested it, the change seems to work as expected. \n. I agree that a quote should have an \"Accept\" button, we hope to add this feature soon. The problem with the text is either an issue with lang file or a mistake in the PDF design. \n. I've found the problem with the quote labels and just checked in a fix. \n. Thanks for the improvements! \n. Thanks!\n. What was the problem, can we prevent it?\n. Thanks for the correction. \n. I'm having trouble replicating the issue. I've tested in development with the latest code and at https://www.invoiceninja.com which is running v1.6.1.\n\nCould you provide exact settings/steps (if there are any). \n. I see, thanks. Yes, the labels are required, we need to add validation to the UI.\n. This has been implemented\n. If you don't plan on sharing your changes you can edit the built.js/built.css files directly.\nFor Grunt to work you first need to run bower install to download the JavaScript libraries. \n. Great, happy to hear it worked. \n. Thanks again!\n. First off you may want to backup your data just in case....\nYou should just need to copy over the latest zip and either run php artisan migrate or call /update.\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v1.6.1a.zip\n. Thanks for the screenshot, we'll look into it. \n. I've just checked in a fix for this issue, it'll be included with the next release.\nThanks for letting us know. \n. It's there, I think it's just black text on a black background. I'll look into fixing this.\n. I've just checked in a fix for this. \n. Thanks again for your help!! \n. Thanks for fixing this, sorry for not spotting the problem in the merge.\n. I'll look into combining two of the pages so there are less options in the menu\n. Thanks for the fix\n. Thanks for reporting this. This was a bug, I've just checked in a fix.\n. The current height seems to match the text, should I close the pull request? \n. Thanks for reporting this. The problem is related to us only supporting up to a precision of 2 for the item cost. I've just checked in a fix. \n. No. It will be updated with our next release (v1.7.0). We're hoping to release it within a week.\n. Sorry, no. We currently don't support costs with a precision greater than two.\n. The value could never actually be entered, after saving the app rounds the precision to two.\nWe'll definitely consider adding it in the future. I'll rename the issue to track it. \n. Sorry, I'm not aware of a workaround. \n. No, it was just implemented for invoice line items. For example you may want to sell 10 items at 10.001 which would cost 100.01.\nHow would it be useful with expenses, they're just a single cost which should always have 2 digit precision. Can you explain your use case?. Thanks, we'll look into it.. I'm not sure how to fix Composer but you could copy the vendor folder from the self-host zip as a workaround.\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v1.6.1a.zip\n. I'm not able to replicate this. Any chance you're testing with multiple accounts? Here's the line of code in InvoiceController.php which determines whether or not to log a view activity:\nif (!Session::has($invitationKey) && (!Auth::check() || Auth::user()->account_id != $invoice->account_id))\nIt shouldn't track the activity if you're logged in as long as you belong to a different account as the invoice. \n. Thanks for getting involved with the code, If you have any questions let me know.\nWe're planning to upgrade to Laravel 5. One issue we need to solve is upgrading Confide, a library we use for password confirmation/reset emails. https://github.com/Zizaco/confide/issues/322\nAs per our license you don't need to keep your changes open source (although of course we appreciate pull requests). The main requirement is that our logo and the \"Powered by Invoice Ninja\" footer remain in place.\n. That'd be great, I'm all for less dependancies. \nThanks for your help, it looks like you're making great progress. Feel free to add yourself to the contributors list. \n. Great implementation, thanks for adding the feature! \n. Thanks, that's a great solution. \nSorry for any wasted effort but I should tell you we're in the process of removing PHP-Payments. We've hidden it as an option are now removing the references in the code. We were only using it for two gateways, the vast majority (>30) are supported by Omnipay. \n. Amazing, thank you very much!\n. You can probably hack this to work by removing all calls to onDelete('cascade') in the migration files.\nThe only time records are deleted is when a user closes their account. \n. Assuming you could implement it in a way which wouldn't affect our support for other databases I'd be happy to merge in your changes. The more of the major databases we can support the better. \n. Thanks for this work, it's a highly requested feature. We're just about to release a new version so I'm holding merging any pull requests. \nThere's one change I'd like to make. Rather than use the AjaxController the PDF data can be sent along with the save request. This would provide a shorter wait time for the user.\nIf you can make the change it'd be great, otherwise I'll handle it after merging.\n. Amazing, thanks! We've started working on the next release, this feature will definitely be included. \n. SSL isn't required. Is there an error message?\n. I'll add a flag in the next release. For now you can enable PayPal sandbox mode buy commenting out the if (Utils::isNinjaDev()) line in createGateway() in app/controllers/PaymentController.php \n. Are you running the latest code from GitHub? Also, are there any errors in app/storage/logs/laravel.log.\nThe designs for the invoices are stored in two places. The generic functions are in public/js/script.js and the template specific functions are stored in the invoice_designs table.\nIf you make any changes to the JavaScript you'll need to run grunt to re-create the built files. To the clear the database cache temporarily uncomment Cache::flush() at the top of app/routes.php.\n. We've just released the latest version (v1.7.0) to https://www.invoiceninja.com/. Can you check if you're seeing the error there.\n. This looks good to me.\nI'll update the readme to ask people to only create pull requests against the L5 branch, I think it'll likely be hard to merge in any changes from the master branch.\n. Thanks for letting us know. We'll make sure it's fixed in the next release. \n. The fix has been checked in.\n. If you're able to the 'custom fields' feature enables you to specify your own fields without needing to modify the code.\nTo load the data in the frontend you'll need to make sure you bind the input to the new field. \n. Understood. Are you still having trouble?\n. Have you been able to setup binding for your new field, for example. \n{{ Former::text('invoice_number')->data_bind(\"value: invoice_number, valueUpdate: 'afterkeydown'\") }}\n. It looks like you're binding to \"ncf_number\" however that isn't a property on the invoice, it's a property of the NcfModel class. \n. Is this still an open issue?\n. Thanks for letting us know. It seems to just be an issue with Firefox, we're looking into it now. \n. The issue should now be resolved. Thanks again for the heads up. \n. Thanks for reporting this. It seems like an obvious problem but I haven't seen it in my dev or production environments. I think the reason is I'm using a virtual host which enable me to access the site using.\nhttp://ninja.dev\nRather than...\nhttp://localhost/public/ninja\nUsing ninja.dev, '../images' becomes ninja.dev/images which works. I'll look into fixing it so the URLs are correct regardless of the site configuration.\n. The URLs have been corrected.\n. I've just checked in changes to support these features. \nI'm still working on the setup script though as it's failing to create the initial user. \n. Since public_id is unique per account the chances of this happening are extremely low. That said, there's always a chance...\nIf this does happen we should at least show the user their completed form with an error rather than a 500 screen.\n. Transactions should be implemented, we'll aim to add it in a future release. \n. @JeramyMywork \nAfter un-commenting the code it appears to work.\n. This should now be resolved.\n. This has been fixed.\n. Thanks for the tip, we'll include the change in the next release. \n. We've checked in the change to the develop branch, it's a big improvement. \n. It looks great.\n== Admin Mock-up\n- \"One time item\" may be clearer than \"Single items\" as single may be confused for describing quantity. Also, it'd be consistent with the PDF.\n- Ideally, the changed layout should only appear if the user has enabled the feature in their account settings.\n- Another solution to consider is to keep the layout as is and simply add a \"recur\" checkbox next to each invoice line item.\n== PDF Mock-up\n- Should \"paid to date\" be listed multiple times, would it be tracked separately in the invoice.\n- Is the plan to add support for all designs or just one to start. The way the PDF template code is implemented each design implements it's own header for the invoice items and then shares a function to display the items.\n. It looks good but I think it would also be ok to just use a simple checkbox (rather than a \"one-time/monthly\" selector). With a column labeled \"Recurring\" I think it'd be clear to the user that checked is recurring whereas unchecked is one-time.\nAssuming you can convey the same information I generally lean towards less is more. If you decide to use a button group would the label (ie, \"Monthly) update as the user changes the recurring period? \nAlso, I notice you've added \"Due Date\" to the recurring settings. The challenge is the due date is a relative value and will change for each generated invoice. If you set the payment terms for the client (ie, Net 14) the due date will automatically be set for when the recurring invoice is generated. \n. After giving this more thought it may be better not to include this feature in our repo. This solves a particular use case, if/when it comes up we could advise people to use your app.\nWhat other features are you planning on adding?\n. Thanks, yeah.. I'm pretty sure. It's just not a common enough use case for it to justify the extra complexity in the code. \n. Thanks for your help!\n. Agreed. We'll try to add this in a future release. \n. This has been implemented \n. Sounds like a plan... please instigate. \nThanks \n. No worries, I've updated the README. Feel free to modify it later. \n. @JeramyMywork \nI'm not able to replicate this. I've checked in a change to the invoice email, could you please try it with the latest code to see if it helps\nhttps://github.com/hillelcoren/invoice-ninja/commit/ad83054227c78b9d905dd3bbb2b988e2efbb46f9#diff-ff18924aa2bf8ac85433fccd3ef42508\nThanks\n. I've heard complaints about this from users on L4. I'm going to disable this code for now as it's not active until Google whitelist us for one-click actions. \n. This is now an optional setting\n. Can you try running composer update\n On Apr 6, 2015 4:37 PM, \"Salahuddin Hairai\" notifications@github.com\nwrote:\n\nHappened when I ran composer install\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/289.\n. Are you using master or the 1.7 branch?\n On Apr 6, 2015 5:13 PM, \"Salahuddin Hairai\" notifications@github.com\nwrote:\nstill same\n[image: screen shot 2015-04-06 at 22 07 36]\nhttps://cloud.githubusercontent.com/assets/156899/7005317/78815012-dca9-11e4-9adc-fc672f2a1de9.png\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/289#issuecomment-90078412\n.\n. I think the problem with the 1.7 branch is that webpatser/laravel-countries has updated to Laravel 5. You should be able to fix it by setting the version 1.3.4 in composer.json.\n\nI saw the same issue on master a few hours ago and checked in a fix. You may just need to run git pull. \n. Amazing, thanks!\n. I'm away for a few days, I should have it ready to test on Sunday.\nThanks for the offer to help.\n On Apr 9, 2015 10:51 AM, \"Bj\u00f6rn Bang\" notifications@github.com wrote:\n\nNo problem :)\nIs there anywhere I can test a build with swedish (I'm sorry for not having\nthe time / php knowledge to set up a dev enviroment locally) before\nrelease, to check the translations a little more in context ?\nPlease remember to upgrade the account canerholm@gmail.com\ncanerholm@gmail.com to pro for a year...\nUnfortunally php isn't my favorite language, so can't help you out very\nmuch there...\nBut if you need some .Net, C#, UI/UX, HTML, CSS, javascript or swedish help\ndon't hesitate to ask :) !\nI'll also try to put some more time into using the app and give you\nfeedback. If that's useful for you..\nregards,\nBj\u00f6rn\n2015-04-08 20:46 GMT+02:00 Hillel Coren notifications@github.com:\n\nAmazing, thanks!\n\u2014\nReply to this email directly or view it on GitHub\n<\nhttps://github.com/hillelcoren/invoice-ninja/pull/290#issuecomment-91001592\n.\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/pull/290#issuecomment-91142512\n.\n. I've checked in the migration to test out Swedish. This should work if you're testing from GitHub, it'll go live on our main site with our next release.\n\nI've also updated your account. Thanks again for your help! \n. I'm reluctant to add this to master. No one's ever asked for it which implies the demand is relatively low. This would require adding a client_contacts table which would add a fair amount complexity throughout the app.\nIf you do implement this rather than having a separate page (which may result in a cumbersome workflow) you might want to consider enabling the user to select an existing contact when creating a new client.\nCould you explain your use-case in more detail, maybe there's another solution. \n. Thanks for the change, this should fix https://github.com/hillelcoren/invoice-ninja/issues/271\n. Thanks for the enhancements. \n. With our new PDF engine this should no longer be a problem \n. Thanks!\n. What version of the code are your running?\nIt may be related to this issue: https://github.com/hillelcoren/invoice-ninja/issues/277\n. Can you check your logs (Laravel and Apache/PHP) for more details on the error.\n. Can you try with the self host zip:\nhttp://www.invoiceninja.com/knowledgebase/self-host/\n. The self hosted version is using Laravel 4 so the DOTENV file isn't used. \nCheck that key is set in app/config/app.php. \n. I'm guessing it skipped the setup page b/c the database was already migrated. I'd suggest re-creating the database. \n. In order to use the setup screen make sure you don't manually run the migrations. It's handled by the setup process. Simply drop and recreate an empty database. \n. The setup script should create the DOTENV file for you. Please check the logs for any more errors. \n. Thanks for the screenshot, I've just checked in a fix. \nNote: these latest changes also include a new database migration so you'll either need to run php artisan migrate or load /update. \n. You should just need to do a git pull, you can leave your DOTENV file as is. \n. Try the following...\ngit checkout composer.lock \n. Thanks, I'll close the issue.\nThe Laravel 5 upgrade was completed recently, let me know if you run into any other problems.\n. We don't currently support product level custom fields. For now you'd need to add the information to the description field. \n. The invoice fields are designed for numeric amounts, for example \"Shipping\". The code is trying to parse out numbers from the values. We could consider allowing non-numeric values but I think the better solution would be custom product fields.\n. There are no stupid questions. \nThanks for the suggestion, I'll leave open the issue and rename it.\n. This has been implemented\n. Amazing, thanks again!!\n. Hi, are you using master or the 1.7.x branch?\nIf you haven't already please try running composer update. \n. Thanks for the heads up, we'll try to implement support in a future release. \n. Amazing, thanks!!\n. I've seen this error with latest version of Chumper Datatables. Can you check that you ran 'composer install' (rather than 'composer update'). \n. Thanks, lets us know if you need any enhancements to the API. \n. I'm not sure how you're server is configured so it's hard to debug. \nCan you try the following URL (without '/invoice'):\nhttp://192.168.1.107:1952/setup\n. Can you check storage/logs/laravel.log for any more details on the error. \nYou can skip the setup by calling 'php artisan migrate --seed' and then loading /invoice_now, but I think it's likely there problem's elsewhere. \nHave you seen this guide for Apache setup: http://blog.technerdservices.com/index.php/2015/04/techpop-how-to-install-invoice-ninja-on-ubuntu-14-04/ \n. Thanks for letting us know. \n. I'm having trouble replicating this, could you check for any error details in storage/logs/laravel.log.\nThanks\n. Can you try turning off debug in the .env file to see the API results better. \n. Can you check your apache/php logs for any errors. \n. Also when you say 'nothing is returned' do you mean blank or an empty array (ie, '[]').\n. Anything in the PHP logs?\n. It depends on your configuration but they can be logged there. If it's returning blank it would imply it's crashing, I'd expect to see server errors.\nCan you try running chmod -R 777 storage\n. We pass the token in the header so you can't use a browser address bar. If you'd like to test without a token in the browser you could temporarily remove \"'middleware' => 'api'\" in app/Http/routes.php.\nCan you add some debug in the index() function in app/Http/Controllers/ClientApiController.php to see where it's failing. It also may be worth double checking the laravel.log. \n. Thanks for tracking this down. To fix it change null to $next($request);\nThis code is disabling the rate limiter if you're not using the invoiceninja.com API (ie, you're self hosting the app). I'll check in a fix soon.\n. Thanks for letting us know, sorry for taking up your time with this. \n. If you ran composer update to upgrade to the latest version please try running composer install\n. Can you run the following command and send me the results.\ncomposer show -i | grep chumper\n. I think the problem is related to your version of Chumper, I have the following:\nchumper/datatable                     dev-develop 7fa47cb\nA hack fix would be to copy the chumper folder from the self-host zip\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v2.0.1.zip\nOtherwise, you may be able to fix this by clearing your composer cache, deleting your vendor folder and then running composer install again.\nI'll try figure out why the app's failing with the latest version of Chumper\\Datatables.\n. Great, sorry for the trouble. I'll try to track down the root problem, something must have changed with the Chumper library... \n. This has been fixed.\n. Thanks for the fix!\n. I think adding a call to env() in app.php is a good idea. I agree the multiple settings can be confusing but at least with this change you could set it and update the app without overwriting your settings.\nRegardless of settings, recurring invoices may be a little late but they should always go out. We track the last sent date to ensure we don't miss sending any.\n. Can you test sending email with a different provider?\n. I don't believe this is a problem with our app. You should be able to use any email account you'd like. If you're using the latest version the settings can be configured in the .env file.\nYou may want to try setting it up yourself:\nhttps://www.invoiceninja.com/knowledgebase/self-host/ \n. Can you check you're running the latest code, the following change should have fixed this problem:\nhttps://github.com/hillelcoren/invoice-ninja/commit/19c1a33d52dbc7d5bb10c71d3d4f667a049d703f#diff-4b048460e13bb9bd2be2f2487585f6cc\n. We don't support rolling over extra payments to pay past invoices. You would need to create two separate payments, one for each invoice.\nPartial amounts only apply to when a client makes a payment. It must be greater than 0 and less than the invoice total. \n. Delete the $100 payment then add the two separate payments.\nWe'll look into making a change to prevent this in the future.\n. Validating that a payment isn't larger than the balance is a good idea, creating a credit though might be unexpected behavior.\n. We've added a check to ensure you can't enter a payment greater than the invoice balance. \n. Thanks for reporting this, I've just checked in a fix.\n. @mistyk \nI believe this is a different issue, we're working on a fix for the next release.\n. This has been fixed.\n. Agreed, this is a problem. \nThe plan is to add checks to determine if the constants already exists, as in PaymentLibrariesSeeder.\n. We recently added: php artisan db:seed --class=UpdateSeeder\n. Thanks for the change!\n. Thanks for the changes!\n. I had trouble with these changes, here are the errors I'm seeing after running composer install.\nPHP Fatal error:  Class 'Collective\\Html\\HtmlServiceProvider' not found in /home/hillel/Dropbox/projects/Billing Ninja/hillel-NIX/ninja/vendor/laravel/framework/src/Illuminate/Foundation/ProviderRepository.php on line 150\nPHP Fatal error:  Call to undefined method Illuminate\\Support\\Facades\\Session::get() in /home/hillel/Dropbox/projects/Billing Ninja/hillel-NIX/ninja/vendor/laravel/framework/src/Illuminate/Support/Facades/Facade.php on line 213\n. While trying to fix it I noticed that HTML is defined twice in the aliases list in config/app.php, however removing the second reference didn't seem to help. \n. We mainly use Former but there are a few places where Form is still used. \n. I rolled back your other changes, you'll need to include them again. \n. Thanks!\nI had to manually merge the changes due to conflicts.\n. Thanks for letting us know, we'll include a fix with the next release.\nIf you'd like to review the code yourself this is handled in processVariables() at the bottom of resources/views/accounts/email_templates.blade.php.\n. Thanks for the suggestion. \nIf you setup multiple payment options (ie, credit card + paypal) then this may cause a problem as the user chooses the payment option from the invoice page, however it could be useful for people who only accept credit cards.\nThe variables are processed in two places:\n- JavaScript: processVariables() in resources/views/accounts/email_templates.blade.php\n- PHP: sendInvoice() in app/Ninja/Mailers/ContactMailer.php\n. Thanks again for your help with this. I've just checked in some changes, in particular I've changed the URL to show xxxxx/credit_card rather than xxxxx/PAYMENT_TYPE_CREDIT_CARD. \n. It's a good suggestion, of the two implementations I prefer B.\nWe'll try to include this in a future release.\n. This has been implemented.\n. Thanks for the fix!\n. The key part of the error is \"Connection could not be established with host smtp.mandrillapp.com\"\nCan you test with different SMTP credentials. \n. Can you check storage/logs/laravel.log for any errors.\nThanks\n. Have you tried a different email provider? \n. I think that issue should have been resolved with the following change: https://github.com/hillelcoren/invoice-ninja/commit/19c1a33d52dbc7d5bb10c71d3d4f667a049d703f#diff-a3f24b1a02437940eafb39b2835c9f87 \nPlease make sure you're using the latest code. \n. Great, thanks for letting us know how you fixed it. \nI wasn't aware of this problem, we'll look into supporting PHP 5.6 in a future release. \n. Thanks for updating with the fix.\n. Do you have the command you ran to fix it?\n. Gotcha, thanks!\n. I just ran into the same error, I needed to add -R to fix.\nsudo chown -R www-data:www-data /path/to/ninja/code \n. Thanks for the fix, the logo should be hidden on the payment page.\n. This should work. You'd need to set a value for 'Partial' on the invoice to accept the first payment. The client could pay the remaining balance with a second payment. \n. Thanks, that makes sense. \nThis is an oversight, the partial amount should carry over from the quote to the invoice. We'll correct it in the next release. As a workaround you can manually set a partial value in the created invoice. \n. Mistake, but it should be in v2.1.1.\n. With the latest code this should now work correctly. \nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v2.2.1.zip\n. That's a good idea, we'll work on it in a future release. \n. This has been implemented. \n. Thanks for the fixes!!\n. Copy over the new files and then load /update in the browser.\n On May 28, 2015 11:32 AM, \"mistyk\" notifications@github.com wrote:\n\nHello,\nWhat is the proc\u00e9dure too update to the new release ?\n(From 2.0.1 to 2.1 )\nThanx you So much.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/330.\n. Loading /update will run the database migrations\n On May 28, 2015 11:42 AM, \"mistyk\" notifications@github.com wrote:\nOK thanks , and no problem with database ?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/330#issuecomment-106233420\n.\n. It sounds like the database seeder hasn't been run. Did you manually run the migrations or did you use the setup page.\n\nYou could try running php artisan db:seed\n. Great, thanks for letting us know.\n. Are you using the self-host zip or are you getting the code from GitHub?\nIf from GitHub then make sure you run 'composer update' to get the vendor libs.\n. Thanks for catching and fixing this!\n. As an FYI, I ended up moving this fix to the controller.\n$data['invoiceLabels'] = json_decode($account->invoice_labels) ?: [];\nThanks again for your help!\n. This should be fixed by this recent change: https://github.com/hillelcoren/invoice-ninja/pull/333\n. It looks like the database seeder hasn't been run\nphp artisan db:seed \n. It looks like the database seeder hasn't been run\nphp artisan db:seed \n. Can you check that the currencies table is populated.\nselect * from currencies;\n. Can you check that the currencies table is populated.\nselect * from currencies;\n. Hmm... ok, thanks. I'll look into it now.\n. Hmm... ok, thanks. I'll look into it now.\n. One thing to try, add ?clear_cache=true and load the page. Maybe the cache was set before the table was populated. \n. One thing to try, add ?clear_cache=true and load the page. Maybe the cache was set before the table was populated. \n. Thanks for letting me know, I'll update the code to check for this situation. \n. Thanks for letting me know, I'll update the code to check for this situation. \n. Thanks :)\n. Thanks :)\n. Thanks for caching this and submitting the fix! \nWe'll make sure to include this change in the next release. \n. Thanks for caching this and submitting the fix! \nWe'll make sure to include this change in the next release. \n. This has been fixed. \n. This has been fixed. \n. Thanks for catching and fixing this!\n. Thanks for catching and fixing this!\n. Can you check the logs in storage/logs/laravel.log for more details. \nAlso, please make sure you're using the latest code. This was a problem in an earlier build. \n. Can you check the logs in storage/logs/laravel.log for more details. \nAlso, please make sure you're using the latest code. This was a problem in an earlier build. \n. A couple of thoughts:\n- Did you get the zip from GitHub or our site, if GitHub you need to use composer to install the vendor files.\n- Are you running PHP >= 5.4.0\n- It may be helpful to review the steps here:\nhttp://blog.technerdservices.com/index.php/2015/04/techpop-how-to-install-invoice-ninja-on-ubuntu-14-04/\n. A couple of thoughts:\n- Did you get the zip from GitHub or our site, if GitHub you need to use composer to install the vendor files.\n- Are you running PHP >= 5.4.0\n- It may be helpful to review the steps here:\nhttp://blog.technerdservices.com/index.php/2015/04/techpop-how-to-install-invoice-ninja-on-ubuntu-14-04/\n. You mentioned that the laravel.log is empty, have you checked the apache error log?\nThe laravel.log being empty can sometimes be due to a permission error. \n. You mentioned that the laravel.log is empty, have you checked the apache error log?\nThe laravel.log being empty can sometimes be due to a permission error. \n. No worries, all the best. \n. No worries, all the best. \n. Thanks, this looks great. We're just prepping to release this weekend but I'll merge next week. \n. Thanks, this looks great. We're just prepping to release this weekend but I'll merge next week. \n. Can you check that you're running the latest code and run composer update\n. Can you check that you're running the latest code and run composer update\n. I believe I saw the same problem. we list the hidden/optional fields at the top of https://github.com/hillelcoren/invoice-ninja/blob/master/app/Models/Gateway.php, a payment driver was changed which caused some hidden fields to fail validation. \n. I believe I saw the same problem. we list the hidden/optional fields at the top of https://github.com/hillelcoren/invoice-ninja/blob/master/app/Models/Gateway.php, a payment driver was changed which caused some hidden fields to fail validation. \n. See my comment above, I remember seeing this in the past.\nThanks again for all of your commits recently, you've been a tremendous help to the project!\n. See my comment above, I remember seeing this in the past.\nThanks again for all of your commits recently, you've been a tremendous help to the project!\n. The two are functionally equivalent, but the app was built before get() was available. We'll refactor this at some point to only use get() but it isn't high on our priority list. \n. The two are functionally equivalent, but the app was built before get() was available. We'll refactor this at some point to only use get() but it isn't high on our priority list. \n. Great, thanks!\n. Great, thanks!\n. - It's not currently possible. We're planning on reworking taxes, we'll keep this in mind.\n- If you enable \"Cyrillic Support\" on the \"Invoice Settings\" page you can then change the font size on the \"Invoice Design\" page. In the near future the Cyrillic version will become the default.\n- It's not currently possible. You would need to update the invoice number prefix field everyday. \n. - It's not currently possible. We're planning on reworking taxes, we'll keep this in mind.\n- If you enable \"Cyrillic Support\" on the \"Invoice Settings\" page you can then change the font size on the \"Invoice Design\" page. In the near future the Cyrillic version will become the default.\n- It's not currently possible. You would need to update the invoice number prefix field everyday. \n. This has been corrected, the activities are now listed in texts.php.\n. Isn't the Lithuanian language Cyrillic? \nIn the near future we'll be removing this setting as PDFmake will become the default PDF rendering engine.\n. The field has been removed, all invoices now use PDFmake. \nThanks again for your help implementing it! \n. Very much appreciated, thanks!\n. A good way to implement this could be enabling setting the email subject lines under email templates. We'd add an $invoice_preview variable to show the item description. \n. Thanks for the change. It looks like you've modified the built file so I can't merge it, it'd get erased the next time we run the build script. Another solution is to reduce the max-width on the following line in resources/views/header.blade.php. \ndiv id=\"myAccountButton\" class=\"ellipsis\" style=\"max-width:100px\"\nThat said we're planning to rework this section to support multiple companies in our next release.\n. If you check out the latest code I've changed from the word 'History' to an icon which should solve the space problem. \n. Thanks for letting us know, I'll see if I can replicate it. \n. We've updated to the latest pdfmake library \n. It's a good suggestion, thanks! We'll add it in a future release. \n. This has been added. \n. Thanks for the corrections! \n. I'll merge shortly... \n. Thanks again! \n. Brilliant, thanks! \n. Thanks again!\n. Thanks for the changes!\n. Once I've had a chance to test it I'll merge the changes. \n. The changes have been tested and merged.\nThanks again for your help!\n. Amazing, thanks! \n. Thanks again!\n. Agreed. It should be possible with something like PhantomJS (http://phantomjs.org/).  \nFor a future release... \n. This has been implemented using http://www.phantomjscloud.com\n. Thanks for the suggestions. We'd like to add client specific languages in the future, we'd also need to support multiple language email templates.\n- Which column are you referring to when you say \"article\". \n- Could you provide an example where uppercase strings are a problem for i10n\n. Thanks for the clarification, is capitalization different for specific languages? \n. Thanks for the example, understood. \n. As long as you can make it work on the client and server I'd be happy to merge your changes.\nWould setting $.fn.datepicker.defaults.language at the top of script.js work? You may also be able to change the order of the files in Gruntfile.js. \n. A new PR sounds good\n. Thanks for the fix!\n. Thanks! It shouldn't be too hard to implement, I'll try to add it over the next few weeks. \n. I've checked in support for tracking manual payments, you need to provide an invoice_id and amount.\nWere you looking to charge a card as well? \n. Are you running the latest code from GitHub or the latest zip?\nCan you check that the end date is specified for the report. \n. I've occasionally noticed that noticed that problem with the datapicker but haven't been able to reliably replicate it. I'll keep looking into it. \n. Thanks, this is good to know. We'll make sure it's resolved.\n. Which version of PHP are you using? . The app requires PHP 7. I'd suggest setting up a phpinfo page to confirm the PHP version . https://mediatemple.net/community/products/dv/204643880/how-can-i-create-a-phpinfo.php-page. Nice, thanks!\n. Although EntityModel is listed as extending Eloquent, in config/app.php Eloquent is listed as an alias for Illuminate\\Database\\Eloquent\\Model. \n. I've just checked in a fix for the maildelivery address being used.\nThe getResponse is specific to the Postmark API we're using. I'll work on making the code more generic for other mail drivers. \n. I've updated the code to check if Postmark is being used. \n. I'll look into supporting updating an invoice through the API\n. Are you thinking about it as an OAuth client or server?\n- For server we had considered this library: https://github.com/thephpleague/oauth2-server.\n- For client Laravel 5's Socialite library should work well: https://github.com/laravel/socialite\nIn either case help is always appreciated!!\n. This has been implemented. \n. Awesome, thanks!!\n. Assuming you're using our default PDF renderer (ie, you haven't enabled 'Cyrillic Support') you can either modify public/js/script.js and then run grunt, or if you're not familiar with grunt you'd need to modify public/js/built.js directly.  In either case search for \"invoice.invoice_footer\". \n. You'll need to change it to:\ndoc.text(layout.marginLeft + SOME_VALUE, top - (numLines * 8), footer);\nWe're working on switching over to a new PDF rendering engine (http://pdfmake.org/) which should make alignment changes easier. \n. Since it's a left margin the value depends on the length of the text. I'm working on the new renderer for the next release but it will be a few weeks. \n. Please send an email to contact@invoiceninja.com to discuss this further. \n. The next version will offer the ability to move/style all parts of the invoice. We'll be using the following library: http://pdfmake.org/.\n. Check that APP_URL is set correctly in the .env file \n. Have you run the latest databse migrations after upgrading, either by running \"php artisan migrate\" or loading /update in the browser? \n. This is most likely due to the use of the custom uctrans function (defined in app/Http/routes.php). We'll look into removing it. \n. Sorry for the trouble getting setup. We've recently made some large changes to support invoice customizations, this issue was a result of those changes. \nI've checked in a fix. This was the last step of the install so I don't think it affected your setup. \n. As a first step please try temporarily adding the following line to your .env file:\nALLOW_NEW_ACCOUNTS=true\nThis step is to prevent other people from creating accounts on a self-host install. \n. I haven't been able to replicate this but I did notice the email template was missing the proper header. I've corrected it with this change (https://github.com/hillelcoren/invoice-ninja/commit/abe3eb6367c4625d853f27f43fed641c4ea87215), it may help. \n. I've updated all of the text email templates, are you seeing the escaped chars in the html versions as well?\n. The email is sent as both text and HTML, it's up to the email client to figure out which to show.\nThese days most clients are set to show the HTML version. If you use Gmail you can use the 'Show Original' option to see the raw email.\n. I think these are two separate features, it may help to explain them.\n- Multi-user support: if you create additional users under user_management they will be able to login to your account and see all of the data.\n- Multi-company support: if you create an additional company you'll be able to switch between your companies using the switcher in the top right. \nDoes that help? The multi-company feature is brand new, we clearly need to explain it a bit better in the UI. \n. This has been implemented in the develop branch\n. I'm not able to replicate the problem so it's hard to advise. Do you see this problem with a fresh checkout of the code. You may want to consider using the self-host zip rather than get the code from GitHub.\nhttps://www.invoiceninja.com/knowledgebase/self-host/\n. Great, thanks for letting me know. \n. Try adding ?clear_cache=true to the end of the URL.\n. Make sure you load /update in the browser (rather than just run the migrations) as it runs a data seeder. \n. You may need to clear the cache using ?clear_cache=true after running the update.\n. Thanks for sharing your solution\n. Awesome, good luck with the work. \nLet me know if you have any questions about the code. \n. Your best bet is to use the current templates as guides. You can see the list of main variables starting on line 86 of public/js/pdf.pdfmake.js. \nYou can access any invoice variable by adding \"Value\" at the end. For example, $invoiceNumberValue or $client.nameValue. \n. Are you using the self host zip or the code from GitHub?\nCheck in resources/views/master.blade.php that the following code is commented out. \n$.extend( true, $.fn.datepicker.defaults, {\n        language:'{{App::getLocale()}}'\n    });\n. Please comment or remove the code and try again. \nWhen did you download the file?\n. Thanks for the info, I'll work on creating a dot release. \n. Awesome, thanks!! \n. Thanks for the suggestion. \nIt could be a setting on the payment gateway page to specify the amount to deduct. In the long run we'd like to handle expenses which this would fit into. \n. Done :)\n. We've heard this request from other users as well.\n. - We're using the custom invoice charges feature to store the gateway fee, you can select to use either the first or second custom charge.\n- You can determine whether or not the fee should be taxed using the 'Charge taxes' checkbox on /settings/invoice_settings.\n- The implementation only supports one gateway fee per invoice, you'd need to use separate invoices in place of partial payments/invoices.\n\n\n\n. Yes, it's added as a standard invoice charge so the invoice total increases to match. . I'm not sure about requiring a blank space to keep it empty.\nMaybe if the term/footer is different than the account setting we show a \"Load default\" link. This has the added benefit of letting you know the value is not the standard setting for the account. \n. This has been implemented. \n. That's a good catch. I agree, for quotes \"Valid until\" is a better label. \nI'll try to add this change in the next dot release. \n. Quote due date has been changed to valid until \n. Agreed, I think we need to implement inline documentation throughout the site. \nIf you haven't seen it we released a basic user guide a few months ago, it's still a work in progress. \nhttps://www.invoiceninja.com/user-guide/\n. Descriptions have been added\n. The code is currently always creating new products, and updating the cost and description if update is enabled. \nThis is clearly a problem when using one-time product keys. In the next dot release we'll change it to only create new products if update is enabled. \nYou can remove products from the dropdown list by archiving them in the product library. It won't affect existing invoices. \n. This should now be resolved, if it's unchecked we no longer create the product. \n. The decimal separator can be changed in the currencies table but I remember having a problem in the past when using a comma. \nIf you decide to try it after making any changes to the table you need to clear the cache by adding the following to the end of the URL:\n?clear_cache=true\n. Thanks!\n. Thanks again!\n. This is a mistake, thanks for creating the issue. \nIt'll be fixed in the next dot release.\n. This should now be resolved.\n. The \"Message\" property should only be checked for if you're using Postmark. Assuming you're not this change should resolve the error. \nhttps://github.com/hillelcoren/invoice-ninja/commit/d1166d415bee87ab53a51c588f506750d487d711#diff-362121e9080f4b3cd6c1f4195e16a64b\n. Great, thanks for letting me know. \n. Try loading /update in the browser. \nIn addition to running artisan migrate it also calls db:seed and optimize as well as clears the cache. \n. Wow, awesome!! \nThanks for sharing this fix, we'll include it in the next dot release. \n. Thanks again for your help! \nJust a heads up, we're planning on adding 24 hour time as an option so I've removed it from the format choices.\nRelated to this change I was working on another bug where strtotime was confusing d/m/y (EU) vs m/d/y (US). I've found in the PHP docs that if it the separator is a slash it uses US whereas for a dash it's uses EU, I've updated the formats to match this.\n. Thanks!\n. We're just wrapping up work on v2.4.0 but plan to include this change in v2.5.0. \nI like the per-client counter idea, we'll look into it. \n. We're looking to solve invoice numbers from being blocked but I think the invoice numbers need to be generated when the invoice is created. If we set it when sending people wouldn't get a chance to review it first. Additionally, many users send invoices manually.\n. That's a great idea, thanks! I'll make the change soon. \n. Hmm... it's never that simple. \nWe're also working on supporting restoring deleted records. If we clear the invoice number when it's deleted if the record is restored it's invoice number would be blank. It may also causes issues when trying to track down an invoice.\n. I'm not a fan of invoices existing in the system with null invoice numbers, for example if the invoice is restored it's in an invalid state. \n. Custom invoice number generation has been implemented \n. Could you describe what you mean by imprint, an example invoice would be very helpful. \nIs adding the info to the notes or terms fields an option?\n. Thanks, this is good to know. \nWe'll look into adding it in a future release. \n. This info should now be shown in the client portal dashboard.\n. Awesome, thanks! \n. Thanks!\n. Are there any errors in your browser console? You may want to try it with a fresh checkout. \nThe code is correct, calling preparePdfData should then call submitAction. preparePDF is used to attach the PDF to the email which isn't yet available for recurring invoices. \n. If you upgraded your site from a previous version make sure you load /update in the browser. In addition to running any database migrations it will also run the seeder and optimizer as well as clear the cache. \n. Have you loaded /update, it's required to initialized the new PDF designs. \n. Amazing, thanks!!\n. Amazing, thanks!\nSupporting translating the activity messages will require some code changes, it's planned for a future release. \n. Thanks for the suggestion. \nRelated to this could be enabling users to improve the translation directly from within the app. Creating a pull requests exceeds the average user's technical abilities. \n. We've made it a bit easier to add languages by creating a LanguageSeeder file. We're also working on implementing support for https://www.transifex.com/\n. Amazing, thanks!!\n. You can add a currency with the following steps: \n- Add it to database/seeds/PaymentLibrariesSeeder.php\n- Run: php artisan db:seed --class=PaymentLibrariesSeeder\n- Clear the cache by adding ?clear_cache=true to the end of the URL\nSupporting a custom currency is a good suggestion, we'll look into it for a future release.\n. Thanks!!\n. Can you try running this command:\nsudo chown -R www-data:www-data /ninja/storage /ninja/public/logo\n. Note: change /ninja to the full path of the app root folder. \n. I definitely agree that adding 'to' helps make it clearer. I'm generally not the biggest fan of italics but I'll let it sit for a while to see how it feels. \n. Agreed, this needs to be fixed. I lean towards option 2 using a helper function. Something like the following...\npublic static function transFlowText($key) {\n    $str = trans(\"texts.$key\");\n    if (!in_array(App::getLocale(), ['de', 'fr'])) {\n        $str = strtolower($str);\n    }\n    return $str;\n}\nThen in list.blade.php\n{{ trans('texts.show_archived_deleted') }} {{ Utils::transFlowText($entityType.'s') }}\n. That seems reasonable. I'd prefer to keep the texts lists as short as possible but obviously not at the expense of being grammatically correct. \n. @nerdoc, that's definitely worth considering. I'd also be open to simply having the full alternative values in texts.php. It seems likely there are grammatical cases we're not considering. \nThanks @trigras, that's good to know. It looks like trans_choice may be a good choice for handling quantities of items.\nhttp://laravel.com/docs/master/localization#basic-usage\n. Thanks!!\n. I've checked in a change for the statuses. There other fields still need to be supported. \n. The invoice statues are fixed but some of the others (Frequency, Industry, PaymentType etc...) remain,\n. Here are two options:\n- http://xdsoft.net/jqplugins/datetimepicker/\n- https://eonasdan.github.io/bootstrap-datetimepicker/\n. I've checked in support for the XDSoft date/time picker\n. I think it's using the current seconds, I'll look into it... \n. Done.\nI've also added the time details to the invoice line item description. This should (a) make the times clearer and (b) enable selecting a product/service to auto-fill the rate.\n. @matharim To test this you'd need to get the latest code from GitHub. Note: that requires using composer to install the third-party libraries. We'll create a new self-host zip in about 2 weeks. \n. Correct, you should just need to copy over the new files. \n. Great, thanks for letting us know.\n. Not sure about this one, we don't know if the user wants the time to start now or end now. I think the larger problem is being able to easily set any value which should be helped by #427. \n. Thanks for letting me know, I'll make sure this is fixed in the next release. \n. This should now be resolved.\n. I try to but I work from other sources as well, often times I fix bugs that I don't even remember are issues.\nWe've also started tracking our roadmap in Trello, I'll add links back to GitHub to track the issues.\nhttps://trello.com/b/63BbiVVe/invoice-ninja\n. Thanks for the update, I understand the problem now. I'll look into sorting on save. \n. I've just checked in a change to auto-sort the times. \nThanks again for your help!\n. I'm having trouble replicating the problem with the incorrect sum. Can you send me the raw data for the timestamps using the following query:\nselect time_log from tasks where public_id = \nI'll also look into changing when the sorting occurs. \n. Thanks for the suggestion. I hadn't heard of Swagger, it looks great. I'll work on implementing it in a future release. \n. Swagger has been implemented, although we need to add additional annotations. \n@stevro Thanks for the suggestion!\n. Agreed, we'll look into improving the field options when creating the client with the invoice.\nAs a workaround you should be able to use the API to first create the client and then create the invoice with the client. \n. Support for additional fields has been added to the API.\n. Thanks for submitting the changes. \nI noticed you're using a comma as the decimal separator, I've seen this cause some problems. \nie, https://www.invoiceninja.com/forums/topic/cannot-remove-empty-line-in-invoice/\nAlso, are you able to remove your details from the Capistrano config.\n. Agreed, using a comma definitely needs to be fixed. It just doesn't work yet... \nCould you split this into two PRs: one with the Capistrano files and another with the rest. \n. Thanks again for your help. I'm going to close the PR but feel free to add back the improvements in a new PR. Note: we're asking that people create future PRs against our develop branch. \n. Do you mean for example 10.00 vs 10,00\n. We're just wrapping up v2.4, this fix is planned for v2.5.\n. This has been implemented \n. From research online it seems that it's common to use the period separator for input. \nhttp://ux.stackexchange.com/questions/74369/is-a-decimal-comma-used-in-data-entry\nWhat do you think?\n. @kamranzafar \nWhether to show a comma or period for a client is determined first by checking the client's currency and then checking the account's currency. For Pound Sterling it should show a period separator, you can see the specifics here: https://github.com/hillelcoren/invoice-ninja/blob/master/database/seeds/PaymentLibrariesSeeder.php\n. Thanks for the info, I'll work on correcting it. \n. It should be implemented within 1 or 2 months. \n. I've checked in a change to support country specific Euro formatting. The formatting is currently specified at the end of the following file: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/seeds/PaymentLibrariesSeeder.php \n. We hope to get to it eventually however it's a non-trivial change. \nIn general, issues we don't plan to address are closed. . @marinus Are we talking about the same issue? This should only affect admin users creating invoices, recipients should see the numbers formatted correctly. . The formatting depends on the selected currency/country. \nWhich are you using?. Here's what I see with the South African Rand: R10.000,00\n. The article you linked says: \"tl;dr: The comma is the decimal mark for South Africa.\". I'm not sure about this change. We have many users in South Africa, this is the first time this has come up. \nIf you're self hosting you could change the app by updating the currencies table and clearing the cache.. Thanks for the suggestion! The title is a bit confusing, at this point the numbers are correctly displayed in the PDF however we require using 100.00 format when entering numeric values.. With v4.0 you should be able to use either format. . The tailing 0s are a bug, we'll make sure it's fixed. . Thanks! Noted, to be fixed.... Thanks for the info!. Thanks, I'll look into it... . The import process currently only support importing clients and contacts. We're looking into adding support for a full site import/export. \n. Rough timeframe is 2 months, we prioritize features based on user feedback.\nYou can track past releases here: https://github.com/hillelcoren/invoice-ninja/releases\n. Can you run select * from migrations to check which migrations have been run.\nCalling /update should run the migrations but you could try running it from the command line with php artisan migrate\n. It looks like the multi company support migration has been run but isn't listed in the migrations table. Try running artisan migrate again after running the SQL following query:\ninsert into migrations (migration, batch) values ('2015_06_14_173025_multi_company_support', 1);\n. Great, glad to hear it!\n. We're looking into making the upgrade process easier, at the very least automating running the migrations. \n. In the latest version the database migrations are run automatically, the only step required now is copying over the latest files. We'll look into automating this in the future as well. \n. Can you provide more details about the error. \n. Agreed, I'll make the change\n. Unrelated question, I'm working on changing the decimal separator in Europe to a comma (ie, 1.000,00). Has the number formatting been a problem for you?\n. What about the number formatting on the PDF?\n. Thanks, I'll make sure it's fixed\n. This should now be resolved\n. Agreed \n. Yup\n. Thanks!\nI switched to PSR-2 after starting the project, there's still a lot of tabs left. I'm looking into automating the cleanup. \n. Thanks!\n. I believe I've tracked down the problem. I was using gmdate to format the time which caused problems if the tasks was greater than 24 hours. \n. Amazing, thanks!!\n. Here's some more info related to this, it looks like upgrading xdebug may fix it...\nhttps://laracasts.com/discuss/channels/general-discussion/l5-maximum-function-nesting-level-of-100-reached-aborting/?page=3\nJust a heads up!\nThis is not a bug in Laravel, Symfony or anything else. It only occurs when XDebug is installed.\nIt happens simply because 100 or more functions are called recursively. This is not a high figure as such and later versions of XDebug (>= 2.3.0) have raised this limit to 256. See here:\nhttp://bugs.xdebug.org/bug_view_page.php?bug_id=00001100\nEDIT: In fact the latest Homestead provisioning script already sets the limit to 250. See line 122 here:\nhttps://github.com/laravel/settler/blob/master/scripts/provision.sh#L122\n. Agreed, thanks for the creating the issue.\nI'd prefer not to modify the autoload.php file but will consider changing it if more people report the issue. \n. Changed my mind, I've added the ini_set call to autoload.php.\nThanks again!\n. Agreed, I've checked in the change.\n. I only updated the English translation\n. Awesome, thanks!\n. We're in the process of hiring a technical writer to create a comprehensive user guide. The plan is to map the fields/sections of the app to the documentation.\nThe tooltips would show the brief description and would include a 'read more' link to view the relevant section of the docs.\n. I've renamed this issue to track what the remaining work is\n. Amazing, thanks!\n. Thanks for catching it, I've removed the function. \nWe ended up handling this all client side using http://momentjs.com/timezone/\n. I've checked in a change which I think should help.\n. Sure, feel free to close any bugs you think are fixed. \n. I agree the setting layout isn't idea and like your suggested changes. \nTo explain why things are the way they are... on our hosted solution all settings under advanced are only for pro users. All users can set the defaults terms/footer but only pro users can use the advanced invoice settings.\nIn general I think the advanced settings section is poorly laid out. We're looking into reworking the navigation in a future release, we'll keep this in mind. We're also planning to make all the features/settings searchable.\n. Yes, absolutely. This is just how things organically grew over time but we're definitely up for rearranging things. \n. I've checked in some adjustments. \nWe've moved the footer/terms to the invoice settings and the email signature to the company details.\n. Our Zapier integration is quite new so I'm guessing the problem is on our end.\n1) Is it possible you have 'show deleted/archived' checked. To ensure referential integrity no records are deleted from our system (unless you cancel your account).\n2) This sounds like a bug, I'll need to look into it.\n3) We're in the process of updating to Zapier V2 platform, I'll add the invoice due date as part of the changes.\n. 1) Try un-checking the checkbox in the top left of the page.\n3) Hopefully within a few days. \nIf you're using Zapier then you can set it in your zap, in a future release we're planning on adding invoice/product tax defaults. Note, we currently only support creating invoices with a single line item through Zapier. \n. 1) After invoices are deleted they remain in the list with the strikethough. Are you saying you deleted invoices and they no longer have the strikethough?\n2) Tax name and rate will be added soon. \n. Can you please clarify \"the same invoices reappeared automatically (the ones without the strikethrough)\". Are some of the ones without a strikethrough duplicates, if so which ones? \n. So (for example) invoice number 11357 was deleted (shown with a strikethrough) and now on it's own is undeleted? \n. I see the invoice is deleted in the database so it must be a display issue.\nI'll let you know once I've tracked it down. \n. I'm not sure, are you still seeing the problem?\n. There's currently an issue if you both attach the PDF to the email and use custom templates (https://github.com/wildbit/laravel-postmark-provider/issues/2).\nIf you're ok with only sending the HTML version of the email you can fix this by changing the top of  app/Ninja/Mailers/Mailer.php from:\n$views = [\n        'emails.'.$view.'_html',\n        'emails.'.$view.'_text',\n    ];\nTo:\n$views = [\n        'emails.'.$view.'_html'\n    ];\n. Sorry, I forgot that you're not self hosting.\nWe'll work on implementing a fix on our side. \n. Will do\n. I've deployed a fix, please let me know if you continue to see the problem. \n. For the due date try setting the payment terms for the client.\nThe tax issue looks like a bug, I'll work to include a fix with our next release. \n. If you set the payment terms for the client (for example to net 30) the invoice due date will be automatically set. \nI've just deployed a fix for the double tax issue, please try it again. \n. You can either set in the web UI when creating a client or set it when creating a client through the API. \n. To set the payment terms using the API you could first create the client and then create the invoice. \n. We're looking into supporting this as a single command. \n. We plan on enhancing our reporting in our next release. We'll work together to ensure you (and your accountant) are happy with the results.\n. Not yet, if you just need the payment terms field we should be able to include it in the next release. \n. Our last release was this past weekend, our next release will be in 3-4 weeks. \n. We've made some improvements to the 'Charts and Reports' page, for example you can now group the data by payment which shows some of the info you're looking for. We're also planning to continue to enhance the reports in the future.\nCan you double check that 'Attach PDFs' is enabled on /settings/email_settings\n. In our next version we've added code to automatically convert all links in the email to clickable links. \nAre PDFs attached if you send an email manually without using Zapier? \n. Can you please email the attachment to contact@invoiceninja.com, it didn't come through.\nThe only piece of data which appears to be missing from the report (when grouped by payments) is the tax breakdown, am I missing something?\nThanks\n. Thank you both\n. It's possible the German translations were added after the v2.4.0 release was created, can you check your local file at resources/lang/de/texts.php.\n. Any chance the statuses in your database are translated, they need to be in English for the code to work.\nYou can check with this query: select * from invoice_statuses;\n. That makes sense, we added support for translating the statuses in v2.4.\n. Thanks!\n. Agreed, we're considering overhauling this feature. Rather than create a user for each company, a single user record be used. \nWe'd like to implement Laravel Spark (https://github.com/laravel/spark) as part of this change but are waiting for it to be out of alpha.\n. You can run select id, email from users to see all users in your database. \nI agree this area is unclear and needs to be improved but there are many other key features which aren't supported at all, for the time being these need to take precedence.\n. 1. The safest way is to login to the account and delete it.\n2. Can you clarify what you mean by 'milestone', we aren't able to provide ETAs.\n. 1. You could manually update the email in the database and set the same password to login.\n2. We use our Trello board to track our planned work, once it's complete we hope to spend more time focusing on GitHub issues. \n. We're now redirecting directly to the 'new company' form when clicking 'Add Company'. . Thanks for the suggestion! We should consider developing a third-party module system to allow for custom functionality to be added.\n. Back by popular demand... . This will all be changed... \nSee: https://github.com/hillelcoren/invoice-ninja/issues/460#issuecomment-145320311\n. We've changed the app to skip the login page and show the 'New Company' form. \nIn the future we'd like to make the change suggested and verify the company info before creating it. . If you're using a period separator you must be using a custom value. \nTo clear the cache after updating the database add ?clear_cache=true to the end of the URL, but since you see it in the rest of the site then I don't think the cache is the issue.\nCan you check that you updated both the 'format' and 'picker_format' fields in the date_formats table.\n. Thanks!\n. Thanks!! \n. Thanks!\n. Thanks again!\n. Thanks for the suggestion!\nWe're planning on adding support for expenses and additional reports but it's unlikely we'll support double-entry accounting. \nIntegrating with another app is a good idea, we'll look into it. \n. This was on purpose, many users asked to see quotes on the dashboard.\nIn the next version we plan on adding a separate quotes section in the dashboard. \n. That's a good suggestion, thanks!\n. Thanks!\n. Nice, thanks!\n. For now I'd suggest re-creating the invoices manually. \nIn an upcoming release we'll be creating a tool to move data from one app instance to another but it likely won't be available for 4-6 weeks.\nYou can see the full roadmap here: https://trello.com/b/63BbiVVe/invoice-ninja\n. There is the option to use either the API or Zapier.com but if it's only a few invoices it's most likely not worth the trouble. \n. Assuming you have \"Email me when an invoice is paid\" checked under Settings > Notifications you should already receive emails for partial payments. Is this not working?\n. I understand now, that's a good suggestion. \nThanks! \n. Thanks!\n. We don't currently support sqlite. \nI've looked into this particular problem but I think there are other issues as well. I'll add it to my list but it likely won't be fixed right away. Are you able to use mysql? \n. I'm not able to get it to work either. I noticed we're using a slightly older version of the combobox, I've checked in the newer version but it doesn't seem to help.\nhttps://github.com/danielfarrell/bootstrap-combobox\n. Amazing, thanks!!\n. Thanks!\n. Thank you again!\n. We're working on setting it up with http://www.lingotek.com/\n. Thanks for the feedback. \nWe're planning on adding labels throughout the system (ie, for tasks, clients, invoice, etc). You should be able to use this similar to 'Project'.\nCan you explain the 'Task' option, is it the parent task?\n. Whether it's 'label' or 'project' it's just a word, it's a grouping mechanism as you described. You could use it to group things under projects whereas someone else may use it differently. \nAuto-complete for the task description, it's a good suggestion. \n. The best solution may be to have both projects and labels however we generally try to achieve more with less. For example, labels could have a 'category' attribute which would allows you to create 'Project Labels'. \nI'm not sure I understand why labels would make creating pie charts harder. Labels imply there could be a many-to-one relationship which seems to just add flexibility. For example, it would support assigning an client, invoice or task to more than one project.\nThis area is still in the 'spend time thinking about before coding' stage, your feedback is well timed and very much appreciated. \n. Thanks!!\n. Awesome, thanks for your help.\nSee https://github.com/hillelcoren/invoice-ninja/issues/427 re improving tasks time input.\n. Thanks!\n. There may be some more info here which is helpful\nhttps://www.invoiceninja.com/forums/topic/add-2nd-page/\n. Amazing, thanks again!!\n. Thanks!!\n. Have you tried using our 'partial' feature, it can be used to request a client pay a deposit. \n. I think I see the problem, the session wasn't getting cleared after updating. This should be resolved in the next release. \n. For Postmark you need to set the following two settings in your .env file, you can comment out the rest.\n```\nPOSTMARK_API_TOKEN=\nMAIL_FROM_ADDRESS=\nMAIL_DRIVER=smtp\nMAIL_PORT=465\nMAIL_ENCRYPTION=ssl\nMAIL_HOST=\nMAIL_USERNAME=\nMAIL_FROM_NAME=\nMAIL_PASSWORD=\n```\nThere are further instructions here related to open and bounce tracking. \n. Try running composer update\n. Actually, composer install is probably the better choice.\n. Thanks, I'll look into it. \n. Thanks!!\n. Our English documentation leans towards an informal style but I'll leave it to your judgment/preference for the German translation. \n. I'm not sure, I'm not able to replicate it yet but I'm still looking into it. \n. Thanks, which date format are you using?\n. Sorry for not responding to this, I must have missed it.\nWe've since decided we're only going to support MySQL going forward. \n. Thanks for the changes.\nIt looks like the composer.lock file may have been erased. \n. Thanks!!\n. Thanks for the feedback. \nNothing is enabled unless you login to Gitter,  maybe we should put it somewhere else... \n. It's been removed.\n. It's on our list but isn't our highest priority.\nWhich Laravel 5.1 project are you working on? If you're integrating our app as per our license please be sure to leave the \"Powered by...\" footer. \n. This has been checked into the develop branch. \nIf you find any issues please let us know. \n. We now support Laravel 5.2\n. Thanks for the fix!!\n. It isn't currently supported, you'd need to create two separate invoices. We'll look into it for a future release. \n. This has been checked into the develop branch and will be included in v3.5\n\n. There's nothing to enable, with v3.5 if you invoice a task you'll have the option to add standard items as well.. Around 2 to 3 weeks. Thanks for the change!\n. Are you using the latest code\\how did you install the app?\n. I've checked a fix for this into GitHub, we'll work on creating a new self-host zip as well. \n. Thanks for the translation! We need to automate translating the app. We're looking into enabling this for our homepage, once it's working there we'll use it for the app.\n. Looks great, thanks!!\n. Thanks, I'll make the change.\n. Thanks!\n. Sorry for the trouble, as you've found this was a bug in v2.4.5 which was fixed in v2.4.6. \n. Thanks, it's an important fix!\n. Amazing, thanks very much!! \n. Thanks again!! \n. Thanks!\n. I believe this should be resolved with the latest code in GitHub, we plan on creating v2.4.7 next week. \n. Awesome, thanks!! \n. Awesome, thanks!\n. Looks good, you're the expert :)\n. 1. Right and permissions is something we're looking into in the future, we'll keep this request in mind. \n2. You should be able to delete users on /settings/user_management\n. If you archive a user they're no longer able to access your account. \nLike most other data in the system, we can't fully delete it as it's referenced elsewhere. To ensure referential integrity we would need to cascade delete (ie, delete of the user's clients and invoices) which wouldn't be good. \n. Basic user permissions has been implemented.\n. Thanks again!!\n. Thanks again!\n. I'm not sure, the contents of the storage directory is checked into GitHub (https://github.com/invoiceninja/invoiceninja/tree/master/storage).\n. For new deployments you should start with the directory from GitHub. \nIf you have additional invoice templates they need to be manually copied to new install. \n. When setting up the app it's better to use composer install\n. I could see that being useful, but can you explain what's lacking in the reports.\nThanks\n. If you set the 'Group By' to 'Invoice' (or in older versions leave it blank) you should see the invoice details. \n. Awesome, thanks!!\n. Thank you!\n. It isn't currently possible to automate it, you would need to manually update the invoice. \n. We plan to add this in the future but it will likely be a while until it's available. \nTo implement it yourself you could add the code to the SendReminders command which is typically run daily (or create a new command). If you update the Invoice it should fire events to also update the activity log and the client's balance. To minimize the changes required I'd suggest using a custom invoice charge field for the penalty (/settings/invoice_settings).\n. Thanks!\n. Thanks for the suggestion! \n. We've added a popup with a list of the variables.\nNote: we've also added buttons. ie, $viewButton and $paymentButton.\n. Any chance you're using Sqlite? \n. Try turning off MySQL strict mode\nhttps://support.realtyna.com/index.php?/Knowledgebase/Article/View/535/39/how-can-i-turn-off-mysql-strict-mode\n. Scratch that... \nWhat version of MySQL are you using? Also, how did you install the app (GitHub or the self-host zip)?\n. I think this is the same issue, seems like disabling strict mode may help...\nhttps://github.com/laravel/framework/issues/3602\n. Amazing, thanks!!\n. Try removing your logo to see if it helps, if it does try uploading a smaller logo file. In the latest version we've changed the max file size to 200KB to improve the performance of the PDF.\n. Which OS/browser are you using, it should be a flicker while regenerating. You can try making changes here to see if it's the library or our implementation slowing it down.\nhttp://pdfmake.org/playground.html\nTo disable it you could add return false as the first line after function getPDFString(cb, force) in resources/views/invoices/edit.blade.php\n. Thanks, I'll take a look\n. Thanks again, although perfection can be hard to achieve it's certainly our goal... \n. Once you pointed it out to me it was pretty annoying... \nIt should hopefully be fixed now.\n. The action column title was removed because the column now serves two purposes. When 'show archived\\deleted' is checked we use the column to display the record's state (ie, archived or deleted). \n. Brilliant, thanks!!\n. This could be happening because of the following line of code: https://github.com/invoiceninja/invoiceninja/blob/master/resources/views/invoices/edit.blade.php#L865\n. I mainly use Chromium (Linux), I see the problem in Firefox. \n. I tested this again. It looks like it's only a problem when displayed as the placeholder in the textarea, in the PDF the line breaks appear correctly. \n. Ok, thanks for clarifying. I don't see a simple fix. \n. This feature is not on our upcoming roadmap, maybe in a future release... \n. We'll look into this, I have a feeling that inclusive taxes will be easier to solve than the rounding issues.. I've started looking into this. If an item cost 100 and has a 17% tax should the invoice item be\n|Unit Cost|Quantity|Tax Rate|Line Total\n|-|-|-|-|\n|100|1|17|100|\nor\n|Unit Cost|Quantity|Tax Rate|Line Total\n|-|-|-|-|\n|85.47|1|17|100|\nWould either be acceptable?. Also, would the following solution work?\n\nAdd option to tax rate form to select inclusive or exclusive\nWhen selecting an inclusive tax the costs are adjusted accordingly . Thanks! \n\nCan you explain why the setting should be per client. It seems a bit limiting to me, for example you couldn't have an invoice which has both inclusive and exclusive tax rates. . Is it inclusive or exclusive depending on whether it's a company or private person?\n. Thanks, I understand now. For this release there will just be a setting on the tax rate, we'll consider adding additional settings in a future release. . Some questions to help us debug the issue:\n- Are you self hosting the app or are you using invoiceninja.com\n- What version are you using\n- Are there any errors in storage/logs/laravel.log. \n- Are you using the 'reminders' feature\n. Thanks, that's helpful. The reminder cron should be set to run once a day, is it possible you've configured it to run more frequently? \n. Yes, please set each to run once a day at the time you'd like the emails to be sent. I'll also update the documentation. \n. Thanks again!\n. Thanks, I'll look into it.\n. It should now fit.\n. Thanks!\n. Awesome, thanks!! \n. Thanks!\n. If you're running grunt make sure you first run bower install to download all of the JavaScript dependancies. \n. Thanks for catching it, I'll take care of it.\n. The translations need to be added in Transifex otherwise they'll be overwritten \nhttps://www.transifex.com/invoice-ninja/invoice-ninja/\n. Transifex is set to automatically load new text strings from the develop branch. I imagine it should be available within 24 hours. \n. We try to write the code so it's self documenting, that said I'm sure more documentation would help.\nPossibly... can you send me a link to your project, I'd need to better understand how it improves on OmniPay. \n. If you decide to add some documentation that'd be great, thanks!\n. Always trying to add more...\n. I'll remove the c3.php file for now. It's meant to support code coverage with automated testing but doesn't yet work. \nRelated to this, I'd advise using composer install rather than composer update. We keep our composer.lock file checked in to ensure when running install we're all using the same versions.\n. Thanks for letting us know. We have two methods to display the PDF: using the browser's default PDF renderer and with Mozilla's pdf.js. We'll look into using pdf.js on Andorid.\nFor now you can force your account to always use pdf.js by loading /force_inline_pdf. Note: this will also affect your account on desktop browsers.\n. If you find generating the PDF a bit slow try testing without your logo, we've found larger logos can significantly affect performance.\nIn our latest release we've added support for Chinese which is very slow to generate. As a result we needed to add a 'Live preview' checkbox to the invoice page. You can test it by adding return true; at the top of hasLargeFont in app/Models/Account.php\n. Just to clarify... you should be able to use a logo, we just recommend using one with a smaller file size for the best performance. \n. Thanks for the feedback.\nWe've added a 'Live preview' checkbox when using the Chinese font, we'll look into enabling it for all fonts. \n. We've added a setting under /settings/invoice_design to support disabling the live preview feature. \n. I can replicate the problem, I'll make sure it's fixed. \n. This should now be fixed. \n. Thanks!\n. That's a reasonable approach, it may be helpful to have a sub-menu with the list of available companies.\nAnother option could be to use the API, you'd read from one company and then write to the other. \n. This should be fixed with the latest code, we're creating a v2.4.9 tomorrow. \n. Yes, you'd need to recreate the invoice. \n. Yes, I'd suggest deleting the invoice. \nAlso, check the client's balance afterwards. \n. This is by design, the application prepends an 'R' to automatically generated recurring invoices to help identify them. We may make this an optional setting in the future.\n. We've added the recurring prefix as an option in the settings.\n. I noticed this recently. One solution we're considering is to use the subdomain setting to identify the company. This may not work well for self-hosters though.\nWe hide the absolute ids to provide a nice multi-tenant solution, this way each company gets its own incrementing ids. \n. Works for me... \n. Sorry I wasn't clearer... Yes, I was saying your suggestion seems like a good solution.\nThe google plus link is a good example of why we use public ids. If I have that link do I have any idea what the link for the next record is? I believe incrementing ids improves the user experience, the program appears less computerish. I agree it adds complexity but building software is all about compromises. \n. Using /%account_id/invoices/%invoice_id the invoice_id would be a public account specific id. For account_id I lean towards using the value of the subdomain field. \nA links would be:\n/company1/invoices/1\n/company2/invoices/1\n...\n. Thanks for the suggestion!\nIt'd be good to use if the subdomain field isn't set.\n. If the user has multiple companies we're using the account_key in the link.. Thanks!\n. Thanks for pointing this out, we'll look into correcting it. \n. This has been fixed.\n. It'd be great if you could create a pull request for it but it may be tricky to implement.\nYou can see the logic for sending new invoice in the shouldSendToday function in app/Models/Invoice.php. I had worked to implement https://github.com/simshaun/recurr to make the logic simpler but it's commented out as we found it required too much CPU to run on our servers as a cron.\nThe challenge is the code uses the last sent date and the frequency to determine the next send date, this may be complicated if it's not a precise number of days.\n. Thanks for the screenshots and explanation, I definitely see the value in this feature.\nAs an alternative what do you think about adding it as a client setting? We plan to make payment terms an account level setting, this setting would make sense along with it. \n. Adding the options to the existing payment terms works for me.\nOne complication with this feature is currently the code is implemented twice. Although the new shouldSendToday function in Invoice.php is commented out we use the Recurr library to display the recurring schedule. We hope to be able to remove the old code when we change hosting companies. \n. Right, of course.. we're determining the due date not send date. \nAnother option would be to add a type column to the payment_terms table. \nWould it use the current day of the month to determine if it should be this month or next month. For example:\n- Today is the 15th, terms are 1st of the month. The due date should likely be the 1st of the next month.\n- Today is the 15th, terms are the last day of the month. The due date should likely be the last day of the current month (maybe not?).\n. If it's the same day I'd say go with the following month. \n. I agree the invoice page is the best place for this, my reluctance to add it there comes from always trying to keep that form as simple as possible. \nThat said, I'll give... let's go back to your original UI (sorry for the extra work). Please move the stuff that appears for a saved recurring invoice from the bottom of the 2nd column to the bottom of the 3rd column (hope that's clear). \n. Very cool, it looks great!\nLast sent is in the view but it's only set in the controller if the invoice is recurring. Yes, please move everything in that box to the right. It should help balance out the form a bit. If you have trouble with it feel free to leave it for me to handle. \nA few small comments:\n- If you add strings to the texts file please always add them at the bottom of the file, it make it easier to keep the other language files in sync.\n- It may be good to set recurringDueDates in a loop, you can use date formatting to determine 1st, 2nd, etc. It should make it easier to translate. \n. This isn't currently planned but we'd definitely merge a pull request to support it.\nYou can see our current priorities here: https://trello.com/b/63BbiVVe/invoice-ninja \n. You're never too quick, everything check into master should work.\nI'll let you know... thanks again! \n. One thing to check, your application timezone in the UI should be set to German while the server should be set to UTC. Any chance you're using the APP_TIMEZONE setting in you .env file? \n. Scratch that, this is clearly a bug... \n. Please try again with the latest code, this should now be fixed. \n. Are you using a custom datetime format?\n\"###\" is for markdown to make the text slightly smaller. Try loading /update?clear_cache=true to refresh the invoice designs. \n. Agreed, I've added a space (thanks for the suggestion) as well as hopefully fixed the time issue. \nNote, to have the style work in your custom design you should just need to add the following:\n\"help\": {\n        \"fontSize\": \"$fontSizeSmaller\",\n        \"color\": \"#737373\"\n    }\n. Great, thanks for letting us know! \n. In case you didn't realize... I think you can accomplish this manually by updating the counter value in the settings to 1 on the 1st of the year. \n. We've heard this from a few other users, though there's a manual workaround for self host users I think this could still be useful.\n. I'm always nervous about adding too many settings but it seems like it would be useful. \n. I really like readthedocs, I'd like to move over our existing user guide but I need to coordinate with my partner. \nhttps://www.invoiceninja.com/app-user-guide/ \n. All good points.\nArchiving is meant as a way to remove clutter but not affect numbers. So for example archived invoices are included in the dashboard amounts but deleted invoices are not. \n. In the future I could see us adding a 'fiscal year' concept. If/when we do it we can reconsider how the counter reset is implemented. \nOur more immediate plan is to add date filtering to the dashboard: https://trello.com/c/VKscMP23/66\n. Thanks for submitting the changes!\nA few comments:\n- It looks like some code was removed from app/Services/ImportService.php.\n- I noticed the Wave invoice transformer has paid set to 0, setting the value will automatically create the payment. \n- The payment transformers are special in that the client_id and invoice_id are pre-set in the code in the createPayment. Because of this I'm not sure the getInvoiceId and getInvoiceClientId function are required.\n- A potential problem is with multiple line item invoices, I believe Wave exports their invoices as line items. \n- Another issue (which is probably less common) is that Wave supports multiple tax rates per line item which we don't yet support. \n. Wow... AMAZING! Thanks!!\nI'm just working on a dot release, I hope to test/merge the changes tomorrow. \n. No worries, I'll correct it after merging the changes.\nWe really appreciate your work, can you email us at contact@invoiceninja.com to talk more. At the very least we'd like to send you the additional invoice designs. \n. Yes, we use https://phantomjscloud.com/site/index.html to support this. Consider signing up to increase your daily limit. \nMake sure you have the following line in your .env file. Note: for this to work your app instance must be publicly available. \nPHANTOMJS_CLOUD_KEY='a-demo-key-with-low-quota-per-ip-address' \n. That's correct, when you go live it should just work. \n. Awesome!! This is a great feature. \nTo be merged... \n. Thanks again!!\n. FYI... we're planning on adding additional client portal settings (ie, client logins) so I've changed ACCOUNT_CLIENT_VIEW_STYLING to ACCOUNT_CLIENT_PORTAL. \nI had two questions about the code:\n- Can you explain the purpose of the code by 'Allow referencing the body element' in AccountController.php\n- Are there any security concerns with having CSS.Trusted set to true\nThanks!\n. Thanks for your answers, understood. \n. Thanks for the fix!\n. In my testing it's working really well. Great job, thanks again!!\nFYI.. I've added these features to our roadmap:\nhttps://trello.com/b/63BbiVVe/invoice-ninja\n. Thanks for letting us know, I've just checked in a fix. \n. I think this should now be fixed.\n. Agreed, we plan to improve the filtering in a future release.\nIf you set the due date on invoices you can use the dashboard to see your outstanding invoices, another option is to archive invoices once they've been paid.\n. I've made a change to support setting the list filter in the URL. ie, /invoices?filter=paid\nIf we add support for GitHub style searching you could use something like /invoices?filter=is:unpaid\nhttps://help.github.com/articles/searching-issues/ \n. We'd like to get to inbox zero with our GitHub issues but it's hard to provide a timeframe. \nYou can see our priorities on our Trello board: https://trello.com/b/63BbiVVe/invoice-ninja \n. If a client has multiple contacts the invoice should show the details for the selected contact however I think there's a bug preventing it. \n. If the client's name is set the if will be true, it's used to handle the case where the client's name is blank but the contact name is set. \n. That would be a very difficult change to make, In the database the invoice links to the client not a particular contact.\nWhat should be possible/easier is having the contact name show based on which contact is checked.\n. This is how it should currently work however in my testing it appears to always show the first contact's info. \n. Seems likely... \n. I'll look into correcting this. \n. I think this is actually two separate issue:\n- User permissions: Duplicate of #528 \n- Hide draft invoices from clients: Agreed, we'll make the change\n. The change has been made. \nA custom form is a great idea.\n. The RFC 2822 error usually means the email settings aren't correct, are the notification emails working?\n. Some of our users don't want to use the email features so we aren't able to make the fields required. \nWe'll looking into making it clearer when this error occurs. \n. It's working great! I had to merge it manually due to some conflicts. \nI made a small change to add _id to the end of header_font and body_font database columns.\n. Are you using the self host zip or have you checked out the code from GitHub?\n- Try calling the following URL /update?clear_cache=true\n- Check storage/logs/laravel.log for details about the error\n. Thanks for letting us know, I'll look into it. \n. This should now be resolved.\nThanks again for letting us know. \n. A - M - A - Z - I - N - G !!!\nThank you, it's a huge contribution. I plan to test/merge during the week.\n. I'm having trouble replicating this. You shouldn't need to use include=invoice_items as they're included by default. Are you using the latest code? \n. A workaround is to restore the invoice, change the invoice number to something else and then delete the invoice. \nWe'll look into adding this in a future release. \n. Thanks for letting us know, we'll look into it. \n. It may be simpler to apply a function to the name to use it as the tag, for example Credit Card would be credit_card. \n. Seems like there are two parts to the fix:\n- Add the tag versions of the stings to the texts.php file\n- Update the UI code to use the trans function when displaying the value\n. Looks like it... . Have you also copied texts.php from resources/lang/en to resources/lang/pl\nYou can use https://github.com/caouecs/Laravel4-lang for the other text files \n. I'm not able to replicate the problem. Maybe try to narrow it down, for example try adding the following to the bottom of app/Http/routes.php. \ndd(trans_choice(':count invoice sent|:count invoices sent', 0, [], null, 'en'));\n. Try changing en to pl as well as adjusting the text to narrow down the problem. \ndd(trans_choice(':count invoice sent|:count invoices sent', 0, [], null, 'pl'));\n. I think you'll either need to dig into the Symfony/Component/Translation/MessageSelector.php:85 to try to figure out why it's failing or create a pull request with the translated language file and I'll try to reproduce the problem. \n. You'll need to create an issue in the Symfony project. \n. FYI.. we're hiding the string for now. I'm not sure, we're about to release v2.4.9 which may help.\nCan you try running php artisan optimize\n. :)\n. We use phantomjscloud.com to attach the invoice for payment confirmations, for it to work the app needs to be publicly reachable. \n. I'm not able to replicate the problem. I'm assuming the PDF is attached when email an invoice.\nCan you check that you have the following line in your .env file:\nPHANTOMJS_CLOUD_KEY='a-demo-key-with-low-quota-per-ip-address'\n. Can you try adding some debug to the getPDFString function in app/Models/Invoice.php to check that the function is being called and assuming it is check what's returned by phantomjscloud. \nI'll look into adding an artisan command to manually check that it's working. \n. It's worth noting when the invoice is visible when emailing it (ie, when clicking email on the invoice page) we don't use phantojscloud. It's only used when the invoice isn't seen on screen, for example when sending a payment email or with recurring invoices. \n. Ok, hopefully the artisan command will help track down any problems. \n. Thanks for letting us know. I've just checked in this change and we're working on creating a new release. \n. Are you using v2.4.9 or v2.4.9.1?\n. Are you using the self host zip or are you getting the code from GitHub?\n. Can you check that you see the following on line 157 of app/Http/Middleware/StartupCheck.php\nif ( ! class_exists($class)) {\n                continue;\n            }\n. Sorry for the trouble, I think I see the problem. I'll work on a new release. \n. v2.4.9.2 has been created, hopefully it will help... \n. Great, thanks for letting us know!!\n. Are there any errors in the logs in storage/logs/laravel.log. \n. Are you able to email regular invoices? The key part of the error is 'Expected response code 250 but got code \"421\"'. Are you able to test with a different email account.\n. I've just checked in a fix related to the send-invoices command. I wasn't seeing the same error but it's possible it will help. \n. Thanks for letting us know, I'll look into it. \n. We use try/catch in certain places. ie, the PaymentController and the ImportController. In other places we use global error handling defined in App\\Exceptions\\Handler.\nThat said I'm sure the app can use more error handling. \n. Yes, it's global error handling. \n. Sure, global error handling is useful to ensure any time any error occurs we log it and display a meaningful message to the user. \nIn certain cases we want to ensure the user isn't blocked from their workflow so we use try/catch to send them back to where they were rather than to the generic error screen. \n. This should be fixed in our latest release. \n. ... which may not be available with Bitnami.\nTo fix it manually change the single quotes to double quotes in the following line in app/Http/Requests/CreatePaymentRequest.php\n'amount' => 'required|less_than:{$invoice->balance}|positive',\nTo\n'amount' => \"required|less_than:{$invoice->balance}|positive\",\n. Thanks for the suggestion, we'll look into it.\n. When setting up the site\\upgrading did you composer install or composer update?\n. Ok, thanks. I'll take a look. \n. I've checked in a change which should resolve this issue.\n. Great, thanks for letting us know! \n. Is this possibly the same issue as #625/does it work with non-postmark credentials?\n. Ignore the last comment.\nWhat are your settings for the reminder?\n. This should be fixed with the latest code. \nWe'll create a new release in a day or two. \n. I've checked in a change which should resolve this issue. \n. Great, thanks for letting us know! \n. I'll look into adding support for auto-linking.\n. Auto link support has been checked in.\n. Amazing, thanks!! \n. Thanks again, I had to manually merge due to conflicts. \n. Thanks for the tip, I'll make the change.\n. @sakalauskas If you've updated to v2.5 is GoCardless working for you. I had a report on our forum that they're seeing a 400 error. Thanks for your help, I don't have a UK bank account to sign up to test with. \nhttps://www.invoiceninja.com/forums/topic/gocardless/\n. Thanks for the detailed bug report, I'll make sure it's fixed in the next release. \n. This should now be resolved\n. From the log message it looks like it's taking too long. The URL /update?clear_cache=true is both running the migrations and clearing the cache. Try them one at a time.\n/update\n/dashboard?clear_cache=true\n. Which version are you upgrading from?\nYou could try running the migrations from the command using the following command and then loading /update\nphp artisan migrate \n. Great, thanks for letting us know!\n. The feature worked great, I've manually merged the changes.\nThanks again!!\n. Just to confirm, is the invoice due the 4th or the 14th? \nCan you send the output from running the command.\n. Today is the 21st, the reminder would have been sent on the 11th of the month. \n. Correct, you'll need a daily cron for this to work. We don't track when it was last sent so we aren't able to catch up for missed days. \n. Thanks!!\n. It's by design, you need to clone the invoice and then optionally delete the old one.\nAllowing changing the invoice would required crediting the original client's balance which could get a bit complicated. \n. To use the same id you'd need to change the id of the original to something different. \nWe're looking into adding the option of purging an invoice. \n. Thanks for great feedback!\nWe'll try to include these changes in a future release. \n. Thanks!!\n. Thanks very much!\n. Thanks for submitting the change (we very much appreciate the help) but I think the approach we'd rather would be to add an optional 'email' property in the index method to enable filtering clients. \n. Perfect, thanks!!\n. I was just told there may be a bug with sending a test email on the system settings page so it may explain why it succeeded there but failed in the app.\nGitHub suggests to try updating your operating system and these answers on Stackoverflow may help.\n. I don't believe there's anything we can change in the app to fix this. \n. Thanks for the fix!!\n. Agreed.\nWe're (thankfully) starting to get a lot of contributions. I was trying to reduce the number of total migration files but I guess that's just a price we'll have to pay.\n. Thanks!\n. Thanks for lettings us know, I'll look into it.\n. This could happen if the seeders are run before the migrations, I've added a check to prevent the error. \n. I'm not able to replicate the error, can you share the full stack trace.\nIt could be a cache issue in which case loading /update?clear_cache=true may help. \n. Yes, please check storage/logs/laravel.log for more details about the error.\n. Great, thanks for letting us know!\n. Awesome, thanks!\n. Thanks for the fix!\n. Sorry for not responding sooner, I must have missed this.\nThanks for the suggestion, to be considered for a future release... \n. Is it possible you've already added a credit card gateway, we only support adding one.\n. As referenced in #645, the problem is that the fix was added to an already checked-in migration. Going forward we have committed to never change a migration unless the bug is with the migration itself.\nTo correct this you'll need to manually run the following code:\nDB::table('invoices')\n        ->whereIn('invoice_status_id', [4, 5])\n        ->increment('invoice_status_id');\nWe take every effort to ensure master is stable, intentionally breaking changes are never checked in. That said writing bug free code isn't always possible. If you'd like to run the most stable release I'd suggest sticking to releases. If you'd like to try out the latest features and don't mind helping catch anything we may have missed then stick to master.\n. @sakalauskas and @limenet I'm sorry for wasting your time with these issues. In the past (when no one actually used the app) I was able to take these types of shortcuts. That's clearly no longer the case.\nMaintaining a large(ish) open-source project definitely has its own challenges. I still have a lot to learn (this is my first Laravel project) but we very much appreciate your feedback and are committed to providing the best application possible.\n. You may be able to make this work using our 'Subscriptions' feature. It was created to support Zapier but it should work with other web services.\nThere's a bit of info at the bottom of our API documentation, let me know if you need help setting it up.\n. To be fixed...\nMore info: https://www.invoiceninja.com/forums/topic/error-on-item-invoice-on-invoice-preview/#post-2140\n. This should now be fixed.\n. Thanks for the suggestion. Am I missing something, it looks very expensive.\nhttps://www.transifex.com/pricing/ \n. Thanks, I didn't realize. We'll follow up with them. \n. Woohoo!! Amazing, thanks!!\n. I'm sorry, we don't support the Pale moon browser. This is actually the first I've heard of it.\nWe don't have the resources to investigate it. Supporting Chrome, Firefox, Safari, IE and now Edge keeps us busy enough as it is. I hope you understand. \nI'd be happy to help you debug if you'd like. The code for this is in the 'breadcrumbs' macro in the following file. I'm guessing the value of $_SERVER['REQUEST_URI'] is wrong for some reason. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Providers/AppServiceProvider.php\n. Thanks again!\n. We'd be happy to try to help you find an accountant but I'm not sure an issue on GitHub is the best approach. I'll leave the issue open for a few days just in case.\nCreating a post on our forum may also be helpful: https://www.invoiceninja.com/forums/forum/support/\n. Thanks for your help, we've recently been looking into adding support for CI.\nFrom my brief time spent researching the subject I got the impression that Travis may be a better choice for open source projects. Any thoughts?\nhttps://strongloop.com/strongblog/node-js-travis-circle-codeship-compare/\n. If you'd be willing to help with a Travis implementation we'd really appreciate it.\nI'm less inclined to have two solutions to the same problem, hopefully you've seen from our app we're always trying to keep it as simple as possible. I'm not sure the differences justify the additional configurations/dependencies/etc...\n. I use PhantomJS to run the acceptance tests locally. \nhttps://docs.travis-ci.com/user/gui-and-headless-browsers/#Using-PhantomJS\n. Using your code as a base I was able to get it working with Travis CI. \nThanks for your help!\n. This is a bug, we'll work on a fix.\nAs a temporary workaround you should be able to run a SQL query to update the setting.\nupdate accounts set share_counter = 0 where id = 1;\n. This should now work correctly, thanks for letting us know about the problem. \n. Thanks!\n. I'll look into the problem. \nWe've been working on large changes to the API to support our upcoming iPhone app. We try to maintain existing functionality but changes can sometime have unintended consequences. \n. Thanks for the update.\nIn the next release we'll make sure the cost is auto-populated if the product key is set. \n. Can you check storage/logs/laravel.log for the full stacktrace. \nHere are a few other things to try:\n- Load mysite.com/update?clear_cache=true in your browser\n- Save your settings on the invoice design page\n- Runt the following query and compare it to the list of files in database/migrations\nselect * from migrations \n. Try running php artisan migrate then add ?clear_cache=true to the URL.\n. Try running php artisan db:seed --class=FontsSeeder\n. Great, thanks for letting us know!\n. It's worth checking for errors in storage/logs/laravel.log\nIf the setup completed check that the .env file looks correct and a account and user record has been created in the database. \n. There may be more info in your web server error logs. This other report of a 403 error was related to mod_security.\nhttps://www.invoiceninja.com/forums/topic/troubleshooting-a-403-error/ \n. Just to clarify you'll want to check both storage/logs/laravel.log as well as (for example) your Apache error log in /var/log/apache2/error.log\n. I would expect to see the 403 error in the logs. \nA common cause for 403 errors is permissions problems. \n. If you're using a webhost there may be some additional security in place.\nhttps://www.litespeedtech.com/support/forum/threads/solved-403-forbidden.6189/ \n. Which method did you use to setup the app. self host zip, GitHub, Bitnami or Softaculous. \n. A few last ideas:\n- Have you tested in another browser\n- Temporarily test chmod -R 777 * to potentially narrow down the problem\n- Do you have another server you can test with\n. Thanks for the fix!\n. Yes, it's by design.\nYou can hide the logo in the client portal by purchasing a white label license.\n. Agreed: https://trello.com/c/CvRMCXSK\n. The column is now hidden when the field is blank\n. Awesome, thanks!!\n. I'm not seeing the issue, maybe try clearing your cache with php artisan cache:clear\n. Is this a fresh install, and if so from GitHub or the self host zip?\n. I'm not sure, maybe check your file permissions. \nhttps://www.invoiceninja.com/self-host/\n. Are there any errors in storage/logs/laravel.log \n. Also, two commands worth trying\nphp artisan optimize\ncomposer dump-autoload\n. It looks like the cache isn't populated. \nYou can try adding ?clear_cache=true to the end of the URL. Also, run select * from migrations to check that all of the migrations ran. \n. Try adding dd($type) on line 268 in Utils.php to track down what data is missing from the cache. \n. Next step, run select * from fonts to see if the data is populated. \n. I think I see the problem, try running\nphp artisan db:seed --class=FontsSeeder\nThen add ?clear_cache=true to the URL to clear the cache.\nSorry for the trouble. \n. I think the issue is related MySQL strict mode. I've just checked in a change to the seeder, please git pull and then run the seeder again. \n. Note: you may want to start with a blank database. \n. Great, thanks for letting us know!\n. @ricardobarantini Would you mind running the following SQL query, it'll help us track down your error. \nselect @@GLOBAL.sql_mode;\n. Sorry for the delayed response, we should now be showing both fields. \n. No immediate plans (but we'd accept a pull request). \nYou can see our plans on our Trello board\n. Thanks again!! \n. It's an interesting idea. For now I'd suggest using a server side script to hide the token from the user. \nIt feels like this should be considered alongside our future plans to support user permissions. \nhttps://trello.com/c/yYTH16N4\nI'm sorry, we can't provide quotes for features. \n. Agreed. \nI'm not sure what you mean by 'accept a bounty', I haven't used bountysource. \n. This should now be possible by creating a token for a user who has limited permissions. \n. The challenge is we're currently using strtotime in a few places to parse the dates. It uses the delimiter to disambiguate the day and month and expects a hyphen for a European format. \nhttp://php.net/manual/en/function.strtotime.php#100144\n. @c33s Thanks, good to know! We'll add the formats in our next release. \n. We hope to improve this before creating our v2.5 release\n. Thanks for the suggestion, I'll look into it. \n. @johann8 You can manually set the column widths using the customize design page. Switch to 'Code' view and then change $invoiceLineItemColumns to [\"15%\",\"*\",\"20%\",\"12%\",\"12%\"]\n. Try:\n\"widths\": [\"15%\",\"*\",\"20%\",\"12%\",\"12%\"], \n. Please check you're using widths not width.\n. Please try increasing the 20% column to see if it helps/makes a difference.\n. We've redesigned the header to better fit all languages \n. Are there any errors in storage/logs/laravel.log? Can you test changing the server to PHP 5.6?\n. Thanks Dave! \n. There's i18n work remaining to support this. \n. AWESOME!! Thanks!\nFYI @trigras \n. Check the value for APP_KEY in the .env file\n. More ideas... https://github.com/invoiceninja/invoiceninja/issues/166 \n. Thanks for letting us know how you were able to fix it.\nI think this is most likely a permissions issue, we haven't heard about this issue from other users. \n. Thanks! Having RewriteBase there is a good idea. For HTTPS we already have a .env setting which can be seen in .env.example. Thinking about it now it should maybe be part of the 'System Settings' options. \n. Correct, public/.htaccess \nAlso, please create future pull requests against the develop branch.\nThanks!\n. For cases where the invoice isn't displayed before it's emailed we use https://phantomjscloud.com/ to generate the PDF. In order for it to work your application needs to be publicly available, is your server available?\n. Sorry for the trouble, this should just now be fixed.\nWe use a third party service to generate the PDFs, their API had changed which caused the problem.\nLet us know if you continue to see the issue. \n. Great to hear, thanks for letting us know!\n. Amazing, thanks!!\n. I'm not seeing the same error. Can you check that you're running composer install, not composer update. \nIf you're not planning on using the 2checkout payment gateway you could try commenting out the reference in the composer.json file. We're linking to a pull request to fix an issue with the currency code. \n. Great, thanks for letting us know!\n. Sorry for not responding sooner.\nThanks for the suggestion but for something like this we'd suggest integrating with another app. The focus of our app is invoicing, it's unlikely we'll add project management features.\n. Thanks for offering!\nChrome should offer the option but we've had to temporarily disable it until this bug is fixed.\nhttps://code.google.com/p/chromium/issues/detail?id=574648 \n. Yes, you'd use the same URL you're using to access the web app.\nFor example, if you're using http://localhost the API is available at http://localhost/api/v1/... \nMore info here: https://www.invoiceninja.com/api-documentation/\n. We're in the process of getting this working with https://www.transifex.com/\n. Transifex is free for open source projects\nhttps://www.transifex.com/customers/open-source/ \n. I see this issue, we'll work on a fix.\n. This should now be fixed\n. Thanks!\n. I don't think the custom fields are accessible, we'll look into adding them. \n. We use Omnipay to integrate with our payment gateways, you'll need to either find/create a driver.\nhttps://github.com/thephpleague/omnipay\n. You'll want to use other Omnipay drivers as samples.\n. That should do it, I'll look into adding this as a setting.\n. 1) After you upload the CSV file you can map the fields to the available columns.\n2) Not sure, I'll need to take a look... \n. I don't think they're exposed yet. \n. For the second issue can you check that you're reading the file using UTF-8 encoding. \nThe encoding appears to be correctly set in the headers.\n. Try adding:\nREQUIRE_HTTPS=true\nAs well as optionally: \nSESSION_ENCRYPT=true\nSESSION_SECURE=true\n. We support setting trusted proxies using an .env value. ie, \nTRUSTED_PROXIES='10.0.0.0/8,172.16.0.0/12,192.168.0.0/16'\nThis may be a better approach as it won't be overwritten if you upgrade. \n. We don't currently have a setting to hide it. If you want to change the code you could hide the menu by removing the settings/system_settings code from resources/views/accounts/nav.blade.php\nWe plan to enhance user permissions in the future, we'll keep this in mind: https://github.com/invoiceninja/invoiceninja/issues/528\n. This is now supported with user permissions. \n. Thanks for sharing your changes!\nIf you run the latest code in the develop branch you can access these properties directly. I've improved the help popup on the customization page to show all available fields. Also, please create future pull requests against the develop branch. \n. It looks like this driver has been deleted, we'll need to remove it from our app.\nhttps://github.com/alfaproject/omnipay-neteller\n. I've checked in a fix on the develop branch\n. The code looks great!\n. I'm not sure, has anything else changed?\n. Try clearing website and subdomain, they're for hosted users. They're hidden for self host users in future releases. \n. I'm not sure, check your .env file\n. Ok, thanks. I'll need to take a look... \n. Can you test it without the prefix. \n. From this fix in another project it looks like PayPal wants the id to be a number, hyphen or comma.\nhttps://github.com/angelleye/paypal-woocommerce/commit/22d8f85eddb3922f5bc6537ed6bbf855559b9f7c\nYou likely need to use different credentials to use test mode. \n. Ah, that would make sense.\n. I've checked a fix in for this on the develop branch\n. Can you check for any errors in storage/logs/laravel.log\n. Can you try loading /update to see if it helps, if it doesn't please check for any new errors. \n. Can you try running php artisan migrate\n. It looks like the vendors migration didn't complete. Can you try commenting out the vendors table in the following migration to see if you can determine why it's failing.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/migrations/2016_01_04_175228_create_vendors_table.php\nYou can run the SQL command select * from migrations to see which migrations have run. \n. Thanks for the info. Please comment out the rest of the migration file until running it provide an error other than 'Base table or view already exists'.\nMy suspicion is that this is related to MySQL strict mode, you can check your modes by running the following SQL query: SELECT @@sql_mode\n. I think that error is because the fonts table or cache isn't populated. \nPlease try loading /update?clear_cache=true\n. Great to hear, sorry for all the trouble. \n. Thanks for the change but I'm not sure if it will be enough. \nHere are two other possible concerns:\n- The database fields have a precision of 2\n- The PHP formatting code in Utils.php would also need to be updated\n. Are you using the custom fields on the Invoice Settings page, if so which type of field?\n. address2 appears to be added to the PDF: https://github.com/invoiceninja/invoiceninja/blob/master/public/js/pdf.pdfmake.js#L542\nIt's hard for me to help with unknown changes to the JS file. \n. These are the two main files\n- https://github.com/invoiceninja/invoiceninja/blob/master/resources/views/invoices/pdf.blade.php\n- https://github.com/invoiceninja/invoiceninja/blob/master/public/js/pdf.pdfmake.js\nIf you're making more than a small change it'd probably be better to change the underlying JavaScript files and then run grunt rather than modify built files. Note: you first need to run bower install to download the JS dependencies. \n. Here's the main file:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/money_script.blade.php \n. Maybe try using $clientBalanceValue in a custom design in place of your code. \n. Try adding it in app/Models/Account.php, search for $this->client->setVisible\n. Thanks for letting us know.\nIn the latest code on the develop branch we've replaced the datalists with a JavaScript typeahead which should resolve this issue. This should be included with our upcoming v2.5.1 release.\n. Thanks for the specifics. \nThis would be difficult to patch. As part of the change we updated to the latest version of the typeahead library, this required us to also rework the search functionality as it shares the component. \n. We've re-implemented the product datalist using a JavaScript autocomplete component. It should now work with all versions of Chrome.\n. Are you using invoiceninja.com or are you self hosting, if self hosting which version are you running?\n. Also, if you're self hosting please check storage/logs/laravel.log for any errors. \n. I think this is a bug, please replace app/Listeners/SubscriptionListener.php with the latest file from GitHub.\nhttps://github.com/invoiceninja/invoiceninja/raw/master/app/Listeners/SubscriptionListener.php \n. Great work, the code is excellent! \n. This pull request is empty\n. Thanks for the fix!\n. We've removed the dependency (for now) on the develop branch\n. Thanks for the info!\n. We've disabled the gateway.\n. A - W - E - S - O - M - E !!\nI hope to merge in a few days. \n. A - W - E - S - O - M - E !!\nI hope to merge in a few days. \n. @mzdakr Thanks again for your help.\nWhat's the difference between the two fonts?\n. @mzdakr Thanks again for your help.\nWhat's the difference between the two fonts?\n. Also, one thing to note. There was a conflict with the merge due to other currencies being added, you'll need to update your clients to set the new id for Japanese Yen.\nSomething like.. update clients set currency_id = 45;\n. Also, one thing to note. There was a conflict with the merge due to other currencies being added, you'll need to update your clients to set the new id for Japanese Yen.\nSomething like.. update clients set currency_id = 45;\n. Thanks for the correction! \n. Thanks for the correction! \n. We don't support using the same email address with more than one account.\nOne option is to use email@gmail.com and email+something@gmail.com, emails sent to both addresses will be received by the same account. \n. We don't support using the same email address with more than one account.\nOne option is to use email@gmail.com and email+something@gmail.com, emails sent to both addresses will be received by the same account. \n. 100% agreed\n. 100% agreed\n. This has been implemented in our develop branch.\nIt will be included in our next release (v2.5.2) which we'll be releasing soon. \n. This has been implemented in our develop branch.\nIt will be included in our next release (v2.5.2) which we'll be releasing soon. \n. Sorry for not responding, I must have missed this.\nThe text message is a bug caused by how we're naming the fields. I haven't found an easy fix but will keep looking.\n. Sorry for not responding, I must have missed this.\nThe text message is a bug caused by how we're naming the fields. I haven't found an easy fix but will keep looking.\n. Thanks for creating the pull request. Unfortunately we aren't able to merge it, we use maildelivery@... for the MAIL_FROM_ADDRESS.\n. Thanks for creating the pull request. Unfortunately we aren't able to merge it, we use maildelivery@... for the MAIL_FROM_ADDRESS.\n. Thanks for the change!\n. Thanks for the change!\n. - I can't replicate the problem with the discount, when I set it a value is shown\n- We used to include the tax amount in the line items but were told (maybe for another country) they should only be shown below\n- We don't currently support customizing which fields are shown, it's planed for a future release: https://trello.com/c/CvRMCXSK\n- You can set custom CSS here: /settings/client_portal\nSide note: we prefer our logo is kept as part of the admin site. The white label license only covers the client portal. If you're interested in reselling the app to others we have a simple reseller program.\nhttps://github.com/invoiceninja/invoiceninja#affiliates-programs \n. - I can't replicate the problem with the discount, when I set it a value is shown\n- We used to include the tax amount in the line items but were told (maybe for another country) they should only be shown below\n- We don't currently support customizing which fields are shown, it's planed for a future release: https://trello.com/c/CvRMCXSK\n- You can set custom CSS here: /settings/client_portal\nSide note: we prefer our logo is kept as part of the admin site. The white label license only covers the client portal. If you're interested in reselling the app to others we have a simple reseller program.\nhttps://github.com/invoiceninja/invoiceninja#affiliates-programs \n. If you set the country of the company\\client it should swap the currency.\nIt's defined here: https://github.com/invoiceninja/invoiceninja/blob/develop/database/seeds/CountriesSeeder.php\n. If you set the country of the company\\client it should swap the currency.\nIt's defined here: https://github.com/invoiceninja/invoiceninja/blob/develop/database/seeds/CountriesSeeder.php\n. The position of the currency symbol is determined by the selected country. \n. The position of the currency symbol is determined by the selected country. \n. - Agreed, hopefully in a future release\n- Quotes can be approved/expired, it's just not tracked as a status \n. - Agreed, hopefully in a future release\n- Quotes can be approved/expired, it's just not tracked as a status \n. To keep it clearer for the client we've decided to always show the first/primary contact on the invoice. \n. To keep it clearer for the client we've decided to always show the first/primary contact on the invoice. \n. Which currency are you using?. Which currency are you using?. The placement of the symbol for the Euro depends on the client's selected country. The preview uses a fake client w/o a country which explains why the preview is wrong but the actual email is correct. . The placement of the symbol for the Euro depends on the client's selected country. The preview uses a fake client w/o a country which explains why the preview is wrong but the actual email is correct. . Actually, the preview uses your first invoice invoice so it would depend on the client's country in that invoice. . Actually, the preview uses your first invoice invoice so it would depend on the client's country in that invoice. . If the client's country isn't set it should use the account country, we'll include this change with the next major release. . If the client's country isn't set it should use the account country, we'll include this change with the next major release. . Thanks!!\n. The issue with \"/\" should be fixed in 2.5.0.4.\nThere may be more details about the error in storage/logs/laravel.log \n. Thanks for the change!\nIn the future we'd like to support a secondary sort column, we're also looking into changing over from https://github.com/Chumper/Datatable to https://github.com/OpenSkill/Datatable \n. Thanks for letting us know, we'll look into fixing it.\n. Thanks for pointing this out, I've added the months to the texts file. \nWe'll update all of the language files with our next release.\n. This will fix the invoice seen by the client, we'll need to update the JS to fix the live preview.\n. I'm sorry, this use case is too particular for us to implement. If you'd like to implement it for your own installation I'll try to provide assistance. \nWe plan on adding reports for products which may help, also you can see some product stats by grouping by 'Products' on the data visualization page. \n. We believe this is related to the following Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=570669\nWe've included a workaround in our latest release (v2.5.1). \n. This should now be fixed, we're using a JavaScript autocomplete in place of the HTML5 DataList.\n. Thanks! \nWe'll look into making the change.\n. Thanks for letting us know, to be fixed... \n. Could you please send me a screenshot, I'm having trouble replicating the problem with emails. \n. Thanks for the screenshots, we'll look into fixing it. \n. Thanks for letting us know, we'll include a fix with our next release.\n. Hmm... this looks like a problem. \nWith our 2.5.1 release we updated to Laravel 5.2. I believe the escapeshellarg dependency was added with this commit: https://github.com/laravel/framework/commit/a4dd6e6f193a09c6ac33e4ec70f5ca8c31606675\nWe've also been planning to move to GAE which this would prevent, @GrahamCampbell can the dependency be removed?\n. Is this the first time you're updating? I'm pretty sure proc_open has always been required. \nIf you have SSH access you can manually update by running the following commands:\nphp artisan migrate\nphp artisan db:seed --class=PaymentLibrariesSeeder\nphp artisan db:seed --class=FontsSeeder\nphp artisan db:seed --class=BanksSeeder\nphp artisan db:seed --class=InvoiceStatusSeeder\nphp artisan db:seed --class=CurrenciesSeeder\nphp artisan db:seed --class=DateFormatsSeeder\nphp artisan db:seed --class=InvoiceDesignsSeeder\nphp artisan db:seed --class=PaymentTermsSeeder\nphp artisan cache:clear\ncomposer dump-autoload --optimize\nphp artisan optimize --force\nFinally, add ?clear_cache=true to the URL to clear the application cache. \nWe recently split up the seeders, we plan on creating a single seeder for updates.\n. FYI... we heard from another user that upgrading to PHP 5.6 resolved the proc_open error.\n. Thanks for letting us know!\n. Thanks, your work looks great!!\n. My understanding is the best practice is to check in the lock file.\nhttps://getcomposer.org/doc/01-basic-usage.md#composer-lock-the-lock-file\n. Thanks for the fix!\nFrom reviewing the code it looks like some of the MAIL_ properties and PHANTOMJS_CLOUD_KEY are removed with the change. \n. Works as expected, thanks!\n. There's most likely a value with a space in your .env file, wrapping the value in quotes should fix the error\n. @lukealford Try running composer dump-autoload\n. Try composer dump-autoload -o\nFrom: https://laracasts.com/discuss/channels/laravel/service-provider-not-found\n. To clarify there are two separate issues here:\n- Class log does not exist: This is a known issue caused by unquoted strings in the .env file. In the next version the setup page will check for this. For now if you see the error you need to manually correct the .env file.\n- Class 'Illuminate\\Routing\\ControllerServiceProvider' not found: I haven't yet been able to replicate this issue, we don't yet know the cause. \n. That's a hard question to answer, I couldn't even provide an estimate. \n. I believe the application expects to be run in UTC time.\n. Thanks again for the fix!\n. Thanks!! I'm away for a week but I'll merge when I get back. \nOne small point, in the future please create pull requests against the develop branch. \n. This is fixed in our newer releases, it should be available to Softaculous users soon. \n. Your welcome to have a refund if you'd like.\nIs the 'Undefined index: cost' happening in the app or with the API?\n. I'm not sure, I'm not seeing the issue. Hopefully the next release will fix it, it should be available on Softaculous by next week. \n. Thanks, I'm away for a week but I'll merge when I get back. \nSide note... please create future pull requests against the develop brach. \n. Thanks again!!\n. I'm away for a week, I'll take a look when I get back. In the meantime you\nmay want to create an issue with postmark library.\nOn Sun, Apr 3, 2016 at 11:28 AM Stefan Welsch notifications@github.com\nwrote:\n\nI have upgraded to invoiceninja 2.5.1.2 and after the upgrade postmark\ndoes not work anymore because of this error message.\nFatalErrorException in LaravelMailProvider.php line 60:\nCall to undefined method Illuminate\\Mail\\Mailer::setLogger()\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/797\n. Great, thanks for the info!\n\nAs mentioned earlier it'd be helpful if you could follow up with the postmark library.\n. I've updated the composer file but haven't been able to replicate the problem with HTML emails\n. Thanks for the info, I see the problem now.\n. Thanks for the info\\sorry for the trouble.\nWe'll make sure this is fixed with our next release. \n. Brilliant, thanks!\n. Thanks for the suggestion, we'll keep it in mind for a future release. \n. We plan on adding a bulk email option, we'll consider adding bulk 'mark sent'.\nWe couldn't add 'mark paid' as we require a payment to be entered for an invoice to be considered paid. \n. @mg-freelancer Sure, that'd be great. It seems like a queue would be the best solution. \n. The most basic implementation would be to add the email option to the dropdown list on the Invoices and Quotes pages. When sending the user would simply wait for each of the emails to process.\nThe better implementation would be to add support for queues and process the emails behind the scenes.\n. Awesome, thanks!\n. Thanks!!\n. From the comments in the other thread, have you tried using a different font?\n. Awesome, thank you!!\n. Thanks for the suggestion, we'll look into making the change.\n. Thanks for the fix!\nThere are a few problems:\n- Please create future PRs against the develop branch\n- I believe this change would break updating an invoice as it would change the date\nI've checked in a working fix here https://github.com/invoiceninja/invoiceninja/commit/2f2081b4b0e5a90b78cc3a2eeb04c2a546267f55\n. The code looks great, thanks!\n. Amazing, thanks!!\n. I believe the problem is is_array was added to the first instance of preg_match but not the second, we'll check in a fix.\n. Awesome, thanks!\nSmall note... in the future please create pull requests against our develop branch. \n. I'm seeing an error when testing with Stripe\nOmnipay/Common/AbstractGateway.php [Line 56] => Argument 1 passed to Omnipay\\Common\\AbstractGateway::initialize() must be of the type array, object given,\n. I'm sorry, I don't have the time to test the changes for you.\nI also noticed that the initialize function doesn't skip blank values, I'd be concerned about this change possibly breaking a particular driver. \n. Ok, great. If you could resend to the develop branch it'd be helpful. \nWe'll merge it into master with our next release. \n. Thanks, I'm working on an unrelated problem processing payments. Once it's resolved I'll finish testing and merge. \n. Works great, thanks again!\n. A known issue with our app is if you set the client's language the live preview is still shown in the account's language, you need to click 'View as recipient' to see it in the client's language. Is it possible that's the problem here?\n. The 'View as recipient' link is on the edit invoice page\n. The link is next to the contact as each contact gets its own invitation in order to track them separately. We'll look into making it more prominent. \nIt may work with an iFrame. I think the reason it doesn't currently work is related to session values, we're planning on reworking some of this code which should solve the underlying a problem. \n. Very cool, thanks!\n. Thanks again!!\n. Thanks!\n. I'm not sure the effort required to rebuild parts of the app using AngularJS would be a good investment of our time right now. Our focus is providing useful features to our users, you can see our roadmap here: https://trello.com/b/63BbiVVe/invoice-ninja\n. I'm a huge fan of Angular, however building single page apps (SPAs) is much harder. In some instances the usability is worth the trade off for complexity, I'm not sure that's the case here. \n. Thanks for your help, I'll merge with our next release.\nIn the future it'd be helpful if you could create pull requests against our develop branch. \n. Thanks!\n. Thanks!\n. It looks like there may be a bug with the system settings page.\nI'll look into it but for now I'd suggest manually changing the settings in the .env file. \n. It looks like there may be a bug with the system settings page.\nI'll look into it but for now I'd suggest manually changing the settings in the .env file. \n. Thanks for the quick fix!\n. Thanks for the quick fix!\n. We generally advise people to use the paid invoice as the receipt, that said we've heard this request from a number of people. \n. We generally advise people to use the paid invoice as the receipt, that said we've heard this request from a number of people. \n. @Modelizer That's what we recommend. \n. @Modelizer That's what we recommend. \n. Awesome, thanks!!\n. Awesome, thanks!!\n. I'm not sure our app will be a good fit for your needs. Our app's main strength is creating/tracking invoices, all the other features (expense, tasks, etc) are built around it. \nYou can see our roadmap here: https://trello.com/b/63BbiVVe/invoice-ninja \n. I'm not sure our app will be a good fit for your needs. Our app's main strength is creating/tracking invoices, all the other features (expense, tasks, etc) are built around it. \nYou can see our roadmap here: https://trello.com/b/63BbiVVe/invoice-ninja \n. Thanks!\n. Thanks!\n. Awesome, thanks!\nI'll merge it with our next release.\n. Awesome, thanks!\nI'll merge it with our next release.\n. It was on purpose... \nhttps://en.wikipedia.org/wiki/Singular_they\n. It was on purpose... \nhttps://en.wikipedia.org/wiki/Singular_they\n. No worries.\nFYI... we're switching to Transifex to manage the translations \n. No worries.\nFYI... we're switching to Transifex to manage the translations \n. Thanks, and in develop :)\n. Thanks, and in develop :)\n. Awesome, thanks!\nIt looks like the PR includes some other changes as well, can you make it just the translations. \n. Awesome, thanks!\nIt looks like the PR includes some other changes as well, can you make it just the translations. \n. Sorry I didn't notice it in the other PR but could you please remove the migration.\nI'll create a language seeder to enable adding the new language, having to add another migration for every language isn't ideal. \n. Sorry I didn't notice it in the other PR but could you please remove the migration.\nI'll create a language seeder to enable adding the new language, having to add another migration for every language isn't ideal. \n. Thanks again!\n. Thanks again!\n. Amazing, thanks!\n. Amazing, thanks!\n. Are using invoiceninja.com or self hosting?\nYou can check the token in the password_resets table. \n. Are using invoiceninja.com or self hosting?\nYou can check the token in the password_resets table. \n. Thanks, I'll look into it. \n. Thanks, I'll look into it. \n. I'm not able to replicate the problem.\n. Thanks for the info!\n. Please check for any errors in storage/logs/\n. Thanks for the info, we'll look into fixing it. \n. Can you please check your browser console log for any errors. \n. Please try setting APP_DEBUG to false in the .env file \n. Thank you very much!\nWould you mind creating the PR against our develop branch. \n. Sorry, I just noticed you've updated the English rather than adding Czech version. If you'd like I can handle correcting it for you.\n. I've added the translation to the develop branch, it will be included with our next release.\nThanks again for your help!\n. Thanks!\n. The changes look great, thanks!!\n. A - W - E - S - O - M - E !!!\n. This should be fixed with the latest code in develop branch.\n. Thanks for the changes!\nI think you've pulled in other changes as well, there are 17 files changed. Can you try updating you develop branch and then updating the pull request. \n. We now support quotes through the invoice API methods. To create a quote you need to create a new invoice with is_quote set to true. Note: it's possible in the future we'll be changing is_quote to invoice_type_id. \n. Thanks again!\nNote: please create future PRs against the develop branch. \n. Amazing, thanks!\n. Thanks for the change!\nThe swap_currency_symbol field on the countries table is currently only used for the Euro.\n. I don't see a swap field in the currencies table?\nThe main reason for the design is the Euro is formatted differently depending on the country.\n. Is the Euro used in Poland?\n. That makes sense.\n. Thanks for letting us know, I've just checked in a change which should help.\nThe bar charts always show the basic invoice report data. I realize that may not be clear, we'll change it in our next release. \n. Great, thanks! This will be included in v2.5.2.1.\n. Thanks for the suggestion. We plan to add a label feature in the future which you may be able to use to handle this use case. \n. Thanks!\n. Thanks again!\n. Can you check the logs in storage/logs/ for more details\n. I'll look into correcting the issue in 2.5.2.1.\nThis may work for logging: https://laracasts.com/discuss/channels/general-discussion/logging-on-to-stdout/replies/49335 \n. I'm having trouble replicating the problem. \n. We should see the problem with our automated tests on Travis. The master branch is passing but the file hasn't changed.\nhttps://github.com/invoiceninja/invoiceninja/commits/master/app/Console/Commands/CreateTestData.php\n. No luck with a fresh install either... \n. Ah, that explains why I'm not seeing the problem either. \nThanks, I'll include a fix with the dot release. \n. Try removing this line: https://github.com/invoiceninja/invoiceninja/blob/master/resources/views/payments/payment.blade.php#L16\nI think the issue is only seen when using recent versions Stripe's API, We'll correct this in our next dot release. \n. Great to hear, thanks for letting us know!\n. I wasn't aware, good to know. We actually use two date pickers:\n- https://github.com/eternicode/bootstrap-datepicker\n- https://github.com/xdan/datetimepicker\n. I believe it's used when editing the task time details. \n. Thanks for the change!\n. Note: I added some fields to the migration before merging. \nSorry for the trouble, you'll need to rerun the migration. \n. You'll need to delete the payment and then add a new one. \n. Did you mean to create a issue\\feature request instead of a pull request?\n. Thanks!\nFYI, moving forward we're managing the translations in Transifex\n. I believe this is a duplicate of #867, this will be fixed in our next release. \n. No worries, thanks for reporting it.\n. Thanks!! \n. Thanks!\n. Thanks for the changes! I assume you noticed it also included other changes, please create future PRs against our develop branch. \n. This PR looks incorrect, it appears to be merging our develop branch into our master branch. It may be easier to leave this closed and create a new one. \nPlease email us at contact@invoiceninja.com to discuss features. \n. Thanks!!\n. Thanks again!\n. Thanks for the change. \nWe're working on making the fields shown configurable:\nhttps://trello.com/c/CvRMCXSK/53-enable-configuration-of-invoice-fields \n. The latest version is v2.5.2.1.\nIn general composer dump-autoload can be helpful with Class ... does not exist errors.\n. Thanks, I'll make sure this is updated.\n. Great to hear, thanks for letting us know!\n. Are you using the code from GitHub (if so which branch) or our self host zip (v2.5.2.1) \n. I'm not sure. \nHere are some of the date libraries we're currently using.\n- JavaScript: http://momentjs.com/ \n- PHP: http://carbon.nesbot.com/\n. Hey @JeramyNS \nOur current solution is designed to make it as easy as possible to use/setup, by using phantomjscloud.com as long as the app is publicly accessible the feature just works. \nWe've had requests to also support generating the PDF locally, if you're able to add the feature as an option it'd be great. \n. I believe so, we currently use https://phantomjscloud.com/ to generate the PDF when it's attached to an email. . Recurring invoices are one example but there are other places as well. . Sorry, we aren't able to provide ETAs on changes.\nWe gladly accept pull requests... . Note: if you disable 'Attach PDF to emails' then I don't believe phantomjscloud is used. . Without enabling 'Attach PDF' the customer can still obtain an immutable PDF by downloading it from the client portal. \nWe'll add a warning next to this feature for self host users in our next release. . Yes, it will be in our next major release at the end of the month. . Ok, no worries. Thanks!\n. I think you should be able to upload the file.\n. Thanks for the translation!\n- Please create future pull requests against our develop branch.\n- We're no longer merging text changes, please add them to our project on Transifex\n. Please try manually running the update by loading /update (or /public/update) in your browser.\nIf it doesn't fix it send me the results of the following SQL query:\nselect id, name, payment_library_id from gateways where id = 36;\n. If you update manually you also need to run php artisan db:seed --class=UpdateSeeder and then clear your cache by adding ?clear_cache=true to the URL\nThe app tracks the version in a file called version.txt. After copying over the new files the app should detect the version change and run the upgrade process automatically. \n. Try the following SQL query then clear your cache\nupdate gateways set payment_library_id = 2 where id = 36;\n. Did you install the app from Github and use composer update to install the dependancies? If so, try running composer install instead. \n. Are you using the develop or master branch?\nI believe another way to fix it is to update the provider field in the gateways table to Alipay_LegacyExpress for the Alipay gateway and then add ?clear_cache=true to the end of the URL to clear the cache. \n. You can make a GET request to ninja.dev/download/{invitation_key}\n. You can load it through the API by adding ?include=invitations when requesting invoices \n. Check your web server error logs for more details. \n. Note there are two error logs: the app log in storage/logs/laravel-error.log and the web server error log (ie, /var/log/apache2/error.log). With a 500 error typically nothing will be seen the the app error log however it should appear in the web server error logs. \n. Please clear the log, reproduce the error and then send the full log. You can email it to contact@invoiceninja.com if you'd prefer not to post it here.\nNote: for this feature to work your server needs to be publicly accessible in order for phantomjscloud.com to be able to reach it. \n. It should work out of the box, we use their default key.\nHere's a local solution with phantomjs: https://www.invoiceninja.com/forums/topic/api-email_invoice/#post-576 \n. Thanks for letting us know, I'm not sure there's anything we can do to fix it though.\n. Thanks!\n. A workaround is to enable line item taxes on /settings/tax_rates and then create a negative tax rate called 'Discount'. \n. Right, it wouldn't work using a discount and a tax... \n. @ssstofff Yes, we'll track it with #119. The mobile apps won't be open source.\nWe hope to release our iPhone app soon, our Android app will be a while.\n. Thanks for letting us know, I think it's just a mistake.\n. Ideally nearly everything in public/js should be removed, the files should be loaded through bower instead. \n. - Correct\n- script.js is custom JavsScript code, it's one of the few files which would remain\n- No particular reason\n- I'm up for using Elixir, it didn't exist when we started so I manually created a gruntfile\n. Thanks!\n. Thanks, 4-6 weeks\n. Very cool, thanks!\n- There's a small problem with capitalization in paidToDAte \n- Can you please create the pull request against our develop branch\n. It looks like the pull requests includes more than just your changes. \n. Awesome, thanks again!\n. This will be included with our next release: https://trello.com/c/Q1Vfycc1\n. We'll hopefully create the next self host release within about a month, and then release to invoiceninja.com about a month later.\n. This is a bug, we have a fix on the master branch which will be included with the next release. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/UserMailer.php#L39\n. @derblub I'm not sure, I'm not able to replicate the problem. This bug causes the app to send notifications to all users, I wouldn't think it'd cause no notifications to be sent. \n. This looks like bug, we'll try to fix it with our next release. \n. I'm not sure there's anything we can do about this, to fix it we'd need Invoice Ninja to store the payment gateway limits.\n. Ok, we'll keep it in mind for the future.\nThanks for the suggestion!\n. This has just been added in the develop branch \n. I'm not sure this should be an option, if you'd like to change it for your app you should be able to implement it by adding the following line of code to around line 150 in ContactMailer.php\n$variables['password'] = $invitation->contact->password;\n. That's a good idea, we'd probably want to make a similar change with tasks as well. \n. Thanks for the info, we'll try to replicate the problem. \n. Awesome, thanks!\nWe'll include it with our next release. \n. Which API URL are you referring to/can you post a link? . Not sure I understand what you'd like us to change but feel free to create a PR. . Maybe... I'm not sure enough people would use it to offset the additional UI complexity. \n. I'm not seeing the same error but that line isn't actually needed as the seeder will be run with the UpdateSeeder. I'll do some testing but will likely remove it.\n. Hmmm, I think it is needed....\nCan you try running composer dump-autoload\n. Thanks for the fix! \nCan you please fix the pull request though, it contains other changes. \n. This is the first I've heard of StyleCI, it looks great!\n. Shouldn't it be trans('texts.manual_entry')\n. Thanks!\n. Thanks again!!\n. Thanks, agreed.\n. Sounds good. \n. Thanks!\n. Thanks!\n. We're running the tests against PHP 7 on our develop branch, the next time we merge it will be applied to master. https://github.com/invoiceninja/invoiceninja/blob/develop/.travis.yml#L9 \n. I'll look into also adding a lower version. I believe the last test kept failing and I was suspicious it was related to resource limits. \n. Thanks for the fixes!!\nOur Transifex implementation requires us to include all translations in texts.php, would you mind moving the strings overs. You can use a prefix (ie, country_....)  to group them but we don't support arrays. \n. This looks great! I'll merge in the next few days with some additions to the database migration, I'm trying to avoid having too many.\n. Much improved, thanks!!\n. You would need to add two payments (one for each invoice) and split the amount between them. \n. AWESOME!!\n. I think the problem is that the name is wrapped to two lines.  You should be able to fix it by customizing the design and changing the -40 at the end of the header tab to around -62. \n. Amazing, looks great!\n. Thanks for the change!\nA possible issue is if the contact's info is set but not the client it would show blank.\nCurrently you need to load a client's primary contact to determine a client's name, I'd like to add a client.display_name field which caches the value. \n. We've been looking for this sort of solution, readthedocs looks great. \nThanks for the suggestion!\n. Hopefully within a few weeks...\n. We currently using neither, our main docs are presented in a WordPress plugin\nhttps://www.invoiceninja.com/app-user-guide/\n. I hope to start on it next week.\n. Is it possible to make it work out of the box for self host users and have them opt in to using the queue?\n. Also, I noticed that running php artisan queue:table creates a migration with additional fields. \nSchema::create('jobs', function (Blueprint $table) {\n            $table->bigIncrements('id');\n            $table->string('queue');\n            $table->longText('payload');\n            $table->tinyInteger('attempts')->unsigned();\n            $table->tinyInteger('reserved')->unsigned();\n            $table->unsignedInteger('reserved_at')->nullable();\n            $table->unsignedInteger('available_at');\n            $table->unsignedInteger('created_at');\n            $table->index(['queue', 'reserved', 'reserved_at']);\n        });\n. Ok, thanks!\n. I think I understand. Rather than making sure the queue is running what about adding a field to the .env file to determine whether to queue the command or run it immediately.\n. The current behavior is intended. Un-checking 'Live Preview' prevents the app from updating the PDF while making changes, however once saved we show the version.\nWe added this feature because a number of users mentioned it was distracting to have the PDF redraw while making changes. I see value for these users in showing a static version once the invoice is saved. \n. It looks like the feature is unclear but I don't think it's broken. \n. Thanks for the feedback @kirashi3, we'll keep it in mind for a future release.\nOne note... if you find the PDF is slow to render I'd suggest trying to remove your logo. If it's faster without a logo you can probably improve the performance by uploading a smaller image file. \n. This could get messy :/\nHow does this look to you...  http://stackoverflow.com/a/20633014/497368 \nI think we could then just translate api_key and other core terms and set the rest programmatically.\n. Sorry, should have been clearer. Yes, I was referring to using setAttributeNames. \n. Thanks!!\n. Try the develop branch\n. Here's where we discuss features:\n- This project on GitHub\n- https://trello.com/b/63BbiVVe/invoice-ninja\n- https://www.invoiceninja.com/forums/forum/support/ \n. I haven't had a chance to test the code yet, but...\n- That would be my perefence, apiKey should always be 'API Key' regardless of the gateway\n- I'm all for more form requests where possible\n- publishable key doesn't have a prefix because the field doesn't (or at least didn't) exist in OmniPay when it was added\n. It looks like the next step is translating all of the words here and making sure the list is complete.\n. Great, thanks!\n. What were the details of the error? If it wasn't shown on screen it should be in the logs in storage/logs/laravel-error.log. \n. I'm not able to reproduce the problem, I think the key part of the error is: \nfile_get_contents(http://api.phantomjscloud.com/...): failed to open stream\nCan you check that you can access api.phantomjscloud.com from your server. \n. phantomjscloud is only used for cases where the invoice isn't shown on screen before it's emailed, another place it's used is the command to email recurring invoices. \n. Great, thanks for letting us know. \n. Thanks, but translations need to be updated here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/\n. That's definitely possible, the latest translations will be included with our upcoming v2.6 release. \n. Thanks! @codedge what do you think?\n. The app doesn't seem to work without it. \nWe use Laravel for authentication/encryption, I believe it uses mcrypt under the hood.\n. As long as it works, sure.\nThanks!\n. If you end up creating a PR check it's against the develop branch. \n. Thanks for the info, it looks like Mcrypt will still be needed for people using older versions of the app. \n. I'm not sure that's correct. Older users (myself included) still use MCRYPT_RIJNDAEL_256 so we still depend on Mcrypt to decrypt existing values. \n. From this comment that doesn't seem to be the case:\nhttps://github.com/laravel/framework/pull/9041#issuecomment-108779880 \nI think all values will need to decrypted and then re-encrypted with the new cipher. \n. We don't store credit cards in our database, just tokens provided by the payment gateways.\nThe following data is encrypted:\n- Account passwords\n- Payment gateway credentials\n- Bank account usernames \n. The German format wasn't added that long ago, it's possible it was just in the develop branch.\nI hope to have v2.6 ready soon which should include the format.\n. I think you may need to run php artisan db:seed --class=UpdateSeeder\n. Can you check the SQL table\nselect * from date_formats;\n. Great, thanks for letting us know. \n. I believe we need both, the currency values are the default but for the Euro we need to use country specific values.\nI'm not so interested in changing this to AJAX as it isn't that much data, on the other hand I'm very much interested in using AJAX for the list of clients. \n. I'm not sure, I'm not seeing the same problem with composer. \nAre there any error details?\n. I've updated the composer.lock file. \n. I've moved faker out of require-dev.\n. Crap, ok... I'll create a new release\n. Done... v2.6.7\n. I've actually just started working on 'Buy Now' buttons which will enable people to purchase products without first creating an invoice. \nhttps://trello.com/c/xrkAV8yG/96\nThe current options are:\n- Product\n- Landing page: invoice or payment\n- Payment type (for payment landing page): credit card, paypal, etc.\n. Probably around 6-8 weeks\n. Have you tried using a custom client field for this? \n. I'm sorry, I haven't heard this field requested before so I'm reluctant to add it.\n. Thanks for understanding, if we get more requests we can reconsider. \n. This is by design. When an invoice is created the product and tax details are stored along with the invoice. This is to prevent invoices from changing when a referenced product or tax is changed. \n. Thanks for catching this, I've checked in a fix.\nI had added a __toString method to App\\Models\\TaxRate to make it easier to use in selects which caused it to fail here. \n. The change looks great, thanks!\nTwo questions:\n- Why add AltThree\\Bus\\Dispatcher\n- Can we remove app/Jobs/SendRecurringInvoiceEmail.php and just add the extra options to SendInvoiceEmail.php\n. Thanks for the info on AltThree\\Bus.\nI'm all for refactoring the code. The reason I suggest removing SendRecurringInvoiceEmail is that I'm not sure it's needed, if you create a SendInvoiceEmail job instead the app will work the same. Do you see them differing more in the future?\n. Sorry, don't mean to be a pain. \n. Why is there a curl request in the data field? I just want to check your account is on invoiceninja.com and you're not self hosting the app as we don't support Zapier for self hosted installations. \nAlso, the client id (573005698736) looks wrong to me. \n. I've merged the PR.\nThanks again @sebklaus! \n. Thanks for the fix!!\n. Thanks for the PR! I ran into a few problems with the last set of changes, two examples are back.\nhttps://github.com/invoiceninja/invoiceninja/pull/979/files#diff-24deb9dcc521a54ad69ac11e286060aeR29\nBy setting $document to type Document it creates the following error: Declaration of App\\Policies\\DocumentPolicy::view() should be compatible with App\\Policies\\EntityPolicy::view(App\\Models\\User $user, $item)\nAlso, \"Object $object = false\" needs to be changed to \"Object $object = null\". \n. A fix for this case could be to change the $document variable name to $item. \n. Thanks again!\n. Try running php artisan db:seed --class=UpdateSeeder and then clear your cache by adding ?clear_cache=true to the end of the URL. \n. Can you please check the data with this SQL query\nselect * from gateways where id = 36;\n. Can you compare this line of code against your codebase.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/seeds/PaymentLibrariesSeeder.php#L53\nThe Neteller library is no longer available so we added a change to set the payment_library_id to 2 so OmniPay doesn't try to load it. You can manually apply the change with the query below but it's good to understand the problem first.\nupdate gateways set payment_library_id = 2 where id = 36; \n. Thanks for the info!\n. If you add ?include=invitations to the end of the URL it should include the invitation with the link in the response. \n. Try running...\ncomposer dump-autoload\ncomposer clear-cache\nhttp://stackoverflow.com/questions/30585180/crypt-error-mac-is-invalid\n. Yes, that is likely related. \nIs this an upgrade or a new install? If you're using existing data it's important to use the same .env file. \n. I'm assuming you have the same .env file then, do you have a setting for APP_CIPHER in it? \n. Make sure the .env file includes APP_CIPHER=rijndael-128\nOn Mon, Aug 8, 2016 at 9:40 AM Luke Alford notifications@github.com wrote:\n\nI always dread the upgrade progress, last couple of upgrades I've had\nproblems. I left it a few weeks hoping the problems would be ironed out.\nThis time around I get the exact same problem as suggested above, I've\nfollowed everything mentioned by @hillelcoren\nhttps://github.com/hillelcoren & @codedge https://github.com/codedge\nbut nothings fixed my problem, the online payments and\nwhile looking at online payments & client portal page both display the\nerror below.\n`Whoops, looks like something went wrong.\n1/1\nDecryptException in BaseEncrypter.php line 48:\nThe MAC is invalid.\nin BaseEncrypter.php line 48\nat\nBaseEncrypter->getJsonPayload('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==')\nin Encrypter.php line 96\nat\nEncrypter->decrypt('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==')\nin Facade.php line 217\nat Facade::__callStatic('decrypt',\narray('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ=='))\nin AccountGateway.php line 108\nat\nCrypt::decrypt('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==')\nin AccountGateway.php line 108\nat AccountGateway->getConfig() in AccountGateway.php line 117\nat AccountGateway->getConfigField('publishableKey') in AccountGateway.php\nline 129\nat AccountGateway->getPublishableStripeKey() in HandleUserLoggedIn.php\nline 55\nat HandleUserLoggedIn->handle(object(UserLoggedIn))\nat call_user_func_array(array(object(HandleUserLoggedIn), 'handle'),\narray(object(UserLoggedIn))) in Dispatcher.php line 348\nat Dispatcher->Illuminate\\Events{closure}(object(UserLoggedIn))\nat call_user_func_array(object(Closure), array(object(UserLoggedIn))) in\nDispatcher.php line 221\nat Dispatcher->fire(object(UserLoggedIn)) in Facade.php line 217\nat Facade::__callStatic('fire', array(object(UserLoggedIn))) in\nAuthController.php line 142\nat Event::fire(object(UserLoggedIn)) in AuthController.php line 142\nat AuthController->postLoginWrapper(object(Request))\nat call_user_func_array(array(object(AuthController), 'postLoginWrapper'),\narray(object(Request))) in Controller.php line 80\nat Controller->callAction('postLoginWrapper', array(object(Request))) in\nControllerDispatcher.php line 146\nat ControllerDispatcher->call(object(AuthController), object(Route),\n'postLoginWrapper') in ControllerDispatcher.php line 94\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line\n103\nat Pipeline->then(object(Closure)) in ControllerDispatcher.php line 96\nat ControllerDispatcher->callWithinStack(object(AuthController),\nobject(Route), object(Request), 'postLoginWrapper') in\nControllerDispatcher.php line 54\nat ControllerDispatcher->dispatch(object(Route), object(Request),\n'App\\Http\\Controllers\\Auth\\AuthController', 'postLoginWrapper') in\nRoute.php line 174\nat Route->runController(object(Request)) in Route.php line 140\nat Route->run(object(Request)) in Router.php line 724\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line\n103\nat Pipeline->then(object(Closure)) in Router.php line 726\nat Router->runRouteWithinStack(object(Route), object(Request)) in\nRouter.php line 699\nat Router->dispatchToRoute(object(Request)) in Router.php line 675\nat Router->dispatch(object(Request)) in Kernel.php line 246\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Debugbar.php\nline 49\nat Debugbar->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(Debugbar), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nStartupCheck.php line 193\nat StartupCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartupCheck), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nQueryLogging.php line 28\nat QueryLogging->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(QueryLogging), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nDuplicateSubmissionCheck.php line 41\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(DuplicateSubmissionCheck), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nVerifyCsrfToken.php line 64\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in\nVerifyCsrfToken.php line 51\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nShareErrorsFromSession.php line 49\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nStartSession.php line 64\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nAddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse),\n'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nEncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in\nCheckForMaintenanceMode.php line 44\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'),\narray(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line\n103\nat Pipeline->then(object(Closure)) in Kernel.php line 132\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 99\nat Kernel->handle(object(Request)) in index.php line 52`\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/987#issuecomment-238153368,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEaj-DpGbeNXFm-nZniSFtvnQ8fh9Xotks5qds9cgaJpZM4JONT2\n.\n. It's odd that your .env file had 256-CBC, it's the new default but\nshouldn't be set for older installs.\n\nHow did you install/update the app? From the error I think the problem is\nmost likely related to your cipher and/or key.\nOn Mon, Aug 8, 2016 at 9:50 AM Luke Alford notifications@github.com wrote:\n\nmy .env has\nAPP_CIPHER=AES-256-CBC\nI commented it out and added\nAPP_CIPHER=rijndael-128\nstill no different do I need to run\nphp artisan config:cache && php artisan cache:clear\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/987#issuecomment-238154824,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEaj-KXzsCKjuuUvo_Keh5cP_L6laq_wks5qdtGngaJpZM4JONT2\n.\n. If you have your old key it should work with APP_CIPHER=rijndael-128. I'd suggest trying it again and double checking you're seeing the same error in the log. \n. You mentioned artisan cache, we don't suggest using it but you would need to clear it for these changes to take effect. \n. Try APP_CIPHER=rijndael-256\n. Can you check if the cipher value is in your original .env file\n. I'm not sure, you may want to try updating again but rather than use the new .env.example file use your original .env file. The app should check if the value is missing and automatically add it, it didn't happen for you because the new value was already there. \n. Maybe try using artisan tinker from the command line on both servers to check the values:\n\n-> php artisan tinker\n\n\n\nenv('APP_KEY');\nenv('APP_CIPHER');\n. Can you explain what you mean by 'this will mess with dates maybe'\n\n\n\nReading back through the thread the one thing that seems odd to me is the value was in the app.php file. The default (SomeRandomStringSomeRandomString) is there however when the app is first installed it should set a new value in the .env file which overrides the default. \n. I'm not sure which issue you're referring to, do you have a link?\nTypically a full mysql_dump but it's likely you'll see the same problem. Note: the JSON export only includes clients, invoices and payments. \n. The error is from generating a new key with existing encrypted data, the app is failing to decrypt with the new key. \nTry putting back your previous APP_KEY and then run the steps here:\nhttp://docs.invoiceninja.com/en/latest/update.html#version-4-0. Is there a value set for APP_CIPHER? You may not need to update your key.. If you're already using AES-256-CBC then you don't need to update your key. . Do you see the same error using your old APP_KEY? . One workaround is to manually archive the payment gateway in the database (the table is account_gateways) however if you have cards on file you wouldn't be able to use them.. Don't delete the records, you want to set the deleted_at value to now(). \nI'd also suggest making a backup of your database first. . Glad to hear it's working! . I'm not sure about this change. We're working to remove as much as possible from the session, this seems to take us in the other direction. \n. Thanks!\n. It isn't currently possible to force send it through the API. I'd suggest setting the start date to today or earlier and then have the cron send the invoice . \n. You could try manually calling the ninja:send-invoices artisan command after creating the invoice. \n. Gotcha, that won't be possible then. \n. Thanks for creating the pull request!\nSorry we can't merge it, hopefully other people find it useful. \n. Amazing, thanks!!\n. I tried merging this manually but I'm not sure that it was successful. \n. To be clear, I assume you're using the 'Website' feature on /settings/email_settings.\nWe should be able to make this change, we'll look into adding it in a future release. \n. Nice, thanks!! \n. Thanks for letting us know, I'll take a look... \n. I've checked in a fix, we'll release a new version soon. \n. Thanks!!\n. Thanks!!\n. Thanks again @codedge and @nerdoc\n. It was actually implemented as a feature but I see how it could cause confusion. \n. Amazing, thanks!!\n. Are you seeing this in all browsers or just Chrome? \n. Can you check that you don't have any unenclosed spaces in the .env file.\nFor example change:\nMAIL_FROM_NAME=Invoice Ninja\nto \nMAIL_FROM_NAME=\"Invoice Ninja\"\n. Note: to use the debug bar you need to require-dev when using composer install.\n. The common fix for 'Class log does not exist' is to check for spaces in the .env file:\nhttps://laracasts.com/discuss/channels/laravel/error-when-upgrading-to-52-class-log-does-not-exist\nIt's possible 'composer dump-autoload' may help. \n. Are you still seeing the 'Class log does not exist' error? \n. Do you have an anti-virus running?\nhttp://thisinterestsme.com/err_incomplete_chunked_encoding/ \n. You could try a clean install. It's easier to use our self host zip as it includes the third party libraries. You'd need to backup/restore the database and keep the .env file. \n. Make sure to also save the .env file \n. I don't think they're related as the error messages are different. \nIf you haven't already it may be worth trying to install the app on a different server to see if the error is specific to your server settings. \n. Maybe this will help...\nhttps://robotsystematic.com/err_incomplete_chunked_encoding-wordpress\n. That's strange, I have no idea. \nDid you change any settings to start sending emails? \n. We saw a similar problem with the photo design in the past due to it being so large,  we fixed it by changing the type for the pdfmake column in the database to mediumtext. \nYou can check it with the following SQL query: describe invoice_designs;\n. Thanks! This has been there a while, I never noticed the files. \n. Thanks!\n. Thanks!\n. @codedge are you able to easily resolve the conflicts? \n. Thanks!\n. Thanks again!\n. Thanks!\n. I believe you can fix it by adding a Google Map JavaScript API key to your .env file. \n. Thanks again!\n. Thanks for the suggestion!\nWould taxes need to be applied to the fee?\n. Are there any errors in the browser console\n. Are you using Firefox?\n. We've seen this with other users, the suggestions here may help:\nhttps://support.mozilla.org/en-US/kb/view-pdf-files-firefox-without-downloading-them\nOtherwise you can force the app to use the JavaScript PDF renderer by calling /force_inline_pdf\n. Can you reproduce the problem?\n. One option is to add it to the invoice terms. \n. Are you seeing the delay on all page requests or just some? The longest delays I see come from sending emails, we're working on implementing queues to fix this. \nWe plan to clean up the routes file however from testing caching the routes has a very small impact on performance. \n. If you set APP_DEBUG to false in the .env I don't think it would have a performance impact. \nCan you check your browser console to see where the delays are?\nWe're also looking into improving our JS/CSS assets, they aren't currently all minified. \n. Sorry for the delayed response, I don't think it will prevent the packages from being registered. \n. Thanks!!\n. @codedge, thanks for helping out!\nI think we should focus on \"Cannot redeclare class CreatePasswordResetsTable\", can you search your codebase to find all references to CreatePasswordResetsTable.\nIt may help to run php artisan optimize and/or composer dump-autoload\n. Do you have other versions of the app installed on the server?\nAny luck with artisan or composer?\n. Thanks, learned something new :)\n. Have you tried enabling ext-gmp\nhttp://serverfault.com/questions/429585/how-to-install-enable-gmp-math-functions-for-php-on-ubuntu \n. I think you're right, I've emailed the blog asking them to update the post. \n. You should just need to enable ext-gmp.. Just to clarify... you've created a phpinfo() page which shows that the gmp module is enabled but composer says it isn't? I'm not sure what could explain that. . From the error it looks like Git isn't installed.\nNote: if you use our self host zip you don't need to use composer or git. \nhttps://www.invoiceninja.org/. Are there details about the error in storage/logs/laravel-error.log. Not sure about this one. @lalop, do you have any ideas?\n. Maybe try setting encryption to blank in config/mail.php. \n. Thanks!!\n. If you haven't already please try adding APP_CIPHER=rijndael-128 to the .env file. \nNote; afterwards I'd suggest loading /update (or /public/update) to check that the database migrations complete successfully. \n. If you're self hosting the app you should use mysql_dump to move the data. \n. Thanks for the suggestion! \n. This was added in v3.5\nhttps://trello.com/c/3rm48uRd/107-recurring-expenses. Maybe this will help.... \nhttps://laracasts.com/discuss/channels/laravel/missing-argument-3-on-server-bootstrap-cache\n. Thanks @codedge, I think it may be fixed in 2.6.10 \n. I think it may be a permissions issue, see the steps here:\nhttps://www.invoiceninja.com/self-host/#step2\n. Thanks for the info! It looks like the file is in GitHub, am I missing something?\nhttps://github.com/invoiceninja/invoiceninja/tree/master/bootstrap/cache \n. I'm not sure... we generally advise using our self host zip to update as it includes all of the third party libraries. \nhttp://www.invoiceninja.org/ \n. Good catch, thanks!\n. Thanks!\n. Amazing improvement, the built file went from 1.68 MB to 1.01 MB.\n. Thanks for the fix but it's on the wrong branch.\n. Thanks again!!\n. Our logo got a lot bigger with this change, was it intentional? \n. Yeah, I like it too. \n. Thanks!\n. Thanks!\n. Are you able to resolve the conflicts?\n. Looks good, thanks!\n. Thanks, I appreciate the change. Trying it out I'm concerned the UI may start to feel too cluttered. \nI think a better approach may be to simply add a 'Help' link to the navigation which takes you to the relevant page in the docs. \n. Kind of, I was think a question mark icon next to the settings icon. \nFYI... in our v2.7 release we're planning switch to use a left sidebar navigation. Along the lines of: https://almsaeedstudio.com/adminlte2.png\n. Kind of, I was think a question mark icon next to the settings icon. \nFYI... in our v2.7 release we're planning switch to use a left sidebar navigation. Along the lines of: https://almsaeedstudio.com/adminlte2.png\n. You may want to wait on adding the help icon until readthedocs is implemented, ideally I'd like to figure out a way to auto-match the page to the docs. \n. You may want to wait on adding the help icon until readthedocs is implemented, ideally I'd like to figure out a way to auto-match the page to the docs. \n. Try applying this change to your codebase\nhttps://github.com/invoiceninja/invoiceninja/commit/f7e499da4d11b70a18d11d98b43904b8e9b839a5 \n. Try applying this change to your codebase\nhttps://github.com/invoiceninja/invoiceninja/commit/f7e499da4d11b70a18d11d98b43904b8e9b839a5 \n. A - W - E - S - O - M - E !!!\nI hope to test\\merge early next week. \n. A - W - E - S - O - M - E !!!\nI hope to test\\merge early next week. \n. One option may be to hide the update UI if the update source is set to empty in the .env file.\nSELF_UPDATER_SOURCE=\n. One option may be to hide the update UI if the update source is set to empty in the .env file.\nSELF_UPDATER_SOURCE=\n. For now the UI is already hidden, I'll make sure this is in place when we display it. \n. For now the UI is already hidden, I'll make sure this is in place when we display it. \n. I'm not sure, how did you install/update the app?\nMaybe use 'View source' and search for function wordWrapText\n. I'm not sure, how did you install/update the app?\nMaybe use 'View source' and search for function wordWrapText\n. Can you click 'edit:330' to see the code\n. Can you click 'edit:330' to see the code\n. Great to hear, thanks for letting us know!\n. Great to hear, thanks for letting us know!\n. Maybe...\nThank you for your well written issue, we've looked into this in the past and decided not to move the app in this direction.\n- This is a large undertaking and will add a fair amount of complexity to the codebase\n- Our target market are freelancers/solopreneurs, most aren't familiar with double-entry accounting\nWhile this may be extremely useful/required by larger businesses the vast majority of our user base won't use it. \nIt's possible we'd accept a pull request, if you want to make sure it's merged we'd need to agree on the implementation details ahead of time. \n. Maybe...\nThank you for your well written issue, we've looked into this in the past and decided not to move the app in this direction.\n- This is a large undertaking and will add a fair amount of complexity to the codebase\n- Our target market are freelancers/solopreneurs, most aren't familiar with double-entry accounting\nWhile this may be extremely useful/required by larger businesses the vast majority of our user base won't use it. \nIt's possible we'd accept a pull request, if you want to make sure it's merged we'd need to agree on the implementation details ahead of time. \n. https://www.invoiceninja.com/knowledgebase/\n. https://www.invoiceninja.com/knowledgebase/\n. No update on this, I think it'd be best to eventually support both options. . No update on this, I think it'd be best to eventually support both options. . You may be able to combine using the invoice taxes and invoice item taxes to set up to 4 tax rates. \n. Sorry, we don't have plans to add any more tax rates. \n. Thank you for your well written issue!\nWhen we first started working on the app choosing a license was an extremely difficult decision, that said now that we've had a few years in production we're extremely happy with our choice.\nThe license is designed to be flexible for personal use, individual users can make any changes they want to the code. However, by design we want to prevent businesses from reselling our app. \n- There are three main partners running the app divided over two continents.\n- We have a reseller program to support precisely this. For example, in some countries the tax laws are too restrictive for our app to work. We're currently working with partners around the world to make the changes needed.\n- We'll have to cross that bridge when we get there. We've been actively developing the app for over three years now and have no plans of slowing down.\nhttps://github.com/invoiceninja/invoiceninja/graphs/contributors \nOne of the main goals of our license is to ensure the financial success of our company. We work extremely hard to provide a pretty good app at no cost to the open-source community, that said we need to make money to keep adding these great features. The Attribution Assurance License has proven itself to us to be an excellent choice in this regard. \n. Thanks for the suggestion, from a quick review it looks promising.\nI'll keep you posted... \n. We've decided to remain with our current license, we feel the AAL license is simply a better fit. \n. There should already be a \"Powered by InvoiceNinja.com ...\" footer at the bottom of the page. We could add the 'created by' info in the title tag or change the text to include it.\nI'm not so into the .env idea, we'd like the link to always be shown. \n. You would need to leave our branding in place, removing the branding requires joining our reseller program.. Correct. The white label license is intended for personal use. It only removes our branding from client facing parts of the app, joining our reseller program enables you to remove all of our branding.. There's a route in the app which (when enabled for resellers) enables us to invoice you. . I think you're right, they should see the link to the view/edit page as long as they can't make any changes. \n. Sure, that'd be great! Please check though that the action buttons aren't visible if the user can't edit. Also, make sure to create the PR against the develop branch. \n. I've checked in a fix on the develop branch\n. Sorry, this won't be added. \nThere are many great solutions out there to provide this functionality, our plan is to continue to improve on our invoicing functionality. We'd rather do one thing great than a bunch of things reasonably well.\n. Noted, thanks. \n. I'm not sure, I'm not seeing the issue. \nAre you seeing the problem on https://www.invoiceninja.com \n. Maybe check if you have a custom font selected on /settings/invoice_design\n. I'm not sure, I'm not seeing the problem with roboto. I assume it's where they're using for the jspdf demo. \n. Sorry, not sure... \nAre you seeing the problem on https://www.invoiceninja.com/\n. Maybe changing the color cleared the cache which had the problem? \n. More likely... \n. Try commenting out line 93 in vendor/asgrim/ofxparser/lib/OfxParser/Parser.php\nreturn \"<{$matches[1]}>{$matches[2]}{$matches[1]}\";\n. Ok, we'll look into it for the next release. \nYou can post here, to our support forum or email us at contact@invoiceninja.com.\n. This is the first I've heard of it, we'll look into it. \n. Thanks!!\n. Thanks for the change but we only accept pull request against our develop branch.\nAlso I'm not sure this change would work, have you tested it? \n. I wouldn't want to clutter the UI which all of the fields but it could be useful to support filling all of the fields by manually adding them to the URL. \n. If you're a developer you could probably make this change with a self host install. \n. Sorry, this seems a bit too specific. Our app supports the behavior, you just need to manually select/deselect the tax rate. I agree, we should be doing a better job automating, not sure this is the right change though. \n. This is only supported if you're self hosting the app\nhttps://www.invoiceninja.com/self-host/#fonts\n. @pegasus87 thanks for the suggestion! . Agreed\n. Most of the dependancies in the composer.json file are OmniPay drivers. That said I'm all for removing dependancies where possible, the challenge is we're using the libraries or support our features. \nAre there any dependancies in particular you think can be removed? \n. Thanks very much for the fix!\n. Thanks for letting us know, we'll look into it. \n. We currently support invoice item taxes, you can enable this by setting a default tax for the product. We'll change it in our next release to also set the default invoice tax if it's set. \n. Have you run composer install \n. Maybe this will help...\nhttps://laracasts.com/discuss/channels/laravel/missing-argument-3-on-server-bootstrap-cache\n. Thanks!!\n. Thanks for the suggestion, we'll look into it. \n. You need to run gulp (faster) or gulp --production (minified) to update the built files. \n. I think you need to run npm install and bower install\n. I also just noticed this, try applying this change:\nhttps://github.com/invoiceninja/invoiceninja/commit/ec963e0823f65f993311aef07e2cf51541211bdb#diff-6d129cf2e3c4d3b82c917f808a29d8aa \n. Do you see any errors in storage/logs/laravel-error.log\n. Thanks for the info!\n. Agreed\n. Thanks!\nThe CSS files are compiled by running gulp --production, I've checked in updated versions. \n. That isn't currently supported. \nAs a workaround you could setup two separate instances of the app. \n. Thanks for catching it!\n. Turns out this was a duplicate file which I've removed.\nThanks again for letting us know. \n. I'm not sure, I haven't seen this error. \nPlease let us know if it returns, and if possible how to reproduce it. \n. Assuming you're self hosting you could use info@mail.domain.com as the application email address and info@domain.com as the user's email address to accomplish this. \nI don't see us adding this as an option though, it isn't a common request. \n. The reply to header is set to the user's email, with the settings above the reply to will be info@domain.com\n. Not that I'm aware of\n. We now support setting all email fields. . It was a response to:\n\nSadly can not make it work with sendgrid. Sendgrid smtp needs a username which is \"apikey\" string and a password which is the generated api key. Is there a workaround?\n\nWe now support 'From Address' and 'Username' on /settings/system_settings. Thanks for the offer, we'll add the option in our next release. . Not sure... please try re-uploading your logo \n. I'm not sure, if that were the case I wouldn't expect recreating the database to fix it. \n. I'm not sure I follow, what would you suggest instead of https://www.xxx.com/logo/xxx.png \n. I've checked in this change, let me know if it helps. \n. Sorry, it isn't currently supported. \n. You would need to create two separate companies \n. What about setting the due date\\banking info as the default invoice terms. \n. I'm not seeing an error with your example. \n. Not sure... I tried the clean design, changed to 'Code' view and then replaced \"$notesAndTerms\" with your value. \n. If you've created an invoice when you click 'Help' on /settings/customize_design you should see a list of variables. \n. We've improved the variables so they can now be used anywhere in the invoice, for example you can use \"The invoice number is $invoice.invoiceNumber\" in the terms on /invoices/create. . Thanks for the correction, I've updated the docs.\n. I'm having trouble replicating this, after following the steps the invoice was marked as paid. \n. Can you please double check these exact steps work for you to replicate the problem. \n. Ok, thanks. We'll look into it.\n@anythingtechaus, can you replicate the problem with the steps above? \n. Are you able to replicate the problem, if so using what steps? If you haven't already try re-saving the invoice. \nNote: a code change won't fix existing data, it would only prevent future errors. . Ok, if you're able to figure out how to reproduce the problem it would be very helpful. . That's interesting, please try changing this line in app/Models/Invoice.php to the following and try again.\nif (floatval($this->amount) > 0 && floatval($this->balance) == 0) {. Try adding this code just before it, it will output to storage/logs/laravel-info.log.\n\\Log::info($this->amount);\n\\Log::info($this->balance);. Can you post a screenshot of the invoice so I can try to replicate with the same values. . Thanks!. I think you're right that it's a rounding problem, the tax should be 114.89. \nI believe the problem may have been fixed. In my tests when creating this invoice with the latest version of the app it's being calculated correctly. If you re-create the invoice is the tax still wrong?. It looks like that's the problem, we'll include a fix with our next release. . Thanks for the suggestion! This would be a pretty big change, maybe you could store the shipping address in the client notes section. \n. We've added optional client fields to store the shipping address.\nWe plan to support creating a delivery note #462 which uses the shipping address but don't yet plan on supporting showing the shipping address on the invoice.. Delivery notes were also added in v4.0 . It could be, I'll try to replicate the problem.\nDelivery notes should use the shipping address if set, otherwise it will fallback to the billing address. . That would explain the problem, we'll look into handling this case. . For the future... . The link is 404\n. Are you seeing the problem with a fresh install?\nNote: if you change the date_formats table you need to add ?clear_cache=true to the URL to clear the cache. \n. Are you using our latest version (v2.7.2)\n. Sorry, not sure. You can try debugging the code, here's where the date is parsed.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Libraries/Utils.php#L524\n. I think the right solution here is to improve our email template variables so you could use a custom client field. \n. This use case is covered here: https://www.youtube.com/watch?v=4CaH8E25gN8. Thanks for the heads up.\nAgreed, we'll look into removing the dev-master references.\n. Thanks for the change!\nWe're glad to merge it but the PR needs to be created against the develop branch.\n. Thanks for the change!\nRather than check for each row can you add a single check at the top, this approach would generate many extra queries.\nAlso, please create the PR against the develop branch. \n. Thanks!\n. Thanks for letting us know, we'll look into it.\n. I don't think I'm able to replicate the problem.\nCan you explain what you mean by 'payment and invoice attached'\n. Thanks for the suggestion, we'll look into it for a future release. \n. We're moving to new servers tomorrow which should resolve the problem. \n. We're now live on our new servers, please let us know if you continue to see this problem. \n. That'd be great, we manage our languages here: https://www.transifex.com/invoice-ninja/invoice-ninja/ \n. We're looking into improving this area of the app. I'm not sure if we'll add UI to control it but I agree the app should auto-logout users after a set period of time. \n. We've added the following .env values:\nREMEMBER_ME_ENABLED=true\nAUTO_LOGOUT_SECONDS=28800\n. Not sure about this as it would add a fair amount of complexity. I agree our current user model is limited but I think it's a good trade off of features\\complexity. \n. We currently support employees submitting time themselves, the user would just need 'create' permission. \n. Currently a user can see something if they created it or if they have 'view all' permission. It's an admittedly simple solution which won't work for everyone. \nTo grant access to individual records we need to store (for example) a user id and invoice id. I agree it's more powerful but the implementation would be far more complex. We generally focus our time on features suited to individuals\\smaller teams.\n. I think you may have misread my comment, it isn't supported. \n. Sorry, no. Without 'view all' permission a user can't see something they didn't create. \n. If you know PHP\\Laravel you can try implementing the changes, it's unlikely we'd accept a pull request though. \nFrom within the app the user could share the link to the client portal. The drawback to this approach is it would (I believe) mark the invoice as viewed. Disabling this would require a much simpler change.\n. To be clear, I was suggesting using the client portal rather than the dashboard. You can either click 'View as recipient' on the invoice or 'Client Portal' on the client page to access it. This would give the second user access to all invoices\\quotes\\payments for the client. \nI've checked the code, this should work without any changes needed. \n. Sorry, not sure what else to suggest. \n. I'm not sure I understand, what are your clients signing up for? \n. Maybe you could use 'buy now' buttons on /settings/client_portal\n. The 'buy now' button can automatically create an invoice and client record. \nSupport for creating additional Invoice Ninja accounts requires joining our reseller program. \n. I'm not sure I understand the sequence, can you please provide more details. \n. Gotcha.\nWe recently added running tasks to the dashboard, we'll consider this for a future release. \n. If you email us at contact@invoiceninja.com we can refer you to a partner \n. Thanks for the fix! \nCan you please create the PR against the develop branch\n. There are a lot of conflicts, it's such a small change it may be easier to create a new PR. \n. Thanks for catching this, I've checked a fix into the develop branch. \n. Thanks for the correction, would you be able to create the PR against our develop branch? \n. Thanks for the change!\nIs the code no longer needed? We started with Laravel 4.x, I'm sure a lot of the user auth code has changed over time. \n. Great, thanks! I'll merge it once I've had a chance to test the changes. \n. Thanks again!\n. Sorry, this is by design.\nAll financial aspects of the invoice are frozen, however user\\client details show the current values. \n. We take a snapshot of the invoice to support the 'invoice history' feature, we'll look into making this accessible from the payment. \n. We've added a 'View Invoice' link to the payment actions. . I'm not able to replicate the problem., can you explain what you mean by \"change the paynow button\".\nAlso, can you check what you have for line 273 in /home/admin/web/client.lipe.ch/ninja/storage/framework/views/60f17289790e121d3a28ff6a65d0a3b3890f8ed2.php\n. I'm not sure... what did you mean by \"I think that I change the paynow button with a special character like ' \"\n. Can you test with the unmodified version of the text.\nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/master/resources/lang/fr/texts.php\n. Not sure, you may want to install from scratch. \n. Thanks for the fix! Sorry about that :/\nIt worked in my testing but I was only using a single account.\n. It looks like we support exporting vendors but not expenses.\nWe'll add this in a future release. \n. Agreed, this is planned for a future release.\nhttps://trello.com/c/Of8qpqQU/101-support-setting-task-project \n. This has been added in the develop branch. Try changing line 155 of app/Includes/parsecsv.lib.php from function parseCSV to function __construct.\nI've checked this change into the develop branch: https://github.com/invoiceninja/invoiceninja/commit/346dde8e97daf1b80c746c0190c290752aba2f7f\n. Great to hear, thanks for letting us know! . You can fix this by commenting out the __construct function in app/Http/Requests/Request.php\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Requests/Request.php#L14\nWe\u2019ll include a fix in the next minor release.\n. I'm having trouble replicating the problem, I've tried importing a products CSV with the following contents:\nItem,Notes,Price\nKEY,\u00f6\u00fc\u00e4,10. Are you using CSV or an Excel file?\n\nIt'd be helpful it you could email a file which demonstrates the problem to contact@invoiceninja.com.  . Thanks! I'm able to replicate the problem.\nIt looks like the file is parsed correctly (using https://github.com/parsecsv/parsecsv-for-php) however the strings with umlauts are set as binary (shown as b\"T\u00e4st\"). I haven't yet found a solution, as a workaround it may work if you import using an Excel XLS file as it uses a different parser. . This merge was back in 2014 before we had created the tasks feature.\nWe hope to add timesheets eventually but don't have immediate plans to work on the feature. . We still hope to add it, hopefully some time later this year. . Not sure I understand... We're looking into adding a timesheet interface in the future but it would be used to quickly create tasks in bulk. If you want to see your tasks as a PDF you could export the tasks report. . It's possible but we have a lot of other features to implement first... . I've had to rollback the change, it caused the right alignment of the table to be off. \n. No worries. \n. Are there any details in your web server error logs? \n. Have you tested with a different browser?\n. Thanks for everyone's feedback and @turbo124 for the excellent suggestion! This is our next priority (along with of course our Android app).\nFor this to work we need to make it as easy as possible to create a module, to that end we plan to create a Laravel package which enables easily reading/writing data as well as subscribing to events. \n. Early version....\nhttps://github.com/invoiceninja/sdk-php\n. I've checked basic support for modules in to the develop branch. You can enable modules by setting the CUSTOM_MODULES property in the .env file. For example: CUSTOM_MODULES=http://localhost/module1.php,http://localhost/module2.php. \nThe module should enable the user to specify the app's API URL and Token. It can return meta data to the app by responding to ?action=info. For example:\nif (isset($_REQUEST['action']) && $_REQUEST['action'] == 'info') {\n    echo json_encode([\n                'name' => 'Module Name',\n                'author' => 'Author Name',\n                'description' => 'A sample module',\n                'version' => '1.0',\n                'icon' => 'http://example.com',\n                'website' => 'http://example.com',\n        ]);\n    exit;\n}\n\n. I realize this first solution isn't ideal, we're looking into the following library to possibly support tighter integrations.\nhttps://github.com/nWidart/laravel-modules. Support for modules has been checked into the develop branch.\nHere are some basic docs: http://docs.invoiceninja.com/en/latest/custom_modules.html . Big thanks to @justkidding96 for suggesting the library!. I've checked in a basic CRUD generator to the develop branch.\nhttp://docs.invoiceninja.com/en/latest/custom_modules.html#create-module. Short video on the new modules feature: https://www.youtube.com/watch?v=8jJ-PYuq85k . Thanks, we'll look into adding it. \n. @joel6890 Thanks for the feedback! If you could email the screenshot to contact@invoiceninja.com it'd be helpful. . In our next release we've added the company info to the client portal dashboard, and (by default) have removed the activity table. We hope to add the ability to update credit card details in a future release. \n\n. You need to create a Google Maps API key for the Javascript, Geocoding and Embed APIs. \nhttps://developers.google.com/maps/documentation/javascript/get-api-key\n. https://github.com/invoiceninja/invoiceninja/blob/master/.env.example#L49\n. - Check that all three APIs are enabled\n- Check for errors in the browser console\n. There's no problem using master, it should be pretty stable. Even the develop branch should generally work. \nCan you add some debug code here to check the values for $toEmail and $fromEmail. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/Mailer.php#L21\nMaybe it's related to this problem:\nhttps://www.invoiceninja.com/forums/topic/smtp-and-sendgrid/\n. Maybe the info here will help: https://www.invoiceninja.com/forums/topic/smtp-and-sendgrid/\n. No worries, glad you were able to figure it out. \n. You can use any format you like, after you import the file you're able to map the columns to fields in our system.\n. Thanks, I'll take a look. It should be a small change. \n. I've added additional client fields to the CSV export, it will be included with our next release.\n. Can you check if the CSV file includes the item amounts, many providers just include the invoice totals.\n. Can you please email it to contact@invoiceninja.com and we'll take a look. \n. This hasn't been fixed yet. We're working to wrap up v2.9, we'll try to include this in v3.0. . One is the contact phone number the other is the company phone number, we'll look into clarifying the labels. \n. I'm not sure, I'm not seeing the problem. How are you updating/installing the app, are you using Docker?\nFrom the error it looks like the ConstantsSeeder might not have been run as this error could occur if the payment_libraries table is empty. That would make sense with updating though as had it not run the app wouldn't have worked. \n. We use seeders to populate the tables, for example php artisan db:seed\n@lalop any ideas?\n. Thanks for the info, the payment_libraries table should be populated by the ConstantsSeeder.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/seeds/ConstantsSeeder.php#L59\n. Are there any errors in the browser console?\n. Are there any errors in storage/logs/laravel-error.log \n. If you enable debug mode in the .env file you can use the debugbar to view the SQL query being run. You can then run it directly against the database to see why it isn't retuning and data. \n. You shouldn't be seeing these foreign key issues, have you considered using our Dockerfile instead?\n. Many times, plus our automated tests also setup the app from scratch.\nhttps://travis-ci.org/invoiceninja/invoiceninja\n. Thanks!\n. Which version are you using?\n. I think this should be fixed in v2.8, if it isn't let us know and we'll correct it. \n. No worries, thanks for letting us know.\n. Currently it only affects the totals on the dashboard.\n. Have you tried manually setting the date range on /settings/reports to generate the report. @hogze94, I'm not sure I understand. Are you referring to the fiscal year setting or exporting the data? The fiscal year setting always uses the 1st of the month and the report lets you select the day. . Correct.\n\n'First day of the week' is used in the date selectors. \n'First month of the year' is used on the dashboard. . Thanks for letting us know, I'll look into it. \n. When we moved products to the top-level navigation it started using the standard list pages which automatically include the delete option. We'll add is_deleted in a future version to standardize it, for now I've just hidden the option. \n. You can archive them instead. \n. This has been fixed. We\u2019ll include a fix with our next dot release.\n\nHere\u2019s the change if you want to patch your code: https://github.com/invoiceninja/invoiceninja/commit/a9a94df97389e1fa43c4fd81f5f488921ae7eec8\n. You'll need to restore the invoice, change the invoice number to a value you won't use and then delete it again. \nIf it's isn't showing in deleted you may need to restore the client. \n. In order to ensure referential integrity we don't support fully deleting any records. \nI don't advise manually deleting records from the database, it will very likely cause problems. \n. You may want to start from scratch with a new database. \n. You could try to backup/restore the accounts table to a new database \n. Are you using our latest version (v2.8)?\n. Thanks for letting us know!\n. Try running composer install\n. Try running php artisan db:seed --class=UpdateSeeder then clear the cache by adding ?clear_cache=true to the URL.\nThe Alipay\\ExpressGateway driver name has changed, you may have a mismatch between the code and database. \n. Great to hear!\n. We\u2019ll include a fix with our next dot release.\nHere\u2019s the change if you want to patch your code: https://github.com/invoiceninja/invoiceninja/commit/a9a94df97389e1fa43c4fd81f5f488921ae7eec8\n. Try clearing you cache by adding ?clear_cache=true to the end of the URL\n. Try loading /update or (/public/update) in your browser to see if there are any errors. \n. Can you try commenting out the contents of the up function in database/migrations/2016_11_03_113316_add_invoice_signature.php and then loading /update. . Can you run the following SQL query: select * from gateway_types;\n. Have you enabled a custom online payment method, if so try archiving it to see if it helps. . I think I see the problem, try changing the following lines in resources/views/accounts/templates_and_reminders.blade.php from:\n<li>${{ Utils::toCamelCase(\\App\\Models\\GatewayType::getAliasFromId($type)) }}Link</li>\n<li>${{ Utils::toCamelCase(\\App\\Models\\GatewayType::getAliasFromId($type)) }}Button</li>\n\nTo\n@if ($type != GATEWAY_TYPE_TOKEN)\n    <li>${{ Utils::toCamelCase(\\App\\Models\\GatewayType::getAliasFromId($type)) }}Link</li>\n    <li>${{ Utils::toCamelCase(\\App\\Models\\GatewayType::getAliasFromId($type)) }}Button</li>\n@endif`\n\n. Great, we'll include this fix with our next release. . Great, thanks for letting us know!. Thanks for the change, but there are a few problems:\n- We only accept pull requests against the develop branch \n- The order of some of the records have been changed which could affect current users\n- We don't generally add gateways specific to one country\n. Changing the order in the seeder means their database ids would change, this would cause a major problem for existing users. Sorting would need to be applied when retrieving the records from the database. We'll need to do more research but I'm not sure we'll be able to add the payment types. \n. If you're self hosting you can just add the rows to the payment_types table and then clear the cache by adding ?clear_cache=true to the end of the URL. \n. We're happy to add them to the list. To clarify, this change just adds them as options when creating a manual payment. Supporting online payments would require adding an Omnipay driver.\nhttps://github.com/thephpleague/omnipay#payment-gateways. @Braintelligence Thanks for the info!. Are you using Docker? Are there any errors in storage/logs/laravel-error.log? \n. Maybe one of these answers will help...\nhttp://stackoverflow.com/a/22927341\n. Rather than archive the gateway with our latest version (2.8) you could temporarily set the gateway max limit to 0. \n. Assuming I'm understanding your correctly the app supports this.\nYou can click the 'Email Invoice' button to resend an existing invoice, if 'Attach Invoice/PDF' is enabled under /settings/email_settings the PDF should be attached. . Thanks for clarifying, understood. . We currently restrict using the 'ninja' subdomain, we plan to remove this restriction from the self host version of the app with our next release.\nUntil then you can comment out the code here: https://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/AccountController.php#L891. Rereading your original comment...\n\nThe value there should only be the subdomain. ie, ninja\nSince you're self hosting you don't need to use that field at all, you can configure your web server to use the /public folder as the web root and use any URL you'd like. You just need to set it as the APP_URL value in the .env file . Great to hear, thanks for letting us know!. You can delete the payment to restore the invoice's balance. . This is a bug which will be fixed in our next release, you should be able to fix it by adding the following line of code: \n\nhttps://github.com/invoiceninja/invoiceninja/blob/develop/app/Ninja/Repositories/DashboardRepository.php#L198. I've re-opened @1157. Thanks for the change but translations are managed here:\nhttps://www.transifex.com/invoice-ninja/\nAlso, if you create any PRs in the future please create them against the develop branch. . In our latest version we support requiring a signature when paying for the invoice.\nI don't think it's likely we'd add it for delivery though. . We currently support enabling this for invoices OR quotes. . On our hosted platform the basic settings are available to all users while the advanced settings (including reports) are only available to pro\\enterprise users.\nUntil recently the navigation was at the top of the page which made space limited, now that the navigation is along the side it's possible we'll move it in the future. . Looks good, thanks!. I'm not sure, I see the file in the zip. \nIf the zip were broken we'd expect more people to be seeing the same problem. . https://getcomposer.org/doc/faqs/should-i-commit-the-dependencies-in-my-vendor-directory.md. This seems like two separate suggestions:\n- I'm not sure GitHub is the best place to store large files, they have a max limit of 100MB.\n- Checksums would be nice, maybe in the future... . Thanks, but please create pull requests against the develop branch.\n. Thanks for the suggestion, we'll keep it in mind for a future release. . You can load /force_inline_pdf to use a JavaScript renderer in place of the Firefox PDF viewer. . We've seen this problem in Firefox for a while but never in Chrome, maybe they deployed a new release? . Maybe this will help:\nhttps://support.google.com/chrome/answer/6213030?hl=en . Can you click through on the unexpected token error to see the line of code? \nIf you want to send a test invoice to contact@invoiceninja.com I can try to debug it for you.  . Do you have 'Live preview' disable? If so does enabling it help. . I'm not sure, I'm not able to replicate the problem. Is this both on the list pages and the PDF?\nYou can try add console.log(decorator); on the following line to try to debug the problem.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/money_script.blade.php#L76. What do you see when running this SQL query:\nselect show_currency_code from accounts; . Try viewing the source of the invoice page and searching for \"show_currency_code\":\nIn my dev environment I see \"show_currency_code\":0, . That helps but it isn't clear why you're seeing \"0\".\nYou should be able to workaround it by changing line 60 in resources/views/money_script.blade.php to:\ndecorator = parseInt(account.show_currency_code) ? 'code' : 'symbol';. We'd be happy to add the currency, please create a PR against the develop branch and we'll include it with our next major release. . No worries . I'm not sure.\nI'd suggest checking the Dwolla id is correct as well checking for any errors in the browser console.. If you could create the PR against the develop branch it would be helpful. Thanks!. If recurring invoices exist they should be shown on the Invoices tab, is that what you mean?\nIn our next release we're creating a separate tab for recurring invoices. . This change will be included with our next release. . We currently support this if auto billing is enabled, we'll consider adding this for non-auto billed invoices as well. . Can you clarify, your request is mainly supported. . Thanks for the change but it looks like the composer.lock file has many more changes in it. . If you change the composer.json and run composer update it will update all packages, I believe you'd need to run composer update <package name> -lock . Can you check your time zone is correct on /settings/localization. Thanks for the suggestion, I'll take a look. . Sorry, I haven't been able to make this work. . I have do doubt this works however we need a solution which works for everyone. . Thanks for the improvement.\nNote, I may change the event ids.. If you could make a PR that'd be great,\nThe trans() function should probably be added in the method function in PaymentPresenter.. Thanks for the suggestion, we'll look into it for a future release. . There isn't a setup.php file, it's a /setup web route. \nAre there details on the 500 error? Also, are you using an empty database? . Are there any more details about the error in the web server error logs. . Is it possible when you fresh installed 2.8.1 you were still using the old database. . Thanks for letting us know how you fixed it.. What error do you see?\nAlso, why not update the app rather than do a fresh install? . We don't yet have an auto-updater, you should just need to copy over the latest files.\nCan you try loading /update in your browser. . Thanks!\nWhat do you see on subdomain.example.com/public/update. I just want to confirm you're using the zip from our self host page not GitHub, it would explain the 'class not found error'. Our zip includes the third-party libraries whereas the zip from GItHub requires using composer from the command line to download the files. . Thanks for letting us know!. Thank you for creating the issue :+1: . It looks like there are other problems with PHP 7.1, I'd suggest holding off. . As far as I know... . Those notes are for users upgrading from previous versions, you should be able to use any encryption supported by Laravel. . We currently always show the primary (first) contact to ensure all recipients see the same invoice. . Maybe, we'll keep it in mind for the future... . I think it may be related to the specific currency, I'll look into it. . The due date for the invoice will depend on the due date setting for the recurring invoice.\nThe default value is 'Use client terms', for this to take effect the client's payment terms need to be set. . Default payment terms is on our road map:\nhttps://trello.com/c/bG0D90qO/56-enable-setting-default-payment-terms\nWe'll consider showing the selected client's terms, thanks for the suggestion! . I think this may be a duplicate of https://github.com/invoiceninja/invoiceninja/issues/1132. Thanks for the fix!\nAll of our translations are managed here: https://www.transifex.com/invoice-ninja/. Can you explain 'exhortations', how is it different from a reminder?\nThanks!. Thanks, understood. . Adding manual reminders is being tracked here: https://github.com/invoiceninja/invoiceninja/issues/1234. Are you referring to line item discounts?. There's a documents tab in the client portal which may help... . I'm not sure, are you using this link?\nhttps://www.transifex.com/invoice-ninja/\nIf you submit a request I'll add you to the project on Transifex. . Huh, not sure... maybe try this link\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/ \nOtherwise, we'll need to follow up with Transifex for help. . Sorry, any code changes are overwritten by Transifex. You'll need to apply your changes there. . Sorry for the rework, your changes are very much appreciated!\nI don't see a problem deleting the fork, assuming there aren't any other changes you'd like kept. . Does it generate an error for any value provided?. If it's in Transifex then we have it. We'll merge in the changes with our next major release (v3.0). \nThanks again for your help!. Which country do you live in, I haven't heard of this before.\nI'm not sure if there's enough demand for the feature. . Have you run php artisan migrate. Thanks, that's helpful. It looks like one of the database migrations failed to complete.\nTry commenting out lines 15 to 48 in database/migrations/2016_11_03_113316_add_invoice_signature.php and then run php artisan migrate\n. If you're using the code from GitHub composer install is needed to download the third-party libs, it would explain the 'class not found' error.\nWhat do you see when running php artisan migrate with the code commented out? . You need to download the zip from here (or run composer install):\nhttps://www.invoiceninja.com/self-host/\nBest practice is not to check the third party libs into GitHub. . I'm not sure I agree.\nWe have many users who customize the terms for a particular invoice, if changing the default updated existing invoices it would overwrite the changes. \nAdditionally, it seems unfair to a client to change the terms of an invoice after it's been paid. . Thanks, I understand now.\nWe support date variables (ie, month, year and quarter). If the due date is always the same day of the month it may work for you. You can see more details by clicking the question mark next to the 'How Often' select box. . Why not put the bank details in the terms rather than the footer?\nWe don't currently support showing the due date in the terms.. If the due date is set it will be shown in the invoice details.. I think I see a straight forward solution to the original point.\nCurrently if an invoice is saved without terms we automatically use the account terms. For recurring invoices we can skip this step and apply it later when the standard invoice is generated. \nHopefully this will help with your use case... . Thanks for the suggestion, I've implemented the change. . I think this is a duplicate of #437. I don't see the problem. Can this be fixed in Transifex?. Does this require a code change? Can't it just be fixed in Transifex. . I'm not able to replicate the problem, in my test the email subject was \"Die Rechnung 0001 wurde an Ms. Zelda Thompson versendet.\" . This isn't supported, you'd need to modify the JavaScript code to accomplish it.. You can click help on the customize page to see a list of the invoice\\client variables. . Have you created your first invoice yet? . This just list the invoice\\client variables.\nYou can reference the database table to see the available account variables. . In the table it's work_email as well, but... whatever's easier for you. . I'm not sure I understand your question, you can run the SQL command describe accounts; to see the list of fields. . I'm not sure, I'd suggest testing them here:\nhttp://pdfmake.org/playground.html. I've had trouble with the noWrap parameter as well. . It should, try using the 'Bold' header as a starting point. . If you also copy the Margins settings it works.  . If you're only showing the header on the first page I'd suggest moving the code to the content section. . I see what you mean. It's just a confusing value in the customize design page, I think it should work if you try it in an invoice. . I'm not sure, $logoImages.imageLogo1 works with the other designs... . I think the right answer here is to add a display_name field in the table which has either the client name or contact name. \nFor a future release.... . Thanks, I've checked a fix into our develop branch.. We've seen this problem sometimes with Firefox, typically when this occurs it affects invoices throughout the site.\nAssuming you're using v2.9 there's an option on /settings/account_management to use a different PDF viewer which may help.. Can you check the following:\n\nClick the 'Open menu' in the top right\nSelect 'Applications'\nCheck the setting for 'Actions' for PDF. Thanks for pointing this out, I've checked a fix into the develop branch.. From the error it looks like the cache isn't set, I'd suggest checking that the countries table is populated. If it is you can try resetting the cache by adding ?clear_cache=true to the end of the URL.\n\nWhat method did you use to install the app\\are you using Docker?. You can use the following command to manually seed the table.\nphp artisan db:seed --class=UpdateSeeder. Actually, the countries table is handled by the CountriesSeeder which isn't run with the update.\nHow did you install the app, from GitHub or using the self host zip. . Try running php artisan db:seed. I think you may see other problems, I'd suggest running the following to reset the database.\nphp artisan migrate:reset\nphp artisan migrate --seed. @psuet I'm not sure if that's a good fix, there may be other seed table which are missing data. . Agreed. \nI've had trouble finding a place to define the constants which didn't break the app. I prefer having these available as constants so the .env file isn't an option. If you can find a place to move them and keep things working we'd gladly accept a pull request. . Thanks for your help, please make sure to create the pull request against the develop branch. . Please check if the custom gateway exists in the table with this SQL query:\nselect * from gateways where name = 'Custom'; . Great, that's helpful.\nCan you try clearing your cache by adding ?clear_cache=true to the end of the URL. . I think I see the problem, the id for this gateway should be 62 however it looks like it's 64 in your database.\nAny chance you've added your own records to the gateways table?. The application seeders aren't for sample data, they provide data used by the app (ie, the list of countries, date formats, etc). Since the table is populated though I don't think that's the issue.\nHere's the contents of my table, can you check for any differences with yours:\nmysql> select id, name from gateways;\n+----+---------------------------+\n| id | name                      |\n+----+---------------------------+\n|  1 | Authorize.Net AIM         |\n|  2 | Authorize.Net SIM         |\n|  3 | CardSave                  |\n|  4 | Eway Rapid                |\n|  5 | FirstData Connect         |\n|  6 | GoCardless                |\n|  7 | Migs ThreeParty           |\n|  8 | Migs TwoParty             |\n|  9 | Mollie                    |\n| 10 | MultiSafepay              |\n| 11 | Netaxept                  |\n| 12 | NetBanx                   |\n| 13 | PayFast                   |\n| 14 | Payflow Pro               |\n| 15 | PaymentExpress PxPay      |\n| 16 | PaymentExpress PxPost     |\n| 17 | PayPal Express            |\n| 18 | PayPal Pro                |\n| 19 | Pin                       |\n| 20 | SagePay Direct            |\n| 21 | SagePay Server            |\n| 22 | SecurePay DirectPost      |\n| 23 | Stripe                    |\n| 24 | TargetPay Direct eBanking |\n| 25 | TargetPay Ideal           |\n| 26 | TargetPay Mr Cash         |\n| 27 | TwoCheckout               |\n| 28 | WorldPay                  |\n| 29 | BeanStream                |\n| 30 | Psigate                   |\n| 31 | moolah                    |\n| 32 | Alipay                    |\n| 33 | Buckaroo                  |\n| 34 | Coinbase                  |\n| 35 | DataCash                  |\n| 36 | Neteller                  |\n| 37 | Pacnet                    |\n| 38 | PaymentSense              |\n| 39 | Realex                    |\n| 40 | Sisow                     |\n| 41 | Skrill                    |\n| 42 | BitPay                    |\n| 43 | Dwolla                    |\n| 44 | AGMS                      |\n| 45 | Barclays                  |\n| 46 | Cardgate                  |\n| 47 | Checkout.com              |\n| 48 | Creditcall                |\n| 49 | Cybersource               |\n| 50 | ecoPayz                   |\n| 51 | Fasapay                   |\n| 52 | Komoju                    |\n| 53 | Multicards                |\n| 54 | Pagar.Me                  |\n| 55 | Paysafecard               |\n| 56 | Paytrace                  |\n| 57 | Secure Trading            |\n| 58 | SecPay                    |\n| 59 | WeChat Express            |\n| 60 | WePay                     |\n| 61 | Braintree                 |\n| 62 | Custom                    |\n+----+---------------------------+. For some reason your id's are starting at 3 which explains why it's off by 2, any thoughts as to why?\nYou may want to try running these commands to reset the database:\nphp artisan migrate:reset\nphp artisan migrate --seed\n. Great to hear!. Just curious, why are you transferring your data rather than updating an existing install. \nWhen moving to a new install we advise using mysqldump. Ok, great. Thanks for the info!. The reason is b/c we use the invoice object to get the variables, client and account are properties of the object. \nWe don't have any plans to change the variable names. . I'm able to replicate the problem, I was able to fix it by making the change suggested here:\nhttps://github.com/barracudanetworks/ArchiveStream-php/issues/29#issuecomment-242769434. We'll update the library once a fix is implemented. . I'm able to replicate this problem. Note: it only occurs if you just change the product texts.. Yes, we close any feature requests we don't plan to work on. . It'd be helpful if you could create a single issue which compiles all of the localization issues. \nThanks! . Many users appreciate the maps feature, clearly you don't ;)\nWe'll look into adding an option to disable it. . I've added a GOOGLE_MAPS_ENABLED setting to the .env file. Thanks for letting us know, I've checked in a fix: https://github.com/invoiceninja/invoiceninja/commit/fffc198433b314418823bbe10c1b8486e8a6f788. @konstantinrudi Could you use a custom client field?. In that case maybe a custom company field would work.. @elonmir Are you using the latest version, I believe the country should now be translated. . Just to confirm... you're viewing the invoice in the client portal? . Thanks, that helps. \nSo the client country is correct but the account country is wrong. Is that what you mean by 'faulty'. . Thanks for the info!. I've checked in a fix for the client facing issue.\n. Try adding APP_LOCALE=pl in the .env file . Hmmm... that doesn't look good.\nIf you have gulp you can disable the font with the following steps: \n- Run bower install\n- Comment out this line: https://github.com/invoiceninja/invoiceninja/blob/master/gulpfile.js#L58\n- Run gulp. I think it was auto-closed from my commit comment.. Have you tried adding APP_LOCALE=... in the .env file . 1. We pass back the error from the gateway, I don't think we'll be able to translate it. \n2. It's most likely because the texts weren't updated in Transifex before we created our last release. . Thanks, I hope to try to address some more of these problems in our next release. . @Braintelligence When you get a chance can you please confirm the items resolved in v3.3.. I'd suggest using the commit names. . - Support translating datatable info footer => Client portal entry numbering\n- Fix special chars in dropzone strings => HTML special character bug in attachments. It should be correct in the portal, the preview isn't fully translated. . Which version of the app are you using?\nCan you post a screenshot so I know exactly where you're referring. . The preview isn't translated, to see the translated version you need to click 'View in Portal' and then click download. It should also be correct if you bulk download on /invoices. Actually, if the client language matches the account language the preview should be correct. We'll look into it.... We don't have immediate plans to add this feature, there are many tools available to convert CSV/XLS to PDF. . I agree, that's why the issue is labeled as 'Feature request' and isn't closed. It's just a matter of priorities, there are other changes/features which are more requested. . Thanks again @dansleboby! . This is configurable on /settings/online_payments. Thanks for letting us know! . PHP 7 should be fine, I'd hold off using 7.1. . Thanks for the fix!. Here's what we're working on:\n\nThe template select enables you to choose between the initial email and the reminders and will be automatically set based on the history\nThe customize tab contains the same editor as on /settings/templates_and_reminders\nThe history tab has a table showing the past times the invoice was emailed [template|contact|date]\n\n\n. That is correct. Thanks for everyone's input, it was a big help working out the UI.. We rely on our community for the app's translations, they can be corrected here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. We update the translations when we create each major release. . You can change the table column widths on /settings/customize_design by switching from Form to Code and changing \"$invoiceLineItemColumns\" to [\"10%\", \"30%\", \"20%\", \"20%\", \"20%\"], or you can shorten the label on /settings/invoice_design#invoice_fields.\nYou can change the terms padding by adding the following to the Styles\n\"terms\": {\n    \"margin\": [0, 0, 10, 0]\n},. I'm not sure if we'll be able to fix the column widths but we'll add the terms padding to the designs.\n\nThanks for the info!. It seems to be working correctly in my test. \nThe 'total' should show the full amount while 'partial due' should show the partial\\deposit amount. . This may be a duplicate of #437. I recently added 'Last year' as a year ago today to today, we'll look into adding these changes. Thanks, this is helpful!\nReports are one of the app's weakest features, we're planning on overhauling them as part of our next release. Another common request is 'profit and loss'. . In our next release we've enabled manually setting the duration (ie, 1:30 or 1.5)\nWe're also looking into adding support for 'duration' vs 'time frame' tasks.. We're considering adding the option for 'duration' vs 'time frame' tasks.. We support adding user who can create tasks, can you clarify a bit. \nAre you suggesting that they should only be able to create tasks, not invoices, clients, etc. . Ok, thanks for clarifying. . Sorry, we don't have immediate plans to add this. . FYI.. the referenced issues were closed because they're duplicates. . Great to hear, thanks for letting us know!. There may be more details in the error log in storage/logs/laravel-error.log . Are you seeing this error on the settings page or when trying to email an invoice? . Can you check if you see the same error when emailing an invoice, I'd also suggest rechecking the log file. . Can you double check the email settings in the .env file, in particular check for MAIL_USERNAME\nhttps://github.com/invoiceninja/invoiceninja/blob/master/.env.example#L18. I believe MAIL_USERNAME needs to be set.\nYou can try commenting out the code here: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/Mailer.php#L25. We'll remove this check in our next major release.\nYou can select TLS or SSL in the system settings, you can turn encryption off by setting MAIL_ENCRYPTION= in the .env file. . It isn't recommended... . Thanks for the suggestion! I like the flexibility but it would create a lot of settings, it may make sense to support 'profiles' which can be assigned to clients. . @apintocr thanks for the offer! We'd definitely merge the PR if you're able to get it working.\nIn case it isn't obvious... this would be a non-trivial change. We recently broke out the email templates to their own table (account_email_settings). To start you'd probably want to add a profiles table and a profile_id reference to this table.. It'd be helpful to check if there are any errors in the browser console or storage/logs/laravel-error.log. @wbrekel Thanks for the suggestion! I haven't been able to reliably replicate the problem but this could help. . It's definitely worth trying, thanks again!. You should just need to rename the file, what error did you see?. The reason it isn't working is because the user data is currently hidden in the invoice JSON presented to the client.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Invoice.php#L668https://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Invoice.php#L668\nI agree adding it would be useful however I'm concerned some would prefer to keep the user data private. . Which version of the app are you using?\nPlease check if the gateway_types table is populated:\nselect * from gateway_types;. If you upgraded from a previous version can you load /update (or /public/update) to check that the migrations completed successfully. \nAlso, please try adding ?clear_cache=true to the end of the URL to clear the application cache. . Thanks, that's helpful. I think the problem is with the following migration file: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/migrations/2016_11_03_113316_add_invoice_signature.php#L15\nIt should check if this column already exists so it isn't clear why you're seeing this error. You should be able to fix this by commenting out the contents of the up function. \n. Can you run this SQL query to check your strict modes:\nSELECT @@SESSION.sql_mode;\nI think you can fix this by commenting out this code and reloading /update. \n. Your file is missing changes, try using the version here: https://github.com/invoiceninja/invoiceninja/blob/master/database/migrations/2016_11_03_113316_add_invoice_signature.php#L15. Which version are you using? \nPlease try adding ?clear_cache=true again . Any luck with clear_cache? . Yup, this looks like a bug.. It could just be behind, we update the lang files with each major release. . Hopefully the end of the month.. FYI... in our next release we've added 'Postal/City/State' as an option on /settings/invoice_design#invoice_fields to enable this behavior automatically for all clients. . We use the roadmap for larger changes planned in the future.\nWe track smaller changes like these as GitHub issues, once completed we may add it to the roadmap. . That said we'll try to work on this in an upcoming release. . Fixed with https://github.com/invoiceninja/invoiceninja/commit/d89690ebe4f4b1d35aecfbdbfc94bc71d464ef02. From this article it looks like opt-out for GA is only needed \"if you are collecting User ID or other pseudonymous identifiers.\". I've made sure to enable 'Anonymize IP'.\nWe're working on updating our privacy policy and plan to have it ready in time. We'll also add a cookie consent message. . We added this library to enable showing a cookie consent message:\nYou can customize the 'Learn more' link by setting a value for PRIVACY_POLICY_URL in the .env file. . I think it's currently shown if you're logged in as admin but hidden for clients, we'll look into hiding it for all users. . Thanks for the fix however we handle our translations through Transifex.\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. I'm not sure, this is the first time we've heard of this problem. \nCan you run this SQL query (replacing the invoice number with the invoice in question) to check that the email is correct. \nselect i.invoice_number, c.email\nfrom invoices i\nleft join invitations ii on ii.invoice_id = i.id\nleft join contacts c on c.id = ii.contact_id\nwhere i.invoice_number = '0001';\nNote: it will include all archived\\deleted data. . Why did you close the issue, I'm assuming there shouldn't be double records?. - Please don't run manual queries against the database, it will very likely break something.\n- In the future, if you report an issue please let us know if you've manually changed the database. . Thanks, I'll make sure it's fixed.\nAs a temporary workaround if you aren't using all of the modules you can disable one on /settings/account_management to make room. . Thanks for the fixes but they needed to be added to Transifex or they get overwritten. \nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. As long as it doesn't complicate setting up the app with the self host zip.... This has been corrected in the develop branch and will be included in the next major release. . Which email provider are you using?\nWe only send HTML emails with Postmark due to an issue we experienced a while back:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/Mailer.php#L34 . We were seeing a problem with attachments: https://github.com/wildbit/laravel-postmark-provider/issues/2\nCurrently, we're simply calling strip_tags to convert to the text version. This probably explains why the link is removed.. In cases where the PDF isn't first shown on screen (ie, the language is different, recurring invoices, etc) we use https://phantomjscloud.com/ to generate the PDF. For it to work your server needs to be publicly accessible. \nIn our next version we've added support for using a local phantomjs instance. . Is your instance publicly accessible? There may be more details in the logs in storage/logs/laravel-error.log. . I'm not sure, you could try adding dd($pdfString); here to see what's being returned. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Invoice.php#L1116. Are you requiring a password for the contact to access the portal?\nIt's possible the feature is preventing PhantomJS from working. . Are you saying clients.country_id is blank? Have you tried saving the country for the client.. This has been checked into the develop branch and will be included in the next release.\nWe're adding the project name as a header using ## markdown \nhttps://github.com/invoiceninja/invoiceninja/commit/388928a6f0e3309c7eddf579ef9dcc55de2712f0#diff-d032e7bb274a54dbdd70d11570ac07b0R43. If the database is created\\accessible the setup screen should be skipped. . I'm not sure I understand, could you please provide more details. . We support showing the client name in the reminders using $client. FYI... in our next release we're taking a snapshot of the invoice when a payment is entered. . I've made the text smaller but we've also added reports to the navigation :/ . Currently if you set the client for the expense when clicking 'More actions' you'll see a list of other invoices with expenses. We'll change this to show all open (non-task) invoices.. This seems to be working, although I don't remember making the change. . If the client field is set in the expense it should show other open invoices when clicking 'More Actions'. \n. Yes, it only includes unpaid invoices. . This would be a larger change as we'd need to consider the case where many paid invoices exist. . It's added to the invoice as a new line item.\nIf you remove the line item the expense is not linked to the invoice. . Then I believe it should be linked. . The expense status will be changed to 'Invoiced'. No, it shouldn't be changed.. For the future... . You can edit the .env file and set MAIL_ENCRYPTION to blank. There don't seem to be any changes. . As a workaround you should be able to click 'New Invoice' from the client page.. Also note. we always show the first contact's info on the invoice regardless of which are checked. . How are you referencing the contact in the design? \nFrom reading the code it looks like only the first contact will be shown.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/pdf.pdfmake.js#L724. I've tested it, it doesn't work for me. I'm not sure why that's working for you. Does it also work in the client portal when clicking 'View as recipient'? . Hmmm... I'm not sure. It shouldn't work, it could be a bug. . I'm sorry, I'm not sure I understand your question.. Thanks for the explanation!\nThe app isn't designed to handle more than a few contacts, there will be trade-offs with either approach.\nIf creating separate clients works for you it may provider a better solution, I imagine the UI would become difficult to use with many contacts.\nYou may also want to consider using Zapier.. If the automatic client number feature is enabled we require client numbers to be unique. . Thanks for the suggestions! A lot of this stuff is subjective, I'd be curious to hear other people's thoughts as well.\n\nIn the hosted version of the app the 'advanced settings' are restricted to paid users. The custom company fields are a pro feature.\nThis page already has the longest title, I'd be reluctant to make it even longer. \nI agree, the indicator should be more visible. \nMaybe... \n. The admin login form is to login to the admin part of the sites, clients can only access the client portal. . I'm not sure....\n\nCurrently each client has a unique page to login, either an invitation link or their client portal link. There's also a 'Recover password' link so client's can self-service. \nA client's email could exist under multiple accounts. If we use a standard login page we'd need to match on the password, if the client requests the same password with both accounts we wouldn't know which account to log them in to.. Have you noticed on the client page there's a portal link next to each client, this redirects to /client/login. . We love feedback, all the little things matter. \nWe'll look into it. . We're on Gitter https://gitter.im/invoiceninja/invoiceninja. We just added unique client ids in v3.0, have you updated yet? . The database migrations should be automatically run.\nYou can manually run them by loading /update (or /public/update). Also, if you're trying to update the invoice edit page you'd need to change this function.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/invoices/edit.blade.php#L1591. We've added this feature, we're using $idNumber as the variable name: https://github.com/invoiceninja/invoiceninja/commit/c3daea3b830d3c1efa9459474862262f46f2e707\n. We don't advise running SQL queries to manually update the database.\nWe plan to support transferring account settings in the JSON file in an upcoming release. . Is the problem with the preview or does the PDF have the problem when downloaded.\nIn v3.0 we updated the version of pdfmake used, there's a newer version available though.. Thanks, that's helpful. We'll create v3.0.1 later today with the updated pdfmake.. Can you test with the latest code in master, I've updated to the latest version of pdfmake.. It may be similar to this issue: https://github.com/laravel/framework/issues/15891. Can you try running composer dump-autoload. We've release v3.0.1 which should help.\nWe'll re-enable queues once we've updated to Laravel 5.3. . Can you try disabling the live preview on /settings/account_management to help narrow down the problem. . Please check storage/logs/laravel-error.log for more details.. Can you test with the latest code in master, I've updated to the latest version of pdfmake.. Try uploading your logo again on /settings/company_details. Can you downgrade and compare the performance. . I think that should work.. I'm not able to replicate the problem. If you want to create credentials for the app and email them to contact@invoiceninja.com I can try to debug it.. Thanks!. Thanks again, I was able to track down the problem.\nThere's a clear performance degradation with the newer version of pdfmake, I'll create v3.0.2 with the older version of the library.. v3.0.2 has been released. You can see the list of changes here: https://github.com/bpampuch/pdfmake/releases\nI've added a note here: https://github.com/bpampuch/pdfmake/issues/743. It looks like a rounding problem, we'll work to fix it.\nAre you able to enter a 0.01 payment to mark the invoice as paid? . Ok, thanks. We'll look into correcting this in our next major release. . There's likely a difference between the PHP and Javascript code. \nI'm not aware of a workaround. . Here are the two main parts:\n- JS: https://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/script.js#L621\n- PHP: https://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Repositories/InvoiceRepository.php#L284. https://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/script.js#L1000. The fix will be included with our next minor release.\nYou should just need to resave the invoice to correct the rounding.. Note: if you had created a 0.01 payment to fix it I'd suggest first deleting that payment. . Thanks for letting us know, we'll look into it for a future release. \nYes, we currently simply round to two digits. . We've changed the app to make the 'Billable' checkbox always usable, in the past it was hidden once the client was selected. \nWould this solve your need?. Which plan are you on, you may need to upgrade your account. \nhttps://www.invoiceninja.com/pricing-plan-options/. We've deployed a fix, please try changing the email address again. . Sorry, it isn't currently supported. . You may want to copy/paste the 'View as recipient' link and send email it manually. \nEach contact is sent their own link so we can individually track who sees the invoice. . If you set 'First Month of the Year' on /settings/localization it should filter the totals on the dashboard. Which language are you using in the app? . I'm not sure, I'm not able to replicate the problem. \nHave you tried from a different browser, maybe it's a cache issue. \nAlso, can you drill down to see where the problem is in the code. . Here's where isMobile should be defined: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/script.js#L11\nIt's compiled to public/built.js . You shouldn't need to, but you'd run bower install and then gulp. Is it possible it wasn't overwritten when updating. . @lalop Is this something we can fix in the Docker file, or maybe just provide instructions about updating. . It's worth noting the self update feature isn't working yet, the feature was being worked on by a community member. . Are there any errors in your logs (storage/logs/laravel-error.log) after clicking 'Remove file'? . I'm not sure, I'm not seeing the error. Have you tried running composer dump-autoload and php artisan optimize. You may also want to check for the function mentioned in the error: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Listeners/SubscriptionListener.php#L91. What if we added custom fields to the list views?\nYou could then create a custom invoice field called 'Description' to solve this. . On second thought maybe there isn't enough space. . The new 'private notes' field is now shown on the recurring invoice list. I agree, it'd be a great change. I'm just concerned it would require too many changes. \nTry searching for payment->invoice, to start each of these sections would be need to be reworked. \nThat said, if the code is good and everything works we'd merge the PR.. If the app is using local PhantomJS It should show it on /settings/email_settings \nYou'll need to test it to see if it works. . Uninstall or disable?\nAlso, do you have any error details.. You need to run gulp or gulp --production to create the built files. . Note: you'd need to run bower install first to download the JS files.. Try running npm install. Have you run bower install . I've checked in a fix for the bower warning. . Are you running gulp or grunt, we initially used grunt but have since switched to gulp.. The blue numbers are the amounts within the selected date range.\nIn our latest version the numbers are labeled. . Maybe this will help... https://github.com/invoiceninja/invoiceninja/issues/1311#issuecomment-275883176. Are there any errors in the browser console?. Do you have 'Embed documents' enabled on /settings/invoice_design#invoice_options, if so please check if disabling it helps. . Thanks, that's helpful to know. We'll include a fix in our next release. . Thanks, I think I see the problem.\nWhen using account terms they're set in the recurring invoice when it's generated, although the recurring invoice sample is missing the terms the invoice it generates will correctly show the terms. \nI'll correct the sample to show the default terms. . I've checked in a fix: https://github.com/invoiceninja/invoiceninja/commit/cc1eee7f4fa20a706c22c965bc940b5331b02431. Maybe the expense report would work for this?. This was added in v3.x. No, we'll keep it in mind for a future release. We can change that, if a user can 'see everything' I don't see a problem letting them use the reports feature. . Can you explain what isn't working, in my test it looks correct. . Assuming you're self hosting have you setup the crons?\nhttp://docs.invoiceninja.com/en/latest/configure.html#recurring-invoices-and-reminder-emails. For recurring invoices to be sent\n- Start date needs to be set to today or earlier\n- End date needs to blank or after today\n- You need to click 'Mark Sent' for the invoice to be active (in our next version the label will be 'Mark Active')\nThe invoice date should be set to the day the invoice is created. . Sorry, we try not to provide ETAs \nThanks for the suggestion, I think it's a good solution. . v3.2. Hopefully there won't be, we only create minor releases if bugs are found. \nThis is checked into the develop branch, it will be merged into master when the next major release is created.. Thanks for the suggestion but I'm not sure creating an issue is the best way to share the library. . One way is to submit it here: https://laravel-news.com/links. Thanks!. I'm not sure, any chance you've manually deleted data from the database?\nAlso, is the file and line number in the error?. You can try to debug the code to see which record it's complaining about. . This should fix it: https://github.com/invoiceninja/invoiceninja/commit/8153d872c939e411f288d7a144e70614646d92aa\nIt will be included with our next release. . This looks like a duplicate of #506 . Thanks for the details. I think PreventChromeAutocomplete may be causing the problem, do you know where it's coming from?. I use Lastpass as well but haven't seen this issue, maybe test with a different browser. . Sorry, I was wrong. PreventChromeAutocomplete is meant to be there.\nYou may be able to 'fix' this by commenting out this line of code: \nhttps://github.com/invoiceninja/invoiceninja/blob/d1cc1929dcb5d3140bcb7bbf648af3bbc29d75ee/app/Services/ClientService.php#L52\nIt seems to be failing because your account_key matches the Invoice Ninja account_key. . Was the key manually updated, it'd be good to understand how this happened. . Are you using local PhontomJS?\nCan you check storage/logs/laravel-error.log for any related errors. . There's more info here... http://docs.invoiceninja.com/en/latest/configure.html#phantomjs. v3.2 will be ready in a few days, we're hoping to include this in v3.3.. Correct, hopefully in a future release... . Sure, we'll look into it. I've created #1676.. We currently only support the 'Clean' design, we plan to add support for the other designs in a future release.\nWhich translation strings are you referring to, it's possible it requires changes to the code. . Most likely explanation is the release was created before the string was translated. We currently only update the translation files with major releases, we'll add this step to minor releases as well.. It may help to sort the table by a secondary column by shift-clicking. \nAdding a secondary sort field isn't supported by the library we're using: https://github.com/Chumper/Datatable/issues/157. This is by design.\nThe categories are shared by all users so we require an admin to create them.. The users within the company, no data is ever shared between companies. . I assume this is something you'll setup with your own install. . Have you considered using custom invoice fields to track some of this?. Yes, you could create a custom field called 'Payment Method'.\nThat would probably be the best approach for the expense. . No, a payment needs to be applied against an invoice. . We don't support per client counters, the rest is possible. . Which browser are you using/have you tested it in a different browser.. Thanks!\nPlease add the currency at the end of the list (otherwise id's would be change) and create the PR against our develop branch. . The currency has been added.. Sorry I just noticed another problem, we don't support precision greater than 2. . The currency has been added.. Thanks again! . Awesome, thank you!! . Not sure, maybe start by checking the method exists in the code:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Listeners/SubscriptionListener.php#L109 . Not sure, maybe try running php artisan clear-compiled. I've checked in some improvements to the report, you can test them by updating app/Ninja/Reports/TaxRateReport.php with the contents here:\nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/master/app/Ninja/Reports/TaxRateReport.php. Are you using the latest version of the file, I updated the comment after I posted it. \nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/master/app/Ninja/Reports/TaxRateReport.php. Thanks, I saw the same issue but it should (hopefully) be correct now.. Great to hear, thanks for the kind words!. I'm not able to replicate the problem.\nDoes switching back to English fix it? You can quickly switch by adding ?lang=en or ?lang=fr to the end of the URL. . It looks like it's only a problem in Firefox, Chrome works correctly. . Hmm... scratch that, I'm seeing it in Chrome as well. . I was able to fix this by updating to the latest version of the daterangepicker library:\nhttps://github.com/dangrossman/bootstrap-daterangepicker/pull/1336. Thanks!!. I'm not sure, I see the file and I'm not getting an error.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/tests/TestCase.php . It's stored in the custom_design column in the accounts table.\nselect custom_design from accounts;. That makes sense, so for example we could show 'Card on file' as a payment type option when creating a manual payment on /payments/create. On /payments/create ?. Can you please clarify 'that page'. Sounds good, thanks!\nWe'll keep it in mind for a future release. . You could add a cron which runs daily to set accounts.invoice_number_counter back to 1 each day.. Hmmm... that would be difficult. We're using the same recurrence frequencies used by recurring invoices. . It's possible you can get the letters to show by using a custom font however I think the letters would be backwards. \nhttp://docs.invoiceninja.com/en/latest/configure.html#custom-fonts\nWe use pdfmake to generate the PDFs, we need the library to support it to enable it in our app.\nhttps://github.com/bpampuch/pdfmake/issues/315. I'm assuming you're using the code from GitHub, maybe try with the self host zip as it includes the vendor libraries.\nhttps://download.invoiceninja.com/ninja-v3.0.5.zip. Thanks for catching this!. Thanks for the suggestion!\nWe'll consider the change but my main concern would be ensuring backward comparability. . Have you tried running composer dump-autoload. Maybe try adding !important. Can you please post the CSS you're trying to save. In my test it's saving but replacing the > with \\3E\nCan you either enable debug or check for details in storage/logs/laravel-error.log. Are you able to process payments with the gateway?\nThose are the steps:\n- composer install\n- add to gateways table \n- clear cache by adding ?clear_cache=true to the URL . Yes, this hasn't changed.. I'll look into adding this to the docs.\nNote: most drivers don't work out of the box, code changes are often required as well. . The best solution would be to integrate these changes into the Omnipay driver. \nI don't think this could be implemented using a module. . These methods are specifically designed to work with Postmark, they won't work with Mailgun. For example, when we send an email with Postmark we track the message id to use here, with Mailgun we don't have the ids. \nI think you're seeing the error because you're making a GET request, whereas the routes only support POST. . Maybe as an optional setting.... I'm sure some people won't want their clients seeing their tasks until they're invoiced (ie, if then need to adjust before they bill). . Yes, I think GoCardless should be it's own gateway type. \nI'm not sure if that will fix it, you'd need to try it. . PhantomJS is getting a 302 header. I notice the link is HTTP, are you requiring HTTPS in the app? Maybe you need to change APP_URL to use HTTPS.. Great to hear!. Have you tried disabling 'Live Preview' on /settings/account_management. You can click 'View as recipient' to see the PDF preview. It actually used to work the way you described but based on feedback from users we changed it to our current approach. \n\nIt's faster, rendering the PDF on load takes a few seconds.\nIt's more accurate, translations are only applied in the portal.\n\nIt's easier to understand, after disabling 'Live preview' people assumed there should be no preview and thought the checkbox was broken. . Thanks for reporting this!. The changes are great, thanks for taking the time!\n\n\nIn my tests the fields changed to date-time return timestamps\n\nI think the destroy methods should accept Update...Requests (they need write permission)\nWe plan to remove QuoteApiController, quotes are now handled through the invoice controller by setting is_quote to true. Awesome, thanks again!. That'd be great! It's better for us if the changes are in separate PRs, it makes the code changes a bit easier to process. \n\nFYI.. we have basic acceptance tests for the API here: https://github.com/invoiceninja/invoiceninja/blob/master/tests/acceptance/APICest.php. You can see all activities by viewing the activity tab on the client overview page. . This could work as a new 'Activity Report'. @lalop Thanks for your help with the feature!. That's really cool! :+1: \nFeel free to modify the .travis.yml. . Are you using the latest version, they should have access.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/header.blade.php#L524 . You can make the field optional by adding it here:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Gateway.php#L82. Does the design work correctly on the customize page?\nAlso, are there any errors in your browser console?. Are you only seeing this with the custom design? \nTry changing back to a standard design on /settings/invoice_design. Just to clarify, I assume you've tried saving the form.\nYou can try manually clearing the custom design with this this SQL query:\nupdate accounts set invoice_design_id = 1, custom_design = null where id = 1;. I'm not sure, here are a few things you can try:\n- Test in a different browser\n- Close\\open the browser\n- Clear the application cache by adding ?clear_cache=true to the end of the URL\n- Try enabling the JS PDF viewer on /settings/account_management\n. PDF Viewer is enabled, try disabling it.. Which browser is it failing in?. And it worked initially?. It'd be helpful to know if our hosted site works for you:\nhttps://app.invoiceninja.com/invoice_now. I'm not sure... \n\nCan you clarify, is Chrome now broken on your self host install or when using https://app.invoiceninja.com\nAre you seeing the same error across all browsers in the error console\nAre you certain the app was always broken locally. By default the selected value 'Custom' isn't available, it only appears after the customize design page is used to change the design. . Thanks for the details!\n\nThe 'PDF viewer' setting should only have an effect on desktop Chrome and Firefox, we always use the viewer for other browsers. Assuming it works it's best to disable this checkbox as the native Chrome\\Firefox PDF viewers are generally more reliable. \nIf you want to email an invoice to contact@invoiceninja.com setup to fail I can try to debug it. . Also, if you have a logo it's worth trying to remove it. We've seen certain image formats cause problems in the past. . Maybe this will help under 'Your PDF plugin may be disabled in Firefox'\nhttps://support.mozilla.org/t5/Learn-the-Basics-get-started/View-PDF-files-in-Firefox/ta-p/2671. It's a limitation of the JavaScript PDF viewer, is there a reason you've enabled it? . Which version of the app are you running? \nIn our recent releases it should automatically use the JS viewer on mobile: https://github.com/invoiceninja/invoiceninja/commit/5c8d4cf324f641559d5ef25ae3d46b48d623a296. Maybe this will help...\nhttp://docs.invoiceninja.com/en/latest/configure.html#using-a-proxy . Sorry, I don't have an answer. @turbo124, do you have any ideas?. You can require HTTPS by setting REQUIRE_HTTPS=true in the .env file\nhttps://github.com/invoiceninja/invoiceninja/blob/master/.env.example#L32. We use URL helper functions throughout the app, they automatically add the requested protocol. . Sorry, not that I'm aware of. . Are you using our latest version (v3.1.2). If yes, are there any details in storage/logs/laravel-error.log . Thanks!\n\nThe link is HTTP, if you're requiring HTTPS you'll need to update the APP_URL value in the .env file.\nIf you require contacts to enter a password to see their invoice you\u2019ll need to set a random value for PHANTOMJS_SECRET in the .env file.. If require is checked the APP_URL needs to start with HTTPS. Did it fix the problem?. I'd suggest trying to update to v3.1.2, it may help. . Thanks, that's helpful to know! I'll look into it... . Here are some suggestions:\nCheck that the custom driver is in the database with this SQL query: select name from gateways where id = 62;\nTry loading /update (or /public/update) to make sure the migrations completed. . It looks like you may have an extra row in your gateways table, here's what I see\n\nmysql> select id, name from gateways;\n+----+---------------------------+\n| id | name                      |\n+----+---------------------------+\n|  1 | Authorize.Net AIM         |\n|  2 | Authorize.Net SIM         |\n|  3 | CardSave                  |\n|  4 | Eway Rapid                |\n|  5 | FirstData Connect         |\n|  6 | GoCardless                |\n|  7 | Migs ThreeParty           |\n|  8 | Migs TwoParty             |\n|  9 | Mollie                    |\n| 10 | MultiSafepay              |\n| 11 | Netaxept                  |\n| 12 | NetBanx                   |\n| 13 | PayFast                   |\n| 14 | Payflow Pro               |\n| 15 | PaymentExpress PxPay      |\n| 16 | PaymentExpress PxPost     |\n| 17 | PayPal Express            |\n| 18 | PayPal Pro                |\n| 19 | Pin                       |\n| 20 | SagePay Direct            |\n| 21 | SagePay Server            |\n| 22 | SecurePay DirectPost      |\n| 23 | Stripe                    |\n| 24 | TargetPay Direct eBanking |\n| 25 | TargetPay Ideal           |\n| 26 | TargetPay Mr Cash         |\n| 27 | TwoCheckout               |\n| 28 | WorldPay                  |\n| 29 | BeanStream                |\n| 30 | Psigate                   |\n| 31 | moolah                    |\n| 32 | Alipay                    |\n| 33 | Buckaroo                  |\n| 34 | Coinbase                  |\n| 35 | DataCash                  |\n| 36 | Neteller                  |\n| 37 | Pacnet                    |\n| 38 | PaymentSense              |\n| 39 | Realex                    |\n| 40 | Sisow                     |\n| 41 | Skrill                    |\n| 42 | BitPay                    |\n| 43 | Dwolla                    |\n| 44 | AGMS                      |\n| 45 | Barclays                  |\n| 46 | Cardgate                  |\n| 47 | Checkout.com              |\n| 48 | Creditcall                |\n| 49 | Cybersource               |\n| 50 | ecoPayz                   |\n| 51 | Fasapay                   |\n| 52 | Komoju                    |\n| 53 | Multicards                |\n| 54 | Pagar.Me                  |\n| 55 | Paysafecard               |\n| 56 | Paytrace                  |\n| 57 | Secure Trading            |\n| 58 | SecPay                    |\n| 59 | WeChat Express            |\n| 60 | WePay                     |\n| 61 | Braintree                 |\n| 62 | Custom                    |\n+----+---------------------------+\n62 rows in set (0.00 sec)\n. This most likely explains the problem, you'll need to correct the ids. . It may be easier to transfer your data using the JSON import/export however it only includes client, invoices and payments. . Not sure... you may want to make a backup. You can use the API to get the invoice link, I believe you'd need to add ?include=invitations when requesting the invoices. \nThere should a submission area at the bottom of the forum, I agree it isn't too clear. . Also, rather than use the invoice link you can use the contact's link (contacts.contact_key) for access to the portal dashboard.. Try changing ?include=contacts,invoices,invitations to ?include=contacts,invoices.invitations\nThe invitations belong to the invoice so need to be separated by a dot. . I believe you can use /api/v1/clients/?email=<value>&include=contacts,invoices.invitations. Have you seen the Swagger docs: https://app.invoiceninja.com/api-docs#/\nI'll add these points to current docs. . You should just need to match the client's currency id (or account if the client's value is blank) to the record in the currencies list. Can you clarify what you're missing? . - You'd need to use the static data, you may be able to cache it in your app to prevent extra requests. \n- We don't currently support filtering by paid status through the API.\n- We support page and per_page settings.. Thanks again!. FYI... we plan to merge these changes. . If you're using a proxy this may help: https://github.com/invoiceninja/invoiceninja/issues/738#issuecomment-188970291\nAlso, this setting may be relevant: https://github.com/invoiceninja/invoiceninja/blob/master/public/.htaccess#L22\n. Great to hear, thanks for letting us know it worked. . @turbo124 any ideas? I think I remember we saw a similar problem with Clouflare.. Also, check this..\nhttps://github.com/invoiceninja/invoiceninja/blob/master/public/.htaccess#L22. Not that I'm aware of.. I think the user is listed if you export the data.\nWe plan to add selectively visible columns to the reports, this would be a good use case. . We've checked a fix into master: https://github.com/invoiceninja/invoiceninja/commit/1e575e50e9bc5810a699826a14591787f8a83285\nIt will be included with our next minor release. . This isn't currently supported. . You should be able to handle this with a custom invoice surcharge.. Thanks! All localization issues are compiled in #1225.. Done. Use this one, thanks!. We've checked a fix into master: https://github.com/invoiceninja/invoiceninja/commit/1e575e50e9bc5810a699826a14591787f8a83285\nIt will be included with our next minor release. . Sounds like it may be a session issue, you may want to try with a different driver: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/config/session.php#L19. We don't currently support this.\nReviewing alternate solutions [1, 2, 3] this doesn't seem to be a common feature.\nThat said there is a PR to add support for this: https://github.com/invoiceninja/invoiceninja/pull/1391. Thanks for the feedback!. @thueske thanks for the feedback! \nIt seems like the problem occurs when PHP is updated, not when the app is updated. I don't think we'd want the app to auto-detect the PHP change and change the cipher settings. . Try re-saving the first invoice in your account with the contact checked. \nIn past version when importing records we weren't creating invitation records, this will be changed in our next release. . It could be related to the new release, we're now using the account timezone to determine when to send the invoice. That said, it shouldn't be off more than 1 day. \nCan you check your timezone is correct on /settings/localization . Can you also check the date/time is correct on the server. \nPlease run this SQL query, it'd be helpful to see the past date/times. You'll need to specify the invoice number. \nselect a.created_at, a.activity_type_id, a.is_system\nfrom activities a\nleft join invoices i on i.id = a.invoice_id\nwhere i.invoice_number = '0001'\norder by a.created_at desc;. Thanks, I could use a bit more data. Run the first query to get the client id and then use it in the second. \nselect c.id\nfrom invoices i\nleft join clients c on c.id = i.client_id\nwhere i.invoice_number = '0001';\nselect a.created_at, a.activity_type_id, a.is_system, a.invoice_id\nfrom activities a\nleft join invoices i on i.id = a.invoice_id\nwhere a.client_id = 1\norder by a.created_at desc;. Sure, you can email it to contact@invoiceninja.com\nAlso, please send a screen shot of the recurring invoice settings.\nThanks! . Thanks. I think I see the problem, it looks like diffInMonths isn't working as expected. \n```\n\n\n\nCarbon::parse('2017-04-01', 'Europe/Amsterdam')->diffInMonths(Carbon::parse('2017-04-29', 'Europe/Amsterdam'));\n=> 0\nCarbon::parse('2017-03-01', 'Europe/Amsterdam')->diffInMonths(Carbon::parse('2017-03-29', 'Europe/Amsterdam'));\n=> 1\n```\n\n\n\nThis may be related to this issue: https://github.com/briannesbitt/Carbon/issues/788. We'll include the fix in our next release.\nI'd suggest setting the start date to May 1st to ensure it's sent on the correct date next month. \nSorry for the trouble... . This fix is in our latest release. \nWhat's the normal update function? . The new release is available on invoiceninja.org. We're currently working on this feature, in a past release the button was shown but didn't work correctly. \nUntil it's implemented you can set a password using the 'Recover password' link on the web app login page. . Thanks for the fix!. Great, thanks! . Thanks for letting us know, we mainly use acceptance tests.\nDoes the Laravel5 module support JavaScript?. Thanks for letting us know!\nI usually keep the feature disabled but I'm able to replicate the problem. . If you're a developer you could create a transformer to map their format to ours.\nYou can see examples here: https://github.com/invoiceninja/invoiceninja/tree/master/app/Ninja/Import\nWe support importing data using CSV but it doesn't support importing invoice line item details, using a transformer would enable this. . Correction... we support importing line items through the CSV import, you'd need to specify the same invoice number with each line item. . Are there any errors in the logs in storage/logs/laravel-error.log . I'm not sure, it's the first time I've seen this error.\nWe're about to release v3.2, maybe it will help?. If you'd like, I'd suggest making a backup of your database if you want to switch back. \nYou'll need to run composer install and php artisan migrate\nIf you wait about 10 minutes we're in the process of merging develop into master. . Master has been updated.. Great, thanks for letting us know!. Thanks!. - Can you also test in Chrome\n- Does it freeze on all pages or certain pages\n- If the problem is visible in the client portal you can send a test invoice to contact@invoiceninja.com and we'll try to debug it . Thanks, that's helpful!\nDo you have the specific JS error?. That's by design, we first load the page and then make AJAX calls to load the chart/list data. \nShould the issue be closed?. The log is storage/logs/laravel-error.log\nIf you want to add contact@invoiceninja.com as a user I can try to debug it.. I'm not sure, it seems to be working fine for me.. No worries, glad to hear it works!. Where's the test on the Postmark website? I just see cURL and requestb.in. . This sounds like a re-seller question, can you clarify how you're using the app?. I think you'd need to modify the code to add the tax rates when the account is created. . You can click 'Enter Payment' to specify the date and payment details. . Can you clarify, are you saying when you mark multiple invoices as paid you'd want to apply the same date\\note to all payments?. If you could share a screenshot it would be helpful. . Thanks for the screenshot!. We've added 'Invoice Total' as an optional PDF field. . This will be in v3.3. Thanks for the suggestion, definitely worth considering in the future. . Sorry, no.\nWe're working to make custom modules better in v2 which should make this easier to implement. . Have you set 'Date Format' on /settings/localization, it should determine the formatting. . I misunderstood, you're saying the date isn't translated. \nThere's some more info about this here: https://github.com/invoiceninja/invoiceninja/issues/167#issuecomment-58344810. We hope to fix it eventually, I'd suggest using a date format with just numbers until then. . Could you use a custom client field? . Closing as this can be accomplished with custom fields. . Have you seen this:\nhttp://docs.invoiceninja.com/en/latest/configure.html#using-a-proxy. Great to hear, thanks for sharing your solution! . Do you have local changes, it sounds like the git pull failed. \nMaybe try forcing it... \nhttp://stackoverflow.com/questions/1125968/how-do-i-force-git-pull-to-overwrite-local-files. The latest in master is v3.2.1, what do you see in your code? \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Constants.php#L299. Also check your browser console for errors. As well as your web server error logs . I'm also having trouble replicating this, do you want to post/email a sample invoice and I'll try to reproduce the problem. . With regard to migrating data if you're a developer you may want to create a transformer, you can see examples here: https://github.com/invoiceninja/invoiceninja/tree/master/app/Ninja/Import. You can help improve our translations here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/ . The translations are updated with each major release. . I could see it being a bit wider but I'm not sure about making it the full width. . Sorry, I think that would be too big.. I don't believe the size of inputs should be strictly determined by the available space, look at the width of the search input at the top of this screen. . Great, agreed. I'm all for widening the search results. . Hmm.. I wasn't aware.\nSounds like we'd need to be able to specify per-language shortcuts, it may also be useful for self-hosters to be able to customize the key bindings. . I'm not able to replicate this problem, are you using Docker?. Not sure if it's related but it seems similar to this issue: https://github.com/invoiceninja/dockerfiles/issues/29. Is APC enabled for CLI\nhttp://artur.ejsmont.org/blog/content/how-enable-apc-extension-under-command-line-php-interface-debian-and-ubuntu. enable_cli is off\nOn Fri, Apr 14, 2017 at 5:18 PM Eelco notifications@github.com wrote:\n\nphp -i | grep apc lists:\n/etc/php/7.0/cli/conf.d/20-apcu.ini,\n/etc/php/7.0/cli/conf.d/20-apcu_bc.ini,\napc\napcu\napc.coredump_unmap => On => On\napc.enable_cli => Off => Off\napc.enabled => On => On\napc.entries_hint => 4096 => 4096\napc.gc_ttl => 3600 => 3600\napc.mmap_file_mask => no value => no value\napc.preload_path => no value => no value\napc.serializer => php => php\napc.shm_segments => 1 => 1\napc.shm_size => 256M => 256M\napc.slam_defense => On => On\napc.smart => 0 => 0\napc.ttl => 0 => 0\napc.use_request_time => On => On\napc.writable => /tmp => /tmp\n/etc/php5/cli/conf.d/20-apcu.ini,\napc\napcu\napc.coredump_unmap => Off => Off\napc.enable_cli => Off => Off\napc.enabled => On => On\napc.entries_hint => 4096 => 4096\napc.gc_ttl => 3600 => 3600\napc.mmap_file_mask => no value => no value\napc.preload_path => no value => no value\napc.rfc1867 => Off => Off\napc.rfc1867_freq => 0 => 0\nPHP Warning: Unknown: It is not safe to rely on the system's timezone\nsettings. You are required to use the date.timezone setting or the\ndate_default_timezone_set() function. In case you used any of those methods\nand you are still getting this warning, you most likely misspelled the\ntimezone identifier. We selected the timezone 'UTC' for now, but please set\ndate.timezone to select your timezone. in Unknown on line 0\napc.rfc1867_name => APC_UPLOAD_PROGRESS => APC_UPLOAD_PROGRESS\napc.rfc1867_prefix => upload_ => upload_\napc.rfc1867_ttl => 3600 => 3600\napc.serializer => php => php\napc.shm_segments => 1 => 1\napc.shm_size => 256M => 256M\napc.slam_defense => On => On\napc.smart => 0 => 0\napc.ttl => 0 => 0\napc.use_request_time => On => On\napc.writable => /tmp => /tmp\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1434#issuecomment-294161186,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEaj-DSaQhqigz7btWBgozkt0OML_20Yks5rv4AagaJpZM4M8men\n.\n. Thanks for sharing this info! . This is currently possible using Zapier\n\nhttps://zapier.com/zapbook/invoice-ninja/. No. Another option may be using the API. This feature has been developed and will be included in v3.6\nhttps://trello.com/c/4EwfR5s3/173-support-bulk-downloading-invoices. It exports the invoice PDF, not the attached documents.. On /invoices (or the invoices tab on the client overview page) there is now a 'Download' bulk action. \nWe don't currently support filtering by date, maybe you can sort by date and then check-all?. Maybe consider using the API or SDK (or Zapier) to automate it?. This is included in #1225. Not sure about this...\nPassing through the raw gateway errors has proven to be extremely helpful to users trying to debug problems. . Hosted users don't have access to the logs, we'd need to add a way for them to see raw errors while showing something else to clients. . I think the problem may be caused by the comma (vs period) separator. . We aren't going to support a one-to-many relationship here, it's too complicated and isn't the norm. We initially made the client optional however we found it introduced too many edge cases. \nCreating software often requires compromises, we generally try to follow the 80/20 rule. The solution here (as you mentioned) is to create two projects.. It looks like you may have extra quotes around the trusted proxy setting.\narray('requestIp' => '172.18.0.2', 'ip' => ''172.0.0.0/15'', 'address' => ''172.0.0.0', 'netmask' => '15''))\n. Does removing the quotes help?. Sorry, I don't have an answer... . This is by design but it's certainly possible the design is wrong.\nWe'll look into it... . \n. Any chance you're using an interlaced PNG for your logo?\nhttps://github.com/bpampuch/pdfmake/issues/331#issuecomment-114209245. The app should automatically de-interlace the image but it requires that the fileinfo PHP extension is installed/enabled. We'll look into adding this check if it isn't. . Are you able to replicate the problem?\nLaravel uses bcrypt to hash the password: https://laravel.com/docs/5.0/hashing. I'm not sure, I can't replicate the problem. \nMaybe the user record is archived, check that deleted_at is null.. You can try manually setting the password, you can generate the encrypted version by running php artisan tinker and then bcrypt('new_password'). I'm not sure what you mean, email addresses are unique but the user table has an id field as the primary key. . If you haven't already you can run the following SQL query to check the address: select * from users where email = 'email_address'\nWithout being able to replicate the problem it's hard to help fix it.. What do you see when you run show tables;. Sorry, my mistake... this would be in the contacts table. I was thrown off by the screen shot as the email/password combination is only supported for users. . I think I see the problem, I think your client is trying to reset their password using the admin pages. They'd need to use the 'Recover password' link in the client portal. . Users can login on /login, clients need to login using either an invoice link or their client portal link. . FYI... we're looking into enabling clients to login with their email address in a future release.. Thanks for the suggestion, this may be more complicated than first thought... . What error do your clients see?. Is there another error in the logs before this one?. Here are the crons: http://docs.invoiceninja.com/en/latest/configure.html\nThey need to be run once a day, not hourly. . Not sure about this, I'm curious what other people think... . We'll look into, however in general you should use composer install . Try changing this line to: \"omnipay/mollie\": \"3.*\", then run composer update. Are there any details in storage/logs/laravel-error.log. Thanks, try re-uploading your logo.\nHow is the app installed: Self-host zip, GitHub, Docker?. Great, thanks for letting me know.\nDid you update in place or move to a new install? If you moved to a new install (ie, using mysqldump) it would explain the missing image file. \nEither way we'll look into handling this better in our next release. . Ok, thanks. I think that explains it. \nNote: make sure you're using the original .env file, it's important APP_KEY is the same value. . In the latest version if you create a negative invoice it will be displayed as a credit. To correct the dashboard you may need to mark the invoice as paid.\nWhen creating a negative invoice we don't increment the invoice counter however we don't currently have a credit counter. . Are you setting a different invoice number for the credit? If you use the given number it will need to increment the counter. . We'll consider this for the future, I've updated the issue title to reflect the change. . It isn't currently supported, for it to work there would also need to be a credit_number_counter field added to the clients table. We'll keep it in mind for the future. . Maybe in the future... . This is by design.\nIdeally self-host installs shouldn't be indexed by Google. We set the cannoncial to invoiceninja.com to prevent Google from considering it duplicate content. I wouldn't think self-host users want their installs showing up in search results. \nhttp://searchengineland.com/google-supports-cross-domain-canonical-tag-32044. It looks like a rounding problem, we'll try to include a fix in our next major release. . What tax rates are you using?\nAlso, if you don't use the line item taxes you can disable them on /settings/tax_rates. Thanks, I was referencing the screenshots . Ballpark time frame is two weeks. . We added the ability set the duration in our last release, if you enter 1.5 it will auto-convert to 1:30:00.\nhttps://trello.com/c/wOoy3MFA/138-support-manually-setting-task-duration\nDo you mean something else?. The user can select which notifications to receive in their settings. . You'd need to login as them or manually update the user record in the database.. Yes, the ids start with 2 which is causing the problem. You'll need to update the ids in this table as well as the account_gateways table or import/export your data using JSON to a new install. . You'd need to temporarily disable MySQL foreign key checks.\nMake sure you create a database backup first. . I'm not sure, I'll look into it... . - Do you know which version you upgraded from? \n- Do you have a database backup from before the upgrade?\nThis is what the table should look like:\n+----+--------------+\n| id | name         |\n+----+--------------+\n|  1 | Weekly       |\n|  2 | Two weeks    |\n|  3 | Four weeks   |\n|  4 | Monthly      |\n|  5 | Two months   |\n|  6 | Three months |\n|  7 | Six months   |\n|  8 | Annually     |\n+----+--------------+\nI'd suggest update the table to match and making sure frequency_id is correct in the invoices table. \nYou can run the following SQL query to check.\nselect i.public_id, i.amount, f.name \nfrom invoices i \nleft join frequencies f on f.id = i.frequency_id \nwhere i.is_recurring = 1 order by i.id;\nSorry for the trouble! I've noticed a related problem, in my install 'Annually' appears twice but I don't think  it explains the issue you're seeing. . There' a file storage/version.txt which will have the version number. \nI have a few more questions to help track down the problem: \n- Do you have a backup which shows the correct frequencies? \n- Does it make sense that you didn't notice the duplicates until now (ie, do you rarely create new recurring invoices)?\n- Is it possible the table was manually changed at some point in the past? \n. Thanks for the info! Looking at that I would guess you updated from v3.0. \nAgreed, if the data was already bad then it must be from a previous release. . Is it working now?. Great, thanks for letting us know!. I'm not sure, I'm not seeing this problem.\n\nWhen did the problem start\nDoes it happen for every invoice\nAre you using the latest version (v3.2.1)\n\nOne odd thing in the screen shot is there should be a 'View as recipient' link under the contact's name. . Thanks for letting us know. It should be attached, are there any errors in storage/logs/laravel-error.log. I'm not sure, I can't replicate the problem\n\nAre you using the latest version (v3.2.1)\nAre you using queues\n\nIf you want to debug the code here's where the PDF is generated: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/ContactMailer.php#L65. Thanks for reporting this!. One place to add bank details is by adding a custom payment gateway on /gateways/create, maybe you could include both with a message to clients.\nThe better solution would to support multiple custom invoice designs.. The client public note is automatically set as the invoice public note so will be visible to the client. The private note is never seen by the client. . Maybe this will help...\nhttp://stackoverflow.com/a/41149971. If you want to email storage/logs/laravel-error.log to contact@invoiceninja.com I'll try to debug the problem. . You can load /update (or /public/update) to check that the migrations have completed. . This was caused by the migration trying to remove a foreign key which didn't exist in the database, we'll add a check for this in our next release. . If you want to email storage/logs/laravel-error.log to contact@invoiceninja.com I'll try to debug the problem.. Great, thanks!\nPlease make sure to create the PR against the develop branch. . Looks great, the last step is adding the language to database/seeds/LanguageSeeder.php. Thanks, did you mean to close the first PR? . No worries, thanks for your help! . Not at all, I really appreciate the help! . Awesome, thanks!!. Please check storage/logs/laravel-error.log for details about the error.\nAlso, check if /update (or /public/update) shows any errors. . What do you see when loading /update (or /public/update) in the browser?. I'd suggest checking storage/logs/laravel-error.log for more details. . This is where the error is logged, you can try throwing it to get the full stacktrace.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/OnlinePaymentController.php#L202 . If you'd like to hire a developer to help you can submit a request here:\nhttps://www.thedevelopers.ro/customisation-request-invoiceninja/ . Can you post the values you're using for the invoice number and quote number patterns. . I'm not able to reproduce the problem. From the description my guess is the app is getting stuck in this loop, you can try adding \\Log::info($number) to see what's happening. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Traits/GeneratesNumbers.php#L35\nIt'd be helpful if you could post screenshots of the invoice and quote number settings on /settings/invoice_settings. Also, are you seeing the error when viewing the new quote page or when saving the quote. . Do you see the error in the log when viewing the new quote page or when saving the quote.. I'm not sure, if you could send screenshots of your settings it may help.\nAlso, if 'Share invoice counter' is checked we hide the quote counter on the edit client page. When you say they need to be different do you mean when the checkbox is unchecked they're different and then you check it?  . Thanks, I'm able to reproduce the problem. . I've checked in a fix, I think the problem is the invoice number has already been used and we're failing to find the next free one. . I'll close the issue, if it's still a problem feel free re-open it. . Currently, you can only send the payment email when creating the payment. . I see the problem, I'll check in a fix.\nYou can workaround it by removing the default account tax.. We already have this feature but it isn't triggered until the latest release is deployed to invoiceninja.com.\nWe'll look into clarifying this. . You'll most likely want to modify this file...\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/public/header.blade.php. I think this is a bug, are you creating the invoice in the web app?. Thanks, understood. We'll keep this in mind for the future. . Just to clarify... you can create 1 account with 5 companies linked under it. . I would have thought to add the billable setting to that task as a whole (similar to the expense 'Mark billable' setting) rather than the individual times. . Thanks for the detailed post!\nI'm obviously not an expert here, it'd be useful to know other people's thoughts. \nWe track all changes to the invoice, maybe the PDF can serve as the immutable form? . FYI... since this was discussed the app should now be tracking all changes on self host installs. . We could add flags to the .env file to support these changes\n- Flag to use PhantomJS to save a PDF to disk when storing the backup versions\n- Flag to prevent changes in UI once invoice has been emailed/approved . It the PDF file is stored changes in the system wouldn't affect it. \nI'm not able to reproduce the issue in Firefox, we only support showing all pages of the PDF in Chrome and Firefox. . Thanks, do you know if there's an English version?. Thanks for the translation! It seems like the one problem may be that changes to the account/company details aren't tracked in the invoice history.. Yes, you're correct. Are there any related errors in storage/logs/laravel-error.log . Does the https://example.com/view/... link work in the browser?. You may need to set a value for PHANTOMJS_SECRET in the .env file\nhttp://docs.invoiceninja.com/en/latest/configure.html#phantomjs. It should be set by the setup script:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/AppController.php#L105. If you\u2019re a programmer you can add import transformers to add support for importing the data.\nhttps://github.com/invoiceninja/invoiceninja/tree/master/app/Ninja/Import\n. Here's some info: \nhttp://docs.invoiceninja.com/en/latest/configure.html#omnipay. You can set is_offsite to true in the gateways table to have the app redirect the users to the payment gateway to enter the payment. \nI'm not sure what you mean by 'present the client with a custom form prefilled with the invoice data'. Sorry, that isn't supported. I imagine it would be difficult to implement. . It looks like payment_type_id needs to be set in the query. . Can you post line 999 of app/storage/framework/views/b693b13f1e755f89a5a7d3be9683919923e96049.php. Are you always seeing this error when creating a blank invoice or when invoicing tasks (or both)? . This change should help: https://github.com/invoiceninja/invoiceninja/commit/60e923217d7ec38828811075746aadbfac0ca33b. Are there any relevant errors in storage/logs/laravel-error.log. Check you're using phantomjs v2.1.1\nhttp://docs.invoiceninja.com/en/latest/configure.html#phantomjs. What do you see when you run which phantomjs\nNote: the .env value for the binary is PHANTOMJS_BIN_PATH. That looks correct to me. \nThe info here may help: https://github.com/jonnnnyw/php-phantomjs/issues/86 . You can try manually running phantomjs using this script, you\u2019ll need to replace YOUR_LINK_HERE with the http://localhost:8080/view/... link from the error log. \nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/develop/resources/test.pjs. Are there any errors in storage/logs/laravel-error.log . Which version PhantomJS are you using?. I'm not sure, other users have also reported the problem. I don't think the issue is with the app as the phantomjs test script is also failing. \nMaybe use phantomjscloud instead?. We used to only support phantomjscloud and then later added support for local PhantomJS.\nWe use local PhantomJS on our hosted platform, the features works for many but not for some. . I'm not sure, maybe try an invoice without them. I'd suggest using the test script to try to isolate the problem. For example, is PhantomJS able to load other public sites or other pages in the app.. I think you just run phantomjs <script_name> from the command line.. I think you just run phantomjs <script_name> from the command line.. Thanks for the tip!. Thanks for the tip!. FYI.... I don't believe the issue is related to the version of the app, the feature is working correctly for most users. It's more likely a problem with your local setup, the next step would be trying with the test script. \n. FYI.... I don't believe the issue is related to the version of the app, the feature is working correctly for most users. It's more likely a problem with your local setup, the next step would be trying with the test script. \n. Without the results of running the test script manually I'm not able to provide further help. . Without the results of running the test script manually I'm not able to provide further help. . If you uncomment this line the values being used will get logged to storage/logs/laravel-info.log\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/Mailer.php#L46. If you uncomment this line the values being used will get logged to storage/logs/laravel-info.log\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/Mailer.php#L46. Thanks for the change!. Thanks for the change!. This seems like it's partially a duplicate of #1263, if you could define the invoice columns you could hide the custom field. . This seems like it's partially a duplicate of #1263, if you could define the invoice columns you could hide the custom field. . It's an interesting idea but I'm not sure how common the use case would be. . It's an interesting idea but I'm not sure how common the use case would be. . This could make sense as a .env setting which would make the app stricter in general. . This could make sense as a .env setting which would make the app stricter in general. . I agree this would be useful.\nYou can currently see the signature by hovering over the person icon next to the contact name on the edit invoice page. . I agree this would be useful.\nYou can currently see the signature by hovering over the person icon next to the contact name on the edit invoice page. . It may help to download PhantomJS and point the .env file to the binary \nhttp://phantomjs.org/download.html\nYou can use this script to test from the command line, change __YOUR_LINK_HERE__ to a \u2018View as recipient\u2019 link.\nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/develop/resources/test.pjs\nhttp://docs.invoiceninja.com/en/latest/configure.html#troubleshooting. It may help to download PhantomJS and point the .env file to the binary \nhttp://phantomjs.org/download.html\nYou can use this script to test from the command line, change __YOUR_LINK_HERE__ to a \u2018View as recipient\u2019 link.\nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/develop/resources/test.pjs\nhttp://docs.invoiceninja.com/en/latest/configure.html#troubleshooting. Does it work if you call phatomjs from the command line using the test script? . Does it work if you call phatomjs from the command line using the test script? . I'm not sure, I see other people reporting 408 errors with the library but I haven't found a solution. \nIf you haven't already you may want to test with downloaded binary. . I'm not sure, I see other people reporting 408 errors with the library but I haven't found a solution. \nIf you haven't already you may want to test with downloaded binary. . @vidit10 Thanks for the suggestion, I'll look into it. . @vidit10 Thanks for the suggestion, I'll look into it. . If that were the problem you'd most likely see a 3xx error, not 4xx. . If that were the problem you'd most likely see a 3xx error, not 4xx. . Do other URLs work or do they also return a 408? . Do other URLs work or do they also return a 408? . Does google.com work?. I'm not sure, maybe it's related to the non standard port (8087) ???. Have you tried port 80?. Sorry, I'm out of ideas. Is phantomjscloud an option? . The app will need to be publicly available for phantomjscloud to work. . To clarify I assume you mean you have two instances of the app running, one on port 8087 and another on 8088?\nNot sure, I use ninja.dev rather than localhost:8088. Maybe it's related?. I'm using an Apache virtual host. I think I see the problem, I've checked in another fix... . Have you reviewed the info here:\nhttp://docs.invoiceninja.com/en/latest/configure.html#phantomjs. Also, please check your error logs in storage/logs/laravel-error.log . Maybe the info here will help: https://github.com/invoiceninja/invoiceninja/issues/1494. Have you tried testing it from the command line?. What value are you using for PHANTOMJS_BIN_PATH. The status shouldn't be null, maybe this will help:\nhttps://stackoverflow.com/questions/12021578/phantomjs-failing-to-open-https-site. I'm not sure, you may need to use phantomjscloud instead. . You can also try testing without HTTPS to see if it helps. . That's helpful, it looks like PhantomJS is having trouble with SSL. \nYou may want to test more of the stackoverflow answers. . Sorry, I'm not sure.. Had you tried this?\nYou may need to add an entry in the /etc/hosts file to resolve the domain name. . Is the problem the capital letter? . Hmm.. ok. I'm having trouble reproducing the problem.\nIf you want to email a sample invoice link to contact@invoiceninja.com I'll try to debug it. . Thanks for the suggestion!\nFYI... we use Omnipay to support our payment integrations, we'd need to find a driver to add them. . We already accept Bitcoin via BitPay, this issue is to add support for other crypto currencies.\nWe'll likely add Bitcoin support through Stripe soon. . As a workaround you can try manually updating the email_footer field in the accounts table. . You can click the question mark at the right of the subject to see the full list. . I'm not seeing the problem, in my tests I see the thumbnail. \nDo you always sees this problem?. I'm not sure, I'm not aware of anyone else seeing this problem. . Do other files that size work?. I saw a similar problem with Apache and fixed it by increasing upload_max_filesize and post_max_size. Not sure about Nginx though.... Thanks for sharing the solution!. Thanks for the change however it won't work if there's more than one company, we need to return credit->client->public_id. This will also require eager loading the client for performance reasons. We plan on implementing this change in our next release. . Thanks for the change but we only accept pull requests against the develop branch. . Thanks!. Thanks, looks like a good change!. You can create a trigger for after a payment has been made\nhttp://docs.invoiceninja.com/en/latest/api.html#subscriptions\nhttps://github.com/invoiceninja/sdk-php/#events. Can you explain what you mean by \"after gateway's cutoff time\".\nOn the invoices list there's an invoice date, what time do you want to see?. Did you follow the steps here: http://docs.invoiceninja.com/en/latest/configure.html#omnipay\nWhat's the exact error you're seeing? I think the most likely cause would be using the wrong value for the provider field in the gateways table.\n. I'm not sure why it would stop working. I'm not sure I understand, are you saying the expense tax calculation is wrong?. Can you explain. If the expense is 50 and the tax is 19% than shouldn't the total be 59.50?\nWhat do you mean by 19.00 - 9.50?. Are you able to post a screenshot with the problem? . Just a screenshot would be great. . That's correct, that tax report is only for invoices. Are you saying you'd want an expense tax report?. You may need to implement the filter in the repository, here's an example:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Repositories/CreditRepository.php#L53 . I'm not sure why it isn't working, custom module filtering is the same as filtering for a regular module.. The code changes should be in the PHP code, not JavaScript code. Maybe that's your problem?. The link above is a good example, filtering for modules works exactly the same as it does for the standard list views.. If the list of records is being displayed then it seems very likely that the code in the find function should be getting reached. Is it possible you're looking at the wrong file?. Thanks for letting us know, I'll look into the change.. - Added the statement to the client portal\n- Added payments and aging to the PDF\nNote: for now we only support the clean design.. The payment_types table is used when manually entering a payment, the 'Pay Now' process is for online payments. You may need to make the change in resources/lang/en/texts.php. You shouldn't need to add your own. Everything's possible, it's just a matter of time... . I don't think it applies here.\nThat's for overriding package translations, you want to override translations in the project itself. . It's pretty tied in but with enough effort anything can be changed. . In my tests enabling this setting attaches the PDF to invoices and quotes.. As the person who wrote these docs I'll be the first to admit they're terser than they should be. \nI'll look into improving it.. It looks like a problem with the web server configuration, have you seen this guide.\nhttp://blog.technerdservices.com/index.php/2015/04/techpop-how-to-install-invoice-ninja-on-ubuntu-14-04/. The guide was written by a third party, I'll follow up with them to see if their willing to update it otherwise we'll do it ourselves. . Thanks for catching it!\nIf you'd like to contribute you can update the texts here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. This isn't supported.\nCan you explain your use case, do you have pre-existing Stripe tokens? . Thanks for the details. These look like two separate problems:\n- Are your email settings correct in the .env file\n- Is APP_URL set in the .env file. I'm not sure I understand, can you post a screenshot. I think you may be misunderstanding the 'Partial' feature.\nIf they have already made a payment you'll want to create a partial payment. . A common use case would be asking your client to pay a deposit.. Correct, by setting the Advance/Deposit the client is able to make a partial payment. . Feel free to update the translations...\nhttps://www.transifex.com/invoice-ninja/invoice-ninja. Is this a duplicate of #437 ?. If it isn't a duplicate how is it different?. Understood, this is the same as #437 . What do you mean by 'pre-payment', are you entering a partial payment?. Can you please post a screenshot. We included a fix for the payment date timezone in v3.4: https://github.com/invoiceninja/invoiceninja/commit/349f7f262179c47b9b7ec623d3fb0ae1a385ea6f. Also, with regard to showing the time... invoice dates and payment dates are stored as dates without the time. . Fields which are date\\time are stored as UTC and use the account timezone when displaying the field.\nFields which are just dates (ie, invoice date and payment date) are locked at the current timezone, this is to prevent the values for changing if the timezone is changed. . The payment date can be set in two places: when creating a manual payment and when an online payment is generated. When creating a manual payment it's just a date without time.. I think most of these are the same problem, please re-test with v3.4 and let me know if any issues remain.. The fix would only apply to newly created payments. Great, thanks!. Why update the database instead of using the UI?\nNot sure about the time, there's a created_at field but it's only useful for online payments not manual ones. \n. You may be able to re-purpose quotes to accomplish this.\nYou'd want to use a custom design without any of the pricing info.. You can configure our app so that when a client receives a quote (or invoice) they have to sign and click approve, it seems close to what you're asking for. \nBy default the quote/invoice would show the item details, you may be able to use a custom design to replace it with your contract. . Is 'Prevent Download' checked on /settings/account_management\nDoes changing the setting help?. Can you try changing the app language to English to see if it helps.. You can try but I'm not sure it will make a difference. Which version did you upgrade from? Can you confirm that downgrading fixes the problem, email response time are variable.\nYou can enable queues to improve the performance:\nhttp://docs.invoiceninja.com/en/latest/configure.html#email-queues . You may also want to check if not attaching the PDF to the email improves the performance. . It may be easier to compare against a clean install of the earlier version using the same email credentials.. It depends on what was changed to the database (as part of the upgrade). . You can import/export the settings using JSON.\nI'd suggest of course first testing without your settings to see if it's related. . If you think the problem was caused by an update you'd want to try the last version where it worked. . The password should be skipped.\nAre the app and client portal using the same subdomain? . I'm not sure, I can't replicate the problem.\nI'm assuming you're testing in the same browser and are logged in as the admin on the account.. Can you post both links, changing the domain to example.com.. This is the line of code which should let the admin bypass the password\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Middleware/Authenticate.php#L71. Ok, maybe someone can else chime in to let us know if it's working for them. . Do you mean on /payments \nNote: our translations are managed here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. I think it's status_completed. Currently you'd need to manually email them once they're approved.. Looks great, thanks!\nI'll try to test/merge over the next few days. . I just noticed this change is on the master branch, are you able to create the PR against develop? . Thanks! We use the GitFlow branching model and try to only commit changes to the develop branch. . Thanks again!!. Are you running PhantomJS locally or are you using phantomjscloud?\nhttp://docs.invoiceninja.com/en/latest/configure.html#phantomjs. @olegchensky, I'm sorry I don't understand. \n\nIs it still a problem?\nWhat do you mean by \"possible only on self-hosted\", are you using a hosted account as well?. You may want to try using local PhantomJS instead . Can you check for any errors in storage/logs/laravel-error.log. Can you check your PhantomJS version. Thanks for sharing the fix!. The info here may help: https://www.invoiceninja.com/forums/topic/heads-up-for-ubuntu-users-running-phantomjs-local/\n\nNote: the download button uses the browser to generate the PDF, you need to use the test link on Settings > Email Settings to try generating the PDF using PhantomJS\n. You can try using the CLI test script as described here:\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#troubleshooting . PhantomJS seems to be working but it looks like you aren't using a valid invoice link in the test script.\nSorry, I'm not sure I'm going to be able to provide much help here. . Maybe it's related to using localhost?\nWe'd like to switch over to Chrome in the future. If you'd like to see it happen sooner feel free to create a pull request.. Sorry, I don't mean to be rude... I realize it's frustrating wasting time with this. \nAlthough the package is deprecated it is working for most of our users. . All of the advice I can provide is in the troubleshooting section of the docs. . https://github.com/spatie/browsershot. I'd suggest updating the first invoice's date to the date in the past and then setting the start date for the recurring invoice to the date the next invoice should be sent. . This is the first I've heard of this issue, can you reproduce the problem?\nYou can use this SQL query to check for any subscriptions.\nselect * from subscriptions;\nAlso, have you enable the Google Analytics Ecommerce feature? . Here's the main controller function:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/OnlinePaymentController.php#L117\nAnd the event handlers:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Providers/EventServiceProvider.php#L109\nIf entering manual payments isn't slow than I think it's less likely the event handlers are a problem.. I'm not sure, this is the first I've heard of this problem. \n\nAre you sure you're only logged out on the settings pages? I can't think of anything which would explain that. \nCan you clarify \"Each login after upgrade fails\". The upgrade are spaced out over at least a few weeks, does the login work otherwise?. Thanks for letting us know about the problem, the fix will be included in v3.5. . Do you have the original app key? . Great, you'll want to copy the original .env file from the older instance to the new one.. From the error it looks like a database migration failed, you'll need to comment out the parts that have already been run and re-run the migration.. What do you see when loading /update (or /public/update) in the browser?. Thanks, this is the file: database/migrations/2017_04_16_101744_add_custom_contact_fields.php. No, just the parts in the up function which have already been run. . You'll need to comment out the lookup_accounts part of the migration . It's in this file:\n\ndatabase/migrations/2017_04_30_174702_add_multiple_database_support.php. Does this file exist?\napp/Models/DbServer.php. Sorry... wrong file, please check for database/seeds/DbServerSeeder.php\n. Do you see an error when loading /update (or /public/update) in the browser?. I'm not sure, it seems to be working for me. \n\nWhich branch are you using? \n\nHave you set a value for the field?. Can you post a screenshot of the invoice settings, is a discount being applied? . If you get the code from GitHub you need to use Composer to install 3rd party lbs, we include it with the self host zips.\n\n\nCheck storage/logs/laravel-error.log for errors\n\nLoad /update or (/public/update) in your browser and check for errors . - Are there errors in the browser console when clicking download?\nHave you tried force refreshing the page?. Have you seen the info here: http://docs.invoiceninja.com/en/latest/mobile_apps.html. Thanks for letting us know about this!. Can you post an example link? It should never return a 404. . Are you using the API?. The next time it happens please run this query, the random string from the link is the invitation_key.\n\nselect ii.deleted_at as invitation_deleted_at, cc.deleted_at as contact_deleted_at,\n    i.deleted_at as invoice_archived_at, i.is_deleted as invoice_is_deleted,\n    c.deleted_at as client_archived_at, c.is_deleted as client_is_deleted\nfrom invitations ii\nleft join invoices i on i.id = ii.invoice_id\nleft join contacts cc on cc.id = ii.contact_id\nleft join clients c on c.id = i.client_id\nwhere ii.invitation_key = 'your_key_here'\nI asked about the API because if the contact is recreated it would cause their existing links to become invalid, re-saving the invoice would fix them. . We prioritize work based on (in part) the number of upvotes an issue gets. \nThis is non trivial to implement as a single invoice could have multiple payments if you're using partial payments. . This isn't currently supported. Thanks for the info!\nFYI.. we use Stripe.js to create the token, I think the customer is created automatically.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/payments/stripe/credit_card.blade.php#L53. https://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/PaymentDrivers/BasePaymentDriver.php#L309. Thanks, I'll give it a try. It looks like Omnipay supports receipt_email.\nhttps://github.com/thephpleague/omnipay-stripe/blob/master/src/Message/AuthorizeRequest.php#L201. In our last release we added $total and $balance, the $amount variable will be the deposit amount if it's set.\nWe could add a $deposit variable but it seems like for it to be useful we'd also need to add a deposit email template. . If you include a $deposit variable in the standard invoice template how would that work when emailing the invoice for the remaining amount?. We've added $partial in our next release. Are there more details in storage/logs/laravel-error.log . Are you using the same .env file, you'd see this error if the value for APP_KEY was changed.. From the error it looks like the database migration may have failed but it seems likely this is related to your other issue. Is there a reason you created this as a separate issue?. One option may be to create your rates/services as products. \nAfter invoicing the tasks you can then select the product to set the rate. . If you'd like to work on a pull request please email us at contact@invoiceninja.com to review the details. \nI like the idea of adding 'is_billable' to tasks, the other changes I'm less sure about... . Thanks, this is great feedback! \nFYI.. the app was initially built for a single business which creates many invoices but doesn't track expenses or tasks. The decision to add the features was driven mainly by feedback from the community. \nOur belief is that we currently provide a best in class invoicing solution with adequate time tracking and expenses. Our plan in the foreseeable future is to change that, you can see our latest improvements to time tracking on our Trello board. We plan to spend more time on it in the future. \nhttps://trello.com/b/63BbiVVe/invoice-ninja. Do you know which version you upgraded from?\nIf you email storage/logs/laravel-error.log to contact@invoiceninja.com it may help us debug the problem. . Please reply to my email if you need more help debugging the problem. It'd definitely worth considering, you may want to create a separate issue for it. . Thanks for detailed issue!. How are you setting the dd/mm/yyyy format, it isn't an option on /settings/localization (because of these sorts of issues). \n. I've checked in a fix but if you're using a custom format it's very possible you'll see more of this type of issue.. The underlying problem is related to when the value is formatted but it isn't a trivial fix.. Are there any details in storage/logs/laravel-error.log . Try commenting out these four lines of code:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/AccountController.php#L379. Thanks for letting us know, we'll include a fix with our next release.. You should be able to set the contact's phone by adding &phone=.... to the URL.\nIt won't be possible to revoke buy now buttons as the links aren't unique, if you create two links for the same product the URLs will be the same. . Adding &phone= enables you to pass through the phone number if you already have it, we don't support adding the field to the checkout form.\nThe buy now URLs aren't stored in the database, if you delete a product the link stops working. . This isn't a bug, the app clearly states: \"Note: the client and invoice are created even if the transaction isn't completed.\". I agree it would be better to change the behavior however this will be a difficult change to implement. . Sorry, we don't currently use milestones in GitHub and aren't able to provide an ETA.\nIf it was a simpler change we'd probably work on it sooner however as mentioned above this will be a hard change to make. . We use a combination of GitHub, Trello, email, our support forum and social platforms. The more requests we get for a change the sooner we work on it. For GitHub we use comments and +1's to judge what we should be working on factoring in how hard the feature will be to implement.. When using incognito you'll need to use the password as the app won't see that you're logged in.. Does it work if you aren't using incognito mode?. It's helpful to know it works in Firefox but not Chrome. It's worth checking that 'Block third party cookies' is disabled on Settings > Show Advanced > Content Settings.\nWe use a one way encryption to store the passwords.. I'm not sure, without being able to replicate the problem it will be hard for me to help. . I've tried to replicate the problem however it works correctly in my tests.. If you want you can email a screencast to contact@invoiceninja.com . Thanks for the PR, can you please create it against the develop branch.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/CONTRIBUTING.md. I'd suggest closing this PR, I plan to check in the fix later today. . Thanks!. Are there any errors in storage/logs/laravel-error.log. Thanks for the info, will do.. I'm not sure I understand. From the screenshot it looks like you referring to the invoice number which isn't translated in the app. Can you use \u00e9 instead of \u00e9?. Thanks, I understand now.. FYI.. I noticed in the screenshot that you have debug enabled, make sure to disable it if you're sending invoices to clients. . This is by design, often times a record is restored so that it can be worked on. I think the change you want is to support bulk restore.\nWe used to save the current list page but got feedback from users that they'd prefer always to start on the first page. . Have you tried enabling 'Create' and 'View' but not 'Edit all' in the user permissions?. Are you using the latest version?\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/expenses/edit.blade.php#L411\nNote: in case you didn't realize you can also click inside the text input to show the calendar.. I'm not sure, I'm not able to reproduce the problem. \nAre there any errors in the browser console?. v3.5 is available to self-hosters but isn't yet running on invoiceninja.com.. Thanks, I'll keep looking into it.... I think this should be resolved once v3.5 is deployed. It should be released in a few weeks.. Is it a large invoice/are there a lot of invoice items.\nOne option/workaround would be disabling the live preview on /settings/account_management\nYou could also try enabling 'Prevent download' to see if it helps.. If you want to email a sample invoice to contact@invoiceninja.com I can check if I see the problem as well.\nWith the second option you'd need to click 'Download' to get the PDF.. Thanks for your help debugging! I think I've fixed this by upgrading to the latest version of pdfmake, we'll include this change with our next release.\nYou can test the fix by replacing public/pdf.built.js with the file here and force refreshing the page.\nhttps://raw.githubusercontent.com/invoiceninja/invoiceninja/develop/public/pdf.built.js. Great to hear, thanks for letting us know!. It looks that way, upgrading to the latest version of pdfmake has greatly improved the performance of Firefox. A big part of it was luck... we had planned to update pdfmake for other reasons, it happened to also help with this issue. . The user's settings aren't loaded until they're logged in.\nTo translate the login page you need to set APP_LOCALE= in the .env file. - Do you only see the problem with the expense report\n- Are there any errors in storage/logs/laravel-error.log. Thanks for creating the PR!\nIn the future I'd suggest discussing it with us ahead of time to ensure it get's merged. I wasn't planning on using pdfmake to implement this feature, I think it'd make more sense to generate the PDF server side rather than in the browser. The reason we use pdfmake for invoices is to support viewing changes in realtime, that isn't needed with the reports. . Thanks, sorry for the trouble. \nI think the best approach would be to use Maatwebsite/Laravel-Excel, I've added dompdf so you should be able to use it to generate the PDF. \nhttp://www.maatwebsite.nl/laravel-excel/docs/export. Thanks for taking the time to work on the feature!\n\nWhy switch from DomPDF to mPDF, DomPDF appears to be much more popular. \nNot sure about the change for autosize-method, from the comments \"this method is significantly slower\".\nHaving to call tableHeaderArray to initialize columns_labeled could be confusing, can you change this to remove columns_labeled property and just return the value from the function. . - Changing to DomPDF 0.6.2 should fix the error.\n\nhttps://github.com/Maatwebsite/Laravel-Excel/issues/758#issuecomment-260169145\n\nI'm not a fan the switch statement in the config file, please change back to 'approx' and add a .env setting.. - The normalizeChars function is pretty ugly, why is it needed?\nAs mentioned before, the switch in the config file will need to be removed. We're working towards support config caching, I imagine it would break it. \n\nNote: please make fixes to this PR but add any new changes to a separate PR.. Understood. I'll leave it for now but may change it in the future. \nCan you revert resources/views/reports/chart_builder.blade.php and check-in a version with just the export button. . Thanks again!\nWhich IDE are you using?. Thanks, it seems to do a better job indenting blade directives than Atom.. You can clear the list by logging out then back in.\nWe'll fix this in the app. . Thanks for the PR, but changes to the translations need to be made in Transifex otherwise it'll be overwritten. Also (for future reference) we can only merge PR into the develop branch.\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. We use bcrypt\n$2y$10$1/rOGIZrsNFzhR5zc6/jDenQLIP8bbeTOsSpUBg0dZtpN85iQlLRG\n. You can clone an invoice and then enable recurring. If you click 'Mark Ready' and the start date is in the future the app should wait to send to it.. I think the problem may be specific to PHP 7.1.\nI've checked in a change which should help. . Yes, this is a small change which is safe to apply. I'll close the issue once we release v3.6.1 with the fix included.. Thanks for the suggestion!. - Are there any errors in the logs?\n- Is the zip file a reasonable size?\n. storage/logs/laravel-error.log. Not sure... . You can email the log to contact@invoiceninja.com, however if the error is \"No space left on device\" I don't think we'll be able to provide much help.\nI don't think the CHMOD error is related to the problem with the zip file, it should be fixed by this line of code:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Libraries/HTMLUtils.php#L25. You currently need to save the invoice for the country to be updated, we'll look into updating the preview without first saving. . Are there any errors in the browser console?\nAlso, does changing to English help?. Which browser are you using?\nIt seems like it's related to spectrum.js, we upgrade to their latest version in this release.. If you haven't already try force refreshing the page in case you're using cached JS/CSS files.. Does the app work otherwise?\nYou can comment out this line of code to remove the upgrade panel.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/header.blade.php#L214. Hmm.. good to hear! . @eelco2k can you explain your comment, I'm not sure I understand?\nYou use your user/pass to login into the mobile apps, not the API token.. @turbo124 Any thoughts on this? . Thanks for the suggestion, I've updated the docs.. 'Transaction Reference' is shown if you check 'Mark Paid', we'll look into always displaying this field. . We added custom expense fields . Since then we've added support for local PhantomJS, it sounds like it would be a better option for you\nhttp://docs.invoiceninja.com/en/latest/configure.html#phantomjs. Is it possible the specified client id either doesn't exist or is deleted? . 1. This should be fixed as of v3.6, note the client must be set for the option to be shown.\n2. This is by design, it enables creating an invoice which combines tasks with standard items. . You need to chmod 777 the htmlpurifier folder. Can you SSH into the container? I don't have much experience with Docker. . Thanks for sharing the fix!. https://github.com/invoiceninja/invoiceninja/blob/master/resources/views/expenses/edit.blade.php#L469. I've re-opened this issue to give other people a chance to weigh in, I'm curious to know if more people would like this change. . In an upcoming version we plan to load current exchange rates and support automatically converting the amounts. A user may know the amount that should be invoiced but want to store the expense in their own currency, if we make this change that wouldn't be possible. . If you change the \"Invoice Amount\" the question is should the \"Exchange Rate\" be updated or the \"Expense Amount\", currently we update the expense amount you're suggesting we update the exchange rate.\nIt's a \"solve for x\" type problem, the question is which value should be considered \"X\". I believe this will be different depending on how you use the app. . I think it comes down to whether the expense was paid for in your currency or the client's currency, this will be different depending on the user. . Let's assume the account currency is USD and the client currency is EUR.\nIf you pay $100 USD for an expense the user would set 100 as the expense amount then enter the exchange rate and get the amount to charge the client.\nIf you pay $100 EUR for an expense the user would set 100 as the invoice amount and then set the exchange rate to determine the expense amount.  \nWe're on Gitter: https://gitter.im/invoiceninja/invoiceninja. Thanks for the fix!\nPlease create the PR against the develop branch.. I'm seeing the following error from this change:\n[Wed Aug 16 16:56:23.553922 2017] [core:alert] [pid 1327] [client 127.0.0.1:50870] /ninja/code/public/.htaccess: Invalid command 'Header', perhaps misspelled or defined by a module not included in the server configuration, referer: http://ninja.dev/. Nope\n$ /usr/sbin/apache2 -l\nCompiled in modules:\n  core.c\n  mod_so.c\n  mod_watchdog.c\n  http_core.c\n  mod_log_config.c\n  mod_logio.c\n  mod_version.c\n  mod_unixd.c. Thanks!. Thanks for the PR, can you please create it against the develop branch. . Thanks!. How are you setting the log handler? Does commenting out these lines fix it?. Ok, thanks. I'll look into it... . Has a white label license been applied? . Ok, thanks. Purchasing a license would remove 'Invoice Ninja' from the page title as well as the other client facing parts of the app.. Thanks for the PR but there are two problems:\n- We only merge changes into the develop branch\n- I believe the change breaks the code, it's no longer checking if the company ids are unique. FYI... we're all for contributions but these sorts of changes aren't so helpful. The challenge is this is heavily tested code, any changes require a fair amount of effort to retest which most likely won't outweigh the benefit of the change.\nIf you'd like to find other changes to work on please email us at contact@invoiceninja.com . No worries, thanks for contributing! . FYI... if you want your clients to always be shown the payment page you just change /view/ to /payment/ in the JavaScript code. . You should be able to fix this by using a custom design and increasing the bottom page margin.. It may help to update curl . You should be able to use this link to purchase a license:\nhttps://app.invoiceninja.com/buy_now/?account_key=AsFmBAeLXF0IKf7tmi0eiyZfmWW9hxMT&product_id=3\n. Thanks for the detailed description, we'll make sure it's fixed. . Are there details about the error in storage/logs/laravel-error.log . Try running composer install and php artisan optimize. I found this similar issue but we weren't able to track down the source of the problem https://github.com/invoiceninja/invoiceninja/issues/1560. Another command to try is php artisan config:clear\nFrom: https://stackoverflow.com/a/43096962/497368. Great to hear, thanks for letting us know!. You need to define getDefaultParameters\nhttps://github.com/thephpleague/omnipay-stripe/blob/master/src/Gateway.php#L107. I'm not sure, here's where the code sends the account gateway config to the Omnipay driver\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/PaymentDrivers/BasePaymentDriver.php#L258. Are you using the code from GitHub or the self host zip?\nThe error is that the recurring_expenses table already exists but it should have been added in v3.5, I'm not sure how it would already exist in your app?. This should be possible using Zapier. . It's possible we'd add it in the future but it isn't an immediate priority. . That's unlikely . I'd suggest checking you're sending the right link in the zap.\nYou can customize the invoice fields on /settings/invoice_design#invoice_fields. Have you tried setting a custom invoice field on /settings/invoice_settings#invoice_fields\nYou could then reference it in the email template using $customInvoice1. We found new users had trouble finding the feature. \nWe're 'Invoice Ninja' not 'Expense Ninja', I think it reasonable for recurring invoices to have their own menu slot but recurring expenses are one level deeper. \n. - Are you using the code from GitHub or the self host zip?\n- When you reverted did you restore a database backup from before the upgrade?\nThe recurring_expenses table is created in the 2017_06_19_111515_update_dark_mode.php migration, it isn't clear why the table already exists in your database. . You're seeing the same \"recurring_expenses already exists\" error?. Sounds like a good idea, I can't explain why you'd see the same error after removing the table.\nIt also isn't clear why you have the table in the first place. . - The setting only affects new invoices, is the footer set on the invoice itself?\n- Are you using a custom design? . No worries. This looks like a duplicate of #1627. Can you check if you see the fix in your codebase.\nhttps://github.com/PeopleInside/invoiceninja/commit/95f01166cf7d18e64c909a2473c5b0bcdc2dca22. - Are you using incognito mode/does not using it help?\n- Does the app get past that line of code?. I'm not sure, the feature is working correctly in my tests. \nIt'd be helpful if you could see where in Authenticate.php the app is returning. You can add dd('here'); to write to the screen and stop the app.. What do you see if you add dd('here'); on line 28 of app/Http/Middleware/Authenticate.php\nIf you see 'here' try moving it further down the file to determine where the app is returning. . Try adding dd(auth()->check() . $authenticated); on line 75. Are you logged into the app?\nWhat do you see if you load /dashboard. You'll need to remove the dd line. Sorry, I don't have the answer. \nYou may want to confirm that downgrading resolves the problem.. - Are there any errors in the browser console\n- Does changing the design help\n- Does the preview fail in the admin section as well or just the client portal . If you want to email a 'View as recipient' link to contact@invoiceninja.com I'll try to debug it.. The current behavior is by design, the credits are considered one total sum and are used in order. This makes it easy to automatically apply multiple credits to cover a single payment. \nI agree it'd be useful to be able to specify which credit to use first if you want to keep the individual credits more organized. . The current behavior is by design, the credits are considered one total sum and are used in order. This makes it easy to automatically apply multiple credits to cover a single payment. \nI agree it'd be useful to be able to specify which credit to use first if you want to keep the individual credits more organized. . Have you considered setting a custom surcharge on /settings/invoice_settings#invoice_fields called 'Projected Cost'. Have you considered setting a custom surcharge on /settings/invoice_settings#invoice_fields called 'Projected Cost'. FYI... after 10 failed login attempts the account is locked.. FYI... after 10 failed login attempts the account is locked.. It's currently defined as a constant:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Constants.php#L148\nWe don't ban IP addresses. . It's currently defined as a constant:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Constants.php#L148\nWe don't ban IP addresses. . @turbo124 ?. @turbo124 ?. The changes are to third-party files, adding them to the app isn't straightforward. \nHopefully in the future... we gladly accept pull requests. . The changes are to third-party files, adding them to the app isn't straightforward. \nHopefully in the future... we gladly accept pull requests. . We plan to add 2FA in the future . We plan to add 2FA in the future . Did you mean to create this? . It looks like this PR contains extra changes... . Note: even once fixed I'm not sure if these changes will be merged, it will take a fair amount of effort to validate the refactor didn't break anything. . Thanks for taking the time to submit these changes, it's appreciated!\nThe only way to know that changes to code don't break the app is to test the actual code. I simply don't have time to test all of these changes. \nIn the past I've tried to merge most PR's to not offend people however I've been burned enough times by now to no longer be willing to do it. . Have you seen our current tests in https://github.com/invoiceninja/invoiceninja/tree/master/tests/acceptance\nWe have coverage for most of the common use cases. . If you're think there's an area missing coverage we'd be happy to accept more tests. I'd suggest coordinating with us before implementing it to ensure we're able to merge it. \nWhile tests definitely help prevent some bugs they generally don't prevent all bugs.. https://travis-ci.org/invoiceninja/invoiceninja. Feel free to email us at contact@invoiceninja.com to discuss any changes. Thanks!!. Thanks!!. This isn't currently supported, we may add it in the future. \nFYI... our latest release includes a basic kanban board. . Which version are you running?\nNote: I'm assuming you're self hosting the app.. This feature was included with v4.1 . Maybe the button should just be 'Clone Task'. If a task is set to a client and you click 'More Actions' you should see a list of invoices to add it to. . I'm not sure, it's working for me. Does the task's client have an unpaid invoice? . The description field is meant to be used for the notes, maybe you could create a separate task for each of the timed durations. . Hmm.. I'm not sure why you're seeing this but we haven't.\nBased on the error it may help to add ->default(0)here: \nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/migrations/2017_08_14_085334_increase_precision.php#L17. It could be, strict mode should be disabled by default\nhttps://github.com/invoiceninja/invoiceninja/blob/master/config/database.php#L59 . Thanks for letting me know, I'll be offline for a few days but will check in a fix when I'm back.. I've changed in a fix which will be included with our next major release. This is by design but I can see the benefit in changing it.\nIf a client approves the quote the resulting invoice needs to be created as sent in order for the client to be able to see it, however if the admin converts the quote it could be created as draft. . Reviewing the code I noticed if you disable \"Auto convert quote\" on /settings/invoice_settings it creates the invoice as 'draft'. \nThe relevant code is here:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Repositories/InvoiceRepository.php#L884. Great to heart, thanks for letting us know!. Hit a roadblock, we aren't able to test this.\nResponse from Stripe:\n\nSEPA payment can't be used in test mode. Due to the risky nature of SEPA payments, you won't be able to test it before being authorized to use it. In order to be allowed to use it, you'll need to receive payments with Stripe for a period of 60-75 days, so we can assess the risk level of your business.. Note: you should be able to accept SEPA using our Mollie integration\n\nhttps://www.mollie.com/en/payments. It should be listed, maybe you're using another credit card gateway already? . Thanks! We won't add this in v1 but would appreciate your help with it once we're ready to implement it in v2. . Rather then issuing refunds you may want to create credit invoice (ie, negative invoices) . Sorry, it isn't supported . Maybe MySQL needs to be updated:. It would depend on your current version and OS, you may want to contact your webhost. . FYI.. we currently accept iDEAL through Mollie. 1. Sorry, no. Removing any of the branding requires joining the reseller program. We're all for people hosting the app for others but we expect people to still be able to buy the white label license if they're interested. \n\n\nSorry, no.\n\n\nAgain, no.\n\n\nYou're welcome to sell any modules you create yourself. \n\n\n. - The branding in the app is the attribution. \n- By joining the reseller program you'd be able to remove the branding from the app. \n- The individual white label license removes the branding from the invoice and client portal but it remains in the admin sections.\n- We don't currently have a marketplace for modules. \n. Correct, with the reseller program you can setup the app for as many users as you'd like. Many resellers charge a monthly fee (as we do with invoiceninja.com), in those cases we bill for 10% of the revenue earned. You may want to email us at contact@invoiceninja.com to discuss further.\nYou can easily publish your module with packagist.org, this would be the first so the only example is the simple one I created: https://github.com/invoiceninja/sprockets. Thanks for catching this, the change looks good.\nPlease create the PR against the develop branch. . Thanks again!!. Our translations are managed here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/\nYou can change it locally by updating resources/lang/<locale>/texts.php.. The key should be currency_argentine_peso. I'm not sure, changing the value seem to work for me. You can customize the label by setting a value for 'Credit Card' on /settings/invoice_design#invoice_labels. The artisan commands should be run once a day\nhttp://docs.invoiceninja.com/en/latest/configure.html. Are there any related errors in storage/logs/laravel-error.log. If you're requiring a password for the client setting PHANTOMJS_SECRET to a random string in the .env file may help\n. I'm not sure, this is the first time I've seen this error. \n\nWhich version did you upgrade from? \nAre there any errors in the browser console?. If you're using the code from GitHub did you run php artisan db:seed --class=UpdateSeeder\n\nhttp://docs.invoiceninja.com/en/latest/update.html\nAlso, try adding ?clear_cache=true to the end of the URL . I think it needs to be translated in Transifex. \nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. Try the following:\n\u2013 If there\u2019s a value for APP_KEY in the .env file remove it\n\u2013 Change the value for APP_CIPHER to AES-256-CBC\n\u2013 Run: php artisan ninja:update-key\nAlternatively, if you aren\u2019t using token billing you could run php artisan key:generate. Note: this would require removing/re-adding any payment gateways and/or bank accounts.. Try adding the the cipher/key values if they're missing from config/app.php then run ninja:update-key. Try changing the cipher to AES-128-CBC with SomeRandomString as the key and then run ninja:update-key. I'm not sure, are you able to SSH into the Docker server?. If you can SSH into the server what's the challenge running the command?. Are you running it from the root folder of the codebase?. @lalop are you able to help here? . To change the key you'll need to figure out how to run an artisan command in Docker.\nThe app will work fine, the problem is the gateway/bank credentials are encrypted using a default key which is less secure. . FYI... you can embed the QR code directly in the PDF by adding {\"qr\":\"$customTextValue1\"} in a custom design. . I think you'd need to use two different custom designs, one with the QR code the other without it. . Our current approach works for all gateways (onsite and offsite), this would require handling the two types of gateways differently.. Can you replicate the problem using Stripe's test mode?\nThe app tracks pending vs paid gateway fees, it shouldn't add duplicate fees. . Thanks @zploskey, this looks great! \nLanguage specific translations should be tracked in Transifex but this is more a bug in the code.\n. Have you considered using a custom product field on /settings/invoice_settings#product_fields. We plan to add custom fields to the reports in the future. The time tracking changes don't add any functionality, they just provide a better UX for the current feature set. . Another option would be to export the invoices to CSV/XLS as it includes the custom fields. . Can you clarify what you mean by 'exported PDF'?\nI've tested with \u00b1 \uff0c\u2265. I've added it to the invoice terms then downloaded the PDF on /invoices, it seems to work correctly. \nNote: for Chinese characters you need to select a Chinese font on /settings/invoice_design. Can you explain the use case, do you means to access the API instead of using a token?. I'm not sure, we use Laravel Socialite to support the feature\nhttps://laravel.com/docs/5.0/authentication#social-authentication. If you want to email the file to contact@invoiceninja.com we can try to use it to improve the import. . Thanks for the sample file!. What are the results of this SQL query: select * from payment_types. Thanks, can you please also run this: select * from gateway_types;. I think the problem is because the gateway_type ids aren't sequential. I think this may be a duplicate of #1316. Currently you need to run this SQL query: select * from subscriptions; \nThe subscriptions are automatically triggered by the code, there isn't a way to manually trigger it. . Fonts are about 100MB, but mostly it's the third party libs. mPDF is about 100MB on it's own.. This should be fixed in our latest release. . You may want to post this in the Docker repo\nhttps://github.com/invoiceninja/dockerfiles. In the interim maybe you could set a custom surcharge on /settings/invoice_settings#invoice_fields. Here's the relevant part of the code if you want to hard code a default value:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Account.php#L908. It should be possible with a custom design, there's an example here:\nhttps://www.invoiceninja.com/forums/topic/new-invoice-template/. Change the line \"stack\": \"$clientDetails\" to:\n\"stack\": [\n              {\n                \"text\": [\n                  \"$client.name\",\n                  \"\\n\",\n                  \"VAT Number: \",\n                  \"$client.vatNumber\"\n                ]\n              }\n            ]. - if you click help on /settings/customize_design (and you've created your first invoice) you'll see a list of all of the variables.\n- Here's an example using language variables:\n\"stack\": [\n              {\n                \"text\": [\n                  \"$client.name\",\n                  \"\\n\",\n                  \"$vatNumberLabel\",\n                  \": \",\n                  \"$client.vatNumber\"\n                ]\n              }\n            ]. If the start date is in the future the invoice won't be sent until then.\nNote: assuming you're self hosting make sure you've setup the crons to run daily.\nhttp://docs.invoiceninja.com/en/latest/configure.html. If you want the invoice to be emailed on the start date you need to click 'Mark Ready', draft invoices are never sent to clients. . Maybe the SSL cert expired. I'd suggest testing with a different email provider.. You can change it in the .env file in the root folder of the project . Does downgrading resolve the issue? . You can downgrade by installing a previous version with the old database: https://github.com/invoiceninja/invoiceninja/releases\nNo one else has reported this issue from the update so I assume it's related to your server config, is this the first time you've updated the app?. Thanks for sharing your fix!. The problem with the footer should be fixed in v3.9.\nWith regard to products I see the value but think it could cause confusion. This works for the terms/footer because we show the values as placeholders (indicating the values may change), this isn't the case for the products.. Can you explain what you mean by 'template change'? . I see... I think we'd need to add a 'Use account default' option to support this.. Thanks for catching this!. Are you using the latest version?\nhttps://trello.com/c/xn9p5P2d/181-added-calendar-view . Not that I'm aware of but I agree it'd be useful. . We plan to add support for receiving reports by email, you could then get a summary email of all outstanding invoices. Would that solve your use case?. In case you haven't noticed it... on the edit task page if a task is assigned to a client when you click 'More Actions' you'll see a list of open invoices to add the task to. . Thanks for the suggestion! . We haven't had this feature requested much, I don't believe it's a common use case. \nSorry... . After running the initial migration did you also run the database seed\nphp artisan db:seed\n. @lalop I'm assuming you upgraded from v3.8, not v3.9.1\nI think the problem is related to the new gateway types added in the last release, from the error it looks like they aren't in the cache. It may help to add ?clear_cache=true to the URL. \nCan you run this SQL query to check if they're in your database.\nmysql> select * from gateway_types;\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom        | Custom        |\n|  7 | alipay        | Alipay        |\n|  8 | sofort        | Sofort        |\n|  9 | sepa          | SEPA          |\n| 10 | gocardless    | GoCardless    |\n+----+---------------+---------------+\n10 rows in set (0.00 sec)\n. How does the update work with docker?\nWith standard installs the version is stored in storage/version.txt, when a new version is copied over the change is detected and the user is redirected to /update which calls cache:clear among other things. If you aren't already I'd suggest including a call to /update after each update. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/AppController.php#L276. Have you tried running php artisan cache:clear?. Thanks! Could you please create the PR against the develop branch. . Thanks!. Not sure... the variables are working for me in the item description. . Currently you need to create a custom design to use other variables, I agree it'd be useful to use more variables w/o needing a custom design. . I'm not sure I understand, if a recurring invoice has :YEAR in it the value should be dynamically determined when the invoice is created. You can show the range using :YEAR-1 to :YEAR.. When the invoice is created it should be converted, we'll look into showing it in the preview as well. . Great to hear, we can leave it open to track the work on the preview.. I don't think the error in the laravel-error.log is related to the problem. \nMy guess would be this is an intermittent problem with PayPal or your network, are you still seeing the error? . What's the invoice number in this example?\nThe app adds padding by default for invoice numbers, it can be configured on /settings/invoice_settings#options. Understood, thanks!. Please join us on Slack to discuss this feature: \nhttp://slack.invoiceninja.com/. We'll look into adding this, we prefer not to merge changes to the composer file. . I'm not sure, if you want to email a sample file to contact@invoiceninja.com I can try to replicate the problem.\nAre you importing invoices or products? . I wouldn't expect using a proxy to cause it to fail. I'd suggest searching for your bank on http://www.ofxhome.com/ for suggestions, it may help to change the app/ofx versions. . Try loading /public/update . To run the database migrations you'll need to either temporarily modify your open_basedir settings or run the update from the command line.\nhttp://docs.invoiceninja.com/en/latest/update.html. From the error it looks like Git isn't installed.\nNote: if you use our self host zip you don't need to use composer or git.\nhttps://www.invoiceninja.org/. Is the cron set to run hourly?\nhttp://docs.invoiceninja.com/en/latest/configure.html. I'll update the docs, \"ninja:send-invoices\" should be set to run hourly. . We'll look into fixing this in the future, until then running it hourly should work. . I'm not able to replicate the problem, are you sure this line is the issue/does removing it fix it? . Thanks for catching this!. Are you using the standard 'modern' design or is it customized? \nIn my tests the values are higher so there's more room. . Ah, that probably explains it.\nOne solution maybe to use a smaller font to prevent the name from taking up two lines. . It would require either a pro hosted plan or the self host app.. Are there any errors in storage/logs/laravel-error.log. Hmm.. please also check the web server error logs.\nIs the GMP module enabled?. Just to confirm... do you have documents attached to the invoices?. For the future... \nYou can export PDFs on /invoices . I think I see the problem... There is code which is using 'Discount' if the value is less than 0, we'll remove this in our next release. . Are there any errors in the web server log or in storage/logs/laravel-error.log. Are there more details with the Intervention\\Image error? . Which version of PHP are you using, it may be an issue with PHP 7.2.. I've checked in a fix for the issue but I imagine there will be more problems like it with PHP 7.2. . I've fixed the count() issues in the code however the app won't support PHP 7.2 until we upgrade to Laravel 5.4. . My web hosts enable selecting the version of PHP to use.. PHP 7.0 is also supported. Thanks for the suggestion!. It should hopefully be supported with our next major release (v4.3) in about 4 to 6 weeks. . To use the zip you'll need to wait for the v4.3 release. . PHP 7.2 support is now available on the master branch.. v4.3 with support for PHP 7.2 has been released.. No, we're currently focused on v2 . Thanks for the catch!. https://plaid.com/docs/transition-guide/. Our Plaid integration lo longer works due to their API changes, the feature has been hidden until we can update it to use the new API. . Sorry, we aren't able to provide a timeframe. Fixing this is non-trivial as it requires upgrading to their new API. . Thanks, but you'll need to submit the changes here:\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. What are the error details from storage/logs/laravel-error.log. You can set the currency for the client. . For your example, what about creating a 'Brew some tea' project with each of the tasks linked to the project?. Thanks for the details!\nWe currently track start/end times as a multi-dimensional array, it would be very difficult for us to add a text description for each time period. \nThat said from your description it seems like the problem is more related to being able to report on the data. We're woking on many related improvements for v4.1 (and the future).\nhttps://trello.com/c/v1fGeqJA/205-added-kanban-board-for-tasks\nhttps://trello.com/c/Ib7YrQhu/208-improved-project-management\n. You can see your daily totals by running the task report with 'Group Dates By' set to 'Day' and then click the 'Date' header. \nPer-day invoices are an interesting idea, if anyone else would use it please upvote/comment.. This will be fixed with our next release, if you copy the code from master it should fix it.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Reports/TaskReport.php. Correct, just that file. . Have you tried https://invoice.example.de/api/v1/clients (or some other entity type), 'api/v1' on it's own isn't a valid route. . Thanks for the update!\nPlease create the PR against our develop branch for us to merge it.. If you want to email your log file (storage/logs/laravel-error.log) to contact@invoiceninja.com I can try to debug the problem. . You need to change the invoice number to a value you won't use and then delete it. The app skips used invoice numbers even if the invoice is deleted, otherwise if you try to restore the invoice there could be a conflict. . We take this approach so we're able enforce referential integrity, for example in the activity log.\nWe advise against deleting records from the database, it will very likely cause problems.. Can you provide an example of what it is now versus what you would like it to be. . This will be fixed with our next release, if you copy the code from master it should fix it.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Reports/TaskReport.php. It looks like 'expense_documents' isn't translated yet. Have you tried changing the start date to the next date the invoice should be sent?. I'm not able to replicate this problem. \n\nWhich version of PHP are you using?\nThe tag is set here, does adding slashes fix the problem?\n\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Traits/SendsEmails.php#L65. Thanks for your help!. Thanks for your help debugging!\nWe like the app :) There are some great features coming in the next version in a few days. . - Is it still working on one server but not another?\n- Did you have any luck figuring out what's different between the two?\n. Until we're able to replicate the problem it most likely won't be fixed by an app update. . Thanks for the fix but translation changes need to be made here: \nhttps://www.transifex.com/invoice-ninja/invoice-ninja/\nAlso, please create future PRs against the develop branch. . Do you see any errors on /update (or /public/update) \nAlso, are they any related errors in storage/logs/laravel-error.log. This may help... https://stackoverflow.com/a/14255180/497368. Chrome and Firefox have native support for PDF rendering, we use PDFjs for other browsers.\nIt's possible Safari now supports PDF rendering... . You currently need to mark the invoice as deleted to un-invoice the tasks. . Thanks for letting us know, we'll include the change. It should be possible but you'd need to follow up with the provider for help.\nThey'd need to set a value for API_SECRET. . You'll need to discuss this with the provider.. They key is per instance but it only provides access to use the API, not to any data. The provider will need to decide if they're willing to share it. . If the app doesn't work for you let us know and we'll of course refund your payment.. Are there any errors in storage/logs/laravel-error.log. http://docs.invoiceninja.com/en/latest/configure.html#omnipay. I'm not sure if we'd merge a PR for this, the changes would be too complicated. . Possibly...\nThis change goes against a number of assumptions made in the code. For example: quotes should never be paid, invoices needs to exist for a payment to be entered against it, etc.. You can relabel 'Credit Card' on /settings/invoice_design#invoice_labels. I'm having trouble reproducing the error, what do you have on line 1220 of app/Ninja/Repositories/InvoiceRepository.php\nYou should run the ninja artisan cron commands\nhttp://docs.invoiceninja.com/en/latest/configure.html. Can you please try applying this change to see if it helps . Correct. It will be included with the next minor release, you should be able to fix it by applying this patch: https://github.com/invoiceninja/invoiceninja/commit/402171bcfe7edc81b4c99de52bedb555e37b1517. We don't accept payments for features but if the code is good we'd merge a pull request.\nYou could try asking one of these companies:\nhttps://github.com/invoiceninja/invoiceninja#third-party-developers. FYI... I believe this will be difficult to implement.\nIf you have a specific question about the code I can try to help. . Supporting token billing shouldn't be too bad, adding support for mandates will be harder. \nMost of the code is in the BasePaymentDriver class, there are gateway specific payment drivers which add the code relevant for each gateway. . Yes, that's correct . Correct again\nYou may want to join the #develop group on our slack channel to discuss this rather than adding comments to the issue. \nhttp://slack.invoiceninja.com/. I think this is already supported.\nWhen you clone a standard/recurring invoice there should be an 'Enabled/disable recurring' button. . No worries. There's more info here: #167. We require all invoices to have unique numbers, even deletes records as they may get restored.\nYou should be able to fix this by:\n- Restoring the deleted invoice\n- Changing the invoice number to a value you won't use\n- Deleting the invoice . There is a separate id column which serves as the primary with a unique constraint on the invoice number field.\nThe issue here is that two invoice (even if one is deleted) can't use the same invoice number. . Was this working for you before the update?\nCan you send the full error to contact@invoiceninja.com . Which version are you using, it should work in v4.1.x. Are you still seeing this problem? I saw it yesterday but it seemed to resolve itself. . I've created a new release for invoiceninja/omnipay-collection, you may be able to fix it now by running composer update. Try composer update instead of install . Done. Note: we've haven't yet created a new release, you'd need to install from master to see this change . Please try one more time.... Great to hear!. Not sure... maybe it needs to be more configurable . Have you considered using a custom product field which is removed from the invoice? . You can remove the custom product field on /settings/invoice_design#product_fields. You may be able to fix this by using a custom design and adding dontBreakRows: true in the table definition: https://github.com/bpampuch/pdfmake/issues/8. I think the answer is for us to add custom expense fields #1611. One of the packages we use decide to re-create their repo which broke our composer.lock file, I've created a new v4.1.3 release. \n. Try running the following commands and then redirect the user to /invoice_now. \ncomposer dump-autoload --optimize\nphp artisan optimize --force\nphp artisan migrate\nphp artisan db:seed\nThe user should be able to click 'sign up' to enter their email address and accept the app's term of use. . Please don't use the UserTableSeeder seeder (it's for testing), I'm happy to work with you to find another solution. . Have you tried redirecting the user to the /invoice_now link?. In that case I think the best approach would be to initially show the setup screen . If the values are set in the .env file the fields should be filled in on the setup screen.\nI think it would depend on the implementation specifics, currently OAuth is enabled in the app once the account is already created. . I guess it's a matter of perspective... to me an ideal \"Turn Key App\" would show me the settings screen on first launch. \nThe UserTableSeeder is meant for testing, it pre-fills the account with dummy data. Using it would require the user to clear all the junk data to setup their account. . I'd suggest the following:\n- For now we add an a .env property which hides the unnecessary fields on the setup screen\n- In the future we look into improving the implementation using OAuth\nUsing the UserTableSeeder isn't an a valid option:\n- It fills most of the settings with random/junk data\n- The user wouldn't have a chance to accept our terms of service\n- The seeder may be changed to help with testing (which is its purpose)\n- Important setup steps are missed (ie, generating the key, the PhantomJS secret, etc). What about PRECONFIGURED_INSTALL=true \nI'll include the change with our next release. . You should be good, let me know how it works for you. Great to hear, we'll have a new release later today. . I think the problem is the setup screen expects the database to not yet exist however the migrations have already been run. I've checked a change into master to handle this. . FYI... v4.1.4 is now available with this change . You're right, thanks for the fix!. @lalop do you have any ideas? . @lalop do you have any ideas? . From this it looks like you may see that error if the bootstrap or storage folders don't exist/can't be found\nhttps://laracasts.com/discuss/channels/laravel/proper-way-to-deploy-a-laravel-application-from-a-repo-on-github. From this it looks like you may see that error if the bootstrap or storage folders don't exist/can't be found\nhttps://laracasts.com/discuss/channels/laravel/proper-way-to-deploy-a-laravel-application-from-a-repo-on-github. Not sure about this, it seems like it would be solved by #1832. Not sure about this, it seems like it would be solved by #1832. Sorry, no.\nWe initially planned to support MySQL, Postgres and Sqlite however we ran into a number of issues. We've decided instead to optimize the app for MySQL. . Sorry, no.\nWe initially planned to support MySQL, Postgres and Sqlite however we ran into a number of issues. We've decided instead to optimize the app for MySQL. . FYI... you're seeing this problem because you're skipping the setup screen. . FYI... you're seeing this problem because you're skipping the setup screen. . We use Laravel Socialite, I'd assume you'd need a driver for Cloudron. We use Laravel Socialite, I'd assume you'd need a driver for Cloudron. I think this may be relevant\nhttps://medium.com/laravel-news/adding-auth-providers-to-laravel-socialite-ca0335929e42 . I think this may be relevant\nhttps://medium.com/laravel-news/adding-auth-providers-to-laravel-socialite-ca0335929e42 . You may have use the wrong self host URL, do you know what you used?\nTo try again you'd need to clear the local storage or re-install the app. . You may have use the wrong self host URL, do you know what you used?\nTo try again you'd need to clear the local storage or re-install the app. . Thanks for your work on this!\nOnce the issue mentioned in #1826 is resolved we'd be happy to add it. . Thanks for your work on this!\nOnce the issue mentioned in #1826 is resolved we'd be happy to add it. . Thanks, I'll update the readme. Thanks, I'll update the readme. You shouldn't need to add the package, try loading /update. You shouldn't need to add the package, try loading /update. Do you have LOCK_SENT_INVOICES set to true in the .env file? . Do you have LOCK_SENT_INVOICES set to true in the .env file? . I'm not sure why you can't edit it then.\nCan you post/email a picture of what you see. . I'm not sure why you can't edit it then.\nCan you post/email a picture of what you see. . I'm not sure... the only way I can replicate this is with LOCK_SENT_INVOICES=true in the .env file. . I'm not sure... the only way I can replicate this is with LOCK_SENT_INVOICES=true in the .env file. . I agree, I just needed to understand the problem.. I agree, I just needed to understand the problem.. You should be able to restore it from /recurring_invoices\nArchived records are hidden from view, deletes records are removed from the client's balance. . No worries. Are there any details about the error in storage/logs/laravel-error.log. It could be related to permissions.\nI don't have much experience running the app on IIS. . Sorry, we aren't able to help with IIS problems. \nWhy not use Apache or Nginx? . I think it's a duplicate of #1743, it should be fixed in v4.2. \nNote: the preview is incorrect but the generated invoice is correct. . It's possible we'll add this in the future but it won't be in the next version. \nIf more people ask for it we'd prioritize the work. . Can you add the date in the invoice notes? . What language are you using in the app? . I'm not sure. I did a quick test, it seems to be working for me. \nAre you using an older version? . I think I see the issue, it looks like it's wrong in the preview but correct in the actual invoice. . I think the problem is if a project is selected the new task should be assigned to the project.. Maybe you can use custom invoice designs? . You should be able to save the info in the design which would eliminate the need for code changes. . Does uploading the file generate any errors in storage/logs/laravel-error.log. Rereading #1515 it looks like it's two problems, one of which is the same as yours.\nIt seems to be working correctly for most users, my guess would be it's related to the Nginx config.. Glad it's working, thanks for sharing the fix!. Yeah, bummer :(\nThe option will be hidden in our next release. . Adding a default time increment is a good suggestion. \nWould we need to provide the option to round up or down or should the app always round up?. One approach we're considering is to leave the tasks durations as they are but apply rounding when converting the tasks to invoices or displaying the tasks in the client portal. \nWith this approach the tasks times together would be rounded rather than rounding each of the times separately. . Yes, we'd add an option to define the rounding period. . Our current focus is v2, it will be a while until this is implemented. . Can you please clarify \"to have customized reports that seem to be displayed using the invoice layout\".\nWhat report are you looking for, they don't use the same layouts. . - That's the 'Client Statement' which is meant to be shared with clients and uses the same design.\n- We'll look into improving the ordering of the reports.\n- The 'zip' format is used to download the documents attached to invoices/expenses. You can bulk download invoice PDFs on /invoices. \n. I'm not able to replicate the problem but I've checked in a change which may help. . It isn't currently supported. is 'Easy' a payment gateway, can you post a link to their site?. Thanks for the info! . It isn't supported . Are you able to email an invoice from within the app? . Do you have QUEUE_DRIVER set in the .env file, if so to what value? . Try setting a value for MAIL_USERNAME. The user/account ids in the log aren't related to the problem.\nI'd suggest trying with a different email provider to see if it helps, it could be a problem using mailgun. . Try uncommenting this line and the check laravel-info.log to check the right values are being used. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Mailers/Mailer.php#L53. - Are you using Docker? \n- Have you run artisan config: cache? . config:cache most likely explains it, I'd suggest running config:clear . Glad to hear it works!. You can create a credit note by creating a negative invoice.\nYou can use a separate counter by enabled 'Credit Number' on /settings/invoice_settings. Sorry for the trouble, we should have it back up soon.. This should now be fixed. Not currently but the field will be added in our next release. . This will be in v4.1.5. You can also pause it by removing the start date. That's true, you could reference the invoice date of the first invoice in the series. \nIf there were pause/resume buttons when would the invoice stat sending when resume is clicked. If you clear the start date when you set a new value you're able to resume the invoice on a set date. . Yes, I think #1840 is really the problem. I think this is a duplicate of #1316. You can set the partial/deposit field to 500 . It's on /invoices/create . It sounds like you're using inclusive tax rates. If you don't want the prices recalculated you can enable 'include taxes in cost' in the tax settings. Note: if you've already created invoices you'll need to purge the data on Settings > Account Mgmt to see the option. . You should see it on Settings > Tax Rates, you'll also need to archive any inclusive tax rates. . Maybe it's a timezone problem?\nNote: we're using momentjs's fromNow function, these texts won't be in Transifex.. Have you set the timezone on /settings/localization or in the .env file? . Not sure about this change, we require the counter to ensure all invoice numbers are unique. . I don't think it's that simple, the app needs the counter in some cases to function.  For example, when sending a recurring invoice if the counter isn't used and the invoice number is a duplicate the app would fail to create the invoice.. Sorry, this seems like an edge case. . Giving this more thought it would be pretty hard to implement. The app would need to understand the frequency of the date in the invoice pattern to know when to reset the counter. It's non trivial and doesn't seem worth the effort. . You could try manually setting the pattern in the database (the field is accounts.invoice_number_pattern) it would get around the validation in the app. I haven't tested this though so I'm not sure if it would work.. I'm sorry, I think for the average user this change would do more harm than good. \n. I think currently only admins can create expense categories. \nThe user shouldn't be able to see the form. . Thanks for clarifying. Note: with the fix the numbers will be formatted as a currency. ie, $100.00.. Thanks for the detailed feedback!\n1) It used to work this way but we changed it to not save the filter due to user feedback, hard to please everyone ;) If you're filtering by client you may want to use the bulk actions on the client overview page instead.\n2) Can you explain \"But you have to go all the path to the previous view again\". The cancel button should be context aware and take you back to the last page you were on. \n2b) Sorry, too many buttons. \n3) Agreed but this is tricky to solve. The breadcrumbs uses the page URL to determine what to show however the task edit URL will always be /tasks/1/edit not /projects/tasks/1/edit. In our next version we've added projects to the history so they're listed in the right sidebar. \n. Btw.. you can save the filter state by commenting out this line of code, however it looks like the saved value isn't shown in the text input.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/datatable.blade.php#L96. We currently just use acceptance tests, I agree it'd be good to add unit tests to cover certain functionality. . We support SMTP. Some of the SMTP specific settings (ie, host and port) should probably be hidden. . FYI... when deciding what to work on next we sort issues based on the number of upvotes is has. This issue (as of this moment) has 3 +1 comments but no upvotes, it would be missed. . This is by design. When an invoice is sent to a client you can select which contacts can see it. In the client portal contacts will only see invoices they have access to.. The problem may be with the email template . Are you using invoiceninja.com or are you self hosting the app? If you're self hosting this would be easy to disable. \nWe're working to figure out the specifics of GDPR, from this article it isn't clear to me that this would be classified as profiling.\nhttps://iapp.org/news/a/top-10-operational-impacts-of-the-gdpr-part-5-profiling/. Thanks for the link! By default the self host version of the app doesn't use email tracking, it's only supported with Postmark and needs to be specifically enabled.\nhttp://docs.invoiceninja.com/en/latest/configure.html#postmark-bounce-and-open-notifications\nWe'll look into this further for our hosted app.. Which country do you live in? \nThe total remains the same, the balance due is set to 0. Are you asking that the balance due not be changed? . You could replace 'Balance Due' with 'Total Amount' on /settings/invoice_design#invoice_fields, however we don't support changing the balance due field in the subtotals section of the invoice. . You can replace \"$subtotalsBalance\" with the following, the problem is the number isn't properly formatted. We'll try to fix it in a future release.\n[[\n    { \"text\": \"Total\", \"style\": [\"subtotalsLabel\", \"subtotalsBalanceDueLabel\"] },\n    { \"text\": [\"$total_amount\", \" USD\"], \"style\": [\"subtotals\", \"subtotalsBalanceDue\"] }\n]]. Glad to hear you got it working! . I've checked in a fix for this error but there seem to be other problems, the module routes aren't being recognized. From the project readme it isn't clear that Laravel 5.3 is supported, this may require updating to Laravel 5.4 to fix.. Sorry, I shouldn't have marked this as fixed.\nThe initial error has been fixed but the routes don't yet work. . We're in the process of upgrading to Laravel 5.4/supporting PHP 7.2 (more info here: #1767, #1918).\nIt should be available in the master branch in a few weeks. . I think this is the same as #1050. Are there any errors in the web server error logs. . What do you see on /update . Sorry, not sure. In my dev environment a blank white screen usually means the app failed to write to a log file in which case there would be details in the server error log. . You may want to test with the storage folder at 777 permissions to see if it helps. . Did you change the cipher or was it always AES-256-CBC?. http://docs.invoiceninja.com/en/latest/update.html#version-4-0. That probably explains the problem, to change the cipher you need to re-encrypt the data with the new cipher.\nIf you haven't already make sure to make a database backup then put back your old cipher and run the ninja:update-key artisan command\nhttp://docs.invoiceninja.com/en/latest/update.html#version-4-0. Did you put back your old cipher in the .env file?. It's not good... the key/cipher are used to encrypt payment gateway credentials, the bank account username and 2FA details. \nWhich payment gateway are you using? One workaround would be to archive it and recreate it, however if the gateway supports auto-billing you'd lose the cards on file. With Stripe you could manually re-import them. . You can manually archive the gateway in the database by setting deleted_at field in account_gateways table. . Great to hear!. Thanks, but this isn't the correct fix. If you search for AuthServiceProvider on this page you'll see more details: https://laravel.com/docs/5.3/upgrade\nI'll check in a fix soon... . The problem is caused by the AuthServiceProvider class being upgraded to support Laravel 5.3 but not the stub class used to generate module class. The fix will be to update the stub to match. . Don't delete a user from the database. We use cascading deletes, if you delete the user all records linked to them will also be deleted. \nWhy not just archive them?. @pierreozoux are you referring to contacts or users?\nBuy now links create contacts but not users. . This has been added, you can now purge a client . I'm not too familiar with SAML but one option could be to use the account.account_key field . It'd be great if you could create a PR but I'm not sure it would be merged. . Thanks for sharing the feature!\nSorry we aren't able to merge it.. FYI... our app is mainly designed for freelancers, our 'team' support is pretty basic. . You can relabel the columns headers on Settings > Invoice Design. \nAre you asking to be able to use the 'hours' section without invoicing a task? . You can add two sections in an invoice by invoicing a task and then clicking 'Add Product', or adding a task to an existing invoice. . Have you tried filtering the column in the expense report, each column has it's own filter. . Have you tried enabling the group sort and then sorting by the category column. There's a check in the composer file but I agree it'd be good to check in the app as well. . Thanks for creating a PR!\n- Please create the PR against our develop branch \n- Rather than check if isAdmin check if the user can create expense categories . Looks good, thanks!!. Thanks for creating the PR!\nIf you could please create it against the develop branch we'll merge it. . Thanks again!!. I'm not sure about this change. \nWithout a default value in config/app.php the user isn't able to access the setup screen. Once the setup is completed the APP_KEY is automatically set to a random value. If it's skipped for some reason the app checks on login that the user isn't using the default value. . If you want to make it work with /setup we'd consider merging, as it is it can't be merged . We'll look into adding expenses through Zapier . Note: we support importing expenses as CSV. You can change from draft to sent by setting is_public to true when updating an invoice with the API. Hmmm... thanks again!. https://twitter.com/taylorotwell/status/968167097753882625. I think the paredown issue should be fixed, when you get a chance please try again.\nNote: the tests aren't yet passing for PHP 7.2, it's likely there will be other problems. I plan to continue to work on it this week. . You should be able to fix it by deleting bootstrap/cache/compiled.php. Tests are now passing on the develop branch, I've also added code to remove the compiled.php file through composer. \nOur plan is to make this available on the master branch in a few weeks before creating the next self host release. For now you can test on develop however there may be changes to the migration file which would need to be manually applied. . I'll post updates to the related issues. . I'll post to this issue (and others), you're already subscribed . PHP 7.2 support is now available on the master branch.. v4.3 with support for PHP 7.2 has been released.. I'm having trouble replicating the problem.\nThe expense category should be use in the 'Item' column and the public notes should be used in the 'Description' column. . I'd suggest checking the app error log (storage/logs/laravel-error.log) and the web server error log. The send-invoices cron can be run more often, running the send-reminders cron more than once a day would cause problems (duplicate late fees, etc.). . Sorry, we can't merge this change. \nCalculating the tax rate requires loading the tasks's project and client, this change would cause the API to run hundreds of SQL queries. . @turbo124 what do you think? . Thanks for the PR!\nPlease create it against our develop branch and we'll merge it. . If you have command line access you can re-run the seeder with this command:\nphp artisan db:seed --class=UpdateSeeder\nIt may help to run composer dump-autoload and/or php artisan optimize. Thanks!. It probably won't be until the end of the month. . I'm not sure I understand what's missing in the app, we support uploading attachments and including them with the invoice email. . Sorry, I assumed you were self hosting. Uploading attachments with the hosted version requires the enterprise plan. If you upgrade there will be a 'Documents' tab on the invoice create/edit page. . Yes! All Pro and Enterprise features from the hosted app are included in the open-source code. We offer a $20 per year white-label license to remove our branding for personal use.. Thanks for the suggestion! I think we should be able to implement it using Google's GeoCoding API: https://stackoverflow.com/a/4749821/497368. It looks like this is a duplicate of #1701. Sorry, it isn't currently supported. . I'm sorry, I'm not able to merge this. \nFor future reference please create PRs against the developer branch. It's best to discuss the changes with us ahead of time to ensure they'll be merged. . I'm not sure the best way to handle that, what are you trying to accomplish? . In the latest version of the app if you select a tax rate it's shown even if the rate is 0.\nCan you post a screenshot showing the problem. . Thanks, I understand now. I'd suggest creating a new issue. . I'm having trouble reproducing the problem. The steps to replicate would be the most helpful. . This has been fixed on the develop branch, the code will be available on the master branch in 2 to 3 weeks. . $ git fetch\n$ git checkout develop. As previously commented we will post to the existing PHP 7.2 issues to notify users. . I guess we disagree on what 'resolved' means. We've implemented the fix and the code is now available on our develop branch, from our perspective we consider the issue resolved. \nThanks for your understanding and patience.. PHP 7.2 support is now available on the master branch.. Assuming there are no major problems we'll create the next self host release in about 2 weeks, it should be available in Softaculous about a week later. . v4.3 with support for PHP 7.2 has been released.. This isn't currently supported, it's possible we'd add it in the future.\nIf you're trying to make the change yourself I'd suggest leaving the UI as is (where possible) and instead modify the policy files for the relevant entity types.\nhttps://github.com/invoiceninja/invoiceninja/tree/master/app/Policies . Duplicate of #1243. If the invoice has already been sent you can reset the recurrence by changing the start date to the next date you want the invoice sent. . I think I see the issue, we don't support setting the start date to a day in the past. It would start sending today. . Can you check this SQL query \nmysql> select * from frequencies;\n+----+--------------+---------------+\n| id | name         | date_interval |\n+----+--------------+---------------+\n|  1 | Weekly       | 1 week        |\n|  2 | Two weeks    | 2 weeks       |\n|  3 | Four weeks   | 4 weeks       |\n|  4 | Monthly      | 1 month       |\n|  5 | Two months   | 2 months      |\n|  6 | Three months | 3 months      |\n|  7 | Four months  | 4 months      |\n|  8 | Six months   | 6 months      |\n|  9 | Annually     | 1 year        |\n| 10 | Two years    | 2 years       |\n+----+--------------+---------------+\n10 rows in set (0.03 sec). That would explain the problem, have you have any problems upgrading the app in the past?. You can try manually correcting the table so it matches, you'd want to check the recurring invoice frequencies are correct afterwards. . You can try adding ?clear_cache=true to the URL to clear the cache.\nYou can transfer data using the JSON import/export. . Great to hear, thanks for letting us know!. This is most likely caused by LastPass. \nPlease check that the saved login doesn't include extra fields or disable auto-fill. \nWe're including a fix in our next release. \n. I'm not able to reproduce this problem. . This problem is unlikely to show in the logs. \nYou may want to test a clean install to see if the problem exists. . It won't work, the app needs to be able to reach our servers to validate the license. . Just once at the start, then again each year when it expires. . To enable this feature you'll need to add COMMAND_SECRET=<your secret> to the .env file.\nYou can run a command with this URL: /run_command?secret=<your secret>&command=send-invoices\nThe following commands are supported: send-invoices, send-reminders and update-key. > Where do i find the .env file?\nIt's in the root folder of the project. \n\nWhere do i load this command  /run_command?command=&secret=\n\nIn your browser.. I can't replicate the problem, are you saying some expenses are missing? Please re-open if you can reproduce the problem in the latest version with steps to replicate. \nI've added the currency code as a column in the export. . Thanks for the screenshots!\nAre you using the latest version (v4.2.2), that should now be fixed. . Great to hear, thanks for letting us know! . Have you enabled Braintree? It would hide the PayPal option. . That isn't the right place, maybe the dashboard controller. . I'm sorry, I'm not able to provide developer support.\nIf you need help with our code these developers are very experienced:\nhttps://github.com/invoiceninja/invoiceninja#third-party-developers . I think this is a duplicate of #1243. It looks like the storage folder doesn't have the correct ownership/permissions. \nIf you need help debugging I'd suggest closing this issue and re-creating it under the dockerfile repository.\n. We want to know everything about the docker file :)\nIt's just that the developers who can help you watch the other repo.. You'd need to use line item discounts to prevent the gateway fee from being discounted. . Thanks, we're aware of the limitation. I'm not sure I'd consider it a bug as there's a workaround. . Agreed.\nFYI... you can currently invoice multiple products on /products . I consider this a step in the right direction, I agree it'd be better to have a popup where you can select multiple products. \n\n. It sounds like you may be using an invoice level tax, have you considered using line item taxes instead?. Do you mean the Kanban board column name or just logged/invoiced/paid? . Which CRM features would you like to see added? . Thanks for sharing your changes!. I agree. One option may be to use a convention for the view name (ie, /custom_module/views/products/edit.blade.php. The standard view would check if the custom view exists, if it does it gets included. This logic could be in a partial view which is included in any view which may have module views. \nIf you're able to get this working we'd gladly accept the changes in a pull request. . That's perfect!\nOne small thing... resources/views/accounts/product.blade.php should be resources/views/products/edit.blade.php. It's under /accounts because it used to be part of the settings. I can include the refactor with our next release but it will require you to update your module. . - That's correct\n- That sounds great. Take your time... these decisions are really important. @turbo124 would definitely appreciate your input here, I'm not too familiar with how other platforms (WordPress?) plugin systems work. \nI think it may be good to have separate files for the custom view, CSS and JS but that may be a pain for the developer. . If it wasn't clear the separate views would enable us to put the CSS in the head, the view where most appropriate and the JS at the end of the page. . If you can make it work that'd be great. . That's a much better solution that separate files. You could define multiple points in the default view to provide flexibility when adding elements. . I'm seeing a file_put_contents(.../module.json): failed to open stream: Permission denied error when initially trying to enable/disable a module. I'm able to fix it by changing the ownership of the folder to www-data.\nI think the problem is the module is installed by the user at the command line so the web server can't modify the files. One solution may be to build a simple web interface to select a module then run the artisan command in a route. . Thanks for the PR but it's hard to see your changes, can you please create a PR with just your changes. . This is fixed in the master branch.\nHere are the changes if you want to patch your code:\nhttps://github.com/invoiceninja/invoiceninja/commit/2b81d7ec479d51bed7e7d62c9066904f3525506c#diff-02afa05ffb26e517099a1823f9d50ab3. I agree html2text or Markdownify would be better.\nThe sample posted is the default for HTML designs, the default for the text design shows a link instead. Note: the default is only used if a custom template hasn't been saved. If you select an HTML design then save the templates you'd need to reset the template after changing to the text design. . That's correct.\nI agree it can be improved, the issue is marked as 'feature request'. . Maybe try creating a phpinfo page to check that the extension is enabled. . I'm sorry, I don't have much experience with IIS. \nDid you restart the server after making the config change? . As a workaround you can try manually copying the logo to the public/logo/ directory. You'd need to rename it to match the account_key from the accounts table. . Sorry, it looks like you also have to update the accounts table.\nmysql> select logo, logo_width, logo_height, logo_size from accounts where id = 2;\n+--------------------------------------+------------+-------------+-----------+\n| logo                                 | logo_width | logo_height | logo_size |\n+--------------------------------------+------------+-------------+-----------+\n| 00000000000000000000000000000000.png |        180 |         180 |     11261 |\n+--------------------------------------+------------+-------------+-----------+. Great to hear, thanks for letting us know!. I'm not sure... I'll try to reproduce the problem. \nIs there a reason you aren't using Braintree's PayPal option? It's a better choice as it adds support for token billing enabling PayPal accounts to be re-used in the future. . I'm seeing a problem but slightly different behavior.\nThe 'Pay Now' PayPal option is working but it show's Braintree's popup implementation rather than redirecting to PayPal. Using the link is taking me to PayPal to use PayPal Express. \nAre you using other client portal settings, such as require a signature?. If you remove PayPal Express you should be able to enable the Braintree PayPal option with the same result. . Are there any errors in the browser console when trying to pay with PayPal? . I'm not sure, you may want to create an issue on the dockerfiles repo.. I'm not sure, none of the repos are private. . What do you mean by \"payment gateways are still wrong\"?\nThe repositories listed are public repos created under my account.. Is it a new install or did you upgrade from a previous version?. Do you know which version you upgraded from?\nIf the account_email_settings tables is empty try adding a row linked to your account. . No, then it probably isn't the issue.\nAre there any errors in the browser console or in storage/logs/laravel-error.log. I don't think the messages are related, they're verbose warnings. \nI haven't been able to replicate the issue. If you see the value in the database at what point is it cleared?. If you reset the texts in the app the SQL query should empty the fields.\nHave you tried in a different browser? Without being able to replicate the problem it will be hard for me to fix it, you may want to see if you can reproduce it on a clean install. . Thanks for the fix!. I didn't notice it initially, why was the composer.lock file changed?. To re-merge it please create a new PR with just the one file changed. \nThanks, sorry I didn't spot it before. . The changes look great, thanks again!. You can use this link to purchase a license:\n[removed link]. Sorry, I hadn't tested that approach.\nPlease send an email to contact@invoiceninja.com and we'll send you your license. . This is fixed in the master branch. . Agreed by the way, the current implementation is terrible.... I'll look into it. Are there any related errors in storage/logs/laravel-error.log \nJust to clarify, the second screenshot shows your expenses. The zip option exports documents attached to the expenses not the expenses themselves. . I haven't been able to reproduce this issue. Are there any errors in storage/logs/laravel-error.log\nYou may want to use queues to speed it up:\nhttp://docs.invoiceninja.com/en/latest/configure.html#email-queues. Has anything else changed?. Is phantomjs cloud faster? I'd expect it to be slower.\nFYI... we plan to switch to headless Chrome in the future. . Did you run composer install or composer update?\nInvoice Ninja supports PHP 7.0 and 7.1 . Use composer install, not update . Can you post the relevant details from storage/logs/stacktrace.log. I'm not sure, I'm not seeing the error.\nMaybe this is related? https://stackoverflow.com/a/49230700/497368. I can't reproduce the error, are you using a 32 bit OS? . It should be fixed with an upcoming release when we update the libraries. . Are there any errors in storage/logs/laravel-error.log. v4.3 with support for PHP 7.2 has been released.. Is 'prevent download' enabled or disabled on /settings/account_management. Does enabling the prevent download setting help? It should have the same affect as using forceJS. . If you disable the group option in the report settings you can sort by quantity. . I understand your request now, you'd need to export to Excel to calculate it.\n. Agreed, there's a lot of room for improvement with our reports. . The error usually means the app was either unable to find a matching client or the invoice number is already taken. . Yes, that's correct. Sett DOCUMENT_FILESYSTEM in the .env file to s3 and then add these .env properties.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/.env.example#L65. Thanks for all the details!\n\nWas it working for you in a previous version?\nI've seen the \"readonly property\" error intermittently, if you run the script a few times do you always see the error? \nI don't think phantomjs cloud will work, it doesn't look like it would be able to reach your server. I'm not sure... Which design are you using? If you aren't already it may be worth trying with the clean design. You may also want to add a blank new company to test with. . This may be fixed in v4.3. Try applying this change: https://github.com/invoiceninja/invoiceninja/commit/72b89c816b10305800400d7ec88732565719e488#diff-9d648e656d29e15d3436a38d551937a7. Here's another change: https://github.com/invoiceninja/invoiceninja/commit/bb6a0c379efc5e8287a52422b507fcc8d69ea72b#diff-9d648e656d29e15d3436a38d551937a7. Sorry, not sure... \n\nIt should be available with Softaculous in a few days. . Try clicking 'Email Invoice' in the recurring invoice in the app. . I'm not sure I understand, if the email isn't set how will the cron send it?. Maybe put your email address temporarily. \nIn v4.3 we've added an option to not auto-send recurring invoices.. I'm suggest you temporarily add your email to send through the UI, once the invoice is generated you can remove your email.. I'd suggest double checking you aren't using PHP 7.2, it would cause this error with v4.2.\nSorry I couldn't help, all the best!. To clarify... some servers use separate PHP versions for the web server and command line interface. . Thanks for letting us know. This is by design, see #1452. Looks good, thanks!. Thanks for the help! . You'd need to add custom transformers:\nhttps://github.com/invoiceninja/invoiceninja/tree/master/app/Ninja/Import\nAnd then include it as a source:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Services/ImportService.php#L107\nNote: there may be other changes required but these are the main changes. . We recently added support for UBL which is a form of XML. It's on Settings > Email Settings . We don't have immediate plans to support this. \nWe'd gladly accept a pull request... . You can do this manually by cloning the quote and then enabling recurring. . Thanks for the change but I'm not sure it's an improvement\nhttps://stackoverflow.com/a/23000910 . > e.g. I have some customers that i invoice annually and would like to set up the recurring invoices in advance. However i have to wait months mark them as ready.\nWhy not mark the invoices as ready now and set the start date in the future? . Understood, it isn't supported.\nIn our next release we've modified the date picker to prevent selecting a date in the past to make the behavior clearer. . Can you clarify this, who would need to approve it? . I'm inclined to think that by default products should be viewable by all users as are tax rates. . I think clients would need to be an optional setting. . Agreed, this can be improved.\nThe route is accessible because if a client has a card on file (and the portal is enabled) we show an 'Edit details' button on the payment methods page. This behavior isn't clear in the app though.\nI think the right answer is to add an 'Edit details' option in the client portal settings. . Thanks for the feedback!. This will be resolved in v4.4.\nUntil then you can fix it by updating this file: https://github.com/invoiceninja/invoiceninja/blob/master/public/built.js\n. The ids in the gateways tables are incorrect, they're skipping a few numbers. The max id should be 68. . Also, I see the same problem with the payment_types table. The max id should be 32. . I think you need to change the provider for 62 to Custom1 and delete 69. And then clear your cache with ?clear_cache=true . From the logs it looks like Invoice Ninja is working correctly.\nThe error message is from Stripe, you'd need to follow up with them for more help. From our experience a common cause can be a client paying with a debit card rather than a credit card. . What do you see if you load /update . From: http://docs.invoiceninja.com/en/latest/update.html\n\nTo update the app you just need to copy over the latest code. The app tracks the current version in a file called version.txt, if it notices a change it loads /update to run the database migrations.\nhttps://download.invoiceninja.com\nIf you have trouble updating you can manually load /update to check for errors.\n\nFeel free to create a PR if you think the text can be improved. . Can you please email storage/logs/laravel-error.log to contact@invoiceninja.com to help us debug the problem. . Thanks for your help debugging, here's the fix: https://github.com/invoiceninja/invoiceninja/commit/80561165c6e36867ac642a4f50811671a2e40611\nIt will be included in the v4.4.1 release. . It's worth noting the problem was actually with the v4.3 migrations.  . This change should fix the error you're seeing on the custom fields page: https://github.com/invoiceninja/invoiceninja/commit/8c7065af232a42874c9cba6ea13fde825389d82d\nWhat are the error details in storage/logs/laravel-error.log for the error on the online payment settings page?. Have you manually deleted clients from your database? You can check with this SQL query:\nselect a.id, a.created_at, a.client_id\nfrom activities a \nleft join clients c on c.id = a.client_id\nwhere c.id is null\nand a.client_id is not null;\nIf there are matching records you'll need to delete them and then load /update\nNote: we just release v4.4.1 which you should probably use instead. . Does the query above return any rows?. What do you see on /update. Please load yoursite.com/public/update in the browser . You\u2019ll need to either temporarily modify your open_basedir settings or run the update from the command line.\nhttp://docs.invoiceninja.com/en/latest/update.html. No, the problem isn't related to a specific version of the app.\nYour web server settings are preventing the upgrade from running. . You'll need to either temporarily add '/opt/alt/php70/usr/bin/php' to the allowed paths or disable it. . Sorry, I'm not sure. You may want to check with your web host. . Which version are you upgrading from? \nIf you have a backup from before the upgrade I'd suggest restoring it, apply this fix (https://github.com/invoiceninja/invoiceninja/commit/80561165c6e36867ac642a4f50811671a2e40611) and then updating.. Or restoring a backup and trying with v4.4.1 . Try commenting out from lines 16 to 73 in the following file and then load /update\ndatabase/migrations/2018_03_08_150414_add_slack_notifications.php. Great to hear, thanks for letting us know! . Are there any details in storage/logs/laravel-error.log . Are there any details in your web server error logs?. Are there any more details in the network tab of the browser console? . Thanks, I think I may see the problem.\nTry changing the APP_URL value in the .env file to lowercase 'https'. Can you try applying this patch: https://github.com/invoiceninja/invoiceninja/commit/3f32a14b1a5ec1547f5db618ea2f6ad1af244bb8. Great to hear, thanks for letting us know! . Thanks for letting us know!. What do you see on /public/update . If the migrations hadn't been run that may have fixed the problem. . I'm not sure where the error is coming from, we no longer use mcrypt. . I'm happy to merge the change but you'd need to create it against the develop branch. . No worries, it seems to have more changes than intended. . Thanks for the changes, they look great\nSmall thing, we recently changed it to by default not run migrations (to keep it in line with the Laravel default) it'd be helpful if you could keep the current behavior. . You are correct, thanks again! . The changes look great, thanks!\nOne small request... can you please change the view from accounts.product to products.edit. This will ensure your module continues to work after we refactor the code. . The view is currently accounts.product, in the future it will be products.edit. . It's a minor point. I assume in your custom module you have a view file called accounts.product, I'm suggesting changing both your file name and the reference here to products.edit. It will just make the file names more consistent. For examples, clients.edit, tasks.edit, etc.. Great, thanks! This will be harder to change once people install the module as the module/app versions would need to be in sync. \n. Did you use JSON to transfer the data? . Deleted records are excluded by design, I agreed it'd be better if archived records remained archived. . You should be able to enable this by returning true in this function.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Account.php#L1764\nWe don't currently show the feature in the self host version of the app because it requires registering the email with Google. \nhttps://developers.google.com/gmail/markup/registering-with-google. Sadly it isn't the case, some email clients end up showing the JSON as part of the email message. . Nice catch, that's certainly possible... . That's too bad, hopefully they open it up to more users in the future... . What do you see on /client/public/update . Maybe try copying the code over agin, our latest version is 4.4.2. If you're trying to update the app you'd need to copy over the latest files\nhttp://docs.invoiceninja.com/en/latest/update.html. A common error with shared hosting is \u201copen_basedir restriction in effect\u201d, if you see this you\u2019ll need to either temporarily modify your open_basedir settings or run the update from the command line.. You'll need to check with your web host . Glad to hear it's working!. Do you see any errors when viewing /update in your browser? . It looks like the app isn't reading the .env settings, you may want to switch to this docker file\nhttps://github.com/invoiceninja/dockerfiles . I was going to suggest posting an issue on the repo for the dockerfile you're using but it looks like you're the owner :)\nNote: after upgrading to v4.3 you may need to manually delete bootstrap/cache/compiled.php, if you're using composer the file will be automatically deleted.. It's possible this could implemented with our ofxhome.com integration. . Thanks for the info, this library may help: https://github.com/oak-labs-io/psd2. Yodlee isn't free, do you know where I can see their pricing info? . They ain't cheap... https://plaid.com/pricing/. Great, thanks for your help! . This seems similar to #1750 . Please check storage/logs/laravel-error.log for details about the error . Sorry, I'm not sure . How did you transfer your data? We recommend using mysqldump. . I'd suggest using mysqldump to transfer the whole database. . If you send us the logs from storage/logs/laravel-error.log we can try to help debug the problem  . The file is storage/logs/laravel-error.log, if you're seeing \"Whoops\" there should be details in the file.. Do the tables exist in the database? . Are you using the same APP_KEY from the original .env file? . Which version are you upgrading from? . Please delete storage/logs/laravel-error.log, try to send an email and then check for any new errors . In the whichever installation you're actively using. . If you can post a specific error I can try to help debug it. . If you're self hosting you may want to setup automatic backups of your database, it's more complete than the JSON file. . I'm having trouble reproducing the problem, is the expense's client field set?\nMaybe you have a filter set on the datatable? . I'm not sure, have you run any SQL queries to manually update the database?. - Is the client correctly listed on /expenses \n- Have you purged any clients \n- Does clicking the client link on the expense page take you to the correct client \n- Can you send the results of this SQL query:\nselect e.id, e.client_id, e.deleted_at, e.is_deleted, c.id, c.deleted_at, c.is_deleted\nfrom expenses e\nleft join clients c on c.id = e.client_id;. Maybe try removing the 'active' filter from the expense datatable then put it back?\nAlso, if you haven't yet try logging out then back in. . If you want to email a backup of your database to contact@invoiceninja.com it may help me track down the problem. . It'd be best if you could use mysqldump . Thanks for the backup, I see the problem.\nWe'll try to include a fix with our next release. . Does emailing the invoice work? \nIf you're using LastPass try disabling it. . - Is start date the only field that doesn't load? \n- Are there any errors in the browser console? \n- Does changing the date format help? . Thanks for the debugging, I think you're correct. . Are you sure the recurring invoices aren't being sent?\nMy guess is this is a display issue preventing the field value from being shown but I wouldn't expect the problem to prevent the invoices from being sent. . We'll try to include a fix with our next release. . Hopefully within about a week . If not sooner... . Yes, we plan to add this in an upcoming release.. I'm not able to reproduce the problem, does this SQL query work?\nselect auto_convert_quote from accounts; \nMaybe you need to load /update to run the migrations? . I'm not sure, it's the first time I've seen this error. Note: you should only use composer install, not update.\nYou may want to setup a clean install of the app and then copy over the database and .env file. . I'm not sure if it's up to date.\nYou can load /update to run the database migrations. . Glad to hear it's working! . Thanks! There should be a white label link in the footer of the page. . Have you tried running the product report and then grouping by the product column? . Are you using the latest version of the app?. I'm happy to try help debug the problems.\n\nWhich fields don't work? \nWhat do you see on /update . I think the error is from the migrations not having been run. \n\nI'm surprised by the error on /update, it looks like it's trying to run all of the migrations. If you have command line access you may want to try running the migrations manually.\nhttp://docs.invoiceninja.com/en/latest/update.html\n. I think the problem may be due to the exchange rates being blank.\nDo you see and rates when running this SQL query:\nselect code, exchange_rate from currencies;. Which currencies are you using? . Can you please email the 'view source' of the page to contact@invoiceninja.com . Thanks for the file, the problem was caused by clients with a negative total.\nThis change should fix it: https://github.com/invoiceninja/invoiceninja/commit/e9e1514b615ad5c6554b1b4d6b4fffe1d6b1c6b9\n. In the latest version of the app there are a few ways to fix it:\n\u2013 Add an \u2018Adjustment\u2019 custom invoice surcharge to add/subtract the cent\n\u2013 Increase the precision of the qty or cost\n\u2013 Create a new company and enable account wide inclusive taxes. Sorry, we don't plan to support combining inclusive and non-inclusive invoices in a single company. It would make things more complicated than we'd like. . Which version of the app are you using? . Is there a reason for not updating? . The options listed above should work, no other related changes have been made. . I'd suggest either adding an 'adjustment' custom field or using account level inclusive taxes. . You can add an Invoice Surcharge on /settings/invoice_settings#invoice_fields called 'Adjustment' . Which version are you currently using? . Try changing to $invoice.terms and $invoice.publicNotes . Thanks, I'm seeing the problem as well.\nWe'll try to include a fix with our next release. . As a workaround deleting the fee from the invoice should correct the fee label . 1) \u2018Logged\u2019 is the default status but you can define your own list of statuses using the kanban board. Once the statuses are set you can set them on /tasks\n2) You should be able to click the date to edit the task.\n3) In our latest version we\u2019ve added custom task fields.\n4) That\u2019s true, it\u2019s possible we\u2019d add it in the future but we\u2019re generally very reluctant to add additional buttons in the UI.\n5) If you hover the field you can see the full value.\n6) Does the invoice you're trying to add it to have a balance? \nAgreed, it\u2019s just non-trivial to implement. . I think the key part of the error is \"API requires pro plan\"\nMaybe you were on the free trial and it expired? . I think this is a duplicate of #1929. The feature works as designed, if you have a $100 invoice with $10 and 10% fees the total fee is $20. This matches the help text shown when configuring the fees. \nThat said, from the links you've provided it looks like the design could be improved. . Just to clarify, regardless of whether it's called a bug or a feature the change should still be implemented.\nWe'll try to include it with our next release. . I think this is a duplicate of #1316. How should it be calculated? . Understood, so... 'Total Revenue' + 'Oustanding'. Is this a new invoice/have any payments been applied against it already? . Thanks for letting us know! . One option would be to change from $subtotals to $subtotalsWithoutBalance and then add the line and the balance beneath it. You can reference the Elegant design as an example. . Glad to hear it works, looks normal to me. . I'm not sure, you may want to try deleting then recreating the database . That would make me very nervous, I'd strongly suggest setting up the app on a database with normal auto-incrementing values. . Agreed, it was a mistake in the design. In practice this hasn't been an issue for too many users so probably isn't worth the large effort to correct. . Please try with the latest version. \nThe troubleshooting steps here may help: http://docs.invoiceninja.com/en/latest/configure.html#troubleshooting. The app generates a unique link for each contact, this enables us to track which of the contacts has viewed the invoice. . Please check for recent errors in storage/logs/laravel-error.log . FYI.. you can also view the logs by loading /errors in your browser . In your browser, ie yoursite.com/errors . No, 777 is usually a bad idea. Note: It's ok to test if the problem is related to permission, if it works with 777 then change it after testing. . As a workaround maybe you could use a third party solution (ie, Dropbox) and include the link in the client's custom dashboard message.. We're already using v3 in some places however it doesn't yet support all of the Stripe features we're using. ie, ACH. . That is correct. To clarify, v3 is used for the sources (ie, Alipay, Sofort, etc). Everywhere else we currently use v2. . We consider this a priority . Most of the drivers we use don't yet support Omnipay v3, I'm not sure there's anything we can do here. \nhttps://github.com/thephpleague/omnipay#payment-gateways. Looks good, thanks! . A crappy workaround is to add a blank space in the field.\nWe'll make sure it's corrected in our next release. . Thanks!. If you\u2019re using a custom design try copying the content from the background\ntab of a standard design.\nOn Thu, May 31, 2018 at 6:06 PM pegasus87 notifications@github.com wrote:\n\nHello,\nI've tried the new background image feature for invoices in version 4.4.3\nbut it failed for me. It's possible to upload images (I've tried jpg and\npng) by the proposal editor and use the in proposal templates, they are\nshown in the PDF preview in the website. But if I choose one of the\nuploaded images as a background for my invoice template the PDF preview of\nthe invoice stays grey and the \"Download\" button for the invoice has no\neffect. There aren't any error messages. This behaviour is the same for\nevery invoice template.\nI'm using a self-hosted version of Invoice Ninja. Are there any points I\ndidn't configure correctly to make it work? Thanks for help!\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2131, or mute the\nthread\nhttps://github.com/notifications/unsubscribe-auth/AEaj-LOiXEv4v5qOKkOH3sChDhp9c6GMks5t4AbegaJpZM4UVN2i\n.\n. Hmm... I'm not sure why the tab is blank, maybe you need to load /update\n\nHere's the code to copy/paste:\n[\n  {\n    \"image\": \"$accountBackground\",\n    \"alignment\": \"center\"\n  }\n]. You can add a \"width\" tag in the custom design to change the image's scale. . It uses the documents feature so requires the enterprise plan on our hosted platform. . I think this is a duplicate of #1316 . Are there any details in the web server error log or storage/logs/laravel-error.log . I'm not sure, maybe the info here will help:\nhttps://www.litespeedtech.com/support/forum/threads/solved-403-forbidden.6189/ . Is is_admin set to 1 for the user in the users table in the database? \n@turbo124 could this be related to the permissions changes?. Are you using our app? I don't recognize the file path. . Are you just looking for advice?\nYou should be able to fix the error by using PHP 7.1, I assume you're using PHP 7.2.  . Thanks!. You can enable credit numbers on Settings > Invoice Settings and then use them by creating a negative invoice. . To create a credit invoice you'd create a negative invoice, the image is of the payment page? . Credit notes are created on the invoice page. . Please see me first comment, once you enable credit numbers negative invoices will use their own numbers. . Yes, you'd clone and make it negative.\nWe don't have a link but you could add the invoice number in the notes. . Glad to hear it's working!\nIt's for how credits are handled in the US, they're a payment on file which can be applied later to an invoice. . Hi, just wanted to follow up.\nI'd like to merge the PR but the changes affect code paths used by most requests, I want to make sure I fully understand it.. If you can improve it it'd be great, otherwise if you can separate out the change I'll merge the rest. . Thanks! . What's the response on the network tab to the check invoice number request? . Maybe it's related to how the web server is setup to parse URL parameters? . Are you using Nginx or Apache?. It could be from running the app in a folder, this may be related: https://serverfault.com/q/685525\n. This may be a bit more complicated to implement. In order to ensure the client/project always match the available list of projects would need to be filtered to the selected client. Similar to how the invoice list is filtered when selecting a client on the new payment page. . Great! We'd be open to merging a pull request for this. \nNote: for projects but not for invoices, they're already linked to projects through tasks. . Sorry, it would introduce too much complexity. . It looks like the API we\u2019re using to load the exchange rates now requires an API key.\nhttps://api.fixer.io/latest\nWe\u2019ll include a fix with our next release. Until then you can either sign up for an API key or comment out this line of code.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Console/Commands/SendReminders.php#L75\nNote: the reminders are being sent, this error is occurring afterwards.. This should be resolved in the latest version (4.4.4) . Emails are only sent on the reminder date. . This seems like a duplicate of #1853 . Thanks, that's nice to hear!\n\n\nThis is possible using custom fields: https://www.youtube.com/watch?v=4CaH8E25gN8\n\n\nThese should already work. In the invoice the format would be $client.customValue1 and in the email it would be $customClient1. \n\n\nCould custom fields be used here as well? . 3. You can adjust the fields included in $clientDetails on Settings > Invoice Design > Invoice Fields. We don't currently have an option to show/hide the custom field labels.\n\n\nI think you'd need to replace $clientDetails with the individual fields. . Not sure, maybe you could put the custom value at the bottom of the list? . Are you using v4.4.4, there was a related fix for blank variables. \nTry client.country.name. Sorry, I don't have a solution to remove the blank lines. . You may want to consider starting the recurring invoice from the second invoice and cloning it to manually create the first invoice.. If you change the value to a date in the past the app will just send the invoice the next time the cron runs. . Glad to hear it's working! \nThe restriction was added to prevent confusion, people thought if they set the start date to the past the first invoice's date would be set to a date in the past and the recurrence would start from that date.. It's definitely worth considering... . Initially it was required however we had many users ask us to make it optional as they weren't using the email features of the app. . If you create a negative invoice it will be displayed as a 'Credit Note', you can also enable credit numbers on Settings > Invoice Settings to give the credit notes their own numbering. . Thanks! Can you please create the PR against our develop branch. . We could add 'Vendor' as an optional column . Here's where the report data is generated:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Reports/ExpenseReport.php#L66. The export code starts from the line I linked above for the next 15 lines. . You need to add a label for 'id' in resources/lang/en/texts.php. Glad to hear that it's working! \nYou can fork our project and then use git pull to update. \nSorry, I don't think we'd merge this right now. . We'll look into adding a custom variable to support it. Looks great, thanks! . Have you recently updated the app or changed the APP_KEY? . Is it possible the APP_KEY or APP_CIPHER are different, it would explain the error.. Also, the error in the screenshot is a different error? . One way to fix it is to remove the encrypted data by setting deleted_at to now() in account_gateways.\nNote: this will cause you to lose access to any saved credit card tokens. . Back up your database and then run this SQL command:\nupdate account_gateways set deleted_at = now();. Existing links should work . We get our settings from OFX Home, if you get it corrected there can update it in the app. If we manually correct it in the app it would be overwritten the next time we sync with OFX Home. \nhttp://www.ofxhome.com/index.php/institution/view/647. I'm not sure, I'll try reaching out to them.. FYI...  if you're self hosting you can manually update the banks table and then clear the cache by adding ?clear_cache=true. . I agree, it doesn't look like their list is being actively maintained. I'll update our info, here's the SQL query to update your data: \nupdate banks set remote_id = 325081403, config = '{\"fid\":\"3670\",\"org\":\"BECU\",\"url\":\"https:\\/\\/onlinebanking.becu.org\\/ofx\\/ofxprocessor.asp\"}' where id = 599;\nNote: the provided bank id is different to the other banks values, the bankId looks like an fid. It'd be helpful if you can let us know if it works. . What do you see on /invoices/public/errors . Please check storage/logs/laravel-error.log. I'd suggest deleting the log file and then triggering the error again . Can you check your data matches\nmysql> select * from gateway_types;\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom1       | Custom        |\n|  7 | alipay        | Alipay        |\n|  8 | sofort        | Sofort        |\n|  9 | sepa          | SEPA          |\n| 10 | gocardless    | GoCardless    |\n| 11 | apple_pay     | Apple Pay     |\n| 12 | custom2       | Custom        |\n| 13 | custom3       | Custom        |\n+----+---------------+---------------+. http://slack.invoiceninja.com/. Thanks!! . I believe that would cause it to send a reminder every day...\nIn all seriousness, if you'd like to submit a PR we'd gladly merge it.. Right, of course this can be made to work. I was just pointing out the change was a bit more complicated then = to <=.. Can you explain your use case, are you reselling the app? . Thanks for the details! Have you considered using two separate sub companies instead.\nIf you want to modify the code you could use two custom designs and then change the columns shown based on the custom design id. \nI think it should be possible with the API but don't have an example to provide, you'd need to trace the code to figure it out. . Sorry, I'm trying to be helpful but of course have limited time to provide support and develop. This part of the API isn't designed to be used/supported by typical users which was why I initially asked about reselling.\nFrom a quick review of the code I think this request may be failing because the account name isn't set, it looks like it's required by the request. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Requests/UpdateAccountRequest.php. Maybe... there are already a lot of buttons on the invoice form, I'm reluctant to add too many.\nI also like with our current solution if the are any problems saving the user has a chance to review the invoice before navigating to a different page. . What if the app isn't aware there are errors... \nI'd love to claim that I write bug free code but sadly that isn't the case. . It's worth adding this was my reasoning almost five years ago for not adding the options, it's possible I should have more trust in the app at this point :). Thanks for the correction!\nFor the fix to be applied it's need to updated in Transifex.\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/\nIf you're able to join the project and update it that would be great, otherwise let me know and I'll apply the change for you. . You should be able to add the user on /settings/user_management Is there no 'add user' button in the top right?\nAlso, how many users do you see listed on /settings/account_management. This should be fixed in v4.4.4\nhttps://github.com/invoiceninja/invoiceninja/releases . This looks awesome, thank you! A great use case for this would be to support emailing clients in different languages with per language templates.\nPlease email us at contact@invoiceninja.com for a T-Shirt or a white label license. . It will be included in v4.6 . You should be able to add a payment for $0 to mark the invoice as paid. . Thanks for creating the PR!\nSorry, I don't think we'll be able to merge it. I'm not sure about adding the complexity in the code. In the future it'd be best to discuss changes with us ahead of time to ensure they're merged. . In the past we supported this feature but have since disabled it. One problem is that the change will likely break the 'Bold' design. . That's cool... sorry it's not being merged, this is just a part of the app that is already more complicated than I'd like. If it was a regularly requested change I'd be more open to it. \n. From the error I would assume the database wasn't correctly initialized. \nI'd suggest recreating the database and starting again, you may want to try using a password temporarily. . Maybe it failed part way through? Are there any errors in storage/logs/laravel-error.log . Sorry, I'm not sure why the response would be blank.\nCan you clarify, is it sometimes not blank? Are there any errors in the logs. . You may want to try tracing through the code, here's the main entry point.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/DocumentAPIController.php#L123. Thanks!. Thanks again! . Thanks for the PR!. Awesome, thanks!\nAnother user recently reported this issue. . Thanks again! . You may want to close the PR and open an issue and we'll try to track down the rest of the problem... . If there's a problem with recalculate code which was added can you fix it separately without making changes to knockout.blade.php. I'n not sure I understand. I thought your last change converted the rates to the set base currency, I'd assume once the rates are updated the rest of the app would work as is? . I'm sorry, that we won't merge. I'd like the rate shown in the UI to match the data returned from the API. \nCan you explain what you meant by 'If this proposal of changes will not be accepted, them we have to change calculation in payments module.'. Glad you were able to figure it out! . Thanks!! . I'd suggest only building from master, develop won't always be in a consistent state. . That said, the field should definitely be in the develop SQL file. I'll look into it.... I see what you mean about the file, I've checked in an update version. Thanks for catching it!. Is the function receiving the value for invoice_number? \nWe've seen server configs prevent the app from parsing URL parameters correctly. . That makes sense but I would think removing the forward slash would fix it. I'm not sure... maybe the SSL cert expired? . Right, it's probably not from your SSL.\nSorry, I'm not going to be much help with this... . From this thread it looks like it should be supported \nhttps://github.com/swiftmailer/swiftmailer/issues/545. Here are the permissions which need to be set\nhttp://docs.invoiceninja.com/en/latest/install.html#step-2-upload-the-code-to-your-server. These should all be resolved with v2. Just a bit behind reviewing changes, the feature will be included with the v4.6 release.. Sorry for not catching this sooner but there's a problem with the implementation, the cap has been added to the accounts table but needs to be on the account_gateway_settings table. . The UI also needs to be changed, the cap setting should be underneath the fee amount and percent settings. . Looks great, thanks!. Thanks! . I'm not sure, a white page often times implies problems with permissions.\nThere should be an error somewhere with more details... . Sorry, by permissions I meant file permissions.\nI'm not sure, without any logged errors it's hard to say.. This looks great, thanks!. Please email us at contact@invoiceninja.com so we can figure out a way to thank you for your contributions. . Can you check your data matches up\nmysql> select * from gateway_types;\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom1       | Custom        |\n|  7 | alipay        | Alipay        |\n|  8 | sofort        | Sofort        |\n|  9 | sepa          | SEPA          |\n| 10 | gocardless    | GoCardless    |\n| 11 | apple_pay     | Apple Pay     |\n| 12 | custom2       | Custom        |\n| 13 | custom3       | Custom        |\n+----+---------------+---------------+. I think that's the problem, you need to correct the data and then clear the cache by adding ?clear_cache=true to the end of the URL.. Just to clarify, has the table data also been corrected? . Are you seeing the same error after correcting the data and clearing the cache?. You'll need to manually correct the data in the table, maybe you can use phpMyAdmin?\nIf you have a backup from before the update I can try to figure out what went wrong. \n. Are you checking in the preview or the client portal?\nThe invoice is only fully translated in the portal. . The preview in the admin backend may not be fully translated, viewing it in the client portal or using the API should correct it.\nWhich language are you using? Maybe it isn't fully translated on Transifex.\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. Have you tried clicking 'View in portal'? . Great! We don't support showing the preview fully translated. . When your contact pays they're able to confirm their name is correct.\nYou should be able to use a custom design to add the contact's name near the signature. . Can you explain, what's the issue if there's more than one contact? Each contact has their own link to the invoice so we can track who signed it. \nI'm sorry, I think enabling a non-contact to sign the invoice is too much of an edge case. . Are you able to download an invoice using the test link on Settings > Client Portal?. A few other users have reported the same problem, sorry I don't have an answer. \nI haven't been able to replicate the problem, I'd be happy to work with you try to debug it if you have the time. . To start it'd be helpful to know what PhantomJS is returning.\nYou should be able to see it in storage/logs/laravel-info.log by adding this line of code here:\n\\Log::info($pdf);\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Libraries/CurlUtils.php#L92. If you don't see it in your log try adding this line a few line higher up before the status === 200 check.\n\\Log::info($response->getStatus());. I believe it should be called when download the proposal PDF.\nI'll do some testing tomorrow to confirm. . Before I spend more time looking into this I just want to confirm the first question I asked, this is key to understanding the problem.\nAre you able to download an invoice using the test link on Settings > Client Portal?\n. Sorry, the test link is on Settings > Email Settings . Ok, thanks. That's helpful to know.\nI'm not yet sure what the problem is, I haven't been able to make it fail. We plan to include additional debug code in our next release to help track down the problem. In the future we're looking to replace PhantomJS with Chrome Headless. . We should have a dot release within about a week.\nYou may be able to fix it by adding the missing part of the route here:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/clients/statement.blade.php#L102. I think you'd need to manually modify the .env file. . It isn't supported, you need to clone an invoice to set a new client. \nWe keep a ledger to track the client's balance, if we enabled changing an invoice's client it would make the ledger far too complicated. . Not today, it should be within a week. . You'd need to define the custom webhook code, you can see examples by reviewing the Stripe or Mollie examples. . Hmm... I'm not sure. Most likely we worked on the import but weren't happy with the results.\nIf you can send samples of each of the files to contact@invoiceninja.com we can work on including it in the future. We'd just need two rows for each file, the header and a row of sample data. . I'm surprised they don't have an invoice export to CSV, with GDPR I believe it's now required. You may want to reach out to ask.\nYou can try importing the client file using the CSV import, we don't support importing separate client and contact files. \nIf you aren't happy with the results please email the CSV files to contact@invoiceninja.com and we can work on adding the Harvest client import. . Amazing!! I'll try to review it over the weekend. \nIf you haven't already please email us to discuss finding a way to thank you. . Thanks again!. Thanks for another PR :+1: \nWe've had requests to support recurring quotes but I believe these users would also want to be able to create recurring invoices. I believe the changes would require a user to choose one or another?\nWe really appreciate all these changes! Please consider emailing us or messaging us on Slack to discuss features you're working ahead of time on so we can help reduce any rework. \nhttp://slack.invoiceninja.com/\n. Thanks for the change but I'm not sure about the implementation.\nThe problem is the app supports many different default settings between invoices and quotes, I believe with this implementation recurring quotes would end up with the invoice defaults. \nThat said the user could just correct the defaults and it would work. I'll need to discuss internally and get back to you... . Awesome, I'll try review/merge tomorrow. . The code looks great, thanks again!!. FYI.. I'm going to make one small change. I think the 'recurring quote' drop down button should be on /quotes rather than /recurring_invoices. Agreed, we hope to support this in v2. . Have you tried using the tasks report for this?. Thanks, I understand now. It could work as a new report.. Thanks again!!. This can now be configured on Settings > Invoice Design > Product Fields. . Thanks, I understand now. The feature always displayed the rate. . Correct, you'd also need to use bower and gulp to regenerate the built files. . Yes, I think so. . I think this may be a duplicate of #2241. No worries. . Can you please post a screenshot. @turbo124 could this be related to permissions? . Oh, right... . Maybe the value already exists? . 'Net 10' is a standard option, it should already be listed. . Agreed, this was a mistake... \nOver time we're gradually moving all env variables to config/ninja.php. We don't currently support using GoCardless along with another auto-billing gateway, you'd need to create a separate company. . That is correct. In the past we've been reluctant to add the custom fields to all of the list pages as some of them already have quite a few fields/columns.\nThat said I think if someone has added custom fields they're typically important enough that they should be shown. . It'd be great if the app enabled users to select which columns to show.\nI'm not a fan of filtering by fields which aren't shown, to most users it would simply look like the search feature is broken. . Thanks for your help!!. Thanks, it could be a problem with the z-index . It's by design, archived invoices are visible in the client portal so we show them on the statement.\nDeleted invoices should be hidden from the client portal and statement. . I'm not sure... \nIt sounds like you've enabled the client portal password but setting a value for phantomjs_secret should enable the link to bypass it. Maybe check the secret is correct or test disabling the portal password. \nAlso, I'd suggest using the test link on Settings > Email Settings to test it. . Maybe it's a web server configuration issue which is preventing the app from seeing the request parameters? \nHere's where the value is checked in the code:\nhttps://github.com/invoiceninja/invoiceninja/blob/748578a68ab36bdce6cc2ce45cdfb2428bfea068/app/Http/Middleware/Authenticate.php#L90. Good to know, thanks for sharing the fix! . Sorry, I don't think this change will work.\nHave you tested it yet? . I'll look into it... . Thanks for reporting this!\n\n\nv4.5.2 will include a fix for the payment type for PayPal payments\n\n\nv4.6.0 will add the truncated payment transaction reference to the statement (it's truncated to prevent line wrapping). . Are you using any Firefox extensions? . Thanks for the update! . i'd suggest trying to manually change the encryption value in the .env file.. Not sure, maybe try 'None' instead of 'none'\n\n\nI'd suggest testing the email and not relying on the display on Settings > System Settings. . To clarify... are you able to send invoices in the app? . https://invoice-ninja.readthedocs.io/en/latest/install.html#step-1-download-the-code. Did you run this command?\nsudo chown -R www-data:www-data storage bootstrap public/logo . Also, which link did you use to download the zip?\nSometime people download the zip from GitHub which is different than the self host zip. . Great, that's the correct link. You can confirm by checking that the /vendor folder is populated. . Maybe try php artisan optimize or composer dump-autoload . Also running chmod -R 777 storage then chmod -R 755 storage can sometimes help\nhttps://invoice-ninja.readthedocs.io/en/latest/install.html#troubleshooting. You can try loading /update\nIt'll be harder to fix without SSH access. . /update isn't a directory it's a web route.\nhttps://example.com/update or /public/update . What link are you using to access the site, you can hide the domain. . Then it should be https://sub.domain.com/update . Not sure... I'd suggest manually editing the .env file rather than use the system settings page. . The code looks great!\nCan you please make one change, our convention is that the Utils classes all expose static functions rather than requiring creating an instance (I find it easier to work with in the code).\nRather than use $currencies = Currency::get(); you can load the currencies from the cache on demand using cache('currencies');. . Sorry for the delay merging, thanks again for your help! . I think this may be a duplicate of #1673 . 1. I think it's a duplicate of #202\n2. We track the time for online payments \n3. ok. Both field support using codes, set currency_code and country_code rather than currency_id and country_id. . We specify the currency to support users with multiple currencies. . Looks good, thanks!!. This is by design, see #1452 for more details . We want Google to index our site, just not self host sites. . @turbo124 user permissions? . Are there any errors in the browser console when the upload fails? . I'm not sure... have you made any manual changes to the database? . I'm not sure, maybe the migrations didn't run? What do you see if you load /update (or /public/update). Thanks for creating the PR!\nI'm not sure it's the approach we'd take. Assuming we want to support this for other entity types it could add a lot of fields to the table. We're running to limits with standard installs so are trying to keep the number of fields down. It also wouldn't enable adding other fields (ie, po number) to the table. . Hmm... I think it'd probably be best as it's own JSON field. I was thinking the UI would be similar to Settings > Invoice Design > Invoice Fields with a drag/drop interface to set the table columns. That said your approach is far simpler and achieves most of the functionality. . I think the products table already shows custom fields if they're set. . Not sure... I'm concerned there will be too many columns \nAgreed, it was just hard to get the custom label to work due to the way the existing code is structured. . Ideally I think it'd be best to completely replace the datatables on mobile. It should be a responsive mobile list which is full-width/multi-row. . Possibly, I'm just concerned about showing too many columns. . If you're able to change this to a single text field which stores the settings as JSON we could merge it, that should make it relatively easy to support the same feature for all custom fields. \nIt would be nice to be able to add other fields (ie, invoice po number) but as is this is still very useful. . Sorry, it looks like another change caused a conflict. If you could please fix it we'll merge this (assuming it's ready). . Thanks again, this is a great feature!!. See if clearing your browser cookies helps. Looks good, thanks!. Thanks for catching this!. Thanks for the pull request!\nWe'll work on a proper fix for our next release. . I think you'll need to create two exports:\n\nYou can bulk export the invoice PDFs on /invoices\nYou can export the list of invoice using either the reports (to get some data) or the export page (to get all of the data). You can check multiple invoices and then click the drop down in the top left. . I thought you weren't going to use our app anymore? . We'll definitely either fix this gateway or disable it.\n\nWe may add another crypto gateway. . You can enable your client to pay a specific amount by setting a value for partial/deposit on the edit invoice page. . It was a suggestion in case the user who opened this issue didn't see the feature. This issue has been marked as a 'Feature request' meaning we'd like to add it in the future. . You can also set country_code to use either a 2 or 3 digit country code, same for currency. . I'n not sure, from the error it looks like the referenced file isn't found in the file system. . We'd accept a pull request.\nI imagine it would be similar but without reviewing the Stripe docs it's hard to say. . Thanks!. Nice, thanks!\nCan you please also create a PR to add yourself here...\nhttps://github.com/invoiceninja/invoiceninja#credits. Yes please. There is an indirect link through tasks. We could look into displaying this more clearly in the app but I don't think we'd support linking them directly. . That definitely makes sense. My concern with adding a direct link is it may be confusing if the invoice is linked to one project but contains tasks linked to other projects. . Sorry, I think it will break the strtotime function. \n\nDates in the m/d/y or d-m-y formats are disambiguated by looking at the separator between the various components: if the separator is a slash (/), then the American m/d/y is assumed; whereas if the separator is a dash (-) or a dot (.), then the European d-m-y format is assumed. If, however, the year is given in a two digit format and the separator is a dash (-), the date string is parsed as y-m-d.\n\nFrom: http://php.net/manual/en/function.strtotime.php. The app uses date selectors to ensure the selected date matches the correct format, the API uses YYYY-MM-DD format. \nI believe the app is currently working correctly, we just can't support this format. . We support specifying gateway fees on Settings > Online Payments. . Is this a duplicate of #2110? . Ok, thanks! . Thanks for the offer! \nWe could be open to a PR on this but it would depend on the implementation. would you be able to send a mockup of the UI changes. \n@feldsam, any thoughts? . Hmm... I'm not a fan of it breaking the blue/black convention, maybe it should be two separate panels? \nI think it'd be best if the user could select from a list of panel to display. . It's up to you.... There is already an indirect link between projects and expenses through the invoice. \nI don't think we'd want to add a direct link but we'd be open to changes to make the relationship clearer. . You can add an expense to an open invoice by making sure the client is set and then clicking 'More actions' on the edit expense page. . Thanks, understood. I guess there are a few different options:\n\n\nAdd the wood as an expense and then when invoicing the expense you could update the invoice to change it to wardrobe. This would link the expense directly to the invoice.\n\n\nAdd the wood as an expense and set the client, then create the invoice normally. With this approach they would be linked by the client. \n\n\n. Would something like this work for you? \nhttps://github.com/invoiceninja/invoiceninja/issues/2151 . Ok, great. I'll close this issue as a duplicate but I'd suggest giving the other issue an up vote. . Thanks!!. Thanks for the PR! \nI'm all for more generic code... . Thanks again, the code looks great!\n\n\nAre ClientSelectSimpleComponent.php and client_select_simple.blade.php needed now that there are generic version? \n\n\nCan you explain why the spatie/laravel-view-components is needed/can it be removed? The app already has a lot of dependancies, we're trying (where possible) not to add any more.. I'm not familiar with the @render directive but I'd be very reluctant to add entire package to support it, can this be done with plain Laravel?\n\n\nOver the years we've dealt with countless package issues, to add a new package there needs to be a serious need for it. . Sorry for the extra work but if you could handle the implementation without the package it would be greatly appreciated. . Thanks for making the change! My vote is for generic.. Thanks! If you can just remove the compose json/lock changes from the PR I'll merge it (assuming you agree it's ready).  . I'm not able to re-open it, maybe just add a link in the notes. . Thanks for the article and PR!\nI need to first follow up websiteforstudents.com to see if they'll update their article. \n. Sorry we aren't able to add the link, the original authors have sent us updated guides.. I think you may have misunderstood what I wrote. The 'original authors' are the developers who wrote the original guide that we link to, I have no doubt your guide is your original work. . Please check both the web server error log and storage/logs/laravel-error.log . From the error it looks like it's trying to load the setup page, maybe the app is failing to connect to the database? . I'd suggest access the database directly using the credentials in the .env file to check for data. . Is there data in the clients or invoices tables in the database? . Sorry, not sure... . I'm not sure...\nNote: reminders are only sent on the day matching the rule, not days past the rule. . Maybe try creating a test invoice due today and the reminder 0 days after the due date? \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Repositories/InvoiceRepository.php#L1191. Not sure I follow, only the invoice date or due date are used in the calculation. . No worries, glad to hear it's working! . If you have a specific question about the code I can try to help. . All the code for the invoice report is in this file:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/Reports/InvoiceReport.php. Sorry, I'm not sure. Maybe consider hiring a developer on upwork to help? . I'd suggest looking for someone with experience with PHP and Laravel. . Are the due dates set for the invoices? . Not sure, it seems to be working for me.\nCan you post a screenshot? . Thanks! The age is 0 because the invoice isn't due until September. . Correct, it just measures the days since the due date. It would be challenging to predict when a client will pay.. https://laravel.com/docs/5.4/mail#introduction. I think supporting Omnipay 2.x is forcing us to use an older version of Guzzle . This is supported in the user permissions. . Are there any details in the logs? What URL is being used. . Not sure... maybe double check your credentials? . It looks like the passphrase setting isn't included in the default Omnipay settings so it isn't shown on the form. We'll look into adding it... \nhttps://github.com/thephpleague/omnipay-payfast/blob/master/src/Gateway.php#L21\nThanks for your help debugging! . That looks correct to me.. Thanks for submitting the fix, we'll update our Omnipay driver with our next major version. . Is this PR complete? \nI'm away for a few days but will review/merge when I'm back... . I'll make a note to merge it into the master branch so it's included with the next release.. I'm definitely open to changes to the core code to support modules. \nEverything listed is valuable, we may want to make changes as needed by module development. . Either sounds good to me...\nIs the module installer you created ready to be listed on the readme? . Looks interesting... @turbo124 any thoughts?. Looks great, thanks!!. I'm not sure, are there any messages in the browser console?\nTry enabling \"Prevent Download\" on /settings/account_management. Thanks, that's helpful.\nWhich invoice design is selected on /settings/invoice_design, does changing it help?. The page uses AJAX to load the data once it's loaded, you can use the browser console to see the response. \nIf you want to email the raw response to contact@invoiceninja.com I can try to reproduce the problem. . You can run the update from the browser using /update (or /public/update). A common error with shared hosting is \u201copen_basedir restriction in effect\u201d, if you see this you\u2019ll need to either temporarily modify your open_basedir settings or run the update from the command line.\nhttps://invoice-ninja.readthedocs.io/en/latest/update.html. You may want to ask your webhost for help. From the error I don't think the softaculous upgrade is able to complete.. Is v4.5.3 working for you now?\nWhich version did you upgrade from? Migrations are only needed for major version changes.. Is it included on /settings/invoice_design#invoice_fields. Are you able to save any CSS changes? . Thanks for the info!. Sorry, it's not likely. Our current focus is on the new mobile app and ticketing system. We hope to spend some time improving the proposals feature in the future. . That'd be great! Here's where we get the HTML/CSS from the library\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/proposals/edit.blade.php#L108\nAnd the library itself:\nhttps://grapesjs.com/. I'm not sure, are there any related errors in storage/logs/laravel-error.log . Please check the crons are only being run once a day \nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html. @lalop can you please check that the default is daily. \nIf you set the cron to run daily the fee will only be added once. . Our app requires PHP v7, there is nothing we can do to change that. We're of course happy to help but messages like this make it hard.\nThe .env is the root folder of the project, on some systems files starting with a dot are hidden by default. . For example: /run_command?command=send-invoices&secret=xxxxxx. What does the URL you use to login to the app look like? . https://example.co.za/invoicing/public/run_command?command=send-invoices&secret=xxxxxx. These changes look great! . My preferences would be to keep the PRs as small as possible. . It's fine to leave it as it, maybe just keep it in mind for the future.\nSmaller PR's are easier to review/merge. . Let me know if I should merge this... . Can you please make one change before we merge, can you add isSelfHost checks in the list.blade file for the module related code.  . How would $1,000.00 be formatted? We can add the language in our next release.\nIf you want to add it yourself you'd need to modify the currencies table and then clear the cache by adding ?clear_cache=true to the URL. . Looks great, thanks!. Awesome, thanks again!!. We can add the new currency, how would $1,000.00 be formatted? . Can you explain, are you seeing an error?\nNote: to premaritally delete an invoice you need to purge the client record. . It isn't currently supported, one (less than ideal) workaround may be to use a custom client field.. Correct, you can get the currency id but not the name. . Nice, looks great!. A - W - E - S - O - M - E , this is huge!!! . Thanks again for all of your help! v4.6 will be a whole lot better thanks to your PRs. . This looks great, thanks again for all of your contributions!. Sorry, I think you'll need to create another PR. Thanks!!. Thanks for the PR!\nFor it to be merged please create the PR against the develop brach and add the currency name to en/texts.php . How many words is the setting for 'Name' on /settings/company_details\nIt it's only one word see if adding a second word helps. . Not sure... are you using the latest version of the app? \nYou may want to review the suggestions here:\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#troubleshooting . What output do you see when using the test script from the command line? . Maybe this will help...\nhttps://www.invoiceninja.com/forums/topic/local-phantomjs-test-works-but-still-no-email-attachements/#post-11745. Not sure... maybe using 127.0.0.1 is causing a problem? . Using the serve command may be related. Sorry. I don't have a solution. . Looks great, thanks!. Looks great, thanks!. Thanks!. Thanks!!. Maybe use a line item or a custom invoice surcharge instead? . It sounds you may have enabled 'Include taxes in the cost' on Settings > Tax Rates. \nSorry, we don't support changing this setting once invoices are created. A warning is shown in the app next to the setting. . If you create a new company you should see the option. . I'd suggest checking your earliest invoices to see if the taxes are included. . That's strange... have you made any manual changes to the database? . Try running this SQL query select inclusive_taxes from accounts;, if inclusive_taxes is set to 1 try changing it to 0. . It isn't currently supported. We support recurring PayPal billing through Braintree. \nWe don't have immediate plans to support this but will keep it in mind for the future. . I'm not sure what yii2-advanced is? \nThe error is most likely related to php v7.2, I'd guess <= v7.1 would work. . Are you sending reminders before the invoice is due? If auto billing is enabled then in general the reminder would only be sent if auto billing fails.. Are you using /tasks or the time tracker?\nIt could be a bug, it'd be helpful if you're able to re-test with our latest version. . FYI.. I think it's possible to manually modify the link to support this, here's the format:\n/account/?redirect_to=\nNot sure the best way to work this in the UI.. Here's our current plan for v2:\n- All hosted users will have a custom subdomain for each company\n- The app will run on our invoice.services domain\nWith this approach the URLs would be:\n- https://company-a.invoice.services/\n- https://company-b.invoice.services/\n. Sorry, no. We require each account user to have a unique email address.\nWe advise using an email alias. ie, user+label@example.com . Sorry, we won't be able to add this. The change would require too much effort due to our current architecture. . That's correct. Yes, that's one of the key change we're making.. Looks good, thanks!. There are no client limits (or any other artificial limits) with the self host version. \nWhen you purchase a white label license we pass along the info needed to populate the invoice. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Controllers/NinjaController.php#L300\nWhen you start a new session the app sends its current version when checking our servers for the latest version.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Http/Middleware/StartupCheck.php#L129\nWe don't want your data and take as little of it as we can.\nEdit: I thought of another place where we collect selfhost data. When you initially register the app we store the email address and name.. I think this may be a duplicate of #2240. Thanks for the PR, the code looks great!\nCan you please adjust it so the feature is only available to self host users. . Great feature, thanks again!. The change looks good, thanks! . It looks like a translator just used the English values for most of the translations, once the language is properly translated we'll add it to the app. \nhttps://www.transifex.com/invoice-ninja/invoice-ninja/translate/#lv_LV/textsphp/84707349. You'd need to restore the deleted invoices, change the numbers to values you won't use and then delete them again. . You can use any value, you just need to free up the invoice numbers . Sorry, it isn't supported . I assumed you had already tried that. Thanks for the fix!. You probably want to use getPDFString instead. Can you please clarify your second question. One option may be to use a custom design with a forced page break. . Looks great, thanks!. Thanks for the translations!\nPlease update texts in Transifex, changes to the code get overwritten.\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. Do you mean the mobile app?\nPlease create issues/feature requests here: https://github.com/invoiceninja/flutter-mobile/. Sorry, we don't plan to accept bitcoin as payment. . You should run composer install, not composer update . Sorry, we don't have immediate plans to add this. . I think this would work better as a pull request rather than a custom module. . The PR doesn't look correct. \nIt may be better to forceDelete rather than add is_deleted . Ok, thanks. In that case I think it'd be better to change the code to archive the record rather than add the is_deleted column. In the web UI we only support archiving. . This was a mistake in the design, it should be consistent across all entities. \nAgreed, please make the change in the controller not the base class. . Thanks! It looks the PR still includes many other changes, it may be easier to create a new PR. . Thanks!!. From: https://invoice-ninja.readthedocs.io/en/latest/configure.html#troubleshooting\nMaybe you need to set a value for PHANTOMJS_SECRET in the .env file?. It may be related to your specific company settings, it'd help to test with a blank new company.. Not sure... if you change the start date it would cause another invoice to be created/sent. . You should be able to run the cron every hour but you may want to try running once a day instead. . I wouldn't think so, have you installed the app multiple times? . Selfhost users are able to lock invoices\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#lock-invoices. Is the 'test' link on Settings > Email Settings working?\nThere's more info in the docs: https://invoice-ninja.readthedocs.io/en/latest/configure.html#phantomjs. I'd suggest checking for differences between dev and prod. . This feature should work if you use the develop branch, it will be included with the v4.6 selfhost release. . Thanks for the suggestion! . I haven't been able to reproduce the problem. \nis the client number feature enabled on Settings > Invoice Settings . 'Client Number' at the top. It looks like this feature is only supported for invoices, not quotes. . Each contact is sent a unique link so we\u2019re able to determine who\u2019s seen it.. - Does the attach PDF test link work on Settings > Email Settings? \n- Are there any errors generated in storage/logs/laravel-error.log. https://invoice-ninja.readthedocs.io/en/latest/configure.html#troubleshooting. It could be related to using 127.0.0.1.\nThe URL in the test script doesn't look correct. . The link should have phantomjs=true&phantomjs_secret= in it, there may be a link in storage/logs/laravel-error.log you can copy. . FYI... we support using queues for the import which should prevent the browser from locking up.\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#email-queues. Queues are used for emails and the import. . Thanks for the PR!\nI think this may cause a problem if the user decides to change the selected client before saving the invoice. \nNote: please create PRs against the develop branch. Sorry, I can't merge the code as is.\nThis would introduce a bug for all users to fix a problem seen by a subset of users. . Maybe as a custom module? . You can create contacts using the /clients route\nhttps://invoice-ninja.readthedocs.io/en/latest/api.html#creating-data. It may be possible using a custom PDF font:\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#custom-fonts. The currency can be added but the symbol wouldn't be displayed. \nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/seeds/CurrenciesSeeder.php. The symbol works here (http://pdfmake.org/playground.html) so I'm not sure why it isn't displayed. \nYou can update the file and then load /update (or /public/update) . Hard to say... we'll keep this issue in mind with v2 . The app doesn't support this format due to the use of strtotime\nFrom: http://php.net/manual/en/function.strtotime.php.\n\nDates in the m/d/y or d-m-y formats are disambiguated by looking at the separator between the various components: if the separator is a slash (/), then the American m/d/y is assumed; whereas if the separator is a dash (-) or a dot (.), then the European d-m-y format is assumed. If, however, the year is given in a two digit format and the separator is a dash (-), the date string is parsed as y-m-d.. Yes, this was a mistake we plan to fix in v2. . You can disable 'Auto convert' on /settings/invoice_settings#quote_workflow. It looks like the repo was deleted.\n\nWe'll include a fix with our next release. . One workaround is to copy the vendor folder from the self host zip rather than use composer.\nhttps://download.invoiceninja.com/. This looks like a different error. Not sure I understand, if you use the self host zip then you don't need to run composer? . You shouldn't see 'index.php' in the URL, you may need to enable mod_rewrite . I'd suggest trying to delete the credit note and add a new one. . Looks good, thanks!. Thanks for updating it, hope you've been well!. This looks like a duplicate of #2507. Agreed, we hope to improve the consistency with v2.. The file should be automatically created when the app is installed, it tracks the current version. . Thanks for the PR! What problem does it fix? . The first point sounds like a bug so we'd definitely merge a fix.\nThe second point seems also make sense. . We plan to support this functionality in v2 but I'd be reluctant to add it in v1 due to the complexity it would add to the code. . Have you considered using a custom field or surcharge? . Not sure, I'm not able to reproduce the issue. . Sorry, it isn't supported . Maybe :MONTH_NUMBER, we'd accept a pull request... . > Both would accept offsets in full days, so :DATE_YEAR+1 would give you tomorrow's calendar year \nDoes the value add days or years? The common problem with dates is updating the year if the month goes past December. . While we work on v2 we're only adding bug fixes to the online version. . We plan to rework this feature in v2. \nIt may be available in an upcoming self host release but it won't make it to our hosted platform. . It could be a permissions issue, are there any errors in the web server error logs? . Please check the error log, not the access log . Not sure, you may want to check with your web host.. Did you get the zip from GitHub?\nYou'll need to either run composer install or use the self host zip. . That's the self host zip. does vendor/autoload.php exist on your server? . - Which payment gateway are you using? \n- Is there a zip code field with a different name? \n. Glad to hear it's solved!\nSo it sounds like \"Require client to provide their billing address\" was unchecked in the payment gateway settings?. In the latest version of the app we updated to StripeJS v3 #2125. - Which version are you using?\n- Are there any details in storage/logs/laravel-error.log. What do you see if you load /update (or /public/update) . https://invoice-ninja.readthedocs.io/en/latest/update.html\n\nA common error with shared hosting is \u201copen_basedir restriction in effect\u201d, if you see this you\u2019ll need to either temporarily modify your open_basedir settings or run the update from the command line.. Sorry, custom subdomains aren't support for self host installs. \n\nTo clarify... you can use any domain/subdomain you want. We don't support multiple companies in a self host install using their own subdomain. . I'm not sure, you'd need to debug the code.\nI'd suggest setting up two separate installs of the app, one for each subdomain. . Then you don't need this setting, just use the subdomain in the APP_URL value in the .env file. What did you mean by \"add a folder with an index.php\", you shouldn't need to do this? . Those instructions are to show the client portal inside an iframe. If you want to email a sample client portal link to contact@invoiceninja.com I can review it . It looks like the iFrame feature is still enabled. \nTry adding /public to the APP_URL to match your setup (or even better map the web root to the /public folder). . It's supported, you'd need to set is_recurring to true in the request. I'd suggest referencing the invoices table to see the other fields. \nFYI: I agree the docs can be improved but shaming us on Twitter doesn't inspire me to want to help.... No worries, I can be a bit too sensitive... After working on this open source project for five years I've run into all types, it's caused me to raise my guard somewhat. . Sorry, the server side API filters/ordering is limited. \nWe plan to improve this in v2... . https://github.com/invoiceninja/invoiceninja/blob/master/app/Services/TemplateService.php#L54. Have you made any manual changes to your database? A similar issue was recently reported on our support forum.\nhttps://www.invoiceninja.com/forums/topic/self-hosted-v4-5-6-pci-compliance-logo-email-woes/. When did the problem start? . Not sure how to help. I've only heard of this one other time and it was caused by making manual changes to the database. \nThe next step would be showing this problem exists in a clean install of the app. . I'm not aware of another solution. \nThe manual instructions can be found here: \nhttps://invoice-ninja.readthedocs.io/en/latest/update.html. Sorry, I'm familiar with PhatomJS on Windows.. If you're seeing 'index.php' in the URLs that usually means you need to enable mod_rewrite.. FYI... you will run into this problem again when trying to update the app. Does your database match\nmysql> select * from frequencies;\n+----+--------------+---------------+\n| id | name         | date_interval |\n+----+--------------+---------------+\n|  1 | Weekly       | 1 week        |\n|  2 | Two weeks    | 2 weeks       |\n|  3 | Four weeks   | 4 weeks       |\n|  4 | Monthly      | 1 month       |\n|  5 | Two months   | 2 months      |\n|  6 | Three months | 3 months      |\n|  7 | Four months  | 4 months      |\n|  8 | Six months   | 6 months      |\n|  9 | Annually     | 1 year        |\n| 10 | Two years    | 2 years       |\n+----+--------------+---------------+. Maybe from an upgrade? The table will need to match exactly for the app to work. . Yes, Transifex is still being used. \nfr and fr_CA are used in the app.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/database/seeds/LanguageSeeder.php#L18. Maybe the translations was updated in Transifex after the last release was created? . I think the problem is the 'invalid_credentials' is shown before you're logged in so your account locale isn't loaded yet. You can fix it by adding APP_LOCALE=fr in the .env file. . This looks like a duplicate of #2122. FYI... we plan to add more custom fields in v2 of the app. You can change this on /settings/invoice_settings#options. Thanks for reporting it! I think there's been a problem for a while but I hadn't noticed it. . This looks like a duplicate of #1422. Have you tried adding a custom product field? . They need to be an admin . @turbo124 any thoughts on this, I remember discussing it in the past.  . Did you add it to $allowedMimes in the same file. You can disable 'auto update' in Settings > Products . Maybe it's related to HTTP / HTTPS . Maybe it's related to HTTP / HTTPS . HTTPS is recommended but not required, if it's enabled in the app it would cause a 302 on posts. . HTTPS is recommended but not required, if it's enabled in the app it would cause a 302 on posts. . Thanks, I don't think that's the issue. May be it's related to the web server config?. Thanks, I don't think that's the issue. May be it's related to the web server config?. - Are there any errors in the logs?\n\nOne solution may be to use queues to send the emails: \n\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#email-queues. - Are there any errors in the logs?\n\nOne solution may be to use queues to send the emails: \n\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#email-queues. Thanks for the PR!\n1 and 2 look good but can you please remove the change for 3. The problem is in cases where the payment isn't billed immediately (is, ACH) this would remove the fee if a client viewed the invoice before the payment was processed. . Thanks for the PR!\n1 and 2 look good but can you please remove the change for 3. The problem is in cases where the payment isn't billed immediately (is, ACH) this would remove the fee if a client viewed the invoice before the payment was processed. . Thanks! I'll need to test/review the new change. Thanks! I'll need to test/review the new change. You would need to setup multiple instances of the app.\nNote: if you are planning to reseller the app please get in contact with us. . You would need to setup multiple instances of the app.\nNote: if you are planning to reseller the app please get in contact with us. . The app supports creating multiple companies but you'd have access to both companies. . The app supports creating multiple companies but you'd have access to both companies. . Sorry, we don't have plans to support this use case. . Sorry, we don't have plans to support this use case. . I'm not able to reproduce the problem, are you able to create a screencast to demonstrate the issue? \nAlso, which version of the app are you using? . I'm not able to reproduce the problem, are you able to create a screencast to demonstrate the issue? \nAlso, which version of the app are you using? . Are there any errors in the web server error logs? . Are there any errors in the web server error logs? . How did you update the app/did you run composer install? . How did you update the app/did you run composer install? . Ok, thanks. We'll look into it... . Ok, thanks. We'll look into it... . I'm not sure, I haven't been able to reproduce the problem. . You are correct, I think I had tested a column which isn't a number. \nWe'll make sure this is fixed in our next release.. I think this is a duplicate of #2550 \nThe generated invoice should be correct, the problem only affects the preview. . Thanks! . You can increase the value for 'padding' on /settings/invoice_settings#options. resources/views/master.blade.php. I haven't been able to replicate the error, it'd be helpful to know if changing the PHP version helps. . Are there any details about the error in storage/logs/laravel-error.log. Thanks!. Are you able to post a screenshot? . It looks like you're still using the old app, have you tried the new one?\nhttps://github.com/invoiceninja/invoiceninja#mobile-apps. It isn't an update, these are two separate apps. . To be clear.. this is the app you should install:\nhttps://play.google.com/store/apps/details?id=com.invoiceninja.flutter. You'd need to add it to resources/lang/en/texts.php\nNote: we strongly recommend having us add the currency in the app otherwise when you update the app the ids may become incorrect. . Thanks, we'll include it with out next release. . Thanks! It would be helpful if you could also create a PR for this against the develop branch.. Can you post an example of using opacity with images in pdfmake?. Maybe you need to add /public in the URL? . You can add a QR code using a custom design with a custom field.\nhttps://github.com/bpampuch/pdfmake/issues/627#issuecomment-267813824. Not sure I follow... if you want to show a QR code why are you using an image tag? . The PDF library we're using will convert a text string to a QR code. . You just want to add the qr tag, I suggest resetting the design and starting over.\nvar dd =... shouldn't be in the invoice design.. You would just want to add the { qr: '6cMfy7dm' } part in the custom design, most likely changing the value to a custom field variable. . Make sure you include a comma beforehand and remove the square brackets . That should work . The app supports using queues which will retry if sending fails.\nhttps://invoice-ninja.readthedocs.io/en/latest/configure.html#email-queues. Do you see duplicates of the invoices in the client portal? . Which version of the web app are you using? . I've also seen this problem but aren't yet sure what's causing it. \nWith the latest version of the app we've added code to prevent duplicates when saving an invoice. If you upgrade and then re-save the invoice (both recurring and standard) it should remove the duplicates. . This should be fixed in the latest version (v4.5.11). Sorry, I'm not sure. Maybe test with a different email provider?. Duplicate of conversation on Slack . The main 'dotfile' is .env which isn't overwritten by the update . I'm assuming you're self hosting and using the latest version of the app?\nCan you try changing this line to: return round($duration);\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Task.php#L157. Try adding an active test invoice in a different currency, it may add the currency selector to the top of the dashboard page. . Ok, good to know. \nThe value should be null, it inherits the value from the company setting. \nAre the values different because of the difference in the date range? . Can you determine which invoice(s) are missing? \nPlease try not to make any manual changes to the database, it will break things. . Which values exactly are you comparing? The revenue total in the web dashboard uses the payment date whereas the invoice totals in the mobile app uses the invoice date. . Thanks!. It looks like you need to configure DKIM, it's not related to the app. . DKIM is enabled for your email address. \nhttps://blog.woodpecker.co/cold-email/spf-dkim/. Thanks! . Try $account.country. Hmm.. I've checked the code, it looks like the country name is only available when using a 'stack'. Have you tested an actual invoice, rather than the preview? . Feel free to create a separate issue . - Are you using the fields in the footer? \n\nIf you're self hosting do you have an active white label license? . There's more info here: https://laravel.com/docs/5.4/queues#running-the-queue-worker\n\nIf you specify 'database' then they're stored in the jobs table in the database. . Are you logged into the web app? I'd suggest testing in a different browser to view it as a client. . If the app is white labeled then we remove 'Invoice Ninja' from the title and just show 'Client Portal'. In v2 we plan to support white labeling the title and showing the relevant page. . Our translations are managed here: https://www.transifex.com/invoice-ninja. I think for some reason the contact is getting linked to the same invoice multiple times. \nI'm assuming you're making changes using the web UI? . - Does the problem affect just some invoices or all invoices? \n- Does using a different browser affect it? . Understood, if you can provide info to help replicate the problem it will help us track down the problem. . Thanks, that'e helpful. I think as a next step I'd suggest testing with the latest version. . Sorry, not sure why I'm not seeing the problem? . Thanks, that's helpful to know! \nWhich permissions does the non-admin user have?. I think I may see the problem, we'll work to include a fix with our next release. \nThanks again for the help debugging! . Here's the fix, let me know how it works for you.\nhttps://github.com/invoiceninja/invoiceninja/commit/9dd1462d6503b1b6181edddf703c86487c3f2051. Actually, hold off applying the change for now. . This is the correct code to use if you want to try manually applying the change.\nhttps://github.com/invoiceninja/invoiceninja/commit/27f0fb947436c045c63434e7f697634b98e7bef9. Great to hear, thanks for the update! \nYes, this should also resolve the multiple emails issue. . Thanks for creating the PR!\nI'm sorry, I'm not comfortable merging the changes. It may introduce other problems, we don't have enough test coverage in this area to have confidence that it won't.  This problem hasn't been reported much but I'd certainly reconsider if the problem is reported more often. . Our current plan is to only support MySQL. We initially also supported SQLite and Postgres however for performance reasons we use some custom database functions and found it was too much extra work to support it across all three platforms. . Sorry, we've already been down that path. It adds too much extra work/testing.. We're building v2 with Laravel 5.7 and will upgrade it to 5.8. \nWe aren't currently planning on upgrading the version of Laravel in v1. . Thanks for the PR! How can I trigger the error this fixes?. I'm not sure, there are some suggestion solutions here:\nhttps://stackoverflow.com/questions/31957441/laravel-general-error-1615-prepared-statement-needs-to-be-re-prepared. If the companies are linked under a single account you should be able to switch between them in the mobile and web apps. . - Have you tried removing the 'Active' filter\n- Have you made any manual changes to the database . I'm not sure, I can't replicate the problem. . Are you using the master branch or the develop branch? . Is the user an admin? . @feldsam is the feature working for you? . Ok, thanks for the update!. Thanks!!. I'm sorry, I'm not sure I understand. Do you mean you \"can't\" close the popup?. I'm not sure, can you see if using a different browser helps. . There's more info here: https://laravel.com/docs/5.4/session#introduction. This is sort of by design. When cloning an invoice the app uses the payment terms setting to determine the new due date. We don't currently support using payment terms with quotes so the field is left blank. . The translation are managed in Transifex, I suggest fixing it there . Please use the thumbs up reaction, we sort by up votes so your comment won't be factored in when we decide which features to work on. . I'm not sure, I'm having trouble reproducing the issue.\n\n\nDoes it happen every time? \n\n\nCould it be related to a browser plugin?. I'm not sure, it's the first I've heard of this problem. . I think we just need more help figuring out how to replicate the problem. . Currently the hourly rate can be auto-set by the client/project/company default task rate, I agree it'd be useful to be able to use products. . I think you'd need to change the dimensions of the logo you're using . Agreed, I've marked it as a feature request. Just explaining what you'd need to do in the meantime. . Thanks!!. Thanks @rpbx, agreed. . Please upvote the original issue... . We'd consider adding this as an optional setting... . Not sure I fully understand, are you saying the original credit is being included in the total? . One option would be to create a credit note for the original invoice (clone it and set the amount to negative) to cancel out the revenue. . The credit isn't considered revenue, it's the fact that you're creating two payments in the app. . This use case isn't well supported, the issue is marked as 'feature request' . I believe you can hide certain section by setting custom Client Portal CSS. . Are you saying you see a date as the placeholder but when saving the invoice it's blank?\n\n\nNote: the due date is determined based on the client/company  payment terms setting. . We hope to correct this in v2. Can you explain why this change is needed? . And this one... . - Is there a 'view all' option\n- In the future I assume we'd want to support per-entity settings . Minor thing but noticed the import isn't used. It may make sense to move this logic into the filterId function and pass the permission and entity type as parameters . I think this line may not be needed . Does it have an impact?. Not a big deal, it can be left as is. But, fyi... a cleaner approach may be to change the request from ClientRequest to CreateClientRequest as it would handle the authorization check. . It looks like it may show multiple errors . Why is this needed?. Thanks, understood. I'm happy to help try to find a better solution, the purpose of the code is a bit hard to understand. . You can also use the global helper bcrypt, they return the same value . For consistency it may help to always use ->all() rather than ->toArray(). Should the database be stored on the account, rather than the user?. It may makes sense to move this to the CreateUser job as anytime a user is created it should be linked to at least one company . Ok, I great! I don't think I saw the db on the account . What do you think removing __checkbox and __component:client-actions from the settings. We wouldn't want the user to be able to remove the columns so we know we can always show them.. ",
    "banago": "Perfect - thanks.\nDon't forget to update the demo app.\n. ",
    "rtorcato": "ah ok thanks I got it. Wish this had a simpler installation process.\n. ",
    "spaceemotion": "No problem ;)\n. ",
    "noahbuscher": "Cool. Just thought I'd mention it. :smile_cat: \n. ",
    "JeraNS": "Closing this issue as I think this was addressed in the latest commit? https://github.com/hillelcoren/invoice-ninja/commit/4eb56a8f8861ca32a997ef279041866894046c3f\nFeel free to re-open if I'm mistaken.\n. I would like to see this feature as well. \nAdding it to the next feature milestone.\n. Closing as I'm pretty sure this was added.\n. I think that better documentation is needed in general.\nWill try to work on this wile I am re-building for Laravel 5.\n. Documentation:\nhttps://www.invoiceninja.com/knowledgebase/\nIf anything is missing, please create a new issue.\n. Closing this issue due to inactivity.\nIf this is a wanted feature, please reopen but I'm not familiar with either of these two things.\n. Old thread but for anyone who finds it this:\nWe aim to follow the PSR-2 coding style guide. \nSee: https://www.invoiceninja.com/knowledgebase/developer-guide/\n. I don't really understand VAT or your request (I come from Australia and its very different here).\nCould you please try and explain what you are wanting to accomplish and maybe a bit more detail into what you mean?\nAs this is an old thread, I am closing it but please feel free to re-open with further explanation behind the request.\n. I'm very interested in adding this type of feature.\nWill start adding the functionality while I'm updating the user system for Laravel 5.\nShould start thinking about possible functions and the UI for this area.\n. While this is still a good feature for Invoice Ninja, I will unfortunately be unable to dedicate any time on it.\nI will still be working on other things in invoice ninja and helping with other features.\nIts just that I have to build a very custom user management system for the company I work with and therefore it wouldn't be appropriate for Invoice Ninja.\nHopefully @hillelcoren or someone else may be able to get to this feature at a later date.\n. I agree that maybe there should be some sort of locking feature.\nNeed to discuss exactly how it should be done.\nMy thoughts on possible features:\n- Individual invoice lock\n- Global invoice number lock\n- Global invoice number lock once payment is made\n. I'm not sure if there is a company like this out there that would work internationally.\nI also think that physical invoices are rapidly becoming a thing of the past.\nAlso an online wallet is a nice idea but I really don't see it being used by the end customer.\nYes there is situations where there may be one company that likes the feature but 99% of people wouldn't use it.\nMarking as wontfix and closing.\nIf there is more demand in the future, maybe we could re-open the issue and look into it again.\n. API Now has documentation: https://www.invoiceninja.com/knowledgebase/api-documentation/\n. +1 on this.\nI'd like to see the ability to add bank details to an invoice or maybe a second invoice page for payment details.\n. In regards to tracking, would could also try to integrate an email tracker that can track clicks and views.\nI know they do it in most email marketing software but I haven't actually done it myself before.\nI'm guessing it wouldn't be that hard as I think Google Analytics has some sort of API for it.\n. Both of these suggestions are talked about elsewhere.\nFollow the discussions below for future updates.\n- Paid stamp #202 \n- Lock invoice #173 \nClosing issue\n. Closing the issue as this question looks answered. \nIf there is an issue during the update, please feel free to open it again.\n. Closing because I can't replicate and the thread is inactive.\n. Closing due to inactivity.\n. Yeah, I think Confide for Laravel 5 is a bit off yet if at all.\nLots of people don't even think you need it, as some of the features a built in to L5.\nWill attempt to change everything purely to Entrust/Built in features instead.\n. Closing issue. Moving to Milestone.\nhttps://github.com/hillelcoren/invoice-ninja/milestones/Laravel%205%20\n. Looks like this will be compatible with Laravel 5.\nFeel free to merge into master and I will pull it into the L5 branch when I'm working on it next.\n. I just noted the backup validation in the controller file already. I think it may not be catching the error though. \nI also modified the code again as it wasn't working properly and I have also added in an alert msg if the DB settings are incorrect and a promp to continue if the mail settings are incorrect.\nhttps://github.com/JeramyMywork/invoice-ninja/commit/efcc92ee0e2684544895c454cf8b60aac6495553\n. Fixed in recent changes.\n. I'm going to go ahead and make a Pre-Alpha 2 Milestone and assign some github issues / feature requests I'd like to see added.\nIf you don't like anything, let me know and I'd be happy to change it.\n. I think that's a good idea, however the last commit you did was surprisingly easy to pull in.\nSee: https://github.com/hillelcoren/invoice-ninja/commit/82a97b23ab8cd074d0a0455ed4b145b228894b4c\nMind you, they where only minor changes.\n. I found a working fork of Confide in L5 ( https://github.com/impleri/confide )\nLooks like their pull requests for L5 compatibility is still pending. https://github.com/Zizaco/confide/pull/521 \nI have been using this for the moment so I can continue with the upgrade as changing user systems was taking too long. Might re-look at the user system when everything is working again.\n. Hey,\nSo I worked on this a bit more today.\nGot the initial user being created but there is two problems:\n1. The username cannot be an email. (Couldn't find where this validation happens)\n2. The user doesn't stay logged in. \nI didn't really look into why yet, as I've just been manually logging in the user on page load.\nThis way I can just keep crunching through and fixing syntax changes.\nOne other possible issue is the fact that I stopped creating a user in the \"create\" function of AccountRepository.\nDoes this function get used elsewhere?\nIf so, will this change break something?\nOn a plus, I have finally got the Dashboard page loading for me (via the manual login hack).\nSee Commit: https://github.com/hillelcoren/invoice-ninja/commit/de1a5252ecd34e07415a9b7013c5e4bf3a80c1b0 \n. Fixed in https://github.com/hillelcoren/invoice-ninja/commit/78502f74e4568e6e833eaa9ad3140cadeb428831\n. Seems to work now.\nMust have been something else causing the error message at the time.\n. Closing this issue as there is a new issue with better information. \n277\n. This Is the same issue I was having in Laravel 5. See: #276 \nMust be an actual bug in the original master branch.\nFurther Information:\nAffected File: InvoiceController\nIntroduced by: Recent pull request by @vrennert  : https://github.com/hillelcoren/invoice-ninja/pull/260\nSpecific Commit: https://github.com/hillelcoren/invoice-ninja/commit/2a6f7e00b5f14e9e36160ef5999fd3111fd88f24\n. @josespinal Just so you are aware, you can download the last stable release (v1.7.1) at:\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v1.7.1.zip\nYou can find instructions on setting up this self hosting solution at:\nhttps://www.invoiceninja.com/knowledgebase/self-host/\nIf you have any issues with this version. Please let us know.\n. What happened with this? \nI remember reading some emails about it but I can't remember the resolution. \n. I've got my designer modifying the mockups as per your suggestion when he is free next week.\nThis is going to be a fairly big change, so I'm creating a \"feature-recurring\" branch to work on this feature without affecting the main branch. This way both branches can be worked on independently without affecting eachother and I can fix any merge issues when its complete.\nSee Feature-Recurring branch here: https://github.com/hillelcoren/invoice-ninja/tree/feature-recurring\n. Our designer just did a new mock-up for the admin page.\nThis is what we are thinking: http://invis.io/WB2WGSLRP\nThe other thought would be to have the button the same but horizontal instead of vertical.\nI think he is going to modify the PDF mock-up next.\n. We can use the checkbox if you want, we did have it that way in an earlier internal mockup design but we opted for this as it is a bit more intuitive and reads better to the end user. We will have it in out version regardless so just let me know and I will can add checkboxes for you guys.\nIn regards to your second question, if we where to use that button group the label would update automatically depending on your drop down selection.\nIn regards to due date, we see that there is really two types of due dates. The initial due date for the original invoice and the due date for all recurring invoices. In our office environment we often use a longer due date for the first one but a small two week due date for all recurring invoices.\nIf you don't like the idea, just confirm you don't want it and we'll implement it in our own version instead.\nCheers :)\n. At the moment I was looking at updating some of the payment methods so that more of them support recurring payments. There are more plans but nothing else that is in the near future.\nOur app will be more aimed at a specific group of people, it won't just be a stand alone invoice system.\nIf you are sure, I will just develop the feature internally. If this is the case then I won't be able to make it pubic as I will be integrating other things into it.\n. Can't replicate after re-install.\n. Done :)\nhttps://github.com/hillelcoren/invoice-ninja/pull/288\n. Just updated the Version to say 2.0.\nWill need to update the README to mention the fact that 2.0 is still in development and the 1.7 branch is stable.\nI know its easy but I'm re-opening the issue as I'm currently walking out of the office and can't do it atm.\n. Turns out that its being caused by Configserver's Mailscanner.\nI know this is quite a popular mail scanner, so I'm a little curios as to why its only just recently started affecting the emails (worked fine pre L5).\nHere is what happens to the script tags:\n<MailScannerScript28694 script type=3D\"application/ld+json\">\n    {\n        \"@context\":\"http://schema.org\",\n        \"@type\":\"EmailMessage\",\n        \"description\":\"View your invoice\",\n        \"action\": {\n            \"@type\": \"ViewAction\",\n            \"url\": \"/invoices/2\",\n            \"name\": \"View invoice\"\n        },=20=20=20=20=20=20=20=20\n        \"publisher\": {\n            \"@type\": \"Organization\",\n            \"name\": \"Invoice Ninja\",\n            \"url\": \"https://www.invoiceninja.com\"\n        }\n    }\n</MailScannerScript28694>\nCould have been a mailscanner update or something to do with the white list.\nThis is something that I will need fixed as it would affect all 4000 of our clients.\nFeel free to ignore this and I will look into it later.\n. Don't worry about it.\nWe had a meeting today and decided to keep it as a feature of our application.\n. Thanks :+1: \n. Why not use pdfmake in nodejs instead of phantomjs?\nSurely it'd have to be faster than a headless browser instance.\nI will be making a function to allow this in the future and I'd be happy to share the code onces it done however it might need some minor tweaking to work with InvoiceNinja again\n. I'm no longer actively working on these sorts of things anymore, however it really wouldn't be that hard for someone to create a page which works similar to the editing invoice page. \nIt would generate the PDF code by visiting said page and then POST the generated invoice back to Invoice Ninja to store it in the DB and then redirect to back to the generated PDF. \nIt should be a fairly easy thing to build, it would only require about 3 additional functions and one new template file so hopefully someone else has the time to integrate this for you\n. Also, I was wondering what German laws you where referring to, as that sort of law has the potential to effect this project as well as future projects of my own.\nIs this a blanket protection law or specific to your industry?\n. Just had a quick read of the laws but from the looks of it you should still be able to send data to other countries for processing as long as the information is sent securely and follow their guidelines.\nSee: http://us.practicallaw.com/3-502-4080\nPlease forgive me if I missed anything, I can only see out of one eye today so it is a little hard to read properly.\n. ",
    "Stormcore": "There is an issue with Russian names, e.g. if I set item in invoice named \"\u0425\u043e\u043b\u043e\u0434\u0438\u043b\u044c\u043d\u0438\u043a\", in the pdf its just abracadabra because of encoding.\n. ",
    "aramboyajyan": "Sure - I will explain the points one by one:\n1. The issue with breadcrumbs was that the current mechanism worked by exploding the parts from URL: $crumbs = explode('/', $_SERVER['REQUEST_URI']);.\n   This means that if the application is accessible over /path/to/invoicing/app/public, the following breadcrumbs will be automatically created: Path / To / Invoicing / App / Public and each one of them will lead to a non-existing page, because the argument is used for constructing the link hyperlink reference (href attribute). You can see an example here.\n2. Dashboard link is there added only for convenience; it's more or less a general practice to include the \"root\" page in breadcrumb links. Plus they look kinda bare if there is only 1 link (e.g. clients/payments/etc.) :)\nHope this makes sense - let me know if I need to make point 1 more clear.\n. The dashboard link is now removed - thanks!\n. Sorry about that - should have left you do it once it's merged; I did it automatically. Just wanted to close the issue ~ mark it as solved/completed :)\n. ",
    "dbassendine": "Unfortunately, I'm still seeing this issue - even when using the recommended logo size and format (JPG 200px width by 120px height ). If I tilt back the laptop screen, you can see pixelation around whatever area within the image the logo is placed in, but not on white or transparent areas. This isn't present on the original image. So, it looks like it's the image resampling library that's causing this.\nGreat app btw - thanks very much for open-sourcing it!\n. Thanks - we're not self-hosting, we're using your hosted application. Or did I misunderstand your question?\n. Thanks Hillel - this is fixed for me now.\n. ",
    "digisocialnet": "still has the same issue. i tried deleting the lock file, vendor folder and installing again with no luck. even without the rocketeer line in composer.json it still shows  the same error.\nPHP Fatal error:  Class 'Rocketeer\\RocketeerServiceProvider' not found in /srv/users/serverpilot/apps/billing/ninja/vendor/laravel/framework/src/Illuminate/Foundation/ProviderRepository.php on line 158\n{\"error\":{\"type\":\"Symfony\\Component\\Debug\\Exception\\FatalErrorException\",\"message\":\"Class 'Rocketeer\\RocketeerServiceProvider' not found\",\"file\":\"\\/srv\\/users\\/serverpilot\\/apps\\/billing\\/ninja\\/vendor\\/laravel\\/framework\\/src\\/Illuminate\\/Foundation\\/ProviderRepository.php\",\"line\":158}}{\"error\":{\"type\":\"Symfony\\Component\\Debug\\Exception\\FatalErrorException\",\"message\":\"Class 'Rocketeer\\RocketeerServiceProvider' not found\",\"file\":\"\\/srv\\/users\\/serverpilot\\/apps\\/billing\\/ninja\\/vendor\\/laravel\\/framework\\/src\\/Illuminate\\/Foundation\\/ProviderRepository.php\",\"line\":158}}Script php artisan optimize handling the post-install-cmd event returned with an error: PHP Fatal error:  Class 'Rocketeer\\RocketeerServiceProvider' not found in /srv/users/serverpilot/apps/billing/ninja/vendor/laravel/framework/src/Illuminate/Foundation/ProviderRepository.php on line 158\n. thanks now it says: \nClass 'Monolog\\Logger' not found in /srv/users/serverpilot/apps/billing/ninja/vendor/laravel/framework/src/Illuminate/Log/LogServiceProvider.php on line 23\n{\"error\":{\"type\":\"Symfony\\Component\\Debug\\Exception\\FatalErrorException\",\"message\":\"Class 'Monolog\\Logger' not found\",\"file\":\"\\/srv\\/users\\/serverpilot\\/apps\\/billing\\/ninja\\/vendor\\/laravel\\/framework\\/src\\/Illuminate\\/Log\\/LogServiceProvider.php\",\"line\":23}}{\"error\":{\"type\":\"Symfony\\Component\\Debug\\Exception\\FatalErrorException\",\"message\":\"Class 'Monolog\\Logger' not found\",\"file\":\"\\/srv\\/users\\/serverpilot\\/apps\\/billing\\/ninja\\/vendor\\/laravel\\/framework\\/src\\/Illuminate\\/Log\\/LogServiceProvider.php\",\"line\":23}}Script php artisan optimize handling the post-install-cmd event returned with an error: PHP Fatal error:  Class 'Monolog\\Logger' not found in /srv/users/serverpilot/apps/billing/ninja/vendor/laravel/framework/src/Illuminate/Log/LogServiceProvider.php on line 23\n. Ok, this is what I had to do:\ncomposer self-update\ndelete vendor folder and lock file\ncomposer install --no-scripts\ncomposer update\nphp artisan migrate --seed\n. Yes, thank you for the help!\n. ",
    "ascariandrea": "Sorry, my fault.\n. Yes, I tried, but the VAT (or in my case PIVA) isn't a number, cause often start with a \"0\" value.\nI notice that if I put an alpha character in the tax value it displays NaN without giving me the capability to edit.\nThanks.\n. Sorry, I mean VATIN (VAT identification number).\n. ",
    "andheiberg": "Oh didn't see this issue so I double posted in #51 \nAnyway I would be willing to help build it. Is this something that would be appreciated by you @hillelcoren, or would you not merge.\n. @crawfordcomeaux perhaps.... which ones are you referring to?\nStoring the actual times and making a workflow for converting them to an invoice is what will take the most time, so it might actually take the same amount of time.\nThat being said using another service will give us integration on multiple platforms from the start. \n. ",
    "crawfordcomeaux": "There are already so many time tracking utilities out there. Would it make\nmore sense to integrate with what's out there?\nOn Sunday, March 23, 2014, Andreas Heiberg notifications@github.com wrote:\n\nOh didn't see this issue so I double posted in #51https://github.com/hillelcoren/invoice-ninja/issues/51\nAnyway I would be willing to help build it. Is this something that would\nbe appreciated by you @hillelcoren https://github.com/hillelcoren, or\nwould you not merge.\n\nReply to this email directly or view it on GitHubhttps://github.com/hillelcoren/invoice-ninja/issues/43#issuecomment-38377575\n.\n. \n",
    "RichardLindhout": "I'm also in need of this feature!\n. Nice to hear!\nI'll make a Android app base if I pass my exams next week with menu as navigation drawer \nI've already have some experience with Android apps but I've still have a lot to learn.\nRegards,\nRichard\n. Not really, however I'm planning to continue working on the app development, you can find the base of the application here https://github.com/RichardLindhout/StuurFacturen.\nIt's only the basis layout. So nothing cool so far :). \nIt would be cool if you could make a hybrid application! Please keep me updated I think HIllel is also interested in this. \nI think there's potential for the app but as much as I know does the api not support the invoice generation process. It's maybe a little tricky I think i'll consider a webview with the same javascript in the website.\nOr rewrite some things an make the PDF in native android. In hybrid apps however you could do it with javascript.\nI don't know when I'm continuing on this app because I've got some other things to do. If I continue and there's a working application which make use of some/most of the api functions I'll message you. \n. @quietkillah Correct me if I'm wrong but as far as I know you have to look up the code to get how the api works. I've already make a github issue of the documentation: https://github.com/hillelcoren/invoice-ninja/issues/193.\nAnyways I'll consider making a documentation when I'm trying it out with the android application.\n. ",
    "theoryshaw": "+1 - just for logging of hours.  Doesn't have to 'tracking' necessarily, in my mind.\n. Is this feature live on https://www.invoiceninja.com yet?  Thx.\n. Thanks Hillel for implementing. \nTask 'types' would be nice.\nAlso would be nice to have an interface similar to this\nJust for quickly entering time over the week.  The process now of creating a new task,etc.--too many buttons. \nThanks.\n. Clients seem very confused by this approach of sending two separate invoices for time and reimbursables.  \nHaving closed this issue, is there nothing in the roadmap to include both (Unit Cost/Quantity) and (Rate/Hour) on the same invoice?\n. any projections on when v3.5 will be released?. Cool!... conceptually could apply to these as well.  In that, it remembers the order. Just thought i'd log here.\n\n. Understand.  Thanks for the alternate option.  Cheers.\n. I noticed in the #186 merge there was talk about timesheet feature. \nCurious, is this in the roadmap at all?\nThanks.. Hi Hillel, curious if there's been any movement on this enhancement? :) . \ud83d\udc4d \n:). V2.0? :)\nlove you guys!. Sounds good.  Possible to log as a feature request?. Awesome...Thanks!. I have a PRO account w/ 6 users currently.\nI tried to change the email address of an existing user, but got this error...\n\n. Thanks, that did it.. \ud83d\udc4d . ...and there. :)\n\n. ...and there. :)\n\n. hmm... can't seem to get that to work. . Yeah, for me that would be too cumbersome and unwieldy to create tons of separate tasks.. +1\n... would suggest adding up anything that can be added up hours/fees\n... after using filter too. \n. Yep, cool.. Just curious, will 2.0 have the ability for more specific URLs?. very cool.. Okay.  possible to add as a feature request?   Would be very helpful for us.. So the only person who can 'flip' between companies, is the owner then?\n\n. Hi, under 2.0, will one user (one email address) have access to multiple companies?. similar to #1127, i believe as well.. ",
    "frankkoornstra": "Is this still somewhere on the timeline for future releases? A cool implementation that would work for me would be with Toggl, just a suggestion.\n. That would be awesome, thanks!\n. Great, thanks! I'll check it out this week and provide you with feedback. I am doing card payments and putting these in through the API but I think the manual payments feature would be sufficient for that. If not, you'll know this week :)\n. This is perfect! Thanks for your efforts\n. ",
    "onceatime": "is this the timesheet thing in master branch?\n. ok thx for info. looking forward for upcomming fancy stuff ;-)\n\nAm 27.05.2015 um 13:19 schrieb Hillel Coren notifications@github.com:\nNo, most of that code will be removed soon.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/hillelcoren/invoice-ninja/issues/43#issuecomment-105874422.\n. \n",
    "abinadi": "This could use a pause button. The start button turns into a stop button. When the stop button is pressed, the task is submitted. What if I need a break in the middle of a task? Pause would be so handy.\n. Absolutely one task with the total active duration. That is the nature of the pause.\nThe continue option would work as well. I envision it working something like: \n- you press the start button on the task; \n- you need a break and so you click the stop button; \n- a task is created and you are redirected to the task list; \n- you want to continue the task, so you click on the task to edit it and a button called \"continue\" is there for you to click on and the timer continues where you left off.\n. ",
    "ghost": "http://www.php.net/manual/en/mcrypt.setup.php you have to install missing php extension.\n. hey,\nI solved the issue of invoice now button not working\nthanks\n. yes\n. I am using the provided invoicing service on the Invoice Ninja website.\n. New\n. @hillelcoren May I work on this feature and Pull Request it ?\n. @javierpose I will work on it very soon, so please explain in details what do you need to be done in this feature \n. Should I resend the PR to the dev branch now?\n. Does $gateway->initialize((array) $accountGateway->getConfig()); fix this?\n. $gateway->initialize((array) $accountGateway->getConfig()); does fix it because getConfig returns an object.\nI never had any issues with the initialize method, if I pass in empty values they simply get ignored.\n. test. I second this. Even better would be\n:DATE_YEAR(YYYY-MM-DD, -30)\n:DATE_MONTH(YYYY-MM-DD, -30). #2551 . Thanks for accepting my pull request. \nI am not familiar with your development cycle - do you have any idea when/if this might be available in the online version?\nThanks,\nMathias. ",
    "Arul-": "I tried both the latest master, and https://github.com/hillelcoren/invoice-ninja/tree/v1.0.2\nBoth are getting the same error\n. It's MySQL 5.6.15\n. Thanks, will try and update soon!\n. Yes! that solved the problem. Thanks a lot for quick response and awesome tool :+1:\n. ",
    "gplv2": "I have the same problem, the missing jquery (minified + map file), I wonder if there is a more sustainable solution than to manually copy over the missing file(s).  This is an awesome laravel app and I learn a lot from it.  It might help to get it to  work right of the bat.\n. Just look up a few comments and you will see the solution.\nThis is caused by the STRICT_TRANS_TABLES SQL mode defined in the\n%PROGRAMDATA%\\MySQL\\MySQL Server 5.5\\my.ini file. Removing that setting and\nrestarting MySQL should fix the problem.\nIn case you are on linux, check the my.cnf file\n. ",
    "cusi": "I installed on my server (webhost) MySql 5.5.28 and once i visit the public url, i see:\nIlluminate \\ Database \\ QueryException\nSQLSTATE[HY000]: General error: 1364 Field 'name' doesn't have a default value (SQL: insert into accounts (ip, account_key, updated_at, created_at) values (myipadress, 92ZrvlAyfpp9AfZCRk9p1j3ATOh7M2SR, 2014-08-30 14:44:52, 2014-08-30 14:44:52))\nI am at a loss here...What can i do? Need some urgent help please.....\n. ",
    "DanielRuf": "Ok, please keep me updated.\nGenerally it is possible to use it without composer:\nhttp://stackoverflow.com/questions/22388647/how-to-use-a-php-library-with-namespacing-without-composer-as-dependency\nFor database versioning, there is also dbv: https://github.com/victorstanciu/dbv\n. Thanks for letting me know.\nStill have to do this manually (instead of having an install/setup step in Invoice Ninja) but better than nothing and people can now install it with these steps. =) Will try it in the next days.\n. Great, simplifies the usage and hurdle for managed hosting =)\n. Mh, this is not what I need. I need to change/create a template so it complies to the DIN 5008 standard.\nNormally you use a windowed letter: http://en.wikipedia.org/wiki/Windowed_envelope and the DIN 5008 standard ensures, that the address of the recipient fits into the window.\nSo normally the recipient is on the left side and the sender in the letter on the right side\nGenerally there are two forms of this standard, A and B:\nhttp://upload.wikimedia.org/wikipedia/commons/6/64/DIN_5008%2C_Form_A.svg\nhttp://upload.wikimedia.org/wikipedia/commons/0/00/DIN_5008_Form_B.svg\nCan we somehow define/change the layout easily?\n. @almereyda I switched to custom LibreOffice templates (hosting invoices on a server would not be secure enough) and Markdown templates.. ",
    "DanielKaji": "I am interested in this too. Maybe u could pin out where to make a new template? U have this 4 templates with modern, clean etc. Would be enough for me to see where it is, so that i can make a new one for my needs. \n. ",
    "almereyda": "DIN letters are a requirement for business processes in Germany.\n@DanielRuf @DanielKaji Did someone work on this?. ",
    "rollbrettler": "I've created a Dockerfile for Invoice Ninja. Right at the moment it uses the invoice-ninja repository as a submodule. I think it is easy to implement, but it also need some more testing.\n. :+1: \n. @osmanzeki this worked for me. Thanks!\n. ",
    "SinoBoeckmann": "That doesn't seem to fit.\nI've deleted all the files. Cloned a clean version of this repository.\nAnd still got those errors:\n```\n$ php artisan migrate --seed\n[Illuminate\\Database\\QueryException]                                                                                                                         \n  SQLSTATE[HY000]: General error: 1 Cannot add a NOT NULL column with default value NULL (SQL: alter table \"accounts\" add column \"work_phone\" varchar not null)  \nmigrate [--bench[=\"...\"]] [--database[=\"...\"]] [--path[=\"...\"]] [--package[=\"...\"]] [--pretend] [--seed]\n```\nI also installed \"doctrine/dbal:dev-master\" with composer just to be sure. But this doesn't help either.\nCould you send me a running and migrated  version with sqlite as standard sql driver?\n. Sry. Wrong Repo.. ",
    "delijati": "I have the same problem here and its definitely an sqlite error. Sqlite is expecting default for not Null fields. \nI've played a bit around by setting them by hand (created_at, updated_at, ...) so i was able to get the migration phase running, but i run into more errors in the seed phase.\nI think the easiest way would it be to just add a working empty production.sqlite and add a note to the installation. \nHere is a diff of what i have done:\n``` diff\ndiff --git a/app/config/database.php b/app/config/database.php\nindex c0e8564..f2213bb 100755\n--- a/app/config/database.php\n+++ b/app/config/database.php\n@@ -26,7 +26,7 @@ return array(\n    |\n    */\n\n'default' => 'mysql',\n\n'default' => 'sqlite',\n/*\n|--------------------------------------------------------------------------\ndiff --git a/app/database/migrations/2014_03_03_155556_add_phone_to_account.php b/app/database/migrations/2014_03_03_155556_add_phone_to_account.php\nindex 1de12fb..f7a7aee 100644\n--- a/app/database/migrations/2014_03_03_155556_add_phone_to_account.php\n+++ b/app/database/migrations/2014_03_03_155556_add_phone_to_account.php\n@@ -14,8 +14,8 @@ class AddPhoneToAccount extends Migration {\n{\n    Schema::table('accounts', function($table)\n    {\n-           $table->string('work_phone');\n-           $table->string('work_email');\n+           $table->string('work_phone')->default('');;\n+           $table->string('work_email')->default('');;\n    });\n}\n\n\n@@ -33,4 +33,4 @@ class AddPhoneToAccount extends Migration {\n        });\n    }\n-}\n\\ No newline at end of file\n+}\ndiff --git a/app/database/migrations/2014_03_20_200300_create_payment_libraries.php b/app/database/migrations/2014_03_20_200300_create_payment_libraries.php\nindex d4c7855..574b416 100644\n--- a/app/database/migrations/2014_03_20_200300_create_payment_libraries.php\n+++ b/app/database/migrations/2014_03_20_200300_create_payment_libraries.php\n@@ -23,8 +23,14 @@ class CreatePaymentLibraries extends Migration {\n             $t->boolean('visible')->default(true);\n         }); \n\nDB::table('payment_libraries')->insert(['name' => 'Omnipay']);\nDB::table('payment_libraries')->insert(['name' => 'PHP-Payments']);\nDB::table('payment_libraries')->insert(['name' => 'Omnipay',\n'created_at' => 'Sun, Feb 2, 2014 7:17 PM',\n'updated_at' => 'Sun, Feb 2, 2014 7:17 PM']\n);\nDB::table('payment_libraries')->insert(['name' => 'PHP-Payments',\n'created_at' => 'Sun, Feb 2, 2014 7:17 PM',\n'updated_at' => 'Sun, Feb 2, 2014 7:17 PM']\n);Schema::table('gateways', function($table)\n{\n\n@@ -58,4 +64,4 @@ class CreatePaymentLibraries extends Migration {\n     Schema::dropIfExists('payment_libraries');\n}\n\n\n-}\n\\ No newline at end of file\n+}\ndiff --git a/app/database/migrations/2014_03_25_102200_add_sort_and_recommended_to_gateways.php b/app/database/migrations/2014_03_25_102200_add_sort_and_recommended_to_gateways.php\nindex 535636f..c075582 100644\n--- a/app/database/migrations/2014_03_25_102200_add_sort_and_recommended_to_gateways.php\n+++ b/app/database/migrations/2014_03_25_102200_add_sort_and_recommended_to_gateways.php\n@@ -14,9 +14,13 @@ class AddSortAndRecommendedToGateways extends Migration {\n    { \n        Schema::table('gateways', function($table)\n        {\n-           $table->unsignedInteger('sort_order')->default(10000);\n-           $table->boolean('recommended');\n-           $table->string('site_url', 200);\n+            if (!Schema::hasColumn('gateways', 'sort_order'))\n+            {\n+               //$table->dropColumn('sort_order');\n+                $table->unsignedInteger('sort_order')->default(10000);\n+            }\n+           $table->boolean('recommended')->default(0);\n+           $table->string('site_url', 200)->default('');\n        });\n    }\ndiff --git a/app/database/migrations/2014_04_03_191105_add_pro_plan.php b/app/database/migrations/2014_04_03_191105_add_pro_plan.php\nindex 05f74eb..8506822 100644\n--- a/app/database/migrations/2014_04_03_191105_add_pro_plan.php\n+++ b/app/database/migrations/2014_04_03_191105_add_pro_plan.php\n@@ -14,7 +14,7 @@ class AddProPlan extends Migration {\n    {\n        Schema::table('accounts', function($table)\n        {\n-           $table->date('pro_plan_paid');\n+           $table->date('pro_plan_paid')->default('Sun, Feb 2, 2014 7:17 PM');\n        });   \n    }\ndiff --git a/app/database/migrations/2014_04_17_145108_add_custom_fields.php b/app/database/migrations/2014_04_17_145108_add_custom_fields.php\nindex ac88c40..6177aef 100644\n--- a/app/database/migrations/2014_04_17_145108_add_custom_fields.php\n+++ b/app/database/migrations/2014_04_17_145108_add_custom_fields.php\n@@ -14,20 +14,20 @@ class AddCustomFields extends Migration {\n    {\n        Schema::table('accounts', function($table)\n        {\n-           $table->string('custom_label1');\n-           $table->string('custom_value1');\n+           $table->string('custom_label1')->default('');\n+           $table->string('custom_value1')->default('');\n\n$table->string('custom_label2');\n$table->string('custom_value2');\n$table->string('custom_label2')->default('');\n\n$table->string('custom_value2')->default('');\n\n\n$table->string('custom_client_label1');         \n\n$table->string('custom_client_label2');\n$table->string('custom_client_label1')->default('');            \n$table->string('custom_client_label2')->default('');\n        }); Schema::table('clients', function($table)\n{\n\n\n$table->string('custom_value1');\n$table->string('custom_value2');\n$table->string('custom_value1')->default('');\n$table->string('custom_value2')->default('');\n    });\n}\n\n\n\ndiff --git a/app/database/migrations/2014_04_29_174315_add_advanced_settings.php b/app/database/migrations/2014_04_29_174315_add_advanced_settings.php\nindex 589bc6a..2e80a1e 100644\n--- a/app/database/migrations/2014_04_29_174315_add_advanced_settings.php\n+++ b/app/database/migrations/2014_04_29_174315_add_advanced_settings.php\n@@ -14,8 +14,8 @@ class AddAdvancedSettings extends Migration {\n    {\n        Schema::table('accounts', function($table)\n        {\n-           $table->string('primary_color');\n-           $table->string('secondary_color');\n+           $table->string('primary_color')->default('');\n+           $table->string('secondary_color')->default('');\n        });\n    Schema::table('payments', function($table)\n\ndiff --git a/app/database/migrations/2014_05_17_175626_add_quotes.php b/app/database/migrations/2014_05_17_175626_add_quotes.php\nindex 5079117..6299ad1 100644\n--- a/app/database/migrations/2014_05_17_175626_add_quotes.php\n+++ b/app/database/migrations/2014_05_17_175626_add_quotes.php\n@@ -14,7 +14,7 @@ class AddQuotes extends Migration {\n    {\n        Schema::table('invoices', function($table)\n        {\n-           $table->boolean('is_quote');          \n+           $table->boolean('is_quote')->default(0);          \n            $table->unsignedInteger('quote_id')->nullable();\n            $table->unsignedInteger('quote_invoice_id')->nullable();          \n        });\ndiff --git a/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php b/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php\nindex d055e4e..0f97ef6 100644\n--- a/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php\n+++ b/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php\n@@ -14,23 +14,23 @@ class SupportHidingQuantity extends Migration {\n    {\n        Schema::table('accounts', function($table)\n        {\n-           $table->boolean('hide_quantity');\n-           $table->boolean('hide_paid_to_date');\n+           $table->boolean('hide_quantity')->default(0);\n+           $table->boolean('hide_paid_to_date')->default(0);\n\n$table->string('custom_invoice_label1');\n$table->string('custom_invoice_label2');            \n$table->string('custom_invoice_label1')->default('');\n\n$table->string('custom_invoice_label2')->default('');           \n\n\n$table->boolean('custom_invoice_taxes1');\n\n$table->boolean('custom_invoice_taxes2');\n$table->boolean('custom_invoice_taxes1')->default(0);\n\n$table->boolean('custom_invoice_taxes2')->default(0);\n        });\nSchema::table('invoices', function($table)\n{\n\n\n$table->decimal('custom_value1', 13, 2);\n$table->decimal('custom_value2', 13, 2);\n$table->decimal('custom_value1', 13, 2)->default(0);\n$table->decimal('custom_value2', 13, 2)->default(0);\n\n\n\n$table->boolean('custom_taxes1');\n\n$table->boolean('custom_taxes2');           \n$table->boolean('custom_taxes1')->default(0);\n$table->boolean('custom_taxes2')->default(0);         \n        });   \n    }\n\ndiff --git a/app/database/production.sqlite b/app/database/production.sqlite\nold mode 100755\nnew mode 100644\nindex 4380c89..04c9aed\nBinary files a/app/database/production.sqlite and b/app/database/production.sqlite differ\n```\n. ",
    "andrenam": "There are still (or new) issues with SQLite in the latest master branch:\n```\n$php artisan migrate --seed\n[Illuminate\\Database\\QueryException]                                                                    \n  SQLSTATE[HY000]: General error: 1 Cannot add a NOT NULL column with default value NULL (SQL: alter table\n   \"invoices\" add column \"custom_value1\" float not null)\n```\nAfter changing the following things:\n```\ndiff --git a/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php b/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php\nindex 5a8ed68..c7104ef 100644\n--- a/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php\n+++ b/app/database/migrations/2014_07_17_205900_support_hiding_quantity.php\n@@ -26,11 +26,11 @@ class SupportHidingQuantity extends Migration {\n            Schema::table('invoices', function($table)\n            {\n\n\n$table->decimal('custom_value1', 13, 2);\n$table->decimal('custom_value2', 13, 2);\n$table->decimal('custom_value1', 13, 2)->default(0);\n\n$table->decimal('custom_value2', 13, 2)->default(0);\n\n\n$table->boolean('custom_taxes1');\n\n$table->boolean('custom_taxes2');                       \n$table->boolean('custom_taxes1')->default(0);\n$table->boolean('custom_taxes2')->default(0);                 \n                });           \n        }\n```\n\nand resetting the production.sqlite database (and rolling back all migrations using php artistan migrate:reset,\n I got this message:\n```\n$ php artisan migrate --seed\nMigrated: 2013_11_05_180133_confide_setup_users_table\nMigrated: 2013_11_28_195703_setup_countries_table\nMigrated: 2014_02_13_151500_add_cascase_drops\nMigrated: 2014_02_19_151817_add_support_for_invoice_designs\nMigrated: 2014_03_03_155556_add_phone_to_account\nMigrated: 2014_03_19_201454_add_language_support\nMigrated: 2014_03_20_200300_create_payment_libraries\nMigrated: 2014_03_23_051736_enable_forcing_jspdf\nMigrated: 2014_03_25_102200_add_sort_and_recommended_to_gateways\nMigrated: 2014_04_03_191105_add_pro_plan\nMigrated: 2014_04_17_100523_add_remember_token\nMigrated: 2014_04_17_145108_add_custom_fields\nMigrated: 2014_04_23_170909_add_products_settings\nMigrated: 2014_04_29_174315_add_advanced_settings\nMigrated: 2014_05_17_175626_add_quotes\nMigrated: 2014_06_17_131940_add_accepted_credit_cards_to_account_gateways\nMigrated: 2014_07_13_142654_one_click_install\nMigrated: 2014_07_17_205900_support_hiding_quantity\nMigrated: 2014_07_24_171214_add_zapier_support\nMigrated: 2014_10_05_141856_track_last_seen_message\nMigrated: 2014_10_06_195330_add_invoice_design_table\nMigrated: 2014_10_13_054100_add_invoice_number_settings\nRunning DatabaseSeeder\nSeeded: UserTableSeeder\n[Illuminate\\Database\\QueryException]                                                                         \n  SQLSTATE[23000]: Integrity constraint violation: 19 NOT NULL constraint failed: gateways.created_at (SQL: ins\n  ert into \"gateways\" (\"name\", \"provider\") values (Authorize.Net AIM, AuthorizeNet_AIM))                       \n```\n. You're welcome. Thanks for your fast reaction :)\n. ",
    "dwstevens": "Agreed, the Harvest workflow is great. I posted a similar issue in #43. Time tracking should be the easiest simplest non-intrusive function. The ability to apply time entries to projects and clients at a later time would is a great workflow feature.\n. ",
    "pierrefaure": "Ups, I think I edited /en/fields.php and not /fr/fields.php \n. You're welcome ;)\n. ",
    "oinak": "I just saw https://github.com/caouecs/Laravel4-lang/blob/master/es/ with almost same texts and some subtle differences, maybe it's beter to use those?\n. ",
    "hardikdangar": "invoice now button doesn't work somehow. when i click it does nothing. i checked the live site it opens the invoice page.\nlooks like bower didn't install something. it complained to me that it is confused about which jquery version to use. it provided me options like jquery 1.8, 1.9, 2.0 ( don't remember the exact details) but i chose the 1.x option\nthat could be the problem ?\n. ",
    "cristoslc": "I've installed a test on my server but when I click on \"Invoice Now\", nothing happens for me either. Same problem with Bower install, but I took one of the packages that resolved to 2.1.x instead of a 1.x option.\nWhat is the appropriate jQuery package to install?\n. Disabling debugging seems to have done it. Firebug console suggests the issue was related to interference with jquery (e.g., got \"$ not declared\" in log), but I was able to successfully use the site with both jquery#1.9.1 and jquery#2.1.0 after disabling debugging in app/config/app.php.\nLet me know if you would like a more detailed bug report and I can put together some screenshots of my firebug console while the issue is occurring.\n. ",
    "Djyp": "Hi and thanks everyone for your feedbacks.\nI tried different versions of jQuery and I finally found out that the error came from the views...\nIn master.blade.php, line 22 there's :\n\nThe downloaded jQuery package was more like :\n\nThere's a /dist folder... So chrome just didn't know how to interpet the $ function\nHope this is helping\n. ",
    "Dobbler": "I've just added mine to the \"Invoice Terms\" box along with some payment options and it all shows up on the invoice.. Easiest way around it in the short term.\n. ",
    "derouck": "This would indeed be very useful, if not necessary in most countries. It should probably become an extra field in the Company Details and in the Client Details, with the possibility to get both shown on invoices.\n. @hillelcoren I had a look and the translation I made was already fixed in transifex I think. Can't find \"is gezonden\" in the dutch version. Maybe the application is not running the latest version yet?\n. Oke, great :)\n. ",
    "adamellsworth": "No luck. Regardless, after looking into it it's clearly not an invoice-ninja issue so I'll close it and look for a solution elsewhere. Thanks for the help!\n. ",
    "arvindkumarc": "Remove your ~/.composer folder contents. Then execute the install command again. \n. ",
    "jartaud": "But all users have the same privileges/roles.\n. ",
    "huglester": "I can add, that in Lithuania similar approach is used. For example:\nUser needs to pay in advance for domain to renew, we send him an email. if he is not going to pay, invoice is abandoned and domain not renewing. but if user pays for the invoice, it get the new invoice, the 'original' one with original numbering. \nAnd yes, numbering for those 'proforma' invoices is different...\n. ",
    "rjd22": "@hillelcoren I was checking out invoice-ninja since this has been implemented but I think this has not been implemented properly.\nPro-forma invoices are different from quotes. When you issue a pro-forma invoice I would expect the following behaviour:\n- A pro-forma invoice can be paid\n- When it has been paid it will be converted to normal invoice.\n- It need to be possible to add recurring of a pro-forma invoice.\nI'm not completely sure but the above seems not possible right now.\n. @hillelcoren In the hosting business like explained above we have a lot of recurring clients that may or may not pay. They already approved the subscription so they don't need to approve the new pro-forma invoices.\nThere is a difference between pro-forma invoices and quotes in that sense since pro-forma invoices are mostly used for subscriptions.\n. ",
    "Stordia": "+1 \n. +1\n. @hillelcoren Thank you for your quick response! \nI made some changes in build.js file and now is supporting my custom fields and more... \nThanx!\n. @hillelcoren Thank you !\nI have see that but unfortunetly there is no VivaPayments !\nCan you help me create the driver or give me some directions from where to start ?\n. Also i wish to pay for the one year License just for the support on the project, but first i need to find out all the features of Invoice Ninja and finishing the translation in Greek language.\nI use the self-host edition.\n. I have made this step... but i can't find the custom values for Client.\n. @hillelcoren,\nWhen i remove the prefix and i am in test mode : PayPal Express: There was an error processing your payment. Please try again later.\nBut with test mode disabled there is a redirection in Paypal asking for Credentials to pay...\n. When i test the same but with English characters as : TPYA200323 is working as expected.\nThe problem is on Greek characters or in some UTF-8 encoding ?\n. Hi @hillelcoren,\nI cannot see the (clients.address2) and one field that i have add in the js file.\nPS: i see that in admin view pdf, before send it to client.\n. Ok here we are! \nbuilt.js :\n```\nNINJA.decodeJavascript = function(invoice, javascript) {\n  var json = {\n    \"clientBalance\": NINJA.clientBalance(invoice),\n  }\n}\nNINJA.clientBalance = function(invoice) {\n  var client = invoice.client;\n  var data;\n  if (!client) {\n    return;\n  }\n  data = [\n    {text: formatMoneyInvoice(client.balance, invoice)}\n  ];\n  return NINJA.prepareDataList(data, \"clientBalance\");\n}\n```\n...and in invoice designer \n\"text\": $clientBalance\nWhat file is rendering when previewing the PDF in admin and what in the client invitation ?\n. @hillelcoren Thank you for the information! \nI can't find anywhere how can i align the currency symbol, \nin admin pdf view is 10,00 \u20ac (this is what we wan't)\nand in client pdf view is \u20ac10,00\n. @hillelcoren, Thank you very much for the information ! \nAbout the Currency symbol, we are ok now.\nAbout the $clientBalance added in the invoice, not !\nIn the admin view of the invoice is working normal and shows the client balance amount.\nIn the client view shows 0,00 \u20ac.\nCan you help a little ?\n. Nope  !\nNothing showing up that way... \nIn \\resources\\views\\invoices\\view.blade.php added the code :\n<pre>{!! $invoice->client->balance !!}</pre> \nand it shows me the Balance of the client but in PDF not !!\n. @turbo124 Thank you for your answer.\nWhat file can we touch for invoices API?. ",
    "wimg": "Any news on this feature ? There's quite a lot of our customers that would need this feature and this is one of the reasons why we can't switch them to Invoiceninja.. Thanks\n. This was indeed the problem. However, shouldn't the configuration screen prevent you from saving if the fields are not entered properly ? In my case, MAIL_USERNAME, MAIL_FROM_NAME and a few others were empty...\nThanks\n. The token is correct. I've verified that it matches the one in the database.\nAlso, to be clear, I do get to the form asking me to enter a new password. But when I submit that form (which still happens with the same token), I get the message telling me the password reset token is invalid.\n. The token is correct. I've verified that it matches the one in the database.\nAlso, to be clear, I do get to the form asking me to enter a new password. But when I submit that form (which still happens with the same token), I get the message telling me the password reset token is invalid.\n. It appears the password broker isn't set in vendor/laravel/framework/src/Illuminate/Foundation/Auth/ResetsPasswords.php in the reset method.\n$broker = $this->getBroker();\nreturns NULL\n. It appears the password broker isn't set in vendor/laravel/framework/src/Illuminate/Foundation/Auth/ResetsPasswords.php in the reset method.\n$broker = $this->getBroker();\nreturns NULL\n. Ignore the comment on Rijndael I sent before. That didn't fix it after all..\n. Ignore the comment on Rijndael I sent before. That didn't fix it after all..\n. After running composer update, the problem is gone. It seems either an older or newer version of a package is causing it to fail.\n. After running composer update, the problem is gone. It seems either an older or newer version of a package is causing it to fail.\n. Ah that's good to know. Thanks.\n. Where do I get the invitation_key ?\n. /view/{invitation_key} works fine\n/download/{invitation_key} gives an HTTP 500 error with nothing in the logs - very odd\n. Could there be something disabling error logging ?\n. The access log shows 500, the error log shows nothing.\nIf I add\nwhatever();\nto public/index.php\nI get an error in the error log. But nothing with the /download/{invitation_key}\nVery very odd...\n. Aha that gives a little more :\nproduction.ERROR: exception 'UnexpectedValueException' with message 'The Response content must be a string or object implementing __toString(), \"boolean\" given.' in /web/content/invoiceninja-external.lcl.be/vendor/symfony/http-foundation/Response.php:397 Stack trace: #0 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Http/Response.php(56): Symfony\\Component\\HttpFoundation\\Response->setContent(false) #1 /web/content/invoiceninja-external.lcl.be/vendor/symfony/http-foundation/Response.php(199): Illuminate\\Http\\Response->setContent(false) #2 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/Router.php(1087): Symfony\\Component\\HttpFoundation\\Response->__construct(false) #3 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(95): Illuminate\\Routing\\Router->prepareResponse(Object(Illuminate\\Http\\Request), false) #4 [internal function]: Illuminate\\Routing\\ControllerDispatcher->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #5 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #6 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #7 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #8 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(96): Illuminate\\Pipeline\\Pipeline->then(Object(Closure)) #9 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(54): Illuminate\\Routing\\ControllerDispatcher->callWithinStack(Object(App\\Http\\Controllers\\PublicClientController), Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'download') #10 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/Route.php(174): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'App\\Http\\Contro...', 'download') #11 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/Route.php(140): Illuminate\\Routing\\Route->runController(Object(Illuminate\\Http\\Request)) #12 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/Router.php(724): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request)) #13 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #14 /web/content/invoiceninja-external.lcl.be/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #15 /web/content/invoiceninja-external.lcl.be/app/Http/Middleware/Authenticate.php(69): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #16 [internal function]: Ap\n. I didn't know the phantomjscloud.com key was required for the PDF download, so I hadn't set it up. It seems that if you don't set it up, you get that 500 error. Might need a simple check there ;-)\nAlso, is there a way to do this without phantomjscloud with a local phantomjs installation ?\n. I tried fixing the same issue with the built.js becoming empty. I installed bower, ran the install, installed gulp, but when I run gulp, I get :\n`module.js:471\n    throw err;\n    ^\nError: Cannot find module 'laravel-elixir'\n    at Function.Module._resolveFilename (module.js:469:15)\n    at Function.Module._load (module.js:417:25)\n    at Module.require (module.js:497:17)\n    at require (internal/module.js:20:19)\n    at Object. (/web/content/invoiceninja.staging.lcl.be/gulpfile.js:1:76)\n    at Module._compile (module.js:570:32)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n`. Looks like gulp will work now, but grunt outputs :\n\n\nSource file \"public/vendor/jquery/dist/jquery.js\" not found.\nSource file \"public/vendor/jquery-ui/jquery-ui.min.js\" not found.\nSource file \"public/vendor/bootstrap/dist/js/bootstrap.min.js\" not found.\nSource file \"public/vendor/datatables/media/js/jquery.dataTables.js\" not found.\nSource file \"public/vendor/datatables-bootstrap3/BS3/assets/js/datatables.js\" not found.\nSource file \"public/vendor/knockout.js/knockout.js\" not found.\nSource file \"public/vendor/knockout-mapping/build/output/knockout.mapping-latest.js\" not found.\nSource file \"public/vendor/knockout-sortable/build/knockout-sortable.min.js\" not found.\nSource file \"public/vendor/underscore/underscore.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.de.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.da.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.pt-BR.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.nl.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.fr.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.it.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.lt.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.no.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.es.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.sv.min.js\" not found.\nSource file \"public/vendor/dropzone/dist/min/dropzone.min.js\" not found.\nSource file \"public/vendor/typeahead.js/dist/typeahead.jquery.min.js\" not found.\nSource file \"public/vendor/accounting/accounting.min.js\" not found.\nSource file \"public/vendor/spectrum/spectrum.js\" not found.\nSource file \"public/vendor/jspdf/dist/jspdf.min.js\" not found.\nSource file \"public/vendor/moment/min/moment.min.js\" not found.\nSource file \"public/vendor/moment-timezone/builds/moment-timezone-with-data.min.js\" not found.\nSource file \"public/vendor/stacktrace-js/dist/stacktrace-with-polyfills.min.js\" not found.\nSource file \"public/vendor/fuse.js/src/fuse.min.js\" not found.\nSource file \"public/vendor/sweetalert/dist/sweetalert.min.js\" not found.\nSource file \"public/js/bootstrap-combobox.js\" not found.\nSource file \"public/js/script.js\" not found.\nSource file \"public/js/pdf.pdfmake.js\" not found.\nFile public/built.js created.\n. The output of bower install is :\nbower                     invalid-meta for:/web/content/--scrambled--/bower.json\nbower                     invalid-meta The \"name\" is recommended to be lowercase, can contain digits, dots, dashes\n\n\nThe output of grunt remains the same though. 'bower install' doesn't give any errors anymore, but grunt still shows the following (and built.js is still empty) :\n`Running \"concat:js\" (concat) task\n\n\nSource file \"public/vendor/jquery/dist/jquery.js\" not found.\nSource file \"public/vendor/jquery-ui/jquery-ui.min.js\" not found.\nSource file \"public/vendor/bootstrap/dist/js/bootstrap.min.js\" not found.\nSource file \"public/vendor/datatables/media/js/jquery.dataTables.js\" not found.\nSource file \"public/vendor/datatables-bootstrap3/BS3/assets/js/datatables.js\" not found.\nSource file \"public/vendor/knockout.js/knockout.js\" not found.\nSource file \"public/vendor/knockout-mapping/build/output/knockout.mapping-latest.js\" not found.\nSource file \"public/vendor/knockout-sortable/build/knockout-sortable.min.js\" not found.\nSource file \"public/vendor/underscore/underscore.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.de.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.da.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.pt-BR.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.nl.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.fr.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.it.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.lt.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.no.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.es.min.js\" not found.\nSource file \"public/vendor/bootstrap-datepicker/dist/locales/bootstrap-datepicker.sv.min.js\" not found.\nSource file \"public/vendor/dropzone/dist/min/dropzone.min.js\" not found.\nSource file \"public/vendor/typeahead.js/dist/typeahead.jquery.min.js\" not found.\nSource file \"public/vendor/accounting/accounting.min.js\" not found.\nSource file \"public/vendor/spectrum/spectrum.js\" not found.\nSource file \"public/vendor/jspdf/dist/jspdf.min.js\" not found.\nSource file \"public/vendor/moment/min/moment.min.js\" not found.\nSource file \"public/vendor/moment-timezone/builds/moment-timezone-with-data.min.js\" not found.\nSource file \"public/vendor/stacktrace-js/dist/stacktrace-with-polyfills.min.js\" not found.\nSource file \"public/vendor/fuse.js/src/fuse.min.js\" not found.\nSource file \"public/vendor/sweetalert/dist/sweetalert.min.js\" not found.\nSource file \"public/js/bootstrap-combobox.js\" not found.\nSource file \"public/js/script.js\" not found.\nSource file \"public/js/pdf.pdfmake.js\" not found.\nFile public/built.js created.\n\n\nDone, without errors.\n`. Definitely a chance on the manual deletion... we had to delete things from the client table after a migration ran twice.. Any way to fix this ?. OK feel free to ignore this one. Turns out that environment had a bad .env file, meaning it wasn't using phantomjs properly. Sorry about that.. Same error ;-). I'm running the latest version of InvoiceNinja on PHP 7.0 and MariaDB 10.1.21. Tried that, but that gives me the following error :\n\n[2018-05-13 17:03:32] production.ERROR: ErrorException [0] : /web/content/xxx/app/Http/Controllers/ReportController.php [Line 215] => Undefined offset: 0  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"My Name\",\"method\":\"POST\",\"url\":\"http://the-url/reports\",\"previous\":\"http://the-url/reports\",\"user_agent\":\"Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"ip\":\"192.168.0.6\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n\nMore details :\n2018-05-13 05:03:32 Undefined offset: 0: #0 /web/content/xxx/app/Http/Controllers/ReportController.php(215): Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(8, 'Undefined offse...', '/web/content/in...', 215, Array)\n1 [internal function]: App\\Http\\Controllers\\ReportController->App\\Http\\Controllers{closure}(Object(Maatwebsite\\Excel\\Classes\\LaravelExcelWorksheet))\n2 /web/content/xxx/vendor/maatwebsite/excel/src/Maatwebsite/Excel/Writers/LaravelExcelWriter.php(239): call_user_func(Object(Closure), Object(Maatwebsite\\Excel\\Classes\\LaravelExcelWorksheet))\n\n. I tried upgrading to the latest version, but I'm having serious issues such as fields that suddenly don't work anymore on the PDF and the logo on the PDF being missing.. \n",
    "theDevelopersRO": "We are planning to build this custom feature. I will keep you updated. \nIf you are interested to find out more, reach out to hello@thedevelopers.ro. ",
    "Swerone": "1+ for this feature. 1+ for this feature, In Sweden we have an Offline Payment Gateway called Swish.\nWould be awesome to be able to add more offline gateways.\nLike 3 fields are required.\n1. Custom payment gateway title\n2. Custom payment status, (like able to add \"Awaiting Swish Payment\")\n3. Custom message with payment instructions.\nAnd then just add some variables %order_number% will be replaced with order reference, %total% - total amount, %due_date% - due date, %invoice_number% replace with the invoice number.\nCould be a solution on my request\nhttps://github.com/invoiceninja/invoiceninja/issues/2001. This is Airtable, they have a very good grouping filtering and soring function.\nThe ability to make custom reports is also something interesting.\n\n\n. But then it does not show my the most sold product, instead, it shows how many each client has bought.\nOr am i wrong?. I know and that's what I did, but I think the feature request is not a bad idea.\nLike how many X products have I sold this week, or has y sold better that z\nKeep up the good work guys :). Thanks for all the work you put down guys :). ",
    "codeagencybe": "Is this feature pro-forma invoices already available now or not? . Nice suggestion! Yes I would also love to see that. . Yes agree! optional lines are very interested to use on quotations. \nI have the problem with my quotes for web design services where we add optional products or services  to clients. \nNow we need to discuss/email back and forth all the time until we reach the final version. \nIt would be very convenient if a quotation can show a separate \"block\" at the bottom with Optional products and/or services. \nClients can select themselves which options they would like to order additionally, and thus make the final version themselve. When ready they can accept and pay for what they choosen themselves. \nThis makes everything a very nice and comfortable workflow for us and also the client. . ",
    "probastaller": "Is this on the roadmap  of V2 to be implemented?. ",
    "valdiks": "I need this feature too.. ",
    "Domotoc": "and if i take autoload.php from bootstrap for copy in vendor, i have: \nFatal error: Allowed memory size of 134217728 bytes exhausted (tried to allocate 7680 bytes) in /home/creatix/www/Geoffroy/ninja/vendor/autoload.php on line 17\n:) (my serveur (always data) = 128M) it's not ok ?\n. Hello,\nThank you for the reply. \nNot find any installer. So I had to miss a step. \nI installed on a server at Alwaysdata. \nOn the ftp, I copied all the files. \nI created the database with the structure. \nI configured the database file \nAnd that's all :) \nTherefore not seen or used setup: (\nWhere is the setup? \nThank you! :)\n. Great new for version  \"all inclusive\" :) \nYou think it out soon? \nThank you for your help and good luck.\n. ok good luck and thanks ;) \n. Simple question, you have not a image of a clean installation of debian (or unbutu, etc) with invoice ninja loaded ? juste for wait the \"all inclusive version\" :) ?\n(I started my company this month and I have to send my first bill :))\nI think for newbie like me it would be great. LOL ;)\n. yep, thanks ;)\nGood job for last version.\n. ",
    "jleroy": "Hi @Dixens,\nThank you for your work :)\nHowever, I disapprove the addition of \"(e)\" to words that can refer to both men and women. That's grammatically incorrect in french: when a word refer to both masculine and feminine objects, the masculine form \"win\".\nI suggest to revert these changes.\n. ",
    "Dixens": "Thanx @jleroy. Feel free to disapprove. But please note your feedback is misleading: it is certainly not \"grammatically incorrect\" (\"incorrect\" is, well, incorrect here). Bear also in mind context and nature of the texts, as every translator should do. In any case, another French translation has already been approved and the present commit has therefore been irrelevant since.\n. Hi Hillel,\nGot the same message on a fresh install today (complete with the remember_token field and methods) :\nSymfony \\ Component \\ Debug \\ Exception \\ FatalErrorException\nClass Zizaco\\Confide\\ConfideUser contains 3 abstract methods and must therefore be declared abstract or implement the remaining methods (Illuminate\\Auth\\UserInterface::getRememberToken, Illuminate\\Auth\\UserInterface::setRememberToken, Illuminate\\Auth\\UserInterface::getRememberTokenName)\nReran the whole thing (pull/migrate -> nothing to migrate / composer install -> Nothing to install or update), same error message.\nThank you\n. ... never mind, it is sorted out. For some reason, my Zizaco/Confide/ConfideUser.php did not have new reference to UserInterface in Token related methods. Sorry about the fuss.\n. (I sent you my feedback in the same time you sent yours) No problem: I just updated Zizaco/Confide/ConfideUser.php and it worked perfectly OK. Thanks.\n. ",
    "tsanyqudsi": "Fixed that by adding remember_token of VARCHAR(100), TEXT, or equivalent to your users table.\nfurther info http://laravel.com/docs/upgrade\n. Case Closed... \nI forgot to flush the cache.. :angry: \n. oh thanks for the quick response btw.. \n. ErrorException in InvoiceRepository.php line 306:\nUndefined index: cost\nAlso happened, when will the newest update will be available ? i can't even send invoices.\n. Or should i issue a refund ?\n. It's happening on the app.\nSent From Sony Z1 Compact\nOn Apr 5, 2016 8:52 PM, \"Hillel Coren\" notifications@github.com wrote:\n\nYour welcome to have a refund if you'd like.\nIs the 'Undefined index: cost' happening in the app or with the API?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/795#issuecomment-205814461\n. \n",
    "AnthonyOkwi": "I am running invoice ninja on ampps but i am having trouble adding a currency for localization settings. The currency in question is Ugandan Shillings UGX but does not show in the drop down. Tried checking the currency table and i see it. Also i tried adding this to the end of my url ?clear_cache=true nut nothing. kindly revert.. Thanks a bunch works like a charm!. \nSome one help me with this new error 'whoops, looks like something went wrong' i recently upgraded to v3.6.0 from v3.5.1 \n. Looks like a production error i intially installed using softaculous\nlaravel-error.txt\n. Hello Hillelcoren i am trying to run a self-hosted installation on xampp windows\nlaravel-error.txt\n but keep running into this error at the setup stage. Any suggestions on what could be wrong will be helpful. ",
    "TomTomNavigator": "Mh, nothing changed:\nbash\n[invoice-ninja]$ git pull\nremote: Counting objects: 51, done.\nremote: Compressing objects: 100% (50/50), done.\nremote: Total 51 (delta 7), reused 0 (delta 0)\nUnpacking objects: 100% (51/51), done.\nFrom https://github.com/hillelcoren/invoice-ninja\n   016b215..0d91237  master     -> origin/master\nUpdating 016b215..0d91237\nFast-forward\n .gitignore                                         |    4 +-\n .../2014_04_17_100523_add_remember_token.php       |   34 +\n app/lang/de/texts.php                              |    2 +\n app/lang/en/texts.php                              |    2 +\n app/lang/es/texts.php                              |    2 +\n app/lang/fr/texts.php                              |    2 +\n app/lang/it/texts.php                              |    2 +\n app/lang/nl/texts.php                              |    2 +\n app/lang/pt_BR/texts.php                           |    2 +\n app/libraries/utils.php                            |    5 +\n app/models/User.php                                |   15 +\n app/routes.php                                     |    4 +-\n app/views/accounts/details.blade.php               |    2 +-\n app/views/accounts/import_map.blade.php            |    2 +-\n app/views/accounts/notifications.blade.php         |    2 +-\n app/views/accounts/payments.blade.php              |    2 +-\n app/views/clients/edit.blade.php                   |    2 +-\n app/views/credits/edit.blade.php                   |    2 +-\n app/views/header.blade.php                         |   14 +-\n app/views/invoices/edit.blade.php                  |    8 +-\n app/views/master.blade.php                         |   40 +-\n app/views/payments/edit.blade.php                  |    2 +-\n app/views/public/about_us.blade.php                |    8 +-\n composer.lock                                      | 5055 ++++++++++++++++++++\n 24 files changed, 5171 insertions(+), 44 deletions(-)\n create mode 100644 app/database/migrations/2014_04_17_100523_add_remember_token.php\n create mode 100644 composer.lock\n[invoice-ninja]$ php artisan migrate\nMigrated: 2014_04_17_100523_add_remember_token\nDo you need more info / error logs?\n. You are the best. It's working now. Great!\n. ",
    "osmanzeki": "For all us composer newcomers out there, you just need to change your composer.json file's version for Confide from 3.1.x to 3.2.x and do composer update via ssh to fix this issue for your current install.\n. ",
    "whitebook": "I just wanted to post a link to the laravel docs on this as well. I ran into the same trouble although google search returned this page and was easy to debug.\nhttp://laravel.com/docs/upgrade#upgrade-4.1.26\n. Awesome I will pull now.\nOn 4/29/14 9:49 AM, Hillel Coren wrote:\n\nI've checked in a fix for this and deployed it to production. I've \nused the datepicker to handle formatting the date. Long term I'm going \nto look into using moment.js (most date work is currently handled \nserver side).\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/hillelcoren/invoice-ninja/issues/102#issuecomment-41677633.\n. Look at this PDF i created using the invoiceninja.com site which reproduces the problem.\nHere is the ID.\n\nafd9d398-cc55-5947-9b80-5e7af939f9a6\nI have attached it too for you to see I am not dreaming... :)\n(I know this issue sounds far fetched.)\n\n. In /app/views/invoice/edit.blade.php line 1137\nthis.totals.rawPaidToDate = ko.computed(function() {\n                        return accounting.toFixed(self.amount(),2) - accounting.toFixed(self.balance(),2);\n                });\nthen lines 1145\nthis.totals.total = ko.computed(function() {\n                    var total = accounting.toFixed(self.totals.rawSubtotal(),2);\n```\n                var discount = parseFloat(self.discount());\n                if (discount > 0) {\n                    total = total * ((100 - discount)/100);\n                }\n            var taxRate = parseFloat(self.tax_rate());\n            if (taxRate > 0) {\n              total = total + (total * (taxRate/100));\n            }\n\n            var paid = accounting.toFixed(self.totals.rawPaidToDate(),2);\n            if (paid > 0) {\n                total -= paid;\n            }\n            return total != 0 ? formatMoney(total, self.client().currency_id()) : formatMoney(0, self.client().currency_id());\n\n```\nDont mind the return statement, I was just interested in seeing if I liked showing the balance due $0.00 if the balance was paid seeing that we have a label for it.\nThen in public/js/script.js\nline 1506\ninvoice.balance_amount = accounting.toFixed(total,2) - (accounting.toFixed(invoice.amount,2) - accounting.toFixed(invoice.balance,2));\n. Ok Thanks.\n. Ok Thanks. Also where is the output log file, I notice for testing instead of sending actual emails it says sent to logger. Where is that logger file?\nThanks.\n. Ok Thanks.\n. Hmm... I thought I saw you had toFixed(4) somewhere in the code further \nup, I wanted to be consistent.\nLine 69 in script.js\nBut if I made a mistake, then use 2.\nOn 5/1/14 12:22 PM, Hillel Coren wrote:\n\nThanks for submitting the change.\nIs there a reason you're specifying 4 rather than 2 in total.toFixed(4)\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/hillelcoren/invoice-ninja/pull/108#issuecomment-41926153.\n. Great Lets Close this Issue.\n. I have a new commit that adds BS3 Accordian to invoices page. Also on the Quotes Controller I removed the recurring lnvoice list on top because thats not relevant.\nhttps://github.com/whitebook/invoice-ninja/blob/db38d496bec182afe65743bd2806395f441c0955/app/views/list.blade.php\n. Perhaps a Tab is more appropriate.\n. +1 For this too..\n\nAnother Popular invoice service does discounts on the whole invoice.\n<opinion>\nGenerally This is really a terrible idea.\nTo work both ways is fine, but sometimes I want to show a discount on a product, like normally we sell this for X but for you we discounted 20%. \nI want that to reflect on the line item, so the customer knows. \nIts really an important feature. To price it at a discount does not serve well because the customer does not see it.\n</opinion>\n. Should be a relatively quick fix. I fixed it last week before hosing my \nwhole environment.\nI think I just had to set the default to a php DateTime;\nCant remember exactly but it did work once I did it.\nOn 9/10/14 3:30 PM, Martin K. wrote:\n\nNot fixed, sorry, the seeding fails on timestamps :(\n|[Illuminate\\Database\\QueryException]\n   SQLSTATE[23502]: Not null violation: 7 ERROR:  null value in column \"created_at\" violates not-null constraint\n   DETAIL:  Failing row contains (1, null, null, Omnipay, t). (SQL: insert into \"payment_libraries\" (\"name\") values (Omnipay))\n|\nI'll look into a PR for this, pretty sure there are others using \nPostgres over MySQL.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/hillelcoren/invoice-ninja/issues/122#issuecomment-55169662.\n. I thought so, where are the migration files located? \n. Yes I see it. I run php artisan migrate and it says \"Nothing to migrate.\" Perhaps I am using it wrong. I dont know much about laravel at the moment.\n. Thanks.\n. Your statement is a \"true\" statement too. So lets discuss this. \n\nIf a profile is recurring monthly, then I would think I would want the invoice to run on a scheduled monthly cycle. While it is true I may want to note the date and time it was created, I do think my business rule would require that my invoices stay consistent with the day they need to be generated irrespective of when the system responsible for generating them actually creates them.\n. Why do you say its complicated?\nWhy is it not as simple as increment  previous value by time increment (weekly, monthly, yearly, etc.)\n. Here is something maybe we can use.\nhttps://github.com/tplaner/When\n. So I guess this is business specific, but I noticed it compares time as part of the calculation, so for example if we ran send-invoices last month at 1pm in the afternoon and this month we run it at 10am, no invoices would be generated, but if we wait till 1pm and run it again it runs the invoices which means we need to set a flag that does not use time as part of the recurring rule.\n. Yes I see Activity.php, so what  I am not sure about is the way recurring createInvoice is handled?\nI think the way we should handle this is similar to \"quotes\". so add an Invoice check the start date if the start date is today then generate a separate one.\nThe other thing that bothers me a bit is that the sequencing of invoices is broken. when we create a quote or recurring invoice that never runs. \n. Disregard this. My Error.\n. Yes whitespace caused issue for me too.\nQuoted and now fixed. Had same message.\n. I am going to close this issue as I see it has be implemented, just not merged.\n. Looks good.\nThanks for this change.\n. ",
    "peterquentin": "Regarding invoice status on entering a manual payment:\nIn file: app\\ninja\\repositories\\PaymentRepository.php\nIn the public function save find: \n$payment->transaction_reference = trim($input['transaction_reference']);\n$payment->save();\nAdd this code after that line:\n```\n$invoice = $payment->invoice()->firstOrFail();\n$invoice->invoice_status_id = ($amount < $invoice->balance) ? INVOICE_STATUS_PARTIAL : INVOICE_STATUS_PAID;\n$invoice->save();\n```\nThis should be refactored to its own responsibilty, but if you need it now you can use it :+1: \n. ",
    "mario": "Hey,\nwhat's the news on API?\n. ",
    "rrubio": "Hi Guys,\nDid the above mentioned APP ever eventuate? I'm currently playing around with system locally and would love to use it if possible. If not, we'd be happy to create something quickly using the ionic framework (hybrid).\n. @RichardLindhout Regarding the APP, That's great thank you! i'll get started at my end by mid Feb. I'll provide some updates once I have something to demo. \n. ",
    "kristoffeys": "is the current api progress already documented somewhere? (authentication / user creation etc) ? \n. @RichardLindhout Ok thanks. I've been looking in the code but I'm not completely sure how it works as I've never used laravel. I will try some other things to see if I get it working.  \na sample call / some documentation would indeed be extremely helpful.\n. @hillelcoren Thanks for the update. seems to be working. Thanks! \nFor a project i will probably also need to create estimates from the api. So I might be trying to implement this one myself. Or is this already planned in the near future?\n. ",
    "paviro": "How do you pass the new API tokens?\n. Perfect thank you!\n. How many API requests can be made before hitting the \"Please wait for x second(s)\" response? Also the limit seems to be shared over different tokens.\n. :+1: \n. You are welcome :)\n. Great :+1: \nThe lang file is fine, seems like the PDF design.\n. Just saw the commit, thank you a lot! :)\n. Great :+1: \n. Shit happens :)\n. That on the other hand is not optimal.. Anything you can do about it or should I find different words?\n\n. Ok, great :)\n. :)\n. You are welcome as always, thanks for your tools and the support! :)\n. Great thank you!\n. ",
    "Motorr": "Is this a thing yet?  Cant seem to find the function in I.N. to discount a product in-line to have it show on the invoice the price and the discount for that single product.. Yes, we also need ability to create custom templates for Initial Quote Emails.  This is critical time saving functionality.. We send quotes for various services with attached documents\u2026\nWe need to be able to create multiple custom initial email templates for different types of quotes.\nInstead of the standard \u201cInitial Email\u201d Quote that it selects by default, we need an option to be able to use a custom Template that we previously created, named, and saved. We could customize the default template and save as the \u201cDefault\u201d but we send various types of quotes, for various services.\nFor example, VoIP Quote:\n$client,\nHere is your 2-part [BRAND OF VoIP] Implementation Proposal.\nClick the button below to view both attached documents:\n\u2013 [BRAND OF VoIP] Service Agreement\n\u2013 [OurCompany]\u2019s Implementation Agreement\n$viewButton\nBest Regards,\n$emailSignature\n. Having a killer ticketing interface would add MASSIVE value!  . Also having a really hard time with this.  +1. ",
    "Braintelligence": "I recommend using unique product keys for this. Something like \"DI\" for design and then use \"DI-Invoice\" as product key for invoice design and \"DI-Site\" as product key for site design. If you enter DI now, you get the appropriate suggestions.\nThis is the default behavior for most sophisticated CRM/ERP systems that I know. What you're looking for are product categories, I think.. Actually it seems that Invoice Ninja fulfills current German law (GoBD) concerning the immutability of billing because it provides a history of changes and supplies the client with an immutable PDF via mail.\nFor this, the history must keep a history of ALL changes, though. Right now it doesn't: #1219\nIf someone thinks Invoice Ninja doesn't comply with GoBD, please do post about this here. You just can't use any billing app in Germany if it doesn't comply with GoBD. . @hillelcoren Then this feature is mostly helpful for people who have no access to the .env file and need the maximum data immutability.\nAs long as the history of changes to invoices is thorough this shouldn't be a problem for self-hosters, hopefully.. @cnuvasan Please rephrase. I'm not sure what you try to say.. You could use the pdfmake watermark feature. https://github.com/bpampuch/pdfmake/issues/366. I don't get why this was closed.\nAt the very least it is kind of mandatory for the ID Number of a client to be unique. Where is the sense in it not being unique?\nI have two major problems and one minor problem right now:\n- The ID Number is not unique\n- You can't search via this ID Number\n- The ID Number is not being set or suggested automatically\nPlease consider at least one of the first two points for the near future. Either implementing a database check everytime a user sets a client ID number for its uniqueness or being able to search for an ID, so a user can find out by himself if it is unique. \nThis is a must-have in many European countries I think.. > We'll look into adding auto-suggest and search by ID Number\\VAT number in a future release.\nThis would be awesome! For the meantime I will try out your suggestions \ud83d\ude04.\nAs a side-note-idea: Maybe you could run a check if the ID number was already set and only display a warning? This would be completely fine.. @hillelcoren Thank you for your help up till now. I've got a question concerning the custom field:\nIs it possible by simple means to only show the value of the field and not the label as well or do I have to do this via pdfmake template? \ud83d\ude38 . Not even by customizing the pdfmake invoice template? I should be able to access the custom fields through it, or shouldn't I?. Alright, I'll look into it. Thank you \ud83d\ude04.. Hoping for solution of this issue in the near future. It's bothersome to explain to people why they can't use a comma in amount-fields, even though this is custom here :(.. So this issue isn't related to being able to say a list item costs 0,64 instead of 0.64?. I tried using 0,64 but in the invoice it said 0,600000. The total amount also didn't add up.\nWhen using 0.64 it said 0,64 correctly.. Wait, now it works. Strange...\nIt didn't care for the second place decimal just a few minutes ago.\nStill, if you type in 0,64 the invoice looks like this:\n\n\nWhereas if you type in 0.64 it looks like this:\n\n\nWhat are the tailing 0s for?. @hillelcoren There's another thing I saw just now: If you use partial amounts, like Unit price: 1 and Amount: 0,5 then the amount is displayed as 0.5 with a dot as decimal delimiter.. @hillelcoren I also found out why I had this strange error that the second decimal digit wasn't recognized in live preview of the PDF.\nFor some reason it seems at least the current Firefox sometimes doesn't recognize input of values as a trigger to reload the live preview of the PDF.\nIf I click onto another field, then the reload is triggered and I see the correct decimal value in the live preview.. @hillelcoren Comma as seperator also doesn't seem to work in Expenses.. Freelance Cockpit 3 looks really neat. But even though the creator is German I saw more issues with German law from testing out the demo than Invoice Ninja has right now.. @hillelcoren As a side note: In the E-Mail settings the preview shows the correct currency symbol but before the amount, not after it. The actual sent out E-Mail is correct, though.. @hillelcoren As a side note: In the E-Mail settings the preview shows the correct currency symbol but before the amount, not after it. The actual sent out E-Mail is correct, though.. Germany (DE) Euro. Germany (DE) Euro. With E-Mail settings I mean this route for example: settings/templates_and_reminders#quote. With E-Mail settings I mean this route for example: settings/templates_and_reminders#quote. The relevant part of the string looks like this in the preview on the right:\nUm Ihr Angebot \u00fcber \u20ac100,00 zu sehen. The relevant part of the string looks like this in the preview on the right:\nUm Ihr Angebot \u00fcber \u20ac100,00 zu sehen. My first and only saved invoice should've been a German test customer, though. I've deleted that one afterwards. Maybe that's why I see the fake one now (again)?\nWill test it out again, after I created another invoice some time later.. My first and only saved invoice should've been a German test customer, though. I've deleted that one afterwards. Maybe that's why I see the fake one now (again)?\nWill test it out again, after I created another invoice some time later.. @hillelcoren Is this even an issue anymore, now that pdfmake is used, or am I missing something?. @hillelcoren Wow, this is a major dealbreaker then... Completely unusable in Germany (and probably other relevant EU countries) if you don't inform and gather approval of your clients about this before you send them any kind of such document.\nAlso if they wish to remove their stored data I have no control over what is happening on the phantomjscloud servers. I can't guarantee removal of their sensitive data, which is what ultimately makes it a dealbreaker.\nI don't understand. When you save or send the PDF you see a preview of it in your browser. Why does it need to be created again by a headless browser like phantomjs? Why isn't it saved as PDF in that moment to the file storage on the server? Because of recurring invoices?. @hillelcoren Thank you for replying so far. Please do tell me about if and when you're going to implement any kind of possibility to render the invoices locally (even if it's just providing a link to a self hosted phantomjs docker-image), because I can't work on/with invoice ninja if this stays as-is.. @hillelcoren I dedicated a few work days to the German translation and even more to create an invoice design that complies to German law and letter formatting. I'm not proficient enough with the code and JavaScript to provide such changes. Not attaching a PDF to the mail is no option because this may create another problem, which consists of the then unfulfilled necessity to supply your customer with an immutable invoice.\nThe thing is that all my work benefits neither of us, as long as this isn't fixed and people care about the real danger of being sued over this.\nNot providing an ETA is one thing, but it's either you're interested in having EU-customers or you're not. I want to know if you are, because if you are, this needs to be fixed ASAP. And if you're not, I have to find another invoicing solution ASAP. German \"Datenschutz\"-law is strict as hell and no freelancer/company wants to end up getting sued over it.. The problem with this is that I can't guarantee that the customer received the PDF before it may have been changed. I can't force him to download the version 1.0 of the invoice.\nAs described in #1219 you can change an already sent invoice without the customer noticing or any mention in the history/activity stream, by changing the description of a product. I still don't understand why this issue was closed.\nSince I don't know if there are other occasions where a change in the invoice isn't reflected in the history, this \"workaround\" is just not safe enough.\nI will have to send the PDF manually every time to be on the safe side for now, I guess.... @hillelcoren Thank you so much for fixing this. Will this be included in the next release then?. This is awesome news, especially because the translation will be upgraded by this, as well. Thank you and looking forward to it \ud83d\udc4d .. For those of you interested in already being able to provide a local phantomjs binary in the docker image, just add this to the dockerfile before setting of the default ENV variables (copied from https://github.com/wernight/docker-phantomjs/blob/master/Dockerfile):\n```\nInstall runtime dependencies\nRUN apt-get update \\\n && apt-get install -y --no-install-recommends \\\n        ca-certificates \\\n        bzip2 \\\n        libfontconfig \nRUN set -x  \\\n    # Install official PhantomJS release\n && apt-get update \\\n && apt-get install -y --no-install-recommends \\\n        curl \\\n && mkdir /tmp/phantomjs \\\n && curl -L https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.1.1-linux-x86_64.tar.bz2 \\\n        | tar -xj --strip-components=1 -C /tmp/phantomjs \\\n && mv /tmp/phantomjs/bin/phantomjs /usr/local/bin\n. @pguth @anythingtechaus Are you still encountering this problem? If not, we should close this.. @hillelcoren What is the current purpose of those optional fields? As I understand, they currently aren't used anywhere and you only plan to use it for delivery notes in the future?. When I apply a shipping address to a customer, create a new invoice and click on delivery note, the billing address is applied instead of the shipping address.\nIs this because of my custom invoice template?. I use it like this:\n{\n    \"table\": {\n      \"widths\": [\n        226.772\n      ],\n      \"body\": [\n        [\n          {\n            \"text\": \"$client.name\",\n            \"style\": \"clientName\"\n          }\n        ],\n        [\n          {\n            \"text\": [\n              \"$contact.first_name\",\n              \" \",\n              \"$contact.last_name\"\n            ],\n            \"style\": \"removeNewLineMargin\"\n          }\n        ],\n        [\n          {\n            \"text\": \"$client.address1\",\n            \"style\": \"removeNewLineMargin\"\n          }\n        ],\n        [\n          {\n            \"text\": [\n              \"$client.postal_code\",\n              \" \",\n              \"$client.city\"\n            ]\n          }\n        ],\n        [\n          {\n            \"text\": \"$client.address2\",\n            \"style\": \"removeNewLineMargin\"\n          }\n        ]\n      ]\n    },\n```. There's also another thing:\nSometimes client 1 with shipping address A might want to have a shipment to shipping address B or C.\nIt would make more sense to be able to set a standard shipping address with the client but still be able to change the shipping address on a per-invoice basis.. @hillelcoren I would very welcome the addition of iZettle, which is also relatively popular in Germany.\n@ajnadox Please keep up with your suggestion, I'd love to see it implemented \ud83d\udc4d .. @hillelcoren FYI: I looked through the Gateways there and wanted to tell you that the Gateway \"Sofort\" would be excellent for Germany. It's a provider for verified Bank transfers. With this you could have the holy trinity of credit card,  paypal and Bank transfers for German users.. Did you resolve the problem?\nEDIT: @hillelcoren Maybe you could include such a function in pdf.pdfmake.js, so invoice designers can reference the page number in their designs?. @hillelcoren Can you verify if this works?\nEDIT: Though I heard of problems using dynamic pagebreaks together with the pagenumber in the pdfmake GitHub repo.. Perhaps the dockerfile at https://github.com/invoiceninja/dockerfiles/blob/master/Dockerfile should be updated with the default environment variables and newer PHP? Or do you want to wait until the fix is implemented? \ud83d\ude38 . Oh I see.\nIs it alright to set the env variable to AES-256-CBC and stay on 7.0 for now, though?. https://www.invoiceninja.com/self-host/ says to Make sure the .env file includes APP_CIPHER=rijndael-128. Assuming that I could break something by choosing AES-256-CBC instead, what symptoms should I look out for? \ud83d\ude2e . I see. Thanks a lot again for your quick and helpful answers and your awesome work! \ud83d\udc4d \nI will try out the AES-256-CBC cipher in production and report if anything should turn out weird.. I guess I'm missing step 2 from turbo's fix. Will stick to Rijndael for now, then \ud83d\ude1b.\n\n. Ah, I missed creating my own branch for the pull request. Sorry, this is my first pull request on GitHub \ud83d\ude04. If I need to correct anything, please tell me the necessary steps.. Bummer, I just realized you guys use Transifex for translation. But when I log in to Transifex I can't access your provided link anymore. Are there some access restrictions to it?\nSorry for the inconvenience. \u2639\ufe0f . Yeah, if I follow that link I can see your page but as soon as I login via GitHub I am presented with a 404 page instead, when following that link.\nEDIT: I also can't find your project when looking for it while logged in.. Yes this worked!\nNow do you want me to apply my translations via Transifex or is my pull request somehow useable? ^^. Ok, I will reapply them there in the hope of being a useful supporter.\nWhat should I do about the fork and the pull request? Can I just remove the forked repo entirely?. No I didn't change anything else. I will delete the whole fork after I applied all the changes.\nThanks for this great software, I will work with it in the future and hope I can contribute \ud83d\udc4d .. I'm almost done with the application of my translation strings and comments.\nI stumbled across the string 1860 (discount_message) in Transifex which can't be translated.\nIt says \"Error: The expression '% o' is not present in the translation.\" Many other translators already commented on the problem.. I tried the (IMO) correct translation and also just \"test\". Both throw this error.. I'm done with the input of my translation strings. As soon as you verify that you received the contribution I will delete my fork and thus close this pull request.. Awesome! Let's stay in touch then \ud83d\udc4d . I'll delete the fork in the next few minutes.\nFor now I just downloaded my texts.php to my docker image, so I have the translations in place.\nLooking forward to v3!. I deleted my fork but the pull request seems to still be here.\nLet me go ahead and close it then. \ud83d\ude04 . Oh, and also I'd like to be able to concatenate variables, like account name, account address1, account address2 next to each other. ^^. I'm kind of accomplishing it with a table right now. Needs adjustment anytime you change font or font size, though, then.\nWould be very nice if you could freely concatenate text and variables.\nAlso I'd recommend to publish a list of availiable variables. Looking through /resources/assets/js/pdf.pdfmake.js is a bit fidgety \ud83d\ude04 . Do you mean this?\n```\nWir nutzen pdfmake um Rechnungs-Designs zu erstellen. Der pdfmake \"Spielplatz\" bietet eine gute M\u00f6glichkeit diese Programmbibliothek im Einsatz zu sehen.\nSie k\u00f6nnen per Punktnotation auf ein Kind-Attribut zugreifen. Beispielsweise k\u00f6nnen Sie $client.name nutzen, um den Kundennamen anzuzeigen.\nSollten Sie Verst\u00e4ndnisprobleme haben, hinterlassen Sie doch bitte einen Forenbeitrag in unserem Support Forum mit dem Design, welches Sie verwenden.\nHinweis: Erstellen Sie Ihre erste Rechnung um hier eine Vorschau zu sehen.\n```\nThis appears when I click here:\n\n. This again \ud83d\ude04.\nYeah I did but I erased it afterwards.\nLet me create a quick fake invoice then.. Ok after creating an invoice it shows now this:\n{\n  \"invoiceNumber\": \"RN-16-12002\",\n  \"discount\": 0,\n  \"poNumber\": \"\",\n  \"invoiceDate\": \"2016-12-19\",\n  \"dueDate\": \"2017-01-02\",\n  \"terms\": \"Testbedingungen an den Kunden\",\n  \"publicNotes\": \"Testnotiz an den Kunden\",\n  \"taxName1\": \"USt 19%\",\n  \"taxRate1\": \"19.000\",\n  \"amount\": \"10276.84\",\n  \"balance\": \"10276.84\",\n  \"invoiceDesignId\": 11,\n  \"invoiceTypeId\": 1,\n  \"customValue1\": \"0.00\",\n  \"customValue2\": \"0.00\",\n  \"customTaxes1\": 0,\n  \"customTaxes2\": 0,\n  \"isAmountDiscount\": 0,\n  \"invoiceFooter\": \"Testfu\u00dfzeile an den Kunden\",\n  \"partial\": \"0.00\",\n  \"hasTasks\": false,\n  \"customTextValue1\": null,\n  \"customTextValue2\": null,\n  \"hasExpenses\": false,\n  \"taxName2\": \"\",\n  \"taxRate2\": \"0.000\",\n  \"client\": {\n    \"currencyId\": null,\n    \"name\": \"\",\n    \"address1\": \"Teststra\u00dfe\",\n    \"address2\": \"\",\n    \"city\": \"Teststadt\",\n    \"state\": \"Testbundesland\",\n    \"postalCode\": \"01234\",\n    \"countryId\": 276,\n    \"workPhone\": \"43210-56789\",\n    \"paymentTerms\": 14,\n    \"customValue1\": \"KN-16-12001\",\n    \"customValue2\": null,\n    \"vatNumber\": \"DE01234567\",\n    \"idNumber\": \"\"\n  },\n  \"documents\": [],\n  \"expenses\": []\n}\nI don't see account variables like account.work_phone anywhere in here.. Actually it is a bit easier for me to look through /resources/assets/js/pdf.pdfmake.js because you use different wording for some variables.\nFor example it's not account.email but account.work_email.. Oh I'm sorry then, I wrongly assumed differently, because of the renaming in the pdf.pdfmake.js.\nWhere can I find or by what means reference this database table, then?. Oh so I needed to run an SQL command.\nYeah, I wipped up the mysql docker image, ran\nmysql -u root -p ninja\nand then\ndescribe accounts;\nand now I see the columns alright.\nThanks \ud83d\udc4d . @hillelcoren For some reason some unicode characters, like \u25cf aren't supported, even though the chosen font (in my case Ubuntu) can display them. (Neither by specifying the unicode by \\u25CF nor copypasting. Some other geometrical unicode symbols also don't work, but normal letters work.)\nIs this a limitation of pdfmake or the invoiceninja ecosystem?. ```js\n// playground requires you to assign document definition to a variable called dd\nvar dd = {\n    content: [\n        '\\u25CF',\n        '\u25cf',\n        \"That's weird\"\n    ]\n}\n```\nYeah, this doesn't work! That's sad.. Hm, the noWrap attribute doesn't seem to work.\nI have a block like this:\n{\n    \"table\": {\n      \"widths\": [\n        50,\n        0,\n        53,\n        0,\n        14,\n        \"*\"\n      ],\n      \"body\": [\n        [\n          {\n            \"text\": \"$account.name\",\n            \"style\": \"accountAddressName\",\n            \"noWrap\": true\n          },\n          {\n            \"text\": \",\",\n            \"style\": \"accountAddressDivider1\"\n          },\n          {\n            \"text\": \"$account.address1\",\n            \"style\": \"accountAddressStreet\"\n          },\n          {\n            \"text\": \",\",\n            \"style\": \"accountAddressDivider2\"\n          },\n          {\n            \"text\": \"$account.postal_code\",\n            \"style\": \"accountAddressPLZ\"\n          },\n          {\n            \"text\": \"$account.city\",\n            \"style\": \"accountAddressCity\"\n          }\n        ]\n      ]\n    },\n    \"layout\": \"noBorders\",\n    \"absolutePosition\": {\n      \"x\": 70.8661,\n      \"y\": 76.5354\n    }\n  },\nbut the noWrap doesn't do anything. It should work, though, see: https://github.com/bpampuch/pdfmake/pull/394/commits/f00392c8ec2373865852bdc8e5da21a267091f15\nDid I miss some syntax? \u2639\ufe0f . Bummer, then I'll have to fidget around with negative margins instead, as originally planned.\nThank you for all the quick responds, though ^^.. Hm, it looks like the header part of the document can't parse fields?\nTry it with this:\n[\n  {\n    \"text\": \"yay\"\n  },\n  {\n    \"text\": \"$account.name\"\n  },\n  {\n    \"image\": \"$accountLogo\"\n  }\n]\nlike this:\n\n. It does work in the Bold header, but if I copypaste into the Custom header I can see the canvas alright but the rest is empty.. Try the following:\nCopy the header code from Bold and paste it into the header code of Clean. You see a close effect.\nEDIT: Maybe this has something to do with the font color in the header?. The site-wide margin from above did it. I see! Thanks \ud83d\ude38 . If I apply a site-wide margin it will be also used on following pages, though, even if I use the header only on the first page.\nThis is also true for Bold. Page 2 misses the canvas and all infos but doesn't fill up the unused space with anything else.\nIs there a CSS id/class you can call so you can apply a top-margin for the header only?. That's how I started, then I thought \"maybe I should put the header in the header tab\". Bummer \ud83d\ude1b . When I try to retrieve $client.postal_code I only get the German word for \"postal code\". I don't see anything else postal code related in describe clients;. Did I miss something?. Oh I'm so dumb. Yeah there are many of those values, I just didn't realize it while working on the blank template right now ^^. (I just had to get rid of almost everything that was in there so I could start fresh.) Thank you so much! \ud83d\ude04 . Well this is strange,\nwhen using $client.name like this:\njs\n{\n    \"table\": {\n      \"widths\": [\n        226.772\n      ],\n      \"body\": [\n        [\n          {\n            \"text\": \"$client.name\",\n            \"style\": \"clientName\"\n          }\n        ],\n        [\n          {\n            \"text\": \"$client.address1\"\n          }\n        ],\n        [\n          {\n            \"text\": \"$client.address2\"\n          }\n        ],\n        [\n          {\n            \"table\": {\n              \"widths\": [\n                23,\n                80\n              ],\n              \"body\": [\n                [\n                  {\n                    \"text\": \"$client.postal_code\"\n                  },\n                  {\n                    \"text\": \"$client.city\"\n                  }\n                ]\n              ]\n            },\n            \"layout\": \"noBorders\"\n          }\n        ]\n      ]\n    },\nI see the preview like this:\n\nBut the actual invoice looks like this:\n\nThe name is missing. What could be the cause?. Oh nevermind. There was a misunderstanding with the client module.\nWhen you only put in a first name and last name the combination of both is displayed in grey but it isn't set when saving. You have to put it in yourself I guess.\nEDIT: I will create an issue where I recommend making the \"client.name\" field mandatory when trying to save a client and that it should use the combination of first and last name if nothing else is provided.. @hillelcoren \nWhen working on the invoice design footer portion the InvoiceNinja Attribution logo is moved away to the right by the margin of a table. For example with this code:\njs\n{\n  \"columns\": [\n    {\n      \"table\": {\n        \"widths\": [\n          116.7874,\n          155.3386,\n          223.937\n        ],\n        \"body\": [\n          [\n            {\n              \"table\": {\n                \"widths\": [\n                  \"*\"\n                ],\n                \"body\": [\n                  [\n                    {\n                      \"text\": \"$client.name\",\n                      \"style\": \"clientName\"\n                    }\n                  ],\n                  [\n                    {\n                      \"text\": \"$client.name\",\n                      \"style\": \"clientName\"\n                    }\n                  ],\n                  [\n                    {\n                      \"text\": \"$client.name\",\n                      \"style\": \"clientName\"\n                    }\n                  ]\n                ]\n              },\n              \"layout\": \"noBorders\"\n            },\n            {\n              \"text\": \"$client.name\",\n              \"style\": \"clientName\"\n            },\n            {\n              \"text\": \"$client.name\",\n              \"style\": \"clientName\"\n            }\n          ]\n        ]\n      },\n      \"layout\": \"noBorders\",\n      \"style\": \"footerTable\"\n    }\n  ],\n  \"margin\": [\n    70.8661,\n    -80,\n    0,\n    40\n  ]\n}\nIs it possible to apply a negative margin to the logo somehow, so I can pull it back? I can't see if there's any type of class on the logo so I could reference it.\nEDIT: Actually removing the \"columns\" part and doing it like this:\njs\n[\n  {\n    \"table\": {\n      \"widths\": [\n        116.7874,\n        155.3386,\n        223.937\n      ],\n      \"body\": [\n        [\n          {\n            \"table\": {\n              \"widths\": [\n                \"*\"\n              ],\n              \"body\": [\n                [\n                  {\n                    \"text\": \"$client.name\",\n                    \"style\": \"clientName\"\n                  }\n                ],\n                [\n                  {\n                    \"text\": \"$client.name\",\n                    \"style\": \"clientName\"\n                  }\n                ],\n                [\n                  {\n                    \"text\": \"$client.name\",\n                    \"style\": \"clientName\"\n                  }\n                ]\n              ]\n            },\n            \"layout\": \"noBorders\"\n          },\n          {\n            \"text\": \"$client.name\",\n            \"style\": \"clientName\"\n          },\n          {\n            \"text\": \"$client.name\",\n            \"style\": \"clientName\"\n          }\n        ]\n      ]\n    },\n    \"layout\": \"noBorders\",\n    \"style\": \"footerTable\",\n    \"margin\": [\n      70.8661,\n      -80,\n      0,\n      40\n    ]\n  }\n]\nremoves the attribution logo altogether.\nMaybe I can reapply it myself at a good position.. Well it seems I can't reference logoImages.imageLogo1 with $logoImages.imageLogo1 in the invoice design, so instead I converted the image to base64 and just included the base64 code into the design. If the invoice ninja attribution logo would change, this would pose a problem.\nIs there a way for me to reference the logo correctly?. Can you give an example where this variable is used in the invoice design?\nI think it doesn't work like this because it needs to be base64 encoded?. Oh, just to update this for anyone who's looking for a way to concatenate text. I found out a way.\nInstead of\n{\n   \"text\": \"yourtext\"\n}\nyou go:\n{\n   \"text\": [\n      \"yourtext\",\n      \" \",\n      \"$invoice_date\"\n   ]\n}\nfor example.. Yeah, perhaps the user could place a checkbox mark for which of those he wants to use.. Maybe it would be good to create a documentation regarding basic invoice designing together with a table of available variables.. For example what I want to do right now is to reference the user who created the invoice in the invoice design.\nSomething like $user.first_name $user.last_name but it doesn't work.\nEDIT: @hillelcoren I'd really dig the ability to reference the user in the invoice/quote so you can provide a table \"consultant\" or something along those lines, so customers can see who is responsible for this particular invoice/quote.. I also recommend enabling an invoice variable for the label of \"due date\" vs. \"valid until\".\nRight now if you use $due_date in the invoice design you get the date only and have to use a hardcoded label for due_date and valid_until for both (there seems no way to at least display both the label and date at once by yourself, because the addition of the label is done in a function that isn't called if you just use $due_date).\nInstead, it would be awesome if there was a variable that dynamically represented the label of the corresponding due_date or valid_until accordingly. Something like $due_date_label.\nAlso:\nDo I understand correctly that there's no way at all to pass functions in the invoice design without digging into actual js-files? It seems I can only pass variables, strings and number values.. Will this fix be implemented into Invoice Ninja?. If I change the product description within an invoice (not from products -> edit a product, but invoices -> edit an invoice) I get no history update of the invoice. If I change the product cost I get a history update, though.\nEDIT: Just for clarification: I edit the product description and the description in the invoice is changed. There's just no notification about this in the invoice history at all. You say that product data in existing invoices is not updated, but it is.. How to replicate:\n\n\nCreate a simple invoice and save it.\n\n\n\nNow change the cost\n\n\n\nYou see a second history version in the invoice history now\n\n\n\nNow change only the product description and save the invoice\n\n\n\nYou still see only two versions of the history\n\n\n\nBut the product description changed in the invoice and also in the client portal!\n\n\n\n@turbo124 Did I convey the problem properly now? There is no new third history entry. The second history entry shows the different cost and product description simultaneously but the activity stream only mentions a product price change. A product description change isn't mentioned anywhere. The customer can't see this without explicitly looking at older versions of the invoice. (And this also only works if something was changed that activated a history entry. Changing the product description only doesn't generate a new history entry; you can change the product description without a way for the customer to notice it at all.. Well I even provided a screenshot of how I only changed the product text and nothing else (I thought it's called description).\nI don't know how it could have worked for @turbo124 if he followed my reproducing steps.. Concerning the last paragraph of this issue I just realized through pdf.pdfmake.js that you can leave out the product key column by just not providing a product key.\nThe problem with this approach, though, is that you do not associate the invoice/quote with any existing product in the product database then, it seems. It seems that there also is no new product created from the invoice editor as normally happens when you type in products with a product key and save an invoice.\nA currently working workaround for this is to first create an invoice with a product key, save it as a draft, and then remove the product key and change the product description accordingly. Instead, there should be just a checkbox for \"Do you want to display the product key in the product description column instead?\", so all of the current functionality is preserved and the print document real estate can be maximized for long product descriptions.. @hillelcoren \nThere's another important reason to support merging the product name and description column into one:\nDue to missing word-break capabilites in fixed size tables, pdfmake gives no option to use long words in a product name that exceed the product name columns width, rendering most ways of displaying the lineItemsTable unprofessional for everyday use, because long words overflow into the next table cell.\nSince the German language tends to create very long words that are not concatenated by - if written correctly, the available wordbreaking capabilities of pdfmake don't suffice for the lineItemTables column width of the product name. Increasing the column width in the invoice design is not an acceptable workaround, because the product description column already doesn't have enough space for elaborate descriptions; especially when you use up all of the optional columns.. @hillelcoren Are you considering implementing an alternative table-rendering where the product name and description are merged in one column? \ud83d\ude38 . Added \"Reports daterange-picker not localized at all\". Added \"No currency symbol for unit price\". Added \"Payment terms chooser in clients is not localized / can't be customized?\". Added \"Dashboard time range chooser\"\n@konstantinrudi Please create a separate issue for your feature request. What you're asking has nothing to do with this ticket, which is about current translation issues not solvable by Transifex. Please ask for implementation of a \"tax number\" alongside the \"vat number\".. @konstantinrudi Try to use a custom field. Until the update end of the month hits, this was the only way to establish \"Kundennummern\". In your case it should be a custom company field.. Added \"\"The following client viewed Quote\" mail isn't translated\".. Added \"Client portal entry numbering\". Added \"Payment Type in payments overview not translated\". EDIT: Actually I do not know which of these you might have fixed after 3.1.3 now, but I hope I gave you an overview of what's still left.\nHi @hillelcoren,\nI don't think you should close this yet. Since there are still translation issues.\nFor example concerning my point Reports daterange-picker not localized at all the buttons \"Apply\" and \"Cancel\" aren't translated. Their string isn't even there in Transifex. Same for the Dashboard time chooser.\n1217 isn't fixed.\n1221 seems to be fixed on the PDF and mostly everywhere, but the Dropdown-Menu in /settings/localization still shows the month in English\n1222 isn't fixed.\nPayment terms chooser in clients is not localized / can't be customized? isn't fixed\nNo currency symbol for unit price isn't fixed\n1397 isn't fixed.\nPayment Type in payments overview not translated isn't fixed.\nMaybe gathering everything in a single ticket and having it hijacked multiple times was a really bad idea.. @hillelcoren I see \ud83d\ude38.. Added Login not translated (https://github.com/invoiceninja/invoiceninja/issues/1225#issuecomment-288529866). Duh, I shouldn't simultaneously hammer Transifex with new translations and look at tickets \ud83d\ude38.\nMoved it to fixed. Works for German as well. \ud83d\udc4d . Added \"HTML special character bug in attachments\". Added \"Marking as paid \"HTML-ifies\" special characters\". @hillelcoren Very busy atm. Are your commits named like the titles I gave the issues? Or could you provide a list of what you fixed by listing the issue-titles?. I need examples for\n- Support translating datatable info footer\n- Fix special chars in dropzone strings\nDon't know where to look for this. Client portal entry numbering is not fixed. Not for the client portal and also not for datatables in the backend.\nEDIT: or at least, maybe no translation exists...\nEDIT2: on second glance, the delete file part of the attachment is now in English\nWe need to wait for the next release with translations to really mark this as fixed. I have no time right now to recreate the docker container with a translated texts.php. Added section for things we can check after translation strings are available.. There are also tools to export a mysql-query to CSV/XLS...\nXLS is one thing, but almost none of my customers know what a CSV is or could make it work with (German) Excel (which may use different seperator-symbols than a web-app-generated CSV).\nStill both of them are context-less tables and not well-readable or -printable right out of the box.\nGenerating a well-human-readable report in print-ready PDF with context strings like origin, date, and so on, should be part of such a software like InvoiceNinja IMHO.. You can't workaround the \"open in new tab\" of payment methods this way.. You're right! My bad, I guess I need a break \ud83d\ude04.. Basing it on the stage of the overdue process is a bad idea IMO.\nNormally you want the reminder mails to be based on one another. If I send the second reminder mail as the first one (because it took me so long to send the reminder mail) it will probably contain something like \"Since you didn't react to the first reminder...\" which would be wrong.\nThe way to go for this should be to manually remind the user (perhaps via mail as well) and allow him to send the first reminder mail whenever, and then start the next countdown with the next reminder, I think.. Do I understand correctly that we can customize the mailing for every invoice uniquely with this?. Nifty \ud83d\ude38 . There seem to be strings that aren't available in Transifex, though, or aren't translated even though applicable strings were translated before the release.\nYou can help me catch those in #1225.. Last time I checked I did not get any errors in the browser console. I could even see the PDF base64 stream in the console but it wasn't rendered.. This may be related to https://github.com/bpampuch/pdfmake/issues/275. Well right now there's a problem with line 1104 for example in the German texts.php.\n'dropzone_fallback_message' => 'Ihr Browser unterst\u00fctzt keine \"Drag\\\\'n\\\\'Drop\" Datei-Uploads.'\nDue to usage of the ' in the string, the string is closed too soon.. After replacing the 'n-part with & the texts.php works :).. Then maybe a very simple solution to this would be to create an option to opt-in to provision of user information in the invoice.\nIf you check the checkbox for this, a $user variable is available in the invoice. If you don't, then it's not.\nThis way you can give the choice to the end-user but still keep the more safe setting as the standard choice.. This would also work towards my goal of a more customizable pdfmake design. Right now you don't have a good way of customizing the item table, especially if CSS hacks don't suffice anymore.\nDigging into the js code gets obliterated by an update, so all we can do is hope for a more modular approach to pdfmake-available variables for the end-user.\nAlso related to #1251 #1207 #1215 #1182 and some others, I guess, if this is done by reworking the pdfmake stuff.\nAnother way to do this might be to provide something like /settings/invoice_design#invoice_labels for the item table where you can choose the order, appearance, width and maybe other stuff of the columns. This, together with CSS hacks, could be mighty enough for a flexible pdf design.. You can already do that by custom designing your invoice. The custom design is persistent on update.. Yes, there seems no easy way to do that but that's not what I replied to. I replied to:\nchange for example that the Logo is in the Middle and so on. Also this should be saved in a way that these changes are update safe\nI don't know what you mean by \"header\" in this context, though, but I could customize everything about the invoice except for three things I still need:\n- Access to the user variable\n- Access to a variable that provides the label for due_date and valid_until respectively\n- Customizable output of the line items\nEverything else was perfectly customizable after studying https://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/pdf.pdfmake.js and https://github.com/bpampuch/pdfmake and some Trial&Error. I use almost none of the predefined stacks anymore.\nEDIT: Oh yes, I forgot about implementation of a page number, but I think @hillelcoren keeps it at the back of his mind already.. Oh I see. Well yeah, this would be more consistent with the statement \"look at invoice in the role of your customer\".. Could you please rephrase this? I'm not sure I understand what you're asking for.. Oh, so you mean when a new invoice is created, that the notification email about this should contain the invoice as an attached pdf?. Yes but this also counts towards a digital storage. You don't need to have it printed out. Since the invoices are in your database you don't need to keep a copy of it as pdf, as long as immutability can be guarenteed. (Which right now sadly is not the case and therefore doesn't fulfill GoBD.)\nYour best bet is to send the invoice and afterwards just download it yourself. This is also cleaner than having a gazillion emails with different invoices as attachment.. Actually an immutable snapshot of the moment when you're marking the invoice as sent would be more comfortable regarding German law \ud83d\ude38.. > We'll change this to show all open (non-task) invoices.\nThat would be rad \ud83d\ude38.. How so? In what version?\nIn 3.0.5 I can only create an invoice from expense but I can't just link the expense to an invoice.. Can you provide a screenshot?. It is set. How many options do you see? I see 4 options for expenses where clients are set as well as in those where it's not set.. Does it only work with invoices that aren't paid yet?\nI was looking at the button in the list view. When I look at the detailed view it looks like this:\n\n. \"Ausgabe in Rechnung stellen\" means create invoice from expense basically.. I see, I don't have unpaid invoices with expenses in them right now and I rather not want to turn them unpaid for fun \ud83d\ude38. Will test it with the next invoice that applies to this.\nMaybe you could change it, so you can apply this to paid invoices as well? Just making it linked to the invoice would be enough.. I see.\nIf I add an expense to an unpaid invoice, does it only link it to the invoice or is a new line item being created as well? And if it is being created, can I erase it from the line items and have the expense still be linked to the invoice?. What if I rename the new line item?. Will the expense itself be renamed by this?. But will the expense name/description be changed, if I change the line item name in the invoice?. Ok, then I think this will do it for now.\nMaybe an action like \"Link to invoice\" and then a modal \"Choose invoice\" would be cool for the future. This way you could link it to an invoice that has any status and you don't need to include it as separate line item.. Hey @hillelcoren,\nI just used that feature right now \ud83d\ude3a. Works well; even if you rename the line item.\nIf only I could link expenses to already sent invoices, I'd be really delighted \ud83d\ude38.. @hillelcoren \nThanks for implementing this, now we need to retranslate a bit :).. This is not true. I have a company with two contacts and if I only keep the latter contact checked then my invoice design only shows the contact firstname and lastname of the latter one in my address table.. I now added five contacts to this testclient. I can definitely choose only one contact and the first and last name of only this contact is used for my address table on the invoice.\nIf I choose any contact that is above the already chosen contact in the contact order, then this one will be displayed instead.\nUnchecking everyone else is still a pain.. I'm using $contact.first_name and $contact.last_name in my invoice design.. Yes it does.. My guess is that an array of all clients is given to the invoice design and $contact.first_name just shows the first one it can get for me. Could that be it?. But this functionality is very welcome. How else would you handle many different contacts in the same company and having their names on the invoice? If this wouldn't work right now I'd have a big problem T_T.... In the pdfmake you're using client.contact_name btw.\ncontact.first_name is nowhere used. @hillelcoren Just so I don't frack up my client and invoice database: Please do clarify if you insist on creating a new client with a new client number for every combination of a unique company with different unique contacts in your workflow-idea.\nIf so I will have to juggle a lot of client numbers right now, before it gets even worse as soon as you fix something that you regard as a bug. \ud83d\ude38 . No problem, I'll rephrase it:\nRight now my workflow is having a unique client number (the thing you implement in the next major version btw) as a custom client field for every client. A client for me is the one who is paying, which in almost all cases for me is a company.\nThe invoices are triggered by service-demand of specific clients that belong to that company, though, and thus the invoice has to mention their name in the address table. Still, the \"client\" in that sense is the company with it's client number.\nNow you propose that it should not work to choose a specific contact whose name will be shown on the invoice. You say it is a bug that this works right now.\nNow if I continue my usual workflow a \"fix\" of this \"bug\" might destroy all my invoices because the chosen contact name won't be rendered anymore on the invoice. This would be a catastrophe.\nSo if you are sure this is not intended and you might fix this someday I should convert every such used contact to a unique client with the same company name ASAP, before I f**k up the whole billing of the month.\nCatch my drift? \ud83d\ude38 . I will change my approach then ASAP.\nPlease do elaborate if using duplicate client numbers in the major update is allowed.\nIf not, I will have to issue new client numbers now for some clients for the restructure.. Then I will need to append something like a, b, c for existing clients I guess.. Would it be complex to make the login form role-agnostic?\nAs in: If an email address is used, that is not an admin/user, then check if that email address belongs to a client and if yes check if the password matches and then login to the client portal instead of the admin backend.. @hillelcoren What were the advantages of the new version, though? Anything we might miss?. I've got the same problem:\n\n\nI don't think this is something that can wait until a major release =(.. @verwilst @hillelcoren \nIf a fix really makes it only in the next major version we do need a workaround.\nAny ideas on how to fix this in a way that clients don't get confused?\nEDIT: The total amount should be calculated from all rounded intermediate steps and then rounded, I guess.. It looks like the discount is the problem here.\nAre you using the unrounded amount for further calculation?. Would you be so kind to point me towards the files I would need to look at, where the rounding magic is happening?. I'm studying this now:\nhttp://stackoverflow.com/questions/6437062/javascript-vs-php-rounding\nBut I read some time ago that using floats for currency is bad due to it's nature as handled in binary form vs decimal types, so I guess that hitting this problem was just a question of time.. Where is the function roundToTwo defined?. ~~Is this pull request related? https://github.com/invoiceninja/invoiceninja/pull/991~~\nLooks like this is about line items with more than 2 decimal places; perhaps not related.\nActually the problem in https://github.com/invoiceninja/invoiceninja/pull/991 is the same reason I opened #1306: The merchant applied the tax backwards which is just wrong. You can't calculate with a tax incl. price and then work it backwards without checking if applying the tax to the net price still is equivalent after rounding. This has nothing to do with precision.. I found the workaround:\nChange discount from percent to value and enter the value that was calculated from percent and save the invoice.\nNow the PHP calculated total amount is correct.\n@hillelcoren This should be enough pinpointing for you to figure out the problem I hope. Something gets wrong when a percentage discount is applied!\nEDIT: And this \"something\" must lie in the PHP code.. Good teamwork \ud83d\ude38. Well done \ud83d\udc4d .. This is very important, since otherwise the entry of expenses can only work correctly by entering the full price incl. tax. \nAnd invoice incl. tax prices may be wrong which causes the user to pay 1 cent extra to the finance office out of his own pocket for each wrong invoice; not even mentioning the unprofessionality of it.\n~~From what I gather there should be a php function called round, which seems to correctly apply mercantile rounding: http://www.phpbox.de/php_befehle/round.php~~\nNope I tested it, doesn't work.. OK, so I was wrong.\nDIN 1333 was changed in 1992.\nIt behaves exactly like the php round() function now.\n55.55499999999999999999999999\ngets rounded to 55.55 and\n55.5550000000\ngets rounded to 55.56.\nSo InvoiceNinja rounds correctly.\nThe merchant who wrote me the invoice was wrong.. I think there's a misunderstanding. I don't mean the outgoing invoice to the client but the incoming invoice for the expense itself.\nFor example if I buy a Software license that I sell to a customer and add it as expense, I upload the PDF invoice of my receipt to the expense.\nSometimes this receipt is not available right away and for this occasion I would like to be able to mark expenses as not including their receipt yet.. I second this notion.\nAlso, it would be great if this field would be accessible in invoice designs as a conditional variable, so you could incorporate it in a title for example.. The period behind the day is the German way to say \"31st\".\nInstead of \"der einunddrei\u00dfigste Dezember\" (the thirty-first of December) you can write 31. (31st).\nHow is it done in your language @verwilst ?. I guess the app relies on a set list of standard formats right now because they are agnostically used in all the scattered code.\nYou would have to make sure that whatever format is entered it would be displayed correctly after rendering in PHP and JavaScript.. It would work if the columns that the report produces were sortable.\nFor 2.9.5 this isn't the case.. Also I'm missing the notes there. My tax accountant doesn't see what the expenses are about.. And it seems that you can't click on the date to open the expense for further details. Is that fixed in 3.X too?. Oh and another thing:\nMy tax accountant uses the \"can view everything\" user rights but nothing else.\nThis way he has no access to reports.. This sounds like the right approach.\nLooking forward to\n- Accessibility of the reports feature for users that only have viewing rights\n- Linked expense-objects in the report table. Oh and also the client id should be shown in the customer table as its own column so you can sort by it.. @hillelcoren Do you have a (very rough) ETA on this? Maybe a solution would be to have the representation of a client name always be prepended with the client number?. @hillelcoren Thanks for fixing this! Which version will include this fix? \ud83d\ude38 . I guess there will be minor releases before, then?. Alright, yeah let's hope there won't be any bugs \ud83d\ude38.\nI will keep doubling the customer id to my custom field until 3.2 then.. Yeah this would be great. This would be rad!. This isn't included yet, right?. @hillelcoren \nThanks for including this!\nIs it possible to also include this one: https://stripe.com/docs/sources/sepa-debit ?. Well even \"Statement\" as title is not translated in the PDF.\nThe button for viewing it says \"View Statement\" even though this string exists in Transifex and is translated.. All users as in all companies with all their users?. I see, well then it seems I will require a list of initial categories then I guess.. Yes, it's just a detail that I didn't know which I have to deal with now. Luckily it's not a deal-breaker if you know about it beforehand \ud83d\ude38 . This could be one way to approach this. What I don't like about this is that it completely disables the preview there.\nIt would be better if a preview would still be created on saving of the draft, but not on changes within the invoice without saving as draft.. Clicking somewhere to see a PDF preview first is almost the same as downloading/opening it first. I can follow your reasoning, though I think another option to show the pdf preview on draft-saving would be nice just for those that do want a preview but not while not being done entering everything.. Actually I only see all activities for that specific client then, right?\nWhat I'm talking about is a list of all activities of all objects, sortable by date and user at the very least. Use case: You want to check the productivity of every user and compare them.\nI don't understand why this issue was closed so fast.. Yes, that would be great.. Is a PDF even being displayed for you?. Did you try purging all website cookies, cache, and so on?\nTry visiting the site from a private Firefox tab.\nTry disabling all script blocking addons.. @Arjoni I swear something must be wrong on your side.\nI'm using Firefox 52 with a ton of addons on Windows 10 x64 and have no issues on two Invoice Ninja instances with what you're describing. Both on 3.1.3 and after the update to 3.2.0. One of these instances has over 1000 invoices already.. Yeah, I'm REALLY struggling with finding a simple stock keeping web-app.\nThere's partkeepr but it's not that easy to install and it's not even translateable.\nIf nothing turns up in the next months I might code something myself with Django. Sadly I almost have no experience with PHP and thus can't help you out with a pull request =/.. IMHO it should be at least the double max-width than it is now, don't you think?. Can you elaborate on that?\nOn 1080p and 1440p 16:9 screens there is so much space in the top bar...\nEven if I put InvoiceNinja on the left half of my 1080p screen I can almost double the searchbar width without touching the InvoiceNinja logo.\nWhat would be your reason to not allow this?. If you take into consideration the usage of client numbers which prepend the client name can totally be about half of the searchbox size and product name keys can far exceed the searchbox itself before they become distinguishable and also GitHub doesn't show its search output exclusively as a tiny updating list below the search box, which isn't wider than the search, but allows for a full-width search result, which InvoiceNinja doesn't provide at all, I don't see how this is compareable to GitHub at all.\nIf not for a wider searchbox, at least the search results should be far wider.\nEDIT: Just to make sure: The problem herein lies in the tiny space that is used to display the search results. The width of the searchbar itself is alright, but it seems to be tied to the width of the results, which IMHO is not wide enough if you take into consideration the prepending of clients and usage of product categories in product keys.. Actually, the behaviour that the results of a field do not exceed the width of the field itself is prominent throughout InvoiceNinja but may be not a good choice.\nWhen working on an invoice, and choosing a product key from the search results in the product key column, the distinctness of keys may be not given, even on a 1080p screen, if your product keys look like:\nService - Remote Assistance - Virus-Scan\nWould it be hard or otherwise a bad design decision to make the result field a lot wider than the search field where you put the text in?\nApplying this to the searchbar, product key and other fields that spit out search results would be a real productivity boost, I'm sure of that.. I'm very glad to hear this \ud83d\udc4d \ud83d\ude38 \nSorry for the confusing description at first.. I'm not too on-the-fence about this issue. I'm ok with either way you're going \ud83d\ude38.\nJust ping me up as soon as you know how you want to proceed, so I can alter the German translation if needed.. This could be added to the reports section. Like, instead of csv, allow PDFs in a zip as export for invoices and perhaps even expense-attachments (the latter would save me a ton of time each month).. Sadly this is no option if your country enforces strict data privacy laws ^^.. @freskimo That's why I mentioned data privacy :).. Well for me, as long as all the client data is only on my server, I don't break any laws. Encryption not a must-have but reasonable. This is something you can realise yourself, though.\nThe issue here is that I don't want client data to be routed through zapier to some external PDF generator.. That's why I use a date-coding in my document numbering... \ud83d\ude38 . If I'm not mistaken this was implemented now @flowdee . You can export from reports.. A checkbox or something to opt-in (make it not sending the attachment by default) for sending a specific attached expense would be great.. Perfect!. Well you can alter the text of a send mail, so as long as this isn't a standard use-case I don't see the need for this.\nThough I also don't see a reason for not implementing another mail template to choose from, either.\nI also would very like the idea of a second level standard template, as in: If you change the initial mail you get the option to save it as standard mail template only for this specific client.. Is there no way to set it as the admin?. I see! Thanks for clarifying!. @hillelcoren Can you explain the actual difference in public and private notes here? Where is the difference in visibility?. Oh I see, thanks!. As we saw in other issues you don't actually track all changes to the invoice. I think it were product descriptions that I could change without any hint on them (the invoices) having changed.\nAlso all of your change history has no meaning if I can just go and change something in the mysql database per hand without any trace of the change in the invoice system.\nThese changes have to be immutable to the point where all parts of the software deny a change. This can be achieved by a software write-protection that is unbreakable by the user. An immutable database or digitally signed data would achieve this. These are the only software-only solutions I have found to be used in this context. The other solution is to use Write once, read many-memory (WORM), which isn't really cost-effective.\nThe PDF is not the original form of the invoice; the data in the invoicing system is. And this data has to comply to the above requirements. The PDF can be seen as a converted invoice (see point 10). Both, the original and the converted file, which may end up in front of customers eyes, have to stay immutable and contain all information. This only doesn't apply to export formats that are meant for analyzing purposes, from what I gather.. This has no meaning, as long as you don't track direct changes to the database, sadly.. Then InvoiceNinja is outside the scope of the German market. Clarifying this, is the point of this ticket.\nEDIT: (I hate our government for doing this, btw.). This is a point the user has to fulfill and InvoiceNinja can cater to this as much as it can. This could be automatic backups or checks before rolling out an update and naturally a big \"BACKUP BEFORE UPDATE!\" as a message before actually updating.\nAn audit would be no problem for the user if he/she can prove that regular backups do happen.\nInvoiceNinja doesn't have to guarantee that corruptions are excluded but should be usable in good faith, that database corruption is not a commong thing to happen IMO.\n. It all comes down to what the user is capable of.\nFrom what I understand the BigchainDB can't be altered unless completely deleted. Sure you can delete the whole database and create it anew but it is regarded as so time-intensive that nobody would tamper with a single invoice just to recreate data of many months or years.\nThe point is that you have to provide at least some kind of reasonable immutability to the original data, which is not given by MySQL. From some industry examples I know that they at least digitally sign the data.. If no database exists that is immutable by design without deleting the whole database then I agree that this won't solve the problem. Are you sure BigchainDB always sits on MongoDB? This blog here suggests otherwise: https://blog.bigchaindb.com/how-we-integrated-with-mongodb-d6a45e776d6b\nAlso I don't see how a database being based on another database makes it suddenly not immutable anymore. BigchainDB seems to have so many checkpoints for immutability that having direct access for the underlying database shouldn't have any effect for a normal end-user: https://docs.bigchaindb.com/en/latest/immutable.html\nIf I change something in the underlying database, the data should be rendered useless, or not?\nDigitally signing is indeed useless, if tampering with the data wouldn't imply recreating the whole database.\nThere has to be some kind of solution that is open source but where a key is created on first creation of a database without an easy way to just \"resign\" single data rows after you tampered with them.\nI'm positive that there's a \"tight enough\" security in the sense of the GoBD-law if you follow one of those routes. There exists GoBD-compliant software that is offline and also can be tampered with if you just recreate everything anew, so no solution is perfect and I don't think an audit would fail if at least some kind of tampering check is in place. The MySQL database right now doesn't even have the tiniest tampering check in place, so this doesn't work.\nIt just seems to be widely accepted, that an open MySQL-database where you can find out how to change data by googling a bit is just as much secure as creating your invoice in an excel table.\nI wish it was otherwise.. Not having access to the database sure is a way to ensure a software-write-protection through invoiceninja alone.\nBut even then you could just redo all of your invoices by hand or by other means.\nIf we can somehow make the user either do everything correctly or having to start completely anew if he/she wants to tamper with the data, we achieved sufficing data tampering protection I believe.. For some reason PDFs are regarded as an image format, that is not easily tampered with. Depending on how the content is created this could even be very true.\nBut your point is the reason why invoices that were originally created as PDF are not allowed. They do not fulfill the requirements, from what I understand. That's why invoices created from Word or Excel are definitely not allowed.\nThe point is: if you tampered with the PDF an audit will prove it by looking at the original data in invoiceninja. If invoiceninja itself has no tamper-security then the whole audit will go to hell.\nThere's no point in arguing with me, though. This is my Interpretation of the GoBD-law. I'm no expert nor am I allowed to give legal advice. The consulting of my IT lawyer was rather costly and I wanted the developers here to profit from the knowledge I gathered. Do with it what you may.. Currently there's also the issue of being able to change the invoice design, which is applied globally to all invoices, even those that were already sent. And there seems to be no trace about it having happened.\nThis shouldn't be allowed, to comply with the above.. @hillelcoren You would have to prevent changes to the invoice design as well, since it is applied globally right now.\nBy the way, did you have a look at #1543 ?. Concerning \"don't need immutable database\": I don't think the Immutability is a requirement itself but you have to be able to tell by metadata if changes to the database itself happened. And that metadata may not be editable. \nSee here for example: http://www.ordersprinter.de/rechtliches.php (search for MySQL in the text, you will read about digital signatures). This shouldn't be needed if you're not self-hosting, though. This is the crucial part about this. . There's a checklist from BITKOM regarding the GoBD-requirements:\nhttps://www.bitkom.org/Bitkom/Publikationen/GoBD-Checkliste-fuer-Dokumentenshymanagement-Systeme.html. Sadly not AFAIK, and it's just too much to translate in my free time for me right now.\nI'll translate the \"overview\" part of the requirements for you and some interesting bits, though [everything in square brackets is a comment by me]:\nThe GoBD verbalizes the general requirements for tax-relevant IT-systems:\n- principle of traceability and verifiability [so you'd need a history and at least unchangeable metadata]\n- principles of truth, clarity and continuous recording [like non-duplicate document numbering, as we already have], with the subtopics of\n  - integrity/completeness [this concerns especially the way you archive such documents; they have to stay complete]\n  - correctness [you have to make sure, that your system may not \"swallow\" or change documents or attachments without you noticing, actually this is happening to me right now when uploading attachments with too big of a filesize, there's no error popup]\n  - timely booking and (accounting) records [this is more of a requirement for the users... the system shouldn't promote booking without the use of receipts, though]\n  - order [this is achieved by having each type of document in its own category, like invoices and quotes]\n  - immutability\nConcerning immutability:\nGoBD requires, that the means of data-processing in-use have to be designed in a way, that all information that has been entered may not be overwritten, deleted, changed or faked in a suppressed or untraceable way. So a booking entry or (accounting) record (therefore also indices and archived documents) may not be changed in a way, so that the former content is not ascertainable.\nThe immutability is also important in conjunction with the history of meta- and basic claims-data. So basic claims data [like name and address of the company and such] may not be changeable or have to be aligned with dates of validity, so that the correct version of basic claims data is assigned to the correct documents.\n[Now follow some examples on how to make sure your system supports this... But those talk mostly about how it's alright to do anything, as long you can document each and every change to each and every document.]. What about changes to the custom invoice design?. The German GoBD is a German product and not necessarily related to EU regulations. ( https://de.wikipedia.org/wiki/Grunds%C3%A4tze_zur_ordnungsm%C3%A4%C3%9Figen_F%C3%BChrung_und_Aufbewahrung_von_B%C3%BCchern,_Aufzeichnungen_und_Unterlagen_in_elektronischer_Form_sowie_zum_Datenzugriff )\nThe DSGVO which is coming mid-2018 is born out of EU regulations and intertwines with the GoBD.\nIn Germany there's no need to have digitally signed invoices by law, but you have to keep the above things in check.. Making manipulation visible is not enough AFAIK. I think you need to either be able to reproduce a whole history of manipulation or disallow it entirely. . @pseudorocks I stopped using InvoiceNinja since almost a year now for this specific reason. One main requirement I'd suspect to be 100% safe is to NOT run anything tax-related self-hosted as long as you can freely manipulate it. (Which you can, if you can access the database directly or know the private key to an encrypted database.)\nThe main solution to self-hosted GoBD-compliant tax-related software I can imagine is based on blockchain databases (BigchainDB for example), because atomic manipulation of data there is impossible by design if you have a sophisticated workflow.\nSo IMHO: If you want GoBD-compliant tax-related documents currently you either need encrypted workflows that you don't own the private key for (software with centralized certificates, seldom open source) or you need to forget about self-hosting and stick with cloud solutions (I did the latter.). This is related to #1487 . This is related to #1487 . You would have to first make sure, that your client knew about late fees, before you issued the invoice, because otherwise he/she could just say that there was never an agreement to late fees.\nHow do you cover this? I try to always attach terms and conditions to my outgoing stuff, but it's easy to forget. That's why I created #1229 .. You would have to first make sure, that your client knew about late fees, before you issued the invoice, because otherwise he/she could just say that there was never an agreement to late fees.\nHow do you cover this? I try to always attach terms and conditions to my outgoing stuff, but it's easy to forget. That's why I created #1229 .. Today I got a similar problem.\nOne specific PDF can't be attached to an expense.\nIts size is 1321KByte.\nI increased client_max_body_size to 64M in the nginx docker, just to be sure, but it didn't help. Changing the name of the file also didn't help.\nSymptoms are an empty attachment portion on the expense screen (whereas it normally contains text saying to drop documents there) and I can't save the page. It throws an error popup saying I need to wait for the upload to finish first.\nUpload not finishing can't be the reason, though, because its only 1MB and I've got a very fast upload connection.. @hillelcoren \nI get this error when trying to upload the PDF in the dev console:\nTypeError: doc is undefined\nViewModel/self.removeDocument https://my.domain.com/expenses/254/edit:1420:22\n    deleteDocument https://my.domain.com/expenses/254/edit:1453:13\n    handleDocumentRemoved https://my.domain.com/expenses/254/edit:1306:9\n    e</t.prototype.emit https://my.domain.com/built.js:19:9051\n    t</n.prototype.removeFile https://my.domain.com/built.js:19:31824\n    handleDocumentError https://my.domain.com/expenses/254/edit:1333:5\n    e</t.prototype.emit https://my.domain.com/built.js:19:9051\n    t</n.prototype._errorProcessing https://my.domain.com/built.js:20:5370\n    t</n.prototype.uploadFiles/s</< https://my.domain.com/built.js:20:2866\n    t</n.prototype.uploadFiles/_.onload</< https://my.domain.com/built.js:20:3791\n. Sadly not it seems... I set a MAX_DOCUMENT_SIZE variable in the env and also in nginx I increased client max body size but didn't help.. I need to find out the nginx equivalent of those, then.. I think I'm missing\nupload_max_filesize = 100M\npost_max_size = 100M\nin the php.ini in the docker container.... Doing it like this didn't help:\nhttps://forum.ivorde.com/nginx-php-fpm-increase-upload-max-filesize-and-other-php-values-per-vhost-t1151.html. @eelco2k @hillelcoren I figured out my problem. I had to set client_max_body_size 0; in the server portion of the nginx.conf\nAfter that the upload_max_filesize and post_max_size PHP values in the php location worked.\nNow I can upload bigger attachments.. @eelco2k This is irrelevant, since setting client_max_body_size to 0 removes nginx control over the content-Length and the php values take over. You won't be able to upload anything more than what I've set in these php values.. @eelco2k Well 2048M can work. The thing is that this setting wasn't set at all. I don't know what the default is, from the top of my head =/.. Well that explains why I couldn't upload anything bigger than 1M, right? ;)\nYou guys should change this accordingly: https://github.com/invoiceninja/dockerfiles/blob/master/example/nginx.conf. I'm sorry I was so busy with other things that I forgot about this issue.\n'Prevent Download' was not checked.\nI checked it now and it is a lot faster now. I still experience a \"lag\", though, if description fields are big.\nThis didn't happen prior to 3.4. Oh and actually there's an error:\nFor some reason I can only see the first page of the PDF while creating the quote.\nDownloaded document shows all pages fine, though.\nEDIT: This is also true for the customer portal. They should be able to view second and further pages but can't.\nEDIT2: It seems that Microsoft Edge doesn't have a built-in pdf viewer and thus behaves like Firefox when checking the 'Prevent Download'.. @hillelcoren \nMaybe I could give you access to my instance, so you could see what may be the issue?\nI tried 3.4.2 just now and it didn't solve my problem.\nI can't work with extensive descriptions in invoices anymore without turning off prevent download.\nSomething must have changed in the rendering of the PDF in 3.4.0 to make this happen.\nMaybe this is tied to my own custom invoice design?\nThe JS seems to get stuck on viewer.js:311:\njavascript\n var suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);. Since viewer.js seems to be native to Firefox I tried Chrome after a long time of not using it.\nI have no problems in Chrome. It seems to be a Firefox related bug.. Changing the language in /settings/localization didn't help.\nShould I try via .env ?. I'm also experiencing a relatively long lag after clicking on \"send mail\" when sending an invoice or quote that didn't happen prior to 3.4. I upgraded from latest 3.3.x version to 3.4.0 back when the problems started. Tried 3.4.1 and 3.4.2 .\nI don't know how to safely or forcefully downgrade my docker instance.\nWould it be enough to docker-compose down and then up with a 3.3.X container?. I think I'll just copy the whole shebang (the database and other data is hardlinked to a folder where the docker-compose.yml and .env lives) and fire it up on another domain with 3.3.X.\nWould such a forceful downgrade work somehow?. I'm just unsure about how my invoice design and settings could have influenced this bug. What would be the easiest way to copy all of the settings over to a fresh install?. So I should first fire up a clean instance of 3.4.2 and try creating the same quote/invoice?. So you found the culprit of #1543 ...\nMaybe I can help you next time to find the bug right away. . I don't know what went differently here but I hope we can resolve the next bug I might encounter just as swiftly :D\nThanks for your hard work!\n. I see. I'm glad I can work with Firefox again :D. . The ZIP that I can create this way won't open in 7zip, WinRAR and windows-integrated ZIP.... ZIP file is not a reasonable size. (Only 1KB for three invoices)\nWhere should I look for the logs again?. It says something about failed to open stream no space left on device. But there should be space left, because I can still save my expense PDFs no problem.\n[2017-09-19 13:30:00] production.ERROR: ***ErrorException*** [0] : /var/www/app/bootstrap/cache/compiled.php [Line 7436] => file_put_contents(/var/www/app/storage/framework/sessions/27850dbe3d391575f70d2f4373f21e18a9a37cc5): failed to open stream: No space left on device. Can you give me a mail address I could send the whole log to?. Oh maybe this is the problem. There's no CHMOD command in the Dockerfiles:\n[2017-08-14 19:18:12] production.ERROR: ***ErrorException*** [0] : /var/www/app/vendor/ezyang/htmlpurifier/library/HTMLPurifier/DefinitionCache/Serializer.php [Line 292] => Directory /var/www/app/vendor/ezyang/htmlpurifier/library/HTMLPurifier/DefinitionCache/Serializer not writable, please chmod to 777 (View: /var/www/app/resources/views/invoices/email.blade.php) (View: /var/www/app/resources/views/invoices/email.blade.php). How can I access this folder with the docker container?. I'll try to change the entrypoint.sh script, to incorporate this. Maybe this will work.. I added this line at the end of the Dockerfile, now it works:\nRUN chown -R www-data:www-data /var/www/app/vendor/ezyang/htmlpurifier. I can't reproduce this, running on Docker using 3.9.2\nCan anyone tell me what the exact steps are to reproduce this?. @lalop I created a new Docker Image, by changing the InvoiceNinja version mentioned in the Dockerfile and creating a new docker image. Then I changed the image being used in my docker-compose.yml and downed + upped the containers.. I think the best way would be to integrate with https://github.com/zammad/zammad. Zammad is the most modern open source ticketing system and the successor of OSticket from what I know... . You can run it as docker containers just like invoiceninja. There's nothing simpler than cloning the docker-compose github.com repo of zammad and running docker-compose up. . There are compiled packages for many OS from zammad, that amount to simple download and run.. I'd rather have something that you seem not comfortable with, but that is modern, feature-rich, still in development and used by big companies and is installed in very few and detailed simple steps.\nThere's just a point where, if you're not even ready to read and follow a step-by-step documentation, you maybe should either pay someone to do this or just not force your wish of easiness over feature-richness onto everyone else. . Nothing in this world is for free. You either have to devote time or money. If you prefer devoting your time, then just follow the step-by-step guides. It won't take long.. Oh wow, I created a new task (in /tasks, not in /tasks/kanban) and now everything works as supposed.\nMaybe some database wasn't initialized properly?. No errors for 2018. Also remember when I said I had errors that no space was left? I just realized those errors were from September, where I really had space problems. So my problems with creating PDFs from all invoices in reports wasn't related to this.. ",
    "hoopyfrood": "+1, still getting the same error.\n. Not fixed, sorry, the seeding fails on timestamps :(\n[Illuminate\\Database\\QueryException]\n  SQLSTATE[23502]: Not null violation: 7 ERROR:  null value in column \"created_at\" violates not-null constraint\n  DETAIL:  Failing row contains (1, null, null, Omnipay, t). (SQL: insert into \"payment_libraries\" (\"name\") values (Omnipay))\nI'll look into a PR for this, pretty sure there are others using Postgres over MySQL.\n. ",
    "pc-fan": ":+1: would appreciate to be able to use InvoiceNinja with PostgreSQL! Will have to use SQLite in the meantime.\n. ",
    "raditv": "here we don't have to pay tax for shipping, the the shipping cost is not related with another cost. but like you said is there is some states/countries charge tax on shipping, it might be different tax and also can be combined with all cost tax\n. ",
    "josespinal": "+1\n. I want to add more complex fields and not for the position where the\n'custom fields' go. Also I want to make a sequential field.\nOn Mar 19, 2015 4:21 AM, \"Hillel Coren\" notifications@github.com wrote:\n\nIf you're able to the 'custom fields' feature enables you to specify your\nown fields without needing to modify the code.\nTo load the data in the frontend you'll need to make sure you bind the\ninput to the new field.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/269#issuecomment-83410428\n.\n. Yes, still not getting it.\n. Yes, I have added the field in edit.blade.php, with this code. I have to note, it's not just a field it's a one-to-one relation. The data gets saved to the database, the problem happens in the frontend, that's why I've found out it knockout.js thing.\n\n(I have also added all the references to this other model in the Invoice controller)\nThanks\nphp\n{{ Former::text('ncf_number')->label(false)->data_bind(\"value: ncf_number\")->onchange('refreshPDF()') }}\nThen added it to the change JS event for refreshPDF() : \njavascript\n$('#terms, #public_notes, #invoice_number, #invoice_date, #due_date, #po_number, #discount, #currency_id, #invoice_design_id, #recurring, #is_amount_discount, #ncf_number').change(function() {\n  setTimeout(function() {\n     refreshPDF();\n  }, 1);\n});\nAdded to the createInvoiceModel() :\njavascript\nvar invoice_ncf = ko.toJS(model).invoice_ncf;\ninvoice.invoice_ncf = invoice_ncf;\nViewModel():\n``` javascript\nself.invoice_ncf = ko.observable(data ? false : new NcfModel());\nself.setNcf = function() {\n$('#ncf_type').on('change', function(event) {\n     self.invoice_ncf().ncf_type( $(this).val() );\n   });\n}\nself.mapping = {\n... ,\n'invoice_ncf': {\n    create: function(options) {\n    //console.info('create on viewModel');\n    return new NcfModel(options.data);\n  }\n}\n```\n``` javascript\nfunction NcfModel(data) {\n        var self = this;\n        self.ncf_type = ko.observable('');\n        self.ncf_format = ko.observable('');\n        self.ncf_number = ko.observable('');\n    self.ncf_type_options = ko.observableArray(['Option1', 'Option2', 'Option3']);\n\n    if (data) {\n        ko.mapping.fromJS(data, {}, this);\n    }       \n}\n\n```\n``` javascript\n...\nif (client) { // in case it's deleted\n  for (var i=0; i= 0;\n  }   \n}\nmodel.invoice().addItem();\n// NCF\nvar invoice_ncf = {\n  'ncf_type' : invoice.invoice_ncf.type,\n  'ncf_format' : invoice.invoice_ncf.format,\n  'ncf_number' : invoice.invoice_ncf.number\n}\nko.mapping.fromJS(invoice_ncf, model.invoice_ncf().mapping, model.invoice_ncf);\n....\n@else\n  var invoice_ncf = model.invoice_ncf().ncf_type(model.ncf_type_options);\n```\n. Sorry, I forgot to add the whole formgroup div:\n``` php\n\n{{ trans('texts.ncf.type') }}\n\n    {{ Former::select('ncf_type')->options( array('Cr\u00e9dito fiscal', 'Regimenes especiales', 'Gubernamentales') )->label(false)->class('')->data_bind(\"options: ['Option1', 'Option2', 'Option3'],\n                 optionsCaption: 'Elija uno...', value: ncf_type, valueAllowUnset: true\") }}\n  \n{{ trans('texts.ncf.number') }}\n\n    {{ Former::hidden('ncf_format')->label(false)->data_bind(\"value: ncf_format\") }}\n    {{ Former::text('ncf_number')->label(false)->data_bind(\"value: ncf_number\")->onchange('refreshPDF()') }}\n  \n\n```\nNote that I did data-bind=\"with: invoice_ncf\"\n. Still stuck with this :(\n. @JeramyMywork Thanks for that. I will be developing some features I need personally. Guess I will be using master branch for dev and this stable version for production.\n@vrennert PHP 5.4\n. I'm using self host zip. Downloaded the zip for invoice-ninja-2.3.0 version.\nIt was not commented.\n. It worked when commented!\nFrom this link: https://github.com/hillelcoren/invoice-ninja/releases\n. We need to see the invoices by their details, not the clients' balance.\n. Didn't explore enough! Guilty. \nThanks\n. That did it! Thanks.\n. ",
    "illumi241": "Some more documentation in the source code would be nice, I think that is what @raditv meant.\nSomething like doxygen for example is helping to understand and review the code better.\nAn example would be e.g. the TS3 PHP Framework:\nhttps://docs.planetteamspeak.com/ts3/php/framework/\nIt is easier to integrate or to expand well documented projects if the code is documented.\n. Not on the invoice, on the \"homepage\" itself. In an imprint you've to write your address, contact information, Disclaimer, Copyright / Owner Information, Credits etc.\nFor example like here (German):\nhttp://www.bund.de/Content/DE/Service/Impressum/impressum_node.html\nOr english examples:\nhttp://www.denic.de/en/imprint.html\nhttp://www.pizzahut.de/en/imprint/\nYou have to provide an Address and as far as I know at least 2 contact options.\n. Sounds nice, I really like what you are doing!\n. Yes if that would be possible it maybe could lead to a great language support which is constantly improving but I think this would be much work, maybe as a long term goal\n. ",
    "ivo1981": "please reopen this topic; this is the number one payment method in the netherlands\n. ",
    "heichel": "What about SEPA support? Is there any update on this?\nSEPA ist the most important payment method in germany and very common in the whole EU. Stripe offers SEPA support but don't think the IN option \"US bank transfer\" works with SEPA payments. \nAlso, what about recurring invoices? With a SEPA mandate, you can withdraw the monthly amount from the customers bank account automatically. Does this work with Invoice Ninja? Would be a key feature for us.. Thanks for your quick reply. We will have a look into Mollie.\nIs auto-billing something you are planning to implement? We are planning to use Invoice Ninja and its recurring-invoices feature for our clients. It would be very customer friendly to not let them pay manually every month.. Are there any news in this regard? Can we hope to see that feature in a not-so-far away future version?\nWould be a key reason for us to use InvoiceNinja instead of another software.. @Wouter0100 sorry I thought I clicked the thumbs up already. We\u2018d really appreciate that feature!. ",
    "aggepagge": "payments/payment.blade.php has some inline style set to display the images properly, CHANGE THIS\naccounts/payments.blade.php has some inline style set to display the images properly, CHANGE THIS +\nand the style is set in JS at the bottom script in the accounts/payments.blade.php file\n. ",
    "AlexDubstone": "Oh, I didn't see the bower.json in the main directory. Thank you so much for your help and for Invoice Ninja. It is really amazing.\n. ",
    "tlbdk": "Fixed and issue with how images and fonts where referenced in the built* files. On another note should the built* files not be removed from the repo and generated by an artisan task so it could be part of the installation?\n. VAT(Value Added Tax) or sales tax is relevant for all of EU and USA, it's added on top of a product and collected by the company selling it and payed at intervals to the government,  in some countries it will vary depending on the type of goods being sold. So it would be nice if when adding products it would inherit the tax set on the product or not set it if the item is VAT free, fx. transportation in Denrmark.\n. Waiting a bit long with this one to I have the basic TimeSheet feature in place\n. In Denmark there is a similar legal requirement, most other accounting/invoicing systems here would lock the invoice after it's posted/e-mailed and require you to do a credit note for that invoice before you where allowed to create a new invoice. I save all my PDF files and do my accounting at the moment in another system so for me it's not a problem. It would be nice to have the options of locking the invoice as a default after it's posted. The in the future you could have a region setting that would enable certain defaults.\n. In EU it's called a vat number so I have added that in my fork(vat_number), do you know what it's called in other countries? or would company ID be a more generic term and then do translations for it on the invoice?\n. In Denmark it's the same number, so fx. my Central Business Register (CVR)\n is 25040511 and my VAT number is DK-25040511 when used in the EU.\nhttp://en.wikipedia.org/wiki/VAT_identification_number also seem to be used\nin a lot of other countries.\nBut there might be a need to a number of columns covering the basics, I can\nadd Company ID to my fork and keep it there, but I think we should have\nsome kind of option to hide the fields when they are not relevant, I guess\nwe could make a array with per country features fx.\n$country_specific_features['denmark'] = ['vat_number'];\n$country_specific_features['lithuania'] = ['vat_number', 'company_id'];\nand then add checks in all the relevant places so fields are added when the\ncountry is selected, how to do this nicely I don't know?\nOn Wed, Oct 22, 2014 at 11:17 AM, trigras notifications@github.com wrote:\n\nActually, there are two different things: Company Id and VAT ID. In out\ncountry (Lithuania) each company has ID, however VAT ID is only assigned\nwhen some amount of turnover is reached.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/178#issuecomment-60057244\n.\n\n\nNVersion ApS, att. Troels Liebe Bentsen\nFrederiksborgvej 139, 2, 04\n2400 Copenhagen NV\nDenmark\nCVR/SE: 25040511\nMobile: +4551511838\nE-mail: troels@nversion.dk\n. Maybe default the country of new clients to same as has been configured company details.\n. If you will accept as pull request with both Company ID and VAT Number,\nsimilar to the VAT number field I have added below for both clients and\ncompany, I can do in the next couple of days.\n[image: Inline image 1]\nOn Wed, Oct 22, 2014 at 12:32 PM, Hillel Coren notifications@github.com\nwrote:\n\nWe've hesitated to add VAT, ID, etc.. fields as each country has its own\nspecific rules. The thinking was that custom fields provided the same\nfunctionality as well as allowing for the label to be customized.\nThat said I like the approach wherein we'd have the rules defined on a per\ncountry basis. It's a far better user experience. We're working on i18n in\ngeneral...\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/178#issuecomment-60065337\n.\n\n\nNVersion ApS, att. Troels Liebe Bentsen\nFrederiksborgvej 139, 2, 04\n2400 Copenhagen NV\nDenmark\nCVR/SE: 25040511\nMobile: +4551511838\nE-mail: troels@nversion.dk\n. Hi Hillel,\nI forgot to push the Company ID commit to completely close this one, it's\nwaiting now.\nRegards Troels\nOn Thu, Nov 6, 2014 at 9:14 AM, Hillel Coren notifications@github.com\nwrote:\n\nClosed #178 https://github.com/hillelcoren/invoice-ninja/issues/178.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/178#event-189164851.\n\n\nNVersion ApS, att. Troels Liebe Bentsen\nFrederiksborgvej 139, 2, 04\n2400 Copenhagen NV\nDenmark\nCVR/SE: 25040511\nMobile: +4551511838\nE-mail: troels@nversion.dk\n. ",
    "s-limo": "I guess this is request to have tax rate as property of a product as there may be applied different taxes for different products. \n. Actually, there are two different things: Company Id and VAT ID. In out country (Lithuania) each company has ID, however VAT ID is only assigned when some amount of turnover is reached.\n. From the point of use I would say it would be nice solution:\n- Both fields available in Company settings\n- if any field is not empty, then add it to the invoice, othervise just ignore it.\nI am not deep in the implementation, however I guess this should not be very complex?\n. Ir Kaune galima gyventi\n. Lithuanian language uses Latin letters with some extensions  (\u0105\u010d\u0119\u012f\u0117 ... )\nIf this setting will be removed then maybe it does not deserve much attention right now...\n. Just to add some mess: there are some languages where are several pluralized forms depending on items count. e.g. client(s) in LT:.\n0 klient\u0173\n1 klientas\n2 klientai\n11 klient\u0173 \n...\n. good job!\n. ",
    "froosh-": "Something that would also be nice is being able to require registration / disable guest account.\n. ",
    "chernjie": "I have split them up into two pull request, would that help? This gives us time to work out the 65 and US number problem\n. @hillelcoren The code works albeit a little hackish, let me know what you think.\n. All omnipay repository have been moved to thephpleague namespace:\n- old: https://github.com/omnipay/omnipay\n- new: https://github.com/thephpleague/omnipay\nThe issue is being addressed at https://github.com/thephpleague/omnipay/issues/201, hopefully they get it fixed soon.\n. ",
    "xrb": "you can edit the /public/js/script.js file and add a new template function\n. ",
    "DaveRev": "Sorry for this question, but how can I rgenerate the built Javascript files with grunt? I installed it, but how can I regenerate the javascript? Thanks\n. ",
    "sdebacker": "[Illuminate\\Database\\QueryException]\nSQLSTATE[HY000]: General error: 1364 Field 'recommended' doesn't have a default value (SQL: insert into `gateways`\n(`name`, `provider`) values (Authorize.Net AIM, AuthorizeNet_AIM))\nthen\n[Illuminate\\Database\\QueryException]\nSQLSTATE[HY000]: General error: 1364 Field 'recommended' doesn't have a default value (SQL: insert into `gateways`\n(`name`, `provider`) values (Authorize.Net AIM, AuthorizeNet_AIM))\n. Yes, there are many other issues on creating rows where all fields are not filled. I'm modifying migrations to allow null or have a default value, see these 2 last commits : https://github.com/sdebacker/invoice-ninja/commits/master\n. After that, I think issues #122 and #152 will be fixed.\n. Now InvoiceNinja works well on my configuration with MySQL 5.6 STRICT. I also removed some hardcoded urls in templates and in routes.php.\n. I'm happy my contribution can help the project. About the url in email views, is it part of the licence that the official url should stay in footer ? if not, I don't see why not use main url from config.\n. ",
    "Chalkin": "I have the exact same problem stated above while running \"composer install\"\nI have tried following and ran everytime in problems:\n1. cloned repo and did \"composer install\"\n2. removed composer.lock on a fresh cloned repo and did \"composer install\"\n. thanks a lot, that worked!\n1. copied the vendor folder you provided\n2. did a composer install\n3. composer update\n4. the rest you explained on the github page on how to install it (bower install, database etc)\n. ",
    "jonlambert": "Have run this - unfortunately no go!\n. Downloaded a fresh install on a separate machine and the issue went away for ~7 days. Having done nothing to the install, all of a sudden it's reappeared. \n. ",
    "stewartadam": "In the mean time, can I manually install omnipay to proceed with setup?\n. ",
    "philsturgeon": "Sorry about the trouble folks, I'm with The PHP League. We're having a spot of bother with the omnipay packages on Packagist. The original developer is currently out of contact and we don't have access to change stuff on there. \nWe'll have it resolved within the next day or so, one way or the other. It might involve us creating brand new package entries on Packagist and having you reference them instead, but if you keep an eye on  thephpleague/omnipay#201 then you should get your answer one way or the other. \n. ",
    "aleguisf": "hello Hillel,\nI meant when a product can have multiple dynamic pricing, thanks for the\ninformation.\n\nIng. Alejandro Guisbert\niPX Server\nGSM: 72030144\n\u00a9 2014 IPX Bolivia, Av. 16 de Julio 1456, La Paz, Bolivia\nEste correo electr\u00f3nico y la informaci\u00f3n que contiene son confidenciales y\nes posible que est\u00e9n restringidos. Si recibi\u00f3 este correo electr\u00f3nico por\nerror, notif\u00edquenos de inmediato. No debe copiarlo por ning\u00fan motivo ni\nrevelar su contenido a nadie. Las comunicaciones de Internet no son\nseguras; es por esto que IPX no acepta responsabilidad legal por el\ncontenido de este mensaje, ya que se transmiti\u00f3 en una red p\u00fablica. Si\nsospecha que el mensaje se intercept\u00f3 o modific\u00f3, env\u00edenos un mensaje.\nPor favor, considere el medio ambiente antes de imprimir este e-mail.\n2014-09-28 2:24 GMT-04:00 Hillel Coren notifications@github.com:\n\nCould you explain what you mean by 'product prices'\n{{Former :: hidden ('data') -> data_bind (\"value: ko.toJSON (model)\")}}\nWe're using the Former library to create a hidden field called data. We\nthen use KnockoutJS to bind the field to the model in JSON format.\nwindow.model = new ContactsModel ({{$ client}});\nThis creates a new KnockoutJS ContactsModel using the client in JSON\nformat as the input.\nko.applyBindings (model);\nThe is a call to KnockoutJS to update the view with the data in the model.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/164#issuecomment-57076509\n.\n. \n",
    "5pArxz": "Wow i'm a chop! thanks @hillelcoren \n. Set a key in app.php and local/app.php, just run php artisan key:generate\nif i'm not mistaken\nOn Wed, Oct 22, 2014 at 11:19 PM, Michael S. notifications@github.com\nwrote:\n\ngetting this error as well, key property has a value.\nwhat could be my problem?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/166#issuecomment-60157318\n.\n. Also set the key in production folder and development folder, run php\nartisan env to find out what config is being loaded\n\nOn Thu, Oct 23, 2014 at 6:21 AM, SAIBA0011 notifications@github.com wrote:\n\nTry setting the key under development folder app.php as well -- just do\nphp artisan env to find out what config it's loading\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/166#issuecomment-60191088\n.\n. \n",
    "xSINIQx": "getting this error as well, key property has a value.\nwhat could be my problem?\n. I've tried setting key manually in app.php, and also tried php artisan key:generate, both didn't make a difference, will try php artisan env later to see what config actually gets read. Thanks for the advise.\n. ",
    "manlioesp": "Hi, I tried to fix this for an italian website with no luck.\nOne problem is that there are several instances of \n$invoice->invoice_date = Utils::fromSqlDate($invoice->invoice_date);\nCould you point me in the right direction to understand how to modify the date.\nI have tried with this code \nsetlocale(LC_ALL, array('it_IT.UTF-8','it_IT@euro','it_IT','italian')); \n$invoice->invoice_date = strftime('%d %B %Y', $invoice->invoice_date); \nFor me also an only numeric date would be ok.\nThank you \n. Thanks for quick reply.\nI tried with the code below. No errors, but nothing change\nsetlocale(LC_ALL, array('it_IT.UTF-8','it_IT@euro','it_IT','italian'));\n$timestamp = strtotime($invoice->invoice_date);\n$invoice->invoice_date = strftime('%d %B %Y', $timestamp);\nI replaced all the instances of\n$invoice->invoice_date = Utils::fromSqlDate($invoice->invoice_date);\nin app/controllers/InvoiceController.php\nI also try to remove all the \n$invoice->invoice_date = Utils::fromSqlDate($invoice->invoice_date);\nlines, but date format remains, although the date is obviously wrong.\nThank you.\n. I tried to discover something with no luck. I wanna know how I can add a new date and datetime format in the company settings under advanced settings. I would like to add a numeric format, otherwise is unusable for my pourpose, although I really like this amazing well done software.\nI tried to change values in the DB tables, but it seems to ignore these changes.\nThank you.\n. Thank you very much! I have added a d/mm/Y format and now works in numeric format.\nPerfect.\n. Hi fabi86, sure. You need simply to open your invoice ninja database and find the table \"date_formats\".\nThan you add a line and enter\nid= (should be 8)\nformat=d/m/Y\npicker_format=dd/mm/yyyy\nlabel=10/03/2013 (or whatever you want)\nNow you can go under \"company details\" (I guess because I'm using an italian translated version) and you can choose this new date format.\nHope it helps.\n. No, for me in Italy was ok like that.\n. If I remember correctly the template is javascript based and I didn't change it. I simply add some label directly inside some fields (for example Email: \"email: myemail@xxx.xx\") because I wanted also the labels printed in the invoice. Everything else works for me.\n. Below you can find what works for me in the date_format table\nd/m/Y   dd/mm/yyyy  10/03/2013\n. Glad to help.\nCiao\n. ",
    "fabi86": "manlioesp could you please explain the change? I would need to implement it as well :)\n. Thanks for that :) Did you also modify other parts of the app for the german/EU market?\n. It worked! How did you manage to rearrange/change the format of the client and company address to fit the italian format? And is there any way to rearrange the template?\n. I could figure it out: it only happens if you add no label to the tax categories:\nblank - 20%\nblank - 10%\nIf you add a label, it works :)\n. It is only a small adjustment to the format of the address format which gets build by the function displayClient in public/js/script.js. What should I do to change this function in that file? \n. It worked! I did the change in public/built.js and it worked. Thanks again! :)\n. ",
    "mistyk": "In date_format table its impossible to change the month to numeric ( d-MM-Y ) it generate an error \"Format Bool(0) Error\" when i save the invoice.\nIs it possible to change the local (setlocal)  to modify the english language date to EU language ?\n. Oh, you're right ;) Thanks!\n. Yeah you're right it could be very usefull !\n. Hi,\nI've always the same problem with the last version. All my \"\u00e9\" become \"&eacute\"  (when stored in Invoice_Terms table) when pdf is generated. \nHave you solved this issue ?\nThanx\n. Thanks :)\n. When i set up a Partial amount, the client received the quote with the good price (50 % partial ) but when he approuved this, the invoice generated contain the full price (with no partial)  and thats why the client can only pay full price.\nSummary: the client get the good Quote but the invoice is the only page where the client can pay, and the invoice display only the full price without take care of the partial\nWorkflow:\n1- Create quote with partial (ex: 50%)\n2- Client approuved this quote\n3- Client pay only the partial (50% of price)\n4- few days later the client pay the rest\nIt's possible ?\nSorry if i'm note so clear.. And thx u so much for your response :)\n. As a workaround i've created two invoices, one for the partial and another for the rest :/\nWith this i can get two payment with paypal.\nThanks so much for your time, \n. Have you close this issue because its ok on the release 2.1.1 ?\n. This bug is already here, when i convert a quote with partial in Invoice, the invoice not contain the partial ( but just full price)\nThx!\n. But if i create an invoice and not a quote it work nice . the problem is juste when i convert quote to invoice \n. OK thanks , and no problem with database ?\n. it's always a pleasure to have a quick reply! thanks you :) \nI think you can do it \"easily\" if  you just create a single bank invoice\n.\n1- when a payment gateway is defined\n  ->create one bank invoice which evolved in time at every new customers invoices\nEx: it will always be the same bank invoice on which tax will be added everytime with the reference of customer invoice  as description\nI do not know if it is very clear.... ;)\n. you know ? you could put this issue with enhancement label ;)\n. No sorry, my English is so poor ;) \nWhen my client paid the partial they receive the same Email that when they pay the total amount.\nWhat i would want :\n- Create an invoice with 50% partial\n  - When partial is paid :  send email to client \"Thanks for your partial paiement blabalba...$rest_to_paid\n  - When client paid the total amound Thanks you for your confidence..blabla\nIt's better ;)\nThanks ;)\n. I can't replicate too.. strange. However when i delete paiement expense and expense it still in Report Admin expense View....\n. ",
    "indesignlatam": "You're welcome, sorry im not very good with PHP and JS to be more helpful.\n. Maybe if the config for an specific country is autoloaded.\nEx. If an account is from Colombia the field is not editable.\nIf its for another country where theres no need for it just leave to the account admin choice.\nThe user must not have the posibility to change that config in pur country.\nOn Tue, Oct 21, 2014 at 7:13 AM, Hillel Coren notifications@github.com\nwrote:\n\nNot sure about this one... maybe it should be an option to enable/disable editing of the field. Would that comply? I'm sure many people like being able to change it.\nReply to this email directly or view it on GitHub:\nhttps://github.com/hillelcoren/invoice-ninja/issues/173#issuecomment-59917962\n. \n",
    "Lykegenes": "Also, the logo is blurry on the generated PDFs. Is it resized/converted?\n. I'm curretly working on PNG support, and improving the logo quality since it's a bit blurry.\nI can't seem to find where the logo is added using the jsPDF addImage() method :(\n. Thanks! But I have two questions :\n- Should I edit the migration, or create a new one because for the existing installations?\n- Should I save all the new and convert all the existing logos to PNGs?\n. Travis supports multiple builds with different configurations (PHP 5.5, 5.6, 7.0 and HHVM, for example) which is lacking in CircleCI.\nOn the other hand, CircleCI shows build artifacts directly on their platform, while Travis uploads them to Amazon S3.\nI think we should add both?\n. I made a Travis version of the build process, but none of the acceptance tests are passing! I think the issue is the virtual display (because the functional tests are passing), but I dont know how to fix it.\n. Yes, it works on CircleCI but not on Travis. Same version (1.9.8), same command (phantomjs --webdriver=4444`)\n. Great, thanks!\n. I believe the error is due to the dropzone.js plugin. Sometimes it's working, sometimes it's not...\nThe error occurs at line 439.\nif (!this.options.url) {\n        throw new Error(\"No URL provided.\");\n      }\nThe result is that nothing on the page loads.\n. I found a way to fix it, but it's pretty sketchy...\nThe issue was that the html file did not load completely for some reason. This meant that the embedded Javascript was incomplete, causing the Dropzone.js error, which was just a consequence.\nI discovered that the downloaded Html file was always cut off when outputting the $InvoiceDesigns variable. More precisely, it always cut off when writing the picture embedded in the Photo invoice design.\nThe fix : I connected to the database, deleted the Photo design, and everything's smooth now!\n. ",
    "aShure": "Hey, has there been any progress on this? I'm curious because it has been a few months and I don't want to start redundant work :)\n. ",
    "nerdoc": "I second that. After sending/payment the invoices should be immutable.\nWhat I would do (maybe a bit complicated...):\nIn fact, after sending an invoice, you must not change it again, because then your version is different from the version the client received, which is bad\u2122 ;-)\nSo after sending an invoice (or quote), it must be locked anyway to be clean. This could be done internally by a flag (and shown to the user), and \"editing\" this could only have a few causes:\n1. you want to change the quote because the client want something different. -> different quote number = new quote, delete old - or versioning (already implemented).\n2. you want to change the invoice/quote because of a typo/error etc. and resend it -> same quote number, new version\n3. you want to do tax fraud. I hope you don't.\nWhat I saw: InvoiceNinja supports versioning of entities (quotes, invoices). So for e.g. Columbia it IS possible to determine wether an invoice had been tampered with or not. You can see the last versions, and if there is a different number then something is wrong.\nBut I would recommend that after sending (not paying!) an invoice the number should be locked (without a compromise) - because: Invoice number differing between me <-> client is not good.\nAnd if I really made a mistake and wrote a wrong invoice - it should be no problem do duplicate it and delete the old one, using a new number. Finance court won't kill you if you have a dangling invoice where you have no money listed on your bank account. The problem is if you got money for something you have no invoice/bill for!\n. Don't know if this helps, but I found http://stackoverflow.com/a/13993193/818131\n. Ok, thanks ;)\n. This is already implemented.\n. I know this is a bit strange and not much information. How can I provide more information here?\n. AAAHH. Ok. Yes, this makes (more) sense. But it is completely unclear to the novice user...\nAs you already wrote - maybe change the term \"account\" - a user and a account IMHO means the same. But maybe Company is too specific. Because sometimes it could be the same company. Think of two people working together in one \"joint business\" - in my case 2 doctors in a group practice. Two different clients - in Austria we say \"Mandant\" - but I am not sure if \"mandator\" is the right English term for that. I'm not a English native speaker. Client is already taken.\nI had a talk with my wife (to talk to someone not involved), and she said that account would make more sense to her than \"company\".\nMy suggestion is: leave account as it is, but make the UI clearer:\n- When ALLOW_NEW_ACCOUNTS=true is not set, the \"Add account\" link in the user menu should not be shown at all (like the button on the login screen is not shown).\n- \"Add account\" should not link to login?new_account=true, but directly to invoice_now?new_account=true - like the button on the login screen. The login screen should be skipped here IMHO.\n- There should be a clearer hierarchy: To unlink accounts in the user menu is not really the place for it (the X). There should be a separate page for managing accounts (for an \"administrator\" role?), or at least, in the User management (/company/advanced_settings/user_management) it should be stated clearly for which company/account these users are. Only upper right in the user menu is not enough IMHO.\n- There should be a possibility to manage accounts (superuser,admin role?)\n. This is not fixed. The header does not help here. Somewhere there must be a htmlspecialchars() function used to encode the text. I can't find this, maybe it is used by Laravel indirectionally?\nFound this and this.\n. https://github.com/hillelcoren/invoice-ninja/pull/425 has a partly fix for this issue. But all mail text templates must then be changed from {{ }} to {!! !!}. And I don't know what side effects this could have.\nI think none, but even if people put Js code into a template, the mail would be sent as text and not as HTML...\n. Eh - how can I check this? How do I force InvoiceNinja to send html mails? or do you mean the mails to the clients concerning payment?\n. Thanks, very interesting. In Gmail, there is no problem at all, HTML is shown fine without problems.\n. to clean a bit up here, as my bug report grew into a mess of many inter-dependent bugs ;-)\n- I created a separate bug for the login form/account creation part: #460\n- The issue with the Unlink company is done IMHO You can unlink. What is missing is that you can unlink an account, but can't delete it. This is mostly #463. I also created a forum question how to delete companies\n- Companies should be managable from a separate place - this is already implemented - except again, deleting companies. You just can manage companies that are tied to your account, by now. But there is no \"admin\" interface (just necessary for self-hosters), this again is #463.\nEverything else here is resolved IMHO, so lets close this and keep the others more separated.\n. I just saw that this is \"partly\" implemented in an even better way, but a bit dysfunctional.\nWhen you create an invoice, and let the conditions empty, the standard cond. are chosen. If you start writing, your conditions overwrite the standard ones. If you remove all of your text and clear the field, the standard conditions appear again.\nThis would be a wonderful way if it worked too _after_ you save the invoice. If you have ever saved it, this doesn't work any more: after saving, remove the conditions text, and no standard conditions re-appear.\nIMHO, forget about my suggestion with the checkbox. Just implement the appearing of the standard conditions when the text is empty, even after saving.\nIf someone wants really empty conditions (and there are standard conditions popping in all the time), he could use a single \" \" (space) to overwrite that.\n. You're right, maybe that's too much \"automagic\" and not transparent. A \"Load default\" link (only enabled when it is different from the default seems very good to me.\n. Oh. I just saw that this is more complicated.\nAfter checking the second one (\"Updating an invoice will automatically update the product library\") and then unchecking it again, everything works as intended.\nSo this just is an issue before you change that value. Could it be a \"default\" value issue?\nCould it be that the initial value is improperly initialized, so the checkbox is checked (true), but the real (default?) value (false) is read from another place when updating the product?\n. This is a duplicate of #437.\n. added a pull request - to fix it with one click if you want :-)\n. Another thing to take into consideration: Invoice numbers should be generated at time of sending the invoice. If not, invoices that are deleted in draft state block their invoice number because it must be unique. It can't be used any more elsewhere. This is ok for sent invoices, becaue they shouldn't be changed any more, but numbers in drafts should be reusable.\nMaybe by deleting the invoice number of deleted draft invoices?\npseudo-code:\nfunction delete_invoice(invoice) {\n  if invoice->status == \"draft\" {\n    invoice.number = \"\";\n  }\n  invoice.delete();\n}\n. Yes, this is a point. Despite sending is the right point in time where an invoice number should be created (exactly: marked as sent), it may be disturbing to the user: Not having any number at all until it is sent seems a bit weird to me.\nBut wouldn't it be a possibility to delete (NULL, \"\") the number of an invoice at the deleting process? You keep it anyway, just mark it as deleted, and remove the number, so that it is free again.\n. Therefore delete numbers just Form drafts. Drafts' numbers have never been publicly seen by anybody and therefore are easily deletable. Numbers from already sent, later deleted invoices must not be NULLed. This would be pretty straightforward IMHO.\n. Hm, that's a point. But:\nIn your system (when producing the number at creating the invoice, not at sending it), this could be easily solved, which would give a clean workflow:\n- the deleting process of a draft (=unsent) invoice NULLs the invoice number.\n- the process of restoring a deleted invoice gives the invoice the next available number.\nSo you have no active invoices with an invalid state.\nThe only problem that I see is that at the moment the autoincrementing number climbs up, no matter if you deleted the invoice or not. So you get gaps in your numbering. In Austria no problem, I can't speak for other countries. To make it perfect, don't auto-increment, but take the next free one. But that's another issue ;-)\n. But I understand that in different countries this could be different. In Austria/Germany the numbers of invoices don't have to be continuous. Gaps are no problem, they only have to be unique. So deleting an invoice and keeping its number would be no problem.\nBut if in a country continuous numbers are a must, the situation is completely different. Deleting an invoice means having a gap in numbering.\nThe only way I can think of is a php flag that you set in code...? DELETABLE_NUMBERS = false or something like that, which can't be changed by users themselves...\nBut this all gets complicated ;-)\n. This could be the same problem as #381?\n. This is clearly the same bug as #381.\n. Me neither. Therefore I put it at the second patch... Because I don't like it. I think it is no problem to leave it without the emphasis. If you want I cah change it back in this patch so that you have less work ;-) - just tell me\n. Humm. I thought about that again. It is commonly a best practice for translations, to not stuck together concatenated variables. See e.g. here:\n```\n7: Avoid concatenation and overuse of single strings\nA combination of words in English will most likely not follow the same order\nin most other languages. Concatenated strings and strings that are used in \nmultiple contexts will have grammar and gender agreement issues. Gone are \nthe days of optimizing software due to memory limitations, so be generous \nwhen localizing your product.\n```\nSo, doing it with a helper function is more hackish than the current way. I really think the cleanest way (despite my first post) is, to have one translatable string per entity, like:\n```\nEnglish:\n\"show_archived_deleted_clients\" = \"Show archived/deleted clients\"\n\"show_archived_deleted_invoices\" = \"Show archived/deleted invoices\"\nGerman:\n\"show_archived_deleted_clients\" = \"Archivierte/gel\u00f6schte Kunden anzeigen\"\n\"show_archived_deleted_invoices\" = \"Archivierte/gel\u00f6schte Rechnungen anzeigen\"\n```\nThis solves many issues, helper functions and hacks, and enables proper German, French and other more complicated languages (than English). The word order is really not the same in each language.\n. maybe, you could combine it:\n    \"show_archived_deleted_entity\" = \"Archivierte/gel\u00f6schte :entities anzeigen\"\nand then replace entities with the (helper-function!) pluralized entity name. This would be a bit more flexible, but keeps the different nature / word order of each language.\n. Oh, yes, and all other in this file as well: Frequency, Industry, PaymentType etc...\n. The bootstrap does fit better into the already used design of IN, but I must admit the xdsoft one is easier and quicker to use.\n. Nice. Small bug I saw at the beginning: (should I open another bug?): If I select any day and any time, the seconds are not \"00\", but seem to be filled with the current time's seconds.\nSo if I use Dec.12 2015, 8:00, the string says 12-12-2015 8:00:20 - the \"20\" was not selected, but seems to be created on the fly.\n. Yes, that's true, after a few checks. Just use :00, and fine.\n. Works great now.\n. Definitely, #427 is the way to go. The popup could have a button \"now\" too which does exactly this. The current date-time picker already has this functionality, with the \"home\" button top left.\n. don't you link to the commit when closing issues? You can do that with the keywords close, closes, closed, fixes, fixed within the commit message, e.g. fixes #429\n. Hm. it is still a little buggy. Now the sum of  all times doesn't seem to work here. I have the following table:\n\nAnd the sum is telling me all times are 06:00:00. This can't be true.\n. And there seems to be a quirk in the error checking again:\nadd a manual time slow and \"set to now\" Change the start date to e.g -3 days and the end date to tomorrow (to distinguish the dates).\nThen add another time slot, set the start date to -5 days (or something else BEFORE the other one).\nThe dates get sorted immediately, but at the second row (the later one) the start date is still marked red despite being correct:\n\nI think it would even be better (and easier) to auto sort the dates after pressing \"SAVE\". I think it is of no real help to have it sorted so quickly - it just disturbs you - you loose overview on where you are in the editing process.\nJust let the user fill in all the dates, and after pressing save, sort them silently.\n. Yes:\n[[1441112400,1441130400],[1441173600,1441195200],[1441778400,1441789200],[1441951200,1441965600],[1442210400,1442232000],[1442383200,1442404800]]\n. I can confirm that the auto sorting works correctly now.\nHowever, the(wrong sum of times is still an issue for me - I think the auto sorting issue can be closed (I'll keenly do that as I reported the bug), I'll open a different issue for the sum thing.\n. Hm - I'm using the latest git version, but in invoice creation I can't use \"30,5\" as number. I have to write \"30.5\". There are some question/answers in #441 too. I said there that everything is fine - but it is not any more. So IMHO this should be reopened?\n. From a technical point of view, yes. I'm used to it as in any programming language I know of the period is used as separator for programming. For data entry at the user side of an application the situation is totally different, and IMHO should be country specific.\nA compromize would be auto-detecting the separator and changing it on the fly into a period. But this is an ugly hack IMHO...\nI think the entry of data must be localized as well as the output...\nAfter reading the stackexchange q/a (the link you provided) another time., I must admit that I was inclined using the period as well. BUT, quoting the first answer:\nI've been doing business in Europe, Asia and Australia for\ndecades and I have never seen the comma used as a decimal separator in any user interface\nEh - he hasn't been in Germany, France, Austria, Switzerland, or Hungary then. ;-) These are the countries at least I know of that use the comma. And what I can say of Austria (but think of other countries that use comma too): Non-technical people are consterned when their known comma does not work. I just had a friend that could not fill in the form and asked why the field won't accept \"decimal values\".\nThe use of the period . in user interfaces is almost universal nowadays, \nand I would advise against trying to overload the comma.\nThis is not true IMHO. Localization is not going away in near future. With the same argument we could try to make English the main language *AND don't support other languages any more, as English is \"almost universal nowadays\" too. They have tried with Esperanto too ;-)\nNo, I won't remove the comma (even if I must admit that I am biased because I actually use it). But after reading the link, I could live perfectly with the method of accepting \".\" and \",\" as separators in the input side.\nJust my opinion.\n. Ah, no. I can use 1000,40 in any decimal field. No problem by now. But I use the git version - maybe you already corrected this?\n. Aah, yes. there's the dot instead of the comma!\n. Screenshot of Drupal:\n\nDrupal has date \"types\" (like \"Lang\", \"Mittel\", \"Kurz\" - German for \"Long\", \"Middle\", \"Short\") which can be plugged to a \"format\" (like \"Y.m.d\").\nIn InvoiceNinja you could make this shorter with few effort - just by keeping the tables and using the \"label\" column for the \"verbose\" description (\"Long\"), as stated above.\nI'd really like to help coding as well, but I'm afraid my PHP/Laravel skills are not very brilliant.\n. What I found out is that, if I add some other time slots, they are added correctly to the sum. But the first 6 (see screenshot above) time slots are not re-calculated.\nSo to the above example I added a time slot with 5 and one with 4:30 hours, and the sum now shows 15:30 (6 + 5 + 4:30).\nAre these numbers cached in some way?\na ?clear_cache=true does not help though.\n. What is even weirder is that if I transform my task into an invoice, the sum there is the correct one, not the wrongly calculated one in the task view. Are there different sum-up procedures?\n. Wow, thanks! That did the trick, after an update and a clear cache the time is calculated correctly! Very cool.\nFixed by 254a819e92c1898c3ac98c3553a92844d256c63e.\n. Did I miss this? I can't see it in master?\n. Ah, ok. I'll do German and Spanish.\n. Same goes for \"BN #\".\nI think the best way to document these fields are hover tips with a short explanation.\n. VERY good idea.\n. Yes. Did the trick. Hillel, If you don't mind may I close bugs that I myself opened if I think they are resolved?\n. Oh, I understand. But why is just \"advanced\" for pro users? Would it be possible within the current design to enable some \"features\" for pro users within an existing tab? For the other (free) users these settings just don't exist then there?\n. Ok, just tell me if I can help here.\n. This is great.\n. Ah - no problem. I suggest Hillel takes your PR instead of mine after pulling in your changes ;-)\nDefinitely the better solution ;-)\nThanks!\nOh, you have to reopen the PR again for that!\n. @limenet To be sure we talk of the same: you mean the text showing in the web browser is \"texts.status_bezahlt\" instead of \"bezahlt\"?\n. @limenet Cache clearing had no effect, sorry. Had to do that anyway to even see the new custom date format. Done again, bot no effect.\n@hillelcoren Ouch, yes.\nid  format    picker_format    label\n10  d.m.Y     dd/mm/yyyy       03.05.2015\nTo be honest - i didn't know what the \"picker_format\" is used for, so I left it alone....\nAnyway, after changing it to dd.mm.yyyy, clearing the cache again and picking again the costom format in company settings, it worked as intended.\nCould you just give me a small hint what the picker_format is for?\n. @limenet \nOk, thank you very much. I think this is then used for displaying AND parsing the date, right (last nearly-off-topic question)?\n. Thank you very much.\n. oh. already did it with self-update + update.\nFixed the \"problem\" (in front of the computer).\nThanks.\n. I just need this for further translations - how I should translate.\n. I think it is perfectly ok to keep the informal way (except Client templates, as stated.)\nThanks.\n. Mmmmhhh. A pleasure to the eyes now ;-)\nYes, fixed, thanks ;-)\n. Yes, but like I said - it seems to be a W3C HTML standard that a Placeholdertext must not contain formatting tags like <br>. But I'm clueless here how to fix this.\n. Oh, this was fast - I can't respond that quickly sometimes. Yes I still have that problem. If I reset the Footer (\"Fu\u00dfzeile zur\u00fccksetzen\") to the default, it appears to be correct:\n\nBut after creating a new invoice all three lines are concatted to one again.\n@codedge Which OS/browser are you using?\nI just found out that this works perfectly fine in Chromium (Linux) - I get the same result as you , @codedge, and does not work unter Firefox (47.0.1) (under Linux too). Could anyone confirm this?\n. As stated, the W3C standard does not allow line breaks in the Placeholdertext, see this stackexchange question. Chrome supports it despite that, but Firefox does not it seems. Could this be fixed using Js? I mean, just put the standard text in there  (with line breaks), and if the user clicks into that field, and it still contains the standard text, delete it. If the user leaves it, and it is empty, put the standard text back in it. It's not fool proof and maybe not barrier free, but a simple start...\n. Exactly, on the PDF everything is fine. So This is not really a big issue. Just a papercut... But lead to a bit of confusion here... And some work to try to \"fix\" that in the settings, until I saw that I can't...\nBut maybe you decide it's not worth it.\n. \\<offtopic>Not completely true. In Austria, if you runa business and earn less than 30.000 \u20ac a year, you don't have to pay VAT or add them to your prices/invoices. It's called \"Kleinunternehmer\" - in Germany that should be similar. And some kinds of people (Doctors, Lawyers etc.) do not add VAT to their invoices, and may not reduce their expenses by VAT neither. But that's a different story.\n\\</offtopic>\nTLDR;\nYes, it is more difficult for standard business in German/Austria to use IN because of this.\n\nThis is a part of an invoice I just received. Prices without VAT is normal. They add the VAT at the end of the invoice, like InvoiceNinja does.. FULL ACK. Thanks @nickbe. For Austria this is exactly the same, this would be wonderful.. AAAAH. Don't pull this. I wrote \"verendet\" in some parts, which means \"perished\" :-)\n. Ok, thanks.\n. Yes, confirmed.\n. I just saw that the same client id are different clients for different accounts, so I assume that each account has his own clients table. This makes sense for your hosted environment to not mix the clients of YOUR InvoiceNinja clients, (the accounts here).\nIn this case, sharing clients is not really possible I'm afraid, and does not make sense in a hosted environment.\nSo feel free to just reject this issue.\n. What would be possible (it just occurred to me) is that one account could \"share\" a client to another account, meaning duplicating it to the other one.\nThis could be done on the customer's page (/clients/%) with a small button or link share this customer with another account - and choosing the account after clicking on that link.\nUberspace.de does it this way when moving \"money\" from one account to another. You must fill in the amount and the other account name to make a transfer. Could be done here similarly.\nMockup:\n\n. If I fill in some item fields in this invoice, the end sum is not absolutely recalculated with this amounts, but only calculated relatively - meaning that If I... AH you are fast.\n. but I just did a git pull. nothing happened. Do I have to recreate that invoice again?\n. Ok. not true. The items are saved now. but the bogus end sum is still there.\nFrom -28.266,00, adding a 200,- item, the end sum is now -28.066,00. But it should be 200,-\n. So only way is to delete this invoice?\n. Ok. deleted, client's balance is ok afterwords. I check the rest and tell you.\n. Yes, issue is fixed.\n. AH, ok. But then this should be documented in the application.\n\"optional\"? What you could do is make it a variable just like {$year}, e.g. {$recurring}, and let the user edit that {$recurring} string. A user then could use \"-rec\" for this variable, and make the pattern\n{$year}-{$count}{$recurring} so that the variable is at the end instead of the beginning.\n. Ok, I see. Incrementing IDs is nice for the visible ones (visible on the pdf), but for the \"technical\" ones (for the URL) it is, IMHO, really not important. I would not care if my e.g. 3 clients would be 2045, 2763, and 3298. (But that's just my opinion). - having doubled IDs creates some problems you have to deal with then, as shown here.\nAre you really sure your customers care about that? ;-)\n. (I would see no problem in that as the security part is checking the access to the client. So even if I enter /client/234 which is not mine, I get an \"access denied\" - but - that's just MY opinion, feel free to ignore it)\nOk, if this is your goal then there is no other way than checking the subdomain on your hosted app.\nOn local installations this could get tricky.\nWhy don't you use tokens for the email link then? Problem: can only be used once.\nThere has to be ANYthing within the URL that identifies the account (or lets you identify it over a pseudonyme like a token). Else it's impossible.\nWhen not using subdomains (your hosted app), it could be /%account_id/invoices/%invoice_id\n. But then OTOH, nobody is prevented from \"testing\" the website with:\nforeign_invoiceninja.xyz/$anyaccount_number/invoices/$any_invoice_number\nI personally don't see a problem in exposing other IDs in the URL.\nYou can enter https://plus.google.com/103927579517936519049 anytime. This is my Google profile. Nobody prevents anyone to see this. But Noone can se my private content or change my profile, except me. I think that URLs have to be transparent. And it is really no security risk to expose the IDs in the URL.\nIMHO it is a greater security risk to not expose them, because it produces all sorts of weird circumstances (like the \"bug\" here) - which have to be dealt with in a specal way - and it's more likely to make an error here than to have a clean structure...\nSo, after some thinking, /%account_id/invoices/%invoice_id is not really a solution, when you want to deal with it your way...\n. Eh - I answered because I thought \"works for me\" means /%account_id/invoices/%invoice_id works for you. Or did you mean \"I don't want to change anything here\" - then please forget my post.\n. Ah ok. But I thought you want to PREVENT people to probe for foreign ids and links? (I personally don't find a problem with that) - so having %account_id/invoices/%invoice_id for me is very clear. Thanks for your openness for ideas ;-)\nSame of course would be an option for everything else... tasks, quotes, etc....\n. No, APP_TIMEZONE is not set in my .env\n. Almost. The time zone now is correct.\nBut the string says:\n```\n30.12.2015 08:00 08:00 - 13:30\n```\nYou can see that the start time (08:00) is printed twice.\n. BTW, why this \"###\"? At least put a space between the ### and the date.\n. Hm. IIRC, \"###\" is a h3 in markdown, but requires a space. See hiere in Github:\n```\nTest\n```\ncreates \nTest\nand\n```\nTest\n```\ncreates \nTest\n--> AAAH. Ok, saw it - I am using a custom template because I needed to change some the \"invoice\" title. not quite happy with that yet, but that was the problem.\nWhen using a stock template, I see it right.\nBut I would add the space after the \"###\". Markdown uses it that way, and InvoiceNinja accepts the space without any further change as well. And it is more readable in the description field.\n. > Are you using a custom datetime format?\nAh, yes. But makes that any difference? Just changed to a stock time format - same issue.\n```\n04-12-2015 08:00 08:00 - 12:15\n``\n. Thanks, that did it. The issue is fixed too, thanks. Space shows up now, double08:00` is gone, and thanks to your tip the help CSS is ok as well. Thank you very much for your extremely quick response and fixing.\n. May I put in my 2 cents...:\nI think this feature is very important (sure, as I am the opener of this issue), but I think it is interconnected with another few things that should be considered before implementing. I too think that over flooding any software with config options is a bad idea, and sane defaults often are better than a KDE style \"configure everything\".\nWhile resetting the counter for invoices seems quite necesary, the question remains when IN should do this. Easiest way would be manually, but this does not offer any real help in a good workflow.\nSo: first of january is NOT really a good option, as some business years may start/end on other dates. making this configureable adds another option to the config.\nAnd why do I write this? Another issue that I am not sure wether to report or not, is, that at the dashboard, you can see e.g. the \"Total Revenue\", \"Average Invoice\" and \"Outstanding\" values are shown in big letters - I never knew since when this is meant. It does not seem to be related to archiving invoices (as it would make sense to me: archiving an invoice removes its value from the \"Total Revenue\" amount e.g.).\nThat would be another issue, but the connection to this here is that it should be considered to use a \"fiscal year\" kind of thing. It would add some easiness for financial reports, make it easier to see how much you earned in this period (e.g. compared to the last),  AND it would be the period where to reset the counter for invoices and quotes.\nMaybe you could consider this before implementing it in a fast manner.\nJust my 2 cents...\n. --off topic-- yes, but really, who wants to know EVERYTHING he ever earned? That could be hidden in any sub page anywhere, but not on the dashboard...\nBut I thould open another issue for that... ok? I just wanted to interconnect this thought.\n. @codedge the connection is the time period. Setting an e.g. time period like \"calendar year\" could e.g. reset the counter automatically, and reset the dashboard sum of the total revenue as well.\nArchiving then could be used for \"let the old year be gone\" - when you are done with your financial things of that year.\n. Ah, that's the point: Most people (with small businesses) use the \"calendar\" year as financial year, meaning (as you said) that the year turn at Dec 31th / Jan 1st should mark the counter reset for invoices. This is not necessarily true for all people. Depending on the size of the company, e.g. in Austria you can decide to have the financial year from April 1st to March 31th each year. And then the counter reset should be at that date.\nAnd the connection to \"archiving\" invoices etc.: There is a loose connection from this \"date\" of resetting the invoice counter to your annual financial statement - they are most of the times at the same time, right? (Also depends on the \"financial size\" of the company, here In Austria).\n2 remarks:\n1. I'm not native English, so maybe my explanations are a bit cumbersome sometimes.\n2. I may be completely wrong with my assumtions ;-)\n. Oh, and:\n\nThe amounts on the dashboard do not take any invoice schema into account.\n\nBut they should IMHO. And/or the \"financial year\" . Because, as I said, I can't imagine anyone is really interested after 4 years how much he earned in total during this 4 years, written on the dashboard! The amount of interest (at least to me) is the yearly sum.\n. Thanks, let's focus on that issue here (counter reset) - I maybe put too much disturbing in here. Implementing Counter reset does not prevent IN to implement a fiscal year later (if wanted), so maybe just ignore my thoughts on the fiscal year here in this issue.\nCounter reset is a really needed feature, and at least for me, 1.1. of the year is perfectly ok IMHO...\n. Agreed.\n. Confirmed. v2.5.0 - Search box is in its own row, here (Firefox/Linux) the last \"n\" of \"Gesamteinnahmen\" is only seen half.\n. The problem with the search bar is the fixed width. 110px is too much when the Expenses Menu is there. Here, 98px is enough to put it back into the upper line, but it is just a bad workaround.\nTo get some more space, would it be possible to change the search field to a search \"magnifier\" icon - it is expanding now anyway - could be kept: when clicking the icon, expand the until then hidden search inout field and remove the three icons while displaying the big search field...\n. ok, then I'll remove the HTTPS part - or better - just froget this branch and I make another PR with just the RewriteBase part.\n. OMG. I just saw that I wrote this into .htaccess - it should go into public/.htaccess, righ\n. Ah. another info: The invoice is a recurring one. And I sent it out manually again.\n. Ah. Maybe my fault.\nOn /settings/email_settings, I did choose \"Subdomain\" for the Invoice Link - and the PlaceHolderText is \"www\" - Idon't understand what to fill in here.\nAnd I think this is the problem, as IN sent out a wrong (inaccessible) Link to my customer: https://ninja.medworx.at/view/XYZXYZXGXZYUZXY-blah\nBut ninja.medworx.at is NOT my current domain, but was it earlier - its ninja.nerdocs.at now.\nHow can I fill in /settings/email_settings correctly?\nDo I have to choose \"Website\" and fill in \"https://ninja.nerdocs.at/invoice\" there?\nWhy is that not done automatically? The host name is known already by IN, right?\nOr do I misunderstand something here?\n. Ah yes. did that a few seconds ago. now it shows the right link, also on the invoice page -> \"view as customer\".\nSo - It is supposed to use \"subdomain\" and leave it blank?\n. BTW - this was the problem of this \"bug\" - the mail was sent with a different domain as sender - and therefore the crypto error.\nFault on my side - I transferred the install from one domain to another, and did not clear the website/subdomain.\n. Oh. No, this does fix the wrong sent Link, but I get the same \"crypto\" error  message after sending an invoice. BTW: my APP_URL=https://ninja.nerdocs.at in .env too.\nHow does IN get the alioth.uberspace.de domain name from?\n. Grmpf. Yes, my fault. in .env, the smtp server was localhost, which was wrong - I had to use the FQDN. Now everything works. Thanks for your patience ;-)\n. I can confirm, that at least removing the whitespace from my .env file (MAIL_FROM_NAME=Christian Gonz\u00e1lez -> MAIL_FROM_NAME=\"Christian Gonz\u00e1lez\") did the trick here.\n. OMG. I need to practice my English. ;-)\n. OMG. I need to practice my English. ;-)\n. Okay ;-) I'll be there.\n. Okay ;-) I'll be there.\n. Ah, forgot that again. Old habits.\n. On the page I get a Whooops as well, with frankly the same error message.\nLook live (debug enabled) at https://ninja.nerdocs.at.\n. OMG, yes. I already have fixed it resetting to 2.5.1 (no problem then!) and then stepwise going through all the minor updates. Now it works. seemed to be a cache problem.\nThanks!\n. Ah yes, this fixes it for the desktop version. Mobile, the whole fields are not shown here, even with the patch - as I just discovered:\n\nThis is on the path /tasks/%id/edit\nWithout the patch it looks the same (empty) - this is since v2.7.1 - at v2.6.9 it was ugly on mobile, but at least were the time slots visible.\n. No, no error at the time calling that page.\n. Funny, just recognized that if I make a few taps into the white area, I sometimes \"click\" on a input field and the popup opens.\n. Bang. This problem just is on Firefox (mobile, v48). If I open IN in the Android builtin browser (based on Chromium), it works perfectly - besides that it is not mobile friendly. The 200px width make the field readable, but widens the page even more than it was before. better would be a \"floating\" scheme where the from/to fields are below each other and the calculated time result not right, but below - and then a separator to the next time slot.\nBut I don't know what to do about the mobile Firefox issue. Anyone can confirm this?\n. I just added a \nreturn (\"fromEmail: '\" . $fromEmail . \"', toEmail: '\" . $toEmail . \"'\");\ninto the first line, so that it just prints out the values and returns then, and they are both correct.\n. AAARRGH.\nMisconfiguration on my side. The .env file contains 2 variables: MAIL_USERNAME and MAIL_FROM_ADDRESS - and MAIL_FROM_ADDRESS was set to my username as well. Don't know why this was working until now.\nBug on layer 8. Next time I use the forum, sorry for the spam.\n. Maybe  at https://github.com/invoiceninja/invoiceninja/blob/5b71b665be9c1f5bd1f21e7a54cf8f62c87d7cd9/app/Http/Controllers/ReportController.php#L278\nCould you write here:\ntrans(\"texts.payment_type\" . $payment->present()->method),\n\n??\nIf this is correct, I can make a PR if you want.. I just saw that under /payments, the Method isn't translated neither. It says \"Bank Transfer\" also in German, despite having that string translated available...\nI got very few time, so expect to wait long for my PR. But as this is nothing serious, just let me try ;-). @Braintelligence that sounds really good to me.\n[ Send reminder ($number) ]\nas Button. (I am too lazy creating a mockup ATM)\nor\n[ Send first reminder ]\n(and counting second, third...). Great!. What did you mean with \"other\" variables? others than :MONTH, :YEAR, :QUARTER?\nI am suffering from the same issue ;-)\nIt should be seen as important, because recurring invoices are useless if there are no dynamic variables in them. In Austria you have to specify the range of time an invoice does apply to. Using a recurring invoice urges me to manually edit each \"recurring\" invoice again to make the :YEAR variable match the current year.\nIs there a hotfix/workaround? how do I do that with a custom design?. Maybe I didn't understand the docs correctly (and the short help on the ? sign). But If I just write \"Blablah :YEAR\" into an item description, it is rendered as \"Blablah :YEAR\" down in the pdf preview, and NOT \"Blablah :2018\".. Aahh, ok. Oh yes, I can confirm that. Bug was in layer 8 :-)\nI should have looked at the invoice, not the preview.\nSo, this feature request could be closed, to be exact, as it is only the bug left that the preview should render the variables too?. Oh, yes that works. Sorry, should have posted this in the forum, not as issue.. Eh - why is this closed - was it fixed? or WontFix?. I would provide a PR if it would be possible...\nAs this script is only linked to by your doc (to a pastebin.com script) - I can't make a PR ;-)\nCould you at least include it in the code here? I'd try and make some improvements if it's ok for you.. Just saw: This seems to have happened in the last year, as some Sites got an automatic invoice at 4st of January 2018 (where it worked) - and now, without changing anything, they will get notified at 4th Jan. 2020. Which is bad, because of: They don't get any invoice, and we don't get no money ;-). Hm, no. I never changed that manually.\n```\n+----+--------------+---------------+\n| id | name         | date_interval |\n+----+--------------+---------------+\n|  1 | Weekly       | 1 week        |\n|  2 | Two weeks    | 2 weeks       |\n|  3 | Four weeks   | 4 weeks       |\n|  4 | Monthly      | 1 month       |\n|  5 | Two months   | 2 months      |\n|  6 | Three months | 3 months      |\n|  7 | Four months  | 4 months      |\n|  8 | Six months   | 6 months      |\n| 10 | Annually     | 1 year        |\n| 11 | Two years    | 2 years       |\n+----+--------------+---------------+\n``\nShould I manually correct theidvalues?\nBut the main question is: why did this happen?. Ok. I updated the database to match yours, and after acache_clear=true`, it worked as expected.\nIf I'm the only one, maybe it was a hickkup during an update. Hope noone else is affected. So IMHO you can close this issue?. BTW - I changed  the string \"Zwei Jahre\" in Transifex - to match all the other frequencies in German.. ",
    "mburamorde": "Any news about this topic? I want to export bills to the accounting system and want to lock them. \nMy workaround will be to archiv the bills, but this could be undo'ed. . First of all: Thanks for the great software!!!!\nI patched my lokal installation and activated the feature via LOCK_SENT_INVOICES=true, but:\nHow can I send reminders, if the bill is locked? Because obviously I need to remind people for outstanding payments.. Why I can not use {$clientIdNumber} in the credit note number range? . I don't need the counter, only the clientID ;). Currently I found another way and there is no further need for me.. I need the {$clientIdNumber} in the CreditNumber Schema. Any chance to get it there? . Maybe there is a problem with phantomjs_secret? In the above examples the value is allways empty.. Maybe there is a problem with phantomjs_secret? In the above examples the value is allways empty.. I need some sort of reminder delay, in german \"mahnstopp\" ;). For me the option to set some tags/flag would be enought to mark bills for no further reminders. . I need some sort of \"stop reminding\" on invoice level. Attached you find an example who this could be integrated. \n\n. ok, it not a export bug, its a feature!? Then everythink ist fine. Good Point! We have an similiar problem, because we set the wrong taxes and habe problems with the export to the financial accouting software. The best way would be to make some plausibility, i.e. If I create an bill for an german company the only valid VAT would be 19% .... I need this, too ;)\nWhy no change the \"equal_to\" into \"is less than or equal to\"?\n(due_date = '2018-07-12' OR partial_due_date = '2018-07-12') OR (due_date = '2018-07-07' OR partial_due_date = '2018-07-07') OR (due_date = '2018-06-23' OR partial_due_date = '2018-06-23'). For my installation I integrated the totaly simple solution:\n\nSorry for the Screenshot but the last pull request is some days ago ;).. ",
    "cnuvasan": "will it possible to add the customers image that is captured from the webcam and that should retrieve from other pages . kindly fix the barcode or qr code for clients personal details if the code scans the respected client is identified as login in realtime, and also for products if the product scan it automaticaly added to the invoice. ",
    "domtirendo": "Could anybody tell me, if the locking features really prevents all changes? For example: when I now change invoice header, footer etc. all existing invoices update. I would like to prevent this. . Guys, this issue is not solved. None of them works for earlier versions. And these are not fixes, just workarounds.. I use version 4.1.5 \nWhat do you mean with inclusive and non-inclusive invoices? I have only one tax rate (inclusive) in use. Sometimes I need to apply it and sometimes not (export delivery etc.). So nothing special, I guess? But as the name 'inclusive' already says, it should not change the total sum when applying. . Well, yes and no. Due to a small customization, which I need to apply to the code after each update, I usually update like once a year. Actually I was now waiting for this issue to be fixed. Perform an update just to be able to workaround a problem has limited sense imho. . Is this issue fixed in the current version?. Thank you for the effort. The fix would help me as well, but somehow I don't get it working. I followed the instructions in the developer_guide.rst which are here on github (however I can't find them in the downloaded source code). \nTo make the custom payment gateway translatable, I created unter /storage/lang/de the texts.php file with the content:\n<?php\n    return $LANG = [\n        'our_bank' => 'content here',\n    ];\nWhen I try to use it later in view.blade.php it won't show the string, just the variable name. If add the variable instead to the main texts.php it shows up properly.\nIs it intented that there is no closing ?> at the end of the file?. ",
    "codedge": "@hillelcoren This can be closed as well. Maybe someone can change the translation to sth. shorter.\n. That's probably because the raw SQL queries do not consider the prefix from the database.php. I would provide a PR if ok, @hillelcoren ?\n. @hillelcoren I cleaned up the PR. Sorry for the mess.\n. @hillelcoren \nImplementing transactions would mean to implement it in all models + controllers where save() or updated() method on a model is called - right? \nWe would need to wrap those calls in a \nDB::transaction(function () {\n    // our model save or update\n});\ntransaction statement. Anything else to consider?\n. @turbo124 you mean in the (unlikely case) that two transactions run at the same time it would cause problems as it can happen at the moment?\nIs the implement transactions topic still valid then?\n. I see. Thanks for the explanation \ud83d\udc4d \n. That PR seems to be a bit outdated ;) .. it is against master instead of develop and it got conflicts.\nMaybe it can be closed and open problems can be readdressed in a new PR?\n. Unless there is no clear way how the reliably replicate the problem there is nothing we can do here. @hillelcoren maybe close it for now.\n. This is not caused by InvoiceNinja but by PHP 5.6. There is a good article which describes the problem.\nTL;DR\n\nThe default value for always_populate_raw_post_data in PHP 5.6 is doing more harm than good. Perfectly good code will spit out that error whenever it receives a request that uses a payload (viz. non-application/x-www-form-urlencoded encoded data in the request). To fix this issue, explicitly set the value of always_populate_raw_post_data to -1 in your php.ini. That way the error won\u2019t appear.\n\nI think this can be closed, as there is nothing to be done by InvoiceNinja, @hillelcoren .\n. @hillelcoren I would look into it and create PR alright?\n. Hi @Leuloch ,\nI am not able to reproduce this issue anymore using version 2.5.2.2. \n- Which version do you use?\n- Self-hosted?\n\n. @hillelcoren I think this can be closed.\n. @hillelcoren Is this still an open issue? I couldn't reproduce this. Maybe you can give me some hints.\n. So, I hopefully found all the missing places for translations of frequency, industry, payment type and countries dropdown. \n. @hillelcoren this can be closed.\n. @hillelcoren is this resolved completly or anything open?\n. @hillelcoren that issue is fixed and can be closed, right?\n. Yes, the docs partly lack details, it's also still in discussion to maybe move the docs to another place (readthedocs). Let's see.\n@nerdoc I assume you know what \"Partial\" and \"BN#\" is for now?\n- BN # (PO#): \"Bestellnummer\" or Purchase Order number\n  - Free text, string\n- Partial: \"Teilbetrag\" or Partial due\n  - Number\nBoth is explained in the official docs\n@hillelcoren can this be closed?\n. Currently I can't think of a way how to resolve that from IN side. That seems to be only a problem with Win+FF+Typeaheadfind . I cannot replicate this on Mac+FF+Typeaheadfind.\n@nerdoc Can you check this with the latest IN and latest FF version? \n. @hillelcoren this can be closed I think.\n. I think delivery notes have nothing to do with an invoice software ;-)\nMaybe we'll add some system for plugins in the future, but nothing for now I think.\n@hillelcoren this can be closed I guess.\n. @hillelcoren There is no real detailed requirement here right now. Can this issue be closed?\n. I cannot replicate the problem with version 2.5.2.2. @WayneDV did you try with the latest version?\n. @hillelcoren I think you can close this ticket.\n. @hillelcoren is this something to consider or currently out of scope? If currently out of scope I think we can close the ticket then.\n. @nerdoc I cannot replicate this issue.\nThe placeholder text looks totally fine in my invoices, as you can see here:\n\nDo you still have that problem?\n. @hillelcoren I think this can be closed.\n. I'll take care of that and make Manual Entry translatable. I can prepare a translation for DE, EN and FR. How do you deal with the other langs @hillelcoren ?\n. I joined transifex. How can I add the missing \"Manual entry\" entries there?\n. @hillelcoren \"Manual entry\" is now in Transifex and already translated (at least for German) by me. Anything left here or can be closed?\n. @hillelcoren is that something that can/should be implemented?\n. @hillelcoren can be closed.\n. @hillelcoren I think this can be closed. \n. Alright! I would implement that - wanna have a configuration option like Reset counter at the turn of the year, so everybody can decided if he wants to use that?\n. Ok, I start implementing it. It probably make sense to start a documentation next to the implementing new settings/features. \nWhat do you think - shall I include a doc/ folder with documentation that can be imported into readthedocs.org?\n. No problem. I would implement the feature without docs. You check with your partner and we'll see.\n. @nerdoc thanks for the comment but I cannot see any connection between the invoice schema (and the reset of the counter) and reports of open/archived/deleted invoices.\nThe reset of the invoice counter does not affect any reports, as reports do not consider any invoice schema - @hillelcoren please correct me, if I am wrong.\nSorry, maybe I don't get it but: Where is the exact problem of resetting the counter at the 1st January if anything is connected to the invoice schema?\n. Which time period? Where would you set such a time period and why is the invoice schema connected to it?\nThe amounts on the dashboard do not take any invoice schema into account.\nThe reset of the counter is only triggered when the year turns (Jahreswechesel). The new year is coming from the underlying operating system. \nSorry, I still don't get it :-) \n. I see. This is a bigger topic than expected or maybe we make it bigger ;-)\n1. Invoice Ninja is not making any difference between fiscal and calendar year.\n2. A year is a year - starting at 01.01. and ending at 31.12.\n3. True is that all the connected things (reset counter, reporting periods, etc.) get much more complex when introducing the fiscal year.\n4. Even when introducing the fiscal year in Invoice Ninja the reports and amounts on the dashboard will not take the invoice schema into account. Please consider that the invoice number schema can also be only a number starting at 1. How meaningful is such invoice number 2135 ? ;-)\n\nto have the financial year from April 1st to March 31th each year. And then the counter reset should be at that date.\n\nTrue, if there would be a fiscal year in Invoice Ninja.\n\nI can't imagine anyone is really interested after 4 years how much he earned in total during this 4 years\n\nWho knows, there might be someone...\nResult/Conclusion:\n- There is no fiscal year in Invoice Ninja. I don't know if it's planned to introduce a fiscal year in Invoice Ninja. @hillelcoren any plans?\n- A fiscal year would make things a lot more complex.\n- The counter, as it is implemented now and whilst there is no fiscal year in Invoice Ninja, is correct.\n. Let's see when the PR will be merged. In any case this issue here can be closed. \n. This can be closed @hillelcoren \n. @hillelcoren I am not able to replicate this on the develop branch. Is this already fixed?\nMaybe it can be closed?\n. @hannenijhuis were you able to reproduce this with the latest version 2.6.5. In my installation the field does not show up anymore after its deletion.\n. @hillelcoren I think this can be closed.\n. Instead of only having a name of the payment type in the database, wouldn't it be better to also have a tag. That would make it possible to catch the payment type by tag and output the name via a translation.\nYou don't need this awesome mapping in routes.php anymore ;-) What if someone messes up the order in PaymentTypesSeeder ? ... \ndefine('PAYMENT_TYPE_CREDIT', 1);\ndefine('PAYMENT_TYPE_ACH', 5);\ndefine('PAYMENT_TYPE_VISA', 6);\nYou can just check with\n$model->paymentType->tag == 'CC' // i. e. for Credit card, which is more readable I think\necho trans($model->paymentType->name) // Payment types can be translatable\nJust a suggestion. I know this is a big junk of work, but it would improve a lot. What do you think @hillelcoren ?\n. @hillelcoren also a valid solution. So anything I can help you with?\nMaybe first making the payment types translateable?\n. - CSS merged and minified\n- JS merged and minified\n- Images optimized on dashboard, #1038\n- IN logo optimized, #1038 \n- Image dimensions used for <img> tag, #1038\nI think most of the stuff is done. Good progress for the optimization topic.\n. @hillelcoren I think this can be closed.\n. That's probably also fixed @hillelcoren \n. This can be closed @hillelcoren \n. I think @hillelcoren is happy to merge a PR for Vivapay based on Omnipay or to reference a package. \nI think this issue can be closed. There is currently nothing to be done here.\n. @hillelcoren is that a real issue here or just because of custom code? Couldn't really follow\n. @hillelcoren should the image be resized to a proper size after upload? Or should be check if the image is bigger than ...px and don't permit the upload?\n. @hillelcoren this can be closed I think.\n. @joshuadwire The default timezone is UTC. You can configure your own by setting APP_TIMEZONE in your .env file.\nExample: APP_TIMEZONE=Europe/Berlin\nAll supported timezones can be found here\n. Did that happen again @joshuadwire ? \nCan we close the issue for now and create a new one when it happen again? \n. @hillelcoren I think you can close the issue.\n. @hillelcoren I think you can close the issue.\n. Is that still valid? The datatables for work perfectly for me. I use version 2.5.2.2.\n@gabthefencer can you upgrade your installation and give us little ping if the error persists?\n. @hillelcoren Unless you can reproduce it I suggest closing it.\n. @dinandmentink Were you able to check version >= 2.5.2.1 if it now works for you?\n. @hillelcoren  I think this can be closed.\n. @hillelcoren is there a way to inject settings into the datepickers from PHP? \nOption 1:\nDepending on the users locale the first day of the week could be identified via Carbon::getWeekStartsAt() and then being injected into the datepickers.\nOption 2:\nJust make a configuration in the settings section and then pass the setting into the JS datepickers.\nUnfortunately I don't know how to inject the setting into JS. Any hint @hillelcoren ?\n. @hillelcoren I'll prepare a fix for that and will do like described in Option 2 (field in the localization settings).\n. @hillelcoren I cannot see any code using the jQuery Datetimepicker. If you cannot find any code either or know a place where it is used, I would remove it. It's in public/js/jquery.datetimepicker.js - so just gimme a little ping and I push another commit.\n. @hillelcoren can be closed.\n. @hillelcoren That seems to be an issue for omnipay-gocardless. Nothing for us the be solved.\n. @hillelcoren I think this can be closed. \n. @hillelcoren I believe this is already implemented and can be closed?\n. @hillelcoren can this be closed?\n. @hillelcoren I would suggest to make AES-256-CBC the default. It is more secure and obviously better support on 3rd-party system.\nI would propose a PR, alright?\n. In the Gruntfiled the one in public/js is referenced:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/Gruntfile.js#L173\n@hillelcoren any recommendations which one to be sorted out?\n. - You mean letting Bower install everything into public/vendor and then letting Grunt compiling it into one built.js ?\n- There is a script.js in public/js that probably need to be merged as well?!\n- There is a lot of unminified Javascript. Is there a reason for that?\nWhat about using Laravels Elixir to do the job, @hillelcoren ? .. Just a suggestion ;-)\n. This can be closed @hillelcoren \n. Were you able to solve your problem, @derblub ?\nThere is also a new minor release 2.6 - if you want to try that out.\nThe problem you reported seem to be related to your setup, as you were the only one having problems with getting mail notifications.\n. @hillelcoren this can be closed?\n. @hillelcoren this can be closed?\n. @hillelcoren this can be closed?\n. Weird... it disappeared. I'll close the issue for now and will open a new one when the problem occurs again.\n. That PR is probably against the wrong branch, right? I've opened another one.\n. Hehe, it really is and it is free for open-source projects. It saves tons of time reformatting code and keep it consistent. It creates PR with the code style changes and let you decided to apply. Really, really helpful.\n. You're completly right. Sorry,  for the mess. I updated the PR.\n. I see, only against 7.0, no 5.6 or 5.5 anymore?\n. @hillelcoren Great! I just pushed an addition to make also the jQuery date time picker aware of the first day of the week. It's all yours now :)\n. This can be closed? @hillelcoren \n. The content of the current CHANGELOG.md is just a rough example with some bugs/requests I've spotted. Feel free to add more for the upcoming release\n. @hillelcoren This can be closed I think.\n. Thanks @tirjok for the PR. Unfortunately it is against the master branch. We only accept PR against develop. Furthermore we already did some large refactoring regarding unused use statements, dead code, etc.\nFor further PRs please see also our updated contributing guide.\n@hillelcoren this can be closed for now. \n. @hillelcoren this can be closed - wrong branch, conflicts.\n. Ah I see. Not a problem, I'll do that and push another commit in the PR.\nThere is already a getDisplayName() method on the client model. So the logic is already there, as I can see. Only the property display_name is missing.\n. Ping :-) .. any update on that?\n. @hillelcoren Are there any updated regarding readthedocs or do you want to postpone that?\n. This change needs some proper documentation before being released. The self-hosted version users need to run a queue listener to get the jobs in the queue getting processed successfully.\n. Yes, it includes the migration scripts for using database as queue. There is a migration for the job table and one for the failed_job table which hold the faild jobs. Both is a default Laravel setup. No modifications.\nThe queue listener is an artisan command that each self-hosted user needs to run on his own php artisan queue:listen. I can check if this can be automated somehow.\n. > Is it possible to make it work out of the box for self host users and have them opt in to using the queue?\nThe problem is, that running a queue cannot be selected for one user (account) yes and for another user account no. Either the system uses a queue or not. That means, different user accounts can switch the settings but I cannot place the configuration at the user account.\nIt should be better, to make using a queue mandatory for the system when introducing the queue feature. The queue settings, i. e. using db or redis or beanstalkd, should be general. \nThe problem is, that each user account could possibly change this setting.\nDo you get my point?\n. I'll make a new branch.\n. Thanks for informing us, @kirashi3! I can reproduce the error in a fresh 2.5.2.2. install. We look into the issue might get this fixed with the next release.\nUpdate:\nIf you disable the preview function after initially created your first invoice preview, it keeps showing the old version but does not update when i. e. adding a new item to the invoice.\nYou probably meant that the whole preview window (iframe) should not be shown, when disabling the preview function, right?\nWas that made intentionally @hillelcoren or should the pdf invoice iframe not be shown when live preview is off?\n. @hillelcoren I was suspecting that. So is there a real problem/issue left here?\n. I see. Maybe documenting it properly is the key. \n. @hillelcoren I think this is the most suitable way in Laravel to tackle this issue. I intentionally fixed it only for the BitPay API field, cause that's the one reported.\nWhats do you think?\n. But this is the solution I implemented, isn't it? I am using the attributes array in the validation.php.\nOr do you mean something else?\nYou probably meant the second option in this thread, right? - Sounds like a valid option. I should better implement that?\n\nI think we could then just translate api_key and other core terms and set the rest programmatically.\n\nWell, the translation uses :attribute. The attribute is called 42_apiKey. That's why only translating api_key doesn't work I guess.\n. I'll make a new PR.\n. Pushed the last commit, it's done I think.\nThe command can:\n- Change the counter for one or multiple accounts\n- Can be forced to reset the counter regardless if new year (maybe that's helpful sometimes)\n- Be run daily to check if the year turned and sets the counter back to \"1\" automatically\n. @hillelcoren I am not sure if I really like this option more. It feels kind of inconsistent dealing with translations and how to display the validation messages.\nExamples:\n- Stripe\n  - The labels are translated to German\n  - The field apiKey: prefixed ID exists\n  - The field publishable key: prefixed ID doesn't exist\n- BitPay\n  - The labels are not translated to German\n  - The field apiKey has no translation\n  - The error message is now translated to the field for Stripe\nStripe\n\nBitpay\n\n- What do you think @hillelcoren?\n- Can we make the field/attribute names consistently translated?\n  - So the field apiKey is API Key regardless of the gateway. Is that possible?\n- Can we put all the request and validation logic from AccountGatewayController into a separate form request? Having this huge logic in a controller feels wrong\n- Any idea why publishable key has no prefixed id?\nSorry for the all questions ;)\n. Got ya! So any suggestions how to proceed? The field api key gets properly translated. So regarding the problem #768 - that's fixed.\nI think refactoring the logic and putting it in a form request in the AccountGatewayCotroller should be a different PR.\n. I added the missing fields incl. translations.\n. Ups, didn't see that there are conflicts with this branch. I'll resolve those so that you can merge afterwards.\nDone \ud83d\udc4d \n. @btafoya Any details about the error?\n. It seems like a legit change. Adding PHP extension requirements to the require section in composer.json is correct - and Invoice Ninja does rely on those extension, right? If it additionally helps PAAS platforms, i. e. Heroku, to better set up a machine it's even better.\nOne small issue: @Modelizer could you squash your commits so it is only one or create a new PR with just one commit?\n. @pguth Where exactly do you get a wrong date format? I see the correct German DD.MM.YYYY format.\n\n. Which version of Invoice Ninja do you run? Even with English selected as language I get the DD.MM.YYYY format.\n\n. I have version 2.5.2.2 running and it already includes the German date format.\n. @hillelcoren I think this can be closed.\n. The German date format is obviously missing.\nOne last check: Can you paste what's in database/seeds/DateFormatsSeeder.php ?\n. Good point, I was just thinking it's duplicate data. I just had a quick look into #437, found the place for the calculation and came across those arrays.\nI'll close this issue here and will check the clients list.\n. Still an issue or has this been solved?\n. How can I replicate this? \nIs it just running\ngit clone --no-checkout 'git@github.com:gatepay/FedACHdir.git' '/var/www/app/vendor/gatepay/FedACHdir' && cd '/var/www/app/vendor/gatepay/FedACHdir' && git remote add composer 'git@github.com:gatepay/FedACHdir.git' && git fetch composer\n?\n. I am able to replicate the error - will take a look.\nIt seems pulling the repo via SSH\n```\ndocker@default:~$ git clone --no-checkout git@github.com:gatepay/FedACHdir.git\nCloning into 'FedACHdir'...\nPermission denied (publickey).\nfatal: Could not read from remote repository.\nPlease make sure you have the correct access rights\nand the repository exists.\n```\nis causing the problem. When using the HTTPS version instead of SSH it works\ndocker@default:~$ git clone --no-checkout https://github.com/gatepay/FedACHdir.git\nCloning into 'FedACHdir'...\nremote: Counting objects: 2371, done.\nremote: Compressing objects: 100% (12/12), done.\nremote: Total 2371 (delta 3), reused 0 (delta 0), pack-reused 2359\nReceiving objects: 100% (2371/2371), 5.51 MiB | 517.00 KiB/s, done.\nResolving deltas: 100% (777/777), done.\nChecking connectivity... done.\ndocker@default:~$\nAlso running the full command succeeded then:\ndocker@default:~$ sudo git clone --no-checkout 'https://github.com/gatepay/FedACHdir.git' '/var/www/app/vendor/gatepay/FedACHdir' && cd '/var/www/app/vendor/gatepay/FedACHdir' && sudo git remote add com\nposer 'https://github.com/gatepay/FedACHdir.git' && sudo git fetch composer\nCloning into '/var/www/app/vendor/gatepay/FedACHdir'...\nremote: Counting objects: 2371, done.\nremote: Compressing objects: 100% (12/12), done.\nremote: Total 2371 (delta 3), reused 0 (delta 0), pack-reused 2359\nReceiving objects: 100% (2371/2371), 5.51 MiB | 1.47 MiB/s, done.\nResolving deltas: 100% (777/777), done.\nChecking connectivity... done.\nFrom https://github.com/gatepay/FedACHdir\n * [new branch]      master     -> composer/master\ndocker@default:/var/www/app/vendor/gatepay/FedACHdir$\n@lalop any idea if that could be the problem?\n. I sent a PR - https://github.com/invoiceninja/invoiceninja/pull/1017\n@joshuadwire Is there any reason why using SSH instead of HTTPS?\n. @lalop @hillelcoren \nThat's most likely because of Faker is in the require-dev section of the composer.json and its not pulling the develop tools when building the docker image.\nI'll check. \n. Great that it works now! \n. This is merged into master. Can the issue be closed?\n. So the new item for the tax office should be here (red arrow) and in the generated PDF?\n\nI just want to clarify where you would place the field.\n. > Why add AltThree\\Bus\\Dispatcher\nThe currently used bus (starting w/ Laravel 5.2) removed the separation of Commands and Handlers. As I'd like to use more events in the future i. e. for queuing and processing later in the background I wanted to bring this feature back - AltThree brought this feature back (from 5.1) but also kept the new stuff (from 5.2). You can find a small blog post about this here.\nA good summary of why separation of Commands and Handlers is a good choice is written down here: https://gist.github.com/rosstuck/bd47d94841c4eb678ebe\n\nCan we remove app/Jobs/SendRecurringInvoiceEmail.php and just add the extra options to SendInvoiceEmail.php\n\nAs I found that we have to much logic in most of the files (i. e. controllers with 122 lines in one method), I'd like to have them splitted. The failed method that is used by both is in the parent Job class, if we get more logic we can more easily spread that accross two events.\n. Well, I can't say yes atm. It's just for me they seem to belong in two separate events. Maybe that comes from the fact that normal emails and recurring emails are handled differently throughout the app - they use different methods, separate checks, etc. Maybe that's why I feel it belongs to two separate events.\nIf it really bothers you that much, I'd merge them into one ;-)\n. I removed the extra SendRecurringInvoiceEmailJob - now there is only one SendInvoiceEmail job, that is called regardless if recurring or not. \nThere really doesn't seem to be any difference.\nHope it gets merged ;)\n. Any updates here @afchavez ?\n. @hillelcoren I think this can be closed.\n. Thanks @sebklaus for catching that.\nWorks for me @hillelcoren - PR #978\nMaybe we can link the ticket and the PR.\n. Argh, that's a problem. Then the type hinting to Document $document on  the App\\Policies\\DocumentPolicy::view() cannot happen as  the parent view method expects $item to be any king of entity. \nI know you used this $entity thing a lot throughout IN... you sometimes cannot be sure what entity you really get. Is there any kind of name for this kind of abstraction?\nIn any case, I'll revert this line to what it was before view(User $user, $document).\n. I clicked again through IN and could not spot any more errors after my fixes. Hope that were the only ones.\n. My fault. Sorry.\n. We changed the APP_CIPHER to AES-256-CBC as rijndael-128 is an old one.\nWouldn't it have been a better idea to generate a new APP_KEY via php artisan key:generate and exchange the old key with the new one in the .env file?\n. Just to be sure:\n1. Generate the new key and update your APP_KEY in your .env file\n2. Remove the APP_CIPHER entry in your .env file - we want to use the default one (AES-256-CBC) from config/app.php\n3. Clear your caches: php artisan config:cache && php artisan cache:clear \nThis should do the trick. Let me know @bnova-stefan \n. Alright. I'll look into it and try to replicate the problem. No idea why it's breaking as it shouldn't with the correct APP_KEY being 32 chars long.\nFurthermore the error occurs in compiled.php which indicates that it did not pick up your APP_KEY changes correctly and is still working with an old key.\nNote: You can try running php artisan clear-compiled - after you changed the key. \nIf I find the problem and a solution I'll open a new issues + PR. \nThanks so far for catching this @bnova-stefan \n. Any other idea where to store that?\nYou could probably store that in the\n- DB, probably most easy one, one more field at the account table\n- Config, caching of config need to be considered\n- what else? \nWhat would you suggest?\nThe main idea behind this PR is to split a locale and a language into separate pieces, as they're not the same.\nLocale: combination of <language code>_<region code>, i. e. en_US\nLanguage: language code, en\nFurther more with having the language separated the (bootstrap, jquery) calendars can be localized and do not break when passing a locale with underscrore \"fr_CA\" to it.\n. Will be handled in another PR.\n. @hillelcoren  I think this can be closed.\n. Thanks for the contrib, @KRens!\nI got a couple of questions and remarks:\n- Next time, please see our Contribution guide first.\n  - Only PRs against develop are accepted.\n- Why do you sometimes use 3 and sometimes 4 decimals?\n- Why do you also adjust the qty to 3 decimals?\n- The function you adjusted is called roundToTwo. It would have been better to create a function roundToFour and put in your code there.\nAs it is now, we cannot merge this in, I think. What do you think @hillelcoren ?\n. - Not a problem, but keep it mind. It's not only us that have contribution rules, also other projects ;-) In any case this PR cannot be merged as it is against master branch.\n- In general I am not sure about this change. The rounding topic is very sensitive and requires thorough testing. Furthermore this whole topic play into the one explained here: https://github.com/invoiceninja/invoiceninja/issues/252\nI am totally with you, that there should be some improvements in IN - I'd suggest one of the core dev looks into the topic.\n. @hillelcoren \nSome remarks:\n- Moved all sources to resources/assets/bower\n- You initially prepended licence texts to the fonts files here\n  - I intentionally left that out as an Elixir task, ok?\n- You initially converted relative paths here in CSS files\n  - I intentionally left that out as an Elixir task, ok?\n- You initially fixed source maps here\n  - I intentionally left that out as an Elixir task as source maps are automatically generated next to the file,  ok?\nAfter clarifying the questions above I would also delete the Gruntfile.js to not get confused.\nTo install run gulp you first need to\n- Install gulp npm install -g gulp\n- Install elixir + co. npm install\n- Run elixir/gulp (unminified) gulp\n- Run elixir/gulp (minified) gulp --production\nI clicked throughout the whole app, trying to spot error - I hope I catched all of them so far. I don't know what's the best strategy here to test.\n. @oscarotero thanks for your contribution, but:\n- Read our Contribution rules\n- PRs are only accepted against the develop branch\n- Translations must only be made via Transifex\nUnfortunately we cannot accept this PR.\n. Recreated PR - old and messed up one here: https://github.com/invoiceninja/invoiceninja/pull/964\n. This fixes the problems on \"/settings/customize_design\" @hillelcoren \n. I'll provide a fix.\n. Translations should be done using Transifex. I've already added your change to Transifex. Thanks for catching that @nerdoc.\n. Any proceedings on the topic @gabthefencer ?\n. @gabthefencer any updates ?\n. @gabthefencer Not more? So the problem does not occur anymore?\n. @gabthefencer I am running the latest version of IN on a PHP7+Apache 2.4.8 install. No problem at all. I don't think this is related to PHP7.\n. @gabthefencer \nYou're getting this on the invoice creation page? I've never seen this error before and I don't get it with 2.6.7, 2.6.8, 2.6.9... \nWhat extensions do you use with Chrome? Just asking, maybe an extension is blocking,..\n. I really don't see how to further help here. We can say for sure that this is not a problem cause by Invoice Ninja I think. \n. @hillelcoren  done\n. @hillelcoren this can be closed?\n. @naneri is there any page in particular that feels slow for you? 1-2 seconds is nothing bad I'd say.\nThe assets @hillelcoren was talking about are migrated to minified versions step by step.\n. @planetahuevo\nStrange, the file database/migrations/2015_03_30_100000_create_password_resets_table.php has no line 28 in my version.\n- Do you use the latest version 2.6.7 of Invoice Ninja?\n- Can you paste the content of database/migrations/2015_03_30_100000_create_password_resets_table.php ?\n. @planetahuevo \nLooks like you got the correct latest version - just wanted to make sure.\nNormally after configuring your Vhost and browsing to your URL, you will be prompted with the install page. After filling all the details on that page the app is configured and your good to go. No further steps needed.\nWhat really look weird is the first error your getting Cannot redeclare... . That looks like there is already a class called CreatePasswordResetsTable, which is definitely not the case.\nSo you're doing a fresh install with the latest version.. hmm .. what you could do is:\n- Create an empty db\n- Fill in all the db details in your .env file with your own credentials:\n  - DB_TYPE=mysql\n  - DB_HOST=localhost\n  - DB_DATABASE=homestead\n  - DB_USERNAME=homestead\n  - DB_PASSWORD=secret\n@hillelcoren any idea?\n. @planetahuevo any news regarding the issue? Were you able to fix it and run Invoice Ninja successfully?\n. @planetahuevo Any updates here? I am not sure how we could help exactly. Didn't seem to be everybody else is having.\n. @hillelcoren I think this can be closed.\n. @hillelcoren Is he maybe referring to the point that the guide doesn't point out that gmp should be installed?\nIn their \"Install Dependencies\" section the installation of php5-gmp is missing. gmp probably came in as requirement at a later stage after the tutorial has been written.\n. This issue here can be closed. @marinus created a new one in dockerfiles repo.\nhttps://github.com/invoiceninja/dockerfiles/issues/13\n. @ I suppose you did not have any additional problems? If not please close the issue.\n. Could reproduce it. I'll take care of that.\n. @hillelcoren Ahh.. yes.. saw it just a couple of seconds before \ud83d\udc4d \nJust close the PR and the issue ;)\n. @nerdoc The problem is fixed in 2.6.10.\n\n. Yes, the logo was kind of compressed with some CSS. If it feels too big for you, just drop me a note and I would resize it properly with some graphics tool instead of CSS.\nIt was kind of intentional ;) ... I feel it still looks nice, even if it's a lot bigger.\n. Done. \n. @hillelcoren I understand that, I thought making the help text only 12px slightly help to feel the UI less cluttered but still being helpful to the user.\nYou mean just a link in navigation bar?\n\n. The left sidebar is really a good thing! \ud83d\udc4d  I'll put in the question mark icon with a link to the relevant docs page... will create a new PR.\n. Will do.\n. Good point @lalop \ud83d\udc4d  We could probably add a check if IN runs inside a docker container to just disable the updater interface.\nIs there any ENV var or something where we could reliably determine if IN runs inside a docker container?\n. Good point @lalop \ud83d\udc4d  We could probably add a check if IN runs inside a docker container to just disable the updater interface.\nIs there any ENV var or something where we could reliably determine if IN runs inside a docker container?\n. ",
    "Langdi": "Are all items on one page and the total row gets cut out?\nI checked and for me > 12 items are fine, it just puts the totals on a new page.\n. ",
    "femiji": "is the php artisan migrate to run before pushing to pagodabox or after?\npagodabox.com have ways of handling composer install\n. i am not updating an existing site\n. ran php artisan migrate --seed by adding this to my pagoda Boxfile\nweb1: \n  after_build: \n    - \"if [ ! -f composer.phar ]; then curl -s http://getcomposer.org/installer | php; fi; php composer.phar install\"\n    - \"php artisan migrate --seed\"\nbut I still get the whoops error and this is a completely fresh install\nthe folder app/storage does not even exist so no log to access\n. do i need to run php artisan migrate for a fresh install\n. So i did a new install and did not run artisan migrate\ndebugger was enabled\nand this is the error\nThe stream or file \"/var/www/app/storage/logs/laravel.log\" could not be opened: failed to open stream: Read-only file system\n. ok\nbut chmoding does not work on pagodabox.com\ni had to add this to my Boxfile\nshared_writable_dirs:\n- app/storage\nwill have to share this experience and the boxfile after i get the app running on pagoda\nhere is the new error\nfile_put_contents(/var/www/app/storage/meta/services.json): failed to open stream: No such file or directory\n. Finally got it working.\nHere is my Boxfile\nweb1: \n  after_build: \n    - \"if [ ! -f composer.phar ]; then curl -s http://getcomposer.org/installer | php; fi; php composer.phar install\"\n    - \"php artisan optimize\"\n    - \"php artisan cache:clear\"\nphp_extensions: \n    - curl\n    - zip\n    - gd\n    - mbstring\n    - mcrypt\n    - mysql\n    - pdo_mysql\n  php_version: \"5.4.14\"\n  shared_writable_dirs: \n    - app/storage/cache\n    - app/storage/debugbar\n    - app/storage/logs\n    - app/storage/sessions\n    - app/storage/views\n    - app/storage/meta\nThe full path to the different folders worked instead of app/storage\nI did a first deployment to pagodabox.com. I was able to use this to get to my dashboard and generate my password credentials. I updated the database.php with this credential and then pushed the codes again to pagoda.\nThanks.\n. ",
    "hanoii": "I think a PAID stamp/image would be a nice addition, or make it more prominent.\n. ",
    "jcolley": "If the prefix value is blank, won't that cause problems accessing the database tables, which all have the 'ninja_' prefix?\n. Yes, I set the 'ninja_' prefix. I didn't think utilizing a seemingly built-in function/feature would break things and I like to plan ahead in case I want to have multiple installations using the same database with different prefixes (such as a dev copy for updating prior to updating a live copy).\nLuckily phpMyAdmin makes it easy to Select All Tables and then 'Replace Table Prefix' function. After removing the prefix from both the database tables and the database.php, the Dashboard works great again.\nI do hope you'll consider updating the rest of your codebase to be prefix-friendly. The Dashboard seemed to be the only page giving me problems; although I hadn't tried Credits or other pages outside of creating an invoice/quote, and everything under the username drop-down menu...\n. Thank you for providing amazing support on an awesome OSS project.\nIn addition, thanks for taking my comments into consideration.\n. Yes, here's the console log.\n404 (Not Found) http://mydomain.com/vendor/bootstrap/dist/fonts/glyphicons-halflings-regular.woff\n404 (Not Found) http://mydomain.com/vendor/bootstrap/dist/fonts/glyphicons-halflings-regular.ttf\n404 (Not Found) http://mydomain.com/vendor/bootstrap/dist/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular\nWere these files supposed to be included with the 1.6.0 self-hosting zip?\nThe /vendor/bootstrap directory doesn't exist within that file, and hence on my server.\n. If I can find the time and a good tutorial for figuring out Git, I'll gladly contribute.\n. ",
    "nmkr": "replace \nvendor/bootstrap/dist/css/../fonts/xxx.eot\nto\nfonts/xxx.eot\nfor all files.. guess this need to be fixed..\n. ",
    "sanglt": "Hi @hillelcoren,\nYes, i'm set it to 0. Because our currency didn't have precision. The smallest value of our money is 100 VND, so it'll never have a decimal number.\nYou can see detail at here: http://en.wikipedia.org/wiki/Vietnamese_dong\nThanks,\n. Hi @hillelcoren,\nAre you still watching this? Is their any work you need from me to close this issue?\nThanks,\nSang.\n. I change the symbol back to '\u0111', it is a UTF-8 character.\n. Look like itisn't working with new symbol too. I change the symbol into 'VND'\n. Hi @hillelcoren,\nYes, my folk has been on latest codebase. I'm working on it now and i think i can provide a patch today.\nThanks,\n. Hi @hillelcoren \nI make a pr for this issue, so i'll close this issue.\nAlso i see same issue with the Average invoice block.\n. Hi @hillelcoren,\nI'm not good as the stylesheet. So maybe this will need some extra works.\nBut for now, both block in Dashboard is working correct\n\n. ",
    "kriegar": "Just realised I made a rookie mistake, I didnt change the directory in the apache config, I had the document root set so the page loaded but forgot to change the directory for the override settings.\nThanks for the quick reply!\n. ",
    "mustafamsy": "Thank you for your quick response. \nI am sure there are some alternatives that support UTF-8. Please, consider this in your next release/milestone. \nI have another concern and I am not sure if I should open a separate Issue for it or not. Anyhow, let me explain it to you.. \nLet's assume I added three different clients and two of them has Dollar as their currency and one has Euro same as below: \n- Client 1 = 200 Dollar invoice\n- Client 2 = 200 Dollar invoice\n- Client 3 = 100 Saudi Riyal invoice\nhttps://www.google.com/webhp?q=400+dollar+%2B+100+saudi+riyal\nIf I create an invoice for the two (with dollar as their currency) and then I create another invoice (with Riyal as the currency) and then save it. \nIf I view the dashboard, the total is not showing the correct amount. \nTotal should sum up to =  $200+$200+(100 SAR) = 426.6429 U.S. dollars\nWhat appears to me in the dashboard is Total = 500 U.S. which is Wrong!\nDoes this require special settings that I am not aware of? Please, advise. \n. @hillelcoren Glad to know that you're working on fixing this. Thank you! \n. ",
    "itsmohdabrar": "any solutions for arabic support???\n. i am eagerly waiting for the library this made my head in an oven, i tried with jspdf and pdfmake for this but i didn't work out for me and hopefuly @hillelcoren will soon give a library to support this!!\n. ",
    "benhartwich": "German jurisdiction forces, that all invoices must have an unique costumer id. I\u00b4m not sure, where you\u00b4ve added this feature, because if I add a new client I don\u00b4t get an ongoing costumer id automatically. How can I handle this?\n. Ok, perhaps it\u00b4s something for your feature list.\n. If I want to create a balance, I\u00b4ve to add outgoings, for example server costs, but how can I add such costs? Is there a way to display / export a full balance with incomings and outgings?\n. Yes!\n. Yes this fixed it -thanks!\n. When I run this I get: \n [ErrorException]\n  Missing argument 3 for Illuminate\\Session\\FileSessionHandler::__construct(), called in /var/kunden/ninja/httpdocs/invoice-ninja/bootstrap/cache/compiled.php on line 12251 and defined\n. Yes, thanks!\n. ",
    "martip07": "Never mind just install php - curl and enable it.\n. ",
    "rbloodworth": "My thoughts were that usually when a invoice is paid it is not altered. If additional service or products are issued, a second invoice is created. \nLocking the invoice would be more of a security reason in the event the incorrect invoice was selected for editing. \nYes, I did verify that the example you posted above works as described.\nWanted to get your thoughts on it..\n. I agree on the Paid stamp and the Invoice number to have the option, maybe under Invoice Settings, to enable or disable editing of the invoice number.\nAlso since I am not super familiar with Git Hub, I wanted to ask is there a method of listing all code and add-ins that were changed or added in the Version 1.6.1 update from say 1.6.0 ?  Did not want to over-ride changes applied.\nThanks.\n. ",
    "ArthurMaroulier": "Yeah great, I've just pulled and now it works :)\nThanks a lot, I'm sorry because I wasn't too far, If I had spent a little more time, I would have found it on my own :)\n. ",
    "jsposato": "Interesting, it didn't work that way for me.  I followed the instructions in the README and still had to run the migrations and add the key manually.  I see where the composer post install section should have done it, so I'm not sure what happened.\n. Ok, I'll close this PR.\nBTW, I hope to be able to contribute more.  I will be browsing the issues for things I believe I have time to work on.  It looks like you've fixed some that are still open.  Are you going to be cleaning those up soon?\n. ",
    "fabianmarz": "You're welcome!\n. Thanks for response. But the problem still exists...\n. Problem solved!\nI was also able to rename the folder \"development\" back to \"production\". :+1: \nThank you!\n. You're welcome! But obviously there was something weird going on while commiting... Sorry for this!\n. ",
    "lbr88": "btw. you might want to implement the danish public.php on invoiceninja.com because currently the page looks like this when logged in and the danish language is selected:\n\n. ",
    "zek": "Thank you. I am applying the commit.\n. ",
    "sakalauskas": "Thanks\n. Actually,\nI just noticed that it should have been changed in controller. The height should be 200px.\n. It's a bit strange that it actually it was correct initially, and I can't remember changing it. No bother, close it.\n. Yes, I am getting this error.\nTransaction cannot complete.    Instruct the customer to retry the transaction using an alternative payment method from the customer's PayPal wallet. The transaction did not complete with the customer's selected payment method. \nerror code 10417, https://developer.paypal.com/docs/classic/api/errorcodes/\nTried Googling, but never found a solution how to solve it yet, so disabled the paypal payments. \nIs there is a easy way to set the paypal api information with Sandbox data?\n. Pulled in latest version and seems that with sandbox mode it's working fine. Then it might be something with my paypal account, that caused this issue.\nThanks.\n. Thanks, for the suggestions, I will try other day to pull latest branch and clear database cache. Hope this fix the issue. For now, on Firefox and Vivaldi browsers invoice editing is working fine, so it's not a big issue.\nWill keep you updated, when I find what was wrong.\n. on latest version everything works great. Thanks.\n. If you would read closely, it says that you need php extension fileinfo installed in your machine.\nAs I can see you are running windows. Not really a good choice for developing.\nhttps://answers.launchpad.net/xibo/+question/250547\nLook here. Seems that xampp update should solve the issue.\n. Thanks!\nAh sorry, left so many empty lines and spaces when I was testing and didn't check when committed.\nP.S. omnipay-gocardless merged my PR, but haven't created a new tag, so I think you need to add to composer.json to fetch dev-master branch of \"omnipay/gocardless\"\n\"omnipay/gocardless\": \"dev-master\"\n. Yeah, adding to index makes more sense.  I've moved it to index() method\n. Thanks @hillelcoren!\n. @hillelcoren Sorry, \nDid not notice the translations were managed on Transifex.\nI've registered and requested to join the group on Transifex.. ",
    "yogant06": "Does the demo site get updated with the new fix ?\n. Just to understand your fix, does that mean now the pdf file will show the actual entered unit cost - in this scenario 0.02925? \n. It will be much better if it could before the fix. I present a case scenario for your consideration :\nI charge my client  a default 4.5 cents per unit cost --> 0.045 \nIf I gave them 35% discount,\nMy unit cost will now be 0.02925 \nThus it will be good if I could enter this amount as the unit cost. \nAs per before you fix, this could be entered at your unit cost.\nplease consider this as in will make Invoice ninja a fantastic system\nI\n. Ok noted. Maybe you could have considered applying the 2 decimal rounding to the line total. \nOf course that will mean also changing the product library and other areas to also accept a higher precision. \nNearly a wonderful system.\nLook forward to the future releases.\n. ",
    "dgmdevelopment": "+1 for this.. I need 4 decimal rounding. Is there any workaround for this i could implement. Otherwise I have to hold off on using this but would like to start using now.  Thanks!\n. Hello, having similar issue. when i ran php artisan migrate:reset i got Migration table not found.  Not sure what i need to do.  Thanks!\n. on running php artisan migrate:install i got,\n````` [Illuminate\\Database\\QueryException]\n  SQLSTATE[42S02]: Base table or view not found: 1146 Table 'ninja.migrations' doesn't exist (SQL: create tablemigrations(migrationvar\n  char(255) not null,batch` int not null) default character set utf8 collate utf8_unicode_ci)\n[PDOException]\n  SQLSTATE[42S02]: Base table or view not found: 1146 Table 'ninja.migrations' doesn't exist```\n``````\n. My .env file has the correct config.  I'm running this locally on a windows pc using Bitnami Wamp Stack.  Issue started when i had to reinstall Bitnami.  i moved my apps and databases into the new folders, and set my configurations accordingly. When i loaded the App Url in browser it went to setup, then errors about these missing migrations tables began to appear. I installed invoice-ninja by cloning the repo, then composer install.\nEdit: yikes, not sure what happened but all my tables were blanked, i lost all my data, which wasnt alot but I got no warning or anything.  Not sure what I did.  \nhttp://imgur.com/OX56eRY\n. ",
    "arsonik": "Is it going to work for expenses too ? @hillelcoren . So it's quite simple I'm adding an expense\nwith an amount before tax to 109.425 EUR\nthe tax is set to 20%\nwich make the total 131.31 EUR \nBut because the expense's amount is rounded before applying the tax there's is no way I can get a correct total with either 109.42 or 109.43 EUR.. Oh great ! \nI thought I needed to fork/fix the actual file, which was a lot of work just for 2 changes !. Haven\u2019t tried yet but good job !!! \ud83d\udc4d\ud83c\udffb. Ho I just saw your post after creating mine about expenses attachments.\nhttps://github.com/invoiceninja/invoiceninja/issues/1621. ",
    "Grovespaz": "Thanks, I'm doing that now. In the long run triggers could probably be used to replace that functionality in SQL Server. I would like it to be transparent to your code however, to keep the change contained to the SQL Server specific framework code.\nI'm running into some other seed issues now, to do with explicitly inserting identity id's. This is possible in SQL Server but you have to preface it with a certain command.\nI'll just play with this by myself for a bit to see if I can make this A. work and B. a non-invasive change.\nWould you be open to eventually mergin something like this into your repository or would you prefer not to?\nThank you for your help thus far.\n. ",
    "vrennert": "I have reworked the pdf store flow as requested and kept as much of the safety as possible.\n. @josespinal what version of php do you run on?\n. @josespinal thanks for the feedback, turns out that core feature is available from php 5.5+\n@JeramyMywork i'll create a patch to get that working in the required 5.4+\n. ",
    "mindscratch": "Looks like that fixed it.\n. ",
    "vertazzar": "that is true, also one last question\ni see in the code that there are no traces of using DB::transaction(Closure) - transactions in general\nis that intentional? thanks\n. alright thanks\n. ",
    "turbo124": "DB::transaction will not help with the race condition of concurrent requests creating the same calculated public_id.\nAs InvoiceNinja uses a shared schema database, the only way to guarantee unique calculated public_id fields is to create a SEQUENCE generator on the database (Stored Proc).\n. @codedge DB::transaction does not lock the table. you are still able to perform dirty reads, which means the issue will persist even when using DB::transaction.\nThe only way this could work is if you used LOCK TABLE within DB::transaction, however this will cause any other queries that hit that table (whilst it is locked) to fail immediately with a PDO error of unable to access table!\nTable locking needs to occur at the DBMS level, hence the sequence generator that I mentioned previously.\nFor this specific problem, you are correct, the implement transactions topic is not valid.\n. My error in closing this. This is certainly something which we want to sort out.\n. The end user should never be presented ANY system information including RAW IDs in a multi tenant environment.\n. Could we use /%account_key/invoices/%invoice_id ?\n\nOn 6 Jan 2016, at 12:23 AM, Hillel Coren notifications@github.com wrote:\nUsing /%account_id/invoices/%invoice_id the invoice_id would be a public account specific id. For account_id I lean towards using the value of the subdomain field.\nA links would be:\n/company1/invoices/1\n/company2/invoices/1\n...\n\u2014\nReply to this email directly or view it on GitHub https://github.com/invoiceninja/invoiceninja/issues/578#issuecomment-168996228.\n. +1, looks great!\n. Hi,\n\nCan you turn on debugging and let us know what error is being displayed?\nThanks\n. Your JSON doesn't include a cost field under invoice items. The validator\nrequires a valid invoice item object, so you may need to at least pass\ncost=0 and it should work.\nWe are working to make any API errors return descriptive messages to help\nin these scenarios.\nOn 2 February 2016 at 08:04, cytech notifications@github.com wrote:\n\nunderstood\nthanx\ndave\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/679#issuecomment-178189191\n.\n. I haven't been able to replicate the issue unfortunately.\n\nclient_id format has not changed.\nThe only way i can see this error occurring is if your POST data does not\ncontain the client_id field.\nCan you log the output of $data on line 109 of InvoiceApiController.php,\nthis will help exclude the possibility of the webserver caching stale POST\nrequests.\nOn 2 February 2016 at 09:41, cytech notifications@github.com wrote:\n\nas i mentioned, when i add the cost field i then get a descriptive error\n{\"email\":[\"The email field is required when client id is not\npresent.\"],\"client_id\":[\"The client id field is required when email is not\npresent.\"]}\nits failing the validation\nhas the client_id format (or call to it) changed?\nAlso (and not a show stopper) originally when a product_key was supplied\nand existed, it returned the\ncost.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/679#issuecomment-178236177\n.\n. Hi Leo,\n\nA Invoice has a dependancy on a valid client. \nA client has a dependancy on a valid Contact. For a contact to be valid the email field or phone field must be filled.\nThis looks like the issue you are having.\n. I think there may have been an issue with the latest database migration, i have push up a fix for this.\nOnce you have updated to the latest master branch you will need to reset the previous migrations and attempt installation again\nphp artisan migrate:reset\n. If you have used git to clone the master branch simply type git pull from the directory.\n. it may be easier to simply update the file in question.\nnavigate to database -> migrations -> 2016_02_01_135956_add_source_currency_to_expenses.php\nreplace the function up() with the following.\n```\npublic function up()\n{\n    Schema::table('expenses', function (Blueprint $table) {\n    $table->dropColumn('foreign_amount');\n\n    $table->unsignedInteger('currency_id')->nullable(false)->change();\n    $table->renameColumn('currency_id', 'invoice_currency_id');\n    $table->unsignedInteger('expense_currency_id');\n\n});\n\nSchema::table('expenses', function (Blueprint $table) {\n\n    // set account value so we're able to create foreign constraint\n    DB::statement('update expenses e\n                    left join accounts a on a.id = e.account_id\n                    set e.expense_currency_id = COALESCE(a.currency_id, 1)');\n\n    $table->foreign('invoice_currency_id')->references('id')->on('currencies');\n    $table->foreign('expense_currency_id')->references('id')->on('currencies');\n});\n\n}\n```\n. If you navigate to the config directory, you can set the database credentials directly in the database.php file.\n. It looks like there may have been an issue when you updated the migration file.\nTry overwriting the file 2016_02_01_135956_add_source_currency_to_expenses.php from the master branch which you downloaded.\nOnce you have done that, do the reset and migrationfrom the command line\nphp artisan migrate:reset\nphp artisan migrate\n. Great to hear. Enjoy!\n. You may want to try\nphp artisan migrate:install\nfollowed by \nphp artisan migrate\n. Has your database config changed/confirmed correct?\nIt appears that there is an issue with the base laravel installation if it cannot generate the migration table.\nCan you advise how you have installed invoice-ninja?\n. I can confirm that the latest version of InvoiceNinja does work with PHP7.0\n. What are the permissions on .env? it should be writable by the web server user (typically www-data) to exclude this as an issue you can do the following in the project root.\ntouch .env\nchmod 777 .env\n. @dansleboby we'll take a PR for the gantt.. @joshuadwire \nCan you please review changes made to dashboard.blade.php\nThere seems to be some typos where you are referencing $payment where it does not exist.\nThere are also references to model attributes which do not exist, ie:\n@if (\\App\\Models\\Client::canViewItemByOwner($payment->client_user_id))\nshould this be\n@if (\\App\\Models\\Client::canViewItemByOwner($payment->client->user_id))\n. @joshuadwire \nCan you please review changes made to dashboard.blade.php\nThere seems to be some typos where you are referencing $payment where it does not exist.\nThere are also references to model attributes which do not exist, ie:\n@if (\\App\\Models\\Client::canViewItemByOwner($payment->client_user_id))\nshould this be\n@if (\\App\\Models\\Client::canViewItemByOwner($payment->client->user_id))\n. Thanks!\nLooks like this is fixed now.\n. looks like this: http://stackoverflow.com/questions/34395129/fatal-error-while-upgrading-laravel-5-1-to-5-2\nmake sure bootstrap/ is writable as it is probable staled cached files causing this issue.\n. FWIW, using latest Development branch, I am able to download the pdf using /download/{invitation_key} via API.\n\nOn 28 May 2016, at 1:59 AM, Wim Godden notifications@github.com wrote:\nThe access log shows 500, the error log shows nothing.\nIf I add\nwhatever();\nto public/index.php\nI get an error in the error log. But nothing with the /download/{invitation_key}\nVery very odd...\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub https://github.com/invoiceninja/invoiceninja/issues/896#issuecomment-222185109, or mute the thread https://github.com/notifications/unsubscribe/AFjtejKC2BBG5irtxaSWR5PUQ3Ml6dD0ks5qFxTRgaJpZM4Ioh02.\n. I believe you will also need to add in the query parameter api_secret\n\nAlso ensure your .env file has the api_secret and its value set.\n. you can use the API to retrieve the static dataset with the following endpoint\napi/v1/static\nthis will return the following Classes\n'currencies' => 'App\\Models\\Currency',\n    'sizes' => 'App\\Models\\Size',\n    'industries' => 'App\\Models\\Industry',\n    'timezones' => 'App\\Models\\Timezone',\n    'dateFormats' => 'App\\Models\\DateFormat',\n    'datetimeFormats' => 'App\\Models\\DatetimeFormat',\n    'languages' => 'App\\Models\\Language',\n    'paymentTerms' => 'App\\Models\\PaymentTerm',\n    'paymentTypes' => 'App\\Models\\PaymentType',\n    'countries' => 'App\\Models\\Country',\n    'invoiceDesigns' => 'App\\Models\\InvoiceDesign',\n    'invoiceStatus' => 'App\\Models\\InvoiceStatus',\n    'frequencies' => 'App\\Models\\Frequency',\n    'gateways' => 'App\\Models\\Gateway',\n    'fonts' => 'App\\Models\\Font',\n    'banks' => 'App\\Models\\Bank',\n. Using PHP7 dramatically improves load times for Invoice Ninja. I would say this can now be closed. Users having performance issues should consider moving to PHP 7.0 to reap the benefits of the JIT compiler. Invoice Ninja is fully compatible with PHP 7\n. How have you confirmed it has been installed?  phpinfo();?\nOn Wed., 19 Jul. 2017, 11:49 Braunson Yager, notifications@github.com\nwrote:\n\nI'm hitting this issue on shared hosting (yes I know, don't use shared).\nHost is Dreamhost, seems gmp is enabled but still hitting this error.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1026#issuecomment-316248536,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjteivahY1CtdN_-yRHIqmYew2FN_SLks5sPWCagaJpZM4JZ5j0\n.\n. Have you run composer install again?\n\nOn Wed., 19 Jul. 2017, 12:56 Braunson Yager, notifications@github.com\nwrote:\n\nYes\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1026#issuecomment-316258415,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjtet4AZ6VJ_8fMkfWbwsZ3jJbw-7vaks5sPXBygaJpZM4JZ5j0\n.\n. There is an option under Settings -> Invoice Design where you can remove the paid to date if no payment has been received yet.\n\nI think the structure of the invoice is correct, but one improvement which could be made is the ability to generate an Account Statement for a client which would itemise outstanding amounts.\n. Thanks!\n. When I have seen this error it has typically been because of CPU limits with Cloudlinux or memory exhaustion issues.\nYou should have more information in your web logs\n. @DeanWard we certainly intend for the installation to be a smooth one-click-ish process.\nIn regards to permission levels. We could use a bitmask against the created API token which will enable fine grained permission levels. The user would obviously need to see what access levels the application requests prior to agreeing to installation.\nIn regards to vetting applications - I think we will be working closely with developers initially to provide support and feedback, and also ensure the application integrates and functions as described.\n. @SupFrost we'd be happy to provide whatever support you need to create this module.\nWe know there is a lot of bolt of functionality that people would love to integrate with Invoice Ninja and we are committed to creating an ecosystem that sits on top of it. :)\n. There are some holes in the API, if you let me know where you are seeing HTML error responses instead of JSON, i'll add it to my backlog.\n1138 resolves the ability to get a single client back from the API.\n. #1189 clears a lot of issues with the API, along with non-existent routes now returns JSON errors rather than html.. Is the DB running out of memory?\nThis sounds like an infrastructure issue.\n. @JacobDB it depends on what operating system you are using, if you are using linux running: dmesg will dump system events, if mysql is running out of memory the process may be terminated by the system, so you will see an mysql error. you could also try to see if the mysql pid is still alive\nps aux | grep mysql\nor\nservice mysql status\n. did you run composer install ?. \nperhaps you may need:\nphp artisan clear-compiled\n. The link on the readme works for me, it points to:\nhttps://www.invoiceninja.com/self-host/. Just to clarify, Laravel - which InvoiceNinja is built on - depends on mcrypt.\nPHP has recently deprecated mcrypt from 7.1, mcrypt is still available however when accessing mcrypt it will now throw a deprecated error, adjusting error-reporting to not display errors for deprecated methods will allow you to use PHP 7.1 as normal.. @cinemast ahh yes, you are correct. InvoiceNinja is built on Laravel 5.2, i'll have a look to see how much work is involved.. @hillelcoren \nThe fix looks relatively simple to discard mcrypt.\n\nReplace .env variable APP_CIPHER from rijndael-128 TO AES-256-CBC\nFix Line 282 of AppController.php \n\nfwrite($fp, \"\\nAPP_CIPHER=rijndael-128\");\nTo the new cipher\nfwrite($fp, \"\\nAPP_CIPHER=AES-256-CBC\");\nThe only other consideration would be updating composer.json to remove the dependancy.\nAny ideas of how to automate the update of the .env file in existing installations? \nThe other option here is to force the AES-256-CBC cypher and remove this as a configurable option?. I can't replicate this. I wonder if this is a browser compatibility issue?. I am not sure I follow, when you create a recurring invoice - even if it is for a future date, when you save it, the due date will be explicitly shown.. I cannot replicate this.. #1225. I'm not sure I follow this. If i make a change to the product description, this is reflected accurately in the invoice history.\nProduct data in existing invoices are NOT updated by design. For example, if a product cost changes at a later date, this should not affect existing invoices. The product description is a point in time representation of a product.. @Braintelligence I have failed to replicate this issue.\nInvoice history works perfectly for me. I am wondering if there is an issue with your browser type.. We will continue to see these types of issues as PHP 7.x evolves with strong type enforcement.. #1259. @haleksandre which branch are you on? Develop branch has been updated, but Master is lagging until the next release.. @haleksandre no worries! :). Which branch are you looking at? The changes may be present in Develop, or they may not yet have been brought across from Transiflex.\n. This is a localization issue.. If you edit the client and set their Country, your invoice be localized to the format for that Country.\n. @konstantinrudi thanks for this. The settings page has just been stubbed for now, this should be implemented shortly.\nThe primary goal is to get the app working to the same level as the iPhone and then implement the more advanced features such as tasks etc etc. Please continue to post any bugs you see and i'll get fixes in place.. @konstantinrudi I've seen a few alignment issues across different devices, Can you have a look at the edit payment page for me also? Are you using the latest version? It should be build 8.. @konstantinrudi thanks, this helps!. @konstantinrudi \nFixes in 1.0.12\n\nFixed API so that Activity feed is displayed correctly.\nFixed Black home icon.\nFixed Upcoming/Overdue invoice lists on dashboard.\nFixed Payment screen (select payment type should work).\n. @konstantinrudi you may need to log out and log back in to see the reflected changes. \n\nOne question, when creating a new payment are all fields disabled? Or just the payment type is unselectable?\nI've pushed up another version which addresses the following:\nv.1.0.14\n\nInvoice item layout improvements across devices.\nPayment screen now displaying correct data for existing payments.. @konstantinrudi payment now selectable in v1.0.19\n\nCan you advise what is not appearing correctly in dashboard? upcoming vs overdue invoices?. v1.0.22 \nInvoice items are now being shown correctly when clicked.\n. @konstantinrudi \nv1.0.24 - available shortly.\n1. Payment invoices now exclude quotes.\n2. Client name is now filtered like this:\n-client name\n-primary contact name\n-primary contact phone\n-primary contact email address\n\nDashboard should now be reporting correctly? Upcoming vs  Overdue should now report normally from my testing, please advise.\n\nthanks!. @hcaldicott thanks for this. I have noticed this also, I will work on a solution for this for the next release.\nthks. Also make sure it has installed correctly, from the commandline:\nwhich phantomjs\nshould return the path it is installed on.. This has happened to me previously, and was caused by deleting data from the database.. @konstantinrudi We haven't been able to replicate this in either Chrome or Safari.\n. you shouldn't be trying to merge develop into master. develop is head of master.. @AugmentBLU  You shouldn't have to use trusted proxies with Cloudflare.\nI'd need to understand a bit more about the architecture and how you have set everything up to comment further. But suffice to say we also utilise Cloudflare with no issues using a very vanilla setup.. I am not familiar with digital oceans load balancers, but I would check to make sure it is forwarding to your invoiceninja server on port 443, not port 80!\nIt sounds like you are sending data to port 80 which will not be via SSL, and you are then hitting a infinite redirect loop.\nIn your nginx config, setup a listener on port 80, and redirect to 443 which will also help.\nI've configured a similar setup Cloudflare -> LB -> InvoiceNinja App server with no issues.\nLet us know how you go!. Absolutely the issue. The server hosting invoice ninja must listen on 443 if you force https\nIf your setup is secure, ie only the load balancer is the only appliance that can access the invoice ninja server (and on its own private network), you could turn off REQUIRE_HTTPS=true and it should 'just work'. is your base url / APP_URL  http:// or https:// ?. It sounds like port 80 is the issue. You must use port 443 on your invoiceninja server to keep everything encrypted. It sounds like this is the issue.. Another option would be to use Cloudflare as your SSL endpoint and use http back to the DO load balancer -> Your Invoice Ninja server. You have to implement IP restrictions however to only cloudflare IPs to enhance security.. @AugmentBLU  \ud83d\udc4d . @thueske this is due to mcrypt being dropped from 7.1, mcrypt needs to be installed from PECL to ensure backward compatibility with older Invoice Ninja installations. This is in the next iOS release.. The fix is fairly simple, simply disable one of these in the functional.suite.yml file\ndisabled:\n    - Laravel5\n\npatch coming shortly.. fix is now in master. Check the error logs. /storage/logs/laravel-error.log\n. I cannot recreate this error.. Hi Ryan,\nThanks for picking this up.\n. 5. I think immutability as you have defined it is well outside the scope of Invoice Ninja due to its design.\n. So a question based on your feedback above.\nPoint one you talk about if a database is corrupted, then it would be good to have copies of the PDF.\nThen you go on to say that the invoice data in the database is the original form.\nIn the case of DB corruption. How is InvoiceNinja supposed to cater for this fault tolerance? In this instance if you are audited, you would fail to comply based on your above description?. I think the main issue here is that even with all the possible safeguards to ensure immutability a user can always circumvent the system.\nDeleting the blockchain, deleting the storage location of checksums etc etc would be very effective at subverting any application level checks engineered in to keep the data immutable. This is an issue with any open system where the user has access to both front end and back end operations. \nThe only way to mitigate such malicious actions would be to entrust a third party (who complies with each regions regulatory requirements) to maintain the blockchain / checksums.\n. BigChain sits on top of MongoDB, so whilst at an application level it may be immutable - a user with direct access to the database once again could do what they will.\nAs I mentioned above, even digitally signing won't stop what you are trying to achieve here.\nWe'll discuss this internally to see if there is anyway we provide a solution which fits the specific legislation involved here. The obvious solution would be to implement digital signing, but the end user could no longer self-host their own installations else they would not comply with this specific legislation.. @karneaud if you have direct access to the database, using a GUI such as phpMyAdmin you could export the tables to CSV and then try importing direct from a CSV file into InvoiceNinja.. @karneaud this may help bring your data over from Invoice Plane,\nhttps://github.com/turbo124/Plane2Ninja. I'd suggest getting the gateway implemented and PR'd upstream into OmniPay and then test on InvoiceNinja. @MathiasRenner we will still respond to your queries, but as this is not a reproducible bug/error we mark these as questions and close to keep our Issues list manageable.. @MathiasRenner we will still respond to your queries, but as this is not a reproducible bug/error we mark these as questions and close to keep our Issues list manageable.. What version of PHP are you using?\nAre you using mod_php?\nI've read about issues with PCRE libs which can cause this error to pop up:\nhttps://github.com/swiftmailer/swiftmailer/issues/382#issuecomment-112405491. What version of PHP are you using?\nAre you using mod_php?\nI've read about issues with PCRE libs which can cause this error to pop up:\nhttps://github.com/swiftmailer/swiftmailer/issues/382#issuecomment-112405491. @Artistan \nI've just tried to recreate the issue by pulling from master and setting it up. And am unable to recreate the issue.\nI think this may be an environment issue?. Self hosted users may have multiple users with different levels of access permissions. \nSo logging on by using the URL and API_SECRET is insufficient from an authentication perspective.. Thanks!. The $ is a placeholder until the real data comes down from the server. I'll look into handling this better.. Does this only happen on the first load?\nWhen you close and open the app again, does it still show $?\nOn the very first load of the app, the app does not have enough information to correctly display the users localized data, hence the placeholders.. Thanks!. This indicates an issue with the SSL handshake between client and server. I've tested this on Chrome 60.0.3112.101 also, and haven't been able to recreate this issue.\nI wonder if you are sitting behind some form of reverse proxy which may be interfering with the SSL connection?. We don't use any blocking architecture. This does not sound like an issue with Invoice Ninja.. What concerns do you have about the current security?\nCurrently, a user must know:\n\nURL\nAPI_SECRET\nAnd also know your login credentials to access your data.\n. What concerns do you have about the current security?\n\nCurrently, a user must know:\n\nURL\nAPI_SECRET\nAnd also know your login credentials to access your data.\n. @mannp can you please explain further as I am finding it difficult to understand your request. \n\nAre you asking that we sending the authentication details twice? Once to Apache in headers and once to the webserver?\nFail2Ban requires Basic Authentication, which is something we do not use at all. We use authentication at the application level, not the webserver level.\n. @mannp can you please explain further as I am finding it difficult to understand your request. \nAre you asking that we sending the authentication details twice? Once to Apache in headers and once to the webserver?\nFail2Ban requires Basic Authentication, which is something we do not use at all. We use authentication at the application level, not the webserver level.\n. It would be bad practice to cache a users credentials within the Android application. I don't see this functionality as necessary nor practical for the majority of IN users unfortunately.. It would be bad practice to cache a users credentials within the Android application. I don't see this functionality as necessary nor practical for the majority of IN users unfortunately.. @mannp we do not do it for the standard username and password. That is bad practice.. @mannp we do not do it for the standard username and password. That is bad practice.. @mannp I am looking to implement fingerprint auth to users who have already logged into the application to provide an additional layer of security.\nThe API design (which is what the mobile apps use) is based on similar principles to any other major application such as Facebook, Twitter, Instagram etc where a user logs in once and then uses tokens to access data.\nI'm all for improving the security aspects of the application, I just don't think this particular direction would be practical or even used by the majority of users.. @mannp I am looking to implement fingerprint auth to users who have already logged into the application to provide an additional layer of security.\nThe API design (which is what the mobile apps use) is based on similar principles to any other major application such as Facebook, Twitter, Instagram etc where a user logs in once and then uses tokens to access data.\nI'm all for improving the security aspects of the application, I just don't think this particular direction would be practical or even used by the majority of users.. Please PR against Develop branch not Master. \nThanks. Unfortunately we don't have any methods to filter data in the API, so you'll need to post-process this yourself.. invoiceninja/app/Http/Controllers/InvoiceApiController.php. The default login page has brutal force rate limiting as standard. If however you want to go an extra step, you could always setup basic auth to protect the login URL, here are some examples for nginx or apache\n. @eelco2k has this been just since the 1.5.0 update?. fixed in v1.5.1 build 28. Are you self hosted? How often are you running the crons?. The API is not designed to be consumed by a browser.\nYou need to be able to pass a token in the header. @zploskey thanks for the PR, however manage our translations over at Transiflex.\nhttps://www.transifex.com/invoice-ninja/invoice-ninja/. Hi @zploskey I believe you would need to register for each language that needed changes in transiflex.\nI'll default to @hillelcoren for his comments about how to move forward on this PR.\nThanks.. Thanks for the PR, could you please PR against the develop branch.. @ninetu thanks again! you may want to reset your branch to HEAD so you are only bringing in your changes to the PR.. What browser are testing this scenario with?\nI've attempted to create the issue with Chrome Version 61.0.3163.100 (Official Build) (64-bit) and have been unable to recreate it.. @ProDigySML ok, i was able to recreate this now. I had to starting typing the client name for the popup to load.. We are hoping to have this released in V4.6. #2345 \nWe've just merged the new Ticket Module into the develop branch on Github. We'd really appreciate some feedback. I am writing up some documentation now, however for those that are keen to get started, please clone the repo and give it a test drive.\nWe rely on PostMark (https://account.postmarkapp.com/sign_up) for the transactional emails. They have a free trial to get started with. Once you have configured your email processing server, you'll need to set the inbound webhook to:\nhttps://YOUR_URL/tickets/inbound\nThe only other important setup requirement is to configure your local_part of your support domain... ie SUPPORT@YOUR_URL\nOnce this has been done you can start processing inbound tickets! (edited). @DASPRiD along with upgrading to Laravel 5.4, there are other dependent packages which are not PHP 7.2 ready so it may be some time before 7.2 is supported. . If you are using Apache webserver, sometimes the URL is rewritten with /public appended. If this is the case, you will need to add /public to your URL.. Not possible currently.. This would involve custom development. There would be no way to implement with the current architecture.. @Tristian this is a webserver configuration issue, Depending on which webserver, you'll need to catch the URI, and then pass the correct server block.\nYou may find it easier to configure using a subdomain such as invoiceninja.example.com instead of a /invoiceninja URI.. @net4u could this be due to the image processing extension not being loaded? I believe php-gd is required.. @intradesign we manage our translations in Transiflex, uou can help update the untranslated strings by joining the project here: https://www.transifex.com/invoice-ninja/invoice-ninja/. @nerdoc as there are too many edge cases I don't think we'll be devoting resources to this. If the community submits PRs for cases they hit, we will merge those in.. @nerdoc I've recently written a ansible installer which will install Invoice Ninja and all of its dependencies this should replace this auto-update script.\nThe ansible script will also track the Master repo on GIT and apply the changes directly, so it is our recommended method to install and keep Invoice Ninja updated:\nhttps://github.com/invoiceninja/ansible-installer. Does the webserver have permission to execute this command? If it is working on the command line, but not via the application, it sounds like a permissions issue.. If the error logs are blank my guess would be the permissions on the storage folder are set incorrectly.\nensure it is read/writable by the websever.. Anything that makes SSL adoption frictionless is good in my book, and this complies with RFC 5785 . @alexbogias could you PR this against the develop branch please.. @alexbogias something funky has happened here :) could you please review with just your change.. @michidk this could be added to the invoice footer text. Thanks for following up, we'll look into putting a fix in for this.. Any host which uses cPanel, will be able to run regular cron jobs. Given that >90% of hosted platforms are running cPanel, I'd suggest firstly trying to find a host that can provide this basic service for you.. @OrionMediaFX can you explain what you means by \nThat can also make it difficult to stay on track or fiddling with multiple programs and compiling.. @pubmania out of interest, i'd like to follow up on the android app issue you have seen.\nCan you confirm if there is a per client currency, or a account currency set?. @pubmania I can recreate this crash. I will push up a fix for this.\nI'll also modify the expense view to show more information such as Vendor/Client/Category. v1.11.0 build 105 resolves these two issues, please let me know if you run into anything else!. I'll look into this and update. @pubmania v1.11.1 resolves:\n\nHeight of expense list row to fit all content\nDefault currency for new expense.\n\nlet me know if there are any issues, and don't hesitate to open a new issue if you find anything else!. Feature request, right?\n. @dicarlosystems are you on the Invoice Ninja Slack channel? Would be good to have some real time collaboration.\n. @dicarlosystems http://slack.invoiceninja.com and you can generate an invite direct ;). Thanks for updating the issue! We'll close this now \ud83d\udc4d . @filo87 are you using the default storage location or a custom storage location for your documents? Can you check if there are the correct permissions. the web server user should be set to owner recursively for storage/*. @filo87 what does the browser inspector comeback with when you click on the remove file link?\nI wonder if this could be a browser issue?. Are you on master or develop branch?\nI believe only Develop is ready for php 7.2. Sockets are faster than TCP/IP\nfrom MySQL site:\nA MySQL client on Unix can connect to the mysqld server in two different ways: By using a Unix socket file to connect through a file in the file system (default /tmp/mysql.sock), or by using TCP/IP, which connects through a port number. A Unix socket file connection is faster than TCP/IP, but can be used only when connecting to a server on the same computer. A Unix socket file is used if you do not specify a host name or if you specify the special host name localhost.. Are you saying that invoices/quotes needs to be approved by a admin user prior to them being sent?. function resolve(string $basePath, string $newPath) : string {\nAre you running any other versions of PHP? it looks like an error that would be reported by php ~5.x \nThe method has been defined as a PHP 7 compatible method with a return type.. It depends how you are running apache, from memory, you would need to enable the php7module - if apache has been compiled with php7 support!. you need php 7.0. That is your CLI version. Your web server version is probably 5.x. Have you checked the webhook URL in the Stripe panel?\nhttps://dashboard.stripe.com/login?redirect=%2Faccount%2Fwebhooks. That is not a valid query, you cannot search/filter by email, you can only retrieve records by _id\nhttps://app.invoiceninja.com/api-docs. Sorry, I missed this implementation! \nI was able to search and return values successfully on my local installation.. @mr6volt which version of curl are you using? I didn't need to enclose using \"\"\n. 8662941226a79297ef4d1c3d5ce9162c8eea2122. Please check storage/logs/laravel-error.log for details about the error\n. That looks like an end-to-end integration where you use Pin Payments to manage the entire subscription process, how would you see this integrating with Invoice Ninja's our recurring invoices?. I think you may be inserting a API TOKEN into the the API_SECRET field, please see the documentation.\nhttp://docs.invoiceninja.com/en/latest/mobile_apps.html. What is the responses from\nhttps://yoururl.com/api/v1/ping?api_secret=_your_secret_here\nOn 26 May 2018 at 19:27, hknobbe notifications@github.com wrote:\n\nThanks for the suggestion but I used the API_SECRET field:\nLOG=single REQUIRE_HTTPS=false API_SECRET=passwordhere\nI followed the whole documentation and still it's not working.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2116#issuecomment-392249454,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjteg-gO7Y5ve4gnOdXFzQBwFHKItXNks5t2R_1gaJpZM4UOgfH\n.\n. Did the url get rewritten with /public added?. Good to hear this is resolved.\n\nI don't see us supporting self-signed certificates, especially as signed certificates can be installed for free using certbot from lets encrypt\nI'll close this issue now.. If no new errors, most likely it is a permissions error, make sure your webserver user own's the storage/ folder recursively.. @joshbartley did you have any success with this?. #2434. @bmanfield assuming you are self hosting, this may be an issue with your server not having the root CA certificates. you may need to install them with\nsudo apt-get install ca-certificates\n. Yes\nOn Sat, 2 Jun. 2018, 11:25 am bmanfield, notifications@github.com wrote:\n\nLatest response from web host:\nThe problem you're running into seems to be a due to the server the API\nyou're using is hosted on, doesn't seem to trust the CA that Let's Encrypt\nuses (DST Root CA X3). They'd need to add the Let's Encrypt CA to their\nserver to fix this.\nSo that would be Pin Payments?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2126#issuecomment-394046281,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjtekXwW5b5CtL4SllmiM4AccFiQ_u2ks5t4emWgaJpZM4UUQ03\n.\n. @damienjbyrne thanks for the heads up, I'll have a look at this with @hillelcoren .. @dicarlosystems thanks for this, are you able to PR just your changes please?\n\nThanks. #2133 . @silicon755 has upgrading to v4.5.5 resolved this?. I'm not able to recreate this error.\nAre you self hosting?. I would check your error logs, your server may not be digesting the POST request with the inbound file as expected.. laravel-error.log will be where the data is.\nThis is the first time we've heard of this issue, so I don't think it is a widespread issue. So the most likely culprit is a localized issue. \nUploading documents via the web goes through a completely different route than those that come through the API.\nAre you able to uploaded invoice attachments ok?. This is because invoice_number column is varchar, hence it will not sort like an integer column. We use varchar on this column to support invoice number prefixes.\n| invoice_number          | varchar(255)     | NO   |     | NULL    |                |\n. I'm not seeing this issue on my installation, are there any errors in the logs ? storage/log/laravel-error.log\n. for anyone else hitting this, the issue was the URL not being rewritten to remove /public causing a 404 error.. We are aware of this internally and are looking to push a fix up shortly for this.. Thanks for picking this up.\nInvoices and quotes are tightly coupled in the application, we'll look into this further.. This needs a fair bit of rework, for now 'it is what it is'. \nWe'll get a fix for this and push a mini-release in the coming weeks.. #2250 . @hillelcoren The screen shot shows the default payment terms.\nThere doesn't appear to be any custom payment terms entered hence why the user cannot see any custom payment terms. But the default ones should appear in the dropdown on the previous page..... Archived invoices should be thought of as valid invoices which need no further action and don't need to take up dashboard / list space. \n. @TheEagle13 \nThis may be a permissions error, ensure that at least the storage/ folder is owner by the webserver user recursively.\nThere may be more information in storage/logs/laravel-error.logs\nAnd it may help to temporarily set debug=true in your .env file which is in the root folder.\n. Have you run\ncomposer install\nin the root dir?. @gmpreussner are you logged in as an administrator, or as a user with defined permissions?. @gmpreussner I am unable to recreate the issue. \nDo you have any success if you :# php artisan cache:clear. @psifertex we've marked this as a bug. \nWe rely on the omnipay-bitpay driver so we are doing tests to see where the issue is... in the mean time, if you do use the integration, you should manually check payment confirmations, we'll update the issue when we have a solution.. GET /api/v1/static\nwill return all static variables, including the countries table.\nyou can use this to update the client country_id. If you click on view in portal in an Invoice, you will see the invoice from the client perspective, you can go through the payment process as if you were the client from this side.. Code looks good. I would be surprised if there was a significant performance hit, if you can do a benchmark comparison that may be helpful, otherwise I like the implementation, it looks super easy to use!. You may want to contact your web host, this sounds like a hosting problem.. I would say the current functionality is working correctly\nOn Sat, 25 Aug. 2018, 2:56 am Anojh Thayaparan, notifications@github.com\nwrote:\n\nAs the title says, a view only, non-admin user cannot see the charts or\nthe filters on the dashboard. Was only able to see default totals.\nI think a view only user should be able to see this.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2313, or mute the\nthread\nhttps://github.com/notifications/unsubscribe-auth/AFjteidfHLxC0nxeGn3SfUrCRRKTjl62ks5uUDBWgaJpZM4WLrdC\n.\n. I'm not sure there is a simple way to achieve what you are after with the current architecture, the report permissions are hard linked to admin's.\n\nI'll have a look at moving reports into their own permissions variable which can be configured.. time to close this, thank you @anojht !. Are you seeing an error?\nI'm not sure this would be an issue itself with Invoice Ninja, I would have thought the curl libs support of TLS would be the main factor with this?. Not sure that gives us a lot to work with... Without more information I'm\nnot sure whether this is a systems issue or something else\nOn Sat, 25 Aug. 2018, 7:35 pm Boris Budini, notifications@github.com\nwrote:\n\nYes, i get stream_socket_enable_crypto(): SSL: Success\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2315#issuecomment-415956768,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjtenfW3Cmv-_Gr8M8Cn0kvNykQXlo7ks5uURpugaJpZM4WMHo8\n.\n. hmmm, this could be an issue with the version of guzzle we are using @hillelcoren ?. A user with CREATE permissions can create / view and edit their own entities.... ie invoices / contacts / products.... Thanks for the PR, can you clean up the PR to include only your changes please?. Your dev branch was not up to date when the PR was created, you are\nattempting to merge in a lot more than just your changes.\n\nYou will need to reset your branch to upstream/develop, apply your changes\nand then create a PR\n\u1427\nOn Mon, 27 Aug 2018 at 11:49, Boris Budini notifications@github.com wrote:\n\nSure, but i used the dev base since the contributing docs told me to\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/pull/2321#issuecomment-416092121,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjtelUaQrKOpUXyr4nriEBdeb-dYrKgks5uU1AOgaJpZM4WM_mb\n.\n. So this is interesting as I am hitting a ceiling in the current architecture for the list views and the ability expand the filtering scopes.\n\nFor this particular use case, I wouldn't see this as a module, but another part of core that we need to flesh out so that we can apply it across all entity listviews in Invoice Ninja.\nCurrently, we set a session variable which can handle active/archived/deleted filtering on entities.... and there is an extension for invoices which allows filtering by status, but this is as far as we go.\nA generic filter on column / operator / $value would be a huge leap forward, and the ability to perform multicolumn filtering would be the ideal end goal... \nWas this something you had in mind?. Right, I think in order to accomodate modules appropriately we'd need to rebuild certain sections of the core that would allow easy extension for modules.\nIf this is something you are keen to dive into I think it would be appropriate to create a separate playground branch off develop that we can spit ball some ideas to see if we are heading in the right direction.\nI'd suggest picking something relatively easy to start prototyping. Would be interested in @hillelcoren opinion also :). I think using an AJAX call for typeahead will be the direction I prefer moving forward. The only concern would be having multiple AJAX endpoints ultimately performing the same task.\nI think we'd need to spend some time on if we can produce a single endpoint which can handle this workload. To make things more interesting, being able to switch between Algolia and standard DB searches may also need to be considered in the overall design.. I like it, another dependency does hurt however :) this particular package looks a little unloved at the moment.. lets aim to add this in for v4.7 i don't think it is worth the pain for v4.6 and will give us time to tinker.. Just a final note, if we choose to use Laravel Scout as the default method for typeahead queries, this will force all users to create an additional database for full text indexing. . It sounds like the migration has not run,\ncan you try running / update. This sounds like a folder permission issue, check the public/logo folder is writable by the webserver. I would set /public to chmod 755 and chown the directory recursively to the webserver user - which is typically www-data for most linux flavours.. thanks for letting us know, closing this issue now.. @dicarlosystems \nThere seems to be a couple of issues with the PR \nIt looks like some controllers are missing the\n      'showModuleSettings' => Utils::hasModuleSettings(),\n\nI can see taxratecontroller is failing. are you able to have a look at this?. Looks great!. We managed translations on Transifex - https://www.transifex.com/invoice-ninja/invoice-ninja/\nThe community is very active keeping this up to date :). Correct.\nEN texts.php is our base.. Hi @chrosey thanks this. \nI'm not sure exactly why you are seeing this for your installation as this hasn't been reported previously and problems accessing this file will cause the company logos to not be stored/accessed.\nAs such I am marking this as a compatibility issue . Hi @anojht \nThanks for the PR\nJust a couple of things,\nYou'll need to add 'dashboard' to the $permissionEntities array in constants.php so that the user permission checkboxes are populated correctly.\nAlso, i think it is best if the migration file is not changed in this scenario. \nThanks!. @anojht \nthanks for this, i'll run some tests and merge if it all looks good.\nthanks again!. Thanks again, changes look great!. Thanks!. thanks!. Technically this will be possible using a ticket.\nAn internal ticket linked to the client could be created and continually updated.. This was an issue with v4.5.2, but is resolved in v4.5.4\nare you running the latest version?. @timothyjensen i can't recreate the issue unfortunately. are there any additional errors logged in storage/logs/laravel-error.log ?. yes please, contact@invoiceninja.com\nOn Wed, 3 Oct 2018 at 21:25, Tim Jensen notifications@github.com wrote:\n\n@turbo124 https://github.com/turbo124 No there are no relevant errors\nin the log. I spun up a test Invoice Ninja site with a fresh database,\ntried several different mail settings, in both FF and Chrome, browser\nextensions disabled, etc., and still have the problem. If you'd like I can\nadd you as a user to the test install to see if you encounter the same\nproblem.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2382#issuecomment-426601583,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AFjtenO3SDiT08ymjB_QFS_96HYiJyYGks5uhJ69gaJpZM4W-jIW\n.\n. @Robsi201 you are confusing our SaaS product where we host the installation. To the self hosted installation.\n\nThe self hosted installation is completely unlimited, you run it on your own hardware with no limitations from us.\nIf you register on our SaaS platform https://app.invoiceninja.com then on our free plan you are limited to 100 clients.. Thanks!. It looks like the system has not updated the row correctly, perhaps because the row item was changed but the javascript didn't catch the change.\nif you delete the row and reenter, 170 should definitely appears as 170. As we do not delete invoices ( they are archived / marked as deleted) the invoice number is not released to be reused.\n. Thanks for this PR.\nOne thing I have picked up is that if there are multiple files, only the first is exported to CSV/XLSX files and in the PDF the filenames are appended end to end.\nAre you able to resolve these prior to commit?. Looks good, thanks!. Duplicate of #1934. have a look at the console output, it will tell you which resources are not loading.. you can use ?updated_at= in the query string of your API requests and this will return only records that have been updated.\nthis works across any of the API routes.. Would you expect the recaptcha to be present on the credit card payment page?. This has been covered a few times, #1487 has the most complete coverage.\nWe believe we have sufficiently covered the needs of the EU laws in this regard. \nAs @billyggla mentions, if you self-host and have direct access to the database then you would need to decide whether you are in compliance as immutability cannot be guaranteed if you are self hosting.\nGiven we are working on a new version of InvoiceNinja, I think we could consider hosting a verification hash / checksum for self hosted user invoices who would like to ensure they are in full compliance.\nThe way I would see it working is that a checksum/hash is created on the self hosted instance, and this can be automatically sent to one of our servers and stored for later retrieval for the purpose of an audit. the hash wouldn't contain any identifiable data, and it would be an opt-in provision if a user needed.\n. @billyggla \nI think there are two separate issues.\n\nSoftware\nHosting\n\nInvoice Ninja can attest to the software, however if self hosting, the user would need to self-assess for themselves. I think the biggest issue is in the interpretation of the laws, it is very easy to add/remove issues depending on how you read the laws.. @HLeithner it is not a bug, the $clientCounter is only supported on invoices, not quotes.\nYou can add a feature request for support covering quotes.. @easaw Tickets are currently in the develop branch, they'll move onto Master in a couple of weeks.. I'm not sure which issues are resolved and which aren't.\nThe upload stopped due to the 300 second timeout. you can modify your php.ini and set max execution to 0 or -1 i think for indefinite.. We'd certainly accept a PR for this. I think the workflow you have suggested would be acceptable. Let us know if you need any help implementing this.. any errors in the logs?. Customising columns is planned for the new version of invoice ninja. This won't be impemented in v4.x. These changes cause the app to fail the permissions tests. We won't be able to merge this as is.. Looks great, thanks!. you can have 2 line item taxes and two total taxes which should cover this.. Does the user have permission to view/edit/create clients?. Sometimes permissions do rely on other permissions. In this case it is not relevant as an expense can be created without a client.\nI can recreate the issue described, i'll work on a fix.. @peterkelm \nThe issue is found on line 16 of ExpensePolicy, ENTITY_USER is referenced instead of ENTITY_EXPENSE\nif(!$this->createPermission($user, ENTITY_USER))\nshould look like\nif(!$this->createPermission($user, ENTITY_EXPENSE))\nI will patch all of the branches, however if you are self hosting you may want to edit this file manually as it may be a while before another release is made.\napp/Policies/ExpensePolicy.php\n. @peterkelm I haven't been able to recreate the issue on master.. Settings > Localization. App > Http > Middleware > StartupCheck. support is pegged at PHP 7.1.x sorry. Similar to #1985. @hillelcoren @MacMatt I believe there is a permission level to display the entire dashboard to non-admin users, however there is no way to provide fine grained dashboard permissions.. @MacMatt non-admin's can view the dashboard, i'm not sure if it was clear from my reply.\nThe functionality exists in the develop branch here: #2339\nhttps://github.com/invoiceninja/invoiceninja/blob/develop/resources/views/dashboard.blade.php\nI believe this will be available in 4.6 when it is released.. Hi Mac, the code for this in 4.x is limited to admins only.\nWe will implement this feature for v2.0 of the new application.. The error here is very helpful, you need to update the db name in the .env file\nBase table or view not found: 1146 Table 'ninjaDB.users' doesn't exist\nAs this is a configuration issue, i'll close this.. The error here is very helpful, you need to update the db name in the .env file\nBase table or view not found: 1146 Table 'ninjaDB.users' doesn't exist\nAs this is a configuration issue, i'll close this.. The error here is very specific:\n[27-Nov-2018 23:30:02 UTC] PHP Warning: PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so:\nyou need to enable the module i360 with your hosting company.. The error here is very specific:\n[27-Nov-2018 23:30:02 UTC] PHP Warning: PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so:\nyou need to enable the module i360 with your hosting company.. Are you seeing this issue on hosted or self hosted?\nif you are self hosted, your DB schema may not be UTF. I cannot recreate this.\nhaving a double // shouldn't fail... this sounds like a configuration issue.. do you have a trailing slash for your APP_URL in the .env file?\nie does it look like this:\nAPP_URL=http://site.com/\nIf it does try changing it to\nAPP_URL=http://site.com\nIf this does not help, most likely you are using the Apache Webserver and there may be an issue with the way mod_rewrite is handling the URL. . Fantastic, great to hear!. @Strider27 are there any additional errors in the logs in storage/logs ?\n. This request comes up a bit, it seems the correct way to handle a 'retraction' would be to issue a credit note for the incorrect invoice, that way the balances cancel out.\nThis helps in case of an audit, but more importantly the client balance is not affected.. Thanks!. The error is quite explicit, you need to install the GMP extension for PHP>\ngoogle php gmp mac os x\n. thanks for this, we are indeed using a different Vue library in V2 :). This is being developing in our v2 (v5.0 on github) application. There is the concept of agent's and users are able to upload their image/avatars.\nI'll update here when its implemented.. @mhosker The API will mirror the web app so yes, i'd see this as a core function.\n@rpbx, I'd see this functionality as a custom module which should be simple to implement, but probably not part of the core initially.\n. thanks for letting us know, should be fixed now.. This implementation minimises charges that apply to using Google maps in your Invoice Ninja installation.\nThe Maps API pricing has changed significantly, however there are still unlimited free tiers of certain maps.\nYou will need to ensure that the Maps Embed API is enabled in your google cloud console for this to work!\nIf you want the geocoding feature to work for you client addresses you'll also need to enable Maps Javascript API in the google cloud console. This error has nothing to do with Invoice Ninja, \nFrom Amazon:\n554 Access denied: User UserARN is not authorized to perform ses:SendRawEmail on resource IdentityARN\nThe AWS Identity and Access Management (IAM) policy or the Amazon SES sending authorization policy of the user who owns the SMTP credentials isn't allowed to call the Amazon SES SMTP endpoint.\nhttps://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-response-codes.html. thanks!. Hi There,\nThis is not an issue with Invoice Ninja, it is an issue with the configuration of your database, please do a google search on the above SQL error 1615 to resolve the issue.. Have you used the following to work out your false positives?\nhttps://www.netnea.com/cms/apache-tutorial-8_handling-false-positives-modsecurity-core-rule-set/. Do you still see the same issue if you change the session storage to database?\nhttps://github.com/invoiceninja/invoiceninja/blob/master/config/session.php#L19. Can you provide us step by step instructions on how to recreate this issue.. I am unable to recreate this using those exact steps.\nThis may be a browser related issue.. This is failing at a system layer not within Invoice Ninja, are you using a self created SSL using your own CA? If you are I would suggest using the following as it may be a better option:\nhttps://letsencrypt.org/docs/certificates-for-localhost/. I think you may want to create an issue directly with the mail library used:\nhttps://swiftmailer.symfony.com/. IN config/mail.php\nyou would need to create a new key\n'stream'\nand nest the following\n    'ssl' => ['allow_self_signed' => true, 'verify_peer' => false, 'verify_peer_name' => false]\n\nsomething like this 'should' work but i haven't tested\n'stream' =>\n        'ssl' => ['allow_self_signed' => true, 'verify_peer' => false, 'verify_peer_name' => false],\n. There is no view all permissions, I did not consider the impact on the API when fleshing this out. ideally, we'd want to constrain the API output based on the 'view' permission. I'll have a look at this.. I implemented a filterIdByEntity function, this got missed, i'll need to patch this.. Implementation did not get brought over in the PR, need to fix.. ->all() returns a collection, i believe ::create requires an array?. For convenience I have put this on the user model  so it can be accessed easily with auth()->user()->db\nA user will always be on the same db as the account. yes, good catch, i'm fold that in.. yep.. initially I thought it would be useful, but it probably may cause issues with some users.. ",
    "od3n": "still same\n\n. the error occurs in 1.7 branch.\nI switched to master branch, composer is ok.\nWhen ran setup, getting these errors\nSQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (invoice-ninja.gateways, CONSTRAINTgateways_payment_library_id_foreignFOREIGN KEY (payment_library_id) REFERENCESpayment_libraries(id) ON DELETE CASCADE) (SQL: insert intogateways(name,provider,payment_library_id,updated_at,created_at) values (BeanStream, BeanStream, 2, 2015-04-06 15:09:46, 2015-04-06 15:09:46))\nSQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (invoice-ninja.gateways, CONSTRAINTgateways_payment_library_id_foreignFOREIGN KEY (payment_library_id) REFERENCESpayment_libraries(id) ON DELETE CASCADE)\n. Retry again on master branch and it's working now. Maybe i forgot to clear tables\nThanks for the responses\n. ",
    "bang75": "No problem :)\nIs there anywhere I can test a build with swedish (I'm sorry for not having\nthe time / php knowledge to set up a dev enviroment locally) before\nrelease, to check the translations a little more in context ?\nPlease remember to upgrade the account canerholm@gmail.com\ncanerholm@gmail.com to pro for a year...\nUnfortunally php isn't my favorite language, so can't help you out very\nmuch there...\nBut if you need some .Net, C#, UI/UX, HTML, CSS, javascript or swedish help\ndon't hesitate to ask :) !\nI'll also try to put some more time into using the app and give you\nfeedback. If that's useful for you..\nregards,\nBj\u00f6rn\n2015-04-08 20:46 GMT+02:00 Hillel Coren notifications@github.com:\n\nAmazing, thanks!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/pull/290#issuecomment-91001592\n.\n. Hi !\n\nNo problem, it's really not that urgent :)\n/b\n\n9 apr 2015 kl. 10:04 skrev Hillel Coren notifications@github.com:\nI'm away for a few days, I should have it ready to test on Sunday.\nThanks for the offer to help.\nOn Apr 9, 2015 10:51 AM, \"Bj\u00f6rn Bang\" notifications@github.com wrote:\n\nNo problem :)\nIs there anywhere I can test a build with swedish (I'm sorry for not having\nthe time / php knowledge to set up a dev enviroment locally) before\nrelease, to check the translations a little more in context ?\nPlease remember to upgrade the account canerholm@gmail.com\ncanerholm@gmail.com to pro for a year...\nUnfortunally php isn't my favorite language, so can't help you out very\nmuch there...\nBut if you need some .Net, C#, UI/UX, HTML, CSS, javascript or swedish help\ndon't hesitate to ask :) !\nI'll also try to put some more time into using the app and give you\nfeedback. If that's useful for you..\nregards,\nBj\u00f6rn\n2015-04-08 20:46 GMT+02:00 Hillel Coren notifications@github.com:\n\nAmazing, thanks!\n\u2014\nReply to this email directly or view it on GitHub\n<\nhttps://github.com/hillelcoren/invoice-ninja/pull/290#issuecomment-91001592\n.\n\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/pull/290#issuecomment-91142512\n.\n\u2014\nReply to this email directly or view it on GitHub.\n. \n\n",
    "Wmas": "I think I am running the last version. I have installed cloning the branch just yesterday\n. Hi Hillel,\nthis error I have found in the Laravel logs\n[2015-04-16 14:09:17] local.ERROR: SyntaxError: invalid property id\n {\"context\":\"JavaScript\",\"user_id\":\"1\",\"user_name\":\"Franco Magliozzi\",\"url\":\"http://ninja:8888/invoices/1/edit\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:37.0) Gecko/20100101 Firefox/37.0\",\"ip\":\"127.0.0.1\",\"count\":37} \n. With the self hosted version I can not even come in:\nI get this exception\nErrorException\nmcrypt_encrypt(): Key of size 0 not supported by this algorithm. Only keys of sizes 16, 24 or 32 supported\nThe key is well given in the DOTENV\nAPP_ENV=local\nAPP_DEBUG=true\nAPP_URL=http://ninja.dev\nAPP_CIPHER=rijndael-128\nAPP_KEY=53ta@sYhaf546T*vad23WA9jFm01@sa4\n. Hi Hillel,\nI am using Laravel 5, so I have to stay with the last release.\nI have just dropped the database and migrate it again.\nI have been, as usual, redirected to the '/invoices/create' page where everything display correctly.\nAt this point I am afraid that creating a new invoice will produce the same problem.\nSeems I am the only one having this problem. What you suggest me to do now?\n. I have dropped the Database and created a new empty one.\nThen: http://ninja:8888/setup\nThe setup page is displayed\nI fill the needed information in and start the setup process\nResult:\nWhoops, looks like something went wrong.\n. An other thing I have noticed while I was filling the setup form is that clicking on the 'Test connection' do not trigger any action\n. Hi Hillel,\nthere is something strange happening\nAs usual I am creating an DOTENV file where I put all the needed info into it.\nWhen I am running the setup the DOTENV file become strangely enough empty so the connection can not be made anymore giving the \"Woops!\"\nHow this can be possible?\n. After several attempt finally the DOTENV file was created and filled with the correct data and I was able to login.\nUnfortunately I had the same problem as when I started this issue.\nAfter creating the invoice you can not see or edit the invoice anymore.\nThe error in the logs is also the same:\n[2015-04-16 16:34:53] development.ERROR: SyntaxError: invalid property id\n {\"context\":\"JavaScript\",\"user_id\":\"1\",\"user_name\":\"Franco Magliozzi\",\"url\":\"http://ninja:8888/invoices/create/1\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.9; rv:37.0) Gecko/20100101 Firefox/37.0\",\"ip\":\"127.0.0.1\",\"count\":4} \nLook the screenshot here: https://screencloud.net/v/qsms \n. Thanks Hillel,\njust to be sure, Do I have to reinstall the all package from the git again and then run the setup?\n. What Is wrong with it?\nI do:\n git pull  https://github.com/hillelcoren/invoice-ninja.git\nI get:\nremote: Counting objects: 127, done.\nFrom https://github.com/hillelcoren/invoice-ninja\n- branch            HEAD       -> FETCH_HEAD\n  Updating 76fcdcb..caae008\n  error: Your local changes to the following files would be overwritten by merge:\n  composer.lock\n  Please, commit your changes or stash them before you can merge.\n  Aborting\n. Hi Hillel,\nI just have locked the composer, pulled the data and made the migration.\nThe invoice can be now made and edited.\nThank you very much for your help and for this wonderful package.\nI hope all the invoice-ninja users will take the time to vote for you on Bitnami.\nThanks again \nShabbat shalom\nFranco\n. I understand this, it was only a suggestion of mine but the fields do not work properly as you can see in the screenshot I have added\n. Ok Hillel, I understand now the purpose of those fields and You are wright in the place where they are placed man will only expect numeric values to be added to the invoice.\nConsider this Not an issue and please close it.\nThank you for your patient explanations to a stupid question\n. ",
    "cytech": "thank you !\nthat did the trick.\nBTW thank you for your great work on this package.\nWith the api addition, i can now pull my google calendar timesheet and auto generate invoices.\nthanx again\ndave\n. running curl -X GET invoice-ninja/api/v1/clients -H \"X-Ninja-Token: davetoken...\"\n does not generate anything in laravel.log\nv2.0.1 is a fresh install from download and migrtion has been run.\nubuntu 15.04, php 5.5.9, mysql 5.5.43\n. with debug off, nothing is returned to the terminal window\nas if there were no clients\ncould it be a token or user thing?\nif i run the curl with no token, i do get an \"invalid token\" response\n. apache access log:\n192.168.1.20 - - [13/May/2015:06:36:00 -0700] \"GET /api/v1/clients HTTP/1.1\" 200 8624 \"-\" \"curl/7.38.0\"\nnothing relevant in apache error log.\nwith debug off there seems to be nothing returned, just runs and shows new prompt line (dave@flanders:/var/www/invoice-ninja$)\n. i thought php stored errors in the apache2 error.log\n. already set to 777\njust for laughs, how would you pass the token in a browser address bar instead of curl?\n. ok\ntemp removed \"'middleware' => 'api'\" and \"invoice-ninja/api/v1/clients\" in browser returned client list properly.\nlet me dig a little deeper\n. ok here it is\nit is not passing the if (!Utils::isNinja()) test in ApiCheck.php which is returning null and the response we are seeing in curl. (jeeesh)\nwhere is that $_ENV set now? .env?\n. that got it !\nthanx\n. no problem\nglad we found it\n. doh !\nit was from github.\nall is well now\nthanx\ndave\n. ok\nthanx\n. understood\nthanx\ndave\n. as i mentioned, when i add the cost field i then get a descriptive error\n{\"email\":[\"The email field is required when client id is not present.\"],\"client_id\":[\"The client id field is required when email is not present.\"]}\nits failing the validation\nhas the client_id format (or call to it) changed?\nAlso (and not a show stopper) originally when a product_key was supplied and existed, it returned the \ncost.\n. left out a \" in the json when i changed it to test the cost......\nso it is working now with cost added to data\nthanx\ndave\n. ",
    "davidvd": "Yeah that returns a plain 404. Here's my http config include file:\nAlias /invoice \"/data/http/ninja/public\"\n<Directory \"/data/http/ninja/public\">\n    DirectoryIndex index.php\n    AllowOverride All\n    Options FollowSymlinks\n    Require all granted\n</Directory>\nAnd the file list:\n\u2514\u250c(%:/data/http/ninja)\u250c- ls -tlra\ntotal 328\ndrwxrwxr-x  3 http http   4096 May 11 07:18 tests/\ndrwxr-xr-x  7 http http   4096 May 11 07:18 storage/\n-rw-rw-r--  1 http http    560 May 11 07:18 server.php\ndrwxrwxr-x  5 http http   4096 May 11 07:18 resources/\n-rw-rw-r--  1 http http   5279 May 11 07:18 readme.md\ndrwxrwxr-x  8 http http   4096 May 11 07:18 public/\n-rw-rw-r--  1 http http    777 May 11 07:18 phpunit.xml\n-rw-rw-r--  1 http http     87 May 11 07:18 phpspec.yml\n-rw-rw-r--  1 http http    331 May 11 07:18 package.json\n-rw-rw-r--  1 http http   2119 May 11 07:18 LICENSE\n-rw-rw-r--  1 http http    503 May 11 07:18 gulpfile.js\n-rw-rw-r--  1 http http   4864 May 11 07:18 Gruntfile.js\n-rw-rw-r--  1 http http    461 May 11 07:18 .gitignore\n-rw-rw-r--  1 http http     61 May 11 07:18 .gitattributes\n-rw-rw-r--  1 http http    271 May 11 07:18 .env.example\ndrwxrwxr-x  4 http http   4096 May 11 07:18 database/\ndrwxrwxr-x  4 http http   4096 May 11 07:18 config/\n-rw-rw-r--  1 http http   1978 May 11 07:18 composer.json\n-rw-rw-r--  1 http http     36 May 11 07:18 .bowerrc\n-rw-rw-r--  1 http http    611 May 11 07:18 bower.json\ndrwxrwxr-x  2 http http   4096 May 11 07:18 bootstrap/\n-rwxrwxr-x  1 http http   1635 May 11 07:18 artisan*\ndrwxrwxr-x 15 http http   4096 May 11 07:18 app/\n-rw-rw-r--  1 http http 218388 May 11 20:09 composer.lock\ndrwxrwxr-x 43 http http   4096 May 11 20:29 vendor/\nAnd the public directory:\n\u250c(%:/data/http/ninja)\u250c- ls -tlra public\ntotal 56\n-rw-rw-r--  1 http http   25 May 11 07:18 robots.txt\ndrwxrwxr-x  2 http http 4096 May 11 07:18 logo/\ndrwxrwxr-x  3 http http 4096 May 11 07:18 js/\n-rwxrwxr-x  1 http http 1777 May 11 07:18 index.php\ndrwxrwxr-x  7 http http 4096 May 11 07:18 images/\n-rw-rw-r--  1 http http  357 May 11 07:18 .htaccess\ndrwxrwxr-x  2 http http 4096 May 11 07:18 fonts/\n-rwxrwxr-x  1 http http 1160 May 11 07:18 favicon.png\ndrwxrwxr-x  3 http http 4096 May 11 07:18 css/\ndrwxrwxr-x  3 http http 4096 May 11 07:18 builds/\n-rw-rw-r--  1 http http 2207 May 11 07:18 apple-touch-icon-precomposed.png\n-rw-rw-r--  1 http http 2207 May 11 07:18 apple-touch-icon.png\nI'm pretty sure that apache reads the .htaccess files because the output is coming from laravel.\n. Here's what I have in my current laravel.log:\n    [2015-05-12 16:29:24] production.ERROR: _Symfony\\Component\\HttpKernel\\Exception\\NotFoundHttpException_ [404] : /data/http/ninja/vendor/laravel/framework/src/Illuminate/Routing/RouteCollection.php [Line 145] =>\n {\"context\":\"PHP\",\"user_id\":0,\"user_name\":\"\",\"url\":\"http://192.168.1.107:1952/invoice/setup\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36\",\"ip\":\"192.168.1.88\",\"count\":1}\nI followed most of that guide except for the DocumentRoot that I don't want to change, I'd rather have an alias, unless that's what caused the problem? rewrite mod is enabled because I get to see laravel's routin.\nI have enabled the mcrypt extension in php.ini and php-cli.ini, I also have set the APP_KEY to some random 32 character string and I tried to set the url to /invoice or http://192.168.1.107:1952/invoice in config/app.php.\nSo I just tried to seed the DB and when I go to http://192.168.1.107:1952/invoice/, I get redirected to http://192.168.1.107:1952/invoice/invoice_now but I still get NotFoundHttpException error.\nI see that the DB has been populated though.\n. Ok so I did the test and created a new Vhost on a different port, and defining invoice-ninja as the documentroot and it works now.\n. ",
    "benjaminsinger": "Hi Hillel,\nComposer's reporting that nothing needs installed or updated when I run composer install.\n\n. HI Hillel,\nHere's what I get:\n\n. I went with the composer cache clear and reinstall initially and no change, got it working by transferring the chumper folder from the ZIP you provided. Now works great, not too concerned about it being hacky  for the moment as long as I can see what's going on.\nThanks again.\n. No problem at all! Thank you for the awesome support.\n. ",
    "jpgnz": "Good point regarding recurring invoices sending regardless, they'll either just go out early or late, but will send.\n. Have reversed the White Labelling, no difference.\n. Fail. Sorted... :)\n. ",
    "djmarya": "No I cannot. Siteground claims I need to use an email address that using an\naccount on the server. The other hosting company I use does not offer\ninstalling Invoice Ninja.\nThanks!\nOn Sat, May 16, 2015 at 3:05 PM, Hillel Coren notifications@github.com\nwrote:\n\nCan you test sending email with a different provider?\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/issues/311#issuecomment-102666657\n.\n. \n",
    "christianhuening": "Thanks! That solved it!\n. ",
    "anedisi": "how to fix the state where i have one invoice with balance -30 and another with 30\nhow to get 0 on both, and also 0 on customer balance (that i have now) ?\nthe customer has paid the total sum.\n. ok, you should then validate that the payment cannot be bigger then the balance.\n. ps. as an alternative,\nthe extra payment could go to credits, and the invoice that the client is paying get balance 0.\nso you can can manually pay the outstanding balance with credits\n. i agree,\nhowever, if there is any way for your clients to pay to you directly without you entering a payment it will happen, so you have to handle it in some way.\n. ",
    "infacq": "i'll look into it now\n. do you still using this? \n'Form'            => 'Bootstrapper\\Facades\\Form'\n. ok I have fix it. \n. ok done. Thanks. You should setup gitter for this repo\n. ",
    "accexs": "Thanks!! i tried with different SMTP credentials and server and with a fresh install, when i set the smtp server it gets stuck on \"Working...\" after i press send test mail button; any ideas?\n. yes this is the one on the old install:\n[2015-05-27 07:56:48] development.ERROR: _Swift_TransportException_ [0] : /home/arsocomv/public_html/facturacion/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/StreamBuffer.php [Line 265] => Connection could not be established with host smtp.mandrillapp.com [Connection timed out #110]\nAm starting to think is a platform issue  :(\n. yes and i got this one:\n[2015-05-27 04:53:33] development.ERROR: _Swift_RfcComplianceException_ [0] : /home/arsocomv/public_html/facturacion/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 348] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.\nthe mail with the link to the invoice is sent to the client but the one that has the notifications for the admin fails with that error\n. all output!\nWhoops, looks like something went wrong.\n1/1\nSwift_RfcComplianceException in MailboxHeader.php line 348:\nAddress in mailbox given [] does not comply with RFC 2822, 3.6.2.\nin MailboxHeader.php line 348\nat Swift_Mime_Headers_MailboxHeader->_assertValidAddress('') in MailboxHeader.php line 263\nat Swift_Mime_Headers_MailboxHeader->normalizeMailboxes(array('' => 'Ronny Arvelo')) in MailboxHeader.php line 106\nat Swift_Mime_Headers_MailboxHeader->setNameAddresses(array('' => 'Ronny Arvelo')) in MailboxHeader.php line 63\nat Swift_Mime_Headers_MailboxHeader->setFieldBodyModel(array('' => 'Ronny Arvelo')) in SimpleMimeEntity.php line 602\nat Swift_Mime_SimpleMimeEntity->_setHeaderFieldModel('From', array('' => 'Ronny Arvelo')) in SimpleMessage.php line 213\nat Swift_Mime_SimpleMessage->setFrom(null, 'Ronny Arvelo') in Message.php line 35\nat Message->from(null, 'Ronny Arvelo') in Mailer.php line 35\nat Mailer->App\\Ninja\\Mailers{closure}(object(Message))\nat call_user_func(object(Closure), object(Message)) in Mailer.php line 400\nat Mailer->callMessageBuilder(object(Closure), object(Message)) in Mailer.php line 159\nat Mailer->send(array('emails.invoice_sent_html', 'emails.invoice_sent_text'), array('entityType' => 'invoice', 'clientName' => 'Ronny Arvelo', 'accountName' => 'Ronny Arvelo', 'userName' => 'Ronny Arvelo', 'invoiceAmount' => 'Bs.0,00', 'invoiceNumber' => '0014', 'invoiceLink' => 'http://arso.1hosters.com/ninja/public/invoices/11'), object(Closure)) in compiled.php line 5461\nat Facade::__callStatic('send', array(array('emails.invoice_sent_html', 'emails.invoice_sent_text'), array('entityType' => 'invoice', 'clientName' => 'Ronny Arvelo', 'accountName' => 'Ronny Arvelo', 'userName' => 'Ronny Arvelo', 'invoiceAmount' => 'Bs.0,00', 'invoiceNumber' => '0014', 'invoiceLink' => 'http://arso.1hosters.com/ninja/public/invoices/11'), object(Closure))) in Mailer.php line 36\nat Mail::send(array('emails.invoice_sent_html', 'emails.invoice_sent_text'), array('entityType' => 'invoice', 'clientName' => 'Ronny Arvelo', 'accountName' => 'Ronny Arvelo', 'userName' => 'Ronny Arvelo', 'invoiceAmount' => 'Bs.0,00', 'invoiceNumber' => '0014', 'invoiceLink' => 'http://arso.1hosters.com/ninja/public/invoices/11'), object(Closure)) in Mailer.php line 36\nat Mailer->sendTo('ronny.arvelo@gmail.com', null, 'Ronny Arvelo', 'La factura 0014 ha sido enviada a el cliente Ronny Arvelo', 'invoice_sent', array('entityType' => 'invoice', 'clientName' => 'Ronny Arvelo', 'accountName' => 'Ronny Arvelo', 'userName' => 'Ronny Arvelo', 'invoiceAmount' => 'Bs.0,00', 'invoiceNumber' => '0014', 'invoiceLink' => 'http://arso.1hosters.com/ninja/public/invoices/11')) in UserMailer.php line 61\nat UserMailer->sendNotification(object(User), object(Invoice), 'sent') in HandleInvoiceSent.php line 37\nat HandleInvoiceSent->handle(object(InvoiceSent))\nat call_user_func_array(array(object(HandleInvoiceSent), 'handle'), array(object(InvoiceSent))) in compiled.php line 9384\nat Dispatcher->Illuminate\\Events{closure}(object(InvoiceSent))\nat call_user_func_array(object(Closure), array(object(InvoiceSent))) in compiled.php line 9337\nat Dispatcher->fire(object(InvoiceSent)) in compiled.php line 5457\nat Facade::__callStatic('fire', array(object(InvoiceSent))) in ContactMailer.php line 60\nat Event::fire(object(InvoiceSent)) in ContactMailer.php line 60\nat ContactMailer->sendInvoice(object(Invoice)) in InvoiceController.php line 464\nat InvoiceController->save() in InvoiceController.php line 381\nat InvoiceController->store()\nat call_user_func_array(array(object(InvoiceController), 'store'), array()) in compiled.php line 8501\nat Controller->callAction('store', array()) in compiled.php line 8569\nat ControllerDispatcher->call(object(InvoiceController), object(Route), 'store') in compiled.php line 8548\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9187\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9170\nat Pipeline->then(object(Closure)) in compiled.php line 8549\nat ControllerDispatcher->callWithinStack(object(InvoiceController), object(Route), object(Request), 'store') in compiled.php line 8535\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\InvoiceController', 'store') in compiled.php line 7526\nat Route->runWithCustomDispatcher(object(Request)) in compiled.php line 7497\nat Route->run(object(Request)) in compiled.php line 7162\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9187\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Authenticate.php line 47\nat Authenticate->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9170\nat Pipeline->then(object(Closure)) in compiled.php line 7163\nat Router->runRouteWithinStack(object(Route), object(Request)) in compiled.php line 7152\nat Router->dispatchToRoute(object(Request)) in compiled.php line 7137\nat Router->dispatch(object(Request)) in compiled.php line 2035\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9187\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in StartupCheck.php line 154\nat StartupCheck->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in DuplicateSubmissionCheck.php line 28\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 2543\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 34\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12359\nat ShareErrorsFromSession->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 11049\nat StartSession->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12061\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12009\nat EncryptCookies->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 2584\nat CheckForMaintenanceMode->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9170\nat Pipeline->then(object(Closure)) in compiled.php line 1991\nat Kernel->sendRequestThroughRouter(object(Request)) in compiled.php line 1978\nat Kernel->handle(object(Request)) in index.php line 53\n. will test and feedback! thank you very much!!\n. did a fresh install with latest release few hours ago and got this error when sending email\nWhoops, looks like something went wrong.\n1/1\nErrorException in StreamBuffer.php line 95:\nstream_socket_enable_crypto(): Peer certificate CN=sc1.conectarhosting.com' did not match expected CN=mail.arso.com.ve'\nin StreamBuffer.php line 95\nat HandleExceptions->handleError('2', 'stream_socket_enable_crypto(): Peer certificate CN=sc1.conectarhosting.com' did not match expected CN=mail.arso.com.ve'', '/home/arsocomv/public_html/factura/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/StreamBuffer.php', '95', array())\nat stream_socket_enable_crypto(resource, true, '57') in StreamBuffer.php line 95\nat Swift_Transport_StreamBuffer->startTLS() in EsmtpTransport.php line 288\nat Swift_Transport_EsmtpTransport->_doHeloCommand() in AbstractSmtpTransport.php line 118\nat Swift_Transport_AbstractSmtpTransport->start() in Mailer.php line 79\nat Swift_Mailer->send(object(Swift_Message), array()) in Mailer.php line 366\nat Mailer->sendSwiftMessage(object(Swift_Message)) in Mailer.php line 168\nat Mailer->send(array('emails.invoice_html', 'emails.invoice_text'), array('body' => 'Ronny Arvelo, Para visualizar la cotizaci\u00f3n por valor de $0.00, haz click en el enlace abajo. http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX Un saludo cordial,Ronny Arvelo', 'link' => 'http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX', 'entityType' => 'quote', 'invoice_id' => '1'), object(Closure)) in compiled.php line 5461\nat Facade::__callStatic('send', array(array('emails.invoice_html', 'emails.invoice_text'), array('body' => 'Ronny Arvelo, Para visualizar la cotizaci\u00f3n por valor de $0.00, haz click en el enlace abajo. http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX Un saludo cordial,Ronny Arvelo', 'link' => 'http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX', 'entityType' => 'quote', 'invoice_id' => '1'), object(Closure))) in Mailer.php line 36\nat Mail::send(array('emails.invoice_html', 'emails.invoice_text'), array('body' => 'Ronny Arvelo, Para visualizar la cotizaci\u00f3n por valor de $0.00, haz click en el enlace abajo. http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX Un saludo cordial,Ronny Arvelo', 'link' => 'http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX', 'entityType' => 'quote', 'invoice_id' => '1'), object(Closure)) in Mailer.php line 36\nat Mailer->sendTo('ronny.arvelo@gmail.com', 'ronny.arvelo@gmail.com', 'Ronny Arvelo', 'Nueva cotizaci\u00f3n de Ronny Arvelo', 'invoice', array('body' => 'Ronny Arvelo, Para visualizar la cotizaci\u00f3n por valor de $0.00, haz click en el enlace abajo. http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX Un saludo cordial,Ronny Arvelo', 'link' => 'http://arso.com.ve/factura/public/view/7mpeo5SJDCZveCYbw9FRuHCdBbMYSeCX', 'entityType' => 'quote', 'invoice_id' => '1')) in ContactMailer.php line 50\nat ContactMailer->sendInvoice(object(Invoice)) in InvoiceController.php line 467\nat InvoiceController->save() in InvoiceController.php line 384\nat InvoiceController->store()\nat call_user_func_array(array(object(InvoiceController), 'store'), array()) in compiled.php line 8501\nat Controller->callAction('store', array()) in compiled.php line 8569\nat ControllerDispatcher->call(object(InvoiceController), object(Route), 'store') in compiled.php line 8548\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9187\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9170\nat Pipeline->then(object(Closure)) in compiled.php line 8549\nat ControllerDispatcher->callWithinStack(object(InvoiceController), object(Route), object(Request), 'store') in compiled.php line 8535\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\InvoiceController', 'store') in compiled.php line 7526\nat Route->runWithCustomDispatcher(object(Request)) in compiled.php line 7497\nat Route->run(object(Request)) in compiled.php line 7162\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9187\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in Authenticate.php line 47\nat Authenticate->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9170\nat Pipeline->then(object(Closure)) in compiled.php line 7163\nat Router->runRouteWithinStack(object(Route), object(Request)) in compiled.php line 7152\nat Router->dispatchToRoute(object(Request)) in compiled.php line 7137\nat Router->dispatch(object(Request)) in compiled.php line 2035\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9187\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in StartupCheck.php line 154\nat StartupCheck->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in DuplicateSubmissionCheck.php line 28\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 2543\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 34\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12359\nat ShareErrorsFromSession->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 11049\nat StartSession->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12061\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12009\nat EncryptCookies->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 2584\nat CheckForMaintenanceMode->handle(object(Request), object(Closure)) in compiled.php line 9179\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9170\nat Pipeline->then(object(Closure)) in compiled.php line 1991\nat Kernel->sendRequestThroughRouter(object(Request)) in compiled.php line 1978\nat Kernel->handle(object(Request)) in index.php line 53\n. the problem points to this piece of code\npublic function startTLS()\n    {\n        return stream_socket_enable_crypto($this->_stream, true, STREAM_CRYPTO_METHOD_TLS_CLIENT);\n    }\n. SOLVED IT!!!! \nI changed from PHP 5.6 to 5.4 and it worked!!\nThanks for your help @hillelcoren you have a great software here keep up the good work!\n. ",
    "Twinsen343": "Hey Hillecoren,\nThe command I used was a simple chown www-data:www-data /var/www/ { SITE ROOT }\n. ",
    "simondaigre": "Hi,\nI used this tutorial: https://www.rosehosting.com/blog/install-invoice-ninja-on-a-debian-7-vps/\nSo I seed my database manually with  php artisan db:seed\nI take a look into db and I see currencies, countries, etc..\n. OK I used the install page instead of artisan. Everything is ok now, thanks :)\n. Hi,\n- Item reference, first column of an invoice\n- Sorry its not uppercase but capitalize, just first char of each word are uppercase :)\nPS: dont forget this one :) - Put postcode before town on invoice (in France we usually do this)\n. In France we dont capitalize each word in a sentence, thats why I think we should only use it in translation's files.\n. Hi;\nConsidering #360 it may be not compatible if client specific language is different of server language ? \n. No problem, I also have this issue. Thanks\n. That\u2019s great ! Thanks :)\n. Why not use Crowin or something like this for translations ?\n. @hillelcoren How to enable this ?. OK, understood. Thanks.. Why Transifex ? Crowdin is $19 per month, Transifex is $99..\n. ",
    "bcole808": "Aha, putting it in the controller makes more sense!\n. Updating to the latest code seems to fix things. It seems I was perhaps previously missing some commits.  Were you able to re-create the issue though?\n. Updating to the latest code seems to fix things. It seems I was perhaps previously missing some commits.  Were you able to re-create the issue though?\n. Glad to be able to help out! I was in need of some new invoicing software and this open source project had almost just the right set of features I needed and so it seemed to be the best way to go. I figured I could do my best to try to help add in the few missing features that I really wanted. \n. Glad to be able to help out! I was in need of some new invoicing software and this open source project had almost just the right set of features I needed and so it seemed to be the best way to go. I figured I could do my best to try to help add in the few missing features that I really wanted. \n. ",
    "acacha": "Same error here and $ php artisan db:seed is already executed. Looking for more details I'll write as soon as I have more information\n. Yes is populated. Contents:\n\n. Yes is populated. Contents:\n\n. Bingo! That works! It seems logic, yesterday I used the app without executing seeders and today after executing seeders the errors begins. Thanks!\n. Bingo! That works! It seems logic, yesterday I used the app without executing seeders and today after executing seeders the errors begins. Thanks!\n. You are welcome! anc congratulations for this amazing application!\n. You are welcome! anc congratulations for this amazing application!\n. ",
    "dirkplatts": "Here's how I tried to install: downloaded zip, unpacked, subdomain points to /public as root dir. added mysql and added key in /config/app.php ... so when accessing ninjaurl/ it jumps to ninjaurl/setup and gives me a 500 Internal Server Error:\n\"The server encountered an internal error or misconfiguration and was unable to complete your request.\"\nnothing logged in laravel.log\n. Here's how I tried to install: downloaded zip, unpacked, subdomain points to /public as root dir. added mysql and added key in /config/app.php ... so when accessing ninjaurl/ it jumps to ninjaurl/setup and gives me a 500 Internal Server Error:\n\"The server encountered an internal error or misconfiguration and was unable to complete your request.\"\nnothing logged in laravel.log\n. - Downloaded it from your site (need no composer right?)\n- running PHP 5.6\n- did all that (on a shared host, but don't see what would be missing)\n. - Downloaded it from your site (need no composer right?)\n- running PHP 5.6\n- did all that (on a shared host, but don't see what would be missing)\n. well it is not empty, because at first I had this errpr:\nmcrypt_encrypt(): Key of size 0 not supported by this algorithm. Only keys of sizes 16, 24 or 32 supported\nwhich I was able to solve by adding the key etc.\nI do not want to sound harsh (because I am thankful for every open Source dev out there), but I will not dig any further into this. Tweaking/fiddling around on a system to work with my invoices and other critical data is not what I am looking for. Can only guess what upgrading will look like ;-)\n. well it is not empty, because at first I had this errpr:\nmcrypt_encrypt(): Key of size 0 not supported by this algorithm. Only keys of sizes 16, 24 or 32 supported\nwhich I was able to solve by adding the key etc.\nI do not want to sound harsh (because I am thankful for every open Source dev out there), but I will not dig any further into this. Tweaking/fiddling around on a system to work with my invoices and other critical data is not what I am looking for. Can only guess what upgrading will look like ;-)\n. ",
    "mustberain": "Thnx for the fast reply. I'll check out answer 2, and try to hack in 1 and 3 ;) \n. Thnx for the fast reply. I'll check out answer 2, and try to hack in 1 and 3 ;) \n. Just for readers of this issue, i fixed 1 and 3 with dirty hacks; but hey they work. So if you want the same as me make this edits:\n1.\nedit.blade.php ;\nGive the tablecell with the taxes an id, to make sure you don't mess up other select boxes.\nAdd this javascript in the same file:\n$(document).ready(function() {\n    $('#taxRateHackJ select option')\n        .filter(function() {\n            return $(this).text() == '21% BTW'; // *!\n        })\n        .prop('selected', true).trigger('change');\n    });\n*! this is my value (21% BTW), change it in whatever label you have given your tax rate\n3\nAccount.php ;\nin function getNextInvoiceNumber prefix this to the return : date('ymd'). \nResult is invoicenumbers like yymmdd0001\n. Just for readers of this issue, i fixed 1 and 3 with dirty hacks; but hey they work. So if you want the same as me make this edits:\n1.\nedit.blade.php ;\nGive the tablecell with the taxes an id, to make sure you don't mess up other select boxes.\nAdd this javascript in the same file:\n$(document).ready(function() {\n    $('#taxRateHackJ select option')\n        .filter(function() {\n            return $(this).text() == '21% BTW'; // *!\n        })\n        .prop('selected', true).trigger('change');\n    });\n*! this is my value (21% BTW), change it in whatever label you have given your tax rate\n3\nAccount.php ;\nin function getNextInvoiceNumber prefix this to the return : date('ymd'). \nResult is invoicenumbers like yymmdd0001\n. sorry, just found out version 2.4.6 is available, installed it and it is fixed. Don't know if it was a bug or something I broke, but it works again so this issue is no issue.\n. ",
    "jasonniebauer": "That makes sense. I took a look at reducing max-width here, but this causes an issue with the dropdown menu arrow indicator being hidden.\n\nIf I set the container width to 1200px in style.css, would the change be included in the build script?\n. Great!\n. ",
    "limenet": "please see #357 instead\n. You're welcome!\n. Of course!\n. :+1: for putting capitalization into the translation files. An example:\n{{ trans('texts.show_archived_deleted')}} {{ strtolower(trans('texts.'.$entityType.'s')) }}\nThe above snippet correctly produces \"Show archived/deleted clients\" in English, but in German the strtolower() produces \"Zeige archivierte/gel\u00f6schte kunden\" instead of \"Zeige archivierte/gel\u00f6schte Kunden\" (German capitalizes all nouns). While I agree this reduces the number of strings to translate, this leads to wrong (in the grammar-sense) texts.\nEdit: source of above snippet\n. Enabling client-side localization is a bit tricky:\nLoading all localization files via by adding 'public/vendor/bootstrap-datepicker/dist/locales/*', to the Gruntfile works. Afterwards setting $.fn.datepicker.defaults.language to App::getLocale() is (technically speaking) easy. Getting bootstrap-datepicker to work correctly however isn't:\nThe $.fn.datepicker.defaults.language has to be set before calling .datepicker() and it needs to be (as implied) set as a default. This would need to happen after the library is loaded but before anything else than setting the defaults (script.js, line 619 & 620) happens. The only problem is, the locale is dynamic.\nOne (bad) idea is to remove script.js from the Gruntfile, load the grunted file, set $.fn.datepicker.defaults.language and then load script.js.\nDo you have any ideas on this?\n. Good point, @Elitius\nThe problem I'm facing at the moment is the data binding and bootstrap-datepicker's inconsistency with the default language (or my inability to set it correctly...). The script tries to set a date which is localized to a datepicker field which isn't localized and that, of course, fails.\nAt the moment I can't really think of a way I'll get it to work easily. One approach (esp. for #360), but this is a bit more work, would be to only use YYYY-MM-DD between client and server but that doesn't solve the problem above.\n. Definitely :+1: for this, I have the same problem. I went ahead and opened a pull request to suggest that change, see #457\n. @nerdoc there are some more occurences of this string, as you can see in my (closed) PR #457 -- do you want to integrate them in your PR?\n. And next time I'll first check existing PRs... sorry!\n. Good point! Running\nbash\n$ cat resources/lang/de/texts.php | grep status_\n  'status_draft' => 'Draft',\n  'status_sent' => 'Sent',\n  'status_viewed' => 'Viewed',\n  'status_partial' => 'Partial',\n  'status_paid' => 'Paid',\nshows the translations are missing.\nBut after pulling in the most recent changes, the bug persists (I cleared the cache, browser- and server-side). The file is now correct as evident by\nbash\n$ cat resources/lang/de/texts.php | grep status_\n  'status_draft' => 'Entwurf',\n  'status_sent' => 'Versendet',\n  'status_viewed' => 'Angesehen',\n  'status_partial' => 'Teilweise',\n  'status_paid' => 'Bezahlt',\nThis leads to me to think there's a bug in the code logic. What do you think @hillelcoren ?\n. @nerdoc Yes, exactly:\n\n@hillelcoren Good call!\nmysql> select * from ninja.invoice_statuses;\n+----+-------------+\n| id | name        |\n+----+-------------+\n|  1 | Entwurf     |\n|  2 | Verschickt  |\n|  3 | Angesehen   |\n|  4 | Teilzahlung |\n|  5 | Bezahlt     |\n+----+-------------+\nDid this behavior change with v2.4.0? I'm asking because it worked in 2.3.x (I don't know however, whether that was intentional or \"just worked\").\nChanging/reverting that table to:\n+----+---------+\n| id | name    |\n+----+---------+\n|  1 | draft   |\n|  2 | sent    |\n|  3 | viewed  |\n|  4 | partial |\n|  5 | paid    |\n+----+---------+\nworked. Thanks so much!\n. I'm not sure whether this has an effect whatsoever, but you might want to clear the application's server-side cache using $ php artisan cache:clear (you might need sudo depending on your setup). Have you tried that?\n. @nerdoc \nI'm sorry the cache flushing didn't work.\nAbout the picker_format: invoice-ninja uses the Bootstrap Datepicker which has a different syntax than e.g. Carbon (which is used by Laravel. In this case, to get the d.m.Y format to work, you have to use Datepicker's synax.\nDoes this help you understanding the picker_format column?\n. @nerdoc You're welcome.\nThe way I see it, format is used whenever the server is involved in date-processing (e.g. displaying overdue invoices), and picker_format whenever the client is involved (e.g. generating PDFs). And by \"is used\" I mean to display and parse -- it just depends on what you are looking (client/server). Let's make an example:\n1. You create a new invoice and want to set the due date to \"October 5, 2015\" in a \"05.10.2015\" format\n2. picker_format now is responsible to make sure your datepicker is displayed in the correct format. Since this happens on the client, picker_format is used\n3. Your PDF preview is generated with the correct format, this all happens client-side\n4. You save the invoice and data gets sent to the server\n5. The server now creates a DateTime object using format to parse the data it has received from the client (which used picker_format)\n6. ... some processing ...\n(The other way around is analogous)\nAs you can see, format and picker_format have the same (semantic) meaning they just have different (syntactic) notation.\nTo store the dates, MySQL's DATE is used which uses the YYYY-MM-DD format.\n. You're very welcome!\n. Sure thing!\n. Always happy to help!\n. Thanks for the merge!\n. Haha thanks :)\n. ",
    "lukealford": "100% certain, I downloaded 2.2.2 direct from github than copied over the files while keeping back ups of my app / env file. Then visited /update and it updated fine.\nI just tried running them again and it worked fine but I noticed occasionally the end date is putting in doubles of the dates maybe this is why it was throwing the error.\nThe date picker didn't clear and displayed end date like this\n\nJune 30, 2015,June 30, 2015\n\nWhile it worked fine with just \n\nJune 30, 2015\n. Wrapped values with qoutes and now I get the following error.\nFatalErrorException in ProviderRepository.php line 146:\nClass 'Illuminate\\Routing\\ControllerServiceProvider' not found\n. Did nothing unfortunately  =( \n. Hmm odd, still the same.. \n. drwxrwxr-x 3 www-data www-data 4096 Mar 29 03:36 bootstrap/\n\nFolder permissions seem to be correct\nno where in the services.php file or anything, mentions the ControllerServiceProvider, I'm guessing this is because it's been removed. Still can't clear this error though =( \n. @anythingtechaus did you rm -R just the bootstrap folder? or the whole invoice ninja folder?\n. @anythingtechaus interesting just checked my error log,\n2016/03/31 14:18:27 [error] 6739#0: *427 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Class 'Illuminate\\Routing\\ControllerServiceProvider' not found in /var/www/invoiceninja/invoice-ninja/bootstrap/cache/compiled.php on line 7592\" while reading response header from upstream, client: ::xxx, server:xxx, request: \"GET /dashboard HTTP/1.1\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"xxx\"\nthere is no results relating to ControllerServiceProvider in my services.php so shouldn't be looking for it. very odd.\n. All my issues have been fixed with the one of the latest versions, I suggest anyone who has this problem updating asap. \nOnce updated run /update and make sure you set your APP_KEY.\nThen run the following.\ncomposer dump-autoload\ncomposer clear-cache\n. I always dread the upgrade progress, last couple of upgrades I've had problems. I left it a few weeks hoping the problems would be ironed out.\nThis time around I get the exact same problem as suggested above, I've followed everything mentioned by @hillelcoren & @codedge but nothings fixed my problem, the online payments and client port pages\nboth display the error below.\nDecryptException in BaseEncrypter.php line 48:\nThe MAC is invalid.\nin BaseEncrypter.php line 48\nat BaseEncrypter->getJsonPayload('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==') in Encrypter.php line 96\nat Encrypter->decrypt('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==') in Facade.php line 217\nat Facade::__callStatic('decrypt', array('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==')) in AccountGateway.php line 108\nat Crypt::decrypt('eyJpdiI6IjZYcThwNDZqSmEwaCtUSDM3aWtMNFE9PSIsInZhbHVlIjoia3d3UFJEUTB0N1c0bG5US1RCTVBpRjVpNm9zVFRkaTZ5czY5RlpobzE5NVJcL3JFMThyZ2VpMDdmRCtDSk1iVlwvRWhrRDhHWExDODMyUGtlcDQ3bUlaWmZXdWMrZmJWWWJCVDZFR3ZVaHRYQkEralAxbEprclYyUVpGd0RrZFhQbzhHWjVJUHlrTks1VWw5c2NmdWRmaUE9PSIsIm1hYyI6IjVkN2Q5ZmJhNDc3MDNkZDdhZjhmNTgwYTRmZWFjOGZjODE0NTlmNzY3NTY3ZDI5ZjlmYmZiOGFmOTA4ZGJjODQifQ==') in AccountGateway.php line 108\nat AccountGateway->getConfig() in AccountGateway.php line 117\nat AccountGateway->getConfigField('publishableKey') in AccountGateway.php line 129\nat AccountGateway->getPublishableStripeKey() in HandleUserLoggedIn.php line 55\nat HandleUserLoggedIn->handle(object(UserLoggedIn))\nat call_user_func_array(array(object(HandleUserLoggedIn), 'handle'), array(object(UserLoggedIn))) in Dispatcher.php line 348\nat Dispatcher->Illuminate\\Events\\{closure}(object(UserLoggedIn))\nat call_user_func_array(object(Closure), array(object(UserLoggedIn))) in Dispatcher.php line 221\nat Dispatcher->fire(object(UserLoggedIn)) in Facade.php line 217\nat Facade::__callStatic('fire', array(object(UserLoggedIn))) in AuthController.php line 142\nat Event::fire(object(UserLoggedIn)) in AuthController.php line 142\nat AuthController->postLoginWrapper(object(Request))\nat call_user_func_array(array(object(AuthController), 'postLoginWrapper'), array(object(Request))) in Controller.php line 80\nat Controller->callAction('postLoginWrapper', array(object(Request))) in ControllerDispatcher.php line 146\nat ControllerDispatcher->call(object(AuthController), object(Route), 'postLoginWrapper') in ControllerDispatcher.php line 94\nat ControllerDispatcher->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 103\nat Pipeline->then(object(Closure)) in ControllerDispatcher.php line 96\nat ControllerDispatcher->callWithinStack(object(AuthController), object(Route), object(Request), 'postLoginWrapper') in ControllerDispatcher.php line 54\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\Auth\\AuthController', 'postLoginWrapper') in Route.php line 174\nat Route->runController(object(Request)) in Route.php line 140\nat Route->run(object(Request)) in Router.php line 724\nat Router->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 103\nat Pipeline->then(object(Closure)) in Router.php line 726\nat Router->runRouteWithinStack(object(Route), object(Request)) in Router.php line 699\nat Router->dispatchToRoute(object(Request)) in Router.php line 675\nat Router->dispatch(object(Request)) in Kernel.php line 246\nat Kernel->Illuminate\\Foundation\\Http\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in Debugbar.php line 49\nat Debugbar->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(Debugbar), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in StartupCheck.php line 193\nat StartupCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartupCheck), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in QueryLogging.php line 28\nat QueryLogging->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(QueryLogging), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in DuplicateSubmissionCheck.php line 41\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(DuplicateSubmissionCheck), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in VerifyCsrfToken.php line 64\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 51\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in ShareErrorsFromSession.php line 49\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in StartSession.php line 64\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in EncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in CheckForMaintenanceMode.php line 44\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in Pipeline.php line 136\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 103\nat Pipeline->then(object(Closure)) in Kernel.php line 132\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 99\nat Kernel->handle(object(Request)) in index.php line 52\n. my .env has \nAPP_CIPHER=AES-256-CBC\nI commented it out and added\nAPP_CIPHER=rijndael-128\nstill no different do I need to run \n\nphp artisan config:cache && php artisan cache:clear\n. I just copied across the version with vendor files you have hosted, then updated the env file with my details, the 256-CBC line came with it.\n\nIt's defiantly a key mismatch is it possible to regenerate and not loose data?\n. Same key and .env has APP_CIPHER=rijndael-128 still same error.\nDecryptException in BaseEncrypter.php line 48:\nThe MAC is invalid.\n. Still spitting out the same error =(.\nKind Regards,\n_Luke Alford_http://lukealford.com\n0458 087 299\nI like Forests, Please consider the environment before printing this\nemail.\nOn Tue, Aug 9, 2016 at 2:30 AM, Hillel Coren notifications@github.com\nwrote:\n\nYou mentioned artisan cache, we don't suggest using it but you would need\nto clear it for these changes to take effect.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/987#issuecomment-238292334,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AApcthYd73_ZFCbB_zlCzVged-yP0HRTks5qd1nAgaJpZM4JONT2\n.\n. same result.\n\nOn Tue, Aug 9, 2016 at 2:39 AM, Hillel Coren notifications@github.com\nwrote:\n\nAPP_CIPHER=rijndael-256\n\nKind Regards,\n_Luke Alford_http://lukealford.com\n0458 087 299\nI like Forests, Please consider the environment before printing this\nemail.\n. it's not in the .env files it's in the app.php file.\nKind Regards,\n_Luke Alford_http://lukealford.com\n0458 087 299\nI like Forests, Please consider the environment before printing this\nemail.\nOn Tue, Aug 9, 2016 at 3:05 AM, Hillel Coren notifications@github.com\nwrote:\n\nCan you check if the cipher value is in your original .env file\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/987#issuecomment-238302323,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AApctuRNlD4bvzuYnc8mKufikk9Ln8HAks5qd2HIgaJpZM4JONT2\n.\n. Just tried using original .env file still no change, then updated the\nkeylines in config/app.php to match my backup, still no change same mac\ninvalid error.\n\nKind Regards,\n_Luke Alford_http://lukealford.com\n0458 087 299\nI like Forests, Please consider the environment before printing this\nemail.\nOn Tue, Aug 9, 2016 at 3:39 AM, Hillel Coren notifications@github.com\nwrote:\n\nI'm not sure, you may want to try updating again but rather than use the\nnew .env.example file use your original .env file. The app should check if\nthe value is missing and automatically add it, it didn't happen for you\nbecause the new value was already there.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/987#issuecomment-238314016,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AApctv6eWH7fGl1W15sKPQ6NSR4rPNGZks5qd2nAgaJpZM4JONT2\n.\n. Just bumping this, I ended up putting up with the error... I still can't solve it, It came with me on the migration to 2.7.2 tonight as well.\nphp artisan tinker\n\nReturns back the correct key & cipher, I'm lost I think it might be time for a fresh install, I have a feeling this will mess with dates maybe. Can you confirm?\n. > Can you explain what you mean by 'this will mess with dates maybe'\nSometime ago I read a issue that effected payment dates on export, was this fixed?\nalso what do you recommend the best reinstall method, export to json or a mysql dump if so what tables?\n. Defiantly there.\nid created_at  updated_at  name    provider    visible payment_library_id  sort_order  recommended site_url    is_offsite  is_secure\n64  2016-12-21 18:10:50 2016-12-21 18:10:50 Custom  Custom  1   1   8   0       1   0. No different . Nope, ran the migration just didn't run the seed because I didn't want any sample data.. Fair enough, I figured having the name seeder it's seed data. I remember the last time I installed it I had to remove some stuff, looking at my table it seems some ID's are different as well.\nhttp://frank.lukealford.me/gateways.csv. No idea shouldn't of, was a fresh database on migration. running them now.. Fixed. Re-importing my data now \ud83d\udc4d thanks mate.. Long story, had Invalid MAC problems for quiet some time we tried fixing it a while back. I managed to put up with it for a while, tonight I just took a json backup and a fresh install. All working fine now \ud83d\udcaf . Your welcome.. ",
    "Vikas0109": "I did all changes in php.ini but still, I am getting the same error. 5.6.31. I tried in php 7.0.23 and PHP 7.1.9 but I am not getting \"always_populate_raw_post_data\" in php.ini file and error are same. how?. ",
    "nest-don": "Oh I see now. Thanks for the clarification.\nAlthough its good if User also extended from the alias Eloquent just to reduce the confusion. \nThanks.\n. ",
    "LennardWesterveld": "I'm thinking about a oauth client for invoice ninja\n. Hi @hillelcoren,\nIts the font cache \nPHP Fatal error:  Call to a member function filter() on a non-object in /Users/lennard/Sites/prive/invoice/ninja/app/Libraries/Utils.php on line 282\n....\n PHP  50. include() ninja/vendor/compiled.php:14087,\n PHP  51. App\\\\Models\\\\Account->getHeaderFontName() ninja/storage/framework/views/0ba84e9c773d658356831f06dec935fc:22, \nPHP  52. App\\\\Libraries\\\\Utils::getFromCache() ninja/app/Models/Account.php:1073\n. I did, the 'fonts' table also exists in the database.\nMaybe because the 'fonts' table is empty?\n. Works!\n. ",
    "foobarable": "I also ran into this issue but dropping the database is not an option. Just upgraded to Version 2.3.4 with code from the Self-Host Zip.\n. Does not seem to help. I also used a fresh browser, cleared the browser chache, reset all database migrations and did them again. (Restored the data from a mysqldump afterwards, but yeah, if I now think about it it makes no sense.) There is also nothing to see if I turn on the debugbar of the app and also not in the browsers console.\n. I can save other records like customers without problem. It seems its just just at the /invoices/create route. \n. Clearing the cache did not help. I also did the upgrade process by visiting /update in the browser as it was described in the installation notes.\nWhat helped was the following:\n-Installed fresh instance of v.2.3.4 with own database and so on\n-Dumped old database\n-Restored old database in to fresh instance.\n. ",
    "thomasjpatterson": "Fresh install of 2.4.9.6 is doing this as well. Can save anything but Invoices and Quotes. No errors in laravel.log and chrome debug is fail on post: POST built.js?no_cache=2.4.9.6:4614 with a 403 for /invoices. Where if you go to that page either by clicking on Invoices or even just hitting enter when the 403 occurs it takes you to the page.\n. Not using mod_security and nothing in error logs either.\n. Yeah I've pulled all my error logs, access logs, and laravel.log. The only issue I found was when I misconfigured my email settings in laravel.log. The error log is empty.\n. Yeah, same with me but I've double even tripled check permissions. it should be good. What is weird is that I can surf to the URL but when it does it's redirect is when it gets the 403.\n. no extra security, I opened a support ticket with my hosting company and asked. \n. Self Host Zip\n. So in Edge browser the Save button doesn't even work. Going to test the temp 777\n. Alright so I've resigned it is not the software. I just installed it via Softaculous and I'm getting the same results. It's got to be something funky my hosting is doing. I'll open a ticket with them and close this one. Thank you so very much for your troubleshooting.\n. ",
    "dgallinari": "Hello all!!\nWe prioritized a few stories over others and our first development sprint will focus on the following ones:\n1. Effective invoice due date concerning the option of blocking a payment when the \n   invoice is past due;\n2. --\n3. Implement the option of having multiple currencies on the same invoice. This is important for us because we sale courses abroad and we need to show the final user the amount he is paying on the original currency. In order to do so, an exchange rate field on the invoice model will be created (per invoice and per item) just like the tax field. It will also be included on the API;\nWe are aiming to have these ones ready by the end of this September. We'll keep you posted.\n@hillelcoren \nWe will work on a fork of invoice-ninja repo and we will provide pull requests for each new feature we implement, so if you think it makes sense, feel free to merge them in the official repo.\nBest regards,\nDescubra o Mundo IT Team\n. Our repo:\nhttps://github.com/descubraomundo/invoice-ninja\n. @hillelcoren \nWe would like to create a new Invoice Template including some additional information from the client (e.g. ID Number, etc..). How does that work?\nThanks in advance!\nBest regards,\nDaniel\n. Thanks! We'll give it a check :)\n. ",
    "konstantinrudi": "Will the Total Invoice Balance also go up?. It would be great if you could filter it and select if you want to use the Proof of Signature for Invoices or Offers and not like at the Moment for all.. It would also be great if every client could see the Recurring Invoices in the Clients Dashboard and maybe also send an request to cancel it.. @hillencore and what is your Decision regarding my Request?. i now translated it. It is a full Letter like an Invoice but on it stands that you did not pay the Bill and you have XX Days to do so otherwise you will send another. This goes 3 Times and after you go to court.. Hey, it would also be cool if you would add a way to specify your \"St-Nr.\" in Germany we have a special Number just for smaller businesses that dont have the \"USt-IdNr.\".. Hi Hillel,\nIt's not for my clients it's for me. For my Clients it would also be cool.\nBests Konstantin\nAm 6. Januar 2017 09:19:33 MEZ schrieb Hillel Coren notifications@github.com:\n\n@konstantinrudi Could you use a custom client field?\n-- \nYou are receiving this because you were mentioned.\nReply to this email directly or view it on GitHub:\nhttps://github.com/invoiceninja/invoiceninja/issues/1225#issuecomment-270854235\n. Thanks @Braintelligence and @hillelcoren,\n\nThanks for the Solution, I will use it for the Time Beeing, but for long Time Period it would be cool if you would just simply Integrate this standardly.\nBests Konstantin. I have two Problems:\n1. the Error \"if you pay with stripe and the card does not have sufficient credits\" is displayed in English.\n2. if you use the online transaction fees feature it will ad an English Product and description. Hello,\njust for understandig, is it safe to use PHP 7?\n. \ud83d\udcaf . Im using the latest one.\nHere is the Answer of the Request:\n1\ncredit_card\nCredit Card\n2\nbank_transfer\nBank Transfer\n3\npaypal\nPayPal\n4\nbitcoin\nBitcoin\n5\ndwolla\nDwolla\n6\ncustom\nCustom\n. Hello Hillen,\nIf I go to: XXX/update or XXX/public/update I get the following Error: \"SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'signature_base64' (SQL: alter table invitations add signature_base64 text null, add signature_date timestamp null)\"\nI tried adding the ?clear_cache=true but I didn't change anything.\nThanks :/\nAm 6. Januar 2017 09:08:36 MEZ schrieb Hillel Coren notifications@github.com:\n\nIf you upgraded from a previous version can you load /update (or\n/public/update) to check that the migrations completed successfully. \nAlso, please try adding ?clear_cache=true to the end of the URL to\nclear the application cache. \n-- \nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub:\nhttps://github.com/invoiceninja/invoiceninja/issues/1252#issuecomment-270852779\n. @hillelcoren \nThats the Answer of the SQL Request\n. @hillelcoren is it correct what i commented out?\n\n. Also this seemed to work now: \n\n\nThe Settings page for Reminder is still not working:\n\n. I was on the 2.8.1 but now im redoing an update and try to update to v2.9.3 manually (copy all new files over the old one). Still waiting for the Upload... tell you then.... Finally after the Manual Update it worked thank you very much @hillelcoren \ud83d\udcaf \ud83e\udd47 . They were correct in the Translation Tool but not in the App itself.. When will the next major come?. And how can I fix it?. @hillelcoren cool, thats great \ud83d\udc4d . Hey Guys, can you @turbo124 @hillelcoren add this to the Road Map? Thanks :). If we are talking about more customizations in general it would also be cool jif you could Edit the Header better and change for example that the Logo is in the Middle and so on. Also this should be saved in a way that these changes are update safe. Yeah I did that, but also I did find a way to change the order in the header and so on I could not find a way to change the Sorting of the Columns.. @turbo124 okay cool, can you tell me when you fixed something so i can check it and if it is fixed delete it from the List above?. Problem with Editing an Item in an Invoice or Quote..\nMore Details and Pictures in the First Post.\n. When a Client has no Contact Person (First and Lastname) and only a Phone Number (in the Contact Person field, not the Company/Organisation is displayed. Rather it displays the Phone Number.. Hey David, \nYes I'm using the lastest version. The Payment Tab looks so good so far also the Payment Type button does not work.\nAnd also if I press on one already made payment is surprisingly opens a completly other costumer.. @turbo124 I updated my Post, but I can only confirm that the 1. and 2. Issue was corrected. The others as well as a new one exists in this Version.. New Problem, the Logo and the Company name is no longer shown.. @turbo124 im sorry i logged out and logged in again and it only changed that:\n1. The Company Name is now displayed.\n2. Also I can now edit Items on an Invoice it does not show the selected one (that I wanted to edit) unless there is only one Item on the Invoice.\nIm using the newest Version. New Update: Now the Logo is Beeing displayed. but the Dashboard is still not correct. And also I still can not select an Payment Method.. Hey @turbo124 I have updated the Post.\nNew Issues:\nIf you create a new payment it also shows you Clients that just have a Quote and not even an Invoice yet.\nCurrently the App only shows $ and not \u20ac.\nAnd still the old one on the List 1-3 are not fixed yet.. @turbo124 I updated the Post. The Client Name is now correct. But the other Problems are still there. The Dashboard still shows already payed invoices still in the upcoming section. And if I create a new Payment it also shows still the Quotes.. @turbo124 can you add it to the Road Map (https://trello.com/b/63BbiVVe/invoice-ninja)?. In the Database the clients database under country_id the Code is missing but i dont know why it didn set it up..... Hey @hillelcoren that fixed it <3 thank you a lot. Im sorry but now, my cronjobs always fail so I had to uninstall phantomjs @turbo124 . That would be really awesome! \ud83d\udcaf . @hillelcoren How is the Status regarding this feature?. I am using chrome but I think it also was happening in Safari\n. @turbo124 is this fixed now?. Hey @hillelcoren I checked and it exists. Also I can not even safe any changes. Here is the full error log:\nMessages1TimelineExceptions1Views0RouteQueries28MailsSessionRequest195.02ms22MBPUT quotes/{invoices}. Now It works :D Thanks a lot.. It should be more like a new button that says use saved payment informations.. Yes, but also on that Page, but also directly in the Invoice Creation/edit page.. Oh, yes Im sorry...\n1.  /payments/create\n2. on the Invoice Creation/edit page. I have the same Problem... wy Invoices should be send at the 01. but instead they were created today.. @hillelcoren when will this fix be published via the normal update function?. @hillelcoren I mean the normal update Procedure (download it at the invoiceninja.org site).. ",
    "theteej": "That did do the trick, thank you!\n. ",
    "jprangenbergde": "Thank you. Loading /update in the browser was the solution! Closed!\n. ",
    "DC68": "Wanted to add to this if it's still under consideration:  a client-specific variable (and counter?)  would be great.  I number my invoices like acme-003, smith-064, etc., I'm guessing others might too.  Or if that's too complex, just allowing a custom entry for invoice number would work, other online invoice companies handle it that way.  Or a toggle in advanced settings to hide the default invoice number, that way a new custom field could be easily added instead?  FYI it's about the only reason I haven't switched over yet, I like the platform, I just need to keep my numbering scheme.\n. Wow that was a fast reply!  I might just sign up for the Pro account \nbased on the speedy response : )\nBest,\nDavid\nOn 9/17/2015 12:23 PM, Hillel Coren wrote:\n\nWe're just wrapping up work on v2.4.0 but plan to include this change \nin v2.5.0.\nI like the per-client counter idea, we'll look into it.\n\u2014\nReply to this email directly or view it on GitHub \nhttps://github.com/hillelcoren/invoice-ninja/issues/407#issuecomment-141195255.\n. \n",
    "astravoice": "So it seems the issue is related to the PDF generation. If the PDF generation fails in the browser, then the invoice will not save.\nI guess the change I propose saves the invoice in all cases. \nI will close the issue, but it might be something to think about.\n. Seems like \"/update\" was not run.\n. ",
    "juanluisbaptiste": "No, thanks to you !\n. Cool, any ETA or roadmap I can look at ?\n. If you want, you could let me know before the next release so it doesn't go out with a broken translation ?\nthanks\n. Hi,\nsorry for the late reply, but setting MAIL_ENCRYPTION=None on the .env foile does not work either, on the setup screen TLS still appears as the default value.. > Not sure, maybe try 'None' instead of 'none'\nI did try that too with no different effect.\n\nI'd suggest testing the email and not relying on the display on Settings > System Settings.\n\nWell will do, but this report was about the error when setting mail entrypction to None in the setup page, not about if the email was broken per se.. ",
    "bzg": "Well, thanks for this great piece of software!\n. ",
    "Ghostavio": "I'll open a PR later today for AED, thanks :)\n. ",
    "tacticz": "Thank you for the swift answer !\nFrom your answer I realized I probably messed up with the files' ownership and rights.\nI took back the procedure starting from the git clone... And it now shows me the Invoice Ninja Setup page. Hurray!\nThanks a LOT for putting me on the right track. I should now be able to explore the Invoice Ninja project.\n. ",
    "dakira": "This absolutely needs to be mobile friendly. None of the above are. This one looks pretty sweet: http://amsul.ca/pickadate.js/\n. > We're planning on adding labels throughout the system\nThe benefit of having explicit projects is that this allows you to nicely visualize and track how much you're working on what.\nWith the timetracker I'm using right now, when a client asks me \"can you give me a pie chart of how many hours you spent on which project\" I can easily comply. It's also interesting for me personally, to see how much time I spent on which projects in the past week or so.\n\nCan you explain the 'Task' option, is it the parent task?\n\nNo, this is the task. For all fields except client I would use a 'create-if-not-existing' strategy. You often have recurring tasks, why enter them again and again?\n. > just a word\nOf course. But using labels makes it harder to implement pie charts like those I mentioned above. I imagine stats like looking at the tasks for the past month and getting a pie-chart with all the clients you worked for. Clicking on a client will get you a chart with all the projects of that client and clicking on project will display a chart with all the tasks.\nTo be used in a feature it's hard to figure out which labels are projects.\n. > it would support assigning an client, invoice or task to more than one project.\nThat is an interesting thought. On the other hand this could of course also be done if there were a project model with the right relationships. Using labels to define this relationship feels very much EAV-style to me. I personally prefer things that are so close to the business logic (i.e. projects) to be represented as models and not hidden away in an EAV system. I even think projects should be taggable, too.\nI'll think some more on this. ;)\n. You're welcome. I'll be working on some more i18n and usability changes soon. There are some things that need to be different to be compliant with certain EU laws. One minor thing is correct display of currency (#210), and dates (#361). I sketched some other ideas for the tasks here: #482. The invoicing is really nice but timetracking lacks a lot.\n. ",
    "matharim": "How do I implent this update? Thankyou\n. oke great, will wait for the self-zip, then I can copy paste the files right\n. ",
    "stevro": "The best solution to the decimal mark is to fix the styles. Because there are countries where the decimal mark is \",\". https://en.wikipedia.org/wiki/Decimal_mark\nAs for the capistrano configs, can you help me with some guidance for where could I store my parameters so that I could also commit the config files but not the parameters file. I'm coming from Symfony world and this it's my first look at a Laravel project.\n. ",
    "lalop": "yes that's what I mean\n. Is there an artisan command to generate all the needed subfolders ?\n. ok but Do I've to share this directory between deployement ?\nIt seems that : \n- some files are generated by the app and temporary like views\n- some other are generated but not temporary like pdf\n- some are not generated and should be shared like invoice template\nAm I wright ?\n. This is fix, isn't it @hillelcoren  ?. ok I understand but in the invoice will have a different invoice id even if the first one is deleted\n\nLe 21 janv. 2016 \u00e0 10:00, Hillel Coren notifications@github.com a \u00e9crit :\nIt's by design, you need to clone the invoice and then optionally delete the old one.\nAllowing changing the invoice would required crediting the original client's balance which could get a bit complicated.\n\u2014\nReply to this email directly or view it on GitHub https://github.com/invoiceninja/invoiceninja/issues/638#issuecomment-173504955.\n. The docker image is based on php 7\n. you will found a fix here thephpleague/omnipay#345\n. Funny fact, it appears that invoiceninja is the only open source repository that has netteller as a dependency https://packagist.org/packages/alfaproject/omnipay-neteller/dependents\n. Here is the content of storage/logs/laravel-error.log \n\n[2016-05-16 17:07:49] production.ERROR: Symfony\\Component\\Debug\\Exception\\FatalThrowableError: Fatal error: Class 'Faker\\Factory' not found in /var/www/app/app/Console/Commands/CreateTestData.php:35 Stack trace: #0 [internal function]: App\\Console\\Commands\\CreateTestData->__construct(Object(App\\Ninja\\Repositories\\ClientRepository), Object(App\\Ninja\\Repositories\\InvoiceRepository), Object(App\\Ninja\\Repositories\\PaymentRepository), Object(App\\Ninja\\Repositories\\VendorRepository), Object(App\\Ninja\\Repositories\\ExpenseRepository)) #1 /var/www/app/vendor/laravel/framework/src/Illuminate/Container/Container.php(783): ReflectionClass->newInstanceArgs(Array) #2 /var/www/app/vendor/laravel/framework/src/Illuminate/Container/Container.php(633): Illuminate\\Container\\Container->build('App\\\\Console\\\\Com...', Array) #3 /var/www/app/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(687): Illuminate\\Container\\Container->make('App\\\\Console\\\\Com...', Array) #4 /var/www/app/vendor/laravel/framework/src/Illuminate/Console/Application.php(115): Illuminate\\Foundation\\Application->make('App\\\\Console\\\\Com...') #5 /var/www/app/vendor/laravel/framework/src/Illuminate/Console/Application.php(129): Illuminate\\Console\\Application->resolve('App\\\\Console\\\\Com...') #6 /var/www/app/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(226): Illuminate\\Console\\Application->resolveCommands(Array) #7 /var/www/app/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(107): Illuminate\\Foundation\\Console\\Kernel->getArtisan() #8 /var/www/app/artisan(35): Illuminate\\Foundation\\Console\\Kernel->handle(Object(Symfony\\Component\\Console\\Input\\ArgvInput), Object(Symfony\\Component\\Console\\Output\\ConsoleOutput)) #9 {main} [] []\n. Do you know how I can redirect this error to stdout instead of this log file ?\nI tried LOG=errorlog APP_DEBUG=1  composer install --working-dir /var/www/app -o --no-dev --no-interaction --no-progress but without success\n. I have this issue on the docker build.\nDid you try to install a all new app from the tag 2.5.2 ?\n. Here is how to reproduce it :\n$ curl -o invoiceninja.tar.gz -SL https://github.com/hillelcoren/invoice-ninja/archive/v2.5.2.tar.gz\n$ tar -xzf invoiceninja.tar.gz\ncd invoiceninja-2.5.2/\n$ composer install -o --no-dev --no-interaction --no-progress --ignore-platform-reqs\n. travis can't see this bug because it installs dev dependencies\n. sorry, this is a mistake... github shortcuts can give some surprise \n. thank you for the hack :)\n. No more then this \n```\nException trace:\n () at phar:///usr/local/bin/composer/src/Composer/Util/Git.php:272\n Composer\\Util\\Git->throwException() at phar:///usr/local/bin/composer/src/Composer/Util/Git.php:195\n Composer\\Util\\Git->runCommand() at phar:///usr/local/bin/composer/src/Composer/Downloader/GitDownloader.php:55\n Composer\\Downloader\\GitDownloader->doDownload() at phar:///usr/local/bin/composer/src/Composer/Downloader/VcsDownloader.php:69\n Composer\\Downloader\\VcsDownloader->download() at phar:///usr/local/bin/composer/src/Composer/Downloader/DownloadManager.php:213\n Composer\\Downloader\\DownloadManager->download() at phar:///usr/local/bin/composer/src/Composer/Installer/LibraryInstaller.php:176\n Composer\\Installer\\LibraryInstaller->installCode() at phar:///usr/local/bin/composer/src/Composer/Installer/LibraryInstaller.php:90\n Composer\\Installer\\LibraryInstaller->install() at phar:///usr/local/bin/composer/src/Composer/Installer/InstallationManager.php:152\n Composer\\Installer\\InstallationManager->install() at phar:///usr/local/bin/composer/src/Composer/Installer/InstallationManager.php:139\n Composer\\Installer\\InstallationManager->execute() at phar:///usr/local/bin/composer/src/Composer/Installer.php:536\n Composer\\Installer->doInstall() at phar:///usr/local/bin/composer/src/Composer/Installer.php:215\n Composer\\Installer->run() at phar:///usr/local/bin/composer/src/Composer/Command/InstallCommand.php:133\n Composer\\Command\\InstallCommand->execute() at phar:///usr/local/bin/composer/vendor/symfony/console/Command/Command.php:259\n Symfony\\Component\\Console\\Command\\Command->run() at phar:///usr/local/bin/composer/vendor/symfony/console/Application.php:844\n Symfony\\Component\\Console\\Application->doRunCommand() at phar:///usr/local/bin/composer/vendor/symfony/console/Application.php:192\n Symfony\\Component\\Console\\Application->doRun() at phar:///usr/local/bin/composer/src/Composer/Console/Application.php:227\n Composer\\Console\\Application->doRun() at phar:///usr/local/bin/composer/vendor/symfony/console/Application.php:123\n Symfony\\Component\\Console\\Application->run() at phar:///usr/local/bin/composer/src/Composer/Console/Application.php:102\n Composer\\Console\\Application->run() at phar:///usr/local/bin/composer/bin/composer:43\n require() at /usr/local/bin/composer:24\n```\nI think the issue can come from the size of this package\n\nLe 12 juil. 2016 \u00e0 10:24, Hillel Coren notifications@github.com a \u00e9crit :\nI'm not sure, I'm not seeing the same problem with composer.\nAre there any error details?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Hi @codedge ,\nI tried to build invoiceninja based on your pr but I still get the same error.\nBut it seems that your composer.json change doesn't affect composer itself \n\nFailed to execute git clone --no-checkout 'git@github.com:gatepay/FedACHdir.git' '/var/www/app/vendor/gatepay/FedACHdir' && cd '/var/www/app/vendor/gatepay/FedACHdir' && git remote add composer 'git@github.com:gatepay/FedACHdir.git' && git fetch composer\n. hi @hillelcoren ,\nI just come to try building invoiceninja based on the develop branch, there is no issue with fedachdir but there is one later.\n```\n  [Symfony\\Component\\Debug\\Exception\\FatalThrowableError]\n  Class 'Faker\\Factory' not found                          \nScript php artisan clear-compiled handling the post-install-cmd event returned with an error\n```\nI think some dependencies are missing or at least they are define only as a dev dependency.\n. all seems to be ok now, I'm just waiting for a new tag\n. @hillelcoren  I've seen that you did a new tag but this pr isn't merged in it https://github.com/invoiceninja/invoiceninja/commit/1eef0b918806d00a5d0a83589b171274dcc79498\n. yes it can\n. hello @marinus, \nDo you use docker-compose ? if yes can you share your docker-compose.yml please ?\nMaybe this issue will be better in the dockerfiles repos https://github.com/invoiceninja/dockerfiles\nCan you open it there please ?\n. @hillelcoren maybe I'm wrong but this configuration isn't directly related to Laravel ?\n. Hello,\nThis may cause some issue with the docker version since the container should be read only.\nSo the database could be updated but not the app.\nMaybe we should add an option into the conf to enable/disable this feature.\n. Hello,\nThis may cause some issue with the docker version since the container should be read only.\nSo the database could be updated but not the app.\nMaybe we should add an option into the conf to enable/disable this feature.\n. not really but you can create one\n. not really but you can create one\n. hello @codedge , so how can I disable this feature for the docker image ?\n. hello @codedge , so how can I disable this feature for the docker image ?\n. @hillelcoren maybe you have the answer ?\n. @hillelcoren maybe you have the answer ?\n. ok, thank you\n. ok, thank you\n. I think you should use .env to change the configuration rather than update app.php\n. I think you should use .env to change the configuration rather than update app.php\n. This is related to the font, I tested three fonts:\n- roboto and abril fatface no circumflex\n- open sans circumflex\n. I see this error when I'm on the invoice, when the pdf is generate on a input update but not in the invoice design setting page\n. ... I make some test on https://www.invoiceninja.com/ the problem doesn't exist there.\nSo I update my invoice setting to be exactely like the one on https://www.invoiceninja.com/ and the issue disapear ...\nAll I changed is secondary color.\nweird, isn'tit ?\n. or maybe this is some witchcraft :)\n. @alloylab are you using the official docker image or a custom one ?\nhttps://github.com/invoiceninja/dockerfiles\n. did you setup your first account from your browser ?\n. Is the database empty before that or did you call artisan for seeding for exemple ?\n. Maybe the setup is to slow, you should try to call php artisan migrate --force and php artisan db:seed --force before setup your first account\n. I sounds really weired, can you check that the database is really  empty ?\n. so please, delete your current db container, and restart an new one with an empty database.\nAnd run migrate and seed before the creation of the first account\n. sorry but I don't see any other issue, I don't seems to be related to docker and I don't know as much the migration script used by docker\n. I didn't know that you used this service.\nI just sent you a request. Hello,\nthe docker image is built to disable self update https://github.com/invoiceninja/dockerfiles/blob/master/Dockerfile#L51\nYou should do pull the new image and restart.\nYou did the update from the official image ?. @freskimo I just come to create a new issue on the dockerfile repos to continue the discussion. Hello,\ncan you please open this ticket on the dockerfiles repository ?\nDid you add APP_URL in the env ?\n. No issue in english.\nI can reproduce it on the official instance too https://app.invoiceninja.com/dashboard?lang=fr. In the same way an expense should have multiple tax rate. Hy @hillelcoren \nI did a pr for this.\nFor the taxe the point is more complicated, in fact on an expense some items can have different taxes rate, I don't think this is possible for now.\nMaybe the simplest way to solve this could be to manually set the expense's taxes. I wasn't, now yes :)\nthank you @hillelcoren . good news \ud83d\udc4d . ok, sorry\nthe issue come with the second image I build based on phpfpm alpine.\nThere an issue on phantonjs over alpine https://github.com/ariya/phantomjs/issues/14186. I'm setting  the log handler via the environment viariable\nLOG=errorlog\nAnd yes commenting this lines redirect the error's message to errorlog. I use to have the same kind of issue with laravel and timestamp when mysql is in strict mode\nI think this is related \nDo you want me to try with default(0) ?. It seems that laravel use this to fix the default timestamp issue :)\nSQLSTATE[22007]: Invalid datetime format: 1292 Incorrect datetime value: '0000-00-00 00:00:00' for column 'created_at' at row 1 (SQL: ALTER TABLE products CHANGE cost cost NUMERIC(15, 4) NOT NULL, CHANGE qty qty NUMERIC(15, 4) DEFA  \n  ULT 'NULL')\nAnyway this new error is weird. adding default(0) to the 2 qty fields of this migration seems to solve the issue\n. Changing the DB_STRICT mode seems to add sql issues on an existing installation. Instead of bash you can directly run php artisan. It seems that your container can't connect to the database. completely. @hillelcoren same here.\nThe application runs fine before this release, upgrading to this one and I get this error.\nLet me know if I can help by providing more information.. Query result \nDatabase changed\nMariaDB [ninja]> select * from gateway_types;\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom        | Custom        |\n|  7 | alipay        | Alipay        |\n|  8 | sofort        | Sofort        |\n|  9 | sepa          | SEPA          |\n| 10 | gocardless    | GoCardless    |\n+----+---------------+---------------+\n10 rows in set (0.00 sec)\nRunning php artisan cache:clear solved the issue\nShould we run this command after each update ?. In docker the new code is packaged in an image, sent to the server and started as a replacement of the older one.\nFollowing the doc https://github.com/invoiceninja/dockerfiles/blob/master/README.md some files need to be shared between version, since do what the documentation says :) all the storage folder is persisted so the version.txt work has needed.\n@sascha-schieferdecker are you using the docker version ?\n. @Braintelligence did you update invoice ninja or just create a new app ?. I just come to reproduce it. Unfortunately It doesn't seem \n```\n$ git rev-parse HEAD\nf5363cd01270c650eb118124ce1d04c9e55cff08\n$ composer install --ignore-platform-reqs\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\n  - Installing incube8/omnipay-multicards (dev-master 712b441)\n    Downloading: Failed     \n    Failed to download incube8/omnipay-multicards from dist: The \"https://api.github.com/repos/incube8/omnipay-multicards/zipball/712b4419ef604e88587098ba3a788eb4221144fd\" file could not be downloaded (HTTP/1.1 302 Found)\n    Now trying to download from source\n  - Installing incube8/omnipay-multicards (dev-master 712b441)\n    Cloning 712b4419ef604e88587098ba3a788eb4221144fd from cache\n    712b4419ef604e88587098ba3a788eb4221144fd is gone (history was rewritten?)\n[RuntimeException]                                                                                                                            \n  Failed to execute git checkout '712b4419ef604e88587098ba3a788eb4221144fd' -- && git reset --hard '712b4419ef604e88587098ba3a788eb4221144fd' --\n  fatal: reference is not a tree: 712b4419ef604e88587098ba3a788eb4221144fd                                                                        \ninstall [--prefer-source] [--prefer-dist] [--dry-run] [--dev] [--no-dev] [--no-custom-installers] [--no-autoloader] [--no-scripts] [--no-progress] [--no-suggest] [-v|vv|vvv|--verbose] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--ignore-platform-reqs] [--] []...\n```. @yvalentin the last commit doesn't work for me, how did you make it work for you ?. I still get the same error . Here is how I tested it \n$ git clone https://github.com/invoiceninja/invoiceninja.git\n$ cd invoiceninja/\n$ composer clear-cache && composer install --ignore-platform-reqs\n. Same here https://hub.docker.com/r/invoiceninja/invoiceninja/builds/bdy3asbtyp7fubbhm793hp4/. ok, now it's fixed for me too \nthank you. @marbetschar it seems that you have your how Dockerfile, can you share it to see your build process ?\nFor now I have no idea.. Is there a reason why You don't use the official docker image ?. Is there a reason why You don't use the official docker image ?. @hillelcoren in the exemple configuration 2 commands are run hourly https://github.com/invoiceninja/dockerfiles/blob/master/docker-compose/docker-compose.yml#L43\n./artisan ninja:send-invoices\n./artisan ninja:send-reminders. as I see here it should be daily https://invoice-ninja.readthedocs.io/en/latest/configure.html?highlight=cron?highlight=cron#recurring-invoices-and-reminder-emails\n@anojht I saw that you forked the repos to fix it, do you you want to do a pr ?. ",
    "kamranzafar": "I am having the same issue in version 2.4.3, so I can't use it to invoice my customers.\nI set the product cost using dot \".\" as decimal separator, but the total amounts are being presented with comma \",\" as the decimal separator. I am self hosting it on centos with locale set to en_GB. By default it should use the OS localization, with the ability to override it per client, based on client's location.\n. Thanks for getting back.. actually its a bit complicated than this. The problem is with the Euro currency. Not every country in the Euro Zone follows the same currency format. E.g. Germany uses comma \",\" as a decimal separator whereas Ireland (where my client is based) uses period \".\"\nThe following link shows the various formats used by the countries in the euro zone\nhttp://www.evertype.com/standards/euro/formats.html\nSo \"PaymentLibrariesSeeder\" also needs to check the country as well when setting the format for Euro currency.\n. Hi. Can we get an ETA on the resolution, and which release the fix will go in. I really would like to start using invoiceninja, but I cant until this issue is resolved.\n. Thanks, I will give it a go...\n. ",
    "marinus": "This is still an issue, any plans on the horizon @hillelcoren. . Thanks for the update, it generates confusion with recipients especially international ones.. Generated invoices follow the 1.000,0 notation which cannot be changed. We require 1,000.0.. South Africa.\nhttp://www.sadev.co.za/content/how-correctly-format-currency-south-africa\n. Should be R1,000.00\nSent from my mobile \n\nOn 09 May 2017, at 8:14 AM, Hillel Coren notifications@github.com wrote:\nHere's what I see with the South African Rand: R10.000,00\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Apologies I misread the portion I was relying on. \nI did a quick survey on local SaaS invoicing providers and they do not follow the said format.\nI appears that the current practice has moved to R1,000.00. \n. It would be great if there was an option to specify any string as a currency or unit and some options that cover comma and period use.\nOn 09 May 2017, at 9:46 AM, Hillel Coren notifications@github.com wrote:\nI'm not sure about this change. We have many users in South Africa, this is the first time this has come up.\nIf you're self hosting you could change the app by updating the currencies table and clearing the cache.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub https://github.com/invoiceninja/invoiceninja/issues/437#issuecomment-300087629, or mute the thread https://github.com/notifications/unsubscribe-auth/AAXZnDX0OE9bRr1I2Wg-CxrBHvS_Kwm2ks5r4Bm-gaJpZM4F_VOg.\n\n\n. docker-compose.yml.zip\nI'll open an issue there also. But I think the question is still valid. Being able to establish a clear text smtp socket can be very helpful.\nSent from my mobile \n\nOn 02 Aug 2016, at 11:18 PM, Samuel Laulhau notifications@github.com wrote:\nhello @marinus, \nDo you use docker-compose ? if yes can you share your docker-compose.yml please ?\nMaybe this issue will be better in the dockerfiles repos https://github.com/invoiceninja/dockerfiles\nCan you open it there please ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. This is not specifically a\ndocker issues. How can I configure the mail client to turn off TLS or SSL encryption?\n\nSent from my mobile \n\nOn 04 Aug 2016, at 7:55 PM, codedge notifications@github.com wrote:\nThis issue here can be closed. @marinus created a new one in dockerfiles repo.\ninvoiceninja/dockerfiles#13\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Thank you @hillelcoren that works.\n. \n",
    "Zamazaza": "FYI\nIn Switzerland we use \" ' \" as thousand separator and \" . \" as decimal separator.\n\n\n10'000.00  \n\n\nas in windows ( more or less)\n\ndefinitely  a selector for the separators would be super. ",
    "math3os": "Since invoices are generated client side by pdf.js may be the use of Number.prototype.toLocaleString() would be a nice work around to generate invoice. By default it will use browser conf to generate the number.\n```javascript\n10000.34.toLocaleString()\n\n\n\"10 000,34\"\n```\n\n\nThis method is not available in every browser but it's a start.. I'm still on 2.7.2 i'll upgrade then come back.\n. ok it's fixed in v2.8, Sorry for the inconvenience.\n. So fast !\n```\n$ composer install\nLoading composer repositories with package information\nInstalling dependencies (including require-dev) from lock file\nWarning: The lock file is not up to date with the latest changes in composer.json. You may be getting outdated dependencies. Run update to update them.\nNothing to install or update\nPackage guzzle/guzzle is abandoned, you should avoid using it. Use guzzlehttp/guzzle instead.\nPackage chumper/datatable is abandoned, you should avoid using it. Use OpenSkill/Datatable instead.\nPackage league/url is abandoned, you should avoid using it. Use league/uri instead.\nPackage labs7in0/omnipay-wechat is abandoned, you should avoid using it. Use lokielse/omnipay-wechatpay instead.\nPackage illuminate/html is abandoned, you should avoid using it. Use laravelcollective/html instead.\nGenerating autoload files\n\nphp artisan clear-compiled\nphp artisan optimize\nGenerating optimized class loader\n\n``\n. @alariva, thank you, i'd re-chown to www-data to be sure but same issue\n. vendor/lokielse/omnipay-alipay exists...\n. @hillelcoren  it works !\nThank you\n. I got the same error with/settings/templates_and_reminders/update gave me :SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'signature_base64' (SQL: alter table invitations add signature_base64 text null, add signature_date timestamp null)`\n. That part is fixed, as i wrote in #1164, i had to manually alter tables as done in down() part and commented a dropForeign() function to resolve migration. I'd found than function getAliasFromId() fail when it receive 'token' as $id.\n'token' come from gateway.php:32. ```\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom        | Custom        |\n+----+---------------+---------------+\n. no. may be you already know but if i comment gateway.php:32  like this:\n    public static $gatewayTypes = [\n        GATEWAY_TYPE_CREDIT_CARD,\n        GATEWAY_TYPE_BANK_TRANSFER,\n        GATEWAY_TYPE_PAYPAL,\n        GATEWAY_TYPE_BITCOIN,\n        GATEWAY_TYPE_DWOLLA,\n       // GATEWAY_TYPE_TOKEN,\n    ];\n```\nit works.  \n. it works too . Ok thanks i Will try that soon !\n. ok, that's noted.\n. Disabled.\nI worked around the bug by forcing forceJS in refreshPDFCB() to true\u00ad.. It worked, thank.\n. ",
    "btafoya": "Here it is:\n2013_11_05_180133_confide_setup_users_table 1\n2013_11_28_195703_setup_countries_table 1\n2014_02_13_151500_add_cascase_drops 1\n2014_02_19_151817_add_support_for_invoice_designs   1\n2014_03_03_155556_add_phone_to_account  1\n2014_03_19_201454_add_language_support  1\n2014_03_20_200300_create_payment_libraries  1\n2014_03_23_051736_enable_forcing_jspdf  1\n2014_03_25_102200_add_sort_and_recommended_to_gateways  1\n2014_04_03_191105_add_pro_plan  1\n2014_04_17_100523_add_remember_token    1\n2014_04_17_145108_add_custom_fields 1\n2014_04_23_170909_add_products_settings 1\n2014_04_29_174315_add_advanced_settings 1\n2014_05_17_175626_add_quotes    1\n2014_06_17_131940_add_accepted_credit_cards_to_account_gateways 1\n2014_07_13_142654_one_click_install 1\n2014_07_17_205900_support_hiding_quantity   1\n2014_07_24_171214_add_zapier_support    1\n2014_10_01_141248_add_company_vat_number    1\n2014_10_05_141856_track_last_seen_message   1\n2014_10_06_103529_add_timesheets    1\n2014_10_06_195330_add_invoice_design_table  1\n2014_10_13_054100_add_invoice_number_settings   1\n2014_10_14_225227_add_danish_translation    1\n2014_10_22_174452_add_affiliate_price   1\n2014_10_30_184126_add_company_id_number 1\n2014_11_04_200406_allow_null_client_currency    1\n2014_12_03_154119_add_discount_type 1\n2015_02_12_102940_add_email_templates   1\n2015_02_17_131714_support_token_billing 1\n2015_02_27_081836_add_invoice_footer    1\n2015_03_03_140259_add_tokens    1\n2015_03_09_151011_add_ip_to_activity    1\n2015_03_15_174122_add_pdf_email_attachment_option   1\n2015_03_30_100000_create_password_resets_table  1\n2015_04_12_093447_add_sv_language   1\n2015_04_13_100333_add_notify_approved   1\n2015_04_16_122647_add_partial_amount_to_invoices    1\n2015_05_21_184104_add_font_size 1\n2015_05_27_121828_add_tasks 1\n2015_05_27_170808_add_custom_invoice_labels 1\n2015_06_09_134208_add_has_tasks_to_invoices 1\n2015_06_14_093410_enable_resuming_tasks 1\n. FYI, running php artisan migrate results in an error:\n``\n  [Illuminate\\Database\\QueryException]\n  SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'user_accoun\n  ts' already exists (SQL: create tableuser_accounts(idint unsigned no\n  t null auto_increment primary key,user_id1int unsigned null,user_id2int unsigned null,user_id3int unsigned null,user_id4int unsigned n\n  ull,user_id5` int unsigned null) default character set utf8 collate utf8_\n  unicode_ci)\n[PDOException]\n  SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'user_accoun\n  ts' already exists\n```\n. Excellent! The migration completed. Thank you very much for your help!\nMigrated: 2015_07_07_160257_support_locking_account\nMigrated: 2015_07_08_114333_simplify_tasks\nMigrated: 2015_07_19_081332_add_custom_design\nMigrated: 2015_07_27_183830_add_pdfmake_support\nMigrated: 2015_08_13_084041_add_formats_to_datetime_formats_table\nMigrated: 2015_09_04_080604_add_swap_postal_code\nMigrated: 2015_09_07_135935_add_account_domain\nMigrated: 2015_09_10_185135_add_reminder_emails\n. Never mind, logging out solved the issue.\n. It is making a call to Gitter, even when you are not logged in obviously as it loads the current conversation. That is why I suggested it be an preference you can enable/disable. From a UI perspective that would be my logic.\nThanks again!\n. Full debug:\nNext exception 'ErrorException' with message 'Call to undefined method Illuminate\\Database\\Query\\Builder::getPaymentTypeLinks() (View: /var/www/account.briantafoya.com/resources/views/accounts/templates_and_reminders.blade.php)' in /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php:1999\nStack trace:\n0 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/View/Engines/PhpEngine.php(43): Illuminate\\View\\Engines\\CompilerEngine->handleViewException(Object(BadMethodCallException), 1)\n1 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/View/Engines/CompilerEngine.php(57): Illuminate\\View\\Engines\\PhpEngine->evaluatePath('/var/www/accoun...', Array)\n2 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/View/View.php(136): Illuminate\\View\\Engines\\CompilerEngine->get('/var/www/accoun...', Array)\n3 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/View/View.php(104): Illuminate\\View\\View->getContents()\n4 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/View/View.php(78): Illuminate\\View\\View->renderContents()\n5 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Http/Response.php(44): Illuminate\\View\\View->render()\n6 /var/www/account.briantafoya.com/vendor/symfony/http-foundation/Symfony/Component/HttpFoundation/Response.php(202): Illuminate\\Http\\Response->setContent(Object(Illuminate\\View\\View))\n7 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(1198): Symfony\\Component\\HttpFoundation\\Response->__construct(Object(Illuminate\\View\\View))\n8 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(702): Illuminate\\Routing\\Router->prepareResponse(Object(Illuminate\\Http\\Request), Object(Illuminate\\View\\View))\n9 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n10 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n11 /var/www/account.briantafoya.com/app/Http/Middleware/Authenticate.php(47): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n12 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): App\\Http\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n13 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n14 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(101): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n15 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(703): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n16 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(670): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n17 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n18 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(214): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n19 [internal function]: Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http{closure}(Object(Illuminate\\Http\\Request))\n20 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(141): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n21 /var/www/account.briantafoya.com/vendor/barryvdh/laravel-debugbar/src/Middleware/Debugbar.php(49): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n22 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): Barryvdh\\Debugbar\\Middleware\\Debugbar->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n23 /var/www/account.briantafoya.com/app/Http/Middleware/StartupCheck.php(176): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n24 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): app\\Http\\Middleware\\StartupCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n25 /var/www/account.briantafoya.com/app/Http/Middleware/DuplicateSubmissionCheck.php(28): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n26 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): app\\Http\\Middleware\\DuplicateSubmissionCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n27 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/VerifyCsrfToken.php(43): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n28 /var/www/account.briantafoya.com/app/Http/Middleware/VerifyCsrfToken.php(38): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n29 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): App\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n30 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/View/Middleware/ShareErrorsFromSession.php(55): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n31 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n32 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(61): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n33 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n34 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(36): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n35 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n36 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(40): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n37 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n38 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(42): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n39 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(125): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n40 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n41 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(101): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n42 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(115): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n43 /var/www/account.briantafoya.com/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(84): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n44 /var/www/account.briantafoya.com/public/index.php(53): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n. php artisan optimize did nothing, reverted back to the prior version for the time being. I will attempt another update once I see the next release is out and no issues.\n. This is resolved!\n. v2.4.9.1\n. The latest release on GitHub source zip...\nhttps://github.com/invoiceninja/invoiceninja/releases/tag/v2.4.9.1\n. Yes, it does.\n. Here is the complete debug:\nin Connection.php line 624\nat Connection->runQueryCallback('select * from fonts order by sort_order asc', array(), object(Closure)) in Connection.php line 580\nat Connection->run('select * from fonts order by sort_order asc', array(), object(Closure)) in Connection.php line 297\nat Connection->select('select * from fonts order by sort_order asc', array(), true) in Builder.php line 1377\nat Builder->runSelect() in Builder.php line 1367\nat Builder->getFresh(array('')) in Builder.php line 1354\nat Builder->get(array('')) in Builder.php line 380\nat Builder->getModels(array('*')) in Builder.php line 162\nat Builder->get() in StartupCheck.php line 169\nat StartupCheck->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in DuplicateSubmissionCheck.php line 28\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 2548\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 39\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12416\nat ShareErrorsFromSession->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 11106\nat StartSession->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12118\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 12066\nat EncryptCookies->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request)) in compiled.php line 2589\nat CheckForMaintenanceMode->handle(object(Request), object(Closure)) in compiled.php line 9236\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 9227\nat Pipeline->then(object(Closure)) in compiled.php line 1996\nat Kernel->sendRequestThroughRouter(object(Request)) in compiled.php line 1983\nat Kernel->handle(object(Request)) in index.php line 53\n. Also attempted with the self hosting zip located at https://dl.dropboxusercontent.com/u/2909575/ninja-v2.4.9.1.zip and same error.\n. This is resolved!\n. After I saved the font settings in the admin, the pdf is now generating. Seems the default settings are not being set on update.\n. I have verified that is it in fact an error when utilizing the PostmarkApp API. I set the smtp setting rather than the API in the .env file and it sends just fine. Looks like Guzzle has changed (I know they did having had some issue myself recently) or was missed during testing. Should be part of a unit test if you are using them. Thanks!\n. Yes, which did not resolve the issue, Looking at PostMark's activity the client received their message but the message that failed was the user notification that the message had been sent.\n. Resolved! Thanks again!\n. It does not work with with non-postmark credentials. I am using SMTP as a result of #625.\n. Set 7, 14, and 28 days after due date. The invoice in question is due Dec 16, ,2015 making today day 28.\n. This is the only error shown for that day:\n[2016-07-05 18:11:01] production.ERROR: exception 'ErrorException' with message 'file_get_contents(http://api.phantomjscloud.com/api/browser/v2/8a9649c9dec3a7e010f358c19e70aecb24fbdcca/?request=%7Burl:%22https://{hostname_removed}/view/KChhdbPa2lYDexSaJfJ3VM4PIoqnJtc6?phantomjs=true%22,renderType:%22html%22%7D): failed to open stream: HTTP request failed! HTTP/1.0 401 Unauthorized ' in /{file_path_removed}/app/Models/Invoice.php:809 Stack trace: #0 [internal function]: Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(2, 'file_get_conten...', '/var/www/accoun...', 809, Array) #1 /{file_path_removed}/app/Models/Invoice.php(809): file_get_contents('http://api.phan...') #2 /{file_path_removed}/app/Ninja/Mailers/ContactMailer.php(239): App\\Models\\Invoice->getPDFString() #3 /{file_path_removed}/app/Http/Controllers/PaymentController.php(606): App\\Ninja\\Mailers\\ContactMailer->sendPaymentConfirmation(Object(App\\Models\\Payment)) #4 [internal function]: App\\Http\\Controllers\\PaymentController->store(Object(App\\Http\\Requests\\CreatePaymentRequest)) #5 /{file_path_removed}/bootstrap/cache/compiled.php(9426): call_user_func_array(Array, Array) #6 /{file_path_removed}/bootstrap/cache/compiled.php(9488): Illuminate\\Routing\\Controller->callAction('store', Array) #7 /{file_path_removed}/bootstrap/cache/compiled.php(9468): Illuminate\\Routing\\ControllerDispatcher->call(Object(App\\Http\\Controllers\\PaymentController), Object(Illuminate\\Routing\\Route), 'store') #8 [internal function]: Illuminate\\Routing\\ControllerDispatcher->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #9 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #10 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #11 /{file_path_removed}/bootstrap/cache/compiled.php(9945): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #12 /{file_path_removed}/bootstrap/cache/compiled.php(9469): Illuminate\\Pipeline\\Pipeline->then(Object(Closure)) #13 /{file_path_removed}/bootstrap/cache/compiled.php(9456): Illuminate\\Routing\\ControllerDispatcher->callWithinStack(Object(App\\Http\\Controllers\\PaymentController), Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'store') #14 /{file_path_removed}/bootstrap/cache/compiled.php(8524): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'App\\Http\\Contro...', 'store') #15 /{file_path_removed}/bootstrap/cache/compiled.php(8511): Illuminate\\Routing\\Route->runController(Object(Illuminate\\Http\\Request)) #16 /{file_path_removed}/bootstrap/cache/compiled.php(8225): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request)) #17 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #18 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #19 /{file_path_removed}/app/Http/Middleware/Authenticate.php(69): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #20 [internal function]: App\\Http\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'user') #21 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #22 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #23 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #24 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #25 /{file_path_removed}/bootstrap/cache/compiled.php(9945): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #26 /{file_path_removed}/bootstrap/cache/compiled.php(8226): Illuminate\\Pipeline\\Pipeline->then(Object(Closure)) #27 /{file_path_removed}/bootstrap/cache/compiled.php(8217): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request)) #28 /{file_path_removed}/bootstrap/cache/compiled.php(8207): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request)) #29 /{file_path_removed}/bootstrap/cache/compiled.php(2409): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request)) #30 [internal function]: Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http{closure}(Object(Illuminate\\Http\\Request)) #31 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #32 /{file_path_removed}/app/Http/Middleware/StartupCheck.php(190): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #33 [internal function]: App\\Http\\Middleware\\StartupCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #34 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #35 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #36 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #37 /{file_path_removed}/app/Http/Middleware/DuplicateSubmissionCheck.php(33): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #38 [internal function]: App\\Http\\Middleware\\DuplicateSubmissionCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #39 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #40 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #41 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #42 /{file_path_removed}/bootstrap/cache/compiled.php(3203): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #43 /{file_path_removed}/app/Http/Middleware/VerifyCsrfToken.php(43): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #44 [internal function]: App\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #45 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #46 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #47 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #48 /{file_path_removed}/bootstrap/cache/compiled.php(13409): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #49 [internal function]: Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #50 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #51 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #52 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #53 /{file_path_removed}/bootstrap/cache/compiled.php(11955): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #54 [internal function]: Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #55 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #56 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #57 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #58 /{file_path_removed}/bootstrap/cache/compiled.php(13148): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #59 [internal function]: Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #60 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #61 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #62 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #63 /{file_path_removed}/bootstrap/cache/compiled.php(13085): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #64 [internal function]: Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #65 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #66 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #67 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #68 /{file_path_removed}/bootstrap/cache/compiled.php(3264): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #69 [internal function]: Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #70 /{file_path_removed}/bootstrap/cache/compiled.php(9960): call_user_func_array(Array, Array) #71 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request)) #72 /{file_path_removed}/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #73 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request)) #74 /{file_path_removed}/bootstrap/cache/compiled.php(9945): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #75 /{file_path_removed}/bootstrap/cache/compiled.php(2356): Illuminate\\Pipeline\\Pipeline->then(Object(Closure)) #76 /{file_path_removed}/bootstrap/cache/compiled.php(2340): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request)) #77 /{file_path_removed}/public/index.php(53): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request)) #78 {main} [] []\n. Did this get resolved in one of the recent releases? Just following up as I saw no reply. Thanks again!\n. Yes, no issue. The PDF is being generated within the invoice view, etc.\n. I found the issue.... it is using a demo key instead of the key entered in the .env file. I was able to validate that the url in the above failure message works when I substitute a valid API key.\n. No luck, same error returned. Below is the migrations logged...\n2013_11_05_180133_confide_setup_users_table    1\n2013_11_28_195703_setup_countries_table 1\n2014_02_13_151500_add_cascase_drops 1\n2014_02_19_151817_add_support_for_invoice_designs   1\n2014_03_03_155556_add_phone_to_account  1\n2014_03_19_201454_add_language_support  1\n2014_03_20_200300_create_payment_libraries  1\n2014_03_23_051736_enable_forcing_jspdf  1\n2014_03_25_102200_add_sort_and_recommended_to_gateways  1\n2014_04_03_191105_add_pro_plan  1\n2014_04_17_100523_add_remember_token    1\n2014_04_17_145108_add_custom_fields 1\n2014_04_23_170909_add_products_settings 1\n2014_04_29_174315_add_advanced_settings 1\n2014_05_17_175626_add_quotes    1\n2014_06_17_131940_add_accepted_credit_cards_to_account_gateways 1\n2014_07_13_142654_one_click_install 1\n2014_07_17_205900_support_hiding_quantity   1\n2014_07_24_171214_add_zapier_support    1\n2014_10_01_141248_add_company_vat_number    1\n2014_10_05_141856_track_last_seen_message   1\n2014_10_06_103529_add_timesheets    1\n2014_10_06_195330_add_invoice_design_table  1\n2014_10_13_054100_add_invoice_number_settings   1\n2014_10_14_225227_add_danish_translation    1\n2014_10_22_174452_add_affiliate_price   1\n2014_10_30_184126_add_company_id_number 1\n2014_11_04_200406_allow_null_client_currency    1\n2014_12_03_154119_add_discount_type 1\n2015_02_12_102940_add_email_templates   1\n2015_02_17_131714_support_token_billing 1\n2015_02_27_081836_add_invoice_footer    1\n2015_03_03_140259_add_tokens    1\n2015_03_09_151011_add_ip_to_activity    1\n2015_03_15_174122_add_pdf_email_attachment_option   1\n2015_03_30_100000_create_password_resets_table  1\n2015_04_12_093447_add_sv_language   1\n2015_04_13_100333_add_notify_approved   1\n2015_04_16_122647_add_partial_amount_to_invoices    1\n2015_05_21_184104_add_font_size 1\n2015_05_27_121828_add_tasks 1\n2015_05_27_170808_add_custom_invoice_labels 1\n2015_06_09_134208_add_has_tasks_to_invoices 1\n2015_06_14_093410_enable_resuming_tasks 1\n2015_06_14_173025_multi_company_support 1\n2015_07_07_160257_support_locking_account   2\n2015_07_08_114333_simplify_tasks    2\n2015_07_19_081332_add_custom_design 2\n2015_07_27_183830_add_pdfmake_support   2\n2015_08_13_084041_add_formats_to_datetime_formats_table 2\n2015_09_04_080604_add_swap_postal_code  2\n2015_09_07_135935_add_account_domain    2\n2015_09_10_185135_add_reminder_emails   2\n2015_10_07_135651_add_social_login  3\n2015_10_21_075058_add_default_tax_rates 4\n2015_10_21_185724_add_invoice_number_pattern    4\n2015_10_27_180214_add_is_system_to_activities   4\n2015_10_29_133747_add_default_quote_terms   4\n2015_11_01_080417_encrypt_tokens    4\n2015_11_03_181318_improve_currency_localization 5\n2015_11_30_133206_add_email_designs 6\n2015_12_27_154513_add_reminder_settings 6\n2015_12_30_042035_add_client_view_css   6\n2016_01_06_153144_add_invoice_font_support  6\n2016_01_04_175228_create_vendors_table  7\n2016_01_17_155725_add_quote_to_invoice_option   7\n2016_01_18_195351_add_bank_accounts 7\n2016_01_24_112646_add_bank_subaccounts  7\n2016_01_27_173015_add_header_footer_option  7\n2016_02_01_135956_add_source_currency_to_expenses   7\n2016_02_25_152948_add_client_password   8\n2016_02_28_081424_add_custom_invoice_fields 8\n2016_03_14_066181_add_user_permissions  8\n2016_03_14_214710_add_support_three_decimal_taxes   8\n2016_03_22_168362_add_documents 8\n2016_03_23_215049_support_multiple_tax_rates    8\n2016_04_16_103943_enterprise_plan   8\n2016_04_18_174135_add_page_size 8\n2016_04_23_182223_payments_changes  9\n2016_05_16_102925_add_swap_currency_symbol_to_currency  9\n2016_05_18_085739_add_invoice_type_support  9\n2016_05_24_164847_wepay_ach 9\n2016_07_08_083802_support_new_pricing   9\n. Here you go....\nmysql> select * from gateways where id = 36;\n+----+---------------------+---------------------+----------+----------+---------+--------------------+------------+-------------+----------+------------+-----------+\n| id | created_at          | updated_at          | name     | provider | visible | payment_library_id | sort_order | recommended | site_url | is_offsite | is_secure |\n+----+---------------------+---------------------+----------+----------+---------+--------------------+------------+-------------+----------+------------+-----------+\n| 36 | 2015-06-16 13:17:29 | 2016-07-15 05:41:00 | Neteller | Neteller |       1 |                  1 |      10000 |           0 | NULL     |          0 |         0 |\n+----+---------------------+---------------------+----------+----------+---------+--------------------+------------+-------------+----------+------------+-----------+\n1 row in set\n. The two are identical, but updating the gateways table did resolve the issue. Thanks again for your help! Keep up the fantastic work!\n. Updated 2.6.4 and same issue.\n. Thanks! The problem is resolved with v2.6.5.\n. Yes, but you are unable to create a message with the content being provided at the time. Hence, Send Message being the function... not just resend the invoice.. I don't think it is related. Not using Docker in this case, and the pdf generation issue only exists in the statement. The invoice and quote pdf generation is fully functional. (Have not tested sending a pdf.). Yes, one...\nTypeError: t.documents is undefined[Learn More]  built.js:26:16856\n    NINJA.invoiceDocuments https://domain.com/built.js:26:16856\n    NINJA.decodeJavascript https://domain.com/built.js:26:9755\n    GetPdfMake https://domain.com/built.js:1:14080\n    generatePDF https://domain.com/built.js:1:209\n    getPDFString https://domain.com/clients/statement/2:490:13\n    refreshPDF https://domain.com/clients/statement/2:1270:12\n    <anonymous> https://domain.com/clients/statement/2:494:11\n    ot.Callbacks/u https://domain.com/built.js:2:21000\n    ot.Callbacks/h.fireWith https://domain.com/built.js:2:21822\n    .ready https://domain.com/built.js:2:23679\n    r https://domain.com/built.js:1:16242\n. That does resolve the issue. :). Ran...\nphp artisan optimize\ncomposer dump-autoload\nWas now able to send an invoice. Will update if it happens again.. Ran php artisan db:seed --class=UpdateSeeder which completed without an error. The app is accessible now. How do I know that the database is not is a 'broken' state?. Did so, still get the following error: \nSQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'custom_contact_label1' (SQL: alter tableaccountsaddcustom_contact_label1varchar(255) null, addcustom_contact_label2varchar(255) null)\nI just emailed you the error log.. As I mentioned before, I don't have a link at the moment. I was more interested in getting paid and correcting the issue with the client at the time. LOL! Has happened three times so far though. Generally, I save the invoice again and resend the email and the link they receive is corrected.. I am not using the API, everything is from within the app.. The deposit variable alone would be helpful in my scenario, where the deposit is required in all of my invoices anyhow. The deposit email would also be a nice option. Thanks!. I restored the backup, then tried to upgrade to 3.5.1 first and got this error:\nSQLSTATE[42S01]: Base table or view already exists: 1050 Table 'recurring_expenses' already exists (SQL: create table recurring_expenses (id int unsigned not null auto_increment primary key, created_at timestamp null, updated_at timestamp null, deleted_at timestamp null, account_id int unsigned not null, vendor_id int unsigned null, user_id int unsigned not null, client_id int unsigned null, is_deleted tinyint(1) not null default '0', amount decimal(13, 2) not null, private_notes text not null, public_notes text not null, invoice_currency_id int unsigned null, expense_currency_id int unsigned null, should_be_invoiced tinyint(1) not null default '1', expense_category_id int unsigned null, tax_name1 varchar(255) null, tax_rate1 decimal(13, 3) not null, tax_name2 varchar(255) null, tax_rate2 decimal(13, 3) not null, frequency_id int unsigned not null, start_date date null, end_date date null, last_sent_date timestamp null, public_id int unsigned not null) default character set utf8 collate utf8_unicode_ci engine = InnoDB)\n error log:\n[2017-08-23 00:25:06] production.ERROR: ***Illuminate\\Database\\QueryException*** [42S01] : /home/briantafoya.com/domains/account.briantafoya.com/public_html/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 729] => SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'recurring_expenses' already exists (SQL: create tablerecurring_expenses(idint unsigned not null auto_increment primary key,created_attimestamp null,updated_attimestamp null,deleted_attimestamp null,account_idint unsigned not null,vendor_idint unsigned null,user_idint unsigned not null,client_idint unsigned null,is_deletedtinyint(1) not null default '0',amountdecimal(13, 2) not null,private_notestext not null,public_notestext not null,invoice_currency_idint unsigned null,expense_currency_idint unsigned null,should_be_invoicedtinyint(1) not null default '1',expense_category_idint unsigned null,tax_name1varchar(255) null,tax_rate1decimal(13, 3) not null,tax_name2varchar(255) null,tax_rate2decimal(13, 3) not null,frequency_idint unsigned not null,start_datedate null,end_datedate null,last_sent_datetimestamp null,public_idint unsigned not null) default character set utf8 collate utf8_unicode_ci engine = InnoDB)  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://account.briantafoya.com/update\",\"previous\":\"https://account.briantafoya.com/login\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.90 Safari/537.36\",\"ip\":\"108.189.77.106\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n. Corrected the versions. LOL! :). @turbo124 Why did this get closed... it has not been resolved.\n@hillelcoren  I am using the self-hosted versions.. Yes, the recurring_expenses table does exist.\nHere is the migrations history:\n2013_11_05_180133_confide_setup_users_table 1 \n2013_11_28_195703_setup_countries_table 1 \n2014_02_13_151500_add_cascase_drops 1 \n2014_02_19_151817_add_support_for_invoice_designs   1 \n2014_03_03_155556_add_phone_to_account  1 \n2014_03_19_201454_add_language_support  1 \n2014_03_20_200300_create_payment_libraries  1 \n2014_03_23_051736_enable_forcing_jspdf  1 \n2014_03_25_102200_add_sort_and_recommended_to_gate...   1 \n2014_04_03_191105_add_pro_plan  1 \n2014_04_17_100523_add_remember_token    1 \n2014_04_17_145108_add_custom_fields 1 \n2014_04_23_170909_add_products_settings 1 \n2014_04_29_174315_add_advanced_settings 1 \n2014_05_17_175626_add_quotes    1 \n2014_06_17_131940_add_accepted_credit_cards_to_acc...   1 \n2014_07_13_142654_one_click_install 1 \n2014_07_17_205900_support_hiding_quantity   1 \n2014_07_24_171214_add_zapier_support    1 \n2014_10_01_141248_add_company_vat_number    1 \n2014_10_05_141856_track_last_seen_message   1 \n2014_10_06_103529_add_timesheets    1 \n2014_10_06_195330_add_invoice_design_table  1 \n2014_10_13_054100_add_invoice_number_settings   1 \n2014_10_14_225227_add_danish_translation    1 \n2014_10_22_174452_add_affiliate_price   1 \n2014_10_30_184126_add_company_id_number 1 \n2014_11_04_200406_allow_null_client_currency    1 \n2014_12_03_154119_add_discount_type 1 \n2015_02_12_102940_add_email_templates   1 \n2015_02_17_131714_support_token_billing 1 \n2015_02_27_081836_add_invoice_footer    1 \n2015_03_03_140259_add_tokens    1 \n2015_03_09_151011_add_ip_to_activity    1 \n2015_03_15_174122_add_pdf_email_attachment_option   1 \n2015_03_30_100000_create_password_resets_table  1 \n2015_04_12_093447_add_sv_language   1 \n2015_04_13_100333_add_notify_approved   1 \n2015_04_16_122647_add_partial_amount_to_invoices    1 \n2015_05_21_184104_add_font_size 1 \n2015_05_27_121828_add_tasks 1 \n2015_05_27_170808_add_custom_invoice_labels 1 \n2015_06_09_134208_add_has_tasks_to_invoices 1 \n2015_06_14_093410_enable_resuming_tasks 1 \n2015_06_14_173025_multi_company_support 1 \n2015_07_07_160257_support_locking_account   2 \n2015_07_08_114333_simplify_tasks    2 \n2015_07_19_081332_add_custom_design 2 \n2015_07_27_183830_add_pdfmake_support   2 \n2015_08_13_084041_add_formats_to_datetime_formats_...   2 \n2015_09_04_080604_add_swap_postal_code  2 \n2015_09_07_135935_add_account_domain    2 \n2015_09_10_185135_add_reminder_emails   2 \n2015_10_07_135651_add_social_login  3 \n2015_10_21_075058_add_default_tax_rates 4 \n2015_10_21_185724_add_invoice_number_pattern    4 \n2015_10_27_180214_add_is_system_to_activities   4 \n2015_10_29_133747_add_default_quote_terms   4 \n2015_11_01_080417_encrypt_tokens    4 \n2015_11_03_181318_improve_currency_localization 5 \n2015_11_30_133206_add_email_designs 6 \n2015_12_27_154513_add_reminder_settings 6 \n2015_12_30_042035_add_client_view_css   6 \n2016_01_06_153144_add_invoice_font_support  6 \n2016_01_04_175228_create_vendors_table  7 \n2016_01_17_155725_add_quote_to_invoice_option   7 \n2016_01_18_195351_add_bank_accounts 7 \n2016_01_24_112646_add_bank_subaccounts  7 \n2016_01_27_173015_add_header_footer_option  7 \n2016_02_01_135956_add_source_currency_to_expenses   7 \n2016_02_25_152948_add_client_password   8 \n2016_02_28_081424_add_custom_invoice_fields 8 \n2016_03_14_066181_add_user_permissions  8 \n2016_03_14_214710_add_support_three_decimal_taxes   8 \n2016_03_22_168362_add_documents 8 \n2016_03_23_215049_support_multiple_tax_rates    8 \n2016_04_16_103943_enterprise_plan   8 \n2016_04_18_174135_add_page_size 8 \n2016_04_23_182223_payments_changes  9 \n2016_05_16_102925_add_swap_currency_symbol_to_curr...   9 \n2016_05_18_085739_add_invoice_type_support  9 \n2016_05_24_164847_wepay_ach 9 \n2016_07_08_083802_support_new_pricing   9 \n2016_07_13_083821_add_buy_now_buttons   10\n2016_08_10_184027_add_support_for_bots  11\n2016_09_05_150625_create_gateway_types  12\n2016_10_20_191150_add_expense_to_activities 12\n2016_11_03_113316_add_invoice_signature 12\n2016_11_03_161149_add_bluevine_fields   13\n2016_11_28_092904_add_task_projects 13\n2016_12_13_113955_add_pro_plan_discount 13\n2017_01_01_214241_add_inclusive_taxes   14\n2017_02_23_095934_add_custom_product_fields 15\n2017_03_16_085702_add_gateway_fee_location  16\n2017_04_16_101744_add_custom_contact_fields 17\n2017_04_30_174702_add_multiple_database_support 18\n2017_05_10_144928_add_oauth_to_lookups  18\n2017_05_16_101715_add_default_note_to_client    19\n`. FYI - I have reverted to the last good backup, version 3.4.2.. 1. I am using the self hosted zip.\n2. The backup sql was from version 3.4.2. (And yes I am certain for it.)\nOK, I removed the table and attempted the update and still ran into the problem. Any suggestions?. That is correct.. FYI, I am going to compare the current schema to a fresh install of 3.4.2.. Looks like somehow the database was not the correct version. Only explanation for it. There were dozens of differences, but I was able to sync the table schemas and will now try to upgrade.. After syncing with 3.4.2, I was able to run the 3.6.1 update without error. Thanks for your help. :). Thank you @hillelcoren !!!. In addition, when the filter is set to active, no products show.\n\n. No errors in /update, but an exception in the laravel-error.log:\n2018-01-08 11:47:08] production.ERROR: ***Symfony\\Component\\Debug\\Exception\\FatalThrowableError*** [0] : /home/{scrubbed}/domains/domain/public_html/bootstrap/cache/compiled.php [Line 6831] => Call to undefined function Illuminate\\Support\\mb_strimwidth()  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"{scrubbed}\",\"method\":\"GET\",\"url\":\"https://{scrubbed}/api/products\",\"previous\":\"https://{scrubbed}/products\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/{scrubbed}2 Safari/537.36\",\"ip\":\"{scrubbed}\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []. That was it! Thanks once again @hillelcoren !. It is the template, at some point, the template $link macro was converted to a href link in the editor.. OK, thought I would try and disable the pdf attachment option and that solved the problem. Must be phantonjs related. FYI, it is utilizing a local PhantonJS install.. No errors in any of the logs including storage/logs/laravel-error.log. As soon as I disabled the email attachment sending quotes and invoices was working properly. I am running the latest version of PhantomJS, have been for several months now. It is just recently that it was timing out.. No other changes. I have switched to using the PhantomJS cloud for the time being.. Never mind... command line version of php is 5.6, works when I link to 7.2;. Thanks... that makes sense!. I also am experiencing error #2058. Could they be related?. Errors from the error log:\n[2018-04-28 11:40:33] production.ERROR: Illuminate\\Database\\QueryException [23000] : {my_dir}/public_html/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[23000]: Integrity constraint violation: 1022 Can't write; duplicate key in table '#sql-6b8_74e' (SQL: alter table activities add constraint activities_client_id_foreign foreign key (client_id) references clients (id) on delete cascade)  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"HEAD\",\"user_agent\":\"Wget/1.17.1 (linux-gnu)\",\"locale\":\"en\",\"ip\":\"192.241.181.110\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"update\"} []\n[2018-04-28 11:40:38] production.ERROR: Illuminate\\Database\\QueryException [23000] : {my_dir}/public_html/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[23000]: Integrity constraint violation: 1022 Can't write; duplicate key in table '#sql-6b8_787' (SQL: alter table activities add constraint activities_client_id_foreign foreign key (client_id) references clients (id) on delete cascade)  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Wget/1.17.1 (linux-gnu)\",\"locale\":\"en\",\"ip\":\"192.241.181.110\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"update\"} []\n[2018-04-28 11:42:34] production.ERROR: Illuminate\\Database\\QueryException [42S22] : {my_dir}/public_html/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[42S22]: Column not found: 1054 Unknown column 'custom_messages' in 'field list' (SQL: update clients set updated_at = 2018-04-28 11:42:34, task_rate = , show_tasks_in_portal = 1, custom_messages =  where id = 16)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Brian Tafoya\",\"method\":\"PUT\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\",\"locale\":\"en\",\"ip\":\"108.189.77.106\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"clients/16\"} []\n[2018-04-28 11:43:09] production.ERROR: Illuminate\\Database\\QueryException [23000] : {my_dir}/public_html/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[23000]: Integrity constraint violation: 1022 Can't write; duplicate key in table '#sql-6b8_d95' (SQL: alter table activities add constraint activities_client_id_foreign foreign key (client_id) references clients (id) on delete cascade)  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\",\"locale\":\"en\",\"ip\":\"108.189.77.106\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"update\"} []\n[2018-04-28 11:44:24] production.ERROR: Illuminate\\Database\\QueryException [42S22] : {my_dir}/public_html/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[42S22]: Column not found: 1054 Unknown column 'custom_messages' in 'field list' (SQL: update clients set updated_at = 2018-04-28 11:44:24, task_rate = , show_tasks_in_portal = 1, custom_messages =  where id = 16)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Brian Tafoya\",\"method\":\"PUT\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\",\"locale\":\"en\",\"ip\":\"108.189.77.106\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"clients/16\"} []\n. There has been too much activity for me to roll back. The previous version was the last 4.3 release. My update script updated to 4.4.1, but the client update issue still exists.. That resolved the issue! :). ",
    "thegrimoire": "Is this still under consideration? I'm trying to update (copying files over) but I just get the whole thing crash like OP mentioned.\n. ",
    "Big-Shark": "I am using https://styleci.io/ and https://github.com/phpro/grumphp\n. ",
    "iforwms": "Thanks for the reply Hillel, yeah upgrading xdebug should eliminate the problem. \nLike you mentioned, the latest versions increase the limit to 256, which is what I suggested. I'd already read those posts, and agree it's not a bug on anyone's part. \nHopefully someone else with the same issue finds this comment, and resolves their issues.\n. ",
    "jb83": "Thanks for the rapid reply!\n1) definitely not this - see the screenshot attached.\n2) ok thanks\n3) great, any idea when this will happen?\nI do also have a few more questions regarding mail chimp integration and general questions - wash;t sure if to post them here or a separate post?\n\n. also is it possible to automatically add VAT to all items? i.e. as default? This is also something I will have to do manually when using zapier?\n. 1) it the ones without the strikethrough that have reappeared by themselves!! I am aware of the checkbox , but I deleted the invoices that have strikethrough and they automatically reappeared. Any ideas?\n3)Great\nSingle line item isn't a problem. I only have the following options for zapier - don't see one for Tax? Or do you mean this will be added soon . . .\n\n. I deleted the ones with the strikethrough but then the same invoices reappeared automatically (the ones without the strikethrough). I just checked the box so you could see that these were deleted.\n. So.... I deleted all invoices in my account. (Assuming these are the ones with the strikethrough). I didn't create any other invoices after this. They just magically reappeared! Not sure how different I can explain it.\n. that right!\n. that's\n. I have deleted all clients and invoices. I will wait a few days to see if the problem re-appears.\nPlease can you assist with a couple of other issues?\nI am trying to neaten up the notification emails - using html. The preview window to the right shows the correct mark up however when I send them, it appears in plain text? \n. How would I access this file?\n. OK great, thanks!\n. Please can you update me when this is sorted?\n. Hi,\nMany thanks for the fix of the html email with custom template. Works great.\nI have noticed another issue when using zapier. Thank you for introducing the \u2018tax\u2019 & 'due date\u2019 to the integration so quickly however there is an issue with both:\nDue date \u2013 can I add 30 days to the due date? With other zaps I can simply write \u2018+ 30 days\u2019 after the custom field. This would be a great feature, since I still have to manually add the due date for the invoice :-(\nTax \u2013 when I add \u2018VAT' as the name and \u201920\u2019 as the value in my zap - I get double VAT added to the invoice. I figured out a way to get it to just add 20% by simply adding the figure \u201920\u2019 into the value field which appears ok in the list of invoices (20% VAT added) but when you click inside the actual invoice no VAT has been added. This is very strange behaviour?? \nI did a test value of 50% VAT in Zapier (called it Test 50%) it definitely appeared twice in the invoice software?\nZapier settings for double VAT test:\n\nResulting invoice:\n\nZapier settings for disappearing VAT:\n\nAppears fine in the list of invoices:\n\nVAT disappears when you open the actual invoice:\n\n. what do you mean by 'setting payment terms' for the client? Most of my clients will be new clients, I am trying to automate the invoicing so that when I get a new booking it makes an invoice of the correct amount and saves my staff having to manually create one?\nYou have been quick so far with the fixes requested - it's appreciated. Any idea when the VAT fix will be implemented?\n. Thanks for that I'll try it tomoz.\nI don't get what you mean by 'set the payment terms for the client to net 30 days'? \nHow do I do this? \n. I don't create the client in the web UI. Nor through api, I use the api to create the invoice which also creates the client too. There is the option to set due date in the zapier settings but not to 30 days.\nI could maybe try adding an additional row into my booking form for the due date, but it would be handy to not have to do that.\nThanks\n. Ok that would be great!\nI love the speed of your support BTW and how quickly you action your fixes. I hope I'm not being a pain and am helping you create a better app :-)\nPlease let me know when this is done and I will do some tests.\n. Hi Hillel,\nI have spoken with my accountant and unfortunately the reports that your system generates are not good to me. I have made a sample report from your system and my current system (invoicable) which gives a much more detailed overview of the accounts. \nHere are the bare minimum fields my accountant needs:\n- Client name \u2013 needs to be either Individual or Company. (Contact name of a commercial client should not be put in this field).\n- Invoice date \u2013  Is this the date the booking was made?\n- Could you include the actual booking date in the report?\n- Date invoice paid\n- How invoice paid \u2013 BACS/ Cheque/ Card/ Cash\n- VAT needs to be detailed on the report.\n- On the report The amount column shows \u201cA\u201d before the value,  I just need to have the amount. As it stands I would have to input the value by hand as I cannot use the format given.\n- The totals don\u2019t seem to add up and I don\u2019t understand the 2 figures.  Can you please ensure any calculations make sense?\nI have created a sample report from a smilier date range from invoicable so you can see what info we are able to currently generate.\nhttps://www.dropbox.com/sh/hlhy5cjnc7k0ifh/AAA_0gW-3Dei9GC_UjdJM6Spa?dl=0\nPlease could you let me know if this is doable - since I cannot use your system as it is -which is a shame because I have spent countless hours trying to get zapper to work with it :-(\nIf this is not doable, how do I claim the $50 back please?\n. Ok great. I do like it so far but just cannot use it until the reporting system and other Zapier issue are sorted. Have you managed to look at making the zap into a single command?\n. Ok great, any idea when this will be?\n. I haven't seen any improvement on the report side of things? Any idea when this will be done so I can use the software?\n. I'm also having an issue with the software attaching the pdf of the invoice as opposed to putting the link in the email.\nI'm using Zapier to automatically create the invoice and send to the client.\n. Yes \u2013 'attached PDF' definitely enabled, the links also appear on a phone in a format that is not clickable (you have to copy and paste it).\nVery strange\nJames Broome Bsc (Hons) LMPA\nManaging Director\nt 0161 667 5088\nw www.jamesbroomephotography.co.uk\na Unit 15 Swinton Hall Industrial Estate, Pendlebury Rd, Swinton, Manchester, M27 4AJ.\n\u2018James Broome Photography\u2019 is a trading name of \u2018The Cove Studio Limited\u2019 Registered in England No. 8625637. VAT registration no. 170059917.\nConfidentiality notice: This email and any accompanying documents contain confidential information intended for a specific individual or company. This information is private and protected by law. If you are not the intended recipient, you are hereby notified that any disclosure, copying or distribution or the taking of any action based on the contents of this information, is strictly prohibited. You are also requested to advise us immediately if you receive information not addressed to you. Liability notice: We make every effort to keep our network free from viruses. You should however, check this email and any attachments to it for viruses, as we can take no responsibility for any virus that may be transferred by way of this email.\nFrom:  Hillel Coren notifications@github.com\nReply-To:  invoiceninja/invoiceninja reply@reply.github.com\nDate:  Saturday, 13 February 2016 at 17:51\nTo:  invoiceninja/invoiceninja invoiceninja@noreply.github.com\nCc:  James Broome info@jamesbroomephotography.com\nSubject:  Re: [invoiceninja] Enable setting all client fields when creating with invoice in API (#456)\nWe've made some improvements to the 'Charts and Reports' page, for example you can now group the data by payment which shows some of the info you're looking for. We're also planning to continue to enhance the reports in the future.\nCan you double check that 'Attach PDFs' is enabled on /settings/email_settings\n\u2014\nReply to this email directly or view it on GitHub.\n. Yes they are attached when you send the invoice manually but not when using Zapier.\nA bigger issue for me is the report that is delivers? It creates a strange symbol before the \u00a3 sign (see attached).\nI am using this for a smaller company that I have just started however I cannot use it for my main business due to the lack detail in the reports. Here is the feedback from my accountant: \nSurely I am not the only one who wishes for this aspect to be better? I think this will put most bigger companies off using the software due to the lack of information in the reports . . . \nClient name \u2013 needs to be either Individual or Company. (Contact name of a commercial client should not be put in this field). \nInvoice date \u2013  Is this the date the booking was made? \nCould you include the actual booking date in the report? \nYou require certain analysis which need to be incorporated into this report. It would be good if there was options to choose rather than type it in.(Typo and spelling errors mean I have to overwrite) what she means by this is that I have several types of photography that we break down into categories \u2013 I know you can use data visualisations but this is no good for my accountant. \nDate invoice paid \nHow invoice paid \u2013 BACS/ Cheque/ Card/ Cash \nVAT needs to be detailed on the report. \nOn the report The amount column shows \u201cA\u201d before the value,  I just need to have the amount. As it stands I would have to input the value by hand as I cannot use the format given.\nJames Broome Bsc (Hons) LMPA\nManaging Director\nt 0161 667 5088\nw www.jamesbroomephotography.co.uk\na Unit 15 Swinton Hall Industrial Estate, Pendlebury Rd, Swinton, Manchester, M27 4AJ.\n\u2018James Broome Photography\u2019 is a trading name of \u2018The Cove Studio Limited\u2019 Registered in England No. 8625637. VAT registration no. 170059917.\nConfidentiality notice: This email and any accompanying documents contain confidential information intended for a specific individual or company. This information is private and protected by law. If you are not the intended recipient, you are hereby notified that any disclosure, copying or distribution or the taking of any action based on the contents of this information, is strictly prohibited. You are also requested to advise us immediately if you receive information not addressed to you. Liability notice: We make every effort to keep our network free from viruses. You should however, check this email and any attachments to it for viruses, as we can take no responsibility for any virus that may be transferred by way of this email.\nFrom:  Hillel Coren notifications@github.com\nReply-To:  invoiceninja/invoiceninja reply@reply.github.com\nDate:  Sunday, 14 February 2016 at 09:27\nTo:  invoiceninja/invoiceninja invoiceninja@noreply.github.com\nCc:  James Broome info@jamesbroomephotography.com\nSubject:  Re: [invoiceninja] Enable setting all client fields when creating with invoice in API (#456)\nIn our next version we've added code to automatically convert all links in the email to clickable links. \nAre PDFs attached if you send an email manually without using Zapier? \n\u2014\nReply to this email directly or view it on GitHub.\n. ",
    "BloodyIron": "Not being able to see all the companies, including unlinked ones, on self-hosted, is a problem. I'm confident I've created a ghost company and unlinked it, and now I cannot get back to it because it was blank, and I don't know if it exists any more or not.\nThe way the companies are managed at a high level is really confusing and needs overhauling. Can we get a milestone on this please?\n. 1. What's the safe way of removing these ghost accounts? Just dropping the selection?\n2. I just would like this to not be forgotten, hence asking for a milestone at your discretion.\nI know there are other things that need to happen first :P\n. 1. I unlinked before assigning an email address/password (still new to the product here, heh).\n2. Well, milestone, as in target version perhaps? I'm meaning it similar to how a lot of other software works. Feature requests are assigned to a \"target milestone\", and it either makes it into that version of the product, or gets pushed back (or something else).\n. I would love for Invoice Ninja to be my one-stop shop for Accounting! The Invoicing mechanism alone is awesome, and I don't want to give it up!. I would love for Invoice Ninja to be my one-stop shop for Accounting! The Invoicing mechanism alone is awesome, and I don't want to give it up!. I'm still interested! :D Invoice Ninja is already highly valuable to me, and this would make my day!. I'm still interested! :D Invoice Ninja is already highly valuable to me, and this would make my day!. Well, I don't think we need to actually add a lot of complexity here. However, I see this being a security issue when the tool is implemented at larger scale. What if a business wants employees to submit time themselves? I know of at least a few businesses personally that would not be okay knowing about the flow of money in totality.\n. The issue isn't about them being able to submit time, so far as I can tell that is working. The issue is the amount of access that current permission grants. So far as I can tell it grants view access to every Invoice for that business. If that business has hundreds to thousands of invoices on the go, an employee can get a very significant amount of trusted information that they probably don't need to know. At least where I operate from granting information about the flow of money for all invoices is not a default amount of information presented to staff. I hope this is making sense :S\n. Perhaps my testing wasn't sufficient. If user A creates an invoice, how can they grant access to user B if user B does not have \"View All\" permissions?\nSo if a user has create but not view all, they will only see invoices they created?\n. The binary options, when you say \"Currently a user can see something if they created it or if they have 'view all' permission\" suggests that if they don't have View All, that they would (only) see invoices if they themselves created them. I don't think I misread what you said. So, perhaps if you could be explicit. If User B does not have \"View All\" permission, but they have \"Create\", can they see invoices they did not create?\n. Well that sounds very much along the lines of the functionality I want :)\nSo, in the scenario where User B does not have View All, and User A creates an invoice, but wants User B to see this new invoice, what should User A do?\nSorry for being a stickler for the details here, your time is very much appreciated! :D\n. Well, it looks like my original request might already be met. The only thing I am thinking might be nice is having a way to grant access to invoices. As you say the dashboard is an option, but then you grant access to all the invoices, at which point you might as well just grant View All access, which negates the original need. So, did you mean that change is simple?\nI am a Sys Admin, not a developer :P I do not have PHP/Laravel skills to even whisper about, let alone write anything of consequence.\n. I think that having User B log into the client portal would be too much access, as if it is a particularly active/big client, more information (invoices) are likely to be available to User B than is desired.\nHowever, if there's a way to grant access for this scenario per-invoice I think that would be more appropriate, to make it more along the lines of the user creating the invoice in the first place. This particular method I don't know how complex it would be for you.\nI'm not sure how it's unclear here, but let's assume we don't want User B to see all the invoices of a client, just specific invoices.\n. I just tried adding the &phone= to the URL, and it didn't change any of the forms on the resulting page for either Credit Card or PayPal payment methods. :(\nIn regards to your comment on revocation, if I delete a product, are any Buy Now URL stuff deleted nicely from the database, etc?. Well, since this is a Feature Request, would we please be able to get a Phone Number field for the checkout forms? :). Any chance we can have this set to a milestone? even if it's far out? :). I can appreciate that it may be complex. I was more asking about the milestone so that this topic doesn't get lost in time. If there's another way that you folks use to not lose track of such things, so be it. I just know this can lead to a scaling issue.. I would find an AD method a lot more easy to administrate than the way that businesses and users are implemented now. Currently if I un-attach a business, I need to go into the SQL DB and manually change stuff to fix that. That can be a pain!. ",
    "ssuess": "+1 for this!. +1\nExcept I would add the ability to sum up everything that is not yet billed.. I say default to round up, but of course it is always nice to be able to choose.. here is a screenshot of what it could look like (although maybe tighten up the vertical spacing)...\n. Also, it might be good to add it to the main dashboard for a total of all unbilled activity.. ",
    "rafaelsisweb": "Hi Hillel,\nYes, I'm able to use mysql. Thanks.\n. I'll do a full review today.\nAtt.\nRafael Leonardo de Almeida\nCrici\u00fama - SC\n2015-10-27 11:03 GMT-02:00 Hillel Coren notifications@github.com:\n\nThanks!!\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/hillelcoren/invoice-ninja/pull/487#issuecomment-151487955\n.\n. Restoring to original version.\n. Action header removed, and fork sync with upstream project.\n. \n",
    "johnou": "I got a little further, the calls to combobox in ko.bindingHandlers.dropdown.update are being called on 'select#client' so if a matcher is defined in edit.blade.php it is overwritten.\n. Unfortunately this isn't going to work without changes to the combobox plugin as it rewrites the li elements and doesn't provide an option to add additional information. I will close this off for now and reopen if I think of something, thanks for the fast reply!\n. ",
    "WayneDV": "Forgot to add PHP version, just in case it matters\n 5.6.4-4ubuntu6.4\n. 10/Mar/2013  for both Date format and Date/Time format.  Also, 24H Time is enabled\n. ",
    "paralin": "Using master branch version.\n. ",
    "Francismori7": "This project is not to be integrated within another Laravel installation, just for the record. This project IS, IN ITSELF, a Laravel PROJECT, not PACKAGE.\n. ",
    "eduardocruz": ":+1: \n. I started refactoring the FreshbrookImporter into multiple classes focusing on Single Responsibility.  So I better close it now and send another pull request tomorrow. \n. ",
    "n-a-m-e": "I cloned github following https://www.rosehosting.com/blog/install-invoice-ninja-on-a-debian-7-vps/ from the self host page.\nI also tried it with the ninja-v2.4.5.zip which I put it in a different folder with my previous .env and updated the app.php and database.php to match.\nwith the selected contacts if you create an invoice for a company save and then create another contact for that company and then look at the invoice again you get the correct result with only the first contact being marked as a recipient, but if you create any invoice after that it is impossible to only mark one of the contacts as a recipient.\nhopefully you'll be able to recreate this. Please let me know how i can help any further, i really appreciate what your doing with invoiceninja.\n. Hi, thanks for your reply, not a problem i will submit PR against developer branch next time.\nJust wanted to ask if it was possible to create a variable which is accessible from javascript when creating a new tax (similar to a custom label)? And if you could point me in the right direction as to which php/database files need to be changed.. Thank you for reply,\nAs you said here: https://www.invoiceninja.com/forums/topic/quote-and-invoice-detailed-totals-view/\n\"many users have told us tax rates need to be shown even when they\u2019re zero.\"\nI have written the javascript to modify the invoice and add a tax as zero if it isn't already added by one of the line items or by the overall tax for the invoice.\nAt the moment I am hijacking the custom Surcharge Label to let a user specify the name of a tax which they need to be shown even if it is zero.\nIt would be much neater if the user could just click a checkbox on a existing tax which would then be added to the javascript invoice object so that i wouldn't need to resort to using custom labels.\nPlease let me know if you understand what i mean.. The tax needs to be shown even when none of the items on the invoice include it.\nI have attached a screenshot with the selected input followed by the expected outcome on the pdf.\nhttps://imgur.com/a/sYM1X. ",
    "fabschurt": "Great news :+1:\n. ",
    "ginfuru": "@hillelcoren Seems that you can only archive users... there is a check box to show deleted users. Maybe I'm just over seeing something? I'd like to just completely remove the users without having the restore option... but I'm guessing that isn't possible unless that user goes in and closes their account? \nSidenote: InvoiceNinja is pretty wicked! \n. Thanks for clearing that up... it makes sense. \n. ",
    "waza-ari": "Hi, thanks for your answer. I spent some hours digging through the composer documentation and talked to some guys from composer. Finally I found my problem, indeed composer install would have been the better choice, as you provide the corresponding .lock file. Closing the issue, thanks.\n. ",
    "meshakeeb": "Hi @hillelcoren ,\nIs there any future plan to do it or is it possible you guide me how to code it.\nThanks\n. Hi,\nWe need the system so we can set the penalty in that either fixed or Percentual .. ",
    "realtarget": "In germany you typically get a fixed penalty if you're paying late and need to be reminded.\nExample\nFirst Reminder - Free\nSecond Reminder - 5\u20ac penalty\nThird Reminder - 10\u20ac penalty\nPercentual penalties apply later in the legal dunning. (not nessecary for invoicing software). Well, terms of generated/sent invoices should not be changed; these should stay fixed.\nMaybe there's another possibility or workaround for the problem i have: Each invoice (most of them are monthly/anually recurring with standardized products) needs bank account information for wire transfer and a dynamically generated due date for each invoice.\nWhat's the typical use case for invoice terms from your point of view?. It've tried to put the bank account details into the footer. This works, but there's also need for other legal information according in the german tax law (small company regulation).\nIf technically possible a general additional paragraph -placed under the invoice items- could solve this. Users can feel free to use it for self-advertising, legal information or whatever....\nBTW: Is it possibile to show the due date in the invoice texts?. Because bank accounts can change and if there's no possibility to update all terms at once, it's a problem ;-)\nIs it possible to show the due date anywhere else in the invoice? It's another legal aspect of the DACH (Germany, Austria, Switzeland) countries that due dates should to be exaclty shown (eg due until 15.02.2017). It's necessary to prove in legal dunning.. Hi Christopher,\nthe idea was simple:\nInvoiceninja could (manually or automatically) poll a mailbox for new mails and import attached PDFs to the system for qualifying the files manually as an expense. So a user can forward electronic invoices or scan paper invoices directly to this box.\nIf an invoice is embedded into the mailtext it's IMHO to much for first try of this feature. Parsing mails is ugly and a challenge for every helpdesk helpdesk software. But a basic easy-to-use PDF import would be a nice feature.\nBest\nRene. Yes, thanks.. The screenshot from Transifex contains a space character - the email does not contain it.\n\nThe space is also included in the textfile:\n\n. Well, it looks allright in Transifex and the language file (see screenshots).\n. It's activated, but does not affect the client portal.\n[X] Replace the built-in PDF viewer in Chrome and Firefox.\nEnable this if your browser is automatically downloading the PDF.. Nice idea but i would suggest to place an additional button in the invoice view which sends a reminder based on the stage of the overdue process (first text, second text, third text) and increases the dunning level.\nMockup:\n\n. @Braintelligence I did not mean the overdue process but the stages of reminding. So the user can manually choose when to send the first reminder (eg. 10 days after the due date for customer A and 20 days for Customer B). The reminders go one step further after sending.\nFirst click after x days: Friendly reminder\nSecond click after y days: Warning\nThird click after z days: Brutal Warning ;-). I know ;-) But the text blocks are all translated in transifex ;-). I know (and i've tested), but this is a general problem.. Keeping form information is an addition to #437 . Last calendar year would be nicer.. Supplement/note:\nExpenses can be project- or customer-based but the don't need to have a customer/project reference eg. rent, dsl, mobile, energy, laptops, desks...\n. Yeah, this is pretty cool! I've made an update this weekend and seen that it's not implemented yet. THX in advance.. Upvote ;-). Yes, right.\nA friend of mine has a small company with 5 designers & coders which need to track their times & expenses but should not have access to customer data like invoices etc because invoicing is assigned to the accounting assistent.\nAnother example is an engineering office with 10 engineers which work in projects for bridge building. The engineers just have to track their times and expenses on the project and all other work is done by accounting.. You're welcome!. Same problem here. Fix worked.. Unfortunately there's no error. It simply does not attach the PDF while resending.\n. Thanks, so once is the better choice for both... \ud83d\udc4d . After the update and modifying the ENV variables it works.\nPHANTOMJS_CLOUD_KEY=got-it-from-phantomjscloud.com\nPHANTOMJS_SECRET=testing\nThanks for the quick support.\n. Maybe as an option in the configuration?. Great. Works like a charme \ud83d\udc4d . Error messages added:\n\nHeaders:\n\n. ",
    "ricardobarantini": "No, I'm using Mysql.\n. mysql  Ver 14.14 Distrib 5.7.9, for Linux (x86_64) using  EditLine wrapper\nI cloned the project fork to my Homestead code folder.\n. It works, but the strict was already disabled and after I enabled this, the installation is complete. Thank you.\n. Fresh install. I've just cloned the repo a minute ago.\n. Same problem.\n. This is the last log entry. http://pastebin.com/BEWmhXkJ\n. Not solved. I do not know what else can be. :-(\n. \"fonts\"\n. mysql> SELECT * FROM invoiceninja.fonts;\nEmpty set (0.00 sec)\nWhen I try to seed my db:\n[Illuminate\\Database\\QueryException]                                         \n  SQLSTATE[HY000]: General error: 1364 Field 'is_early_access' doesn't have a default value (SQL: insert into `fonts` (`folder`, `name`, `css_stack`, `google_font`, `normal`, `bold`, `italics`, `bolditalics`, `sort_order`) values (roboto, Roboto, 'Roboto', Arial, Helvetica, sans-serif, Roboto:400,700,900,100, Roboto-Regular.ttf, Roboto-Medium.ttf, Roboto-Italic.ttf, Roboto-Italic.ttf, 100))\n[PDOException]                                                               \n  SQLSTATE[HY000]: General error: 1364 Field 'is_early_access' doesn't have a default value\n. I installed the last commit and is now running everything normal. Thank you, keep up the great work you're doing with this project.\n. ",
    "garymoon": "Thank you @hillelcoren, that has made a big difference. My browser is still unresponsive for a second or two during generation but I can handle that. I'd still be interested in disabling it if you wanted to point me in the right direction.\n. I'm using Firefox on OS X. I'm one of those guys who has his browser just the way he likes it, and accepts somewhat poor performance and high resource utilization as the price he pays. I suspect that there being no other tickets related to preview performance is an indication that my browser setup is to blame, and not Invoice Ninja.\nThank you very much for the guidance, I'll follow your recommendation :) Please feel free to close the ticket if you have no other questions.\nThanks again for your help, and of course for Invoice Ninja!\n. ",
    "emanuelzh": "Maybe this could help\nhttp://jsfiddle.net/airandfingers/pdXRx/247/\n. ",
    "Snippo": "Are there any plans to implement this?\nFor me this would be a vital feature in order to use Invoice Ninja.\n. Alright, thanks for the quick reply. I'll see if I can work around it in some way.\n. ",
    "nickbe": "Hi guys. I think there's a really big misconception here.\nFor everyone being in germany or austria you can NOT really use invoiceninja at all if you need to handle end user sales.\nIt is absolutely forbidden to tell private end users prices EXCLUDING tax. if you do it you can get in big trouble. So as a shopkeeper you always have to work with prices that already INCLUDES the tax.\nIf I sell a ring for \u20ac 100 it means a \u20ac 100 INCLUDING 19% tax. \nNow not being able to handle this without having to manually back-calculate the net price and fiddle with rounding problems makes it currenly unusable for anyone selling end-user products here in germany.\nFor us it's not an option - it's a must have. It's the reason I cannot use the system even if I would like to very much. It makes the german translation mostly obsolete so far.. I was a shop owner for a very long time in germany. If I sell for example furniture or computers then in your shop ALL prices openly displayed to the public are tax included! But at the same time most people who buy stuff will need a proper invoice with the exact amounts of VAT shown on paper. Because many \"small business\" owners are VAT deductable. It's something you're not necessarity forced to but something you can choose when you start a business. So you have end user prices on shops, but people coming in and buying who need invoices with the included tax shown. Hence the need for a software who can cope with that type of thing. And believe me in the end user comouter business you need that every single day.. Line 2 is what we need. Unit cost 85 and sum 100. This is the way out tax department demands certain invoices to look like.\nAnd the option to select inc/excl would be fine. Although best would be to have a system default and a setting per client. That would be perfect :). Being able to set it per invoice is good and surely needed. But there should be a default setting for each client. \nSome are companies, others maybe be private persons. Depending on this we van then select a default. We need this every day here. If we want we can then set a different mode per invoice anyway \nAlso therefore a system wide default should be available.. If we print an invoice for companies with a right to deduct taxes then we print them tax exclusive. the taxes are added on top.\nInvoices for private persons are mostly printed with inclusive prices. We talk to these customers about inclusive prices and the invoices then show how much tax was included in the final \"end user\" price. . Thanks. If you find the time for a client default anyway please consider doing it.\nThanks for your effort :). Let's try that right away. Thanks for your effort :). Sorry for the late question. Does this mean we could now provide the software as a service to our own customers and modify it for this purpose?. OK. That's of course perfect reasonable. I've also just read about the reseller program. \nI suppose that the 10%/500$ regulation would be the required fees if we'd like to \"re-brand\" invoiceninja if we like to provide the software as a service to customers. Right?. Ok. Sounds good. Thanks for explaining. I'm happy with this.. ",
    "thelittlebug": "I think it would be nice to have the feature to add formulas in numerical input fields, evaled in javascript (so there can no serverside security issue)\nwith such a feature the shopkeeper would be able to enter his price like so, if he want to exclude 20% tax: 79.99/1.2\nthat should be trivial to implement as it only affects the html/js frontend part.. ",
    "xbtdev": "\nSelf hosting\nv2.4.5\nCan I send/email you this file?\nYes, it was actually a reminder email that did this I guess. Invoice was due Dec 1st and reminder email was sent 100+ times on Dec 7th.\n. Its set to run every minute. I didn't see specific timing instructions on https://www.invoiceninja.com/self-host/ so I had set it to every minute. \n\nThe send-invoice cron is also set to run every minute. Should I change that to every day?\n. Good point. There are three options that would work well for me:\n- \"Auto-Archive Paid Invoices\" option in settings\n- Make /invoices/outstanding/ show only outsanding invoices, and link to dashboard widget.\n- Make paid invoices hidden by default on the invoices page, and add a checkbox \"Show paid invoices\"\nThird option is my favorite. 2nd option would my 2nd choice.\nIf I pay one of my developers to make a pull request with this modification would be be merged?\n. Any thoughts on when there might be a way to filter and show only unpaid invoices?\n. THANK YOU for hiding draft invoices from client. Will update as soon as you push this update.\nAlso, I think I'm going to create a custom form for adding invoices via the API. This will solve my issue without using user permissions, and will allow someone to add draft invoices for me without having access to the entire company financials.\n. ",
    "delatbabel": "OK I will fork and submit some PRs with some documentation. If you want to see examples of my documentation style then have a look at the docblocks for some of the omnipay modules -- e.g. FatZebra, PayPal_REST, etc.\nI haven't pushed my project public yet. When I do I will send you a link.\n. ",
    "kirashi3": "Maybe a good idea is to not automatically generate a PDF on the same screen where we input our invoice data. Or have it remain hidden and un-generated until we choose to press a button that says \"Show Invoice\".\nOn slower computers it does lag a bit every time a field is updated as it has to re-generate the entire PDF. Mobile would still need a different method of generating the PDF so it does not try to auto download, of course, but I'd in support of a \"View Invoice\" button that expands and generates the PDF only when clicked.\nJust a thought. If I find the controller that handles the invoice screen, maybe I'll poke around on my self-hosted installation and see if I can rig up a button for this function.\n. Never though about the logo slowing it down - much appreciated! I've been meaning to update from v2.4.6 for a while now. I think I'll do that this weekend when I move servers to take advantage of the \"Live Preview\" checkbox. Thanks again!\n. Just a minor update in regards to the company logo.\nThe CSS fix is nice within the Invoice Ninja Web App, but emails sent out to clients would need to be modified as well. I sent a test invoice to myself just to check it out, and it seems as though the email is display the fullwidth of the logo as well, instead of being nicely sized.\nNo biggie, as now that I know, I've adjusted the size of my logo and reuploaded it, but something to consider for the benefit of everybody's usage.\n. I've attached a screenshot showing the issue affecting Windows 10's Mail App.\nIt appears to be fine when using Outlook.com though, so it's probably more of a formatting issue on Microsoft's end with their app. (Possibly other email clients have similar problems?)\n\nLeft window is outlook.com, lower right is Windows 10 Mail App, both have the same email open.\nUpper right window showing the image from outlook.com if one were to Right Click > Open Image\nMaybe implementing an image in the backend code that creates multiple copies of your company logo for print, email, etc. use, similar to Wordpress's Media Uploader.\nI believe users would only need 2-3 sizes: the original uploade, a medium logo sized for invoice printing, and a smaller 96x96 logo just for email headers and such.\nIt's no big deal, but thought I should help by letting someone on the dev team know.\n. @hillelcoren @codedge thanks for replying. To confirm, yes, it's working as intended then. Just tried to load my invoice edit screen, and after the initial PDF loads, it indeed does not update when I change the hourly rate, hours, or anything else.\nI just had assumed unchecking the \"Live Preview\" box meant it disabled the preview altogether.\nIt would be nice to have an option to disable the generation of the PDF completely for those on slower machines, or for when we have a lot of invoices to modify. Shaves off a couple seconds used to display the PDF on page load. (Just a feature request, but not critical in any way.)\n. Hey hey! I manually changed line 92 of show.blade.php as your commit indicates and can confirm this fixes the problem for me. You and the Invoice Ninja team rock @hillelcoren -- hopefully this solves the problem for anyone else who might experience the same thing, and will be included in the next update too.. @Dreemer27 I second @hillelcoren's idea of using Dropbox (or Google Drive / OneDrive) as this allows a little more control over the files without having to upload them from your computer to the server manually, and then later wonder if they're actually the right versions.\nI have a folder called _Shared in the root of my Dropbox and then inside that have folders for each client that I share with them. Inside those folders I put everything from PDF contracts to working design files, organized further into folders. Granted, I haven't surpassed 20 clients since 2016, so this method hasn't become too messy yet, but I'd imagine a better folder structure would be needed once you gain a lot of active clients.. ",
    "laurentelgard": "Hi,\nWorking on a pretty powerfull workstation is the same, what suggests Kirashi3 seems to be a good idea for me too, as i don't need the pdf to be refreshed at every single key i press :)\nMaybe a switch on/off to let people decide the way they want it to behave, and a \"generate\" to force it too ? Could be in the \"more action\" menu or not hidden at all just next to it ?\nRegards\n. ",
    "joshuadwire": "I wouldn't be changing the logic that decides when to send the invoice. The only change would be to add a due date so that the reminders work.\nI'd change createRecurringInvoice so that after checking the client payment terms, it checks to see if there are specific payment terms for this invoice. The options would be to make it due on the 1st-30th or the last day of the month.\nIs this something you'd want?\nThe UI would look something like this:\n\n\n. It could make sense to add these as options for client payment terms in addition to NET 30, etc. I don't think it would make sense as a second setting as it and the payment terms would be mutually exclusive.\nOne benefit to making it per invoice is that it would allow users to customize the due date for each invoice. Either way would work fine for my use case, since I have only one recurring invoice per client.\n. I don't think I'd need to change the shouldSendToday function. I should just need to change this part of createRecurringInvoice in InvoiceRepository.php:\nif ($invoice->client->payment_terms != 0) {\n    $days = $invoice->client->payment_terms;\n    if ($days == -1) {\n        $days = 0;\n    }\n    $invoice->due_date = date_create()->modify($days.' day')->format('Y-m-d');\n}\nI'm not quite sure how to store the new options in the payment_terms table though, since num_days is an int. Maybe start with 10001 for days of the month? 10001-10031 for the 1st of the month through the last day?\n. An extra column would work. Maybe the num_days column should be renamed too, though it's probably too much of a hassle for little return.\nIt would definitely need to take the current day into account. Your examples are what I planning on. The second bullet is exactly what I'm wanting to use for my clients. I'm coming from Wave, and with them, I had to settle for due 14 days from the sending date.\nOne edge case would be if today is the 15th, and terms are the 15th day of the month, should it be due today or due the 15th of next month? I guess that's one downside of making this per client and not per invoice.\n. I started implementing this and added an extra column to the payment_terms table for the type, but it seems that may not be the best route. It looks like I'll need to add a column to the clients table as well.\nI'd also need to add some fancy logic to combine the day numbers and the type into a string that can be put as the value for the select UI and then split apart again later.\nOne alternative would be to change the client payment terms column to be net_1, net_7 etc.. and monthly_1, monthly_2, etc., but it think it would be inefficient to make that kind of a structure change on a site with many clients.\nI think the most efficient (though not ideal) solution is going to be to use the existing num_days column and just pick arbitrary numbers for these payment terms. Ex: 10001-10031 are 1st-Last day of the month. The final alternative would be to make this an invoice-specific option and (ab)use the existing due_date column to hold this info for recurring invoices.\nI'm not sure which is going to be most efficient/sustainable for your environment, so I'd like your input.\n. It does add a little more complexity to the invoice page. From the code, it looks like the last sent shows up on non-recurring invoices too. I also see the \"Created by Recurring Invoice\" text. Should those items be moved too?\nI haven't moved these fields to the 3rd column yet, but here's what I have so far:\n\nI added a \"Due Next\" field that also takes into account the client's payment terms if there aren't any invoice-specific terms.\nThe changes so far are at https://github.com/joshuadwire/invoiceninja/commit/7e336ec118524c8a22adc5ed9009cc91ce7d1c8b. I'll submit a PR once I'm completely done.\n. - It looks like GitHub didn't get all of my changes to ImportService.php. I needed to do quite a bit of reorganization to that file to get the importer to handle multi-line invoices. I've committed the rest of the changes.\n- I set paid to 0 because Wave's invoice CSV doesn't include any payment information.\n- I enabled uploading a payments CSV separately. Maybe this isn't what you want. It seemed the only way to support Wave since it includes invoice payments in a separate CSV and the CSV only includes the invoice id, not the client id. Maybe I need to only display the payment CSV option for Wave if the others work differently, in which case I'd need to revert the changes for the other transformers.\n- It looks like all of the invoice transformers only supported one line item in an invoice. I modified ImportService to recognize multiple invoices with the same id and merge the invoice line items.\n- I don't see tax support in any of the other transformers, so didn't implement this. I don't use taxes, so I don't have data to test with. Maybe importing taxes can be part of a future release.\n. Do note that I added a field to upload payment CSVs, which you may not want for all import sources if the invoice CSV already includes payment information\n. Quick rundown of the sanitize process done for invoiceninja.com users:\n- The CSS is parsed and any HTML or invalid CSS is removed\n- Only whitelisted properties are allowed\n- All @import declarations are removed\n- JavaScript and other non-safe protocols are removed from background-image and other URLs\n- body selectors are changed to .body (The library I'm using doesn't support body as a selector.)\n- The library currently doesn't support rgba colors, so that's a little disappointing.\n- Potentially dangerous expressions like calc, expression, behavior are removed.\nNo sanitization is run for self-hosted installations, since there's no vulnerability with allowing them to put anything on their own site.\n. Sounds like a great idea. It will be nice to be able to let clients log in, especially if it will give them a way to remove/update credit card info (maybe a future feature?).\n1. That code was rather interesting. HTML Purifier's main goal is to sanitize user HTML that's going to be injected into a page. It also has the capability to sanitize CSS, which is what I really needed. Because its goal is to sanitize HTML that will become only part of the page, the library doesn't support the body element. This apparently carries over to CSS, and it removes any use of the body selector.\nI wanted users to be able to style the body, so I added the body class to the body element (<body class=\"body>) and replaced all body selectors with .body. The regex is trying to select only body and not .body, #body, something_body, bodysomething, etc.\nMaybe a better comment would have been // Change \"body\" to \".body\" (HTMLPurifier removes \"body\" selectors).\nRight now, the html selector is just removed. I didn't add any code to support it, but it could be supported by giving it a html class and duplicating the code for the body.\n2. From what I saw in the HTMLPurifier code, the CSS.Trusted option just allows the user to set position, top, left, bottom, right, and z-index. See https://github.com/ezyang/htmlpurifier/blob/ae1828d955112356f7677c465f94f7deb7d27a40/library/HTMLPurifier/CSSDefinition.php#L327-L329 and https://github.com/ezyang/htmlpurifier/blob/ae1828d955112356f7677c465f94f7deb7d27a40/library/HTMLPurifier/CSSDefinition.php#L409-L433.\nMost of HTML Purifier's options are designed to prevent user styles from affecting more of the page than they're supposed to. I really just wanted to prevent cross-site scripting, so I allowed pretty much all of the properties and just let HTML Purifier remove anything that could potentially load JavaScript. HTML Purifier has docs at http://htmlpurifier.org/live/configdoc/plain.html#CSS, but it's not always clear on what options do.\n. I think there might be an issue with the existing accounts date formatter. I'm passing the due date to account->formatDate in 'YYYY-MM-DD' form, and after midnight GMT, the date comes out one day lower.\nFor example I'm in Eastern Time, and it's 6:25 PM. The date that is passed in is 2016-01-30, but the function returns Jan 29, 2016.\nFrom what I can tell, this won't cause the invoice to be due on the wrong day, but could make the due date schedule shown in the invoice editor incorrect during the time between midnight GMT and midnight in my timezone.\nI think the problem is related to how getDateTime sets the timezone for the date.\n. Oops, wrong branch. Ignore this. I was trying to get my fork updated to the latest version.\n. With the latest changes, here are the new steps to add fonts:\n1. Add a folder with font files to public/fonts/invoice-fonts/ (use a URL-safe name)\n2. Add data for the font to database/seeds/FontSeeder.php (folder should be the name of the folder created in step 1)\n3. Run grunt build to concat JS and dump font directories\n. Thanks @turbo124 \n777 should fix this. I think the issue is that I was referencing $payment in places I should have referenced $invoice.\n$payment and $invoice aren't actually model instances. They're created by $payments, $pastDue, and $upcoming in DashboardController.php. They're selected directly from the database with client_user_id pulled in through a join.\n. Thanks @turbo124 \n777 should fix this. I think the issue is that I was referencing $payment in places I should have referenced $invoice.\n$payment and $invoice aren't actually model instances. They're created by $payments, $pastDue, and $upcoming in DashboardController.php. They're selected directly from the database with client_user_id pulled in through a join.\n. The new artisan task is ninja:remove-orphaned-documents\nIt removes any documents created more than an hour ago that aren't assigned to an invoice or expense.\n. @codedge I'm not sure. I remember I had some difficulty figuring out exactly what composer package definition would work, but I don't remember choosing SSH over HTTPS for any reason in particular.\nIf SSH isn't working, it should be safe to switch it to HTTPS.\n. ",
    "Trexology": "Hi @hillelcoren, thanks for the fast response,\nCurrently i'm testing in a local environment.\nSo am i right to say that, the current email logic already catered to pdf attachment via API call?\nAs long as i deploy the app to a live server, it will work?\nOr \nIs there any additional configuration required?\nP.S: PHANTOMJS_CLOUD_KEY='a-demo-key-with-low-quota-per-ip-address' is present in my .env file\n. Yes, my app is publicly reachable.\nIt used to work previously, but not now.\n. my env file have the api key\nPHANTOMJS_CLOUD_KEY='a-demo-key-with-low-quota-per-ip-address'\nmy emailing of invoice contains the PDF attachment, but not emailing of payment. which is werid\n. My getPDFString returning false.\nApparently my encodedString in the function getPDFString() have some errors:\nWhoops, looks like something went wrong.\\n\n\\n\n3/3\\n\nErrorException in f7766c2c4d2330d0bd992b75828d894b line 79:\\n\nTrying to get property of non-object (View: /var/www/html/ninja-invoice/resources/views/invoices/pdf.blade.php) (View: /var/www/html/ninja-invoice/resources/views/invoices/pdf.blade.php)\\n\nany ideas?\n. in pdf.blade.php:\nvar NINJA = NINJA || {};\n  @if ($account->isPro())\n      NINJA.primaryColor = \"{{ $account->primary_color }}\";\n      NINJA.secondaryColor = \"{{ $account->secondary_color }}\";\n      NINJA.fontSize = {{ $account->font_size }};\n      NINJA.headerFont = {!! json_encode(Auth::user()->account->getHeaderFontName()) !!}; <- line 79\n      NINJA.bodyFont = {!! json_encode(Auth::user()->account->getBodyFontName()) !!};\n  @endif\n  var invoiceLabels = {!! json_encode($account->getInvoiceLabels()) !!};\nhow come the headerFont and bodyFont are retrieved from Auth::user()->account and not $account?? Is the code design to work this way?\n. ok after changing line 79 and 80 to:\nNINJA.headerFont = {!! json_encode($account->getHeaderFontName()) !!};\nNINJA.bodyFont = {!! json_encode($account->getBodyFontName()) !!};\nmy attachment start coming back\n. duplication issue, refer to #672\n. ",
    "hannenijhuis": "It seems that the functionality is indeed already in place, but not correctly referred to?\nIn the select#client combobox onChange function:\n// we enable searching by contact but the selection must be the client \n$('.client-input').val(getClientDisplayName(selected));\nAnd then the function getClientDisplayName:\nfunction getClientDisplayName(client)\n{\n  var contact = client.contacts ? client.contacts[0] : false;\n  if (client.name) {\n    return client.name;\n  } else if (contact) {\n    return getContactDisplayName(contact);\n  }\n  return '';\n}\nWhere the first if always seems to be true?\nThere is a getContactDisplayName, but I can't see when it would be called upon.\n. So this applies only to contacts who 'don't have a company'?\nI'd like to change it so that if you select a 'contact' from the list, it'll show:\n\nCompany name\nattn John Smith\netc..\n\nand if you select a 'client' (the company name), then it'll show:\n\nCompany name\netc..\n\nThis should be doable right? I'd need to change the way the list is filled though, with IDs discerning between clients and contact.. right?\n. Alright.. that would be a very valuable solution (at least for me). I thought your first comment meant you already had something like this?\n. Yeah.. because of this line right?\nvar contact = client.contacts ? client.contacts[0] : false;\n. Thanks! Deleting the invoice was already part of a work-around in the first place. I noticed that the taxes on custom invoice values are only applied to new invoices. That kinda made sense though, so I decided to recreate the invoice entirely :)\nBut your solution is fine for now. Thanks!\n. ",
    "skylarmt": "Thanks!  The first suggestion worked for me.  I really should have tried that first!\n. ",
    "sferdyn": "Thank you for the short advice.\nThis is what is extracted from laravel log:\n[2016-01-12 12:02:08] production.ERROR: exception 'InvalidArgumentException' with message 'Unable to choose a translation for \":count invoice sent|:count invoices sent\" with locale \"pl\" for value \"0\". Double check that this translation has the correct plural options (e.g. \"There is one apple|There are %count% apples\").' in /Applications/invoiceninja-2.4.8.1-0/apps/invoiceninja/htdocs/vendor/symfony/translation/Symfony/Component/Translation/MessageSelector.php:85\nNext exception 'ErrorException' with message 'Unable to choose a translation for \":count invoice sent|:count invoices sent\" with locale \"pl\" for value \"0\". Double check that this translation has the correct plural options (e.g. \"There is one apple|There are %count% apples\"). (View: /Applications/invoiceninja-2.4.8.1-0/apps/invoiceninja/htdocs/resources/views/dashboard.blade.php)' in /Applications/invoiceninja-2.4.8.1-0/apps/invoiceninja/htdocs/vendor/symfony/translation/Symfony/Component/Translation/MessageSelector.php:85\n. Yes, I did. Just full copy of en folder renamed to pl.\nTranslated or untouched files in resources/lang/anotherlanguage give the same result.\n. OK. I will try. As I mentioned, only dashboard page refuses to load. If I go directly to for example /invoices page everything is loaded as expected.\nI use clean installation from Bitnami.\n. OK. So I get \"0 invoices sent\" information.\nWhat can I do with it?\n. Sorry but I do not get the idea.\nIf I change it to \"'pl'));\" it gives me \"Whoops, looks like something went wrong.\" error.\nNo matter if I use translated texts.php file or untranslated one (copy from en folder).\n. Well I found the problem to be located elsewhere :]\nWhatever the content of folder /resources/lang/pl is the problem will pop up.\nThere seems to be a bug in Symfony/Component/Translation/Symfony/PluralizationRules.php. Lines 172-173:\n            case 'pl':\n                return ($number == 1) ? 0 : ((($number % 10 >= 2) && ($number % 10 <= 4) && (($number % 100 < 12) || ($number % 100 > 14))) ? 1 : 2);\nIf I go and just delete those lines dashboard runs flawlessly. Can you check the code?\nI belive there should be no invoices sent in database to reproduce the issue.\n. ",
    "medea61": "We are still on 2.4.8 and have a somewhat similar issue. We see that only some emails are generated with a PDF attachment. For the moment it looks like only one (the first?) of the invoices generated via the cronjob seems to have an attachment if at all. \nFor the record: yes, our instance is publicy available and  I even added a proper api-key to the .env-file.\n. understood. in our case it we are looking at recurring invoices.\n. For the sake if completeness: Version 2.4.8.\n. This is todays output. Somewhat strange.\n```\n[2016-01-12 00:00:03] production.ERROR: Email Error: fopen(http://localhost/images/emails/logo.png): failed to open stream: HTTP request failed! HTTP/1.1 404 Not Found\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1}\n[2016-01-12 00:10:03] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":2}\n[2016-01-12 00:15:03] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":3}\n[2016-01-12 00:20:03] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":4}\n[2016-01-12 00:25:04] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":5}\n[2016-01-12 00:30:04] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":6}\n[2016-01-12 00:35:04] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":7}\n[2016-01-12 00:40:04] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":8}\n[2016-01-12 00:45:04] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":9}\n[2016-01-12 00:50:05] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":10}\n[2016-01-12 00:55:05] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":11}\n[2016-01-12 01:00:07] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":12}\n[2016-01-12 01:05:07] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":13}\n[2016-01-12 01:10:08] production.ERROR: Email Error: Expected response code 250 but got code \"421\", with message \"421 4.4.2 ixpmanager.mydomain.com Error: timeout exceeded\n\"\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"url\":\"http://localhostixpmanager.mydomain.com/in\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":14}\n```\n. yes, regular invoices are working. it's just the invoices via the cron job. for testing i created a new recurring invoice or today and ran the cronjob by hand. the jobs is not really finishing and seems to timeout repeatedly somewhere. the error i guess is in the url: http://localhostixpmanager.mydomain.com I have no idea where the 'localhost'-part in that url is coming from. It should be http://ixpmanager.mydomain.com only.\n. i found a few things connected together to  lead to my issues:\n- no APP_URL set in .env == no PDFs created on the commandline (might be a good idea to document)\n- hosting IN not at the top of a domain (in our case www.domain.com/in) leads to all kind of funky issues when generating invoices\nthank you for your support.\n. confirmed, the issue is solved. thank you.\n. ",
    "mikeybeck": "I came across this bug just now when updating to version 2.5.2.2.\nSaving the font settings fixes it though, thanks!\n. ",
    "vijaysebastian": "If I am not wrong, App\\Exceptions\\Handler will handle all  exceptions, Isn't it?\n. Then why you are using try/catch?. Please explain me what is the use of that \n. Great information, Thank you.  :-)\n. ",
    "bukhory": "ok then i'll update manually. its solved now, thank you\n. ",
    "stebentje": "Nope, still the same problem, I've tried /update and get error (I've also changed exceeded time into 300 to give it enough time):\n[2016-01-17 07:27:51] production.ERROR: exception 'Symfony\\Component\\Debug\\Exception\\FatalErrorException' with message 'Maximum execution time of 300 seconds exceeded' in C:\\Bitnami\\invoiceninja-2.4.9.5-0\\apps\\invoiceninja\\htdocs\\vendor\\symfony\\process\\Symfony\\Component\\Process\\Pipes\\WindowsPipes.php:117\nStack trace:\n0 {main}\n/dashboard?clear_cache=true -> this is working without problem\n. Ow yes, this is working! Thanks Hillel!! :-) :+1: \n. Hi Hillel\nYes, the due date is the 4th of january (04-01-2016).\nI'm using Bitnami, so first I open command and go to:\nC:\\Bitnami\\invoiceninja-2.4.9.5-0\\apps\\invoiceninja\\htdocs\nThen: php artisan ninja:send-invoices -> This works!\nBut when I type php artisan ninja:send-reminders -> this doesn't work.  He says:\n2016-01-21\n1 accounts found\nNAME COMPANY: 0 invoices found\nDone\n. Ow, so when I'm 1 day later he will not send the reminder, correct? \nNow I've created a batch file that runs everyday so this won't be a problem anymore :-)\n. Ok, thanks for this info. \nps: I really love InvoiceNinja, keep up the good work!!\n. Great, thanks Hillel!\n. ",
    "freeyland": "thx for quick reply.\nI did clear the cache but still the same issue.\nHow do I share the trace? The log file?\n. Also the download PDF button is not working anymore.\n. Hi, \nI've reinstalled everything again and it is working now. I forgot to move the files from public folder to my root folder. \nI really apreciate your help.\nRgds,\nFrederick\n. ",
    "larsmagnusherland": "That is if you are a commercial. I think you can do the open source one.\nhttps://www.transifex.com/customers/open-source/\n. ",
    "ridgarou": "Ok, dont worry about it, I understand perfectly :)\nI will check if i can see something about, but as I said before, isn't important\n. You're welcome  :)\n. I need traslate countries name too... I tried traslating names in countries table on data base, but... it didn't work   :S\n\n. the .env file is empty   :S\n2016-02-09 19:22 GMT+01:00 Hillel Coren notifications@github.com:\n\nCheck the value for APP_KEY in the .env file\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/707#issuecomment-181991091\n.\n\n\n('.' ) (\u00b7.\u00b7 ) (.. ) (..) ( ..) ( \u00b7.\u00b7) ( '.')\n   http://es.linkedin.com/in/fjgils\n('.' ) (\u00b7.\u00b7 ) (.. ) (..) ( ..) ( \u00b7.\u00b7) ( '.')\n. @hillelcoren I will check this issue :)\n@turbo124 I don't think this is the problem. I'm using a Apache Web Server over Windows System (The Uniform Server - http://www.uniformserver.com/) with PHP 5.6.16 and MySQL 5.6.28\nAlso, the \"env\" file is created but is empty   :S\n. I have taken advantage the new version 2.5.0 released yesterday to try a new clean install\nagain, and I received the same exception with the function \"mcrypt_encrypt()\" after the system has created an empty \".env\" file. :worried: \nSo, as a test, I deleted this empty \".env\" file. I renamed the \".env.example\" file to \".env\", I run \"http://localhost/invoice/public/setup\" and it's works!!! :smile: \nI think that this step it must be especified on \"https://www.invoiceninja.com/self-host/\" and \"https://www.invoiceninja.com/knowledgebase/self-host/\" :thought_balloon: \n. Ok, I'll keep in mind for the next \"pull requests\"  :)\n2016-02-29 8:41 GMT+01:00 Hillel Coren notifications@github.com:\n\nThanks for sharing your changes!\nIf you run the latest code in the develop branch you can access these\nproperties directly. I've improved the help popup on the customization page\nto show all available fields. Also, please create future pull requests\nagainst the develop branch.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/pull/741#issuecomment-190077591\n.\n\n\n('.' ) (\u00b7.\u00b7 ) (.. ) (..) ( ..) ( \u00b7.\u00b7) ( '.')\n   http://es.linkedin.com/in/fjgils\n('.' ) (\u00b7.\u00b7 ) (.. ) (..) ( ..) ( \u00b7.\u00b7) ( '.')\n. ",
    "kgaut": "Thanks for the answer.\n. ",
    "tasktilldone": "Hey there,\nwe trying to integrate Invoice Ninja via API, one of the key values would be automated invoicing.\nI am trying to add an invoice and it works as long i do not add invoice_items to my JSON.\nIf i add it i getting following error.\n[\"The email field is required when client id is not present.\"],\"client_id\":[\"The client id field is required when email is not present.\"]}\nAny hints how to fix that issue?\nCheers\nLeo\n. ",
    "rajasiman": "There were no logs in the specified location. User has been created in the database, but the .env file is empty. Permission for www-data user on the entire installation(all files and folders) is 0755. \nShould I update the .env file manually?\nUpdate: \nI edited the file manually with https://github.com/invoiceninja/invoiceninja/blob/master/.env.example as reference. I'm still being redirected to /setup  :(\n. @turbo124 I edited the file manually with https://github.com/invoiceninja/invoiceninja/blob/master/.env.example as reference. I'm still being redirected to /setup :(\nHow do I go about upgrading to the latest master branch?\n. git clone was very slow after downloading about 3000 objects (10%). So I downloaded a zip of the master branch and proceeded with installation. Can I overwrite the new files directly over at the path where the files are changed?\n. I apologize for nagging you guys with so many queries.\nI ran php artisan migrate:reset\nOutput:\n\nThis is not the mysqluser that I have configured for this instance. The .env file i created has been overwritten by an empty file. I reeally want to fix this and get this working :)\n. Running php artisan migrate:reset rolled back all but 2016_02_01_135956_add_source_currency_to_expenses\nNavigating to the application URL again loaded /setup. Post submission of the form, this is the output. URL still is pointing to /setup.\nuse Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class AddSourceCurrencyToExpenses extends Migration { /** * Run the migrations. * * @return void */ public function up() { Schema::table('expenses', function (Blueprint $table) { $table->dropColumn('foreign_amount'); $table->unsignedInteger('currency_id')->nullable(false)->change(); $table->renameColumn('currency_id', 'invoice_currency_id'); $table->unsignedInteger('expense_currency_id'); }); Schema::table('expenses', function (Blueprint $table) { // set account value so we're able to create foreign constraint DB::statement('update expenses e left join accounts a on a.id = e.account_id set e.expense_currency_id = COALESCE(a.currency_id, 1)'); $table->foreign('invoice_currency_id')->references('id')->on('currencies'); $table->foreign('expense_currency_id')->references('id')->on('currencies'); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::table('expenses', function($table) { $table->dropColumn('expense_currency_id'); $table->renameColumn('invoice_currency_id', 'currency_id'); $table->renameColumn('invoice_amount', 'foreign_amount'); }); } } use Illuminate\\Database\\Schema\\Blueprint; use Illuminate\\Database\\Migrations\\Migration; class AddSourceCurrencyToExpenses extends Migration { /** * Run the migrations. * * @return void */ public function up() { Schema::table('expenses', function (Blueprint $table) { $table->dropColumn('foreign_amount'); $table->unsignedInteger('currency_id')->nullable(false)->change(); $table->renameColumn('currency_id', 'invoice_currency_id'); $table->unsignedInteger('expense_currency_id'); }); Schema::table('expenses', function (Blueprint $table) { // set account value so we're able to create foreign constraint DB::statement('update expenses e left join accounts a on a.id = e.account_id set e.expense_currency_id = COALESCE(a.currency_id, 1)'); $table->foreign('invoice_currency_id')->references('id')->on('currencies'); $table->foreign('expense_currency_id')->references('id')->on('currencies'); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::table('expenses', function($table) { $table->dropColumn('expense_currency_id'); $table->renameColumn('invoice_currency_id', 'currency_id'); $table->renameColumn('invoice_amount', 'foreign_amount'); }); } }\n. it worked!!!!! Thank you so much!\n. Thank you for the clarification.\n. ",
    "pierreozoux": "I'd say \"append only\", as I believe a \"delete\" is also a write, and in\nmy case, I wouldn't want it.\nI got inspired by Append only mode for S3 bucket.\nThanks for considering it.\nWould you accept a bounty from bountysource?\n(And yes, it means we need a backend for now)\nOn 08-02-2016 13:58, Hillel Coren wrote:\n\nIt's an interesting idea. For now I'd suggest using a server side script to hide the token from the user. \nIt feels like this should be considered alongside our future plans to support user permissions. \nhttps://trello.com/c/yYTH16N4\nI'm sorry, we can't provide quotes for features. \n\nReply to this email directly or view it on GitHub:\nhttps://github.com/invoiceninja/invoiceninja/issues/701#issuecomment-181380863\n\n\nI use PGP to protect our privacy, if you want to know more, you can\nfollow this\nhttps://emailselfdefense.fsf.org/en/\nIf you have further questions, please do not hesitate to ask.\nYou can verify my public key here: https://keybase.io/pierreozoux\n. And here is the happy ending: https://blog.indie.host/2016/the-author-of-invoiceninja-considered-again-the-license-and-reverted\nA bright start of the day!\n(I think we can close :) )\n. ok, this is actually maybe a duplicate of #93.\n(Yes, I am in the hosting business also)\n. Sorry, I'm using the hosted version :)\n(I report bug/features here, let me know if it is the right place or not?)\n. As a freelancer/user of InvoiceNinja, I'd like to let my clients pay via bank transfer.\nI also would like invoice ninja integrates well with my bank (so I don't need to check regularly my bank account to see if my clients paid me or not.)\nRight now, if I go here:\nhttps://app.invoiceninja.com/settings/bank_accounts\nI can add a bank or import an ofx file (related to #1060 ). This is already awesome.\nNow, ofxhome.com covers mainly US banks.\nAnd weboob is another alternative that has already a lot of french bank, and allows importing data by creating module, from every bank (it doesn't require the bank to have OFX support).\nIs it clearer?\n. I'm not sure you or I understand each other.. you can come to chat here to ease the process maybe:\nhttps://chat.indie.host 9Or do you have a chat I can join?)\nthe idea is really to add an alternative to OFX home with weboob.\nThe same way wepay is an alternative to stripe.\n. You'd have to invite me then: pierre@ozoux.net\n. yes forgot the controller... sorry, I'm no php developer.\nDo you think it would be interesting feature, even for the hosted version?\n. Would you be interested for the hosted version also (no interest in maintaining a  fork). If not, just close the issue.\n. ok thanks\n. For invoice, there could be a specific logic, that it doesn't show if there is just one invoice.\n. A client can create an invoice from the Client Portal ?\n. Thanks a lot, I understood how it works, but have to admit, it is quiet complicated.\nI would add an info box like this (in the buy button section):\nIf you want to activate taxes, go to settings, tax rates and Enable specifying line item taxes.\nThen, edit each product to specify the tax rate to apply.\n. oops, sorry, I think there is something I misunderstand\n. If I hit this endpoint for instance:\nhttps://app.invoiceninja.com/api/v1/clients/2\nI get an html, and not a json.\n. I think you didn't a little mistake in this merge, too much commit for just 1 change.\n(just to let you know, you probably didn't realise)\n. submitted: https://github.com/invoiceninja/invoiceninja/issues/1266 about emails\n. submitted: https://github.com/invoiceninja/invoiceninja/issues/1267 about products. Maybe an expense custom field would do the trick?. to add to @unteem story, and a bit of context, with the \"buy now\" button, we actually received a lot of spam, and we want to delete them.. ah yes sorry, indeed, not users, but clients and contacts. ",
    "obstschale": "I see. That makes things complicated. But I would like that keep this issue in mind. Because using another date format is looking not professionally (especially in german, where all people are always suspicious ;) )\nI don't know your code base, but my first idea would be to separate date parsing and date printing. So you have the ability to echo any string format you want but still be able to parse every date correctly. This could be possible with hidden fields or data-date arguments.\nToday is: <span data-date=\"16.12.31\">31. December 2016</span>\n. ",
    "c33s": "@hillelcoren the usage of dots is no problem for strtotime\nfrom https://secure.php.net/manual/en/function.strtotime.php see 3rd note from the notes section\n\nif the separator is a slash (/), then the American m/d/y is assumed; whereas if the separator is a dash (-) or a dot (.), then the European d-m-y format is assumed\n. as i have seen in composer.json that invoiceninja is using omnipay/gocardless i opened up an issue there:\nhttps://github.com/thephpleague/omnipay-gocardless/issues/9\n. \n",
    "johann8": "Layout of Invoice is broken after i made an update from 2.4.9.6 to 2.5.0.1. See the Screenshot bevor und after update\n\n\nI have a self-hosting Version\n. Unfortunately I don't have this variable $invoiceLineItemColumns. I added this to Stile area\n  \"invoiceLineItemColumns\": {\n    \"width\": [\n      \"15%\",\n      \"\",\n      \"12%\",\n      \"12%\"\n    ]\n   },\nbut it didn't help.\n. Unfortunately, it also does not work.\n. Yes , I'm using \n\"widths\": [\"15%\",\"\",\"20%\",\"12%\",\"12%\"], \n. I have tried\n  \"widths\": [\n    \"15%\",\n    \"*\",\n    \"30%\",\n    \"12%\",\n    \"12%\"\n  ],\nno change.\n. ",
    "starnetwork": "Thanks!\n. +1 for that one...\n. +1 for that one...\n. ",
    "ashimsth": "I got it fixed. Thanks.\n. ",
    "dansleboby": "I think this should be reopen with the new kanban added I don't see why we can't add a gantt. In last version (3.5.1)\n\nPackage guzzle/guzzle is abandoned, you should avoid using it. Use guzzlehttp/guzzle instead.\nPackage chumper/datatable is abandoned, you should avoid using it. Use OpenSkill/Datatable instead.\nPackage league/url is abandoned, you should avoid using it. Use league/uri instead.\nPackage illuminate/html is abandoned, you should avoid using it. Use laravelcollective/html instead.. Do you plan add pdf export shortely?. No, the import \"Work\"\nBut no data is imort because the name of filed change with the language of interface, I guess just adding a message to say you need to import english version of export should do the job :). Hello,\nIf I check in translate file is \"\u00e9\" not\n&eacute;\n\n\n\n. I try client and invoices same results\nNothing in the log :(. Sorry, I found the issues, it was one of my Chrome Extensions :(\nBut in my test I change this file a little bit\napp/Http/Controllers/ReportController.php:107 I add \"return\"\nphp\nreturn self::export($reportType, $params['displayData'], $params['columns'], $params['reportTotals']);\nAnd this is the new export function, it use laravel response instand of raw header and exit\n```php\n private function export($reportType, $data, $columns, $totals)\n    {\n        if (! Auth::user()->hasPermission('view_all')) {\n            exit;\n        }\n    $date = date('Y-m-d');\n\n    $callback = function() use ($data, $columns) {\n        $output = fopen('php://output', 'w') or Utils::fatalError();\n\n        $columns = array_map(function($key, $val) {\n            return is_array($val) ? $key : $val;\n        }, array_keys($columns), $columns);\n\n        Utils::exportData($output, $data, Utils::trans($columns));\n    };\n\n    /*\n    fwrite($output, trans('texts.totals'));\n    foreach ($totals as $currencyId => $fields) {\n        foreach ($fields as $key => $value) {\n            fwrite($output, ',' . trans(\"texts.{$key}\"));\n        }\n        fwrite($output, \"\\n\");\n        break;\n    }\n\n    foreach ($totals as $currencyId => $fields) {\n        $csv = Utils::getFromCache($currencyId, 'currencies')->name . ',';\n        foreach ($fields as $key => $value) {\n            $csv .= '\"' . Utils::formatMoney($value, $currencyId).'\",';\n        }\n        fwrite($output, $csv.\"\\n\");\n    }\n    */\n\n     $headers = [\n        'Cache-Control'       => 'must-revalidate, post-check=0, pre-check=0',\n        'Content-type'        => 'text/csv',\n        'Content-Disposition' => \"attachment; filename={$date}-invoiceninja-{$reportType}-report.csv\",\n        'Expires'             => '0',\n        'Pragma'              => 'public'\n    ];\n\n    return response()->stream($callback, 200, $headers);\n}\n\n```\n. I choose pdfmake to avoid add a new lib for PDF server side and using the exising files. I don't see libraries for PDF server side. I guess Pdfmake can generate PDF on server side but I am not sure how I can do that. \nSo do you want use PDFMake on server side or you want add an other lib to generate PDF on server side, I will Update the code following your answer. . Hello,\nPlease give me a feed back of my work, I'm new with github and Pull Request, I guees I do all right ^^\nI think I need to made some change in test file because I change the param of Export function I will check this tomorrow.\nThanks for help and I love your application ^^. - I chosse mPDF because I don't know why dompdf dosen't work on my computer (Windows 7)\n I got this error:\n\nPHPExcel_Writer_Exception in DomPDF.php line 34: Unable to load PDF Rendering library\n\nBut I see dompdf in vendor :\\\n\n\nFor the autosize, I think we could add options in settings of site, I choose this because it more precise and I prefer a little bit slower render but right col size. On your cloud solution I agree that this can have a big impact, but on the self-hosted versions I do not think the difference is significant\n\n\nI update  columns_labeled I don't why I wrote this like that :P I guess it before when I use PDFMake. I try DomPDF again but when I generate PDF I got, from my browser\n\nERR_INVALID_RESPONSE\n\n\n\nAnd with mPDF all works fine :)\nI change the seetings to read env file and use 'APPROX' as default. normalizeChars\nThis is the best way I can found on internet to remove any special caracter and replace with non accent, exemple \"\u00e9\" => \"e\"\nI use this to prenvent some issues when you export the repport, in export I use the label translated in file name and I need to remove any accent in filename, I think it more user friendely use the translated label for the filename. \nI have three other solution for filename\n- Keep orginal filename in english\n- Use accent in filename\n- Add a transaltion string for repport type without any special caracter\nFor the switch, sorry I miss this in my first reading of your comment, but I think this is the right place for that, because it a global configuration for laravel-excel, do you have a suggestion of where I can move it?. My IDE change indent auto sorry \nI use my notepad to fix that :D. PHPStorm 2016.3.3 from Jet Brains on Windows 7. You right, relogin fix the bug. \n\nThe right currency is USD and I see CAD in report and XLSX. I update and it fix :). ",
    "ikolubr": "Thank you!\n. ",
    "Nothing4You": "Found this and added Illuminate\\Http\\Request::setTrustedProxies(array('127.0.0.1')); to public/index.php right above $kernel = $app->make('Illuminate\\Contracts\\Http\\Kernel'); and that fixed it.\nMight be a good idea to have that in the regular configuration stuff.\n. ",
    "Ahava": "Those are the most recent errors:\nhttp://pastebin.com/SghAU2QH\n. Didn't do anything. Just got this error:\n`\n[2016-03-03 20:42:19] production.ERROR: exception 'Symfony\\Component\\Debug\\Exception\\FatalErrorException' with message 'Call to a member function filter() on null' in /var/www/invoiceninja/app/Libraries/Utils.php:277\nStack trace:\n0 {main}\n`\n. I get this error when trying to run it.\n[Illuminate\\Database\\QueryException]\n  SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'vendors' already exists (SQL: create tablevendors(idint unsigned not null auto_increment primary key,created_attimestamp default 0 not null,updated_attimestamp default 0 not null,deleted_attimestamp null,user_idint unsigned n\n  ot null,account_idint unsigned not null,currency_idint unsigned null,namevarchar(255) null,address1varchar(255) not null,address2varchar(255) not null,cityvarchar(255) not null,statevarchar(255) not null,postal_codevarchar(255) not null,country_idint unsigned null,work_phon\n  evarchar(255) not null,private_notestext not null,websitevarchar(255) not null,is_deletedtinyint not null default '0',public_idint not null default '0',vat_numbervarchar(255) null,id_number` varchar(255) null) default character set utf8 collate utf8_unicode_ci)\n[PDOException]\n  SQLSTATE[42S01]: Base table or view already exists: 1050 Table 'vendors' already exists\n`\n. Commented it out, now I get this error: http://pastebin.com/0y72Wxy8\nThis is the output which migrations havbe run: http://pastebin.com/cHqSuY2z\n. The migrations ran successfully after I commented out everything up until \"expenses\". I'm not running strict mode and still get the \"@parent\" error.\nThis is the only error I get:\n`[2016-03-05 17:19:26] production.ERROR: exception 'Symfony\\Component\\Debug\\Exception\\FatalErrorException' with message 'Call to a member function filter() on null' in /var/www/invoiceninja/app/Libraries/Utils.php:277\nStack trace:\n0 {main}\n`\n. Thank you! It's working again.\n. ",
    "pixeltherapy": "+1 - If it helps, I have experienced this same issue when trialling invoiceninja.com with a slightly modified template, so can confirm it's not imaginary or a self-inflicted bug.\n. ",
    "bzctoons": "Hello\nAfter further investigations :\n- it works on chrome 48\n- it doesn't works on chrome 49\n- it doesn't works on chrome 50 (dev)\n- it works on chrome 51 (canary)\nis there any quick patch to solve the issue ? what files may I update ?\nRegards\nOn Sat, Mar 5, 2016 at 9:03 PM, Hillel Coren notifications@github.com\nwrote:\n\nThanks for letting us know.\nIn the latest code on the develop branch we've replaced the datalists with\na JavaScript typeahead which should resolve this issue. This should be\nincluded with our upcoming v2.5.1 release.\n\u2014\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/755#issuecomment-192720740\n.\n. \n",
    "projectivemotion": "I am using version v2.5.0.3 self-hosted. Here is the output from laravel.log\nI have repeated the event today (03-10) with another payment, and again the invoice status failing to update.\nBelow is the tail from laravel.log\nThe relevant dates are 03-10, and 03-07.\nThe error appears to be:\n/home/invoice/invoiceninja/app/Listeners/SubscriptionListener.php [Line 39] => Trying to get property of non-object\n```\n[2016-02-27 17:52:02] production.ERROR: exception 'ReflectionException' with message 'Class encrypter does not exist' in /home/invoice/invoiceninja/vendor/compiled.php:1068\nStack trace:\n0 /home/invoice/invoiceninja/vendor/compiled.php(1068): ReflectionClass->__construct('encrypter')\n1 /home/invoice/invoiceninja/vendor/compiled.php(1019): Illuminate\\Container\\Container->build('encrypter', Array)\n2 /home/invoice/invoiceninja/vendor/compiled.php(1543): Illuminate\\Container\\Container->make('encrypter', Array)\n3 /home/invoice/invoiceninja/vendor/compiled.php(1111): Illuminate\\Foundation\\Application->make('Illuminate\\Cont...')\n4 /home/invoice/invoiceninja/vendor/compiled.php(1095): Illuminate\\Container\\Container->resolveClass(Object(ReflectionParameter))\n5 /home/invoice/invoiceninja/vendor/compiled.php(1081): Illuminate\\Container\\Container->getDependencies(Array, Array)\n6 /home/invoice/invoiceninja/vendor/compiled.php(1019): Illuminate\\Container\\Container->build('Illuminate\\Cook...', Array)\n7 /home/invoice/invoiceninja/vendor/compiled.php(1543): Illuminate\\Container\\Container->make('Illuminate\\Cook...', Array)\n8 /home/invoice/invoiceninja/vendor/compiled.php(2002): Illuminate\\Foundation\\Application->make('Illuminate\\Cook...')\n9 /home/invoice/invoiceninja/public/index.php(57): Illuminate\\Foundation\\Http\\Kernel->terminate(Object(Illuminate\\Http\\Request), Object(Symfony\\Component\\HttpFoundation\\Response))\n10 {main}\n[2016-03-07 20:46:37] production.ERROR: Payment Error [Offsite-uncaught]: ErrorException [0] : /home/invoice/invoiceninja/app/Listeners/SubscriptionListener.php [Line 39] => Trying to get property of non-object\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://++++HOSTNAME++++/complete\",\"user_agent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36\",\"ip\":\"79.103.203.101\",\"count\":1}                                                                                                                     \n[2016-03-10 00:04:43] production.ERROR:                                                                                            \n {\"context\":\"JavaScript\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://++++HOSTNAME++++/log_error\",\"user_agent\":\"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 2.0.50727)\",\"ip\":\"174.127.133.63\",\"count\":1} \n[2016-03-10 23:32:46] production.ERROR: Payment Error [Offsite-uncaught]: ErrorException [0] : /home/invoice/invoiceninja/app/Listeners/SubscriptionListener.php [Line 39] => Trying to get property of non-object\n {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://++++HOSTNAME++++/complete\",\"user_agent\":\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.116 Safari/537.36\",\"ip\":\"++++ip++++\",\"count\":1}\n```\n. Quick question: To set the status of the paid invoices manually without registering a new payment is it sufficient to set these values in the invoices table:\nstatus = 6 (paid)\nbalance = 0\nDo I need to do anything else?\n. This issue is fixed by specifying the 'fromAddress' value inside $data array.. ",
    "mzdakr": "Thank you!\n. Genshin Gothic is a monospaced font, so each character of the font has same width. Genshin P Gothic is a proportional font of which characters have different width each other. \n. And thank you for your information for updating the currency_id \n. ",
    "javierpose": "Hi\nWhat about the position of currency?\n. Hi\nWhat about the position of currency?\n. Hi\nYes, the currency is ok, but the position of the symbol is not correct. \u20ac should be placed after the number, generally. Other case is percentage symbol, in some languages percentage symbol is placed before the number. Some applications allow you to select the position of symbols respect to the position of number. other applications use a class of the programming language to manage it, such as: http://php.net/manual/en/class.numberformatter.php\n. Hi\nYes, the currency is ok, but the position of the symbol is not correct. \u20ac should be placed after the number, generally. Other case is percentage symbol, in some languages percentage symbol is placed before the number. Some applications allow you to select the position of symbols respect to the position of number. other applications use a class of the programming language to manage it, such as: http://php.net/manual/en/class.numberformatter.php\n. Hi\nThanks, I selected the country and now the symbol of the euro is correctly positioned. Some feature requests:\n- show selected contact (send_invoice) in invoice instead of first contact\n- Add more status to quotes (right now only \"sent\"). Other options?: approved, finished, Unbilled\nThanks\n. Hi\nThanks, I selected the country and now the symbol of the euro is correctly positioned. Some feature requests:\n- show selected contact (send_invoice) in invoice instead of first contact\n- Add more status to quotes (right now only \"sent\"). Other options?: approved, finished, Unbilled\nThanks\n. I am sorry. I forgot that I need to reset the footer in old  invoices.. I made a backup of data base but not of files. I previously updated the application and had a permissions problem that I solved. But now I do not remember how I solved it.. same error after downgrading. I solved the problem:\n- /.htaccess: uncomment line: RewriteRule ^ (. *) $ public / $ 1 [L]\n- change permissions to /public folder to 0755\n- change permissions to /public/index.php file to 0644\n. ",
    "beatbenny": "Great! One question, is this change enough, because it is used in the js files, too?\n. ",
    "vincentdh": "No problem!  I'm also working on a pull request to fix that.\n. This feature would be awesome.!\n. Sorry! I took a look at the issues 5 days ago and didn't post my issue right away... I will take a look before posting next time! ;)\n. I thought this feature could be nice as Mailgun offers 10k free email per month and sending trough API is really faster than the SMTP.\n. ",
    "dinandmentink": "After some more digging I found that there are actually more of this this type of functions used in the codebase. \nI used a search-replace to replace all escapeshellarg() with my_escapeshellarg(). After doing so I got the \"The Process class relies on proc_open, which is not available on your PHP installation.\".\nLooking around a bit, this message seems to come from symfony/process. I'm not sure what process is used for within invoice ninja (maybe for the update script?), but I don't think you are allowed to use functions like proc_open on any shared host.\n. I have been (succesfully) updating since oktober.\n. I am running php 5.6. But I will see if I can persuade my hosting provider to look into it.\n. After some hassle I have upgraded the hosting to php 7.0 and invoiceninja is once again working.\n. Wow, fast response. Will let you guys now if it works after the next release.\n. The filtering now seems to work. However, the report now seems to often show the wrong numbers.\nPlease see attached 2 files of both invoice report and tax report. The top 2 rules for taxes are incorrect, the bottom 1 rule is correct.\n\n\n. Oh. I notice now that the column \"bedrag\" (amount) is also incorrect for the tax report. How it should be in my opinion:\n- Top image is correct, which is the invoice report\n- (for the top row) Bottom image should be \"Bedrag\": 626.19, same as invoice report, \"Tax\": 108.69, \"Paid\", or \"Tax paid\": 108.69\n. Oh. My bad. 2.7.0. Haven't updated yet.\nWas this already changed in a newer version?\n. I have updated to 2.8 and it's now changed indeed. Issue can be closed.\nThanks for the very quick response, sorry for the non-issue.\n. That's fast. I'm out at the moment but will try the changes tonight.. It seems to be working. I have checked the numbers for the last year and found no errors. For what I can see the numbers under the \"amount\" column are now correct.\nHowever. The totals are now wrong. The total invoice amount is shown, where previously it would show the sum of the amount/paid column.\n. Oh. My bad, sorry. I opened the file from my email. Let me double check.. Yeah. That was it. My bad, it seems that opening the file from email gave me the old version.\nIt's fixed now. Thanks a lot.\nAlso, my compliments on the rework of the reports system, it's extremely useful.. I have succesfully reproduced the bug. Please see attached 2 screenshots.\nThe first, this is the invoice that I created. Annual recurring starting today.\n\nThe second, this is after I ran php artisan ninja:send-invoices. As you will see the next invoice is due not in 12 months, but in 6.\n\n. I have a backup of the last installation, both code and database. \nIs there an easy way in which I can see the version provided I have the codebase? Because I am afraid I don't know by heart. It seems I last updated the 17th of february. \nI imported the database locally. It seems that the wrong frequency's were also in the old version of the database. So before the migration. Upon checking further, it is also in the backup of the database of the 14th of february. So it seems that this table has been wrong for quite some time.\nI have updated the frequency table as provided. And am now making sure all the frequency_ids are correct. They are quite some, and I have to manually edit most of them.\nI did notice that the selection box was not changed. To fix this I ran php artisan clear-compiled and php artisan cache:clear.. All the frequency's and next-sent dates now seem to be correct (I changed all of the frequency_ids mannually to 8).\nIn answer to your questions\n- Let me check, I'll update this post when I find one, might take some time.\n- Yes this makes sense. I have only annual recurring invoices, about 40 of them, most have a start date in december. Also, the bug only affects recurring invoices after the first automatic iteration. In other words, if I plan an invoice to start in a year time and then recur annually the first wrong one would be after 1.5 years. What I normally do is send 1 invoice manually and then plan the next one (in a years time). So I would only notice this after 1.5 years. I hope this explanation makes sense.\n- No, I have not manually changed this table.\nUpdate: the oldest backup I have is dated 20160916 and this also has the wrong frequency's. \nUpdate 2: ah, I misread your question. Yes it makes sense I didn't notice the duplicates before. I have created a total of 40 in total and most often when I fill in boxes I click once, press J (jaarlijks) and tab out. I can totally image having missed this for years.. It seems I have updated from 2.8.0 (not completely sure) which I installed on the 17th of februari. \nDoes that make sense with this migration table?\n\nI don't think it's relevant anymore because this has been wrong in my database since 09 2016. I have just upgraded to 3.3.1. I then created a new recurring invoice with startdate today, annually recurring. After running the php artisan ninja:send-invoices command I can confirm that it now correctly places the next recurring date at now+1year.\nSo, to the best of my knowledge this has been fixed. Thanks for the support!. I know.\nSetup:\ninvoice due on 3 aug\nrule that says remind after 20 days\nrun php artisan ninja:send-reminders yields this output;\nThu, 23 Aug 2018 09:12:18 +0000 Running SendReminders...\nThu, 23 Aug 2018 09:12:18 +0000 0 accounts found with fees\nThu, 23 Aug 2018 09:12:18 +0000 1 accounts found with reminders\nThu, 23 Aug 2018 09:12:18 +0000 Dcreative: 0 invoices found\nThu, 23 Aug 2018 09:12:18 +0000 Dcreative: 0 endless invoices found\nThu, 23 Aug 2018 09:12:18 +0000 0 scheduled reports\nThu, 23 Aug 2018 09:12:19 +0000 Done\n. Is there a scope that I could doublecheck with tinker or anything? I tried starting at the command, but am too unfamiliar with the codebase to see how / where the selection is being made.. That does work.\nCould it be in the case where the due date differs from default payment terms that are set with the customer?. Yes, that's what I meant.\nAnyways. Oh. My heavens.\nApparently there is a setting that says that invoices are sent for a customer. I had it turned off for this customer.\nI am so sorry for wasting your time.. ",
    "lancepioch": "This is not a library or framework, it's a specific application with specific releases, it requires a composer.lock file.\n. @hillelcoren Thanks, I was able to strip away all but the first payment and client and then censor (only name, email, address) it while still having the issue. You'll notice the Paid Total column is filled and the Total Due is $0. It puts all the payments in, just doesn't correctly ascertain the already paid.\nhiveage.zip\n. ",
    "anythingtechaus": "Also got this problem, needed everything to work ASAP so i rm -R and did a git clone again, works fine.\n. @lukealford ninja folder. never mind, once i finished the setup again i got this issue.\n\ncat /var/log/nginx/error.log\n```\n2016/03/31 13:48:13 [error] 4012#4012: *3091 FastCGI sent in stderr: \"PHP message: PHP Fatal error:  Uncaught exception 'ReflectionException' with message 'Class log does not exist' in /home/ninja/ninja/bootstrap/cache/compiled.php:1336\nStack trace:\n0 /home/ninja/ninja/bootstrap/cache/compiled.php(1336): ReflectionClass->__construct('log')\n1 /home/ninja/ninja/bootstrap/cache/compiled.php(1290): Illuminate\\Container\\Container->build('log', Array)\n2 /home/ninja/ninja/bootstrap/cache/compiled.php(1848): Illuminate\\Container\\Container->make('log', Array)\n3 /home/ninja/ninja/bootstrap/cache/compiled.php(1391): Illuminate\\Foundation\\Application->make('Psr\\Log\\LoggerI...')\n4 /home/ninja/ninja/bootstrap/cache/compiled.php(1368): Illuminate\\Container\\Container->resolveClass(Object(ReflectionParameter))\n5 /home/ninja/ninja/bootstrap/cache/compiled.php(1354): Illuminate\\Container\\Container->getDependencies(Array, Array)\n6 /home/ninja/ninja/bootstrap/cache/compiled.php(1290): Illuminate\\Container\\Container->build('App\\Exceptions...', Array)\n7 /home/ninj\" while reading response header from upstream, client: xxxx, server: xxxx, request: \"GET / HTTP/2.0\", upstream: \"fastcgi://unix:/var/run/php5-fpm.sock:\", host: \"xxx\"\n```\n. I think i originally had that issue but following the link above, either fixed that specific error but resulted in another or didn't fix it at all. Another link i found suggested i delete the cache, didnt work.\n\nSo even on a fresh install (git clone, composer update/install) it still results in an error. Might have to git checkout the previous release or something.\n. I've got the same, randomly invoices will appear partial in the invoice list.\nhttp://screencloud.net/v/t7qJ\non 2.7.0 but havent seen any commits related to this.\n. Sorry, should of mentioned that mine is not related to discounts. I've applied a full payment in a single payment. Some days invoices will be marked as partial, some full.\n. Just updated to cb6f7fc687cb243fc504c7a8264f278ec94d6700\nStill showing partial. Balance $0.00.\nFrom the invoices table:\n\n(5, 4, 1, 1, 5, '2016-09-16 00:13:54', '2016-09-16 14:35:30', NULL, '11491', 0.00, '', '2016-09-16', '2016-09-16', '', '', 0, 0, 0, NULL, NULL, NULL, NULL, '', '0.000', '1263.81', '0.00', 5, 11, 1, 3, NULL, '0.00', '0.00', 0, 0, 0, 'My terms', '0.00', 0, 0, NULL, NULL, 0, '', '0.000', 0, 1),\n\n. The above invoice is an old invoice. I have not had any new invoices show the partial status but they are also round figures.\nI clicked edit on the invoice and clicked save, refreshed and still showing partial.. Ok so with the offending invoice, i went into phpmyadmin, changed the status to 6 - Paid. Refreshed, shows paid.\nClicked edit invoice, saved.\nNow showing partial.. Changed the line, refreshed, shows partial. Edit/save invoice. Shows partial.\nEdit database, refresh, shows paid. edit/save invoice shows partial.\n. [2017-03-01 10:07:55] production.INFO: 1263.81 [] []\n[2017-03-01 10:07:55] production.INFO: 2.2737367544323E-13 [] []. https://unsee.cc/gidezusa/. Havent saved the invoice but just entering the values into a new invoice results in\nSubtotal    $1,148.91\nTax GST 10% $114.90\nMy items all have inline tax 10%, if that makes a difference.. ",
    "ohid": "oh really? will it be like $5000 or so? \n. ",
    "jeroenpeters1986": "created PR #794 which should resolve the problem. I did test it on my installation already, after a cleared cache the references to the images are updated accordingly :)\n. You are very welcome!\n. I'm sorry, will do!\n. ",
    "bnova-stefan": "It seems that an upgrade to laravel-postmark-provider 3.0 solved the problem with the exception.\nThe problem is then, that the mail header ist just set to text/plain instead of text/html...\nI could solve the problem the following way: \nIn vendor/wildbit/swiftmailer-postmark/src/Postmark/Transport.php \n- Row 167 Instead of $payload['TextBody'] -> $payload['HtmlBody']\n. Yes it depends on the configuration. It works as long you sent no additional pdf invoice as attachment to your customer. I saw that you already reported a similar problem here https://github.com/wildbit/laravel-postmark-provider/issues/2\n. Hi. Thanks for the quick response. \nI did the following process to upgrade to the new version:\n- copy all files cp -r ninja/* /srv/www/vhosts/MY_DOMAIN/subdomains/invoice\n- cd into /srv/www/vhosts/MY_DOMAIN/subdomains/invoices\n- execute composer dump-autoload\n- execute composer update\n- execute php artisan cache:clear\n- execute chown www-data:www-data bootstrap -R\n- call update url in browser http://invoice.MY_DOMAIN/update\nThe output from the SQL-Query is the following:\n+----+----------+--------------------+\n| id | name     | payment_library_id |\n+----+----------+--------------------+\n| 36 | Neteller |                  1 |\n+----+----------+--------------------+\n. I tried to run this, but unfortunately the same error... I get also the same output for the query. \nAny other idea to fix this?\n. Thank you very much!!!\nWorks like a charm :-)\n. Hi Hillel\nThank you for the quick response, but unfortunately that does not solve my problem.\nI had to change the app_key from 16 to 32 characters in the .env file because I got an error message during the installation that the key have to be 32 characters instead of 16.\nCould that be the problem?\n. It was an upgrade. But how can I avoid the error message because of the key length?\n. No I did not have APP-CIPHER set and with your help I could solve the problem now. \nI had to set the APP_CIPHER value to rijndael-128 and then it works again. \nMany thanks for the great work and the perfect support!!! :-)\n. I tried to generate a new key this way, but the problem still occurs. Do I have to change something else, except the .env file,  after generating the new key?\n. Hi codedge\nThanks for the description. I tried this, but I still get the error on the following two pages. All other pages are ok. \nhttps://{host}/settings/online-payment\nhttps://{host}/settings/templates_and_reminders\n. I just copied the files and reloaded the page. The update was successfull.\nIn the browser console I get the following errors.\n\n. I just copied the files and reloaded the page. The update was successfull.\nIn the browser console I get the following errors.\n\n. The error in edit.js seems to be fixed. It was an error with the country settings. I have updated the country settings and now this error has disappeared.\nThere is still the error with \"_margin\":null when trying to render the pdf document.\n. The error in edit.js seems to be fixed. It was an error with the country settings. I have updated the country settings and now this error has disappeared.\nThere is still the error with \"_margin\":null when trying to render the pdf document.\n. Ok I could also fix the margin:null error. After the update, there were empty brackets in my custom invoice template. I just deleted this brackets and everythings works fine now.\n. Ok I could also fix the margin:null error. After the update, there were empty brackets in my custom invoice template. I just deleted this brackets and everythings works fine now.\n. @MathiasRenner \nDo you have still the problem. I had a similar problem and for me was the solution to make an entry to my /etc/hosts file to resolve my domain name. Maybe you have a similar setup.\nTry to ping you domain like: ping your.domain.com. @MathiasRenner \nDo you have still the problem. I had a similar problem and for me was the solution to make an entry to my /etc/hosts file to resolve my domain name. Maybe you have a similar setup.\nTry to ping you domain like: ping your.domain.com. ",
    "derblub": "Interesting. Where should that View as recipient-button usually show up?\n. Nope, not here. Seems like I'll need to dig arround myself to find the issue.\n. Fair enough, it's there. Very well hidden (I expected it to show up like the other buttons), but Ok. Thanks @piyushagrawal!\nWouldn't it be possible to show the live-pdf in an i-frame, in case user_language != client_language, @hillelcoren?\n. > The link is next to the contact as each contact gets its own invitation in order to track them separately.  \nYes, makes sense.\nI think it would help if there was a clear message saying, the preview is not what is being sent, in case like this. No need to over-engineer it.  \nFeel free to close this issue and thanks for the clarification again.\n. Since this is still open, my issue might be related:\nI'm not getting mail-notifications (sent/paid/viewed/accepted), since the last master-release. Can this be a related bug?\n. ",
    "piyushagrawal": "The 'View as recipient' link is on the edit invoice/Quotes page just below Client and Due Date section\n. ",
    "puneetverma05": "Thanks for the response , What you think of angular js as a developer point of view for invoice ninja ? \n. ",
    "danielloader": "Yeah guess I'll have to volume mount ./.env:/var/www/app/.env then? It'll break the entry point script that inserts\necho \"DB_USERNAME=$DB_USERNAME\" >> .env\necho \"DB_PASSWORD=$DB_PASSWORD\" >> .env\nEdit: It injects them fine if it's mounted rw not ro though it injects repeatedly into the same .env if you keep bringing docker-compose down and up again as you'd expect.\nOn the bright side...\n\n\nIt both sent an email to invoice@domain declaring it'd been issued and sent it to my personal gmail to issue the invoice. \nSo I imagine it's a entrypoint.sh issue or the setup php itself writing the config since normally the .env is inside the docker container completely isolated from the user.\n. Yeah guess I'll have to volume mount ./.env:/var/www/app/.env then? It'll break the entry point script that inserts\necho \"DB_USERNAME=$DB_USERNAME\" >> .env\necho \"DB_PASSWORD=$DB_PASSWORD\" >> .env\nEdit: It injects them fine if it's mounted rw not ro though it injects repeatedly into the same .env if you keep bringing docker-compose down and up again as you'd expect.\nOn the bright side...\n\n\nIt both sent an email to invoice@domain declaring it'd been issued and sent it to my personal gmail to issue the invoice. \nSo I imagine it's a entrypoint.sh issue or the setup php itself writing the config since normally the .env is inside the docker container completely isolated from the user.\n. ",
    "Modelizer": "@hillelcoren what if we send paid invoice to the client?\n. @hillelcoren what if we send paid invoice to the client?\n. Fresh installation with latest commit and problem solved. \nThanks.\n. @codedge agreed... Waiting for @hillelcoren approval... Maybe he used rijndael-128 keeping something in mind...\n. Issue fixed by upgrading guzzlehttp to 6.2. I'll run test cases and update you on the successful ratio. Do we have any internals repo to discuss any upcoming features? Because I'm working on challan report kind of feature which is required to know delivery status...\n. Thanks.\n. @codedge done with squashing... :+1: And yes it helps Heroku, I use it frequently.\nAlso, I think I need to make one more PR to update readme requirements doc section.\n. Also, I added PHP minimum requirement.\n. I think by default laravel requires mcrypt. Checkout this post.\n. Also, did you try disabling mcrypt from php then installing laravel or invoiceninja?\n. It seems we not longer require mcrypt! It's been totally removed in 5.1 and invoiceninja is already updated to 5.2.\n@hillelcoren I think those who update their app will no longer require mcrypt. Totally removing mcrypt will be better idea.\n. @hillelcoren If you are using L5 api's for encrypting/decrypting then it will be handled under the hood... But if you have written core PHP then we need to think.\nCan you share some code sample?\nRegarding old users, if they have not updated their code (invoiceninja) then mcrypt will need to be installed, once they update then mcrypt is no longer required...\nAlso, I think we should try to keep invoiceninja as minimal as we can :)\n. This concept is better for websites to collaborate it into 1. @pierreozoux correct me if I'm wrong :)\nCan you explain to us how it can help invoice ninja? This will give us more clarity.\nThanks.\n. So you mean to say that we should provide an API to InvoiceNinja to interact with weboob? \nAnd all the logic which is related to bank config and other stuffs should be push to weboob Interface?\nRight?\n@pierreozoux I'm new to weboob :) \n. Can we use larachat slack? ping me @ mudasir\n. Invitation will be send to you. https://larachat.co/join\n. @pierreozoux what if a user wants to create an invoice? If invoice option is not displaying then a user will not able to add...\n. I analyze it a month back. Let me go through composer.lock file what we can do next :)\n. ",
    "bagbyte": "In my case we just receive the invoices (so basically they are expenses in your data model).\n. In my case we just receive the invoices (so basically they are expenses in your data model).\n. ",
    "bSzala": "I have added another PR #840 with only translation files \n. I have added another PR #840 with only translation files \n. Ok, done\n. Ok, done\n. I will do that. Thx for an awesome application.\n. Can You clarify why swap currency symbol is not used in currencies table and why exists in countries tbl? I don't understand why countries tbl should store currencies fundamental information and why some fields are exactly the same as in currency tbl. (why they are repeated again) \nWhy duplicate this data? \nI can see that Utils class is formatting money, but still cannot understand why only EURO currency can check symbol position. Why not to do that for every currency?\nI am looking forward to hear from you.\n. Ok, so assumption is that the same currencies can be formatted differently depend on a country.\nThx\nCorrect me if I am wrong but I still think that the Utils::formatMoney() method should be changed. \nespecially:\n```\n$swapSymbol = false;\n    if ($countryId && $currencyId == CURRENCY_EURO) {\n\n$country = self::getFromCache($countryId, 'countries');\n            $swapSymbol = $country->swap_currency_symbol;\n```\nWhat if user has an account country set to Poland, but it has a EURO currency set.\nThen from what I understand, because country id is set & currency is euro, statement will pass and then we will try to get a swap_currency_symbol from country set to Poland.  \nWhich in this case would be wrong because Poland row in countries tbl will contain swap symbol data but only for Polish currency. \nWhat do You think about that? Am I completely wrong?\n. No it's not. It was just a dummy example. \nIn my case I will be living in PL and have clients in different countries, so I will end up in \nsituation where I need to use a different currency that polish zloty. \n. Why we cannot do it this way, in currencies tbl we will include the swap field, and then in Utils::formatMoney() method we will load:\n$swapSymbol = $currency->swap_currency_symbol;\nAnd in rear situation when we have a special treatment based on a country, we could override this swap symbol from countries tbl.\nWhat do you think about that?\n. NO worries. Thx\n. Can I import all my last changes to Transifex somehow? So I don't need to type the same translations again?\n. ",
    "gabthefencer": "Hi, \nI found out why, whenever the debug mode is activated the debugbar is not available thus you are not able to receive the Ajax \nEnvoy\u00e9 de mon iPhone\n\nLe 5 mai 2016 \u00e0 01:21, Hillel Coren notifications@github.com a \u00e9crit :\nPlease check for any errors in storage/logs/\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\n. Well as you can see in the screenshot i took this morning, it is still on.  We have updated to version 2.6.5\n\n. Of course, here are the errors.\n\n. This is what i do when i want it to work.  In the current case, i'm having\nissues with it so i want to be in debug mode.  Related to this issue\nhttps://github.com/invoiceninja/invoiceninja/issues/1006\n\n2016-07-21 10:41 GMT-04:00 Hillel Coren notifications@github.com:\n\nPlease try setting APP_DEBUG to false in the .env file\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/843#issuecomment-234274916,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADv-nr38LRMBO-JqHfe25gUIiGTjZqApks5qX4UPgaJpZM4IXtmv\n.\n\n\nGabriel G\u00e9linas\n257 ch. Bas Ste-Th\u00e9r\u00e8se\nBlainville, Qc, Canada\nJ7B 1V6\ngablaptop@gmail.com\ngablaptop@hotmail.com\ngagelinas@msn.com\n. Same is done on Safari\n. I will look for the vendor as it might be an error with it.  It might be a package that was not updated\n. Even after the composer install, i wasn't able to receive proper data.  \nI also got a Reflection error during the composer install\nPHP Fatal error:  Uncaught ReflectionException: Class log does not exist in /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php:734\nStack trace:\n0 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(734): ReflectionClass->__construct('log')\n1 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(629): Illuminate\\Container\\Container->build('log', Array)\n2 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(697): Illuminate\\Container\\Container->make('log', Array)\n3 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(849): Illuminate\\Foundation\\Application->make('log')\n4 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(804): Illuminate\\Container\\Container->resolveClass(Object(ReflectionParameter))\n5 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(773): Illuminate\\Container\\Container->getDependencies(Array, Array)\n6 /data/w in /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php on line 734\nScript php artisan clear-compiled handling the post-install-cmd event returned with an error\n[RuntimeException]\n  Error Output: PHP Fatal error:  Uncaught ReflectionException: Class log does not exist in /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php:734\n  Stack trace:\n  #0 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(734): ReflectionClass->__construct('log')\n  #1 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(629): Illuminate\\Container\\Container->build('log', Array)\n  #2 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(697): Illuminate\\Container\\Container->make('log', Array)\n  #3 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(849): Illuminate\\Foundation\\Application->make('log')\n  #4 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(804): Illuminate\\Container\\Container->resolveClass(Object(ReflectionParameter))\n  #5 /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php(773): Illuminate\\Container\\Container->getDependencies(Array, Array)\n  #6 /data/w in /data/www/ninja/vendor/laravel/framework/src/Illuminate/Container/Container.php on line 734  \n. after looking to make sure that it was all installed by the composer install, i still have issue 863.  And the error from incomplete chunked is still there even though i changed to quoted line in the .env file\n. i have tried... \nstill the same error, here is the .env that i am using\nAPP_ENV=production\nAPP_DEBUG=false\nAPP_URL=http://invoices.ideesdefous.com\nAPP_KEY=o*X\nDB_TYPE=mysql\nDB_HOST=localhost\nDB_DATABASE=ninja\nDB_USERNAME=ninja\nDB_PASSWORD=ninja\nMAIL_DRIVER=smtp\nMAIL_PORT=587\nMAIL_ENCRYPTION=tls\nMAIL_HOST=smtp.gmail.com\nMAIL_USERNAME=info@ideesdefous.com\nMAIL_FROM_NAME=\"Les Idees de Fous\"\nMAIL_PASSWORD=***\nPHANTOMJS_CLOUD_KEY=\"ak-eqswk-1jyaf-rb***-51k3h-nkge3\"\n. When i do a composer install, not anymore... So this fixes the problem from the log file.   Now for the incomplete chunked, i tried adding to the nginx file\nproxy_http_version 1.1;\nAs it shouldn't send chunked data but it still gives the error....\n. I run OS X without anti-virus and I tried the first part from the topic you\nsent me.  Didn't worked\n2016-07-21 11:47 GMT-04:00 Hillel Coren notifications@github.com:\n\nDo you have an anti-virus running?\nhttp://thisinterestsme.com/err_incomplete_chunked_encoding/\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1006#issuecomment-234296115,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADv-nhObvZywkGr-V-LI4Sc7mlSzcpWRks5qX5SdgaJpZM4JR3Qg\n.\n\n\nGabriel G\u00e9linas\n257 ch. Bas Ste-Th\u00e9r\u00e8se\nBlainville, Qc, Canada\nJ7B 1V6\ngablaptop@gmail.com\ngablaptop@hotmail.com\ngagelinas@msn.com\n. This will be my next step i think\n2016-07-21 12:38 GMT-04:00 Hillel Coren notifications@github.com:\n\nYou could try a clean install. It's easier to use our self host zip as it\nincludes the third party libraries. You'd need to backup/restore the\ndatabase and keep the .env file.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1006#issuecomment-234311169,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADv-nufyRaLbCKflhYNisuomsllPd_Grks5qX6CjgaJpZM4JR3Qg\n.\n\n\nGabriel G\u00e9linas\n257 ch. Bas Ste-Th\u00e9r\u00e8se\nBlainville, Qc, Canada\nJ7B 1V6\ngablaptop@gmail.com\ngablaptop@hotmail.com\ngagelinas@msn.com\n. I'll be updating once the reinstall will be done.  As it's in production, i need to make backup of the databases before continuing.\n. Not yet, we will be performing the fresh install tomorrow... I will give comments @ the time\nEnvoy\u00e9 de mon iPhone\n\nLe 1 ao\u00fbt 2016 \u00e0 03:50, codedge notifications@github.com a \u00e9crit :\n@gabthefencer any updates ?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub, or mute the thread.\n. After reinstalling, i still have the same problem... Even if i used your .zip\n. Important notice, whenever updating it is important to check for the logo as it is not following when moving directories... It might make the browser give error \n. Even after i tried a second attempt, i still have the same problem....  There is data in this one\n\n. I'll be checking for the latest update to test \n. not more....\n. No the problem is still present....\n\n2016-08-04 14:40 GMT-04:00 codedge notifications@github.com:\n\n@gabthefencer https://github.com/gabthefencer Not more? So the problem\ndoes not occur anymore?\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1006#issuecomment-237644772,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADv-npPXtU4s1ezaVkROSIRqASCvKsNOks5qcjI2gaJpZM4JR3Qg\n.\n\n\nGabriel G\u00e9linas\n257 ch. Bas Ste-Th\u00e9r\u00e8se\nBlainville, Qc, Canada\nJ7B 1V6\ngablaptop@gmail.com\ngablaptop@hotmail.com\ngagelinas@msn.com\n. Hi @hillelcoren,\nAfter reviewing a couple of the other bugs your are fixing, I saw the one about rijndael-128... After commenting it in my .env file, I am not receiving the error as a incomplete chunked encoding but rather a \nNo URL Provided in the built.js\n. I'll be doing so tomorrow, i will give you news ASAP.  It might also be because I'm using php7\n. Might be NGINX\n2016-08-10 11:05 GMT-04:00 codedge notifications@github.com:\n\n@gabthefencer https://github.com/gabthefencer I am running the latest\nversion of IN on a PHP7+Apache 2.4.8 install. No problem at all. I don't\nthink this is related to PHP7.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1006#issuecomment-238896245,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADv-nqCvrjjR5RI_TbO6V2tlPu14KRSqks5qeeixgaJpZM4JR3Qg\n.\n\n\nGabriel G\u00e9linas\n257 ch. Bas Ste-Th\u00e9r\u00e8se\nBlainville, Qc, Canada\nJ7B 1V6\ngablaptop@gmail.com\ngablaptop@hotmail.com\ngagelinas@msn.com\n. Error really is coming from the server... I changed it to another server and it worked... What test should I do to look for the error?\n. It doesn't seem to give me incomplete chunked encoding anymore but the built.js error with the missing column is always present\n. here are the query string that are giving the errors[\nUncaught Error: No URL provided.: {\"functionName\":\"k\",\"fileName\":\"http://invoices.x.com/built.js?no_cache=2.6.8\",\"lineNumber\":27173,\"columnNumber\":1967}]\n. It really might be because of Chrome, It is working on safari now that i did the change @hillelcoren gave me...  \n@codedge the plugins i have on chrome are uBlock origin, analytics, spdy tracker, dropbox, whatfont, google drive\n. Hi Guys, the error wasn't there any more but as soon as I started sending emails, the error came back.  Do you have any idea why?\n. ",
    "osax": "Yes, please, there si my translation.\nCheers\nOsman\nOn 6 May 2016 at 13:18, Hillel Coren notifications@github.com wrote:\n\nSorry, I just noticed you've updated the English rather than adding Czech\nversion. If you'd like I can handle correcting it for you.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/pull/844#issuecomment-217414220\n. \n",
    "alexpaluzzi": "That did it. Thank you sir!\n. Ah. Thanks so much.\nCheers\n. ",
    "gblachonupg": "Oh yes, i'm sorry\n. ",
    "dmiangrcia": "Hi Hillel, thanks for the reply I'm new to github so I'm not sure if I created the Pull Request in the right place. I would like to propose some more features, did I create this PR in the right place? or should I do it somewhere else? Also, should this one remain open until done? Thanks and sorry my ignorance :)\n. ",
    "lexzz": "Thank you for your fast response!\n\nI'm going to try your solution\n. Update successful! \nThank you \n. This would be a very nice feature!. Thank you for your quick response.\nI tried to change the date but the problem exists.\nEven when creating a new invoice.. Tried to create a new invoice:\n\n(Jaarlijks means yearly)\nI have no idea why this is happening\nAlso found the \"jaarlijks\" two times in the selection list\n\n. \n. Yes, ever had some trouble upgrading but now everything seems to upgrade fine.\nIs there a way to fix it? Or maybe check the installation?. The manual correction seems to fix the problem.\nIn the fronted list there is still two times \"yearly\".\nIs there a way to backup all data and import it in a clean installation?. \"?clear_cache=true\" solved the problem in the list.\nThank you for the support!. ",
    "peXed": "Hello.\nAny news or progress on this? @JeramyNS do you need help?\nI'm highly interested in this topic, because I can't really use a service like phantomjscloud here in Germany. The data protection laws are very strict and prohibit sending the data of clients to servers outside of the European Union.\n. Thanks for you reply.\nThe law is called \"Bundesdatenschutzgesetz\" and the specific part of the law is in \u00a7 4b. It is common law and not specific to any industry. As far as I know it is also a version of a European Law (and therefore not only German is affected) from 2010, since the \"Safe Habor\" agreement was canceled.\n. Yes, you can store/process the data outside of the EU, but they need to follow the exact guidelines which is very, very complicated.\nIt would also impact the reputation of a German company if they will store such information in the US or other countries outside of the EU. After the NSA scandals, the Germans are even more protective about their data.\n. ",
    "ohaucke": "Any progress on this topic to include the functionality?. ",
    "cydvd": "This fix the error for me too in v2.7.2, but after that a new exception raise up:\nRuntimeException in GatewayFactory.php line 105: \nClass '\\Omnipay\\Alipay\\ExpressGateway not found\nThe exception is also reported in #1091.\n. I've tried composer install, but the exception raises up anyway.\n. I'm stick with v2.7.2, anyway I was still working with the modified composer.lock. A fresh chekout and composer install did the job, as you point out. No need to update DB. Thank you!\n. ",
    "jaredtrouth": "Seems that this was just some cached javascript. Thought I'd cleared cache, but apparently not. PDF creation worked after disabling cache in Firefox\n. ",
    "JosepEscobar": "Nop, not is the solution for discounts inline\nEdit: I need discount in line, this discount not aplied on TAX VAT for example...\nFor example: \n1 - bottle of beer - $3 - 1unit - 50%discount - $1.5\nif VAT TAX is 10%  -> $0.15 and total $1.65\nIn your solution VAT TAX is aplied on real price, not on discounted ... like this:\n10% of $3 ->  $0.3 and total $1.8\nnot aplied inline, aplied at end...\n. ",
    "ssstofff": "Hi, is this still on wish list?. ",
    "chab": "Not sure which one you're saying is a mistake, but i'll assume it's the one in public/js since it's make more sense to build it via Bower. Thanks for the quick reply!\n. ",
    "budhajeewa": "Thanks for merging @hillelcoren. Closing this now.\n:+1: \n. @hillelcoren When do you plan to do the next merge from develop to master?\n. Thanks @hillelcoren ! Looking forward to see this in master. :smiley: \n. ",
    "haleksandre": "I've fixed the paidToDate typo and created a new pull request against the develop branch.\nGood catch with the typo!\n. The \"A non-numeric value encountered\" error seems to persist still.\n```\nErrorException: A non-numeric value encountered in /var/www/invoice/app/Providers/AppServiceProvider.php:196 Stack trace: \n0 /var/www/invoice/app/Providers/AppServiceProvider.php(196): Illuminate\\Foundation\\Bootstrap\\HandleExceptions->handleError(2, 'A non-numeric v...', '/var/www/invoic...', 196, Array)\n1 [internal function]: App\\Providers\\AppServiceProvider->App\\Providers{closure}('invoice_items', Array, Array, Object(Illuminate\\Validation\\Validator))\n2 /var/www/invoice/vendor/laravel/framework/src/Illuminate/Validation/Validator.php(3180): call_user_func_array(Object(Closure), Array)\n```\nLike @projectivemotion mentioned it seems to be the $item['qty'] that is causing the non-numeric error, which hasn't been touched in the pull request #1259 that closed this issue.\nA simple fix could be to simply cast the variable as an int:\nphp\n$qty = isset($item['qty']) ? (int) $item['qty'] : 1;. @turbo124 I was on master, I just noticed that in develop isset() was changed to ! isempty(), on the lines causing the error, which seems to have fix it. Apologies.. ",
    "JacobDB": "Ah! Thanks much, surprised it's not there already. Luckily I only have one one invoice and one client so far, so not a huge deal if I have to manually move :)\n. Do you have a scheduled date for the next release by chance?\n. Great, thanks!\n. Actually I was finally able to update just now. Weird, tried it like 6 times before and it kept failing. Will report back in a few days and close the issue if it's no longer occurring.\n. Well crap, literally immediately after posting that it's doing it again -_-\n. @hillelcoren most recent error:\n[2016-11-17 23:53:47] production.ERROR: PDOException: SQLSTATE[HY000] [2002] No such file or directory in /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php:55 Stack trace: #0 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connectors/Connector.php(55): PDO->__construct('mysql:host=loca...', 'mydatabase', 'mypassword', Array) #1 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connectors/MySqlConnector.php(24): Illuminate\\Database\\Connectors\\Connector->createConnection('mysql:host=loca...', Array, Array) #2 /var/www/ninja/bootstrap/cache/compiled.php(11902): Illuminate\\Database\\Connectors\\MySqlConnector->connect(Array) #3 [internal function]: Illuminate\\Database\\Connectors\\ConnectionFactory->Illuminate\\Database\\Connectors\\{closure}() #4 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php(924): call_user_func(Object(Closure)) #5 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php(792): Illuminate\\Database\\Connection->getPdo() #6 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php(677): Illuminate\\Database\\Connection->reconnectIfMissingConnection() #7 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php(349): Illuminate\\Database\\Connection->run('select * from `...', Array, Object(Closure)) #8 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(1610): Illuminate\\Database\\Connection->select('select * from `...', Array, true) #9 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(1596): Illuminate\\Database\\Query\\Builder->runSelect() #10 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(625): Illuminate\\Database\\Query\\Builder->get(Array) #11 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(316): Illuminate\\Database\\Eloquent\\Builder->getModels(Array) #12 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(286): Illuminate\\Database\\Eloquent\\Builder->get(Array) #13 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(167): Illuminate\\Database\\Eloquent\\Builder->first(Array) #14 /var/www/ninja/bootstrap/cache/compiled.php(1009): Illuminate\\Database\\Eloquent\\Builder->find(1) #15 /var/www/ninja/bootstrap/cache/compiled.php(512): Illuminate\\Auth\\EloquentUserProvider->retrieveById(1) #16 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Auth/GuardHelpers.php(49): Illuminate\\Auth\\SessionGuard->user() #17 /var/www/ninja/app/Http/Middleware/Authenticate.php(24): Illuminate\\Auth\\SessionGuard->check() #18 [internal function]: App\\Http\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'user') #19 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #20 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #21 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #22 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #23 /var/www/ninja/bootstrap/cache/compiled.php(10006): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #24 /var/www/ninja/bootstrap/cache/compiled.php(8284): Illuminate\\Pipeline\\Pipeline->then(Object(Closure)) #25 /var/www/ninja/bootstrap/cache/compiled.php(8275): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request)) #26 /var/www/ninja/bootstrap/cache/compiled.php(8265): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request)) #27 /var/www/ninja/bootstrap/cache/compiled.php(2419): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request)) #28 [internal function]: Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}(Object(Illuminate\\Http\\Request)) #29 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #30 /var/www/ninja/app/Http/Middleware/StartupCheck.php(47): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #31 [internal function]: App\\Http\\Middleware\\StartupCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #32 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #33 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #34 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #35 /var/www/ninja/app/Http/Middleware/QueryLogging.php(29): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #36 [internal function]: App\\Http\\Middleware\\QueryLogging->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #37 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #38 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #39 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #40 /var/www/ninja/app/Http/Middleware/DuplicateSubmissionCheck.php(36): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #41 [internal function]: App\\Http\\Middleware\\DuplicateSubmissionCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #42 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #43 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #44 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #45 /var/www/ninja/bootstrap/cache/compiled.php(3225): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #46 /var/www/ninja/app/Http/Middleware/VerifyCsrfToken.php(54): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #47 [internal function]: App\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #48 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #49 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #50 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #51 /var/www/ninja/bootstrap/cache/compiled.php(13531): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #52 [internal function]: Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #53 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #54 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #55 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #56 /var/www/ninja/bootstrap/cache/compiled.php(12021): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #57 [internal function]: Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #58 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #59 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #60 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #61 /var/www/ninja/bootstrap/cache/compiled.php(13270): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #62 [internal function]: Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #63 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #64 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #65 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #66 /var/www/ninja/bootstrap/cache/compiled.php(13207): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #67 [internal function]: Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #68 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #69 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #70 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #71 /var/www/ninja/bootstrap/cache/compiled.php(3286): Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #72 [internal function]: Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure)) #73 /var/www/ninja/bootstrap/cache/compiled.php(10021): call_user_func_array(Array, Array) #74 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Illuminate\\Http\\Request)) #75 /var/www/ninja/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #76 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing\\{closure}(Object(Illuminate\\Http\\Request)) #77 /var/www/ninja/bootstrap/cache/compiled.php(10006): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request)) #78 /var/www/ninja/bootstrap/cache/compiled.php(2366): Illuminate\\Pipeline\\Pipeline->then(Object(Closure)) #79 /var/www/ninja/bootstrap/cache/compiled.php(2350): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request)) #80 /var/www/ninja/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request)) #81 {main} [] []\n. @turbo124 how would I check if it's running out of memory? And what would I do to correct this, simply add more memory?\n. @turbo124 I just bumped the RAM from 512 MB to 1024 MB, so we'll see if that makes a difference.\n. @turbo124 it's running on Ubuntu 16.04. I don't see any errors output with either of those commands right now, but if it breaks again, I'll run the command again and see what it says. Thanks.\n. No issues since upgrading the RAM to 1 GB. That's costing me an extra $5 per month, though, so I'm going to try shrinking it back down to 512 MB and trying @hillelcoren's suggestion.. Shrinking back down to 512 MB I started getting the error again. So I guess it was just that I needed to upgrade my RAM. Kind of annoying, doubles my hosting cost, but oh well. Thanks for the help guys!. Trying to follow the information from this page, I ran sudo php artisan optimize, and I got the following error:\n[Symfony\\Component\\Debug\\Exception\\FatalThrowableError]          \nClass 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found. Running sudo composer install, it gets to:\n- Installing turbo124/notification-pusher (v3.0.0)\n  Downloading: 100%\n\nAnd then throws the following error:\n[ErrorException]\nfile_put_contents(/var/www/ninja/vendor/bin/np): failed to open stream: No such file or directory . Related to the above, when I run `ls -l` in `/var/www/ninja/vendor/bin`, `np` shows up red. Not sure what that means exactly, will Google it.... Ah! Yes, looks like my notes did have the GitHub URL. I'll roll back the server and try updating from the link you just provided instead. If that works, I'll update my notes and close the issue. Thanks much :). That did it! I've updated my notes so it won't happen again in the future. Thanks again!.\n",
    "perguth": "\nto fix it we'd need Invoice Ninja to store the payment gateway limits.\n\nAs a backend user that would already be acceptable and a good solution: I could simply enter that value together with my credentials.\n. Okay, thanks :)\n\nOn 18.06.2016, at 20:49, Hillel Coren notifications@github.com wrote:\nI'm not sure this should be an option, if you'd like to change it for your app you should be able to implement it by adding the following line of code to around line 150 in ContactMailer.php\n$variables['password'] = $invitation->contact->password;\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Ah, I see. My clients speak german but I chose the english backend.\n\n\nSo, is this a close or could the german format be made available?\n. I am on v2.5.2.2 @codedge. Until now I updated the codebase by just running git pull. To be sure I just manually triggered the DB migration which results in Nothing to migrate. The list still lacks the german format. Even when switching to german:\n\n\n. Thanks! But still no luck. I tried the following:\n``` sh\ncat storage/version.txt\n2.5.2.2\ncomposer dump-autoload --optimize\nGenerating optimized autoload files\nphp artisan optimize --force\nGenerating optimized class loader\nCompiling common classes\nphp artisan migrate\n********\n*     Application In Production!     *\n********\n\nDo you really wish to run this command? [y/N] (yes/no) [no]:\n> y\n\nNothing to migrate.\nphp artisan db:seed --class=UpdateSeeder\n********\n*     Application In Production!     *\n********\n\nDo you really wish to run this command? [y/N] (yes/no) [no]:\n> y\n\nRunning UpdateSeeder...\nSeeded: PaymentLibrariesSeeder\nSeeded: FontsSeeder\nSeeded: BanksSeeder\nSeeded: InvoiceStatusSeeder\nSeeded: CurrenciesSeeder\nSeeded: DateFormatsSeeder\nSeeded: InvoiceDesignsSeeder\nSeeded: PaymentTermsSeeder\nSeeded: LanguageSeeder\n```\nThen opening /dashboard?clear_cache=true (seeing the cache cleared message) and pressing Ctrl + Shift + r while being on /settings/localization.\nAfter that the german as well as english localization still lack the german date format.\n. sql\nmysql> select * from date_formats;\n+----+----------+---------------+--------------------+\n| id | format   | picker_format | label              |\n+----+----------+---------------+--------------------+\n|  1 | d/M/Y    | dd/M/yyyy     | 10/Mar/2013        |\n|  2 | d-M-Y    | dd-M-yyyy     | 10-Mar-2013        |\n|  3 | d/F/Y    | dd/MM/yyyy    | 10/March/2013      |\n|  4 | d-F-Y    | dd-MM-yyyy    | 10-March-2013      |\n|  5 | M j, Y   | M d, yyyy     | Mar 10, 2013       |\n|  6 | F j, Y   | MM d, yyyy    | March 10, 2013     |\n|  7 | D M j, Y | D MM d, yyyy  | Mon March 10, 2013 |\n|  8 | Y-m-d    | yyyy-mm-dd    | 2013-03-10         |\n|  9 | d-m-Y    | dd-mm-yyyy    | 20-03-2013         |\n| 10 | m/d/Y    | mm/dd/yyyy    | 03/20/2013         |\n+----+----------+---------------+--------------------+\n10 rows in set (0.00 sec)\n. I fixed it the following way. Thank you very much for the feedback!\nMy update script (basically just a git pull) didn't fully work because of my local changes:\ngit\nerror: Your local changes to the following files would be overwritten by merge:\n    config/app.php\nI stashed my changes (git stash), ran the update (git pull), applied the stash (git stash apply) , resolved a conflict in config/app.php and then ran the manual migration procedure mentioned above. This time getting feedback about a few performed migrations.\nNow I can select the german date format. \ud83d\udc4d \n. - I have upgraded my version to 4.4.0\n- Generated a new key php artisan key:generate\n- Verfied it's correctly saved to the .env file\n- Have run php artisan config:cache && php artisan cache:clear\n- ... and php artisan clear-compiled\nAfter the login I see the first MAC exception. When I reload I can see the dashboard. I can move around but when I want to open an individual invoice (URL: /invoices/xxx/edit) the MAC exception appears again.. I restored my old APP_KEY in the .env file. But the command complains: Error: app key and cipher are not set.. I have a key of the form APP_KEY=DoEni6OM.... and had a APP_CIPHER=AES-256-CBC entry too. But I remember that I left of trying to upgrade. I guess I added that app cipher entry because of the error.. Can I somehow reset all that? When I look into my database I see all the relevant values and descriptions.. Yes. But it could be that I have lost the original APP_KEY and tried a (old but) generated one.. That would be alright \u2764\ufe0f ! I just need to access my invoices. So just delete the records there and then ...?. Thank you! That helped! I can now access my invoices again!. Hm. What can I do? I am currently on v2.7.2.\n. ",
    "jonathannz": "Thanks for coding this.\nHas it been confirmed as working?\nI've attempted to use it, but to no avail.\nThe Send Test Message feature says it was \"Sent\" no matter what settings I put in there.\nDoes it require a particular outgoing port to be open in the firewall (other than 80 or 443) ?\nCan I suggest the requested field labels match the labels used by Mailgun? For example, \"API Key\" where \"Password\" is requested. As for \"Username\", it's not clear to me what this field refers to.\nCheers...\nJonathan. ",
    "mikey242": "Could we add support for Mailgun's EU servers? It looks like it just requires a simple change in the API url:\nUS: https://api.mailgun.net/v3/\nEU: https://api.eu.mailgun.net/v3/\nThanks. More information can be found here:\nhttps://documentation.mailgun.com/en/latest/api-intro.html#mailgun-regions\nI'm basing this on the fact that the response from sending a test message is:\n\nClient error: POST https://api.mailgun.net/v3/mg.mydomain.com/messages.mime resulted in a 404 NOT FOUND response: { \"message\": \"Domain not found: mg.mydomain.com\" } \n\nIn my mailgun dashboard it says that my API Base URL is https://api.eu.mailgun.net/v3/mg.mydomain.com. ",
    "brianjking": "I'm happy to assist on this @hillelcoren. Are you using Sphinx or MkDocs to generate the docs?\n. ",
    "cweagans": "Does Invoice Ninja actually use mcrypt anywhere? I know it used to be required by Laravel, but that's no longer the case. If it's not needed, you shouldn't encourage people to install it. The quicker that extension can die, the better, IMO.\n. @hillelcoren Laravel no longer requires mcrypt for anything. It used to, but it doesn't now. I'll do some testing and figure out where the dependency is. Would you accept a PR that removes dependency on ext-mcrypt if I opened one?\n. @Modelizer That's from 2014. Dependency was removed in 5.1. https://github.com/laravel/framework/pull/9041\n. FWIW, I started working on an mcrypt polyfill some time ago: https://github.com/cweagans/mcrypt-polyfill\u00a0It's another of many projects that I don't have the bandwidth for right now, but someday, it'll be a valid option for replacing dependencies on ext-mcrypt.\nRight now, though, keep in mind that many ciphers and modes are implemented in multiple encryption libraries. If you're using mcrypt for a cipher/mode right now, and openssl provides the same cipher/mode, you can just swap out the encryption provider in Laravel with no negative effects - it's the same algorithm, so all of the data that's saved should still be valid.\nThat said, I'd love to know more about what data is being stored encrypted in the database. I can open a new issue for this if necessary, but it seems to be that the only thing that ought to be encrypted is credit card data, and if credit card data is being stored in the database (even encrypted), I actually can't use Invoice Ninja at all.\n. ",
    "philkry": "I do face the same problem with version 2.6.5\n. I used the Dockerfile from https://github.com/invoiceninja/dockerfiles.\nAfter adjusting ENV INVOICENINJA_VERSION 2.6 to ENV INVOICENINJA_VERSION 2.6.5 the above error occurs on building the Dockerfile\n. ",
    "thiagoalmeidasa": "I do face the same problem with version 2.6.5\nContent of composer.json:\njson\n{\n            \"type\": \"package\",\n            \"package\": {\n                \"name\": \"gatepay/FedACHdir\",\n                \"version\": \"dev-master\",\n                \"dist\": {\n                    \"url\": \"https://github.com/gatepay/FedACHdir/archive/master.zip\",\n                    \"type\": \"zip\"\n                },\n                \"source\": {\n                    \"url\": \"git@github.com:gatepay/FedACHdir.git\",\n                    \"type\": \"git\",\n                    \"reference\": \"origin/master\"\n                }\n}\nI think do you need to change the source from git@github.com:gatepay/FedACHdir.git to https://github.com/gatepay/FedACHdir.git , like @codedge already said.\n. Sorry, how it worked without the GOOGLE_MAPS_API_KEY before, I forgot to put in .env , thanks.\n. Leave this.\nIt's working on 2.6.10\n. ",
    "teleyinex": "This is soooo great! We've been working in a small solution as we didn't know about this. When will be this integrated into the Enterprise solution?\n. GREAT\nOn Wed, Jul 13, 2016 at 12:12 PM Hillel Coren notifications@github.com\nwrote:\n\nProbably around 6-8 weeks\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/971#issuecomment-232314363,\nor mute the thread\nhttps://github.com/notifications/unsubscribe/AAIC_vgsbDlrVPXFJ_TU7xfpkT8L6XQ1ks5qVLoCgaJpZM4JKXMH\n.\n\nDaniel Lombra\u00f1a Gonz\u00e1lez\nhttp://daniellombrana.es/?utm_source=Personal%20email&utm_medium=email&utm_campaign=Signature\nFounder\nScifabric http://scifabric.com\n\nCo-Founder & Project Lead\nCrowdcrafting\nhttp://crowdcrafting.org/?utm_source=Daniel&utm_medium=email&utm_campaign=Signature\n:: PyBossa\nhttp://pybossa.com/?utm_source=Daniel&utm_medium=email&utm_campaign=Signature\nFellow\nThe Shuttleworth Foundation\nhttp://www.shuttleworthfoundation.org/fellows/daniel-lombrana/\nSenior Researcher\nCitizen Cyberscience Centre http://citizencyberscience.net\nChat with me on our public webchat http://slackin.crowdcrafting.org/\n. Thanks! This is really helpful.\n. OK, I've found this post That says it's possible. Testing it.\n. Thanks! It works really well!!\n. OK, thanks! It's a pity, because without this solution it'll affect the UX for the final user. Maybe I'll create via the API a standard invoice, and then by hand the recurring. I'll think about it ;-) \n. Would be possible to add this feature to a next release?\n. I'm using your hosted version, so unless that's possible via the API, I'll not be able :D\n. Yes, that'll be perfect! :-)\n. Just found the problem. I was sending the same invoice_items out of the dict, and the API gets them as the default, creating the invoice with only that data. Should the API return an error?\n. ",
    "limeframe": "@codedge you can find attached 3 images to understood the position.\nImage (003-New/Edit-Client.jpg) Add the tax office value to clients database\n\nImage (001-client-card.png) -> View Client\n\nImage (002-invoice.jpg) -> Invoice\n\n@hillelcoren Yes i tried to use a custom field but i think that :\n1. a real field in clients table is the best choice for future FutureRequests ;-) like reports by tax office, printings etc\n2. I am using the custom fields for other labels \nThanks for your Replies\n. @hillelcoren, I understand, but probably you haven't heard Tax Office before, because invoice ninja probably isn't popular in Greece (yet) :-) \nI think that is a reason (with some additions) to be famous and in Greece.\nIn any case i will use invoice ninja and i will write this mod for my installation. \nBut the others (greek clients with no programming skills) cannot do this and cannot use invoice ninja without Tax Office (\u0394.\u039f.\u03a5. in Greek) field. \nAny way! You are the chief :) \nThanks\n. ",
    "KRens": "\nSorry, first time I commit on something third party.\n  Will read contribution guide first next time.\nI started with rounding to 3, but then I still had issues with some invoices.\n  In the end I changed some to 4, just until everything started working.\n  Would you like me to test it again some time with 4 everywhere?\nProbably qty doesn't need adjusting to 3 decimals. I don't know your code properly, so I just changed everything.\nA function \"roundToFour\" already exists, but just replacing everywhere \"roundToTwo\" with \"roundToFour\" dit not work, as you applied some extra functions on the last one.\n  They are not identical. Tried it and it didn't work.\n  I could rename \"roundToTwo\" with something else, or make a new function, but I was afraid I would open pandora's box.\n  As far as my tests goes, changing it globally to rounding to 4 should work and should not cause any issues. Users who don't want to use it can simply ignore it and type only 2 digits.\n. \n",
    "oscarotero": "Ok, got it.\nThank you\n. ",
    "blazerunner44": "Not for my use case, but maybe for others?\n. ",
    "donttrustem": "No errors, but it is constantly prompting to download a PDF even thought the live preview is not checked.  Just warnings ... I am using Firefox\n\n. Yes .... \n. OK ... thanks.  I will use Safari for now.   Strange issue I change the location form English to Spanish and it lost my customization of the invoice. \n. I will try.   is is possible to add bank payment details to the invoice details... or is it just online payment options.\n. None of the pages that allow you to display the invoice work ...   No errors either.   . I have switched on debug as well.   No errors\n. \n. Hi ... I checked the console and I am getting errors \n\n\n. Do you think Phantomjs could be causing the issue?. I get the same problem \n\n. Yes ...   I have saved the form and ran the query but it is still not displaying.   I have even tried a new install and have the same problem.. I have tried all what you have suggested but I don't seem to have Try enabling the JS PDF viewer on /settings/account_management\n\n. Hmm! ... nope no change... even cleared the cache.   This a bizzare issue, I have installed chrome and it works....   :(. Safari 9.1.1 and Firefox  52.0. Nope never worked in either browser. Same problem\n\n. Viewing a clients invoice in chrome  is broken as well\n\n. Testing for Chrome.\nTest 1\n1. settings>invoice_design displays invoice designs.\n2. settings>customize_design displays design.\n3. invoices>2>edit iinvoice not displayed\n4. url sent to client via email > displays invoice\n5. settings>account_management PDF settings Live preview and PDF viewer disabled.\nTest 2\n1. settings>invoice_design displays invoice designs.\n2. settings>customize_design displays design.\n3. invoices>2>edit_invoice invoice  displayed\n4. url sent to client via email > displays invoice\n5. settings>account_management PDF settings Live preview enabled and PDF viewer disabled.\nTest 3\n1. settings>invoice_design does not display invoice designs.\n2. settings>customize_design does not display design.\n3. invoices>2>edit_invoice invoice  not displayed\n4. url sent to client via email > does not display invoice\n5. settings>account_management PDF settings Live preview enabled and PDF viewer enabled.\nHere is the bizarre part.\nFirefox and Safari are now working with settings>account_management PDF settings Live preview enabled and PDF viewer enabled.   I have no idea why.\nConclusion:\nEverything seems to be pointing to the PDF settings.  It might be possible that Firefox and Safari are working because of a combination of turning on and off the different options.\nI will continue to use the app and feedback any issues.  \n. This is getting crazy now ...  [removed link]   I switch both option in the PDF section and now Firefox is not working but Safari and Chrome are working.   It is so inconsistent.. That fixed it ....   :). Ok tried that now I get \nA new version of Invoice Ninja is available. You're running v3.1.2, the latest is v3.1.3 \nBefore it was saying 3.1.1  so it have change to 3.1.2 really strange. Updated ....   thanks. There are no errors in the log.. Strange error in the apache log.   I have not changed any permissions.\n[Mon Apr 10 10:02:48.280066 2017] [:error] [pid 18446] [client 84.232.90.91:50162] PHP Fatal error:  Uncaught exception 'UnexpectedValueException' with message 'The stream or file \"/var/www/billing/ninja/storage/logs/laravel-error.log\" could not be opened: failed to open stream: Permission denied' in /var/www/billing/ninja/bootstrap/cache/compiled.php:13964\\nStack trace:\\n#0 /var/www/billing/ninja/bootstrap/cache/compiled.php(13894): Monolog\\Handler\\StreamHandler->write(Array)\\n#1 /var/www/billing/ninja/bootstrap/cache/compiled.php(13654): Monolog\\Handler\\AbstractProcessingHandler->handle(Array)\\n#2 /var/www/billing/ninja/bootstrap/cache/compiled.php(13752): Monolog\\Logger->addRecord(400, Object(Symfony\\Component\\Debug\\Exception\\FatalErrorException), Array)\\n#3 /var/www/billing/ninja/bootstrap/cache/compiled.php(13447): Monolog\\Logger->error(Object(Symfony\\Component\\Debug\\Exception\\FatalErrorException), Array)\\n#4 /var/www/billing/ninja/bootstrap/cache/compiled.php(13418): Illuminate\\Log\\Writer->writeLog('error', Object(Symfony\\Component\\Debug\\Exception\\FatalErrorException), Array)\\n#5 /var/www/billing/ninja/vendor in /var/www/billing/ninja/bootstrap/cache/compiled.php on line 13964, referer: http://billing.developersforge.co.uk/invoices/26/edit\n\n. OK .. it is fixed.   The issue was the perms on the laravel-error.log  were changed by the update to root:root   It is working OK now.. I just changed the email address on the client account and tried again and got the same message \n\n. It is null...   I am checking the browser cache is not the issue.\n\n. It seems to be that account that is the issue but I am not sure how to fix this?   They have invoices associated with that account.. Hmm! tried that and get this now .... \n\n. Is the email address the unique ID for client accounts?. OK .. well I am not sure what is wrong with this account.  The system does not seem to be recognizing the email address or password.   Is there any other way to debug this issue?. There is not a users table only contacts?. hmm! OK .. it was an issue with phpmyadmin.   I logged in using the cli and the users table is there but it only has the administrator account in it?\n. MariaDB [billing]> select * from users where email = 'mark@xxxxx';\nEmpty set (0.00 sec)\n. It is the contacts table that contains the data for clients as far as I can see?. I am now confused... are you saying that clients cannot login to see there accounts when they are a contact?  That cannot be correct because I have client that login to pay there invoices.. Hi,\nEverything is working correctly.   The confusion was over the link /login and /client/login. Ah OK ... great.   This was the confusing part for me and why I asked if the email address was the unique id.. You will need to use the current contact email address to achieve a smooth upgrade path ... and maybe make this unique now for contacts.. I ran the update again \n[2017-08-22 18:24:53] production.ERROR: ReflectionException [-1] : /var/www/billing/ninja/bootstrap/cache/compiled.php [Line 1355] => Class DbServerSeeder does not exist  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://billing.domain/update\",\"previous\":\"http://billing.domain\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:55.0) Gecko/20100101 Firefox/55.0\",\"ip\":\"84.232.75.60\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\nroot@support:/var/www/billing/ninja/storage/logs# \n. OK the upgrade said it was successful but I get this error when selecting setting now\n[2017-08-22 18:38:36] production.ERROR: ErrorException [0] : /var/www/billing/ninja/vendor/ezyang/htmlpurifier/library/HTMLPurifier/DefinitionCache/Serializer.php [Line 293] => Directory /var/www/billing/ninja/vendor/ezyang/htmlpurifier/library/HTMLPurifier/DefinitionCache/Serializer not writable, please chmod to 777  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Amit Chandry\",\"method\":\"GET\",\"url\":\"http://billing.domain/settings/templates_and_reminders\",\"previous\":\"http://billing.domain/dashboard\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:55.0) Gecko/20100101 Firefox/55.0\",\"ip\":\"84.232.75.60\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n . OK ran chmod 777 /var/www/billing/ninja/vendor/ezyang/htmlpurifier/library/HTMLPurifier/DefinitionCache/Serializer   and we are now working fine\n. ",
    "misterunknown": "I temporary worked around this issue, by identifying my custom theme with a string (in pdf.pdfmake.js):\njavascript\n// md: eliminate line breaks, if custom template\nif ( javascript.includes(\"ooPheejahmae3eifooSah5iex3xoh8ju\") ) {\n  javascript = javascript.replace(/\\r?\\n/g, \"\\\\n\");\n}\nThis is a filthy hack, but works for the moment.\n. ",
    "naneri": "@hillelcoren On all pages. That is not related to emails, because that happens on test server when opening a page. Concerning the route cachine I also think it won't help much, maybe 3%-5% because it only save maybe 50ms which is not a lot compared to the whole load time. \nWhat I was thinking is moving the dev dependencies (debugbar, ide_helper, etc.) to appservice provider and only load them if the environment is 'local' or 'dev'. \nphp\nif($this->app->environment('local'))\n{\n    $this->app->register('Barryvdh\\LaravelIdeHelper\\IdeHelperServiceProvider');\n}\nAnd run composer with no dev flag on production. How do you think, will it have much impact? \nI have other ideas to try out, though they are more related to frontend and the whole server setup. \n. @codedge it takes 1.3 - 1.5 seconds, acceptable result in my opinion as well. But I was requested to help to make it load faster, so I was thinking of the ways to improve it. \n\nIf you set APP_DEBUG to false in the .env I don't think it would have a performance impact.\n\n@hillelcoren but will it prevent from registering the service providers of dev. packages? \n. ",
    "planetahuevo": "I got the file from here:\nhttps://www.invoiceninja.com/self-host/\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v2.6.7.zip\nMine has 28 lines but there is nothing there\n```\n<?php\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\nclass CreatePasswordResetsTable extends Migration {\n/**\n * Run the migrations.\n *\n * @return void\n */\npublic function up()\n{\n    Schema::rename('password_reminders', 'password_resets');\n}\n\n/**\n * Reverse the migrations.\n *\n * @return void\n */\npublic function down()\n{\n    Schema::rename('password_resets', 'password_reminders');\n}\n\n}\n``\n. I have tried removing the database completely and start over, usingphp artisan migrate:refreshand I cannot finish the installation. \nIs there any way to get a sql I can import into my database or there are more things that needs to be done to config the app?\n. The .env file was created fine and the database was populated, that is the reason, when I renamed the class on that file (to avoid the redeclare error)  i get the second error ofBase table or view already exists: 1050 Table 'users' already exists`\nIt is after filling the details and pressing the button when the error popup.\nThe install page appears all the time, but the result is allways the same.\n. I read somewhere (and lost the link) that could be a problem with mysql 5.6 which is exactly what I have on my server. I am going to try tomorrow on another similar server I have with mariadb and php7\nAny other suggestions are welcomed. :)\nOk, i had 5.5 so I upgraded to mysql 5.6 and same issues. \nAnyone can share a fresh install mysql database export so I can import it? \n. @hillelcoren my codebase is exactly the one on the zip\nhttps://dl.dropboxusercontent.com/u/2909575/ninja-v2.6.7.zip\nI didn\u00b4t change anything on the zip at all.\nMy search only find that string on the following files: \n\\ninja-v2.6.7\\ninja\\database\\migrations\\2015_03_30_100000_create_password_resets_table.php\n\\ninja-v2.6.7\\ninja\\vendor\\composer\\autoload_classmap.php\n\\ninja-v2.6.7\\ninja\\vendor\\composer\\autoload_static.php\n. Hi,\nI was out on the weekend so I couldn\u00b4t make any tests. I will try again this week with the artisan suggestions and see what happen.\nI will keep you posted. :+1: \n@hillelcoren No, I do not have any other versions. This is a fresh server just created for this app.\n. Holidays.\nI will test when I am back home.\nOn 20 Aug 2016 22:53, \"codedge\" notifications@github.com wrote:\n\n@hillelcoren https://github.com/hillelcoren I think this can be closed.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1024#issuecomment-241223130,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AC0293N4iN2IMr-tWxRcdDigE1sIQ8bDks5qh2lZgaJpZM4JYhQS\n.\n. \n",
    "SqrFactor": "Hi @hillelcoren, I'm facing the same problem. How can I resolve it now?. Got it :) Thanks @hillelcoren . ",
    "melodyne": "\u8bf7\u8bf4\u4e2d\u6587. ",
    "Braunson": "I'm hitting this issue on shared hosting (yes I know, don't use shared). Host is Dreamhost, seems gmp is enabled but still hitting this error. I can bypass it using composer's option ignore-platform-reqs but that still doesn't solve the issue.. Yes. Yes same error.. @hillelcoren Sure. @hillelcoren Never thought of that, thanks, it's a workaround but still shows a $0 subtotal. It'd be nice to have two types of invoices\n\nLine items (with qty but no cost) and a total cost at the bottom\n\nLine items (with qty and line item costs) as is default right now. @hillelcoren Never thought of that, thanks, it's a workaround but still shows a $0 subtotal. It'd be nice to have two types of invoices\n\n\nLine items (with qty but no cost) and a total cost at the bottom\n\nLine items (with qty and line item costs) as is default right now. Yes but this isn't an option available in reports. I'm not sure the full feature set of the time tracking update that's coming but that may solve this issue (including reporting hopefully).. Seems outside of those items I outlined above, it works now. I hope that helps someone else that have these issues.. \n",
    "fatimazaheer": "during composer install getting error\n [RuntimeException]\n  Failed to clone https://github.com/gatepay/FedACHdir.git, git was not found, check that it is installed and in your PATH env.\n  'git' is not recognized as an internal or external command,\n  operable program or batch file.. i have downloaded the folder and its working fine on localhost i have created user and uploaded it on server with database but when i run its loading to setup page ... it should load login page .... i have changed .env file but still not working ... if i change manually add login to url it gives this error \"Whoops, looks like something went wrong.\". ",
    "onPointTracking": "I exported the data as json and created a directory backup, then created a fresh install using a new database - keeping the old database intact for additional troubleshooting. After importing the old data into the new install, all the dates for all the invoices and payments show today's date. The recurring invoices are a mess, they are not sending correctly.\nIn the original installation I did as suggested, added APP_CIPHER=rijndael-128\nNew / different error line:\nWhoops, looks like something went wrong.\n1/1 DecryptException in BaseEncrypter.php line 48: The MAC is invalid.\nin BaseEncrypter.php line 48\nat BaseEncrypter->getJsonPayload('eyJpdiI6IjJwTEpTeFdJQlMxVTBMT2dDUHc5Y1E9PSIsInZhbHVlIjoiemdIVTlmdUt3NGd3VStVWTZlNjB6SE9BTWlNbFYyMFZGV25FcmQwWHZNekNmSGR1a013bGJNcndnWFNGUlQ1OXN0TnpvOGJXc3pKekEzS0YxSG82bUJuNGR5ZmVnSVdPcDN5dkhVSHNrWDV2ZVEwNUpBQXFKZkxTeVwvVFIwRkt4d0ZpMDZuQ3NKMlJyeFhpbmU3MFE3cmFTSE9KRkRaSVdxMWJ6UEJ0MEszXC9OWGJPUGJrTWptQTZOQll6VnRhXC9KZDRDXC9XRE9LN01hNTl2TWV0NTBcL1hzVWR0REUrS2FiXC9pQWVlUmZxNmlvVHhcL25RREkxUUxrV2pCa3N0V0x2QThBQ3FaUGFxODZNd3NaTjlNaFl5QkF0STUrcGRkUUlZa2hJdUFIOURBWHVWejRtc3p3WjJVaFNNeTgyUmM2WkNzdUNiUVVnZGRsZVNoalFUS0pyRXdsTWRncEluVjVIK0N5cnBiS3BTRFBSQT0iLCJtYWMiOiJlMjY1YzU3ZWUxNTQ4NDVhMmUwNWIxZmMzOTg0MTYxNWM2MjJhOGFhNjFhZjdjNzVhZWI2YjRmODJmNjliZmFlIn0=') in McryptEncrypter.php line 115\nat McryptEncrypter->decrypt('eyJpdiI6IjJwTEpTeFdJQlMxVTBMT2dDUHc5Y1E9PSIsInZhbHVlIjoiemdIVTlmdUt3NGd3VStVWTZlNjB6SE9BTWlNbFYyMFZGV25FcmQwWHZNekNmSGR1a013bGJNcndnWFNGUlQ1OXN0TnpvOGJXc3pKekEzS0YxSG82bUJuNGR5ZmVnSVdPcDN5dkhVSHNrWDV2ZVEwNUpBQXFKZkxTeVwvVFIwRkt4d0ZpMDZuQ3NKMlJyeFhpbmU3MFE3cmFTSE9KRkRaSVdxMWJ6UEJ0MEszXC9OWGJPUGJrTWptQTZOQll6VnRhXC9KZDRDXC9XRE9LN01hNTl2TWV0NTBcL1hzVWR0REUrS2FiXC9pQWVlUmZxNmlvVHhcL25RREkxUUxrV2pCa3N0V0x2QThBQ3FaUGFxODZNd3NaTjlNaFl5QkF0STUrcGRkUUlZa2hJdUFIOURBWHVWejRtc3p3WjJVaFNNeTgyUmM2WkNzdUNiUVVnZGRsZVNoalFUS0pyRXdsTWRncEluVjVIK0N5cnBiS3BTRFBSQT0iLCJtYWMiOiJlMjY1YzU3ZWUxNTQ4NDVhMmUwNWIxZmMzOTg0MTYxNWM2MjJhOGFhNjFhZjdjNzVhZWI2YjRmODJmNjliZmFlIn0=') in compiled.php line 6379\nat Facade::__callStatic('decrypt', array('eyJpdiI6IjJwTEpTeFdJQlMxVTBMT2dDUHc5Y1E9PSIsInZhbHVlIjoiemdIVTlmdUt3NGd3VStVWTZlNjB6SE9BTWlNbFYyMFZGV25FcmQwWHZNekNmSGR1a013bGJNcndnWFNGUlQ1OXN0TnpvOGJXc3pKekEzS0YxSG82bUJuNGR5ZmVnSVdPcDN5dkhVSHNrWDV2ZVEwNUpBQXFKZkxTeVwvVFIwRkt4d0ZpMDZuQ3NKMlJyeFhpbmU3MFE3cmFTSE9KRkRaSVdxMWJ6UEJ0MEszXC9OWGJPUGJrTWptQTZOQll6VnRhXC9KZDRDXC9XRE9LN01hNTl2TWV0NTBcL1hzVWR0REUrS2FiXC9pQWVlUmZxNmlvVHhcL25RREkxUUxrV2pCa3N0V0x2QThBQ3FaUGFxODZNd3NaTjlNaFl5QkF0STUrcGRkUUlZa2hJdUFIOURBWHVWejRtc3p3WjJVaFNNeTgyUmM2WkNzdUNiUVVnZGRsZVNoalFUS0pyRXdsTWRncEluVjVIK0N5cnBiS3BTRFBSQT0iLCJtYWMiOiJlMjY1YzU3ZWUxNTQ4NDVhMmUwNWIxZmMzOTg0MTYxNWM2MjJhOGFhNjFhZjdjNzVhZWI2YjRmODJmNjliZmFlIn0=')) in AccountGateway.php line 108\nat Crypt::decrypt('eyJpdiI6IjJwTEpTeFdJQlMxVTBMT2dDUHc5Y1E9PSIsInZhbHVlIjoiemdIVTlmdUt3NGd3VStVWTZlNjB6SE9BTWlNbFYyMFZGV25FcmQwWHZNekNmSGR1a013bGJNcndnWFNGUlQ1OXN0TnpvOGJXc3pKekEzS0YxSG82bUJuNGR5ZmVnSVdPcDN5dkhVSHNrWDV2ZVEwNUpBQXFKZkxTeVwvVFIwRkt4d0ZpMDZuQ3NKMlJyeFhpbmU3MFE3cmFTSE9KRkRaSVdxMWJ6UEJ0MEszXC9OWGJPUGJrTWptQTZOQll6VnRhXC9KZDRDXC9XRE9LN01hNTl2TWV0NTBcL1hzVWR0REUrS2FiXC9pQWVlUmZxNmlvVHhcL25RREkxUUxrV2pCa3N0V0x2QThBQ3FaUGFxODZNd3NaTjlNaFl5QkF0STUrcGRkUUlZa2hJdUFIOURBWHVWejRtc3p3WjJVaFNNeTgyUmM2WkNzdUNiUVVnZGRsZVNoalFUS0pyRXdsTWRncEluVjVIK0N5cnBiS3BTRFBSQT0iLCJtYWMiOiJlMjY1YzU3ZWUxNTQ4NDVhMmUwNWIxZmMzOTg0MTYxNWM2MjJhOGFhNjFhZjdjNzVhZWI2YjRmODJmNjliZmFlIn0=') in AccountGateway.php line 108\nat AccountGateway->getConfig() in AccountGateway.php line 117\nat AccountGateway->getConfigField('publishableKey') in AccountGateway.php line 129\nat AccountGateway->getPublishableStripeKey() in AccountController.php line 445\nat AccountController->showOnlinePayments() in AccountController.php line 269\nat AccountController->showSection('online_payments')\nat call_user_func_array(array(object(AccountController), 'showSection'), array('section' => 'online_payments')) in compiled.php line 9479\nat Controller->callAction('showSection', array('section' => 'online_payments')) in compiled.php line 9541\nat ControllerDispatcher->call(object(AccountController), object(Route), 'showSection') in compiled.php line 9521\nat ControllerDispatcher->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10004\nat Pipeline->then(object(Closure)) in compiled.php line 9522\nat ControllerDispatcher->callWithinStack(object(AccountController), object(Route), object(Request), 'showSection') in compiled.php line 9509\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\AccountController', 'showSection') in compiled.php line 8579\nat Route->runController(object(Request)) in compiled.php line 8566\nat Route->run(object(Request)) in compiled.php line 8280\nat Router->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in PermissionsRequired.php line 52\nat PermissionsRequired->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(PermissionsRequired), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in Authenticate.php line 90\nat Authenticate->handle(object(Request), object(Closure), 'user')\nat call_user_func_array(array(object(Authenticate), 'handle'), array(object(Request), object(Closure), 'user')) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10004\nat Pipeline->then(object(Closure)) in compiled.php line 8281\nat Router->runRouteWithinStack(object(Route), object(Request)) in compiled.php line 8272\nat Router->dispatchToRoute(object(Request)) in compiled.php line 8262\nat Router->dispatch(object(Request)) in compiled.php line 2419\nat Kernel->Illuminate\\Foundation\\Http\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in Debugbar.php line 49\nat Debugbar->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(Debugbar), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in StartupCheck.php line 193\nat StartupCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartupCheck), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in QueryLogging.php line 28\nat QueryLogging->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(QueryLogging), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in DuplicateSubmissionCheck.php line 41\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(DuplicateSubmissionCheck), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in compiled.php line 3225\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 51\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in ShareErrorsFromSession.php line 49\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in StartSession.php line 64\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in EncryptCookies.php line 59\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in compiled.php line 3286\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10019\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10004\nat Pipeline->then(object(Closure)) in compiled.php line 2366\nat Kernel->sendRequestThroughRouter(object(Request)) in compiled.php line 2350\nat Kernel->handle(object(Request)) in index.php line 52\n. I did use MySQLDump to create a backup, but this creates a backup dependent on the non-working APP_KEY, correct? So I would just be replicating the non-working installation to a new, non-working installation?\n. I did get the invoices sending in the new installation.\nI had to edit every recurring invoice and set the auto-bill to \"always\", check the boxes for the clients to be sent to, and save the invoice Then I manually ran the cron jobs and the invoices were generated - they didn't send because my Postmark FROM_ADDRESS was wrong and it errored out on manual send. I corrected the from address and sent the invoices manually. I will have to watch it and see if my invoices go out automatically next week.\nI am not sure what happened to the original install during the update but I am pretty sure I got back to a working installation. I will advise if I have any additional trouble over the next few days.\n. I haven't had any other issues. I am closing... Thanks!\n. Sounds good! thanks. I searched for the error and couldn't find anything so I posted. \nI will manually edit the file to correct until release!. ",
    "PostPollux": "Yes, please make this happen. There are so many monthly recurring expences. It's really tedious to enter them every month manually. I mean even invoiceninja is a recurring expence ;). It's the same if I click inside the text input. Doesn't work, too.\nWell, I don't use the selfhosted invoice ninja. So it's the current version of  https://app.invoiceninja.com/\nWhich seems to be 3.4.2 (At least that's what it is saying if I look at the html source).\nBy the way. I didn't find the version anywhere in the interface. Maybe this information could be included in the \"help\" tab reachable throug the questionmark icon.. I just tested it with chrome and it's the same...\nI can make a screencast if it helps. Unfortunately I didn't see valuable information in the console.\n3.5 isn't rolled out yet, am I right?. Here is a screencast. Maybe it helps: https://photos.app.goo.gl/u9eqNNXOC1x9vppq1. Ok, I'll check again if it's rolled out. Any hint when to expect this? Because I only can test it with the pro version which in my case ends in less then 2 weeks. \nAwesome software by the way! I proposed it to the small company where I'm working. Unfortunately we decided to use LexOffice instead, because it's more designed for german companies and legislation. And it has some good features for receipts and bookkeeping...\nAnyway, keep up the good work!. ",
    "alloylab": "issues had to due with missing folders... version 2.6.10 is missing .gitignore in boostrap/cache, storage/app, storage/debugbar, storage/logs, storage/framework folders.. previous version had the gitignore so the folder would be recognized by git\n. when I download this, https://github.com/invoiceninja/invoiceninja/archive/v2.6.10.tar.gz its missing\n. i use a shell script scripts that curl's the github api to pull the \"latest release\" and automatically builds a docker container from it... but since the .gitignores are missing the folders are skipped in git\n. I have the app running in a custom docker container, the payment_libraries table is empty... from a fresh install, do you have vanilla invoiceninja.sql file that I use as a base to diag those problem?\n. a custom one\n. yes, it fails during the DB install due to integrity constraint issue\n. yes the DB is empty prior to setup via web browser... artisan db:seed wont work after because not all the tables are installed during setup\n. running php artisan migrate --force on an empty db produces the following error, \n[Illuminate\\Database\\QueryException]\n  SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '11' for key 'PRIMARY' (SQL: insert into invoice_designs (id, name) values (11, Custom))  \n[PDOException]\n  SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '11' for key 'PRIMARY'\n. its empty, I checked via mysql workbench\n. just tried it in a brand new db table, still doesn't work... get the same error, \n[Illuminate\\Database\\QueryException]\n  SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '11' for key 'PRIMARY' (SQL: insert into invoice_designs (id, name) values (11, Custom))  \n[PDOException]\n  SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '11' for key 'PRIMARY'\n. so \"php artisan migrate --force\" is stuck on this migration \"2015_07_19_081332_add_custom_design.php\"  it can't insert 11, Custom because 11, Plain already exists in the table\n. I can get php artisan migrate --force to successfully run (on the second attempt), if I delete the 11,Plain row in invoice designs and delete the custom_design column out of accounts\n. however php artisan db:seed --force, has this error, \n[Illuminate\\Database\\QueryException]\n  SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (alloylab_billing.gateways, CONSTRAINT gateways_payment_library_id_foreign FOREIGN KEY (payment_library_id) REFERENCES payment_libraries (\nid) ON DELETE CASCADE) (SQL: insert into gateways (name, provider, sort_order, updated_at, created_at) values (Authorize.Net AIM, AuthorizeNet_AIM, 4, 2016-11-07 20:21:47, 2016-11-07 20:21:47))                                                              \n[PDOException]\n  SQLSTATE[23000]: Integrity constraint violation: 1452 Cannot add or update a child row: a foreign key constraint fails (alloylab_billing.gateways, CONSTRAINT gateways_payment_library_id_foreign FOREIGN KEY (payment_library_id) REFERENCES payment_libraries (\nid) ON DELETE CASCADE)      \n. I don't think this is a docker issue... but rather an issue with invoice ninja installs & updates the DB\n. can you just send me db.sql file to seed the database with to get this issue resolved?\n. on the gateways table, payment_library_id is a foreign key... which you arent populating based on the error above... (SQL: insert into gateways (name, provider, sort_order, updated_at, created_at) values (Authorize.Net AIM, AuthorizeNet_AIM, 4, 2016-11-07 20:21:47, 2016-11-07 20:21:47))\nand the seeder file PaymentLibrariesSeeder.php makes no reference to payment_library_id\n. I finally got it working by, manual deleting the specific foreign key issues, then fixing the foreign key issues one by one... I would suggest you take a look at these issues prior to upgrading your SaaS platform\n. No, also tried creating a new recurring invoice... and it doesn't show up either. \n. no errors\n. php /var/www/billing/artisan ninja:send-invoices;\n2016-11-08 Running SendRecurringInvoices...\n2 recurring invoice(s) found\nProcessing Invoice 54 - Should send NO\nProcessing Invoice 64 - Should send NO\n0 due recurring invoice instance(s) found\nDone\nI think the issue is with the view...\n. Fixed the issue, another issue where the foreign key did not match, on frequencies\n. its not the docker file... have you tried installing invoice ninja 2.8 from scratch? \n. okay well all these foreign key issues stem from issue#1144\n. That fixed it. Not sure how the settings got changed in the first place... thanks. ",
    "entissar12": "thanks it wroks correctly \n. thanks it wroks correctly \n. https://github.com/invoiceninja/invoiceninja/commit/f7e499da4d11b70a18d11d98b43904b8e9b839a5\n(Sorry)\n. Yes , I installed invoice ninja with a new database , I just added the format d/m/Y and I cleared the cache , when I try to add a new invoice it gives me :  The invoice date is not a valid date. \nSo I applied the change : https://github.com/invoiceninja/invoiceninja/commit/f7e499da4d11b70a18d11d98b43904b8e9b839a5 and the validation message disappears and it creates the new invoice but with no date and it is saved in the database as 0000-00-00 \n. no , I am running v 2.7.1\n. @Braintelligence go to your public/built.js and find the function named 'GetPdfMake' and add this code :\n            return { \n                 columns: [ \n                    invoice.account.invoice_footer,\n                        { \n                        alignment: 'right',\n                        text: [\n                                { text: page.toString(), italics: true },\n                                ' / ',\n                                { text: pages.toString(), italics: true }\n                        ]\n                    }\n            ],\n                margin: [40, 20, 40, 0]\n            };\nin the place of this code :\nreturn page === pages || invoice.account.all_pages_footer == '1' ? val : '';\nand it will work like a charm . ",
    "pabloalbrecht": "Do you have a doc somewhere to read about current implementation without having to go through code ? It'd give me a good idea on how long it'd take and how features should be implemented.\n. Do you have a doc somewhere to read about current implementation without having to go through code ? It'd give me a good idea on how long it'd take and how features should be implemented.\n. ",
    "dicarlosystems": "Has any discussion taken place about this request?  It would be a big undertaking but even some little ability in a custom module would allow further integrations.  That being said, perhaps some of this functionality could be handled via zapier-type integrations?  Still splits the user's viewing but the data would flow, which seems to be the bigger pain point, IMO.. Has any discussion taken place about this request?  It would be a big undertaking but even some little ability in a custom module would allow further integrations.  That being said, perhaps some of this functionality could be handled via zapier-type integrations?  Still splits the user's viewing but the data would flow, which seems to be the bigger pain point, IMO.. I agree.. I agree.. Not sure how this feature/module would work?  Are you thinking of handling it like a document that gets filed with additional metadata, so you can view them later?  I know most of the invoices I received from my vendors are either a PDF or embedded in the e-mail as HTML but they very rarely have similar layouts between vendors.. Ah, I see now... That's an interesting idea.  I think this could be handled via existing integrations, e.g. Zapier, with a little work.. I also agree the autocomplete search could be a bit more robust. I'm working on integrating multiple field search into it (related to the fields mentioned in #1985).  One thing I am also playing around with is slightly different UI for the dropdown that would show a bit more info right away rather than having to hover.  Not sure how well it will work as it will invariably increase the height of each select item.\nWhich fields do you think should be searchable?  I found myself wanting to be able to search by product key, notes, and the 2 custom fields (and the fields in my pull-request ^^). In looking at this again, I'm wondering if it the manufacturer part number should be refactored into it's own custom module, as I think it would be beneficial to also include the manufacturer and have a CRUD associated with its maintenance.  This would also make it easier for people to opt-into the functionality, i.e. one-click toggle.\nThe problem I see is how to allow a view from the custom module, e.g. for the product edit page, to overlay/supercede the core view?  It also introduces a possible ordering issue if multiple custom modules try to change or augment the base view.\nI wonder if there could be a section in the base view that is dynamically loaded and evaluated from any enabled custom modules - this would allow the custom module to register fields and augment the existing blade templates rather than completely overwriting them.  This also resolves the ordering issue, as it would simply keep stacking any custom attributes.\nThoughts?. That's right along the lines that I was exploring as it mirrors package view overriding.  I've got some work already done on this, I'll see how it works out.\nIndeed, if this works, then I could probably factor the barcode field into it's own custom module too which would keep to core views nice and clean with just the basic fields.. So the solution I've come up with that seems to work utilizes a foreach loop to iterate over all the enabled modules and conditionally include the namespaced view from each module.  The views would be created in the custom module recreating the folder structure of the core, e.g. \n\nresources/views/accounts/product.blade.php => Resources/Views/accounts/product.blade.php\n\nIf the custom module does not define a view at location, it's simply skipped.. Yep, my bad.  Not sure why I kept typing it wrong.  So the plan is to refactor edit.blade.php into it's own top-level folder products?\nOther thing I forgot to add is you can control the order of the custom module view inclusion by changing the order field in module.json for each module.. Ok.  The module change is fine, it would vary from module to module anyway depending into which core view I wanted to include my changes.\nFor now, I'm just adding it to the product edit blade template.  I can see a way to make it work for the other entities that use panels in a grid layout, e.g. clients, but it's a more drastic change and would want to discuss and play with different options a bit more before actually coding something.. Could we not use stacks in the package views to push those changes up into the parent(s) views?. That's what I was thinking.  It makes the default views really lean and doesn't introduce a huge amount of additional markup.. @turbo124 No, I'm not currently on the channel.  More than happy to join and collaborate if you send an invite.\n@hillelcoren I like that idea, would make it straightforward to install modules without dropping to CLI.. LOL thanks! FIrst time using Slack!. Oops.  Sorry, I meant to clean that up before pushing.  I will clean it up.\nSent from my mobile \n\nOn Mar 29, 2018, at 14:17, Hillel Coren notifications@github.com wrote:\nThanks for the PR but it's hard to see your changes, can you please create a PR with just your changes.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. Given that we're working on refactoring and getting this type of change in a module, I'm thinking we should just kill this PR and flesh out the module functionality more.  Then I'll create the same changes via a module as a proof of concept.. No problem!  I'm quite enjoying playing around in the code base and happy to share anything I build/fix for myself that might be useful!. Ah, shoot, didn't notice that either.  I'm actually just testing the custom module enable/disable functionality (#1994), so I'll just pull that one changed line into that PR.. I actually had a client pose this question with this exact use case a couple of days ago.\n\nWould each user have a supervisor, i.e. would an entire organizational hierarchy be needed or could a user be assigned a supervisory role that would allow them to approve/deny any tasks placed in the approval queue?. I'm working on a custom module to track travel but it relies on the user entering the start and stop odometer readings.  That way it can function as your mileage log book for tax purposes and also allow billing the client.. @Napsty It looks like the only commit related to this is in one file - can you rebase your branch and then push just the one change please?. @hillelcoren It doesn't run them unless the user explicitly adds --migrate=true.  Perhaps the --migrate flag should be a simple switch, i.e. specify --migrate when you want migrations to run, since it's basically acting as a boolean value anyway.. I'm closing this pending me cleaning up the history - there's duplicate commits.  Think a rebase went haywire.  I'll reopen on a clean branch.. Of course.  Is it aliased currently, i.e. either will work for older installs and going forward, at least until it is formally refactored away?  I don't see that view currently?. Ok, that's what I thought.  Can we leave it for now and I will update it as part of the broader refactoring?  Otherwise the functionality won't work.  Or should I refactor it now and just add an include directive in accounts.product to point to products.edit?  Once the other refactoring takes place the old view can be removed.. Ah, now I get where you\u2019re coming from. I\u2019ll make a change and push again.\nSent from my mobile \n\nOn May 3, 2018, at 14:10, Hillel Coren notifications@github.com wrote:\nIt's a minor point. I assume in your custom module you have a view file called accounts.product, I'm suggesting changing both your file name and the reference here to products.edit. It will just make the file names more consistent. For examples, clients.edit, tasks.edit, etc.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. I think this might be a good candidate for a custom module that would allow backup scheduling and storage to various locations, e.g. local, S3, B2, etc.. I think a purchase order feature can be broken down a couple of different ways:\n\n\nInternal tracking to allow item receipts, reports, etc but not necessarily have any integration directly with the vendor;\nAutomated email sending of the PO to the vendor via email;\nAutomated submission of the PO to the vendor via EDI, UBL, etc.\n\nPersonally, most of my distributors do not accept POs via email - indeed more than half only support submitting orders via their online portals, i.e. no direct interfacing.  I use the POs internally to allow my employees to know what's on order, track backorders, receive items, etc.   When I complete the order with my vendor, I manually enter the PO number so that the generated invoice(s) correctly reference my source document internally.. Yup, no problem.  That was my fault! There's actually only one changed line for the PR.. I'm going to create another pull request with an update for the custom modules docs related to this pull, forgot to include it in this one.. Totally agree.  When I looked at it again it seemed hacky and likely to\ncause headaches down the road.\n\nCheers, \nChris \n    Christopher Di Carlo\n\n    _Owner_\n\n    DI CARLO SYSTEMS INC.\n\n    p:\n    519.291.5656  m: 519.574.5652\n\n    a:\n    86713 Maple Keys Line, Listowel, ON N4W 3G6\n\n    w:\n    www.dicarlosystems.ca [3]  e: chris@dicarlosystems.ca\n\n     [4]   [5]   [6]\n\nOn 2018-06-11 03:08, Hillel Coren wrote:\n\n@HILLELCOREN commented on this pull request.\nIn app/Providers/AppServiceProvider.php [1]:\n\n@@ -125,8 +125,22 @@ public function boot()\nreturn '';\n}\n\n+\n+                if(! Utils::isNinjaProd() && \\App::isLocale('en') == false) {\nI'm happy to help try to find a better solution, the purpose of the code is a bit hard to understand. \n--\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub [1], or mute the thread [2].\n\nLinks:\n[1]\nhttps://github.com/invoiceninja/invoiceninja/pull/2145#discussion_r194307631\n[2]\nhttps://github.com/notifications/unsubscribe-auth/ADUm6BbKnLIXyLZxktD9qtSSCGcIc9e7ks5t7hd2gaJpZM4UZnNH\n[3] http://www.dicarlosystems.ca\n[4] https://facebook.com/dicarlosystems\n[5] https://twitter.com/dicarlosystems\n[6] https://www.linkedin.com/in/christopher-di-carlo-214bb321/. I modified the AppServiceProvider to check the breadcrumb against a defined 'base-route' entry in the module.json.  This way if the module defines the base-route it will correctly resolve the module name for further translation but if not, it will just fallback to the currently defined behaviour.  This leverages previous changes added in commit 035ac82.. This looks like it might have broken the setup process - I'm getting an SQL exception because the format_dart field only exists on the master branch in setup.sql?  Or am I missing something?. I normally do build from master but forgot to switch back on this new dev setup.  Not a big deal as the solution is fairly easy.  Simply cherrypicking the PR merge commit fixes the issue.  Just wanted to mention it.. Just found an edge case issue, hold off for now until I fix it up.. Do you mean a specific time for the invoice to be sent?  Or for the start / end?. What about adding the ability to filter by the custom fields but not necessarily show them?  Or perhaps better, add a setting that allows the user to decide whether to display the custom fields on the list page and whether to include those fields in the filter?. Agreed.  I've got the feature done whereby the filtering is enabled via a setting but the column isn't displayed necessarily; should be able to conditionally include it on the list view but could foresee some content width issues.. The main issue I ran into trying to implement this feature was related to the automatic translation of the column headings - see my comments on the pull request regarding how I got around it.. This feature has been implemented - check out PR #2279.. The other complication for Canada is in jurisdictions that have a harmonized tax, e.g. Ontario - even though there are still provincial and federal components to the tax, the remittances still go to CRA and the tax line on invoices, quotes, etc just shows HST, which is in line with the current functionality.. The separate column for the currency symbol seems like a fair compromise.. A change like this may have some side effects - for instance, if there are multiple currencies being used, the formatting of the numbers  even without the currency symbol or code may be different, e.g. thousands separator, comma vs. decimal, etc.  That could still cause issues with the interpretation of the values in a spreadsheet even with a separate column for the currency.\nPerhaps having the report(s) show amounts in a single currency but also add the invoice currency and amounts (including the converted values and exchange rates).  That's off the top of my head - not sure if that would work.. The user can selectively enable the display and filtering on the Invoice Settings page:\n\nGiven that the actual fields do not support translation directly (assumed to be in the account's locale), I added the placeholders to the 'en' translation file as a default and perform a replace at datatable display time based on the field name being in the format 'custom_client1::FIELDVALUE'.. It was more of a proof of concept.  The same method could be used to add other custom fields to their respective tables.  Agree, as currently implemented it would require a discrete field for each filter field.  I was toying with the idea of a JSON formatted column for the filter selection, similar to how the custom fields are defined now.  That would only require a single additional field and would also allow future expansion without requiring further database changes.  The other option that comes to mind would be to introduce an additional level to the custom fields JSON array with a boolean to reflect the display property?. Agreed.  In any event, it's there.  If you decide to merge it, do you think I should also update the products table code to use this code, as well?. Yes, just noticed they display.  Do you think the clients table should just duplicate the current functionality of the products, i.e. if they custom field is set, include them in the table?\nThe only issue I can see is that the custom field label does not display in the table but rather the generic column header.  I think the functionality should be similar across different list views for consistency. . Agreed.  That was one of my concerns too, especially on smaller devices.  One solution could be to drop those columns on narrower viewports?\nI wonder... what if we displayed the custom values underneath the name if the viewport becomes too narrow?  It would add height to each row but at least the table width would stay the same.  It wouldn't allow for sorting but at least the filtering could take place.\nIf you coupled that with the ability for the user to selectively (and explicitly) display the value on the table, then it becomes the user's choice?. Agreed. Perhaps the function should just duplicate the similar existing product functionality, i.e. if defined, display, at least in the interim?  At least it makes the fields more useful as search criteria.  Though personally, as a user,  I would like to be able to decide whether they should be displayed.. I\u2019ll take a look.  I was also thinking it might be nice in the future to have an option for custom modules to inject their own fields into the table?. I just took a look at the code and noticed I had already moved the filter settings into a text field on the accounts table (commit 3e305e0544fd419190b16db048c6ebb5ac0bbd8c).. Sure!  Under the \"Special thanks to\"?. Done! #2298 . The only issue with only having the task indirect link is it forces everything to be a task, I think.  What if the invoice is strictly for products and not a billable service but still part of a broader project?\nI know I have clients with multiple projects going on at the same time - being able to associate the invoice to the project it's related to would allow me an overview of the financials for the project as a whole and make it easier to see outstanding invoices from the project perspective rather than at only at the client perspective.. @hillelcoren I agree.  Logically it would make sense to only be able to link an invoice to a project if it only contains tasks for the project and/or products and services not associated with a task.. In looking over this, I wonder if I could make it more generic to work as a select widget for any entity rather than having a widget for each?  The only advantage of the distinct widget is when the database calls are coupled - if the developer is passing in the list of data items anyway, then there is nothing that really makes it specific to clients?. Agreed.  Let's hold off on this PR until I can see if I can refactor the code to make it a general entity select that the dev can declaratively define.. I pushed an initial try at refactoring the code to be generic.  Working okay in initial testing.\n\nMy concern with the way I'm doing it is scalability - I'm worried about the performance impact of all the blade template rendering and the subsequent local JavaScript execution.  Though I suppose similar JavaScript would have to be running locally anyway for even hard-coded widgets to function.\n. The other method I was toying with, which might simplify actual usage, was to introduce an actual class hierarchy - encapsulate the base functionality and then for each entity type explicity define how things display.  The user loses the ability to fully customize the dropdown fields but it makes it more consistent and the declaration in the template can be simplified.  It also hides some of the complexity.  Just a thought.... I left those 2 files in temporarily so the comparison could be seen between a discrete widget per entity versus paramaterized generic - only one of the implementations is needed.\nspatie/laravel-view-components just adds the @render directive - without it we would need to develop similar functionality and add it to the service provider..  It\u2019s basically just a custom blade directive that handles resolving the view component files and outputting the rendered view.  It can be reimplemented natively inside IN, if needed, but given the very specific scope and function I don\u2019t see a problem.  That being said, it\u2019s ulimately up to you guys.  I\u2019m okay both ways, it just saves some time and maintenance overhead using the independent package.. No worries.  I'll add the directive manually to the service provider. I added the blade directive manually to the AppServiceProvider.  It does change how the directive is used in the templates, e.g. you must pass in the fully-qualified class name, but it does the job.. Which approach do you feel I should move towards - the generic one or a specific widget for each?  Just want to clean out the cruft and update the docs accordingly.. I'm going to remove those compose changes but want to do a bit more testing internally just to be sure before releasing it to the wild! \ud83d\ude01 . Hey, I closed the PR temporarily while I cleaned up the history but just realized I can't reopen it.  Can you do so?  If not, I'll open a new PR but I'd like to keep everything together from a discussion perspective, if at all possible.. Ok, will do.  I think it's because I forced-push to clean up the history.. Do you mean add a set amount / percent to the price automatically when adding to the invoice?  I'm not sure I see the usefulness based on current functionality -  QB has this feature but it's related to the difference between the purchase price and selling price, e.g. buy a widget for $10, want 5% markup = when adding the item to the invoice the item cost becomes $10.50.  I don't see why you wouldn't just add your markup into the price of the product directly?\nPerhaps I'm not understanding your meaning... :thinking: . Yes, that's one thing that came to mind, as well.\nAll of the particular ideas I mentioned would probably necessitate changes to the core to allow custom modules to \"hook\" into it.  I've got ideas for custom modules to flesh out more functionality but am hitting a ceiling, as well - many changes require some level of change to core views or controllers to get them to work; not ideal if we want to make the module installation/usage process as turnkey as possible.\nMy end goal/want would be the abillity to be add functionality to areas of the app outside of the context  of my module's views/controllers.  The downside/caveat to this entire line of thought is of course the possibility that a custom module hoses something up elsewhere in the app.  However, that's always going to be a risk when allowing custom code to plug into any system.. Agreed! :+1: . Are there any thoughts on which area we should focus on first?  I'm thinking the settings page integration or list-view top right buttons might be the simplest pieces to take a crack at but definitely open to suggestions.\nFor now, I'll create a branch off develop in my fork to play around in, unless you want to create a branch in the main repo for this immediately.. Ok.\nNot quite - I'm rejigging it a bit because it would seem (to the user) that the app had locked up when in fact the installation was running in the background.  I'm trying to get it to provide a bit more feedback so it's clear the processing is still occurring.. Just created a PR so I can push some proposed changes and allow further discussion around things.  Not ready for merging yet.\n2333. I'm working on extending the typeahead functionality to allow including fields from custom modules but am running into some performance issues when the product list starts to get large, e.g. ~> 1000 products.  I've implemented an idea to test retrieving the product typeahead results via an AJAX request, it seems to alleviate much of the performance lag, at least with my initial testing.\nJust wanted to get some feedback if this is a direction to go in?  I was thinking of only having the typeahead use the AJAX version once the list hits a certain threshold (to be determined).  That way for most small lists we can reduce the number of HTTP requests.. Agreed on the endpoint issue, would rather have one endpoint.\nIt should be possible to leverage Scout and just build a custom driver for the DB-type searches, I would think.  That should allow us to allow further driver customization in the future.. There is actually already an implementation of a MySQL Scout driver that leverages native FULLTEXT capabilities: https://github.com/YABhq/laravel-scout-mysql-driver.\nHaven't played with it yet but it might work for self-hosted installations, at least.  Then we can have a single search endpoint where we pull the entity type out of the URI, e.g. /search/products, and pass off the search to the Scout driver.  The controller function would need to check to make sure it's an AJAX request, obviously.\nOr perhaps just extend each entity root path with a search endpoint, e.g. /products/search, and do the same.  But that would require a new endpoint for every entity, which becomes cumbersome and I think everyone would prefer keeping a single endpoint.\nIssue would be with the added dependency, though... \ud83d\ude1e \n. Yeah, not much activity.  Not sure if that's because it just works :grin: or that it's got a very small user base.  That being said, it does implement more features than I was thinking of.  And using it would necessitate having full-text search on the MySQL instances.. Thanks!  My only concern is with the setup stuff - it seems clunky and inelegant.  But I was thinking it's better to have something working and tested a bit more before trying to make it super elegant, especially if it doesn't satisfy the need.. Also, I was thinking about the view components PR - I wonder if those changes should just be rolled up under this broader PR?. Ok, I'll leave it separate then.  Do you want to split the list view customization from the settings customization too?\nIn future, I'll make sure to keep the PRs as single-feature focused as possible, to aid testing, etc.. Sounds good.. I think it's good to merge.  I will be doing some more testing of this functionality as part of some modules I'm working on, so it's a good test bed.. Shoot, meant to add that.  Thanks for catching it!  I\u2019ll push the change.. I tweaked the settings implementation to simplify the setup and updated the docs.  Think it's good now.\nThe main changes are convention and UI cleanup:\n- if there are no settings defined for at least one module, the section is not displayed;\n- the module settings are defined as a settings.blade.php file in the module;\n- I removed the explicit definition of the routes; the developer can choose to register and implement the routes however they like;\n- if a module defines that it has settings but does not include a settings blade template, the entry is not included.\nI guess the one question I have is whether the settings should be accessible if the module is disabled?  Currently, it only looks at enabled modules.  Thoughts?. I will take a look.. @turbo124 I forgot to add the settings to some of the sub-settings views, e.g. tax rates, users, etc.  I'm making the changes and will issue a new PR to fix the regressions.. It would still require expanding the translations beyond English - how is that usually handled?. Cool.  I'm not familiar with transifex.com.  So the additional strings simply get added as awaiting translation into the different languages, as long as the entry is made to the EN texts.php?. Thanks!  Shoot just realized I forgot to update the one section of the docs.  I just pushed an additional commit on the same branch you just merged.. No worries - didn't think it would get merged that quick! :grin:. You're thinking of it more in terms of notes unrelated to any specific task?  As @turbo124 said, you could just create an internal ticket for each client that stays open indefinitely and is just used for documentation purposes.\nThat being said, I do see your point that it sort of breaks the intuitiveness, as it's not really a ticket per se but rather client documentation.. I like the idea of the discount being valid for a certain number of days but honestly, I would prefer to see this feature on invoices and tied to the due date, e.g. net terms of 30 days but get a 5% discount if paid within 10 days.\nConversion on a quote or proposal is good but ultimately I'm more concerned about delinquent payment!  Just my 2 cents.. I don't mean a late fee, I mean a discount for early payment.\nI guess I just don't see the value in discounting just so the customer accepts the quote or proposal faster - they could just draw it out afterwards, which still wastes time on my end but now I'm making less overall on the project.\nNot that it's not a feature people might like - I could most certainly be in the minority! :grin:. Ah, I think I kind of see where you are going.  So the discount might be more applicable on the down payment - if the quote is accepted and the down payment is received within x days, receive y% discount?  Otherwise, pay the full down payment price?. I think I understand.  So the down payment is static, i.e. to use your example of $100 project with 50% down, the customer would always pay $50 initial for the down payment.  However, if they accept the quote early (say they get 25% off for early acceptance), when the final invoice is generated they would only owe $25 ($100 - 25% = $75 - Down payment of $50 = $25 owing.. So the percentage-type discount would work the way I described but the fixed amount would function more like a coupon, e.g. save $50?. I'm going to update the docs , as well - will push another commit for it in a couple of minutes.. Sure. It's to handle the situation for custom modules where the entityType is different from the pluralized version.. Handles fixing a mismatched breadcrumb when the module name is different.  The reason it specifically looks for the non-English locales is there is another check at line 142 that handles the English locale using the built-in str_singular function.\nThat being said, I'm wondering if the issue lies deeper inside the module translation code; I might keep looking a bit at it to see if I can fix the issue more elegantly.. Weird, my local copy doesn't have the indentation problem.. Looks like it was an issue with tabs versus spaces.. ",
    "ssnetwrks": "This implementation would be huge for us as well, and allow us to get rid of QBO.. This implementation would be huge for us as well, and allow us to get rid of QBO.. ",
    "bluethumb": "That is also a \"must have\" for me to fully use it  +1 \"Chart of Accounts\" . That is also a \"must have\" for me to fully use it  +1 \"Chart of Accounts\" . ",
    "JoyceBabu": "Wow! That must have been the fastest initial response on GitHub :)\nTo prevent confusion, and for consistency sake, it would have been nice to add them together.\n. Okay, thank you.\n. ",
    "alexgleason": "\nindividual users can make any changes they want to the code. However, by design we want to prevent businesses from reselling our app.\n\nI'm wondering what your thoughts are on Creative Common Attribution-NonCommercial 4.0. It seems to codify your intent.\n- Users and developers can freely adapt and redistribute the product\n- Anyone who adapts / redistributes the product must clearly attribute InvoiceNinja\n- No one can sell the product or derivatives of the product without explicit permission from the author\nThis is a more widely-known and less restrictive license than the current one, while maintaining the boundaries this project values.\n. Fair enough. Thank you for considering it!\nI will likely go with InvoicePlane given its BSD license, in spite of it being less actively developed and less complete. It needs a little bit of love on the front-end, but I feel more comfortable with this route knowing that contributions I might make will be owned by the community. Though I'm probably of a small minority who is this intolerant of non-libre software, even when it's open-source and distributed for free.\nThanks again for being open-minded and considerate.\n. One more comment: after carefully reading the license, it suggests that anyone redistributing the software (which I believe includes self-hosting, even for personal use) must follow this criteria:\neach time the resulting\nexecutable program or a program dependent thereon is launched, a\nprominent display (e.g., splash screen or banner text) of the Author's\nattribution information, which includes:\n(a) Name (\"Hillel Coren\"),\n(b) Professional identification (\"Invoice Ninja\"), and\n(c) URL (\"https://www.invoiceninja.com\").\nI don't think Invoice Ninja does this out of the box, so it might be worth including an option to allow this text to display in an agreed-upon way.\nAttached is a mockup where I've added the attribution to the bottom-left corner of the screen.\n\nIt may be worth templating this and then enabling/disabling it based on the presence of an environment variable. Like if INVOICENINJA_LICENSED is set to any value, the notification doesn't display, but by default it does display.\nEDIT: If you think the sidebar is overkill I think technically it could also go at the bottom of the dashboard since the dashboard is the launch page. If it appears below the fold it may be arguable as to whether it's a prominent display, but that's your call.\nEDIT2: Fixed \"InvoicePlane\" Freudian slip.\n. ",
    "mgralikowski": "What is the difference between white-label option and resseller options?\nCan i provide my modified app as a service to other people with active white-label option?. Ok, i understand.\nSo.. If i would to create app with white label option (custom name and logo app) and selling access to this system in my country, firstly i need pay 500$ and next pay 10% revenue? How pay a revenue technically? \n. ",
    "malonnnn": "@hillelcoren \nSorry for bumping an old thread, but I just want to say thank you. I just switched to Invoice Ninja because of the change of license and the progression of this thread. Not because there was anything restricting me before, but simply because I needed a better invoicing solution and the devs on this project clearly care. I'm a huge fan of proper open source and seeing the devs (you) respond so positively is insanely refreshing . Thank you for your work, so very much.. ",
    "tralamazza": "Can I make a PR with that change?\n. ",
    "FlorianFranzen": "In the latest version (v2.9.5) the list has grown:\nPackage guzzle/guzzle is abandoned, you should avoid using it. Use guzzlehttp/guzzle instead.\nPackage chumper/datatable is abandoned, you should avoid using it. Use OpenSkill/Datatable instead.\nPackage coatesap/omnipay-datacash is abandoned, you should avoid using it. Use digitickets/omnipay-datacash instead.\nPackage coatesap/omnipay-paymentsense is abandoned, you should avoid using it. Use digitickets/omnipay-paymentsense instead.\nPackage coatesap/omnipay-realex is abandoned, you should avoid using it. Use digitickets/omnipay-realex instead.\nPackage league/url is abandoned, you should avoid using it. Use league/uri instead.\nPackage labs7in0/omnipay-wechat is abandoned, you should avoid using it. Use lokielse/omnipay-wechatpay instead.\nPackage illuminate/html is abandoned, you should avoid using it. Use laravelcollective/html instead.\nPackage samvaughton/omnipay-barclays-epdq is abandoned, you should avoid using it. Use digitickets/omnipay-barclays-epdq instead.. I am not sure how this is possible, but you master and develop branch diverge heavily.\nIt seems like you are not merging develop into master every time you do a release, but rather like you cherry pick all the patches that are supposed to make it into the release into master instead. \nI am not going to go to the trouble of rebasing my one line patch against against develop, but I will patch the develop branch by hand instead and open a new pull request.  \nThis is not meant in any mean way, I love the work you guys are doing, but I would seriously recommend you to take some time to familiarize with git and github a bit better. I will promise you, it will start saving you a lot of time rather quickly and will allow you to spent more time coding and less time managing patches and merge conflicts. You will for example see, that having branches that do not diverge and making user open either an issue or a pull request will save you quite some time.\n. ",
    "pegasus87": "I want to add some custom font types too. But running InvoiceNinja in a docker environment took me to some problems I wasn't able to resolve. It's not so easy run the grunt and the php command in the container. I configured a docker volume which makes it easier to copy the ttf files to public/fonts but after that I find no way to run the other commands.\nIt would be nice if there were a dialog in the UI to upload some new font files. . Yes of course. I also tested other languages than German and the problem seems to be the same.\nThe invoice_date variable has the problem too (I didn't get it until I selected an other language than German because \"April\" is the same in English and German ;-) ).\nThe date shown in the form on the top of the page where I create an invoice do also show this wrong translation. I think it's served by the same source.. Oh yes, #167 is exactly the same problem, apart from that the focus is on the dd/mm/yyyy format. But the issue that \"March\" in \"1. March 2017\" is not translated (what was marked in #167 too) is the problem I wanted to discuss here. This should be fixed also without any hacks in the code by user, I think.. That will be the workaround ;-). It seems that there is no code in there. I attached a screenshot where you can the see the background tab of the \"Modern\" design. Maybe this is a regression of the update process? Where are these code snippets stored and are they updated correctly?\n\n. With this code snippet the background image is visible. Not everything is visible, it seems to be scaled up too much so that only the middle part of the image is visible. Are there more options to scale it down?\nI'm running Invoice Ninja in a docker container and just pull the new version of the image and recreate the container. The Invoice Ninja update process is always running after setting up a new version but I don't know if there are some things which have to be updated manually to work correctly. I've never had any issues for now.... ",
    "davidsivocha": "This is linked to issue #1068 \n. No problem! Glad to contribute!\n. ",
    "webproteam": "thanks.\nBut when I run gulp to update built files, I have encountered error.\nmodule.js:327\n    throw err;\n    ^\nError: Cannot find module 'laravel-elixir'\n    at Function.Module._resolveFilename (module.js:325:15)\n    at Function.Module._load (module.js:276:25)\n    at Module.require (module.js:353:17)\n    at require (internal/module.js:12:17)\n    at Object. (F:\\Laravel-Invoice\\ninja\\gulpfile.js:1:76)\n    at Module._compile (module.js:409:26)\n    at Object.Module._extensions..js (module.js:416:10)\n    at Module.load (module.js:343:32)\n    at Function.Module._load (module.js:300:12)\n    at Module.require (module.js:353:17)\n    at require (internal/module.js:12:17)\nI hope you help me with this issue.\nThanks.\n. thanks. You saved my times. Great!!!\n. ",
    "MarcosBL": "Sure, that's my current setup, thanks !\n. ",
    "Rubueno": "Will do.\n. That did the job. Thanks a lot!\n. ",
    "ArjonBu": "But when a client replies to the invoice email, he/she will reply to info@mail.domain.com and thus the email will not be sent. This is the issue for me. Many other application add a default reply to which could be customized by the admin. \nIs there a way to add it to the env file without adding support to the application? \n. Sadly can not make it work with sendgrid. Sendgrid smtp needs a username which is \"apikey\" string and a password which is the generated api key. Is there a workaround? \n. Okay thank you. \n. 1. It works fine on chrome. \n2. It freezes all pages. I think it gave me a js error on firefox. \n3. The problem is not visible in client portal. . @hillelcoren can not reproduce it. I think it was a firefox issue because it made firefox unresponsive. It could be related to the homepage graph. It loads a few seconds after the page. Also records in different pages (invoices, clients, credit etc...) show a few seconds after the page is loaded. . @Braintelligence I don't usually use PDF-s but tell me how I can reproduce your bug. . @hillelcoren It's not the same as the previous version. The page freezes, mouse is unresponsive and it takes more than 4-5 seconds to fully load a page. This is clearly a bug. Is there a log file where I can get more info? . @hillelcoren Sure. How can I do that? It would be great if you didn't have access to the settings page because of paypal api. \n@Braintelligence Yeah, tried it. . @Braintelligence it could be. I have added @hillelcoren as a normal user. Hopefully he can confirm it. . It is working fine! I had enabled some beta preferences for firefox and it was causing problems with other tabs too. Sorry for wasting your time. . A simple ticket system would be great. . ",
    "louisremi": "@hillelcoren How is it possible to set all email fields? Which version is required to do that?\nThanks :-). Not being able to set an app-wide Reply-To address is a real problem to us. We have many users from our client-relation team sending invoices, but we want to centralize answers to a single address that is redirected to our support App (HelpScout).\nWould you consider a PR adding an optional Reply-To field to these settings? We could start working on this in 2 weeks.. I'm working on it, but I'm surprised that the \"add to gateways table\" step is manual and undocumented. Has this always been the case?. alright :-|. It doesn't. Searching for \"Dwolla\" on this repo makes it clear that this requires more efforts. I don't have an urgent need for the feature but will happily have a go at it later if no ones fixes it in the meantime :-). Oh. That was quick :-)\nI plan on setting up unit-tests for the REST API. I'll issue a different PR.. Actually, it seems Swagger-js would cover my needs, without requiring me to setup complex build/publishing scripts.\nI'll go with that for now.. ",
    "freskimo": "Doesn't fix the problem.\n. I deleted the db and started all over. \nI think the problem is that the external url is used instead of an absolute url of the logo.\n. The problem persist. I think i might know what the problem is. In Ninja the logo is loaded via fopen and the external URL is used. There is a problem with fopen in combination with https. The solution would be very simple and use the path instead of an URL to access the logo.\n. either absolute or relative:\nvar/www/app/public/logo/xxx.png or app/public/logo/xxx.png\n. Is there a possibility to have 2 custom themes?\n. That is unacceptable. How do you guys put messages in the invoice which state to pay before the due date and to pay on this bankaccount?\n. Doesn't seem much hassle to implement variables in terms and/or clone a theme.\n. yes, but then i have to manually change the invoice number in the text and i lose the possibility to include terms & conditions.\n. The $notesAndTerms variable is also strange. Could you explain how it can be used in the template?\n{\n    \"text\": \"$notesAndTerms\",\n    \"alignment\": \"center\",\n    \"margin\": [\n      0,\n      50,\n      0,\n      0\n    ],\n    \"bold\": true\n  },\ngives an error...\n. TypeError: t is undefined\nthanks for the quick response btw  ;)\n. Okay got it. Just need to know how to extract the value from $notesAndTerms without the label.\n$invoice.terms nor $notesAndTermsValue are working... \nIs there somewhere a list of all variables?\n. - ReferenceError: isMobile is not defined\n// Use the browser's built in PDF viewer\n    if ((isChrome || isFirefox) && ! forceJS && ! isMobile) {\nThis could explain why the pdf is not generated anymore\n\n\nunreachable code after return statement\nfunction setInvoiceNumber(client) {\n                    return;\n                var number = 'IV17041';\n        number = number.replace('{$custom1}', client.custom_value1 ? client.custom_value1 : '');\nWhy does this function return immediately?\n\n\nReferenceError: Mousetrap is not defined\n```\n$(function() {\nMousetrap.bind('?', function(e) {\n    showKeyboardShortcuts();\n});\n\n```\nlooks less important\n\n\nI cleared cache in Invoice ninja & browser. Also tried different browsers.... How can you recompile the public/built.js?. My public/built.js does not contain the isMobile var but the assets/js/script does?\nI don't get It.... okay found the problem. It is related to the Dockerfile\nVOLUME /var/www/app/public\nThe container should be stopped and removed and not only upgraded.\nThanks for all the help hillecoren!. Well It is not self updating but if you pull the new image from the docker hub and you run the container with the new code, the persistent volumes keep the old code so you should stop the container and remove it to free the volumes. My PR fixes this issue and uses the volumes correctly (also fixes the persistence of the log files and logo). No this issue has nothing to do with the self-updating feature.\nIf you setup invoice ninja the first time in a docker container the declared volume /var/www/app/public is persistent. This means that if the container is restarted the changes made on this directory different from the original image are persisted. Once you want to update a new version you pull the new image and stop the current container then you start the same container with the new image. Because the volumes are persistent the changes reflected in the new image are not copied over the existing files. This means all files in /var/www/app/public are not updated with the new version.. +1. Okay got It. Thanks for the explanation.. Thanks for the invitation. I corrected the mistakes. Will this be included automatically in the new version?. Are the generated pdfs saved somewhere locally?. @Braintelligence i see so only encrypted invoices can be stored?\n. php artisan ninja:update-key\n2017-10-08 11:14:29 Running UpdateKey...\n2017-10-08 11:14:29 Error: app key and cipher are not set. ```\n    'key' => env('APP_KEY', 'SomeRandomStringSomeRandomString'),\n'cipher' => env('APP_CIPHER', 'AES-256-CBC'),\n\n``\nIf I just change the cipher en pass in theenv. all the client platform can not be decrypted.\nAlso for changing the cipher I need a 32char passphrase and i used the defaultSomeRandomString`.. Got it thanks!\nconfig:clear with AES-128-CBC did the trick.. ",
    "justinsteele": "Any chance this is a rounding / float issue? @anythingtechaus and @pguth, can you provide a few examples of invoices that are marked as paid and ones that are NOT? (timeline of events, amounts in question, etc). ",
    "StefanS-O": "Yeah that is a good idea as well. I will see if i can figure it out. \n. ",
    "alariva": "Cool, sent request to join.\n. Already working from Trasifex, I think we can close this for now.\nThanks\n. @TGHepburn When the geocoding fails to fetch the address, it simply can't render the map marker. The API response returns a status code that could be fetched. However for the purpose of the map in this case and already knowing the map would not load because of bad address or obviously misconfigured api key, I'd say this seems to be just a cheesy nice-to-have.\n. A rebase would have came in handy.\n. Also reproduced here. Pasting the exception (No such column is_deleted)\nSo I'm not sure but looks like it's trying to update that column while it's not present in the products table. I could not either find any migrations adding this column to this table. It might also be possible that the problem is in either the ProductService or ProductDatatable handling deletions.\n```\n[2016-11-13 02:44:44] production.ERROR: exception 'PDOException' with message 'SQLSTATE[42S22]: Column not found: 1054 Unknown column 'is_deleted' in 'field list'' in .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php:478\nStack trace: \n0 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(478): PDO->prepare('update `product...')\n1 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(722): Illuminate\\Database\\Connection->Illuminate\\Database{closure}(Object(Illuminate\\Database\\MySqlConnection), 'update `product...', Array)\n2 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(685): Illuminate\\Database\\Connection->runQueryCallback('update `product...', Array, Object(Closure))\n3 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(483): Illuminate\\Database\\Connection->run('update `product...', Array, Object(Closure))\n4 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(426): Illuminate\\Database\\Connection->affectingStatement('update `product...', Array)\n5 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2099): Illuminate\\Database\\Connection->update('update `product...', Array)\n6 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(532): Illuminate\\Database\\Query\\Builder->update(Array)\n7 .../htdocs/bootstrap/cache/compiled.php(10889): Illuminate\\Database\\Eloquent\\Builder->update(Array)\n8 .../htdocs/bootstrap/cache/compiled.php(10854): Illuminate\\Database\\Eloquent\\Model->performUpdate(Object(Illuminate\\Database\\Eloquent\\Builder), Array)\n9 .../htdocs/app/Ninja/Repositories/BaseRepository.php(88): Illuminate\\Database\\Eloquent\\Model->save()\n10 .../htdocs/app/Services/BaseService.php(36): App\\Ninja\\Repositories\\BaseRepository->delete(Object(App\\Models\\Product))\n11 .../htdocs/app/Http/Controllers/ProductController.php(167): App\\Services\\BaseService->bulk(Array, 'delete')\n12 [internal function]: App\\Http\\Controllers\\ProductController->bulk()\n13 .../htdocs/bootstrap/cache/compiled.php(9478): call_user_func_array(Array, Array)\n14 .../htdocs/bootstrap/cache/compiled.php(9540): Illuminate\\Routing\\Controller->callAction('bulk', Array)\n15 .../htdocs/bootstrap/cache/compiled.php(9520): Illuminate\\Routing\\ControllerDispatcher->call(Object(App\\Http\\Controllers\\ProductController), Object(Illuminate\\Routing\\Route), 'bulk')\n16 [internal function]: Illuminate\\Routing\\ControllerDispatcher->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n17 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n18 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n19 .../htdocs/bootstrap/cache/compiled.php(10002): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n20 .../htdocs/bootstrap/cache/compiled.php(9521): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n21 .../htdocs/bootstrap/cache/compiled.php(9508): Illuminate\\Routing\\ControllerDispatcher->callWithinStack(Object(App\\Http\\Controllers\\ProductController), Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'bulk')\n22 .../htdocs/bootstrap/cache/compiled.php(8578): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'App\\Http\\Contro...', 'bulk')\n23 .../htdocs/bootstrap/cache/compiled.php(8565): Illuminate\\Routing\\Route->runController(Object(Illuminate\\Http\\Request))\n24 .../htdocs/bootstrap/cache/compiled.php(8279): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n25 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n26 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n27 .../htdocs/app/Http/Middleware/Authenticate.php(90): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n28 [internal function]: App\\Http\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'user')\n29 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n30 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n31 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n32 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n33 .../htdocs/bootstrap/cache/compiled.php(10002): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n34 .../htdocs/bootstrap/cache/compiled.php(8280): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n35 .../htdocs/bootstrap/cache/compiled.php(8271): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n36 .../htdocs/bootstrap/cache/compiled.php(8261): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n37 .../htdocs/bootstrap/cache/compiled.php(2419): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n38 [internal function]: Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http{closure}(Object(Illuminate\\Http\\Request))\n39 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n40 .../htdocs/app/Http/Middleware/StartupCheck.php(196): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n41 [internal function]: App\\Http\\Middleware\\StartupCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n42 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n43 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n44 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n45 .../htdocs/app/Http/Middleware/QueryLogging.php(29): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n46 [internal function]: App\\Http\\Middleware\\QueryLogging->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n47 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n48 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n49 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n50 .../htdocs/app/Http/Middleware/DuplicateSubmissionCheck.php(36): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n51 [internal function]: App\\Http\\Middleware\\DuplicateSubmissionCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n52 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n53 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n54 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n55 .../htdocs/bootstrap/cache/compiled.php(3225): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n56 .../htdocs/app/Http/Middleware/VerifyCsrfToken.php(54): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n57 [internal function]: App\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n58 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n59 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n60 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n61 .../htdocs/bootstrap/cache/compiled.php(13527): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n62 [internal function]: Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n63 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n64 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n65 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n66 .../htdocs/bootstrap/cache/compiled.php(12017): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n67 [internal function]: Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n68 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n69 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n70 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n71 .../htdocs/bootstrap/cache/compiled.php(13266): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n72 [internal function]: Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n73 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n74 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n75 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n76 .../htdocs/bootstrap/cache/compiled.php(13203): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n77 [internal function]: Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n78 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n79 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n80 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n81 .../htdocs/bootstrap/cache/compiled.php(3286): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n82 [internal function]: Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n83 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n84 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n85 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n86 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n87 .../htdocs/bootstrap/cache/compiled.php(10002): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n88 .../htdocs/bootstrap/cache/compiled.php(2366): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n89 .../htdocs/bootstrap/cache/compiled.php(2350): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n90 .../htdocs/public/index.php(52): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n91 {main}  Next exception 'Illuminate\\Database\\QueryException' with message 'SQLSTATE[42S22]: Column not found: 1054 Unknown column 'is_deleted' in 'field list' (SQL: update products set updated_at = 2016-11-13 02:44:44, is_deleted = 1 where id = 3)' in .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php:729 Stack trace:\n0 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(685): Illuminate\\Database\\Connection->runQueryCallback('update `product...', Array, Object(Closure))\n1 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(483): Illuminate\\Database\\Connection->run('update `product...', Array, Object(Closure))\n2 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php(426): Illuminate\\Database\\Connection->affectingStatement('update `product...', Array)\n3 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2099): Illuminate\\Database\\Connection->update('update `product...', Array)\n4 .../htdocs/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(532): Illuminate\\Database\\Query\\Builder->update(Array)\n5 .../htdocs/bootstrap/cache/compiled.php(10889): Illuminate\\Database\\Eloquent\\Builder->update(Array)\n6 .../htdocs/bootstrap/cache/compiled.php(10854): Illuminate\\Database\\Eloquent\\Model->performUpdate(Object(Illuminate\\Database\\Eloquent\\Builder), Array)\n7 .../htdocs/app/Ninja/Repositories/BaseRepository.php(88): Illuminate\\Database\\Eloquent\\Model->save()\n8 .../htdocs/app/Services/BaseService.php(36): App\\Ninja\\Repositories\\BaseRepository->delete(Object(App\\Models\\Product))\n9 .../htdocs/app/Http/Controllers/ProductController.php(167): App\\Services\\BaseService->bulk(Array, 'delete')\n10 [internal function]: App\\Http\\Controllers\\ProductController->bulk()\n11 .../htdocs/bootstrap/cache/compiled.php(9478): call_user_func_array(Array, Array)\n12 .../htdocs/bootstrap/cache/compiled.php(9540): Illuminate\\Routing\\Controller->callAction('bulk', Array)\n13 .../htdocs/bootstrap/cache/compiled.php(9520): Illuminate\\Routing\\ControllerDispatcher->call(Object(App\\Http\\Controllers\\ProductController), Object(Illuminate\\Routing\\Route), 'bulk')\n14 [internal function]: Illuminate\\Routing\\ControllerDispatcher->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n15 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n16 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n17 .../htdocs/bootstrap/cache/compiled.php(10002): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n18 .../htdocs/bootstrap/cache/compiled.php(9521): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n19 .../htdocs/bootstrap/cache/compiled.php(9508): Illuminate\\Routing\\ControllerDispatcher->callWithinStack(Object(App\\Http\\Controllers\\ProductController), Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'bulk')\n20 .../htdocs/bootstrap/cache/compiled.php(8578): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'App\\Http\\Contro...', 'bulk')\n21 .../htdocs/bootstrap/cache/compiled.php(8565): Illuminate\\Routing\\Route->runController(Object(Illuminate\\Http\\Request))\n22 .../htdocs/bootstrap/cache/compiled.php(8279): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n23 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n24 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n25 .../htdocs/app/Http/Middleware/Authenticate.php(90): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n26 [internal function]: App\\Http\\Middleware\\Authenticate->handle(Object(Illuminate\\Http\\Request), Object(Closure), 'user')\n27 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n28 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n29 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n30 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n31 .../htdocs/bootstrap/cache/compiled.php(10002): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n32 .../htdocs/bootstrap/cache/compiled.php(8280): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n33 .../htdocs/bootstrap/cache/compiled.php(8271): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n34 .../htdocs/bootstrap/cache/compiled.php(8261): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n35 .../htdocs/bootstrap/cache/compiled.php(2419): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n36 [internal function]: Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http{closure}(Object(Illuminate\\Http\\Request))\n37 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(52): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n38 .../htdocs/app/Http/Middleware/StartupCheck.php(196): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n39 [internal function]: App\\Http\\Middleware\\StartupCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n40 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n41 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n42 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n43 .../htdocs/app/Http/Middleware/QueryLogging.php(29): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n44 [internal function]: App\\Http\\Middleware\\QueryLogging->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n45 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n46 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n47 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n48 .../htdocs/app/Http/Middleware/DuplicateSubmissionCheck.php(36): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n49 [internal function]: App\\Http\\Middleware\\DuplicateSubmissionCheck->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n50 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n51 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n52 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n53 .../htdocs/bootstrap/cache/compiled.php(3225): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n54 .../htdocs/app/Http/Middleware/VerifyCsrfToken.php(54): Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n55 [internal function]: App\\Http\\Middleware\\VerifyCsrfToken->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n56 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n57 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n58 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n59 .../htdocs/bootstrap/cache/compiled.php(13527): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n60 [internal function]: Illuminate\\View\\Middleware\\ShareErrorsFromSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n61 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n62 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n63 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n64 .../htdocs/bootstrap/cache/compiled.php(12017): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n65 [internal function]: Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n66 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n67 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n68 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n69 .../htdocs/bootstrap/cache/compiled.php(13266): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n70 [internal function]: Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n71 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n72 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n73 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n74 .../htdocs/bootstrap/cache/compiled.php(13203): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n75 [internal function]: Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n76 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n77 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n78 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n79 .../htdocs/bootstrap/cache/compiled.php(3286): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n80 [internal function]: Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n81 .../htdocs/bootstrap/cache/compiled.php(10017): call_user_func_array(Array, Array)\n82 [internal function]: Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n83 .../htdocs/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(32): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n84 [internal function]: Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n85 .../htdocs/bootstrap/cache/compiled.php(10002): call_user_func(Object(Closure), Object(Illuminate\\Http\\Request))\n86 .../htdocs/bootstrap/cache/compiled.php(2366): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n87 .../htdocs/bootstrap/cache/compiled.php(2350): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n88 .../htdocs/public/index.php(52): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n89 {main} [] []\n``\n. In my opinion, as long as the invoice was just a mere _test_, i think it probably wont bring future problems. Of course, it's about backing up and trying it out.\n. Looks like a reasonable approach for going around those test items.\n. @math3os Also check your project dir permissions (or directory is not writable`)\n. The Github codebase should stay as currently is for development use and advanced users.\nA fully fledged zip would be also possible as a nice to have for simplifying the installation process, however this would be complementary/alternative packaging, and not part of the Github-based distribution flow.\n. I came up with this issue, recently, while trying to create a new invoice. Is there any workaround? Since changing file permissions dont seem to solve the problem. Not sure how could I change the cache path for a fix, is that at config or dev level?\nEDIT: My bad. Changing perms do solve the problem, but it's of course a temp-fix. What a suggested permanent fix would be like?. ",
    "tristancaron": "This feature would be really appreciate.\nhttps://www.invoiceninja.com/forums/topic/set-user-owner-from-api/#post-13409. ",
    "isacsg": "I have a registration system, and use the ninja invoice as backend.\nI'd like customers to sign up, so I created invoices in the backend. \nunderstand?\nthe client even register, and then I create invoices\n. but I would like the customer's account was automatically created, \nwhen she makes the payment. This function 'buy now' allows this?\n. Thank You Hillel, y reseller the key for installation softaculous haha\nYou are the best :D thanks!\n. basically,\nThe user can see the task that the admin has created, follow the direct development on the panel/dashboard of user.\n. example:\n\n. thanks :)\nwould be possible for me to buy this feature, you develop it?\n. ",
    "dustindauncey": "Changed it one more time from 530 to 532 as 530 was just a tad too short too.\n. ```\nDefinitely. I'll try to get that done in the next couple of days.\n--\u00a0\nDustin Dauncey\nOn 2016-10-15 10:33 AM, Hillel Coren wrote:\nThanks for the fix! \n  Can you please create the PR against the develop branch\n  \u2014\n    You are receiving this because you authored the thread.\n    Reply to this email directly, view\n      it on GitHub, or mute\n      the thread.\n{\"api_version\":\"1.0\",\"publisher\":{\"api_key\":\"05dde50f1d1a384dd78767c55493e4bb\",\"name\":\"GitHub\"},\"entity\":{\"external_key\":\"github/invoiceninja/invoiceninja\",\"title\":\"invoiceninja/invoiceninja\",\"subtitle\":\"GitHub repository\",\"main_image_url\":\"https://cloud.githubusercontent.com/assets/143418/17495839/a5054eac-5d88-11e6-95fc-7290892c7bb5.png\",\"avatar_image_url\":\"https://cloud.githubusercontent.com/assets/143418/15842166/7c72db34-2c0b-11e6-9aed-b52498112777.png\",\"action\":{\"name\":\"Open in GitHub\",\"url\":\"https://github.com/invoiceninja/invoiceninja\"}},\"updates\":{\"snippets\":[{\"icon\":\"PERSON\",\"message\":\"@hillelcoren in #1104: Thanks for the fix! \\r\\n\\r\\nCan you please create the PR against the develop branch\"}],\"action\":{\"name\":\"View Pull Request\",\"url\":\"https://github.com/invoiceninja/invoiceninja/pull/1104#issuecomment-253998589\"}}}\n```\n. @hillelcoren, I'm new to GitHub but I think I changed the pull request to be against the Develop base branch. I see that you closed this two days ago... is this still do-able now that I've changed it or do I need to create a new one from scratch?\n. Ok. Will do. \n. Closing this out in favour of the latest pull request (#1128) to replace this one against Develop branch.\n. Really? Interesting. I never noticed that behaviour myself. I'll try to attach screenshots at a later date of before and after the change for me, at least for reference.\nThank you for letting me know. Sorry for any issues it caused. I'll try to look further into that issue soon. \nDustin Dauncey\n\nOn Nov 20, 2016, at 10:04 AM, Hillel Coren notifications@github.com wrote:\nI've had to rollback the change, it caused the right alignment of the table to be off.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. \n",
    "MagicFab": "If / when implemented this should also take into account multiple tax rates, see #1419 .. I stand corrected, this only happens when marking several invoices paid at the same time.\nThis can be tagged as a feature request.. No, separate ones. In Freshbooks if I \"enter payment\" for >1 invoice, I will get as many separate fields.. \n. The screenshot is after choosing 2 invoices pending payment (for the same customer).. Has this been rolled out to your commercial offering? I can't seem to find this field.. \n\n\n\n. I forgot to mention, I double checked calculations with Revenue Canada's online tool, the example is for a business based in Quebec (using the corresponding tax %).. > What tax rates are you using?\nAs I indicated initially, Quebec (provincial) sales tax (QST) is 9.975%. Government (federal) sales tax (GST) is 5%. In each example in my initial report I indicated corresponding amounts.\n\nAlso, if you don't use the line item taxes you can disable them on /settings/tax_rates\n\nSometimes taxes don't apply so I need some flexibility to either calculate globally or per-item, that's why I have this setup.\n. This now looks closed, is it possible to indicate an approximate time to release this and similar fixes to invoiceninja.com? RIght now I am delaying entering new invoices. . I hadn't thought about decimal notation, autoconverting is OK as long as the decimal values are carried over fine for invoice calculation. Thank you!\n. I've also noticed navigation goes back to the first page of the invoice paged listing.\nIf you're restoring an invoice on page 3 of a long list, you will have to also go back to page 3 once you go back to the initial invoice listing.. Ok, I'll have to do this manually for those I hav, not a huge deal. Thanks for the quick replies!. Yes, selecting one date and entering time.\nSorry I missed that important detail (I edited the initial request), the date has to remain - otherwise this doesn't make sense. The use case here is \"I worked X hours on this day, I don't care about start/finish times\".\nRight now when I enter duration manually I have to adjust start/end times manually which amounts to making up the information. \nEntering duration only also covers use cases where lunch time, breaks, etc. are already accounted for.. I've filed a separate issue about current exports including the currency formatting which makes it even more difficult to do this reporting even in a spreadsheet. See #2274 .. @hillelcoren sure, but including this in export reports makes it a text field, then more difficult to analyze.\nIs there an option to export only numbers then? Or numbers + separate currency indicator/field?. I agree the export format should not be tied to the locale of the user, it should be in standard internal format (a suggestion from W3.org), just like the database values. The web interface in Invoice Ninja is a front end which can then present information based on the locale, including formatting for big numbers, currency, etc. This should not be included in raw CSV exports, as opposed to spreadsheet-formatted exports (XLS, ODF, etc.) or PDFs.\nA separate column for currency would help for sure, and is probably the simplest way to go about this in this context. This should then be a value from the IBAN list of currency codes by country, not an abbreviation: I get C$ in my case, it should be CAD.\n. ",
    "gpasztor87": "Oh! I see it has been fixed in the develop branch. :)\n. In Laravel 5.2 there has been created a default User model with the typical interfaces. I just simplified this model with that.\nLink\n. Ok, I just have the following text after composer install:\n\n. ",
    "Glassback": "Here's the string pay_now on resources/lang/fr/texts.php\n'pay_now' => 'Payer maintenant',\n. I can't reproduce the steps for the error... I upgrade Invoice Ninja to use PHP7.0 did I miss to install some libraries?\n```\n                '<?php echo Form::flatButton('view_invoice', '#40c4ff); ?>$password',\n                \"<?php echo e(URL::to('/payment/...')); ?>$password\",\n273          '<?php echo Form::flatButton('pay_now', '#36c157'); ?>$password',\n                '<?php echo e(trans('texts.auto_bill_notification_placeholder')); ?>',\n```\n. The translation was not done for some texts, I've modified the resources/lang/fr/texts.php file.\nHave you some ideas from where the error comes?\n. Same error...\nI've also tried to clear the cache and the view... same error\n. ",
    "MathiasRenner": "Thanks, I can confirm it works now flawlessly!. I think I have to reopen this. I have v 2.9.1 and the same issue still exists... . It worked out, thank you so much for your quick response!. It seems like you don't support the \"sharp s\" that exists in german language, written as \"\u00df\".\nDuring import, all \"\u00df\" were replaced by \"?\". I had to fix all of them after import.\nSame with \"\u00f6\", \"\u00fc\", and \"\u00e4\".. The table that I imported contained client data. It had this structure:\nLastName,FirstName,Street,PostalCode,City,Name,Email\n<data>,<data>, ....\n. I just sent you the Email.. @gavinkalika Here you are, this is the file I sent to Hillel:\nhttps://cloud.mathias-renner.com/index.php/s/BiSFWUTiIV5XS7p\nBTW I haven't looked into InvoiceNinja for quite a while, not sure if the bug is still an issue. Please try to replicate the bug again.. @hillelcoren Sure, it's this one:\nvar tasks = <?php echo $tasks; ?>;\n. @hillelcoren Only wenn I invoice tasks. Blank invoices seem to be OK.. It does, seems to work fine, thank you!\nYour response time is as good as with a project that includes a very expensive SLA. Hope you still enjoyed your Sunday though :). This is the error thrown when I send an invoice:\nhttps://gist.github.com/MathiasRenner/47d3e3aaa192881c21d93dcc57dbb872. Yep, it's 2.11:\nroot@2ddca0201fcb:/var/www/app# phantomjs --version\n2.1.1\nAnd it also seems to be correct in the .env file:\nPHANTOMJS=phantomjs-2.1.1-linux-x86_64. $ which phantomjs\n/usr/local/bin/phantomjs\n$ printenv | grep phantom\nPHANTOMJS=phantomjs-2.1.1-linux-x86_64\nPHANTOMJS_BIN_PATH=/usr/local/bin/phantomjs. OK, I downloaded phantomjs manually and updated .env to point to the downloaded phantomjs binary (and validated it). But it didn't help, same error as I posted on gist further up :-(\n. @turbo124 Why did you close this? It's not resolved to me.\nAlso, to me the label \"bug\" seems to be a better fit than \"question\" ;). Just updated to latest v.3.3.3 \u2013 Now, invoices are not sent at all. Whaaaat :-/\n. @hillelcoren This issue is still a problem for me. In the laravel log, the following two messages repeat when sending an invoice:\n[2017-06-18 11:15:31] production.ERROR: Local PhantomJS Error: 0 - http://localhost:8080/view/1hl3qxaq6l8tyuhjvfon6awi1mf1nfw5?phantomjs=true&phantomjs_secret=  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Mathias Renner\",\"method\":\"PUT\",\"url\":\"http://localhost:8080/invoices/24\",\"previous\":\"http://localhost:8080/invoices/24/edit\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0\",\"ip\":\"172.19.0.1\",\"count\":8,\"is_console\":\"no\"} []\n[2017-06-18 11:15:31] production.ERROR: PhantomJS - Invalid response:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Mathias Renner\",\"method\":\"PUT\",\"url\":\"http://localhost:8080/invoices/24\",\"previous\":\"http://localhost:8080/invoices/24/edit\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0\",\"ip\":\"172.19.0.1\",\"count\":9,\"is_console\":\"no\"} []\nI tried your phantomjs test script above, it says:\nroot@4785ef58f3a2:/var/www/app# phantomjs test.pjs \n\\n{\n    \"contentType\": null,\n    \"headers\": [],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"end\",\n    \"status\": null,\n    \"statusText\": null,\n    \"time\": \"2017-06-18T11:20:46.274Z\",\n    \"url\": \"http://localhost:8080/view/1hl3qxaq6l8tyuhjvfon6awi1mf1nfw5?phantomjs=true&phantomjs_secret=\",\n    \"console\": []\nI am not using SSL, which might be the problem in the #1508\nAny help?. I went through the test above, they all still hold (version 2.1.1, the path is OK etc.). phantomjscloud is not an option to me, because I don't wanna process PDFs with client data somewhere in the cloud.\n. I mean, this feature used to work, can you think about which changes in the app might have broken it? What about your cloud service of invoiceninja - does the PDF attachements work there? And if yes, what's the difference?. OK. \nCould it be related to special characters, such as \"\u00a7\" (which I use in my PDFs for example)? Ah, I don't know, I have to leave this to you  and your team I guress... But since this feature is very useful it's so sad that it does not work for me.. Tested it, this is not the problem. Any other ideas?. @hillelcoren I don't know how to run the test script. Could you please try to solve this issue?. @bnova-stefan Thank for the tip, but I am not sure what you mean. IMHO routing shouldn't be an issue cause the Email itself is sent, just not with attachment.\nWhat exactly did you add into the /etc/hosts?\nIn my case, my email host does not reply on ICMP messages, so ping does not work for that host. For all other hosts, ping works fine. The problem persists even with an update to v 3.9.2. @anark10n Did you have success? I am also having trouble regarding this issue.. @xanerolozorus Thanks for posting, I almost felt @anark10n and me are the only ones having the problem meaning it might be our specific setup :-). True, the email settings were just missing, now emails are sent.\nI haven't yet setup the Docker-compose file in a way that the email settings are kept when I set it up on a new machine, will look into that soon. thanks!. I am not using an .env file. Instead, I put the env vars directly into the docker-compose. This is the docker-compose file, that is adapted by the user during an install script: https://github.com/MathiasRenner/invoiceninja-docker/blob/master/docker-compose.yml\nI did not create an APP_KEY at all.\nWhen I add an APP_KEY now and start the app with the latest docker image, it says:\n\n. Just figured smth out: When I put  an APP_KEY of 32 chars, the error is gone!. I just figured out that I cannot edit the design at all, because the app crashes whenever I click on \"save\".. To me, a SQL not found error and a encryption error seemed not to be related, that's all why I opened two issues.. Seems to be solved with https://github.com/invoiceninja/invoiceninja/issues/1573. @hillelcoren When I update from 4.1.0 to 4.2.0, it forgets my data and shows the setup page with my data filled in the forms.\nWhen I update from 4.1.0 to latest 4.4.2, it says \"Whoops, looks like something went wrong.\"\nIn both update process, if I put /update the browser says: \nSQLSTATE[HY000] [1049] Unknown database 'forge' (SQL: SELECT engine FROM information_schema.TABLES WHERE TABLE_NAME='clients' AND TABLE_SCHEMA='ninja')\nGoing back again to 4.1.0 works well, all data is back there.. ",
    "gavinkalika": "could you upload a copy of the file. i would like to work on this bug if applicable. ",
    "evansg": "I would love a timesheet feature that could export to pdf. The task module is nice but I don't always want to convert a list of tasks to an invoice.. Thanks for the suggestion I will try that . ",
    "dansperfect": "I've looked through all my logs and there isn't any errors. No errors are generating when refreshing the page or anything\n. Yes I have tested in chrome fire fox and internet explorer on two different machines, have check from my iphone and my note 7\n. ",
    "DeanWard": "Sounds like a great solution to the problem. I'd personally like to see the ability for the modules to be installed with one click from the store.\nOnly concern I have is how would modules be prevented from playing around with critical settings (like gateway private keys) - will they be vetted before going into the store?\n. ",
    "NickJorens": "Great suggestion.\nI would love something to better manage my tasks. I'm a freelance Web Developer and use Invoice Ninja to keep track of my work and make invoices from them. It would be great if I could link them to Git commits to give my client a better view of what I'm working on and how long it took.\nI mainly develop in Laravel so I could potentially make this if I find the time and if more people want the same?\n. This results in the same error.\n. Sorry for not replying in time but I just wanted to verify that /update did the trick!. [2017-03-27 08:49:30] production.ERROR: ***ErrorException*** [0] : /var/www/invoiceninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Encoder/Base64Encoder.php [Line 37] => base64_encode() expects parameter 1 to be string, array given  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/invoices\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.110 Safari/537.36\",\"ip\":\"192.168.1.1\",\"count\":1} []\n[2017-04-02 15:01:16] production.ERROR: ***ErrorException*** [0] : /var/www/invoiceninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Encoder/Base64Encoder.php [Line 37] => base64_encode() expects parameter 1 to be string, array given  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/invoices\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36\",\"ip\":\"192.168.1.1\",\"count\":1} []\n[2017-04-02 19:54:33] production.ERROR: ***ErrorException*** [0] : /var/www/invoiceninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Encoder/Base64Encoder.php [Line 37] => base64_encode() expects parameter 1 to be string, array given  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/invoices\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36\",\"ip\":\"192.168.1.1\",\"count\":2} []\n[2017-04-02 19:58:19] production.ERROR: ***ErrorException*** [0] : /var/www/invoiceninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Encoder/Base64Encoder.php [Line 37] => base64_encode() expects parameter 1 to be string, array given  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"PUT\",\"url\":\"https://invoice.jorens.xyz/invoices/21\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36\",\"ip\":\"192.168.1.1\",\"count\":3} []\n[2017-04-02 19:59:44] production.ERROR: ***ErrorException*** [0] : /var/www/invoiceninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Encoder/Base64Encoder.php [Line 37] => base64_encode() expects parameter 1 to be string, array given  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"PUT\",\"url\":\"https://invoice.jorens.xyz/invoices/8\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36\",\"ip\":\"192.168.1.1\",\"count\":4} []. Should I quickly update to Develop to see if I have the issue there?\n. Sure, I'll wait.\nThanks for the quick response!\nLove your software btw!. Just tried it.\nIt's working again.. ^ this.\nIt's a chore to manually having to download them.\n\nRoot\ndate \npdfs with info and images in it.\n\n\ndate\npdfs with info and images in it.\n\n\n\nSomething like this?. Awesome news!. I've had clients who had a failed payment, (Stripe blocked credit card) and each time the initiate a payment it adds the fee. If it's too much work to implement (which I understand), can you suggest a work around?\n. Sure.\nRight now it the ZIP looks like this:\n\nEach file has the same timestamp in its name and as a file timestamp.\n2018-01-02 is the date that the ZIP was made, can we change this to reflect the date of the expense it self?\n. Each expense has a document attached to it.\nI'll check the error log later.. Hi,\nMy apologies. I moved the project to a new server but forgot to move the actual files.\nThis is what I showed in the logs. Maybe an error message would be needed instead of downloading an empty file. Thanks\n[2018-04-03 12:00:33] production.ERROR: ***Illuminate\\Contracts\\Filesystem\\FileNotFoundException*** [0] : /home/forge/invoice.jorens.xyz/vendor/laravel/framework/src/Illuminate/Filesystem/FilesystemAdapter.php [Line 64] => kw9l35Z1l1kSDTZTh48AhUKxaGIcLCL5/07b220e70b4524484cb338759b8e4b84f746d55a.pdf  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/reports\",\"previous\":\"https://invoice.jorens.xyz/reports\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-03 12:08:39] production.ERROR: ***Illuminate\\Contracts\\Filesystem\\FileNotFoundException*** [0] : /home/forge/invoice.jorens.xyz/vendor/laravel/framework/src/Illuminate/Filesystem/FilesystemAdapter.php [Line 64] => kw9l35Z1l1kSDTZTh48AhUKxaGIcLCL5/07b220e70b4524484cb338759b8e4b84f746d55a.pdf  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/reports\",\"previous\":\"https://invoice.jorens.xyz/reports\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-03 12:09:02] production.ERROR: ***Illuminate\\Contracts\\Filesystem\\FileNotFoundException*** [0] : /home/forge/invoice.jorens.xyz/vendor/laravel/framework/src/Illuminate/Filesystem/FilesystemAdapter.php [Line 64] => kw9l35Z1l1kSDTZTh48AhUKxaGIcLCL5/07b220e70b4524484cb338759b8e4b84f746d55a.pdf  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/reports\",\"previous\":\"https://invoice.jorens.xyz/reports\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-03 12:09:25] production.ERROR: ***Illuminate\\Contracts\\Filesystem\\FileNotFoundException*** [0] : /home/forge/invoice.jorens.xyz/vendor/laravel/framework/src/Illuminate/Filesystem/FilesystemAdapter.php [Line 64] => kw9l35Z1l1kSDTZTh48AhUKxaGIcLCL5/07b220e70b4524484cb338759b8e4b84f746d55a.pdf  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/reports\",\"previous\":\"https://invoice.jorens.xyz/reports\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-03 12:09:53] production.ERROR: ***Illuminate\\Contracts\\Filesystem\\FileNotFoundException*** [0] : /home/forge/invoice.jorens.xyz/vendor/laravel/framework/src/Illuminate/Filesystem/FilesystemAdapter.php [Line 64] => kw9l35Z1l1kSDTZTh48AhUKxaGIcLCL5/07b220e70b4524484cb338759b8e4b84f746d55a.pdf  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/reports\",\"previous\":\"https://invoice.jorens.xyz/reports\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-06 09:29:22] production.ERROR: Error: MetaMask detected another web3.      MetaMask will not work reliably with another web3 extension.      This usually happens if you have two MetaMasks installed,      or MetaMask and another web3 extension. Please remove one      and try again.  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"GET\",\"url\":\"https://invoice.jorens.xyz/clients\",\"previous\":\"https://invoice.jorens.xyz/clients\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-06 10:57:07] production.ERROR: ***Illuminate\\Contracts\\Filesystem\\FileNotFoundException*** [0] : /home/forge/invoice.jorens.xyz/vendor/laravel/framework/src/Illuminate/Filesystem/FilesystemAdapter.php [Line 64] => kw9l35Z1l1kSDTZTh48AhUKxaGIcLCL5/07b220e70b4524484cb338759b8e4b84f746d55a.pdf  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Nick Jorens\",\"method\":\"POST\",\"url\":\"https://invoice.jorens.xyz/reports\",\"previous\":\"https://invoice.jorens.xyz/reports\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:59.0) Gecko/20100101 Firefox/59.0\",\"ip\":\"84.196.156.142\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []. Stripe\nNot that I could find.\nI fixed it now. I forced 'add invoice address' so that it displays the address field.. Yes,\nBut it only happened recently.\nI've been using the Strip gateway for a year without issues.. ",
    "kikoseijo": "This is the Way!!!\nGreat idea, and also great decision to open up the system to developers as to build customised solutions.\n1+ Here..\n. InvoiceNinja.com - v3.4.2 | White labeled\nYes, was woking till today I did an update, did fixed changing text on texts. but all the sudden I did a pull from git and got this strange thing. \nTried to debug on javascript but I did the fast solution.. \n. The download PDF button does not work either since today also. \nIm starting to think there is something I haven't done right, Git pull does no need to composer install?\u00bf\n. Didn't show any difference, seems something broken to me now.\nThis is what I did today:\n\nAnd the composer install with all dependencies.\n\n. Ok the print problem was because I did PINED the TAB on Safari, and it tries to open a new tab, I upined the tab and its now working.\nLets see if other user reports about the label, if it does not ill investigate more my side, thanks a lot.\nOFFTOPIC: who can help me configure the APP, I did buy but never got to make it work.. I have notice the translation files are not performing the fix I was using.\nThis does not works now, (Didn't update since 3.8.1, so don't know when this stoped working)\n\nThis fix works now, change it in the invoice design settings.\n\nHope it helps.. ",
    "jpcursor": "I just discovered Invoice Ninja few weeks agoa, decided to give it a try, and this is honestly a major key point to do so! Congrats, looking forward to it, will definitely do some contribution.\n@SupFrost also would be interesting to do some project management. Projects, tasks, timetracking and such\n. ",
    "marcoboers94": "Looking forward to this feature! Also some documentation would be nice. \n. @hillelcoren That looks very interesting!\nUnfortunately it comes a little bit too late for me, because of deadlines I will stick with an external system and sdk-php integration for now. Maybe I will convert them into modules later. (more advanced products and keeping stock). Thanks!! There were double records in the invitations table.. It were probably leftovers from the test phase. We cleaned the database to for the start on Januari first, probably missed a table ;). I would like to see this too.\nA total overview for taxes: (fictional tax rate of %20 used)\nTotals | amount | paid | taxes \n-------|----------|------|-------\nInvoices | \u20ac120 | \u20ac120 | \u20ac20\nExpenses | \u20ac30 | \u20ac30 | \u20ac5\nTotal | \u20ac90 | \u20ac90 | \u20ac15\nAnd keep the taxes over the total amount, even if not paid in full (since for the tax collection agency it doesn't matter if it is paid in full or not, they just look at the invoice date), like:\nTotals | amount | paid | taxes \n-------|----------|------|-------\nInvoices | \u20ac120 | \u20ac90 | \u20ac20\nExpenses | \u20ac30 | \u20ac30 | \u20ac5\nTotal | \u20ac90 | \u20ac60 | \u20ac15. ",
    "Jam0r85": "Brilliant!\nHave switched to InvoiceNinja and wanted to expand it as a real estate platform with properties, tenancies, etc. I cannot for the life of me figure out how to grab the develop branch to use/test locally.\nHow would I do this?. ",
    "crystalenka": "I second this, the client dashboard is confusing to my clients because it doesn't show their information...it shows mine. Having at least the company name would help clear things up a lot.\n. I second this, this would make it so much easier to send expenses to my accountant.. I'm not sure, I imagine it depends on how it's implemented. The purpose in my head is different, but I might not be understanding the other issue fully.. I will try this in the meantime, but it would still be nice as a built-in field. :) Thank you!. ",
    "joel6890": "Second from me as well. Changes I'd make to the current dashboard:\n\nadd company info, as stated above\nHave a client sign-in page so clients can sign in any time to view their invoices (billing.xyz.com/client/login or similar), complete with self-serve password reset link; this way a client doesn't have to initiate the portal session through a link emailed to him.\nAlong with the above, keep the long randomly-generated URLs so clients can view / pay their invoice with a simple click, without logging in\nAllow clients to view / edit credit card payment accounts\n\n@hillelcoren Want me to email you screenshots of a competing project that I am probably going to switch from? I like its client portal better but Invoice Ninja's overall feature set is more closely suited to my business needs.. Recurring invoices that have been created will show up with the rest of the invoices, yes. What I'm speaking of is a way to easily see all subscriptions associated with a client -- see all he will be billed for at some point in the future.\nPresently this can be done by visiting the Recurring invoices list and typing part of the client's name into the Filter box; but this could become a bit unruly when the recurring table is hundreds of entries long.\nHere's where I mean. (see attached picture, with arrow crudely drawn in)\n\n. ",
    "TGHepburn": "Could you give an example, or update the .env.example with correct label | value pairs? \nI missed where the geocoder and embed api are needed. getting api's now...junior coder here :-)\n. Still not working.  I've got the API and it's showing up on the google api console when I'm watching traffic but only for geocoding request.  Map is still collapsing in browser.  What info do you need from me to help?\nSelf hosted at a subdomain   \nFYI this is a low priority issue but as a GIS data tech, its neat stuff. :-)\n.  All 3 APIs enabled.\nErrors in Mozilla Browser: non related to google, just this one: NetworkError: A network error occurred....unknown \n. Wait, another address worked!  What happens when Geocoding process fails at Google? Then what happens at Invoice Ninja?\nI think I know the answer(s).  Could the page (or map div area) return a msg when Geocoding fails?\n. Column is called \"Item total\" in csv export from Zoho.  line amounts are given in this column.  I could provide here the csv if it helps?\n. I got version 2.8.2 running with a fresh install.  I see the same behavior after importing the csv file as was seen with version 2.7.2.  Totals are entered into each line item.. Correction: I can't get the PHP setup script to run.  I've narrowed it down to the .htaccess file(s) (500 error is returned)  but still having issues.  I am running off a sub-domain so this may cause issues as noted in the troubleshooting of the install guide.  . Yes, empty, new DB awaits install \"wizard\".  After I unpack the files in the subdomain and point the browser to subdomain.example.com/public/  I get a 500 with the following response codes:\nConnection: close\nContent-Length: 0\nContent-Type: text/html; charset=UTF-8\nDate: Sat, 10 Dec 2016 02:35:14 GMT\nServer: Apache\np3p: policyref=\"/w3c/p3p.xml\", CP=\"IDC DSP COR ADM DEVi TAIi PSA PSD IVAi IVDi CONi HIS OUR IND CNT\"\nMy host applies ModSecurity by default.  I am not familiar with this, but will try turning it off temporarily to see if it changes anything.  \nI'm not sure what I did when testing out 1.7.x but didn't have this issue (but did have the Apache error \"Request exceeded the limit of 10 internal redirects due to probable configuration error\", but solution is documented on ihttps://www.invoiceninja.com/self-host/. No, there are no apache errors being created while attempting to access setup.  What I did find was this:\nVersion 2.8.0 fresh install take you to the Setup script/page as expected. \nVersion 2.8.1 fresh install (full delete and new install from zip) Does NOT.  Hopefully this will help narrow down things.  \nAlso note I have turned off Modsecurity for the time being so it's not part of the equation.. Will try latest version 2.8.2 but slooooooow connection in rural Canada.. No.  I'm attempting to get to the setup page where you WILL give the db information.  during my tests I didn't enter any values.  Only tested whether the page even appears at all.\nAdditionally I deleted the db and created a new one with different name; never entered db credentials to invoice ninja.. Fresh install of version 2.8.2 does not return page when pointing browser to subdomain.example.com/public/\nMy workaround was to install 2.8.0 and the setup page ran.  afterwards I overwrote the files which had changes via ftp with version 2.8.2.  . With the new version I was not able to overwrite the files; it returns a fatal error.  I am not able to do a fresh install of Version 2.9.0  This is a show stopper for me.\nI've checked that this is not my directory permissions by renaming index.php and creating index.htm.  The page is returned normally.. When I use FTP to overwrite changed files I get this:\n ```\n[Symfony\\Component\\Debug\\Exception\\FatalErrorException]\nClass 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found\nand\nFatalErrorException` in compiled.php line 7716: Class 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found\n```\n See Issue 1202 since I think it related\nI am not using the updater because I think I don't have access to it ...or I broke it.  Remember that the last version I was able to install fresh was 2.8.0  For each release I'm updating using FTP overwrite.\nI don't think the auto-updater was part of v2.8.0 release?  I once saw a notice on the dashboard for new version but was unclear as to how it works or what to do.\nI will back up to 2.8.0 and try and figure out if there is an auto updater.\nPlease note:  I do not have access to shell / command line for my shared hosting.. I used CPanel's File Manager  - http://www.cpanel.net/  - to overwrite the files starting with v2.8.0  (skipped v2.8.1 mistake) Version 2.8.2 returned this in dashboard:\n\nbut overwriting with V2.9.0 gave this when pointing browser at subdomain.example.com/public/\n\nHope this helps.  I'll do it again and not skip v2.8.1. same thing with last update.. Keeping a running log here.....\nThis time with install KEEPING the .env file, then copy from v2.8.0 zip and pointing browser to example.com/public/  I get this new message.\n\nSomething must trigger this message I guess... Just an FYI. Ah-ha!  I've been getting them here.  (  https://github.com/invoiceninja/invoiceninja/releases  )\n\nI will go to the page and download from www.invoiceninja.org . It's obvious now that I skim-read Step 1 on  www.invoiceninja.com/self-host/  and only saw the first sentence:\n\nYou can either download the zip file below or checkout the code from our GitHub repository. . . .\n\nI never read the rest of the paragraph:\n\nThe zip includes all third party libraries whereas using GitHub requires you to use Composer and Bower to install the dependencies.\n\nLatest version upgraded from v2.8.0.  using prepackaged zip from www.invoiceninja.com/self-host/ . I would also like a simple SQL statement that we could run possibly from PhpMyAdmin on shared host to clean some of the tables.. Exactly!  To make development easier/faster, start with just an unlinked Icon and in future add features that JJbubka suggests\nAs a Workaround  I add a private comment to all expense items.  This creates an icon beside the \"Expense Date\" column with mouse-over tool-tip showing the private comment [I think as long as logged-in user created it ?].  I simply type \"Receipt Attached\". I would also find this useful.. I'd second this feature request.  In general, if the global search can includes as much as possible it'd be a good thing IMO.. ",
    "hdd": "same here would be great to be able to use it to produce reports (zipped pdf ?) for the accountancy.. Hi ,  already did that thanks.\nsadly not enough, still collapses the url.\nbut thanks I'll have a look further.. yes that does solve.\nthanks!. ",
    "hogze94": "I would consider this a bug, it will appear next year.\nIf your FY starts on the first of November, you would set it to Tuesday. Next year, First Tuesday will be the 7th. Accounting will be out of whack by 6 days.. fy setting. under settings localisation.  going by your  comment i assume start day and year are not related.\nhttp://i.imgur.com/qZLRHmV.jpg. #1361 related. @hillelcoren could you please extend the reset to include daily reset.. ",
    "jrc2": "How would I go about deleting products until then?\n. Thanks! I saw that going through the commits right after I submitted the issue :/\n. That worked to show it in deleted. Is there no way to permanently delete clients? Would it be possible through the mysql db?\n. Hmm... I've got a pretty messy list of deleted invoices from checking features out.\n. Any way to keep what I've configured so far? What problems would deleting them from the database cause?\n. I figured out how to permanently delete clients and invoices without issues. NOTE: ONLY USE THIS FOR DELETING INVOICES AND CLIENTS USED FOR TESTING. I DO NOT TAKE RESPONSIBILITY IF YOU USE THIS AND SHOULD NOT HAVE!!\nFirst, delete the clients and invoices from the database that need to be permanently deleted.\nThen, go to the activities table and delete everything. If you do not delete everything from activities (or at least the activities that go with the deleted clients and invoices), you will get errors when you go to the 'Dashboard' page.\n. When I just delete the payment, it still shows in the first part of revenue, but not the second (see attached screenshot)\n\n. Thanks!. Additional info: Right now, I have to use a separate application for PODs (Detrack).. As a workaround for now, should I just have the customer portal link in emails? . See https://github.com/jrc2/invoiceninja/commit/ad70cd2322098415906c51d2690664d99a4b8a7a. @hillelcoren To prevent Android Chrome from downloading the invoice numerous times.. @hillelcoren I'm running the latest version, I'll try when I get a chance.. @hillelcoren Yes, it automatically uses the JS viewer on mobile. Thanks! . ",
    "ajnadox": "ok, i\u00b4ll remove this and add it to dev branch instead, sorry and thanks for the info.\niZettle is a Swedish startup but is international so not country specific. Swish is the same as https://www.clearxchange.com/ (i\u00b4ll add this payment type also) so i think it could be rightfull to add. \n-\"This March, several major US banks announced a new digital payment platform called clearXchange. (A better name is reportedly in the works.) It is, finally, the US equivalent of Swish: a bank-backed service that lets people transfer money from their bank account directly into someone else\u2019s.\"\nYes the order is changed, most used in the top, the rest in alphabetical order for easy finding the right one, maybe im wrong but searching for the right one goes much faster then\n. Ok, is there another way to add new payment types than what i did? Did change on the dev. branch and removed my resorting, just adding the 3 new payments after last payment type. Sorry for the inconvenience\n. I think that adding the 3 new payment types can make the system reach a bigger user base, alot of people use them, so ... ;). ",
    "FR6": "Thanks for the info.. ",
    "computersalat": "From README:\nThe zip includes all third party libraries whereas using GitHub requires you to use Composer and Bower to install the dependencies.. I think I have found the Problem. I took the zip from here:\nhttps://github.com/invoiceninja/invoiceninja/archive/v2.8.1.zip\nwhich is obviously not the correct one (Source Code). So where is the correct one ? Obviously not on github ... \n. ^^ ... OK. sorry. Overread it :(\nHave it now :) \ud83d\udc4d . Why is the 'full' zip not on github ?. Thanks, but that is not the answer to my question. Probably I should ask more clearly ...\nI understand that you don't want to have the 'vendor' stuff in the git project, but ...\nwhy is the 'full' zip not available for download on github?\nWhy is it placed outside of github, somewhere on a dropbox ...\ne.g. https://dl.dropboxusercontent.com/u/2909575/ninja-v2.8.1.zip\nIt would be nice to have it here as a valid Release including checksums to be able verify the package .... thanks for your help ... but invoiceninja is a pain.. ",
    "psifertex": "this looks like it's broken right now on the main invoice ninja website. In chrome I'm getting repeated download popups every time I change the invoice. . Hmm, this is concerning. I'm also interested in bitpay as an option for my invoices on the hosted platform (since stripe no longer supports bitcoin), but knowing this is a problem will certainly deter me. \nCould you please address the substance of the report rather than worrying about the source @hillelcoren?. @turbo124 Thanks for the quick response. We haven't enabled bitpay yet, just wanted to make sure it was being addressed since I'd like to roll it out and wasn't sure from the prior response whether it was or not. . Just wanted to ping and see if this is on the radar. Given that it's just enabling the option in stripe I'm hoping it would be minimal effort. In fact, I'd be willing to look into a PR myself if I could get some minor advice as to where to start. Looks like just adding another example like https://github.com/invoiceninja/invoiceninja/blob/34e7b0aaafea9f2676388b1ffa345065afb9e18d/resources/views/payments/stripe/sepa.blade.php but for giropay with the appropriate fields would do it? . ",
    "DecentM": "It's talking about this one: https://github.com/invoiceninja/invoiceninja/blob/5b71b665be9c1f5bd1f21e7a54cf8f62c87d7cd9/resources/views/accounts/invoice_design.blade.php#L109\nI think this error is bigger than just this one function, I just noticed that multiple pages look broken, and various functions are coming up as undefined.\nI can't send an e-mail, because when I click send, it just comes up with this:\n. I do have it enabled, but I just found out what was wrong.\nA few weeks ago I created a custom language for one that wasn't enabled nor on Transifex.\nApparently, something in the update messed it up, and broke the rest of the system. I changed it back to English, and it works like a charm.\nThanks for the help anyway!. ",
    "benjaroa": "Yes, both in the page and pdf.  Will try to add the code you suggest, thanks! (later, when I leave work)\nScreenshots:\n\n\n(I'm running invoice ninja 2.8.1). Already tried, the console prints \"code\" a bunch of times and \"none\" just once.\n. select show_currency_code from accounts;\n\nshow_currency_code\n0\n1 registry (0.001 s) . and my currency:\n\n. Found \"show_currency_code\":\"0\" six times in /invoices/create. Done and working fine!\n\nI don't know what went wrong... I walked through installation by the book. Maybe there's a bug around this matter.\nI'm sorry I can't detect the exact issue, will write again with details if I get to know.\nThanks Hillel for your patience and your kind help (:\nRegards from Chile\n(it would be nice to have our chilean peso in the official bunch of currencys). I'm sorry, only know a few things around... learning by mistake and reading manuals, i'm not a pro and don't feel capable of what you ask me to.\n(even after I googled how to do it :( )\nRegards!. ",
    "cinemast": "I haven't checked the Laravel version, invoice ninja is using. But according to the Laravel changelogs, they also dropped mcrypt support since version 5.1\nhttps://laravel.com/docs/5.2/releases#laravel-5.1. Thank you for fixing this.. Looking at the error log revealed the following:\n[2017-02-04 09:08:11] production.ERROR: PhantomJS - Failed to create pdf: Invalid URL provided: /view/zPjEACdpQmKIpoOiWt1b35bjUAZhFIJo?phantomjs=true  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://localhost\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1} []\nCould it be that the cron tries to access localhost which should actually be the web according to the example docker-compose file?\nUpdate:\nI just tried executing ./artisan ninja:send-invoices from the app container which gives the same result.. @lalop do you have any insights on this?. That does remove the error from the log but the PDF is still not attached. Can you verify this?. ",
    "eelco2k": "I have set the currency to EUR. Furthermore i noticed that the rendering in client portal is without the extra empty line. also when using the context menu button \"view PDF\" from the invoice overview page. the invoice is OK. only when setting up a new invoice.. Yes, and furthermore i noticed that the e-mail reminders did not work when setting that due date. but that was in version 2.7. so could be fixed now. I will test further if in version 2.8 still is the case.. Maybe there could be an option for a global payment term ..? if the client payment terms is not set. Because you cannot see at the time of making an invoice if the client has specific payment terms, so maybe show the amount of that duration of that specific client in the dropdown of the payment terms select menu so you can see if you have specified a client specific payment term.\nSo two feature request at once... ;-)\n\nA global payment term (default 30 days or so, what you can select/define)\nshow in the dropdown what the amount of payment term for that client is.. yes it is!. in my .env config file i have also enabled APC as the CACHE_DRIVER.\n\nwhen checking if this is cached by APC i used the apc.php file. and under the UI menu: \"User Cache Entries\" i'm seeing:\nUser Entry Label   Hits    Size    Last accessed   Last modified   Created at  Timeout Deleted at\nlaravelcurrencies  4182    64176   2017/04/13 14:11:28 1970/01/01 01:00:00 2017/04/12 18:08:14 None\nwhen clicking on that item i'm getting an object of all the currencies:\n__PHP_Incomplete_Class::__set_state(array(\n   '__PHP_Incomplete_Class_Name' => 'Illuminate\\\\Database\\\\Eloquent\\\\Collection',\n   'items' => \n  array (\n    0 => \n    __PHP_Incomplete_Class::__set_state(array(\n       '__PHP_Incomplete_Class_Name' => 'App\\\\Models\\\\Currency',\n       'timestamps' => false,\n       'casts' => \n      array (\n        'swap_currency_symbol' => 'boolean',\n      ),\n       'connection' => NULL,\n       'table' => NULL,\n       'primaryKey' => 'id',\n       'keyType' => 'int',\n       'perPage' => 15,\n       'incrementing' => true,\n       'attributes' => \n      array (\n        'id' => 23,\n        'name' => 'Argentine Peso',\n        'symbol' => '$',\n        'precision' => '2',\n        'thousand_separator' => '.',\n        'decimal_separator' => ',',\n        'code' => 'ARS',\n        'swap_currency_symbol' => 0,\n      ),\n       'original' => \n      array (\n        'id' => 23,\n        'name' => 'Argentine Peso',\n        'symbol' => '$',\n        'precision' => '2',\n        'thousand_separator' => '.',\n        'decimal_separator' => ',',\n        'code' => 'ARS',\n        'swap_currency_symbol' => 0,\n      ),\n       'relations' => \n      array (\n      ),\n       'hidden' => \n      array (\n      ),\n       'visible' => \n      array (\n      ),\n       'appends' => \n      array (\n      ),\n       'fillable' => \n      array (\n      ),\n       'guarded' => \n      array (\n        0 => '*',\n      ),\n       'dates' => \n      array (\n      ),\n       'dateFormat' => NULL,\n       'touches' => \n      array (\n      ),\n       'observables' => \n      array (\n      ),\n       'with' => \n      array (\n      ),\n       'morphClass' => NULL,\n       'exists' => true,\n       'wasRecentlyCreated' => false,\n    )),\n    1 => \n    __PHP_Incomplete_Class::__set_state(array(\n       '__PHP_Incomplete_Class_Name' => 'App\\\\Models\\\\Currency',\n       'timestamps' => false,\n       'casts' => \n      array (\n        'swap_currency_symbol' => 'boolean',\n      ),\n       'connection' => NULL,\n       'table' => NULL,\n       'primaryKey' => 'id',\n       'keyType' => 'int',\n       'perPage' => 15,\n       'incrementing' => true,\n       'attributes' => \n      array (\n        'id' => 40,\n        'name' => 'Aruban Florin',\n        'symbol' => 'Afl. ',\n        'precision' => '2',\n        'thousand_separator' => ' ',\n        'decimal_separator' => '.',\n        'code' => 'AWG',\n        'swap_currency_symbol' => 0,\n      ),\n       'original' => \n      array (\n        'id' => 40,\n        'name' => 'Aruban Florin',\n        'symbol' => 'Afl. ',\n        'precision' => '2',\n        'thousand_separator' => ' ',\n        'decimal_separator' => '.',\n        'code' => 'AWG',\n        'swap_currency_symbol' => 0,\n      ),\n       'relations' => \n      array (\n      ),\n       'hidden' => \n      array (\n      ),\n       'visible' => \n      array (\n      ),\n       'appends' => \n      array (\n      ),\n       'fillable' => \n      array (\n      ),\n       'guarded' => \n      array (\n        0 => '*',\n      ),\n       'dates' => \n      array (\n      ),\n       'dateFormat' => NULL,\n       'touches' => \n      array (\n      ),\n       'observables' => \n      array (\n      ),\n       'with' => \n      array (\n      ),\n       'morphClass' => NULL,\n       'exists' => true,\n       'wasRecentlyCreated' => false,\n    )),\n    2 => \n    __PHP_Incomplete_Class::__set_state(array(\n       '__PHP_Incomplete_Class_Name' => 'App\\\\Models\\\\Currency',\n       'timestamps' => false,\n       'casts' => \n      array (\n        'swap_currency_symbol' => 'boolean',\n      ),\n       'connection' => NULL,\n       'table' => NULL,\n       'primaryKey' => 'id',\n       'keyType' => 'int',\n       'perPage' => 15,\n       'incrementing' => true,\n       'attributes' => \n      array (\n        'id' => 12,\n        'name' => 'Australian Dollar',\n        'symbol' => '$',\n        'precision' => '2',\n        'thousand_separator' => ',',\n        'decimal_separator' => '.',\n        'code' => 'AUD',\n        'swap_currency_symbol' => 0,\n      ),\n       'original' => \n      array (\n        'id' => 12,\n        'name' => 'Australian Dollar',\n        'symbol' => '$',\n        'precision' => '2',\n        'thousand_separator' => ',',\n        'decimal_separator' => '.',\n        'code' => 'AUD',\n        'swap_currency_symbol' => 0,\n      ),\n       'relations' => \n      array (\n      ),\n       'hidden' => \n      array (\n      ),\n       'visible' => \n      array (\n      ),\n       'appends' => \n      array (\n      ),\n       'fillable' => \n      array (\n      ),\n       'guarded' => \n      array (\n        0 => '*',\n      ),\n       'dates' => \n      array (\n      ),\n       'dateFormat' => NULL,\n       'touches' => \n      array (\n      ),\n       'observables' => \n      array (\n      ),\n       'with' => \n      array (\n      ),\n       'morphClass' => NULL,\n       'exists' => true,\n       'wasRecentlyCreated' => false,\n    )),\n    3 => \n    __PHP_Incomplete_Class::__set_state(array(\n       '__PHP_Incomplete_Class_Name' => 'App\\\\Models\\\\Currency',\n       'timestamps' => false,\n       'casts' => \n      array (\n        'swap_currency_symbol' => 'boolean',\n      ),\n       'connection' => NULL,\n       'table' => NULL,\n       'primaryKey' => 'id',\n       'keyType' => 'int',\n       'perPage' => 15,\n       'incrementing' => true,\n       'attributes' => \n      array (\n        'id' => 24,\n        'name' => 'Bangladeshi Taka',\n        'symbol' => 'Tk',\n        'precision' => '2',\n        'thousand_separator' => ',',\n        'decimal_separator' => '.',\n        'code' => 'BDT',\n        'swap_currency_symbol' => 0,\n      ),\n       'original' => \n      array (\n        'id' => 24,\n        'name' => 'Bangladeshi Taka',\n        'symbol' => 'Tk',\n        'precision' => '2',\n        'thousand_separator' => ',',\n        'decimal_separator' => '.',\n        'code' => 'BDT',\n        'swap_currency_symbol' => 0,\n      ),\n       'relations' => \n      array (\n      ),\n       'hidden' => \n      array (\n      ),\n       'visible' => \n      array (\n      ),\n       'appends' => \n      array (\n      ),\n       'fillable' => \n      array (\n      ),\n       'guarded' => \n      array (\n        0 => '*',\n      ),\n       'dates' => \n      array (\n      ),\n       'dateFormat' => NULL,\n       'touches' => \n      array (\n      ),\n       'observables' => \n      array (\n      ),\n       'with' => \n      array (\n      ),\n       'morphClass' => NULL,\n       'exists' => true,\n       'wasRecentlyCreated' => false,\n    )),\n. No, i'm using Nginx with php 5.6. Bit the Cache::get() function uses Session:: to get some Information but when using supervisord to do the php artisan queue::listen then there is no logged in user. \nAlso supervisor executies php with root user nu default and not with the www-data user (maybe that could also be the problem). I could fix it when comment the line of the CACHE_DRIVER=apc. So i guess it mainly has to do with the APC caching system.\nBecause I noticed that the APC cache is a  \"User Cache Entries\". But because a cron job or supervisorctl is another php process i guess it's not finding the cached \"currency\" object type.\nin \"app/Libraries/Utils.php\" line 433 : \n$cache = Cache::get($type);\n$cache is null when supervisor or a cronjob is running (because php uses an other process and therefor a other APC cache user object)\nHopefully this makes sense... \n. below my APC/PHP config settings:\nAPC Version 4.0.7\nPHP Version 5.6.30-1~dotdeb+7.1\nServer Software nginx/1.10.3\nShared Memory   1 Segment(s) with 256.0 MBytes \n(mmap memory, locking)\n. php -i | grep apc lists:\n/etc/php/7.0/cli/conf.d/20-apcu.ini,\n/etc/php/7.0/cli/conf.d/20-apcu_bc.ini,\napc\napcu\napc.coredump_unmap => On => On\napc.enable_cli => Off => Off\napc.enabled => On => On\napc.entries_hint => 4096 => 4096\napc.gc_ttl => 3600 => 3600\napc.mmap_file_mask => no value => no value\napc.preload_path => no value => no value\napc.serializer => php => php\napc.shm_segments => 1 => 1\napc.shm_size => 256M => 256M\napc.slam_defense => On => On\napc.smart => 0 => 0\napc.ttl => 0 => 0\napc.use_request_time => On => On\napc.writable => /tmp => /tmp\nphp5 -i | grep apc lists:\n/etc/php5/cli/conf.d/20-apcu.ini,\napc\napcu\napc.coredump_unmap => Off => Off\napc.enable_cli => Off => Off\napc.enabled => On => On\napc.entries_hint => 4096 => 4096\napc.gc_ttl => 3600 => 3600\napc.mmap_file_mask => no value => no value\napc.preload_path => no value => no value\napc.rfc1867 => Off => Off\napc.rfc1867_freq => 0 => 0\nPHP Warning:  Unknown: It is not safe to rely on the system's timezone settings. You are required to use the date.timezone setting or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We selected the timezone 'UTC' for now, but please set date.timezone to select your timezone. in Unknown on line 0\napc.rfc1867_name => APC_UPLOAD_PROGRESS => APC_UPLOAD_PROGRESS\napc.rfc1867_prefix => upload_ => upload_\napc.rfc1867_ttl => 3600 => 3600\napc.serializer => php => php\napc.shm_segments => 1 => 1\napc.shm_size => 256M => 256M\napc.slam_defense => On => On\napc.smart => 0 => 0\napc.ttl => 0 => 0\napc.use_request_time => On => On\napc.writable => /tmp => /tmp\nSo i guess it's both \"OFF\" for CLI... i'm going to enable this. and see if this works. Yes that is correct, but even setting in both ini files apc.enable_cli = 1 it still doesn't work.\nWhen enabling the apc cache .env setting i'm still getting this errors in laravel-error.log\n2017-04-14 14:31:55] production.ERROR: Cache for currencies is not set  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://domain.local\",\"previous\":\"https://domain.local\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1} []\n[2017-04-14 14:31:55] production.ERROR: ***ErrorException*** [0] : /var/www/invoice-ninja/app/Libraries/Utils.php [Line 465] => Trying to get property of non-object  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://domain.local\",\"previous\":\"https://domain.local\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":2} []\n[2017-04-14 14:31:55] production.ERROR: exception 'ErrorException' with message 'Trying to get property of non-object' in /var/www/invoice-ninja/app/Libraries/Utils.php:465 Stack trace: #0 /var/www/invoice-ninja/app/Libraries/Utils.php(465):. Laravel is definitely setting the APC cache. because I can view it in the apc.php UI. \nAll the caches items are prefixed with \"laravel\" and then the name of the cache $type.\nso my cached lists in APC are:\nlaravelfonts\nlaravelcountries\nlaravelcurrencies\nlaravelgatewayTypes\nlaravelinvoiceStatus\nlaravelpaymentTerms\nlaravellanguages\nlaravelinvoiceDesigns\nlaravelindustries\nlaravelsizes\nlaravelpaymentTypes\nlaravelfrequencies\nlaraveltimezones\nlaravelgateways\nlaraveldatetimeFormats\nlaraveldateFormats\nlaravelbanks . also: apc_fetch(\"laravelcurrencies\") returns \"FALSE\".... \nand reading from the first \"User Contributes Notes\" in php.net docs, it states that the CLI and php fastcgi are 2 different caches...\nhttp://php.net/manual/en/function.apc-fetch.php (see first comment)\nand when using logging apc_cache_info(\"user\",false); on the cronjob/supervisor process it gives me this:\n{\"num_slots\":4099,\"ttl\":0,\"num_hits\":0,\"num_misses\":2,\"num_inserts\":0,\"num_entries\":0,\"num_expunges\":0,\"start_time\":1492182443,\"mem_size\":0,\"file_upload_progress\":1,\"memory_type\":\"mmap\",\"cache_list\":[],\"deleted_list\":[],\"slot_distribution\":[]}}\nWhich concludes that indeed there are two separate apc caches (because cache_list array is empty) used for the nginx->php-fpm process and the php cli process started by cronjob/supervisor.\n. more info on this topic: \nhttp://stackoverflow.com/questions/439262/how-can-i-get-php-to-use-the-same-apc-cache-when-invoked-on-the-cli-and-the-web. So my solution is: DO NOT use .env CACHE_DRIVER=apc in combination with queued processing of laravel jobs.\nI switched to CACHE_DRIVER=memcached for this. \nAPC is a php process memory and not a shared global key value storage like redis or memcached.. you're welcome @hillelcoren . for now i changed resources/views/invoice/edit.blade.php\n@ if(dropzone instance of Dropzone) .....\n`\nfor (var i=0; i<model.invoice().documents().length; i++) { \n                    var document = model.invoice().documents()[i]; \n                    var mockFile = { \n                        name:document.name(), \n                        size:document.size(), \n                        type:document.type(), \n                        public_id:document.public_id(), \n                        status:Dropzone.SUCCESS, \n                        accepted:true, \n                        url:document.url().replace(/.[^/.]+$/, \"\"), \n                        mock:true, \n                        index:i \n                    };\ndropzone.emit('addedfile', mockFile); \ndropzone.emit('complete', mockFile); \nif(document.preview_url()){ \n    dropzone.emit('thumbnail', mockFile, document.preview_url().replace(/.[^/.]+$/, \"\").replace(/.[^/.]+$/, \"\")); \n} else { \n    dropzone.emit('thumbnail', mockFile, document.url().replace(/.[^/.]+$/, \"\")); \n} \ndropzone.files.push(mockFile); \n} \n}\n`\nit's not nice but it works ;-). Yes problem occurs always.\nMaybe the problem occurs because i'm using Nginx.\nI will post the config below:\n`\nadd_header Strict-Transport-Security \"max-age=31536000\";\nGZIP\ngzip on;\ngzip_vary on;\ngzip_disable msie6;\ngzip_static on;\ngzip_comp_level 9;\ngzip_buffers 16 8k;\ngzip_proxied any;\ngzip_types text/plain text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript;\nclient_max_body_size 2048M;\nclient_body_in_file_only clean;\nclient_body_buffer_size 32K;\nsendfile on;\nsend_timeout 300s;\nchunked_transfer_encoding on;\nset $skip_cache 0;\nlocation ~ /. { deny all; access_log off; log_not_found off; }\nlocation ~* .(ico|css|js|gif|jpe?g|png)(\\?[0-9]+)?$ {\n    expires max;\n    log_not_found off;\n}\nlocation ~ /.ht {\n    deny  all;\n}\nlocation / {\n    try_files $uri $uri/ /index.php$is_args$args;\n}\npass the PHP scripts to FastCGI server listening on /var/run/php5-fpm.sock\nlocation ~ .php$ {\n                try_files $uri /index.php =404;\n                include /etc/nginx/fcgi.conf;\n                fastcgi_pass unix:/var/run/ajenti-v-php-fcgi-invoiceninja-php-fcgi-0.sock;\n                fastcgi_index index.php;\n                fastcgi_intercept_errors on;\n                fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n                fastcgi_read_timeout 1800;\n           # include fastcgi_params;\n\n}\n`\n. When i go to the inspector I see that the url is a complete url with .jpg / .gif / .png extension . But when i open the link in another tab the file is not visible. But when i remove the extension in the url. the file (jpg/png/gif) is being downloaded.. Could you share error_logs of nginx. And check if the file is uploaded in storage folder even if you get the error because it could also be the return response which gives you this error. . FYI nginx is handling the url rewrite process differently than Apache does so my problem was the double file extension. In the doc variable. . Actually this ticket is not fixed. Braintelligence commented on my issue. But that was accually another issue. \nMy problem still exists even in v3.8.1 i still have the problem regarding the url  (+ thumbnails of images) of attachments on an invoice/quote etc.  in combination with nginx.\nfor nginx the parsed url should not have an extension. \nfor example: https://invoiceninja.hosteddomain.com/documents/preview/7/my_uploaded_file\nand invoice ninja parses with php this url:\nhttps://invoiceninja.hosteddomain.com/documents/preview/7/my_uploaded_file.jpg\nBut then i cannot click the file to download the file nor can i view the thumbnail.\nAlso for PDF's for example:\nhttps://invoiceninja.hosteddomain.com/documents/preview/7/my_uploaded_pdf  (should it be in nginx)\nbut invoice ninja parses:\nhttps://invoiceninja.hosteddomain.com/documents/preview/7/my_uploaded_pdf.pdf (which generates a 404 file not found error, because nginx rewrites url wrong..)\nMy guess is that nginx checks at *.ext name in URL and does not find that file in that directory on the server (which is obvious because files are placed not on public folder but in storage map). \nAnd that's why without the extension the pdf/image can be found/downloaded because then the nginx php rewrite kicks into action because index file is index.php which will be rewritten.\nso actually the URL before url rewriting is like this:\nhttps://invoiceninja.hosteddomain.com/index.php/documents/preview/7/my_uploaded_pdf\nin stead of \nhttps://invoiceninja.hosteddomain.com/index.php/documents/preview/7/my_uploaded_pdf.pdf (see: the second extension, and i'm not sure if laravel routing is receiving that extension from nginx)\nHopefully you change that downloading / parsing urls for attachments won't have an extension.\n. Regarding the client_max_body_size 0; \nnginx docs say: \nSets the maximum allowed size of the client request body, specified in the \u201cContent-Length\u201d request header field. If the size in a request exceeds the configured value, the 413 (Request Entity Too Large) error is returned to the client. Please be aware that browsers cannot correctly display this error. Setting size to 0 disables checking of client request body size.\nSo now you just disable the check if a request \"content-Length\" header   matches the body size.\nclient_max_body_size 2048M; should give you a maximum body size of 2 GB which should be sufficient to upload a pdf.... \nI'm guessing your browser sends wrong request with the wrong header information. That's why nginx is blocking your upload. (server doesn't know when all data is received and then to respond)\n@Braintelligence  Could you post your upload request headers. important is the Transfer-encoding header.  (read more about this:  http://www.ietf.org/rfc/rfc2616.txt   section 4.3 and 4.4). @Braintelligence you are correct that it is irrelevant for php (as php will stop the incoming body data if it exceeds the upload_max_filesize or post_max_size) but it is relevant for nginx itself as a webserver. because you are able to generate a post/put request (not to the fastcgi of php) without a Content-Length which can lead into a buffer overflow.. because nginx disables the check for this content-length. i'm not saying that this will happen but it could (i guess).\nNevertheless i still don't know why 2048M /2Gigabyte  in the client_max_body_size didn't work for you... as client_max_body_size 0; does work for you. which just disables the function check.\nit should work with client_max_body_size 2048M in the location settings as long as your php config values of upload_max_filesize or post_max_size are less than 2048M. And as you said: I was unable to upload a small pdf... which i guess was never 2GB of data ;-). default is 1M according to:\nhttps://nginx.org/en/docs/http/ngx_http_core_module.html\nDefault: client_max_body_size 1m;\nContext: http,\u00a0server,\u00a0location\n. @Braintelligence Yep :-). Sorry figured it out. Perhaps it would be better to return to the home (login screen) when API credentials are \"OK\" because I thought that now I didn't had to login because i had entered an API key.\nSo now it works.!. @hillelcoren I was just expecting a different page after entering my URL and API key. \nI was assuming you got immediately access when entering URL and the API key (JWT method) (because you can have multiple types of Grant Types like: https://bshaffer.github.io/oauth2-server-php-docs/overview/grant-types/). \nSo I thought logging in with username and password was only for the cloud users.\nSo an improvement could be made in the app that when you enter URL and API correctly you return to the login screen in the app. in stead of just closing the popup. Or perhaps. give another notification that you can now login with your credentials. and then go to login page.\n. So in my first message i just thought there was something wrong but it wasn't. It connected correctly and API key was correct. But because after saving the URL and API key I did not see my dashboard with overview i thought there was something wrong. But I had to go and login with my username and password after saving the URL and API key in the App. Which i thought was not necessary when self hosted. but you do still have to login with username and password even when self hosted. . manage user expectations in the App for self hosted users like me ;-). hi @turbo124,\nI do understand that but according to the documentation for me it was not 100% clear that i still had to login with username and password.\nhttp://docs.invoiceninja.com/en/latest/mobile_apps.html\nThe docs end with: \n\"Click SAVE.\nYou should now be able to login!\"\nwould maybe better to change to: \n\"Click SAVE.\nYou should now be able to login with username and password!\"\nAnd do this also in the app itself. so give user a popup alert dialog. \n\"API credentials are ok. you can now login with username and password\" (and after tapping \"OK\" go to the login screen). I know maybe it's \"nitpicking\"... . Dear @turbo124 ,\nEven when loading data the first time (when opening the app) I get:    $(null)\nWhen data request finishes it correctly loads the amount and replaces (null) with the value, but it doesn't replace the currency character. \nAfter a reload manually again with the refresh icon at the right top. It does replace the $ sign with the \u20ac sign.\n. Dear @turbo124,\nto be sure: I already used my correct username and password so when i open the app i get immediately to the \"dashboard\".\nSo back to your previous question: \n1) When i open the App ($ sign in slider tile(s) on dashboard). I press home button. and open App again. Still $-sign.  \n2) When i open the App ($sign in slider tile(s) on dashboard). I press home button twice. and fully close app\". and then open App. Still $-sign.\n3) When i open the App ($ sign in slider tile(s) on dashboard). i press \"refresh\" icon on right top. $ sign becomes \u20ac sign (which is correct)\nWhat i'm guessing is that some information for the localized placeholders is coming from the api data and some is coming from the \"App settings\" -> \"Localization\" -> \"Currency\" & \"Language\".\nto replace the placeholders.\nBecause the tabs \"Activity\" / \"Payments\" / \"upcoming invoices\" etc. on the Dashboard have the correct currency even when i change it in the app settings -> \"Localization\" -> \"Currency\".. Yes in 1.5.0 release.. but i also noticed it in earlier versions.... I'm in the progress of starting on this integration but it would be nice to have some short explanation on how the currect auto-bill feature works. (and how much this is different from the mollie method of mandating, so that i can implement it correctly and not build something which doesn't implement correctly)\nI notice there is a setting in the payment_gateway settings page for different methods of auto-bill. (optIn optOut, always, never). but i can only see this feature back in recurring invoices. But when a \"mandate\" is given in mollie this is \"per client\". not \"per recurring invoice\".  \nFor example when i have a invoice with a monthly fee + usage costs (call minutes from CDR) i cannot use a recurring invoice because every month the total amount and field lines are different.\nThe idea is to create some sort of a mandate page for each client. (on the client portal). There a client can optIn/optOut on the Mollie mandate.\nOn the invoicing part:\nwhen creating a new invoice of a \"mandated client\" there is an option to use the mandate of that client to auto-bill that invoice.\nwhen creating a recurring invcoice of a \"mandated client\" you have the option what is already there in the dropdown of autobill (optIn, optOut, always, never). functionally this means i guess use this recurring invoice to automatically try to pay via mollie or not. (not sure if optIn/optOut would have any function then?)\nTherefor it would be nice to know the steps / procedure the auto-billing system goes through. So it would be easier for me to understand and develop this feature. otherwise i'm loosing to much time in going though all the different php files to understand this \"systematically\".\nFor now i'm seeing a completeOnsitePurchase() function in the BasePaymentDriver.php which handles of the auto-billing...??\n. I also saw something like the invitations table and the PaymentService.php with the autoBillInvoice() function where it gets the first invitation.  so perhaps i can use this invitation model to save the signature for the mandate. eventough it's based on invoicetype not client. \nBecause the mandate requires a 0.01 cent transaction via mollie this could be an invoice as well where the line item + description would be the that you agree with the SEPA. (just a thought)\nBut not sure if this is easy to build into invoice ninja.  . @hillelcoren you mean implementing the whole autobill feature into invoice-ninja? or specific the invitations with agreement + invoicetype?\nI know i need some understanding of the underlying code. therefor i was thinking somebody could point me some directions what kind of functions/classes & coderoutes it gets through (roughly) so i can find out if i can extend on that by extending the correct classes/functions or that i build my own classes/functions so that it just works :P. @hillelcoren is tokenbilling the current method of autobilling? this as (a specific token grants access to payment gateway to make a payment directly without acceptance / sign from the user anymore.\nthis token doesnt change after each transaction?. @hillelcoren is the autobill feature (if enabled) executed via Console/Kernel command?? like a normal invoice \nthe artisan command would be then: ninja:send-invoices --force.\nDuring this it then checks if autobill is enabled and if invoice due date/invoicedate smaller than current date and then start the payment (   completeOnsitePurchase() )\nor is it executed via Events? or any other way?. @hillelcoren will do!\n. - i'm not sure it was already broken on my previous version. which was v4.2.1. I have enabled UBL beta. I'm not sure whether a xml and a pdf is attached in that case.? \ni know there wasn't a pdf in the e-mail when XML was attached.\n\nJust ran the  \nphp -r \"shell_exec('phantomjs /var/www/invoice-ninja/resources/test.pjs > result.log');\"\n a few times. the result.log file is everytime the same. (with same error)\nI did try it on a online invoice-ninja only i changed url above for security reasons. so in my phantomjscloud dashboard is see a decrement of 500 pages per day.\n. i debugged some more and i figured out what the error was. I changed the Clean template with an image. That image holds my contact information. I did remove the columns in storage/templates/clean.js:\n\n\"columns\": [\n      {\n        \"image\": \"$accountLogo\",\n        \"fit\": [\n          120,\n          80\n        ]\n      },\n      {\n        \"stack\": \"$accountDetails\",\n        \"margin\": [\n          7,\n          0,\n          0,\n          0\n        ]\n      },\n      {\n        \"stack\": \"$accountAddress\"\n      }\n    ]\nBecause the image already holds that information. That made the pdfmake to crash. Thank you for putting me in the right direction of the theme's.\nThankfully it was no problem with invoice-ninja itself. . more specific i think it just needs: \n\"columns\": [{ }]\nso columns key should be in the theme.\n. I tried searching European Banks but a lot of them where not listed. In europe the european union has made some protocols and guidelines for banks regarding thirdparty access to a bank account. it's called PSD2 (Payment Service Directive 2 ). Yes that would be an implementation for PSD2 but it state only 'Fidor Bank' is only supported. Yodlee already integrated a lot of major banks as a sort of intermediate API service. \nan older video on youtube but it gives an example how the api can be integrated into an webapplication:\n1) you search your bank\n2) login to your bank using login credentials (as specified per bank)\n3) it adds your bank to the api.\n4) you can do statement requests etc. and show them in your application\nhere the youtube url: https://www.youtube.com/watch?v=8Bd2efd6iIY\nI will look into oak-labs-io/psd2 good tip!\n. btw now i see plaid.com has the same api for connecting to bank accounts. and get transaction feeds. I was investigation the price table as well. not really an option.. I will further investigate the psd2 option. I know banks are anxious letting third parties login into customer bank accounts but come-on it's 2018  ;-). I will contact Yodlee sales to figure out pricing. Will respond as soon as i know more.. Sorry I think I mixed up two feature requests on this thread. First paragraph is a different req. than the second. \nFirst is more about the products page itself. Allow for more product fields and categories/groups to manage the products. More like an inventory system. Allow products to have attributes/meta data. For example: SKU, UPC etc etc. \nThe second (actually third paragraph) is how to get a product fast on an invoice as a product line: I can imagine now if we have hundreds or thousands of products the select2() search method is insufficient. So here comes maybe before a line item on the invoice or above. An icon with inventory search. (Open a popup/modal) Where you can filter to find the product with multiple filters. (Like most webshops have)\nAnd lastly yes that was a duplicate of the other request that would be a combined/grouped product. But from a different approach. Because I would like to have a new SKU and own sale price. for example in my products page for that combined product (it becomes a new product actually). Instead of making a summary of the combined products in one description invoice line. As #2719 suggested. . Packages for inventory: https://github.com/stevebauman/inventory\nSadly this one is not maintained anymore.\nOr:\nhttps://github.com/plank/laravel-metable\nWhere you can attach meta data to for example a product model. \n. ",
    "thwr": "Well, this would make sense. Maybe not for @kriskbx use case, but for others. There are lots of possible use cases I could think of where we could need some kind of real date calculation, e.g. in invoice items, reminders etc.. Just had an annoying case: I want to create a quarterly invoice. There should be the time frame noticed on the invoice line, like:\nHosting APP-XYZ for up to 10 users with 20GB total storage\n07.:MONTH.:YEAR - 06.:MONTH+3.:YEAR+1\nThat doesn't work out very well for the next recouring invoice (would be 2020) :)\nA way better (and safer) approach would be :DATE+ADDMONTHS(3) or something like that. \n. Same here. A custom field is indeed an idea, but I think that wouldn't work well because all the calculation in the background. And I can't simply add the charges to the invoice sum, because that's not the sum in (for example) your (white label) invoice. . Well, is there any way to just get the plain month number? E.g. 12 for December? That would at least be a workaround. . Ok, just an idea: What if we introduce another variable like :MONTHNUMBER? Shouldn't be that hard. . Sounds good, I'll take a look during the next days. . Yes, it looks like to be a Preview-Issue. My guess is that there's some JS involved to generate the preview.. ",
    "TheInsomniac": "Thanks for the quick reply. My standard upgrade command is:\ncomposer dump-autoload --optimize\nphp artisan optimize --force\nphp artisan migrate\nphp artisan db:seed --class=UpdateSeeder\n\nThe composer command works as expected but both artisan optimize and migrate fail with the above error.. I should also note that, during the last few version upgrades prior to this one, I've seen the following SQL warning though it has never affected functionality:\n[Illuminate\\Database\\QueryException]\nSQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'signature_base64' (SQL: alter table `invitations` add `signature_base64` text null, add `signature_date` timestamp null)\n\n[PDOException]\nSQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'signature_base64'\n\n. Thank you, unfortunately the issue still persists when using optimize or migrate:\nPHP Fatal error:  Class 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found in /var/www/ininja/bootstrap/cache/compiled.php on line 7716\n\n[Symfony\\Component\\Debug\\Exception\\FatalErrorException]\nClass 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found\n\nIf I remove the cache files, the error persists but points to an Illuminate file. \nAs stated, if I run \"composer install\" (not sure if this is recommended), then those commands run successfully and I can access ininja. Unfortunately, while the DB still contains the correct records, I get db errors when looking at the various dashboards.. I just downloaded 2.9 from the release (in tgz) and copied over my existing installation as I've always done in order to test.\nCommenting out 15-48 in the db migration script still errors out when running php artisan migrate\nPHP Fatal error:  Class 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found in /var/www/ininja/bootstrap/cache/compiled.php on line 7716\n\n[Symfony\\Component\\Debug\\Exception\\FatalErrorException]\nClass 'Nwidart\\Modules\\LaravelModulesServiceProvider' not found. That fixed it. I thought I had always used the github \"Release\" for upgrades but I suppose I was downloading the zip.\n\nThank you very much for your assistance, your patience, and your excellent application (I purchased the white label to support your efforts a while ago). Notes\n\nadding a fictitious record #1 does not fix the issue.\naccount_gateways correctly identifies \"gateway_id\" as 24 which is \"Stripe\" from the \"gateways\" table.\n\n. Thanks for the prompt reply! I attempted to delete the records and import them from setup.sql but I cannot delete the existing data in \"gateways\" due to the following:\nCannot delete or update a parent row: \n    a foreign key constraint fails (ininja.account_gateways, CONSTRAINTaccount_gateways_gateway_id_foreign FOREIGN KEY (gateway_id) REFERENCES gateways (id))`\n. ",
    "ErwinVorenhout": "Thanks for your reply, The country table is empty, I installed it manually.. Thanks for your fast reply,\nI reseeded the database , but the table stays empty.. I downloaded it from git.. There we go php artisan db:seed --class=CountriesSeeder fixed my problem. ",
    "psuet": "Had the same problem when installing from Git. \nphp artisan db:seed --class=CountriesSeeder fixed it. ",
    "PeterPlucinski": "Thanks for the reply. I'll tackle this one and get your thoughts or comments in the pull request.. Sure will, I'm a fan of the git-flow workflow myself.. ",
    "JohnMaguire": "Merged upstream.. ",
    "elonmir": "Any plans when these issues get resolved. It's pretty annyoing that the countries aren't translated in the pdfs :). @hillelcoren Yes, I am running on the latest master branch commit b957b4397b3bf9334e1ffe1322a0b827cdd2ea47. Nope, also the draft preview is faulty, see for yourself.\nPreview in draft:\n\nClient portal view:\n\n. Yes, and in addition to that, if your backend language is set to German, the draft preview totally ignores this setting, but just for the countries.. Further addition to that issue, the generated pdfs, which can be applied to the sent emails, also don't get translated properly.\nI am gonna check you fix, as soon as it is on master branch.. Date seems to suffer from the same issue... :(. ",
    "D-Ogi": "\"Greek\" string missing:\n\n. Default locale/language settings from /app/Constants.php ignored.\nAlso locale settings available in admin panel in [instance_url].com/settings/localization are ignored when user is not logged in\nLogin and password management sites affected when user not logged in.\nSettings in /app/Constants.php:\n\nLogin site is still in English, not translated:\n\n. Works perfectly! Thanks! :)\nSo here's another issue... Font used in dashboard and in some other places doesn't cover UTF-8 charset. Some chars are extremely bold:\n\n. Thanks. I'll follow that. For a future could you please consider switching to font which covers UTF-8 and looks elegant (for instance Lato) or give a choice in admin panel to use custom font from Googe Fonts?\nAnother issue: when defining templates for emails and email reminders a variable $client is always previewed as Client Name but that should be translatable. \nMarked red below:\n\n. @hillelcoren: thanks! Could you consider adding a reference this issue to \"Client portal entry numbering\" section in #1225? If I decide to develop a fix, which ID should I use?. ",
    "fincha": "any Update on the \"country\" in invoices?. @hillelcoren it is not, when I download the pdf. Tested with \"estaimates\".\nPS: I have a selfhosted code.. \n\nthis is an \"estimate\" aI have created. if I hit \"download\" in adminpanel, it downloades like this. In the preview link I sent the customer it is fine.\n@hillelcoren I am useing the latest version availible on the homepage 4.3.1. ",
    "MegaphoneJon": "This looks good to close based on the new features in the latest release of Invoice Ninja.. As a veteran of several time-tracking/invoicing tools, IMO the one that handles this best is Freshbooks.  On the task timer, you can specify a \"type\" of task - e.g. coding, client meeting, translation, etc.  Separate tables allow you to store whether a task is billable or not - and also store the rate for that type of work (on a per-client basis).  This significantly cuts down on the time needed to generate an invoice based on tasks.\nHere's a rough sketch of how you'd change the Invoice Ninja data schema:\nIn addition to tasks and projects tables, you'd add:\ntask_types\ntask_types_projects\ntask_types would define the following fields:\nid\nname\nis_billable\ntasks_types_projects is a many-to-many lookup table, and would be defined as:\nid\nproject_id\ntask_type_id\ncost\nNote that Freshbooks has a more complicated schema for their equivalent tables, because they allow you to choose whether a task's rate is hourly by type of work, hourly by which employee, or flat.  This schema only accounts for \"hourly by type of work\".  Changing is_billable from a boolean to a billing_type would allow future growth in that direction.\nFrom a UI perspective, you'd add a widget to edit a list of allowable task types on the \"Create/Edit a Project\" view, then add a \"Task Type\" select box to the \"Create/Edit a Task\" view.\nIn addition to simplifying invoice generation, this also allows for reporting on questions like, \"How much time do we spend on email vs. coding?\" or \"billable vs. non-billble\" generally.. That's not a bad approach.  It's worth comparing to the alternative approach I outlined on #1486.  @hillelcoren's suggestion is pretty quick to implement.  My approach would require some coding, but would allow different prices for different clients for the same work, non-billable time entries, and some other finer-grained niceties.  @hillelcoren - I can put in some of the work toward my idea (or all of it, given enough time), but I'm not sure if that's the direction you want to go.\n. @jgrossi - despite my lack of movement on this, I've thought quite a lot about it!\nThe reason I've avoided the \"default rate\" option you've mentioned is that it only handles a subset of billing types.  See Freshbooks' equivalent.  I'd like to future-proof any incremental improvements we make, so that future improvements aren't hindered by decisions we make now.\nThat said - if the default rate is added to the projects table rather than the clients table, I don't think there's a scenario in which we'll end up regretting it.  We may need to hide it in the UI if we later add a billing_method field to clients, but that's OK.\nOf course, \"project\" is a required value on tasks in Freshbooks, but not Invoiceninja.  I suppose there's an argument that you'd need to create a default rate on the clients table that could be overridden by the projects default rate.. @GPConnect It sounds like you SSHed into your Docker host, but then didn't SSH into your Docker container.  You should be running a command like: sudo docker run -it invoiceninja/invoiceninja bash.  This should drop you in /var/www/app, where you can run artisan.. this is an nginx configuration issue and isn't Invoiceninja specific.  My guess based on the symptoms you're seeing is that this will provide your solution: https://stackoverflow.com/questions/16000451/nginx-showing-subdomains-contents-as-root-domain. A couple of folks have brought this up.  This would add a lot of complexity to the data structure though, so there's been an ongoing discussion of what the underlying user experience issue is.\nFor instance - would you still want subtasks if, when submitting a task, the client/project remained the same, so you could just start a new task with a single click?  What about if there was task grouping on invoices?. Steps I tried:\n artisan cache:clear\n Added ?clear_cache=true to my URL.. Thanks @hillelcoren, works great!. ",
    "peterkelm": "I was hit by this issue today when I wanted to setup a new employee to use the time tracking feature.\nIt would be tremendously helpful if a user could be limited to just view clients, projects, tasks and expenses - but not \"see\" the invoicing part at all...\nGiven that the two referenced issues are closed: What would be needed to implement the above?. Oopsie - understand... what a pity... I was hoping that we'd be getting closer to seeing such a feature as it would make it easier for our \"time tracking\" employees to use the software.... Just upgraded to 4.5.1. The user management improvements work exactly as expected! Love it!. +1. On my install it is not the date picker(s) alone but all dates. The date formats as such are fine but the month names are always english. Tried different locale settings e.g. in php.ini and config/app.php - so far to no avail.\nI know this phenomenon from plain PHP applications, where the IMHO best solution was to use the IntlDateFormatter (requires the PHP intl extension).\n@hillelcoren (or anyone else), could you point me towards where specifically the date formatting happens (for those dates that use the \"Date Format\" specified under \"Settings\" - \"Basic Settings\")?. @hillelcoren, thanks for that hint.\nI found that this (date picker translation) issue is entirely separate from other date formatting issues like the ones in #167. The bootstrap-datepicker JS used by Invoice Ninja supports other languages already - and it seems like this had also been activated - somewhat. See resources/views/header.blade.php, line 124.\nThat line also has a comment stating that it \"causes problems with some languages (ie, fr_CA) if the date includes strings (i    e, July 31, 2016)\".\nI removed the first (!) comment in that line to set the date picker's \"language\" option to $appLanguage. That seems to work fine - at least for German language.\nHowever, the specific date format returned by the datepicker could possibly trigger issues as described in that comment because Invoice Ninja would need to deal with whatever format is supplied.\nPer the datepicker docs, this could be adjusted in versions 1.5+ (but Invoice Ninja 4.1.4 uses datepicker 1.4):\nformat: {\n    toDisplay: 'dd-mm-yyyy',\n    toValue: 'yyyy-mm-dd'\n},\n. Duplicate of #1590 . No, he hasn't. Is there a particular reason for these \"extra\" permissions in the context of the issue raised?. @turbo124, thanks for the instructions. We are indeed self-hosting. \nUnfortunately I can't find the code location you referenced above. We are on v4.5.6 at the moment. There isn't anything in app/Policies/ExpensePolicy.php that resembles the line you mentioned above.... @turbo124, only the development version of InvoiceNinja seems to include the above code line.\nAny thoughts on a fix for v4.5.x?. @turbo124, ok. Just wanted to be clear on that as I didn't see the cited code line.\n. ",
    "merced317": "I tried setting APP_DEBUG=true in .env and I don't have any errors in the browser or in the logs other than what I've already mentioned.. I'm seeing this error on the System Settings page. \"Unable to send email, please check that the mail settings are correct.\" is the error that is presented when attempting to email an invoice.  Still nothing appearing in laravel-error.log no matter what I try.. My .env file contains:\nMAIL_DRIVER=sendmail\nMAIL_PORT=25\nMAIL_ENCRYPTION=tls\nMAIL_HOST=localhost\nMAIL_USERNAME=\nMAIL_PASSWORD=\nMAIL_FROM_NAME='Invoice Ninja'\nMAIL_FROM_ADDRESS=user@host\nI tried enabling tls in my postfix server setup and Invoice Ninja still won't connect.. Commenting out the code section you referenced allows it to connect and send mail.  I'm not sure if it ended up using TLS or not, however.  I'm glad it is working, but username should definitely be optional and the encryption choices should be \"None\", \"TLS\" or \"SSL\" IMHO.. I'm glad to see this will be resolved.  Again, IMHO, having to go into the .env to manually edit the MAIL_ENCRYPTION value seems to be the wrong way to present the options to the end user.  Perhaps a check box for Encryption along with the drop down of \"TLS\" or \"SSL\" that only appears if the check box is selected?  I couldn't find anywhere in your documentation that leaving MAIL_ENCRYPTION blank in the .env file was even a valid option. . I understand why it isn't recommended.  However, the communication is happening over the loopback interface on the same machine.  There is no reason to require encryption.  Warn people that it isn't recommended, but at least give them the option and document the setting.. ",
    "LaurensRietveld": "Yes, profiles might be a better option indeed. Having profiles would make this feature more easily applicable to individual invoices as well. >> A lot of this stuff is subjective\nIf you feel like it (and I can imagine you don't ;) ), you could take a look at the server logs. Any sequental page changes for /settings path can be an indicator of users searching for the right config.\n\n\nIn the hosted version of the app the 'advanced settings' are restricted to paid users. The custom company fields are a pro feature.\n\n\nAh, that explains a lot, I was wondering what was the advanced part of the other settings. Still, imo this should be no impediment to moving some of the options to the basic settings (as long as they are hidden to non-paid users)\n\n\nThis page already has the longest title, I'd be reluctant to make it even longer.\n\n\nAlternatively, you could move the templates & reminders settings to the Email Settings page (which doesnt have a lot of config in it anyway. That way you lose a (long) menu title as well.\nAnyway, I get that these are not the most fancy feature requests..\n. ",
    "Lens40": "Hi I would suggest to have several invoice templates in the settings, which then can be selected for each client or for each invoice @hillelcoren I guess that is what you mean by profiles right?.\nMeans in your settings you may create several invoice templates: template_1, template_2, template_3 etc.. Then you might set one of the templates as \"default\" which is used for new clients for example. In the clients profile you might then choose one of the templates for general use. \nDuring the invoice creation it should also be possible to switch between the templates (when there are several) via drop down for example. \nSo what I would expect is:\n- Multiple invoice templates in settings \n- Template selector in invoice form\n- Pre selection of invoice template in client profile to have a default template set (similar to language setting). ",
    "apintocr": "I do support this. I'm also open to help implement this.. Also on mobile (android, latest chrome, firefox and chrome dev) the menu does not scroll.. @hillelcoren done :)\nLet me know if I missed something!. @hillelcoren done.. hum I merged the wrong tree...\nI'll redo the PR...\nI'm sorry... not my day ;). @hillelcoren sorry for the trouble!. @hillelcoren thank you.\nAlready checked. Nothing there. I've even cleared the log and enabled debugging.\nThat's the only error I can find.\nBy the way, if I get this working I'll make a PR. IfThenPay is the leading payment gateway in Portugal for Multibanco References and MB References are the most widely used payment method on our country too . . Still trying to get around the issue...\nThis is the full error that is being logged to laravel-info.log\n[2017-05-03 12:57:19] production.INFO: Payment Error [ifthenpay]: ***ErrorException*** [0] : /home/domain/public_html/invoice.domain.tld/vendor/ifthenpay/omnipay-ifthenpay/src/Message/Response.php [Line 18] => Trying to get property of non-object\n{\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Ant\u00f3nio Pinto\",\"method\":\"GET\",\"url\":\"https://invoice.domain.tld/payment/tvya0xtjmwksxwlbs9yv08y9d4l1cpap/credit_card\",\"previous\":\"https://invoice.domain.tld/view/tvya0xtjmwksxwlbs9yv08y9d4l1cpap\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3080.5 Safari/537.36\",\"ip\":\"xxx.xxx.xxx.xxx\",\"count\":7} []. To be honest I'm a bit lost on how this works :(. @hillelcoren I do not want to hire a dev, I want to learn how this works.\nI'll keep trying. No worries :). Sure!\nInvoices:\nN-{$clientIdNumber}{$clientCounter}\nQuotes:\nO-{$clientIdNumber}{$clientCounter}. I only see the error on the log. The error is triggered when I save the quote for THAT client.\nHowever if I create a new quote using the ../quotes/create/7 URL (to create it directly for that client, it also gives the same error and times out.. Here are the screens:\n\n\n\n. If, client with ID 4 (as a example) has the following:\n\nIf I try to create a new QUOTE for that client it will timeout and will not save.. > @hillelcoren  Also, if 'Share invoice counter' is checked we hide the quote counter on the edit client page. When you say they need to be different do you mean when the checkbox is unchecked they're different and then you check it?\nYou are correct! I wanted to say unchecked.\nI'll edit the original issue!. @hillelcoren if you point me in the right direction, I might be able to help with this.\nCurrently checking 'Share invoice counter' serves as a workaround for this issue.. Probably something on this file?\nhttps://github.com/invoiceninja/invoiceninja/blob/develop/app/Models/Traits/GeneratesNumbers.php. Maybe I'm wrong, but looks like it is not checking the the share_counter setting\nhttps://github.com/invoiceninja/invoiceninja/blob/develop/app/Models/Traits/GeneratesNumbers.php#L35. @hillelcoren you are amazing!\nThank you soo much!!. This is also something that interests me as the requirements are very similar to the Portuguese Law (however I use Invoice Ninja only for internal management and as a payment system, the real invoices are sent using another software).\nIf we could get Invoice Ninja Certified in Portugal I'd surely grab a reseller license as there's market for this!. @Braintelligence regarding to immutability, the portuguese requirements are the same, however most (all that I know of) do not take any special measures to ensure the data is not altered manually on the database.\nAs you said, it all comes down to the user capability and if he is able to edit a database he is probably also capable of circumventing any preventive measures at that point.\nWhat happens in about most of the certified software is that the end costumer only has access to the client, not the database, they get a maintenance contract with the provider and the provider is the only one knowing the database password. (funny enough I have a few clients that have a contract with the invoice software and all the passwords are in plaintext on the config files).\nIn case of a web app, the client never has access to the database (even thou they can have eventually access to the source code if it is open-source).\nEven being a rather archaic way, this is how some of software companies are solving that issues at the moment in Portugal.. @Braintelligence I believe you are going a bit overboard with tamper protection...\nEven PDFs can be edited if you think that way, even paper can be copied and modified.. @Braintelligence I was not arguing, I just think there's no need to go that far - but again it's just my interpretation (I strongly believe Portuguese law is similar to the German one).\nI apologize if by any mean I offended you, that was not the intention.\nI also appreciate the knowledge you are sharing with our community, as Im sure many do also appreciate.. @hillelcoren I understand your point, and yes it should be trivial to disable this feature.\nHowever my idea would be to make it an setting and not a hardcoded change that would need to be reapplied on every update.\nI do believe this will be of importance for many of your costumers and opensource users.\nIf I have time I might work on this, but I do not see than happening soon :(\nRegarding the GDPR, well it is a bit unclear, however I've talked about this with other people and it seems to be against the GDPR to track behaviour without proper consentment.\nPlease check this https://www.gdpreu.org/compliance/email-tracking/\nSidenote: I'm just trying to help :) as for my specific case I can sort this out and solve it by myself, but I believe this will be important to more people in the upcoming months.. ",
    "wbrekel": "Use an object tag instead of an iframe:\nHTML:\n <object id='pdfV' type=\"application/pdf\" .....></object>\nAnd then set the data attribute in the controller\npdfMake.createPdf(docDefinition).getDataUrl(function(outDoc) {\n        document.getElementById('pdfV').data = outDoc;\n});. I could not replicate either, but I could see console warnings in Chrome (windows and OS-X) => \u201cResource interpreted as Document but transferred with MIME type application/pdf\u201d.\nYou can see the warning popping up in the console if iyou open the console and then navigate to the playground page http://pdfmake.org/playground.html.\nUsing an object tag instead of an iframe resolves this.\nFrom: Hillel Coren notifications@github.com\nReply-To: invoiceninja/invoiceninja reply@reply.github.com\nDate: Thursday, 9 February 2017 at 19:50\nTo: invoiceninja/invoiceninja invoiceninja@noreply.github.com\nCc: Willem Jan Van Den Brekel WvandenBrekel@schubergphilis.com, Mention mention@noreply.github.com\nSubject: Re: [invoiceninja/invoiceninja] [Bug] PDF sometimes not rendered (#1247)\n@wbrekelhttps://github.com/wbrekel Thanks for the suggestion! I haven't been able to reliably replicate the problem but this could help.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHubhttps://github.com/invoiceninja/invoiceninja/issues/1247#issuecomment-278735969, or mute the threadhttps://github.com/notifications/unsubscribe-auth/ADQjTb7xKmk8dGTEWW1Nk6IG_KWOVu9bks5ra2AAgaJpZM4Lb6tj.\n. ",
    "gschwepp": "Hey,\nI just wanted to emphasize that this is extremely important for everyone not only EU citizens. Especially invoiceninja.com as hosting company has to care about this subject. \nThe General Data Protection Regulation (GDPR) will be enforced on 25 May 2018.  To make the consequences clear I quote some snippets from the official website (linked down below):\n\nWho does the GDPR affect?\nThe GDPR not only applies to organisations located within the EU but it will also apply to organisations located outside of the EU if they offer goods or services to, or monitor the behaviour of, EU data subjects. It applies to all companies processing and holding the personal data of data subjects residing in the European Union, regardless of the company\u2019s location.\nWhat constitutes personal data?\nAny information related to a natural person or \u2018Data Subject\u2019, that can be used to directly or indirectly identify the person. It can be anything from a name, a photo, an email address, bank details, posts on social networking websites, medical information, or a computer IP address.\nWhat are the penalties for non-compliance?\nOrganizations can be fined up to 4% of annual global turnover for breaching GDPR or \u20ac20 Million. This is the maximum fine that can be imposed for the most serious infringements e.g.not having sufficient customer consent to process data or violating the core of Privacy by Design concepts. There is a tiered approach to fines e.g. a company can be fined 2% for not having their records in order (article 28), not notifying the supervising authority and data subject about a breach or not conducting impact assessment. It is important to note that these rules apply to both controllers and processors -- meaning 'clouds' will not be exempt from GDPR enforcement.\n\nYou can find all information about it here: https://eugdpr.org\nTo avoid penalties you need at least cookie notification, and a privacy policy. You need to have an 'opt-out' feature for users to avoid tracking from Google Analytics, Matomo (former Piwik).  Additionally it is in your responsibility as website provider, that no user-information is passed to any social media over links, buttons and so on. \nIt would be great to include this features before the deadline, to avoid any problems. \nCheers,\ngschwepp. Sorry if was not clear. \nThis is not a managed server. Its just a small webspace. Afaik cpanel needs root access to the server, and most webspace provider do not allow this. \nIt is still amazing that invoice ninja is runnning without any console access out of the box on the webspace.\nI solved the issues. \nTo answer my question: Yes it is possible to call the cron job tasks from a php script. \nI just created a subfolder in ninja/public containing this simple php-script. \nwebcron.php:\n<?php\n exec(\"/usr/bin/php /www/htdocs/.../ninja/artisan  ninja:send-invoices 2>&1\", $out, $result);\n exec(\"/usr/bin/php /www/htdocs/.../ninja/artisan  ninja:send-reminders 2>&1\", $out, $result);\n?>\nThis script can be called via webcron. Please keep in mind to secure the access to this script via .htaccess & .htpasswd. \nIf something does not work as expected you can echo $out to get the return code and echo $result to get the script output. Call the script manually in your browser and review the output. \nMaybe this helps. \nCheers\n. ",
    "hcaldicott": "@turbo124 I've identified another issue with the app if this is the place to report it which extends upon @konstantinrudi's #4. I have my currency locale set to AUD yet the application shows US$.\n. ",
    "lukasoppermann": "Yes, thanks, I already did that in any case. However I figured it is worth mentioning it. \ud83d\ude04 . ",
    "XiteHosting": "Hi,\nYes I was using PostmarkApp. I disabled the line so that text messages are also attached, and it seems to be working fine. Do you remember the issue you had?\nI've now set it back to smtp delivery, since the open tracking isn't all that useful (gmail and outlook block remote images).\nI've looked at the content of the plain text version, is there a way to clean this up?\nThere is a lot of white space where the view invoice / access portal buttons go.\nAlso, there are no links in the plain text version (where the buttons used to be), so the client has no way to access the invoice (unless attached).\nregards,\nStijn. Hi,\nI've added a phantomjs api key to the .env file, but I still have no attachment when choosing \"Send invoice\" on the edit invoice page (when the client has a different language).\nStijn. Hi,\nYes it's publicly available. In laravel-error.log there is only one error about postmark api (used the wrong key yesterday).\nStijn. Hi,\nWe are getting closer :-)\ndd($pdfString); generated an\u00a0application exception.\nTried by doing echo($url); Didn't echo the url, but I\u00a0did see the error from PhantomJsCloud and the url\u00a0in the address field.\nTrying the request url for PhantomJsCloud in the browser revealed two problems:\nFirst, I had REQUIRE_HTTPS=true in my .env file.\u00a0It seems PhantomJSCloud is not able to follow the redirect and then\u00a0capture the contents.\nSecondly the ?phantomjs=true doesn't seem to work when\u00a0requested by PhantomJsCloud.\nIf I\u00a0view an invoice\u00a0in my browser without the phantomjs=true, I'm asked for the password. If I add phantomjs=true then it shows me the invoice (like it should)\nAlthough, when doing the request through PhantomJsCloud I get redirected to the password page.\nStijn\n. ",
    "SvenSFS": "i mean the client name not the client number. i mean the notifications of new invoices as PDF attachment in the mail instead of\na link to the invoice in admin backend.\nand this can archived on the mailer to the german financal office. \nSven. yes. \nthis can be store on the local system or on the mailserver.\nin germany i must that 10 years store.. Terms \n\n\n. Hi, the problem is that I can not create new payment terms.\nI have created a new one with 10 days but get the error that\nalready exists.\n\n\n. right, but not for this user. i have one user.\nand the \"200\" is from this user.. ",
    "HH-cjh": "Hi @hillelcoren \nI have set the env file to blank but still getting the error \n\n. Sorted it.. ",
    "wdimd": "Hello @hillelcoren,\nThank you for such amazing product this is. Superb.\nI do agree with @Braintelligence , there should be a way to allow them to login with their email address and password, simply because, if they need to consult their paid invoices, they'll need to find an old link to view an old invoice in order to login.\nThere should be at least a portal for the client, to allow them to login with their email and password.. Understood.\nThing is, the client tries to login in the admin area. There should be a\nunique form to the client, so they can login with their email and password.\nThere's the invitation link? In my opinion, it would better if they could\nalso login using their email and password.\nThere should be a way to get this working, no?\n2017-01-23 19:08 GMT+00:00 Hillel Coren notifications@github.com:\n\nI'm not sure....\nCurrently each client has a unique page to login, either an invitation\nlink or their client portal link. There's also a 'Recover password' link so\nclient's can self-service.\nA client's email could exist under multiple accounts. If we use a standard\nlogin page we'd need to match on the password, if the client requests the\nsame password with both accounts we wouldn't know which account to log them\nin to.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1299#issuecomment-274585553,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGmzlIi-QfVKYXTdkvEgRNRjBFUqroMks5rVPqVgaJpZM4Lqm1c\n.\n\n\n-- \nCom os meus melhores cumprimentos,\nBest Regards,\nMiguel \u00c2ngelo Santos Pereira\n. Understood.\nThing is, the client tries to login in the admin area. There should be a\nunique form to the client, so they can login with their email and password.\nThere's the invitation link? In my opinion, it would better if they could\nalso login using their email and password.\nThere should be a way to get this working, no?\n2017-01-23 19:08 GMT+00:00 Hillel Coren notifications@github.com:\n\nI'm not sure....\nCurrently each client has a unique page to login, either an invitation\nlink or their client portal link. There's also a 'Recover password' link so\nclient's can self-service.\nA client's email could exist under multiple accounts. If we use a standard\nlogin page we'd need to match on the password, if the client requests the\nsame password with both accounts we wouldn't know which account to log them\nin to.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1299#issuecomment-274585553,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGmzlIi-QfVKYXTdkvEgRNRjBFUqroMks5rVPqVgaJpZM4Lqm1c\n.\n\n\n-- \nCom os meus melhores cumprimentos,\nBest Regards,\nMiguel \u00c2ngelo Santos Pereira\n. Understood, but they can use that same link, right? They'll just need to\nwrite their password, which makes it a little bit insecure, would rather be\nemail and password auth there.\n2017-01-23 19:42 GMT+00:00 Hillel Coren notifications@github.com:\n\nHave you noticed on the client page there's a portal link next to each\nclient, this redirects to /client/login.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1299#issuecomment-274595152,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGmzmkPWNfVHsNYIejiDYnPHhPFHVyjks5rVQKqgaJpZM4Lqm1c\n.\n\n\n-- \nCom os meus melhores cumprimentos,\nBest Regards,\nMiguel \u00c2ngelo Santos Pereira\n. Do note that I'm suggesting improvements here, the script runs flawlessly,\nruns great. Not a single issue to complain about.\nBTW, something I remember too, php5-gd needs to be installed for Logo\nupload.\n2017-01-23 19:47 GMT+00:00 Miguel \u00c2ngelo Santos Pereira mail@miguelsp.net:\n\nUnderstood, but they can use that same link, right? They'll just need to\nwrite their password, which makes it a little bit insecure, would rather be\nemail and password auth there.\n2017-01-23 19:42 GMT+00:00 Hillel Coren notifications@github.com:\n\nHave you noticed on the client page there's a portal link next to each\nclient, this redirects to /client/login.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1299#issuecomment-274595152,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGmzmkPWNfVHsNYIejiDYnPHhPFHVyjks5rVQKqgaJpZM4Lqm1c\n.\n\n\n--\nCom os meus melhores cumprimentos,\nBest Regards,\nMiguel \u00c2ngelo Santos Pereira\n\n\n-- \nCom os meus melhores cumprimentos,\nBest Regards,\nMiguel \u00c2ngelo Santos Pereira\n. Thank you.\nNot sure if there's any slack room, but should be, so we could contribute\nin real-time.\nCheers, and thank you again for this awesome software.\n2017-01-23 19:48 GMT+00:00 Hillel Coren notifications@github.com:\n\nWe love feedback, all the little things matter.\nWe'll look into it.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1299#issuecomment-274596753,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ACGmzq7IGRXRqlSqBttztuSdhz1RYRA_ks5rVQQigaJpZM4Lqm1c\n.\n\n\n-- \nCom os meus melhores cumprimentos,\nBest Regards,\nMiguel \u00c2ngelo Santos Pereira\n. ",
    "dzan": "Hi,\nI didn't notice. I just updated, but there still isn't the option to include a client id in the invoice number I think? So I would still need to add a similar patch only now with client->id_number I guess?\nBy the way, is there a way to know if after an update I need to perform database migrations? I just pulled it over git and it worked but I'm not sure the database scheme is updated?\nKind regards. Thank you for your help. For future reference is anyone wants to do the same;\n```php\ndiff --git a/app/Models/Traits/GeneratesNumbers.php b/app/Models/Traits/GeneratesNumbers.php\nindex 0353c80..477fa9f 100644\n--- a/app/Models/Traits/GeneratesNumbers.php\n+++ b/app/Models/Traits/GeneratesNumbers.php\n@@ -176,11 +176,13 @@ trait GeneratesNumbers\n         $search = [\n             '{$custom1}',\n             '{$custom2}',\n+            '{$customerId}',\n         ];\n     $replace = [\n         $invoice->client->custom_value1,\n         $invoice->client->custom_value2,\n\n\n$invoice->client->id_number,\n         ]; return str_replace($search, $replace, $pattern);\n\ndiff --git a/resources/views/invoices/edit.blade.php b/resources/views/invoices/edit.blade.php\nindex 5492169..1f835b2 100644\n--- a/resources/views/invoices/edit.blade.php\n+++ b/resources/views/invoices/edit.blade.php\n@@ -1595,6 +1595,7 @@\n     var number = '{{ $account->applyNumberPattern($invoice) }}';\n     number = number.replace('{$custom1}', client.custom_value1 ? client.custom_value1 : '');\n     number = number.replace('{$custom2}', client.custom_value2 ? client.custom_value1 : '');\n+        number = number.replace('{$customerId}', client.id_number ? client.id_number : '');\n     model.invoice().invoice_number(number);\n }\n```. \n\n",
    "markusthiel": "its in preview and after download. fixed!. tried it but doesnt work. Great, sending emails in invoice view working again in v3.0.1!. same here!. tried to make a fresh install with old database and now invoices cant be loaded:\n\"Whoops, looks like something went wrong.\"\nDisabeling preview doesnt change anything for me, but right now complete invoice view doesnt work anymore. First the error log: i dont know where to start :-D\ni attach a dcopy of that file\nlaravel-error.txt\nI updated the files to the latest master but it doesnt change my problem. invoice view doesnt work.\ni also tried running composer dump-autoload\n. Thats it! thanks a lot!\nthe interface is laggy, but it works!. disabling the live preview doesnt change the behavior. The interface is laggy. but it looks the database querys are the problem. the page loads empty and after some seconds the database entrys appear. replace all files with the old ones enough for a downgrade?. ok i made a copy of it and installed 2.9.5 again.\nit works great and i think the complete invoice part is messed up in 3.0.0\nclicking on invoices and open an old invoice takes maybe one second and its finished.\nOn 3.0.0 it takes 5-6 seconds and sending emails doesnt work.\nSending an invoice email on 2.9.5 works great.\nBy the way: clicking the send buttons the question shows up \"Are you sure?\"\nAfter clicking yes the next message appears: \"The Invoice could not be saved. Internal Server Error\"\n. Ok, sending emails in invoice view owrking again in v3.0.1.\nBut interface is laggy as before.. Great! I sent you two different logins. you can see different url's.. Great! Good job.. Yes it is self hosted. I set up 2 Crons and get the following output:\n2017-02-03 Running SendRecurringInvoices...\n0 recurring invoice(s) found\n0 due recurring invoice instance(s) found\nDone\nBut i think there is something wrong or i do something wrong at setup.\nI created a new recurring invoice with all details.\nbut after starting it manually the created invoice has an old date as invoice date, how is this date created?. ok ill try that! i think it was the mark sent-button. hm no, i did not use it, cloud key var is empty, but now i have installed phantomjs on the server right now and will give it a try, thanks!. Works but there is another thing:\nAdding more then 20-30 lines of CSS breaks the Backend.\n\"Whoops, looks like something went wrong.\" comes up at saving.. this did not work:\n`body{background-color:#282828;color:#FFFFFF;}\ndiv.well{background:#282828;}\ndiv.address-details{color:#FFFFFF;}\nmain-row i {background-color: #282828 !important;}\n.navbar-inverse .navbar-nav>.active>a, .navbar-inverse .navbar-nav>.active>a:focus, .navbar-inverse .navbar-nav>.active>a:hover {background: 0 0;border-top-color: #FFFFFF !important;}\ntable {display: table;border-color: #282828 !important;}\nth{border-left: 0px solid #FFF;}\nthead{border-left:#282828 !important;}\n.table-striped>tbody>tr:nth-child(odd) {background-color: #f9f9f9;}\n.table-striped>tbody>tr:nth-child(even) {background-color: #f9f9f9;}`. maybe as an optional default setting per client and per project, so i could exclude some projects.. Always a good answer :-D Thats it! Thanks a lot!. Im on 3.1.0\nYes there is a error:\nWe had that a view weeks ago, it was about https/http\nBut i set https in config...\n[2017-03-06 11:50:26] production.ERROR: Local PhantomJS Error: 302 - http://domain.com/view/yIwx?phantomjs=true&phantomjs_secret=  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Mark Thi\",\"method\":\"PUT\",\"url\":\"https://domain.com/invoices/12\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\",\"ip\":\"217.xxx.xxx.xxx\",\"count\":9} []\n[2017-03-06 11:50:26] production.ERROR: PhantomJS - Failed to create pdf:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Mark Thi\",\"method\":\"PUT\",\"url\":\"https://domain.com/invoices/12\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\",\"ip\":\"217.xxx.xxx.xxx\",\"count\":10} []\n[2017-03-06 11:58:41] production.ERROR: Local PhantomJS Error: 302 - http://domain.com/view/yIwxVg3UBA8QGJZL58aeEY0KIY4YC4K4?phantomjs=true&phantomjs_secret=  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Mark Thi\",\"method\":\"PUT\",\"url\":\"https://domain.com/invoices/12\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\",\"ip\":\"217.xxx.xxx.xxx\",\"count\":11} []\n[2017-03-06 11:58:41] production.ERROR: PhantomJS - Failed to create pdf:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Mark Thi\",\"method\":\"PUT\",\"url\":\"https://domain.com/invoices/12\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Safari/537.36\",\"ip\":\"217.xxx.xxx.xxx\",\"count\":12} []\n. Thank you!\ni require https, but i have changed APP_URL to http a while ago.\nContacts dont have to enter a password.\nshould i remove the required https checkbox?. APP_URL=https://domain.com. sorry my mistake, i mean i changed it to https. no it was already https, i did not change it. it did not change after update, but i found something:\nin Account_amangement i removed Live Preview weeks ago.\nsince then the first invoiceemail doesnt include the pdf.\nafter enabling the live preview, pdf documents are attached to the first invoice email.. [2017-07-20 16:17:11] production.ERROR: ErrorException [0] : /var/www/vhosts/domain.com/app/Ninja/Repositories/AccountRepository.php [Line 392] => Trying to get property of non-object  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Markus Thiel\",\"method\":\"GET\",\"url\":\"https://xxxxx/settings/account_management\",\"previous\":\"https://xxxxx/settings/notifications\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Safari/537.36\",\"ip\":\"93.xxx.xxx.xx\",\"count\":8,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n. Works!. ",
    "alexanderhofstaetter": "I have the same problem.. ",
    "verwilst": "Question label? This looks more like a bug? ( Having it too btw ;-) ). When I mark the invoice as paid, i get this in the list:\n\nDetails show this:\n\nAnd the payments overview:\n\n. But there is no way to select those totals from the dropdown? Only \"last year\"?. Never heard of that :-) In Belgium it's \"31ste\", but we don't really write that.. Then it's just \"31 December\".\nActually, why not have a custom option where you can specify your desired format manually?. ",
    "fvleminckx": "dutch. @hillelcoren I made some changes to the invoiceninja/dockerfiles. Now testing and will make a PR later today.. ",
    "theitsmith": "I agree that this'd be a nice feature to have. However, what if just the Payments option was reworked to support this? Would it be a simple matter of just allowing someone to select multiple invoices there to apply a single payment to?\nAs a workaround, what I do is this:\n\nWhen a single payment is received for multiple invoices, I create a \"credit\" for that customer for the payment amount. I note in the credit the check number and invoices the credit applies to.\nThen I go to each invoice (Select->Enter Payment from the Invoices tab).\nI delete Payment Type of Check.\nFrom the Payment Type dropdown, I select Apply Credit and click Save.\n\nThis has the effect of documenting the payment source (check, cash, etc), what the payment is for, and then allows more quickly applying the payment to the respective invoices.. Here's a direct link to how Stripe recommends doing this (basically what I wrote above, minus the ACH example): https://support.stripe.com/questions/can-i-charge-my-stripe-fees-to-my-customers. @hillelcoren Wouldn't this be more of a bug than a feature request? The referenced functionality isn't working correctly, which makes using the \"Gateway Fees\" option a non-starter since those fees aren't being calculated correctly (which will result in the service provider not receiving the full invoice amount).. I understand that the fees calculate correctly in the way you're referring to them. However, the fees do not calculate correctly when one's intent is to pass the fees to the customer and to get the total amount due on the invoice.\nThis is what I'm calling a \"bug\"--the intended behavior of charging the fees to the customer (i.e. the \"Gateway Fees\" checkbox) so that I get my full invoice amount doesn't work correctly (in accounting, there's no such thing as close--either the numbers are correct or they're not... In my examples, your numbers are not correct).\nHere's a screenshot of a $100 invoice that is adding the gateway fees to the purchase:\n\nIn that example, the Credit Card Fee should be $3.30 and the Bank Transfer Fee should be $0.81--this is the only way to receive the full $100 on the invoice. And as the invoice amount increases, so too does the discrepancy and thus the loss to the service provider.\nAm I really the only one who sees this as a problem that needs fixing? Any service provider utilizing the Gateway Fees option thinking that their customers are paying 100% of the fees are losing money.\nI hope more attention can be given to this problem. :). ",
    "aylanet2": "Also this way we can enter a payment in advance if there is no invoicing there yet. Turnover...Is the total amount of Invoices issued no matter if they paid or not.. Outstanding can be caried from previous period invoices, more likely the\ntotal amount of invoices in a period\nOn Thu, May 24, 2018 at 11:11 AM, Hillel Coren notifications@github.com\nwrote:\n\nUnderstood, so... 'Total Revenue' + 'Oustanding'\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2112#issuecomment-391627897,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AR0cpU4fM7L37IOzcwPoTlQ2RJGA8fQoks5t1mscgaJpZM4ULRg0\n.\n. \n",
    "sdpg-desarrollo": "ohh sorry hillelcoren, you're right!.\nI was not typing minus sign in tax declaration, so it was not working.\nEverything working good for me now. . ",
    "imanghafoori1": ":)) So, how to inform you really? Does github offer any ways?. Thanks. I hope my idea help you.\nGood luck.. These changes mostly follow one simple and famous rule :\nhttps://softwareengineering.stackexchange.com/questions/18454/should-i-return-from-a-function-early-or-use-an-if-statement\nhttps://stackoverflow.com/questions/36707/should-a-function-have-only-one-return-statement?noredirect=1&lq=1\nOnce you get this you can verify that it doesn't break anything in less than 5 minutes. ;)\n. Anyway I hope you get the point of \"returning early\" and conform to it in your day to day work. ;)\nFollow these simple rules, I have managed to reach code quality of (9.96/10) for my own package.\nhttps://github.com/imanghafoori1/laravel-widgetize\n. I can also write some automated tests for this project. You really need them.. So if you think you have enough tests, why you worry about new bugs ?!\nI thought you may need more.... Leverage travis-ci.org which runs your tests after each and every commits or PRs and warns if any are failing.\nscrutinizer-ci.com\nwww.codacy.com\nstyleci.io\nAre free and nice to have. ;). unfortunately github does not offer an easy way of consulting the maintainers before starting the contribution except issue tracker which is not so good.. Any way feel free to reject the pull request if you want to. No tears will be shed... ;)\n@hillelcoren . ",
    "borfo": "Even just changing the column label to Qty/Hrs (or allowing changes to that label in settings) would work.. ",
    "chr1831": "@hillelcoren If it's not something that's coded into invoiceninja then it would have to be added by Lastpass.. I just tested this with IE 11, and the prevent chrome autocomplete is still present in the array. I also tested Chrome again with the same results after disabling all apps/extensions.\nCould this be possibly where it's coming from? https://github.com/invoiceninja/invoiceninja/blob/91699857b7689f96268f01f3f5359c7cfc6728ca/resources/views/partials/autocomplete_fix.blade.php\nAfter commenting out the partial the value is indeed removed.\nin ClientService.php line 52\nat HandleExceptions->handleError('8', 'Undefined index: public_id', '/var/www/invoiceninja/app/Services/ClientService.php', '52', array('data' => array('name' => 'Demo Org', 'id_number' => '', 'vat_number' => '', 'website' => '', 'work_phone' => '', 'address1' => '', 'address2' => '', 'city' => '', 'state' => '', 'postal_code' => '', 'country_id' => '', 'contacts' => array(array('public_id' => '', 'first_name' => 'Demo', 'last_name' => 'Contact', 'email' => 'demo@demo.com', 'phone' => '')), 'size_id' => '', 'industry_id' => '', 'private_notes' => '', 'plan' => 'free', 'plan_term' => '', 'plan_started' => '', 'plan_paid' => '', 'plan_expires' => '', 'data' => '{\"contacts\":[{\"public_id\":\"\",\"first_name\":\"Demo\",\"last_name\":\"Contact\",\"email\":\"demo@demo.com\",\"phone\":\"\",\"password\":\"\"}],\"mapping\":{\"contacts\":{}},\"placeholderName\":\"Demo Contact\"}', '_token' => 'FDSvABidXoxRykQlZDiSOPAthXSBJJZFXketGIRZ'), 'client' => null)) in ClientService.php line 52\nat ClientService->save(array('name' => 'Demo Org', 'id_number' => '', 'vat_number' => '', 'website' => '', 'work_phone' => '', 'address1' => '', 'address2' => '', 'city' => '', 'state' => '', 'postal_code' => '', 'country_id' => '', 'contacts' => array(array('public_id' => '', 'first_name' => 'Demo', 'last_name' => 'Contact', 'email' => 'demo@demo.com', 'phone' => '')), 'size_id' => '', 'industry_id' => '', 'private_notes' => '', 'plan' => 'free', 'plan_term' => '', 'plan_started' => '', 'plan_paid' => '', 'plan_expires' => '', 'data' => '{\"contacts\":[{\"public_id\":\"\",\"first_name\":\"Demo\",\"last_name\":\"Contact\",\"email\":\"demo@demo.com\",\"phone\":\"\",\"password\":\"\"}],\"mapping\":{\"contacts\":{}},\"placeholderName\":\"Demo Contact\"}', '_token' => 'FDSvABidXoxRykQlZDiSOPAthXSBJJZFXketGIRZ')) in ClientController.php line 68. I changed the account key and everything appears to be working as designed. Thanks!. ",
    "MartinVerges": "Please include . As for my understanding of the GoBD, you don't need to make the database immutable or anything like that. You only need to make sure that this can only happen with criminal energy. If it's not possible to change a already sent invoice via web gui, the GoBD would be fine and I never had a problem with that. \nDon't allow invoice changes. Provide a clear invoice record \"Rechnungsbuch\" (something like a table where all invoice meta data are recorded) and never ever allow a user to change the pdf (a change is simply invoice cancelation and under a new number creation).  \nIf you want to be better than that minimum requirement, add:\n- checksum to generated pdf sql entrys (to check if file is not altered on disk space) \n- checksum of pre generated invoices records as an additional value in the \"Rechnungsbuch\"\n. would be nice to have sepa-debit added. As a paying customer, I would like to get a LDAP / AD connector as well. . ",
    "dgram": "ah thx, for the invoice i can attach with this feature the payment method.\nfor expenses? i think i need to write them directly in the notice?. ",
    "UnderDogg": "Duplicate with #1346 suggest to merge ticket 1346 into 1347. @theoryshaw if you want to make it work, you need to migrate the 'timesheets' table and add an extra field.\nThen in the times row on the tasks / create or tasks / edit view you need to add your button where you can fill the notes...\nReceive the form and add it to the timesheets table.\nI don't know if you can do that with a plugin, otherwise you would need to change the original invoiceninja source (and everytime it updates ......). hi zishanj, you're in luck. There's a PHP API library that hooks into the redmine REST API. github.com/kbsali/php-redmine-api it means that you might be able to use this script to make a custom module and fetch time-entries etc from redmine. ",
    "alexz707": "thanks a lot!! :) \ud83d\udc4d . Would be possible if both headers are possible ;) . ",
    "hanabadler": "Hi\nI saw in pdfmake a question regarding Hebrew on this link\nhttps://github.com/bpampuch/pdfmake/issues/409\nit might a configuration issue\nplease help\nthanks\nHana\n. Hi\nThanks for the quick reply. i will check the folder you mentiond.\nthanks\nHana. hi\nIs the validation done once or continusly?\n\u05d1\u05ea\u05d0\u05e8\u05d9\u05da \u05d9\u05d5\u05dd \u05d2\u05f3, 13 \u05d1\u05de\u05e8\u05e5 2018, 17:32, \u05de\u05d0\u05ea Hillel Coren \u200f\nnotifications@github.com:\n\nIt won't work, the app needs to be able to reach our servers to validate\nthe license.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1955#issuecomment-372707740,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADpbybgkWaCbc9f-cvTeKaCGwF7QnYSvks5td-aogaJpZM4So5rb\n.\n. thanks for the reply.\n. Hi\n\ni made a quick change on the LoginController but i will go over the Dashboard controller\nthanks for the quick reply\nHana. Hi\nthe use case is the following:\nthe company need two versions of invoices \none that has the \"hours\" field and one without the \"hours\" field.\nwhat i am doing now is : go to setting->Invoice Design. open the \"product tab\". remove the \"hours\" field.than save the setting.after it, i go to the invoice. save and download it.send it to the customer. then i go back to the setting, and add the \"hours\" again for other invoice the need to have the \"hours\" in it.\nwhat i wanted is use the API to add\\remove that \"hours\" field from the design. i will add a button on external html page that send the API call to add\\remove .\ni am not resell the app. its free . i am only looking for ways to solve issues based on company requirement and charge working hours.\nthanks\nHana. Hi Group\ni was really hoping you would consider this not as a question but rather as closest word for a bug\ni am indicating the API dont work literally. i assume you want to API to work. \neither the API is designed in a way that fields can be updated,or part of them, or not. \nif you have this written clarified in documentation, than other people would might open similar requests as feature request,but for now, the status is an open bug that one person mentioned and it was dismissed\nthe two sub company's might work but is not feasible for a company because tasks cannot be written part here and part there.\ni understand its open source and based on good will, in my opinion, this issue might popup also on your payed services and not just self hosted .\nanyhow, thank for the reply\nHana\n. ",
    "karneaud": "So to date there is no \"automated\" way to install an unofficial payment gateway?\nI have a similar situation where I have created and successfully implemented an unofficial gateway using Omnipay. \nThe integration process however requires me to implement some additional files to be installed\n\napp/Ninja/PaymentDrivers/WipayPaymentDriver.php\ndatabase/seeds/Wipay/WipayDatabaseSeeder.php\ndatabase/seeds/Wipay/WipayGatewayTypeSeeder.php\ndatabase/seeds/Wipay/WipayPaymentLibrarySeeder.php\ndatabase/seeds/Wipay/WipayPaymentTypeSeeder.php\nresources/views/payments/wipay/credit_card.blade.php\nresources/views/payments/wipay/wipay.blade.php\n\nIs there anyway to do this via module? Could the Payment Gateway be integrate via Module format?\n. @PeopleInside  any advice or tutorial that I can use as a starting point?. sigh.....you guys are no fun.... Not sure if that would be a good idea. The gateway is more or less specific to my country but will keep and open mind to it. I just wanted to know if there was any further steps to take in terms of integrating it..... add to config file? run an artisan command.... list in service provider config etc etc.. @hillelcoren THANKS! \n\nI'm not sure what you mean by 'present the client with a custom form prefilled with the invoice data'\n\nI need to \"post data\" when redirecting to payment gateway. The user would need to pass some additional information to the payment gateway on redirect. @hillelcoren not at all...after some research It might be a case of using a custom \"payment view\" for my custom gateway . > the wrong \"provider\" field in the gateway table?. >Add a row to the gateways table. name is used in the gateway select, provider needs to match the Omnipay driver name \nDoes this mean to use the fully qualified name? I ask because it worked before the upgrade to the latest version. @hillelcoren I see. Out of curiosity what do these constants represent? Can I add my own constants?. I see. Would it be possible to then add the appropriate text without having to modify the original language file?  This could then avoid update conflicts. lol good one mate!. @hillelcoren Just one note. \nbased on the Laravel documentation\nI can override languages for packages...would the documentation hold true for Invoice Ninja?. ",
    "dectys": ":+1: good idea, I was thinking about the same feature.\nIt could also be nice to allow some exchange of feedback/comments on some particular project.. ",
    "stintel": "+1 for this feature. Optional is fine, maybe a per-client setting. But I have a client that likes to see it before it's invoiced, and right now I'm making a draft invoice for this, but then I cannot add new tasks to it, and cannot delete the invoice, and if I make a new one the invoice number is wrong, so I have to delete it in the database... With this feature, and grouping of tasks per project on invoice (https://trello.com/c/GIkW2e6F/70-enable-grouping-invoice-line-items?), I will be able to start using InvoiceNinja for real.. ",
    "mrambil": "Yeah ! Thank you @hillelcoren ! \ud83d\udc4d. ",
    "thinckx": "The link doesn't work anymore, so for people still looking to solve this issue in Firefox: \nhttps://support.mozilla.org/en-US/kb/view-pdf-files-firefox#w_using-another-pdf-viewer. ",
    "hailthemelody": "Thanks @hillelcoren I'll give it a shot after-hours.. Hi @hillelcoren thanks again for your suggestion. Unfortunately it did not work. Any other ideas and/or do you think the dev team would consider a change if I developed it?. Would URL::forceSchema('https'); be a step in the right direction?. In this scenario I want the communication between HAProxy and InvoiceNinja to actually be on the HTTP protocol/port (as HAProxy handles the HTTPS), but the URLs to display as either // or https:// when rendered.. Thank you for your continued help @hillelcoren . Is there a way to toggle this functionality and/or overwrite its \"output\" so that it works as needed in my environment?. ",
    "bencevans": "```\n\nselect name from gateways where id = 62;\n+-----------+\n| name      |\n+-----------+\n| Braintree |\n+-----------+\n1 row in set (0.00 sec)\n```\n\n\nhttps://[invoiceninja]/update doesn't make a difference.\nhttps://[invoiceninja]/public/update - page not found.\n\nIs it better to create a new instance of InvoiceNinja and export/import the data?. Aah they seem to start with an id of 2 rather than 1. May this be causing the issue somehow?\n```\n\nselect id, name from gateways;\n+----+---------------------------+\n| id | name                      |\n+----+---------------------------+\n|  2 | Authorize.Net AIM         |\n|  3 | Authorize.Net SIM         |\n|  4 | CardSave                  |\n|  5 | Eway Rapid                |\n|  6 | FirstData Connect         |\n|  7 | GoCardless                |\n|  8 | Migs ThreeParty           |\n|  9 | Migs TwoParty             |\n| 10 | Mollie                    |\n| 11 | MultiSafepay              |\n| 12 | Netaxept                  |\n| 13 | NetBanx                   |\n| 14 | PayFast                   |\n| 15 | Payflow Pro               |\n| 16 | PaymentExpress PxPay      |\n| 17 | PaymentExpress PxPost     |\n| 18 | PayPal Express            |\n| 19 | PayPal Pro                |\n| 20 | Pin                       |\n| 21 | SagePay Direct            |\n| 22 | SagePay Server            |\n| 23 | SecurePay DirectPost      |\n| 24 | Stripe                    |\n| 25 | TargetPay Direct eBanking |\n| 26 | TargetPay Ideal           |\n| 27 | TargetPay Mr Cash         |\n| 28 | TwoCheckout               |\n| 29 | WorldPay                  |\n| 30 | BeanStream                |\n| 31 | Psigate                   |\n| 32 | moolah                    |\n| 33 | Alipay                    |\n| 34 | Buckaroo                  |\n| 35 | Coinbase                  |\n| 36 | DataCash                  |\n| 37 | Neteller                  |\n| 38 | Pacnet                    |\n| 39 | PaymentSense              |\n| 40 | Realex                    |\n| 41 | Sisow                     |\n| 42 | Skrill                    |\n| 43 | BitPay                    |\n| 44 | Dwolla                    |\n| 45 | AGMS                      |\n| 46 | Barclays                  |\n| 47 | Cardgate                  |\n| 48 | Checkout.com              |\n| 49 | Creditcall                |\n| 50 | Cybersource               |\n| 51 | ecoPayz                   |\n| 52 | Fasapay                   |\n| 53 | Komoju                    |\n| 54 | Multicards                |\n| 55 | Pagar.Me                  |\n| 56 | Paysafecard               |\n| 57 | Paytrace                  |\n| 58 | Secure Trading            |\n| 59 | SecPay                    |\n| 60 | WeChat Express            |\n| 61 | WePay                     |\n| 62 | Braintree                 |\n| 63 | Custom                    |\n+----+---------------------------+\n62 rows in set (0.00 sec)\n```. Hmm, if I was to drop the table then run /update might that instantiate that table?. \n",
    "AugmentBLU": "Thanks for the quick reply.\nI'm not quite seeing how I can request a client's details, that includes their invoices as well as the contacts. Using the code below I get the main Client account data, contacts and the invoices - however there's no contacts.contact_key or invitations here.\nUsing Guzzle\n```\n$token = 'OujXyeLBNHKxfDElO5wljuJNRNK8f928';\n        $client = new Client(['base_uri' => 'https://invoiceninja.app']);\n        $callApi = $client->get('/api/v1/clients/1?include=contacts,invoices,invitations', [\n            'verify'      => false,\n            'headers' => [\n                'X-Ninja-Token' => $token,\n                'Accept' => 'application/json',\n                'Content-Type' => 'application/json'\n            ]\n        ]);\n    return json_decode($callApi->getBody(), true);\n\n```\nIf I use this, I see the specific invoice and the invitation - however this assumes you know the invoice ID from the previous call so it there a requirement for 2 queries? Maybe I'm missing something as the only API documents I can find were quite short (http://docs.invoiceninja.com/en/latest/api.html).\n```\n$token = 'OujXyeLBNHKxfDElO5wljuJNRNK8f928';\n        $client = new Client(['base_uri' => 'https://invoiceninja.app']);\n        $callApi = $client->get('/api/v1/invoices/1?include=invitations', [\n            'verify'      => false,\n            'headers' => [\n                'X-Ninja-Token' => $token,\n                'Accept' => 'application/json',\n                'Content-Type' => 'application/json'\n            ]\n        ]);\n    return json_decode($callApi->getBody(), true);\n\n```\n. Excellent, this works!\nAs I mentioned in the beginning, I am using a CMS and it has it's own tables for users etc - different from those used by InvoiceNinja. I decided to keep the 2 systems in separate databases so there's no conflicts.\nI want to show a logged in user their invoices, of course a logged in user's ID could differ from the one stored in InvoiceNinja so rather than use the clients endpoint, is there a better way to retrieve this info - based on the user email perhaps? Currently I would need to do\n/api/v1/clients/$user_id?include=contacts,invoices.invitations\nHowever this will assume the $user_id from the CMS user is the same as InvoiceNinja. \nIs this possible? . Thanks for the super quick replies and this works perfectly. I'm loving this product so far.\nIs there a detailed API document that outlines this as I don't want to have to disturb you if there is.\nThanks. I did - but couldn't find the information you provided here. I searched github and the forums but the information in this thread is gold for what I need. \nThanks again, I'm looking forward to exploring things in a lot more detail.  . Me again... sorry\nHow do we go about getting the currency details based on the client currency_id?\nI found another post about using /api/v1/static to get a whole load of other information such as currencies, banks etc, just wondering how we tie this up to output the currency symbol for balance/amount?\n. Basically I'm creating a custom Dashboard and Invoice list in the account page of the CMS for my clients.\nI'm using the API to get the clients details but I don't see how we relate the currency_id to the actual currency data, unless there's the need for a separate DB query to check the currency table? I see currency_id => 1 but how do I get the information related to this currency without a separate DB query?\nAlso, how do I filter invoices that are either unpaid or not in draft form using the API?  Do I need to filter invoices after all the data is pulled through or is there any filters available in the API?\nUsing the following gets all invoices, even draft invoices - I don't want the client to see these.\n'/api/v1/clients/?email=' . $user->email . '&include=invoices.invitations'\nIs there a per_page option for the invoices pulled in with the clients APIcall or can we use the invoices API call on it's own but filter by email - which I can't seem to get to work like filtering clients/?email= \nThanks. TRUSTED_PROXIES was the one, worked as soon as this was set. \nThe support you provide is very reassuring, thanks again. . I'm having the redirect loop issue now that I've moved the install over to my staging server which uses CloudFlare. Just wondering if you know what this issue could be?\nI added all their IPs to the trusted proxy list but it's not working - it works if I disable CloudFlare and only use the DNS.\nMy trusted proxy list looks like this. I got the Cloudflare IPs from their site. https://www.cloudflare.com/ips-v4\nTRUSTED_PROXIES='\n10.0.0.0/8,\n172.16.0.0/12,\n192.168.0.0/16,\n03.21.244.0/22,\n103.22.200.0/22,\n103.31.4.0/22,\n104.16.0.0/12,\n108.162.192.0/18,\n131.0.72.0/22,\n141.101.64.0/18,\n162.158.0.0/15,\n172.64.0.0/13,\n173.245.48.0/20,\n188.114.96.0/20,\n190.93.240.0/20,\n197.234.240.0/22,\n198.41.128.0/17,\n199.27.128.0/21'. Thanks for the reply.\nThe setup I use is with Laravel Forge/Digital Ocean, using nginx. There's a load balancer with 4 servers connected, one is specific to the invoicing system and works as expected. I have an SSL installed on the load balancer, using LetsEncrypt and I also have an Edge SSL on the Cloudflare account just in case this was required. The invoice domain is actually on a subdomain - invoices.mydomain\nCloudflare is using Full Strict SSL, overall security level is Low, caching is Standard, Dev mode in disabled, Edge Certs are configured for wildcard subdomains. \nI'm trying to force SSL by setting REQUIRE_HTTPS=true, I have to use trusted proxies with the standard IP range otherwise I was getting the redirect loop - this was when Cloudflare was being bypassed. Now that I enable Cloudflare, the redirect loop is hitting again so I tried adding all their IP ranges to see if it helped - no luck.\nWhat other information would be helpful?. The load balancer is a custom setup that Forge create and is provisioned with DigitalOcean. It's using nginx as well.\nI checked the LB config and I can see it's using SSL for the invoice subdomain.\nlisten 443 ssl;\nlisten [::]:443 ssl;\nThe server hosting InvoiceNinja config is using standard http.\nlisten 80;\nlisten [::]:80;\nWould this be the issue, the load balancer is accepting SSL traffic but private network server is standard http? \n. From what I've been reading, terminating SSL at the load balancer is more effective on resources and is a lot easier to manage. \nWhen I switch REQUIRE_HTTPS to false I am hit with the mixed content error. No CSS/JS loads but no redirect error.\nAll links and assets are using http links, why aren't they relative rather than absolute? \n. In the .env file APP_URL=https://invoices.mydomain\n. @hillelcoren \nI'm using nginx but the equivalent of RewriteBase is in place.\n@turbo124 \nSo it turns out that Laravel Forge load balancers do not forward on https traffic but as you suspected, it's http. With that, is there any way I can make the resource links relative for invoiceninja rather than use absolute? That might help to a degree - failing that I might have to bypass the load balancer. . Thanks for all the help guys - really helpful.\nI found a fix but wouldn't of thought to of searched for this without the pointers you were giving.\nhttps://www.sonassi.com/blog/magento-kb/magento-https-redirect-loop-2\nThis works with CloudFlare enabled, REQUIRE_HTTPS=false. using Forge load balancer. \n```\nserver ... {\n  set $my_http \"http\";\n  set $my_ssl \"off\";\n  set $my_port \"80\";\nif ($http_x_forwarded_proto = \"https\") {\n    set $my_http \"https\";\n    set $my_ssl \"on\";\n    set $my_port \"443\";\n  }\n}\n```\nlocation ... {\n  fastcgi_param  HTTPS $my_ssl;\n}\n. @hillelcoren \nThanks again - this fixed the issue. . @hillelcoren thanks, this is great. \n. @turbo124 That's fine - I thought I was going insane! Look forward to the fix - cheers.. @turbo124 Sorry I forgot to ask about timings? Do you think it's today, this week? I just bought another license for a startup and hoped to get invoicing asap. . ",
    "michhhh": "What also helps, in .env file:\nset\nREQUIRE_HTTPS=true\nand add\nTRUSTED_PROXIES=\"*\"\nDon't know how secure that is!. ",
    "dgavigan": "Thank you for the insight. Im not much of a PHP man, but we will try to do our best to help contribute to the efforts. . ",
    "MikeLund": "I see this PR was closed, was there something bad with that change? I am unsure why it's not a commonly requested feature, it seems pretty useful for me - keeping track of all expenses at the company, and adding (incoming) invoices; getting more insight into our company's own expenses. Thanks in any case for considering it :). ",
    "thueske": "yes, I know - but standard cipher is AES-256-CBC since some versions of invoiceninja... why is there no userfriendly way to upgrade the cipher automatically? \ud83e\udd14. ",
    "timo002": "Timezone is correct.  I only see that the first month of the year is not set.\n\n. The server is setup correctly with timezone. If I run the date command on SSH I get the current time Wed Mar 29 11:49:22 CEST 2017 (this is the correct time at the moment of running the command)\nResult of the query:\n\n. I rather not share that information with the public, can I send it private? By e-mail?. @hillelcoren You've got mail!. I had to update my .env file!. ",
    "turyn": "Limiting Laravel5 module to part: ORM lets functional tests run. Raw errors could still be reflected in the log (as they are now). The reason I caught this today is that a client phoned totally confused, saying they didn't understand why it said to direct to PayPal if they came from there. (turned out they needed to increase Internet spending limit on their card with their bank). ",
    "uptoeleven": "This means that \"out of the box\" Invoice Ninja's test suite fails with the following error:\nhttps://pastebin.com/ryuRK7Yj\nWhilst you mostly use acceptance testing it is conventional to either support other types of test or prevent them from running within the suite.\nAccording to codeception, the acceptance tests need javascript but the functional tests don't. And this error seems to appear after the acceptance tests have finished running, when the functional tests start. So presumably any requirement for PHPBrowser could be removed for functional and unit tests - since according to codeception they don't need either webserver or javascript \nhttps://codeception.com/docs/01-Introduction. I've created a pull request in develop for the fix for this.\nIn /app/Providers/AuthServiceProvider.php, line 50 - 57 replace the boot function with:\n```\n    public function boot(GateContract $gate)\n    {\n        foreach (get_class_methods(new \\App\\Policies\\GenericEntityPolicy()) as $method) {\n            $gate->define($method, \"App\\Policies\\GenericEntityPolicy@{$method}\");\n        }\n    $this->registerPolicies();\n}\n\n```. Two things:\n1.) From that same document \"When converting method calls to facades, be sure to import the facade class into your service provider.\" - in /bootstrap/cache/services.php, Gate isn't defined...\n2.) Does their use of a facade work when you're directly extending a parent class and calling boot() on it where it only has boot($gate)? PHP doesn't support function overloading unless they've found a way to simulate that (eg using __call() - and that's not really overloading...) . ",
    "mubeguku": "Right now I'am not reseller but planning to be in future. I'm just testing platform in localhost. Is there any simple way to do this?. ",
    "sungkhum": "Yes please! Inventory tracking would be a great addition!. ",
    "Cronus89": "I'm looking for the most basic inventory tracking.  Put in how many I have on hand, and when I send an invoice, it deducts one.\nDesperately want this. If someone can develop a plugin for Invoice Ninja to do this, I'm willing to pay.. I agree, it does help in the meantime, until a full fledged popup can be designed.. ",
    "dannyhuls": "Is there any progress with the creation of this module? \nI can really use this module.. ",
    "stivekl08": "My customer requires a german date format with german names of the month and not number of the month.   Is there anything new to this topic. the name of the month is added via php ot via javascript?. ",
    "skyfox675": "@hillelcoren Thanks for the quick follow up! Turns out that Apache2 (might be the Laravel Platform, unsure) requires X Forwarded For headers that I have not needed up until now. Since I am on IIS, here is my below working forwarding headers that Laravel needed:\n<set name=\"HTTP_X_FORWARDED_PROTO\" value=\"https\" />\n <set name=\"HTTP_X_FORWARDED_HOST\" value=\"example.com\" />\nAgain, very great job with Invoice Ninja! . @hillelcoren Thanks for the fast reply/fix! Can you confirm if this update would be safe to apply to the current 3.6.0 release obtained from invoiceninja.org by the cron updater?. @hillelcoren \nJust applied the fix to my environment. Resolved the bug. Again much appreciated for the quick turn around!. Some additional background:\nThe self hosted instance sits behind an IIS reverse proxy with SSL offloading at the proxy.\nIs there anyway to purchase a license other than through the self hosted instance and apply at a later time?. Perfect, thank you all! Appreciate the insight as to different behaviors with SSL offloading. Here's my current version:\nphp -v\nPHP 7.1.16-1+ubuntu16.04.1+deb.sury.org+1 (cli) (built: Apr  5 2018 08:47:00) ( NTS )\n. Thanks for the info!\nLoaded Modules:\n core_module (static)\n so_module (static)\n watchdog_module (static)\n http_module (static)\n log_config_module (static)\n logio_module (static)\n version_module (static)\n unixd_module (static)\n access_compat_module (shared)\n alias_module (shared)\n auth_basic_module (shared)\n authn_core_module (shared)\n authn_file_module (shared)\n authz_core_module (shared)\n authz_host_module (shared)\n authz_user_module (shared)\n autoindex_module (shared)\n deflate_module (shared)\n dir_module (shared)\n env_module (shared)\n filter_module (shared)\n mime_module (shared)\n mpm_prefork_module (shared)\n negotiation_module (shared)\n php7_module (shared)\n rewrite_module (shared)\n setenvif_module (shared)\n status_module (shared)\nNow showing the web server is on php7.0\nDoesn't look like it's recognizing the newer files when unzipped to the same directory, following the self update process here. Please close this thread, realized I was mixing github releases and packaged releases!\nApoligies!. Thanks hillelcoren!\nI've updated the tables as follows:\ngatways table:\n1 | 2017-04-02 11:31:14 | 2018-04-25 02:35:14 | Authorize.Net AIM | AuthorizeNet_AIM | 1 | 1 | 5 | 0 | \u00a0 | 0 | 0\n2 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Authorize.Net SIM | AuthorizeNet_SIM | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n3 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | CardSave | CardSave | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n4 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | Eway Rapid | Eway_RapidShared | 1 | 1 | 10000 | 0 | \u00a0 | 1 | 0\n5 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | FirstData Connect | FirstData_Connect | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n6 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | GoCardless | GoCardless | 1 | 2 | 10000 | 0 | \u00a0 | 1 | 0\n7 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Migs ThreeParty | Migs_ThreeParty | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n8 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Migs TwoParty | Migs_TwoParty | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n9 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | Mollie | Mollie | 1 | 1 | 8 | 0 | \u00a0 | 1 | 0\n10 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | MultiSafepay | MultiSafepay | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n11 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Netaxept | Netaxept | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n12 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | NetBanx | NetBanx | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n13 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | PayFast | PayFast | 1 | 1 | 10000 | 0 | \u00a0 | 1 | 0\n14 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Payflow Pro | Payflow_Pro | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n15 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | PaymentExpress PxPay | PaymentExpress_PxPay | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n16 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | PaymentExpress PxPost | PaymentExpress_PxPost | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n17 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | PayPal Express | PayPal_Express | 1 | 1 | 4 | 0 | \u00a0 | 1 | 0\n18 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | PayPal Pro | PayPal_Pro | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n19 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Pin | Pin | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n20 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | SagePay Direct | SagePay_Direct | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n21 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | SagePay Server | SagePay_Server | 1 | 2 | 10000 | 0 | \u00a0 | 1 | 0\n22 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | SecurePay DirectPost | SecurePay_DirectPost | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n23 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Stripe | Stripe | 1 | 1 | 1 | 0 | \u00a0 | 0 | 0\n24 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | TargetPay Direct eBanking | TargetPay_Directebanking | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n25 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | TargetPay Ideal | TargetPay_Ideal | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n26 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | TargetPay Mr Cash | TargetPay_Mrcash | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n27 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | TwoCheckout | TwoCheckout | 1 | 1 | 10000 | 0 | \u00a0 | 1 | 0\n28 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | WorldPay | WorldPay | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n29 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | BeanStream | BeanStream | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n30 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Psigate | Psigate | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n31 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | moolah | AuthorizeNet_AIM | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n32 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Alipay | Alipay_Express | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n33 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Buckaroo | Buckaroo_CreditCard | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n34 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | Coinbase | Coinbase | 1 | 1 | 10000 | 0 | \u00a0 | 1 | 0\n35 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | DataCash | DataCash | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n36 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Neteller | Neteller | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n37 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Pacnet | Pacnet | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n38 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | PaymentSense | PaymentSense | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n39 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Realex | Realex_Remote | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n40 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Sisow | Sisow | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n41 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | Skrill | Skrill | 1 | 1 | 10000 | 0 | \u00a0 | 1 | 0\n42 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | BitPay | BitPay | 1 | 1 | 7 | 0 | \u00a0 | 1 | 0\n43 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | Dwolla | Dwolla | 1 | 1 | 6 | 0 | \u00a0 | 1 | 0\n44 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | AGMS | Agms | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n45 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Barclays | BarclaysEpdq\\Essential | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n46 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Cardgate | Cardgate | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n47 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Checkout.com | CheckoutCom | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n48 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Creditcall | Creditcall | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n49 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Cybersource | Cybersource | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n50 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | ecoPayz | Ecopayz | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n51 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Fasapay | Fasapay | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n52 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Komoju | Komoju | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n53 | 2017-04-02 11:31:14 | 2018-04-25 00:57:25 | Multicards | Multicards | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n54 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Pagar.Me | Pagarme | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n55 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Paysafecard | Paysafecard | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n56 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Paytrace | Paytrace_CreditCard | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n57 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | Secure Trading | SecureTrading | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n58 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | SecPay | SecPay | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n59 | 2017-04-02 11:31:14 | 2017-04-02 11:31:14 | WeChat Express | WeChat_Express | 1 | 2 | 10000 | 0 | \u00a0 | 0 | 0\n60 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | WePay | WePay | 1 | 1 | 3 | 0 | \u00a0 | 0 | 0\n61 | 2017-04-02 11:31:14 | 2018-04-25 02:35:15 | Braintree | Braintree | 1 | 1 | 3 | 0 | \u00a0 | 0 | 0\n62 | 2017-04-02 11:31:14 | 2018-04-25 02:26:33 | Custom | Custom | 1 | 1 | 8 | 0 | \u00a0 | 1 | 0\n63 | 2017-08-08 03:04:28 | 2017-08-08 03:04:28 | FirstData Payeezy | FirstData_Payeezy | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n64 | 2018-04-25 00:57:25 | 2018-04-25 02:35:15 | GoCardless | GoCardlessV2\\Redirect | 1 | 1 | 9 | 0 | \u00a0 | 1 | 0\n65 | 2018-04-25 00:57:25 | 2018-04-25 00:57:25 | PagSeguro | PagSeguro | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n66 | 2018-04-25 00:57:25 | 2018-04-25 00:57:25 | PAYMILL | Paymill | 1 | 1 | 10000 | 0 | \u00a0 | 0 | 0\n67 | 2018-04-25 00:57:25 | 2018-04-25 02:35:15 | Custom | Custom2 | 1 | 1 | 21 | 0 | \u00a0 | 1 | 0\n68 | 2018-04-25 00:57:25 | 2018-04-25 02:35:15 | Custom | Custom3 | 1 | 1 | 22 | 0 | \u00a0 | 1 | 0\n69 | 2018-04-25 02:35:15 | 2018-04-25 02:35:15 | Custom | Custom1 | 1 | 1 | 20 | 0 | \u00a0 | 1 | 0\npayment_types\n1 | Apply Credit | \u00a0\n2 | Bank Transfer | 2\n3 | Cash | \u00a0\n4 | Debit | 1\n5 | ACH | 2\n6 | Visa Card | 1\n7 | MasterCard | 1\n8 | American Express | 1\n9 | Discover Card | 1\n10 | Diners Card | 1\n11 | EuroCard | 1\n12 | Nova | 1\n13 | Credit Card Other | 1\n14 | PayPal | 3\n15 | Google Wallet | \u00a0\n16 | Check | \u00a0\n17 | Carte Blanche | 1\n18 | UnionPay | 1\n19 | JCB | 1\n20 | Laser | 1\n21 | Maestro | 1\n22 | Solo | 1\n23 | Switch | 1\n24 | iZettle | 1\n25 | Swish | 2\n26 | Venmo | \u00a0\n27 | Money Order | \u00a0\n28 | Alipay | 7\n29 | Sofort | 8\n30 | SEPA | 9\n31 | GoCardless | 10\n32 | Bitcoin | 4\nEnabled debugging and seeing the following:\n(1/1)\u00a0RuntimeExceptionClass '\\Omnipay\\Custom1\\Gateway' not found\nin\u00a0GatewayFactory.php\u00a0(line 105)\nat\u00a0GatewayFactory->create('\\Omnipay\\Custom1\\Gateway')\nat\u00a0call_user_func_array(array(object(GatewayFactory), 'create'),\u00a0array('Custom1'))in\u00a0Omnipay.php\u00a0(line 115)\nat\u00a0Omnipay::__callStatic('create',\u00a0array('Custom1'))in\u00a0Gateway.php\u00a0(line 210)\nat\u00a0Gateway->getFields()in\u00a0AccountGatewayController.php\u00a0(line 138)\nat\u00a0AccountGatewayController->getViewModel(object(AccountGateway))in\u00a0AccountGatewayController.php\u00a0(line 61)\nat\u00a0AccountGatewayController->edit('1')\nat\u00a0call_user_func_array(array(object(AccountGatewayController), 'edit'),\u00a0array('gateways' => '1'))in\u00a0Controller.php\u00a0(line 55)\nat\u00a0Controller->callAction('edit',\u00a0array('gateways' => '1'))in\u00a0ControllerDispatcher.php\u00a0(line 44)\nat\u00a0ControllerDispatcher->dispatch(object(Route),\u00a0object(AccountGatewayController), 'edit')in\u00a0Route.php\u00a0(line 203)\nat\u00a0Route->runController()in\u00a0Route.php\u00a0(line 160)\nat\u00a0Route->run()in\u00a0Router.php\u00a0(line 572)\nat\u00a0Router->Illuminate\\Routing{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 30)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0PermissionsRequired.php\u00a0(line 53)\nat\u00a0PermissionsRequired->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0Authenticate.php\u00a0(line 122)\nat\u00a0Authenticate->handle(object(Request),\u00a0object(Closure), 'user')in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0DatabaseLookup.php\u00a0(line 21)\nat\u00a0DatabaseLookup->handle(object(Request),\u00a0object(Closure), 'user')in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0StartupCheck.php\u00a0(line 234)\nat\u00a0StartupCheck->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0QueryLogging.php\u00a0(line 32)\nat\u00a0QueryLogging->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0DuplicateSubmissionCheck.php\u00a0(line 41)\nat\u00a0DuplicateSubmissionCheck->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0TransformsRequest.php\u00a0(line 30)\nat\u00a0TransformsRequest->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0VerifyCsrfToken.php\u00a0(line 65)\nat\u00a0VerifyCsrfToken->handle(object(Request),\u00a0object(Closure))in\u00a0VerifyCsrfToken.php\u00a0(line 44)\nat\u00a0VerifyCsrfToken->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0ShareErrorsFromSession.php\u00a0(line 49)\nat\u00a0ShareErrorsFromSession->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0StartSession.php\u00a0(line 64)\nat\u00a0StartSession->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0AddQueuedCookiesToResponse.php\u00a0(line 37)\nat\u00a0AddQueuedCookiesToResponse->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0EncryptCookies.php\u00a0(line 59)\nat\u00a0EncryptCookies->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 102)\nat\u00a0Pipeline->then(object(Closure))in\u00a0Router.php\u00a0(line 574)\nat\u00a0Router->runRouteWithinStack(object(Route),\u00a0object(Request))in\u00a0Router.php\u00a0(line 533)\nat\u00a0Router->dispatchToRoute(object(Request))in\u00a0Router.php\u00a0(line 511)\nat\u00a0Router->dispatch(object(Request))in\u00a0Kernel.php\u00a0(line 176)\nat\u00a0Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 30)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0Debugbar.php\u00a0(line 51)\nat\u00a0Debugbar->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0CheckForMaintenanceMode.php\u00a0(line 46)\nat\u00a0CheckForMaintenanceMode->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0HandlePreflight.php\u00a0(line 46)\nat\u00a0HandlePreflight->handle(object(Request),\u00a0object(Closure))in\u00a0Pipeline.php\u00a0(line 148)\nat\u00a0Pipeline->Illuminate\\Pipeline{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 53)\nat\u00a0Pipeline->Illuminate\\Routing{closure}(object(Request))in\u00a0Pipeline.php\u00a0(line 102)\nat\u00a0Pipeline->then(object(Closure))in\u00a0Kernel.php\u00a0(line 151)\nat\u00a0Kernel->sendRequestThroughRouter(object(Request))in\u00a0Kernel.php\u00a0(line 116)\nat\u00a0Kernel->handle(object(Request))in\u00a0index.php\u00a0(line 51)\nThanks,\n-Skyfox. That worked sir!\nAppreciate your quick fix as always!. @hillelcoren \nThanks for the quick response! Initially the emailing didn't work due to the missing file-system dependency. Emailing works now and correctly identified to be due to LastPass. \nPlease feel free to close, thanks again!\n-Skyfox. ",
    "iDzine": "I've just seen the forum, will be posting this question there, more related there then here.\nMy Apologies. You can delete this post, np!. Ok, can work with that! but you say the increment won't happen with a negative incoice (v3.2.0 here), for me it still inceases.... I just saw that the next nr was still the right one. Was confused with the name it had given to the credit invoice, which uses the next invoicenr... So it seems to behave like you say. Any possibillity to 'see it' like a recurring, so you can set a different pattern for the file name if it is a negative invoice?\n. Would be a very cool addition! I'm all pro cryptocurrency :). ",
    "flowdee": "Same here: After every month I need to collect all invoice and outgoing invoices as PDF files.\nWould be great to have this option (including the date range filter) on the report section.. Happy to hear @hillelcoren. Did you add the bulk export functionality to expenses as well?. To be honest, as some others too, I expected to filter invoices e.g. by month and download a zip of all invoices in this date range. But the reports pdf only shows a pdf with a table.\nThe invoices tab itself allows downloading multiple invoices at once, but there's no way to filter invoices by date, or am I wrong?. > We don't currently support filtering by date, maybe you can sort by date and then check-all?\nWould be awesome to get those filters even on the /invoices screen.\nIn my case I have 150+ invoices each month. I'm pretty sure you understand how crap this will be to do it right now.. In my opinion it's a rudimentary/basic feature.. Happy to hear \ud83d\udc4d . ",
    "filo87": "Same here...I need to batch export pdfs for accounting and tax declaration.. Hi Hillel, Thanks for your reply!\nWe recently performed an update to 4.2.2 but the error was already occurring before the update...To remove the document, I manually deleted the entry from the documents table and it worked...\nHere the content of storage/logs/laravel-error.log\n[2017-11-29 17:26:32] production.ERROR: Swift_RfcComplianceException [0] : /home/fzone/ninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 345] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"POST\",\"url\":\"https://www.*.ch/setup\",\"previous\":\"https://www..ch/setup\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.3.5 (KHTML, like Gecko) Version/11.0.1 Safari/604.3.5\",\"ip\":\"***\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2017-11-29 17:26:44] production.ERROR: Swift_RfcComplianceException [0] : /home/fzone/ninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 345] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"POST\",\"url\":\"https://www.ch/setup\",\"previous\":\"https://www..ch/setup\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/604.3.5 (KHTML, like Gecko) Version/11.0.1 Safari/604.3.5\",\"ip\":\"***\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-04-05 15:06:21] production.ERROR: Illuminate\\Database\\QueryException [42S21] : /home/embrio/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 770] => SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'format' (SQL: alter table subscriptions add format enum('JSON', 'UBL') not null default 'JSON')  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://.tech/invoice/update\",\"previous\":\"\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/11.1 Safari/605.1.15\",\"ip\":\"**\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n. Hi @turbo124, I'm using the default storage location. I just checked the Storage folder permissions, and Storage/* has 755 permission (644 for files) and is owned by the same user running the web-server process. Uploading new documents works perfectly.. ",
    "ovizii": "I looked at: http://docs.invoiceninja.com/en/latest/configure.html?highlight=trusted_proxies#using-a-proxy and hence my .env contains this line: \nTRUSTED_PROXIES='172.0.0.0/15'\nis that not correct?. YES!!!! :-) thanks! \nP.S. did you any chance have another look at the forum after I posted my configs here => https://www.invoiceninja.com/forums/topic/need-help-with-invoiceninja-behind-reverse-proxy-https/ I am still stuck and investigating. From Harvest I can export clients and contacts into CSV or Excel, what is preferred by you guys?\nUnfortunately, I can only export invoices as PDF so I assume those are not importable into invoiceninja.\n. Besides wanting to switch to a self-hosted solution for a while, the lack of implementation of GDPR tools is the main reason I am switching :-) \nTheir official (afaik) reply is that they are working on implementing the GDPR.\nI tested the plain CSv import and the results were horrible. I'll send a sample to the email you gave me.. ",
    "jnaskali": "Yes. I converted the logo to a non-interlaced png without transparency, which fixed the problem.\nThank you!\nShould this be automated? The system could at least throw an error while uploading an interlaced image, perhaps even convert the png to a working format.\nfunction isInterlaced( $filename ) {\n   $handle = fopen($filename, \"r\");\n   $contents = fread($handle, 32);\n   fclose($handle);\n   return( ord($contents[28]) != 0 );\n}. ",
    "12nick12": "Just updated to v4.2.0 and this is still an issue. If they go to https://billing.site.com/client/login and hit change a password they still get an error. . Client can log in using current, but can't reset password using the client password forgot link.. Here's a screenshot of the error. https://kek.gg/i/7kK3JS.png. 2017-12-25 22:42:15] production.ERROR: Symfony\\Component\\Debug\\Exception\\FatalErrorException [64] : /var/www/ninja/app/Http/Controllers/ClientAuth/ResetPasswordController.php [Line 11] => Cannot use App\\Models\\PasswordReset as PasswordReset because the name is already in use  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://domain.com/client/password/reset/string\",\"previous\":\"https://domain.com\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.108 Safari/537.36\",\"ip\":\"72.241.85.40\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n. ",
    "unedeplus": "I'll send you the file.  I'm not sure I understand all of it...\nThank you for the quick respons by the way.\nlaravel-error.log.zip\n. previous version was via github (2.7.2) but now via Self-host zip (v.3.2.1). When uploading the logo. It WORKED ! thanks\nI'll play around a bit more but if you don't hear from me : It means everything is \ud83d\udc4d . I replaced the entire \"ninja\" folder with the new one.  Didn't touch the mysql base.\nI had an issue with file permission (that I solved with a chmod+chown).\nNot sure it's the right way.... ",
    "basjac": "Clear. Thank you.. ",
    "marlicreeach": "Discovered it was autofilling by LastPass - sorry! Whew!. ",
    "jgrossi": "@hillelcoren @turbo124 thanks for helping :-). @erichk4 @MegaphoneJon @hillelcoren Maybe just creating a Default Rate field in client's Additional Info section? Then if there's a \"default rate\" it would be applied in all tasks that invoices has.\n. @MegaphoneJon yep, maybe under projects makes more sense ;-) you can have different rates inside the same client.. you're right :D. @hillelcoren good call :-). @hillelcoren thanks! Maybe in 02:30 format or even 2.5 if it's easier ;-) thanks!. ",
    "niladam": "I'm also affected by this. How could i make sure it all gets back to normal ?. ",
    "souldessin": "Thanks for getting back with me. There are a few nice long errors showing some long queries, but they start with.\nSQLSTATE[42S22]: Column not found: 1054 Unknown column 'expenses.payment_date' in 'field list' in /vendor/laravel/framework/src/Illuminate/Database/Connection.php:333\nIf I am reading this right and comparing to the most recent changes, it looks like it didn't add the field for the new paid options on expenses. What would you advise I do in this case? Modify the database or something else?. Hey, I didn't know that you were talking about the web address and thought that you meant a file folder. When I navigated there, it fed a permission denied error. I re-ran a chown -R www-data:www-data * on the whole folder and then refreshed the page and it must have finished the update. The expenses are showing up.. ",
    "RyanHarrigan": "Sent a request-pull . ",
    "PeopleInside": "Should be present an option, as is present in invoice, to send an email also after :) if you forgot to do it :). Please can you add the possibility to disable email notification for when the invoice is generated?. I want disable the email notification to a specific customer when the recurring invoice is created because customer will pay it and not need to be alerted... only if no payment will be done on the invoice expire data I want reminders email notification send to me and to the customer.. Thank you,\nin the screenshot I put \"do not send email when invoice is generated\" so if this option will be present an invoice is generated and only if no payment is done than email alert should be sent to customer.\nThe first option allow to keep all work as is working now so no issue for user that want invoice emailed when is generated who is also a useful feature... \nThe idea to add this two option and maybe more about email in each customer profile it's amazing I think. Maybe can be considered if a global option to override all customer email preference will be needed or not... Like in live helper chat each operator can decide after many seconds of inactivity their profile go offline but admin have an option in the settings to ignore all operator rule about this and set a rule for all...\n... So also in Invoice Ninja my suggestion to add more customable email notification option to each customer can be useful but also a settings in general settings to ignore this custom settings and decide a settings for all customers. (a global option who let admin decide if use each customer notification rule or general rule set for all in the general settings\".\nHope to be clear on my idea, sorry for my little english :)\nI hope this can be implemented not too late as is very useful for not SPAMMING on customers email :) for fix this issue I have to manually edit a file and remember in each update to do this.. Yes I do but manually. No :). karneaud,\nmy No replies means that I had just 5 symbolic invoice so I do the job manually. \nI looked into expert option in Invoice plane but is not present.\nI do not know how to help, is just this :). As you can see from the screen I was able to set link to my website but not link to the support email.\n\nThis because using the URL button http:// is always added before also if you are trying to make a URL start with malito: or tel:\n\n. OK thanks, never find how to do this. Works.. Yes, same subdomain. The address in the browser is the same subdomain.. Yes sure, same Firefox browser. In the admin section I use the \"view customer portal\" a new tab is opened and is asked to me to insert the password.. Admin link:\nhttps://invoice.mydomain.ext/clients/1\nclient portal link \nhttps://invoice.domain.ext/client/dashboard/secretcodelink. Grazie, purtroppo non mi intendo di codice anche se mi piacerebbe.\nPer poter vedere l'area del cliente ho dovuto editare il suo profilo e rimuovere la password.\nOPS, ENGLISH translation: \nI AM sorry but I do not understand about code also if this will be very desired by me.\nFor be able to see the customer area I had edited the customer profile and removed the password.... After the invoiceninja upgrade I AM unable to sign into customer portal because is required a password.. Yes, \nI AM unable to find here \"Completed\" voice to translate in Italian.. Yes maybe. Seems now I have to request to join the team as I AM unable to access again (do not know why). Translated. Thanks, I will monitor it.. Issue is if I login by incognito mode in Firefox.\nIs not the incognito mode of Firefox as if I open Chrome and login as admin and than use view client portal a password to see the client portal is required. I do not know the password so I cannot see...\n\n. I log-in as admin in incognito mode so I AM logged.. in the admin, I press the link to see the client portal and not work asking password.\nUsually I use Firefox so I tried with Chrome without incognito and is the same. I cannot see client portal as a password is required.. Maybe a fix can be to be able to see the password as this is generated by the system but there is no show password function.\nI want see this resolved in some way, please. I cannot reset password or remove password.... Well works on Firefox where I was already logged in. If I open Chrome where I was not logged IN and I log-in as Admin than I try to see customer area I AM unable because a customer password is required.\nBut also if I log in as admin in the incognito mode I should be able to log in into the client portal... or maybe really need a function to show the password so I can digit it and log in into the client area.. @hillelcoren I think the issue is same in Chrome as in Firefox. If you use Firefox as Incognito and you log in as admin you should be able to see client portal. Well is not working is asking client portal password.. Sure @hillelcoren ,\ncan you try to create a customer, set invoice with password than try to see client portal.\nTry now to login into the admin by incognito mode than click on see customer portal. Are you able to see?\nI upgraded today your software so I was using the incognito mode as my browser is showing old version (cached version) and seems if I use a clean browser I AM not able to see the client portal from the admin panel in the customer tab where there is direct link (admin) to see client portal.\nSound to me as a BUG.. Can I show to you the issue by remote control?\nI want understand why there are this issue and how to fix.\nSo you can diagnostics if is a bug as I think.. I will do :)\nThanks. Before send an email can you try please this:\n\nActivate invoice password\nCreate a test customer\nCreate an invoice\nSend the invoice by email (email should have listed the password if you see the password in the email means the password has been generated and is active\nOpen a incognito window on Firefox\nLogin into ninja as admin\nOpen customer and press view client customer portal.\nYou will be asked to insert customer password. This is the issue, I never have customer password.\n\nI create a test user and follow this step I AM able to replicate the issue\n. Seems the fix found by you works\nCan you try changing line 71 in app/Http/Middleware/Authenticate.php from \nif (Auth::guard('user')->check() && Auth::user('user')->account_id === $account->id) {\nTo\nif (Auth::guard('user')->check() && Auth::user('user')->account_id == $account->id) {. Issue not solved, issue come back again after the last update.. Is right now? I see there are conflict here but do not know how to fix this, can you see that or need more actions from me? thanks.. Not. Maybe you can add a note in the company details so is more clear ;) is just a suggestion. Thank you!\n\u2063Mobile - Marco Borla \nwww.PeopleInside.IT - www.MarcoBorla.it \u200b\nIl giorno 17 Ago 2017, 16:00, alle ore 16:00, Hillel Coren notifications@github.com ha scritto:\n\nHas a white label license been applied? \n-- \nYou are receiving this because you authored the thread.\nReply to this email directly or view it on GitHub:\nhttps://github.com/invoiceninja/invoiceninja/issues/1628#issuecomment-323082252\n. Yes but seems is not working anymore. The \"fix\" is present.. - Yes, tested in incognito and also not and in each case the issue are present\n- I tried also to past the line of the fix but issue is the same, system are asking for customer password after I AM logged in as Admin in the console and I press \"see customer portal\" I need again remove customer password for can access to the customer area.. Hi @hillelcoren ,\nwhat should I do? \nYou can add dd('here');\n\nI AM not understanding. On line 28 I see here if I add and open the page, try to moving down, down where? line 29 or with line?. Done,\nwhen I click on client portal link I see a blank page with printed:\n\"\"\n\n. I AM authenticated, for security I logged out and was able to log-in again in the Dashboard as admin and when click on view customer portal in the client I see the blank page with printed \"\" as the screenshot.. Yes, in this case is asking the customer password.. I AM testing in testing install once I AM able to see the issue I will email you or I will close this topic :) so with email I can give access.. I AM unable for now to reproduce in a new install. Closing for now also if the issue is not resolved maybe on my installation... until I do no have steps to reproduce.. -  No error from browser console as from what I can see\n- Change design seems not help\n-  Preview same to the customer side in the admin, same issue on Firefox no issue on Chrome. I updated PHP to 7.2 but invoice ninja did not work. It's the only one app that have issue with PHP 7.2 on my server. Will wait a fix.\n\n. I will wait this app will be compatible with PHP 7.2 for be able to switch to HP 7.2 in my server. The incompatibility of invoice ninja is stopping me from upgrading.. Thanks, you closed this but now I cannot know when the self hosted will be PHP 7.2 compatible... Where? So I can subscribe.. The issue has been resolved? I do not see any stable update that fix this.\n@turbo124 I cannot update PHP on my server because invoice does not support PHP 7.2 so I opened this for know when the fix will be available than can update and switch to PHP 7.2\ndoesn not help if you close this before the issue has been fixed in master. . Thank you @hillelcoren in any case I think an issue should be closed only when is resolved and not before this. I will wait an email notification so I will be able to upgrade the PHP.\nThanks, have a nice sunday. This update will be soon pushed to Softaculous?\nThank you!. I am on PHP 7.1 actually i tried to move to PHP 7.2 but before I need to upgrade to your app version 4.3\nAs i am using softacolous how to update now? How to generate all invoice not generated from the cron?\nI continue to see issue with your app that are not able to generate a invoice for month without error. I do not know why work for a while and now today i logged in for found the invoice of 05 April and invoice has not been generated so what I should do now for generate it?. nothing same \nTue, 10 Apr 2018 20:02:16 +0000 Running SendRecurringInvoices...\n2 recurring invoice(s) found\nProcessing Invoice: 20\nError: count(): Parameter must be an array or an object that implements Countable\nProcessing Invoice: 26\nError: count(): Parameter must be an array or an object that implements Countable\n0 due recurring invoice instance(s) found\n0 recurring expenses(s) found\nTue, 10 Apr 2018 20:02:16 +0000 Done. nothing is already correct. For update manually I have to override all files? \nhttp://docs.invoiceninja.com/en/latest/update.html\n\nTo update the app you just need to copy over the latest code.\n\noverride all files?\nI need insert invoice and register it as pending also register payment tomorrow..... Not work. In the /recurring_invoices page there is not present any Email invoice.\nIf I open one recurring Invoice I cannot send as there are no mail set it give error.. I do not need sent usually I need is generated inside invoice because it's only me that manage invoice. Customer doesn't want email.\nI need register invoice and mark paid when is paid for have an archive. I do not know why now the cron has stopped to work... can't create the invoice and give the error i wrote.\nI need to see the new invoice generated but was not generated. The reoccurring invoice is missed also if the end is on 2030. In the recurring invoice I see only sent on 1-3-2018\nthe invoice 1-4-2018 has not been generated.. So if the customer has not an email i need use mine? is not nice have mine data on the customer profile.. The issue is I do not know why invoiceNinja is unable to create invoice one a month.\nWhy I am asking. Why is not working.\nWhy this error\nError: count(): Parameter must be an array or an object that implements Countable\nare present. The issue is : I cannot trust the app because are not able to generate invoice.\nShould be possible generate invoice also without an email. Not all people are available to give the email.\nI do not understand why there are error \nError: count(): Parameter must be an array or an object that implements Countable\nI migrated from invoiceplane to invoicenija because I was having issue now also this app are not working as expected. it's unable to generate a monthly invoice.\nI will valuate to migrate to another app or stop to use this kind of app as maybe.. I cannot understand.\nIs not working.\nThanks anyway for the try to help. Problem was not solved. I cannot continue to see invoice not generated automatically every month also if the cron is set correctly. I need something of reliable.. I will remove the app.. Sorry bu PHP in use is 7.1 and since different months I use this app has always have issue on create automated invoice.\nI love this app but this is too big issue does not generate invoice one a month... so if this cannot work I cannot use this app.. Today was released update for Softacolous, the version 4.3.x seems resolve the issue... so maybe was a bug.. Softacolous update script. Well I will report to Softacolous team. As the team confirmed the bug on their side I am closing this. Thanks for confirming from your side all is fine. Have a great and nice day :D. ",
    "mrpenelope": "I, personally, would like to see about modifying the footer as well, for a similar reason. Can someone help with this? I'm seeing a lot of threads with no response.. I'm also currently working on this, have you had any leads with this so far?\n. ",
    "bit-bat": "And Quotes after approved. Is that possible, with proper settings in env, to fallback to cloud version when the local version fails?. Is that possible, with proper settings in env, to fallback to cloud version when the local version fails?. This bug is actually not yet fixed. I am using the latest version (v3.4.1) with Authorize.net and the customer's IP address is still my server's IP.. The payment details page does not show the specific time payment was made (Same with invoice details, etc). I think it should, as it will help with reconciling payments. For example if a payment is made at 11pm, it is too late to be transferred to the bank as merchant account has already processed that day's proceedings (at the cut-off time). By just knowing the date of payment, this information gets lost.\nIt would be nice to have the time of payment in UI.. This will help a lot for #1681 and #1566 . If only dates are stored, does that mean the app gets locked to a time zone?. I am thinking why shouldn't the payment date change if the timezone changes?. Understood.\nFor the other timezone problems, I am willing to help. Just couldn't take the time to understand the structure of whole app. If you tell me where to look, I can play with some test data and create a pull request.. I have 3.4 installed. The problems are still there.. OK, I will test again tonight and let you know.. I think it is fixed in 3.4. For previous payments, should I just recalculate and update the payment dates in database?\nAlso anyway we can get time stamps in the details view, like client details. I mentioned that in #1522.\nThank you very much!. The lack of payment date on invoices is creating a lot of trouble for us. I don't think I am the only one facing this problem.\nIs there any way you can prioritize this feature request? I can help as well if you give me some pointers where to start. (I am good with PHP but haven't worked with Laravel). \n. I do agree this is not trivial because of multiple paymnets, but one way I can think of is to create a line item for each payment, and add them together for \"Payment to date\".. It still let them create a new product, or change product description/price during invoicing.. Related to #1548 ?. Is there a way to add an email template?\nI want to add a new email template for \"refund invoices\". . I upgraded from 3.7.0\nHere is the console error with trace:\nFailed to generate PDF: Cannot set property 'noWrap' of undefined\nrefreshPDF @ edit:1326\n(anonymous) @ edit:3180\ndispatch @ jquery.js:4670\ng.handle @ jquery.js:4338\ntrigger @ jquery.js:4579\n(anonymous) @ jquery.js:5289\neach @ jquery.js:384\neach @ jquery.js:136\ntrigger @ jquery.js:5288\n(anonymous) @ edit:3241\nu @ jquery.js:3148\nfireWith @ jquery.js:3260\nready @ jquery.js:3472\nr @ jquery.js:3503\nI also cleared cache just before upgrade.. Ran both. It didn't fix the issue.. I copied my old folder back (so downgraded just the PHP side) and things looked OK again. On this version I ran ?clear_cache=true and I saw the same problem.\nCopied old folder one more time, things back to normal. So had nothing to do with upgrade, just clear_cache.\nSo, the system is back online for me, but this is a problem. Let me know if I can provide any info.. Never mind, I spoke too early. \nAdmin side I can see PDF, but if I \"view as client\", I cannot see the PDFs.. I figured it out. I created an error in a custom template and when I cleared cache, all the old invoices using that template stopped working.. Any ideas here?. ",
    "arkens": "@Braintelligence , really thank you for your post. Your problem is not only for Germany as apintocr stated. I think you refer to eu regulations of immutability for invoices and fiscal documents. We have same problem here in Italy. Last term will be 2018 for B2B. Need to have invoices exported in xml with UBL standard and digitally signed . So this is a problem that i think will affect every invoiceninja user of EU.   For what i have read on our italian documentation, database will not be a problem because an invoice sent to someone  that has not been digitally signed is not a valid invoice and of course you cannot have two invoices with same ID nr.. ",
    "davidbiller": "Is there a possibility to get a DSGVO confirmation/ contract now? Otherwise only your own hosting would be possible?. How can i activate it?. ",
    "shalomleib": "Immutability: We understand that some countries require  immutability of invoices/documents. A VERY easy solution for this is our \"attach\" feature. When you send your client an email notification for a new invoice, you can enable to \"attach as PDF\" thus sending your client a immutable PDF copy of their invoice with the initial communication and this would seem to meet the standard, as noted: \" entered may not be overwritten, deleted, changed or faked in a suppressed or untraceable way.\" You can enable attaching PDF's to the email notifications here: /settings/email_settings\nUBL: We put out UBL support in version 4.2. You can enable UBL attach (beta) also in the email notification settings: /settings/email_settings. The main GDPR point to address for those self-hosting Invoice Ninja, we don't have a significant amount of PII. \n(1) For those self-hosting, we have your email & name. Since you are hosting the platform on your own server we don't have access to your data or receive additional PII in any form.\n(2) Only if you opt to upgrade & white-label while self-hosting, do we obtain additional PII necessary to process your transaction. \nGDPR: All above noted PII can be removed/purged at your request, please see our DPA for self-hosters: https://www.invoiceninja.com/self-hosting-privacy-data-control/, specifically: \" To purge all PII, contact contact: privacy@invoiceninja.com  or legal@invoiceninja.com with your request and all PII data will be purged within 2 business days of account verification.\" The reason is, there is no account created within the Invoice Ninja platform when self-hosting. \n(3) For newsletters, we state this information in the DPA which is agreed to when first setting up self-hosting, and we updated and required an additional re-agreement now with the launch of GDPR.\nAs noted in the DPA: \"You may remove yourself at any time by clicking \u201cunsubscribe\u201d from any newsletter email footer to permanently and irreversibly be removed from any & all future mailings.\" This has now been agreed to on two occasions for those who are using Invoice Ninja prior to this weeks update and certainly existing users have had multiple occasion to exercise this right.\nIf you wish to purge yourself in advance of any newsletter being sent, contact contact: privacy@invoiceninja.com  or legal@invoiceninja.com with your request and all PII data will be purged within 2 business days of account verification.\nWe are working to ensure our GDPR documentation is as complete and transparent as possible and welcome your input/feedback for clarification. If you have any questions or would like more details, please email privacy@invoiceninja.com  or legal@invoiceninja.com. ",
    "MagiX13": "Would trusted timestamping the data at the moment it is send be of help? This is implemented in OpenSSL as well and thus should run on any linux box.\nThis would allow all modifications to be clearly visible after an easy cryptographic check. There is a free server that can act as a third party. Even if you would manipulate the database itself, you would fail a check of either the hash or the timestamp issued by the third party and thus raise red flags.\nYou could even timestamp daily/monthly/yearly/whatever datasets and thus make every manipulation visible.\n. ",
    "pseudorocks": "@Braintelligence \nHello. how is the current status about GoBD and Invoiceninja. I'm using Invoiceninja and i'm very happy with it \u2026 but now I realized, that it is not GoBD conform. So shoud I change software again? Thanks. @Braintelligence \nThank you for the reply. This is very sad. So I'm going to search an invoice software for mac \u2026\n. ",
    "Daimonion1980": "@Braintelligence damn i thought it would be a good software to use it as my invoice software. Do you have any alternatives for people in germany?. ",
    "arubacao": "Yes, i found this:\n[2017-05-10 13:12:04] production.ERROR: Local PhantomJS Error: 302 - https://example.com/view/ig24usagsg_xxxx_fzx6pnlffbkg?phantomjs=true&phantomjs_secret=  {\"context\":\"PHP\",\"u\nser_id\":1,\"account_id\":1,\"user_name\":\"Jon Doe\",\"method\":\"POST\",\"url\":\"https://example.com/invoices\",\"previous\":\"https://example.com/invoices/5/clone\",\"user_agent\"\n:\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.96 Safari/537.36\",\"ip\":\"195.27.104.104\",\"count\":1} []\n[2017-05-10 13:12:04] production.ERROR: PhantomJS - Invalid response:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Jon Doe\",\"method\":\"POST\",\"url\":\"https://example.com/invoices\",\"previous\":\"https://example.com/invoices/5/clone\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.302\n9.96 Safari/537.36\",\"ip\":\"195.27.104.104\",\"count\":2} []\nA PHANTOMJS_CLOUD_KEY key was set as an environment variable. Yes the link works perfectly, i can also download the invoice without any problems. Nice, that fixed the problem. Thanks for the quick response and support.\nI don't know the exact functionalities behind this, but maybe PHANTOMJS_SECRET could be prefilled within the dockerfile : https://github.com/invoiceninja/dockerfiles/blob/master/Dockerfile ? . I guess i'll do a new one :D. After rebasing, this doesn't look good. I'll create a new PR. No Problem. Thanks for your hard work \ud83d\udc4d. I understand. I didn't take a deep look, but I think it shouldn't be much code change to complete the setup without a default APP_KEY.\nThis also looks like a step in that direction. I have a couple of ideas, but I don't think it's that urgent. Maybe another time. . ",
    "Franconian-IT": "I am running into the same problem.\nInvoice Ninja sends email out just fine, but never with the attached invoice.\nI have already tried different settings, a clean install and he fixes here, but nothing helps.. I am running into the same problem.\nInvoice Ninja sends email out just fine, but never with the attached invoice.\nI have already tried different settings, a clean install and he fixes here, but nothing helps.. ",
    "marshall2day": "Thx @bnova-stefan, that fixed it for me!. ",
    "Strider27": "Sorry to revive an ancient ticket, just adding this in case someone else comes across this issue.\nHad the same issue, in my case adding\n127.0.0.1      self-hosted.domain.name\nto the \"/etc/hosts\" file resolved the issue.\nObviously replace the \"self-hosted.domain.name\" with your actual domain name\nThanks for the idea @bnova-stefan . Sorry to revive an ancient ticket, just adding this in case someone else comes across this issue.\nHad the same issue, in my case adding\n127.0.0.1      self-hosted.domain.name\nto the \"/etc/hosts\" file resolved the issue.\nObviously replace the \"self-hosted.domain.name\" with your actual domain name\nThanks for the idea @bnova-stefan . @hillelcoren We have received a SEPA Authorisation earlier today from Stripe, we have not fully enabled it as we need to request a creditor id from our bank (and they are closed for a few days due to the New Year), We should be able to provide the test API Keys etc. in a few days. Would love to help you in any way we can to get this added to IN. Please let us know, as the previous guy got no public reply.. Perfect! Feel free to contact me when you are looking to implement it in v2.. Same here would be very useful as currently the figures have to be entered twice.. Apologies, after further testing we discovered that invoice is automatically emailed if a partial payment is made on the quotation, which is the only reasonable behaviour in that situation. If no partial payment is set/made and Auto convert is enabled a draft invoice is created automatically but not emailed. Which was the desired behaviour.\nThanks for your work. IN is great.. Yep, that's what we've done now, just though you might want to know, as it doesn't happen for invoices (they work as intended), which makes the behaviour inconsistent.. @turbo124 \nHere are all the contents of laravel-error.log\nDoesn't seem to be any other relevant errors in the other logs in that folder.\n[2018-11-06 00:24:20] production.ERROR: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en\",\"ip\":\"192.168.1.5\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"setup\"} []\n[2018-11-06 00:29:20] production.ERROR: Connection could not be established with host srv.itsit.ie [ #0]  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en\",\"ip\":\"192.168.1.5\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"setup\"} []\n[2018-11-06 00:29:25] production.ERROR: stream_socket_enable_crypto(): SSL operation failed with code 1. OpenSSL Error messages: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en\",\"ip\":\"192.168.1.5\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"setup\"} []\n[2018-11-11 01:09:34] production.ERROR: CURL Error #7: Failed connect to sub.domain.com:443; Connection refused  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-11-12 00:49:46] production.ERROR: Failed to create Braintree token: Credit card number is not an accepted test number.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"payment/kijjbhryaia5cdko0jilivlnwzxukouf\"} []\n[2018-11-12 03:20:37] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:  404 Not Found  Not Found The requested URL /view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx was not found on this server.    {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-12 03:20:41] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:  404 Not Found  Not Found The requested URL /view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx was not found on this server.    {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-12 03:26:35] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-12 03:26:52] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-12 03:42:24] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-12 22:43:04] production.ERROR: Uncaught TypeError: NINJA.parseFloat is not a function  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-12 22:43:04] production.ERROR: Uncaught TypeError: NINJA.parseFloat is not a function  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-12 22:44:10] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36 Vivaldi/2.1.1337.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.5\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-13 19:10:11] production.ERROR: Uncaught Error: No URL provided.  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-13 21:39:37] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-13 21:39:55] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-13 21:42:40] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-13 21:59:55] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-13 22:00:35] production.ERROR: PhantomJS - Invalid response https://sub.domain.com/view/xxxxxxxxxxxxxxxxxxxxxxxxxxxx?phantomjs=true&phantomjs_secret=xxxxxxxxxxxxxxxxxxxxxxxxxxxx:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\n[2018-11-14 21:46:28] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-14 21:46:30] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-21 14:29:50] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-21 14:29:53] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-21 14:30:03] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-21 14:30:05] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-21 14:30:06] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-21 14:30:14] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.103 Safari/537.36 Vivaldi/2.1.1337.47\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":6,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-30 00:58:31] production.ERROR: Uncaught Error: No URL provided.  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.113 Safari/537.36 Vivaldi/2.1.1337.51\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-11-30 19:28:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-11-30 19:29:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-11-30 19:30:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-11-30 19:31:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-11-30 19:32:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-03 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-04 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-05 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-06 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-07 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-10 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-11 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-12 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-13 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-14 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-17 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-18 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-19 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-20 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-21 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-24 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-25 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-26 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-27 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-28 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2018-12-31 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-01 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-02 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-03 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-04 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-07 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-08 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-09 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-10 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-11 08:47:01] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-14 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-15 08:47:02] production.ERROR: CURL Error #60: Peer's certificate issuer has been marked as not trusted by the user.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"\",\"locale\":\"en\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"/\"} []\n[2019-01-15 17:14:45] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:14:49] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:14:53] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:14:53] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:14:54] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:14:54] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":6,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:15:18] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":7,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:15:19] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":8,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:15:19] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":9,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:15:19] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":10,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:15:19] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":11,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 17:15:19] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":12,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:02] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:03] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:04] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:04] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:05] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:05] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":6,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:33] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":7,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:34] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":8,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:35] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":9,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:26:35] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":10,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:27:17] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":11,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:27:22] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":12,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:27:46] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":13,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:27:47] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":14,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:27:48] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":15,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:27:49] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":16,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:28:08] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":17,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:28:11] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":18,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:35:11] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":19,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:44:14] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:45:37] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:45:38] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:45:49] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:45:53] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:45:56] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:45:57] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":6,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:46:27] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":7,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:46:48] production.ERROR: ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:60.0) Gecko/20100101 Firefox/60.0\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":8,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:08] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":20,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:10] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":21,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:11] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":22,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:11] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":23,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:20] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":24,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:22] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":25,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:23] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":26,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:24] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":27,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:32] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":28,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:48:33] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":29,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:55:29] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":30,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:55:29] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":31,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:55:30] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":32,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:55:30] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":33,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:59:52] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":34,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:59:53] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":35,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 20:59:54] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":36,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 21:00:04] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":37,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 21:00:06] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":38,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2019-01-15 21:00:07] production.ERROR: Uncaught ReferenceError: convertStringToNumber is not defined  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"XXXXXXX\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36 Vivaldi/2.2.1388.37\",\"locale\":\"en_GB\",\"ip\":\"192.168.1.254\",\"count\":39,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n. Just compared html in the developer tools > sources with the hosted version, it looks like \"convertStringToNumber\" function is missing altogether from our code:\n// parse 1,000.00 or 1.000,00\n        function convertStringToNumber(str) {\n            str = str + '' || '';\n            if (str.indexOf(':') >= 0) {\n                return roundToTwo(moment.duration(str).asHours());\n            } else {\n                return NINJA.parseFloat(str);\n                var number = Number(str.replace(/[^0-9\\-]+/g, ''));\n                return number / 100;\n            }\n        }. After a further look, I believe this commit https://github.com/invoiceninja/invoiceninja/commit/32b09563b1d85e7518ec8d38d478ab313168d880 removes the \"convertStringToNumber\" function in the master branch from resources/views/reports/report_builder.blade.php.\nLooking at the develop branch it was also removed in this commit https://github.com/invoiceninja/invoiceninja/commit/ec911db4d92082b7a08d91241a9c82d83e64e360 from resources/views/reports/report_builder.blade.php and moved to resources/assets/js/script.js\nP.S. Those who need the fix asap, We temporarily fixed it by manually adding\n// parse 1,000.00 or 1.000,00\n        function convertStringToNumber(str) {\n            str = str + '' || '';\n            if (str.indexOf(':') >= 0) {\n                return roundToTwo(moment.duration(str).asHours());\n            } else {\n                return NINJA.parseFloat(str);\n                var number = Number(str.replace(/[^0-9\\-]+/g, ''));\n                return number / 100;\n            }\n        }\nTo line 490 in resources/views/reports/report_builder.blade.php. @hillelcoren \nThat's strange, as that function is missing in the current master branch code.\nHow is it sorting the reports by number fields in your case, when they contain a comma (i.e. \u20ac 1,000.99 in currency fields), as from what I can understand that function deals with those characters and converts the string to number before attempting to sort.\nDo you not get an error when you, for example, run a report on invoices and try to sort the resulting table in ascending/descending order by the amount field, or any other field with a number? Are you testing the master branch?\nI can see in the develop branch the function was moved to script.js, so it may be working on the develop branch. In master it was just removed in this commit https://github.com/invoiceninja/invoiceninja/commit/32b09563b1d85e7518ec8d38d478ab313168d880. Hello @bprfh,\nJust my 2 cents,\nIn some countries it is a legal requirement to refund/retract invoices by issuing a credit note against them (most of europe) as invoices have to be \"immutable\". It is also a requirement to not reuse invoice numbers or have gaps in the invoice number sequence, even if the number is the latest in the series. Their thinking is that you or your staff can potentially issue an invoice for your product/services, charge the VAT top of it, collect the payment and then delete the invoice from your system and never report it to the tax man, meaning that you have just kept whatever tax you charged on top of your sale, that is due to be paid to the government.\nI know this is stupid as anyone with basic computer skills can draft up a copy of an invoice these days.\nAdditionally it may cause confusion for your clients as well, as they now have 2 invoices from you with an identical number, which one is the right one? What if they miss it and file a tax return? Now they have unwittingly defrauded the government, as they claimed tax back on a \"fake\" invoice (in the case of businesses anyway).\nWhile I understand the frustration (I've messed up plenty an invoice) and understand that your approach would be very useful and still traceable, your requirement for the invoice number to be reused could potentially pose a problem during an audit in quite a few places.\nAs for the rest, I could be wrong but the delete function fulfils all the requirements you stated with the exception of number 4, and it's name. Unless it doesn't adjust the balance when deleted.\nThese days I issue invoices by clicking \"save as draft\" first, so any mistakes can be fixed before it is emailed to the client, and only click mark as sent or email to client when I'm 100% positive it's all good.. I do agree that there should be an optional field when deleting any document to provide a reason, that is timestamped assigned to user and added to the log, this will be pretty useful.. After further investigation I believe it is similar to issue #747 which was fixed.. Hi @billiam1. We had the same issue, we are an MSP and some clients are with us for years, so the totals were a bit jarring to them, we removed it with the following custom CSS. Copy paste it to Settings>Advanced Settings>Client Portal>Custom CSS.\nThe CSS Removes Paid to Date and Total invoiced fields and centres the Balance column and icon to make it look pretty ;)\n```\ntotal-invoiced-col {display: none;}\npaidtodate-col {display: none;}\nbalance-col {display: block; margin-left: auto; margin-right: auto;}\nbalance-col:before {display: none;}\n```\n@hillelcoren It would be nice to have a way to modify what's shown on the Client Portal in V2 :). ",
    "jacurtis": "I am using:\n\nUbuntu 16\nNginx\nphp_fpm\nphp 7.1\nAWS SES for email using SMTP credentials\n\nI also ran the info log to see what info has been received.  This is the output in the log:\nproduction.INFO: customer@email.com | admin@email.com |  [] []\n\nI changed the actual email addresses. But the first email address is correctly the customer's email (intended recipient), and the second email is the logged in user's email (my work email in this case).\nThe rest is just the square brackets, this is the problem as those should be email address and name of where the email is being sent from (billing@company.com).\nSo now the question is why is the company email not filling.\n\nIt looks like that is pulling from a constant CONTACT_EMAIL - now i need to find where the constant is set.. I am using:\n\nUbuntu 16\nNginx\nphp_fpm\nphp 7.1\nAWS SES for email using SMTP credentials\n\nI also ran the info log to see what info has been received.  This is the output in the log:\nproduction.INFO: customer@email.com | admin@email.com |  [] []\n\nI changed the actual email addresses. But the first email address is correctly the customer's email (intended recipient), and the second email is the logged in user's email (my work email in this case).\nThe rest is just the square brackets, this is the problem as those should be email address and name of where the email is being sent from (billing@company.com).\nSo now the question is why is the company email not filling.\n\nIt looks like that is pulling from a constant CONTACT_EMAIL - now i need to find where the constant is set.. We can close this. The reason for the problem turned out that for some reason constants where not getting written to. I found the constants file and tested logged various other constants. For some reason constants were mostly null even when they were supposed to pull from the .env file. Weird issue. I think it had to do with me messing around with composer earlier and messing something up.\nI just kept the database and did a fresh deploy of the code back from the original github repo and it solved the issue. This was an issue specific to me and not in general to the project. \nThank you for the help though.. We can close this. The reason for the problem turned out that for some reason constants where not getting written to. I found the constants file and tested logged various other constants. For some reason constants were mostly null even when they were supposed to pull from the .env file. Weird issue. I think it had to do with me messing around with composer earlier and messing something up.\nI just kept the database and did a fresh deploy of the code back from the original github repo and it solved the issue. This was an issue specific to me and not in general to the project. \nThank you for the help though.. ",
    "jonathandey": "I have literally just come here to request the same feature. Originally I thought about a \"recurring expense\", as I have a recurring invoice that my client pays through a gateway.\nThinking a little bit more about this. I don't have the recurring payment setup within Invoice Ninja (I had it in place before using Invoice Ninja). I would require the invoice to be automatically marked as paid.. I have literally just come here to request the same feature. Originally I thought about a \"recurring expense\", as I have a recurring invoice that my client pays through a gateway.\nThinking a little bit more about this. I don't have the recurring payment setup within Invoice Ninja (I had it in place before using Invoice Ninja). I would require the invoice to be automatically marked as paid.. ",
    "pinkrain87": "Totally. I use this for my rental business. The late fees are covered in the lease. However, it would probably be a good idea to add that into the invoice as well.. Totally. I use this for my rental business. The late fees are covered in the lease. However, it would probably be a good idea to add that into the invoice as well.. This request is asking for a column similar to the invoice counter, correct? (IE: 1001,1002,1003). Seems like this has re-surfaced in 4.0.1. The Recurring tab is back.. It may also make sense to place a private-comment-specific icon near the invoice number on the Invoice List if there is a private comment to quickly let people know there is some additional information on the invoice that may need to be reviewed.. Understood. Feature request it is. :). Understood. Feature request it is. :). What about the template change?. Sorry, the invoice template. In settings, I changed it to \"Clean\" from \"Modern\" and for that to be changed on the recurring invoices, I have to update all of the recurring invoices.. That is also very logical. :). I like that, but as well you may want to add another shortcut to it in case the user wants to have the dashboard off but still allow clients to update details. :) And it's possible you already felt the same way, just clarifying.. I most certainly did. :). Did you run /client/public/update again after you copied over the files?\nI had to perform the \"manual steps' outlined here:\nhttp://docs.invoiceninja.com/en/latest/update.html\nSpecifically the section here:\ncomposer dump-autoload --optimize\nphp artisan optimize --force\nphp artisan migrate\nphp artisan db:seed --class=UpdateSeeder\nAlong with the clear cache mentioned in the article. It might work for you.. ",
    "qlereboursBS": "Ok, sorry i understood PHANTOMJS_BIN_PATH as the path and not the binary.\nI have another issue now: \n[2017-05-25 14:30:04] production.ERROR: Local PhantomJS Error: 408 - http://localhost:8087/view/qokjulv0osan6vl9yhdsqjalcfgc0r50?phantomjs=true&phantomjs_secret=hfcrw4s9igett98reddzgmzfaw1puwb5  {\"context\":\"PHP\",\"user_id\":15,\"account_id\":15,\"user_name\":\"q4 l4\",\"method\":\"GET\",\"url\":\"http://localhost:8087/api/v1/download/3\",\"previous\":\"http://localhost:8087/api/v1/download/3\",\"user_agent\":\"insomnia/5.0.4\",\"ip\":\"127.0.0.1\",\"count\":38,\"is_console\":\"no\"} []\nI'm trying with curl and it succeed to request the url.. Yes it works\nphantomjs testfjs.pjs\n\\n{\n    \"body\": \"\",\n    \"bodySize\": 188164,\n    \"contentType\": \"text/html; charset=UTF-8\",\n    \"headers\": [\n        {\n            \"name\": \"Host\",\n            \"value\": \"localhost:8087\"\n        },\n        {\n            \"name\": \"Connection\",\n            \"value\": \"close\"\n        },\n        {\n            \"name\": \"X-Powered-By\",\n            \"value\": \"PHP/7.1.5-1+deb.sury.org~xenial+1\"\n        },\n        {\n            \"name\": \"Cache-Control\",\n            \"value\": \"no-cache\"\n        },\n        {\n            \"name\": \"Date\",\n            \"value\": \"Thu, 25 May 2017 14:40:33 +0000, Thu, 25 May 2017 14:40:33 GMT\"\n        },\n        {\n            \"name\": \"Content-Type\",\n            \"value\": \"text/html; charset=UTF-8\"\n        },\n        {\n            \"name\": \"Set-Cookie\",\n            \"value\": \"XSRF-TOKEN=eyJpdiI6IkdPak9BeXVxaWt5SG55QUcyTFZjM3c9PSIsInZhbHVlIjoiWGxZU0RFTnY3aXpYU0FqaUZUZjMyc3lETm1TNXFoTlVER2JFWFZ3Y3BsSjF6K2VZeWJEV0ZmK0lrKzNpbmNvNDVaN1V1ZWlFNnBuK25HQkUxV1B2UHc9PSIsIm1hYyI6ImY1YTM3NzI0MTQ5NmQxZWRiZDRiODEzMWQ5MTM2ODUxNWZmMmY0ZDQxMmRmOTA4ZDg5MzU2ZDU2ZTZhZmZhNGYifQ%3D%3D; expires=Thu, 25-May-2017 22:40:33 GMT; Max-Age=28800; path=/\\nninja_session=eyJpdiI6InRwdE5HUGlRT0pvQ1ZyTUoxQnZraHc9PSIsInZhbHVlIjoiWW9yN1dESzJLc0ZIZjFwTk1HWjdZQ3ZXVFJqWmphTjZQS3hNK1I1TE1jY01ONE52ZEhob05MUmptNmprS3M1OCt2RGxoRkRrQlZRbHhIR0pHNFNsaUE9PSIsIm1hYyI6ImZhOGFmNTYyMTU2OTQ3N2ZmNDk1MjNhZWU2NzVjZDg5MjIwNmQyOTJiOWM5NDQ1MGE3YzZlZTg5ZDFlYjJkNmYifQ%3D%3D; expires=Thu, 25-May-2017 22:40:33 GMT; Max-Age=28800; path=/; HttpOnly\"\n        }\n    ],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"start\",\n    \"status\": 200,\n    \"statusText\": \"OK\",\n    \"time\": \"2017-05-25T14:40:33.064Z\",\n    \"url\": \"http://localhost:8087/view/qokjulv0osan6vl9yhdsqjalcfgc0r50?phantomjs=true&phantomjs_secret=hfcrw4s9igett98reddzgmzfaw1puwb5\",\n    \"content\": \"<head></head><body>data:application/pdf;base64,JVBERi0xLjMKJf////8KNyAwIG9iago8PAovVHlwZSAvWE9iamVjdAovU3VidHlwZSAvSW1hZ2UKL0JpdHNQZXJDb21wb25lbnQgOAovV2lkdGggMTcxCi9IZWlnaHQgNDgKL0NvbG9yU3BhY2UgL0RldmljZVJHQgovRmlsdGVyIC9EQ1REZWNvZGUKL0xlbmd0aCAxNjU0Nwo+PgpzdHJlYW0K/9j/4QoHRXhpZgAATU0AKgAAAAgADAEAAAMAAAABAKsAAAEBAAMAAAABADAAAAECAAMAAAADAAAAngEGAAMAAAABAAI ..... Does the owner of the phantomJS binary (or the location of the binary) has an impact ? Mine has root root access rights (755). I will try with the cloud version, or maybe I will try to use something else than phantomJS. Could it be the PHANTOMJS_SECRET ? Do I have to replace the secret that was in the .env file ?. @turbo124 this issue isn't solved\nI tried to call the test script using PHP:\nshell_exec('phantomjs test.pjs > result.log') and the result is the same:\n{\n    \"errorCode\": 408,\n    \"errorString\": \"Network timeout on resource.\",\n    \"headers\": [\n        {\n            \"name\": \"Accept\",\n            \"value\": \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\"\n        },\n        {\n            \"name\": \"User-Agent\",\n            \"value\": \"Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\"\n        }\n    ],\n    \"id\": 1,\n    \"method\": \"GET\",\n    \"time\": \"2017-05-29T14:15:04.511Z\",\n    \"url\": \"http://localhost:8087/view/qokjulv0osan6vl9yhdsqjalcfgc0r50?phantomjs=true&phantomjs_secret=hfcrw4s9igett98reddzgmzfaw1puwb5\",\n    \"status\": 408,\n    \"console\": []\n}\nI remind you that when I execute the script in CLI it returns the PDF. \nAny idea ?. It's the same for all my Invoices. Yes it works. I had the same doubt last week and I tried on port 8000, I have the same issue:\nproduction.ERROR: Local PhantomJS Error: 408 - http://localhost:8000/view/qokjulv0osan6vl9yhdsqjalcfgc0r50?phantomjs=true&phantomjs_secret=hfcrw4s9igett98reddzgmzfaw1puwb5  {\"context\":\"PHP\",\"user_id\":15,\"account_id\":15,\"user_name\":\"q4 l4\",\"method\":\"GET\",\"url\":\"http://localhost:8000/api/v1/download/3\",\"previous\":\"http://localhost:8000/api/v1/download/3\",\"user_agent\":\"insomnia/5.0.4\",\"ip\":\"127.0.0.1\",\"count\":24,\"is_console\":\"no\"} []\n[2017-05-29 15:16:41] production.ERROR: PhantomJS - Invalid response:   {\"context\":\"PHP\",\"user_id\":15,\"account_id\":15,\"user_name\":\"q4 l4\",\"method\":\"GET\",\"url\":\"http://localhost:8000/api/v1/download/3\",\"previous\":\"http://localhost:8000/api/v1/download/3\",\"user_agent\":\"insomnia/5.0.4\",\"ip\":\"127.0.0.1\",\"count\":25,\"is_console\":\"no\"} []\n[2017-05-29 15:16:41] production.ERROR: UnexpectedValueException: The Response content must be a string or object implementing __toString(), \"boolean\" given. in /home/qlerebours/koala-invoice/bootstrap/cache/compiled.php:16081 Stack trace: #0 .... Yes i did, it doesn't work. I tried phantomjscloud, the response was 200, Content-Type: application/pdf, but I can't read the PDF (application/octet-stream is not supported)\nI tried another time and now i have a 500 error: \n[2017-05-29 16:21:32] production.ERROR: PhantomJS - Invalid response:   {\"context\":\"PHP\",\"user_id\":15,\"account_id\":15,\"user_name\":\"q4 l4\",\"method\":\"GET\",\"url\":\"http://localhost:8087/api/v1/download/3\",\"previous\":\"http://localhost:8087/api/v1/download/3\",\"user_agent\":\"insomnia/5.0.4\",\"ip\":\"127.0.0.1\",\"count\":36,\"is_console\":\"no\"} []\nI didn't change anything, just restart the laravel server .... Yes phantomjscloud is an option, thanks for your help\n. I finally found what caused the 408 error:\nUsing phantomJS client library from port 8087 to request a document on port 8087 isn't working.\nI run the project on another port (8088) and I tried to request this url:\n```\n$client = Client::getInstance();\n$client->isLazy();\n$client->getEngine()->setPath($path);\n$request = $client->getMessageFactory()->createRequest(\"http://localhost:8088/view/qokjulv0osan6vl9yhdsqjalcfgc0r50?phantomjs=true&phantomjs_secret=hfcrw4s9igett98reddzgmzfaw1puwb5\", $method);\n$request->setTimeout(8000);\n$response = $client->getMessageFactory()->createResponse();\n// Send the request\n$client->send($request, $response);\n```\nand it worked !\nNow i'd like to understand why it worked for you and not for me .... Yes, this is what i meant: php artisan serve --port=8087 && php artisan serve --port=8088\nIndeed, maybe it's related. How can I change localhost to ninja.dev ?. A bit late but i can confirm that it's not possible to get the pdf with a local phantom JS and without apache virtual host (on the same port i mean). \nEither I had to set an apache virtual host, or I had to start the project on two ports with php artisan serve --port=8087 && php artisan serve --port=8088. ",
    "anark10n": "The instructions in the link you provided are the ones I followed.\nThis is the error in my storage/logs/laravel-error.log. The error repeats for each try.\n[2017-05-27 17:44:28] production.ERROR: Local PhantomJS Error: 0 - https://ninja.dev/view/si9k3wk1sw3aqfaar9ac354v9soa8ogf?phantomjs=true&phantomjs_secret=x21dzk4gvrkzsxc2k69lmdclr30l1enc  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"First  Mucyo\",\"method\":\"PUT\",\"url\":\"https://192.168.178.101/invoices/11\",\"previous\":\"https://192.168.178.101/invoices/11/edit\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:53.0) Gecko/20100101 Firefox/53.0\",\"ip\":\"192.168.178.179\",\"count\":10} []\n[2017-05-27 17:44:28] production.ERROR: PhantomJS - Invalid response:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Ange Mucyo\",\"method\":\"PUT\",\"url\":\"https://192.168.178.101/invoices/11\",\"previous\":\"https://192.168.178.101/invoices/11/edit\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:53.0) Gecko/20100101 Firefox/53.0\",\"ip\":\"192.168.178.179\",\"count\":11} []. @hillelcoren I have tried all the suggestions in #1494 and still the PDFs are not attached to the email.. Running the test.pjs script gets me this output:\n\\n{\n    \"contentType\": null,\n    \"headers\": [],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"end\",\n    \"status\": null,\n    \"statusText\": null,\n    \"time\": \"2017-05-29T10:17:45.516Z\",\n    \"url\": \"https://192.168.178.101/view/si9k3wk1sw3aqfaar9ac354v9soa8ogf\",\n    \"console\": []\n}. PHANTOMJS_BIN_PATH=/usr/local/bin/phantomjs\nwhich1 phantomjs returns/usr/local/bin/phantomjs. I'm still getting the same output when I try the command options in the link you provided\n```\\n{\n    \"contentType\": null,\n    \"headers\": [],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"end\",\n    \"status\": null,\n    \"statusText\": null,\n    \"time\": \"2017-05-29T10:30:58.119Z\",\n    \"url\": \"https://192.168.178.101/view/si9k3wk1sw3aqfaar9ac354v9soa8ogf\",\n    \"console\": []\n}. Ok, testing without HTTPS got me this output:\n``\\n{\n    \"body\": \"\",\n    \"bodySize\": 184,\n    \"contentType\": \"text/html\",\n    \"headers\": [\n        {\n            \"name\": \"Server\",\n            \"value\": \"nginx/1.6.2\"\n        },\n        {\n            \"name\": \"Date\",\n            \"value\": \"Mon, 29 May 2017 10:37:29 GMT\"\n        },\n        {\n            \"name\": \"Content-Type\",\n            \"value\": \"text/html\"\n        },\n        {\n            \"name\": \"Content-Length\",\n            \"value\": \"184\"\n        },\n        {\n            \"name\": \"Connection\",\n            \"value\": \"keep-alive\"\n        },\n        {\n            \"name\": \"Location\",\n            \"value\": \"https://192.168.178.101/view/si9k3wk1sw3aqfaar9ac354v9soa8ogf\"\n        },\n        {\n            \"name\": \"Strict-Transport-Security\",\n            \"value\": \"max-age=2592000\"\n        }\n    ],\n    \"id\": 1,\n    \"redirectURL\": \"https://192.168.178.101/view/si9k3wk1sw3aqfaar9ac354v9soa8ogf\",\n    \"stage\": \"start\",\n    \"status\": 301,\n    \"statusText\": \"Moved Permanently\",\n    \"time\": \"2017-05-29T10:37:29.131Z\",\n    \"url\": \"http://192.168.178.101/view/si9k3wk1sw3aqfaar9ac354v9soa8ogf\",\n    \"console\": []. It seems to be an issue with the default SSL version that phantomjs uses. The test script returns the non-null values when I pass the--ssl-protocol=t1sv1` command to phantomjs. Is there a way of making this the default for phantomjs? I haven't had any luck finding out how to do this.. @MathiasRenner @xanerolozorus Hey, I managed to resolve this issue, it was a issue with the APP _URL parameter in my .env file. I just changed to the ip address of my server.. These are the errors in storage/logs/laravel-error.log:\n[2017-07-14 12:48:09] production.ERROR: ***ErrorException*** [0] : /home/user/invoiceninja/vendor/laravel/framework/src/Illuminate/Foundation/Console/KeyGenerateCommand.php [Line 57] => file_get_contents(/home/user/invoiceninja/.env): failed to open stream: No such file or directory  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://localhost\",\"previous\":\"http://localhost\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n    [2017-07-14 13:11:11] production.ERROR: ***ErrorException*** [0] : /home/user/invoiceninja/app/Http/Controllers/AppController.php [Line 328] => Undefined property: stdClass::$Tables_in_ninja  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://192.168.178.34/update\",\"previous\":\"https://192.168.178.34\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:54.0) Gecko/20100101 Firefox/54.0\",\"ip\":\"192.168.178.179\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2017-07-14 13:50:27] production.ERROR: ***Swift_TransportException*** [530] : /home/user/invoiceninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Transport/AbstractSmtpTransport.php [Line 383] => Expected response code 250 but got code \"530\", with message \"530 5.7.0 Must issue a STARTTLS command first \"  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Ange Mucyo\",\"method\":\"POST\",\"url\":\"https://192.168.178.34/setup\",\"previous\":\"https://192.168.178.34/settings/system_settings\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64; rv:54.0) Gecko/20100101 Firefox/54.0\",\"ip\":\"192.168.178.179\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\nI tried accessing the installation, and it's working now, even though I made no changes.. There's nothing in the error logs. the errors there are there are from typos in my configuration that i had already resolved previously. I'd like to know is it possible to migrate a database from one invoiceninja db to another?. @turbo124 Like a boss! That sorted the issue, thank you so much for that.. ",
    "xanerolozorus": "Hi,\nI'm also facing the same issue. I disabled HTTPS everywhere, I put the resolution of my hostname into the hosts file. I'm running phantomjs 2.1.1.\nWhen I run the pjs test file, I got the HTTP answer with content full of HTML data.\n\\n{\n    \"body\": \"\",\n    \"bodySize\": 114285,\n    \"contentType\": \"text/html; charset=UTF-8\",\n    \"headers\": [\n...\n   \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"start\",\n    \"status\": 200,\n    \"statusText\": \"OK\",\n    \"time\": \"2018-10-21T12:47:37.483Z\",\n    \"url\": \"http://snip.snip.com/view/snip?phantomjs=true&phantomjs_secret=snip\",\n    \"content\": \"<head>\\n    <!-- Source: https://github.com/invoiceninja/invoiceninja -->\\n    <!-- Version: 4.5.5 -->\\n\nWhen I run the url (view/snip?phantomjs=true) in my browser, it first load an HTML page and then redirect me to a page with only data:application/pdf;base64..... ; That might be javascript tough.\nMy test_headless page displays \"Failed to load PDF document.\"\nCloud phantomjs is working btw, but I want it local ;)\nlaravel.log \n[2018-10-21 12:58:24] production.ERROR: TypeError: Attempting to change value of a readonly property.  {\"context\":\"JavaScript\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-10-21 12:58:27] production.ERROR: TypeError: Attempting to change value of a readonly property.  {\"context\":\"JavaScript\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-10-21 12:58:30] production.ERROR: TypeError: Attempting to change value of a readonly property.  {\"context\":\"JavaScript\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-10-21 12:58:33] production.ERROR: TypeError: Attempting to change value of a readonly property.  {\"context\":\"JavaScript\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-10-21 12:58:35] production.ERROR: TypeError: Attempting to change value of a readonly property.  {\"context\":\"JavaScript\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Unknown; Linux x86_64) AppleWebKit/538.1 (KHTML, like Gecko) PhantomJS/2.1.1 Safari/538.1\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\n[2018-10-21 12:58:38] production.ERROR: PhantomJS - Invalid response http://snip.snip.com/view/snip?phantomjs=true&phantomjs_secret=snip:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"snip snip\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"test_headless\"} []\nAny idea what might be wrong ?. Hello,\nI'd like to re-open this as a feature request, you might don't want to use customers portals ...\nRegards,. That would be very nice, this should override products VAT code/rate in quotation/invoices.. ",
    "jbakuwel": "Hi,\nMany thanks for making Invoice Ninja available to the community.\nI've installed Invoice Ninja v4.5.6 on a Debian Stretch server running Apache2 which sits behind a nginx proxy (also running Debian Stretch).\nEverything is working great, except invoice PDFs are not being attached to emails sent out when using local PhantomJS. I have read the various reports on the forum about this, but have not yet been able to make it work. I feel I'm pretty close and would very much appreciate your help finding the issue.\nInvoices are attached successfully when I use PhantomJS Cloud, but I really hope I can avoid having to send my invoices through the cloud. Another reason, perhaps more important, is that access to the server is restricted and I would very much prefer to keep it that way instead of having to make it accessible PhantomJSCloud and thus to the world.\nI'm using PhantomJS v2.1.1 installed from the Debian repositories. Relevant contents of .env are:\nAPP_URL=https://\nREQUIRE_HTTPS=true\nPHANTOMJS_SECRET=verysecret\nPHANTOMJS_BIN_PATH=/usr/bin/phantomjs\nPHANTOMJS=phantomjs-2.1.1-linux-x86_64\nTRUSTED_PROXIES=/32\nFrom laravel-error.log:\nproduction.ERROR: PhantomJS - Invalid response https:///view/dkx8i3asloqichtckz7l9dntj6wck0nv?phantomjs=true&phantomjs_secret=verysecret:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"\",\"method\":\"PUT\",\"user_agent\":\"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0\",\"locale\":\"en\",\"ip\":\"\",\"count\":9,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/3\"} []\nRunning phantomjs test.pjs with the URL from the laravel-error log results in something that looks good, well.. I think it does. Note PDF encoded text removed.\n\\n{\n    \"body\": \"\",\n    \"bodySize\": 185,\n    \"contentType\": \"text/html\",\n    \"headers\": [\n        {\n            \"name\": \"Server\",\n            \"value\": \"nginx/1.10.3\"\n        },\n        {\n            \"name\": \"Date\",\n            \"value\": \"Tue, 04 Dec 2018 05:06:10 GMT\"\n        },\n        {\n            \"name\": \"Content-Type\",\n            \"value\": \"text/html\"\n        },\n        {\n            \"name\": \"Content-Length\",\n            \"value\": \"185\"\n        },\n        {\n            \"name\": \"Connection\",\n            \"value\": \"keep-alive\"\n        },\n        {\n            \"name\": \"Location\",\n            \"value\": \"https:///view/dkx8i3asloqichtckz7l9dntj6wck0nv?phantomjs=true&phantomjs_secret=verysecret\"\n        }\n    ],\n    \"id\": 1,\n    \"redirectURL\": \"https:///view/dkx8i3asloqichtckz7l9dntj6wck0nv?phantomjs=true&phantomjs_secret=verysecret\",\n    \"stage\": \"start\",\n    \"status\": 301,\n    \"statusText\": \"Moved Permanently\",\n    \"time\": \"2018-12-04T05:06:10.334Z\",\n    \"url\": \"http:///view/dkx8i3asloqichtckz7l9dntj6wck0nv?phantomjs=true&phantomjs_secret=verysecret\",\n    \"content\": \"data:application/pdf;base64,body>\",\n    \"console\": []\nI've added an entry to /etc/hosts:\n \nI've also tried\n127.0.0.1                       \nand\n \nkind regards,\nJan\n. ",
    "sintos": "No, the problem is that the saved filename is &Tau;&iota;&mu;&omicron;&lambda;\u03cc&gamma;&iota;&omicron;-0013.pdf. ",
    "PyramisDev": "Thanks @hillelcoren I really hope this happens some day.. ",
    "chaismeyer": "We're waiting to utilize bitcoin daily and one current hangup is accepting bitcoin payments via invoice. Do you think this will be happening soon?. Thank you for the reply, I'm looking forward to seeing the stripe\nintegration come through soon!. ",
    "hjone72": "No worries. Thanks for the update. Looking forward to the next release!. ",
    "desertcrystal": "We have similar needs but for invoices up to 24 months (bi-annually).  Hillel, would it be possible to have the option to set reoccurring invoices in months? :). ",
    "olegchensky": "Yes, it is wrong.\nNormally I must see 19.00 - 9,50 = 9,50\nMay be some extra properties?. Tax Rate... For me and for my college Tax Rate is the difference. The sum to pay after recalculation.\nIncomming Tax 19\u20ac - outgoing Tax 9,50\u20ac = 9,50\u20ac. This is for me the Tax Rate for calculation periode.. I can give you an access to the instance if you want. Mail?. Invite sent.\nI mean Reports. Reports --> Tax Rate.\nThe system calculate only invoices, not expences. It will be very interesting a common tax report for a periode: Sum of all invoices minus sum of all expences. This is the real sum I must pay as a tax.. Yes, we have exactly the same Problem. Email-pdfs are different as in browser. And can't be printed.. After installed it local it is not a Problem more. But it is possible only on self-hosted.. Not all Hostings allow to install phantomjs localy.\nMy Clients, use phantomjscloud, have the issue.. Yes, if it's possible, we use it local. ",
    "thomkedc": "I just want to mention I would also like to see this impelemented..\nmarcoboers94 did explain it well, \nmaybe in the report after selecting 'tax rate' an extra choicebox with:\nInvoices (gives   the results like it is now)\nExpences (gives  you the tax rate from the expenses)\nAll (gives  you the result like explained by marcoboers94)\n(and maybe  even the possibility to give the result for each category from the expences. see below:)\nExpense 1 and 2 are Category A\nExpense 3 and 4 are category B\nSo the report of 'Tax Rate'  with  submenu/choisebox: 'Expenses' would be like:\nTaxes Expenses Category A : \"sum of taxes  expenses 1 and 2\"\nTaxes Expenses Category B: \"Sum of taxes expenses 3 and 4\"\nTotal Taxes Expenses: \"Sum of all the expense taxes\"\nI would really like to see this implemented!\nThanks!\n. ",
    "plfiumi": "Hi, sorry for the delay, I've added the filter comparing what i would need with Client case, but I've not get it work... could you please give me an example of a custom module with a filter working?\nThanks in advance!. Hi Hillel, I've tried debugging javascript but no clue... I don't get it... Could you please test it with any custom module you have create (Inventory from your feature's tutorial)?\nMaybe isn't a tested functionality of custom modules...\nThanks in advance! :). After module generation, I've added the filter code as you show me in the example. But the problem is that if I debug my PHP code, never reach that piece of code. It seems that there's something else missing.\nI tryied adding a service for my new module, but it isn't enought, I really don't know what I should do to get it work, that's why I asked if you have an example from scratch :)\nThanks in advance!. But I've already done that change and is not working. I've looked deeper and there are other changes between the custom module and standard modules. As I told you, the piece of code of the filter is never being reached when I try to filter something. As a good example, do you have some custom module working properly to analyze? I think is the only way to determine if this is a bug of the module generator or is a problem of my implementation... Maybe I'm the first one using custom modules :). solved! Besides the filter in module's repository, I'd to change the $search variable in datatable method (module's controller) for this:\n$search = Input::get('sSearch');\nWould be great that this variable be correctly set from generator, since its the same everytime and solves the problem! ;). Sorry, but i'm still confused since the license doesn't include anything related to keep branding (only attribution as I've described). So please let me know where in the license is that mentioned.\nBesides, if I join the reseller program, according to what you're telling me, branding is still there, so each user has to pay white label feature to remove it in his end.\nSecond point, remove the branding is possible through white label functionality, isn't it? I've understood that reseller option is only to use the platform in a SAAS way, I don't want that, I want to sell the software as a product, the system customized for each customer in his particular hosting (self-hosted for each customer independently).\nFinally, how could I sell a module? Is there a marketplace? Should I promote myself using your brand? Which way is preferable?\nThanks in advance, I just want to get all this clear to make a viable business plan.. Ok, it's clear now. Thanks. So... about reseller program, what 500 USD setup fee includes? Consider that my model means one setup (self-hosted) for customer, anyway, is 500 USD for reseller program, doesn't matter how many times do I install the customized application, isn't it?\nAbout the other condition of reseller program, how 10% of revenues works in practice? Please give me an example here.\nIf you have further information about reseller program, such as considerations (geographical limitations or any other) and benefits, please let me know.\nFinally, about module creation, should I design a landing page in my website in order to sell a module for InvoiceNinja and ask you for permission (to publish it) or which is the best way? If you have an example of any partner who did this before and how he/she did this, could be easier :).\nThanks again, you're very kind answering all my questions regarding your license!. Ok, I continue the discussion of both topics by email. Thanks for your time, you can close this if you want.. Hey Hillel, I've already put the translation there, but nothing happened.\nParticullary, I want to change the translation of currencies of Settings -> Localization.\nI've tryied:\n'Argentine Peso' => 'Peso Argentino',\nand\n'currency_Argentine Peso' => 'Peso Argentino',\nNone of the above worked. \nThanks in advance for your help!. At least in that select doesn't work... even after I've cleaned cache.. ",
    "grimuir": "This is definitely required as this is primarily an invoice and billing engine. Not sure how the feature has so little attention.\nThe tasks and flows are superfluous if you don't have basic accounting such as Statements. The client portal provides exactly what you need, we just need it to be able to print out as a PDF with values of outstanding amounts and due (from by 180 days, 120 days, 90 days, 60 days, 30 days and currently due).  This shows oldest outstanding amounts and newest addition to the account. \nWithout this sadly we can't adopt InvoiceNinja as our Billing and Invoice Engine in South Africa. . ",
    "george-viaud": "@hillelcoren your efforts are truly appreciated (past and future).\nBe well. ",
    "wilhil": "I followed that guide on a brand new Ubuntu install, but no luck :(\nMaybe noit a specific bug, but, it would be good if the official documentation could be updated.... ",
    "derDieDasJojo": "Our client-side UI uses the stripe-api to transmit the credit-card information directly to stripe.\nthis way we make sure our server has never ever seen the credit-card information.\nthen we receive a stripe token from stripe and want to store this in invoice-ninja. ",
    "smartey": "\n. I might be misunderstanding yes, what is this \"Advance\" field for if you have to create a partial payment to actually create an invoice of which a part has been paid? (In cash for instance). After having visited a customer I create an invoice, part payment is already done in cash so I create a new invoice which shows what is already paid (the Advance) and what is still open. Once the rest is paid (either cash or transfer) I add payment for the open amount and expect invoice to be closed. Would make sense if entering an \"Advance\" when creating/editing a new invoice would auto create a partial payment for the amount entered in \"Advance\" no?. Ah so in this case the Advance is meant to be a deposit which has not yet been received :). Better call this field \"Deposit\" instead of \"Advance\" I think..... use case = invoice is usually created after work is done. Offers including a Deposit request would make more sense to me. Once the offer is accepted and deposit is made I would create partial payment and invoice for open amount including the deposit already paid.. So this issue is a language issue I guess, Advance in english = Voorschot in dutch should be \"Deposit\" in english = \"Aanbetaling\" in dutch. I think this would make more sense so I will :)\nThe other issue (locale) still stands, I will add screenshot as well.\n. Might be but I don't think so. So this one does not follow the default Locale causing error warning when using comma for decimals. Example create 1 invoice, 1 product = 15 euro's and deposit/advance = \u20ac 5,50. The comma is not allowed by IN in this case meaning I can only use 5.50 which is translated by system into 5500,00 euro's resulting in a warning the deposit/advance should be > 0 and < total. Locale should follow system default locale ie. dutch in this case should allow comma for decimal seperator enabling a deposit/advance of 5,50 in The Netherlands and rest of Europe where comma is used for decimals.. Yes, I apologize, I thought you were referring to one of the other issues I mentioned but it is same as #437\nThank you! . pre-payment is meant for an \"Advance\" entered with an Invoice. This is related to language issue (#1537) and can be closed for now.. ",
    "Cannonb4ll": "Im sorry, im not sure I think I understand your message with quotes... Ah, yes thats close to what I mean. I will see if I can solve it that way, thank you! :). Aah, sorry, that was exactly what I ment. Totally missed it!. Additional: I already had schedule:run running in my crontab, I just checked cron.log and noticed this:\n[Symfony\\Component\\Console\\Exception\\RuntimeException]\n  The \"--force\" option does not exist.\nWhat do I actually run, i'm kind of confused. Do I run schedule:run, or both?. Line 1220 contains this:\n$lastSentDate->sub(date_interval_create_from_date_string($frequency->date_interval));\nThis is the full function:\n```\npublic function findNeedingEndlessReminding(Account $account)\n    {\n        $frequencyId = $account->account_email_settings->frequency_id_reminder4;\n        $frequency = Utils::getFromCache($frequencyId, 'frequencies');\n    $lastSentDate = date_create();\n    $lastSentDate->sub(date_interval_create_from_date_string($frequency->date_interval));\n\n    $invoices = Invoice::invoiceType(INVOICE_TYPE_STANDARD)\n                ->with('client', 'invoice_items')\n                ->whereHas('client', function ($query) {\n                    $query->whereSendReminders(true);\n                })\n                ->whereAccountId($account->id)\n                ->where('balance', '>', 0)\n                ->where('is_recurring', '=', false)\n                ->whereIsPublic(true)\n                ->where('last_sent_date', '<', $lastSentDate);\n\n    for ($i=1; $i<=3; $i++) {\n        if (!$account->{\"enable_reminder{$i}\"}) {\n            continue;\n        }\n        $field = $account->{\"field_reminder{$i}\"} == REMINDER_FIELD_DUE_DATE ? 'due_date' : 'invoice_date';\n        $date = date_create();\n        if ($account->{\"direction_reminder{$i}\"} == REMINDER_DIRECTION_AFTER) {\n            $date->sub(date_interval_create_from_date_string($account->{\"num_days_reminder{$i}\"} . ' days'));\n        }\n        $invoices->where($field, '<', $date);\n    }\n\n    return $invoices->get();\n}\n\n```. Will be trying now.. This has solved the error, it now runs the command fine.\nSo to be sure @hillelcoren, I should only add these 2 commands to my crontab, and not the schedule:run?\n0 8 * * * /usr/local/bin/php /path/to/ninja/artisan ninja:send-invoices\n0 8 * * * /usr/local/bin/php /path/to/ninja/artisan ninja:send-reminders\nBecause I noticed the Kernel.php schedules more commands, such as;\n$schedule\n            ->command('updater:check-for-update --prefixVersionWith=v')\n            ->sendOutputTo($logFile)\n            ->daily();\nand \n$schedule\n                ->command('ninja:send-renewals --force')\n                ->sendOutputTo($logFile)\n                ->daily();. Alright, thank you :). ",
    "Dave3o3": "Well, I had the default parameters set in my .env file ...\nAfter installing PhantomJS locally and defining the path in my .env file no invoices are attached at all to the emails. Anything else I need to configure or set?. I see:\n[2017-06-26 08:23:06] production.ERROR: Local PhantomJS Error: 0 - http://invoices.dpcpp.dev/view/aefjhhvhmkj855jkqqck8tvcaap8agp9?phantomjs=true&phantomjs_secret=  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"David Pache\",\"method\":\"PUT\",\"url\":\"http://invoices.dpcpp.dev/invoices/2\",\"previous\":\"http://invoices.dpcpp.dev/invoices/2/edit\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36\",\"ip\":\"192.168.10.1\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2017-06-26 08:23:06] production.ERROR: PhantomJS - Invalid response:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"David Pache\",\"method\":\"PUT\",\"url\":\"http://invoices.dpcpp.dev/invoices/2\",\"previous\":\"http://invoices.dpcpp.dev/invoices/2/edit\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.109 Safari/537.36\",\"ip\":\"192.168.10.1\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []. vagrant@homestead:~$ phantomjs -v\nQXcbConnection: Could not connect to display\nPhantomJS has crashed. Please read the bug reporting guide at\n<http://phantomjs.org/bug-reporting.html> and file a bug report.\nAborted (core dumped)\nwill restart the machine and re-check (should be the latest for ubuntu 16.04.2)\nso version is 2.1.1+dfsg-1, installed with apt package manager. I got the above error even after restart. Will check later on this. Thanks for the help so far!. Ok guys, this is the fix:\nhttps://github.com/ariya/phantomjs/issues/14376#issuecomment-246310115\nDon't install PhantomJS via apt-get on Ubuntu 16.04!. ",
    "ROnt2": "Hi, i installed invoiceninja self host on Ubuntu 18.04, with phantomjs local install, the pdf opens with no issue from the Download button on the panel. But when sending email attachments i am having the same problem. Corrupted pdf.  Why is this no longer working on Ubuntu 18.04?\nPlease can someone try reproduce?. @hillelcoren thanks i installed that .deb but no luck still.\nUnfortunately the log laravel-error.log dont show anything since a few days ago. Isnt that strange?\nThe Test button that i used as you said, pdf is also corrupt there.\nIf theres no logs how can i find out whats the cause of this?. @hillelcoren ok i tried that and i get the following shown here: https://bpaste.net/raw/abaea68fd980\nAny idea what the problem is? It is saying some sort of error. . @hillelcoren sorry that was the link to the 'Test' link.\nHere is a correct pdf link: https://bpaste.net/raw/073f4a789acb\nPhantomjs seems to be working in this test?\nIf thats the case, then why when i click on the Test link it shows a corrupted pdf and even when receiving email?\nAlso, since phantomjs is now no longer in development, why are we relying on such a unreliable project? Isnt there something easier and simpler to use??\nThis has been giving me a headache for more than a day now.\n. @hillelcoren no its ok. Im just struggling to get this working. Is there something else i can use and replace the env variable with?\nAlso im doing this to test that the env variable is indeed there.\n$ echo $PHANTOMJS_BIN_PATH\n/usr/local/bin/phantomjs\nSo that should be it right?\nStill i dont know what other debugging i can do to check.. Sorry @hillelcoren im giving up, phantomjs is PITA.\nIs this chrome you want to replace with https://github.com/GoogleChrome/puppeteer ?. ",
    "ihadeed": "@hillelcoren \n\nI can reproduce the problem on my server by creating an invoice and paying it with a credit card. \nI ran the SQL query, no subscriptions were found\nNo, I don't have Google Analytics E-commerce enabled\n\nWhat happens between pressing the \"Pay Now\" button and having the page fully loaded? If you can give me quick tips on where to place debug points, I might be able to figure out a way to reproduce this. \n. Thanks for the response @hillelcoren \nLooks like I was just having issues connecting to my mail server, that caused Invoice Ninja to freeze.\nI turned DEBUG mode on, and noticed some error messages in the 150s+ request. Looks like Invoice Ninja was attempting to connect to my SMTP server via tcp protocol to send mail. The server timed out twice and didn't allow a connection (not sure why). I updated the mail configuration and it works well now.\nI understand for debugging purposes it's good to send mail synchronously, while Invoice Ninja is processing stuff. But it might be worth exploring a feature that processes mail in the background. This makes sense IMO because the client should not wait for emails to be sent. Mail is more of a server-side responsibility and the client shouldn't wait in line until that's dealt with.\nThanks again for your help! . ",
    "Artistan": "@turbo124 \nI am getting this error on the import page with a fresh checkout.\nValidation token was expired. Please try again.\n\nrefresh page. clear cookies. dumpautoload. logged out and back in.\nall with the same results / error message  \n. @turbo124 - please look at https://github.com/invoiceninja/invoiceninja/issues/2479\nthe ONLY place i have found it not working is https://invoice.sitname.net/settings/import_export with the \"multipart/form-data\". my original issue was invalid token\n\nValidation token was expired. Please try again.\n\nIt was not submitting the data  due to exceeding the file size limit so the '_token' input was lost.\nThere is no message for this and took forever to find the issue.\n. exceeded max file limit. I would suggest an error catch on this!\nSorry, this will exceed the limit of 20000 clients\nthat would have been nice to know before hand as well.. I updated the issue to reflect the current \"issues\" with file imports IMHO\nthanks!. @hillelcoren \nthe browser locking was on client import. I did not notice emails, but I have it going to mailhog anyway.\nhow does this affect client import? I was assuming it was trying to return a result for each imported client and that was why it was locking up (filling up the response??). quickbooks integration would be amazing. \ud83d\ude04 . helps with large client lists\nhttps://github.com/invoiceninja/invoiceninja/issues/2479\nIf you create a new invoice without referencing a company the invoice/create page can time out or not even load when you have a large selection of companies.\nThis allows you to click through from the company page to create an invoice for that company and only load that company into the list for the new invoice. much more efficient.. @hillelcoren \nThe only time that it would affect that is if they came from \"new invoice\" on the specific clients profile.\nThis would allow people with a larger client list to at least function.\nNext step would be an ajax autocomplete on that input instead of loading the entire client list.\nthat \"should\" be fairly simple, but I am not very familiar with the code yet, so I did not want to dig that deep to start.. https://github.com/invoiceninja/invoiceninja/pull/2482 is a bit of a work around for the time being.\n. ",
    "IrealiTY": "Where could I check it up? I still have access to my old version. I copied the key from the old .env to the new one.\nBy comment out, in which file do you mean ?. SQLSTATE[42S21]: Column already exists: 1060 Duplicate column name 'custom_contact_label1' (SQL: alter tableaccountsaddcustom_contact_label1varchar(255) null, addcustom_contact_label2varchar(255) null). just comment out everything in that file?`. Shall I go through /update and comment out everytime there is an error?. got a slightly new error\nSQLSTATE[42S01]: Base table or view already exists: 1050 Table 'lookup_accounts' already exists (SQL: create table `lookup_accounts` (`id` int unsigned not null auto_increment primary key, `lookup_company_id` int unsigned not null, `account_key` varchar(255) not null) default character set utf8 collate utf8_unicode_ci engine = InnoDB)\n. SQLSTATE[42000]: Syntax error or access violation: 1061 Duplicate key name 'lookup_companies_db_server_id_company_id_unique' (SQL: alter table `lookup_companies` add unique `lookup_companies_db_server_id_company_id_unique`(`db_server_id`, `company_id`))\nI can't seem to find lookup_companies_db_server_id_company_id_unique in any migration file. Yep going through 1by1 worked :). thats my output\nmysql\nmysql> select * from gateway_types;\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom1       | Custom        |\n|  7 | alipay        | Alipay        |\n|  8 | sofort        | Sofort        |\n|  9 | sepa          | SEPA          |\n| 10 | gocardless    | GoCardless    |\n| 11 | apple_pay     | Apple Pay     |\n| 12 | custom1       | Custom        |\n| 13 | custom2       | Custom        |\n| 14 | custom3       | Custom        |\n+----+---------------+---------------+. Thanks.\nCleared the cache, same issue tho.. Ah yea sorry. I didn't find anything in the docs about it. I'm not sure how I'm supposed to correct the broken data.\nI have more or less a setup without many adjustments aside from a few invoices and settings about my company.\nI did php artisan migrate etc as described in the updat manual.. ",
    "adrian-dinu": "Yes:\nls -l app/Models/DbServer.php\n-rw-r--r-- 1 www-data www-data 267 May 15 19:09 app/Models/DbServer.php\n. That one too:\nls -l database/seeds/DbServerSeeder.php\n-rw-r--r-- 1 www-data www-data 514 May 15 19:09 database/seeds/DbServerSeeder.php\n. No, nothing in the browser, only error I can see is in the app log:\n[2017-07-02 14:43:17] production.ERROR: ReflectionException [-1] : /var/www/ninja/bootstrap/cache/compiled.php [Line 1355] => Class DbServerSeeder does not exist  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://ninja.domain.com/update\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:54.0) Gecko/20100101 Firefox/54.0\",\"ip\":\"84.232.221.196\",\"count\":1} []\n. The script doesn't crash for invoices with 3-4 lines, but it crashes for this invoice with 7 lines (I will take a guess and say it happens for invoices that have to generate a 2nd page).\nI will try the 2 options now.. Disabling the live preview I get the following result: No more preview when i edit the invoice (obviously) but I do get the preview when I click \"View as recipient\" and the same error pops up\nWhen I enable Prevent download: I get no more errors in either invoice edit or View as recipient but I only get a PNG image of the first page of the pdf. For this second option is there something I can install to get a pdf ?. Hello Hillel,\nI just replaced the file and I can confirm it now works fast and without any issue.\nThank you so much for fixing this!. 1. Thanks will upgrade today then.\n2. Ok.\nThanks for the swift response!. ```\n\nmysql> select * from payment_types\n    -> ;\n+----+-------------------+-----------------+\n| id | name              | gateway_type_id |\n+----+-------------------+-----------------+\n|  1 | Apply Credit      |            NULL |\n|  2 | Bank Transfer     |               2 |\n|  3 | Cash              |            NULL |\n|  4 | Debit             |               1 |\n|  5 | ACH               |               2 |\n|  6 | Visa Card         |               1 |\n|  7 | MasterCard        |               1 |\n|  8 | American Express  |               1 |\n|  9 | Discover Card     |               1 |\n| 10 | Diners Card       |               1 |\n| 11 | EuroCard          |               1 |\n| 12 | Nova              |               1 |\n| 13 | Credit Card Other |               1 |\n| 14 | PayPal            |               3 |\n| 15 | Google Wallet     |            NULL |\n| 16 | Check             |            NULL |\n| 17 | Carte Blanche     |               1 |\n| 18 | UnionPay          |               1 |\n| 19 | JCB               |               1 |\n| 20 | Laser             |               1 |\n| 21 | Maestro           |               1 |\n| 22 | Solo              |               1 |\n| 23 | Switch            |               1 |\n| 24 | iZettle           |               1 |\n| 25 | Swish             |               2 |\n| 26 | Venmo             |            NULL |\n| 27 | Money Order       |            NULL |\n+----+-------------------+-----------------+\n27 rows in set (0.00 sec)\n.\nmysql> select * from gateway_types;\n+----+---------------+---------------+\n| id | alias         | name          |\n+----+---------------+---------------+\n|  1 | credit_card   | Credit Card   |\n|  2 | bank_transfer | Bank Transfer |\n|  3 | paypal        | PayPal        |\n|  4 | bitcoin       | Bitcoin       |\n|  5 | dwolla        | Dwolla        |\n|  6 | custom        | Custom        |\n|  8 | alipay        | Alipay        |\n| 11 | sofort        | Sofort        |\n| 14 | sepa          | SEPA          |\n+----+---------------+---------------+\n9 rows in set (0.00 sec)\n\n. Ok, so I have done:\nmysql> UPDATE gateway_types SET id = 7 WHERE id = 8;\nmysql> UPDATE gateway_types SET id = 8 WHERE id = 11;\nmysql> UPDATE gateway_types SET id = 9 WHERE id = 14;\nmysql> ALTER TABLE gateway_types AUTO_INCREMENT = 10;\n```\nNow update has gone without any more issues.\nThanks for the quick support!\n. ",
    "shivampaw": "Doing some research into this I believe it can be solved by including the email parameter when creating the stripe customer.\nhttps://stripe.com/docs/api#create_customer\nStripe will then automatically send receipts on payments and refunds as long as the customer is passed through the Charge object. If this seems right can anyone point me in the right direction for where to make this change and I will?. In that case I assume when creating the charge you pass through the source parameter? Do you know where that is done because you should be able to add receipt_email to that request for the email?\nWeird that Stripe.js doesn't accept an email parameter.. Ok so I think I know the issue.\nhttps://github.com/invoiceninja/invoiceninja/blob/master/app/Ninja/PaymentDrivers/StripePaymentDriver.php#L98\nInstead of unsetting the email renaming it to receipt_email should work.\nBut then I see you are using OmniPay and I can't find much documentation for it when it comes to adding additional parameters to the request.. Yeah that seems right. Thanks!!. ",
    "maxiiemaxx": "From 3.4 I think. \nAlright I will send it.. ",
    "billiam1": "I agree, this would also be useful. Not everyone needs reminders, as is I've told those clients it's automated and they understood but I agree it would be nice to un-check per client or even per invoice.. So do you mean select the date and just put in a time basically? Because the dated time deduction is extremely important IMO. I'm on version 4.1.3 and unable to find any custom field that doesn't show up on the invoice when making or editing a product. . Works when I take out the double dash from the resulting URL. Any idea what I should be looking for in the config? Note this issue started from when I went directly from Ver. 4.4.3 to 4.5.7 and remained as I went to 4.5.8. well that was simple. Yes that was the issue, strange I hadn't noticed it sooner. (my) Issue fixed, thanks!. Workflow:\nClient invoiced for PREPAID 10 hours of work. -> Client Pays Invoice -> Credit created for client in the amount of invoice -> Work is done and invoiced -> Invoice payment applied via client's credit -> System now calculates revenue as the original 10 hour invoice and the applied credit payment made from the original paid invoice. \nThusly when all the credit is used up the system has calculated the revenue twice. First from the paid invoice for the 10 hour pre-paid work plus the applied credit from the 10 hour pre-paid work towards invoices created to deduct from the credit.. Any suggestions on how to resolve this? If we're using the data for tax purposes we wouldn't want to account for extra revenue that was never received. I might have to create an entry for the credit as an expense I believe. . Right but if this \"issue\" is ever resolved in the future it might create then a negative revenue which would be the inverse of the above. \nIs there a reason credit is considered revenue at all? Under what circumstance would a client receive credit without having to pay for it or it being considered a \"loss\"?. I see, well how would you deduct credit towards service then if not via an invoice?. Interesting. I'll need to look into that. . Not that good at CSS, couldn't figure out what to add to custom CSS. Just ended up deleting the lines for it in \nninja/resources/views/invited/dashboard.blade.php\nDirty work around as I'll need to do it after each update. Perhaps you could point me in the right direction. \nThanks.. @Strider27 \nThanks so much, that's exactly what I was looking for!. ",
    "emiliolodigiani": "Thanks a lot for the really fast fix! \nI have that date format because I added it directly in the database some time ago. \nThe problem is that I need that date format printed on invoices (it's someway a legal requirement). Maybe there is an other way, like storing a yyyy-mm-dd format in db and format the date in the view. Sorry to bother you @hillelcoren , is there a better way?. ",
    "SimonSomlai": "Marry me :D. \nI solved my problem by changing the password hash to the one given and resetting the failed_login count back to 0.\nMany thanks!. ",
    "rferreira": "Right, in that case, when will the invoice be emailed to the customer? Immediately or at the start date? . Nm, I answered my own question, hitting \"mark active\" on a reoccurring invoice with a future start date (let's say 2018) wants to immediately sent the invoice to the customer. That doesn't seem ideal, I think it should activate the invoice but not submit it to the customer until the future start date. . hey you are totally correct, maybe the fix here is just to make the modal notification more clearly state that, I wasn't willing to risk it and notify a customer of an incorrect future invoice. Feel free to close this ticket if you would like. . ",
    "t-me": "no errors, only a warning in console log \nThe specified value \"!\" does not conform to the required format.  The format is \"#rrggbb\" where rr, gg, bb are two-digit hexadecimal numbers.\nbuildFragment @ jquery.js:5600\not.parseHTML @ jquery.js:9956\not.fn.init @ jquery.js:2803\not @ jquery.js:73\n(anonymous) @ spectrum.js:56\n(anonymous) @ spectrum.js:57\n(anonymous) @ spectrum.js:2076\n[Violation] Forced reflow while executing JavaScript took 36ms\nchanging to english has not changed enything.\nthe only page where this will not show is on the %HOST%/settings/account_management.\nThere is alsy the same warning in console.. i am using chrome version Version 60.0.3112.90 (Offici\u00eble build) (64-bits)\nalso internet explorer version 11 en privacy mode on chrome have the same result. The app looks like its working fine,\nThanks for commenting out that line \ud83d\udc4d  . ",
    "temp": "Another nice thing would be a small icon for expenses with attachments.\nI'm adding invoice pdfs to the expense, and I'd like to see where I forgot to add the pdf on the list.. Hmm from the docs I thought this would rather be related to online payment transactions?\nBut works for me ;-)\nWould be great to have this always displayed, or made configurable.. Yes, but for user-provided numbers, not generated numbers.\nIf I add a document for an expense, it might have an invoice number on it's own, and I want to track that (for example to avoid duplicate expenses). @hillelcoren you added a \"fixed\" label - but in the latest version I can't find an invoice no on expenses. Has this really been implemented?. ",
    "dluyten": "Expense custom is exactly what I need... Isn't it possible to add it ? even by code on a self hosted installation ?. ",
    "robwent": "A simpler explanation :)\nThe original currency never changes.\nUpdating the exchange rate changes the final amount as it does now.\nChanging the final amount updates the exchange rate, as doesn't happen now.\nIf you can point me to the js that controls the first bit I can probably send a pull request.. I'm taking another look at this now but I'm not familiar with knockout.\nI'm sure other people must be running into the same issue.\nIf you take the whitelabel payment as an example, I add the $20 as the cost, but the exchange rate is almost irrelevant as all that matters is how much I actually paid in my own currency.\nCurrently, to get them to match I need to fiddle with the exchange rate value, as adding the cost and amount paid will change the paid amount on save to use the default exchange rate of 1.\nIn theory, it shouldn't make any difference to the people using it as it works now, just make it easier for people who need the cost and converted amounts to match what they end up paying.. I think we might be talking about the same thing. I want to store the expense in my own currency, but the actual cost recorded should reflect what is on the invoice. At the moment it's fiddly to do that as you need to manually adjust the exchange rate until the amounts match if you don't know what the exact exchange rate was.\nI'm only proposing a change to the UI, not how anything is stored. You could still have pre populated exchange rates, the change would just allow the user to quickly make the exchange rate the same as the one they actually got by editing the invoice amount field.\nWhilst automatic exchanges rates might be nice for approximate amounts, they are never going to be exactly the same as the rates you get through your bank/paypal/etc when purchasing something in another currency. Most rate API's give the middle market value which can be wildly different from the rate you get with a bank.\nHaving said that though, I've used this in the past which could be an option for a free service to connect to http://fixer.io/. I would say that changing the invoice amount should update the exchange rate as that is the only unknown variable (Unless it's specifically stated by your bank).\nThe amount in the original currency is never going to change as that's the amount on the invoice. So updating either the exchange rate or the invoice amount should never change the original value.\nWith the exchange rate and invoice amount fields, can't they work so that changing one would update the other?\nIf someone has paid in one currency but not yet been charged in their own, they could use the automatic rates option or an estimate from somewhere.\nI'd be interested to know if this would cause an issue for someone else and understand what you mean about 'solve for x'.\nI'm currently using the expenses area to keep track of my own expenses, so I know how much I have been charged in my own currency and what the invoice says about the original. I rarely add those expenses to a clients invoice.\nIf it's converting an expense in your own currency to another that you need to charge a client in then it's a bit different, but you still might want to round off the amount you charge the client and have the exchange rate update to reflect the new amount.\nPossibly I'm just using it wrong and should add the amount I've actually been charged in my own currency and forget about the conversion rates.\n. Why would that make a difference though?\nThe amount that was paid for the expense is always fixed regardless of the currency.\nThe option to change the exchange rate and have the converted amount update would stay as it is now., but changing the converted amount would also update the exchange rate.\nIs there a slack channel where I can ask for some other peoples experiences of how they use expenses?. Ok,\nImagine either of those cases. You enter the original amount.\nWhat you actually receive is going to depend on the method they use to pay you.\nYou get the exchange rate from a site or an api and enter it in the box.\nCase 1, using xe.com currently comes out as \u20ac85.0190\nCase 2, $117.621\nSo you might lose a bit when actually getting paid and you want to manually round up the amounts to something like \u20ac86 or $120.\nTo do that currently, you need to play around with the exchange rate until the amount is what you want to charge, or actually use a calculator to work out what the exchange rate would be.\nIf it worked both ways, you could enter the current exchange rate (or use it automatically in a future update) but could manually adjust it by changing the final amount.. Ah ok, I've misunderstood. I didn't realise that changing the invoice amount changed the original amount field.\nSo basically, I should always enter the amount I have actually paid in my own currency as the main amount?\nPersonally, I would still have the same issue but it's obviously more complicated with 3 fields and probably wouldn't work.. Looking at the reports, the expenses is actually perfect as I'm using it now so I'll probably just continue to do what I'm doing by fiddling with the exchange rates.\nI would probably need something similar for the actual invoice payment amounts as the income report is currently all in the amount charged with no way to add the conversion.\nAt the moment, I'm adding the paid amount in GBP as a private note, but that's going to be an issue when it comes to tax time as I need a list of everything in GBP for the accountant.\nI think this can probably be closed though.. I just tested with webmaster tools and the current robots file does nothing to block crawlers.\nWhen I changed it to the above, Google's fetch and render shows a blocked message whereas before it showed a redirect to the login page but nothing about not being indexable.\n\n. I just found that you can also search Google for text in page tiles like:\nintitle:\"client Portal\"\n\nWhich could help bots find indexed sites login pages for possible attacks were there ever a security issue.. I think I may have just hit my Git limit and tried to submit a pull with all changes from the stable version.\nI will try and delete it.. I tried to cancel this pull and in the end deleted my fork but it doesn't seem to go, can you delete it?\nNew pull here: https://github.com/invoiceninja/invoiceninja/pull/1620. Do you have mod_headers enabled?\nI'll check for a conditional. ah ok, thanks.\nI'll try registering and see how easy they make it :). I've created a Google client and sent an invoice to schema.whitelisting+sample@gmail.com\nI'll let you know what happens.\nI think it would just be ignored when sent from an invalid email so could probably be enabled for self-host without any issue?. Doesn't that happen from the hosted version as well?\nWhat about an option to enable it on a per contact basis or just for Gmail addresses?\nPer contact might be best as some Gmail users might be using email clients with the problems.\nDo you know which clients show the code? I can only test on thunderbird at the moment and that seems ok.. Looking at the source of the email, I think the issue is probably that the schema is added to the body of the email rather than in the head.\n<head>\n  <meta charset=\"utf-8\">\n</head>\n<body>\n<script type=\"application/ld+json\">\n[\n{\n  \"@context\": \"http://schema.org\",\n  \"@type\": \"Invoice\",\n  \"paymentStatus\": \"PaymentDue\",\n    \"provider\": {\n    \"@type\": \"Organization\",\n    \"name\": \"Robert Went\"\n  },\n  \"broker\": {\n    \"@type\": \"Organization\",\n    \"name\": \"Invoice Ninja\",\n    \"url\": \"https://www.invoiceninja.com\"\n  },\n  \"totalPaymentDue\": {\n    \"@type\": \"PriceSpecification\",\n    \"price\": \"10.00 GBP\"\n  },\n  \"action\": {\n    \"@type\": \"ViewAction\",\n    \"url\": \"https://domain.com/view/rtewrterter\"\n  }\n},\n{\n  \"@context\": \"http://schema.org\",\n  \"@type\": \"EmailMessage\",\n  \"action\": {\n    \"@type\": \"ViewAction\",\n    \"url\": \"https://domain.com/view/srtgergtew\",\n    \"name\": \"View Invoice\"\n  }\n}\n]\n</script>\n\nIf you move that to the head section then (fingers crossed) clients that don't understand it should ignore it.. They turned me down as I don't send out enough mail :).\nWe have received your registration request, thanks for the description of your project and all the information you provided, I understand you want to add Gmail actions to your emails.\nWe want to make sure that actions are only used for high quality meaningful emails so we only enable senders with an excellent spam reputation in Gmail. Unfortunately it seems that your email did not pass our email quality checks. Please review our Email Sender Quality Guidelines. Typical issues include:\n\nEmail\u2019s domain not authenticated properly (DKIM, SPF)\nAuthenticated domain does not match the \u201cFrom:\u201d email\u2019s domain.\nNot enough volume sent to Gmail addresses (need more than 100 emails/day).\nSpam reputation is too low (too many spam complaints from users/emails qualified as spam).\n\nI think in my case it's probably the 100 emails a day.. I just updated to 4.5.1 and then copied the 4 files but I now get ERR_TOO_MANY_REDIRECTS when trying to access the site.\nI tried adding ?clear_cache=true but still had the same issue.. Yes, was working before and after I put the files back.\nI didn't think composer install was needed since there's no change to the composer file.\nHow do I run the migrations (and how do I roll them back if it doesn't work)?. 4.5.0\nWill give it a test now. Nothing to migrate.\nTried setting APP_DEBUG to true in the .env file.\nIn storage/logslaravel-error.log I have\napp/Http/Controllers/DashboardController.php [Line 49] => Undefined property: stdClass::$exchange_rate\n\n. Still the same.\nThe error message was from earlier. If I empty out the log files and then reload the site they stay empty so that might be unrelated.\nI checked the server logs and it looks like 302 redirects adding and removing /dashboard from the url.\nIf I try a different browser, I can get to the login screen, but then get into the loop after trying to log in.. It's only happening on the dashboard. I can still access other admin pages if I put the url in directly.. I'll keep looking around first and let you know if I find anything.. If I uncomment this ->firstOrFail() line then I get an error message with no redirects https://github.com/invoiceninja/invoiceninja/pull/2242/commits/5a83542d063c0c9d2c26f3500c1b5eac5eab52d2#diff-a3c24a25d054ec18e6c4956b6ea995b0R77\nAnd if I manually set $balancesTotals then the dash works again. So seems to be related to items that don't have a currency set.\n. Changing firstOrFail to just first shows:\n(1/1) ErrorException\nTrying to get property of non-object\n\nin\u00a0DashboardController.php\u00a0(line 80)\n--\nat\u00a0HandleExceptions->handleError(8, 'Trying to get property of non-object', 'xxxx/app/Http/Controllers/DashboardController.php', 80,\u00a0array('user' =>\u00a0object(User), 'viewAll' =>\u00a0true, 'userId' => 1, 'account' =>\u00a0object(Account), 'accountId' => 1, 'dashboardRepo' =>\u00a0object(DashboardRepository), 'metrics' =>\u00a0object(stdClass), 'paidToDate' =>\u00a0object(Collection), 'averageInvoice' =>\u00a0object(Collection), 'balances' =>\u00a0object(Collection), 'activities' =>object(Collection), 'pastDue' =>\u00a0object(Collection), 'upcoming' =>\u00a0object(Collection), 'payments' =>\u00a0object(Collection), 'expenses' =>\u00a0object(Collection), 'tasks' =>object(Collection), 'paidToDateTotal' => 37298.811264000004, 'item' =>\u00a0object(stdClass), 'invoiceTotal' => 42190.749993999998, 'invoiceTotalCount' => 74, 'averageInvoiceTotal' => 570.1452701891892, 'balancesTotals' => 0.0, 'currencies' =>\u00a0array(object(Currency), '' =>\u00a0null)))in\u00a0DashboardController.php\u00a0(line 80)\n\n. DB queries:\nhttps://gist.github.com/robwent/59d5ba762b86e9b95c1f903386285ae1.     Illuminate\\Support\\Collection Object ( [items:protected] => Array ( [0] => stdClass Object ( [value] => 0.00 [currency_id] => 1 ) [1] => stdClass Object ( [value] => 2250.72 [currency_id] => ) [2] => stdClass Object ( [value] => 0.00 [currency_id] => 3 ) [3] => stdClass Object ( [value] => 0.00 [currency_id] => 17 ) ) ). Won't this always fail?\nif (! isset($currencies[$item->currency_id])) {\n\nsince currencies is initialized just before the loop as an empty array.\nTherefore, this is either division by 0 or trying to divide by false/null or something like that\n$balancesTotals += ($item->value / $currencies[$item->currency_id]->exchange_rate);. Ignore that, I'm blind to the !. `currency_id` isn't set for the second item (my default currency GBP). After the update, I'm getting:\n\n(1/1)\u00a0ErrorExceptionUndefined variable: account\n--\nin\u00a0DashboardRepository.php\u00a0(line 316)\n\n. Dashboard is loading now, but it looks like I get a 500 error when clicking on the totals button:\n(1/1)\u00a0ErrorExceptionUndefined property: stdClass::$invoice_text1\n--\nin\u00a0Account.php\u00a0(line 783)\n\n. I have fixer set up in my env file\nEXCHANGE_RATES_ENABLED=true\nXCHANGE_RATES_URL=http://data.fixer.io/latest?access_key=MYKEY\nEXCHANGE_RATES_BASE=GBP\n\nI'm not sure that it's working though as the currencies table shows all exchange_rate as 1.0000.\nIf I try and access the exchange rate url directly the api is working.\nI didn't have the convert products option checked, but when I try and click on the custom fields link, I now get another error :)\n(2/2)\u00a0ErrorExceptionUse of undefined constant ENTITY_RECURRING_QUOTE - assumed \n'ENTITY_RECURRING_QUOTE' (View: \n/xxxx/resources/views/accounts/invoice_settings.blade.php)\n--\nin\u00a0Account.php\u00a0(line 1048)\n\n. ah ok. I'll roll my install back to the stable version, but with the last update the dash totals button is working!. ",
    "nbyloff": "Mark me down for this one as well unless there's a better way within the current architecture. For me, my clients give me project codes/names for everything I am going to work on. I don't need to detail all the info in the invoice, they just want to know how to segment the work. Like:\n20 hours   Project A\n5 hours     Project B\n3 hours     Meetings\nIf I could bill time directly to a project without needing tasks, that would work too. But I essentially will bill all my work to a pre-defined task that will be used over and over. The current task system treats them as if they're individual tickets (which I expected).\nIt would be great if I could just go into my list of tasks, run the timer and at the end of the month invoice all unbilled time segmented by client & project/recurring task. \nThoughts? Or is this a possible feature?. I round up to the nearest 15 min mark. . Would you let the user decide how to round? Up to the 15, 30, or hour? . @hillelcoren yes, if there wasn't any default in the first place. For instace, font was blank so I set it to Helvetica and saved. That stuck. Then I tried to change it & save, and it reverted to Helvetica again. \nSame thing with positioning since there was no preset. I right aligned the text & saved and it stuck. Then tried to center or left & align and save, it always reverts to right-aligned.\nChanges are saved & persisted in the DB every time regardless of it there is a preset default, but because it keeps everything only the last CSS rules are applied to the layout (the original default/save). . I don't suppose this can make it into the next build?. When my current project stops, I might take a whack at it since this seems to be the only issue stuck in triage; assume that means this is the lowest priority on all issues? Proposals, in their current state, are not usable and I'd love to leverage them.\nAny tips? IE: is the CSS saving party of the library you're using for proposals, or did you extend the library to suit IV?. ",
    "Yiin": "You're right, sorry.. ",
    "ruslanguns": "I wonder what is the status of this issue, since I am also having the same issue.\nThank you guys!. Google Authenticator is a great option to consider!  Just letting you know.. I just could track the issue using a diferent browser.... please review all the issue and let me know if this is a bud, and if this can be somewhere fixed.\nThanks in advance!! \nWhoops, looks like something went wrong.\n1/2\nPDOException in Connection.php line 335:\nSQLSTATE[HY000]: General error: 1615 Prepared statement needs to be re-prepared\nin Connection.php line 335\n\nat PDOStatement->execute(array()) in Connection.php line 335\nat Connection->Illuminate\\Database{closure}(object(MySqlConnection), 'select count() as aggregate from accounts where accounts.deleted_at is null', array()) in Connection.php line 722\nat Connection->runQueryCallback('select count() as aggregate from accounts where accounts.deleted_at is null', array(), object(Closure)) in Connection.php line 685\nat Connection->run('select count() as aggregate from accounts where accounts.deleted_at is null', array(), object(Closure)) in Connection.php line 349\nat Connection->select('select count() as aggregate from accounts where accounts.deleted_at is null', array(), true) in Builder.php line 1610\nat Builder->runSelect() in Builder.php line 1596\nat Builder->get(array('')) in Builder.php line 2002\nat Builder->aggregate('count', array('')) in Builder.php line 1924\nat Builder->count()\nat call_user_func_array(array(object(Builder), 'count'), array()) in Builder.php line 1423\nat Builder->__call('count', array())\nat Builder->count()\nat call_user_func_array(array(object(Builder), 'count'), array()) in compiled.php line 11735\nat Model->__call('count', array())\nat Account->count()\nat call_user_func_array(array(object(Account), 'count'), array()) in compiled.php line 11740\nat Model::__callStatic('count', array()) in HomeController.php line 46\nat Account::count() in HomeController.php line 46\nat HomeController->showIndex()\nat call_user_func_array(array(object(HomeController), 'showIndex'), array()) in compiled.php line 9496\nat Controller->callAction('showIndex', array()) in compiled.php line 9558\nat ControllerDispatcher->call(object(HomeController), object(Route), 'showIndex') in compiled.php line 9538\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10020\nat Pipeline->then(object(Closure)) in compiled.php line 9539\nat ControllerDispatcher->callWithinStack(object(HomeController), object(Route), object(Request), 'showIndex') in compiled.php line 9526\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\HomeController', 'showIndex') in compiled.php line 8596\nat Route->runController(object(Request)) in compiled.php line 8583\nat Route->run(object(Request)) in compiled.php line 8297\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10020\nat Pipeline->then(object(Closure)) in compiled.php line 8298\nat Router->runRouteWithinStack(object(Route), object(Request)) in compiled.php line 8289\nat Router->dispatchToRoute(object(Request)) in compiled.php line 8279\nat Router->dispatch(object(Request)) in compiled.php line 2419\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in HandlePreflight.php line 38\nat HandlePreflight->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(HandlePreflight), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Debugbar.php line 51\nat Debugbar->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(Debugbar), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in StartupCheck.php line 220\nat StartupCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartupCheck), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in QueryLogging.php line 32\nat QueryLogging->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(QueryLogging), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in DuplicateSubmissionCheck.php line 41\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(DuplicateSubmissionCheck), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 3225\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 44\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 13546\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 12036\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 13285\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 13222\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 3286\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10020\nat Pipeline->then(object(Closure)) in compiled.php line 2366\nat Kernel->sendRequestThroughRouter(object(Request)) in compiled.php line 2350\nat Kernel->handle(object(Request)) in index.php line 52\n\n2/2\nQueryException in Connection.php line 729:\nSQLSTATE[HY000]: General error: 1615 Prepared statement needs to be re-prepared (SQL: select count(*) as aggregate from accounts where accounts.deleted_at is null)\nin Connection.php line 729\n\nat Connection->runQueryCallback('select count() as aggregate from accounts where accounts.deleted_at is null', array(), object(Closure)) in Connection.php line 685\nat Connection->run('select count() as aggregate from accounts where accounts.deleted_at is null', array(), object(Closure)) in Connection.php line 349\nat Connection->select('select count() as aggregate from accounts where accounts.deleted_at is null', array(), true) in Builder.php line 1610\nat Builder->runSelect() in Builder.php line 1596\nat Builder->get(array('')) in Builder.php line 2002\nat Builder->aggregate('count', array('*')) in Builder.php line 1924\nat Builder->count()\nat call_user_func_array(array(object(Builder), 'count'), array()) in Builder.php line 1423\nat Builder->__call('count', array())\nat Builder->count()\nat call_user_func_array(array(object(Builder), 'count'), array()) in compiled.php line 11735\nat Model->__call('count', array())\nat Account->count()\nat call_user_func_array(array(object(Account), 'count'), array()) in compiled.php line 11740\nat Model::__callStatic('count', array()) in HomeController.php line 46\nat Account::count() in HomeController.php line 46\nat HomeController->showIndex()\nat call_user_func_array(array(object(HomeController), 'showIndex'), array()) in compiled.php line 9496\nat Controller->callAction('showIndex', array()) in compiled.php line 9558\nat ControllerDispatcher->call(object(HomeController), object(Route), 'showIndex') in compiled.php line 9538\nat ControllerDispatcher->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10020\nat Pipeline->then(object(Closure)) in compiled.php line 9539\nat ControllerDispatcher->callWithinStack(object(HomeController), object(Route), object(Request), 'showIndex') in compiled.php line 9526\nat ControllerDispatcher->dispatch(object(Route), object(Request), 'App\\Http\\Controllers\\HomeController', 'showIndex') in compiled.php line 8596\nat Route->runController(object(Request)) in compiled.php line 8583\nat Route->run(object(Request)) in compiled.php line 8297\nat Router->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10020\nat Pipeline->then(object(Closure)) in compiled.php line 8298\nat Router->runRouteWithinStack(object(Route), object(Request)) in compiled.php line 8289\nat Router->dispatchToRoute(object(Request)) in compiled.php line 8279\nat Router->dispatch(object(Request)) in compiled.php line 2419\nat Kernel->Illuminate\\Foundation\\Http{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 52\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in HandlePreflight.php line 38\nat HandlePreflight->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(HandlePreflight), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in Debugbar.php line 51\nat Debugbar->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(Debugbar), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in StartupCheck.php line 220\nat StartupCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartupCheck), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in QueryLogging.php line 32\nat QueryLogging->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(QueryLogging), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in DuplicateSubmissionCheck.php line 41\nat DuplicateSubmissionCheck->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(DuplicateSubmissionCheck), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 3225\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in VerifyCsrfToken.php line 44\nat VerifyCsrfToken->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(VerifyCsrfToken), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 13546\nat ShareErrorsFromSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(ShareErrorsFromSession), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 12036\nat StartSession->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(StartSession), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 13285\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(AddQueuedCookiesToResponse), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 13222\nat EncryptCookies->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(EncryptCookies), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request)) in compiled.php line 3286\nat CheckForMaintenanceMode->handle(object(Request), object(Closure))\nat call_user_func_array(array(object(CheckForMaintenanceMode), 'handle'), array(object(Request), object(Closure))) in compiled.php line 10035\nat Pipeline->Illuminate\\Pipeline{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in Pipeline.php line 32\nat Pipeline->Illuminate\\Routing{closure}(object(Request))\nat call_user_func(object(Closure), object(Request)) in compiled.php line 10020\nat Pipeline->then(object(Closure)) in compiled.php line 2366\nat Kernel->sendRequestThroughRouter(object(Request)) in compiled.php line 2350\nat Kernel->handle(object(Request)) in index.php line 52. hey @hillelcoren \nthanks for your really quick reply. \nHow may I do that? thanks in advance. Yeah, I am going to build a quick ticket to them I'll be right back\n. Closing the ticket... since it is given a database issue not a bug. Thanks for help.. I am self hosted.. pretty quick every 15 minutes \n. Thanks for the information... very appreciated!! . Sorry for delay, and thanks for your help.  I am attaching the logs from PhantomJS. It says that is unable to decode.\nlogs-phantom.txt\n. Thanks for your help, it has helped me out to fix my issue.. I have just created an account in Transifex and been accepted to collaborate with you with translations... so I will help you out guys! Thanks for your support.. It is time to contribute a little bit. hillelcoren added the feature request label on 28 Nov 2017 so it is going to be in the future, my guess!. @fisherman818  what permissions should have the file Public/logo?\n\nTried with 644/755/777 also but still the same issue about the format.  Please let me know if you have any clue on this. \npublic/logo permissions:\nroot@xxxx:/var/www/html/ninja/public# ls -l logo\ntotal 4\n-rwxr-xr-x 1 www-data www-data 1822 Dec 14 16:48 zg4ylmzDkdkPOT8yoKQw9LTWaoZJx79h.jpg\n. Hello @hillelcoren yes it shows ....\nproduction.ERROR: Doctrine\\DBAL\\Driver\\PDOException [1045] \nproduction.ERROR: Intervention\\Image\\Exception\\NotSupportedException [0] \nproduction.ERROR: Illuminate\\Validation\\ValidationException [0]\n. @fisherman818 thanks for the tip but already tried give the permissions before and still doesn't work...\n\nand @hillelcoren still trying to investigate a little more, thanks btw. I am going to attach a couple images of my root folder....\n\nand the permissions of the public folder btw.\n\n. Nope. No way to get this working so nevermind, I will see somehow to reinstall all . Hello @hillelcoren \nThe error in laravel-error.log is : \nphp [Line 227] => Class 'ZipArchive' not found  {\"context\":\"PHP\",\"user_id\":4,\"account_id\":2,\"user_name\":\"KARINA JIMENO\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0\",\"locale\":\"es_ES\",\"ip\":\"47.63.177.180\",\"count\":7,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"reports\"} []\ntail: unrecognized file system type 0x794c7630 for 'storage/logs/laravel-error.log'. please report this to bug-coreutils@gnu.org. reverting to polling\nI will setup this requirement ! Thank you for feedback\n. ",
    "alex-godwin": "When I do that the option appears with whatever parameter I set, however it doesn't seem to actually pass that parameter to the gateway. \nMy code looks like this:\nhttps://gist.github.com/alexkgodwin/2a8fcf9d5506f6525b0d66c039ea7b9e. ",
    "Don-black": "I need this as well. ",
    "lucho020": "@hillelcoren this would be really great. I need this also.\nCould you make it possible to simply be able to put our SMS Service API key & API server address somewhere in the settings, and have a button SEND SMS next to Send EMAIL, and have it for recurring emails too. But to be able to choose if we want to send ONLY sms or ONLY Email, or Both for recurring.\nHow difficult would this be to implement?  I think it would greatly up the value of invoiceninja.. @hillelcoren yes true except that you would have to give Zapier all your details for InvoiceNinja, SMS API, etc. \nI was wondering if you could actually integrate this feature rather.. Ok, but would would you make it compatible with ANY sms API service? or isnt that possible?. ",
    "PaulMellor": "This is a Big thing for me in Australia, as a recent survey showed only 35% of emails get opened that arrive in the inbox within 24hrs, whilst less than 5% in the junk/spam. Whereas >65% of SMS get opened the first 15 minutes or receiving, for a small business, this increases our chance of getting paid quickly.\nI have spent a basic attempt to implement via Zapier to Twilio, however, on the mobile(iPhone) the link goes to the login page and not the portal. copied the same link on a desktop and goes directly to invoice.\nAlso when trying to set it up the invoice dont show the mobile number, this pretty much killed me from proceeding, as adding mobile number to invoice is a no go.\n. ",
    "wzulfikar": "I think i've found the culprit.\nWhen ninja:check-data is executed, checkFailedData() inside app/Console/Commands/CheckData.php is called, which then calls env('QUEUE_DATABASE') WITHOUT default. \nThus, when QUEUE_DATABASE is not defined in .env, the error Undefined index: driver will happen. \nMaybe, since the method is to check failed jobs, we can use config('queue.failed.database') instead of env('QUEUE_DATABASE').\napp/Console/Commands/CheckData.php@checkFailedJobs\n\nps: The QUEUE_DATABASE is not defined in .env.example.. ",
    "alexdmejias": "also would love this feature, currently the only thing keeping me away from invoice ninja. Keep up the great work. also would love this feature, currently the only thing keeping me away from invoice ninja. Keep up the great work. ",
    "kordianbruck": "I would love this, in order to automatically mark invoices as paid and also create expenses automatically. . I would love this, in order to automatically mark invoices as paid and also create expenses automatically. . ",
    "mannp": "It doesn't use fail2ban or the built in brute force protection, so scanners/bots can pick up the url easily and then keep trying credentials as long as they want.\nThere is no 2 factor authentication either, which takes away the brute force element, as they also need the code to match.. It doesn't use fail2ban or the built in brute force protection, so scanners/bots can pick up the url easily and then keep trying credentials as long as they want.\nThere is no 2 factor authentication either, which takes away the brute force element, as they also need the code to match.. Can I change that to 2 and do those IP's get banned or are allowed to continue trying?\nIs the log fail2ban compatible, as I can then ban the IP's and fully block after multiple bans.. Can I change that to 2 and do those IP's get banned or are allowed to continue trying?\nIs the log fail2ban compatible, as I can then ban the IP's and fully block after multiple bans.. Don't get me wrong, I love the app and am very happy with it, but feel the external security element is not in line with current trends...\nFail2ban, 2FA, which would greatly restrict access and give my clients more comfort in sharing confidential details.\nI can add fail2ban myself if the logs output failed attempts in a format that fail2ban can interpret... but after searching on the forum it appears its not a priority.....\nEdit: Created separate request for fail2ban log support and 2FA -> https://github.com/invoiceninja/invoiceninja/issues/1657. Don't get me wrong, I love the app and am very happy with it, but feel the external security element is not in line with current trends...\nFail2ban, 2FA, which would greatly restrict access and give my clients more comfort in sharing confidential details.\nI can add fail2ban myself if the logs output failed attempts in a format that fail2ban can interpret... but after searching on the forum it appears its not a priority.....\nEdit: Created separate request for fail2ban log support and 2FA -> https://github.com/invoiceninja/invoiceninja/issues/1657. My request is not 'File2ban and 2FA', it is to use the android app with .htaccess.\nFile2ban and 2FA will not be a priority and using .htaccess allows increased security now.\nIf the android app was expecting a username and password for .htaccess it would not throw an exception, as it does now.\nSo they are completely separate issues.. My request is not 'File2ban and 2FA', it is to use the android app with .htaccess.\nFile2ban and 2FA will not be a priority and using .htaccess allows increased security now.\nIf the android app was expecting a username and password for .htaccess it would not throw an exception, as it does now.\nSo they are completely separate issues.. Happy to add another File2ban and 2FA request, but this is a bug in the android app that doesn't allow the use of .htaccess which is commonplace.. Happy to add another File2ban and 2FA request, but this is a bug in the android app that doesn't allow the use of .htaccess which is commonplace.. @turbo124 for this one please forget fail2ban as it just needs the log you produce for IN to be in a format it can read for failed login attempts (see here for fail2ban log example -> https://plugins.piwik.org/LoginFailLog)\nYes I am asking that if the android app sees a request to enter .htaccess data it presents a dialog box to enter them and cache the details, rather than error out with a malformed response.\nMy .htaccess is not per user but an outer gate to accessing the IN login page.\nOnce entered the app would continue as normal.\nIt is effectively working in a similar manner to that of 2FA when it asks for the pin, once the pin is entered it allows the user to login.\nBut as 2FA is likely some time away (if at all), this outer .htaccess login acts as a replacement in the short term.\n. @turbo124 for this one please forget fail2ban as it just needs the log you produce for IN to be in a format it can read for failed login attempts (see here for fail2ban log example -> https://plugins.piwik.org/LoginFailLog)\nYes I am asking that if the android app sees a request to enter .htaccess data it presents a dialog box to enter them and cache the details, rather than error out with a malformed response.\nMy .htaccess is not per user but an outer gate to accessing the IN login page.\nOnce entered the app would continue as normal.\nIt is effectively working in a similar manner to that of 2FA when it asks for the pin, once the pin is entered it allows the user to login.\nBut as 2FA is likely some time away (if at all), this outer .htaccess login acts as a replacement in the short term.\n. Too hard hey. Come on, you do it for the standard username and password so can do it for this, but choose not too.\nWhat you are saying is that you do not value the increased security this would bring ... my only hope is 2fa as the libs are already made for that.\nEquifax here we come ..... Too hard hey. Come on, you do it for the standard username and password so can do it for this, but choose not too.\nWhat you are saying is that you do not value the increased security this would bring ... my only hope is 2fa as the libs are already made for that.\nEquifax here we come ..... @turbo124  come on, I am not a dev, but a user concerned about my clients security, especially with GDPR coming next year.\nI don't have to enter my username and password in the android app every time I use it, so you must use a token or other method to keep me logged in.\nThat method, whatever it is called, could be the same; or better still incorporate the 2fa code that is already written.\nCaching is not the issue here .... @turbo124  come on, I am not a dev, but a user concerned about my clients security, especially with GDPR coming next year.\nI don't have to enter my username and password in the android app every time I use it, so you must use a token or other method to keep me logged in.\nThat method, whatever it is called, could be the same; or better still incorporate the 2fa code that is already written.\nCaching is not the issue here .... @turbo124 ok, thats a help but doesn't help the underlying server with just a username and password to protect it...nor does it help those people without a fingerprint sensor.\nAll those you have quoted have 2FA and store far less valuable information.\nI'll stick to .htaccess restrictions and no android app.. @turbo124 ok, thats a help but doesn't help the underlying server with just a username and password to protect it...nor does it help those people without a fingerprint sensor.\nAll those you have quoted have 2FA and store far less valuable information.\nI'll stick to .htaccess restrictions and no android app.. @turbo124 I see 2FA in the web app which looks great, but the android app logged straight in without asking me for a 2FA code.\nDoes the android app support 2fa accounts?. @turbo124 I see 2FA in the web app which looks great, but the android app logged straight in without asking me for a 2FA code.\nDoes the android app support 2fa accounts?. @Gregory-K Thanks very much for this and I am glad I am not the only one wanting a little tighter security on my IN selfhost \ud83d\udc4d \nI'll give it a try, but in the mean time, I am hoping the IN devs seize the opportunity to add this officially :). @Gregory-K Thanks very much for this and I am glad I am not the only one wanting a little tighter security on my IN selfhost \ud83d\udc4d \nI'll give it a try, but in the mean time, I am hoping the IN devs seize the opportunity to add this officially :). @hillelcoren is there any chance of getting @Gregory-K changes incorporated in line with your coding standards (ie in the correct place)?\nThanks in advance. @hillelcoren is there any chance of getting @Gregory-K changes incorporated in line with your coding standards (ie in the correct place)?\nThanks in advance. @hillelcoren Ok thats a real shame and what about some sort of 2FA?. @hillelcoren Ok thats a real shame and what about some sort of 2FA?. Thanks @hillelcoren email sent and thanks for the replies.. ",
    "Gregory-K": "I know nothing about laravel and invoiceninja. I just started to use-test it.\nI think it is very important, especially for the self-hosted version, to log \"login failures\" and co-operate with fail2ban.\n@mannp I found a quick and dirty solution for the login page.\nFeel free to correct me.\nThis https://laravel.com/docs/5.5/errors gave me an error.\nTherefore, I used the plain php error_log\n(https://gist.github.com/Gregory-K/8c8efdd4e4e03f29ca48981ff3e13478)\nstep 1\n/bootstrap/cache/compiled.php line 2470 & 2505\n```\n$this->validateLogin($request);\n$throttles = $this->isUsingThrottlesLoginsTrait();\nif ($throttles && ($lockedOut = $this->hasTooManyLoginAttempts($request))) {\n    error_log('login lockout'); // log auth lockout\n    $this->fireLockoutEvent($request);\n    return $this->sendLockoutResponse($request);\n}\n```\nprotected function getFailedLoginMessage()\n{\n    error_log('login failed'); // log auth failure\n    return Lang::has('auth.failed') ? Lang::get('auth.failed') : 'These credentials do not match our records.';\n}\nstep 2\n(Debian)\ncreate into /etc/fail2ban/filter.d/ a file invoiceninja.conf\n```\nRegex to match invoiceninja login\n[INCLUDES]\noverwrite with apache-common.local if _apache_error_client is incorrect.\nbefore = apache-common.conf\n[Definition]\nfailregex = ^%(_apache_error_client)s.login failed, referer.$\n            ^%(_apache_error_client)s.login lockout, referer.$\nignoreregex =\n```\nedit /etc/fail2ban/jail.local and add a jail for your invoiceninja virtualhost error log\n```\n[invoiceninja]\nenabled  = true\nfilter   = invoiceninja\nport     = http,https\nlogpath  = /var/log/apache/invoiceninja.com.error.log\nmaxretry = 3\n``\nwherelogpath  = /var/log/apache/invoiceninja.com.error.logtheerror.log` path of your invoiceninja vhost\nAs I said, I know nothing about the application and its framework.\nThe file /bootstrap/cache/compiled.php doesn't sit well with me (\"cache\". \"compiled\") but it works, for now.\nIf someone knows where the code should be, please inform us.\nIt is obvious that this is not a permanent solution. An invoiceninja developer would implement it in a much better way.. I know nothing about laravel and invoiceninja. I just started to use-test it.\nI think it is very important, especially for the self-hosted version, to log \"login failures\" and co-operate with fail2ban.\n@mannp I found a quick and dirty solution for the login page.\nFeel free to correct me.\nThis https://laravel.com/docs/5.5/errors gave me an error.\nTherefore, I used the plain php error_log\n(https://gist.github.com/Gregory-K/8c8efdd4e4e03f29ca48981ff3e13478)\nstep 1\n/bootstrap/cache/compiled.php line 2470 & 2505\n```\n$this->validateLogin($request);\n$throttles = $this->isUsingThrottlesLoginsTrait();\nif ($throttles && ($lockedOut = $this->hasTooManyLoginAttempts($request))) {\n    error_log('login lockout'); // log auth lockout\n    $this->fireLockoutEvent($request);\n    return $this->sendLockoutResponse($request);\n}\n```\nprotected function getFailedLoginMessage()\n{\n    error_log('login failed'); // log auth failure\n    return Lang::has('auth.failed') ? Lang::get('auth.failed') : 'These credentials do not match our records.';\n}\nstep 2\n(Debian)\ncreate into /etc/fail2ban/filter.d/ a file invoiceninja.conf\n```\nRegex to match invoiceninja login\n[INCLUDES]\noverwrite with apache-common.local if _apache_error_client is incorrect.\nbefore = apache-common.conf\n[Definition]\nfailregex = ^%(_apache_error_client)s.login failed, referer.$\n            ^%(_apache_error_client)s.login lockout, referer.$\nignoreregex =\n```\nedit /etc/fail2ban/jail.local and add a jail for your invoiceninja virtualhost error log\n```\n[invoiceninja]\nenabled  = true\nfilter   = invoiceninja\nport     = http,https\nlogpath  = /var/log/apache/invoiceninja.com.error.log\nmaxretry = 3\n``\nwherelogpath  = /var/log/apache/invoiceninja.com.error.logtheerror.log` path of your invoiceninja vhost\nAs I said, I know nothing about the application and its framework.\nThe file /bootstrap/cache/compiled.php doesn't sit well with me (\"cache\". \"compiled\") but it works, for now.\nIf someone knows where the code should be, please inform us.\nIt is obvious that this is not a permanent solution. An invoiceninja developer would implement it in a much better way.. ",
    "soipo": "Absolutely no, I am so sorry, that was a mistake of one of my developers.\nLuigi Laezza - Founder and Project Lead\nSoipoServices S.r.l.s. - Web Services\nII Trav. Via San Michele 20\n80063 Piano Di Sorrento NA, Italy\nP.I. IT08144551218\nMob +39 3381083717\nTel +39 081 18745308\nEmail: luigi@soiposervices.com\nWeb: soiposervices.com\n\nOn 11 Sep 2017, at 18:35, Hillel Coren notifications@github.com wrote:\nDid you mean to create this?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/invoiceninja/invoiceninja/pull/1658#issuecomment-328585690, or mute the thread https://github.com/notifications/unsubscribe-auth/ACXmryxhO5V6RK2gXzDK5yZNj_nd_Imcks5shWFggaJpZM4PTa1Q.\n\n\n. ",
    "novag": "Ref #1664 . I'm not sure if this behavior is generally wanted at all. But I needed it and I am happy about feedback.. Okay, I can understand that. It was just a quickfix for myself.\nIs there any general interest in hiding the article or service field if no value exists? Maybe I will look into again for a cleaner solution.. With getting the 'firstColumn' style item to the right position the bold design works fine.. Okay thanks anyway. According to the pdfmake examples the last style item should override the values of the items before. However in this case it did not work for me. Making 'firstColumn' the first item works.. ",
    "caygri": "Invoice ninja is merging with trello? How? . Really? But where i check new update? I dont receive Any pop up or email when i need update . Yes self hostess. Version 4.0.1. Ok i update immediatly . Sorry, how can add mollie on self hosted?. Actually I use stirpe. Is very interesting sofort and sepa. Thank You for your quickly reply! \ud83d\ude00. I see zammad...but some cms more popular? it's more easy found developer interested.. osticket good, but more light is hesk. And the founder it's a very kind person. . there is a little problem..how to install on a shared hosting?  OSticket, hesk are easy install without ssh server access. \nI think it's important do a simple strument and easy installation. . Wait, invoiceninja you can use without docker and it's easy install on softaoculus. \nWithout any developer know-how.\nJust one click install . i suggest some more easy and simple like install wordpress :). ok i got your point, \nBut if someone need to pay, we lost easy-to-use . what decision take developer team about ticket system? \nIntegrate some cms or make it?. I see that\u2019s why I ask! I\u2019m so happy. bad situation...in that way... \ud83d\udc4e \nit's very big limit...no one of my old cms for invoice doing this. \nI see work when i delete from db there isn't problem.\nThank You Hillel\n. I know but when i need to delete i mean \"delete\" maybe it's best add like 2 way:\n\ndelete permantly\ndelete and restore it\n\n. Is any way to add or clone Easy?\nIn Italy There is 2/3 type of offline payment . Good morning! \nNo no sorry for my translation. \nThe name of gateway are: Postepay, cash on delivery, and vaglia \nThis 3 gateways are similiar because are offline payment. And are only 3 text fields like bank wire.\nThe fields is:\nName\nNumber of card \nExtra fields (where You can add more information about) \nI think it Will be easy \u201ccopy\u201d module of bank wire.\nI hope now i explain better . no no it's totally different.\nExample I make an invoice of 1000\u20ac \nClient to start job pay firs 500\u20ac\nwhen i end other 500\u20ac \nI can decide when and how much pay \"now\" (when i creating invoice) and \"after\" (after +7, +14  days etc etc ) \nI hope now is more clear. mmm...how?. oh ok thank you! i think I understand what edit!. Update completed. See what it's new in Invoice Ninja 4.1.5 \nhow is possible?. just overwrite file?. i upload all file and removebootstrap/cache/compiled.php\nNow i have this error\nis_executable(): open_basedir restriction in effect. File(/opt/plesk/php/7.1/bin/php) is not within the allowed path(s): (/var/www/vhosts/caygri.it/:/tmp/). yes i try but i see always the error.\nI have also softacoulus.. how modify?\n. OK i resolve it.\nI explain all, maybe it's helpfull for other people.\n\nI installed and update from Softaoculus on Plesk\nI move domain installation in the same server with Softaoculus\nFiles are on domain.com and database on domain.it\nwhen i move database from .com to .it the upgrade go well. \n\nThank you for your help and i hope I helping someone.. no support ticket it's support, discussion is another. \nDiscussion is like issue on github. \nTake a demo of this maybe it's more easy to understand  \nhttps://i.imgur.com/2mcDnh2.jpg\nDiscussion is like issue in github, ticket are ticket.\n. i have plesk. \nAlso this error. \n```\n(70007)The timeout specified has expired: AH01075: Error dispatching request to : (reading input brigade), referer: https://caygri.it/admin/clients/client/82\n```\ni'm avaible to pay someone to fix. I don\u2019t know where I check. I ask to my hosting provider and he called error_log. But in errorlog the error I have it s just what I write in the first post. \nAlso the problem is only to open invoice. I install a fresh copy of invoice ninja and import old invoice, cclient and product. \nBut now i have this problem\nhttps://i.imgur.com/PknOm5i.jpg\nHow can i inser correct data? . with csv,\nwith database dump, i was afraid because it's seem are different version. And this is fresh installation. \nAlso i dont know what table dump. in this way i have the problem to open invoice and edit client . hosting provider tell me he hasn't and i dont know where found it :(. Here\n'[2018-05-13 08:17:55] production.ERROR: ***ErrorException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[42S02]: Base table or view not found: 1146 Table 'admin_ninj221.invoices' doesn't exist (SQL: select * frominvoiceswhereaccount_id= 1 order bypublic_iddesc limit 1) (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/accounts/invoice_settings.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"elena caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"settings/invoice_settings\"} []\n[2018-05-13 08:18:27] production.ERROR: ***ErrorException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid. (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php) (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/47/edit\"} []\n[2018-05-13 10:20:31] production.ERROR: ***ErrorException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid. (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php) (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/47/edit\"} []\n[2018-05-13 10:22:42] production.ERROR: ***ErrorException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid. (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php) (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/47/edit\"} []\n[2018-05-13 10:22:45] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"clients/60\"} []\n[2018-05-13 10:22:53] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"MY NAME\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":6,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"clients/36\"} []\n[2018-05-13 10:32:27] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"login\"} []\n[2018-05-13 10:42:30] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"clients/36\"} []\n[2018-05-13 10:59:43] production.ERROR: ***ErrorException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid. (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php) (View: /var/www/vhosts/caygri.it/httpdocs/clienti/resources/views/partials/email_templates.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/47/edit\"} []\n[2018-05-13 11:00:05] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Elena Caramanico\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"212.171.65.200\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"settings/online_payments\"} []\n[2018-05-13 17:27:50] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/caygri.it/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"88.149.198.108\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"view/kjai6sirae3lhcjk8iikl6xh0hbtlioc\"} []\n[2018-05-13 17:28:03] production.ERROR: ***Illuminate\\Contracts\\Encryption\\DecryptException*** [0] : /var/www/vhosts/NAMESITE/httpdocs/clienti/vendor/laravel/framework/src/Illuminate/Encryption/Encrypter.php [Line 184] => The MAC is invalid.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.139 Safari/537.36\",\"locale\":\"it\",\"ip\":\"88.149.198.108\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"view/kjai6sirae3lhcjk8iikl6xh0hbtlioc\"} []\nit's this?. yes it is. i dont change nothing, ask only the upgrad with softacoulous. i dont know why i not receive email anymore...sorry for delay.\nFrom 4.3.1. in old installation right?. i have 2 installation i prefer the old because i haven't wrong statistics. \nbut really not working. . I'm pretty sure there is problem with Softaculous. \nWhen i reinstall on the same domain, the installation it's corrupted. Event if i change path installation.\nI export client, invoice, product and migrate it on the installation on other domain in a new clean installation.\n. i havent specific error, because all start from softocoulus. I contact their support it's an error of installation. \n. So I have stripe avaible so i can't use gocardless? i understand well?\n. ok thank you! . Here \n```\n[2018-08-21 10:12:16] production.ERROR: Expected response code 250 but got code \"\", with message \"\"  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"MY NAME\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\",\"locale\":\"it\",\"ip\":\"79.22.177.140\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"setup\"} []\n[2018-08-21 10:12:29] production.ERROR: Expected response code 250 but got code \"\", with message \"\"  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"MY NAME\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\",\"locale\":\"it\",\"ip\":\"79.22.177.140\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"setup\"} []\n[2018-08-23 09:42:42] production.ERROR: ErrorException [0] : /var/www/vhosts/serveroutlet.it/httpdocs/ninja/vendor/symfony/process/PhpExecutableFinder.php [Line 65] => is_executable(): open_basedir restriction in effect. File(/opt/plesk/php/7.2/bin/php) is not within the allowed path(s): (/var/www/vhosts/serveroutlet.it/:/tmp/)  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"user_agent\":\"Softaculous\",\"locale\":\"en\",\"ip\":\"85.93.91.163\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"update\"} []\n```\n. I'm confuse...i dont touch anyhing..not change or edit file or database...\nyou suggest me to  edit database detail? . i open .env file and it's ok..  problem is still the same.... yes! all this year! i try to install a new fresh installation and appear the same error.. . i'm in panic because this is the period of payment and in less in one year invoiceninja it's the 2nd time of this problem...i'm worried because client receive invoice but cant pay. \nI'm avaible to pay you but fix it.  It's pretty urgent.. did it..reply is all ok.. ",
    "malkesh": "Recently while migrating database in new invoiceninja set up, I need to set default value to 0 in file(2017_08_14_085334_increase_precision.php) for following lines:\n$table->decimal('qty', 15, 4)->change();\n$table->decimal('qty', 15, 4)->change();\nI am using MariaDB version 10.2.11.. ",
    "andreapx": "Very helpful!. It would be so useful!. I did, but it list just the tasks, not the time tracked in each task.\nAll my task have multiple time tracked, what I need is a list of all the time tracked. ",
    "zploskey": "Fixed in e42104b.. I'm familiar with Transifex and use it on another project. As far as I know there is no way through the Transifex web interface to change (or suggest changes to) source strings in the base language for translation. Typically you modify the source strings in the source code. The intention of this PR is to at least change the source string.\nThis PR does not only edit translations. It changes a variable name, which is misspelled in a few places, and it changes the text of this word for the en locale. I'm happy to remove the changes for existing translations that are not translated at all, and so use the misspelled English word, but these will need to be changed through Transifex anyway.\nShould I modify the PR to remove all edits under resources/lang/en/ except for resources/lang/en/texts.php, and keep the other changes to the variable names?. Sounds good. I think it might be easiest to push both the source file and translations to Transifex after making this change in the code, i.e. tx push -s -t. I'd rather not register for all those languages.. ",
    "linkyone": "Thanks for understanding. If you could point me in the right direction, I would gladly look into trying to contribute to your code.. That worked! And wow, that was a fast response! Thank you very much!. ",
    "mamayer": "+1 I'd like to use that, too.. Thank you for that info, thats really handy.. @hillelcoren Is there a way to hide the QR-code, if $customTextValue1 is empty? If I don't enter an URL, a broken QR-Code will be placed on the invoice.\nSadly it's not possible to use placeholders in these PDF-strings at the moment, thus it's not possible to generate the URL of the QR code in an invoice:\nbank://singlepaymentsepa?name={$client.name}&reason=Invoice%20{$invoiceNumber}%10%{$invoiceDate}&iban=XX00123412341234123400&bic=DEXXXXXX123&amount={$balance}\neg.\nbank://singlepaymentsepa?name=JOHN%20DOE&reason=Invoice%2012345%2008.10.2017&iban=XX00123412341234123400&bic=DEXXXXXX123&amount=1234%2C56. It will be much easier to solve this when HTML and placeholders are allowed, because I'm than able to embed a QR from somewhere else or redirect to another page.\n(#1700 and #1701). ",
    "julianuphoff": "My stripe account is verified and SEPA is enabled. So I hope I can help to test the code. . Maybe this explanation helps: Currently imvpiveninja adds eg. 10%. The payment provider calculates it fees based on the total amount and not your original amount without the fees. \n100$ * (100% + 10%) * (100% - 10%) = 99$ \n. My account is marked as the owner of this company, so I should have all permissions.\nI've tried to enable debug in the settings. The page is still white but in the html output debug information is shown:\n```\n{\n   \"__meta\":{\n      \"id\":\"1cb0d974daa85834764e97c8a05689ee\",\n      \"datetime\":\"2018-07-03 10:28:52\",\n      \"utime\":1530613732.8441,\n      \"method\":\"GET\",\n      \"uri\":\"\\/tasks\\/3\\/edit\",\n      \"ip\":\"XXXXXXXXXX\"\n   },\n   \"php\":{\n      \"version\":\"7.0.30-0ubuntu0.16.04.1\",\n      \"interface\":\"apache2handler\"\n   },\n   \"messages\":{\n      \"count\":0,\n      \"messages\":[  \n  ]\n\n},\n   \"time\":{\n      \"start\":1530613732.803,\n      \"end\":1530613732.8441,\n      \"duration\":0.041134119033813,\n      \"duration_str\":\"41.13ms\",\n      \"measures\":[\n         {\n            \"label\":\"Booting\",\n            \"start\":1530613732.803,\n            \"relative_start\":0,\n            \"end\":1530613732.8182,\n            \"relative_end\":1530613732.8182,\n            \"duration\":0.015217065811157,\n            \"duration_str\":\"15.22ms\",\n            \"params\":[  \n        ],\n        \"collector\":null\n     },\n     {  \n        \"label\":\"Application\",\n        \"start\":1530613732.809,\n        \"relative_start\":0.0059671401977539,\n        \"end\":1530613732.8441,\n        \"relative_end\":1.9073486328125e-6,\n        \"duration\":0.035168886184692,\n        \"duration_str\":\"35.17ms\",\n        \"params\":[\n\n        ],\n        \"collector\":null\n     }\n  ]\n\n},\n   \"memory\":{\n      \"peak_usage\":4194304,\n      \"peak_usage_str\":\"4MB\"\n   },\n   \"exceptions\":{\n      \"count\":0,\n      \"exceptions\":[  \n  ]\n\n},\n   \"views\":{\n      \"nb_templates\":1,\n      \"templates\":[\n         {\n            \"name\":\"tasks.edit (resources\\/views\\/tasks\\/edit.blade.php)\",\n            \"param_count\":14,\n            \"params\":[\n               \"task\",\n               \"entity\",\n               \"clientPublicId\",\n               \"projectPublicId\",\n               \"method\",\n               \"url\",\n               \"title\",\n               \"actions\",\n               \"timezone\",\n               \"datetimeFormat\",\n               \"clients\",\n               \"account\",\n               \"projects\",\n               \"appLanguage\"\n            ],\n            \"type\":\"blade\"\n         }\n      ]\n   },\n   \"route\":{\n      \"uri\":\"GET tasks\\/{tasks}\\/edit\",\n      \"middleware\":\"web, lookup:user, auth:user\",\n      \"as\":\"tasks.edit\",\n      \"controller\":\"App\\Http\\Controllers\\TaskController@edit\",\n      \"namespace\":\"App\\Http\\Controllers\",\n      \"prefix\":null,\n      \"where\":[  \n  ],\n  \"file\":\"app\\/Http\\/Controllers\\/TaskController.php:150-197\"\n\n},\n   \"queries\":{\n      \"nb_statements\":16,\n      \"nb_failed_statements\":0,\n      \"accumulated_duration\":0.0037,\n      \"accumulated_duration_str\":\"3.7ms\",\n      \"statements\":[\n         {\n            \"sql\":\"select * from information_schema.tables where table_schema = 'ninjadb' and table_name = 'accounts'\",\n            \"type\":\"query\",\n            \"params\":[  \n        ],\n        \"bindings\":[  \n           \"ninjadb\",\n           \"accounts\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00111,\n        \"duration_str\":\"1.11ms\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `users` where `id` = '1' and `users`.`deleted_at` is null limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"1\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.0002,\n        \"duration_str\":\"200\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `accounts` where `accounts`.`id` = '1' and `accounts`.`deleted_at` is null limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"1\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00044,\n        \"duration_str\":\"440\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `companies` where `companies`.`id` = '1' and `companies`.`deleted_at` is null limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"1\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00025,\n        \"duration_str\":\"250\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `languages` where `languages`.`id` = '3' limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"3\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00012,\n        \"duration_str\":\"120\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `tasks` where `tasks`.`account_id` = '1' and `public_id` = '3' limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"1\",\n           \"3\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00027,\n        \"duration_str\":\"270\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `clients` where `clients`.`id` = '4' limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"4\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00017,\n        \"duration_str\":\"170\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `timezones` where `timezones`.`id` = '36' limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"36\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":9.0e-5,\n        \"duration_str\":\"90\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `invoices` where `invoices`.`id` = '29' and `invoices`.`deleted_at` is null limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"29\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00015,\n        \"duration_str\":\"150\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `projects` where `projects`.`id` = '2' limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"2\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.0001,\n        \"duration_str\":\"100\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `datetime_formats` where `datetime_formats`.`id` = '12' limit 1\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"12\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\",\n           \"<code>LIMIT<\\/code> without <code>ORDER BY<\\/code> causes non-deterministic results, depending on the query execution plan\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00011,\n        \"duration_str\":\"110\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `clients` where `clients`.`account_id` = '1' and (`deleted_at` is null or `id` = '4') order by `name` asc\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"1\",\n           \"4\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00018,\n        \"duration_str\":\"180\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `contacts` where `contacts`.`client_id` in ('2', '3', '4', '8') and `contacts`.`deleted_at` is null\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"2\",\n           \"3\",\n           \"4\",\n           \"8\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00015,\n        \"duration_str\":\"150\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `projects` where `projects`.`account_id` = '1' and (`deleted_at` is null or `id` = '2') order by `name` asc\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"1\",\n           \"2\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00011,\n        \"duration_str\":\"110\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `clients` where `clients`.`id` in ('4')\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"4\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00013,\n        \"duration_str\":\"130\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     },\n     {  \n        \"sql\":\"select * from `contacts` where `contacts`.`client_id` in ('4') and `contacts`.`deleted_at` is null\",\n        \"type\":\"query\",\n        \"params\":[\n\n        ],\n        \"bindings\":[  \n           \"4\"\n        ],\n        \"hints\":[  \n           \"Use <code>SELECT *<\\/code> only if you need all columns from table\"\n        ],\n        \"backtrace\":[\n\n        ],\n        \"duration\":0.00012,\n        \"duration_str\":\"120\\u03bcs\",\n        \"stmt_id\":\"\",\n        \"connection\":\"ninjadb\"\n     }\n  ]\n\n},\n   \"swiftmailer_mails\":{\n      \"count\":0,\n      \"mails\":[  \n  ]\n\n},\n   \"session\":{\n      \"_flash\":\"array:2 [\\n  \\\"new\\\" => []\\n  \\\"old\\\" => []\\n]\",\n      \"_token\":\"XXXXXXXXXX\",\n      \"_previous\":\"array:1 [\\n  \\\"url\\\" => \\\"https:\\/\\/invoice.example.com\\/tasks\\/3\\/edit\\\"\\n]\",\n      \"SESSION_LAST_REQUEST_PAGE\":\"clients\\/4\",\n      \"SESSION_LAST_REQUEST_TIME\":\"1530613564.5934\",\n      \"login_user_59ba36addc2b2f9401580f014c7f58ea4e30989d\":\"1\",\n      \"timezone\":\"Europe\\/Berlin\",\n      \"dateFormat\":\"d.m.Y\",\n      \"datePickerFormat\":\"dd.mm.yyyy\",\n      \"currency\":\"3\",\n      \"currency_decorator\":\"symbol\",\n      \"sessionLocale\":\"de\",\n      \"datetimeFormat\":\"j. M. Y H:i\",\n      \"start_of_week\":\"1\",\n      \"userAccounts\":\"XXXXXXXXXX\",\n      \"recent_history\":\"XXXXXXXXXX\",\n      \"dbServer\":\"mysql\",\n      \"sessionCounter\":\"27\",\n      \"news_feed_id\":\"2\",\n      \"DEBUG_INFO\":\"App Version: v4.4.3\\nWhite Label: No - XXXXXXXXXX\",\n      \"PHPDEBUGBAR_STACK_DATA\":\"[]\"\n   },\n   \"request\":{\n      \"format\":\"html\",\n      \"content_type\":\"text\\/html; charset=UTF-8\",\n      \"status_text\":\"OK\",\n      \"status_code\":\"200\",\n      \"request_query\":\"[]\",\n      \"request_request\":\"[]\",\n      \"request_headers\":\"XXXXXXXXXX\",\n      \"request_cookies\":\"array:4 [\\n  \\\"__cfduid\\\" => null\\n  \\\"cookieconsent_status\\\" => null\\n  \\\"XSRF-TOKEN\\\" => \\\"XXXXXXXXXX\\\"\\n  \\\"ninja_session\\\" => \\\"XXXXXXXXXX\\\"\\n]\",\n      \"response_headers\":\"XXXXXXXXXX\",\n      \"path_info\":\"\\/tasks\\/3\\/edit\",\n      \"session_attributes\":\"XXXXXXXXXX\"\n   }\n}\n```. ",
    "christophcemper": "Yes, want this, too. ",
    "jesse-deboer": "Would love to have this feature, exactly the same as SOFORT as told by @rjd22!\nMollie is not a complete solution, because the problem is that you cannot setup fees per payment option in Mollie, while this is possible with Stripe. Also it is not possible to use Mollie and Stripe at the same time.\nAlso Stripe has lower fees for Credit Card.. ",
    "dimitrivisser": "Is there the possibility to implement this? Mollie is not an option for me, too much restrictions. It would be much better if IDEAL was supported with Stripe .... ",
    "slogsdon": "@hillelcoren Thanks for the quick response. I've submitted #1687 to address this.. ",
    "aleifuu": "never mind. this was error on mine. closed. ",
    "GPConnect": "hello guys, how to run php artisan ninja:update-key with the docker installation version ? Thanks. Yes, i followed the tutorial to install the server using docker myself !\nLe dim. 15 oct. 2017 \u00e0 01:00, Hillel Coren notifications@github.com a\n\u00e9crit :\n\nI'm not sure, are you able to SSH into the Docker server?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1699#issuecomment-336686657,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYrJL0tkBwPiuwUQAYlVkgIfGTBwYOhUks5ssZFbgaJpZM4Pxh3S\n.\n. The command is not recognized by the terminal !\n\nLe dim. 15 oct. 2017 \u00e0 01:07, Hillel Coren notifications@github.com a\n\u00e9crit :\n\nIf you can SSH into the server what's the challenge running the command?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1699#issuecomment-336686927,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYrJL6fQamMZRN0c3OaDBlVx2k09e1LFks5ssZL2gaJpZM4Pxh3S\n.\n. Where is the root folder of the  codebase ? I tried to run the command in\nthe persistent storage I created for the docker install but still not\nworking !\n\nLe dim. 15 oct. 2017 \u00e0 01:09, Hillel Coren notifications@github.com a\n\u00e9crit :\n\nAre you running it from the root folder of the codebase?\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1699#issuecomment-336687030,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYrJL91DSaA0mzSEF-TrTF4WgvtFUmdUks5ssZObgaJpZM4Pxh3S\n.\n. I will try later to get inside the container and let you know !\n\nLe dim. 15 oct. 2017 \u00e0 02:04, Jon notifications@github.com a \u00e9crit :\n\n@GPConnect https://github.com/gpconnect It sounds like you SSHed into\nyour Docker host, but then didn't SSH into your Docker container. You\nshould be running a command like: sudo docker run -it\ninvoiceninja/invoiceninja bash. This should drop you in /var/www/app,\nwhere you can run artisan.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1699#issuecomment-336688904,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYrJL_5SUZsfYfm3oFetelncvvQ1OMhOks5ssaCEgaJpZM4Pxh3S\n.\n. \n\nHere the result of the command ! . crazy because the sotfware is running fine (creating clients and invoices) i guess the app_key if for clients portal and payment gateway services i do not use for now but this php annotation get on my nerve !. what can i do now ?\n2017-10-15 11:47 GMT-04:00 Samuel Laulhau notifications@github.com:\n\nIt seems that your container can't connect to the database\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1699#issuecomment-336720578,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AYrJL_UDoyGCeQC4qS-EvwHRXIWk4GNsks5ssikngaJpZM4Pxh3S\n.\n. \n",
    "egotom": "Thank you very much for your kindly reply. It is indeed the problem of my font setting. Your reply help me solve it perfectly.. ",
    "sirideain": "For handling logins into the system itself. Currently, it looks like Google, Facebook, LinkedIn, and GitHub are supported. Is there a generic option that I am missing so that I could use a different provider for my user accounts?. Looks like not in the official setup, but I did find a plugin somebody wrote. Adding it here in case others look for it.\nhttps://github.com/lesaff/SocialiteProvider-Auth0. ",
    "Exellent1988": "I would also be interessted in DKB but N26 would be awesome. ",
    "ben182": "N26 would be super awesome.  So many people are using it as their business account. ",
    "maikst": "N26 import would be great\nhttps://n26.com/. +1. +1. +1. ",
    "snics": "What of course is also a good bank that could use an integration would be Penta Bank. @hillelcoren thanks the non-active white label license was the problem after nine activations it works again.. ",
    "kintaro1981": "yes, can be a temporary good solution.\nhow about an (optional) default value for it?. thank you @hillelcoren, I just read that topic but what I was asking is, for example, how to change the format of the data inside $accountAddress and not to move the whole $accountAddress.. is there a list of all the variable I can use?\nis it possible to use a language variable for strings like \"VAT Number\"?. \ud83e\udd23  why I didn't click on \"HELP\" \ud83d\ude06 . Start date in the future and cron configurated.\nSo I don\u2019t have to mark as ready?. no one is interested in this? \ud83d\ude1e . I can't really understand why no one is interested in this. I think it's a basic feature for an invoice system... is not? \ud83d\ude22 \n@hillelcoren ?. Examples:\n- different types of invoices for local or abroad customers with different info/taxes in it\n- Sports clubs that need to have different type of invoice/receipt for different types of customers (under18 or over18). . > there are some plans to introduce the support to the Italian e-invoice?\n\nhttps://www.agenziaentrate.gov.it/wps/content/Nsilib/Nsi/Schede/Comunicazioni/Fatture+e+corrispettivi/Fatture+e+corrispettivi+ST/ST+invio+di+fatturazione+elettronica/?page=ivacomimp\n\nany news about that?. ",
    "kforcecomputersolutions": "Is this a Gmail problem then?. Thanks, I tried with Outlook and this is working perfectly! . Thank you very much!. ",
    "ProDigySML": "@turbo124 I am using Version 61.0.3163.100 (Official Build) (64-bit) too. \nI just realised I missed something in the payload, can you please try this one out?\n</script><img src=x onerror=alert(1)>\nSorry about that mistake. I missed adding in the event handler.... @turbo124 Apologies for this inconvenience, but can you please try to select the client with the malicious payloads stored when creating the invoice? That should trigger it. If that doesn't work, Ill make a step by step PoC to ensure it is verifiable... :)\n. ",
    "jsdecena": "This is really useful like that of invoicely. Oh, there it is. Thanks so much!. ",
    "jordantrizz": "Thanks @hillelcoren I'm starting to use Tasks more and more, and really do like the function and now understand why it exists. \nThere is just one thing I noticed. If I already have an invoice that has been sent to a client for payment and hasn't been paid. And I do more work for the client and add a new task and want to invoice the task. I can't tell if the existing invoice is the one that hasn't been paid or if I need to generate a new invoice. I could come back and invoice the task later when I go to invoice the client I guess.. Yup, I noticed that, but it doesn't show the invoice status of the invoice. For instance, I don't want to add a task to an invoice that has already been sent to a client for payment. So showing \"Sent\" next to an invoice would be a nice improvement.. ",
    "flipsidecreations": "I don't understand the use case for having different ranges, perhaps people would be interested if there was an understanding of how that helps the workflow.  . This project, https://slimerjs.org/ could be a possible replacement. It is similar to PhantomJs, except that it runs on top of Gecko instead of Webkit. . Problem resolved, I caused the issue by changing the class names in the proposal template from .c1095 to .Title I redid the template and let the system choose the naming schema and it is working fine now.. ",
    "sascha-schieferdecker": "@lalop No, I'm not using docker. I'll try to update to 3.9.2 tonight and take a look at the content of \"gateway_types\".. After running the update to 3.9.2 the issue is not present anymore. From my point of view it can be closed. The table gateway_types contains the records as stated above.. ",
    "josdejong": "Ah sorry! I've changed the base to develop . I see you already updated the version number :+1: will close this PR\nEDIT: Oops, I saw an old comment halfway The PR \"OK, thanks I updated manually.\"\nHere you go, different PR: https://github.com/invoiceninja/invoiceninja/pull/1742\nNote that there are more \"*\" versions in the bower.json file, you may want to change these too.. ",
    "erichk4": "sorry, was not clear enough...\nwhat i mean is: if i export the expenses from reports->expense->zip archive, the included documents are named this way\nfor example:\n2017-11-16_Expense_10_Doc_123123123.pdf\n2017-11-16_Expense_9_ANotherDoc_34534523.pdf\n2017-11-16_Expense_8_ANotherDoc_er2345r.pdf\nfor better sorting and overview the sequence number could be padded like so:\n2017-11-16_Expense_00010_Doc_123123123.pdf\n2017-11-16_Expense_00009_ANotherDoc_34534523.pdf\n2017-11-16_Expense_00008_ANotherDoc_er2345r.pdf\njust a thought.... no errors in storage/logs/laravel-error.log. also nothing in the webserver error log...\ngmp module is enabled (webserver nginx 1.12.2, php 7.0.26, GMP version 6.0.0)\n. good hint!\nyes, one invoice with attachment\nstrange thing is:\n- just for testing i added another document to a different invoice and suddenly the zip-export works\n- then deleted the last attached file and zip-export is still working...\nbtw. i expected a totally wrong result: i thought, that i will get a zip with all invoices as pdf for the desired date range... maybe a new feature  for a upcoming version?\nthanks anyway!\n. ",
    "impeto": "I don't think what you are trying to do is legal (I mean from an accounting perspective, I know in Romania everything is legal). From an accounting point of view you would have to have two invoices with the same id (illegal). There is also the problem of calculating various metrics like total revenue etc.. ",
    "suculent": "You must state the target/destination currency including conversion rate and therefore issue two copies of same document (same ID), just fulfilling valid information for both jurisdictions.. I went with default and installed only paypal with composer. \nOdesl\u00e1no z iPhonu\n\n\n\n2018 v 14:45, Hillel Coren notifications@github.com:\n\n\n\n\nHave you enabled Braintree? It would hide the PayPal option.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. How do you remove braintree? There are also some private repos included.\n\n```\nSending build context to Docker daemon 12.71 MB\nStep 1/17 : FROM php:7.0-fpm\n ---> 99b3a8aba455\nStep 2/17 : MAINTAINER Samuel Laulhau sam@lalop.co\n ---> Using cache\n ---> 629a03865252\nStep 3/17 : ENV PHANTOMJS phantomjs-2.1.1-linux-x86_64\n ---> Using cache\n ---> 091e96f995dc\nStep 4/17 : RUN apt-get update     && apt-get install -y --no-install-recommends         libmcrypt-dev zlib1g-dev git libgmp-dev         libfreetype6-dev libjpeg62-turbo-dev libpng12-dev         build-essential chrpath libssl-dev libxft-dev         libfreetype6 libfontconfig1 libfontconfig1-dev     && ln -s /usr/include/x86_64-linux-gnu/gmp.h /usr/local/include/     && docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/     && docker-php-ext-configure gmp     && docker-php-ext-install iconv mcrypt mbstring pdo pdo_mysql zip gd gmp opcache     && curl -o ${PHANTOMJS}.tar.bz2 -SL https://bitbucket.org/ariya/phantomjs/downloads/${PHANTOMJS}.tar.bz2     && tar xvjf ${PHANTOMJS}.tar.bz2     && rm ${PHANTOMJS}.tar.bz2     && mv ${PHANTOMJS} /usr/local/share     && ln -sf /usr/local/share/${PHANTOMJS}/bin/phantomjs /usr/local/bin     && rm -rf /var/lib/apt/lists/*\n ---> Using cache\n ---> 41f7d938aebf\nStep 5/17 : RUN {       echo 'opcache.memory_consumption=128';      echo 'opcache.interned_strings_buffer=8';       echo 'opcache.max_accelerated_files=4000';      echo 'opcache.revalidate_freq=60';      echo 'opcache.fast_shutdown=1';         echo 'opcache.enable_cli=1'; } > /usr/local/etc/php/conf.d/opcache-recommended.ini\n ---> Using cache\n ---> d450535a7454\nStep 6/17 : RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer\n ---> Using cache\n ---> e058a34aa556\nStep 7/17 : ENV INVOICENINJA_VERSION 4.2.2\n ---> Using cache\n ---> 9a1f2e55d949\nStep 8/17 : RUN curl -o invoiceninja.tar.gz -SL https://github.com/hillelcoren/invoice-ninja/archive/v${INVOICENINJA_VERSION}.tar.gz     && tar -xzf invoiceninja.tar.gz -C /var/www/     && rm invoiceninja.tar.gz     && mv /var/www/invoiceninja-${INVOICENINJA_VERSION} /var/www/app     && chown -R www-data:www-data /var/www/app     && composer install --working-dir /var/www/app -o --no-dev --no-interaction --no-progress     && composer require --working-dir /var/www/app omnipay/coinbase     && composer require --working-dir /var/www/app omnipay/paypal:~2.0     && chown -R www-data:www-data /var/www/app/bootstrap/cache     && mv /var/www/app/storage /var/www/app/docker-backup-storage     && mv /var/www/app/public /var/www/app/docker-backup-public     && rm -rf /var/www/app/docs /var/www/app/tests\n ---> Running in 2ea929029753\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   132    0   132    0     0    299      0 --:--:-- --:--:-- --:--:--   300\n100   133    0   133    0     0    218      0 --:--:-- --:--:-- --:--:--   218\n100 81.4M    0 81.4M    0     0  7169k      0 --:--:--  0:00:11 --:--:-- 8020k\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\nLoading composer repositories with package information\nInstalling dependencies from lock file\nWarning: The lock file is not up to date with the latest changes in composer.json. You may be getting outdated dependencies. Run update to update them.\nPackage operations: 194 installs, 0 updates, 0 removals\n  - Installing symfony/polyfill-mbstring (v1.6.0): Downloading (100%)\n  - Installing symfony/http-foundation (v3.1.10): Downloading (100%)\n  - Installing symfony/event-dispatcher (v2.8.33): Downloading (100%)\n  - Installing guzzle/guzzle (v3.9.3): Downloading (100%)\n  - Installing omnipay/common (2.5.2): Downloading (100%)\n  - Installing alfaproject/omnipay-skrill (dev-master f90a185): Downloading (100%)\n  - Installing vlucas/phpdotenv (v2.4.0): Downloading (100%)\n  - Installing symfony/var-dumper (v3.1.10): Downloading (100%)\n  - Installing symfony/translation (v3.1.10): Downloading (100%)\n  - Installing symfony/routing (v3.1.10): Downloading (100%)\n  - Installing symfony/process (v3.1.10): Downloading (100%)\n  - Installing psr/log (1.0.2): Downloading (100%)\n  - Installing symfony/debug (v3.1.10): Downloading (100%)\n  - Installing symfony/http-kernel (v3.1.10): Downloading (100%)\n  - Installing symfony/finder (v3.1.10): Downloading (100%)\n  - Installing symfony/console (v3.1.10): Downloading (100%)\n  - Installing swiftmailer/swiftmailer (v5.4.8): Downloading (100%)\n  - Installing paragonie/random_compat (v2.0.11): Downloading (100%)\n  - Installing ramsey/uuid (3.7.2): Downloading (100%)\n  - Installing nikic/php-parser (v3.1.3): Downloading (100%)\n  - Installing jakub-onderka/php-console-color (0.1): Downloading (100%)\n  - Installing jakub-onderka/php-console-highlighter (v0.3.2): Downloading (100%)\n  - Installing dnoegel/php-xdg-base-dir (0.1): Downloading (100%)\n  - Installing psy/psysh (v0.8.17): Downloading (100%)\n  - Installing nesbot/carbon (1.22.1): Downloading (100%)\n  - Installing mtdowling/cron-expression (v1.2.1): Downloading (100%)\n  - Installing monolog/monolog (1.23.0): Downloading (100%)\n  - Installing league/flysystem (1.0.41): Downloading (100%)\n  - Installing symfony/polyfill-util (v1.6.0): Downloading (100%)\n  - Installing symfony/polyfill-php56 (v1.6.0): Downloading (100%)\n  - Installing jeremeamia/superclosure (2.3.0): Downloading (100%)\n  - Installing doctrine/inflector (v1.2.0): Downloading (100%)\n  - Installing classpreloader/classpreloader (3.2.0): Downloading (100%)\n  - Installing laravel/framework (v5.3.31): Downloading (100%)\n  - Installing anahkiasen/html-object (1.4.4): Downloading (100%)\n  - Installing anahkiasen/former (4.1.6): Downloading (100%)\n  - Installing asgrim/ofxparser (1.2.1): Downloading (100%)\n  - Installing bacon/bacon-qr-code (1.0.3): Downloading (100%)\n  - Installing barracudanetworks/archivestream-php (1.0.5): Downloading (100%)\n  - Installing barryvdh/laravel-cors (v0.9.3): Downloading (100%)\n  - Installing maximebf/debugbar (1.13.1): Downloading (100%)\n  - Installing barryvdh/laravel-debugbar (v2.4.3): Downloading (100%)\n  - Installing symfony/class-loader (v3.4.3): Downloading (100%)\n  - Installing barryvdh/reflection-docblock (v2.0.4): Downloading (100%)\n  - Installing barryvdh/laravel-ide-helper (v2.4.1): Downloading (100%)\n  - Installing cerdic/css-tidy (v1.5.6): Downloading (100%)\n  - Installing chumper/datatable (dev-develop 04ef2bf): Downloading (100%)\n  - Installing sabre/uri (2.1.1): Downloading (100%)\n  - Installing sabre/xml (1.5.0): Downloading (100%)\n  - Installing cleverit/ubl_invoice (v1.0.1): Downloading (100%)\n  - Installing psr/http-message (1.0.1): Downloading (100%)\n  - Installing guzzlehttp/psr7 (1.4.2): Downloading (100%)\n  - Installing guzzlehttp/promises (v1.3.1): Downloading (100%)\n  - Installing guzzlehttp/guzzle (6.3.0): Downloading (100%)\n  - Installing codedge/laravel-selfupdater (5.x-dev 084a1dd): Downloading (100%)\n  - Installing collizo4sky/omnipay-wepay (dev-address-fix 942f3e0): Downloading (100%)\n  - Installing delatbabel/omnipay-fatzebra (dev-master e78ac21): Downloading (100%)\n  - Installing true/punycode (v2.1.1): Downloading (100%)\n  - Installing league/url (3.3.5): Downloading (100%)\n  - Installing dercoder/omnipay-paysafecard (dev-master 9fce03e): Downloading (100%)\n  - Installing gocardless/gocardless-pro (1.4.0): Downloading (100%)\n  - Installing digitickets/omnipay-gocardlessv2 (dev-payment-fix 4eb63d8): Downloading (100%)\n  - Installing doctrine/cache (v1.6.2): Downloading (100%)\n  - Installing doctrine/lexer (v1.0.1): Downloading (100%)\n  - Installing doctrine/collections (v1.4.0): Downloading (100%)\n  - Installing doctrine/annotations (v1.4.0): Downloading (100%)\n  - Installing doctrine/common (v2.7.3): Downloading (100%)\n  - Installing doctrine/dbal (v2.5.13): Downloading (100%)\n  - Installing dwolla/omnipay-dwolla (dev-master f58af83): Downloading (100%)\n  - Installing ezyang/htmlpurifier (v4.9.3): Downloading (100%)\n  - Installing fzaninotto/faker (v1.7.1): Downloading (100%)\n  - Installing gatepay/fedachdir (dev-master origin/master): Downloading    Failed to download gatepay/FedACHdir from dist: The \"https://codeload.github.com/gatepay/FedACHdir/legacy.zip/origin/master\" file could not be downloaded (HTTP/1.1 404 Not Found)\n    Now trying to download from source\n  - Installing gatepay/fedachdir (dev-master origin/master): Cloning origin/master\n  - Installing phpseclib/phpseclib (2.0.9): Downloading (100%)\n  - Installing psr/cache (1.0.1): Downloading (100%)\n  - Installing firebase/php-jwt (v5.0.0): Downloading (100%)\n  - Installing google/auth (v1.2.0): Downloading (100%)\n  - Installing google/apiclient-services (v0.42): Downloading (100%)\n  - Installing google/apiclient (v2.2.1): Downloading (100%)\n  - Installing rize/uri-template (0.3.2): Downloading (100%)\n  - Installing google/protobuf (v3.5.1.1): Downloading (100%)\n  - Installing google/proto-client (0.29.0): Downloading (100%)\n  - Installing grpc/grpc (1.6.0): Downloading (100%)\n  - Installing google/gax (0.29.0): Downloading (100%)\n  - Installing google/cloud (v0.51.0): Downloading (100%)\n  - Installing intervention/image (dev-master a54d1e9): Downloading (100%)\n  - Installing vink/omnipay-komoju (v1.0): Downloading (100%)\n  - Installing softcommerce/omnipay-paytrace (v1.2.1): Downloading (100%)\n  - Installing omnipay/stripe (dev-master 26a3341): Downloading (100%)\n  - Installing omnipay/worldpay (v2.2.2): Downloading (100%)\n  - Installing omnipay/targetpay (v2.2.1): Downloading (100%)\n  - Installing omnipay/securepay (v2.1.1): Downloading (100%)\n  - Installing omnipay/sagepay (2.5.1): Downloading (100%)\n  - Installing omnipay/pin (v2.2.2): Downloading (100%)\n  - Installing omnipay/paypal (v2.6.4): Downloading (100%)\n  - Installing omnipay/paymentexpress (v2.2.1): Downloading (100%)\n  - Installing omnipay/payflow (v2.3): Downloading (100%)\n  - Installing omnipay/payfast (v2.1.3): Downloading (100%)\n  - Installing omnipay/netbanx (v2.2): Downloading (100%)\n  - Installing omnipay/netaxept (v2.3.0): Downloading (100%)\n  - Installing omnipay/multisafepay (v2.3.6): Downloading (100%)\n  - Installing omnipay/mollie (v3.2.0): Downloading (100%)\n  - Installing omnipay/migs (v2.2.2): Downloading (100%)\n  - Installing omnipay/manual (v2.2.1): Downloading (100%)\n  - Installing omnipay/gocardless (dev-master f4f7079): Downloading (100%)\n  - Installing omnipay/firstdata (v2.4.0): Downloading (100%)\n  - Installing omnipay/eway (v2.2.1): Downloading (100%)\n  - Installing omnipay/dummy (v2.1.2): Downloading (100%)\n  - Installing omnipay/coinbase (v2.0.4): Downloading (100%)\n  - Installing omnipay/cardsave (2.1.2): Downloading (100%)\n  - Installing omnipay/buckaroo (v2.2.0): Downloading (100%)\n  - Installing omnipay/authorizenet (dev-solution-id 56e9f74): Downloading (100%)\n  - Installing omnipay/2checkout (dev-master b27d282): Downloading (100%)\n  - Installing braintree/braintree_php (3.26.1): Downloading (100%)\n  - Installing omnipay/braintree (dev-master 54846f2): Downloading (100%)\n  - Installing omnipay/bitpay (dev-master 9cadfb7): Downloading (100%)\n  - Installing mfauveau/omnipay-pacnet (2.0.4): Downloading (100%)\n  - Installing meebio/omnipay-secure-trading (dev-master 370a795): Downloading (100%)\n  - Installing meebio/omnipay-creditcall (dev-master b133a75): Downloading (100%)\n  - Installing lokielse/omnipay-alipay (v1.4.13): Downloading (100%)\n  - Installing justinbusschau/omnipay-secpay (2.0.6): Downloading (100%)\n  - Installing fruitcakestudio/omnipay-sisow (v2.0.3): Downloading (100%)\n  - Installing fotografde/omnipay-checkoutcom (2.1.1): Downloading (100%)\n  - Installing dioscouri/omnipay-cybersource (dev-master b958302): Downloading (100%)\n  - Installing digitickets/omnipay-realex (5.1.0): Downloading (100%)\n  - Installing digitickets/omnipay-datacash (v3.0.0): Downloading (100%)\n  - Installing digitickets/omnipay-barclays-epdq (3.0.0): Downloading (100%)\n  - Installing descubraomundo/omnipay-pagarme (dev-master 99e92df): Downloading (100%)\n  - Installing dercoder/omnipay-ecopayz (v1.0.2): Downloading (100%)\n  - Installing cardgate/omnipay-cardgate (v2.0.0): Downloading (100%)\n  - Installing andreas22/omnipay-fasapay (v1.0.2): Downloading (100%)\n  - Installing agmscode/omnipay-agms (1.0.0): Downloading (100%)\n  - Installing abdala/omnipay-pagseguro (0.2.0): Downloading (100%)\n  - Installing invoiceninja/omnipay-collection (v0.6): Downloading (100%)\n  - Installing jaybizzle/crawler-detect (v1.2.55): Downloading (100%)\n  - Installing jaybizzle/laravel-crawler-detect (v1.2.0): Downloading (100%)\n  - Installing zircote/swagger-php (2.0.13): Downloading (100%)\n  - Installing jlapp/swaggervel (dev-master e026d72): Downloading (100%)\n  - Installing twig/twig (v1.35.0): Downloading (100%)\n  - Installing symfony/yaml (v3.3.15): Downloading (100%)\n  - Installing symfony/filesystem (v3.4.3): Downloading (100%)\n  - Installing symfony/dependency-injection (v3.2.14): Downloading (100%)\n  - Installing symfony/config (v3.2.14): Downloading (100%)\n  - Installing jakoch/phantomjs-installer (2.1.1): Downloading (100%)\n  - Installing jonnyw/php-phantomjs (v4.5.1): Downloading (100%)\n  - Installing laracasts/presenter (dev-master b284f31): Downloading (100%)\n  - Installing laravel/legacy-encrypter (v1.0.0): Downloading (100%)\n  - Installing league/oauth1-client (1.7.0): Downloading (100%)\n  - Installing laravel/socialite (v2.0.21): Downloading (100%)\n  - Installing laravelcollective/bus (v5.3.0): Downloading (100%)\n  - Installing laravelcollective/html (v5.3.2): Downloading (100%)\n  - Installing mtdowling/jmespath.php (2.4.0): Downloading (100%)\n  - Installing aws/aws-sdk-php (3.49.0): Downloading (100%)\n  - Installing league/flysystem-aws-s3-v3 (1.0.18): Downloading (100%)\n  - Installing mikemccabe/json-patch-php (0.1.0): Downloading (100%)\n  - Installing rackspace/php-opencloud (v1.16.0): Downloading (100%)\n  - Installing league/flysystem-rackspace (1.0.5): Downloading (100%)\n  - Installing league/fractal (0.13.0): Downloading (100%)\n  - Installing symfony/css-selector (v3.4.3): Downloading (100%)\n  - Installing tijsverkoyen/css-to-inline-styles (2.2.1): Downloading (100%)\n  - Installing phpoffice/phpexcel (1.8.1): Downloading (100%)\n  - Installing maatwebsite/excel (2.1.24): Downloading (100%)\n  - Installing setasign/fpdi (1.6.2): Downloading (100%)\n  - Installing mpdf/mpdf (v6.1.3): Downloading (100%)\n  - Installing nwidart/laravel-modules (1.27.2): Downloading (100%)\n  - Installing paragonie/constant_time_encoding (v2.2.0): Downloading (100%)\n  - Installing twbs/bootstrap (v3.3.7): Downloading (100%)\n  - Installing illuminate/html (v5.0.0): Downloading (100%)\n  - Installing patricktalmadge/bootstrapper (5.5.3): Downloading (100%)\n  - Installing pragmarx/google2fa (v2.0.7): Downloading (100%)\n  - Installing pragmarx/google2fa-laravel (v0.1.4): Downloading (100%)\n  - Installing predis/predis (v1.1.1): Downloading (100%)\n  - Installing psr/container (1.0.0): Downloading (100%)\n  - Installing simshaun/recurr (dev-master 7679f92): Downloading (100%)\n  - Installing zendframework/zend-json (2.6.1): Downloading (100%)\n  - Installing zendframework/zend-stdlib (3.1.0): Downloading (100%)\n  - Installing container-interop/container-interop (1.2.0): Downloading (100%)\n  - Installing zendframework/zend-validator (2.10.1): Downloading (100%)\n  - Installing zendframework/zend-escaper (2.5.2): Downloading (100%)\n  - Installing zendframework/zend-uri (2.5.2): Downloading (100%)\n  - Installing zendframework/zend-loader (2.5.1): Downloading (100%)\n  - Installing zendframework/zend-http (2.7.0): Downloading (100%)\n  - Installing zendframework/zendservice-google-gcm (1.0.3): Downloading (100%)\n  - Installing zendframework/zendservice-apple-apns (1.2.0): Downloading (100%)\n  - Installing symfony/options-resolver (v3.4.3): Downloading (100%)\n  - Installing turbo124/notification-pusher (v3.0.0): Downloading (100%)\n  - Installing turbo124/laravel-push-notification (v2.0.0): Downloading (100%)\n  - Installing webpatser/laravel-countries (dev-master 2568394): Downloading (100%)\n  - Installing cedricziel/flysystem-gcs (v1.1.0): Downloading (100%)\n  - Installing websight/l5-google-cloud-storage (dev-master ca2023b): Downloading (100%)\n  - Installing wepay/php-sdk (0.2.7): Downloading (100%)\n  - Installing wildbit/swiftmailer-postmark (2.1.0): Downloading (100%)\n  - Installing wildbit/laravel-postmark-provider (dev-master 134f359): Downloading (100%)\nPackage guzzle/guzzle is abandoned, you should avoid using it. Use guzzlehttp/guzzle instead.\nPackage chumper/datatable is abandoned, you should avoid using it. Use OpenSkill/Datatable instead.\nPackage league/url is abandoned, you should avoid using it. Use league/uri instead.\nPackage illuminate/html is abandoned, you should avoid using it. Use laravelcollective/html instead.\nGenerating optimized autoload files\n\nphp artisan clear-compiled\nThe compiled class file has been removed.\nphp artisan optimize\nGenerating optimized class loader\nCompiling common classes\nDo not run Composer as root/super user! See https://getcomposer.org/root for details\nFailed to clone the git@github.com:hillelcoren/omnipay-authorizenet.git repository, try running in interactive mode so that you can enter your GitHub credentials\n\n[RuntimeException]                                                                                                                                                         \n  Failed to execute git clone --mirror 'git@github.com:hillelcoren/omnipay-authorizenet.git' '/root/.composer/cache/vcs/git-github.com-hillelcoren-omnipay-authorizenet.git/'  \nrequire [--dev] [--prefer-source] [--prefer-dist] [--no-progress] [--no-suggest] [--no-update] [--no-scripts] [--update-no-dev] [--update-with-dependencies] [--update-with-all-dependencies] [--ignore-platform-reqs] [--prefer-stable] [--prefer-lowest] [--sort-packages] [-o|--optimize-autoloader] [-a|--classmap-authoritative] [--apcu-autoloader] [--] []...\nThe command '/bin/sh -c curl -o invoiceninja.tar.gz -SL https://github.com/hillelcoren/invoice-ninja/archive/v${INVOICENINJA_VERSION}.tar.gz     && tar -xzf invoiceninja.tar.gz -C /var/www/     && rm invoiceninja.tar.gz     && mv /var/www/invoiceninja-${INVOICENINJA_VERSION} /var/www/app     && chown -R www-data:www-data /var/www/app     && composer install --working-dir /var/www/app -o --no-dev --no-interaction --no-progress     && composer require --working-dir /var/www/app omnipay/coinbase     && composer require --working-dir /var/www/app omnipay/paypal:~2.0     && chown -R www-data:www-data /var/www/app/bootstrap/cache     && mv /var/www/app/storage /var/www/app/docker-backup-storage     && mv /var/www/app/public /var/www/app/docker-backup-public     && rm -rf /var/www/app/docs /var/www/app/tests' returned a non-zero code: 1\nroot@gitlab:/home/ninja/dockerfiles# \n```. Dockerfiles repo inherits from latest release 4.2.2. It\u2019s out of scope seems to me. \nOdesl\u00e1no z iPhonu\n\n\n\n2018 v 20:10, Hillel Coren notifications@github.com:\n\n\n\n\nI'm not sure, you may want to create an issue on the dockerfiles repo.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHub, or mute the thread.\n. {\n-            \"type\": \"vcs\",\n-            \"url\": \"https://github.com/hillelcoren/l5-google-cloud-storage\"\n-        },\n-        {\n-            \"type\": \"vcs\",\n-            \"url\": \"https://github.com/hillelcoren/omnipay-wepay\"\n-        },\n-        {\n-            \"type\": \"vcs\",\n-            \"url\": \"https://github.com/hillelcoren/omnipay-gocardlessv2\"\n-        },\n-        {\n-            \"type\": \"vcs\",\n-            \"url\": \"https://github.com/hillelcoren/omnipay-authorizenet\"\n-        }. Works after forking and redirecting original repos. But payment gateways are still wrong. . \n",
    "Syimen": "Internal system or osticket is great.\nLooking forward for this feature.\nOn Dec 20, 2017 6:56 PM, \"Elena\" notifications@github.com wrote:\nI see zammad...but some cms more popular? it's more easy found developer\ninterested.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1750#issuecomment-353032242,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AEYUL6DZtsk7kqcqhwwK7fRQTh0w5jHqks5tCOfugaJpZM4QtAl-\n.\n. create the product in spreadsheet and save it as .csv than import them.\nIts a lot easier\nOn Jan 15, 2018 9:11 PM, \"Timo\" notifications@github.com wrote:\n\nMaking it possible to copy products would make it much easier to create\nsimilar products without having to fill in each form field every time.\n\u2014\nYou are receiving this because you are subscribed to this thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1811, or mute the\nthread\nhttps://github.com/notifications/unsubscribe-auth/AEYULyjrWdYzEhPuy5c9j2rqwBNLfJq6ks5tK06XgaJpZM4ReZDC\n.\n. \n",
    "AGitContributor": "I await this feature as it would be really useful. . I agree - I often have to do the same - setting it in the past initially would be easier - one would assume the same approach as is described when you set up a re-occuring invoices due date:\n\"Invoices on a monthly or yearly cycle set to be due on or before the day they are created will be due the next month.\"\nThough I can understand some may get confused without the help text.. ",
    "necrogami": "i pulled the composer file on it earlier today and added the require line it didn't cause any issues if you'd like i can make a pull request.. Thanks a ton, I'll update and look for more PHP 7.2 things\nOn Sat, Dec 16, 2017, 12:08 Hillel Coren notifications@github.com wrote:\n\nI've checked in a fix for the issue but I imagine there will be more\nproblems like it with PHP 7.2.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1767#issuecomment-352196275,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AACA_NzgoA7FjLzcrNGmouRP4WcBZVeGks5tA_kTgaJpZM4RELcb\n.\n. This is not resolved with the change of code. \n\nI have reset my install. \nDropped / created database\nDeleted directory and cloned git repo and switched to develop branch\nran composer and chmod/chown folders\nloaded page and ran wizard.\nStill getting the same error even after the change.. I added a small block of code around the problem.\ndump($class);\n$tableData = $class::orderBy($orderBy)->get();\ndump($tableData);\nif ($tableData->count()) {\n    Cache::forever($name, $tableData);\n}\nThis is the result \n\"App\\Models\\Currency\"\nCollection {#1653 \u25bc\n  #items: array:69 [\u25b6]\n}\n\"App\\Models\\Size\"\nCollection {#6883 \u25bc\n  #items: array:6 [\u25b6]\n}\n\"App\\Models\\Industry\"\nCollection {#7345 \u25bc\n  #items: array:33 [\u25b6]\n}\n\"App\\Models\\Timezone\"\nCollection {#9533 \u25bc\n  #items: array:113 [\u25b6]\n}\n\"App\\Models\\DateFormat\"\nCollection {#14298 \u25bc\n  #items: array:13 [\u25b6]\n}\n\"App\\Models\\DatetimeFormat\"\nCollection {#15230 \u25bc\n  #items: array:13 [\u25b6]\n}\n\"App\\Models\\Language\"\nCollection {#16136 \u25bc\n  #items: array:26 [\u25b6]\n}\n\"App\\Models\\PaymentTerm\"\nWhoops,\nSo it's getting through caching everything and then when it gets to payment terms it chokes.. https://github.com/FriendsOfPHP/security-advisories/pull/257\nhttps://github.com/Roave/SecurityAdvisories/issues/44\nAppears there's some strife in the community as the original pull on the parsedown repo is MONTHS old (like 8+months) and there's been next to nothing tangible from it.\nhttps://github.com/erusev/parsedown/pull/495. running composer install still drops an error during post cmd https://gist.github.com/necrogami/7adbe476e95ca99793a810c516fb0347 Posted here with php version. ",
    "remi31000": "Hi,\nThanks, I just sent a csv sample by email.\nI'm trying to import invoices\n. https://github.com/invoiceninja/invoiceninja/commit/270ba42493cf114f01b198b4357c8d97c8872187 solved this issue, thanks. git pull \ncomposer update. Thanks a lot, problem fixed !. `==> storage/logs/stacktrace.log <==\n2018-04-04 02:39:21 DateTime::__construct(): Failed to parse time string (2018-04-04 14:39:21.-188478) at position 24 (4): Unexpected character: #0 /home/www/xxxxx/git/vendor/nesbot/carbon/src/Carbon/Carbon.php(408): DateTime->__construct('2018-04-04 14:3...', Object(DateTimeZone))\n1 /home/www/xxxxx/git/vendor/nesbot/carbon/src/Carbon/Carbon.php(457): Carbon\\Carbon->__construct('2018-04-04 14:3...', NULL)\n2 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/FileSessionHandler.php(70): Carbon\\Carbon::now()\n3 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/Store.php(96): Illuminate\\Session\\FileSessionHandler->read('pPLXnPyMLkcsNcx...')\n4 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/Store.php(86): Illuminate\\Session\\Store->readFromHandler()\n5 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/Store.php(70): Illuminate\\Session\\Store->loadSession()\n6 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(103): Illuminate\\Session\\Store->start()\n7 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Support/helpers.php(964): Illuminate\\Session\\Middleware\\StartSession->Illuminate\\Session\\Middleware{closure}(Object(Illuminate\\Session\\Store))\n8 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(104): tap(Object(Illuminate\\Session\\Store), Object(Closure))\n9 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Session/Middleware/StartSession.php(58): Illuminate\\Session\\Middleware\\StartSession->startSession(Object(Illuminate\\Http\\Request))\n10 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Session\\Middleware\\StartSession->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n11 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n12 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/AddQueuedCookiesToResponse.php(37): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n13 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n14 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n15 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Cookie/Middleware/EncryptCookies.php(59): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n16 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Cookie\\Middleware\\EncryptCookies->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n17 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n18 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n19 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Router.php(574): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n20 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Router.php(533): Illuminate\\Routing\\Router->runRouteWithinStack(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request))\n21 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Router.php(511): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n22 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(176): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n23 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(30): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http{closure}(Object(Illuminate\\Http\\Request))\n24 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(46): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n25 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n26 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n27 /home/www/xxxxx/git/vendor/barryvdh/laravel-cors/src/HandlePreflight.php(46): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n28 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(148): Barryvdh\\Cors\\HandlePreflight->handle(Object(Illuminate\\Http\\Request), Object(Closure))\n29 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Routing/Pipeline.php(53): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline{closure}(Object(Illuminate\\Http\\Request))\n30 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(102): Illuminate\\Routing\\Pipeline->Illuminate\\Routing{closure}(Object(Illuminate\\Http\\Request))\n31 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(151): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))\n32 /home/www/xxxxx/git/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(116): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter(Object(Illuminate\\Http\\Request))\n33 /home/www/xxxxx/git/public/index.php(51): Illuminate\\Foundation\\Http\\Kernel->handle(Object(Illuminate\\Http\\Request))\n34 {main}`. I just put the latest https://github.com/briannesbitt/Carbon/blob/master/src/Carbon/Carbon.php and it's work ! Thanks\nHow do I update it properly ?. no, it's armv7l. ",
    "Dimtar": "TYVM for the quick reply. This is all that displays:\nis_executable(): open_basedir restriction in effect. File(/usr/lib/php) is not within the allowed path(s): (/home3/dimtarne:/usr/lib/php:/usr/php4/lib/php:/usr/local/lib/php:/usr/local/php4/lib/php:/tmp). Its all sorted now, thanks a bunch for your help.. ",
    "mikemaddem": "fixed it, had to change the default site in nginx. was odd for a while tho.\n// closed. ",
    "KaffineAddict": "No, it\u2019s set to run once daily as it should be. The example you linked for instance is set to run once daily as well. If however your cron run time and time zone are offset like mine were then the recurring stuff will never fire no matter how many days it runs. I know a lot of people that run crons late at night and can see this being a pretty big issue. If it is premature due to timezone it should process the next day it runs.. I guess maybe I am missing something. Running the cron hourly seems like overkill. It makes it so the output from the cron isn\u2019t helpful as you would be inundated with cron reports if anyone actually reads them. There also isn\u2019t really a need to run it hourly as this timezone thing is the only logic that would change between runs. Why not just fix the logic and leave it running once?. Ah, I understand now. Thanks!. ",
    "spekulatius": "I haven't customized anything. I'm using the exact version as it comes hosted on invoiceninja.com (free plan).. With the long company name it make break down differently - the company name is on two lines.. Ah okay. Can I tweak this in the free plan?. ah okay. Good to know. Thanks for your help.. ",
    "fisherman818": "yes, file permission issue of Public/logo. Closing it now. @ruslanguns to me it's just the file permission issue of Public/logo. Chmod recursively to 775 and issue resolved. . ",
    "sandersr": "This might be useful\nhttps://secure.php.net/manual/en/migration72.incompatible.php. LDAP support would be great.\nhttps://github.com/Adldap2/Adldap2-Laravel - looks like a good candidate (MIT license). ",
    "zishanj": "After completing the setup, I am receiving this error in log:\n\n/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php [Line 1231] => count(): Parameter must be an array or an object that implements Countable  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"http://localhost:8080/update\",\"previous\":\"http://localhost:8080/setup\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_1) AppleWebKit/604.3.5 (KHTML, like Gecko) Version/11.0.1 Safari/604.3.5\",\"ip\":\"::1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n\nAfter investigating I came to know that only Laravel 5.5 or higher is supported by PHP 7.2. Unfortunately my hosting company have PHP 7.2 and can't use invoice on it. :(. Instead of using \"php\": \">=7.0.0\" in composer use \"php\": \"~7.1.0\" to install only supported PHP version 7.1.x.. problem is with >= operators which install latest PHP version above 7.0 which is 7.2.1. If you use ~ instead then it will install only within a specific range like 7.0.x or 7.1.x whichever version you mention.. Not sure but it throws the above error and I have to install the package to make it work.. Not sure but it throws the above error and I have to install the package to make it work.. Thanks for the link @UnderDogg . May be someone can takeover this useful task and come up with a custom module for InvoiceNinja that can import time entries from Redmine.. ",
    "DASPRiD": "@hillelcoren any time frame for when PHP 7.2 support will be added?. ",
    "user00265": "count() and sizeof() are two functions affected.. ",
    "garygreen": "Any news on this? Can't use ninja on PHP 7.2.... saaaaaay wattt! \ud83d\ude04 . ",
    "lifehome": "Hello there, I am running into this issue by using v4.2.0 standalone zip, may I know is there a newer version available for now?. ",
    "deskmonoar": "I Solve this in Laravel 5.6\n// in controller\n```\npublic function index()\n{\n$todos = Todo::all();\nreturn view('todos.index')->with(['todos' => $todos]);\n}\n```\n// in view page\n@if(count($todos) > 0)\n  @foreach($todos as $todo)\n    <div class=\"well\">\n      <h3>{{$todo->text}}</h3>\n      <span class=\"label label-danger\">{{$todo->due}}</span>\n    </div>\n  @endforeach\n@endif. ",
    "otaviopires": "ran thought the same erro laravel 5.6.26 and php v7.2.7. I changed to php 7.1. ",
    "Kronos35": "@otaviopires did you find a work around for it?. ",
    "james2doyle": "Since I was using PHP 7.2 locally but 5.6 on the production server, I fixed this by casting an array on the offending line.\nSo, this line:\ncount($query->wheres)\n\nBecame:\ncount((array)$query->wheres)\n\nI didn\u2019t mind modifying the package as it is only for local development and it was easier than switching PHP versions.. ",
    "dianajoan": "@james2doyle i followed your steps, thanks,\nit worked for me.\ni was able to login\n\n. ",
    "osdeibi": "\nSince I was using PHP 7.2 locally but 5.6 on the production server, I fixed this by casting an array on the offending line.\nSo, this line:\ncount($query->wheres)\nBecame:\ncount((array)$query->wheres)\nI didn\u2019t mind modifying the package as it is only for local development and it was easier than switching PHP versions.\n\nThis works for me. > Can someone point out which file should I modify for php 7.2?\nyou can use the search tool to find where is the \"count($query->wheres)\" and do the replace.\nI'm not right now behind a computer to tell you the specific file, but this will help you.. ",
    "quantumleap33": "\nSince I was using PHP 7.2 locally but 5.6 on the production server, I fixed this by casting an array on the offending line.\nSo, this line:\ncount($query->wheres)\nBecame:\ncount((array)$query->wheres)\nI didn\u2019t mind modifying the package as it is only for local development and it was easier than switching PHP versions.\n\nWorked for me too, thanks!. ",
    "Siknoidas": "\nSince I was using PHP 7.2 locally but 5.6 on the production server, I fixed this by casting an array on the offending line.\nSo, this line:\ncount($query->wheres)\nBecame:\ncount((array)$query->wheres)\nI didn\u2019t mind modifying the package as it is only for local development and it was easier than switching PHP versions.\n\nThanks worked for me too! Problem was old Laravel and php version 7.2.\nP.S. first my comment :). ",
    "Extarys": "Can someone point out which file should I modify for php 7.2?. Thanks, I was in an ssh connection, I'll download locally and search for it then. Thanks!. ",
    "Stenfrank": "\nComo estaba usando PHP 7.2 localmente pero 5.6 en el servidor de producci\u00f3n, lo arregl\u00e9 colocando una matriz en la l\u00ednea ofensiva.\nPor lo tanto, esta l\u00ednea:\ncount($query->wheres)\nConvirti\u00f3:\ncount((array)$query->wheres)\nNo me import\u00f3 modificar el paquete, ya que es solo para el desarrollo local y fue m\u00e1s f\u00e1cil que cambiar las versiones de PHP.\n\nSolucionado por el momento. ",
    "amit-sharma-dev": "You can downgrade the PHP version from 7.2 to 7.1 version, sizeof() and count() affected in php 7.2 version. . ",
    "keiranlovett": "LDAP is a must for tools like this moving forward.. ",
    "vexvoltage": "@hillelcoren Do you have any update on this? . ",
    "timothyjensen": "With v4.1.0 the Plaid fields (Client ID, Secret, and Public Key) are no longer available; they are missing from the Stripe Edit Gateway form entirely. I'm wondering if this is an indication that a fix is in the works, or if the Plaid feature has been temporarily removed?. Just checking in on this. Is there a timeframe estimate for when the Plaid integration will updated to work with the new API?  Honestly, Plaid was a major reason that I switched to Invoice Ninja.  I still love the software, but really hope that the Plaid integration can be restored soon.  . Oh, I completely understand. By no means am I suggesting that this is a trivial task.  I might just give it a shot myself to see if I can make any headway with the new API.. @nerboda No, unfortunately I have not.. @passionInfinite No I clicked the link right away.\n@turbo124 I was running v4.5.2 before @hillelcoren informed me that it was a known bug and to update to v4.5.4. I went ahead and updated to v4.5.5 and am still having the same problem.. @turbo124 No there are no relevant errors in the log. I spun up a test Invoice Ninja site with a fresh database, tried several different mail settings, in both FF and Chrome, browser extensions disabled, etc., and still have the problem. If you'd like I can add you as a user to the test install to see if you encounter the same problem.. @jclg Thanks for taking a look at this issue! Your PR is definitely an improvement over the current experience and now I'm taken to the login screen instead of being shown the session expired error. \nI'm not sure if this is the intended behavior, however. Shouldn't the user should be automatically logged in after submitting the form? The /password/reset route does automatically log in the user after password reset, which I think is the preferred user experience.. ",
    "nerboda": "@timothyjensen were you able to make any progress on this?. ",
    "Nixellion": "Hello, MegaphoneJon and thanks for your reply.\nTask grouping could work as a solution. I'm just scared of having a list of 20 tasks per day, resulting in 100 tasks per week, it's hard to manage. That's why I don't like the idea of creating a separate task for each... well, task.\nAnd my client actually pays per-day. And each task I have can have multiple smaller subtasks. It would be cool if I could track time of each of those. \nWhen working on my own task managment system, I solved this easily, by adding 'parent' ForeignKey field. So in each task I could have 1 parent and multiple children. Worked like a charm. \nBut if this brings too much complexity into your already existing systems, then what I'm basically looking for is to be able to have 1 task and time ranges with labels or something like that. \nSo basically somthing along these lines:\nBrew some tea (1 hour)\n--- Put kettle on the fire (10 minutes)\n--- Open packet (10 minutes)\n--- Put tea into the mug (10 minutes)\netc\nSo I, personally, don't need each sub-task to be a full-task if that makes it more complicated.\nAnyway, thanks for the great tool, it's good to know that you're thinking about this issue and working on a solution :). @hillelcoren Hello, hillelcoren, and thats for your suggestion.\nBut I don't think it will work. So I created a project, And then what, I should create a new project each day? For each task? And how should I separate actual projects then?\nI'm a freelancer right now. And my work is structured this way:\n\nI have a CLIENT, and I call a client an outsource Studio i'm working on. It has multiple clients itselfs as well. But in theory I could even work on multiple outsource Studios. But sure this part may be too complicated to implement so whatever :) So let's call it Studio :D\nThen this Studio has it's own clients and each client can, in theory, have multiple projects. Recently I was working on 2 different projects, from the same client.\nThen roughly each month (roughly, because it's not always exactly 30-ish days) I send an invoice to the client. It contains details of all completed MAJOR TASKS or at least each day with how much hours I worked that day. Some projects require per-task billing, some per-day.\nThen I have to send daily reports each day. I usually just send total amount of time spent on all tasks this day, but it would be nice to track time spent on each task\\sub task.\nEach day I send a report of the work done that day, with total number of  hours. \nEach day I can either work on one task for a few days, or complete multiple tasks in one day.\n\n--\nSo with current tools I can't track all that properly, I have to rely on excel\\google sheet table for some additional calculations, and I only use Invoice Ninja to track daily time spent on everything, and to generate nice looking invoices. \nAs I said, next step would be to be able to at least label each time chunk recorder. Because right now when you click \"Start\\Stop\" timer starts\\stops and creates new time start\\end entry.  So even being able to add labels to each of these time periods\\entries would be a huge improvement and help.\nThanks :). Certainly, it could be just reporting problem.\nFor example, it would be great to have a feature to create 'daily invoice'. Where instead of tasks, it would put days as items with total sum of hours for each day. So this way I'd be able to send either per-task invoice or per-day invoice. . When I try to run a report for tasks I get \nWhoops, looks like something went wrong.. Thanks! :)\nJust that one file, right?\nDaily task reports can help a lot! But without daily invoicing sceme, I'll still have to stick to making it 1 task per day, and using comment section to write down what I did during that day.\nThat's how I'm trying to do it now.\n--\nInvoice grouping could be a nice way to approach it, what do you think?\nBasically allowing to group multiple tasks into one invoice-item by day and potentially by some other filters? Im just throwing in ideas, obviously I can't give any proper advice here without knowing your internal structure well enough.. Bummer, I'll have to recreate all payments too then, I suppose. Ah well.. ",
    "beli3ver": "LOL \ud83d\udde1 \n```json\n{\"error\":{\"message\":\"Invalid token\"}}\n```\nThat was easy :D. Forget it, find my error \ud83d\udc83 . ",
    "intheloft": "Just to add to this, I also get a similar error when trying to add either (Invoice, Recurring or Quote) related to public_html/resources/views/invoices/email.blade.php\nI've tried installing from zip and cloning the git repo multiple times with no changes to the symptoms. OK I've figured this out (ish)\nI noticed that in the database under email_account_settings, all of the fields relating to the template were empty. Also, if i set the email template to plain I could load the templates & reminders page and make a small change and hit save to have it populate the database table with some values. After that I could set the template back to a HTML design and it worked.\n\nInstaller doesn't seem to be populating the database with default values for the email templates\n<br> tags should be the self closing version <br /> as this is confusing the HTMLPurifier (or PHP's DOMElement and throwing an exception as the <br> never has a closing </br>\n\nHope this can be implemented in a future change.\n  . Hey!\nI've got it setup and running now with the work-around I described in my last comment.\nBut I'll setup another clean install and replicate the issue then see if editing the public function getDefaultEmailTemplate($entityType, $message = false) function fixes it.\nIf it fixes it, I'll put a pull request in :). OK, this is weird.\nI couldn't replicate in the dev environment so I removed the email template settings from the database on my live server (as to trigger getDefaultEmailTempate(...)) to replicate it there again.\nIt turns out it's not <br> vs <br /> causing the issue. It's the style=\"...\" tag on the <div> on line 68. The reason it worked with plain styling is because the if statement checks if it's plain then branches to line 71 instead which doesn't have a style=\"...\" tag on the <div>\nNot sure why that causes a problem on one server but not the other but I'll try and investigate further when I get chance and update you!\nThanks for the software btw, it's awesome! :D. This is just a work around and doesn't fix the actual problem, but:\nEither:\na) Edit this line and remove style=\"...\" (for some reason, the attribute tags are causing an error) https://github.com/invoiceninja/invoiceninja/blob/master/app/Models/Traits/SendsEmails.php#L69\nor\nb) Set the template style to plain (the default template for this doesn't use style=\"...\" in it) then go to  templates & reminders and hit save to save the default to the database, you can then switch back to a html style.\nYou need to make sure the template cells in the table email_account_settings are blank, and don't use any attributes such as style on the HTML tags in your templates.\nI've not figured out specifically why this is happening yet, but I've got it running fine in production using this work-around :). How come this issue has been closed? It doesn't seem to have been fixed.\nI've since updated to v4.1.5 and it's even worse now. I can't view the 'Create invoice' or 'Templates & Reminders' pages without this error even with the work-arounds I mentioned before.. I'm not too sure exactly, I've been running it on PHP7.0 in production and a PHP7.0 docker container.\nThe bug shows in PHP7.0 Production but not PHP7.0 Dev\nPHP Extensions both include iconv, bcmath and tidy as recommended by HTMLPurifier\nI changed to PHP version in production to PHP7.1 (with an identical list of extensions apart from the versions) and the bug mysteriously vanished.\nI don't like knowing what is causing this and how it can work on one PHP7.0 environment but not another and what's different with PHP7.1 that doesn't cause it to show.. ",
    "drsect0r": "Any fix available or pull request that I can test in my production environment? I am aswell affected by this issue. (specifically on creating and editing invoices). I'm also still affected, I will update tomorrow to the latest version and edit this comment with more information. \nUpdate: I've checkout v4.1.5 tag and currently not affected anymore by this issue. Template reminders and creating invoices work as expected. I'm running on PHP 7.0.27.. ",
    "simarilius": "Doesn't work in my case:\nNow i can use $account.custom_contact_label1 (\"Zahlungsart\") but i don't get the value to the PhantomJS generated PDF\n$contact.custom_value1 works in the preview\n$account.custom_contact_value1 is empty in both cases.\nPerhaps i'm missing a variable ?\n\"columns\": [\n      {\n        \"table\": {\n          \"widths\": [\n            70,\n            180\n          ],\n          \"body\": [\n            [\n              {\n                \"text\": \"$account.custom_contact_label1\",\n                \"style\": \"leftbold\"\n              },\n              {\n                \"text\": [\n                  \"$contact.custom_value1\"\n                ],\n                \"style\": \"left\"\n              }\n            ],\n            [\n              {\n                \"text\": \"$account.custom_contact_label2\",\n                \"style\": \"leftbold\"\n              },\n              {\n                \"text\": \"$account.custom_contact_value2\",\n                \"style\": \"left\"\n              }\n            ]\n          ]\n        },\n        \"layout\": \"noBorders\",\n        \"style\": {\n          \"fontSize\": 9\n        }\n      }\n. Ok found it,had to add custom_value1 and custom_value2 in\napp/Http/Controllers/ClientPortalController.php\nLine 109\n$contact->setVisible([\n            'first_name',\n            'last_name',\n            'email',\n            'phone',\n             'custom_value1',\n             'custom_value2',\n        ]);. ",
    "marbetschar": "@hillelcoren thanks for your quick reply! The thing is, from my point of understanding, that the API_SECRET can only be set once per instance. It seems they run one instance for different clients, so they probably won't share any API_SECRET?. @hillelcoren I know and I will. My question was just, if my assumption is correct: From the Invoice Ninja point of view, is it possible to setup multiple API_SECRET keys per instance or not?. Alright, got it. Thank you very much!!! \ud83c\udf89\ud83c\udf89\nFWIW: wasn't aware that API_SECRET and the tokens one can set in the web-admin are different kind of things at the time when I was buying the in-app-purchase. Basically I was expecting that self-hosted behaves the same way as the managed version (from the users perspective): Simply put in the custom url and the users token and your all set.\nThis did not work and the first thing I assumed was, that the mobile app is broken and I just spend $22 for a broken app.\nNo big deal for me personally, but an experience you might want to improve in future versions.\nThank you again for your superb help!. @hillelcoren thanks for the nice touch. I'm a developer too, totally aware of the amount of work involved and I love to support Open Source in any way I can. So even if the app won't work there is no need for a refund.\nJust provide the In-App-Purchase / Self-Hosted-Login process a little more love if you have some spare time ;). awesome, thank you!! \ud83c\udf89. Thanks for your suggestions. I've included this in my setup script, but it still shows the setup from in the beginning. What I'd love to do is to provide a default user e.g. admin@domain.tld with a default password of changeme.\nThis way the user is directly prompt with a login screen an can change everything he likes to after logging in.\nI'm prompted with this form after setup:\n\n. Ok; I found a solution. Seems like solely the db:seed does not work, had to add a second call which references the UserTableSeeder. If all commands are executed like follows, we are presented with the login screen & are able to login using user@example.com / password.\nsudo -u www-data composer dump-autoload --optimize --no-interaction\nsudo -u www-data php artisan optimize --force --no-interaction --verbose\nsudo -u www-data php artisan migrate --force --no-interaction --verbose\nsudo -u www-data php artisan db:seed --force --no-interaction --verbose\nsudo -u www-data php artisan db:seed --class=\"UserTableSeeder\" --force --no-interaction --verbose\nThanks for pointing me into the right direction.. I'll happily implement any better solution, but was not able to do so till now. What would you suggest despite of UserTableSeeder?\nWorth mentioning: Cloudron is capable of doing the user management and provides an OAuth and LDAP integration endpoints. So it would be awesome if we could manage the users within Cloudron and InvoiceNinja integrates with its user management.\nMaybe this approach also avoids using UserTableSeeder?. I'm not quite sure what you mean by redirecting the user to the /invoice_now_link. The way Cloudron works is, it does an unattended install of InvoiceNinja by spawning a Docker container. Afterwards the user is able to click on the app icon and is sent to the apps domain (e.g. invoice.domain.tld).\nAs far as I know there is no possibility to customise the redirection route. And at this point, there is no user existing within the InvoiceNinja database (at least for now, since we do not have any LDAP or OAuth integration yet).. I'd love to avoid the setup screen in any case, because the user must not enter all the mail & database options, since they are passed in dynamically using ENV vars. That said, it would be much better if we could either strip down the setup form to only username/password or - ideally - drop it completely.\nHow would InvoiceNinja behave if we integrate it with OAuth? would it then just prompt the user with the login form?. right, the values are pre-filled. But it would be awesome to not have the user tinker with it at all ;)\nBasically I'd love to use already existing possibilities but make it as easy as possible for a user to start; Which reflects also the Cloudron goal of providing \"Turn Key Apps\".\nSo going there as far as possible by using the existing possibilities would be awesome. As of now, the app basically already works. I solely love to improve the experience on the first run a bit.. @hillelcoren looks like we're stuck here and blocked there.\nSimply put: I don't know how to proceed. If I omit UserTableSeeder, I'm going to fail the Cloudron user expectations. If use UserTableSeeder I'm going to fail the InvoiceNinja developers expectations.\nSeems like the only way out is OAuth integration. But I'm stuck there too, since I don't know how it behaves. From my current understanding we do have the following three scenarios now:\n1. Use setup form\n\n[\u2713] Is the supported default behaviour by InvoiceNinja\n[\u2718] Displays a setup form with prefilled values\nthis is \"\u2718\" because the values must not be changed in a Cloudron environment and seeing such a setup form is not what a Cloudron user expects.\n\n2. UserTableSeeder\n\n[\u2713] Skips the setup form\n[\u2713] Adds a demo user\nthis is \"\u2713\" because there are other Cloudron apps which do behave the same which makes this an expected behaviour for Cloudron users\n[\u2718] UserTableSeeder is not meant for production usage\n\n3. OAuth integration\n\n[\u2713] Does eliminate the need for the setup form\n[\u2713] Does allow to login with a user which is managed by Cloudron\nthis fits in nicely with the provided environment\n[ ? ] If/How setup form can be skipped because of OAuth is unknown\n[ ? ] If/How users can be added on first login via OAuth is unknown \n[ ? ] If/How customer dashboard access can surpass the OAuth login is unknown\notherwise all customers need a dedicated Cloudron account, which is not the desired behaviour\n\nConclusion\nFrom this point of view, OAuth integration seems only the way to go if:\n\nUsers are able to login without being added manually ahead of time\nInvoiced customers are not forced to login via OAuth to access their invoice dashboards\nWe can tell InvoiceNinja to skip the setup form because\na) All values are known and passed by Cloudron environmental vars\nb) Users are created as soon as they login the first time using OAuth \n\nIf these conditions are not met - which I'm not able to answer - then the UserTableSeeder is the second best option seen from a Cloudron users perspective since it does reflect expected behaviour within a Cloudron environment .... but this does not correspond to the InvoiceNinja developer requirements. As you see, we went in circles ;)\n. Sounds reasonable. What are name/value of the .env property?. perfect! I've added it to the Cloudron setup script. Just ping me as soon as it is in master and I'll give it a test drive.. awesome, works like a charm! Thank you so much!!! Any plans when the next release will be ready? ;)\n\n. @hillelcoren just noticed if I submit the form I'm not redirected anywhere - it seems to just reload the page. Please have a look here: https://invoice.marco.betschart.name. confirmed. issue is fixed now.. Seems like this is related to https://github.com/laravel/framework/issues/12526. Seems like this is related to https://github.com/laravel/framework/issues/12526. @lalop thanks for jumping into the discussion! :)\nNow the console gives me the following output:\nJan 19 11:54:11 Copying files on first run\nJan 19 11:54:11 PHP Fatal error: Uncaught InvalidArgumentException: The \"\" directory does not exist. in /run/invoiceninja/bootstrap/cache/compiled.php:17516\nYou can see the current work in progress here: https://git.cloudron.io/mandelkind/invoiceninja-app/tree/master\nWorth noting is, there is a third directory /runwhich also allows for read/write, but is not backed up and is getting cleared on reboot. Seems like this would be the best choice for /bootstrap.\nTo sum up:\n/app/code: Readonly, for the apps code\n/app/data: Read/Write, for the apps data - is persisted and backed up\n/run: Read/Write, for the apps runtime - is not persisted and not backed up\n/tmp: Read/Write, for the temporary data - is not persisted and not backed up and cleared periodically. @lalop thanks for jumping into the discussion! :)\nNow the console gives me the following output:\nJan 19 11:54:11 Copying files on first run\nJan 19 11:54:11 PHP Fatal error: Uncaught InvalidArgumentException: The \"\" directory does not exist. in /run/invoiceninja/bootstrap/cache/compiled.php:17516\nYou can see the current work in progress here: https://git.cloudron.io/mandelkind/invoiceninja-app/tree/master\nWorth noting is, there is a third directory /runwhich also allows for read/write, but is not backed up and is getting cleared on reboot. Seems like this would be the best choice for /bootstrap.\nTo sum up:\n/app/code: Readonly, for the apps code\n/app/data: Read/Write, for the apps data - is persisted and backed up\n/run: Read/Write, for the apps runtime - is not persisted and not backed up\n/tmp: Read/Write, for the temporary data - is not persisted and not backed up and cleared periodically. @lalop the following is the directory layout which I'm using now, and which throws the The \"\" directory does not exist error. This is the simplified version of what is done in the Dockerfile and start.sh:\n\nmv invoiceninja-${VERSION}/* /app/code\nmv /app/code/bootstrap /run/invoiceninja/bootstrap\nln -s /run/invoiceninja/bootstrap /app/code/bootstrap\nln -s /app/code/vendor /run/invoiceninja/vendor\nmv /app/code/storage /app/data/storage\n\nln -s /app/data/storage /app/code/storage. @lalop the following is the directory layout which I'm using now, and which throws the The \"\" directory does not exist error. This is the simplified version of what is done in the Dockerfile and start.sh:\n\n\nmv invoiceninja-${VERSION}/* /app/code\n\nmv /app/code/bootstrap /run/invoiceninja/bootstrap\nln -s /run/invoiceninja/bootstrap /app/code/bootstrap\nln -s /app/code/vendor /run/invoiceninja/vendor\nmv /app/code/storage /app/data/storage\nln -s /app/data/storage /app/code/storage. @lalop I used the official Docker image as a starter template, but I'll have to conform to the Cloudron environment.\n\nThat said, I have to use said directories and I'm also needed to use FROM cloudron/base:0.11.0 as base image (from what I can tell). For more information see: https://cloudron.io/documentation/developer/packaging/. @lalop I used the official Docker image as a starter template, but I'll have to conform to the Cloudron environment.\nThat said, I have to use said directories and I'm also needed to use FROM cloudron/base:0.11.0 as base image (from what I can tell). For more information see: https://cloudron.io/documentation/developer/packaging/. figured out a bit more. The error is thrown by composer during this step:\nsudo -u www-data composer install --working-dir /app/code --no-dev --no-interaction --no-progress\nand it prints:\n```\nGenerating optimized autoload files\n\nphp artisan clear-compiled\nPHP Fatal error:  Uncaught InvalidArgumentException: The \"\" directory does not exist. in /app/code/vendor/symfony/finder/Finder.php:546\nStack trace:\n\n0 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/LoadConfiguration.php(76): Symfony\\Component\\Finder\\Finder->in(false)\n1 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/LoadConfiguration.php(59): Illuminate\\Foundation\\Bootstrap\\LoadConfiguration->getConfigurationFiles(Object(Illuminate\\Foundation\\Application))\n2 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/LoadConfiguration.php(38): Illuminate\\Foundation\\Bootstrap\\LoadConfiguration->loadConfigurationFiles(Object(Illuminate\\Foundation\\Application), Object(Illuminate\\Config\\Repository))\n3 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(203): Illuminate\\Foundation\\Bootstrap\\LoadConfiguration->bootstrap(Object(Illuminate\\Foundation\\Application))\n4 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(267 in /app/code/vendor/symfony/finder/Finder.php on line 546\nScript php artisan clear-compiled handling the post-install-cmd event returned with error code 255\n```. figured out a bit more. The error is thrown by composer during this step:\nsudo -u www-data composer install --working-dir /app/code --no-dev --no-interaction --no-progress\nand it prints:\n```\nGenerating optimized autoload files\n\nphp artisan clear-compiled\nPHP Fatal error:  Uncaught InvalidArgumentException: The \"\" directory does not exist. in /app/code/vendor/symfony/finder/Finder.php:546\nStack trace:\n\n0 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/LoadConfiguration.php(76): Symfony\\Component\\Finder\\Finder->in(false)\n1 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/LoadConfiguration.php(59): Illuminate\\Foundation\\Bootstrap\\LoadConfiguration->getConfigurationFiles(Object(Illuminate\\Foundation\\Application))\n2 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Bootstrap/LoadConfiguration.php(38): Illuminate\\Foundation\\Bootstrap\\LoadConfiguration->loadConfigurationFiles(Object(Illuminate\\Foundation\\Application), Object(Illuminate\\Config\\Repository))\n3 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Application.php(203): Illuminate\\Foundation\\Bootstrap\\LoadConfiguration->bootstrap(Object(Illuminate\\Foundation\\Application))\n4 /app/code/vendor/laravel/framework/src/Illuminate/Foundation/Console/Kernel.php(267 in /app/code/vendor/symfony/finder/Finder.php on line 546\nScript php artisan clear-compiled handling the post-install-cmd event returned with error code 255\n``. yeah, I think your right. Seems like Lavarel is not really best friends with symlinks for whatever reason.. yeah, I think your right. Seems like Lavarel is not really best friends with symlinks for whatever reason.. Ok, it works now. I ended up by just moving everything under/run, which is read/write enabled:mv invoiceninja-${VERSION}/* /run/invoiceninja`\nIt's sad that Lavarel does not seem to work with symlinks. At least, as soon as I start to symlink /bootstrap/cache or /bootstrap everything starts to fall apart. Fortunately this is not the case for /storage, so I was successfully able to move this in /app/data/storage, to let the backup take care of it.\nHoping this way of setup if fine for updates too, will need further testing for this. I'll close this issue for now.. Ok, it works now. I ended up by just moving everything under /run, which is read/write enabled:\nmv invoiceninja-${VERSION}/* /run/invoiceninja\nIt's sad that Lavarel does not seem to work with symlinks. At least, as soon as I start to symlink /bootstrap/cache or /bootstrap everything starts to fall apart. Fortunately this is not the case for /storage, so I was successfully able to move this in /app/data/storage, to let the backup take care of it.\nHoping this way of setup if fine for updates too, will need further testing for this. I'll close this issue for now.. Ok. Fixed. This was a permission issue. The newly created APP_KEY could not be written to the file because it was owned by root instead of www-data.\nUnfortunately ninja:update-key did not claim that it has insufficient permissions to do the job. It would be great if the output of the command in this case would be clearer.. Ok. Fixed. This was a permission issue. The newly created APP_KEY could not be written to the file because it was owned by root instead of www-data.\nUnfortunately ninja:update-key did not claim that it has insufficient permissions to do the job. It would be great if the output of the command in this case would be clearer.. In order to create such a driver, do I just have to follow this guide here? Is there anything in addition I'll have to do to enable the created Driver and/or solely allow the Cloudron driver in order to avoid any conflicts?. In order to create such a driver, do I just have to follow this guide here? Is there anything in addition I'll have to do to enable the created Driver and/or solely allow the Cloudron driver in order to avoid any conflicts?. Clear the local storage did help, thank you!. Clear the local storage did help, thank you!. Don\u2018t k ow if you already seen it; InvoiceNinja is now officially available through Cloudron AppStore:\nhttps://cloudron.io/store/com.invoiceninja.cloudronapp.html. Don\u2018t k ow if you already seen it; InvoiceNinja is now officially available through Cloudron AppStore:\nhttps://cloudron.io/store/com.invoiceninja.cloudronapp.html. @intradesign this is definitely an option worth considering, thanks for the hint. We already use a custom designed invoice template, so adding this would be easy.\nHowever, I'd love keep on using the $invoiceDetails block variable, which can be customised by the user if needed. That said, I'd prefer an update safe way for customise this label without loosing any flexibility. For a bunch of other labels this is already possible, so adding this one is something which might be considered in a future update of InvoiceNinja.. Any chance this gets added in one of the next versions of InvoiceNinja? Don't know how much of an effort this is, but this together with that would enable us to start using recurring invoices - which would improve our workflow a lot.. ?. For our use case it would be even better, if we are not forced to use $counter at all and are free to design whatever schema we'd like. Don't know if this something you would consider to support in InvoiceNinja though.. @hillelcoren yeah, I already thought that. Nevertheless it would be cool not to be force to have the counter and if you don't want to remove it (which I can understand) then at least have some sort of optionality and pre-insert check there?. I see. That said, you think a pre-insert check and adding a $counter if the invoice number is already used is not sufficient to fix this?\nAs said I understand why the $counter was forced in the first place, but it would be awesome if we can manage it somehow to let the user decide if he\u2018s willing to take on the risk - and maybe mitigate it with an \u201eoptional\u201c syntax.. Mhm, I don\u2019t quite understand the cause of the complexity. However, I can see why this is not a huge priority on your end, since it may not affect too many users.\nWould be glad if we can find a solution which does not cause a huge effort on your end and allows us to keep the number scheme we already had in place before using InvoiceNinja.\nThat said, do you see any solution where we can meet somewhere in the middle?\nMaybe just counting always start from 0001, if there is already an Invoice number with the same number and increase the counter till the number is unique? Or provide an extension point to allow for a custom number generator, or ....?\nAs said, I don\u2018t know the dependencies within InvoiceNinja - but would really love to see this implemented :). @hillelcoren thanks for the suggestion. I just tried it and it can work this way. However, this means that nothing else in the settings page can be updated from the UI since the validation, of course, forces us to add $counter again.\nAny chance the validation can be less restrictive, so we are not forced to use $counter? At our own risk of course.. ",
    "Wouter0100": "Quote is ofcourse in general: this will also make a lot of sence for Proforma Invoicing, as in this case the proforma invoice is converted by paying it (which is, in some scenario's, the whole idea of proforma invoicing).. Yeah - I have been looking through the code, and it indeed seems a little complicated, although: when done properly, any change this will make it? \nMainly because it would decouple initializing payments from invoices (afterwards it can still be connected to an invoice). Regardless of the complicity, it would be a really useful and worthy feature to have, in my view.. Thanks for the fast response! Fixed it.. I don't mind paying some money to Invoiceninja, but I'm not sure they accept such PR's. If not, I'm also able to investigate this feature - but I'm currently limited in available time.. @hillelcoren do you guys accept paid feature requests to give it a higher prio?\nOr does anyone know companies that develop for InvoiceNinja by any chance? . Thanks for the fast response! Haven't seen that list yet - will have a look. Thanks.\n@clemensmol still interested? ;-). @lexzz @heichel @ivo1981 please thumbs up this issue (see start post) to support it. :+1: . I see - rouding up to an hour would be very useful.. @mburamorde yes - that could be included, but I don't think that is possible in a custom module yet. . I had this issue as well on a master-master MySQL environment. normal Auto-incremening values isn't a option here most of the time.. I will agree, this would be a really useful feature, also on a global basis where all tasks are invoiced like this.. The initial issue does not seem like it, but the direction it is being solved is a duplicate from this issue - indeed! :). Indentation error? :). ",
    "jeffreytigch": "A question about this: I am running into the same problem after upgrading to 4.1.4. Has this fix been included with the latest update?. Thanks. Due to the low numbers of my overdue invoices and your history of fast release schedules, I'll just wait on the next minor version. . ",
    "clemensmol": "Yes \ud83d\udc4d  Please!. @Wouter0100 @lexzz How bad do you guys want this? Maybe we could all throw in some money and get it developed?\nAnyone else interested in this feature?. Same \"problem\" here, willing to investigate/develop, but limited in time. Was hoping we could find someone with more time available.. Absoluty, still interested! I\u2019ll send you a mail.. ",
    "Lars-": "Would be so handy. It would mean I could solely depend on Invoice Ninja.. ",
    "intradesign": "Ah OK! Thanks! I did not see it...\nSorry for that!!. Heres a screenshot:\n\n. So you re using the invoice number as unique ID? \nWhy not using a autoincrement for the ID (database and everything else reference) and set the invoice number as an additional field that has to be referenced. This way you create a unique value for every invoice created AND you could achieve the advantage of only having to assign an invoice no at the time the invoice is really saved and sent instead of the time it is created.. No, I did not (yet because still trying out some things that have to be corrected later).\nBut anyway a \"recurring invoice\" is only a kind of template for auto-creating invoices and should always be editable. It is not a real document.\nOnly the sent/finished invoices have to be un-editable in EU.. No, I did not (yet because still trying out some things that have to be corrected later).\nBut anyway a \"recurring invoice\" is only a kind of template for auto-creating invoices and should always be editable. It is not a real document.\nOnly the sent/finished invoices have to be un-editable in EU.. I can open to edit the recurring invoice but I cannot save it. Going back to list view discards the changes I made.\n\n. I can open to edit the recurring invoice but I cannot save it. Going back to list view discards the changes I made.\n\n. OK. Sorry, I have two installations for testing and I have copied the .env-file to the wrong. So YES: The it contains LOCK_SENT_INVOICES=true... Sorry!\nBut please consider my posting \"But anyway a \"recurring invoice\" is only a kind of template for auto-creating invoices and should always be editable. It is not a real document.\"\nIs it possible to lock normal invoices (as also created by recurring) but not the recurring \"templates\"?. Hi there!\nI just found out that the dropdown contains \"restore\" which is translated in german to \"Wiederkehrende Rechnung wiederherstellen\". This is too long and the menu is cut off...\nSorry for that!!\n\n. You could do it in the layout: Just edit the layout and insert something like this:\n{\n        \"columns\": [\n          {\n            \"alignment\": \"right\",\n            \"text\": [\n              **\"Date: \",**\n              \"$invoiceDate\"\n            ]\n          }\n        ]\n      }\nWhere \"Date\" is your expression, not from a variable.\nOr edit the texts.php file in invoiceninja_root/resources/lang/XX/texts.php, but do not overwrite when updating invoice ninja.\n. OK. I only tried the \"Show report\" button from Clients => [Client Name] => Show report (top right corner). It shows all invoices in a list.\nAll formats are coming from custom layout 1 which I have assingned to invoices. When I assign another layout for invoices the report looks like the chosen layout.\nWhat is this report intended to be for? To send it to the client as information about open invoices?\n\nI see the other reports have a neutral layout. But for example in the invoices report (PDF) the invoices are more or less unordered. I would prefer \"order by document no\". \nCreating a report with \"Zip - Dokumente\" (german translation) creates a .tar-file that does not contain PDFs.. But anyway the formatting of style of the invoice no does not fit when it is displayed in a table cell, also the column widths are different from the ones in invoice line items. So having an extra layout for this kind of report would be logical.. But I \"lose\" the start date so I have to note it somewhere...\n(AND I can only do so if the lock invoices feature is disabled). OK. I see deleting the start date would solve the problem.\nSo https://github.com/invoiceninja/invoiceninja/issues/1840 would be the solution.. And thanks for the advice to remove the start date!. But anyway there are times in the future... I have doublechecked the time tracking entry \u2013 it is in the past.\nTimezone is set correctly.. I have tried this. The problem is that it is not possible to \"reset\" the filter because an empty field cannot be submitted... not sure... could be even more confusing... Maybe I just need to get used to the way it works now.\nCancel button seems to work.. OK. Cancel Button also works for \"Save\" and after that click cancel to get back to previous screen... maybe \"back\" would be a more term. . Yes, you are right. Sorry!!\nWhen choosing the drivers \"Mail\" or \"Sendmail\" the the SMTP-settings are still visible. What do these drivers do?. ",
    "mahavirhirani": "you can use the auto-increment column to  invoice no( invoice id) for unique . \n\nyou can write code for extract invoice number form a yellow mark string.\nI think a yellow mark string has a specific format.\n i.e  RE20180005\n\nstarting 2 characters  are alphabets (RE) \nthen follow by year  (2018)\nafter a unique  number  (0005)\n\nnow you need to extract int number after follow by year . ",
    "dspeake": "Sorry, didn't get the notification of the new version. All working fine now.. ",
    "yvalentin": "Hi,\n@hillelcoren Could you update the file composer.lock of this project ?\nhttps://github.com/invoiceninja/invoiceninja/blob/master/composer.lock#L3362\nAnd on invoiceninja/omnipay-collection ?\nhttps://github.com/invoiceninja/omnipay-collection/blob/master/composer.lock#L1014\nWith a composer update  command.\nMaybe this can resolve this issue.\nThanks. May be it would be better to update composer.lock of invoiceninja repository.\n- To be consistent with the documentation\n- And because, i want to keep a stability on the project. and the composer.lock normally make sure, I have it.\nWith a composer update, i will update all dependencies. So normally, i will do this on dev or stagging environment but not on production.\nDo you think, you can do it, check everything is ok and push the new composer.lock ?\nOr you can update only invoiceninja/omnipay-collection\ncomposer update invoiceninja/omnipay-collection\n. Great ! It works !\nThanks. @lalop I have done \ngit clone https://github.com/invoiceninja/invoiceninja.git\nand\ncomposer clear-cache && composer install. ",
    "ruihildt": "As you say, it is a matter of perspective, that's why giving the choice to go one way or the other would be the best. :)\nI'm a cloudron user, and all cloudron apps are just a click away from being installed. \nWhile if you are a tech savvy user being shown the setup screen makes sense, if you're not, and you just want to have you app installed and accessible to your users through the oauth/ldap, going straight to the installed app is much better.\nNow I'm not a developer and I don't know how difficult or feasible that would be. For now I'm just chuffed to have invoiceninja coming soon on cloudron thanks to both of you. :). ",
    "greg-mckeon": "Note that this only happens on the \"New Quote\" screen - once clicking \"Mark as sent\", the country reappears.. Speculating that the issue is due to InvoiceController's getViewModel returning 'account' => Auth::user()->account->load('country'), while QuoteController returns  'account' = Auth::user()->account.\n. ",
    "net4u": "Hi,\nI installed Laravel (for testing purpose) and following installation I found that in IIS the web site for InvoiceNinja must point to the \\public folder not to the root folder.  Now is working. For any concerned with this issue, follow minimal web.config form Larvael. //\n[2018-01-23 11:35:51] production.ERROR: Intervention\\Image\\Exception\\NotReadableException [0] : F:\\Websites\\Applications\\bfm-malerei.at\\InvoiceNinja-master\\vendor\\intervention\\image\\src\\Intervention\\Image\\AbstractDecoder.php [Line 345] => Image source not readable  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Laurentiu LAZAR\",\"method\":\"POST\",\"url\":\"http://invoiceninja.bfm-malerei.at/settings/company_details\",\"previous\":\"http://invoiceninja.bfm-malerei.at/settings/company_details\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36\",\"ip\":\"86.121.220.217\",\"count\":4,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n[2018-01-23 11:35:56] production.ERROR: Intervention\\Image\\Exception\\NotReadableException [0] : F:\\Websites\\Applications\\bfm-malerei.at\\InvoiceNinja-master\\vendor\\intervention\\image\\src\\Intervention\\Image\\AbstractDecoder.php [Line 345] => Image source not readable  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Laurentiu LAZAR\",\"method\":\"POST\",\"url\":\"http://invoiceninja.bfm-malerei.at/settings/company_details\",\"previous\":\"http://invoiceninja.bfm-malerei.at/settings/company_details\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36\",\"ip\":\"86.121.220.217\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n//. It seems that is not related to permissions. Unfortunately my knowledge in php is limited. Anyway is something related to this:\n`    \n        /\n        * Initiates new image from mixed data\n        \n        * @param  mixed $data\n        * @return \\Intervention\\Image\\Image\n        /\n         public function init($data)\n          {\n           $this->data = $data;\n       switch (true) {\n\n        case $this->isGdResource():\n            return $this->initFromGdResource($this->data);\n\n        case $this->isImagick():\n            return $this->initFromImagick($this->data);\n\n        case $this->isInterventionImage():\n            return $this->initFromInterventionImage($this->data);\n\n        case $this->isSplFileInfo():\n            return $this->initFromPath($this->data->getRealPath());\n\n        case $this->isBinary():\n            return $this->initFromBinary($this->data);\n\n        case $this->isUrl():\n            return $this->initFromUrl($this->data);\n\n        case $this->isStream():\n            return $this->initFromStream($this->data);\n\n        case $this->isDataUrl():\n            return $this->initFromBinary($this->decodeDataUrl($this->data));\n\n        case $this->isFilePath():\n            return $this->initFromPath($this->data);\n\n        // isBase64 has to be after isFilePath to prevent false positives\n        case $this->isBase64():\n            return $this->initFromBinary(base64_decode($this->data));\n\n        default:\n            throw new Exception\\NotReadableException(\"Image source not readable\");\n    }\n}\n\n`\n. Since is not stated explicit that InvoiceNinja is not IIS friendly I may think that is still a bug.. I think that is not an IIS problem, but an InvoiceNinja (or Laravel maybe) one. Not necessarily a bug, but a wrong behavior. I will dig more and come back with an workaround (if any).. I have php-gd2 enabled in my php.ini.  As I read at laravel and respectively intervention it may be a path issue: on windows / iis path is not correct read/constructed. I saw some workarounds but I am not able to test them since I don't know yet where to apply them . Still digging\n. But information regarding this, must be save somewhere. Normally I foresee 2-3 models to extend.. ",
    "voeurnchy": "the same problem. I use nginx.\nwork normal in local, but on live production not working\nOop! It about permission.\nsudo chwon www-data public -R\nWork as normal. thank. @uptoeleven I don't know why do that. but it works. thanks\nBut not accessible with route middleware auth. work with middleware web only, with Auth not work\nphp\nRoute::group(['middleware' => ['web'], function()\n{\n    //\n}. There is no bug. I make mistake select expanse with blank public notes and category. \nThank you. . ",
    "ben-eSM": "In Germany we have to declare a delivery date on invoices. Recurring invoices therefore can't be used right now. If we could be able to use variables in custom fields that could help a lot.. As a workaround I could use the date variables in the invoice notes. However, I've just noticed that the Variables won't fit my needs totally. If I have a time span as delivery date which and there's a new Year coming up during the time span, I can't handle it. e.g. November 2017 til February 2018.\nThe available Variables won't work in that case.\nAnother issue is, that the :MONTH variable uses English names. Is this configurable?. I'm using German.. I'm running version 4.4.4. The translation seems to work fine in other areas, but when I put the :MONTH variable in the public note field, I get English names in the preview PDF.. ",
    "reinhardjung": "Oh, that would be just perfect. Because it could save me a lot of Time!!!. ",
    "DimitriSteyaert": "Nope, I forgot to mention that I had checked the logfiles :)\nNothing to see there, even the Laravel debug console didn't help me.. Hi, it was indeed the Nginx config.\nI had to remove this block to fix my issue:\n\nlocation ~* .(js|css|png|jpg|jpeg|gif|ico|svg)$ {\n      expires max;\n      log_not_found off;\n  }\n\nThanks for the swift response!. ",
    "dumiller": "Plus one for this. There should be a setting for default time billing increments. . Thanks for looking at the request. Myself I was a single freelancer or contractor at one point and now have expended over the years. I think it would be good idea to allows current freelancers to keep using this amazing software as they grown there business into the 2-10 employee/contractor range. Thanks again.. I would like to see two sections to the invoice. Expenses/Materials and Labor/Hours. All expenses and other cost associated with a project should be put under one heading and all House either by contractor or internal staff should be put under an other heading. See some examples below.\nNuttcache \nFreshbooks. ",
    "jonas-wilhelm": "+1. ",
    "stianulriksen": "+1\nwhen can we expect to see this?. ",
    "silversword411": "I currently use a spreadsheet to do rounding of time tracking information with another system. Billing is in 15min increments. Round down if within 4 mins of the lower 15min increment otherwise round up to the next 15min increment: Starts by looking at a text field of time (in 0:00 formatted as text):\n=TEXT(D2-C2,\"h:mm\")\nThen get the text in F2, and round:\n=if(OR(RIGHT(A2,2)=\"00\",RIGHT(A2,2)=\"01\",RIGHT(A2,2)=\"02\",RIGHT(A2,2)=\"03\",RIGHT(A2,2)=\"04\",RIGHT(A2,2)=\"16\",RIGHT(A2,2)=\"17\",RIGHT(A2,2)=\"18\",RIGHT(A2,2)=\"19\",RIGHT(A2,2)=\"31\",RIGHT(A2,2)=\"32\",RIGHT(A2,2)=\"33\",RIGHT(A2,2)=\"34\",RIGHT(A2,2)=\"46\",RIGHT(A2,2)=\"47\",RIGHT(A2,2)=\"48\",RIGHT(A2,2)=\"49\"),ROUNDDOWN(A2*96,0)/96,ROUNDUP(A2*96,0)/96)\nSee\nhttps://docs.google.com/spreadsheets/d/1T6HmZvLXQhSKCmhaNXTKBnyT02LHz94c7cDn8r71PeU/edit#\nI'm thinking if you're trying to make an algorithm for Time Tracking rounding to satisfy everyone it would be something like:\nRound up to ___ Billing increment (in mins)\nCheckbox (optional) Round Down if within  ___ mins of previous. ",
    "KeepWebSimple": "I second that request :-). I second that request :-). Thank you very much for the quick answer!\n1+2 great! I had tried this, but i lacked the info how to access the custom fields in the invoice ( $client.customValue1)\n\nYeah, it could be done, althougt it would make the custom invoice template a bit more complicated . It would be easier and better - especially for beginners - if the business name would be part of $clientDetails as this is already part of every invcoice template.. Oh, just tried: $client.name and $client.adress work, too. So at least for me i can do the job with custom fields.. Thanks! That works patially. If i add my custom field to the invoice fields, it would be printed on the invoices as:\n\nFieldName: FieldValue\nBut i only need the fieldValue. How do i get rid of the FieldName?. Yeah, i\u00b4ve already thought about this. \nBut if i change\n\"stack\": \"$clientDetails\"\nto\n\"text\": \"$client.name\\n$client.customValue1...\"\nI would end up with a blank line if $client.customValue1 is not set for the client.. Just fount out to built an own stack like this:\n\"stack\": [\n          \"$client.name\",\n          \"$client.customValue2\",\n          \"$client.address1\",\n          \"$client.address2\",\n          \"$client.postal_code $client.city\",\n          \"$client.country\"\n        ],\nBut if $client.address2 or $client.customValue2 is not set, the variable name, for example \"$client.customValue2\", would appear in the invoice. So compared to the built in $clientDetails-stack the behavior is different when using an own stack.\nBy the way: $client.country_id just prints the ID and $client.country or $client.country_name does not work. What is the correct variable to print the country name?\nAnyway, for now, i can use the adress fields as a workaround, when needed:\nname = business name\naddress1 = street\naddress2 = Name of the Owner\n...\nand in $clientDetails i move address2 above address1\n. I\u00b4ve updated from 4.4.3 to 4.4.4 and the fix for blank variables works. Well, sort of: Now the variable name isn\u00b4t  printed anymore. But the empty lines should be removed, too.\nclient.country.name ~~does not work either~~ doesn\u00b4t work in design view, but in preview of customer invoice.. Ok. Never mind. For now i have a workaround. \nThank you very much for your patience & help!. Ah, yes - that\u00b4s a possible workaround, although it would crowd up the overview over the recurring invoices. Then it would be better to create a single invoice first and then create an recurring invoice.\nOr [hacking-mode]: What would happen, if i change the start_date in the invoices table in the DB?\n. That`s exactly what i want. Just tested it - works. :)\nAs a workaround i am ok with this. But i guess, it might be a good idea to simply remove the date restriction on the invoice-date-field so that dates in the past are allowed, too.. Ah, ok. I see.\nHave you ever thought of adding an \"?\"-Icon after an input field in the backend to give some additional information on how the field works?\nExample: Date (?): \"Start Date of the recurrence. f you change the value to a date in the past the app will just send the invoice the next time the cron runs. The invoice date is allways the date the invoice is generated.\". Ah ok, i understand.. ",
    "clarksparts": "Got the Whoops something went wrong today looking at a project...\n[2018-02-01 18:07:16] production.ERROR: ErrorException [0] : /home/clarksp1/public_html/invoice/storage/framework/views/0d9b0b3b7c7a166b7307f93303471d4f8b612db7.php [Line 101] => Division by zero (View: /home/clarksp1/public_html/invoice/resources/views/projects/show.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Chris Clark\",\"method\":\"GET\",\"url\":\"https://clarksparts.com/invoice/public/projects/1\",\"previous\":\"https://clarksparts.com/invoice/public/projects\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36\",\"ip\":\"....*\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\nHid the IP :) with *\n. Looks like its working now... put in info for budgeted hours and seems to work now\n. ",
    "lordbdp": "Hi,\nI am testing V4.1.5 and I want to add some payment methods such as: Bank transfer, Check, Cash.\nI have used the \"Custom Payment\" in \"Online Payments\" to create the Bank transfer but I need it again for the 2 other payment modes.\nHow duplicate a payment gateway plz ?\nBR. ",
    "myrsk": "Clicking on email invoice does nothing for me. No errors in storage/logs/laravel-error.log either.. This is the .env\n```\nPATH=/usr/bin:/bin:/usr/sbin:/sbin\nPWD=/\nXPC_FLAGS=0x0\nXPC_SERVICE_NAME=0\nSHLVL=1\n_=/Applications/MAMP/Library/bin/httpd\nAPP_URL=http://ninja:8888\nAPP_DEBUG=true\nREQUIRE_HTTPS=false\nDB_TYPE=mysql\nDB_HOST=localhost\nDB_DATABASE=XXXXXXXXXXXXXXXXX\nDB_USERNAME=XXXXXXXXXXXXXXXXX\nDB_PASSWORD=XXXXXXXXXXXXXXXXX\nMAIL_DRIVER=mailgun\nMAIL_PORT=587\nMAIL_ENCRYPTION=tls\nMAIL_HOST=\nMAIL_USERNAME=\nMAIL_FROM_NAME=XXXXXXXXXXXXXXXXX\nMAIL_FROM_ADDRESS=test@XXXXXXXXXXXXXXXXX.com\nMAIL_PASSWORD=\nMAILGUN_DOMAIN=app.XXXXXXXXXXXXXXXXX.com\nMAILGUN_SECRET=key-XXXXXXXXXXXXXXXXX\nAPP_KEY=XXXXXXXXXXXXXXXXX\nAPP_CIPHER=AES-256-CBC\n```. Trying to send email from client area, brings up the modal. and then when I click send I get this error, but it appears to fill the id and name correctly here\n[2018-01-28 11:25:23] production.ERROR: ***Swift_RfcComplianceException*** [0] : /Users/xxxxx/ninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 345] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"xxxxx\",\"method\":\"PUT\",\"url\":\"http://ninja:8888/invoices/8\",\"previous\":\"http://ninja:8888/invoices/8/edit\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/604.4.7 (KHTML, like Gecko) Version/11.0.2 Safari/604.4.7\",\"ip\":\"::1\",\"count\":3,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []. When setting MAIL_USERNAME, no change in error. Still user_id and account_id and user_name dont show any values.\n[2018-01-28 11:27:46] production.ERROR: ***Swift_RfcComplianceException*** [0] : /Users/xxxxxxx/ninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 345] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.  {\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"POST\",\"url\":\"http://ninja:8888/client/recover_password\",\"previous\":\"http://ninja:8888/client/recover_password\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36\",\"ip\":\"::1\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\n. I have used 2 smtps, and mailgun. I will try one more, and update :)\nThanks.. Used the below settings, also same issues\nMAIL_DRIVER=smtp\nMAIL_HOST=server.xxxxxxx.com\nMAIL_PORT=465\nMAIL_USERNAME=testhl@xxxxxxx.com\nMAIL_PASSWORD=xxxxxxxxxxx\nMAIL_ENCRYPTION=ssl\nMAIL_FROM_ADDRESS=testhl@xxxxxxx.com\nMAIL_FROM_NAME=xxxxxxx\n[2018-01-28 11:44:05] production.ERROR: ***Swift_RfcComplianceException*** [0] : /Users/xxxxxxx/ninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 345] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"xxxxxxxx\",\"method\":\"PUT\",\"url\":\"http://ninja:8888/invoices/8\",\"previous\":\"http://ninja:8888/invoices/8/edit\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/604.4.7 (KHTML, like Gecko) Version/11.0.2 Safari/604.4.7\",\"ip\":\"::1\",\"count\":5,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"} []\nand with tinker, it works fine. Just not working from invoiceninja. Neither for recovering password or for sending invoice.. Hello,\nI uncommented it, and I see the value. \nxxx:ninja xxx$ tail storage/logs/laravel-info.log \n[2018-01-28 13:12:51] production.INFO: test@domain.com |  |  [] []\nHow come it is not getting through though? I mean\nLOG.error: ***Swift_RfcComplianceException*** [0] : /Users/xxx/ninja/vendor/swiftmailer/swiftmailer/lib/classes/Swift/Mime/Headers/MailboxHeader.php [Line 345] => Address in mailbox given [] does not comply with RFC 2822, 3.6.2.. Not using docker. Standalone.\nphp artisan config:cache was run yes.. \ud83e\udd47 \ud83d\udc4d Wow. Now I feel dumb :)\nThanks a lot @hillelcoren for all your help!. ",
    "ayhanbaris": "php artisan config:clear.",
    "Jaylaxmiaussizz": "It didn't work for it so please suggest.. ",
    "sam-suresh": "Thats brilliant! \nAdding tiny tooltip about this next to Unit price etc will be very useful .\n. ",
    "wheelsblackcat": "ok forget it... just found the option to disable automatic product updates :). Thanks! I just purged the data.... where can I find this option: include taxes in cost ?. Solved! Purging data was not enough. I had to delete and re-create the account. Luckily I was just starting with the system so didn't have too much data in it.\nOverall very nice system - I'm impressed\nCheers\nTomasz\n. ",
    "sinewaveinc": "+1. The ability to handle this in the web interface would be great!  The server could grab is all, and place it in a tgz for downloading, or handle the shipping of the files for you...  Especially being able to handle restoration of the platform.. ",
    "pubmania": "ah...that was quick. User can't see the form but is able to see the button  and can click on it as shown ins screenshot....  So Expense -> Categories -> New Expense Category is visible. However clicking on it results in \"Forbidden\" message.\n\n. Me too.... basically a filter in expense report based on categories will be good. \nMy specific usecase is to filter out expenses done using credit card and the only way i can do our right now is by putting a flag in private notes and then running a SQL query to get my result. \nIs there any way to create my own reports in front end specifying columns to display and filters to apply? . I have..but filtering doesn't change the total on top.  For the moment I have created a link to google sheets with my own query so I can manage but i wonder if it will be possible to enhance the reporting module to allow end user to select column and filters. \nI am very sure it will add a huge value to the users especially for accounting purposes. . I actually used csv data to import expenses from ecpensify and had to do some messing around with dates and stuff but it took me just under 30 minutes once i got my head around it. . Actually I just checked on Mozilla and then on chrome and it works fine on both so it's just the default browser of note 8 that had this issue. \nPlease close it. . Hi, it is account currency. After I updated to 4.2.2 the currency issue has disappeared this morning on the client but it was crashing when I try to open settings - company details \nThe one thing on app that stops me from using it is the expenses view that doesn't show the vendor name and instead shows just the public notes.\nThis is the reason I was trying to check settings to work out if there is anyway to add the column I want to see on Expenses view. \nAlso if i open expense the default currency is still USD... as can be seen in screenshot below\n\nI have checked the localisation settings and there it is set to British pound again as can be seen in screenshot below.\n\n. Thanks so much... :). @turbo124 thanks...that was super quick. I will update the app and confirm back. :). Hi just checked the two issues are fixed indeed. I had actually updated my previous comment with two screenshots that show another issue with expense form... currency by default shows USD instead of the account currency... is that something that can be fixed too?. Thanks ... :). Thanks @hillelcoren - I am not sure what I am doing here. Going through that php, I assume that adding the field name from table \"expenses\" (id) on this php file under columns and then  $expense->public_id should have done the trick. Clearly that ain't it.\nPlease could you guide me a little more?. Thanks.... That helped... I have managed to make minor changes here which ensure that the zip file has documents with vendor name and the pdf export has expense id included. Only one minor niggle - The column name for Expense ID in front end comes as \"texts.id\". What can I do to make it appear as proper label.\nJust incase it helps someone else, the changes I have done are highlighted in red boxes below:\n\n\n\nAlso the issue of incorrect label on front end is as shown below:\n\n. Cheers - This worked wonderfully. Many Thanks @hillelcoren . \nHow can I ensure that my changes do not get overwritten with next update? \nAlso I do think these changes actually have very practical use - could these be applied for next update?\nIf I make a pull request and add these changes will it be considered for a merge? \nI will be so happy if I can do that and it gets merged. :). Yes it is a self hosted instance.. Hmm... I will check and share the logs... just the normal web server log right...\nI do have a doubt on this theory though because if that is the case wouldn't it have stopped upload from browsers... browser uploads are working just fine you see.. Strange, I just looked at laravel-error.log and while there are 2 errors for 29/06 they are not related to this issue and I checked logs after recreating the issue on app fully expecting to see something on the logs. Instead all I saw is following error on log which is not from me but from another user accessing the system on her laptop:\n[2018-06-29 12:38:32] production.ERROR: Uncaught TypeError: Cannot read property 'public_id' of undefined  {\"context\":\"JavaScript\",\"user_id\":2,\"account_id\":1,\"user_name\":\"user 2\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36\",\"locale\":\"en\",\"ip\":\"xx.xxx.xxx.xxx\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []\nand I think I know why this error is there so I will fix it - This is for the customisation in reports I did few days back with help from hillelcoren \nI did see for 27/06 in stacktrace.log getimagesize(): Read error but this was on main website I had an issue and I changed the php_upload_max to 100 and it stopped.\nIn nutshell I can't see anything in logfiles showing an entry related to this issue :(\n\nAre you able to uploaded invoice attachments ok?\n\nHaven't checked it...Will try later and report.. @hillelcoren I have actually connected Metabase with the invoiceninja database and that takes care of all my reporting needs and then some. I wonder if it is possible to get a Metabase integration within this project as doing so will close so many feature requests here.. Well its not an issue for me ...it was more of a suggestion so I don't want to open an issue as such.\nI wish I had skills to help with something like this as I really like the wonderful work you guys put into this software. \ud83d\ude42\ud83d\ude42. ",
    "MacMatt": "I second that request :-). Hi\nSome ideas to get around depending recipients...\nhttps://support.office.com/en-us/article/how-to-set-up-a-multifunction-device-or-application-to-send-email-using-office-365-69f58e99-c550-4274-ad18-c805d654b4c4\nRegards\nMatthieu. Hello\nI second that request.\nIt would be great to create custom request, a little like Reports but for the dashboard.\n. Hello\nFirst I thought I had the same problem.\nHowever, only Previsualisation is displayed in English, then the sended PDF is well translated in French...\nWeird... but at least it works for end user :-). Sorry, i was retrieving those infos before a validated too quickly my ticket :)\nVersion 4.5.7\n[2018-12-18 12:20:09] production.ERROR: Illuminate\\Database\\QueryException [42S22] : /var/www/virtual/domaine.fr/invoices-dev/htdocs/vendor/laravel/framework/src/Illuminate/Database/Connection.php [Line 647] => SQLSTATE[42S22]: Column not found: 1054 Unknown column 'show_product_notes' in 'field list' (SQL: update accounts set updated_at = 2018-12-18 12:20:09, fill_products = 1, update_products = 0, convert_products = 0, show_product_notes = 1 where id = 1)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Matthieu\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:65.0) Gecko/20100101 Firefox/65.0\",\"locale\":\"en\",\"ip\":\"xx.xx.xx.xx\",\"count\":10,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"settings/products\"} []\n. is_executable(): open_basedir restriction in effect. File(/usr/bin/php) is not within the allowed path(s): (/var/www/virtual/cliczone.fr/:/usr/share/php/:/dev/random:/dev/urandom). Thanks for pointing.\nI don't know what my webmaster has done with open_basedir, but now it works fine :). Thanks for confirming.\nThen I'm wondering how to make Ninja use french translation on home page ?. Sadly not. For example \"Recover your password\" ID 474 is 3 years old in Transifex. 100% correct, i should have think about that .env file...\nThanks again. Any chance to change this in a future ? I see no reason why it is hidden while you can have the black total :-). @turbo124 I think Admin rights should be related to backoffice functions and not front display informations. I hope this will be modified in the future, it's a pitty that people in charge of invoicing and recovering money can not have access to this information on dashboard as they are the first concerned to make their job :-)\nThanks\nMatt. Maybe it's me who was not clear. \nOk for Dashboard for non-admin, only that blue lines are not visible.\n\nWill the 4.6 branch add the possibility to display the blue to non admin ? (sorry i don't understand code, i'm only end user). Ok, thanks for leting me know. Yes, they also appear multiple times in the customer portal. sorry, 4.5.7 . Ok, I'll do like this and let you know if next autosend invoices bug again in March. Hello\nSadly, same error once again, customers got up to 8 times the invoices :-(\nProduction version is 4.5.9\nPlease have a deep look and solve the problem.\nThanks\nMatthieu. ",
    "andyboeh": "I just ran into this situation with a specific client as well!. Thanks, that looks good to me and I'll try to implement the second approach first - I'll open a pull request once it works as intended. In case anybody is interested, the current development is done at https://github.com/RnBConsulting/invoiceninja. ",
    "ilijamt": "Macedonia\nOn Feb 11, 2018 11:27, \"Hillel Coren\" notifications@github.com wrote:\n\nWhich country do you live in?\nThe total remains the same, the balance due is set to 0. Are you asking\nthat the balance due not be changed?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1887#issuecomment-364740653,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ABFi4xLI757BTDPhsPwnzs6pySjJB6NTks5tTsCugaJpZM4SBSFh\n.\n. Sorry it took a bit of time, I was trying out various things.\n\nHere is a screenshot of how I would like to see it.\n\nCode of customization of invoice\n[\n  {\n    \"columns\": [\n      {\n        \"image\": \"$accountLogo\",\n        \"fit\": [\n          120,\n          80\n        ]\n      },\n      {\n        \"canvas\": [\n          {\n            \"type\": \"rect\",\n            \"x\": 0,\n            \"y\": 0,\n            \"w\": 190,\n            \"h\": \"$invoiceDetailsHeight\",\n            \"r\": 0,\n            \"lineWidth\": 1,\n            \"color\": \"$primaryColor:#334b70\"\n          }\n        ],\n        \"width\": 10,\n        \"margin\": [\n          200,\n          0,\n          0,\n          0\n        ]\n      },\n      {\n        \"width\": 400,\n        \"table\": {\n          \"body\": \"$invoiceDetails\"\n        },\n        \"layout\": \"noBorders\",\n        \"margin\": [\n          210,\n          10,\n          10,\n          0\n        ]\n      }\n    ]\n  },\n  {\n    \"margin\": [\n      0,\n      18,\n      0,\n      0\n    ],\n    \"columnGap\": 0,\n    \"columns\": [\n      {\n        \"width\": 212,\n        \"stack\": [\n          {\n            \"text\": \"$invoiceToLabel:\",\n            \"style\": \"toLabel\"\n          },\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 4,\n                \"x2\": 150,\n                \"y2\": 4,\n                \"lineWidth\": 1,\n                \"dash\": {\n                  \"length\": 3\n                },\n                \"lineColor\": \"$primaryColor:#334b70\"\n              }\n            ],\n            \"margin\": [\n              0,\n              0,\n              0,\n              4\n            ]\n          },\n          \"$clientDetails\",\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 9,\n                \"x2\": 150,\n                \"y2\": 9,\n                \"lineWidth\": 1,\n                \"dash\": {\n                  \"length\": 3\n                },\n                \"lineColor\": \"$primaryColor:#334b70\"\n              }\n            ]\n          }\n        ]\n      },\n      {\n        \"width\": \"*\",\n        \"stack\": [\n          {\n            \"text\": \"$fromLabel:\",\n            \"style\": \"fromLabel\"\n          },\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 4,\n                \"x2\": 300,\n                \"y2\": 4,\n                \"lineWidth\": 1,\n                \"dash\": {\n                  \"length\": 3\n                },\n                \"lineColor\": \"$primaryColor:#334b70\"\n              }\n            ],\n            \"margin\": [\n              0,\n              0,\n              0,\n              4\n            ]\n          },\n          {\n            \"columns\": [\n              \"$accountDetails\",\n              \"$accountAddress\"\n            ],\n            \"columnGap\": 4\n          },\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 9,\n                \"x2\": 300,\n                \"y2\": 9,\n                \"lineWidth\": 1,\n                \"dash\": {\n                  \"length\": 3\n                },\n                \"lineColor\": \"$primaryColor:#334b70\"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"canvas\": [\n      {\n        \"type\": \"rect\",\n        \"x\": 0,\n        \"y\": 0,\n        \"w\": 515,\n        \"h\": 35,\n        \"r\": 0,\n        \"lineWidth\": 1,\n        \"color\": \"$primaryColor:#334b70\"\n      }\n    ],\n    \"width\": 10,\n    \"margin\": [\n      0,\n      20,\n      0,\n      -30\n    ]\n  },\n  {\n    \"style\": \"invoiceLineItemsTable\",\n    \"table\": {\n      \"headerRows\": 1,\n      \"widths\": \"$invoiceLineItemColumns\",\n      \"body\": \"$invoiceLineItems\"\n    },\n    \"layout\": {\n      \"hLineWidth\": \"$notFirst:.5\",\n      \"vLineWidth\": \"$none\",\n      \"hLineColor\": \"$primaryColor:#334b70\",\n      \"paddingLeft\": \"$amount:4\",\n      \"paddingRight\": \"$amount:4\",\n      \"paddingTop\": \"$amount:8\",\n      \"paddingBottom\": \"$amount:8\"\n    }\n  },\n  {\n    \"columns\": [\n      \"\",\n      {\n        \"stack\": [\n          {\n            \"style\": \"subtotals\",\n            \"table\": {\n              \"widths\": [\n                \"*\",\n                \"30%\"\n              ],\n              \"body\": \"$invoiceDetails\"\n            },\n            \"layout\": {\n              \"hLineWidth\": \"$none\",\n              \"vLineWidth\": \"$none\",\n              \"paddingLeft\": \"$amount:34\",\n              \"paddingRight\": \"$amount:8\",\n              \"paddingTop\": \"$amount:4\",\n              \"paddingBottom\": \"$amount:4\"\n            }\n          },\n          {\n            \"style\": \"subtotals\",\n            \"table\": {\n              \"widths\": [\n                \"*\",\n                \"35%\"\n              ],\n              \"body\": \"$subtotalsWithoutBalance\"\n            },\n            \"layout\": {\n              \"hLineWidth\": \"$none\",\n              \"vLineWidth\": \"$none\",\n              \"paddingLeft\": \"$amount:34\",\n              \"paddingRight\": \"$amount:8\",\n              \"paddingTop\": \"$amount:4\",\n              \"paddingBottom\": \"$amount:4\"\n            }\n          },\n          {\n            \"canvas\": [\n              {\n                \"type\": \"rect\",\n                \"x\": 32,\n                \"y\": 20,\n                \"w\": 228,\n                \"h\": 30,\n                \"r\": 0,\n                \"lineWidth\": 1,\n                \"color\": \"$primaryColor:#334b70\"\n              }\n            ]\n          },\n          {\n            \"style\": \"subtotalsBalance\",\n            \"table\": {\n              \"widths\": [\n                \"*\",\n                \"45%\"\n              ],\n              \"body\": \"$subtotalsBalance\"\n            },\n            \"layout\": {\n              \"hLineWidth\": \"$none\",\n              \"vLineWidth\": \"$none\",\n              \"paddingLeft\": \"$amount:1\",\n              \"paddingRight\": \"$amount:8\",\n              \"paddingTop\": \"$amount:4\",\n              \"paddingBottom\": \"$amount:4\"\n            }\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"stack\": [\n      \"$invoiceDocuments\"\n    ],\n    \"margin\": [\n      0,\n      110,\n      0,\n      0\n    ]\n  },\n  {\n    \"text\": \"\u041b\u0438\u0446\u0435 \u041e\u0432\u043b\u0430\u0441\u0442\u0435\u043d\u043e \u0437\u0430 \u043f\u043e\u0442\u043f\u0438\u0448\u0443\u0432\u0430\u045a\u0435\",\n    \"style\": \"toLabel\"\n  },\n  {\n    \"margin\": [\n      0,\n      18,\n      0,\n      0\n    ],\n    \"columnGap\": 0,\n    \"columns\": [\n      {\n        \"width\": 212,\n        \"stack\": [\n          {\n            \"text\": \"\u0410\u043d\u0430 \u041f\u0430\u0432\u043b\u043e\u0432\u0441\u043a\u0438\",\n            \"style\": \"toLabel\"\n          },\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 4,\n                \"x2\": 80,\n                \"y2\": 4,\n                \"lineWidth\": 1,\n                \"lineColor\": \"$primaryColor:#000\"\n              }\n            ],\n            \"margin\": [\n              -5,\n              0,\n              0,\n              4\n            ]\n          },\n          {\n            \"text\": \"(\u0418\u043c\u0435 \u0438 \u041f\u0440\u0435\u0437\u0438\u043c\u0435)\",\n            \"style\": \"toLabel\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"margin\": [\n      0,\n      18,\n      0,\n      0\n    ],\n    \"columnGap\": 0,\n    \"columns\": [\n      {\n        \"width\": 212,\n        \"margin\": [\n          130,\n          -36,\n          0,\n          4\n        ],\n        \"stack\": [\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 4,\n                \"x2\": 80,\n                \"y2\": 4,\n                \"lineWidth\": 1,\n                \"lineColor\": \"$primaryColor:#000\"\n              }\n            ],\n            \"margin\": [\n              -20,\n              0,\n              0,\n              4\n            ]\n          },\n          {\n            \"text\": \"(\u041f\u043e\u0442\u043f\u0438\u0441)\",\n            \"style\": \"toLabel\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"margin\": [\n      200,\n      0,\n      0,\n      0\n    ],\n    \"columnGap\": 0,\n    \"columns\": [\n      {\n        \"width\": 212,\n        \"margin\": [\n          130,\n          -36,\n          0,\n          4\n        ],\n        \"stack\": [\n          {\n            \"canvas\": [\n              {\n                \"type\": \"line\",\n                \"x1\": 0,\n                \"y1\": 4,\n                \"x2\": 80,\n                \"y2\": 4,\n                \"lineWidth\": 1,\n                \"lineColor\": \"$primaryColor:#000\"\n              }\n            ],\n            \"margin\": [\n              -20,\n              0,\n              0,\n              4\n            ]\n          },\n          {\n            \"text\": \"(\u041f\u0440\u0438\u043c\u0438\u043b)\",\n            \"style\": \"toLabel\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"canvas\": [\n      {\n        \"type\": \"line\",\n        \"x1\": 0,\n        \"y1\": 20,\n        \"x2\": 510,\n        \"y2\": 20,\n        \"lineWidth\": 1,\n        \"lineColor\": \"$primaryColor:#000\"\n      }\n    ],\n    \"margin\": [\n      0,\n      10,\n      0,\n      4\n    ]\n  },\n  {\n    \"columns\": [\n      \"$notesAndTerms\"\n    ]\n  }\n]\n. What about the currency because the currency is per client, so there are invoices in different currency. Is there a way to read the currency to put instead of USD ?\nIf you can point me to where is the issue with the formatting I'll send you a PR with a fix.\nAlso if the invoice has been payed. Then this $total_amount is empty.. OK, so I did some investigations, and I need access to the variable called invoice.invoice_total\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/pdf.pdfmake.js#L1237\nIs it possible to get that variable somehow without modifying the javascript?\nI fixed it by modifying the code and adding on line https://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/pdf.pdfmake.js#L228\n'invoiceTotal': formatMoneyInvoice(invoice.amount, invoice),. ",
    "perec007": "yes, the webserver has the necessary rights. ",
    "nhpc": "@hillelcoren ninja:make-module does not work. Laravel-module is supported only for Laravel 5.4 and above. Is there a time frame when you are going to support Laravel 5.4.. ",
    "newelement": "let me check apache logs. Nothing in the apache2 error log. It runs then returns to the login screen with the success message. I agree which is why I'm stumped as well.. Odd now I do see an error. The MAC is invalid. I 'm sure the cipher was changed when I updated. When I run that command I get:\nThe only supported ciphers are MCRYPT_RIJNDAEL_128 and MCRYPT_RIJNDAEL_256.. I did not and it looks like I lost the old key for that cipher, will that be a problem?. I was only using stripe with no auto-billing. ok ,thanks. That worked. Thanks!. ",
    "unteem": "I'd like to definately deleted those clients because, related to #1893, when I call the API i get all users even those that I dont want anymore.\nPlus I would like to have an option to clean the database, lots of duplicate and useless information there. hi @hillelcoren \nAre there any update on this feature? I think its getting even more relevant now with the GDPR. If a client/contact wants to use his right to be forgotten how should we do it? As for now it seems that we would still keep a record of its data as an archive. \nThanks. ",
    "DwijadasDey": "Hi\nThe path for php/composer can be customized in .bash_profile.\n$ vi .bash_profile\nalias lcomposer='/opt/alt/php71/usr/bin/php /usr/bin/composer'\n$ source .bash_profile\nand then use $ lcomposer  install --no-dev -o\n. ",
    "Dagolin": "@hillelcoren Thanks for the clarification and fast reply, to minimize the cost of rebase I will close this PR and open another one.. ",
    "alexbogias": "@turbo124 Done! Thanks a lot!. I am really sorry for the mess! Can you please delete this and merge #1927 . ",
    "benyanke": "Moved to #1937 - closing this one. NP! Do you know when this will hit docker hub? I'm hoping to use it soon, but would rather avoid hacking things into place temporarily.. ",
    "michidk": "Reverse Charge Explanation: https://www.vatglobal.com/reporting-obligations-vat-guides/the-reverse-charge-mechanism\nInvoicing rules: https://ec.europa.eu/taxation_customs/business/vat/eu-vat-rules-topic/vat-invoicing-rules_en\nAlso the following text has to be added to the invoice pdf:\nUnder the regulation of the EU we do not charge VAT on services provided to VAT-registered businesses in other member countries. According to the reverse-charge regulation tax liability transfers to the recipient of services.\n. This is already in the docs, but still not in the latest build.. Ok, should have read contribution guidelines first, creating new one.. This commit https://github.com/BrokenVector/invoiceninja/commit/86329830c769e7bf8f4e261caf79b994682bc135, included in the PR https://github.com/invoiceninja/invoiceninja/pull/2478 is a simple fix to implement this behavior.. sorry, accidentally forked master instead of develop branch.. ",
    "mobidev111": "suggestion: move over to Puppeteer - Chrome headless\n\nalpine linux is supported out of the box:\nhttps://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md#running-on-alpine. \n",
    "sagesharp": "@hillelcoren Hmm, I don't see any attachments buttons or text when I go to create an invoice (https://app.invoiceninja.com/invoices/create). Where would I expect to see the place to attach files?. Ah, I see! In general, are all the paid features available in the self-hosted open source version? I'm happy to continue paying InvoiceNinja for my own company's invoice hosting, but I suspect SFC would host their own InvoiceNinja instance.. ",
    "mhosker": "Hello,\nYes that is correct, I have upvoted #1701.\nThanks,\nMike. Hello,\nI liked the idea that the client could either enter there own card details or use thier existing PayPal account and pay that way without having to enter card details.\nI am not using the require signature or any other special client portal settings.\nNo matter what browser I use the PayPal link will not work. However if I copy the URL for the PayPal button and load it in a new tab then it takes me to the PayPal login screen.\nThanks,\nMike. Found a workaround, if I add the following HTML\n<basetarget=\"_parent\">`\nThen any new link within my i frame will open in the parent window.\nHowever if the user is already logged in then they will still see the dashboard page within the i frame until they click away.\nThanks,\nMike\n. Hello,\nThat sounds fantastic! Will I be able to get the assigned agent to a specific client via the API?\nI am hoping to impliment this on my telecoms portal homepage showing the logged in user their account manager and the respective contact details.\nMany thanks!\nMike. Fantastic! I look forward to seeing it implimented! Many thanks, Mike. ",
    "frederickjh": "@hillelcoren I am also having trouble reproducing this. I created a test company with test client and project.  Customized the Playful invoice theme and the Project name shows. I will need to take a further look at my customizations. The main reason I customized it is that the white column titles were not showing on the green canvas in the Playful invoice theme. See the green bar  in the screenshots below:\n\n. I have created a new issue #1954 for the white text not showing.. @hillelcoren,  Would it help if I put the code from the custom invoice theme derived from Playful here in the issue?. It happens all the time for me with these two invoice themes. I have checked `storage/logs/laravel-error.log and nothing is appearing in that log when I switch the invoice theme with an invoice open. Is there another log that I should be checking for errors?. @hillelcoren This was in the window labeled Time Tracker. Sorry I don't have time right now to upgrade my self-hosted installation to test.\nI tried to test this on https://app.invoiceninja.com but it doesn't display the version number anywhere that I could find. Also the Time Tracker does seem to accept time tracker entries that start anywhere in yesterday, so maybe this is just the tip of the iceberg so to speak.. ",
    "tmukanhairi": "Where do i find the .env file?\nWhere do i load this command  /run_command?command=&secret=\n. I have put the COMMAND_SECRET=xxxxxx\nWhat do i put on \"command\" and what do i put on \"secret\"\n/run_command?command=command&secret=secret\n. i have put htttp://companyname.co.za/project_folder/run_command?command=send-invoices&secret=xxxxxx\nwhat results should i expect because i am getting the error below.\nERROR 404 - PAGE NOT FOUND. https://example.co.za/invoicing. Looks like its working now, thank you so much\nTue, 04 Sep 2018 20:10:01 +0000 Running SendRecurringInvoices...\nTue, 04 Sep 2018 20:10:01 +0000 1 recurring invoice(s) found\nTue, 04 Sep 2018 20:10:02 +0000 0 due recurring invoice instance(s) found\nTue, 04 Sep 2018 20:10:03 +0000 0 recurring expenses(s) found\nTue, 04 Sep 2018 20:10:03 +0000 Done. ",
    "paulocoghi": "This would be a very nice addition.. ",
    "arr0n": "so yeah it looks like a; \ndocker exec -it chown -hR www-data:www-data /var/www/app/storage \nwill fix that particular issue, this may be useful to put in the FAQs or a note in the docker-compose folder.  . Sorry for the 'invalid' question just thought you'd want to know the docker side of your offering doesn't work without doing some form of docker magic inside the container :'( . i've put a post on there too, it's my bad i guess - seems like there was another exact issue - was closed beginning of the year - as i suggested previously they may want to put a note of the fix till it's updated, otherwise you've got people running around finding the same issue and the same fix.  Anyway it appears the one liner above fixed it for me.  Cheers. ",
    "a1gevaldig": "I have no problem with that. I just thought it's a big that you may be\nunaware of.\nOn Mar 20, 2018 10:22 PM, \"Hillel Coren\" notifications@github.com wrote:\n\nYou'd need to use line item discounts to prevent the gateway fee from\nbeing discounted.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1973#issuecomment-374817357,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAuWMUGrDmdb_ax3_kUnjwS2LLpdeeuqks5tgblYgaJpZM4Sy6c3\n.\n. Fine with me.\n\nOn Wed, Mar 21, 2018 at 2:10 AM, Hillel Coren notifications@github.com\nwrote:\n\nThanks, we're aware of the limitation. I'm not sure I'd consider it a bug\nas there's a workaround.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1973#issuecomment-374841676,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AAuWMXspFJZsuQfP0BNo2pUJ6iVzBRRmks5tge6-gaJpZM4Sy6c3\n.\n\n\n-- \nYanky Follman718-306-9535\n. ",
    "OrionMediaFX": "I mean the lack of docking ability that other tools provide that can be placed anywhere and stays on top of windows, so you can always see how long you've been working. Referring to desktop.. You can close this. There was a misunderstanding.. ",
    "billyggla": "The Kanban column names. I added this a while ago but just updated to 4.2.2 and have no idea what files I changed to add it.\n. Never mind, I found it.\nWould still be a good feature to add to the core though.. +1 For CRM, your own version though if possible. Vtiger has some nice features but feels bloated.\nsuitecrm.com or better yet zurmo.com a good CRM but has no built in invoiving.. some of the date(\"r\") functions have white space, could that be the issue?. It could, but that moves away from the intuitive flow that the rest of IN has.. Exactly like notes. For example, a customer calls and speaks to a member of staff, this is added as a private note, so that other staff know what's been said/done, by who and when.\nIt makes more sense to have this information immediately available on the client overview, just like the activity tab, rather than a ticket.\nI know using a ticket would work, but it just seems like using a hammer on a screw, it'll get the job done, but there's a better way.\nThat being said, the tickets module is brilliant... I don't think Invoice Ninja is compliant with this perticular regulation.\nAfter having a quick read of the law, there are a few issues, like auto locking the information after specified dates, unalterable information (it can be altered) and the publisher has to have full control of modifications (as this is open source you are free to modify the code).\nThis is just a quick observation, but perhaps someone can offer a more definitive answer.. Self hosters can alter using the DB.\nIf the database is part of the software, then wouldn't this also need to be unalterable?. @turbo124  the OP is asking if you would attest that the software complies.\nAs it is open source I don't believe you would be able to provide attestation.\nFor the hosted version, possibly, but then you would still be attesting for the software as a whole, not for the software under specific conditions.\n. Agreed, it really is open to interpretation.. ",
    "arillus-at": "+1 \nany news on that? would be great for customers to see the status of tasks. ",
    "kenmarple": "Absolutely a future request. I use this software but its lacking invoice features which you have mastered in your software..  Take a look at this software https://www.vtiger.com/ a fork off sage.com.  This software has a lot of potential but is lacking some features. Like CRM content management as far as contacts information in detailed like a CRM would have it. Also you need to do inventory control with subcategories and price leveling by percentage \nHaving three or four different price levels wholesale retail \nFor example your cost to buy the product is $100 and then have the price leveling for each category done by a percentage in automatically fill in for  each price level. \nAre used to use a piece of software called ATREX POS  software. The software had inventory control down to a science. LOL developer might want to load it and take a look at it. \nBut I have to say for InvoiceNinja is coming along nicely. Looking forward to seeing more improvements \n. ",
    "kevinoid": "I'm not sure if I understand what you mean about the defaults.  If I change \"Email Style\" to \"Plain\" under \"Email Design\" on the \"Email Settings\" page, the default template does include a URL in the text/plain (and text/html) alternatives.  I agree that is a reasonable workaround and it is what I am currently doing.\nHowever, if you are arguing that the current behavior of sending a broken text/plain alternative by default for \"Light\" and \"Dark\" styles is not a bug, I would respectfully disagree.  (Although I do agree that it's probably a low-priority bug since text-only email user agents are so rare.)\nThanks for the quick response!. ",
    "SpaceCityNetworks": "Okay, I did that just now and fileinfo is not showing up. I am not sure why, everything seems to be correct.. That's alright. I'm pretty new to IIS also. I did restart the server after the change. It isn't too big of a deal to not have the logo on invoices, so I have time to figure it out - at least the name is there in text form. \nThanks for the suggestions though!. Okay, I tried that workaround and got the account key from the table and no luck - does it have to be a specific format? I even tried duplicating the InvoiceNinja logo that is in that directory and naming it with the key and had no luck.. That worked! Thank you so much for your help!. ",
    "johnnelito": "I did upgrade from a previous version and followed instruction in manual as usual.. I checked, for Invoice Email when I click on reset then raw then hit Save. When I view the database for account_email_settings, the value for email_template_invoice is there in html. But when I visit the page again for Invoice Email, it doesn't appear, clicking on Save again, empties the value in account_email_settings.. App Version: v4.3.0\nWhite Label: Yes\nServer OS: Linux 4.4.0-93-generic\nPHP Version: 7.1.99-hhvm\nMySQL Version: 10.2.14-MariaDB-10.2.14+maria~xenial-log. I can't remember the complete version number but it's in v4.X.X.\nThe row for my account is not empty.\nThere's one row with my email on it.\nShould I delete this row? And, create new one?\nOn Thu, Mar 29, 2018 at 5:45 AM, Hillel Coren notifications@github.com\nwrote:\n\nDo you know which version you upgraded from?\nIf the account_email_settings tables is empty try adding a row linked to\nyour account.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1991#issuecomment-377196895,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADJEzga-NbINQ122kQ8OxQ-mAhPIaJo-ks5tjLs8gaJpZM4S_9NX\n.\n. There aren't any. The latest error is from the time I deleted columns in\naccount_email_settings.\nI tried deleting the template related columns just to troubleshoot. But, I\nadded them back and no errors in laravel-error.log after that.\n\n[2018-03-29 07:20:02] production.ERROR:\nIlluminate\\Database\\QueryException [42S22] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php\n[Line 649] => SQLSTATE[42S22]: Column not found: Unknown column\n'email_template_invoice' in 'field list' (SQL: update\naccount_email_settings set updated_at = 2018-03-29 07:20:02,\nemail_subject_invoice = , email_subject_quote = ,\nemail_subject_payment = , email_subject_reminder1 = ,\nemail_subject_reminder2 = , email_subject_reminder3 = ,\nlate_fee1_amount = , late_fee1_percent = , late_fee2_amount = ,\nlate_fee2_percent = , late_fee3_amount = , late_fee3_percent = ,\nemail_template_invoice = , email_template_quote = ,\nemail_template_proposal = , email_template_payment = ,\nemail_template_reminder1 = , email_template_reminder2 = ,\nemail_template_reminder3 = , email_template_reminder4 = where id = 1)\n{\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Johnnel\nPrietos\",\"method\":\"POST\",\"url\":\"\nhttps://billing.uppermedia.ph/settings/templates_and_reminders\",\"previous\":\"\nhttps://billing.uppermedia.ph/settings/templates_and_reminders\",\"user_agent\":\"Mozilla/5.0\n(Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko)\nChrome/67.0.3381.1\nSafari/537.36\",\"locale\":\"en\",\"ip\":\"112.210.166.216\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-03-29 07:17:17] production.ERROR:\nIlluminate\\Database\\QueryException [42S22] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php\n[Line 649] => SQLSTATE[42S22]: Column not found: Unknown column\n'email_template_invoice' in 'field list' (SQL: update\naccount_email_settings set updated_at = 2018-03-29 07:17:16,\nemail_subject_invoice = , email_subject_quote = ,\nemail_subject_payment = , email_subject_reminder1 = ,\nemail_subject_reminder2 = , email_subject_reminder3 = ,\nlate_fee1_amount = , late_fee1_percent = , late_fee2_amount = ,\nlate_fee2_percent = , late_fee3_amount = , late_fee3_percent = ,\nemail_template_invoice = , email_template_quote = ,\nemail_template_proposal = , email_template_payment = ,\nemail_template_reminder1 = , email_template_reminder2 = ,\nemail_template_reminder3 = , email_template_reminder4 = where id = 1)\n{\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Johnnel\nPrietos\",\"method\":\"POST\",\"url\":\"\nhttps://billing.uppermedia.ph/settings/templates_and_reminders\",\"previous\":\"\nhttps://billing.uppermedia.ph/settings/templates_and_reminders\",\"user_agent\":\"Mozilla/5.0\n(Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko)\nChrome/67.0.3381.1\nSafari/537.36\",\"locale\":\"en\",\"ip\":\"112.210.166.216\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:21:29] production.ERROR: RuntimeException [0] :\n/var/www/ninja/vendor/laravel/legacy-encrypter/src/McryptEncrypter.php\n[Line 48] => The only supported ciphers are MCRYPT_RIJNDAEL_128 and\nMCRYPT_RIJNDAEL_256.\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:10:11] production.ERROR:\nIlluminate\\Database\\QueryException [42S22] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php\n[Line 770] => SQLSTATE[42S22]: Column not found: 1054 Unknown column\n'google_2fa_secret' in 'where clause' (SQL: select * from users where\ngoogle_2fa_secret != )\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:09:33] production.ERROR: RuntimeException [0] :\n/var/www/ninja/vendor/laravel/legacy-encrypter/src/McryptEncrypter.php\n[Line 48] => The only supported ciphers are MCRYPT_RIJNDAEL_128 and\nMCRYPT_RIJNDAEL_256.\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:08:08] production.ERROR:\nSymfony\\Component\\Debug\\Exception\\FatalThrowableError [0] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n[Line 659] => Call to undefined method\nIlluminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:06:18] production.ERROR:\nSymfony\\Component\\Debug\\Exception\\FatalThrowableError [0] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n[Line 659] => Call to undefined method\nIlluminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:06:04] production.ERROR:\nSymfony\\Component\\Debug\\Exception\\FatalThrowableError [0] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n[Line 659] => Call to undefined method\nIlluminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:05:55] production.ERROR:\nSymfony\\Component\\Debug\\Exception\\FatalThrowableError [0] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n[Line 659] => Call to undefined method\nIlluminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:04:29] production.ERROR:\nSymfony\\Component\\Debug\\Exception\\FatalThrowableError [0] :\n/var/www/ninja/vendor/laravel/framework/src/Illuminate/Foundation/helpers.php\n[Line 659] => Call to undefined method\nIlluminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"\nhttps://billing.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\nOn Thu, Mar 29, 2018 at 7:50 AM, Hillel Coren notifications@github.com\nwrote:\n\nNo, then it probably isn't the issue.\nAre there any errors in the browser console or in\nstorage/logs/laravel-error.log\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1991#issuecomment-377224874,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADJEznu1X4HuLPDBazTd2ZN0mUi75sL0ks5tjNipgaJpZM4S_9NX\n.\n. Ohhhh... there are errors in browser console? This is in Chrome. Tried in\nEdge sam issue.\n\nbuilt.js?no_cache=4.3.0:1 [Violation] 'DOMContentLoaded' handler took 256ms\n[Violation] Forced reflow while executing JavaScript took 149ms\njquery-2.1.4.min.js:3 [Violation] Added synchronous DOM mutation listener\nto a 'DOMNodeInserted' event. Consider using MutationObserver to make the\npage more responsive.\nadd @ jquery-2.1.4.min.js:3\n(anonymous) @ jquery-2.1.4.min.js:3\neach @ jquery-2.1.4.min.js:2\neach @ jquery-2.1.4.min.js:2\non @ jquery-2.1.4.min.js:3\n(anonymous) @ progressPopup.js:224\nonloadwff.js:79 [Violation] 'setTimeout' handler took 141ms\njquery.min.js:14 [Violation] Added synchronous DOM mutation listener to a\n'DOMSubtreeModified' event. Consider using MutationObserver to make the\npage more responsive.\nadd @ jquery.min.js:14\n(anonymous) @ jquery.min.js:14\neach @ jquery.min.js:14\neach @ jquery.min.js:14\non @ jquery.min.js:14\nbind @ jquery.min.js:14\ninit @ content.js:119\n(anonymous) @ content.js:132\nsendResponseAndClearCallback @ VM959 extensions::messaging:419\nmessageListener @ VM959 extensions::messaging:451\nEventImpl.dispatchToListener @ VM952 extensions::event_bindings:403\npublicClassPrototype.(anonymous function) @ VM958 extensions::utils:138\nEventImpl.dispatch_ @ VM952 extensions::event_bindings:387\nEventImpl.dispatch @ VM952 extensions::event_bindings:409\npublicClassPrototype.(anonymous function) @ VM958 extensions::utils:138\ndispatchOnMessage @ VM959 extensions::messaging:392\nOn Thu, Mar 29, 2018 at 9:56 AM, Johnnel Prietos johnnelito@gmail.com\nwrote:\n\nThere aren't any. The latest error is from the time I deleted columns in\naccount_email_settings.\nI tried deleting the template related columns just to troubleshoot. But, I\nadded them back and no errors in laravel-error.log after that.\n[2018-03-29 07:20:02] production.ERROR: Illuminate\\Database\\QueryException\n[42S22] : /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php\n[Line 649] => SQLSTATE[42S22]: Column not found: Unknown column\n'email_template_invoice' in 'field list' (SQL: update\naccount_email_settings set updated_at = 2018-03-29 07:20:02,\nemail_subject_invoice = , email_subject_quote = ,\nemail_subject_payment = , email_subject_reminder1 = ,\nemail_subject_reminder2 = , email_subject_reminder3 = ,\nlate_fee1_amount = , late_fee1_percent = , late_fee2_amount = ,\nlate_fee2_percent = , late_fee3_amount = , late_fee3_percent = ,\nemail_template_invoice = , email_template_quote = ,\nemail_template_proposal = , email_template_payment = ,\nemail_template_reminder1 = , email_template_reminder2 = ,\nemail_template_reminder3 = , email_template_reminder4 = where id = 1)\n{\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Johnnel\nPrietos\",\"method\":\"POST\",\"url\":\"https://billing.uppermedia.\nph/settings/templates_and_reminders\",\"previous\":\"https:/\n/billing.uppermedia.ph/settings/templates_and_reminders\",\"user_agent\":\"Mozilla/5.0\n(Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko)\nChrome/67.0.3381.1 Safari/537.36\",\"locale\":\"en\",\"\nip\":\"112.210.166.216\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-03-29 07:17:17] production.ERROR: Illuminate\\Database\\QueryException\n[42S22] : /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php\n[Line 649] => SQLSTATE[42S22]: Column not found: Unknown column\n'email_template_invoice' in 'field list' (SQL: update\naccount_email_settings set updated_at = 2018-03-29 07:17:16,\nemail_subject_invoice = , email_subject_quote = ,\nemail_subject_payment = , email_subject_reminder1 = ,\nemail_subject_reminder2 = , email_subject_reminder3 = ,\nlate_fee1_amount = , late_fee1_percent = , late_fee2_amount = ,\nlate_fee2_percent = , late_fee3_amount = , late_fee3_percent = ,\nemail_template_invoice = , email_template_quote = ,\nemail_template_proposal = , email_template_payment = ,\nemail_template_reminder1 = , email_template_reminder2 = ,\nemail_template_reminder3 = , email_template_reminder4 = where id = 1)\n{\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Johnnel\nPrietos\",\"method\":\"POST\",\"url\":\"https://billing.uppermedia.\nph/settings/templates_and_reminders\",\"previous\":\"https:/\n/billing.uppermedia.ph/settings/templates_and_reminders\",\"user_agent\":\"Mozilla/5.0\n(Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko)\nChrome/67.0.3381.1 Safari/537.36\",\"locale\":\"en\",\"\nip\":\"112.210.166.216\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:21:29] production.ERROR: RuntimeException [0] :\n/var/www/ninja/vendor/laravel/legacy-encrypter/src/McryptEncrypter.php\n[Line 48] => The only supported ciphers are MCRYPT_RIJNDAEL_128 and\nMCRYPT_RIJNDAEL_256. {\"context\":\"PHP\",\"user_id\":0,\"\naccount_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://\nbilling.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\n\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:10:11] production.ERROR: Illuminate\\Database\\QueryException\n[42S22] : /var/www/ninja/vendor/laravel/framework/src/Illuminate/Database/Connection.php\n[Line 770] => SQLSTATE[42S22]: Column not found: 1054 Unknown column\n'google_2fa_secret' in 'where clause' (SQL: select * from users where\ngoogle_2fa_secret != ) {\"context\":\"PHP\",\"user_id\":0,\"\naccount_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://\nbilling.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\n\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:09:33] production.ERROR: RuntimeException [0] :\n/var/www/ninja/vendor/laravel/legacy-encrypter/src/McryptEncrypter.php\n[Line 48] => The only supported ciphers are MCRYPT_RIJNDAEL_128 and\nMCRYPT_RIJNDAEL_256. {\"context\":\"PHP\",\"user_id\":0,\"\naccount_id\":0,\"user_name\":\"\",\"method\":\"GET\",\"url\":\"https://\nbilling.uppermedia.ph\",\"previous\":\"https://billing.uppermedia.ph\n\",\"user_agent\":\"\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:08:08] production.ERROR: Symfony\\Component\\Debug\\\nException\\FatalThrowableError [0] : /var/www/ninja/vendor/laravel/\nframework/src/Illuminate/Foundation/helpers.php [Line 659] => Call to\nundefined method Illuminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"\nmethod\":\"GET\",\"url\":\"https://billing.uppermedia.ph\",\"previous\":\"\nhttps://billing.uppermedia.ph\",\"user_agent\":\"\"\n,\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:06:18] production.ERROR: Symfony\\Component\\Debug\\\nException\\FatalThrowableError [0] : /var/www/ninja/vendor/laravel/\nframework/src/Illuminate/Foundation/helpers.php [Line 659] => Call to\nundefined method Illuminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"\nmethod\":\"GET\",\"url\":\"https://billing.uppermedia.ph\",\"previous\":\"\nhttps://billing.uppermedia.ph\",\"user_agent\":\"\"\n,\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:06:04] production.ERROR: Symfony\\Component\\Debug\\\nException\\FatalThrowableError [0] : /var/www/ninja/vendor/laravel/\nframework/src/Illuminate/Foundation/helpers.php [Line 659] => Call to\nundefined method Illuminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"\nmethod\":\"GET\",\"url\":\"https://billing.uppermedia.ph\",\"previous\":\"\nhttps://billing.uppermedia.ph\",\"user_agent\":\"\"\n,\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:05:55] production.ERROR: Symfony\\Component\\Debug\\\nException\\FatalThrowableError [0] : /var/www/ninja/vendor/laravel/\nframework/src/Illuminate/Foundation/helpers.php [Line 659] => Call to\nundefined method Illuminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"\nmethod\":\"GET\",\"url\":\"https://billing.uppermedia.ph\",\"previous\":\"\nhttps://billing.uppermedia.ph\",\"user_agent\":\"\"\n,\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\n[2018-02-01 07:04:29] production.ERROR: Symfony\\Component\\Debug\\\nException\\FatalThrowableError [0] : /var/www/ninja/vendor/laravel/\nframework/src/Illuminate/Foundation/helpers.php [Line 659] => Call to\nundefined method Illuminate\\Foundation\\Application::resourcePath()\n{\"context\":\"PHP\",\"user_id\":0,\"account_id\":0,\"user_name\":\"\",\"\nmethod\":\"GET\",\"url\":\"https://billing.uppermedia.ph\",\"previous\":\"\nhttps://billing.uppermedia.ph\",\"user_agent\":\"\"\n,\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"yes\",\"is_api\":\"no\",\"db_server\":\"mysql\"}\n[]\nOn Thu, Mar 29, 2018 at 7:50 AM, Hillel Coren notifications@github.com\nwrote:\n\nNo, then it probably isn't the issue.\nAre there any errors in the browser console or in\nstorage/logs/laravel-error.log\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/1991#issuecomment-377224874,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/ADJEznu1X4HuLPDBazTd2ZN0mUi75sL0ks5tjNipgaJpZM4S_9NX\n.\n\n\n. It was cleared during the upgrade and everytime I hit the Save button. If it helps, I enabled debug mode and during POST the command it sends as 'update' to the database the values for template columns are always empty, even if I have reset beforehand.\n\nConsequently, even if I have anything manually inserted to the value in the database for the template columns, they always show as empty in InvoiceNinja. ",
    "agilecollab": "Sorry to post on a closed issue, I see this is marked as fixed... yet I can't determine how to disable the proposal PDF on my self hosted instance. Is there some setting that I am missing to disable only PDF download on the proposals, yet maintain pdf downloading of invoices?  \nTotally agree that this needs to be improved, I thought i had an awesome template created until I saw how it looked in PDF form. \n. ",
    "KonradHolubek": "Thank you for your quick reply :) The invoice number is not taken.. however, the client does not exist. Should I understand that I first need to import my client list before I can import my invoices ? . Perfect, works now. Thank you.. Great ! Thank you. . Thank you @hillelcoren. Indeed, i had to add \u201cAllowOverride All\u201d to my vhost conf file (to enable the .htacces file). I reinstalled Invoice ninja and now it's even worse : I have a blank page with Whoops, looks like something went wrong and no logs. I activate the errors in .env and I see this : \n\nI checked the chown and chmod on the files as requested on the download page and everything seem ok. I also ran composer install.\nI'm out of ideas.... \nPS : I think this started after I installed asterisk voip on the same VPS... can the following command be the source of the error \ncp /etc/apache2/apache2.conf /etc/apache2/apache2.conf_orig\nsed -i 's/^\\(User\\|Group\\).*/\\1 asterisk/' /etc/apache2/apache2.conf\nsed -i 's/AllowOverride None/AllowOverride All/' /etc/apache2/apache2.conf\nUPDATE : \nI now have log files (maybe it was a cache think). This is what I get in the laravel-error log\n[2018-11-27 23:01:02] production.ERROR: ***Doctrine\\DBAL\\Driver\\PDOException*** [1045] : /var/www/<mywebsite>/vendor/doctrine/dbal/lib/Doctrine/DBAL/Driver/PDOConnection.p$\n[2018-11-27 23:01:02] production.ERROR: ***Illuminate\\Database\\QueryException*** [1045] : /var/www/<mywebsite>/vendor/laravel/framework/src/Illuminate/Database/Connection.$\n[2018-11-27 23:01:02] production.ERROR: ***Doctrine\\DBAL\\Driver\\PDOException*** [1045] : /var/www/<mywebsite>/vendor/doctrine/dbal/lib/Doctrine/DBAL/Driver/PDOConnection.p$\n[2018-11-27 23:01:02] production.ERROR: ***Illuminate\\Database\\QueryException*** [1045] : /var/www/<mywebsite>/vendor/laravel/framework/src/Illuminate/Database/Connection.$. Ok, I managed to solve the issue : \nThe main problem (I think) is that I had no more disk space on my VPS. So I freed up some space\nI chmod also the bootstrap folder (if this is a must, I think you should update your how to page)\nCheers, \nK. ",
    "kimlop": "there are some plans to introduce the support to the Italian e-invoice? \nhttps://www.agenziaentrate.gov.it/wps/content/Nsilib/Nsi/Schede/Comunicazioni/Fatture+e+corrispettivi/Fatture+e+corrispettivi+ST/ST+invio+di+fatturazione+elettronica/?page=ivacomimp . ",
    "EvilOni": "Ohhh that works perfectly. nevermind me. I'm just an idiot lol. Ok i see why i got confused the first time i did it. I wanted to do an annual invoice to cover 1H of the year.\nSo i set the start date as Jan 01 This year thinking the invoice for jan 01 2017 would be created to be sent.\nThe invoice created was for current day. with the anniversary for sending being today, even though the start date is Jan 01\nSo there is no way to make a recurring invoice with an anniversary date set in the past. So ideally the invoice date and the recurring date should be set from the start date, not the date created for recurring invoices with start dates set to prior dates from present.\nDoes that make sense?. Yes ideally. This is a common workflow feature in CRM systems. The employee can draft the quotation but it would need their supervisor or an admin to approve it before issue.\nSame for invoices, the employee can draft it, but it needs supervisor or manager approval, also the manager can choose to do adjustments/discounts prior to issue.. I'm ok with that.\nI was just operating from the framework that products were separated by users for a reason.\nWhat about clients? I can see space for all three use cases.\n1) Each user separate clients\n2) Each user separate clients, with some \"shared\" or \"global\"\n3) All clients shared or globally available (like products)\n. Agreed. accept_terms.pdf\n. issue closed. Not 100% sure what the root cause was. Had a couple extra files in the migrations folder that weren't in the Invoice Ninja codebase. My suspicion is that it was vestigial from the Cloudways invoiceninja Larvavel instance.\nDeleting these files allowed the upgrade to proceed and complete. ",
    "martin072": ":-S how stupid am I. Funny, CLI is php7 but apache runs php5. Do you know how to tell apache to run php7?. ",
    "feldsam": "Hi, there is PR #2242. Hello, there is requirement also change knockout.blade.php, because there is conversion of product cost. no, I reverse exchange rates, as I wrote in first post. for ex, exchange rate for base currecny CZK to EUR was 0.04. Now it is 25. So we have to change multiply to divide. Ok, I understand that you want match data returned from API.\nProblem with payments:\nCompany currency - CZK\nClient currency - EUR\nExchange rate - 0.04\nProduct no.1 - 900CZK\nCreate new invoice and add Product no.1. Price will be converted  900 * 0.04 = 36EUR. All correct.\nSave invoice and Enter payment. Amount is in EUR, so enter 36EUR. Mark convert amount, and you will see preddefined Czech Koruna, exchange rate 0.04 and converted amount 36 * 0.04 = 1,44 CZK, which is wrong. . Ahaa, it was cached, you convert exchange rate on payment screen to 25. ok, my fault. Why this is still not merged?. Changes looks good  \ud83d\udc4d. Hello, this i sfixed in my PR #2235. Hello, ok, I dont test with local bin, just with api, but should work.\nregarding to email, I already wrote.. Hello @rodruiz you should open new issue on this, or better create pull request. Thanks!. @rodruiz I know about it, and it was not just 4 lines, it should be updated in whole project.. I was also thinking about ability to chose both and it is already done, I updated this PR.. Rework - added completely new subsection \"Recurring quotes\". I glad to hear that, thanks.. and it was working before coping that 4 files? Are you run db migrations and composer install?. and what version you have before upgrade to 4.5.1?\nphp artisan migrate\nphp artisan migrate:rollback. do you have debug mode enabled?. try run php artisan cache:clear. hmm, I don't know what can cause loop. I can not debug if there is no error log and on my DB it is working. I suppose that you can not share me your entire DB.. great, would you please paste here DB Quieries from debug console of laravel? I like to see that db query.. would you print_r($balances) before that foreach?. looks like that when client is creating and you don't touch client currency leaving it preset to default, system internally doesn't set it and leaves it NULL in DB. So I have to fix DB query to count with NULLs and use account base currency.... try now, it should be working now. oh, sorry, fixed now. fixed, you dont have any invoice custom fields. so I added check for that, but you still need invoice_custom field for exchange_rate.\ngo to /settings/products and bellow \"Convert products\" is Note about adding invoicce custom field.\nYou also need have filled exchnage rate on all invoices in foreing currency. and one more thing, there is fixer.io importer, but you need register free account and set api key in .env. because you can not just copy files from develop to stable. I am also not sure, if fixer is fixed in stable branch. In develop it is fixed. If you want use changes from this PR, you have to use develop branch and copy files over, resp. use this branch, because this time includes all from develop. thank you for testing!. This feature will be in 4.6\n. Hi all, good idea! I agree with @hillelcoren that it should not break blue/black convention. For example, I don't bill every client every month.. We should also think about dashboard UI/UX rework, because we need more and more informations to show on.. Hi, would you share how to run permissions tests?. PLease check, I make som fixes and it should work now.. Hello, I was writing you about that on Slack. In this PR I set exact version of Archive package to 1.0.5, because it was not working with 1.0.7. Second thing is missing STDOUT constant on some systems, so I added it.. Hello, I can confirm, it is not working. Problems happens after security hardening.... I fixed cross clonning in https://github.com/invoiceninja/invoiceninja/pull/2531, but not recurring quotes, because I don't use it yet. I have to implement reminders for quotes first..... ",
    "bmanfield": "I will check and confirm. \nI read the update instructions and it says the update is performed by overwriting the files and a version control identifies that the update should run. It doesn't indicate that I have to trigger the update by any other means. Could the update documentation be made clearer if this is the case? Please. \ud83d\ude0a. https://pinpayments.com/small-business/recurring-payments. I was hoping that Invoice Ninja could configure the repayment plan in Pin Payments.. Hi,\nI ran the query and this is what was returned:\ncode  exchange_rate\nUSD 1.1805\nGBP 0.8735\nEUR 1\nZAR 14.801\nDKK 7.4481\nILS 4.2382\nSEK 10.295\nKES NULL\nCAD 1.5077\nPHP 61.711\nINR 79.964\nAUD 1.5681\nSGD 1.5845\nNOK 9.5565\nNZD 1.7125\nVND NULL\nCHF 1.1819\nGTQ NULL\nMYR 4.6854\nBRL 4.3286\nTHB 37.859\nNGN NULL\nARS NULL\nBDT NULL\nAED NULL\nHKD 9.2666\nIDR 16588\nMXN 23.168\nEGP NULL\nCOP NULL\nXOF NULL\nCNY 7.5174\nRWF NULL\nTZS NULL\nANG NULL\nTTD NULL\nXCD NULL\nGHS NULL\nBGN 1.9558\nAWG NULL\nTRY 5.2497\nRON 4.6319\nHRK 7.3803\nSAR NULL\nJPY 130.66\nMVR NULL\nCRC NULL\nPKR NULL\nPLN 4.2899\nLKR NULL\nCZK 25.557\nUYU NULL\nNAD NULL\nTND NULL\nRUB 73.155\nMZN NULL\nOMR NULL\nUAH NULL\nMOP NULL\nTWD NULL\nDOP NULL\nCLP NULL\nISK 123.2\nPGK NULL\nJOD NULL\nMMK NULL\nPEN NULL\nBWP NULL\nHUF 316.58\nUGX NULL\nBBD NULL\nBND NULL\nGEL NULL\nQAR NULL\nHNL NULL\nSincerely\nBen\nOn Thu, May 17, 2018 at 3:01 PM, Hillel Coren notifications@github.com\nwrote:\n\nI think the problem may be due to the exchange rates being blank.\nDo you see and rates when running this SQL query:\nselect code, exchange_rate from currencies;\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2100#issuecomment-389749349,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APG985gdQPtoR0k6qE-qsgRyE75RbJlkks5tzQswgaJpZM4UCPoy\n.\n. Only AUD. Australian dollar.\n\nOn Fri, 18 May 2018, 2:38 pm Hillel Coren, notifications@github.com wrote:\n\nWhich currencies are you using?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2100#issuecomment-390095888,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APG988AwRzOd-NRE0celwFhaPutdxSfFks5tzlc4gaJpZM4UCPoy\n.\n. Thats odd. We don't allow our clients negative totals. We do have products with negative values though. But they only ever credit the client back to a 0 balance.\n\n**Edit: I've found the client. Thanks for bringing it to our attention.. Yikes! There is! That was a fast payment!\nOn Thu, May 24, 2018 at 2:59 PM, Hillel Coren notifications@github.com\nwrote:\n\nIs this a new invoice/have any payments been applied against it already?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2113#issuecomment-391593088,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APG98_S2ueM50U60LgLrImhkM6LcPTgYks5t1kVAgaJpZM4ULfCV\n.\n. Hi,\nWe are self-hosted. Payments have previously processed successfully about a month ago. The error has only started with the last client payment.\n\nSincerely,\nBen Manfield. I haven't manually configured Omnipay. I've only used the pre-configured Invoice Ninja Pin payments gateway.\nThe tech support from the web host hasn't been helpful.\nCould someone help me update the CA?\ncat /proc/version\nLinux version 2.6.32-673.26.1.lve1.4.30.el6.x86_64 (mockbuild@build.cloudlinux.com) (gcc version 4.4.7 20120313 (Red Hat 4.4.7-18) (GCC) ) #1 SMP Wed Jun 21 19:37:37 EDT 2017\nCheers\nBen. Zuver tell me the CA is already installed. I've asked them to confirm that the Let's Encrypt CA has been recently updated.\nOtherwise they're telling me to buy a certificate.. Latest response from web host:\nThe problem you're running into seems to be a due to the server the API you're using is hosted on, doesn't seem to trust the CA that Let's Encrypt uses (DST Root CA X3). They'd need to add the Let's Encrypt CA to their server to fix this.\nSo that would be Pin Payments? . @montdidier Could you please have Pin Payments investigate further? . Should this issue be reopened? Has there been any progress in updating the Invoice Ninja dependencies?. I guess from a bookkeeping point of view we should actually be processing vouchers as 'check' payments.. As I understand it the main issue with migrating from the the abandoned Guzzle package is that the majority of OmniPay payment gateways that is dependent on it havent been updated to be v.3 compatible.\nPerhaps a separate download/fork provided by IN for those that want to update to the newer OmniPay v3 gateways is required until more payment gateways are updated, and cease/deprecate any further integration of v.2 gateways.. Line items dated today attached.\nlaravel_error.log\n. Restored full backup to 4.4.3 and statements are still not viewable. They were previously viewable before attempted upgrade.. Any ETA on a fix? 4.5.1?\nOn Tue, 10 Jul. 2018, 6:03 pm David Bomba, notifications@github.com wrote:\n\nfor anyone else hitting this, the issue was the URL not being rewritten to\nremove /public causing a 404 error.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2228#issuecomment-403744000,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APG98zr7Vk-crXhtpceHdgZhnoIu9Mv2ks5uFGbFgaJpZM4VG8fi\n.\n. Some times it is better for people with no idea just to be patient. \ud83d\udc4d \ud83d\ude00\n\nOn Tue, 10 Jul. 2018, 6:13 pm Hillel Coren, notifications@github.com\nwrote:\n\nWe should have a dot release within about a week.\nYou may be able to fix it by adding the missing part of the route here:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/views/clients/statement.blade.php#L102\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2228#issuecomment-403746999,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APG989c1ux6PoUJF5bwhQdt0CLd1PF1Fks5uFGk2gaJpZM4VG8fi\n.\n. Rather than multiple gateway support perhaps the direction should be specific payment type support? Add as many gateways as you like but only allow one payment type to be processed by a specific gateway.\neg\n- Visa and Mastercard by Pin Payments (No merchant account required)\n- Amex and Diners by PayPal (Cheaper fees)\n- Direct Deposit by Ezidebit (Automated EFTPOS/Direct Deposit service not offered elsewhere)\n- Reoccurring Payments gateway (Select a gateway to allow repayment plans)\n\n. Yeah but its not 100% accurate. If it was I would be getting $200 back from\nPin Payments instead of $199.93.\nBen\nOn Mon, Aug 20, 2018 at 1:44 PM Hillel Coren notifications@github.com\nwrote:\n\nWe support specifying gateway fees on Settings > Online Payments.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2300#issuecomment-414192697,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/APG985nr84JImrh43k7PM92JLYw_KVWbks5uSjejgaJpZM4WDNaA\n.\n. Other than the requirement for a different payment provider I guess it probably is.. Screenshots attached.\n\n\n\n. Ok I've updated the app.\nAny reason why Google Play doesnt advise the update is available?. Oh and thanks for your help BTW. :). The app with the round icon. :-) . ",
    "daniel-nodo5": "ok!, i sent the file. \nThanks!. ",
    "DonBreezer": "When I want to change the invoice number in settings I get this error as well.\nAnd when changing settings in the online payment settings.. When I want to activate payment details I get the error.\n[2018-04-28 20:50:13] production.ERROR: Illuminate\\Database\\QueryException [42S22]\n[Line 647] => SQLSTATE[42S22]: Column not found: 1054 Unknown column 'send_item_details' in 'field list' (SQL: update accounts set updated_at = 2018-04-28 20:50:13, auto_bill_on_due_date = 0, gateway_fee_enabled = 0, send_item_details = 1 where id = 1)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Deejay\"method\":\"POST\",\"url\":\"http://mysite/public/settings/online_payments\",\"previous\":\"http://mysite/public/settings/online_payments\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 \n. I have created a user and deleted it as well yes, a while ago. I'm still on 4.3.1 waiting for softaculous to push the update. I currently only have 1 user myself.. 0 Rows result.. What do you mean?. is_executable(): open_basedir restriction in effect. File(/opt/alt/php70/usr/bin/php) is not within the allowed path(s): (/home/mydom/domains/mysite/:/home/mydom/domains/include/:/etc/pki/tls/certs:/tmp:/var/tmp:/usr/local/lib/php/:/usr/local/php70/lib/php/). And with version 4.4 everything will be fixed? And what settings do I need to change in open_basedir?. Aaah ok, I understand, what value do I need to change in open_basedir?. \nSo I just add the line with the include path?. Alright thanks for the help \ud83d\udc4d . ",
    "DenBeke": "\nAre there any details in storage/logs/laravel-error.log\n\nNope. No Laravel errors.. Nope, no recent errors in my Apache error log.. This is the only thing I see:\n\nThe Failed to start loading error is not toggled by performing the save action. So I don't know if that has anything to do with my problem.. Nope, just the popup:\n\n(sorry for the Dutch text :p). It is already lowercase https.\nMy complete .env file:\nAPP_ENV=production\nAPP_DEBUG=false\nAPP_LOCALE=en\nAPP_URL=https://*********.be\nAPP_KEY=***************\nAPP_CIPHER=AES-256-CBC\nREQUIRE_HTTPS=false\nDB_TYPE=mysql\nDB_HOST=127.0.0.1\nDB_DATABASE=invoiceninja\nDB_USERNAME=***************\nDB_PASSWORD=***************\nMAIL_DRIVER=smtp\nMAIL_PORT=587\nMAIL_ENCRYPTION=tls\nMAIL_HOST=smtp.sendgrid.net\nMAIL_USERNAME=apikey\nMAIL_FROM_NAME=***************\nMAIL_FROM_ADDRESS=***************\nMAIL_PASSWORD=***************\nPHANTOMJS_CLOUD_KEY=a-demo-key-with-low-quota-per-ip-address\nPHANTOMJS_SECRET=***************\nPHANTOMJS_BIN_PATH=/usr/local/bin/phantomjs\nMAILGUN_DOMAIN=\nMAILGUN_SECRET=\nTRUSTED_PROXIES='127.0.0.1'\nSESSION_ENCRYPT=true\nSESSION_SECURE=true. That works! Thanks!. ",
    "blizzardengle": "I just double checked and your right it didn't save my update. Solved.. ",
    "passionInfinite": "@liming29 I checked this and I want to know whether you signed from same timezone or different timezone and expecting the date time according to your timezone?\n. @timothyjensen Did you kept your screen waiting for more than 4hours?. ",
    "mr6volt": "I attempted to also perform a search on invoices and that fails as well.. I copied and pasted the search right out of the documentation.\nAre you saying that the documentation is wrong?. http://docs.invoiceninja.com/en/latest/api.html. Yeah, i'm still getting \"no matches found\"\nAre you running version 4.4.1?. Tracked it down to a quirk of Curl.\nAny url with a query string requires that you surround it with quotation marks.\nPlease update documentation so that api search urls are in quotes.. Curl 7.58.0\nIt's the version that ships with Ubuntu Server 18.04. ",
    "zikeji": "It redirects me to the login and says Successfully completed update - See what's new in v4.2.2.. Hmm.. I'm using the Softaculous installer. I'm going to change over to the stripe test sandbox, test it, and update to the latest with Softaculous. If I still get the error I'll run the migrations manually.. Alright, I updated and manually ran the steps outlined in the upgrade guide. I wasn't able to reproduce on the test gateway before or after, so I'm going to wait till I receive another live payment. In the meantime I'll close this, thanks for the quick attention.. ",
    "Napsty": "@hillelcoren you probably can tell that I'm more Ops than Dev.\nNot sure if this PR is correct now. Let me know. Thx.. @dicarlosystems That's what I meant with \"I'm more Ops than Dev\" ;-) . I don't know why there came a lot of other commits with my commit. I'll be happy to provide another, clean PR.. I now figured out what went wrong in my previous PR: I used \"git checkout -b develop\" instead of \"git checkout develop\". . I just want to add that I (only now) came across this error, when I added the cron jobs for sending the reminders.\n```\nroot@invoicing:/var/www/invoice-ninja# /usr/bin/php /var/www/invoice-ninja/artisan ninja:send-reminders\nMon, 18 Jun 2018 11:01:43 +0000 Running SendReminders...\nMon, 18 Jun 2018 11:01:43 +0000 0 accounts found with fees\nMon, 18 Jun 2018 11:01:43 +0000 1 accounts found with reminders\nMon, 18 Jun 2018 11:01:43 +0000 Company: 0 invoices found\nMon, 18 Jun 2018 11:01:43 +0000 Company: 0 endless invoices found\nMon, 18 Jun 2018 11:01:43 +0000 0 scheduled reports\nMon, 18 Jun 2018 11:01:43 +0000 Loading latest exchange rates...\nIn SendReminders.php line 210:\nUndefined property: stdClass::$rates  \n```\nChecking the logs of the mail server reveals that the reminders were not sent.. Just tested it with 4.4.4. Error is gone, but invoice reminder is not sent. Does InvoiceNinja send the reminder only on day X (reminder date) or does it check that a reminder should have been sent in the past days, but wasn't?. OK that explains it. Thanks.\nError mentioned in this issue is therefore fixed in 4.4.4, can confirm.. > I believe that would cause it to send a reminder every day...\nNot if you have a field in the db table where you mark reminder x as sent. E.g. reminder 1 should have been sent on the 14th of the month but wasn't (no \"true\" or 1 added in the reminder1_sent field) so reminder 1 will be sent on the next job run (usually a day later).. Fully agree ;). Yes but that only works if there was only one contact and this contact signs/pays the quote.\nI've had the following two scenarios already:\n- The quote was sent to three different contacts of the same customer\n- The quote was sent to a contact of a customer but this contact is legally not allowed to sign the quote and therefore forwards the link to his supervisor. In Switzerland, a signature alone is not legally blinding. It must be accompanied with the full name of the person signing. So your idea to adapt the custom template works for the first scenario mentioned above (several contacts). \nBut it won't work for the second scenario, where the link is forwarded to another person. And this scenario happens quite a lot. . Mistake. Will open a new PR.. ",
    "jacobalberty": "Might have been smart for me to include screenshots \n\n\n. Oh  one other thing it does that I assume is related, when I click enter expense under the client section it just goes to the dashboard, I don't see any errors in the logs when I hit that button. Nope, fresh install using the docker images and docker-compose setup, only changes made were to enable ssl on the nginx server. - Is the client correctly listed on /expenses\nYes, I see \"Apartment C\" listed under the client name field.\n- Have you purged any clients\nI do not recall purging any clients. I did on an earlier test setup but I wiped sql db and data directories to recreate for this install.\n- Does clicking the client link on the expense page take you to the correct client\nYes\n- Can you send the results of this SQL query:\n\n+----+-----------+------------+------------+------+------------+------------+\n| id | client_id | deleted_at | is_deleted | id   | deleted_at | is_deleted |\n+----+-----------+------------+------------+------+------------+------------+\n|  1 |         1 | NULL       |          0 |    1 | NULL       |          0 |\n|  2 |         1 | NULL       |          0 |    1 | NULL       |          0 |\n|  3 |         1 | NULL       |          0 |    1 | NULL       |          0 |\n|  4 |         1 | NULL       |          0 |    1 | NULL       |          0 |\n|  5 |         1 | NULL       |          0 |    1 | NULL       |          0 |\n|  6 |         1 | NULL       |          0 |    1 | NULL       |          0 |\n|  7 |      NULL | NULL       |          0 | NULL | NULL       |       NULL |\n|  8 |      NULL | NULL       |          0 | NULL | NULL       |       NULL |\n|  9 |      NULL | NULL       |          0 | NULL | NULL       |       NULL |\n| 10 |      NULL | NULL       |          0 | NULL | NULL       |       NULL |\n| 11 |      NULL | NULL       |          0 | NULL | NULL       |       NULL |\n+----+-----------+------------+------------+------+------------+------------+\n11 rows in set (0.01 sec)\n. Tried both of those, no go. I've been a little unclear on how to back up the database, do I just export it as json under settings?. sent. \n",
    "jbeima": "Yes, everything else loads fine.\nThere are no errors that I saw, but I did not \"inspect\" the page in Chrome. I could if you like.\nNo. I even tried using the date selector box and it made no difference, and older date prior to today simply does not popular or load.. Upon an \"inspect\" via Chrome I see a \"Uncaught SyntaxError: Unexpected identifier\" on the Start Date Field.. Upon closer look it may be nothing... It looks like it is complaining about \"/17/edit\" line 1 the <!DOCTYPE html> tag/\n. The exact error I am given when I try and email the reoccurring invoice is \"This invoice is not scheduled to run\" Two more have done it today. With starting dates back in 2017.. I have 2 to run today and I did a little playing around.\nIt most certainly has to do with the population of the date field. Since from the screenshots attached you see that even though the \"Start Field\" is blank it knows the date and tells me what it is changing it to.\nIf you simply save the invoice it wipes the field blank as also seen below.\nMost likely the value is not being loaded into the field from a filter preventing older dates from populating since from the screenshot below I cannot select an older date either.\n\n\n\n\n\n. Is there anything else I can do to help? My next run of reoccurring is not until the 13th.... Hi, Yes, because it gives me the error about and it does not create an \"invoice\", so I know nothing is happening. :)\n. typo... \"the error mentioned above\".... By the way, just as a side note, I have never been able to get the artisan script to actually work. It does nothing but show me a php version header. So all reoccurring I have to manually send on the day by loading the reoccurring template and then clicking on email invoice.\n. Just doing some screen captures of today's 2 invoices for you. Not that I am rushing, any ideas on any sort of timeline for a fix or test fix?. Todays screen shots:\n\n\n\n\n\n\n. THANK YOU!!!!. ",
    "somnium78": "+1. ",
    "InfinityWebMe": "Hello,\nAny news about it ? It's planned to can assign a task to a user ?\nThanks :)\n. I can help to develop it, if it's need and it's nice to do the same with invoices :D. Yes of course, the relation between customer and projet must be guarded :-)\nLe 20 ao\u00fbt 2018 \u00e0 21:18 +0200, Hillel Coren notifications@github.com, a \u00e9crit :\nThis may be a bit more complicated to implement. In order to ensure the client/project always match the available list of projects would need to be filtered to the selected client. Similar to how the invoice list is filtered when selecting a client on the new payment page.\n\u2014\nYou are receiving this because you commented.\nReply to this email directly, view it on GitHubhttps://github.com/invoiceninja/invoiceninja/issues/2151#issuecomment-414431464, or mute the threadhttps://github.com/notifications/unsubscribe-auth/ADKcFhhpf3jW-CKGEBGbwBPTXOC83xCcks5uSwuNgaJpZM4UetJD.\n. Alright, the decision for the invoices is final ? I insist because for me, effectively, it would be a good feature as I use the program but I think it can also be useful for people who don't need the task system. Without this feature with the invoice, i'm obliged to create a useless task for each invoice that I generate :-)\nTo avoid people being disturbed, we could hide the select when the invoice is generated from tasks and only show up when the invoice is generated by the \"new invoice\" button.\n. @hillelcoren Thanks :)\nIt's not better to use robots.txt with \"Disallow: /\" for prevent Google indexing ?. Indeed ^^\nI close the pull request ;)\n. @hillelcoren\nThank you for your reply.\nI can convert a tasks in bill but i can not link to an invoice to a project and to an expense at the same time?\nIn my idea, I would like to link multiple expenses and multiple invoices (without pass by the tasks) to one project to calculate its benefits? And if i understand correctly, it's not possible for now ? . @hillelcoren \nOkey but an expense does not necessarily correspond to an invoice. If I buy raw materials and create a final product, I do not want to bill my expenses but my final product.\nExample : I would like to be able to create a project to link my expenses in raw materials (woods) and to link the invoice of the sale of my final product (example a wardrobe).\nAnd even though I can link to an expense, I still can not link this open bill to a project. \nOr I don't understand well what you are explaining ^_^\nThanks again for your time :D\n. For the first option it doesn't work because I have several different expenses to create my wardrobe (glue, workforce, ...) billed to different suppliers.\nFor the 2nd option it doesn't work either because I would like to calculate the benefice on all the wardrobe and not one. This is the reason why I thought to link to a project my bills and my expenses to a project \"Achievements wardrobes\" and my customers linked to the invoice are different every time I don't know how to recover all the bills related to the wardrobe.. Yes exactly and the same \"select\" in invoice. It's would be perfect \ud83d\udc4d . Thanks ^^. Hello,\nFor now, it's add the next files in a new column without title like this : \nExcel :\n\nPDF :\n\nWhat do you think ? Like that or one column with all files separated by a string (space, hyphen) or add title for each column ? \n. Hello,\n\nYou probably want to use getPDFString instead\n\nYes thanks :)\n\nCan you please clarify your second question\n\nI have a PDF file with my terms and conditions and I would like to add add them after all my invoices automatically.\nSo my invoice will have at least 2 pages (the 1st the invoice and the 2nd the conditions)\n. @hillelcoren  yes thanks :D. Thanks :D . ",
    "makemagik": "@hillelcoren thanks for your reply. Is this install guide still up to date? \nhttps://websiteforstudents.com/install-invoiceninja-on-ubuntu-17-04-17-10-with-nginx-mariadb-and-php-support/\nI did try to install in a fresh folder on the same server and I'm getting errors too. I think I might install a fresh server with Ubuntu 17 as I'm using Ubuntu 14. What do you think? Could the ubuntu version cause conflicts?\nOther question: if I import my current database on a newer version, will I have to do some database migration/updates (new tables, etc)?. @hillelcoren thank you so much for your help.\nFinally got it resolved. Did a fresh install. I had some 502 error related to php-fpm (was trying to use php7.1 but it didn't work, reverted back to 7.0)\nFollowed the fresh install, logged in. Awesome it works! \nImported back my database, ran the /update, \nHad to remove manually some of the database/migrations/*.php files\nI couldn't create invoice, did some more research. Updated my API_KEY in the env file to match the old API that was in the in the old env file.\nWow! Finally, I can sleep \ud83d\udc4d \nThank you so much for your work. Invoice Ninja is the best.. @hillelcoren Don't want to bother you much, but where is the link to pay for white label? Just want to contribute a bit :smile: . Done \ud83d\udc4d Thanks again!!. ",
    "dali-dbr": "Hi.\nWell Invoice Ninja has all the parts already made vendors, Expanses etc.... It just needs to be connected the right way.\nPurchase order is basically a controlled system for outgoing money. The opposite way it is now. Outgoing money is simple when the company is small, but when you get more people involved it can get messy without a good workflow and a system.\nSo there are a few key factors.\n\nwithout a purchase order no one can send the invoice. Only after you send vendor a purchase order they can send you an invoice containing a purchase order #\n\ninside there are a few important fields\n\nwhich person sends the Purchase order (held responsible within the company)\nto which person it is addressed (responsible on the vendor's side)\nproducts, services, items that are to be invoiced with a total amount (same as creating an invoice now)\ninstructions about how to prepare the invoice and where to send the invoice.  (terms) \n\nThe best would be to allow the invoice to be uploaded to us via the Client panel.\nIn addition to that the client portal could have  a section with Invoices paid by us.\nAlso there could be an option for early payments with discounts for example:\n30 days payment = no discount\n15 days payment = 10 % discount\n7 days payment = 15% discount\nBr,\nDali\n. ",
    "michaelt05": "Definitely a need for this feature. \n\nClient Portal must be mobile friendly (bootstrap)\nInvoice should be in HTML layout instead of PDF for mobile viewing\nEmail templates need to be mobile friendly as well. \n",
    "chrostek": "unfortunately the options don't work. i have a really simple example:\n15 \u20ac position (qty 1)\n19 % Tax (inclusive)\nthe sum is 15.01 \u20ac\nif i add an adjustment of 0.01 the sum gets 14.99 \u20ac\nif i increase the precision of the (exclusive) position to 12.6050 \u20ac i get 15.01 \u20ac with 12.6049 \u20ac i get 14.99 \u20ac\nthere is no way/no workaround to get an invoice with 15 \u20ac in sum and 19% tax - even with the inclusive tax option which sould do exactly this ...\ntested with v4.5.4. What do you mean with \"an 'adjustment' custom field\"? I wrote adjustment in my post but i ment \"Discount\". The \"account level inclusive taxes\" works in the correct way but i don't want the complete system to work only this way .... Ah, thanks! This works.. ",
    "eytato": "v4.4.3. The same.\n\n. thanks to you. ",
    "anojht": "Thanks for what you do to make such a great software open source and free to use @hillelcoren! \nWould this go nicely with the upcoming feature: Enable grouping invoice line items?\nYou could have a default group called reoccurring and the products added to this group would let you achieve what is described above?  . Thanks for the quick response @hillelcoren!\nDisabling the portal password works when using the test link in the Settings > Email Settings.\nI ran php artisan tinker then env('PHANTOMJS_SECRET'); and it matches what I have set in the environment variables.\nWhen password is re-enabled the test link fails to load an invoice.. I got it to work!\nTurns out PHANTOMJS_SECRET cannot have special characters...I tried an alphanumeric secret and now it works. \nSorry for the trouble guys and thank you for building such a fantastic app service!  \ud83d\ude04 . if someone for example, finance person or accountant wanted to see details for audits or whatever I think it would be handy for them to have the filters and charts. \nIf you don't want to enable this permission for non-admin view only users by default, how would I enable this for my instance? Thanks!. Thank you, that would be awesome!. Yes the invoices have due dates set.. \nHere is an example from a test instance.. oh sorry, I understood aging as a metric to measure how long it would take for your clients to pay you. \nIs aging only for measuring invoices that are past due, in finance and I was just misunderstanding the metric?. I see, thanks for clarifying. Rather than predicting, would it be possible to display how many days it has been since the invoice was sent for unpaid invoices? If we had this in addition to the aging metric for tracking how many days an invoice is left unpaid for overdue invoices, it would show on average how long it takes before you receive payment from a particular client. \nI think this is an useful measure of the health of your clients businesses as well as a risk assessment measure for yourself. . Thanks, I am using the cron script found in your docker compose file in your docker repository. You have it setup to run every hour, I can change my version to 24hrs as per your suggestion. \nAs for the late fee, is it only supposed to be added once? . @hillelcoren Thank you! @lalop yes I can do a PR for that commit \ud83d\ude04 . Hello @turbo124 \nThanks for the feedback. The requested changes are done. . Thanks for such a great piece of software and the dedicated improvements!. I see, is recurring billing supported with Payflow Pro then? PayPal's options are a little confusing as it lists Payflow Link as the standard but it's docs say its a legacy system.... Also for PayPal Express it looks like recurring payments can be setup via this API: https://www.paypal.com/us/smarthelp/article/how-do-i-use-express-checkout-with-recurring-payments-ts1504\nIs it possible to integrate this into the current implementation?. Yes reminder email 7 days before due, 2nd reminder 1 day before due, and 3rd and final reminder 1 day after its due. \nSo existing functionality is if auto billing is enabled the reminder won't be sent even if its set for before the due date?. @WilliamMiceli Try changing the nginx config of the app and adding the following line: \nfastcgi_param HTTPS 1; inside the default location block.. ",
    "nocturnae": "Would definitely love this feature!!! It's probably th\u00e9 only thing i'm missing right now :) . ",
    "DarkThomas": "Oh yes please! That would make me move away from Dubsado to invoiceninja! :) I'm currently using Dubsado just for this feature alone! . ",
    "OXINARF": "@hillelcoren Can this be closed? It was fixed by #2660, but since develop branch isn't the default, GitHub doesn't close it automatically.. Closing as it seems there was some cache issue and the status was indeed changed.. ",
    "sebj54": "Thanks for your quick answer!\nI achieved it with your suggestion and example, it was perfect!\nI changed $subtotals for $subtotalsWithoutBalance like you said.\nHere is what I added to the Bold model (just under the columns with $subtotals):\njson\n{\n    \"columns\": [\n      {\n        \"width\": 46,\n        \"text\": \" \"\n      },\n      \"\",\n      {\n        \"table\": {\n          \"widths\": [\n            \"*\",\n            \"40%\"\n          ],\n          \"body\": [\n            [\n              {\n                \"text\": \"Total\",\n                \"style\": [\n                  \"subtotalsBalanceDueLabel\",\n                  \"subtotals\"\n                ]\n              },\n              {\n                \"text\": \"$invoice.amount\",\n                \"style\": [\n                  \"subtotalsBalanceDue\",\n                  \"subtotals\"\n                ]\n              }\n            ],\n            [\n              {\n                \"text\": \"$balanceDueLabel\",\n                \"style\": [\n                  \"subtotals\"\n                ]\n              },\n              {\n                \"text\": \"$balanceDue\",\n                \"style\": [\n                  \"subtotals\"\n                ]\n              }\n            ]\n          ]\n        },\n        \"layout\": {\n          \"hLineWidth\": \"$none\",\n          \"vLineWidth\": \"$none\",\n          \"paddingLeft\": \"$amount:8\",\n          \"paddingRight\": \"$amount:8\",\n          \"paddingTop\": \"$amount:4\",\n          \"paddingBottom\": \"$amount:4\"\n        }\n      }\n    ]\n  },\nDoes it look correct?. Thank you all for your answers.\nI agree with you @billyggla, it really is open to interpretation. In my case, I installed Invoice Ninja for a customer (self-hosted). I wondered who should provide this attestation, me or project maintainers? \n@hillelcoren Thanks for the link, I will probably enable this setting!\n@turbo124 I agree with you too, Invoice Ninja is doing it very well with EU laws. I'm pretty sure it also covers every point of the French law I referred.\nI took a look at how Dolibarr handles this law . It's probably the most known open source CRM in France and it is also French. They made a full page to inform their users about this law: https://wiki.dolibarr.org/index.php/Loi_finances_2016_sur_les_logiciels_de_caisse_et_Certification_NF525_ou_LNE\nIn fact, any company or independant developer able to analyze the software can provide the attestation for self-hosted applications. Of course, the software has to be compliant with the law.\nIn case of a Saas app, the platform owners should provide this attestation because only them can guarantee the compliance.\nSo, as an independant customer, I can provide this attestation to my customer. \nHere are all the conditions that the software must comply with:\n- condition of inalterability: the software used must make it possible to record all data relating to payments without them being altered; \n\u2714 Inability to edit payments by default + ability to lock invoices after they have been sent with LOCK_SENT_INVOICES\n- security condition: the software must be able to secure the original data, any modifications and supporting documents;\n\u2714 Invoice history\n- retention condition: the software must record and close the data over a given period of time\n\u2714 Ability to export datas with Reports + ability to purge\n- archiving condition: the software must provide for an archiving period where the data is frozen and dated with a technical device guaranteeing the integrity of the information.\n\u2714 Ability to archive invoices\nI am not a lawyer so I can't guarantee that I understood every point of the law and interpreted it correctly, but Invoice Ninja seems to comply with every point. \nAm I right? :). ",
    "hknobbe": "Thanks for the suggestion but I used the API_SECRET field:\nLOG=single\nREQUIRE_HTTPS=false\nAPI_SECRET=passwordhere\nI followed the whole documentation and still it's not working.. it shows \"Succes\". The URL was:\nhttps://MYDOMAIN.HERE/api/v1/ping?api_secret=MYSECRET\nand on the screen it only showed \"succes\"\nIf that is what you meant.. I just solved the problem.\nThe app does not handle the self-signed certs.\nI bought a DV-certificate and installed it on the server, and guess what, without any problem it connected!\nMaybe this is something that could be fixed in future versions of the app/software?\nThanks for the help though!. ",
    "leancode": "Hi, thanks, I did that 2 times, no go always hangs there. Weird. Will try an older version and then upgrade..... OK I think I found out what the problem is. Our server does not dish out standard auto increments. It starts at number 4 and then increments by 10 so that auto increments from that server always are 4,14,24 etc. It looks like the installer tries to insert a 1 into a field assuming that this must be the way it is while the corresponding table with the foreign key has 4 in it. Then the foreign key constraint error is triggered. By the way the reason for the odd auto-increment is replication, we can always tell which server entered the id and there is never a risk of servers creating the same id by mistake (yes we have less than 10 servers and if we ever have more, then thats another issue). What do you say?. OK, so far so good. I got the app running by first removing the following foreign keys:\nALTER TABLE `invninja`.`accounts` DROP FOREIGN KEY `accounts_currency_id_foreign`;\nALTER TABLE `invninja`.`accounts` DROP FOREIGN KEY `accounts_invoice_design_id_foreign`;\nALTER TABLE `invninja`.`accounts` DROP FOREIGN KEY `accounts_language_id_foreign`;\nALTER TABLE `invninja`.`payment_types` DROP FOREIGN KEY `payment_types_gateway_type_id_foreign`;\nALTER TABLE `invninja`.`gateways` DROP FOREIGN KEY `gateways_payment_library_id_foreign`;\nThen carefully checking the tables and fixing the ids that were (incorrectly as mentioned above) created. Like were the installer entered 1 I changed it to 4 where it entered 2 I changed it to 14 etc.\nThen I restored the foreign keys like this:\nALTER TABLE `invninja`.`accounts` ADD CONSTRAINT   `accounts_currency_id_foreign` FOREIGN KEY (`currency_id`) REFERENCES `invninja`.`currencies` (`id`);\nALTER TABLE `invninja`.`accounts` ADD CONSTRAINT   `accounts_invoice_design_id_foreign` FOREIGN KEY (`invoice_design_id`) REFERENCES `invninja`.`invoice_designs` (`id`);\nALTER TABLE `invninja`.`accounts` ADD CONSTRAINT   `accounts_language_id_foreign` FOREIGN KEY (`language_id`) REFERENCES `invninja`.`languages` (`id`);\nALTER TABLE `invninja`.`payment_types` ADD CONSTRAINT   `payment_types_gateway_type_id_foreign` FOREIGN KEY (`gateway_type_id`) REFERENCES `invninja`.`gateway_types` (`id`);\nALTER TABLE `invninja`.`gateways` ADD CONSTRAINT   `gateways_payment_library_id_foreign` FOREIGN KEY (`payment_library_id`) REFERENCES `invninja`.`payment_libraries` (`id`);\nNow all seems to be working but I only had a general look. I am not sure if the auto increment is broken in other places too. Only time will tell. Thanks for the app though. Looks really good.. Yes that is exactly the issue. On a master-master setup 'normal' auto-increment is not an option. And the truth is IMHO an app should never make assumptions about auto incrementing values. If you rely on auto-incrementing giving you specific values then better not use this feature at all and set the values by yourself (again IMHO).. No problem, we leave it at that. If I have time and need I will fix and PR. . ",
    "Godly75": "Thx for the quick respons !!! :)\nI recovered to 4.3.1 and the problem is resolved.\nBut I'll return to the latest version to check those permissions.\nI cannot get to the laralvel logs because it's a vhosted server.\n. thx, so how do I load the errors?\ninvoiceninja/errors?. I restored to 4.4.1 but problem is there also.\nThe /storage folder is set to 777, to what should it be set?. That doesn't work, the errors, but any idea if the 777 setting is ok?\n. 644 ?\n. 644 gives general error page...\n755 is no change\nI think I return to the previous version until the problem is sorted out\n. thx for the quick reply ! \nLet's try that ! \nI got this now, but what should I add to the invoice (factuur)\nCan't add anything there.\nhttps://i.imgur.com/uhIOdCl.jpg\n. yes a payement page. So what Are the steps?\nI add a CN?\nthen?. What do I add at the invoice label? doesn't accept anything?. But then they count in the invoice numbering right? It's not legal in Belgium I think it has to be a seperate list?\n. Is there a button to go from the invoice to create a CN from it?. So can you please give the steps?. ok great, so how do I link from an existing invoice? Just duplicate and add the amount negative?. Hillel sorry, can't find the way.\nCan you say what steps to make to generate a CN from an INV?. ok it worked this way thx,\nso what is the Kreditenota's (credite notes) function then for?. ok thx. Hi hille,\nSee the screenshot, only this error, Whoops.... deleted. but I rolled back, so maybe these are old logs\n. ok thx, I'll do the update again (thx for the support on this sunday) :). Got it ! \n[2018-06-17 11:26:12] production.ERROR: ErrorException [0] : /home/encountersmedi/domains/encountersmedia.be/public_html/invoices/app/Ninja/PaymentDrivers/CustomPaymentDriver.php [Line 10] => Use of undefined constant GATEWAY_TYPE_CUSTOM - assumed 'GATEWAY_TYPE_CUSTOM' (View: /home/encountersmedi/domains/encountersmedia.be/public_html/invoices/resources/views/partials/email_templates.blade.php) (View: /home/encountersmedi/domains/encountersmedia.be/public_html/invoices/resources/views/partials/email_templates.blade.php)  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Sven Admin\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36\",\"locale\":\"nl\",\"ip\":\"141.134.165.214\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/create\"} []. Hm, can I have a chat with you? over skype or msgr or hangouts?\nmy hangouts is encountersmedia\nat gmail.com. found it ;)\nhttps://i.imgur.com/fO5dPjl.jpg. (i'm at slack, where do i find you). Thx, where do I bulk export the invoice PDFs on /invoices. Maybe there should be a function that collects all data you need to give to your accountant?. ok thx, that's a way !. update was via softaculous. how can I run the update?. Ok I've been looking how to run a sh script from your info\nhttps://invoice-ninja.readthedocs.io/en/latest/update.html\nwith the update script that I uploaded to my server. But it's chinese for me. \nCan't you guys have a normal updated over html?. Thx, I get this error\nis_executable(): open_basedir restriction in effect. File(/opt/alt/php70/usr/bin/php) is not within the allowed path(s): (/home/encountersmedi/domains/encountersmedia.be/:/home/encountersmedi/domains/include/:/etc/pki/tls/certs:/tmp:/var/tmp:/usr/local/lib/php/:/usr/local/php70/lib/php/). thx hillel, i can't get onto the server with putty for that.... can I safely run the new upgrade via softaculous first? Or wait and do it step by step?. that wasn't a problem, I updated without probs to 4.5.3. True, but how can I reset the number, now it's 10s above the first lower.. thx, what are numbers I don't use to have the next following number from the last?. so there's no way the system can prevent this in the future?\n. Hm, strange thing is, there are no invoices archived, I deleted them manually probably some time before. And the removed invoices don't reflect all the missing numbers. Can't I just reset the number in the settings?. Hm ok I see :) I've found the setting, I thought the system would follow the numbering automaticly. Thx for the support again ! . No this was send by cron earlier this week. \nI just removed the doubles and changed the  invoice number to have it matching.\nI'll keep an eye on it.. ok even worse, this invoice is made 6 times and sended to the client\nhttps://i.imgur.com/sLCuygQ.png. ok, one way or another the cron was there 6 times? :) could that because of softaculous backups?. ",
    "Dreemer27": "Well, I host my own cloud services and offer it to my clients as well. Hmmm, this does sound like a decent workaround for now though. Thank you for that idea! :). ",
    "layanto": "Looks like credit card payment via Stripe is still using v2\nhttps://github.com/invoiceninja/invoiceninja/blob/04eec340f2e67c64bfc6654ffb1f66be589883f6/resources/views/payments/stripe/credit_card.blade.php. Also lowest level of PCI compliance requires using stripejs and elements (where form input fields are inserted by stripe js instead of InvoiceNinja). Snippet below from https://blog.spreedly.com/2014/12/18/pci-dss-v3-0-for-online-merchants\nIf your systems\u2026    then use\ndo not touch, process or store cardholder data, and do not serve any card collection forms  SAQ A\ndo not touch, process or store cardholder data, but do serve card collection forms  SAQ A-EP\ndo touch, process or store cardholder data  SAQ D\nListed in increasing order of scope they are SAQ A, SAQ A-EP and SAQ D. By way of comparison, the SAQ A has fourteen questions listed while the SAQ A-EP has over one hundred across almost thirty pages.. ",
    "autoize": "Seconding the request for Invoice Ninja to implement Stripe v3.\nEven if some features such as ACH are not supported, we would much rather lose that functionality than comply with the burden of SAQ-A-EP which contains over 100 questions, as opposed to SAQ-A's 22 questions. It might be a good idea to let users switch between Stripe v2 and Stripe v3, depending whether ease of compliance or the legacy functionality is more important to them.. How is the API v3 working out for you @joshbartley? Would be excited to help test the code if you submit it as a pull request. . ",
    "joshbartley": "I am currently testing a change to switch to v3 on my self-hosted solution. I will post updates once more payments go through and I make sure I have updated all the right spots.. ",
    "joejoju": "Hi, is there any update on the implementation of Stripe v3? The simplified PCI compliance would be a huge benefit.. @hillelcoren any update on this? I'm sure that the vast majority of companies using invoice ninja don't have the required knowledge to complete the  SAQ A-EP form.. ",
    "montdidier": "@turbo124  Is on the right track. I am pretty sure the problem is that Invoice Ninja is using OmniPay which in turn uses Guzzle. Guzzle unfortunately packs its own trusted root certificate bundle that is out-of-date as of late.  Pin Payments recently renewed their certificates  and due to the fact that GeoTrust was acquired by DigiCert, it has a new trust chain rooted by a relatively new Root Certificate. Upgrading all of these dependencies will probably solve the problem. . If all that is up-to-date then almost certainly @turbo124 recommendation is correct. I think the latest version of guzzle defers to the system trusted certificate bundle. \nUpdate: documentation here describes the logic of choosing certificate bundle.. ",
    "damienjbyrne": "Hi there @turbo124.  I've been having a look at the dependencies for Invoice Ninja and it looks like it's still using omnipay 2.3 through (this is from reading various composer.json and composer.lock files):\ninvoiceninja/omnipay-collection -> \"omnipay/omnipay\": \"~2.3\"\nomnipay/omnipay v2.3.2 -> \"omnipay/common\": \"~2.3.0\"\nomnipay/common v2.5.2 -> \"guzzle/guzzle\": \"~3.9\"\nSo you have a number of other components in the system using guzzlehttp/guzzle around version 6, which uses the system CA bundle, but guzzle 3 uses a self packaged CA bundle which is quite old.  The CA bundle used by this old guzzle verifies a number of now untrusted CA certs and should probably not be used.\nThe current version of omnipay (3.0.x) references the updated guzzlehttp/guzzle client at version 6+, so this would be in line with other packages you have in Invoice Ninja.\nI see that the omnipay version comes from invoiceninja/omnipay-collection and there may be version dependencies for the various omnipay gateway drivers so updating omnipay might be impractical.\n. ",
    "replayfactory": "Same issue with $publicNotes or $invoice.publicNotes fields. a blank space does not do the trick as it will be deleted when saving client form...\nI will use a minus or dot :-). I cannot achieve this with any combination of line item taxes and total taxes. Both taxes (5% and 20%) are added before they are applied. What I need is that the first tax (5%) to be applied on subtotal, and after the 20% VAT.\nBelow an example with a subtotal of 100,00 EUR :\nWhat I get :\nBalance Due = Subtotal + (5% + 20%)\n100 EUR +( 25% ) = 125 EUR\nWhat I need :\nBalance Due = (Subtotal + 5%) +20%\n(100 EUR + 5%) + 20% = 126 EUR\n\n. ",
    "stevenmunro": "I don't even see a background tab. Everyone is talking about a background tab but on the paid pro plan it is not there.\nCan someone enlighten me please?. ",
    "Ishma59": "no logs no details any help. have even tried this patch https://github.com/invoiceninja/invoiceninja/commit/3f32a14b1a5ec1547f5db618ea2f6ad1af244bb8\nbut still no help.... Thank you all it was an installation problem i think,  I just uninstalled it and installed it again .....everything works fine, thanks!. Still having the same problem after importing data.  What could be the problem...?. ",
    "silicon755": "Just bumped into the same error when saving the invoice and there are no errors in the console. Kindly help\n\n. ",
    "igogoson": "Did anyone find a fix for forbidden error? The invoices are saving for the first 4 but after that the \"There was an error saving your invoice\" comes up. To make it worse there are no errors in the log file. [2019-01-08 21:13:38] production.ERROR: ErrorException [0] : /home/invoice/app/Models/Traits/SendsEmails.php [Line 42] => Trying to get property 'email_subject_invoice' of non-object (View: /home/invoice/resources/views/invoices/email.blade.php) (View: /home/invoice/resources/views/invoices/email.blade.php) {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"steve ouma\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en\",\"ip\":\"41.80.5.152\",\"count\":10,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/create\"} []\nAfter some thorough testing, I realized this error appears only when I Edit email templates. Whenever I go to the table \"account_email_settings\" and manually delete the template everything goes back to working again.. [2019-01-08 21:13:38] production.ERROR: ErrorException [0] : /home/invoice/app/Models/Traits/SendsEmails.php [Line 42] => Trying to get property 'email_subject_invoice' of non-object (View: /home/invoice/resources/views/invoices/email.blade.php) (View: /home/invoice/resources/views/invoices/email.blade.php) {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"steve ouma\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36\",\"locale\":\"en\",\"ip\":\"41.80.5.152\",\"count\":10,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices/create\"} []\nAfter some thorough testing, I realized this error appears only when I Edit email templates. Whenever I go to the table \"account_email_settings\" and manually delete the template everything goes back to working again.. ",
    "kamruzzamanfb": "no. Thanks\n. ",
    "ThomasKujawa": "Where do I look? I don't understand.. yeah. chrome + F12\n\n. it looks as if the invoicenumbercheck compares to itself.\n\n. Unfortunately, I have no idea.. php => 7.1 (CGI/FPM). o.k.\nnow\n/        $this->loadExchangeRates(); /\n. I had to recover the files from the backup.\nHowever, the App_Key in the.env is identical.\nAn update has not been made.. The error occurs at the customer. When i click on \"View in Portal\", it also appears with us.. Backup\nAPP_KEY=[removed]\nAPP_CIPHER=AES-256-CBC\nLive\nAPP_KEY=[removed]\nAPP_CIPHER=AES-256-CBC\nCan i fix it?. We do not use credit cards.\nWhere exactly or how do I delete the encryption data?. Looks like it's working.\nAre the customer's links from the mail working now?\nOr do I have to create new links?. Thanks!. no. nothing changed.. I noticed the problem when one of the customer's employees no longer existed and the mail was undeliverable.. Thanks.\n\nI changed it under /rechnung/resources/lang/de/texts.php\nand\nI have updated https://www.transifex.com/invoice-ninja/invoice-ninja/translate/#de/textsphp/84707733?q=text%3A'id+number' and another 7 untranslated strings.. \n",
    "motechsolutions": "I would like to see this also, this way i can have products in categories, \nExample: Desktop/Hard Drive\nThis would make finding products way easier. ",
    "fergbrain": "I think OFXHome is effectively dead. Requests to update BECU have been made since 2015 (http://www.ofxhome.com/ofxforum/viewtopic.php?id=47622) to no avail. When's the last time any data changed?. ",
    "selabie68": "I would use a drop-down arrow with the current Save buttons with the extra options, so no extra space is needed.\nKeeping the default option to save and return to the entered item but giving the user the opportunity to save some time if they are doing a bulk of invoicing or expense creation.\nIf there are any errors with saving etc, it should still be displaying these errors and redirecting to the appropriate page to resolve the error.. Since you are using the laravel framework, as long as you are doing all the necessary validation checks, it wouldn't be you code that is the issue anyways.\nAlso, bugs are fixable.. ",
    "rohanshukla9": "Testing the database connection was a success. I see a lot of tables in my database, if database wasn't correctly initialized, I wouldn't get any migrations right?\n. ",
    "mprythero": "No, unfortunately I checked the logs in the hopes that something would be returned, but I checked every log available (even the ones that it likely wouldn't be referenced in) and it will always return a blank response. I will continue checking and testing to see if I can work out any other option in my function.. Hi Again - \nSo I've changed up a few things and even added additional headers in case something came through at the suggestion of the Invoice Ninja API Docs and came up with the following but still nothing returns, just {} - But again, everything is successfully uploaded.\n        $attachment = Shipment_Attachment::where('id',$request->selectAttachment)->first();\n        $shipment = Shipment::where('id',$attachment->shipment_id)->first();\n\n        $invoiceID = $shipment->onlineInvoiceNo;\n        $path = public_path().Storage::url($attachment->attachmentPath);\n        //$pdf = Storage::get($attachment->attachmentPath);\n\n        $connection = new \\GuzzleHttp\\Client(['headers' => ['X-Ninja-Token' => 'hukky5pbitreikhvlblo7ekriqryaxkb', 'X-Requested-With' => 'XMLHttpRequest']]);\n        $response = $connection->request('POST', 'https://www.cmxtrucking.com/portal/public/api/v1/documents', [\n                    'multipart' => [\n                        [\n                            'name'     => 'invoice_id',\n                            'contents' => $invoiceID,\n                        ],\n                        [\n                            'name'     => 'file',\n                            'contents' => fopen($path, 'r'),\n                            'headers'  => ['Content-Type' => 'application/pdf'],\n                        ],\n                    ],\n                ]);\n        $document = $response->getBody();\n\n        return response()->json($document);.\n",
    "mewtlu": "Upon further inspection, the issue may have not been limited to this, I found this fixed the client-side validation of the invoice number, but the 'checkInvoiceNumber' function in 'app\\Http\\Controllers\\InvoiceController.php' also appears to reject yet still unused invoice numbers.. I assume it's because the AJAX call is going to 'https://example.com/public/check_invoice_number/?invoice_number=XXX', which my server (Apache 2.4.18) interprets this as 'https://example.com/public/check_invoice_number/index?invoice_number=XXX', and as /index doesn't exist, throws a 404, where in fact I think it should be going to 'https://example.com/public/index' with the query parameters '/check_invoice_number/?invoice_number=XXX'?\nApologies if I'm wrong, I've not looked too far into InvoiceNinja's code, this is mostly just assumptions.. Seems to fix the client-side validation, yet when trying to submit the invoice creation form, an error occurs, which I assumed is down to the PHP function.. ",
    "johnsmm": "also interested in this wanted that for long time!. ",
    "nblracer880": "Nope my cert is valid and checks out on SSL Hopper.\nhttps://www.sslshopper.com/ssl-checker.html#hostname=billing.excellentexposures.com\nIs this error pertaining to my ssl cert or the cert on Microsoft's side?. Hmm. Well I wouldn't doubt Microsoft having some sort of issue, or having changed something.\nThanks for taking the time to respond though!!! Maybe someone else will have some suggestions. I'd hate to relay through like gmail or something, I could see invoices going straight to client's junk folders if I did that.. I think this may have something to do with office 365 requiring STARTTLS support, I have TLS selected in the system settings. Does Invoice Ninja support STARTTLS? What if I change to \"MAIL_ENCRYPTION=STARTTLS\" in the .env?\nStill weird that it was just working fine a couple of days ago... Changed to starttls, but I get this error: \"Unable to find the socket transport \"starttls\" - did you forget to enable it when you configured PHP? #32694\"\nI think it has to be set to TLS and it knows to use STARTTLS.. idk, I'm not super experienced in this field of expertise.. ",
    "ccall48": "If outlook uses ssl/tls try changing the port to 465.. ",
    "trueqap": "It would be good! I like this gateway.. With php 7.1 is working well. (it was on php7.0). Have you tried removing the 'Active' filter\nSure, but nothing changed\nHave you made any manual changes to the database\nNo, it's the origianal code, db.. I will try to reinstall it. . ",
    "gt2416": "Ok Ill assume www doesnt need permissions for the ninja folder cause the documentation doesn't specify it needs it.  Thanks! You can close this now :). ",
    "Cretection": "This is the current List:\nPackage guzzle/guzzle is abandoned, you should avoid using it. Use guzzlehttp/guzzle instead.\nPackage illuminate/html is abandoned, you should avoid using it. Use laravelcollective/html instead.\nPackage league/url is abandoned, you should avoid using it. Use league/uri instead.\nPackage omnipay/omnipay is abandoned, you should avoid using it. Use league/omnipay instead.\nPackage phpoffice/phpexcel is abandoned, you should avoid using it. Use phpoffice/phpspreadsheet instead.. Thank you!. public static $allowedMimes = [// Used by Dropzone.js; does not affect what the server accepts\n        'image/png', 'image/jpeg', 'image/tiff', 'application/pdf', 'image/gif', 'image/vnd.adobe.photoshop', 'text/plain',\n        'application/msword',\n        'application/excel', 'application/vnd.ms-excel', 'application/x-excel', 'application/x-msexcel',\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'application/postscript', 'image/svg+xml',\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation', 'application/vnd.ms-powerpoint',\n    ];\nThe Extension *.asc is 'text/plain' so I thought it is included \ud83e\udd14. ",
    "ddevdreamer": "My first ever PR through my personal account apart from work. This means a lot to me. Thank you for your work. Hoping to contribute more and more to the community.. ",
    "noezdev": "Hi,\nin Admin Backend or while downloading with the api.. I'm using german. And if i download it at the admin panel the country isn't translated. But in transifex its translated.. There it is translated.\n. ",
    "jarod51": "Invoices are ok, just proposals are downloaded as zero octet PDF. Yes if you want. Tell me the process you want to apply. Just append the code before the line 92. How can i trigger it ? I generated quotes, proposals, etc... and no log :(. Done it. Still no storage/logs/laravel-info.log on the horizon. When is CurlUtils.php called ?. Ok, i will be around to test if you want. I remember you that proposal is created and file is downloaded BUT it has a size of zero\n. Well i am into settings > client portal and i don't see any test link. BTW i'm on a self hosted setup\n\n. Ok, test is done. It calls /test_headless and gives me a good PDF (quite long to generate though). @feldsam Thank you !. ",
    "scryba": "Thanks I looked at the Stripe and Mollie examples and defined the class\nunder the namespace;-  App\\Ninja\\PaymentDrivers\n```\nnamespace App\\Ninja\\PaymentDrivers;\nuse Exception;\nuse App\\Models\\Invitation;\nuse App\\Models\\Payment;\nuse App\\Ninja\\PaymentDrivers\\BasePaymentDriver;\nclass CustomPayPaymentDriver extends BasePaymentDriver\n{\npublic function handleWebHook($input)\n {\n        $ref = array_get($input, 'id');\n        $transactionId = array_get($input, 'transID');\n    $data = [\n      'transactionReference' => $ref,\n      'transactionId' => $transactionId\n    ];\n\n  $response = $this->gateway()->fetchTransaction($data)->send();\n\n return $response;\n\n}\n```\nI still get the same error response as earlier.\nMy custom Omnipay driver Gateway.php  \n```\nnamespace Omnipay\\CustomPay;\nuse Omnipay\\Common\\AbstractGateway;\n/*\n * CustomPay\n * \n /\nclass Gateway extends AbstractGateway\n{\n    public function getName()\n    {\n        return 'CustomPay';\n    }\npublic function getDefaultParameters()\n{\n    return array(\n        'api_key' => '',\n        'testMode' => false,\n    );\n}\n\npublic function getApiKey()\n{\n    return $this->getParameter('api_key');\n}\n\npublic function setApiKey($value)\n{\n    return $this->setParameter('api_key', $value);\n}\n//\n\n\npublic function purchase(array $parameters = array())\n{\n    return $this->createRequest('\\Omnipay\\CustomPay\\Message\\PurchaseRequest', $parameters);\n}\n\n/**\n * @param array $parameters\n *\n * @return \\Omnipay\\Common\\Message\\AbstractRequest\n */\npublic function acceptNotification(array $parameters = array())\n{\n    return $this->createRequest('\\Omnipay\\CustomPay\\Message\\NotificationRequest', $parameters);\n}\n\n}\n```\nIs there something with my implementation thank you.\n. found the error.\nmy url http://ninja.invoice.test/payment_hook/dkkelxsjsks/45/ is supposed to be http://ninja.invoice.test/payment_hook/dkkelxsjsks/45  (without /)\nThank you for your help.. ",
    "rodruiz": "Hi @feldsam and @hillelcoren,\nYou should not use env() function from your models or classes. Best practice is to add those values to a config file. For example: config/services.php\nREPLACE\nphp\nif (! env('PHANTOMJS_CLOUD_KEY') && ! env('PHANTOMJS_BIN_PATH'))\nWITH\nphp\nif (! config('services.phantomjs.cloud_key') && ! config('services.phantomjs.bin_path')\nSee Laravel documentation\n\"If you execute the config:cache command during your deployment process, you should be sure that you are only calling the env function from within your configuration files. Once the configuration has been cached, the .env file will not be loaded and all calls to the env function will return null.\"\nHope this helps and you can fix it.\nThanks!. @feldsam I'm not using this package. Just looking around. \nYou just have to replace 4 lines of code from your PR and update the service.conf. ",
    "issc29": "\ud83d\udc4d I second this request. It would be great to email clients their statements or even bulk email every client which has an outstanding balance their statements.. ",
    "Euclase": "Yes I mean a specific time for the email to be sent \nCurrently I think the system is sending the recurring email around 1am British time.\nI also note that the system do not send the recurring emails on the ending date set up for the recurring invoice unless the expiry date is at least one day after the date you wish the client to receive the email\nMr Koffi Amegnran\nBusiness  Manager \nSent from my iPhone\n\nOn 14 Aug 2018, at 12:54, Christopher Di Carlo notifications@github.com wrote:\nDo you mean a specific time for the invoice to be sent? Or for the start / end?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub, or mute the thread.\n. correct\nOn 4 Oct 2018, at 17:48, Hillel Coren notifications@github.com wrote:\nDo you mean the mobile app?\nPlease create issues/feature requests here: https://github.com/invoiceninja/flutter-mobile/ https://github.com/invoiceninja/flutter-mobile/\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub https://github.com/invoiceninja/invoiceninja/issues/2410#issuecomment-427090517, or mute the thread https://github.com/notifications/unsubscribe-auth/AnaBGEm5VY6tPUrlcdmoNT5GbWR2sn5Lks5uhjv5gaJpZM4XIf-y.\n\n\n. ",
    "iuliandobrea": "Thank you for your extremely quick answer.\nYes, from there I can select to show the Tax. But it shows the tax rate Title on the invoice, not the calculated tax amount.. So there is no way to display the calculated tax rate amount.\nI should edit resources/assets/js/pdf.pdfmake.js in this case, right?. I guess this is the line:\nhttps://github.com/invoiceninja/invoiceninja/blob/master/resources/assets/js/pdf.pdfmake.js#L1026\nThank you, very much.. ",
    "Seriousness": "I agree, sorry, didnt find the other.... ",
    "nybogard": "It also affects Firefox. (Version 61.0.1)\n\n. ",
    "paradoxewan": "Thanks for the clarification, had a few users from the sage/quickbooks world getting confused, might be worth a line of text in the documentation to explain. . ",
    "richtrefz": "I did the \"restart with extensions disabled\" before opening this ticket, but I did it again and the CSP problem went away.  It looks like it was \"CanvasBlocker\" that did the deed.\nSorry for the trouble.  I think I had a \"red herring\".  I found that pasting too much text (or maybe the wrong kind of text), breaks the PDF too.  So maybe the 2 problems were going on at the same time.. ",
    "TheEagle13": "Thanks for your response,\nThe whole root of the subdomain (to include the storage folder) is owned by www-data (my webserver user)\nI also did chmod -R 755 storage as requested by the guide.\nthere is no laravel directory under storage, but there is a logs dir, with nothing in there...\nat your suggestion, I enabled debugging, and this is what I get... \n\n. No, because the instructions never said to, and because it's in install to a web server  without command line access. . Yes, that's what I'm following, hence why I linked it in my original post so you knew what I was following....\nThe instructions state \"The zip includes all third party libraries whereas using GitHub requires you to use Composer to install the dependencies.\" I am not doing the git, I am doing the zip install. . Let me make a statement here, when I called myself a moron/idiot, that was strictly to describe how I felt, not that I am actually am a moron/idiot. I am really quite good at following directions as written.\nNow... as stated earlier, I followed the instructions at https://invoice-ninja.readthedocs.io/en/latest/install.html and step one gives a link to use for downloading the the zip. Is that the correct link?\nThose instructions also tell you to chown those folders after upload, which I did. . the vendor folder does appear to be populated. how, I don't have command line access on this server? (to the php artisan and composer commands). okay, I'll try loading on a server I own again, as there is no update directory. well when i do /update all i get is \"File not found\" in the browser.. Https://sub.domain.com/. ",
    "akosiandy": "Thanks. ",
    "gmpreussner": "I have also seen entries of the following form in laravel-error.log, but I don't know yet which pages cause them:\n[2018-08-05 17:18:09] production.ERROR: Unable to get property 'public_id' of undefined or null reference  {\"context\":\"JavaScript\",\"user_id\":1,\"account_id\":\"1\",\"user_name\":\"Gerke Max Preussner\",\"method\":\"GET\",\"user_agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.140 Safari/537.36 Edge/17.17134\",\"locale\":\"en\",\"ip\":\"1.1.1.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"log_error\"} []. @turbo124 I'm logged in using the initial (first) account, which, I believe, has administrative privileges by default. I'm able to configure all aspects of the site.. That didn't help. Anything else I can try? What exactly does the error message mean? Is the Json data in an incorrect format? Perhaps something is getting cached elsewhere?. @hillelcoren I have the following error in the console after browsing for and selecting a file in the Documents drop zone:\nTypeError: doc is undefined[Learn More] edit:1585:22\n    ViewModel/self.removeDocument https://mydomain.com/ninja/public/expenses/31/edit:1585:22\n    deleteDocument https://mydomain.com/ninja/public/expenses/31/edit:1618:13\n    handleDocumentRemoved https://mydomain.com/ninja/public/expenses/31/edit:1455:9\n    e</t.prototype.emit dropzone.js:58\n    t</n.prototype.removeFile dropzone.js:1061\n    handleDocumentError https://mydomain.com/ninja/public/expenses/31/edit:1482:5\n    e</t.prototype.emit dropzone.js:58\n    t</n.prototype._errorProcessing dropzone.js:1411\n    t</n.prototype.uploadFiles/s</< dropzone.js:1254\n    t</n.prototype.uploadFiles/_.onload</< dropzone.js:1315. I have not. The only thing I did was to copy the 4.5.2 zip file contents over the existing installation, and when I opened the website in the browser, the installation update took place automatically and succeeded.. ",
    "gerroon": "I will try it.. thanks for considering. One does not have to link to project or a task, this should not be a forced structure naturally. It would be nice to have ways to link stuff when needed. . ",
    "weaselBuddha": "Thought it responsible to let folks know that this hole exists, so they don't get ripped off by the unscrupulous too.  Especially since you hadn't\nOf course we are changing, to quote doctor strangelove, what use is a doomsday device if you don't tell anyone about it.\nWhat use is an invoicing system that can't correctly handle payments? I'd be an idiot to do anything else. Or in this case, non-payments as payments.\n. ",
    "pechanxur": "add bitso please https://bitso.com. ",
    "nikolay": "@hillelcoren Yeah, but this is not the same. Right now, you artificially are limiting the client to pay only the initial deposit. What if they want to pay more. Or what if the invoice was not created with partial pay? Instead, you can automate the workflow if I receive the full invoice, then I request partial pay and propose an amount. When I create the invoice, I may create a hidden minimum deposit. If the client already paid the minimum, then it will automatically be accepted. Otherwise, it may enter an approval queue.\nAnyway, it's a psychological issue. If I put up front a partial pay of $100 out of $1,000, let's say, everybody will just pay $100. If there's not obvious value, they may pay the full amount or decide to pay $500 upfront - who knows.. ",
    "bmuessig": "I second the request for the addition of Giropay for German users who often don't use credit cards.. ",
    "rsawyer6003": "I would say that the work flow that would make the most sense would be to clone a quote to a project, then invoice off of that project. When cloning the quote each line item could be brought in as a separate task for the project. This would enable us to switch to invoice ninja as we have to be able to have a smooth workflow from quote to project to invoice.. ",
    "vaheen": "I believe that strtotime() is only safe in Japanese date format \"yyyy-mm-dd\" or something that uses month names like \"dd-mmm-yyyy\". I also believe that only these formats should be used in external storage as they are safe to export and import no matter what the locale.\nAnything user facing (that could accept input from the user) should specify the format using something like strptime() an specifying format that has been recorded in the system.\nhttp://php.net/manual/en/function.strptime.php\nAustralians will always enter dates into strings using the dd/mm/yyyy format; and based on what you have mentioned above from the strtotime() manual that will be recorded incorrectly as we do not use the hyphen \"-\" separator.. ",
    "fchristl": "Thanks for the prompt reply. This is what I could imagine it to look like:\n\n. Then I'd suggest that I let this rest for now until you've had the change to plan for the dashboard revamp \u2013 or does it make sense in any way to get started already?. ",
    "tjosm": "Sure Hillel. That sounds fair. But is it possible to put this article up there? May be on a separate line.\nThis guide offers few things not included in other guides. A control panel and SSL for example. And I have a security guide planed as well.\nLet me know what you think.\nThanks. Thanks. Thanks for the update Hillel. I saw that, that's why I closed the PR already. I really appreciate you taking time to respond to my request.\nI wasn't planning to be active on this conversation anymore. But I'm a little offended by you using term 'original authors'.\nMy work on above article is original. It's not a duplicate of websiteforstudents.com work or any other for that matter. I have a unique setup. Not even remotely close to theirs.\nAnyways, I'm moving on. Good luck to you and your awesome software. Have a nice day.. ",
    "Xeros91": "Help me please :( . Hello \nYes I do have a question about the code. (I am not a development professional)\n1 - can you tell me which file are to be modified to add two columns with the variable : \nif ($account->customLabel('product1')) {\n                        $row[] = $item->custom_value1;\n  example : Product; service  \n2 - Or added a function to calculate the product total by type (customLabel('product1'))\nExample : \nFact 001 \nComputer = Product = $100\nPrint = Product = $200 \nSoftware installation = Service = $50\nVirus Scan = Service = $60\nReport \nInvoice number ( FACT001) /// Customer name /// Invoice date /// Invoice status /// Balance ( I already made this modification) /// Total product ( $300) /// Total service ( $110) \n3 - I would like to thank you for your help \nTranslated with www.DeepL.com/Translator. Thanks I found this file, but how to get the custom value variable for the array title . yes I can pay a person to do this work, but I don't know or find competent person for invoice ninja  . ",
    "kominoshja": "Yes, i get stream_socket_enable_crypto(): SSL: Success. I would say it's the same case as in here: https://github.com/concrete5/concrete5/issues/6948\nWhat package does InvoiceNinja use to send emails?\n. So, shall all SparkPost users use the guide in the link @hillelcoren provided? . I managed to get it working.\nhttps://github.com/invoiceninja/invoiceninja/pull/2321\n. Changed: config/services.php. Sure, but i used the dev base since the contributing docs told me to. I'm AFK so i'll open a new one. sorry. This PR is complete however it still isn't part of the updated softwares. Any ETA on when that might happen?. ",
    "frenchmedia": "this the gateway we use for accounting practice\nhttps://secure.cpacharge.com/api/v1/merchant_applications\n. ",
    "craigwileman": "Screenshot for reference:\n\n. If I purposefully enter the incorrect details, I receive a different error:\n\nI doesn't seem in the gateway settings I am able to enter a passphrase anywhere. This is used as the \"salt\" when creating the md5 signature. I see they have made provision for it in the vendor/omnipay/payfast but may not be utilised? Accounts previously configured without a passphrase will continue to function without it, accounts like mine that has it, cannot remove it. . I can confirm it is the passphrase that is missing. If I navigate to vendor/omnipay/payfast/src/Message/PurchaseRequest.php:311 and hardcode my passphrase just before return md5(http_build_query($fields)); it works. I see it does get checked but is obviously empty.\nIs there perhaps something I am missing, where I should be setting the passphrase?. This has been resolved in the dependency: https://github.com/thephpleague/omnipay-payfast/commit/7b6537c7730cebfea31881a9d7a3af96e6f6274a\nCould you please confirm this is the correct one? If so, I am happy to close.. ",
    "Paccy007": "That setting mentioned is no longer available in Chrome 68 so I followed this setting -> https://support.google.com/chrome/answer/6213030?hl=en\nWhen I do on Invoices I see a long url mentioned on statements there is no url only an open button that does nothing. Browser console shows ->\nMalformed table row, a cell is undefined.\n4:1304 Failed to generate PDF: undefined\nrefreshPDF @ 4:1304\nlol I don't have a clue what cell is supposed to be defined - ai lolol. Sadly changed, saved and Test on each Invoice Design had no positive effect console returns the same error  as above? If I knew what table to look at and structure + content I can dig in :). Mail Sent - thanx You!. This is not resolved as yet?\n. Please close resolved :). ",
    "flofeld": "I changed the permissions of the invoiceninja folder to 777 recursively and it worked.\nAny recommendations for a configuration with less permissions?\nThank you very much so far!. ",
    "ekambundo1": "Hi Hillel\n$1,000.00 should be formates as AOA 1.000,00\nHillel Coren notifications@github.com escreveu em sex, 7/09/2018 \u00e0s 15:15\n:\n\nHow would $1,000.00 be formatted? We can add the language in our next\nrelease.\nIf you want to add it yourself you'd need to modify the currencies table\nand then clear the cache by adding ?clear_cache=true to the URL.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2334#issuecomment-419453002,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AoY8ePnCM2H-5IxEaZX05ra47wiQk4YJks5uYn9ygaJpZM4Wepy9\n.\n. \n",
    "AlexR1712": "@hillelcoren the format for VES currency is 1000,00 Bs.S. @josegomezr Interesting, Thanks for the info. @hillelcoren @josegomezr I created a PR for solve this issue \ud83d\udc4d . @hillelcoren I forget to add the translation sorry, I'll send again the PR to develop branch\nThanks... ",
    "josegomezr": "I totally thought that i answered this! @hillelcoren as @AlexR1712 says, the format would be \nBs. 1.000,00.\nDecimal Separator = Comma.\nThousand Separator = Dot\nI've been researching a bit, and as far as I understand: As of August 20th, Bs. refers to the new VES currency. And the usage of the suffix S/F (S for the new [aka Bs.S], F for the old [aka Bs.F]) is to differenciate the two currencies when they're written together. \nTLDR; Bs. 1.000,00. Thank you very much! Looking forward to see it merged! . ",
    "Vegapunk22": "Ok so we can only retrieve the currency id from the account. thanks for the fast reply !. The name is : \"R B Consult\". Yes, the latest version i've tried the suggestions already still the same :(. The output is : \n\\n{\n    \"contentType\": null,\n    \"headers\": [],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"end\",\n    \"status\": null,\n    \"statusText\": null,\n    \"time\": \"2018-09-16T10:58:05.861Z\",\n    \"url\": \"http://127.0.0.1:8000/view/ugtu9fdyig2f5u8pt5dzww9dvddc7eq1?phantomjs=true&phantomjs_secret=vkuuqzldgymlih7uq0zal3prcfrizzax\",\n    \"console\": []\nand in the laravel-errorlog : \nroduction.ERROR: PhantomJS - Invalid response http://127.0.0.1:8000/view/ugtu9fdyig2f5u8pt5dzww9dvddc7eq1?phantomjs=true&phantomjs_secret=vkuuqzldgymlih7uq0zal3prcfrizzax:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Rostom BOUREGHIT\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices\"} []. I've followed the steps, got this from the test : \n\\n{\n    \"body\": \"\",\n    \"bodySize\": 349320,\n    \"contentType\": \"text/html; charset=UTF-8\",\n    \"headers\": [\n        {\n            \"name\": \"Host\",\n            \"value\": \"127.0.0.1:8000\"\n        },\n        {\n            \"name\": \"Connection\",\n            \"value\": \"close\"\n        },\n        {\n            \"name\": \"X-Powered-By\",\n            \"value\": \"PHP/7.1.16\"\n        },\n        {\n            \"name\": \"Cache-Control\",\n            \"value\": \"no-cache, private\"\n        },\n        {\n            \"name\": \"Date\",\n            \"value\": \"Sun, 16 Sep 2018 12:00:16 +0000, Sun, 16 Sep 2018 12:00:16 GMT\"\n        },\n        {\n            \"name\": \"Content-Type\",\n            \"value\": \"text/html; charset=UTF-8\"\n        },\n        {\n            \"name\": \"Set-Cookie\",\n            \"value\": \"XSRF-TOKEN=eyJpdiI6Ik43aXhTMVdpa3R4U3kwaUZFaHJhVEE9PSIsInZhbHVlIjoibjJaQWJvTzArQndRbUMzZnFaYkZsWmErQldOaWNsNkQ4bFM0dDlSTm5na0hhVHRsbXViSThwVVd6Sk8zOUxnQjU5S2RVelhPc21rM2JaXC9wekZ2bG1nPT0iLCJtYWMiOiIzYWY5ZWM3YTUxMjhlMjZjZjliZGM4YzVhNWEwZmZmZjE5MmY5YjZmZDE4ZTc5MDdjOTY4YmViMTVjMDgxOGE0In0%3D; expires=Sun, 16-Sep-2018 20:00:16 GMT; Max-Age=28800; path=/\\nninja_session=eyJpdiI6InhoNlhcLzd6ZzVtYm9QXC9TYlg1dFh5UT09IiwidmFsdWUiOiJNV045TmhYZzNYdzEzN21NQ3lyTTR1bTFcL1E1aEJjNjJnZ2Q3bjRQUStxN1IzTHJJT0phUjJ0SG9mUU9lNTFxdjNKN2paQkt6NHRmbWcraWJjZVF3dnc9PSIsIm1hYyI6ImVhZGFkYTNkZmJlMjU5MzUyZTU1MDVjMDM3YWFiNDJlYzk3MDUyNTJjOTA5ZDMwNzIyOTNjNTMzOTdhMzQzOTYifQ%3D%3D; path=/; HttpOnly\"\n        }\n    ],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"start\",\n    \"status\": 200,\n    \"statusText\": \"OK\",\n    \"time\": \"2018-09-16T12:00:16.998Z\",\n    \"url\": \"http://127.0.0.1:8000/view/ugtu9fdyig2f5u8pt5dzww9dvddc7eq1?phantomjs=true&phantomjs_secret=vkuuqzldgymlih7uq0zal3prcfrizzax\",\n    \"content\": \"<head></head><body>data:application/pdf;base64,JVBERi0xLjMKJf////8KNyAwIG9iago8PAovVHlwZSAvRXh0R1N0YXRlCi9jYSAxCj4+CmVuZG9iagoxMCAwIG9iago8PAovVHlwZSAvRXh0R1N0YXRlCi9DQSAxCj4+CmVuZG9iago2IDAgb2JqCjw8Ci9UeXBlIC9QYWdlCi9QYXJlbnQgMSAwIFIKL01lZGlhQm94IFswIDAgNTk1LjI4IDg0MS44OV0KL0NvbnRlbnRzIDQgMCBSCi9SZXNvdXJjZXMgNSAwIFIKPj4KZW5kb2JqCjUgMCBvYmoKPDwKL1Byb2NTZXQgWy9QREYgL1RleHQgL0ltYWdlQiAvSW1hZ2VDIC9JbWFnZUldCi9FeHRHU3RhdGUgPDwKL0dzMSA3IDAgUgovR3MyIDEwIDAgUgo+PgovWE9iamVjdCA8PAovSTEgMyAwIFIKPj4KL0ZvbnQgPDwKL0YxIDggMCBSCi9GMiA5IDAgUgo+Pgo+PgplbmRvYmoKMTEgMCBvYmoKPDwKL1Byb2R1Y2VyIChwZGZtYWtlKQovQ3JlYXRvciAocGRmbWFrZSkKL0NyZWF0aW9uRGF0ZSAoRDoyMDE4MDkxNjEyMDAxOFopCj4+CmVuZG9iagoxMyAwIG9iago8PAovVHlwZSAvRm9udERlc2NyaXB0b3IKL0ZvbnROYW1lIC9RTlJKQkorUm9ib3RvLU1lZGl1bQovRmxhZ3MgNAovRm9udEJCb3ggWy03MzIuNDIxODc1IC0yNzAuOTk2MDk0IDExOTIuODcxMDk0IDEwNDcuODUxNTYzXQovSXRhbGljQW5nbGUgMAovQXNjZW50IDkyNy43MzQzNzUKL0Rlc2NlbnQgLTI0NC4xNDA2MjUKL0NhcEhlaWdodCA3MTAuOTM3NQovWEhlaWdodCA1MjguMzIwMzEzCi9TdGVtViAwCi9Gb250RmlsZTIgMTIgMCBSCj4+CmVuZG9iagoxNCAwIG9iago8PAovVHlwZSAvRm9udAovU3VidHlwZSAvQ0lERm9udFR5cGUyCi9CYXNlRm9udCAvUU5SSkJKK1JvYm90by1NZWRpdW0KL0NJRFN5c3RlbUluZm8gPDwKL1JlZ2lzdHJ5IChBZG9iZSkKL09yZGVyaW5nIChJZGVudGl0eSkKL1N1cHBsZW1lbnQgMAo+PgovRm9udERlc2NyaXB0b3IgMTMgMCBSCi9XIFswIFs1MTAgNTc5LjU4OTg0NCA2ODEuNjQwNjI1IDY1OC42OTE0MDYgNTQ4LjgyODEyNSAyNDkuMDIzNDM4IDY0MC42MjUgNjQwLjYyNSA1NjYuNDA2MjUgNTY2LjQwNjI1IDUyMC4wMTk1MzEgNTY2LjQwNjI1IDI1OS4yNzczNDQgMzI2LjY2MDE1NiA2NTcuMjI2NTYzIDM1Ni40NDUzMTMgMjU5LjI3NzM0NCA1MjQuOTAyMzQ0IDUyOS4yOTY4NzUgNjcyLjg1MTU2MyA1NjYuNDA2MjUgNTY2LjQwNjI1IDU0My45NDUzMTMgNjk1LjMxMjUgNTI5LjI5Njg3NSA2MTQuMjU3ODEzIDYxOC42NTIzNDQgNTA2LjgzNTkzOCA1NjYuNDA2MjUgMjE2Ljc5Njg3NSA4NjkuNjI4OTA2IDU2Ni40MDYyNSA1NjYuNDA2MjUgMjc5LjI5Njg3NSA4NzUuOTc2NTYzIDU2OC4zNTkzNzUgNTY4LjM1OTM3NSA1NjguMzU5Mzc1IDIxOS43MjY1NjMgNTM3LjU5NzY1Nl1dCj4+CmVuZG9iago4IDAgb2JqCjw8Ci9UeXBlIC9Gb250Ci9TdWJ0eXBlIC9UeXBlMAovQmFzZUZvbnQgL1FOUkpCSitSb2JvdG8tTWVkaXVtCi9FbmNvZGluZyAvSWRlbnRpdHktSAovRGVzY2VuZGFudEZvbnRzIFsxNCAwIFJdCi9Ub1VuaWNvZGUgMTUgMCBSCj4+CmVuZG9iagoxNyAwIG9iago8PAovVHlwZSAvRm9udERlc2NyaXB0b3IKL0ZvbnROYW1lIC9EUU9MWFcrUm9ib3RvLVJlZ3VsYXIKL0ZsYWdzIDQKL0ZvbnRCQm94IFstNjgxLjE1MjM0NCAtMjcwLjk5NjA5NCAxMTgxLjY0MDYyNSAxMDQ3Ljg1MTU2M10KL0l0YWxpY0FuZ2xlIDAKL0FzY2VudCA5MjcuNzM0Mzc1Ci9EZXNjZW50IC0yNDQuMTQwNjI1Ci9DYXBIZWlnaHQgNzEwLjkzNzUKL1hIZWlnaHQgNTI4LjMyMDMxMwovU3RlbVYgMAovRm9udEZpbGUyIDE2IDAgUgo+PgplbmRvYmoKMTggMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL1N1YnR5cGUgL0NJREZvbnRUeXBlMgovQmFzZUZvbnQgL0RRT0xYVytSb2JvdG8tUmVndWxhcgovQ0lEU3lzdGVtSW5mbyA8PAovUmVnaXN0cnkgKEFkb2JlKQovT3JkZXJpbmcgKElkZW50aXR5KQovU3VwcGxlbWVudCAwCj4+Ci9Gb250RGVzY3JpcHRvciAxNyAwIFIKL1cgWzAgWzUwNyA2NjIuMTA5Mzc1IDUyNi44NTU0NjkgNTIwLjk5NjA5NCAyNDguMDQ2ODc1IDU2Ni40MDYyNSA1MjYuODU1NDY5IDU2Ni40MDYyNSA1MjguODA4NTk0IDI0Ny41NTg1OTQgNjc1Ljc4MTI1IDYzNi4yMzA0NjkgNjYxLjEzMjgxMyA1NjEuNTIzNDM4IDU2MS41MjM0MzggMTk2LjI4OTA2MyA2OTUuMzEyNSA1NjYuNDA2MjUgNTY2LjQwNjI1IDg3NS45NzY1NjMgNTQ3Ljg1MTU2MyAzMTguMzU5Mzc1IDM3My41MzUxNTYgNTYxLjUyMzQzOCA1NjEuNTIzNDM4IDU4My4wMDc4MTMgMjQ4LjA0Njg3NSAyNzUuODc4OTA2IDU2Ni40MDYyNSAzNDguNjMyODEzIDU2Ni40MDYyNSA1NjEuNTIzNDM4IDU2MS41MjM0MzggNTYxLjUyMzQzOCA2MzkuNjQ4NDM4IDI0Ni4wOTM3NSA1NjEuNTIzNDM4IDI2My4xODM1OTQgNzEyLjg5MDYyNSAyODAuNzYxNzE5IDYxMC44Mzk4NDQgNTgxLjU0Mjk2OSA1NjEuNTIzNDM4IDU2Ni40MDYyNSA0MTIuMTA5Mzc1IDM0Mi43NzM0MzggNjc2LjI2OTUzMSA4NzYuNDY0ODQ0IDI0Ny41NTg1OTQgNTk2LjY3OTY4OCA1NjYuNDA2MjUgNTAwLjk3NjU2MyA1NjEuNTIzNDM4IDUwMC45NzY1NjMgNjE4LjE2NDA2MyA1MzAuMjczNDM4XV0KPj4KZW5kb2JqCjkgMCBvYmoKPDwKL1R5cGUgL0ZvbnQKL1N1YnR5cGUgL1R5cGUwCi9CYXNlRm9udCAvRFFPTFhXK1JvYm90by1SZWd1bGFyCi9FbmNvZGluZyAvSWRlbnRpdHktSAovRGVzY2VuZGFudEZvbnRzIFsxOCAwIFJdCi9Ub1VuaWNvZGUgMTkgMCBSCj4+CmVuZG9iagoyIDAgb2JqCjw8Ci9UeXBlIC9DYXRhbG9nCi9QYWdlcyAxIDAgUgo+PgplbmRvYmoKMSAwIG9iago8PAovVHlwZSAvUGFnZXMKL0NvdW50IDEKL0tpZHMgWzYgMCBSXQo+PgplbmRvYmoKMTUgMCBvYmoKPDwKL0xlbmd0aCAzMTgKL0ZpbHRlciAvRmxhdGVEZWNvZGUKPj4Kc3RyZWFtCnicXVLLasQwDLznK3TcHpZs3hRCoGwvOfRB055KD4ktB0PjGMd7yN/XttzdUkMySDMjC8npuX/slbSQvpqVDWhBSMUNbuvFMIQJZ6mSLAcumY1R+LNl1EnqzMO+WVx6JVZo2wQgfXP0Zs0Ohwe+Tnjncy+Go5FqhsPHeQiZ4aL1Ny6oLJySrgOOwpV7GvXzuCCkwXrsueOl3Y/OdVO87xohD3FGLbGV46ZHhmZUMybtyZ2uFe50CSr+j46mSfxVg4O86eDzFpZVgCpCTklG0iiJySJALQgwQEPJhuw1+ZqSDBlFZK/vCWIVMpSkbOgiMRFHvooAyVeRsor31aT0yfyUxdKcoCEJ2XPqsySuIK6gloo4ERaqjKz78oP8HZmfqd//dV/sYoxbVXgkYUd+O1Lh9R3pVXtX+H4AZbursAplbmRzdHJlYW0KZW5kb2JqCjE5IDAgb2JqCjw8Ci9MZW5ndGggMzQ5Ci9GaWx0ZXIgL0ZsYXRlRGVjb2RlCj4+CnN0cmVhbQp4nF1Sy26DMBC88xU+toeIxBBoJYRUpRcOfai0p6oHYy8RUjHIkEP+vrZnm1S1BKN9zD7sSQ/NY2OHVaSvbtItraIfrHG0TCenSXR0HGyyk8IMemUr/vWo5iT15Pa8rDQ2tp9EVSVCpG8+vKzuLG4ezNTRbfC9OENusEdx83Foo6c9zfM3jWRXsU3qWhjqfbknNT+rkUQaqZvG+Piwnjeedc14P88kZLR3GElPhpZZaXLKHimptv7UVe9PnZA1/8JM6vq/2cJDVtbi82ruZQS6j1BmEQpYRQ7YAwiAFMl0xHJUyXdoAStDitSI9ejAxWAVBgBeiX4dD4pGGXdgHopJ5t2Bh35FCQIPUQBQM+diCgCexEY5A5beIzNnOt8Lr8JTI5Zzacyi+ELgLHmj4nLnweIOAeRW6forPNzvE4U3DHq76EOfnPPSiKKMmghqGCxddDtPc2DF7wePocKgCmVuZHN0cmVhbQplbmRvYmoKMjAgMCBvYmoKPDwKL1R5cGUgL1hPYmplY3QKL1N1YnR5cGUgL0ltYWdlCi9IZWlnaHQgMzM5Ci9XaWR0aCA0MzQKL0JpdHNQZXJDb21wb25lbnQgOAovRmlsdGVyIC9GbGF0ZURlY29kZQovQ29sb3JTcGFjZSAvRGV2aWNlR3JheQovRGVjb2RlIFswIDFdCi9MZW5ndGggMTY1Cj4+CnN0cmVhbQp4nO3BMQEAAADCoP6pZwhfoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgNdvWmM8KZW5kc3RyZWFtCmVuZG9iagozIDAgb2JqCjw8Ci9UeXBlIC9YT2JqZWN0Ci9TdWJ0eXBlIC9JbWFnZQovQml0c1BlckNvbXBvbmVudCA4Ci9XaWR0aCA0MzQKL0hlaWdodCAzMzkKL0ZpbHRlciAvRmxhdGVEZWNvZGUKL0NvbG9yU3BhY2UgL0RldmljZVJHQgovU01hc2sgMjAgMCBSCi9MZW5ndGggOTcyNQo+PgpzdHJlYW0KeJztnU+IFVfahy9ZuUigIYPDfIswDEPhwkWENCi4EgRxYyu9UJP5cIRGRA2CaRShERGDjRu5C3Xjn526EGclKAjJbO1FNhFcKAQSN4FsZhVm0d8z9X5d3Olu23vr1L31p5/ioWnbe0+dc6reX73v+fNW9pfjmYiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMj4+euf/95Yau+cjbtrTP2fcpnWfqX2HhNpF5/9z//+6Q9/ayyffnx069SX/AymthyB+GN8gPr/5bNjkOUiMOEeoxqD1duYwU8OfnFtqznFWmgjDYyWQvxzEP6y6iurKln0XnHSotiJ9Z5Iw8FY+jceP3+21Fj+8eSf8PDBC7h/7+ntW0/g6pW7MP9N//ixa/v3nd85fQaLxt4/+ehwqOWgjFTbY5RJBb7/7geI6kXdihpuwOAng2hd0dgodmnpdfDqx5/iZ/D2zbtffv41fsYvayk+HCVEJWFtB547e5PeO3TgMr1Hu+i9Xu9w8biJDtTVlE0IhvDy5avldh6///7v3377FxQqgQhg+Bcv3Alj375tLrzNMPN0A6cEyuEsdTe9gmNt73EnINHXFx+hlnv3zE/vOEWTC3d9TE8ZkaaBKnbDxtc9BnUSlzLLg98UeQxVxPWqu2WTOJBNfE4aSwdeWrjLgwadpAfiEVP7rSsyJkIVuf8DPIf4pW6LrPigRbhDtBTrxguKEbZigG4k0AQcqiizcLei3+pu5RiP6EBEEoU8MbdIH8Z4RSUeuEij4K7Gifrq6LcFRE/nzt5EPbj/8RMwhI7ZOwoW8ojng8SNqo18PrqIvkIcdu86Q6jOL/yTMmPIkVPU3crxHtGH/RuPwwMv0Y0iTWbVHHTMV8bYO//E3lGA7lk6Ur+09Bodi3GzkRyewbHKwdne6LQvPv8a2cSf7NjTZO1BA9++eUdL8R5RRZqv3yibgUIzufORkboNsfoDwZ//ph/KVkmPoQ9FjyEak2xLMRKylnGf9+XLVzxiYnqr9ptWZDLgHREtdnKiAaN++OAFrRvVadwAyvnko8MEmL/8/OuY6hwDfcgRwo7Ddv/eU0La64uPUKdB+At/53/5DB+GWNszjipREyILHGanY2STwK0+veNUzDVUa00xbRErQ8K6Y0ViYdr8zh9v33rCB2Kos3L/h2KJfBHGCofItk59+dXRbysZfIguwl2nf+iN0yf7swcXUHLcs1i/vXYJ96oV4LGuhs8PjoLymEMhK+xMKkmZMaVV+x0rMgFCGBM9DQynWB2HbRar4zDYwQG6YiNGTHcCv/OBsGtkIRSyKnOOiqG9VKDC8bFeb5Y2ptQKyaKl9FIst45R37XbUjao8+BmwFhcBLHDJS4oIonYckWqkkd68uKFO1wyZ2FkM4CZE2+WNh/sBUFD1rKV1YOrdrRtfPZV+9oQipgMqsSW40AfKjTncNJSBhjpMVQrFKzyddRFfyKzPG5OzC1ycSvpxhiXQMCNpqXzcJOnRIX4mTEmX8luspjaQKiR2Vh4WYlF45sN7jhOBEG7vviodGVCFcetLXE5ojM5F4+GSsYeCfl5cjkFI90GreA+Lx26YmtffP51tYFVmDOhJV5oVSuInj9b6vVmKnHMYlFoaZGZjCquqnCvd5gHTSWTa9wqu3ed4erUfuuKjA+0onScNQ5VLMD0KLmq+SDa2ITd05NXxSDXxtnZgwvp64u46DwX9Bilw3B79288Lm0g41PFbMXPIQBMNOQ4aCbKkFilUMXScy51qWIwteVIJU4jHiPlKIzSVT79+Oj8N/1y1jFuVczyGD+G8ioZZjx39iYuaKLHiBocOnC5XAXqVcUsf9CgjTxoEvsTYZzeccrJF+kk2PjxY9fK2cgEVDFbWUSNp5cujFSYKDLRyUEKdu86U64ytatilj9oIhVnYn8+fPAiM72tdBEsFM+n3PTBZFQxyw055lLThfHly1fbt82l1JnvUkK5HmuCKkYT8BhLj5zEwbXAh0/3vUWaRng+5QbhJ6aK2YoWVTL5cvvWk5TsB7HOp9xG8oaoYrSi1ztMV6T0JM3Zv+98E5ojUiGhNuUW50xSFbNcwPfumU9fehezqKVtGT3BQSo3Dd0cVcxWFkElPmieP1uqdgORSO3EpGorVDHLZ1EvXriTvo4RKSi9tYRvffrx0XIzuY1SxWwljVLKXkvi6MjhVntbRKoibLzcC18mr4qhY+lrSxKnXT756HA5F6tpqpitTLelPGgQVd8CI10ixpfaoopZbsXE0ZW4izS8dI91RhXjsZg484K7yJOi9raIVEW7VDGv8Ex6Egkqj7qWE6gu+YrZytuoUwZs3755l75CXqQ5tE4VE5NaFMfVK3fLCVTkGipxxmaqYpbrPP5eysInvm4aRukMrVPFSLia7i5SQiR6Hb3HuqaKiXlClvOFoA1sl0g5WqeKWe7b4OmVNuGi/ocOXC5hy91TxViKkJIkDT9z9uBCA5smUoI2qmJkqU0MomNVSYm4r3uqmOXTWPv3nU/p0v6Nx865SDdooyrm1Z5Jz4uFuJWYJuikKsa2ypRxCQJwLkrtDRFJp7WqOJueZAwRKLE1o5OqGO1KWaKD78390NjWiQxJ69YrFmyd+vLc2ZulTTgOvM0SySK6qoqJK7pRxYsX7jgTLR2gparIeffvO5+YRYev7951ZiSZ6tgq7lVdunO6ZKqQOPIRCYcWpfW0VxUx4fRkESUyRXRVFWPJU7l0QHE8f7bU2NaJDE9LVTEGA1NMOI5RZarDvmK0LiWLDpdjescp3xwtbaelqpjl63PS13KfPtnXVwxi1WJK0kWi77175lVFaTstVcXIc5ieh/bc2Zv6igWxlrv0aC0NdC23dICWqmKWv4orXRUvXrijr1jwpz/87eqV8hui+WLDGygyDO1VxaktR0q/zLo4Li2MliOi275iuioeP3atyQ0UGYb2qiK+YroqjhpBZ532FambqiibnPau4s4q8hVHteJu+4rULeWlqEbQ0g1aqopVzbaUeFVBV1Ux5qBT9lH61j/pAK32FStZmTOqFXfbV4SUB40rc6QbtFQVYyNGSqLU5Vymdk6PtuMv666vmPIa3DiWll7X+6AUSae9viLn3b0rNcUiCpCtbJMZnq6qYvobt+P10LU3RCSRlqoiJkzwW9p+CyseNcdLhyPorVNfnj7ZT3nQ3L/31OwQ0nba6yuiZhcv3CltvwNWXCLrbDdVka5I2e73++//RlSR1tobIpJIS1Wx15vB0yttwsu5Rp07e3NUK+6qr0i7CH5TZq9oHSU4qCgdoI2qGNKUmEbs7Zt3u3edKVH/TqoigjZ7cCElfF5aeu0bCqQbtFEVMWHkJTHlLMqWjT7V0lVfMfEdf8v5LiHDZ+kGrVPFStZvo6gn5hbLTZh2TxWpEm5zShZuboZyjrdIA2mdKnLGvXvmE1/w9+rHn0qsVMw66itObTlyaaH89ufl/N0EFFJ7Q0QqoXWqGFOlieEzJZReQ9IxVeQKQsribdo16utvRJpMu1QR09u+bS7RUaTmKdt1O6aKW6e+xFFM6U96w3kW6RItUsVYPZLyzuI4cBSRplHnWQZ7rDOqGIvhU2bzadTePfONapRIIi1SxXhhcSULckpbcZfGFaMtiRk2eMQ49Swdoy2qyIkqSZJzffFR4rxAN1Qxl8TZxNU4PGJ2Tjv1LF2jFaoYq3FS9qPFgajicJaOnYse64AqfvLR4cR558gxazoI6Rht2QeNd3fu7M3EDDlU+NCBy+mi1HZVzC/6zPFj1xLn8R8+eKEkSidpviriJWLCiZK4nL+MoEQuiFVE4NleVeR60Z9XryRNOi/n6YZiSU+NbREZEw1XxU8/Pjp7cCFxhmW5bHqcdSH2bKMqxihEJS+7efvm3fZtc7U7vSJjorGqSMmVBM7LeayHJCYOJxagiuXS9dSlivFCFjh9sp+YvXw53xa0d8+8sbN0mGaqIiYcq4vTJfH7736gjVVJYtYeVaTJXB2c7ciHw6MhcSBxOfcSDx24rCRKt2maKsZS7Z3TZ4hS060YKag81muyKoYScgr6kJ/TO07hbNMJ6Q8XDu4TJNHVidJ5GqWKWBx2jYu4tPQ60YRR1Pv3noY4VNtjKapIDEt9KIFuDy+Of0Yf0vDggxUoPhmEBlJalMlF2b/vfIgh0W76kyUOXO7du84oibIZaIIqUgh2HVtXEJx0Q6Zu1xcfhWJU3mOlVXE5j0D5LnLdv/H44oU7tHfvnnk8uhgxKKArip9rKf4eay/xq3FBkcHbt56ghMgXza9KDJdXni+43AbOskmoVxVRg15vFrue/6aPOafbMiXgZ84eXEC7xjTmmaKKq6qK90g3BggmF4JOoHDErQBFCoq//OPJP/kYH+Yr8V3KqVAGBw+8TaR7fJ0p0kAmrIpFxJdHkfvwlPBw0LFKjBpxwAeLxIkVTq+soipV3PigQ4o+GZPifbACXBoukFGzbDbGrYoRHeejXrOci0AMR45wD+enwkAPPcSJwoSnthwZt1czGVWs8eC6oIe7d53herkoUTYbKTv+CN/4Lv7eCjMDFH/8j1kdOnA5Bv8RE9zC9CXZqw6KPX2yP46JlXXpsCoSL6OHkXxSPZRNS2lVXM49tGJMDINC8fgZg10x0jUYBlZ+cArUCf8wJnMn1mOdVMUYfEAPiZfx6tNzaIi0lBRfscYD+cWE8xBvdqxDiOvSSVWMI+aq/vHkn18d/ZZmTm05MvnuFamdtqgiBosXev/eU/wZPJkw2Fp6rMOqWBwxP3598dHswYUYmlAbZZPQfF+RYBwJun3ryaEDl/NhzNnax7sqVMVikCGIEYlXP/4UwxHff/dDAf8sBigmMDoxWMNwHWOkUW2UzUDDVfH4sWu4hdCcka7SqojCIGuIzMMHL/o3Hl9auHvu7E0aiObgAMPePfO7d52Z3nFq+7a5deG/dk6f4TN8OKbyKYcCKTbGcivv/6Lm1Dm8dBcuSudpuCpi701LWpWy4w/dy+foZ2PULvanhBsWW/8KVm3rC+LvsdM5tsPkyz5nKZM/oq5Xr9wNkRyHQlImTjvK7CYX6TalVTEG+oJig8bgTo1BUozx/r2nn358tPaOKkhRRTzDMSl8rAtFaZFNnMnTJ/t4d/R85VE24XzMxTTEdRepnJRV3HhxGGOEdRABYPwOX3z+dZa/mI8PpLyFCrvGxhNfQVUhKRE0Me8E/N7IOxQOJGfEe6zWdYyJmPBaa78cIpWTuLeliP7WUkSCkfYhxTAbFUcnquIkw894HwG/0P9V5ROLg6LCh2/IRRGpkAnsg46Z7sQ39GHUDZkDbZEqFv1P1+Fszx5cqCRrZXEQAkTCn9ovikiFTCY7BIZDTJ2SNRHnBElpQhydooqXFu7WmGwhZnaoQ+JI7+DBNXViWjrGxHLmVBJHR8xeb4+lrFe8eqVOVcxWJmVw8Mq9kGvdA2EklFYYpTNMMpNYrzd7/97TFAPk6+1VRXzF2lUxyNNaHr6++KiqaJoO0WOUzjBJVYwJ65TwLeLoeoUlRRXnv+k3ZLFfDPbivZe+FquOal+kKFIXKTv+ymWdJdQ6fbKfEkdz3npH+LuhikVbEoc1Bo9LC3cbtbJUpByTz8XNGRMHtW7felLjfHSKKsbbrGq/6IOXA8cb9zvlchQHt0Rkk6i9XSKlmbyvmOVxNCdNyT0bk7l1WV8z97akQOTbv/G4kjHGVz/+5ACjtJ1a3mZFnIWspZgh1ldXHI0qlvN1J/A+6HLEeG9ViYCuXjGOlnZT1zv+0uPoutZ1E3KW9hUJMBuoilk+K71715lK1jFGHN3MZooMQ12qiNVs3zaXMs4fW0UmPx9dWhXpsXglSu0XfV1w8HDzKomjeWDpLkp7qfF90ISiiUvm8G3iPaeT7LEUVcQfa6wqcil5TqXk8SgOHnaHDlz+49b6NyKJlKBGVST4TTdDwvBeb2aSPZaoik2eifjTH/6WuG6qOGKdQO0tEilBjaqY5XH07MGFxKjtxNziJOO1FFWc3nGqyaoYCY4qcRdx4/fumVcYpY3Uq4pZHkf3bzxONMBJqk2KKhLvN1kVs5Vl9umji5RwffGRqihtpHZVjNnPVz/+lGKDyNTE4uhuq2Lkkq1kMhqfsyHJ30RGonZVzPLhLOLoxOGsixfuTCaO7rYqRgMTvfeivS7RkdZRy96WdauBJT588CLFBic2kDW15UhXZ1sCHlIn5hYrmXOZ/6bvEh1pHU1QxSyPo6d3nEqMownZsMFxh2yld/zRY62YgIgOTEkRXBw86dwWLe2iIb5igPkkbgOMpDTjdk5S9kG3JaLs9WYr2QDIYy7LV0LW3iKR4WmOKsZrjhO3ARJHj1V5UnL+NDY7xFpQfp5QKRciDp5TTV64LrIuzVHFLI+jiTFT0uks53F0Nk7/BD+qnCrW9Tarchdi/77zKVehaHJbHgQiBY1SxayK3bjFiwDGNMCIKpabGKr9bVbDQ9dNbTlS+hIMHtcXH7XiQSASNGpcsagSRpQYR1O3r45+OyZjTHn7zO1bT9oyJ9vrzVSSKYK+UhWlXTRNFbMq0uksjzOOxokqndQi3ixf+0Uf7saYSRzKiOP5s6Xx+e0i46CBqpjlo/3pafOJcymncnvE86Fu5UQ73oXXConAJU5cKBUHj6e2NFkkaKYqZvkAY+LiENy5cbxGJDJalPOjlpZet2XqoUJVdN+ftIvGqmI+5pkaxI1jw0vk8y+nGAj19m1zrVi/hypWspAbVWxFe0UKGquKWb4h98TcYuKYP6aNulbrq1Ba6QmXJqfj/u8bY6bCHBG1N0dkeJqsirE/urT+FEfM/FYojDG0WK4yNAc3rPbrPsSNMVPJVmjHFaV1NFkVs5W0+eVqWByxUJCWVlUrnJ+d0yWzn9Fv1KT5KoF0V7IyR1WU1tFwVcxyx+yro98m+i0x81LhCupPPjqMC1quJviZDV+fg+xzcVM6vDhMECGto/mqmOXCmP76ubdv3u3fd74qC43NieXcxebPRCPa6Suj4nBvi7SOVqhixNHpWVxoKXWuSpEiyU8JJxZ5v3jhDt5m7Vf//XdF+f07q1p6+mS/4Y8AkUEauOPvfVSSgHE5H+ZCYCuxU3oPn6pcHI2W4mo204mK5EWVLMsxZ460kbaoYpYv1Cm9qWTwiJGuSmoehZTbtU23V6XP1UKV0gdy4+Amacv6TJGgRb5itrJQp5K8f+gYRVUljGhsuZ3RuL47p89MIH/4SNCcSt7bEv3sxhZpHS1SxSyXoKktRxIz6sQRuVwqFMYTc4slos63b95dvHCn15tpiDZGzqJK9vpxREq32hslMhLtUsVsJaNOJW9yR13R2KrGGBETQOIQulH9RlQIH3j3rjO1CyMidvzYtUpWKhKDjy+fm8j4aJ0qZnmIN73jVCV5rh4+eFHh4F4ka6VLz529ieQOs2MO/eFjz58tURPkqN4huBijqOSNLcv5AiQHFaWNpKgi0lTXZAHGW9WMAG4nDanWpaF6RMRowv5950+f7PdvPEb0UJuA32/feoJXOXtwAf+Qj/F5LkTtMy8pSdJWHag9bXRQUdoIvk1pVdw5XeeiC2qO4FQS6xHA4qdVPrJHafQPUvPJR4d7vdleb2aFWf7C6fhfXClognRQDS5oJQtyllv1QkORQTBGzLO0Kta7FC0m0K8vPqrKinHe8Nk2pyHHnYBPW8lTZjkfs81856m0kBhHKp3loAnvfEcYK9mFUdhy7ApsgvM2SWgy3nIlsfPyyqv9nH2WNpKyDAMLOnTgcu2qGJsBK1mrE8fbN+9OzC0S3m4ebaSlPOASExMNHhTliKK0lBj4Kq2KDRk4QhgrnDmN4/vvfvjq6Lex9632Bo6VWOlU1XDicn5j8FhxQY60lHial1bF5qxGi4SH1QrjLz//+vDBC5yoXm+2q55PSGKFnvZyvtipuLVEWkeEn+US0aOKp0/2G6KKWaWru1c1MwYbcUeb09hKoEXVeonLda/XEkknXKxyqhjpsBo1oo5qVe4xxoE24gLhG/d6Mx14u3FM3yP1Ve3si4Nb4uqVu03OkCbyQSJ1aumXFl1auNu0nNLhpYxDGJdzbcQXPX7sGmepaqvg5OHZwVUrlxly48NcENIBuIdxGEpvnevfeIw41N6KtY3C8KsdK1t14GLdvvUkH3I8HLl3mi8FMbNGhWcPLlQ+zrCcz91v2tWe0iUSX4mCMjQzXIokNhWuY1z3oN9evnx17uzN7dvmOF1oAuLTNIUMPcQ/3Dl9hj6p3EVcXlmQ0LFxV9mcJK7djTeK1t6KdcmHzmbHESeuPX7//d/E7NcXH6EMxS6/2mPJqEk4b1xl9LCqfSurjliN0MCoQaQEkd26tLE8fPCiUbMta8FUEYRqRWCD45eff8V77N94jDzimKGNKHOMQEaUPVadjPKLndcx93Txwp2lpddjfTTk+SFb8IZrkWHA05v/pl/aHFoxuo4o7d0zX+36k2GOmJrhwYG/iisVuXEitI9FPiGVpdsVGhjrzKPAWGdFY0+f7OPGc/YxOYeDbWz4a7lERiXmIksbBXaXtWG9buRjHOv8ywYH0oQP+fbNO7oLsaLDT8wt/ncOsdkCFAYZBy5NEEnJ+Av/tZJ75/8/GW/42r/vPP4wTzdiZE7BiSYwaLDckhdbi4xK4hs6cMDqSjw7KjHChiJVkqs2/UC4kC86EB17/mwJxY6ki1wOKjkIzlj8cn3xEf+L9EWqRr7I11/9+FMtLSp2izf/mSgyPDEGVe7FnXFEMrFWqGK2sl2aYHby0fSQB95XAbIZxO/F3+uu438OpPjQgcubJ3uGbB7ilk6JKzHSJiQTG6nJsZ2HZ8FkwsyOHVxxbph4k7WSKN0D32l6x6mUBb3YCK5Xi1QxiOmJ48eujWMxc4cPQgOi+Jgnqv0iiowDVJH4t/R2v+VcFRu46W8Ywmnkl/6NxzqNwxxLS69jnXZbBkxESoAsHDpwOXGs/v69p+1dq4aBR3ZZokK18X0HdwjPvpjyNmqWboManD7ZT1SDly9f9XoztbclBbRxasuRMe0Obvvx/NkSAQWSqB7KZgAf7+GDF4lWQwDejXf+5pkTZnCeCRUbMtVb40EP0A87p8/QJx24uCLDEDla05e6YT4n5hY7swd269SXELvkKpGXNh60/dzZm4QSZnuQzQOS+MXnX1e114PAs94XQ1dLvPew1zt8/Ng14sfNM94YWxQjv3oHMuuKDE+srEiPnQcP1COSEnTJlFCGSC5BX+FUdzisjkzj8Qoqt6vIpiKEa/++8+PYERwvxWtCBq1qiRbhDF+9cpc2dsl1jPyQ/RuPY1V2xx5qItlAEpVBYsUy8WDoISYwvm2zWNntW09iVVuvNxtZWFfVJ2pYe1+N2rHU+ZOPDsfab/qwrt3HlRxcJup//95TnMPIQtmxB5lIUCSVKuCfX3z+9e5dZ8KQ8Q8nEAZGfhgCas7IeXFCIn3EqorV3l3liDxg4TpGHtdxpy6s8Ihp5YiUYxxY51C6Dd5gTA0gSgVFeoG6zDAqsKpK2CZq2V5tjAdQ+MP8ggd+8cIdHjpv37xrmgMZmXm4MaghPjy1DR++FS+aEUkEVWzLImTCt3bllNiAwbcADLrl1b5RtEQPU4dw13ELs5Uh5fY+iURKoCrWS+FARnrYaB3NLNzI8CSrDbfDD488jZyFc+G4ZvkMUWSvbebbtUQmQ+tUsdt+y+Awb6wMz3KRxHm7euXu7VtPIJLHImiFYK4d64hRCP6XTuOTfH4wOW2M3GZ5TvWY2ypeEFN7D4jUTpjhH7ceaT6bbcYzGjsoksXbB+LVA/E+Av6+bnfFGsLinQXFL4MymLXhPREikydipVZQe181B/tNREREREREREREREREREREREREREREREREREREREREREREREREIhG0SKPgtqzdNGRzwr0XeZ5FGsWJucVu512XxvLpx0f7Nx4vLb0WaRS3bz3p2Dt6pC389c9/375tbnrHKZFGwW1Zu3XIpiVe3SLSKHyxgoiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIyEj89c9//+x//nfr1Jeffnw04J8pOZ3+8tkxSoiiprYc4eef/vC3v5TNsfy+78ZZRq0npRVtHLWX+O66p9vgv9aFU5frjbhM6zLStR7pjO/7fOlWrL3fUm4PkcqJe/6ro99evXL39q0nEInip3ecKqE5ccPz3ePHrl1ffHT/3lPo33hcrsAo7dzZm3v3zK+yTYxo964znCU+NlJptJEq8d2R3hLC1/nu2rSocfZo4DA1oQ6cev++86PqAF+MyxRcWviv3P5U7IMF8oGd0//pND48ZFU5I59fVXIk5+TvXJcSrYDZgwvUn6sQ14Le42qWllmRCuF5zf35/NnSqx9/4ufDBy8QsX88+Weki0cERkoEyocpEGP5/rsf+DrlhMwOFsgHhr/zwwf75edfqRsexWBN+DumxInQoiEL7PVmqQzViDbSZAxzSGGMU1ATjHfV6fjnF59/TWn05DBuGNXg7EjBqG9u4vN0IN8FrtRvv/0rOjkYph/ifT102tpWvK+q9DwnQsMHmxbPF8qhA4d3U+N+49TR+avut7gcw2i7yJiIG3v+mz53IxaKTRURDb+EX8S9eujA5SEDLr4CFFXc3oMhEh+4eOFOvJhj+Ds/VJEC3755x9ejnGBUVQz/hHL44icfHQa8IExySAcvWsfX8bVWfT5UkaaNpIo40iXeZ1dE0L3ePtp++mSfhvDPIYsK3w85Gl4VQ36p8GDnx81DOdw/w6sileTsXE3KpALFUAaE5xkt8r0tUhfhNnCLon7c/GtDpKktRzD2bOj4FOtADBEHiu31Dq9bIC4HH0A5seVhygxVRIuoJD8Hiy1UkUoOY+CYHoKMPfZ6M/GXUJghWxc+c+2qOFDIDG2nW0YdJCyhivGkGxxwKKGKfJ6rH09MKr9qLIXfKceXtkiNcBNyw3OLXr1yF7F638eGj2W4yffumUcZ8Og2MBP+CynjvKsisg3qGapITVASXDuEMf5rVFWM8JNT0/AS3khDfMWBQianilQ1AodiNLKEKlIUFeYKrhoJWdWTpTtEJBHuZEKVXCIOV/L+IGwE2+G2R2M3LhApwNDiBZcfPHWhishODDAWHsuoqgjUDUMG5AtnddSplk2riviK3CecjqvGX7LRVZGW0jncbw4bSmOJBzeGOWQkuzHxHlVsBM+z8OXeB64CpsSHhxkPLFSRD1NnzJNqxylKqGJMjmPmfIuf6MPwD4VNrooxK8dTqVioM5IqcpvF8EVKk0XGCmrw8uUrDKSSkW1UArWJAj9428esBxY9zKKOQVXki2gv4nNp4W54eqOqYpYrGB4jp0bAY+onGy5w2+TjinyR36kzVzkmR0ZSRe43PvzBGf8N1kaKjBvucG7vIa34g4yqiocOXMaih1mwN6iKfJjfI/BHmrDNEqqYrUR/FIU2xkjXMHa9yX3FWEnITzqfS0CPlVPFDWobQ9PcG74SWmphTBH0MAUORtDDjyuGKsZENnaaTyUfLqeKBZSMMg/pM6uK2cCMVewMGkUVZ+OqbdBk7pxY1K27KLUwMNsyU+FsC2YyzLhizLYMs0VulSpmKwF4OLojqSKfWfsxyg+r/6CYx3c3uSoWkywx7TK8KhaLRbP3j1fE2COuu6oodTG4MmeDlRJDaiZ3MoaGMoSZvO9bhRqv3cG3LmtVMcs9llBgVJGfw6hiLJZbd4NGSPQwPjOCv+6aoiictg+53Ki9qlhcaPohyhllZc5MzGK/b2VO+IqqotRIGAiCc/zYNYRx7S62YlXtkMLI3X7xwp1Y7rtugXygWMX9QZcyWFcVY9oFk0RbhpzLDj+Ez/NL0RzKwfELbRkyDAy7ppDijNGuKHzIzcWDqhiBeTDS5atLFYvOjDVOI63i5lEYe5S4+mt3tcd+TFVR6gWrDB3DQtGHP249EpOA/B0DxxMbacdflt/5OJ+xf4ECKWewQCwopn2HL3BdVcxyBaZ6v/z8aywtHiYrQphk7NulzEjSgg1i2iOlSoiNNjH1Q4/xC2XGJughfb9CFZGX6J9gpNHRGlWxiAt+++1fJXb80YHcA1yOwdsjy/OTUCbdoipKjSAFGGask4klfNz/kegm0jtg7xvsfHlfgUV2iLUFYkQjrRt/nypmeTAeWQWGXBgcK+4inQK1gvB2IlXLkPWhN2I1Ms2JqQFK4HeaPPy8FVJDh0T/FPAXChm+JqGKPNRKqCI9MLwqUrG1ShXTLjyVeDaNNA7A4yz881W3B90Ykjj8HkyR8RGOHCYZozqAsXPPc/eOlA5lVYGnT/aLAvmFAlG2UUfSIrSM/F2rjCUiMs6SDR3jc3bUoMhvhqRQ7KieSWR94XkR6YAKr3j4EkKaqAbfDeL3kdzyWKRED4yama1EJjEqtnZXOz8jw1u5TGLRA1yFGNflcRn5IpREaQgx74AjhG+ALxeRXcrOrP8ucDaxwPcZS4SxI9lRDANGlUrbYAy6RuKdkRKjFXy2kpK3IFYAjtotJU4dyw5Hquq6nw83vvQ1jR4obg+zzoqIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiISCX8H9i6WLcKZW5kc3RyZWFtCmVuZG9iagoxMiAwIG9iago8PAovTGVuZ3RoIDI3MzcKL0ZpbHRlciAvRmxhdGVEZWNvZGUKPj4Kc3RyZWFtCnicdVcLWBTlGv6/f2ZYERUWdkEwld3h4oVI2V1QRAXT1CMqeDsKCogocLxEwnoICxE5onEMM5FLKl56VNKMzAv2aKUUJd7ItIjKIyevIAqOCMruz/lmFrLjc87u88/M98/Od3/fbzZtpXkxsSOexJ+EJi1emEBsn2W4ApNwo0veg8tr2euLuuUqXHOWL0xPsYnwEh48E5e9uaRLDiHE4WrS8rR0m9zbCQ8HCMi3CImZEXA+1jGkldj3UO5+3az2l88Xs4+sfOZlvWaf1yMeRXtCbcoIUS1jvXBjB95dYJ+n6PnzZ4hy9CDBZCXJxm8FaYC+EAJpUAQfQjXcpT2oBx1P0+lOepXe4AZwUdwSLoM7yl3gCe/KR/Bb+e/4q3y74CqECinCeqFKqBMaFDtDSCFxJQuI8IJVDmUgpYTwZqGcOKCbOrVO27V4R+s6+rtlCHfZ6kXfpvnMcFYor2SLlWjWdzbyLfiMGgW1htfpvUxqg1rjaggINKn5FnaOWTrZZalsa/EnQrllWBvrfMLVWIZtLyzcztVgTmSbzfi8BxFlDaJaF+Cq1dipBkB/0Li6aUV/GA1GH9FbhwrxrIMtEvVus6x+MzN5oO/Twa6r32BV4FGwLnMju0bnWz8Uyq/VrNoZMPjQ+jfD0vQe+rzXzKlrK1eY38hQ/JXtvYL2BEK85egMsIXusKRIZzEmOQ/y/VN46Uj6Eh0hBvSHl/3RDgCthhdB3eVHlz9DoRTutoL964vWbmDWFlYNgZk5KRnsCDimZubktmKiqhOKfbiXvlj7/fd0G/NLW7Yq81jS4hWJ6Esa5q5W+Ib0Q8fsiOhJ3MGJ6DyJGwYt6u20tjQG8T+5sltWZmWXwIRloqDtK7nklxQdLCspfM8Fam+zpxAJatCCI8xi1uaiorvH2b2Td7YWYn5ndt7njfw00lu24mIkhgCCiSWinpgMinolu2hsJvCNTSAwy/0mZpEycrLfeisnO4P6PoHhrKZN286ugH/7nrOVu7U7q6p2KrnMxFw5oG4NCgNhDBiwdFhBRZ8KL2B+H2raueTjk9Ki5MnLvSU+uBBmRJ37zTqX7ns7YcwIy0M+WNYT2Xmfu4x6vFEw+vj6g8kYKOsSbZ5hG8jJtxP1PibDALQSSG8sWF9V+fuX1XceJURHRc3aUHOm6dxPLY18ZkxcAviMnNR/yNacvNNnisbHTgsODus3tCC34MiP78fNfE3xezXmpCeaRr+9ffuArLe7Z4PwQuT01FiUeOSrR1Gx88yiVLsZImfVPqS51r+/t2JMCNeno8qG5M14WGfXF7uG6ETspHWShBIQ9877NEUII25yRxu0Ypdqty5Tosmght2VlcOHuvtpPHQxw9flFxQIYezpUetHEwJVdkecNMUH6ZyjoML6eRAiDMJ+VNlQyYlgAFE+c59bL6e3Ubc71KnN+gEcusrBfIbd/yyCDqRLFf+yCKGVmFfkK/C1lcTgZlDq5Eb3pU6K8ZCuO3KDM2f3HebIzeeDg6xqPrgoMlolyPHRP8WnskUouy5HKWEpwf5ad+3a0AZ2lzciwoAY0VPsKefnBZSBTEdFv3WLdVY8fvpU+la6ZY7PW/a3w4mRu+rAv0VshmH1J6IzKkvEHV/JduehznZ+OtGS/hi9nqA64hbg3B90SvXlRHIYjg7xRyMamAQONTduWuf03JiZsHHcxNFn90SnOcPRRA0Mah7UAgHAOn7Pz93zysv7TK9ypZvM7slZtvhkrD/A3NoTFwXpnkStRQBy6m5YlCLdDoFotoddqK78+WL1ZaGc7WP/PsNusDK+qeNaw/nKi7dturJYnIIzZ5w+BDQUK+1rS7icb2e12IUKJQITb6yrjnkngJN+djLmL7zwy6OMNVOTPT2TItakw9MWdnPsWLC2CXXZfwln37H2sprQUcwteNRnRWiqs9PWv0Iz9ZF7AufdoLlU8SEG9wF9GCjPEJ0/dPW2MXAUmGxQEm3AwoZ0w2oFmWzw4hwcHPmg7fH7P3t869OEuLkJUuu5M3fUWuv9Wf/QH1tunqYf7/Xa3IMluw7FzomdHrrh69Mn2MAJ6SGfTAqsSJw8dqJsO63TXvBFLnORWROQMN1U3mj+D05T+9o86BoNQr+0pY27WJPf3FfYE3YaxkFPZK9w6asDe09U7C37gs4u7vjrlfxnDr0hBnqBHThALNvNWumxxobjrL2isbHClgulV4QbmAtn3FCRwRCMmAFiwtoeU3AjzzIcKyYdf4yNlFgwn4Wlc+GbKhWMzEQO3oV+d3GPj5fJ6IUc+QL3YFN7dfEl9/G6w88Yg4ENj0EvbcvP3VRY8fAhq2+5xw5JR7dt3Aqr5qf6j7t0+LP6TnJ65cbUBbOXBoTVlp+8+uCX3LVLZZvYIVwr8o89Cm6GIBcZ0QZo13CanzpY1g8sswNWxMbSCx1VMj/aOJxDHCq95eIkQ8tNISqlwLTLsSC1bWrMrLsYlYutdUVjyl94vk56Y820ZFFMDl+TSvtADxgxPgzotKd3c8LD4aWW4sOhY6B29LhLB9EvA/cjJKMde1sFfcfg6DVA8uIZa172+02Yn1g7cerE9xd80c0tdmbsNR8lBhunvDABNC9Mg5je1Lhj6bICX8PulP0npZi4iGR3KsXFTlkyAPlkY3hkTHz04l/uWNPopk3LZ0x2dO1pfZVuyk0dYbLcxkRQMouF8z3Q5gDi9zwPSNy8DLYgBVmj4X/mZNb1i/H5Rk1NJ7k/+8R046v54TmZXMCG6PPXpbSsiGSdPnlq1ipMjwpGRkzd2PFbrfTykHKdz6Y1MyE0FPo3F30ydgzUjQ67/JFSDxbHWbqx/twPUf3/6hGTZ3S5InHDc+Yp9ZiyRC8untxdj8mT3n7mQzkICZHrcSR4BLQHhXx/CHNcjLnNI/ds8wWZN+/Ro3td7zB28djbyOv2VG5uFxE7SHSRk1wH+2A/jJLcORa+l03j3CWhvKOIT3oWAc00q2Mzv9y6jjnJ7zpAJiBGDHjZSxYopxKDPCBIBoqhkxwc5Cg5+t6+ZLFyD/gm9gMLYAdKSiCCOj6uVHgfnzUibvoShJwJh/8fDEMMtjc40PFGy0ioWzUnZVF2hgRCw4/N7xSyE7RoPxWyS6cnZG9aWw2qm19mXd/HPpTzmoRYFFGn8q4CTsihFNnDWabP/2YPXuyor2eW+nqrtMpsNv/dbE6jw9l19it4gw6m4vJhdexf3sfLyo6zpRVlB04qPevLDkICaZT72/t5fy9Kmr3Gz+9WUOKvk6dNej/6lG22T+ls5G6gL0Nl/tD+aYDjNMJamOSlhOqmUsqMw0mLX247MxZuGLXcpAlOH/uI3diCHxjYMnrleE3QiuDcbXCBGeEClqJkv1r9jaMTOLfQd7e/2+sJ9HNy/NbJpXx7n3e3y/Y/4G9yIcIDgn8qQCv6qkSTt4ELObWt4HPokc9b+m7Z4tEs/y6dP0XDhSq5RzBsEYJAy+6dFqrYEzkMhlXaS0qFNLJemEBK+QRSKu8JnrjnSdL4DWQmrkx+MInE82rqQjbTHcRdGEc8aB3JkmXegPdCyDwhHp/fQLLk3/FRJEbYjM/jPt9ATLyEevoQT1kfnCIGu1bld7NkmYaQYhXOWv6fZAKuSFxJcJb48lPJFO42+YB+StL/A/Hr+Z0KZW5kc3RyZWFtCmVuZG9iagoxNiAwIG9iago8PAovTGVuZ3RoIDM2NDYKL0ZpbHRlciAvRmxhdGVEZWNvZGUKPj4Kc3RyZWFtCnicdVcJXBNXt7/nzkyiuEAICELFhhCQqoiEgMVWP5dSF1yqov2p+FBxwQUQ4VMQFQRBUZSERUXFpVU+XLEqvwa17lAVwdZaLaJYRUuVVqW4FJLLOzMB5fW9N/ndzNyZO+f+zzn/s0xMdOwcIiMfEi/yr/lzZoYRy7EIh998vNE634vDbVHk7LZ5KY6YxTOXR1mmEIB/H85bFDe3dT6VEBvf+Ytjllvmik34V0tAfETIss+Oa/7L+pNXpGMH6emlFwov8Xx9zTczmzLMtzrGdJiF046EWoQRIl/EOuMNAz690zFGktP++Fj6H0CGkwSyiVwgjeAIw/EXBnlQDA+oDXWn02kiPULrOHcuiIvmDnH3ubc8z9vyfvxkPo8/wD8VrIRPhBGCQcgXioULgklmK5skS5dtlZ2WPZTL5F3lrvLJ8gj5RnmxvKJD5w5OEoqPyRbSjYQQ4R+YOJxTcpIQ/qFwlDgRNaqhUCtUPt3s7WRyF+gBdt0c7NVe8Cn4uqs1Kh8/HZ5VEGGkVn+9iYtdEe6iOdur28YEpodBR3MMu9hRGm9OFY5WVkR/7dPrYMr6wHC1ozo5cG385pzEtavTCGlpIbNa6rnfhfvUHT2KRiMDIJg4IpK5eP8CP5ZoEIWvu4cX6Hz9tAhFjXu6yuwRigsgLrWru07rAlofP65jmP7781XF56qN8eER4VMNlRcfnf3hd6Mse15UHLgMD+7ZOzMptfisYdSSkGHDRvbsm51kOHw9a/GMYNyXkj0iA2SOaAU5ISq1QqtQ67Qw1YgHHwCOpeKaMMT0AtfYIveI0sYW8Tj4iys9uoLaleq0dt0QiL/CC0SIYVXlYQZfzrjHxm9r+JW7xjTDjHjPXgnTstZRK7CCgBGBQKf8XZc2dgw4PT9weUIQvB4x4ek53EeyCepuT3oQIrgSNDjR+tj2AJWkqb9DV+BcZXIV2p+OrWVvwfps9T2zlt+pn5M1cORA4/5wvR3tmmgHHo1968GLsQdx+8sHaFcEjObKC9Oc4naiffXo8Le4hx3q3RMGgWhb9LZkXTlewIAunO6rhcdOlyyJm7bWs4QP2AtTQr+/aw6mBTnLJ48xPecDRJ7PRKwNKMeZEA1C00qWQMCScdSSJUTi0GHztkARtBz9s7Hxz7PP8XJT1J601KTl07NvQb8/PqoH7+pD89NrCj46WC3FT27LM/62UEQUIgvteLWrmw4tLRlYp+Bvsx+bG1l1yZk9hWVCkUnT8PZtA3fXpDl44MBB7q7I5WLkcSG+b41sUhGibeOxvYU2oGjlr0Y1CCQeF8PNOnPc7ORs9ivbB9MytiWtZ+shaGnalhz2RCg6/33YVjfOuWzdtUp62Fy3dlWyIYdbFhkfi/7yEL2Ee8mJFaJVcWrQghrP3B3z9s1nqM9u6nnG/Bm8bYIUliAUNY2n3ek3qGMIYlQLlxEh8QQdWIAgc9QWqiNaUPFq02S4lzI1KWqH3sjqSh9vTGZx9FoyVRoKpkZn5+kvsgcn437PZFOIxONotFtnlNlF9AjYUPRGdxCpaqvwsEhvNSLf+eXdqsaGqrt/GTekr0/fuD59Pe3DHrFq0MAHMAWHO6titb0unTt3iU27dOFcqeSXHqwc2ViFmY5oEKDHIEwHWvCdPiHc28sYGFb5+YiR+uAtFixrWp4JXd5jIaoPSXfLCbGIyBCLiEwndGGn2GvGWCkEAMXg+MxYdfpEZeWJM7/QKayR7YZQ6AwAnWAWy2ev6BWQsaYrzHyNNYFQLuHKQB6+RkoinzVSOLq/44sUotwwzid/8YkLJfOXRK13M+7PhynT7zXSleakb5KnTOSsmkstmENb6nkP5LOEWSnGHUH+ErUraQ1vKfuhGUOBPKwFaCGPaltISXZudu6WnOxs2usV9GeVrxxfsx/B6/Wx+zVFjkcePjwiYcwkRBaNst3ex5xD+8jrCvL/GYP+XTjfPVFL8jx8C2ILT5VELolM7FQSHTVz2YcYj5kwbvKcBTMjquvM/6Yb9qWAIRLM42jGzvTxo0xPxOi08KGeq8c9e5KPMK95QattfP0G/oNtaCsHMYJ1lvTK9bWyogGH5h08/Lb6h/gl4UnGP8+equlsY/57/j7N7aTsEO1Qt6CZhdvyD0XMjpz9+cqL335jfh2wwG9DaGBZXPDoSRJXWurpWGEIcRBjWGuvbnWHQ6t7MMEqIPrGDb9+jv3tuzuFeC1J3L5dGML+zjAvGD9YLktW2Gfk09wMkItc4s7TBORSJ1Gasi1AUI6/hc6SLmuyF4YbDOELs1eOGuA/cqS//2j+/KKtWxctzspa/PHIEQEBo4NEXDNannFNKKsXTt692y7qxBQhZRxtm+zeAKkF6UtXJcVtMr6+WvE0IiotooVUXGWmEsOatZkpmQWcd8rypDXrYg4/vnk1pMi7d3HstZpb55elp6VvSBT3zMO4VGCOcCHEGVT2Km4Q+PvZ2ttRqYK100F+bBK9ZS7z9o7+4uqj2senG45uiEnZmJEYv8iJ6rmehWy6pi+lrLn2AWsuu56QfHSX/nhgkMQvMefF4h6dxCykwE0sg7c2h3Iy0xDupJmnu+l+8/McoSiXuUrvvK97UtUTK55MrL8aqqJdaLF4H1Q6vGaOUEdVOaS1djThKrF2OPzv0qGF0Zz/3nnHThljlk1Z16ekhCuA8V+W3zNPowUZiRNGmJ7gu61y6DHkpg1OPFrfbYsLunVRcIRLyX5bru+66Y79unBZsrEjTYwP2AmTZsh5idtzWRD3Bt93IX3e12MMepEWHv5SrfwU/s/aPPf+9QVb/Wx3NNROOj6m39CcoKyNnG922NUaY3rWjBWeHgkhWRstVXrCF5ubf/q5vs9H6SrPnZvDITAQq3Vh6cSx8GLUxGdnJT1uIxgj2l2QbCjoNNRoZLfhIV/dYdkcxJmGvtci35zESgEIUt5aF0VVLRyQEqMSbWDfRgW6K0jv08s3fNTus0P2zS579NeNO+w5eBcu0GsOpCamG4TLrs56J5dXFa4Dh7A3tx6zOugHLphXnGGieWnwqKUVd8p35JaIdsJek/8C8VlhNUTGYyBiW6fDtK1SqOVcyvXr35oX07RL5pVwjXOGuhx2GCYu5BpMA+iVQFG/ZMR/BfGLWVxGWsFqfXhLfW/N4n7+/BVH9vylid0Ab9Mr6OJo7P7VvkNlZYf27+0O16sxVX8JdpjElTDVXLe/kL0pZ+YK9ubrQqkP3I2yQzBpuRMNE/tATUsLF4vsm4t7O0o10o1445r24emL2aqtMeTa+kKxFWx//WJ1ZFIOYz9XtRD96sXxv5defK7fu3rNzu2pSfme6RFRqWlLItN4XWxh777frrr+w42KVcY+nGdhzKXy66acFXnbEhIzNnHqqE3rY5emplp6e/yygBnksiVmsEuccfr05bb4Y5b4U6lBLYWCVqHlmdHclzMa6U3OyK9oXisUNafy8bj+Ir6E/cC72EswiiwCMhV1Tked2/W+bliH/tH7tstQ3I3csnoGyl9fgqPx0Nfbdxd+//QP9vhZDTtpvJm/owgi5q/tP+DGvsM1jBWn5K+NmLW6/8A7Bcd/rKvU61e9yx1LcfeOUu5Qt2aOLuZZRu6MyUTz6TrzcjFr8MinSZg/zRIfekld37sgk8qlSI7WAFSK9aQNNLTkHuG8c2fcfgn03BMA9rRu3PahPQaviozOVuUYYvI2Jf5c1QdGjgLuZR30ZE/Zb2wHe8B++aBnposj1ISO2XH5Qvm+Pd9Jsa9nobwbxr7Ui4OURj2kBCIlJFuFujUdSVlAx7vdvTIvV8eV7LL1y1tYfrckM2vaCvdecSGGzfDqBftt2DAwPxeq0seOZ2Xs1dln4wPNrz8PulZo8bdtSzJnY/GTA/Z2x3bR0PyVsr7Ss6EIpgKvHcQeE8lgYeO7CBeDrf7AgaNfuQ7r7aD06TE1+MkT7nDGhqPGTlZ6QTZ/zoYM00RRH9H+v0n2V0rdKvZI9tgqcQpURmo5iuEUuMIk9h9248WLuicPq4Qitp/VXmYPWaHg1LwChLtlNS1tvpSNQVmYVztSRKVQIhtBrRRbiq/hHtz/06jkmHMC+4BTIuOax/HHsCf9nM5unsz/x7zLLLJQjMnWg8pEVqDcgYgxXepzWzmiU/HpTGdkOn6c4NT0RHDKlXwTxkK5J22+eZ+X1Yr/9zspy896t5Hz3RQqfSd9+W9Pz2XBbd9JI0esbHLHy38NFr+Tro4KpE5DR/9xHvHgFzhXgzlD5KyD1l/qurXQ0I1zAHKGRWWwRWcgICSEI82luArIGMQv9umdRWUoJ1f7O4FSVMKVvfnO07rEuveLO6aH3C3BiZ1nzuyrbdtgFnWADrm43JmN5mpRir20F24jNTEe/u6iKoMBb/zizoGykvl5Zqc4BtopubGdhg3y6s8WVkJqJje8uWfkrk5CDshGL4zl3Sy8wl6Av4l4OqCfUIDoHi1dDmk/mdm3TPiJfkcbTBPMjFpze6T14zDufsK48xTt366XIjqReBL5SHvyYQxjo2FgnY9sG7hYZxuwbNBT9jQXD7B7+smS4bb+EQHbDkEj6wyNlJ6oUCi2WttAj6blhfGKv8HFxjrPRll+XBlfKO6dxJ+mLkKp1A+Idv70V/YiQyhlr6EZv36CyEnen8zie5O5YCJ7+HUkTJqvI3p+IJkprZlPcgUHUiyMIh78KhKCIxoMpIeQSdbgugwcoXJKMvlZJJpuJD2oGe+vIjNw5PEHSLEol+qIRpRJr6LcdWQuPruNIw3Hx4ILSYa3ZDdez6XOZK9wghTTweQi/4hM5QtIMd6fJL7LBRFb+h0ZKoSTYjl+J4rY+FIyUMJMiReuG4NnZ76BuPCDyDi6hiT9N6inejsKZW5kc3RyZWFtCmVuZG9iago0IDAgb2JqCjw8Ci9MZW5ndGggMjYyOAovRmlsdGVyIC9GbGF0ZURlY29kZQo+PgpzdHJlYW0KeJzNW82OHLcRvs9T9AuYYhVZ/AEMHWzHRnwIkEg3w4fd2V0nwdpBIiB5/XzFZndzdns4OxJXEoTWdHNnWB+L9c9qmiz+fUP4L3kyKU/H3w80/e/wy68YujvY6Z+4fj74mAxlmybO1tjAMsVgJGWeyLOxJDr0n/vDmx/u//uP4/3ffvpuOn44WJNDChy92Jysy8zTy4Y+HP84vPnpA02/fTg87OKxZMhS+FrwOPagyv5rwUMUjVXyKx62wXh2X27Dvghr/n0gy8ZTSjHPop7sBCzEViX9zZ9p+uFfh78+I86A1U7sQMpZSYmdcPZgbxAMecrBxuQducjic6FeqO7p1Xfv6zhNjthEouTTFCObHF1OfnoPRD/SRDK9fzj88q21lnAxLofL45K3k/11ev/z4U/vvwRqcQaWwOMnXdTuyyMNkH/ME7mPNHx5pAk/dinlCzyNuBKujOsG1y2uI647XcGlVRRaL0XELhoOYiMUVRWMOYQZEE/5vGRWbi449T6Pw5TIiDjsRRfUTQW2MGccAGej8diZkLsAdDfum+thLAhHJtqYPfdAKAOIFuEeC0DEEFgBLbggGzCwFt+05KtMjJUHlwm+JHNfRiEGNE4vXM4mBCsxdbk/dqHeimGxnvtbDg5TGksYEYQkSZG6hGGOCFpHt+MIMwj7BIvb3dvjbGfoWGVNZe5uLAckmUwBxvkSkMKB+1nIR4NIDHfjyXU1jh5mY6yfaneYhgGAX4Nzc4LYP4r6OYHu7ao88+ye2I01/eRN0tljD0DhAGwNy6z3+rlwQz+LhizcsdWPDgQZoabwhZJ7IBnywQDC6XU4ha1yBHntcmrxTQvHVtlJp/6rcLM6+c2+jLXimgnEQDa8iGv5VbjmctTEKAb+KK51ZIypcnQs13yMJiSYSOoCPs5cewWO+cwmOefdRYV8Klb1k2/mcWUQPYyTfwT9KUcSMMZlk8Akem4r1Uwt0QmXCGF8dGIRrYZkNU86D6SEJ0t4lOq9itbd2ykbjtF5Py1JyivIvXeaggbruyCpitHtWOLwZdgn8dLdqjCQIExNiBK6sjE4eEMqiFVGf4HF96fasZqTxsQs9+U7T7+XqlYdF407WcBOMSYCHDj/+4HZl7tH3GUjzMnHMsBO/5CR7UOd3PwoMh0PeoeUWH+hd2yXXzUTsJabtBbG+gsQ05vHQ/DrdHgOtv21PpF+GzdK6LHcbAC23yq6iv94+PvQdH0rG53OShoGvXjTAQ77jBDWnnNmJVZ1s2udlR2gtAr27WyZuhJ4HRiy3gj54FMPlH2JCbyeC9GbnN2uYt9Vc5dm+ztH70/N3jguJGSLCXrIXS60Ll4B3W66Nrv9odyBBfQ+BL8jI/czd17kma4jnK1JwhYeskP/FcRBq7CZsofN6C38M4uFmmfIRuiDqtUsvuQBr5XJjCjOkZUe8dXuXyokXUccqYqJcEYSunLwesLvBeM57qSyXZ9/JSHNXIOeEnXoXXT519FEug79ScgDe2vkuWZQCqe1aNotVF0pWshokvMZsU4HRKmg3Ldmb+gOOzLwuGnPBT5UNxfryn3DiZEmJyIbdhn+vgPmlVwfIptki+g9Wz0IUTBBD75c8fjPDF5j/f3GKmcHqj+cYGLhHmcIQBNiJ4RJVHDSXrTSPTvJT6IxDby2s7ryNwwhJPOxCdHcyxNRJ4YR2WQ659MdvZ20Zh1lWUXL7XI/Li2uaJCenwt77Ng83DNyGoquTxSrdUuF9Gx6ObA64Qxb+PrcA7XmvjX/dfUYqVRSby54+Y/bFk0hzvi5z3uW5WMu1YEUeqB026j6CcaWESFbT7Go3Zw4bNzrq+FHcUvsOb/h/FYBW1LPkdwJbCIsTOIeiFlGBm8LmRxTdD26xXMfK223+K+3E1wNe6asu+PgyYUN+2DzrGFjTwGFkOZK9rnLIRdOTbVzb6dgnNeRRe3XGGQ5oHPD5cjFs2GAOkI2IQu8dDHNS/S/qt2lOgayWvZKh1irGaK1h/X58SBC2vrBsf2aiOApGbilHHl+FFf/eDyU55CbOfAMkxZyxjKmdkpYtzql0l2fjgXW+vh48A7OFrkGN6PaDrPNqk8rzWPplVkhPZbHDXAz27qmEz58nVURQBTYPXjpgEUs7Q10knsjAP3mxMzdNYfZxwtm7srgkGXuj+qBKufX6hduKoaHisdv2OylU9frcDkodJTgERp22bWUjKVmaeOSBy0LBxLYl0m0ZgomQLyfI7idi9JUi5KaRpX7h9PoYuCeQe9UQlV6u7tWq9VUy+brTt09K41+ChpBCp1ThnnogoFouGQkLs7Bpo1f9niCxhrZa+QLyOW0kc/b1dBtg6UNoliJZi3fv6treff9X1R9WdX33f78jh2chBZrm/m3wU+eH6piStW7nX8b/PT5Ncb02pjazr8OfvL8sP8GiUs7+zJ0zdznOyKLf9ZJvYlpG3nJpJ/WVzCJ03Qsrr6ZTsOrYvnUJCcAy1hpUefbzSQvpnFg61nyyBk5ITHtgastHwPpKjcom+xoTdlbgmRPeu9KWG5rBWUciKh2k3zyXSz8Aot//eJtNg5/9Ge4jfyDkanA8dWaRahbf1M5cdNYtdyIx1CUPiMKQmQSdthybAz+WJmMVju72cYeffsqMulTMrAI7owSlAjgvvG9eTiIJAjfSwZ/ActgutqTIcGK9OjaZdPHMh3OI/qtarFjCArT7zcTeRLwULWQoQKs6lGe74YCDdEgYA97SrtGpkO5U1JzZG5d0uOFIXqTkI9I7tL1y15sOe/SIGhvtxBwsHXQfZBggt+S8FZCq30sTEm1EnC7IzQPWxGqgB3vWhWoD4Ys7/rUV3ErWgQQCbt+bHErMKk2yVwoKT1BdtsvquXvVdfysofj2hstUnI9IZce2sFs0eTT5l1vu5jxKrWLY11TT65hx83YJk9mkwJRdM8Cr7ZOOrL5iJAUxZxDj+Da0Pm0pX65H9mqAzcTnPguB1wcWCBDDhey89IjOLA7zmfR0oL7algujo332hRwBcsvJMnLK2ZNjuxBRs+wxmTJG4F1bASBJiNeCaxjQwhsKfFGYBkbQWDNitfp68iVk+9nyt6pvVgT8JIrN2OvnS07hISRMsyjvnjiz7wJMPKtD8iWi7AOk0vxHMH1iEg9g9YqR76EoUfUHFKPvrYsPO1dW85VaZyLFismMWXoco8Zn9Fw6bmrjeJyD9BIX0EeQUqCsZxc0JdSzr6DUU51lmNM/Rx3jirkDHsESdIDodvwGdl/HsgT9u+9sx084nb4xWxoPnPQI6T0ZEyPgJSe5OzacbVu+KZYricp20hYvlOOk8oY4qtmvjoWYB5jCnqqtFIQ3ijMWJqR44K5GXs8aC91jOB7bMedxCdU1hFu5qtjG+bHbWxdWUOh4cBz/n2dR08uaoebj2pM4bPPnWiU15eWnLmpZQ0+X1FdDom0kNZDU/KjgVQR/AUOBEXp8sDNra+LMS1X2O61M4LH2bXNrQqZIPtduaeG4/8Q4kitCmVuZHN0cmVhbQplbmRvYmoKeHJlZgowIDIxCjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMjc1NyAwMDAwMCBuIAowMDAwMDAyNzA4IDAwMDAwIG4gCjAwMDAwMDM5NzcgMDAwMDAgbiAKMDAwMDAyMDQxNyAwMDAwMCBuIAowMDAwMDAwMjE0IDAwMDAwIG4gCjAwMDAwMDAxMDQgMDAwMDAgbiAKMDAwMDAwMDAxNSAwMDAwMCBuIAowMDAwMDAxMzUyIDAwMDAwIG4gCjAwMDAwMDI1NjAgMDAwMDAgbiAKMDAwMDAwMDA1OSAwMDAwMCBuIAowMDAwMDAwMzc4IDAwMDAwIG4gCjAwMDAwMTM4ODYgMDAwMDAgbiAKMDAwMDAwMDQ3MyAwMDAwMCBuIAowMDAwMDAwNzQwIDAwMDAwIG4gCjAwMDAwMDI4MTQgMDAwMDAgbiAKMDAwMDAxNjY5NyAwMDAwMCBuIAowMDAwMDAxNDk5IDAwMDAwIG4gCjAwMDAwMDE3NjcgMDAwMDAgbiAKMDAwMDAwMzIwNSAwMDAwMCBuIAowMDAwMDAzNjI3IDAwMDAwIG4gCnRyYWlsZXIKPDwKL1NpemUgMjEKL1Jvb3QgMiAwIFIKL0luZm8gMTEgMCBSCj4+CnN0YXJ0eHJlZgoyMzExOAolJUVPRgo=</body>\",\n    \"console\": []\nAnd when i've tried sending invoice again, still no pdf attached, got this from laravel-error log : \n[2018-09-16 12:02:18] production.ERROR: PhantomJS - Invalid response http://127.0.0.1:8000/view/rv0ckbhlidbweaniua5jjuk5yi04vcuo?phantomjs=true&phantomjs_secret=vkuuqzldgymlih7uq0zal3prcfrizzax:   {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Rostom BOUREGHIT\",\"method\":\"POST\",\"user_agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36\",\"locale\":\"fr\",\"ip\":\"127.0.0.1\",\"count\":2,\"is_console\":\"no\",\"is_api\":\"no\",\"db_server\":\"mysql\",\"url\":\"invoices\"} []. i'm launching my app via the php artisan serv command, if i don't run it, the test.pjs fails and when i start the server then run the test.pjs it succed. any solution please ?. ",
    "buckbanzai": "That would work, but I can't use a percentage, so I'd have to calculate it manually, which is what I'm trying to avoid.. ",
    "VHoogstra": "im sorry but im not seeing this option. could you be more specific?\nthis is my tax rates option screen \n\n. okey but i created an account about half a year ago and it worked before. it appears they where but it looks strange. is there a way i can turn this on for my company? i run a self hosted version and have coding experience\n\n. no, i only made a backup before updating today\n. i don't know how it happend but that fixed it.\nthank you for the fast reply and help. love the new app!. ",
    "i1pro": "Invoice ninja already has a way to add a late fee and send reminders on\ninvoices.\nThis idea is for sales not accounts receivables...\nOn Tue, Oct 2, 2018, 20:47 Christopher Di Carlo notifications@github.com\nwrote:\n\nI like the idea of the discount being valid for a certain number of days\nbut honestly, I would prefer to see a this feature on invoices and tied to\nthe due date, e.g. net terms of 30 days but get a 5% discount if paid\nwithin 10 days.\nConversion on a quote or proposal is good but ultimately I'm more\nconcerned about delinquent payment! Just my 2 cents.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2372#issuecomment-426477072,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AABnpLHbYigpelzFKWLpxgy191BP3-b_ks5uhAkdgaJpZM4W36es\n.\n. Yes i think you are right.  The solution is to link acceptance of the quote\nto immediate payment of the deposit due.  I think it works like this\nalready. They can't accept workout paying...\n\nWhen creating the quote: We ask for a deposit to accept the project.  We\ndon't start working until they accept and pay.  The invoice is generated as\nsoon as they accept a proposal.  If they don't pay the deposit they can't\naccept the proposal...\nThe invoice for the rest of the payment will have a due date...  I don't\nknow when it's produced because most of my projects are prepaid right now.\nOn Tue, Oct 2, 2018, 21:33 Christopher Di Carlo notifications@github.com\nwrote:\n\nI don't mean a late fee, I mean a discount for early payment.\nI guess I just don't see the value in discounting just so the customer\naccepts the quote or proposal faster - they could just draw it out\nafterwards, which still wastes time on my end but now I'm making less\noverall on the project.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2372#issuecomment-426483916,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AABnpCnL0k0iq6pAb4RglzdkmJXvMCi8ks5uhBPEgaJpZM4W36es\n.\n. Yes you got it.  Specially useful for pre paid projects or sales.  E\ncommerce sales is usually 100% pre paid..  But i think the feature is\nuseful even if you charge all in advanced.\n\nSay user needs 50% deposit on a $100 project, if start this week client\ngets 20% off.  So accepting would charge client $40 now and user would\ncharge them $40 more upon completion.  If they accept next week they will\npay $50 and $50 more upon completion.\nObviouly more useful for full prepaid sales. Subtle pressure to cover\ncustomers. Just like coupons in any retail store.  Hope it makes sense.\nOn Tue, Oct 2, 2018, 21:42 Christopher Di Carlo notifications@github.com\nwrote:\n\nAh, I think I kind of see where you are going. So the discount might be\nmore applicable on the down payment - if the quote is accepted and the\ndown payment is received within x days, receive y% discount?\nOtherwise, pay the full down payment price?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2372#issuecomment-426485331,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AABnpBRMu4xL1q9vpuz2wNnCcJXXzxwgks5uhBYegaJpZM4W36es\n.\n. Actually down payment should not get affected.  It only affects the total\njust like the discount feature.  All we.need is a timeout on the discount\nor the ability to enter a code to get an additional discount.  I imagine an\nexpiration date on the discount is easier...\n\nCheers\nOn Tue, Oct 2, 2018, 22:21 Jose Ignacio jivirtual@gmail.com wrote:\n\nYes you got it.  Specially useful for pre paid projects or sales.  E\ncommerce sales is usually 100% pre paid..  But i think the feature is\nuseful even if you charge all in advanced.\nSay user needs 50% deposit on a $100 project, if start this week client\ngets 20% off.  So accepting would charge client $40 now and user would\ncharge them $40 more upon completion.  If they accept next week they will\npay $50 and $50 more upon completion.\nObviouly more useful for full prepaid sales. Subtle pressure to cover\ncustomers. Just like coupons in any retail store.  Hope it makes sense.\nOn Tue, Oct 2, 2018, 21:42 Christopher Di Carlo notifications@github.com\nwrote:\n\nAh, I think I kind of see where you are going. So the discount might be\nmore applicable on the down payment - if the quote is accepted and the\ndown payment is received within x days, receive y% discount?\nOtherwise, pay the full down payment price?\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2372#issuecomment-426485331,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AABnpBRMu4xL1q9vpuz2wNnCcJXXzxwgks5uhBYegaJpZM4W36es\n.\n\n\n. Well, user should be able to set up down payment as a percentage of as\nfixed.  If a percentage then it would get affected if fixed it would not\nget affected.\n\nI would create validation when the fix is for the total.  So the down\npayment is not higher than the total after a discount gets applied.\nHope this helps\nOn Tue, Oct 2, 2018, 22:45 Christopher Di Carlo notifications@github.com\nwrote:\n\nI think I understand. So the down payment is static, i.e. to use your\nexample of $100 project with 50% down, the customer would always pay\n$50 initial for the down payment. However, if they accept the quote early\n(say they get 25% off for early acceptance), when the final invoice is\ngenerated they would only owe $25 ($100 - 25% = $75 - Down payment of $50 =\n$25 owing.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2372#issuecomment-426494454,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AABnpGlcH9DKRRAuzINxPKc9WR8z6tONks5uhCTCgaJpZM4W36es\n.\n. Percentage OR as fixed...\n\nSorry my phone has an aggressive auto correct\nOn Tue, Oct 2, 2018, 22:48 Jose Ignacio jivirtual@gmail.com wrote:\n\nWell, user should be able to set up down payment as a percentage of as\nfixed.  If a percentage then it would get affected if fixed it would not\nget affected.\nI would create validation when the fix is for the total.  So the down\npayment is not higher than the total after a discount gets applied.\nHope this helps\nOn Tue, Oct 2, 2018, 22:45 Christopher Di Carlo notifications@github.com\nwrote:\n\nI think I understand. So the down payment is static, i.e. to use your\nexample of $100 project with 50% down, the customer would always pay\n$50 initial for the down payment. However, if they accept the quote early\n(say they get 25% off for early acceptance), when the final invoice is\ngenerated they would only owe $25 ($100 - 25% = $75 - Down payment of $50 =\n$25 owing.\n\u2014\nYou are receiving this because you authored the thread.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2372#issuecomment-426494454,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AABnpGlcH9DKRRAuzINxPKc9WR8z6tONks5uhCTCgaJpZM4W36es\n.\n\n\n. \n",
    "jclg": "I was able to reproduce this issue (version v4.5.5).\nAfter submitting the reset password form (/client/password/reset/{token}), I was redirected to /client/dashboard\nThis route matches Route::get('client/{contact_key?}', 'ClientPortalController@dashboard') with the middleware auth:client, but I am not authenticated as a client.\nIn this middleware, the contact is not valid so it returns\\Redirect::to('client/session_expired');\nI created a PR that should fix this problem by redirecting to /client/login instead of /client/dashboard\n. @timothyjensen You are correct, the user should be automatically logged in after submitting the form. This is the expected behavior in Laravel.\nAccording to the Laravel documentation (https://laravel.com/docs/5.7/passwords#after-resetting-passwords)\n\nAfter a password is reset, the user will automatically be logged into the application and redirected to...\n\nWe can see this here:\nhttps://github.com/laravel/framework/blob/5.4/src/Illuminate/Foundation/Auth/ResetsPasswords.php#L108\nWe will have to investigate why the client is not automatically logged in.\n. ",
    "Robsi201": "@hillelcoren thanks for that.  What about the \"100 clients\" limit you post on the \"Forever free plan\" ?. my bad! thanks for clearing that up.. ",
    "croxarens": "You are totally right! Thanks for the help ;). ",
    "WilliamMiceli": "\nIt shows mainly blocked http requests, but I'm not sure why when I have https:// declared in my environment variables\n. That worked perfectly!\nThank you so much @anojht !\nI'm off to setup emailing and then buy a whitelabel for Invoice Ninja!\nAbsolutely love using this!. ",
    "StarAle": ":-( ok.\nThanks for your reply.... ",
    "svavs": "Very sad on reading this. \nIs this https://invoice-ninja.readthedocs.io/en/latest/custom_modules.html a valid start point to write a new module for this export? Can you suggest more?. ",
    "aidan2496": "Yeah that would be good.  Just so they can't submit the payment without doing the reCaptcha. Sorry I've never used Github. ",
    "vjrngn": "Oh ok. I presumed this was the intended behaviour based on the following:\nFrom BaseRepository.php:94\njs\n$entity->is_deleted = true;\n$entity->save();. Ok cool. Will modify the PR then. \ud83d\ude04 . I do have one question though, since this is the BaseRepository, is the default functionality across the app to archive or to set is_deleted ? \nThe main point of my question being, since the delete operation is being delegated to the BaseRepository, I definitely don't want to modify code there. I'd much rather do it in the controller. Thoughts?. Good point. Will do.. addresses #2444 . The test link on prod works just fine but not on dev. Will check the guide you provided. Thank you for the quick response!. I've tried all possible troubleshooting steps.\nI have phantomjs installed locally and calling /api/v1/download/1 errors with the following (laravel-error.log)\ndevelopment.ERROR: PhantomJS - Unable to decode http://www.ninja.test/view/4n7qx5npdoigxuuvxc7eozxblpa3ixxj?phantomjs=true&phantomjs_secret=pklqmwcbsoz528mqw1olrjs4i8ov6oqb  {\"context\":\"PHP\",\"user_id\":1,\"account_id\":1,\"user_name\":\"Some user\",\"method\":\"GET\",\"user_agent\":\"PostmanRuntime/7.3.0\",\"locale\":\"en\",\"ip\":\"10.0.2.2\",\"count\":1,\"is_console\":\"no\",\"is_api\":\"yes\",\"db_server\":\"mysql\",\"url\":\"api/v1/download/1\"} []. I got it working! Had to add PHANTOMJS=phantomjs-2.1.1-linux-x86_64 to my .env \ud83e\udd37\u200d\u2642\ufe0f \ud83d\ude01 . ",
    "jbzdak": "Hi, thanks for the hint, unfortunately it looks like it wasn't it. \nFrom what I understand PHANTOMJS_SECRET is required only if you want to password protect pdf. files (which is not in my requirements). Nevertheless I set phantomjs secret and in logs I still get javascript error in the invoice page: TypeError: Attempting to change value of a readonly property. . @hillelcoren Thanks! \nI was doing testing on a fresh copy of our production system running locally, so system is exactly like our production system but database was empty. I did not fill all fields in Company, and this somehow broke local phantomjs. Only test_headless was broken so I didn't suspect lack of configuration was a problem. . ",
    "baernm": "The idea to make this possible would be to build a replacement for the laravel translation service provider and extend the existing translation FileLoader. There the load function could be called twice with both the lang path and the override path (defined in ninja config) and then merge the two resulting arrays.\nPlease tell me if this approach is ok for you, then I will submit a PR.. Hm, didnt get this before, but this has already been fixed in the develop Branch by this PR:\nhttps://github.com/invoiceninja/invoiceninja/pull/2190\nSo, I will be just waiting for the 4.6 release :). ",
    "HLeithner": "Which setting du you mean?\n\n\n\n\n\n. As you can see in the screenshot its activated:\n\n. Ok, is it hard to fix? I may can create an PR. Whats the reason why you close this? There are 2 bugs in this ticket,l\n. ",
    "marcatsmci": "+1 \nI agree with @hillelcoren : the main contact need the ability to open the portal.\nOn the other side, sometimes we need a CC. It is not really comfortable to send an invoice to more than one person : who will be in charge ?\nActually, I need to resend the invoice from outside InvoiceNinja, for the project manager who check the hours... (for ex). Done in 4.5.10.\nThanks !. ",
    "manuels": "Hi @hillelcoren,\nthanks for your response!\nThe PDF test link does not work. The browser receives a file but it is not a valid PDF file. I shared this file on wetransfer.\nThe laravel-error.log file does not exist. The whole storage/logs directory is empty despite setting APP_DEBUG=1 in .env.. Here is my checklist:\n\n\nCheck storage/logs/laravel-error.log for relevant errors.\n\n\nThe file is not present.\n\n\nTo determine the path you can run which phantomjs from the command line.\n\n\nsudo docker-compose exec app phantomjs works.\n\n\nWe suggest using PhantomJS version >= 2.1.1, users have reported seeing \u2018Error: 0\u2019 with older versions.\n\n\n$ sudo docker-compose exec app phantomjs --version\n2.1.1\n\n\nYou can use this script to test from the command line, change YOUR_LINK_HERE to the link in the error and then run phantomjs test.pjs.\n\n\n$ sudo docker-compose exec app phantomjs /tmp/test.pjs\nDONE2018-10-27T18:03:19 [INFO] PhantomJS - Delaying page render for 1 second(s)\\n2018-10-27T18:03:20 [INFO] PhantomJS - Rendering page after delaying for 1 second(s)\\n{\n    \"contentType\": null,\n    \"headers\": [],\n    \"id\": 1,\n    \"redirectURL\": null,\n    \"stage\": \"end\",\n    \"status\": null,\n    \"statusText\": null,\n    \"time\": \"2018-10-27T18:03:19.824Z\",\n    \"url\": \"file:///var/www/app\",\n    \"console\": []\n\n\nIt may help to test with HTTP to check the problem isn\u2019t related to the SSL certificate.\n\n\nI am not using HTTPS (it's running on localhost only).\n\n\nYou may need to add an entry in the /etc/hosts file to resolve the domain name.\n\n\nI'm running on 127.0.0.1.\n\n\nIf you require contacts to enter a password to see their invoice you\u2019ll need to set a random value for PHANTOMJS_SECRET.\n\n\nI do not use the customer portal.\n\n\nIf you\u2019re using a proxy and/or self-signed certificate this comment may help.\n\n\nI'm running on 127.0.0.1.\n\n\nIf you\u2019re using a custom design try using a standard one, if the PDF is outside the printable area it can fail.\n\n\nI used the standard design.\n\n\nIf you\u2019re using a non-English language try changing to English.\n\n\nI am using English.. Thanks again for your response. I think you mean file:///var/www/app, right?\nThis actually is the current working directory from where I call phantomjs --debug=true /tmp/test.pjs and it changes (of course) if I make this call from, say, /tmp to file:///tmp.\nEDIT: I also tried to shift to another network interface (10.200.100.2) but that didn't help either.. Oh, ok, apparently I was missing the http:// prefix when replacing __YOUR_LINK_HERE__.\nNow I get a response that looks like the login page (Is that what I should get?):\n\\n{\n    \"body\": \"\",\n    \"bodySize\": 364,\n    \"contentType\": \"text/html; charset=UTF-8\",\n    \"headers\": [\n        {\n            \"name\": \"Server\",\n            \"value\": \"nginx/1.15.5\"\n        },\n        {\n            \"name\": \"Content-Type\",\n            \"value\": \"text/html; charset=UTF-8\"\n        },\n        {\n            \"name\": \"Transfer-Encoding\",\n            \"value\": \"chunked\"\n        },\n        {\n            \"name\": \"Connection\",\n            \"value\": \"keep-alive\"\n        },\n        {\n            \"name\": \"X-Powered-By\",\n            \"value\": \"PHP/7.2.10\"\n        },\n        {\n            \"name\": \"Cache-Control\",\n            \"value\": \"no-cache, private\"\n        },\n        {\n            \"name\": \"Date\",\n            \"value\": \"Tue, 30 Oct 2018 09:36:50 GMT\"\n        },\n        {\n            \"name\": \"Location\",\n            \"value\": \"http://10.200.100.2:8000/login\"\n        },\n        {\n            \"name\": \"Set-Cookie\",\n            \"value\": \"XSRF-TOKEN=eyJpdiI6IkRsRjlXdFNSMldnVzhHVXdOMFwvXC9UZz09IiwidmFsdWUiOiJkVFhQQlQ4blFqZGV5bUpqQjBZQzZCUWdvQ3pZNnpYa0RESGR4S3ZWUzRDaWxMZ00xSHF3TnQ3U3A3XC9MZjFKWmJBUWpRMFpsT0VxSjJcL0FXYzFjZ3J3PT0iLCJtYWMiOiJiY2UxMGM5ZTIzOWViZWIwMGY5N2M5OWY2ZmQyN2VmYjVhNDI3ZTM5YWNkZjE0ZmE4NzM0ZGVkOTFmNDFjYWJhIn0%3D; expires=Tue, 30-Oct-2018 17:36:50 GMT; Max-Age=28800; path=/\\nninja_session=eyJpdiI6IktvaExLV0JhWFl0R0VHclh3Y1BJblE9PSIsInZhbHVlIjoiUFVRdU40Q3R1Z2diNmZVQkxmejUwOHFzejdaM0dHOHpwWkFLUDNVQVk2MUhpYWo4V2NjZm5OK1EwZU1UVEV4NkNNXC9UR0hcL0ZaUGsyYzJtY1cwTGZ2dz09IiwibWFjIjoiYjM2NzkxNDM0M2Q5MTBlZjliNDk3YWY1ZTEyZTA4ZjVjNWM1OTBkYTg1NzczYTVkOTk1NmNjZWVkMTE4Y2JmOCJ9; path=/; HttpOnly\"\n        }\n    ],\n    \"id\": 1,\n    \"redirectURL\": \"http://10.200.100.2:8000/login\",\n    \"stage\": \"start\",\n    \"status\": 302,\n    \"statusText\": \"Found\",\n    \"time\": \"2018-10-30T09:36:50.423Z\",\n    \"url\": \"http://10.200.100.2:8000/\",\n    \"content\": \"<head>\\n    <!-- Source: https://github.com/invoiceninja/invoiceninja -->\\n    <!-- Version: 4.5.5 -->\\n            <meta charset=\\\"utf-8\\\">\\n\\n            <title>Invoice Ninja | Free Open-Source Online Invoicing</title>\\n        <meta name=\\\"description\\\" content=\\\"Invoice Ninja is a free, open-source solution for invoicing and billing customers. With Invoice Ninja, you can easily build and send beautiful invoices from any device that has access to the web. Your clients can print your invoices, download them as pdf files, and even pay you online from within the system.\\\">\\n        <link href=\\\"http://10.200.100.2:8000/favicon-v2.png\\\" rel=\\\"shortcut icon\\\" type=\\\"image/png\\\">\\n\\n        <meta property=\\\"og:site_name\\\" content=\\\"Invoice Ninja\\\">\\n        <meta property=\\\"og:url\\\" content=\\\"http://127.0.0.1:8000\\\">\\n        <meta property=\\\"og:title\\\" content=\\\"Invoice Ninja\\\">\\n        <meta property=\\\"og:image\\\" content=\\\"http://127.0.0.1:8000/images/round_logo.png\\\">\\n        <meta property=\\\"og:description\\\" content=\\\"Simple, Intuitive Invoicing.\\\">\\n\\n        <!-- http://realfavicongenerator.net -->\\n        <link rel=\\\"apple-touch-icon\\\" sizes=\\\"180x180\\\" href=\\\"http://10.200.100.2:8000/apple-touch-icon.png\\\">\\n        <link rel=\\\"icon\\\" type=\\\"image/png\\\" href=\\\"http://10.200.100.2:8000/favicon-32x32.png\\\" sizes=\\\"32x32\\\">\\n        <link rel=\\\"icon\\\" type=\\\"image/png\\\" href=\\\"http://10.200.100.2:8000/favicon-16x16.png\\\" sizes=\\\"16x16\\\">\\n        <link rel=\\\"manifest\\\" href=\\\"http://10.200.100.2:8000/manifest.json\\\">\\n        <link rel=\\\"mask-icon\\\" href=\\\"http://10.200.100.2:8000/safari-pinned-tab.svg\\\" color=\\\"#3bc65c\\\">\\n        <link rel=\\\"shortcut icon\\\" href=\\\"http://10.200.100.2:8000/favicon.ico\\\">\\n        <meta name=\\\"apple-mobile-web-app-title\\\" content=\\\"Invoice Ninja\\\">\\n        <meta name=\\\"application-name\\\" content=\\\"Invoice Ninja\\\">\\n        <meta name=\\\"theme-color\\\" content=\\\"#ffffff\\\">\\n    \\n    <!-- http://stackoverflow.com/questions/19012698/browser-cache-issues-in-laravel-4-application -->\\n    <meta http-equiv=\\\"cache-control\\\" content=\\\"max-age=0\\\">\\n    <meta http-equiv=\\\"cache-control\\\" content=\\\"no-cache\\\">\\n    <meta http-equiv=\\\"cache-control\\\" content=\\\"no-store\\\">\\n    <meta http-equiv=\\\"cache-control\\\" content=\\\"must-revalidate\\\">\\n    <meta http-equiv=\\\"expires\\\" content=\\\"0\\\">\\n    <meta http-equiv=\\\"expires\\\" content=\\\"Tue, 01 Jan 1980 1:00:00 GMT\\\">\\n    <meta http-equiv=\\\"pragma\\\" content=\\\"no-cache\\\">\\n\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <meta name=\\\"csrf-token\\\" content=\\\"vCFNLy22zaZ9SPrrQDYfEuBsuKY5N0x0s1FogsKQ\\\">\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"IE=edge\\\">\\n    <link rel=\\\"canonical\\\" href=\\\"https://app.invoiceninja.com/login\\\">\\n\\n    \\n    <script src=\\\"http://10.200.100.2:8000/built.js?no_cache=4.5.5\\\" type=\\\"text/javascript\\\"></script>\\n\\n    <script type=\\\"text/javascript\\\">\\n        var NINJA = NINJA || {};\\n        NINJA.fontSize = 9;\\n        NINJA.isRegistered = false;\\n        NINJA.loggedErrorCount = 0;\\n\\n        window.onerror = function (errorMsg, url, lineNumber, column, error) {\\n            if (NINJA.loggedErrorCount > 5) {\\n                return;\\n            }\\n            NINJA.loggedErrorCount++;\\n\\n            // Error in hosted third party library\\n            if (errorMsg.indexOf('Script error.') > -1) {\\n                return;\\n            }\\n            // Error due to incognito mode\\n            if (errorMsg.indexOf('DOM Exception 22') > -1) {\\n                return;\\n            }\\n                        // Less than IE9 https://stackoverflow.com/a/14835682/497368\\n            if (! document.addEventListener) {\\n                return;\\n            }\\n            try {\\n                // Use StackTraceJS to parse the error context\\n                if (error) {\\n                    StackTrace.fromError(error).then(function (result) {\\n                        var gps = new StackTraceGPS();\\n                        gps.findFunctionName(result[0]).then(function (result) {\\n                            logError(errorMsg + ': ' + JSON.stringify(result));\\n                        });\\n                    }).catch(function () {\\n                        logError(errorMsg);\\n                    });\\n                } else {\\n                    logError(errorMsg);\\n                }\\n\\n                trackEvent('/error', errorMsg);\\n            } catch (exception) {\\n                console.log('Failed to log error');\\n                console.log(exception);\\n            }\\n\\n            return false;\\n        }\\n\\n        function logError(message) {\\n            $.ajax({\\n                type: 'GET',\\n                url: 'http://10.200.100.2:8000/log_error',\\n                data: 'error=' + encodeURIComponent(message) + '&url=' + encodeURIComponent(window.location)\\n            });\\n        }\\n\\n        // http://t4t5.github.io/sweetalert/\\n        function sweetConfirm(successCallback, text, title, cancelCallback) {\\n            title = title || \\\"Are you sure?\\\";\\n            swal({\\n                //type: \\\"warning\\\",\\n                //confirmButtonColor: \\\"#DD6B55\\\",\\n                title: title,\\n                text: text,\\n                cancelButtonText: \\\"No\\\",\\n                confirmButtonText: \\\"Yes\\\",\\n                showCancelButton: true,\\n                closeOnConfirm: false,\\n                allowOutsideClick: true,\\n            }).then(function() {\\n                successCallback();\\n                swal.close();\\n            }).catch(function() {\\n                if (cancelCallback) {\\n                    cancelCallback();\\n                }\\n            });\\n        }\\n\\n        function showPasswordStrength(password, score) {\\n            if (password) {\\n                var str = \\\"Password Strength\\\" + ': ';\\n                if (password.length < 8 || score < 50) {\\n                    str += \\\"Weak\\\";\\n                } else if (score < 75) {\\n                    str += \\\"Good\\\";\\n                } else {\\n                    str += \\\"Strong\\\";\\n                }\\n                $('#passwordStrength').html(str);\\n            } else {\\n                $('#passwordStrength').html('&nbsp;');\\n            }\\n        }\\n\\n        /* Set the defaults for DataTables initialisation */\\n        $.extend(true, $.fn.dataTable.defaults, {\\n            \\\"bSortClasses\\\": false,\\n            \\\"sDom\\\": \\\"t<'row-fluid'<'span6 dt-left'i><'span6 dt-right'p>>l\\\",\\n            \\\"sPaginationType\\\": \\\"bootstrap\\\",\\n            \\\"bInfo\\\": true,\\n            \\\"oLanguage\\\": {\\n                'sEmptyTable': \\\"No data available in table\\\",\\n                'sInfoEmpty': \\\"Showing 0 to 0 of 0 entries\\\",\\n                'sLengthMenu': '_MENU_ rows',\\n                'sInfo': \\\"Showing _START_ to _END_ of _TOTAL_ entries\\\",\\n                'sSearch': ''\\n            }\\n        });\\n\\n        /* This causes problems with some languages. ie, fr_CA\\n         var appLocale = 'en';\\n         */\\n\\n                function fbq() {\\n            // do nothing\\n        }\\n        ;\\n        \\n                window._fbq = window._fbq || [];\\n\\n    </script>\\n\\n    <link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"http://10.200.100.2:8000/css/cookieconsent.min.css\\\">\\n    <script src=\\\"http://10.200.100.2:8000/js/cookieconsent.min.js\\\"></script>\\n    <script>\\n    window.addEventListener(\\\"load\\\", function(){\\n        if (! window.cookieconsent) {\\n            return;\\n        }\\n        window.cookieconsent.initialise({\\n            \\\"palette\\\": {\\n                \\\"popup\\\": {\\n                    \\\"background\\\": \\\"#000\\\"\\n                },\\n                \\\"button\\\": {\\n                    \\\"background\\\": \\\"#f1d600\\\"\\n                },\\n            },\\n            \\\"content\\\": {\\n                \\\"href\\\": \\\"https://cookiesandyou.com/\\\",\\n                \\\"message\\\": \\\"This website uses cookies to ensure you get the best experience on our website.\\\",\\n                \\\"dismiss\\\": \\\"Got it!\\\",\\n                \\\"link\\\": \\\"Learn more\\\",\\n            }\\n        })}\\n    );\\n    </script>\\n\\n    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->\\n    <!--[if lt IE 9]>\\n    <script src=\\\"https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js\\\"></script>\\n    <script src=\\\"https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js\\\"></script>\\n    <![endif]-->\\n\\n            <link href=\\\"http://10.200.100.2:8000/css/built.public.css?no_cache=4.5.5\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\\n    <link href=\\\"http://10.200.100.2:8000/css/bootstrap.min.css?no_cache=4.5.5\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\\n    <link href=\\\"http://10.200.100.2:8000/css/built.css?no_cache=4.5.5\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\\n    <link href=\\\"http://10.200.100.2:8000/css/built.login.css?no_cache=4.5.5\\\" rel=\\\"stylesheet\\\" type=\\\"text/css\\\">\\n\\n    \\n<style></style></head>\\n\\n<body class=\\\"body\\\"><div role=\\\"dialog\\\" aria-live=\\\"polite\\\" aria-label=\\\"cookieconsent\\\" aria-describedby=\\\"cookieconsent:desc\\\" class=\\\"cc-window cc-banner cc-type-info cc-theme-block cc-bottom cc-color-override-688238583 cc-invisible\\\" style=\\\"\\\"><!--googleoff: all--><span id=\\\"cookieconsent:desc\\\" class=\\\"cc-message\\\">This website uses cookies to ensure you get the best experience on our website. <a aria-label=\\\"learn more about cookies\\\" role=\\\"button\\\" tabindex=\\\"0\\\" class=\\\"cc-link\\\" href=\\\"https://cookiesandyou.com/\\\" target=\\\"_blank\\\">Learn more</a></span><div class=\\\"cc-compliance\\\"><a aria-label=\\\"dismiss cookie message\\\" role=\\\"button\\\" tabindex=\\\"0\\\" class=\\\"cc-btn cc-dismiss\\\">Got it!</a></div><!--googleon: all--></div>\\n\\n    <script>\\n        function trackEvent(category, action) {\\n        }\\n    </script>\\n\\n            <div class=\\\"container-fluid\\\">\\n            <div class=\\\"row header\\\">\\n                <div class=\\\"col-md-6 col-xs-12 text-center\\\">\\n                    <a href=\\\"https://www.invoiceninja.com/\\\" target=\\\"_blank\\\">\\n                        <img width=\\\"231\\\" src=\\\"http://10.200.100.2:8000/images/invoiceninja-logox53.png\\\">\\n                    </a>\\n                </div>\\n                <div class=\\\"col-md-6 text-right visible-lg\\\">\\n                    <p>Create. Send. Get Paid.</p>\\n                </div>\\n            </div>\\n        </div>\\n    \\n    \\n    <div class=\\\"alert alert-warning\\\" style=\\\"display:none\\\" id=\\\"keepAliveDiv\\\">\\n    This page will expire soon, <a href=\\\"#\\\" onclick=\\\"keepAlive()\\\">click here</a> to keep working\\n</div>\\n\\n<script type=\\\"text/javascript\\\">\\n    var redirectTimer = null;\\n    function startWarnSessionTimeout() {\\n        var oneMinute = 1000 * 60;\\n        var threeMinutes = oneMinute * 3;\\n        var waitTime = oneMinute * 60 * 4; // 4 hours\\n\\n        setTimeout(function() {\\n            warnSessionExpring();\\n        }, (waitTime - threeMinutes));\\n    }\\n\\n    function warnSessionExpring() {\\n        $(\\\"#keepAliveDiv\\\").fadeIn();\\n        redirectTimer = setTimeout(function() {\\n            NINJA.formIsChanged = false;\\n            window.location = 'http://10.200.100.2:8000/logout?reason=inactive';\\n        }, 1000 * 60);\\n    }\\n\\n    // keep the token cookie valid to prevent token mismatch errors\\n    function keepAlive() {\\n        clearTimeout(redirectTimer);\\n        $('#keepAliveDiv').fadeOut();\\n        $.get('http://10.200.100.2:8000/keep_alive');\\n        startWarnSessionTimeout();\\n    }\\n\\n    $(function() {\\n        if ($('form.warn-on-exit, form.form-signin').length > 0) {\\n            startWarnSessionTimeout();\\n        }\\n    });\\n</script>\\n\\n    <div class=\\\"container\\\">\\n\\n        <form accept-charset=\\\"utf-8\\\" class=\\\"form-horizontal form-signin\\\" method=\\\"POST\\\" action=\\\"http://10.200.100.2:8000/login\\\">\\n\\n        <h2 class=\\\"form-signin-heading\\\">\\n                            Account Login\\n                    </h2>\\n        <hr class=\\\"green\\\">\\n\\n        \\n        \\n        \\n        \\n        \\n        <div>\\n            <input required=\\\"\\\" class=\\\"form-control\\\" placeholder=\\\"Email address\\\" id=\\\"email\\\" type=\\\"email\\\" name=\\\"email\\\">\\n            <input required=\\\"\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" id=\\\"password\\\" type=\\\"password\\\" name=\\\"password\\\">\\n        </div>\\n\\n        <button type=\\\"submit\\\" class=\\\"btn btn-success green btn-lg btn-block\\\" id=\\\"loginButton\\\">Login</button>\\n\\n        \\n        <div class=\\\"row meta\\\">\\n                            <div class=\\\"col-md-7 col-sm-12\\\">\\n                    <a href=\\\"http://10.200.100.2:8000/recover_password\\\">Recover your password</a>\\n                </div>\\n                <div class=\\\"col-md-5 col-sm-12\\\">\\n                                            <a href=\\\"https://www.invoiceninja.com/knowledgebase/\\\" target=\\\"_blank\\\">Knowledge Base</a>\\n                                    </div>\\n                    </div>\\n        <input class=\\\"form-control\\\" type=\\\"hidden\\\" name=\\\"_token\\\" value=\\\"vCFNLy22zaZ9SPrrQDYfEuBsuKY5N0x0s1FogsKQ\\\"></form>\\n\\n            </div>\\n\\n\\n    <script type=\\\"text/javascript\\\">\\n        $(function() {\\n            if ($('#email').val()) {\\n                $('#password').focus();\\n            } else {\\n                $('#email').focus();\\n            }\\n\\n                    })\\n\\n        \\n    </script>\\n\\n\\n<script type=\\\"text/javascript\\\">\\n    NINJA.formIsChanged = false;\\n\\n    $(function () {\\n        $('form.warn-on-exit input, form.warn-on-exit textarea, form.warn-on-exit select').change(function () {\\n            NINJA.formIsChanged = true;\\n        });\\n\\n        $.ajaxSetup({\\n            headers: {\\n                'X-CSRF-TOKEN': $('meta[name=\\\"csrf-token\\\"]').attr('content')\\n            }\\n        });\\n\\n        \\n        $('[data-toggle=\\\"tooltip\\\"]').tooltip();\\n\\n            });\\n    $('form').submit(function () {\\n        NINJA.formIsChanged = false;\\n    });\\n    $(window).on('beforeunload', function () {\\n        if (NINJA.formIsChanged) {\\n            return \\\"You have unsaved changes\\\";\\n        } else {\\n            return undefined;\\n        }\\n    });\\n    function openUrl(url, track) {\\n        trackEvent('/view_link', track ? track : url);\\n        window.open(url, '_blank');\\n    }\\n</script>\\n\\n\\n\\n\\n</body>\",\n    \"console\": []\n}. ",
    "lucasff": "VAT return I think it's totally out of the scope of this software.. Related to #2429. ",
    "exmox": "anything else i can do here?\n. ",
    "odili": "I thought Unicode characters are independent of Fonts; however font families can particularly support a specific character by providing detailed rendering or glyphs.\nSee ref : What is the relationship between Fonts and Unicode characters\nI thought currency in Setting > Localization> Currency is from a kinda of array list ?. Please, I don't understand. Can you explain a bit further.\nRoboto which is the default font currently renders the symbol when I mocked a test page with the symbol, so am really confused. I have no intension of changing the font. Also I don't know what you mean by custom PDF Font. \nCan I add the symbol in https://github.com/invoiceninja/invoiceninja/blob/master/database/seeds/CurrenciesSeeder.php ?\nIf I do, how do I update the database ? . Oh I see your point. Problem in the PDF conversion ! \nI have added the symbol and updated. Everything looks fine in the App, but the symbol is NOT showing in the generated invoice(pdf).\nIts looking like a bigger issue to fix.. Where can I help ?. ",
    "dpatou": "Oh. That is very weird though that the date format choosed in localization settings is used for anything else than display. \nShouldn't strtotime only ever be passed db-formatted strings (when not passed english)?. Alright, thanks for the heads up.. ",
    "gramakri": "Hit this issue when creating a new package for Cloudron as well. Is https://github.com/tenantcloud/omnipay-dwolla the new repo?. ",
    "yakatz": "@gramakri It looks like that tenantcloud repo is for the Dwolla V2 API, and the old repo that is missing is for the V1 API. It looks like they want you to use their Swagger-based project (https://github.com/Dwolla/dwolla-swagger-php).. ",
    "felipe-santos": "Open composer.lock and find and replace.\nThis change repo actual Dwolla, and change to repo tenantcloud and second change is reference to last commit.\nThis is unnonficial and only end install your invoice.\nsearch:\n\nDwolla/omnipay-dwolla\n\nreplace by:\n\ntenantcloud/omnipay-dwolla\n\nand\nsearch:\n\nf58af834d62a938834d96b435c644b69c3c1ecf8\n\nreplace by:\n\n40c33d8e105d5cc7bdcfc3bffcf5658cda3cdac7. \n",
    "applibs": "Its not fixed!!! I download invoice-ninja today (2019-01-23), used composer and got the same error.\n```\n - Installing alfaproject/omnipay-neteller (dev-master e2b9129): Downloading (failed)    Failed to download alfaproject/omnipay-neteller from dist: The \"https://api.github.com/repos/alfaproject/omnipay-neteller/zipball/e2b9129936cf45bf10e0dd406f897d2852e3d567\" file could not be downloaded (HTTP/1.1 404 Not Found)\n    Now trying to download from source\n  - Installing alfaproject/omnipay-neteller (dev-master e2b9129): Cloning e2b9129936\n[RuntimeException]\n  Failed to clone https://github.com/alfaproject/omnipay-neteller.git via https, ssh protocols, aborting.\n  - https://github.com/alfaproject/omnipay-neteller.git\n    Cloning into 'C:\\xampp\\htdocs\\invoiceninja\\vendor\\alfaproject\\omnipay-neteller'...\n    remote: Repository not found.\n    fatal: repository 'https://github.com/alfaproject/omnipay-neteller.git/' not found\n  - git@github.com:alfaproject/omnipay-neteller.git\n    Cloning into 'C:\\xampp\\htdocs\\invoiceninja\\vendor\\alfaproject\\omnipay-neteller'...\n    Host key verification failed.\n    fatal: Could not read from remote repository.\nPlease make sure you have the correct access rights\nand the repository exists.\n\n```. I used ninja-v4.5.9.zip which has everithing included, but after install I have this error:\nThe requested URL /login was not found on this server.\nOh my god what is wrong? Is this repo wokrs ?. ",
    "hamidyfine": "\nSettings > Localization\n\nThanks for your reply.\nCan't change it from the code?. ",
    "mathoebinger": "Hi, the value adds days to the current date, and even if this leads to the date going over the month threshold into the next month or even year, the returned month / year will be correct for that date. At least that is the idea.. Ok, so this will only be reflected in v2?\nI actually did the fix because I asked your support whether this could be\nadded before v2 comes out, and they suggested I do a pull request.\nI consider it kind of a bugfix, because recurring invoices don't work\ncorrectly without it for me.\n-- \nShapeDiver GmbH, Wattgasse 48, 1170 Wien, FN: 443255x, Handelsgericht Wien\n. ",
    "Matharnica": "the permissions is set on 755. access_dez.log\n. there is no error log, this is the only one I have. sorry my mistake, I had to enable the log files\nhere is one:\nphp-errors.log\n. downloaded from https://www.invoiceninja.org/ the 4.5.7 version\nwhere can I get the self-host zip\ndid I download the wrong version?. no\nI started a redownload and a re-upload to my webspace. now it works fine\nthanks for your help. ok thanks\nhow can I get it to work then?\nwhere do I have to copy the script out then? in which file? how must the file look like from the code?. I need only one install of the app, but I want to use the client portal.\nit was a try to add it to my main domain. whether it runs on the main domain or subdomain I do not care!\nI try both, but both do not work. the installation guide didn't work for me or I'm too stupid!\nthe installation is on a subdomain!\nwhere do I have to copy the script out then? in which file? how must the file look like from the code?. There I get the following error message:\nNot Found\nThe requested URL /client/login was not found on this server.. behind the URL is a question mark with the info: copy the script!\nI did not know where to copy it!. sorry for my stupid questions. ah ok\nbefore I did that, it did not work! then I tried that with the index file in the hope that it works, but it does not! everything is back as before and it still does not work.. I send a link to you! have you receive it?. I do that\nsend you again an e-mail. now it works\nthank you\ni deleted the invoices. Sorry for the big picture. Yeah thanks\nThat work\nThanks for your fast help!. ",
    "sdenike": "@hillelcoren Thanks for the info on this, and by no means was I shaming you on Twitter, simply stating that I couldn't find the info and was a bit lacking. Sorry if it came off rude etc.. @hillelcoren I totally missed that, glad it was not a bug of any sorts. Thanks again!. ",
    "manuelgrabowski": "Hi there,\nI'm having some troubles getting something to work via the API as well, and I'm not 100% sure if it's not supported or if I'm just not reading/interpreting the documentation correctly. I'm absolutely willing to create a PR with some updates to the docs if I can figure it out with some hints here. :)\nWhat I'm trying to achieve is to retrieve a list of all unpaid invoices. When I tested this, I simply used the call that's mentioned in the docs: curl -X GET ninja.test/api/v1/invoices -H \"X-Ninja-Token: TOKEN\"\nThen I iterated over them and checked their state and only used the ones I wanted. Worked well enough. However with \"production data\" I quickly found out that this approach won't work because of the amount of invoices. I could either increase the amount per page or get multiple pages, but that's quite inefficient.\nIdeally, I could simply tell the API that I only want invoices with a certain status. I tried using the approach that is mentioned in the docs (\"You can search clients by their email address or id number and invoices by their invoice number.\"), however it seems that it is not possible to filter by arbitrary fields but only by those specific criteria mentioned in that sentence. Is that correct or did I just not do it right?\nAnother thing that would help solve my problem would be a way to tell the API how to sort my data. Getting only 50 invoices per page would easily be enough if they were ordered by date from newest to oldest. However I also could not find out a way to achieve this. I guess using the updated_at-filter comes close to that and might also be a sufficient \"hack\" to achieve my goal, but I think a way to properly sort the data would be very helpful.\nI've actually checked the InvoiceApiController and only found one instance of orderBy which is the default, so I suppose that is not currently supported, right?\nHowever, I've also seen that filtering by status is supported, I just could not figure out that the parameter is called status_id instead of invoice_status_id. \ud83d\ude05 \nI just opened #2627 with an update to the docs specifying what I found out in the code. Hope that helps a bit, and I also hope none of what I wrote sounded demanding or complaining in any way. \ud83d\ude42\n. Got it, my bad. I used the \"wrong\" id \u2013 1 is a recurring invoice, the first \"normal\" invoice has id 2 and using that id results in a successful API call. Didn't think they'd be in the same table I guess, or expected a more specific error message.. ",
    "taibhse-designs": "this would be very much appreciated to have, I've started compiling a list of variables for use, but only have the following,  \n$account = Taibhse Designs\n$client = full client name\n$amount = full costs\n$balance: The remaining balance\n$balance and $amount are only different if a value is set for the partial/deposit field\n$total: The invoice total\n$viewLink = client portal\n$number = invoice or quote name / number\n$firstName = client first name\nAny idea what files to look in that would give insight as to whats available for use??. Thats unfortunate, Ive been trying to setup for the last week and cant get anything working online, I can get it working and installed under WAMP on windows on a machine in office, but no matter what I do there, I cant get PhantomJs to work, its failing to make invoice and quote pdfs to send to my clients, so I was hoping hosting it, the client portal could atleast work, \nIs there any instructions then for getting PhantomJs working for this project under windows? Ive gotten PhantomJs unzipped to a folder under C:, added the exe to the .env file, it has its secret key, even trying the PhantomJs cloud with the api key is failing to make pdf files, so its all leaving me with no way to use this lovely software to send anything actually out to clients, . Thats unfortunate, Im following up with my host company then to see can I get a cloud vm solution as I love the UI and functions Invoice Ninja offer and its open source nature, still currently evaluating it for business use with my start up, though just running through some bugs at the moment,\nNamely, Proc_open online and for an offline use being unable to produce pdfs using PhantomJs and some issues with images and logos not loading, (404) due to their urls in code seeming to have public/index.php/logo/logoname.png instead of public/logo/logoname.png\n. Ok, I may have found a work around to get Invoice Ninja working on self hosted sites with proc_open disabled, seems a fresh install created on a local machine can be pushed via ftp to the site online, create and sql database local too and enter all the details you, back this up and import it to your online site, then update your .env file to reflect the online url and sql settings and such, seems to run fine. My last and only issue now seems to be emails bouncing back with a 550 warning that they are being detected as spam. Hopefully my host can solve this.. I sort of expected that, but I'm guessing a work around may be to backup the online database and env file, update and then reimport the database and reupload the backed up env file, or do an offline update on a local copy then push that online and reimport the database.. I've contacted my hosting company as well in case it was an issue with that too, being novice at this side of stuff, it was hard to gauge if it related to invoice ninja or my hosting. \n. it may be enabled but its giving issues in stating its currently not signed, . ",
    "talheim-it": "@hillelcoren any news on adding the feature as option to the interface?. ",
    "kettani86": "HTTPS is mandatory ?\nThe App is HTTP only. HTTPS is mandatory ?\nThe App is HTTP only. how can I disable it especially that it is the setup page (I am installing invoice ninja)\non the apache side, it is not activated on the virtual host. how can I disable it especially that it is the setup page (I am installing invoice ninja)\non the apache side, it is not activated on the virtual host. Here is my .env\nAPP_ENV=production\nAPP_DEBUG=true\nAPP_URL=http://*\nAPP_KEY=base64:*=\nAPP_CIPHER=AES-256-CBC\nAPP_LOCALE=en\nDB_TYPE=mysql\nDB_STRICT=false\nDB_HOST=\nDB_DATABASE=\nDB_USERNAME=\nDB_PASSWORD=*\nMAIL_DRIVER=smtp\nMAIL_PORT=25\nMAIL_ENCRYPTION=\nAIL_HOST=\nMAIL_USERNAME=\nMAIL_FROM_NAME='**'\nMAIL_FROM_ADDRESS=*\nMAILGUN_DOMAIN=\nMAILGUN_SECRET=\nPHANTOMJS_CLOUD_KEY=\nLOG=single\nREQUIRE_HTTPS=false\nAPI_SECRET=password\nGOOGLE_MAPS_ENABLED=true\nREMEMBER_ME_ENABLED=true\nWEPAY_CLIENT_ID=\nWEPAY_CLIENT_SECRET=\nWEPAY_ENVIRONMENT=production\nWEPAY_AUTO_UPDATE=true\nWEPAY_FEE_PAYER=payee\nWEPAY_APP_FEE_CC_MULTIPLIER=0\nWEPAY_APP_FEE_ACH_MULTIPLIER=0\nWEPAY_APP_FEE_FIXED=0\nWEPAY_THEME='{\"name\":\"Invoice Ninja\",\"primary_color\":\"0b4d78\",\"secondary_color\":\"0b4d78\",\"background_color\":\"f8f8f8\",\"button_color\":\"33b753\"}'\nBLUEVINE_PARTNER_UNIQUE_ID=\nBLUEVINE_PARTNER_TOKEN=\nCLOUDFLARE_DNS_ENABLED=false\nCLOUDFLARE_API_KEY=\nCLOUDFLARE_EMAIL=\nCLOUDFLARE_TARGET_IP_ADDRESS=\nCLOUDFLARE_ZONE_IDS={}\n. Here is my .env\nAPP_ENV=production\nAPP_DEBUG=true\nAPP_URL=http://\nAPP_KEY=base64:*=\nAPP_CIPHER=AES-256-CBC\nAPP_LOCALE=en\nDB_TYPE=mysql\nDB_STRICT=false\nDB_HOST=*\nDB_DATABASE=*\nDB_USERNAME=\nDB_PASSWORD=*\nMAIL_DRIVER=smtp\nMAIL_PORT=25\nMAIL_ENCRYPTION=\nAIL_HOST=\nMAIL_USERNAME=\nMAIL_FROM_NAME='**'\nMAIL_FROM_ADDRESS=*\nMAILGUN_DOMAIN=\nMAILGUN_SECRET=\nPHANTOMJS_CLOUD_KEY=*\nLOG=single\nREQUIRE_HTTPS=false\nAPI_SECRET=password\nGOOGLE_MAPS_ENABLED=true\nREMEMBER_ME_ENABLED=true\nWEPAY_CLIENT_ID=\nWEPAY_CLIENT_SECRET=\nWEPAY_ENVIRONMENT=production\nWEPAY_AUTO_UPDATE=true\nWEPAY_FEE_PAYER=payee\nWEPAY_APP_FEE_CC_MULTIPLIER=0\nWEPAY_APP_FEE_ACH_MULTIPLIER=0\nWEPAY_APP_FEE_FIXED=0\nWEPAY_THEME='{\"name\":\"Invoice Ninja\",\"primary_color\":\"0b4d78\",\"secondary_color\":\"0b4d78\",\"background_color\":\"f8f8f8\",\"button_color\":\"33b753\"}'\nBLUEVINE_PARTNER_UNIQUE_ID=\nBLUEVINE_PARTNER_TOKEN=\nCLOUDFLARE_DNS_ENABLED=false\nCLOUDFLARE_API_KEY=\nCLOUDFLARE_EMAIL=\nCLOUDFLARE_TARGET_IP_ADDRESS=\nCLOUDFLARE_ZONE_IDS={}\n. That was my first thought but then I saw the mod_rewrite log (better view here : https://pastebin.com/raw/Z0L7xNRh ) :\nNOTE : POST From Browser\n[SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] init rewrite engine with requested uri /public/setup\n[Sat Jan 05 17:40:51.693376 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] pass through /public/setup\n[Sat Jan 05 17:40:51.717170 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/setup -> setup\n[Sat Jan 05 17:40:51.717201 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] applying pattern '^(.)/$' to uri 'setup'\n[Sat Jan 05 17:40:51.717208 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/setup -> setup\n[Sat Jan 05 17:40:51.717213 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] applying pattern '^' to uri 'setup'\n[Sat Jan 05 17:40:51.717225 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] rewrite 'setup' -> 'index.php'\n[Sat Jan 05 17:40:51.717231 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] add per-dir prefix: index.php -> /websites/SITEURL/public/index.php\n[Sat Jan 05 17:40:51.717238 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] strip document_root prefix: /websites/SITEURL/public/index.php -> /public/index.php\n[Sat Jan 05 17:40:51.717243 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] internal redirect with /public/index.php [INTERNAL REDIRECT]\n[Sat Jan 05 17:40:51.717308 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] init rewrite engine with requested uri /public/index.php\n[Sat Jan 05 17:40:51.717315 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] pass through /public/index.php\n[Sat Jan 05 17:40:51.717742 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/index.php -> index.php\n[Sat Jan 05 17:40:51.717755 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] applying pattern '^(.)/$' to uri 'index.php'\n[Sat Jan 05 17:40:51.717760 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/index.php -> index.php\n[Sat Jan 05 17:40:51.717764 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] applying pattern '^' to uri 'index.php'\n[Sat Jan 05 17:40:51.717778 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/index.php -> index.php\n[Sat Jan 05 17:40:51.717783 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] applying pattern '.*' to uri 'index.php'\n[Sat Jan 05 17:40:51.717790 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] pass through /websites/SITEURL/public/index.php\nGET From Browser\n[Sat Jan 05 17:40:52.023521 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d80a0/initial] init rewrite engine with requested uri /public\n[Sat Jan 05 17:40:52.023658 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d80a0/initial] pass through /public\n[Sat Jan 05 17:40:52.028059 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97ce0a0/initial] init rewrite engine with requested uri /public/\n[Sat Jan 05 17:40:52.028099 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97ce0a0/initial] pass through /public/\n. That was my first thought but then I saw the mod_rewrite log (better view here : https://pastebin.com/raw/Z0L7xNRh ) :\nNOTE : POST From Browser\n[SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] init rewrite engine with requested uri /public/setup\n[Sat Jan 05 17:40:51.693376 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] pass through /public/setup\n[Sat Jan 05 17:40:51.717170 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/setup -> setup\n[Sat Jan 05 17:40:51.717201 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] applying pattern '^(.)/$' to uri 'setup'\n[Sat Jan 05 17:40:51.717208 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/setup -> setup\n[Sat Jan 05 17:40:51.717213 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] applying pattern '^' to uri 'setup'\n[Sat Jan 05 17:40:51.717225 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] rewrite 'setup' -> 'index.php'\n[Sat Jan 05 17:40:51.717231 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] add per-dir prefix: index.php -> /websites/SITEURL/public/index.php\n[Sat Jan 05 17:40:51.717238 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] strip document_root prefix: /websites/SITEURL/public/index.php -> /public/index.php\n[Sat Jan 05 17:40:51.717243 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d00a0/initial] [perdir /websites/SITEURL/public/] internal redirect with /public/index.php [INTERNAL REDIRECT]\n[Sat Jan 05 17:40:51.717308 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] init rewrite engine with requested uri /public/index.php\n[Sat Jan 05 17:40:51.717315 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] pass through /public/index.php\n[Sat Jan 05 17:40:51.717742 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/index.php -> index.php\n[Sat Jan 05 17:40:51.717755 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] applying pattern '^(.)/$' to uri 'index.php'\n[Sat Jan 05 17:40:51.717760 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/index.php -> index.php\n[Sat Jan 05 17:40:51.717764 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] applying pattern '^' to uri 'index.php'\n[Sat Jan 05 17:40:51.717778 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] strip per-dir prefix: /websites/SITEURL/public/index.php -> index.php\n[Sat Jan 05 17:40:51.717783 2019] [rewrite:trace3] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] applying pattern '.*' to uri 'index.php'\n[Sat Jan 05 17:40:51.717790 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97c45c0/initial/redir#1] [perdir /websites/SITEURL/public/] pass through /websites/SITEURL/public/index.php\nGET From Browser\n[Sat Jan 05 17:40:52.023521 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d80a0/initial] init rewrite engine with requested uri /public\n[Sat Jan 05 17:40:52.023658 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97d80a0/initial] pass through /public\n[Sat Jan 05 17:40:52.028059 2019] [rewrite:trace2] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97ce0a0/initial] init rewrite engine with requested uri /public/\n[Sat Jan 05 17:40:52.028099 2019] [rewrite:trace1] [pid 7647] mod_rewrite.c(477): [client 10.IP.1.:24791] 10.IP.1. - - [SITEURL/sid#7f84c97fab28][rid#7f84c97ce0a0/initial] pass through /public/\n. I found the problem, I debugged and I found that it comes from this function\n    public function handle($request, Closure $next)\n    {\n    if (\n        $this->isReading($request) ||\n        $this->runningUnitTests() ||\n        $this->inExceptArray($request) ||\n        $this->tokensMatch($request)\n    ) {\n        return $this->addCookieToResponse($request, $next($request));\n    }\n\n    throw new TokenMismatchException;\n}\n\nthe function is in this file: vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken.php\nall the tests comes with false, so there are an exception that is fired and therefore a redirection to HTTP GET /\nI bypassed this function and it works now :)\nthanks\n. I found the problem, I debugged and I found that it comes from this function\n    public function handle($request, Closure $next)\n    {\n    if (\n        $this->isReading($request) ||\n        $this->runningUnitTests() ||\n        $this->inExceptArray($request) ||\n        $this->tokensMatch($request)\n    ) {\n        return $this->addCookieToResponse($request, $next($request));\n    }\n\n    throw new TokenMismatchException;\n}\n\nthe function is in this file: vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Http\\Middleware\\VerifyCsrfToken.php\nall the tests comes with false, so there are an exception that is fired and therefore a redirection to HTTP GET /\nI bypassed this function and it works now :)\nthanks\n. ",
    "captainjoh": "Thanks for your quick support! It works now again. Thanks for your quick support! It works now again. Perhaps I have to specify my problem more: The reason for separation of database was that you cannot restrict access for users to another company profile. Because my father shouldn't see my invoices and I don't want his profile in my view. And also separate backups could be realized. Don't want to resell it. But I seems to be that I need to run two instances? . Perhaps I have to specify my problem more: The reason for separation of database was that you cannot restrict access for users to another company profile. Because my father shouldn't see my invoices and I don't want his profile in my view. And also separate backups could be realized. Don't want to resell it. But I seems to be that I need to run two instances? . Okay, that means yes for me, because I mainly want to restrict access between companies. \nShould there a feature request created or is this already done?\nBut I think this issue could be closed anyway. . Okay, that means yes for me, because I mainly want to restrict access between companies. \nShould there a feature request created or is this already done?\nBut I think this issue could be closed anyway. . For me it seems to be a wrong character encoding. For localization \" DE\"  UTF8 must be implemented I think.. ",
    "tidalgo22": "@hillelcoren Thanks, Done removing the code that clears the gateway fee when cancelling checkout. \nI added a new fix for the pay now dropdown. . @hillelcoren Thanks, Done removing the code that clears the gateway fee when cancelling checkout. \nI added a new fix for the pay now dropdown. . ",
    "assie333": "just updated to the latest version 4.5.8\nOnly happens when trying to  export to pdf\nThis site can\u2019t be reached The webpage at https://example.com/public/reports might be temporarily down or it may have moved permanently to a new web address.\nERR_INVALID_RESPONSE\nCheck the error logs found the following, hopefully it will help\n\n[27-Nov-2018 23:30:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[27-Nov-2018 23:30:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[27-Nov-2018 23:30:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[27-Nov-2018 23:30:13 UTC] PHP Fatal error:  Interface 'JsonSerializable' not found in /home/acetechc/invoice.ace-tech.co.za/vendor/laravel/framework/src/Illuminate/Support/Collection.php on line 17\n[30-Nov-2018 08:24:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[30-Nov-2018 08:24:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[30-Nov-2018 08:24:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[30-Nov-2018 08:24:13 UTC] PHP Fatal error:  Interface 'JsonSerializable' not found in /home/acetechc/billing.ace-tech.co.za/vendor/laravel/framework/src/Illuminate/Support/Collection.php on line 17\n. just updated to the latest version 4.5.8\nOnly happens when trying to  export to pdf\nThis site can\u2019t be reached The webpage at https://example.com/public/reports might be temporarily down or it may have moved permanently to a new web address.\nERR_INVALID_RESPONSE\nCheck the error logs found the following, hopefully it will help\n\n[27-Nov-2018 23:30:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[27-Nov-2018 23:30:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[27-Nov-2018 23:30:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[27-Nov-2018 23:30:13 UTC] PHP Fatal error:  Interface 'JsonSerializable' not found in /home/acetechc/invoice.ace-tech.co.za/vendor/laravel/framework/src/Illuminate/Support/Collection.php on line 17\n[30-Nov-2018 08:24:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[30-Nov-2018 08:24:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[30-Nov-2018 08:24:02 UTC] PHP Warning:  PHP Startup: Unable to load dynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' - /opt/alt/php71/usr/lib64/php/modules/i360.so: cannot open shared object file: No such file or directory in Unknown on line 0\n[30-Nov-2018 08:24:13 UTC] PHP Fatal error:  Interface 'JsonSerializable' not found in /home/acetechc/billing.ace-tech.co.za/vendor/laravel/framework/src/Illuminate/Support/Collection.php on line 17\n. Hi ,\nI used Softaculous to do the update. Hi ,\nI used Softaculous to do the update. thanks. thanks. Did a clean installation as well default installation being 4.5.8 on Softaculous. Did a clean installation as well default installation being 4.5.8 on Softaculous. Thanks will test a bit later and update the ticket\nOn Fri, 11 Jan 2019 at 15:37, David Bomba notifications@github.com wrote:\n\nThe error here is very specific:\n[27-Nov-2018 23:30:02 UTC] PHP Warning: PHP Startup: Unable to load\ndynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' -\n/opt/alt/php71/usr/lib64/php/modules/i360.so:\nyou need to enable the module i360 with your hosting company.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2594#issuecomment-453518811,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AaqGXZ5rW2kTJnsfVp4yzP4AayjLjXdxks5vCJOhgaJpZM4Z5IUK\n.\n\n\n-- \nKind Regards\nAslam\n. Thanks will test a bit later and update the ticket\nOn Fri, 11 Jan 2019 at 15:37, David Bomba notifications@github.com wrote:\n\nThe error here is very specific:\n[27-Nov-2018 23:30:02 UTC] PHP Warning: PHP Startup: Unable to load\ndynamic library '/opt/alt/php71/usr/lib64/php/modules/i360.so' -\n/opt/alt/php71/usr/lib64/php/modules/i360.so:\nyou need to enable the module i360 with your hosting company.\n\u2014\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub\nhttps://github.com/invoiceninja/invoiceninja/issues/2594#issuecomment-453518811,\nor mute the thread\nhttps://github.com/notifications/unsubscribe-auth/AaqGXZ5rW2kTJnsfVp4yzP4AayjLjXdxks5vCJOhgaJpZM4Z5IUK\n.\n\n\n-- \nKind Regards\nAslam\n. @turbo124  please close this question, \nupdated the php version on the hosting package , i360 was enabled and restarted apache and it worked.\nWas set to older version where the i360 module was not enabled.\nThank you very much for the quick reply.\nonly saw now that I could close ... thanks @hillelcoren will test. var dd = {\n  content: [\n    { qr: 'test text' }, -- change to image?\n  ]\n};. added the following:\n    {\n            image:\"6cMfy7dm.png\",\n            fit: [100, 100],\n            pageBreak: \"after\"\n        },\nGet the following error : Uncaught Error: Parse error on line 94: ...} {    image:\"6cMfy7dm --------------------^ Expecting 'EOF', '}', ',', ']', got '{'. sorry for all the questions a bit of noob.\nvar dd = {\ncontent: [\n{ qr: '6cMfy7dm' }, -- my code that I got\n]\n};\nError : Uncaught Error: Parse error on line 105: ...Documents\" } ]var dd = {\"content\" -------------------^ Expecting 'EOF', '}', ',', ']', got 'undefined'. ok got the code to work, using http://pdfmake.org/playground.html\nthan you sir @hillelcoren \nsaw my error in my ways.\nvar dd =... shouldn't be in the invoice design. --> where can I add the code \nvar dd = {\ncontent: [\n{ qr: '6cMfy7dm',\n}\n]\n}\n. I will figure it out, thank you @hillelcoren  . ok @hillelcoren  so i know what to do with    \"qr\":\"6cMfy7dm\"\nI have removed everything in content then I can see the code being generated\n\n[\n  { \"qr\": \"6cMfy7dm\"} \n  ]\nI also figure out the format the code needs to be in \"qr\": \"6cMfy7dm\"\nI have tried putting in every where in the content code page but it does not display.\nAny ideas as to what I am doing wrong. yep figure that too, example below as to what you meant. if I am understanding correctly\n    \"style\": \"invoiceDocuments\",\n    \"qr\": \"6cMfy7dm\". ok just need assistance with positioning the code, would you be able to point me in the direction\n. would I need to something like :\nhttps://github.com/invoiceninja/invoiceninja/issues/2115\n?\nCreate a column and width etc?. awesome will try that out, sorry for all the dumb questions, slowly learning the system much appreciated for the guidance @hillelcoren . ",
    "bprfh": "Thanks for the quick response !\nI don't think I understand what you mean.\nIf I want retract an Invoice this happens mostly because of the following reasons:\n1. I wrote the wrong invoice Date\n2. The client wants the invoice to be splitted in multiple parts\n3. I forgot to spellcheck :/\nSo the invoice will never really be paid and there is no need to play around with the credits. I think it would be even more confusing, if for each retraction there would be a credit issued.\nI think the best in such a case would be, that for the rest of the System the invoice was never issued,\nbut if you view the client or the invoice itself, you have an invoice with a red \"retracted\" in the pdf and you can't change anything anymore.\nThe invoice number can still be used elsewhere and the balance is the same as before.\nI think the best would be to use a function similar to \"delete\":\nBasically instead of showing the invoice as deleted, we would have to:\n\nIntroduce a new state \"retracted\" for invoices\nSubstract the amount of the invoice from the balances\nShow a new activity \"invoice 23  retracted\"\nAllow the invoice number to be used again, if there isn't already an invoice with an higher number      issued(not a must, but would be cool)\n\nDoes that sound like a good idea?. Yes the delete function basically fullfills the retract function. \nFor me the delete function is just not verbose enough. Maybe just add a \"reason\" to the delete function?\nOtherwise it would also be great to just simple reference Invoices as replacements, but that would be more work...\nAs far as I understood the law in my country, you can reuse the invoice number, as long as you clearly state that there where changes. For example if you missspelled the name of the client, as long as you reissue the Invoice with the notice that it was changed, there should not be any problems.\nBut yes, in the future I will follow your example :). Just wanted to add, delete logged the invoice as deleted and the number as used, even when the invoice was still in the drafting stage, which imho should not be happening.. ",
    "davidtessier": "\nresources/views/master.blade.php\n\nThank you kindly!. ",
    "kidjake28": "I'm actually not sure how to upgrade PHP version.\nI'm currently on Debian 9, PHP version 7.0.\nNot sure if I can just apt-get install (latest version of php)\n. Well so you hit the nail on the head once again. Looking at the error log shows that PHP ZipArchive was not loaded. \nOnce I did that Export to XLS worked. \nNow mind you the installation instructions for Ninja don't include php ziparchive (unless I'm mistaken). If that is the case you may want to include that.\n. Yes exactly.\nGlad I could help.. ",
    "sublimity314": "Hello Hillel,\nThanks for a quick response. I added a currency line the texts.php file and same result. Even after flushing cache. \nThat makes sense to having the currency added by you. \nHere is the information that I assume you will need\nCountry == Bolivia\nCurrency == Boliviano\nCurrency Code == BOB\nCurrency Symbol == Bs\n$1,000 == Bs1,000.00\nIf this request needs to be elsewhere, please let me know and I will create \nSincerely appreciate it. . Hello Hillel,\nSincerely appreciate it.  Sounds like a plan!  I will be on the look out for it. . ",
    "codecov-io": "Codecov Report\n\nMerging #2631 into v5.0 will decrease coverage by 0.21%.\nThe diff coverage is 0%.\n\n\n```diff\n@@            Coverage Diff            @@\nv5.0   #2631      +/-\n=========================================\n- Coverage     5.1%   4.88%   -0.22%   \n- Complexity    152     154       +2   \n=========================================\n  Files          29      31       +2   \n  Lines         470     491      +21   \n=========================================\n  Hits           24      24            \n- Misses        446     467      +21\n```\n| Impacted Files | Coverage \u0394 | Complexity \u0394 | |\n|---|---|---|---|\n| app/Datatables/ClientDatatable.php | 0% <\u00f8> (\u00f8) | 10 <0> (\u00f8) | :arrow_down: |\n| app/Utils/Traits/UserSettings.php | 0% <\u00f8> (\u00f8) | 2 <0> (\u00f8) | :arrow_down: |\n| app/Datatables/MakesActionMenu.php | 0% <\u00f8> (\u00f8) | 7 <0> (\u00f8) | :arrow_down: |\n| app/Filters/QueryFilters.php | 0% <\u00f8> (\u00f8) | 13 <0> (\u00f8) | :arrow_down: |\n| app/DataMapper/DefaultSettings.php | 100% <\u00f8> (\u00f8) | 2 <0> (\u00f8) | :arrow_down: |\n| app/Repositories/ClientContactRepository.php | 0% <\u00f8> (\u00f8) | 1 <0> (\u00f8) | :arrow_down: |\n| app/Utils/Traits/UserSessionAttributes.php | 0% <\u00f8> (\u00f8) | 2 <0> (\u00f8) | :arrow_down: |\n| app/Events/User/UserCreated.php | 0% <\u00f8> (\u00f8) | 2 <0> (\u00f8) | :arrow_down: |\n| app/Repositories/ClientRepository.php | 0% <\u00f8> (\u00f8) | 3 <0> (\u00f8) | :arrow_down: |\n| app/Utils/Traits/MakesHeaderData.php | 0% <\u00f8> (\u00f8) | 1 <0> (\u00f8) | :arrow_down: |\n| ... and 10 more | |\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update 5fe88f5...7484094. Read the comment docs.\n. # Codecov Report\nMerging #2634 into v5.0 will not change coverage.\nThe diff coverage is n/a.\n\n\n```diff\n@@           Coverage Diff           @@\nv5.0   #2634   +/-\n=======================================\n  Coverage     4.88%   4.88%         \n  Complexity     154     154         \n=======================================\n  Files           31      31         \n  Lines          491     491         \n=======================================\n  Hits            24      24         \n  Misses         467     467\n```\n\nContinue to review full report at Codecov.\n\nLegend - Click here to learn more\n\u0394 = absolute <relative> (impact), \u00f8 = not affected, ? = missing data\nPowered by Codecov. Last update a7e557c...a7e557c. Read the comment docs.\n. \n",
    "rpbx": "Hello,\nThis is a great feature. Maybe we can add a commission option on to that. Commission percentage will be set in the account managers profile and will be calculated from the Invoice total.. I saw the same thing at one of my clients. I am not sure though as to how this happens. I did not think much of it at the time, so I didn't investigate.. Please correct me if I am wrong, but this seems like a duplicate of #2719 @hillelcoren . ",
    "CarrnellTech": "I have a feeling that this may be related to the issue i just opened as well. #2678. Yes, we are making changes to the invoice through the UI. Also note, that it will make a duplicate when we hit the save button even if nothing on the invoice was changed.. - Does the problem affect just some invoices or all invoices?\n  - We have identified after testing several that it appears to affect everyone. We did however find one that it doesn't affect.\n- Does using a different browser affect it?\n  - No, We use primarily chrome. Opening Firefox did not change the results.. You got it, Please bare with us as this might take about a day. We upgrade using a development site first so we can test for stability before production takes over.. The update process for us went faster than expected. We copied the server instance to the development site and immediately updated to the latest version using the script suggested in the documentation. (We also, for an added measure re-run the /update just in case.) However, this does not change the problem. Went into an invoice, clicked save, and it made another duplicated entry.\nVersion is now:\n* App Version: v4.5.10. Its okay, this seems to be a rather difficult one to track down. Hang in there! We'll get to the bottom of this!\nDiscovery!\nIt may be related to ACLs (User Management).\nWhen logging into an admin. The items de-duplicate.\nWhen logged into one of our users. The items duplicate.\nStill not sure why one of our clients is un-affected tho and everyone else is.\nSome food for thought:\n Does creating a client as an admin/user have issues if the other user/admin interact with it?\n Does creating an invoice as a user and applying payment as another user create the issue?\n Do the ACLs affect what is executed as far as SQL cleanup Queries?\n Do ACLs affect client portal entries when created?\n\n\nClick here to see normal user ACLs\nACL | Create | View | Edit\n-- | -- | -- | --\nClient | X | X | X\nCredit | \u00a0 | X | \u00a0\nExpense | \u00a0 | X | \u00a0\nInvoice | X | X | X \nPayment | \u00a0 | X | \u00a0\nProduct | X | X | X \nProject | X | X | X \nProposal | X | X | X \nQuote | X | X | X \nReports | X | X | X \nTask | X | X | X \nVendor | X | X | X \nRecurring_invoice | X | X | X \n\n. Click on the earlier message where i put: \"Click here to see normal user ACLs\"\n\nJust in case that doesn't work on your browser I'll post it here without the collapse-able tag.\nACL | Create | View | Edit\n-- | -- | -- | --\nClient | X | X | X\nCredit | \u00a0 | X | \u00a0\nExpense | \u00a0 | X | \u00a0\nInvoice | X | X | X \nPayment | \u00a0 | X | \u00a0\nProduct | X | X | X \nProject | X | X | X \nProposal | X | X | X \nQuote | X | X | X \nReports | X | X | X \nTask | X | X | X \nVendor | X | X | X \nRecurring_invoice | X | X | X . Most Excellent! Look forward to applying that update and giving it a test.\nYou bet! Let us know if you require anything else.. We will manually apply this soon and report back.. I am pleased to report that this has fixed this issue for us. \nFirst, we copied the entire file from the 27f0fb947436c045c63434e7f697634b98e7bef9 and overwrote the same file in our development server. We then logged into a normal user, clicked on a known duplicating invoice and hit save. Finally, went to the client portal and noticed that the entire stack of invoices was de-duplicated and that the situation is now resolved.\nWe will be updating our production to the latest version and patiently waiting for the new version to release this fix.\nI hope this was also the fix to the multiple email issue referenced earlier. We haven't checked for multiple emails, but, we haven't had any customers complain either.\n\nJust in case this was coincidental, if you need us to, we are willing to perform additional tests. If you believe this was a coincidence with any other possible issue, let us know and we would love to help further.\nThank you. ",
    "brackenhill-mob": "Correct, self hosted on v.4.5.9\nChanging this line makes no difference. I tried reinstalling again just to be sure.. That worked. But ...\nI may have found the original cause. I can't test this because, stupidly, I didn't take a DB backup before running the test you suggested.\nWhile deleting the deleted invoice in MariaDB I spotted that all my clients had the currency column set to NULL but the dummy Euro one to 3. I went back into IN and reset all the clients to GBP and now the column is correctly set to 2.\nCould that be a factor?\nAnd more importantly, should not IN set the currency column to the actual default currency rather than leaving it as NULL?\nHTH\nBTW are the dashboard amounts in IN web meant to be different from the App? The figures themselves are off slightly (but the outstanding is correct) and the date range differs by one day (start date different). No change when I align the dates. It's the active figure which is lower in the Android app than the online version\nShould I reset the currency column to NULL? It changed to 2 after I edited the clients in the online web app (not directly in MariaDB) hence thinking I might have found the issue.. No. The amount of difference doesn't equate to any invoice or combination of invoices.\nPoint taken about manual changes - it's why I normally take a backup so I can roll back. In a rush today and didn't. Mea culpa! But my cleanup was just removing the deleted invoice and associated item and the dummy client so 1 row in each of 3 tables so hopefully I've not broken anything. If you think I have I'll do a DB drop and recreate everything again which will be a PIA but my penance for stupidity!. Sorry for the late reply - was travelling yesterday .\nThanks for explaining the differences between the 2. I can verify that this is what I'm seeing.\nI'll happily ignore it from now on as all I care about is what's outstanding which both apps agree on :). ",
    "MeneDev": "Update: This is only true for the designer, the actual invoice shows \"Germany\" (where I would expect \"Deutschland\"). $account.country is empty in the designer and rendered as [object Object] in /invoices/1/edit. I currently use a template based on the Clean template. There was a \"stack\": \"$accountAddress\" in there which, to my understanding should render the country configured under /settings/company_details if Country is included under /settings/invoice_design#invoice_fields. This is currently not working, thus I changed the code to\n\"stack\": [\n    \"$accountAddress\",\n    \"Deutschland\"\n]\nAnd to that stack I have also added $account.country yielding the results described above.. Ok, actual invoice is correct!\nSo the behavior is:\n\nDesigner: not rendered\nPreview: rendered but not localized\nInvoice: rendered and localized\n\n(referring to \"stack\": \"$accountAddress\"). ",
    "iondive": "Yes, I was logged in. In a different browser the title simply is 'Client Portal' regardless which tab is selected.. Sorry to bother again, I just want to understand. The client is supposed to only see the title 'Client Portal' and not eg. 'Company | Invoice'? Where is the company title actually applied instead of 'InvoiceNinja' in a white labeled installation?. ",
    "tjmv": "Yeah that's fine. I'm just sharing the changes I made for myself and most of them probably won't impact the standard user and as a result I won't be checking for all the edge cases either.. The changes needed appear to be minimal so far. Of course it's always a bit of extra work and slightly slower than code specific to one database type, but in my opinion it's worth it -- at least for the self hosted instances that don't have a lot of users.\nThis issue only exists because it's listed as a requirement for making contributions via pull requests. I'm not really looking for full support either: Just being able to use the models and controllers without running into errors should be sufficient and honestly I don't mind if new features would only work with MySQL. Again, I'll be making the changes anyway as I prefer to use SQLite myself.. I've missed making the following fields nullable for the vendor table:\n- address1\n- address2\n- city\n- state\n- postal_code\n- work_phone\n- private_notes\n- website\nI'll probably add a mutation to the branch at a later point.. The window.onerror function has a call to it, which was defined before the function. For me it got triggered when start_of_week did not have a value (which led to some to invalid javascript code), but any javascript error should trigger it.\nIt's even recommended to put the tracking code in the head of the document (see e.g. https://stackoverflow.com/questions/3173571/should-i-put-the-google-analytics-js-in-the-head-or-at-the-end-of-body ), though I chose the easiest solution -- right before the function that needs it -- and didn't check for the most optimal place.. Oh right, I should've mentioned that. It's the develop branch.. Yes. There's just one user and it has admin rights.. I was curious and it's just two violations:\n- 911100 - PUT is not allowed. It's a valid HTTP method, so is it missing from your crs-setup.conf file?\n- 949110 - Paranoia level exceeded, triggered by the previous rule\n- 941120 - Has an issue with data stored in cookies\n- 980130 - Paranoia level exceeded, triggered by the previous rule\nThe first one is a configuration issue and the second one is because a substring in the session data matches a certain excluded value.. ",
    "masteradhoc": "+1. ",
    "zoltanlaczko": "the issue still exists. the same queries fails every day.. ",
    "mikhoul": "@hillelcoren commented on 27 f\u00e9vr. 2019 \u00e0 01:28 UTC\u22125:\n\nI'm sorry, I'm not sure I understand. Do you mean you \"can't\" close the popup?\n\nSorry for the mistake, Yes I can't close the popup. . I tried with IE and it is fine so I opened the console yesterday in chromium and dit not see anything unusual so I tried again but in a Incognito mode to remove any interference form extension and it worked fine :smile:  .\nSo it's a false flag, it's not a big issue but I will find later which extension is interfering with the popup.\nThanks for your fast reply. :octocat: . ",
    "dkrusky": "\nHave you used the following to work out your false positives?\nhttps://www.netnea.com/cms/apache-tutorial-8_handling-false-positives-modsecurity-core-rule-set/\n\nThere are other applications running on the server currently which do not have any false positives. The server is a fairly minimal apache2/php7.2-fpm configuration (less is more) so most of the suggestions on the checklist are already taken care of by default.\nIt is fairly obvious that these triggers are likely safe, however I bring this forward as an issue as there should not be anything triggering violations for a better consumer experience as delving into OWASP core rules is not something for the feint of heart.\nSome more specific details of the violation causes are as follows :\n[Tue Feb 26 08:28:46.998523 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/built.css\"] [unique_id \"XHT4vn8AAAEAAClEdysAAAAD\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.001275 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/built.css\"] [unique_id \"XHT4vn8AAAEAAClEdysAAAAD\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.001639 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/built.css\"] [unique_id \"XHT4vn8AAAEAAClEdysAAAAD\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.008033 2019] [:error] [pid 10564:tid 139912438089472] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/js/cookieconsent.min.js\"] [unique_id \"XHT4v38AAAEAAClEdy0AAAAJ\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.011893 2019] [:error] [pid 10564:tid 139912471660288] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/images/invoiceninja-logo.png\"] [unique_id \"XHT4v38AAAEAAClEdy4AAAAL\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.015982 2019] [:error] [pid 10564:tid 139912362555136] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/logo/jyewqa7sla6vowvjmjqblp7l2k3fdkgk.png\"] [unique_id \"XHT4v38AAAEAAClEdy8AAAAN\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.018319 2019] [:error] [pid 10564:tid 139912480052992] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/cookieconsent.min.css\"] [unique_id \"XHT4v38AAAEAAClEdywAAAAH\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.025077 2019] [:error] [pid 10564:tid 139912362555136] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/logo/jyewqa7sla6vowvjmjqblp7l2k3fdkgk.png\"] [unique_id \"XHT4v38AAAEAAClEdy8AAAAN\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.025241 2019] [:error] [pid 10564:tid 139912471660288] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/images/invoiceninja-logo.png\"] [unique_id \"XHT4v38AAAEAAClEdy4AAAAL\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.026469 2019] [:error] [pid 10564:tid 139912471660288] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/images/invoiceninja-logo.png\"] [unique_id \"XHT4v38AAAEAAClEdy4AAAAL\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.027908 2019] [:error] [pid 10564:tid 139912438089472] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/js/cookieconsent.min.js\"] [unique_id \"XHT4v38AAAEAAClEdy0AAAAJ\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.027951 2019] [:error] [pid 10564:tid 139912362555136] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/logo/jyewqa7sla6vowvjmjqblp7l2k3fdkgk.png\"] [unique_id \"XHT4v38AAAEAAClEdy8AAAAN\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.028865 2019] [:error] [pid 10564:tid 139912074405632] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/js/cookieconsent.min.js\"] [unique_id \"XHT4v38AAAEAAClEdy0AAAAJ\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.029344 2019] [:error] [pid 10564:tid 139912480052992] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/cookieconsent.min.css\"] [unique_id \"XHT4v38AAAEAAClEdywAAAAH\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.029788 2019] [:error] [pid 10564:tid 139912480052992] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/cookieconsent.min.css\"] [unique_id \"XHT4v38AAAEAAClEdywAAAAH\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.030970 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/built.js\"] [unique_id \"XHT4v38AAAEAAClEdzAAAAAF\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.033682 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/built.js\"] [unique_id \"XHT4v38AAAEAAClEdzAAAAAF\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.033932 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/built.js\"] [unique_id \"XHT4v38AAAEAAClEdzAAAAAF\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.106868 2019] [:error] [pid 10564:tid 139912480052992] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/js/cookieconsent.min.js\"] [unique_id \"XHT4v38AAAEAAClEdzEAAAAR\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.110837 2019] [:error] [pid 10564:tid 139912480052992] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/js/cookieconsent.min.js\"] [unique_id \"XHT4v38AAAEAAClEdzEAAAAR\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.111766 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/cookieconsent.min.css\"] [unique_id \"XHT4v38AAAEAAClEdzIAAAAP\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.113941 2019] [:error] [pid 10564:tid 139912480052992] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/js/cookieconsent.min.js\"] [unique_id \"XHT4v38AAAEAAClEdzEAAAAR\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.114961 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/cookieconsent.min.css\"] [unique_id \"XHT4v38AAAEAAClEdzIAAAAP\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:47.115190 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30838] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/css/cookieconsent.min.css\"] [unique_id \"XHT4v38AAAEAAClEdzIAAAAP\"], referer: https://mydomain.com/invoiceninja/public/projects/create\n[Tue Feb 26 08:28:53.759259 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30846] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/projects/create\"] [unique_id \"XHT4xX8AAAEAAClEdzQAAAAB\"], referer: https://mydomain.com/invoiceninja/public/projects\n[Tue Feb 26 08:28:53.761858 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30846] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/projects/create\"] [unique_id \"XHT4xX8AAAEAAClEdzQAAAAB\"], referer: https://mydomain.com/invoiceninja/public/projects\n[Tue Feb 26 08:28:53.762206 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30846] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/projects/create\"] [unique_id \"XHT4xX8AAAEAAClEdzQAAAAB\"], referer: https://mydomain.com/invoiceninja/public/projects\n[Tue Feb 26 08:29:01.902442 2019] [:error] [pid 10563:tid 139912379340544] [client 123.123.123.123:30854] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/projects\"] [unique_id \"XHT4zX8AAAEAAClDjlAAAAAB\"], referer: https://mydomain.com/invoiceninja/public/dashboard\n[Tue Feb 26 08:29:01.907039 2019] [:error] [pid 10563:tid 139912379340544] [client 123.123.123.123:30854] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/projects\"] [unique_id \"XHT4zX8AAAEAAClDjlAAAAAB\"], referer: https://mydomain.com/invoiceninja/public/dashboard\n[Tue Feb 26 08:29:01.907896 2019] [:error] [pid 10563:tid 139912379340544] [client 123.123.123.123:30854] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/projects\"] [unique_id \"XHT4zX8AAAEAAClDjlAAAAAB\"], referer: https://mydomain.com/invoiceninja/public/dashboard\n[Tue Feb 26 08:29:03.110345 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30855] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/dashboard\"] [unique_id \"XHT4z38AAAEAAClEdzcAAAAD\"], referer: https://mydomain.com/invoiceninja/public/login\n[Tue Feb 26 08:29:03.112984 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30855] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/dashboard\"] [unique_id \"XHT4z38AAAEAAClEdzcAAAAD\"], referer: https://mydomain.com/invoiceninja/public/login\n[Tue Feb 26 08:29:03.113354 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30855] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/dashboard\"] [unique_id \"XHT4z38AAAEAAClEdzcAAAAD\"], referer: https://mydomain.com/invoiceninja/public/login\n[Tue Feb 26 08:29:04.060025 2019] [:error] [pid 10563:tid 139912379340544] [client 123.123.123.123:30857] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/login\"] [unique_id \"XHT40H8AAAEAAClDjlIAAAAD\"]\n[Tue Feb 26 08:29:04.062847 2019] [:error] [pid 10563:tid 139912379340544] [client 123.123.123.123:30857] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/login\"] [unique_id \"XHT40H8AAAEAAClDjlIAAAAD\"]\n[Tue Feb 26 08:29:04.063162 2019] [:error] [pid 10563:tid 139912379340544] [client 123.123.123.123:30857] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/login\"] [unique_id \"XHT40H8AAAEAAClDjlIAAAAD\"]\n[Tue Feb 26 08:29:10.451137 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30864] [client 123.123.123.123] ModSecurity: Warning. Pattern match \"(?i)([\\\\\\\\s\\\\\"'`;\\\\\\\\/0-9\\\\\\\\=\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]+on\\\\\\\\w+[\\\\\\\\s\\\\\\\\x0B\\\\\\\\x09\\\\\\\\x0C\\\\\\\\x3B\\\\\\\\x2C\\\\\\\\x28\\\\\\\\x3B]*?=)\" at REQUEST_COOKIES:ninja_session. [file \"/usr/share/modsecurity-crs/rules/REQUEST-941-APPLICATION-ATTACK-XSS.conf\"] [line \"125\"] [id \"941120\"] [rev \"2\"] [msg \"XSS Filter - Category 2: Event Handler Vector\"] [data \"Matched Data: 9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ= found within REQUEST_COOKIES:ninja_session: eyJpdiI6InozSTY1UVdWMmtOWFlZYm54S3M0Smc9PSIsInZhbHVlIjoiT2p1USs1T1JZeFBGRFozdGJSY3RJTmhMWm9qdVB2UjlRR0cwSExscUdMXC9ONTA4WThBekI1XC8rWm1WOFZWajRcL1BLeWJHRzRtS0dlNkxvTDZpQ2E0OEE9PSIsIm1hYyI6IjRiODAyNjFlYTk0MWRjOTA1OWYxNTM3N2NlZDIyOWFhMDI5Y2U3NjI4NTVhY2MwZDgyNjdmOTA2ODc0M2FlNTEifQ==\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"4\"] [accuracy \"8\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-xss\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/\"] [unique_id \"XHT41n8AAAEAAClEdzgAAAAB\"]\n[Tue Feb 26 08:29:10.454187 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30864] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/\"] [unique_id \"XHT41n8AAAEAAClEdzgAAAAB\"]\n[Tue Feb 26 08:29:10.454540 2019] [:error] [pid 10564:tid 139912354162432] [client 123.123.123.123:30864] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=5,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): XSS Filter - Category 2: Event Handler Vector\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/\"] [unique_id \"XHT41n8AAAEAAClEdzgAAAAB\"]\n[Tue Feb 26 14:43:11.884665 2019] [:error] [pid 15061:tid 140019267512064] [client 123.123.123.123:30390] [client 123.123.123.123] ModSecurity: Warning. Match of \"within %{tx.allowed_methods}\" against \"REQUEST_METHOD\" required. [file \"/usr/share/modsecurity-crs/rules/REQUEST-911-METHOD-ENFORCEMENT.conf\"] [line \"49\"] [id \"911100\"] [rev \"2\"] [msg \"Method is not allowed by policy\"] [data \"PUT\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"9\"] [accuracy \"9\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [tag \"OWASP_CRS/POLICY/METHOD_NOT_ALLOWED\"] [tag \"WASCTC/WASC-15\"] [tag \"OWASP_TOP_10/A6\"] [tag \"OWASP_AppSensor/RE1\"] [tag \"PCI/12.1\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQf38AAAEAADrVYd8AAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:11.891427 2019] [:error] [pid 15061:tid 140019267512064] [client 123.123.123.123:30390] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQf38AAAEAADrVYd8AAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:11.891812 2019] [:error] [pid 15061:tid 140019267512064] [client 123.123.123.123:30390] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=0,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): Method is not allowed by policy\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQf38AAAEAADrVYd8AAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:30.074568 2019] [:error] [pid 15061:tid 140019267512064] [client 123.123.123.123:30411] [client 123.123.123.123] ModSecurity: Warning. Match of \"within %{tx.allowed_methods}\" against \"REQUEST_METHOD\" required. [file \"/usr/share/modsecurity-crs/rules/REQUEST-911-METHOD-ENFORCEMENT.conf\"] [line \"49\"] [id \"911100\"] [rev \"2\"] [msg \"Method is not allowed by policy\"] [data \"PUT\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"9\"] [accuracy \"9\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [tag \"OWASP_CRS/POLICY/METHOD_NOT_ALLOWED\"] [tag \"WASCTC/WASC-15\"] [tag \"OWASP_TOP_10/A6\"] [tag \"OWASP_AppSensor/RE1\"] [tag \"PCI/12.1\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQkn8AAAEAADrVYeAAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:30.080280 2019] [:error] [pid 15061:tid 140019267512064] [client 123.123.123.123:30411] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQkn8AAAEAADrVYeAAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:30.080641 2019] [:error] [pid 15061:tid 140019267512064] [client 123.123.123.123:30411] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=0,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): Method is not allowed by policy\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQkn8AAAEAADrVYeAAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:48.511002 2019] [:error] [pid 15062:tid 140019317868288] [client 123.123.123.123:30435] [client 123.123.123.123] ModSecurity: Warning. Match of \"within %{tx.allowed_methods}\" against \"REQUEST_METHOD\" required. [file \"/usr/share/modsecurity-crs/rules/REQUEST-911-METHOD-ENFORCEMENT.conf\"] [line \"49\"] [id \"911100\"] [rev \"2\"] [msg \"Method is not allowed by policy\"] [data \"PUT\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"9\"] [accuracy \"9\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [tag \"OWASP_CRS/POLICY/METHOD_NOT_ALLOWED\"] [tag \"WASCTC/WASC-15\"] [tag \"OWASP_TOP_10/A6\"] [tag \"OWASP_AppSensor/RE1\"] [tag \"PCI/12.1\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQpH8AAAEAADrWTrYAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:48.516957 2019] [:error] [pid 15062:tid 140019317868288] [client 123.123.123.123:30435] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQpH8AAAEAADrWTrYAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Tue Feb 26 14:43:48.517375 2019] [:error] [pid 15062:tid 140019317868288] [client 123.123.123.123:30435] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=0,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): Method is not allowed by policy\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/4\"] [unique_id \"XHVQpH8AAAEAADrWTrYAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Wed Feb 27 02:07:55.677247 2019] [:error] [pid 15061:tid 140019368224512] [client 123.123.123.123:4475] [client 123.123.123.123] ModSecurity: Warning. Match of \"within %{tx.allowed_methods}\" against \"REQUEST_METHOD\" required. [file \"/usr/share/modsecurity-crs/rules/REQUEST-911-METHOD-ENFORCEMENT.conf\"] [line \"49\"] [id \"911100\"] [rev \"2\"] [msg \"Method is not allowed by policy\"] [data \"PUT\"] [severity \"CRITICAL\"] [ver \"OWASP_CRS/3.0.0\"] [maturity \"9\"] [accuracy \"9\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [tag \"OWASP_CRS/POLICY/METHOD_NOT_ALLOWED\"] [tag \"WASCTC/WASC-15\"] [tag \"OWASP_TOP_10/A6\"] [tag \"OWASP_AppSensor/RE1\"] [tag \"PCI/12.1\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/5\"] [unique_id \"XHXw@38AAAEAADrVYtwAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Wed Feb 27 02:07:55.691316 2019] [:error] [pid 15061:tid 140019368224512] [client 123.123.123.123:4475] [client 123.123.123.123] ModSecurity: Access denied with code 403 (phase 2). Operator GE matched 5 at TX:anomaly_score. [file \"/usr/share/modsecurity-crs/rules/REQUEST-949-BLOCKING-EVALUATION.conf\"] [line \"57\"] [id \"949110\"] [msg \"Inbound Anomaly Score Exceeded (Total Score: 5)\"] [severity \"CRITICAL\"] [tag \"application-multi\"] [tag \"language-multi\"] [tag \"platform-multi\"] [tag \"attack-generic\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/5\"] [unique_id \"XHXw@38AAAEAADrVYtwAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\n[Wed Feb 27 02:07:55.691717 2019] [:error] [pid 15061:tid 140019368224512] [client 123.123.123.123:4475] [client 123.123.123.123] ModSecurity: Warning. Operator GE matched 5 at TX:inbound_anomaly_score. [file \"/usr/share/modsecurity-crs/rules/RESPONSE-980-CORRELATION.conf\"] [line \"73\"] [id \"980130\"] [msg \"Inbound Anomaly Score Exceeded (Total Inbound Score: 5 - SQLI=0,XSS=0,RFI=0,LFI=0,RCE=0,PHPI=0,HTTP=0,SESS=0): Method is not allowed by policy\"] [tag \"event-correlation\"] [hostname \"mydomain.com\"] [uri \"/invoiceninja/public/tasks/5\"] [unique_id \"XHXw@38AAAEAADrVYtwAAAAB\"], referer: https://mydomain.com/invoiceninja/public/time_tracker\nI am seeing some lines where the OWASP rule doesn't agree with the format of the cookie being created.  Maybe this could be addressed by using database for storage, or browser localstorage and setting a smaller cookie that references the information instead of having that much information stored in the cookie (Just throwing it out there) ?\n. I tried that, however I am unable to locate where the structure for the 'sessions' table is located, and the installer never created that table. It is also unclear as to what specifically I should set for the connection as the DB connection is coming from the .env file.. ",
    "clear-design": "I'd like to second the option for credit to be automatically applied to future invoices.. ",
    "PaulTECHCA": "I'd like to tag onto this because the code might work for both.  California does not allow charging a fee if someone uses a CC.  However, they do allow providing a Credit if they pay by check, debit or cash as long as it is offered to ALL clients.  It would be a great feature to have an option to set a \"credit or discount\" amount for paying by those methods.. ",
    "RCcola1987": "It happens every time even in a clean browser with no plugins. Also, it seems that approved quotes are also being marked as sent as well.. Why was this issue closed? It still has not been resolved!. OK then tell me what you need don't just close the ticket!?!. 1. Either have or create a draft invoice.\n2. reopen draft and edit and click \"Save Draft\"\n3. The Draft will change from Draft to Sent\nThis is on a Paid hosted invoiceninja.com account.. As of yesterday, I was able to consistently recreate the issue on 3 systems including 1 that was a brand new VM. But as of today, it is intermittent at best. I do not know if there has been an update pushed but something has changed. The issue can no longer be recreated consistently. will reopen when it can be.. ",
    "weissmike": "I've seen another solution accomplish this with a special subtotal line item.. ",
    "Kilian": "....yes, changing the image to fit the space would obviously work. But a much better solution would be for images-that-are-logo's to have their aspect ratio preserved, or (worst case) provide expected dimensions for the logo in the company details settings.. ",
    "spacepluk": "I'm using Invoice Ninja's docker images on Kubernetes along with docker-mailserver, so I don't think the localhost certificates are going to help.  I could use letsencrypt but I think there are a few use-cases where having the option to disable certificate verification would be a lot simpler.. I think it's already possible to do it in the library but I'm not sure how to apply that to Invoice Ninja.. That's perfect, thank you! :). ",
    "jeroentbt": "Furthermore, this invoice will only be sent via mail, and is not available on invoiceninja.... ",
    "greysteil": "This is the key change. Other changes are related to sub-dependencies.. "
}